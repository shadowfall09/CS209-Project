{"items":[{"tags":["java","swing","events","event-handling","jlist"],"answers":[{"tags":[],"owner":{"account_id":5331956,"reputation":6989,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1553069194,"creation_date":1443876369,"answer_id":32922742,"question_id":32922623,"body_markdown":"You need to add it to the JList object:\r\n\r\n    myJList.addListSelectionListener(new ListSelectionListener() {\r\n\r\n        @Override\r\n        public void valueChanged(ListSelectionEvent e) {\r\n            System.out.println(&quot;Hello you selected me!  &quot;\r\n                + dataList.getSelectedValue().toString());\r\n        }\r\n    });","title":"Java Swing How to detect a list selection event","body":"<p>You need to add it to the JList object:</p>\n\n<pre><code>myJList.addListSelectionListener(new ListSelectionListener() {\n\n    @Override\n    public void valueChanged(ListSelectionEvent e) {\n        System.out.println(\"Hello you selected me!  \"\n            + dataList.getSelectedValue().toString());\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":5383665,"reputation":924,"user_id":4288259,"accept_rate":100,"display_name":"Andrew Lalis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2566,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32922742,"answer_count":1,"score":4,"last_activity_date":1697738901,"creation_date":1443875675,"question_id":32922623,"body_markdown":"I&#39;m making a simple GUI where the user can select an item from a list of Strings using the `JList&lt;String&gt;` component, and I want my program to update a JTextField with some data describing the selected item. I know I need an event listener, but I&#39;m confused as to what I should use to detect a change in selection in my list.","title":"Java Swing How to detect a list selection event","body":"<p>I'm making a simple GUI where the user can select an item from a list of Strings using the <code>JList&lt;String&gt;</code> component, and I want my program to update a JTextField with some data describing the selected item. I know I need an event listener, but I'm confused as to what I should use to detect a change in selection in my list.</p>\n"},{"tags":["java","html","web","thymeleaf","html-lists"],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19357,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697738212,"creation_date":1697738212,"answer_id":77326113,"question_id":77320745,"body_markdown":"Use `th:start`, and calculate the start dynamically.\r\n\r\n    &lt;ol type=&quot;a&quot; th:start=&quot;${2 + #lists.size(parentChildMap)}&quot;&gt;","title":"Ordered list using thymeleaf loop not connected","body":"<p>Use <code>th:start</code>, and calculate the start dynamically.</p>\n<pre><code>&lt;ol type=&quot;a&quot; th:start=&quot;${2 + #lists.size(parentChildMap)}&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":19566599,"reputation":41,"user_id":14318604,"display_name":"Dean Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697738212,"creation_date":1697685265,"question_id":77320745,"body_markdown":"I&#39;m sorry if I have to be vague as I can&#39;t really show the clients requirement.\r\n\r\nI have a stacked ordered list, which shows details of the parent and child. Before the parent and child part, the first item and more item after the parent-child part is showing different details, but I have to put it in the same list. So what I&#39;m trying to achieve is:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/xQzWo.png)](https://i.stack.imgur.com/xQzWo.png)\r\n\r\nBut what I got:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/CCIlY.png)](https://i.stack.imgur.com/CCIlY.png)\r\n\r\n```\r\n&lt;ol type=&quot;a&quot;&gt;\r\n  &lt;li&gt;Coffee&lt;/li&gt; //item without child detail\r\n\r\n  &lt;span class=&quot;widget-has-slot&quot;&gt;{{the parent-child widget}}&lt;br /&gt;\r\n  &lt;pre&gt;\r\n &amp;lt;li th:each=&quot;parent : ${parentChildMap}&quot;&amp;gt; //parent\r\n\r\n   //parent detail\r\n\r\n  &amp;lt;ol&amp;gt;                                   //child list start\r\n   &amp;lt;li th:each=&quot;child : ${parent.value}&quot;&amp;gt; //child\r\n\r\n   //child detail\r\n\r\n   &amp;lt;/li&amp;gt;                                  //child closing tag\r\n  &amp;lt;/ol&amp;gt;                                  //child list end\r\n &amp;lt;/li&amp;gt;                                  //parent closing tag\r\n\r\n&lt;li&gt;Water&lt;/li&gt;  //more item without child detail\r\n&lt;li&gt;Beer&lt;/li&gt;\r\n&lt;/ol&gt;\r\n```\r\n\r\nI tried using counter increment, but it still showing the same result.\r\nReference:\r\n\r\n1. https://travishorn.com/ordered-lists-in-html-a4621e17532b\r\n2. https://www.w3schools.com/cssref/pr_gen_counter-increment.php#gsc.tab=0&amp;gsc.q=list\r\n\r\nCurrently, I&#39;m using 3 different ol with start value. One for the first item, one for the thymeleaf part, and another one after the thymeleaf, which shows me the result I wanted, but I know this is not efficient as I will need to change the start value when the number of parent changed.\r\n\r\n```\r\n&lt;ol type=&quot;a&quot;&gt;     // first ol\r\n  &lt;li&gt;Coffee&lt;/li&gt; //item without child detail\r\n&lt;/ol&gt;\r\n\r\n  &lt;span class=&quot;widget-has-slot&quot;&gt;{{the parent-child widget}}&lt;br /&gt;\r\n  &lt;pre&gt;\r\n&amp;lt;ol type=&quot;a&quot; start=&quot;2&quot;&amp;gt;                    //second ol\r\n &amp;lt;li th:each=&quot;parent : ${parentChildMap}&quot;&amp;gt; //parent\r\n\r\n   //parent detail\r\n\r\n  &amp;lt;ol&amp;gt;                                   //child list start\r\n   &amp;lt;li th:each=&quot;child : ${parent.value}&quot;&amp;gt; //child\r\n\r\n   //child detail\r\n\r\n   &amp;lt;/li&amp;gt;                                  //child closing tag\r\n  &amp;lt;/ol&amp;gt;                                  //child list end\r\n &amp;lt;/li&amp;gt;                                  //parent closing tag\r\n&amp;lt;/ol&amp;gt; \r\n\r\n&lt;ol type=&quot;a&quot; start=&quot;5&quot;&gt;   //third ol\r\n &lt;li&gt;Water&lt;/li&gt;  //more item without child detail\r\n &lt;li&gt;Beer&lt;/li&gt;\r\n&lt;/ol&gt;\r\n```\r\n\r\nHow do I get them to work without manually changing start values?","title":"Ordered list using thymeleaf loop not connected","body":"<p>I'm sorry if I have to be vague as I can't really show the clients requirement.</p>\n<p>I have a stacked ordered list, which shows details of the parent and child. Before the parent and child part, the first item and more item after the parent-child part is showing different details, but I have to put it in the same list. So what I'm trying to achieve is:</p>\n<p><a href=\"https://i.stack.imgur.com/xQzWo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xQzWo.png\" alt=\"enter image description here\" /></a></p>\n<p>But what I got:</p>\n<p><a href=\"https://i.stack.imgur.com/CCIlY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CCIlY.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;ol type=&quot;a&quot;&gt;\n  &lt;li&gt;Coffee&lt;/li&gt; //item without child detail\n\n  &lt;span class=&quot;widget-has-slot&quot;&gt;{{the parent-child widget}}&lt;br /&gt;\n  &lt;pre&gt;\n &amp;lt;li th:each=&quot;parent : ${parentChildMap}&quot;&amp;gt; //parent\n\n   //parent detail\n\n  &amp;lt;ol&amp;gt;                                   //child list start\n   &amp;lt;li th:each=&quot;child : ${parent.value}&quot;&amp;gt; //child\n\n   //child detail\n\n   &amp;lt;/li&amp;gt;                                  //child closing tag\n  &amp;lt;/ol&amp;gt;                                  //child list end\n &amp;lt;/li&amp;gt;                                  //parent closing tag\n\n&lt;li&gt;Water&lt;/li&gt;  //more item without child detail\n&lt;li&gt;Beer&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n<p>I tried using counter increment, but it still showing the same result.\nReference:</p>\n<ol>\n<li><a href=\"https://travishorn.com/ordered-lists-in-html-a4621e17532b\" rel=\"nofollow noreferrer\">https://travishorn.com/ordered-lists-in-html-a4621e17532b</a></li>\n<li><a href=\"https://www.w3schools.com/cssref/pr_gen_counter-increment.php#gsc.tab=0&amp;gsc.q=list\" rel=\"nofollow noreferrer\">https://www.w3schools.com/cssref/pr_gen_counter-increment.php#gsc.tab=0&amp;gsc.q=list</a></li>\n</ol>\n<p>Currently, I'm using 3 different ol with start value. One for the first item, one for the thymeleaf part, and another one after the thymeleaf, which shows me the result I wanted, but I know this is not efficient as I will need to change the start value when the number of parent changed.</p>\n<pre><code>&lt;ol type=&quot;a&quot;&gt;     // first ol\n  &lt;li&gt;Coffee&lt;/li&gt; //item without child detail\n&lt;/ol&gt;\n\n  &lt;span class=&quot;widget-has-slot&quot;&gt;{{the parent-child widget}}&lt;br /&gt;\n  &lt;pre&gt;\n&amp;lt;ol type=&quot;a&quot; start=&quot;2&quot;&amp;gt;                    //second ol\n &amp;lt;li th:each=&quot;parent : ${parentChildMap}&quot;&amp;gt; //parent\n\n   //parent detail\n\n  &amp;lt;ol&amp;gt;                                   //child list start\n   &amp;lt;li th:each=&quot;child : ${parent.value}&quot;&amp;gt; //child\n\n   //child detail\n\n   &amp;lt;/li&amp;gt;                                  //child closing tag\n  &amp;lt;/ol&amp;gt;                                  //child list end\n &amp;lt;/li&amp;gt;                                  //parent closing tag\n&amp;lt;/ol&amp;gt; \n\n&lt;ol type=&quot;a&quot; start=&quot;5&quot;&gt;   //third ol\n &lt;li&gt;Water&lt;/li&gt;  //more item without child detail\n &lt;li&gt;Beer&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n<p>How do I get them to work without manually changing start values?</p>\n"},{"tags":["java","spring-boot","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697737987,"creation_date":1697737987,"answer_id":77326087,"question_id":77325761,"body_markdown":"There is no &quot;connection&quot; with UDP; packets are sent to and received from specific hosts/ports (or a multicast group) individually.\r\n\r\nSee the documentation https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip-intro for how to use Spring UDP adapters.\r\n\r\nIf you have more questions after reading it; I suggest you ask a new question with the configuration you have tried, and much more detail about what you need to do.","title":"How to receive messages from a remote udp server using spring integration","body":"<p>There is no &quot;connection&quot; with UDP; packets are sent to and received from specific hosts/ports (or a multicast group) individually.</p>\n<p>See the documentation <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip-intro\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#ip-intro</a> for how to use Spring UDP adapters.</p>\n<p>If you have more questions after reading it; I suggest you ask a new question with the configuration you have tried, and much more detail about what you need to do.</p>\n"}],"owner":{"account_id":7671769,"reputation":123,"user_id":5813771,"display_name":"Eduardo B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697737987,"creation_date":1697734891,"question_id":77325761,"body_markdown":"I have a remote server that&#39;s sends packets throught a UDP connection. I know the IP and port. \r\n\r\nI want to connect this server to recieve the packets but i don&#39;t know how. And a want to use Spring integration dsl.\r\n\r\nThanks to everyone who can help me.","title":"How to receive messages from a remote udp server using spring integration","body":"<p>I have a remote server that's sends packets throught a UDP connection. I know the IP and port.</p>\n<p>I want to connect this server to recieve the packets but i don't know how. And a want to use Spring integration dsl.</p>\n<p>Thanks to everyone who can help me.</p>\n"},{"tags":["java","multithreading","static","thread-safety","locking"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697738097,"post_id":77326073,"comment_id":136320817,"body_markdown":"Have you already benchmarked both approaches?","body":"Have you already benchmarked both approaches?"},{"owner":{"account_id":15484833,"reputation":27,"user_id":14518481,"display_name":"Elegancia"},"score":0,"creation_date":1697738268,"post_id":77326073,"comment_id":136320841,"body_markdown":"@aled I did not. I wanted to hear out from the community first. Maybe they have suggestions on which approach would be preferable.","body":"@aled I did not. I wanted to hear out from the community first. Maybe they have suggestions on which approach would be preferable."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1697801648,"post_id":77326073,"comment_id":136328641,"body_markdown":"There won&#39;t be a definitive answer here since it all depends on how often the locking will occur. In theory if your locks will occur often and other threads will wait for that lock then the second approach would be faster but on the other hand it could happen that first approach would be faster. It also will depend on scale, for 10 threads with 100 files in each the difference will probably be so small that this problem shouldn&#39;t be considered as problem. So my advice would be to benchmark both approaches. Also while benchmarking remember to run this operations more than once","body":"There won&#39;t be a definitive answer here since it all depends on how often the locking will occur. In theory if your locks will occur often and other threads will wait for that lock then the second approach would be faster but on the other hand it could happen that first approach would be faster. It also will depend on scale, for 10 threads with 100 files in each the difference will probably be so small that this problem shouldn&#39;t be considered as problem. So my advice would be to benchmark both approaches. Also while benchmarking remember to run this operations more than once"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1697801683,"post_id":77326073,"comment_id":136328647,"body_markdown":"Since java will do optimizations and it could happen that one or the other solution will be faster on first run but on the second and so on could be slower than the other one","body":"Since java will do optimizations and it could happen that one or the other solution will be faster on first run but on the second and so on could be slower than the other one"}],"owner":{"account_id":15484833,"reputation":27,"user_id":14518481,"display_name":"Elegancia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697737862,"creation_date":1697737862,"question_id":77326073,"body_markdown":"I have a list of files, let&#39;s say of size 1000.\r\nEach thread is going to do some work on 100 files, so we would have a total of 10 threads.\r\nThe result of this work, for each thread, is an int and a String.\r\n\r\nI thought basically about two approaches. The first one:\r\n\r\n```\r\nprivate static int maxConfidence;\r\nprivate static String bestMatch;\r\nprivate static Lock lock = new ReentrantLock();\r\n\r\n\r\npublic void run()\r\n{\r\n...\r\nlock.lock;\r\nif(tempConfidence&gt;maxConfidence) \r\n{\r\n       maxConfidence=tempConfidence;\r\n       bestMatch = getCurrentString();\r\n}\r\nlock.unlock();\r\n}\r\n```\r\n\r\nThe second one:\r\n\r\n```\r\nprivate int maxConfidence;\r\nprivate String bestMatch;\r\nprivate boolean isFinished\r\n\r\n\r\npublic void run()\r\n{\r\n...\r\n&#236;if(tempConfidence&gt;maxConfidence) \r\n{\r\n       maxConfidence=tempConfidence;\r\n       bestMatch = getCurrentString();\r\n}\r\nisFinished = true;\r\n}\r\n\r\npublic static void main(String [] args)\r\n{\r\nif(allThreadsAreFinished())\r\n{\r\ngetMaxConfidenceAndBestMatchBetweenThreads(threadsArray);\r\n}\r\n}\r\n```\r\n\r\nAs you can see, in the first case scenario, there is a lock when checking and assigning the results. So, when all threads are finished we have already the best result.\r\n\r\nIn the second case scenario, each thread has his own results for the chunk of files he worked on. When all threads are finished results for each thread are compared and the best match with max confidence is chosen.","title":"Multithreading: more efficient to have static variables with a static Lock or non-static variables and then compare the results between all threads?","body":"<p>I have a list of files, let's say of size 1000.\nEach thread is going to do some work on 100 files, so we would have a total of 10 threads.\nThe result of this work, for each thread, is an int and a String.</p>\n<p>I thought basically about two approaches. The first one:</p>\n<pre><code>private static int maxConfidence;\nprivate static String bestMatch;\nprivate static Lock lock = new ReentrantLock();\n\n\npublic void run()\n{\n...\nlock.lock;\nif(tempConfidence&gt;maxConfidence) \n{\n       maxConfidence=tempConfidence;\n       bestMatch = getCurrentString();\n}\nlock.unlock();\n}\n</code></pre>\n<p>The second one:</p>\n<pre><code>private int maxConfidence;\nprivate String bestMatch;\nprivate boolean isFinished\n\n\npublic void run()\n{\n...\nìif(tempConfidence&gt;maxConfidence) \n{\n       maxConfidence=tempConfidence;\n       bestMatch = getCurrentString();\n}\nisFinished = true;\n}\n\npublic static void main(String [] args)\n{\nif(allThreadsAreFinished())\n{\ngetMaxConfidenceAndBestMatchBetweenThreads(threadsArray);\n}\n}\n</code></pre>\n<p>As you can see, in the first case scenario, there is a lock when checking and assigning the results. So, when all threads are finished we have already the best result.</p>\n<p>In the second case scenario, each thread has his own results for the chunk of files he worked on. When all threads are finished results for each thread are compared and the best match with max confidence is chosen.</p>\n"},{"tags":["java","spring-boot","elasticsearch","opensearch","amazon-opensearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1683698948,"post_id":76211064,"comment_id":134404494,"body_markdown":"The error states `index.settings.analysis...` while your curl body shows `settings.index.analysis...`. Can you verify that `testindex-index-settings.json` contains the right hierarchy, i.e. `settings.index.analysis...` ?","body":"The error states <code>index.settings.analysis...</code> while your curl body shows <code>settings.index.analysis...</code>. Can you verify that <code>testindex-index-settings.json</code> contains the right hierarchy, i.e. <code>settings.index.analysis...</code> ?"},{"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"score":0,"creation_date":1683700367,"post_id":76211064,"comment_id":134404749,"body_markdown":"I&#39;ve verified the hierarchy, its supposed to be that way. @Val","body":"I&#39;ve verified the hierarchy, its supposed to be that way. @Val"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1683701477,"post_id":76211064,"comment_id":134404965,"body_markdown":"Can you remove the `&quot;settings&quot;` section in the `testindex-index-settings.json` file and just make `&quot;index&quot;` being the top-level section?","body":"Can you remove the <code>&quot;settings&quot;</code> section in the <code>testindex-index-settings.json</code> file and just make <code>&quot;index&quot;</code> being the top-level section?"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683822101,"creation_date":1683822101,"answer_id":76229712,"question_id":76211064,"body_markdown":"You need to remove the `settings` section in your `testindex-index-settings.json` file\r\n\r\n      {\r\n        &quot;index&quot;: {\r\n          &quot;analysis&quot;: {\r\n            &quot;analyzer&quot;: {\r\n              &quot;my_synonym_analyzer&quot;: {\r\n                &quot;type&quot;: &quot;custom&quot;,\r\n                &quot;tokenizer&quot;: &quot;whitespace&quot;,\r\n                &quot;filter&quot;: [\r\n                  &quot;my_synonym_filter&quot;\r\n                ]\r\n              }\r\n            },\r\n            &quot;filter&quot;: {\r\n              &quot;my_synonym_filter&quot;: {\r\n                &quot;type&quot;: &quot;synonym_graph&quot;,\r\n                &quot;synonyms&quot;: []\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }","title":"OpenSearch - Error when creating index using Java client","body":"<p>You need to remove the <code>settings</code> section in your <code>testindex-index-settings.json</code> file</p>\n<pre><code>  {\n    &quot;index&quot;: {\n      &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n          &quot;my_synonym_analyzer&quot;: {\n            &quot;type&quot;: &quot;custom&quot;,\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\n            &quot;filter&quot;: [\n              &quot;my_synonym_filter&quot;\n            ]\n          }\n        },\n        &quot;filter&quot;: {\n          &quot;my_synonym_filter&quot;: {\n            &quot;type&quot;: &quot;synonym_graph&quot;,\n            &quot;synonyms&quot;: []\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7254967,"reputation":730,"user_id":5533959,"display_name":"Chris March"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697737733,"creation_date":1697737733,"answer_id":77326059,"question_id":76211064,"body_markdown":"For those of you who are trying to create something from a json file or just need to understand how the new TypeMapping works, here is some code I created to build a TypeMapping object from an existing sson Mapping:\r\n\r\n    @SneakyThrows\r\n    public static TypeMapping typeMapping() {\r\n        var builder = new TypeMapping.Builder();\r\n        var sourceJson = typeMappingJson();\r\n\r\n        builder.enabled(true);\r\n        builder.dateDetection(true);\r\n\r\n        var properties = new LinkedHashMap&lt;String, Property&gt;();\r\n        var jsonNodeIterator = new ObjectMapper().readTree(sourceJson).get(&quot;mappings&quot;).get(&quot;properties&quot;).fields();\r\n        while (jsonNodeIterator.hasNext()) {\r\n            var node = jsonNodeIterator.next();\r\n\r\n            var property = new Property.Builder();\r\n            var type = node.getValue().get(&quot;type&quot;).asText();\r\n            var format = node.getValue().hasNonNull(&quot;date&quot;) ? node.getValue().get(&quot;date&quot;).asText(null) : null;\r\n            var index = node.getValue().hasNonNull(&quot;date&quot;) ? node.getValue().get(&quot;index&quot;).asBoolean(false) : null;\r\n\r\n            switch (type) {\r\n                case &quot;boolean&quot; -&gt; property.boolean_(new BooleanProperty.Builder().index(index).build());\r\n                case &quot;text&quot; -&gt; property.text(new TextProperty.Builder().index(index).build());\r\n                case &quot;keyword&quot; -&gt; property.keyword(new KeywordProperty.Builder().index(index).build());\r\n                case &quot;date&quot; -&gt; property.date(new DateProperty.Builder().format(format).build());\r\n                case &quot;integer&quot; -&gt; property.integer(new IntegerNumberProperty.Builder().index(index).build());\r\n                case &quot;geo_pont&quot; -&gt; property.geoPoint(new GeoPointProperty.Builder().ignoreMalformed(true).build());\r\n                case &quot;object&quot; -&gt; property.object(new ObjectProperty.Builder().enabled(true).build());\r\n                default -&gt; throw new IllegalArgumentException(&quot;No mapping created for type:&quot; + type);\r\n            }\r\n\r\n            properties.put(node.getKey(), property.build());\r\n        }\r\n\r\n        builder.properties(properties);\r\n\r\n        return builder.build();\r\n    }","title":"OpenSearch - Error when creating index using Java client","body":"<p>For those of you who are trying to create something from a json file or just need to understand how the new TypeMapping works, here is some code I created to build a TypeMapping object from an existing sson Mapping:</p>\n<pre><code>@SneakyThrows\npublic static TypeMapping typeMapping() {\n    var builder = new TypeMapping.Builder();\n    var sourceJson = typeMappingJson();\n\n    builder.enabled(true);\n    builder.dateDetection(true);\n\n    var properties = new LinkedHashMap&lt;String, Property&gt;();\n    var jsonNodeIterator = new ObjectMapper().readTree(sourceJson).get(&quot;mappings&quot;).get(&quot;properties&quot;).fields();\n    while (jsonNodeIterator.hasNext()) {\n        var node = jsonNodeIterator.next();\n\n        var property = new Property.Builder();\n        var type = node.getValue().get(&quot;type&quot;).asText();\n        var format = node.getValue().hasNonNull(&quot;date&quot;) ? node.getValue().get(&quot;date&quot;).asText(null) : null;\n        var index = node.getValue().hasNonNull(&quot;date&quot;) ? node.getValue().get(&quot;index&quot;).asBoolean(false) : null;\n\n        switch (type) {\n            case &quot;boolean&quot; -&gt; property.boolean_(new BooleanProperty.Builder().index(index).build());\n            case &quot;text&quot; -&gt; property.text(new TextProperty.Builder().index(index).build());\n            case &quot;keyword&quot; -&gt; property.keyword(new KeywordProperty.Builder().index(index).build());\n            case &quot;date&quot; -&gt; property.date(new DateProperty.Builder().format(format).build());\n            case &quot;integer&quot; -&gt; property.integer(new IntegerNumberProperty.Builder().index(index).build());\n            case &quot;geo_pont&quot; -&gt; property.geoPoint(new GeoPointProperty.Builder().ignoreMalformed(true).build());\n            case &quot;object&quot; -&gt; property.object(new ObjectProperty.Builder().enabled(true).build());\n            default -&gt; throw new IllegalArgumentException(&quot;No mapping created for type:&quot; + type);\n        }\n\n        properties.put(node.getKey(), property.build());\n    }\n\n    builder.properties(properties);\n\n    return builder.build();\n}\n</code></pre>\n"}],"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76229712,"answer_count":2,"score":1,"last_activity_date":1697737733,"creation_date":1683646427,"question_id":76211064,"body_markdown":"I&#39;m trying to create index with given settings from json.\r\n\r\n```json testindex-index-settings.json\r\n{\r\n  &quot;settings&quot;: {\r\n    &quot;index&quot;: {\r\n      &quot;analysis&quot;: {\r\n        &quot;analyzer&quot;: {\r\n          &quot;my_synonym_analyzer&quot;: {\r\n            &quot;type&quot;: &quot;custom&quot;,\r\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\r\n            &quot;filter&quot;: [\r\n              &quot;my_synonym_filter&quot;\r\n            ]\r\n          }\r\n        },\r\n        &quot;filter&quot;: {\r\n          &quot;my_synonym_filter&quot;: {\r\n            &quot;type&quot;: &quot;synonym_graph&quot;,\r\n            &quot;synonyms&quot;: []\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nMy code to create index is :\r\n\r\n```java\r\n\r\nimport jakarta.json.stream.JsonParser;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.Reader;\r\nimport java.io.StringReader;\r\nimport java.util.Objects;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.opensearch.client.json.JsonpMapper;\r\nimport org.opensearch.client.opensearch.OpenSearchClient;\r\nimport org.opensearch.client.opensearch._types.mapping.TypeMapping;\r\nimport org.opensearch.client.opensearch.indices.CreateIndexRequest;\r\nimport org.opensearch.client.opensearch.indices.CreateIndexResponse;\r\nimport org.opensearch.client.opensearch.indices.IndexSettings;\r\nimport org.opensearch.common.io.Streams;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\npublic class IndexManager {\r\n\r\n  @Autowired private OpenSearchClient searchClient;\r\n\r\n  protected void create() throws IOException {\r\n\r\n    if (this.indexExists()) {\r\n      this.delete();\r\n    }\r\n\r\n    JsonpMapper mapper = searchClient._transport().jsonpMapper();\r\n    try (Reader readerSettings =\r\n            new InputStreamReader(\r\n                Objects.requireNonNull(\r\n                    this.getClass()\r\n                        .getResourceAsStream(&quot;testindex-index-settings.json&quot;)));\r\n        Reader readerMappings =\r\n            new InputStreamReader(\r\n                Objects.requireNonNull(\r\n                    this.getClass()\r\n                        .getResourceAsStream(&quot;testindex-index-mappings.json&quot;)));\r\n        JsonParser settingsParser =\r\n            mapper\r\n                .jsonProvider()\r\n                .createParser(new StringReader(Streams.copyToString(readerSettings)));\r\n        JsonParser mappingsParser =\r\n            mapper\r\n                .jsonProvider()\r\n                .createParser(new StringReader(Streams.copyToString(readerMappings))); ) {\r\n\r\n      String indexName = &quot;testindex&quot;;\r\n\r\n      IndexSettings indexSettings = IndexSettings._DESERIALIZER.deserialize(settingsParser, mapper);\r\n\r\n      TypeMapping typeMapping = TypeMapping._DESERIALIZER.deserialize(mappingsParser, mapper);\r\n\r\n      CreateIndexRequest indexRequest =\r\n          new CreateIndexRequest.Builder()\r\n              .index(indexName)\r\n              .settings(indexSettings)\r\n              .mappings(typeMapping)\r\n              .build();\r\n\r\n      CreateIndexResponse indexResponse = searchClient.indices().create(indexRequest); // line 93\r\n\r\n      log.info(&quot;Index {} created with response [{}]&quot;, indexName, indexResponse.toString());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWhen trying to create index from above code, I&#39;m getting unknown setting error:\r\n\r\n```\r\norg.opensearch.client.opensearch._types.OpenSearchException: Request failed: [illegal_argument_exception] unknown setting [index.settings.analysis.analyzer.my_synonym_analyzer.filter] please check that any required plugins are installed, or check the breaking changes documentation for removed settings\r\n\tat org.opensearch.client.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:273) ~[opensearch-java-2.4.0.jar:na]\r\n\tat org.opensearch.client.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:143) ~[opensearch-java-2.4.0.jar:na]\r\n\tat org.opensearch.client.opensearch.indices.OpenSearchIndicesClient.create(OpenSearchIndicesClient.java:248) ~[opensearch-java-2.4.0.jar:na]\r\n\tat com.joinhobnob.crm.service.search.command.IndexManager.create(IndexManager.java:93) ~[main/:na]\r\n\r\n```\r\n\r\nBut while creating the index from opensearch&#39;s dashboard console, with same settings its working fine.\r\n\r\n```curl\r\ncurl -XPUT &quot;http://opensearch:9200/test_index?pretty&quot; -H &#39;Content-Type: application/json&#39; -d&#39;\r\n{\r\n  &quot;settings&quot;: {\r\n    &quot;index&quot;: {\r\n      &quot;analysis&quot;: {\r\n        &quot;analyzer&quot;: {\r\n          &quot;my_synonym_analyzer&quot;: {\r\n            &quot;type&quot;: &quot;custom&quot;,\r\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\r\n            &quot;filter&quot;: [\r\n              &quot;my_synonym_filter&quot;\r\n            ]\r\n          }\r\n        },\r\n        &quot;filter&quot;: {\r\n          &quot;my_synonym_filter&quot;: {\r\n            &quot;type&quot;: &quot;synonym_graph&quot;,\r\n            &quot;synonyms&quot;: []\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}&#39;\r\n\r\nResponse: \r\n{\r\n  &quot;acknowledged&quot;: true,\r\n  &quot;shards_acknowledged&quot;: true,\r\n  &quot;index&quot;: &quot;test_index&quot;\r\n}\r\n```\r\n\r\nI&#39;ve gone through the given links, but have not found the solution yet.\r\n\r\nhttps://stackoverflow.com/questions/66497889/elasticsearch-error-while-mapping-unknown-setting\r\n\r\nhttps://stackoverflow.com/questions/75130106/creating-index-with-opensearch-java-client\r\n\r\nCan anyone help me find the solution?\r\n","title":"OpenSearch - Error when creating index using Java client","body":"<p>I'm trying to create index with given settings from json.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;settings&quot;: {\n    &quot;index&quot;: {\n      &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n          &quot;my_synonym_analyzer&quot;: {\n            &quot;type&quot;: &quot;custom&quot;,\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\n            &quot;filter&quot;: [\n              &quot;my_synonym_filter&quot;\n            ]\n          }\n        },\n        &quot;filter&quot;: {\n          &quot;my_synonym_filter&quot;: {\n            &quot;type&quot;: &quot;synonym_graph&quot;,\n            &quot;synonyms&quot;: []\n          }\n        }\n      }\n    }\n  }\n}\n\n</code></pre>\n<p>My code to create index is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport jakarta.json.stream.JsonParser;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.io.StringReader;\nimport java.util.Objects;\nimport lombok.extern.slf4j.Slf4j;\nimport org.opensearch.client.json.JsonpMapper;\nimport org.opensearch.client.opensearch.OpenSearchClient;\nimport org.opensearch.client.opensearch._types.mapping.TypeMapping;\nimport org.opensearch.client.opensearch.indices.CreateIndexRequest;\nimport org.opensearch.client.opensearch.indices.CreateIndexResponse;\nimport org.opensearch.client.opensearch.indices.IndexSettings;\nimport org.opensearch.common.io.Streams;\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class IndexManager {\n\n  @Autowired private OpenSearchClient searchClient;\n\n  protected void create() throws IOException {\n\n    if (this.indexExists()) {\n      this.delete();\n    }\n\n    JsonpMapper mapper = searchClient._transport().jsonpMapper();\n    try (Reader readerSettings =\n            new InputStreamReader(\n                Objects.requireNonNull(\n                    this.getClass()\n                        .getResourceAsStream(&quot;testindex-index-settings.json&quot;)));\n        Reader readerMappings =\n            new InputStreamReader(\n                Objects.requireNonNull(\n                    this.getClass()\n                        .getResourceAsStream(&quot;testindex-index-mappings.json&quot;)));\n        JsonParser settingsParser =\n            mapper\n                .jsonProvider()\n                .createParser(new StringReader(Streams.copyToString(readerSettings)));\n        JsonParser mappingsParser =\n            mapper\n                .jsonProvider()\n                .createParser(new StringReader(Streams.copyToString(readerMappings))); ) {\n\n      String indexName = &quot;testindex&quot;;\n\n      IndexSettings indexSettings = IndexSettings._DESERIALIZER.deserialize(settingsParser, mapper);\n\n      TypeMapping typeMapping = TypeMapping._DESERIALIZER.deserialize(mappingsParser, mapper);\n\n      CreateIndexRequest indexRequest =\n          new CreateIndexRequest.Builder()\n              .index(indexName)\n              .settings(indexSettings)\n              .mappings(typeMapping)\n              .build();\n\n      CreateIndexResponse indexResponse = searchClient.indices().create(indexRequest); // line 93\n\n      log.info(&quot;Index {} created with response [{}]&quot;, indexName, indexResponse.toString());\n    }\n  }\n}\n</code></pre>\n<p>When trying to create index from above code, I'm getting unknown setting error:</p>\n<pre><code>org.opensearch.client.opensearch._types.OpenSearchException: Request failed: [illegal_argument_exception] unknown setting [index.settings.analysis.analyzer.my_synonym_analyzer.filter] please check that any required plugins are installed, or check the breaking changes documentation for removed settings\n    at org.opensearch.client.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:273) ~[opensearch-java-2.4.0.jar:na]\n    at org.opensearch.client.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:143) ~[opensearch-java-2.4.0.jar:na]\n    at org.opensearch.client.opensearch.indices.OpenSearchIndicesClient.create(OpenSearchIndicesClient.java:248) ~[opensearch-java-2.4.0.jar:na]\n    at com.joinhobnob.crm.service.search.command.IndexManager.create(IndexManager.java:93) ~[main/:na]\n\n</code></pre>\n<p>But while creating the index from opensearch's dashboard console, with same settings its working fine.</p>\n<pre><code>curl -XPUT &quot;http://opensearch:9200/test_index?pretty&quot; -H 'Content-Type: application/json' -d'\n{\n  &quot;settings&quot;: {\n    &quot;index&quot;: {\n      &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n          &quot;my_synonym_analyzer&quot;: {\n            &quot;type&quot;: &quot;custom&quot;,\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\n            &quot;filter&quot;: [\n              &quot;my_synonym_filter&quot;\n            ]\n          }\n        },\n        &quot;filter&quot;: {\n          &quot;my_synonym_filter&quot;: {\n            &quot;type&quot;: &quot;synonym_graph&quot;,\n            &quot;synonyms&quot;: []\n          }\n        }\n      }\n    }\n  }\n}'\n\nResponse: \n{\n  &quot;acknowledged&quot;: true,\n  &quot;shards_acknowledged&quot;: true,\n  &quot;index&quot;: &quot;test_index&quot;\n}\n</code></pre>\n<p>I've gone through the given links, but have not found the solution yet.</p>\n<p><a href=\"https://stackoverflow.com/questions/66497889/elasticsearch-error-while-mapping-unknown-setting\">Elasticsearch error while mapping - unknown setting</a></p>\n<p><a href=\"https://stackoverflow.com/questions/75130106/creating-index-with-opensearch-java-client\">Creating Index with OpenSearch Java Client</a></p>\n<p>Can anyone help me find the solution?</p>\n"},{"tags":["java","spring-boot","hibernate","hql","querydsl"],"owner":{"account_id":21171317,"reputation":1,"user_id":22007441,"display_name":"Валеркович"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697737236,"creation_date":1697736936,"question_id":77325971,"body_markdown":"Good afternoon! Who use MetadataBuilderContributor to register new function in HQL? \r\nI work with Spring and QueryDSL.\r\nI want to register new function to work with json through QueryDSL.\r\n\r\n [MetadataBuilderContributor](https://i.stack.imgur.com/ARKRW.png)\r\n\r\nWhen I use it I get exception \r\nQuerySyntaxException: unexpected AST node: ( near line 3, column 20 [select file\\nfrom File file\\nwhere json_like_any(file.body,?1,?2)];\r\n\r\nI  think I have a problem with registration MetadataBuilderContributor \r\n\r\n\r\nI have tried to register through \r\n[application.yml](https://i.stack.imgur.com/28yFn.png) \r\n\r\nand through \r\n[bean creation](https://i.stack.imgur.com/dHZ0P.png) \r\n\r\nHow I use it \r\n[with QueryDSL](https://i.stack.imgur.com/Lbpps.png)\r\n\r\nMay be someone have another idea how to do it or what the reason of this problem?\r\n","title":"How register MetadataBuilderContributor in Spring Boot","body":"<p>Good afternoon! Who use MetadataBuilderContributor to register new function in HQL?\nI work with Spring and QueryDSL.\nI want to register new function to work with json through QueryDSL.</p>\n<p><a href=\"https://i.stack.imgur.com/ARKRW.png\" rel=\"nofollow noreferrer\">MetadataBuilderContributor</a></p>\n<p>When I use it I get exception\nQuerySyntaxException: unexpected AST node: ( near line 3, column 20 [select file\\nfrom File file\\nwhere json_like_any(file.body,?1,?2)];</p>\n<p>I  think I have a problem with registration MetadataBuilderContributor</p>\n<p>I have tried to register through\n<a href=\"https://i.stack.imgur.com/28yFn.png\" rel=\"nofollow noreferrer\">application.yml</a></p>\n<p>and through\n<a href=\"https://i.stack.imgur.com/dHZ0P.png\" rel=\"nofollow noreferrer\">bean creation</a></p>\n<p>How I use it\n<a href=\"https://i.stack.imgur.com/Lbpps.png\" rel=\"nofollow noreferrer\">with QueryDSL</a></p>\n<p>May be someone have another idea how to do it or what the reason of this problem?</p>\n"},{"tags":["java","selenium-webdriver","automation","serenity-bdd","cucumber-serenity"],"owner":{"account_id":29710577,"reputation":1,"user_id":22770361,"display_name":"Mudit Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697737099,"creation_date":1697737099,"question_id":77325985,"body_markdown":"Is there a way to restart a fresh browser session after executing each feature files. As of now either fresh browser session is getting started after each scenario or it waiting to complete all scenarioes in each of the feature files.\r\n\r\nI have used &quot;serenity.restart.browser.for.each=feature&quot; property to handle my requirement but it does not work.\r\n\r\nMy expectation is that the browser closed after executing a feature file and start a fresh session for the next feature file.\r\n\r\n\r\n```\r\nFeature File 1:\r\n\r\nFeature: Login Functionality\r\n\r\n  As a user I want to login into the LMS\r\n\r\n\r\n\r\n  Background:\r\n\r\n    Given that the user is on login page\r\n\r\n    And username and password fields are there\r\n\r\n\r\n\r\n  Scenario Outline: Invalid Login Scenario\r\n\r\n    When I enter &lt;username&gt;\r\n\r\n    And enter &lt;password&gt;\r\n\r\n    And click on login button\r\n\r\n    Then Validate &lt;Alert&gt; message\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | username            | password   | Alert                           |\r\n\r\n      | melimu@gmail.com    | Melimu@123 | Invalid login, please try again |\r\n\r\n      | melimu001@gmail.com | Pass@123   | Invalid login, please try again |\r\n\r\n\r\n\r\n  Scenario Outline: Successful Login Scenario\r\n\r\n    When I enter &lt;username&gt;\r\n\r\n    And enter &lt;password&gt;\r\n\r\n    And click on login button\r\n\r\n    Then user should be logged in successfully\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | username            | password   |\r\n\r\n      | melimu001@gmail.com | Melimu@123 |\r\n\r\n\r\n\r\nFeature File 2:\r\n\r\nFeature: Forgot Password Functionality\r\n\r\n  Users have the option to recover their password if they forget it\r\n\r\n\r\n\r\n  Background:\r\n\r\n    Given that the user is on login page\r\n\r\n    And forgot password button is there\r\n\r\n    And user clicks on forgot password button\r\n\r\n\r\n\r\n  Scenario Outline: reset password by username\r\n\r\n    Given that the username field is there\r\n\r\n    When user enters &lt;username&gt;\r\n\r\n    And click on search button\r\n\r\n    Then user should be redirected to a new page\r\n\r\n    And the &lt;message&gt; will be validated\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | username            | message                                                                                         |\r\n\r\n      | melimu001@gmail.com | If you supplied a correct username or email address then an email should have been sent to you. |\r\n\r\n      | melimu@gmail.com    | If you supplied a correct username or email address then an email should have been sent to you. |\r\n\r\n\r\n\r\n  Scenario Outline: reset password by email\r\n\r\n    Given that the email field is there\r\n\r\n    When user enters &lt;email&gt;\r\n\r\n    And click on search button\r\n\r\n    Then user should be redirected to a new page\r\n\r\n    And the &lt;message&gt; will be validated\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | email                               | message                                                                                         |\r\n\r\n      | melimu001@team800682.testinator.com | If you supplied a correct username or email address then an email should have been sent to you. |\r\n\r\n\r\n\r\n  Scenario Outline: User resets their password with a valid reset link\r\n\r\n    Given the user has received a password reset email\r\n\r\n    When the user clicks on the password reset link in the email\r\n\r\n    Then the user should be directed to the Reset Password page\r\n\r\n    When the user enters and confirms a &lt;new password&gt;\r\n\r\n    And submits the new password\r\n\r\n    Then the user should see a &lt;success message&gt;\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | email                                    | new password | success message             |\r\n\r\n      | team800682.testinator.com@mailinator.com | Melimu@123   | Your password has been set. |\r\n\r\n\r\n\r\n\r\n\r\nFeature File 3:\r\n\r\nFeature: Create users manually\r\n\r\n  Admin will create a user account into the LMS\r\n\r\n\r\n\r\n  Scenario Outline: User redirects to create user page\r\n\r\n    Given log in as admin with &lt;username&gt; and &lt;password&gt;\r\n\r\n    And user is on the dashboard\r\n\r\n    And company management block is there\r\n\r\n    When user clicks on users tab\r\n\r\n    And click on create user\r\n\r\n    Then user is on create user page\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | username               | password   |\r\n\r\n      | mudit.verma@melimu.com | Melimu@123 |\r\n\r\n\r\n\r\n  Scenario Outline: Checking mandatory fields on create user page\r\n\r\n    When user clicks on submit button\r\n\r\n    Then there should be an &lt;alert&gt;\r\n\r\n    And verify the mandatory fields\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | alert                                           |\r\n\r\n      | There are required fields in this form marked . |\r\n\r\n\r\n\r\n  Scenario Outline: Manually creating users\r\n\r\n    When user enter &lt;first name&gt;, &lt;last name&gt;, &lt;email address&gt; and &lt;new password&gt;\r\n\r\n    And user enables Use email address as user name radio button\r\n\r\n    And disable force password change option\r\n\r\n    And select no in send temporary passwords by email drop down\r\n\r\n    And user clicks on submit and create another user button\r\n\r\n    Then verify the successfull user creation &lt;success alert&gt;\r\n\r\n\r\n\r\n    Examples:\r\n\r\n      | role    | first name | last name | email address       | new password | success alert             |\r\n\r\n      | Teacher | Test       | Teacher   | melimu005@gmail.com | Melimu@123   | User created successfully |\r\n\r\n      | Learner | Test       | Learner 1 | melimu013@gmail.com | Melimu@123   | User created successfully |\r\n\r\n      | Learner | Test       | Learner 2 | melimu018@gmail.com | Melimu@123   | User created successfully |\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to start a fresh browser session for each feature files","body":"<p>Is there a way to restart a fresh browser session after executing each feature files. As of now either fresh browser session is getting started after each scenario or it waiting to complete all scenarioes in each of the feature files.</p>\n<p>I have used &quot;serenity.restart.browser.for.each=feature&quot; property to handle my requirement but it does not work.</p>\n<p>My expectation is that the browser closed after executing a feature file and start a fresh session for the next feature file.</p>\n<pre><code>Feature File 1:\n\nFeature: Login Functionality\n\n  As a user I want to login into the LMS\n\n\n\n  Background:\n\n    Given that the user is on login page\n\n    And username and password fields are there\n\n\n\n  Scenario Outline: Invalid Login Scenario\n\n    When I enter &lt;username&gt;\n\n    And enter &lt;password&gt;\n\n    And click on login button\n\n    Then Validate &lt;Alert&gt; message\n\n\n\n    Examples:\n\n      | username            | password   | Alert                           |\n\n      | melimu@gmail.com    | Melimu@123 | Invalid login, please try again |\n\n      | melimu001@gmail.com | Pass@123   | Invalid login, please try again |\n\n\n\n  Scenario Outline: Successful Login Scenario\n\n    When I enter &lt;username&gt;\n\n    And enter &lt;password&gt;\n\n    And click on login button\n\n    Then user should be logged in successfully\n\n\n\n    Examples:\n\n      | username            | password   |\n\n      | melimu001@gmail.com | Melimu@123 |\n\n\n\nFeature File 2:\n\nFeature: Forgot Password Functionality\n\n  Users have the option to recover their password if they forget it\n\n\n\n  Background:\n\n    Given that the user is on login page\n\n    And forgot password button is there\n\n    And user clicks on forgot password button\n\n\n\n  Scenario Outline: reset password by username\n\n    Given that the username field is there\n\n    When user enters &lt;username&gt;\n\n    And click on search button\n\n    Then user should be redirected to a new page\n\n    And the &lt;message&gt; will be validated\n\n\n\n    Examples:\n\n      | username            | message                                                                                         |\n\n      | melimu001@gmail.com | If you supplied a correct username or email address then an email should have been sent to you. |\n\n      | melimu@gmail.com    | If you supplied a correct username or email address then an email should have been sent to you. |\n\n\n\n  Scenario Outline: reset password by email\n\n    Given that the email field is there\n\n    When user enters &lt;email&gt;\n\n    And click on search button\n\n    Then user should be redirected to a new page\n\n    And the &lt;message&gt; will be validated\n\n\n\n    Examples:\n\n      | email                               | message                                                                                         |\n\n      | melimu001@team800682.testinator.com | If you supplied a correct username or email address then an email should have been sent to you. |\n\n\n\n  Scenario Outline: User resets their password with a valid reset link\n\n    Given the user has received a password reset email\n\n    When the user clicks on the password reset link in the email\n\n    Then the user should be directed to the Reset Password page\n\n    When the user enters and confirms a &lt;new password&gt;\n\n    And submits the new password\n\n    Then the user should see a &lt;success message&gt;\n\n\n\n    Examples:\n\n      | email                                    | new password | success message             |\n\n      | team800682.testinator.com@mailinator.com | Melimu@123   | Your password has been set. |\n\n\n\n\n\nFeature File 3:\n\nFeature: Create users manually\n\n  Admin will create a user account into the LMS\n\n\n\n  Scenario Outline: User redirects to create user page\n\n    Given log in as admin with &lt;username&gt; and &lt;password&gt;\n\n    And user is on the dashboard\n\n    And company management block is there\n\n    When user clicks on users tab\n\n    And click on create user\n\n    Then user is on create user page\n\n\n\n    Examples:\n\n      | username               | password   |\n\n      | mudit.verma@melimu.com | Melimu@123 |\n\n\n\n  Scenario Outline: Checking mandatory fields on create user page\n\n    When user clicks on submit button\n\n    Then there should be an &lt;alert&gt;\n\n    And verify the mandatory fields\n\n\n\n    Examples:\n\n      | alert                                           |\n\n      | There are required fields in this form marked . |\n\n\n\n  Scenario Outline: Manually creating users\n\n    When user enter &lt;first name&gt;, &lt;last name&gt;, &lt;email address&gt; and &lt;new password&gt;\n\n    And user enables Use email address as user name radio button\n\n    And disable force password change option\n\n    And select no in send temporary passwords by email drop down\n\n    And user clicks on submit and create another user button\n\n    Then verify the successfull user creation &lt;success alert&gt;\n\n\n\n    Examples:\n\n      | role    | first name | last name | email address       | new password | success alert             |\n\n      | Teacher | Test       | Teacher   | melimu005@gmail.com | Melimu@123   | User created successfully |\n\n      | Learner | Test       | Learner 1 | melimu013@gmail.com | Melimu@123   | User created successfully |\n\n      | Learner | Test       | Learner 2 | melimu018@gmail.com | Melimu@123   | User created successfully |\n\n\n</code></pre>\n"},{"tags":["java","garbage-collection","g1gc"],"owner":{"account_id":29285360,"reputation":11,"user_id":22437092,"display_name":"DevF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697737018,"creation_date":1697737018,"question_id":77325980,"body_markdown":"So currently Im using `ManagementFactory.getGarbageCollectorMXBeans()` but the young GC in G1 only includes 2 steps that are actually STW.\r\n\r\nFrom the duration (and I might be wrong here) I gather the time reported is for the entire young GC (including the concurrent phases), can I somehow get just the STW duration?\r\n","title":"Collect the stop-the-world duration in a concurrent GC (G1)","body":"<p>So currently Im using <code>ManagementFactory.getGarbageCollectorMXBeans()</code> but the young GC in G1 only includes 2 steps that are actually STW.</p>\n<p>From the duration (and I might be wrong here) I gather the time reported is for the entire young GC (including the concurrent phases), can I somehow get just the STW duration?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697851824,"post_id":77325948,"comment_id":136335570,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29710502,"reputation":1,"user_id":22770307,"display_name":"Pomendra Murkute"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697736708,"creation_date":1697736708,"question_id":77325948,"body_markdown":"ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:33: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:61: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:72: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:83: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:102: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:113: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:124: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:143: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:154: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\nERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:165: AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.\r\n    \r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/MondP.png)\r\nandroid studio project","title":"how to solve error problem &quot;AAPT: error: &#39;@tools:sample/avatars&#39; is incompatible with attribute src (attr) reference|color.&quot; in android studio","body":"<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:33: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:61: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:72: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:83: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:102: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:113: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:124: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:143: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:154: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p>ERROR: C:\\Users\\dell\\AndroidStudioProjects\\TicTacToe\\app\\src\\main\\res\\layout\\activity_main.xml:165: AAPT: error: '@tools:sample/avatars' is incompatible with attribute src (attr) reference|color.</p>\n<p><a href=\"https://i.stack.imgur.com/MondP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nandroid studio project</p>\n"},{"tags":["java","spring","rest","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482764135,"creation_date":1482511681,"answer_id":41305078,"question_id":41303864,"body_markdown":"Spring supports `@Async` annotation. \r\n\r\nWhich means any call to the annotated method returns immediately.  Hence you could call the method right before you return the response from your controller. \r\n\r\nCheck [here][1] for more details.\r\n\r\nAnother way is to use AOP and create a thread that handles the after response possessing! \r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support-scheduled","title":"Spring MVC after calling webservice at Rest Controller and returning xml response how can I execute other function after response sent?","body":"<p>Spring supports <code>@Async</code> annotation. </p>\n\n<p>Which means any call to the annotated method returns immediately.  Hence you could call the method right before you return the response from your controller. </p>\n\n<p>Check <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support-scheduled\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n\n<p>Another way is to use AOP and create a thread that handles the after response possessing! </p>\n"}],"owner":{"account_id":4231374,"reputation":21,"user_id":3463600,"display_name":"Rocky2014"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697736657,"creation_date":1482506124,"question_id":41303864,"body_markdown":"Using Spring MVC I have a webservice that receives several parameters and inserts them to the Database returning to the client the id of inserted row. How can I execute other function after the id has been sent to the client? How can I schedule a method to run after the webservice return?","title":"Spring MVC after calling webservice at Rest Controller and returning xml response how can I execute other function after response sent?","body":"<p>Using Spring MVC I have a webservice that receives several parameters and inserts them to the Database returning to the client the id of inserted row. How can I execute other function after the id has been sent to the client? How can I schedule a method to run after the webservice return?</p>\n"},{"tags":["java","android","android-layout","android-developer-api"],"comments":[{"owner":{"account_id":4943270,"reputation":245,"user_id":3979415,"display_name":"Luca Biasotto"},"score":0,"creation_date":1697642513,"post_id":75024969,"comment_id":136306357,"body_markdown":"do you find any solutions? thanks","body":"do you find any solutions? thanks"},{"owner":{"account_id":185446,"reputation":3273,"user_id":422156,"accept_rate":74,"display_name":"Craig"},"score":0,"creation_date":1697736267,"post_id":75024969,"comment_id":136320488,"body_markdown":"@LucaBiasotto sorry I left this unanswered. Posted some code and marked it as the answer.","body":"@LucaBiasotto sorry I left this unanswered. Posted some code and marked it as the answer."},{"owner":{"account_id":4943270,"reputation":245,"user_id":3979415,"display_name":"Luca Biasotto"},"score":0,"creation_date":1697825556,"post_id":75024969,"comment_id":136332949,"body_markdown":"Super, thank you @Craig!","body":"Super, thank you @Craig!"}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672958112,"creation_date":1672958112,"answer_id":75025078,"question_id":75024969,"body_markdown":"[As per documentation][1], it could be handled by the current insets API.\r\n\r\n&gt; The new Taskbar is reported to applications as an Inset, even though a new inset API has not been introduced.\r\n&gt;\r\n&gt; Although the Taskbar doesn&#39;t have its own inset type, its dimension can be retrieved using WindowInsetsCompat.Type.navigationBars() or WindowInsetsCompat.Type.systemBars().\r\n\r\n\r\nTurns out they&#39;ll be introducing new insets API to handle that.\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/13/features/large-screens#dev-handle-insets","title":"How to Detect Presence and Size of Android Taskbar","body":"<p><a href=\"https://developer.android.com/about/versions/13/features/large-screens#dev-handle-insets\" rel=\"nofollow noreferrer\">As per documentation</a>, it could be handled by the current insets API.</p>\n<blockquote>\n<p>The new Taskbar is reported to applications as an Inset, even though a new inset API has not been introduced.</p>\n<p>Although the Taskbar doesn't have its own inset type, its dimension can be retrieved using WindowInsetsCompat.Type.navigationBars() or WindowInsetsCompat.Type.systemBars().</p>\n</blockquote>\n<p>Turns out they'll be introducing new insets API to handle that.</p>\n"},{"tags":[],"owner":{"account_id":185446,"reputation":3273,"user_id":422156,"accept_rate":74,"display_name":"Craig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697736216,"creation_date":1697736216,"answer_id":77325891,"question_id":75024969,"body_markdown":"For some reason I wasn&#39;t able to use setOnApplyWindowInsetsListener, perhaps because I haven&#39;t converted to AndroidX? I don&#39;t remember. I just know it didn&#39;t work. Here&#39;s what does work:\r\n\r\n    public int getNavBarHeight()\r\n        {\r\n        Resources resources = getResources();\r\n        int navigation_bar_height = 0;\r\n        int resourceId = resources.getIdentifier(&quot;navigation_bar_height&quot;, &quot;dimen&quot;, &quot;android&quot;);\r\n        if ( resourceId &gt; 0 )\r\n            {\r\n            navigation_bar_height = resources.getDimensionPixelSize(resourceId);\r\n            }\r\n        return navigation_bar_height;\r\n        }\r\n\r\nThen I make adjustments accordingly.","title":"How to Detect Presence and Size of Android Taskbar","body":"<p>For some reason I wasn't able to use setOnApplyWindowInsetsListener, perhaps because I haven't converted to AndroidX? I don't remember. I just know it didn't work. Here's what does work:</p>\n<pre><code>public int getNavBarHeight()\n    {\n    Resources resources = getResources();\n    int navigation_bar_height = 0;\n    int resourceId = resources.getIdentifier(&quot;navigation_bar_height&quot;, &quot;dimen&quot;, &quot;android&quot;);\n    if ( resourceId &gt; 0 )\n        {\n        navigation_bar_height = resources.getDimensionPixelSize(resourceId);\n        }\n    return navigation_bar_height;\n    }\n</code></pre>\n<p>Then I make adjustments accordingly.</p>\n"}],"owner":{"account_id":185446,"reputation":3273,"user_id":422156,"accept_rate":74,"display_name":"Craig"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77325891,"answer_count":2,"score":2,"last_activity_date":1697736216,"creation_date":1672957222,"question_id":75024969,"body_markdown":"My app recognizes the presence of the navigation bar at the bottom of the screen and moves its own buttons up and out of the way so as not to be obscured. It also recognizes when &quot;swipe gestures&quot; have been turned on and reduces the amount of space reserved at the bottom of the screen.\r\n\r\nMy problem is that some devices have a &quot;taskbar&quot; that can appear across the bottom that is independent of the navigation bar, though it will share that bar if both are enabled at the same time. I can&#39;t figure out how to detect this taskbar and determine its height so I can adjust my layout to avoid it. Any clues?","title":"How to Detect Presence and Size of Android Taskbar","body":"<p>My app recognizes the presence of the navigation bar at the bottom of the screen and moves its own buttons up and out of the way so as not to be obscured. It also recognizes when &quot;swipe gestures&quot; have been turned on and reduces the amount of space reserved at the bottom of the screen.</p>\n<p>My problem is that some devices have a &quot;taskbar&quot; that can appear across the bottom that is independent of the navigation bar, though it will share that bar if both are enabled at the same time. I can't figure out how to detect this taskbar and determine its height so I can adjust my layout to avoid it. Any clues?</p>\n"},{"tags":["java","spring","jpa","specifications"],"answers":[{"tags":[],"owner":{"account_id":11623811,"reputation":1,"user_id":8514227,"display_name":"Daria Kriukova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697727598,"creation_date":1697727598,"answer_id":77324918,"question_id":77324858,"body_markdown":"Probably something like this\r\n`.orderBy(cb.desc(root.get(&quot;taskNumber&quot;)), cb.desc(root.get(&quot;bokNumber&quot;)))`","title":"Exclude id from GROUP BY in Jpa Specification","body":"<p>Probably something like this\n<code>.orderBy(cb.desc(root.get(&quot;taskNumber&quot;)), cb.desc(root.get(&quot;bokNumber&quot;)))</code></p>\n"}],"owner":{"account_id":13588641,"reputation":4677,"user_id":9802634,"display_name":"danny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697736080,"creation_date":1697727187,"question_id":77324858,"body_markdown":"I try to use Jpa Specification to build query with Group by. It looks like this:\r\n\r\n     Specification&lt;AggregatedData&gt; spec = (Specification&lt;AggregatedData&gt;) (root, criteriaQuery, cb) -&gt; {\r\n                Predicate conditions = cb.and(\r\n                        cb.between(root.get(&quot;sendDate&quot;), beginDate, endDate),\r\n                        cb.equal(root.get(&quot;taskNumber&quot;), taskNum)\r\n                );\r\n    \r\n                criteriaQuery.multiselect(\r\n                                root.get(&quot;file&quot;),\r\n                                root.get(&quot;bok&quot;),\r\n                                root.get(&quot;taskNumber&quot;),\r\n                                root.get(&quot;documentType&quot;),\r\n                                cb.sum(root.get(&quot;to8Pages&quot;)),\r\n                                cb.sum(root.get(&quot;from9To20Pages&quot;)),\r\n                        .where(conditions)\r\n                        .groupBy(\r\n                                root.get(&quot;file&quot;),\r\n                                root.get(&quot;bok&quot;),\r\n                                root.get(&quot;taskNumber&quot;),\r\n                                root.get(&quot;documentType&quot;)\r\n                        ).orderBy(cb.desc(root.get(&quot;taskNumber&quot;)), cb.desc(root.get(&quot;bokNumber&quot;)));\r\n    \r\n                return null;\r\n            };\r\n\r\nAnd when I use it, I get the error:\r\n\r\n&gt; Caused by: org.postgresql.util.PSQLException: ERROR: column\r\n&gt; &quot;aggregated0_.id&quot; must appear in the GROUP BY clause or be used in an\r\n&gt; aggregate function\r\n\r\nDoes it mean I need to add &#39;id&#39; to my GROUP BY? What if I do not want it? How can I fix my query?\r\n\r\n","title":"Exclude id from GROUP BY in Jpa Specification","body":"<p>I try to use Jpa Specification to build query with Group by. It looks like this:</p>\n<pre><code> Specification&lt;AggregatedData&gt; spec = (Specification&lt;AggregatedData&gt;) (root, criteriaQuery, cb) -&gt; {\n            Predicate conditions = cb.and(\n                    cb.between(root.get(&quot;sendDate&quot;), beginDate, endDate),\n                    cb.equal(root.get(&quot;taskNumber&quot;), taskNum)\n            );\n\n            criteriaQuery.multiselect(\n                            root.get(&quot;file&quot;),\n                            root.get(&quot;bok&quot;),\n                            root.get(&quot;taskNumber&quot;),\n                            root.get(&quot;documentType&quot;),\n                            cb.sum(root.get(&quot;to8Pages&quot;)),\n                            cb.sum(root.get(&quot;from9To20Pages&quot;)),\n                    .where(conditions)\n                    .groupBy(\n                            root.get(&quot;file&quot;),\n                            root.get(&quot;bok&quot;),\n                            root.get(&quot;taskNumber&quot;),\n                            root.get(&quot;documentType&quot;)\n                    ).orderBy(cb.desc(root.get(&quot;taskNumber&quot;)), cb.desc(root.get(&quot;bokNumber&quot;)));\n\n            return null;\n        };\n</code></pre>\n<p>And when I use it, I get the error:</p>\n<blockquote>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: column\n&quot;aggregated0_.id&quot; must appear in the GROUP BY clause or be used in an\naggregate function</p>\n</blockquote>\n<p>Does it mean I need to add 'id' to my GROUP BY? What if I do not want it? How can I fix my query?</p>\n"},{"tags":["java","json","deserialization","json-deserialization","fasterxml"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1697718135,"post_id":77323687,"comment_id":136316661,"body_markdown":"`fasterxml` directly doesn&#39;t support such a JSON structure, I bet your best option is a simple `replace`","body":"<code>fasterxml</code> directly doesn&#39;t support such a JSON structure, I bet your best option is a simple <code>replace</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1697719229,"post_id":77323687,"comment_id":136316890,"body_markdown":"That’s not JSON.  It does, however, resemble the result of calling toString() on most Map implementations provided by Java SE.  Java SE does not have any convenient way to parse it.","body":"That’s not JSON.  It does, however, resemble the result of calling toString() on most Map implementations provided by Java SE.  Java SE does not have any convenient way to parse it."},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":1,"creation_date":1697721584,"post_id":77323687,"comment_id":136317390,"body_markdown":"https://stackoverflow.com/questions/52695410/java-8-how-to-convert-string-to-mapstring-string","body":"<a href=\"https://stackoverflow.com/questions/52695410/java-8-how-to-convert-string-to-mapstring-string\" title=\"java 8 how to convert string to mapstring string\">stackoverflow.com/questions/52695410/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29705941,"reputation":1,"user_id":22766775,"display_name":"Steven Linus"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697718200,"creation_date":1697718200,"answer_id":77323734,"question_id":77323687,"body_markdown":"what about replace ‘=’ with ‘：’, then use JSON.parse\r\n\r\n`string.replace(&quot;=&quot;,&quot;:&quot;)`\r\n\r\n","title":"customized JSON parser with equal sign","body":"<p>what about replace ‘=’ with ‘：’, then use JSON.parse</p>\n<p><code>string.replace(&quot;=&quot;,&quot;:&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697731382,"creation_date":1697730568,"answer_id":77325328,"question_id":77323687,"body_markdown":"I don&#39;t think that this is a good idea ... but you *could* examine the source code of the fasterxml, find the JSON parser, and modify it to accept `=` as an alternative to `:` in the appropriate place.\r\n\r\n(I took a look at the code for myself, and it is complicated.  If I was going to go down this rabbit hole, I&#39;d investigate whether it would be feasible to switch to a simpler JSON parser.)\r\n\r\nA better idea would be to fix the software (or process) that is producing this &quot;not JSON&quot; so that it actually produces syntactically correct JSON.  The point of standard formats like JSON is to facilitate interoperable systems, software, libraries and so on.  When people generate data that doesn&#39;t conform to the standard format, it subverts that goal.  They should be told to stop ... even if they are your paying customers.  They are not doing anyone any favors.","title":"customized JSON parser with equal sign","body":"<p>I don't think that this is a good idea ... but you <em>could</em> examine the source code of the fasterxml, find the JSON parser, and modify it to accept <code>=</code> as an alternative to <code>:</code> in the appropriate place.</p>\n<p>(I took a look at the code for myself, and it is complicated.  If I was going to go down this rabbit hole, I'd investigate whether it would be feasible to switch to a simpler JSON parser.)</p>\n<p>A better idea would be to fix the software (or process) that is producing this &quot;not JSON&quot; so that it actually produces syntactically correct JSON.  The point of standard formats like JSON is to facilitate interoperable systems, software, libraries and so on.  When people generate data that doesn't conform to the standard format, it subverts that goal.  They should be told to stop ... even if they are your paying customers.  They are not doing anyone any favors.</p>\n"}],"owner":{"account_id":194307,"reputation":13348,"user_id":436559,"accept_rate":82,"display_name":"fluter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77325328,"answer_count":2,"score":0,"last_activity_date":1697735659,"creation_date":1697717841,"question_id":77323687,"body_markdown":"I&#39;m using fasterxml java library to parse json data, some of the data is using `=` instead of `:` as the key value seperator, e.g. `{&quot;key&quot;=&quot;foo&quot;, &quot;size&quot;=123}`, is there a way to let json parser properly parser this kind of data?","title":"customized JSON parser with equal sign","body":"<p>I'm using fasterxml java library to parse json data, some of the data is using <code>=</code> instead of <code>:</code> as the key value seperator, e.g. <code>{&quot;key&quot;=&quot;foo&quot;, &quot;size&quot;=123}</code>, is there a way to let json parser properly parser this kind of data?</p>\n"},{"tags":["java","nodes","doubly-linked-list"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1697727474,"post_id":77319140,"comment_id":136318687,"body_markdown":"Consider marking an answer as accepted (speaking of your previous questions).","body":"Consider marking an answer as accepted (speaking of your previous questions)."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697735602,"creation_date":1697735602,"answer_id":77325825,"question_id":77319140,"body_markdown":"Your problem comes from the way you are creating the updated nodes. Lets say you have this list (Sorry for the bad drawing):\r\n```\r\na &lt;--&gt; b &lt;--&gt; c &lt;--&gt; d\r\n```\r\nand you want to switch b and c. \r\n\r\nYour are creating the updated b(`ub`) by setting its `prev` and `next` to c&#39;s `prev` and `next` respectively.\r\nSimilarly, the updated c(`uc`) is created by setting its `prev` and `next` to b&#39;s `prev` and `next` respectively.\r\n```\r\n        &lt;----ub----&gt;\r\n       /            \\\r\na &lt;--&gt; b &lt;--&gt; c &lt;--&gt; d\r\n\\             /   \r\n &lt;------uc---&gt;       \r\n```\r\nNow you are trying to link the old prev and next to the new ones.\r\n\r\n```\r\n        &lt;---ub&lt;----&gt;\r\n       /            \\\r\na &lt;--- b &lt;--&gt; c --&gt; d\r\n\\             /   \r\n &lt;---&gt;uc-----&gt;       \r\n```\r\nNow, if you traverse it, you will get\r\n\r\n`a`, `uc`, `c`, `d`\r\n\r\nThis problem only occurs if the prev/next points to any node that is to be replaced. To solve this, you need to replace the old nodes with the updated nodes if any next/prev points to it. Here, is the updated code\r\n\r\n```Java\r\n    private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\r\n        // Creates updatedFirst node to contain the element of the second node\r\n        // Don&#39;t set the prev and next yet\r\n        Node&lt;E&gt; updatedFirst = new Node&lt;E&gt;(secondSwitch.getElement(), null, null);\r\n        // Creates updatedSecond node to contain the element of the First node\r\n        // Don&#39;t set the prev and next yet\r\n        Node&lt;E&gt; updatedSecond = new Node&lt;E&gt;(firstSwitch.getElement(), null, null);\r\n\r\n        // Find the prev and next of the old nodes. If any prev/next point to any old element that is\r\n        // about to be replaced, use the new one in its place\r\n        Node&lt;E&gt; prev1 = firstSwitch.getPrev() == secondSwitch ? updatedSecond : firstSwitch.getPrev();\r\n        Node&lt;E&gt; next1 = firstSwitch.getNext() == secondSwitch ? updatedSecond : firstSwitch.getNext();\r\n        Node&lt;E&gt; prev2 = secondSwitch.getPrev() == firstSwitch ? updatedFirst : secondSwitch.getPrev();\r\n        Node&lt;E&gt; next2 = secondSwitch.getNext() == firstSwitch ? updatedFirst : secondSwitch.getNext();\r\n\r\n        // Set the prev and next of the updated nodes\r\n        if (next2 != null) {\r\n            next2.setPrev(updatedSecond);\r\n            updatedSecond.setNext(next2);\r\n        }\r\n\r\n        if (prev2 != null) {\r\n            prev2.setNext(updatedSecond);\r\n            updatedSecond.setPrev(prev2);\r\n        }\r\n\r\n        if (next1 != null) {\r\n            next1.setPrev(updatedFirst);\r\n            updatedFirst.setNext(next1);\r\n        }\r\n\r\n        if (prev1 != null) {\r\n            prev1.setNext(updatedFirst);\r\n            updatedFirst.setPrev(prev1);\r\n        }\r\n\r\n        // Check if the head needs to be updated\r\n//        if (head == firstSwitch) {\r\n//            head = updatedFirst;\r\n//        } else if (head == secondSwitch) {\r\n//            head = updatedSecond;\r\n//        }\r\n    }\r\n```\r\nAlso, you will have to update the `head` of the list if the first node gets replaced. The last four commented out lines do that.\r\n\r\n\r\nThe easiset way to swap two nodes would be to swap just the elements. In that way you don&#39;t need to bother with other links.\r\n```java\r\n    private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\r\n        // Swap the elements\r\n        E temp = firstSwitch.getElement();\r\n        firstSwitch.setElement(secondSwitch.getElement());\r\n        secondSwitch.setElement(temp);\r\n    }\r\n```\r\n\r\nHope this helps.","title":"How to fix error in doubleLinkedList java code where when adjacent nodes are inputted to switch the second node is twice, removing the first node","body":"<p>Your problem comes from the way you are creating the updated nodes. Lets say you have this list (Sorry for the bad drawing):</p>\n<pre><code>a &lt;--&gt; b &lt;--&gt; c &lt;--&gt; d\n</code></pre>\n<p>and you want to switch b and c.</p>\n<p>Your are creating the updated b(<code>ub</code>) by setting its <code>prev</code> and <code>next</code> to c's <code>prev</code> and <code>next</code> respectively.\nSimilarly, the updated c(<code>uc</code>) is created by setting its <code>prev</code> and <code>next</code> to b's <code>prev</code> and <code>next</code> respectively.</p>\n<pre><code>        &lt;----ub----&gt;\n       /            \\\na &lt;--&gt; b &lt;--&gt; c &lt;--&gt; d\n\\             /   \n &lt;------uc---&gt;       \n</code></pre>\n<p>Now you are trying to link the old prev and next to the new ones.</p>\n<pre><code>        &lt;---ub&lt;----&gt;\n       /            \\\na &lt;--- b &lt;--&gt; c --&gt; d\n\\             /   \n &lt;---&gt;uc-----&gt;       \n</code></pre>\n<p>Now, if you traverse it, you will get</p>\n<p><code>a</code>, <code>uc</code>, <code>c</code>, <code>d</code></p>\n<p>This problem only occurs if the prev/next points to any node that is to be replaced. To solve this, you need to replace the old nodes with the updated nodes if any next/prev points to it. Here, is the updated code</p>\n<pre><code>    private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\n        // Creates updatedFirst node to contain the element of the second node\n        // Don't set the prev and next yet\n        Node&lt;E&gt; updatedFirst = new Node&lt;E&gt;(secondSwitch.getElement(), null, null);\n        // Creates updatedSecond node to contain the element of the First node\n        // Don't set the prev and next yet\n        Node&lt;E&gt; updatedSecond = new Node&lt;E&gt;(firstSwitch.getElement(), null, null);\n\n        // Find the prev and next of the old nodes. If any prev/next point to any old element that is\n        // about to be replaced, use the new one in its place\n        Node&lt;E&gt; prev1 = firstSwitch.getPrev() == secondSwitch ? updatedSecond : firstSwitch.getPrev();\n        Node&lt;E&gt; next1 = firstSwitch.getNext() == secondSwitch ? updatedSecond : firstSwitch.getNext();\n        Node&lt;E&gt; prev2 = secondSwitch.getPrev() == firstSwitch ? updatedFirst : secondSwitch.getPrev();\n        Node&lt;E&gt; next2 = secondSwitch.getNext() == firstSwitch ? updatedFirst : secondSwitch.getNext();\n\n        // Set the prev and next of the updated nodes\n        if (next2 != null) {\n            next2.setPrev(updatedSecond);\n            updatedSecond.setNext(next2);\n        }\n\n        if (prev2 != null) {\n            prev2.setNext(updatedSecond);\n            updatedSecond.setPrev(prev2);\n        }\n\n        if (next1 != null) {\n            next1.setPrev(updatedFirst);\n            updatedFirst.setNext(next1);\n        }\n\n        if (prev1 != null) {\n            prev1.setNext(updatedFirst);\n            updatedFirst.setPrev(prev1);\n        }\n\n        // Check if the head needs to be updated\n//        if (head == firstSwitch) {\n//            head = updatedFirst;\n//        } else if (head == secondSwitch) {\n//            head = updatedSecond;\n//        }\n    }\n</code></pre>\n<p>Also, you will have to update the <code>head</code> of the list if the first node gets replaced. The last four commented out lines do that.</p>\n<p>The easiset way to swap two nodes would be to swap just the elements. In that way you don't need to bother with other links.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\n        // Swap the elements\n        E temp = firstSwitch.getElement();\n        firstSwitch.setElement(secondSwitch.getElement());\n        secondSwitch.setElement(temp);\n    }\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":25501930,"reputation":1,"user_id":19294990,"display_name":"TylerDr16"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697735602,"creation_date":1697657818,"question_id":77319140,"body_markdown":"I am making a project right now to practice double linked lists and I have been working on a method in my double linked lists class which switches node locations. It works fine when trying to switch non adjacent nodes but when trying to switch adjacent nodes the error occurs for example.\r\n\r\nIf the starting list is:\r\n\r\n1. Carrot\r\n2. Candy\r\n3. Watermelon\r\n4. Bread\r\n\r\nThe output will be\r\n\r\n1. Carrot\r\n2. Watermelon\r\n3. Watermelon\r\n4. Bread\r\n\r\nIm trying to figure out the error but my knowledge is lacking there, Any help would be great I appreciate it!\r\n\r\nI tried creating a temp node to hold the original prev and next for the nodes, but that didnt work.\r\nI tried if statements which checked if the prev and next were equal and that didnt work.\r\n\r\nHere is my code\r\n\r\n    public void switchNodes(int firstSpace, int secondSpace){\r\n        \r\n        //If statement which checks isEmpty(), and if firstSpace and secondSpace is less than 0.\r\n        if(isEmpty()|| firstSpace &lt; 0 || secondSpace &lt; 0){\r\n            System.out.println(&quot;List is empty or one of spaces is entered does not have anything in it.&quot;);//If any of the previous if scenarios is met, prints a message telling the user that.\r\n        }\r\n        else{\r\n        Node&lt;E&gt; firstN = current(firstSpace); //Creates a node firstN by calling the current method and using the imported firstSpace int.\r\n        Node&lt;E&gt; secondN = current(secondSpace); //Creates a node secondN by calling the current method and using the imported secondSpace int.\r\n        \r\n        switchSpace(firstN, secondN);//Calls the switchSpace method with nodes firstN and secondN.\r\n\r\n        }  \r\n    }\r\n    \r\n      /**\r\n       *Private method which takes in two nodes and switches their positions on the list.\r\n       * Done by creating two nodes with the information imported from the switchNodes method.\r\n       * The created nodes contain the same element and the swapped prev and next.\r\n       * The nodes around the swapped nodes are then accessed and replaced to the swapped nodes address.\r\n       */\r\n      private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\r\n        \r\n        //Creates switchedFirst node to contain the element of the imported firstSwitch node and the addresses of the secondSwitch node.\r\n        Node&lt;E&gt; switchedFirst = new Node&lt;E&gt;(firstSwitch.getElement(), secondSwitch.getPrev(), secondSwitch.getNext());\r\n        //Creates switchedSecond node to contain the element of the imported secondSwitch node and the addresses of the firstSwitch node.\r\n        Node&lt;E&gt; switchedSecond = new Node&lt;E&gt;(secondSwitch.getElement(), firstSwitch.getPrev(), firstSwitch.getNext());\r\n        \r\n        switchedFirst.getNext().setPrev(switchedFirst);//The node after the switchedFirst nodes new position is accessed and the prev address is set to switchedFirst.\r\n        switchedFirst.getPrev().setNext(switchedFirst);//The node before the switchedFirst nodes new position is accessed and the next address is set to switchedFirst.\r\n\r\n        switchedSecond.getNext().setPrev(switchedSecond);//The node after the switchedSecond nodes new position is accessed and the prev address is set to switchedSecond.\r\n        switchedSecond.getPrev().setNext(switchedSecond);//The node before the switchedSecond nodes new position is accessed and the next address is set to switchedSecond.\r\n        \r\n      \r\n    }","title":"How to fix error in doubleLinkedList java code where when adjacent nodes are inputted to switch the second node is twice, removing the first node","body":"<p>I am making a project right now to practice double linked lists and I have been working on a method in my double linked lists class which switches node locations. It works fine when trying to switch non adjacent nodes but when trying to switch adjacent nodes the error occurs for example.</p>\n<p>If the starting list is:</p>\n<ol>\n<li>Carrot</li>\n<li>Candy</li>\n<li>Watermelon</li>\n<li>Bread</li>\n</ol>\n<p>The output will be</p>\n<ol>\n<li>Carrot</li>\n<li>Watermelon</li>\n<li>Watermelon</li>\n<li>Bread</li>\n</ol>\n<p>Im trying to figure out the error but my knowledge is lacking there, Any help would be great I appreciate it!</p>\n<p>I tried creating a temp node to hold the original prev and next for the nodes, but that didnt work.\nI tried if statements which checked if the prev and next were equal and that didnt work.</p>\n<p>Here is my code</p>\n<pre><code>public void switchNodes(int firstSpace, int secondSpace){\n    \n    //If statement which checks isEmpty(), and if firstSpace and secondSpace is less than 0.\n    if(isEmpty()|| firstSpace &lt; 0 || secondSpace &lt; 0){\n        System.out.println(&quot;List is empty or one of spaces is entered does not have anything in it.&quot;);//If any of the previous if scenarios is met, prints a message telling the user that.\n    }\n    else{\n    Node&lt;E&gt; firstN = current(firstSpace); //Creates a node firstN by calling the current method and using the imported firstSpace int.\n    Node&lt;E&gt; secondN = current(secondSpace); //Creates a node secondN by calling the current method and using the imported secondSpace int.\n    \n    switchSpace(firstN, secondN);//Calls the switchSpace method with nodes firstN and secondN.\n\n    }  \n}\n\n  /**\n   *Private method which takes in two nodes and switches their positions on the list.\n   * Done by creating two nodes with the information imported from the switchNodes method.\n   * The created nodes contain the same element and the swapped prev and next.\n   * The nodes around the swapped nodes are then accessed and replaced to the swapped nodes address.\n   */\n  private void switchSpace(Node&lt;E&gt; firstSwitch, Node&lt;E&gt; secondSwitch){\n    \n    //Creates switchedFirst node to contain the element of the imported firstSwitch node and the addresses of the secondSwitch node.\n    Node&lt;E&gt; switchedFirst = new Node&lt;E&gt;(firstSwitch.getElement(), secondSwitch.getPrev(), secondSwitch.getNext());\n    //Creates switchedSecond node to contain the element of the imported secondSwitch node and the addresses of the firstSwitch node.\n    Node&lt;E&gt; switchedSecond = new Node&lt;E&gt;(secondSwitch.getElement(), firstSwitch.getPrev(), firstSwitch.getNext());\n    \n    switchedFirst.getNext().setPrev(switchedFirst);//The node after the switchedFirst nodes new position is accessed and the prev address is set to switchedFirst.\n    switchedFirst.getPrev().setNext(switchedFirst);//The node before the switchedFirst nodes new position is accessed and the next address is set to switchedFirst.\n\n    switchedSecond.getNext().setPrev(switchedSecond);//The node after the switchedSecond nodes new position is accessed and the prev address is set to switchedSecond.\n    switchedSecond.getPrev().setNext(switchedSecond);//The node before the switchedSecond nodes new position is accessed and the next address is set to switchedSecond.\n    \n  \n}\n</code></pre>\n"},{"tags":["java","ssl","ssl-certificate","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":241004,"reputation":3291,"user_id":511562,"display_name":"Willem Jiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390788831,"creation_date":1390788831,"answer_id":21371960,"question_id":21317519,"body_markdown":"I think you are using [camel-http][1] component, you need to use [camel-http4][2] component instead.\r\n\r\n\r\n  [1]: http://camel.apache.org/http.html\r\n  [2]: http://camel.apache.org/http4.html","title":"Disable camel certificate validation in Camel 2.12","body":"<p>I think you are using <a href=\"http://camel.apache.org/http.html\" rel=\"nofollow\">camel-http</a> component, you need to use <a href=\"http://camel.apache.org/http4.html\" rel=\"nofollow\">camel-http4</a> component instead.</p>\n"},{"tags":[],"owner":{"account_id":3901507,"reputation":21,"user_id":3229256,"display_name":"user3229256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392060920,"creation_date":1392060920,"answer_id":21686299,"question_id":21317519,"body_markdown":"OK, I finally managed to get this to work - thanks to the many postings out there that helped with some of the detail of what I was attempting to do, particular thanks to [this posting][1]. Step by step using Camel 2.12.1 -\r\n\r\nMy secure URL behind a proxy -\r\n\r\n    https4://someURL?proxyAuthHost=proxy.company.com&amp;proxyAuthPort=8080&amp;proxyAuthScheme=http\r\n\r\nCreating the component to access the URL -\r\n\r\n    import org.apache.camel.component.http4.HttpComponent;\r\n    ...\r\n    final HttpComponent myComponent = new HttpComponent();\r\n    myComponent.setClientConnectionManager(new PoolingClientConnectionManager());\r\n    myComponent.setHttpClientConfigurer(new myHttpClientConfigurer());\r\n\r\nNote: the need to set a ClientConnectionManager only became clear when the code threw a NPE in HttpComponent at line 317 -\r\n\r\n    SchemeRegistry registry = clientConnectionManager.getSchemeRegistry();\r\n\r\n\r\n\r\n**myHttpClientConfigurer.java**\r\n\r\n     import org.apache.camel.component.http4.HttpClientConfigurer;\r\n     import org.apache.http.client.HttpClient;\r\n     ...\r\n     public class myHttpClientConfigurer implements HttpClientConfigurer {\r\n    \r\n        @Override\r\n        public void configureHttpClient(HttpClient hc) {\r\n            try {\r\n                Properties properties = loadProperties();\r\n                KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n                final String javaKeystoreFile = getJavaKeystoreFile(properties);\r\n                final String keystorePassword = getKeystorePassword(properties);\r\n                trustStore.load(new FileInputStream(javaKeystoreFile), keystorePassword.toCharArray());\r\n    \r\n                KeyManagerFactory keyFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                keyFactory.init(trustStore, keystorePassword.toCharArray());\r\n    \r\n                TrustManagerFactory trustFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                trustFactory.init(trustStore);\r\n    \r\n                SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslcontext.init(keyFactory.getKeyManagers(), trustFactory.getTrustManagers(), null);\r\n    \r\n                TrustStrategy trustStrategy = new TrustStrategy() {\r\n    \r\n                    @Override\r\n                    public boolean isTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n                        return true;\r\n                    }\r\n                    \r\n                };\r\n    \r\n                SSLSocketFactory factory = new SSLSocketFactory(SSLSocketFactory.TLS, trustStore, keystorePassword, trustStore, null, trustStrategy, SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n    \r\n                SchemeRegistry registry = hc.getConnectionManager().getSchemeRegistry();\r\n                registry.register(new Scheme(&quot;https&quot;, 443, factory));\r\n    \r\n            catch ...\r\n     }\r\n\r\n\r\nNote that although the URL specifies &quot;https4&quot;, the **new Scheme()** is &quot;https&quot;. This seemed to be the only way I could get it to work, after stepping though the **HttpComponent** code in the debugger.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5706166/apache-camel-http-and-ssl &quot;this posting&quot;","title":"Disable camel certificate validation in Camel 2.12","body":"<p>OK, I finally managed to get this to work - thanks to the many postings out there that helped with some of the detail of what I was attempting to do, particular thanks to <a href=\"https://stackoverflow.com/questions/5706166/apache-camel-http-and-ssl\" title=\"this posting\">this posting</a>. Step by step using Camel 2.12.1 -</p>\n\n<p>My secure URL behind a proxy -</p>\n\n<pre><code>https4://someURL?proxyAuthHost=proxy.company.com&amp;proxyAuthPort=8080&amp;proxyAuthScheme=http\n</code></pre>\n\n<p>Creating the component to access the URL -</p>\n\n<pre><code>import org.apache.camel.component.http4.HttpComponent;\n...\nfinal HttpComponent myComponent = new HttpComponent();\nmyComponent.setClientConnectionManager(new PoolingClientConnectionManager());\nmyComponent.setHttpClientConfigurer(new myHttpClientConfigurer());\n</code></pre>\n\n<p>Note: the need to set a ClientConnectionManager only became clear when the code threw a NPE in HttpComponent at line 317 -</p>\n\n<pre><code>SchemeRegistry registry = clientConnectionManager.getSchemeRegistry();\n</code></pre>\n\n<p><strong>myHttpClientConfigurer.java</strong></p>\n\n<pre><code> import org.apache.camel.component.http4.HttpClientConfigurer;\n import org.apache.http.client.HttpClient;\n ...\n public class myHttpClientConfigurer implements HttpClientConfigurer {\n\n    @Override\n    public void configureHttpClient(HttpClient hc) {\n        try {\n            Properties properties = loadProperties();\n            KeyStore trustStore = KeyStore.getInstance(\"JKS\");\n            final String javaKeystoreFile = getJavaKeystoreFile(properties);\n            final String keystorePassword = getKeystorePassword(properties);\n            trustStore.load(new FileInputStream(javaKeystoreFile), keystorePassword.toCharArray());\n\n            KeyManagerFactory keyFactory = KeyManagerFactory.getInstance(\"SunX509\");\n            keyFactory.init(trustStore, keystorePassword.toCharArray());\n\n            TrustManagerFactory trustFactory = TrustManagerFactory.getInstance(\"SunX509\");\n            trustFactory.init(trustStore);\n\n            SSLContext sslcontext = SSLContext.getInstance(\"TLS\");\n            sslcontext.init(keyFactory.getKeyManagers(), trustFactory.getTrustManagers(), null);\n\n            TrustStrategy trustStrategy = new TrustStrategy() {\n\n                @Override\n                public boolean isTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n                    return true;\n                }\n\n            };\n\n            SSLSocketFactory factory = new SSLSocketFactory(SSLSocketFactory.TLS, trustStore, keystorePassword, trustStore, null, trustStrategy, SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n\n            SchemeRegistry registry = hc.getConnectionManager().getSchemeRegistry();\n            registry.register(new Scheme(\"https\", 443, factory));\n\n        catch ...\n }\n</code></pre>\n\n<p>Note that although the URL specifies \"https4\", the <strong>new Scheme()</strong> is \"https\". This seemed to be the only way I could get it to work, after stepping though the <strong>HttpComponent</strong> code in the debugger.</p>\n"},{"tags":[],"owner":{"account_id":9507026,"reputation":68,"user_id":7066177,"display_name":"Sergey Melnikov"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1477379825,"creation_date":1477338162,"answer_id":40226275,"question_id":21317519,"body_markdown":"I have disabled validation as follows:\r\n\r\n    import org.apache.camel.CamelContext;\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.component.http4.HttpComponent;\r\n    import org.apache.camel.impl.DefaultCamelContext;\r\n    import org.apache.camel.util.jndi.JndiContext;\r\n    import org.apache.camel.util.jsse.KeyStoreParameters;\r\n    import org.apache.camel.util.jsse.SSLContextParameters;\r\n    import org.apache.camel.util.jsse.TrustManagersParameters;\r\n    import org.apache.http.conn.ssl.AllowAllHostnameVerifier;\r\n    \r\n    public class Sample {\r\n    \tpublic static void main(String args[]) throws Exception{\t \r\n    \t JndiContext jndiContext = new JndiContext();\r\n    \t jndiContext.bind(&quot;x509HostnameVerifier&quot;, new AllowAllHostnameVerifier());\r\n    \t CamelContext context = new DefaultCamelContext(jndiContext);\t\r\n         context.addRoutes(new RouteBuilder() {\r\n        \t private void configurate(){\r\n        \t    KeyStoreParameters trust_ksp = new KeyStoreParameters();\r\n        \t    trust_ksp.setResource(&quot;keystore/keystore.jks&quot;);\r\n        \t    trust_ksp.setPassword(&quot;qweqwe&quot;);\r\n        \t    TrustManagersParameters trustp = new TrustManagersParameters();\r\n        \t    trustp.setKeyStore(trust_ksp);\r\n        \t    SSLContextParameters scp = new SSLContextParameters();\r\n        \t    scp.setTrustManagers(trustp);\r\n        \t    HttpComponent httpComponent = getContext().getComponent(&quot;https4&quot;, HttpComponent.class);\r\n        \t    httpComponent.setSslContextParameters(scp);\r\n        \t }\t\t\t\r\n    \t\t\t public void configure() throws Exception {\r\n    \t\t\t\t configurate();\r\n    \t\t\t\t\t from(&quot;file://test_folder&quot;)\r\n    \t\t\t\t\t .setHeader(&quot;SOAPAction&quot;, constant(&quot;/Action&quot;))\r\n    \t\t\t\t\t .to(&quot;https4://localhost?x509HostnameVerifier=x509HostnameVerifier&amp;authUsername=user&amp;authPassword=pasword&quot;);\t\r\n    \t\t}\r\n    \t});\r\n         \r\n         context.start();\r\n         Thread.sleep(600000);\r\n         context.stop();\r\n         \r\n    \t}","title":"Disable camel certificate validation in Camel 2.12","body":"<p>I have disabled validation as follows:</p>\n\n<pre><code>import org.apache.camel.CamelContext;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.component.http4.HttpComponent;\nimport org.apache.camel.impl.DefaultCamelContext;\nimport org.apache.camel.util.jndi.JndiContext;\nimport org.apache.camel.util.jsse.KeyStoreParameters;\nimport org.apache.camel.util.jsse.SSLContextParameters;\nimport org.apache.camel.util.jsse.TrustManagersParameters;\nimport org.apache.http.conn.ssl.AllowAllHostnameVerifier;\n\npublic class Sample {\n    public static void main(String args[]) throws Exception{     \n     JndiContext jndiContext = new JndiContext();\n     jndiContext.bind(\"x509HostnameVerifier\", new AllowAllHostnameVerifier());\n     CamelContext context = new DefaultCamelContext(jndiContext);   \n     context.addRoutes(new RouteBuilder() {\n         private void configurate(){\n            KeyStoreParameters trust_ksp = new KeyStoreParameters();\n            trust_ksp.setResource(\"keystore/keystore.jks\");\n            trust_ksp.setPassword(\"qweqwe\");\n            TrustManagersParameters trustp = new TrustManagersParameters();\n            trustp.setKeyStore(trust_ksp);\n            SSLContextParameters scp = new SSLContextParameters();\n            scp.setTrustManagers(trustp);\n            HttpComponent httpComponent = getContext().getComponent(\"https4\", HttpComponent.class);\n            httpComponent.setSslContextParameters(scp);\n         }          \n             public void configure() throws Exception {\n                 configurate();\n                     from(\"file://test_folder\")\n                     .setHeader(\"SOAPAction\", constant(\"/Action\"))\n                     .to(\"https4://localhost?x509HostnameVerifier=x509HostnameVerifier&amp;authUsername=user&amp;authPassword=pasword\");    \n        }\n    });\n\n     context.start();\n     Thread.sleep(600000);\n     context.stop();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":3901507,"reputation":21,"user_id":3229256,"display_name":"user3229256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1697735401,"creation_date":1390505077,"question_id":21317519,"body_markdown":"I have a requirement to temporarily disable certificate validation in Camel 2.12. I am referencing a test web service that is currently supplying an invalid certificate and getting the following exception -\r\n\r\n    Exception in route: sun.security.validator.ValidatorException: PKIX path building     failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nMany of the example I&#39;ve found on SO revolve around creating an HttpClientConfigurer and doing this -\r\n\r\n            SSLContext ctx = SSLContext.getInstance(&quot;SSL&quot;); \r\n            ctx.init(null, new TrustManager[] { tm }, null); \r\n\r\n            SSLSocketFactory ssf = new SSLSocketFactory(ctx, \r\n                    SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER); \r\n            ClientConnectionManager ccm = client.getConnectionManager(); \r\n            SchemeRegistry sr = ccm.getSchemeRegistry(); \r\n            sr.register(new Scheme(&quot;https4&quot;, 443, ssf)); \r\n\r\nThese solutions require a version of the **configureHttpClient(HttpClient hc)** method that takes an **org.apache.http.client.HttpClient**. In my Camel version, this method takes an **org.apache.commons.httpclient.HttpClient**, and has no reference to **getConnectionManager()**.\r\n\r\nI&#39;ve tried the JVM setting **com.sun.net.ssl.checkRevocation=false**, but this has no effect.\r\n","title":"Disable camel certificate validation in Camel 2.12","body":"<p>I have a requirement to temporarily disable certificate validation in Camel 2.12. I am referencing a test web service that is currently supplying an invalid certificate and getting the following exception -</p>\n\n<pre><code>Exception in route: sun.security.validator.ValidatorException: PKIX path building     failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>Many of the example I've found on SO revolve around creating an HttpClientConfigurer and doing this -</p>\n\n<pre><code>        SSLContext ctx = SSLContext.getInstance(\"SSL\"); \n        ctx.init(null, new TrustManager[] { tm }, null); \n\n        SSLSocketFactory ssf = new SSLSocketFactory(ctx, \n                SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER); \n        ClientConnectionManager ccm = client.getConnectionManager(); \n        SchemeRegistry sr = ccm.getSchemeRegistry(); \n        sr.register(new Scheme(\"https4\", 443, ssf)); \n</code></pre>\n\n<p>These solutions require a version of the <strong>configureHttpClient(HttpClient hc)</strong> method that takes an <strong>org.apache.http.client.HttpClient</strong>. In my Camel version, this method takes an <strong>org.apache.commons.httpclient.HttpClient</strong>, and has no reference to <strong>getConnectionManager()</strong>.</p>\n\n<p>I've tried the JVM setting <strong>com.sun.net.ssl.checkRevocation=false</strong>, but this has no effect.</p>\n"},{"tags":["java","hibernate","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1697801880,"post_id":77325607,"comment_id":136328681,"body_markdown":"does this solve your issue? https://stackoverflow.com/questions/2784228/optional-one-to-one-mapping-in-hibernate","body":"does this solve your issue? <a href=\"https://stackoverflow.com/questions/2784228/optional-one-to-one-mapping-in-hibernate\" title=\"optional one to one mapping in hibernate\">stackoverflow.com/questions/2784228/&hellip;</a>"}],"owner":{"account_id":3593760,"reputation":296,"user_id":2999111,"accept_rate":75,"display_name":"psyskeptic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697734777,"creation_date":1697733233,"question_id":77325607,"body_markdown":"I have two entities\r\n\r\n```\r\n@Entity\r\nclass Parent(\r\n    @Id \r\n    val id: Long,\r\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\r\n    @MapsId\r\n    @JoinColumn(name = &quot;id&quot;)\r\n    val child: Child?,\r\n}\r\n\r\n@Entity\r\nclass Child(\r\n    @Id \r\n    val id: Long,\r\n    val someBasicField: Int\r\n)\r\n```\r\nParent and Child share same Primary key.\r\n\r\nIn hibernate 5 (5.6.14.Final) this setup works fine. Its have lazy loading. And it can be null, and child may not be exist. \r\nMake attention to `optional = true`, and child declared as nullable.\r\n\r\nBut in hibernate 6 (6.2.9.Final), when you execute query with fetching child like\r\n\r\n```\r\n@EntityGraph(attributePaths = [&quot;child&quot;])\r\nfun findById(id: Long): Parent?\r\n```\r\n\r\nIf child does not exist, hibernate will throw \r\n```\r\norg.hibernate.FetchNotFoundException: Entity foo.bar.Child with identifier value `123` does not exist\r\n```\r\nwhich is actualy OK because as i mentioned earlier relation is specified as nullable and optional. Why this behaveior changed in hibernate 6? why its act like `optional=false`?\r\n\r\n*Not working workarounds:*\r\n\r\n- Solution with `@NotFound(action = IGNORE)` is not apliable, because you lose LAZY, and relation will always act as EAGER which i dont want.\r\n\r\n- If i replace `@MapsId` with `@PrimaryKeyJoinColumn` exception will not trown anymore, but againg it will loose `LAZY` fetching, and will act as `EAGER`","title":"@OneToOne Nullable (optional=true) throws FetchNotFoundException in hibernate 6","body":"<p>I have two entities</p>\n<pre><code>@Entity\nclass Parent(\n    @Id \n    val id: Long,\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\n    @MapsId\n    @JoinColumn(name = &quot;id&quot;)\n    val child: Child?,\n}\n\n@Entity\nclass Child(\n    @Id \n    val id: Long,\n    val someBasicField: Int\n)\n</code></pre>\n<p>Parent and Child share same Primary key.</p>\n<p>In hibernate 5 (5.6.14.Final) this setup works fine. Its have lazy loading. And it can be null, and child may not be exist.\nMake attention to <code>optional = true</code>, and child declared as nullable.</p>\n<p>But in hibernate 6 (6.2.9.Final), when you execute query with fetching child like</p>\n<pre><code>@EntityGraph(attributePaths = [&quot;child&quot;])\nfun findById(id: Long): Parent?\n</code></pre>\n<p>If child does not exist, hibernate will throw</p>\n<pre><code>org.hibernate.FetchNotFoundException: Entity foo.bar.Child with identifier value `123` does not exist\n</code></pre>\n<p>which is actualy OK because as i mentioned earlier relation is specified as nullable and optional. Why this behaveior changed in hibernate 6? why its act like <code>optional=false</code>?</p>\n<p><em>Not working workarounds:</em></p>\n<ul>\n<li><p>Solution with <code>@NotFound(action = IGNORE)</code> is not apliable, because you lose LAZY, and relation will always act as EAGER which i dont want.</p>\n</li>\n<li><p>If i replace <code>@MapsId</code> with <code>@PrimaryKeyJoinColumn</code> exception will not trown anymore, but againg it will loose <code>LAZY</code> fetching, and will act as <code>EAGER</code></p>\n</li>\n</ul>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1487283237,"creation_date":1487283237,"answer_id":42285679,"question_id":42285023,"body_markdown":"If you look at the official doc, for the jpa entity life cycle callback annotation, you will see there is no `@Inherited` annotation there. This meta-annotation causes annotations to be inherited from superclass. As it is not in these callback method annotations, subclass will be unaware about their presence in the superclass. Exactly that is going on in your case, MyEntityListener.class is getting queueForIndex(T entity) method by inheritence as a normal method, not as a entity life cycle callback method.\r\n\r\nShowing only one as example reference:\r\nhttp://docs.oracle.com/javaee/6/api/javax/persistence/PostUpdate.html\r\n\r\n    @Target(value=METHOD)\r\n    @Retention(value=RUNTIME)\r\n    public @interface PostUpdate","title":"JPA EventListeners not working","body":"<p>If you look at the official doc, for the jpa entity life cycle callback annotation, you will see there is no <code>@Inherited</code> annotation there. This meta-annotation causes annotations to be inherited from superclass. As it is not in these callback method annotations, subclass will be unaware about their presence in the superclass. Exactly that is going on in your case, MyEntityListener.class is getting queueForIndex(T entity) method by inheritence as a normal method, not as a entity life cycle callback method.</p>\n\n<p>Showing only one as example reference:\n<a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/PostUpdate.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javaee/6/api/javax/persistence/PostUpdate.html</a></p>\n\n<pre><code>@Target(value=METHOD)\n@Retention(value=RUNTIME)\npublic @interface PostUpdate\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4352715,"reputation":596,"user_id":3552458,"display_name":"ladorm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697734496,"creation_date":1697734496,"answer_id":77325727,"question_id":42285023,"body_markdown":"The correct answer is that when Hibernate fetches the methods from the listener class, it uses `getDeclaredMethods()` which doesn&#39;t return inherited methods.\r\n\r\nYou can see in \r\n`org.hibernate.jpa.event.internal.CallbackDefinitionResolverLegacyImpl.resolveEntityCallbacks`\r\n\r\n```java\r\nXClass xListener = reflectionManager.toXClass( listener );\r\ncallbacksMethodNames = new ArrayList&lt;&gt;();\r\nList&lt;XMethod&gt; methods = xListener.getDeclaredMethods();\r\n```\r\n\r\nCode from hibernate-core-5.6.15","title":"JPA EventListeners not working","body":"<p>The correct answer is that when Hibernate fetches the methods from the listener class, it uses <code>getDeclaredMethods()</code> which doesn't return inherited methods.</p>\n<p>You can see in\n<code>org.hibernate.jpa.event.internal.CallbackDefinitionResolverLegacyImpl.resolveEntityCallbacks</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>XClass xListener = reflectionManager.toXClass( listener );\ncallbacksMethodNames = new ArrayList&lt;&gt;();\nList&lt;XMethod&gt; methods = xListener.getDeclaredMethods();\n</code></pre>\n<p>Code from hibernate-core-5.6.15</p>\n"}],"owner":{"account_id":189206,"reputation":6122,"user_id":428400,"accept_rate":83,"display_name":"Glenn Bech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42285679,"answer_count":2,"score":0,"last_activity_date":1697734496,"creation_date":1487280551,"question_id":42285023,"body_markdown":"I use Spring Boot, running with v1.5.1.RELEASE, Spring v4.3.6.RELEASE. I am trying to be a bit clever with my JPA event listeners, but it is not working; \r\n\r\nMy entity looks like this\r\n\r\n    @Entity\r\n    @EntityListeners({MyEntityListener.class})\r\n    public class Entity extends SomeOtherEntity implements SomeInterfaceForAudit {\r\n    }\r\n\r\nMy EventListener class looks like this\r\n\r\n    public class MyEntityListener extends EntityListener&lt;SchoolAdmin&gt; {\r\n    \r\n    // some other useful things in here...\r\n    \r\n    }\r\n\r\nMy &quot;cleverness&quot; is in that I have tried to &quot;generify&quot; the EntityListener like this;\r\n\r\npublic abstract class EntityListener&lt;T&gt; {\r\n\r\n \r\n\r\n       public abstract class EntityListener&lt;T&gt; {\r\n    \r\n        \tprivate Logger logger = LoggerFactory.getLogger(this.getClass());\r\n        \r\n     \t    @PostUpdate\r\n        \t@PostConstruct\r\n        \t@PostRemove\r\n        \tpublic void queueForIndex(T entity) {\r\n        \t\tlogger.info(&quot;queueForIndex &quot; + entity.toString());\r\n        \t}\r\n        }\r\n    }\r\n\r\nThere is no logging done. I have tried to create a method like this in my Entity class\r\n\r\n    @PostUpdate\r\n    public void reIndex() {\r\n    \tSystem.out.println(&quot;--- post update-- ---- -&lt;&lt;&lt;--- &quot; + entity);\r\n    } \r\n\r\nThis works. I can&#39;t see why my Generified versjon should not work? Anyone?\r\n\r\n\r\n","title":"JPA EventListeners not working","body":"<p>I use Spring Boot, running with v1.5.1.RELEASE, Spring v4.3.6.RELEASE. I am trying to be a bit clever with my JPA event listeners, but it is not working; </p>\n\n<p>My entity looks like this</p>\n\n<pre><code>@Entity\n@EntityListeners({MyEntityListener.class})\npublic class Entity extends SomeOtherEntity implements SomeInterfaceForAudit {\n}\n</code></pre>\n\n<p>My EventListener class looks like this</p>\n\n<pre><code>public class MyEntityListener extends EntityListener&lt;SchoolAdmin&gt; {\n\n// some other useful things in here...\n\n}\n</code></pre>\n\n<p>My \"cleverness\" is in that I have tried to \"generify\" the EntityListener like this;</p>\n\n<p>public abstract class EntityListener {</p>\n\n<pre><code>   public abstract class EntityListener&lt;T&gt; {\n\n        private Logger logger = LoggerFactory.getLogger(this.getClass());\n\n        @PostUpdate\n        @PostConstruct\n        @PostRemove\n        public void queueForIndex(T entity) {\n            logger.info(\"queueForIndex \" + entity.toString());\n        }\n    }\n}\n</code></pre>\n\n<p>There is no logging done. I have tried to create a method like this in my Entity class</p>\n\n<pre><code>@PostUpdate\npublic void reIndex() {\n    System.out.println(\"--- post update-- ---- -&lt;&lt;&lt;--- \" + entity);\n} \n</code></pre>\n\n<p>This works. I can't see why my Generified versjon should not work? Anyone?</p>\n"},{"tags":["java","android","android-jetpack-compose","ui-automation"],"owner":{"account_id":4346982,"reputation":21,"user_id":11317083,"display_name":"itapi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697734301,"creation_date":1697734301,"question_id":77325713,"body_markdown":"I&#39;m using the Android studio `uiautomatorviewer` feature in my work,generally I&#39;m obtaining the view&#39;s id&#39;s ,and then using the information to automate things.\r\nit&#39;s working perfect on alot of apps,but no on the compouseui apps.\r\nI know that jetpack compose ui apps does not work with the traditional xml layout file,with view&#39;s and etc.... so my question is : is there any way to get a unique identifier(maybe not id,but something else) for a view,so I can get a isolate the desired element from an app?\r\n\r\nIn the image below:Google play store app,which also built in composeui(at last in the last versions),and my goal is to get any unique identifier to the image element beside of it.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q9QfJ.png","title":"uiautomatorviewer on composeUI apps","body":"<p>I'm using the Android studio <code>uiautomatorviewer</code> feature in my work,generally I'm obtaining the view's id's ,and then using the information to automate things.\nit's working perfect on alot of apps,but no on the compouseui apps.\nI know that jetpack compose ui apps does not work with the traditional xml layout file,with view's and etc.... so my question is : is there any way to get a unique identifier(maybe not id,but something else) for a view,so I can get a isolate the desired element from an app?</p>\n<p>In the image below:Google play store app,which also built in composeui(at last in the last versions),and my goal is to get any unique identifier to the image element beside of it.</p>\n<p><a href=\"https://i.stack.imgur.com/q9QfJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q9QfJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","junit","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655827003,"creation_date":1655827003,"answer_id":72703848,"question_id":72703761,"body_markdown":"The solution is to use ```Nested``` class in JUnit5. I removed ```OutputCaptureExtension``` from root class and added that on top of ```Nested``` class and it worked fine.\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass SampleTest {\r\n\r\n    // Few Mocks and InjectMock\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\r\n    void someTest(String input, String output) {\r\n        assertEquals(output, &quot;hi-&quot; + input);\r\n    }\r\n\r\n    @Nested\r\n    @ExtendWith(OutputCaptureExtension.class)\r\n    class NestedTest {\r\n        @Test\r\n        void anotherTest(CapturedOutput capturedOutput) {\r\n            assertFalse(capturedOutput.getAll().contains(&quot;Checking some logs&quot;));\r\n        }\r\n\r\n        @Test\r\n        void lastTest(CapturedOutput capturedOutput) {\r\n            assertFalse(capturedOutput.getAll().contains(&quot;Again checking some logs&quot;));\r\n        }\r\n    }\r\n}\r\n```","title":"OutputCaptureExtension and ParameterizedTest not working together","body":"<p>The solution is to use <code>Nested</code> class in JUnit5. I removed <code>OutputCaptureExtension</code> from root class and added that on top of <code>Nested</code> class and it worked fine.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass SampleTest {\n\n    // Few Mocks and InjectMock\n\n    @ParameterizedTest\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\n    void someTest(String input, String output) {\n        assertEquals(output, &quot;hi-&quot; + input);\n    }\n\n    @Nested\n    @ExtendWith(OutputCaptureExtension.class)\n    class NestedTest {\n        @Test\n        void anotherTest(CapturedOutput capturedOutput) {\n            assertFalse(capturedOutput.getAll().contains(&quot;Checking some logs&quot;));\n        }\n\n        @Test\n        void lastTest(CapturedOutput capturedOutput) {\n            assertFalse(capturedOutput.getAll().contains(&quot;Again checking some logs&quot;));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697733626,"creation_date":1697733626,"answer_id":77325646,"question_id":72703761,"body_markdown":"I had similar issue and interesting fix.\r\n\r\nI was writing one Unit test which should have the CapturedOutput to assert on logs, and also work with @CsvSource.\r\nMy test looked like below\r\n\r\n\r\n    @ExtendWith({OutputCaptureExtension.class, MockitoExtension.class})\r\n    class SampleTest {\r\n    \r\n    \r\n        @ParameterizedTest\r\n        @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\r\n        void someTest(final CapturedOutput output, final String input, final String output) {\r\n            assertEquals(output, &quot;hi-&quot; + input);\r\n            assert(output).contains(&quot;expected logs&quot;)\r\n        }\r\n\r\nHowever when I ran the unit test, I got below error.\r\n\r\n    Discovered multiple competing ParameterResolvers for parameter [final org.springframework.boot.test.system.CapturedOutput output] \r\n\r\n    org.junit.jupiter.api.extension.ParameterResolutionException: Discovered multiple competing ParameterResolvers for parameter [final org.springframework.boot.test.system.CapturedOutput output]\r\n\r\nAfter banging my head for few minutes, tried reordering the parameters and it worked like a charm.\r\n\r\n   \r\n     @ParameterizedTest\r\n        @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\r\n        void someTest(final String input, final String output,final CapturedOutput output) {\r\n            assertEquals(output, &quot;hi-&quot; + input);\r\n            assert(output).contains(&quot;expected logs&quot;)\r\n        }\r\n\r\nSo, the learning here is, parameters for CSVSource should be provided first and CapturedOutput should be the last.","title":"OutputCaptureExtension and ParameterizedTest not working together","body":"<p>I had similar issue and interesting fix.</p>\n<p>I was writing one Unit test which should have the CapturedOutput to assert on logs, and also work with @CsvSource.\nMy test looked like below</p>\n<pre><code>@ExtendWith({OutputCaptureExtension.class, MockitoExtension.class})\nclass SampleTest {\n\n\n    @ParameterizedTest\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\n    void someTest(final CapturedOutput output, final String input, final String output) {\n        assertEquals(output, &quot;hi-&quot; + input);\n        assert(output).contains(&quot;expected logs&quot;)\n    }\n</code></pre>\n<p>However when I ran the unit test, I got below error.</p>\n<pre><code>Discovered multiple competing ParameterResolvers for parameter [final org.springframework.boot.test.system.CapturedOutput output] \n\norg.junit.jupiter.api.extension.ParameterResolutionException: Discovered multiple competing ParameterResolvers for parameter [final org.springframework.boot.test.system.CapturedOutput output]\n</code></pre>\n<p>After banging my head for few minutes, tried reordering the parameters and it worked like a charm.</p>\n<pre><code> @ParameterizedTest\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\n    void someTest(final String input, final String output,final CapturedOutput output) {\n        assertEquals(output, &quot;hi-&quot; + input);\n        assert(output).contains(&quot;expected logs&quot;)\n    }\n</code></pre>\n<p>So, the learning here is, parameters for CSVSource should be provided first and CapturedOutput should be the last.</p>\n"}],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697733626,"creation_date":1655826672,"question_id":72703761,"body_markdown":"I&#39;ve a test class having one ```ParameterizedTest``` with ```CsvSource``` and other tests using ```CapturedOutput```. They run fine individually but fail randomly with ```NoSuchElementException``` when run together.\r\nFollowing is the sample code:\r\n\r\n```\r\n@ExtendWith({MockitoExtension.class, OutputCaptureExtension.class})\r\nclass SampleTest {\r\n\r\n    // Few Mocks and InjectMock\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\r\n    void someTest(String input, String output) {\r\n        assertEquals(output, &quot;hi-&quot; + input);\r\n    }\r\n\r\n    @Test\r\n    void anotherTest(CapturedOutput capturedOutput) {\r\n        assertFalse(capturedOutput.getAll().contains(&quot;Checking some logs&quot;));\r\n    }\r\n\r\n    @Test\r\n    void lastTest(CapturedOutput capturedOutput) {\r\n        assertFalse(capturedOutput.getAll().contains(&quot;Again checking some logs&quot;));\r\n    }\r\n}\r\n```\r\n\r\nAny idea on how to resolve this issues?\r\n\r\nPS: I can&#39;t create another test file.","title":"OutputCaptureExtension and ParameterizedTest not working together","body":"<p>I've a test class having one <code>ParameterizedTest</code> with <code>CsvSource</code> and other tests using <code>CapturedOutput</code>. They run fine individually but fail randomly with <code>NoSuchElementException</code> when run together.\nFollowing is the sample code:</p>\n<pre><code>@ExtendWith({MockitoExtension.class, OutputCaptureExtension.class})\nclass SampleTest {\n\n    // Few Mocks and InjectMock\n\n    @ParameterizedTest\n    @CsvSource({&quot;foo,hi-foo&quot;, &quot;bar,hi-bar&quot;})\n    void someTest(String input, String output) {\n        assertEquals(output, &quot;hi-&quot; + input);\n    }\n\n    @Test\n    void anotherTest(CapturedOutput capturedOutput) {\n        assertFalse(capturedOutput.getAll().contains(&quot;Checking some logs&quot;));\n    }\n\n    @Test\n    void lastTest(CapturedOutput capturedOutput) {\n        assertFalse(capturedOutput.getAll().contains(&quot;Again checking some logs&quot;));\n    }\n}\n</code></pre>\n<p>Any idea on how to resolve this issues?</p>\n<p>PS: I can't create another test file.</p>\n"},{"tags":["java","spring","kubernetes","datadog","kubernetes-pvc"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1697045835,"post_id":77275024,"comment_id":136231294,"body_markdown":"That doesn&#39;t seem like it&#39;s information that the application could have access to, even using paths like the downward API.  It also depends heavily on the &quot;kind&quot; of the volume; what value would you expect to be logged for a `local` volume, vs. an NFS store, vs. something like an EBS volume?","body":"That doesn&#39;t seem like it&#39;s information that the application could have access to, even using paths like the downward API.  It also depends heavily on the &quot;kind&quot; of the volume; what value would you expect to be logged for a <code>local</code> volume, vs. an NFS store, vs. something like an EBS volume?"},{"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"score":0,"creation_date":1697046253,"post_id":77275024,"comment_id":136231371,"body_markdown":"Our application is run internally and all volumes are of the same kind. We want to filter and check all logs for a specific server in datadog if that makes sense. We have a custom wrapper on logback json logger, so In case of local volumes or volumes without a server, we can have an empty string.","body":"Our application is run internally and all volumes are of the same kind. We want to filter and check all logs for a specific server in datadog if that makes sense. We have a custom wrapper on logback json logger, so In case of local volumes or volumes without a server, we can have an empty string."}],"answers":[{"tags":[],"owner":{"account_id":47823,"reputation":5658,"user_id":141789,"accept_rate":95,"display_name":"Karl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697733282,"creation_date":1697048924,"answer_id":77275567,"question_id":77275024,"body_markdown":"Are you able to get this information via the kubernetes API? For example, if you use the `kubectl` cli and call `kubectl get pvc my-pvc -o yaml`, is the information you need available there? If so, one way of doing it might be to query the API directly inside your application (or even from a sidecar or initContainer on the same pod). See also https://kubernetes.io/docs/tasks/run-application/access-api-from-pod/","title":"Get Persistent Volume Source from inside Java Application","body":"<p>Are you able to get this information via the kubernetes API? For example, if you use the <code>kubectl</code> cli and call <code>kubectl get pvc my-pvc -o yaml</code>, is the information you need available there? If so, one way of doing it might be to query the API directly inside your application (or even from a sidecar or initContainer on the same pod). See also <a href=\"https://kubernetes.io/docs/tasks/run-application/access-api-from-pod/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/tasks/run-application/access-api-from-pod/</a></p>\n"}],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77275567,"answer_count":1,"score":0,"last_activity_date":1697733282,"creation_date":1697043621,"question_id":77275024,"body_markdown":"I have a java application that is deployed in a kubernetes cluster and logs to DataDog.We want to add a custom attribute to our logs, which is the server host of the PV/PVCs it&#39;s reading data from. Is that possible from inside the java code? Please feel free to ask for any more information you might need.\r\nThank you\r\n","title":"Get Persistent Volume Source from inside Java Application","body":"<p>I have a java application that is deployed in a kubernetes cluster and logs to DataDog.We want to add a custom attribute to our logs, which is the server host of the PV/PVCs it's reading data from. Is that possible from inside the java code? Please feel free to ask for any more information you might need.\nThank you</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1066298,"reputation":3742,"user_id":1066779,"accept_rate":89,"display_name":"Abhishek Nayak"},"score":3,"creation_date":1393313412,"post_id":22007341,"comment_id":33356333,"body_markdown":"see this http://stackoverflow.com/questions/12618489/jpa-criteria-api-select-only-specific-columns","body":"see this <a href=\"http://stackoverflow.com/questions/12618489/jpa-criteria-api-select-only-specific-columns\" title=\"jpa criteria api select only specific columns\">stackoverflow.com/questions/12618489/&hellip;</a>"},{"owner":{"account_id":2116093,"reputation":1547,"user_id":1880376,"accept_rate":50,"display_name":"Desorder"},"score":1,"creation_date":1410773424,"post_id":22007341,"comment_id":40437106,"body_markdown":"The idea behind JPA not looking for specific fields is that is cost (efficiency wise) the same to bring one column or all columns from one row of the table.","body":"The idea behind JPA not looking for specific fields is that is cost (efficiency wise) the same to bring one column or all columns from one row of the table."},{"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"score":14,"creation_date":1426193992,"post_id":22007341,"comment_id":46283903,"body_markdown":"@Desorder -- the cost is not always the same. It&#39;s probably not a big deal for simpler, primitive sort of datatypes but the reason I ended up on this page is because I noticed a simple &quot;list documents&quot; query was running slow. That entity has a BLOB column (needs it for file upload/storage) &amp; I suspect it is slow because it is loading the BLOBs into memory even though they&#39;re not required for listing the docs.","body":"@Desorder -- the cost is not always the same. It&#39;s probably not a big deal for simpler, primitive sort of datatypes but the reason I ended up on this page is because I noticed a simple &quot;list documents&quot; query was running slow. That entity has a BLOB column (needs it for file upload/storage) &amp; I suspect it is slow because it is loading the BLOBs into memory even though they&#39;re not required for listing the docs."},{"owner":{"account_id":2116093,"reputation":1547,"user_id":1880376,"accept_rate":50,"display_name":"Desorder"},"score":0,"creation_date":1426320367,"post_id":22007341,"comment_id":46332264,"body_markdown":"@jm0 As far as you remember, how many tables had BLOB columns?","body":"@jm0 As far as you remember, how many tables had BLOB columns?"},{"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"score":1,"creation_date":1426469180,"post_id":22007341,"comment_id":46372031,"body_markdown":"@Desorder it was just one table but I was doing a &quot;list&quot; function (multirow -- list all docs created by a given id). The only reason I noticed this issue was because this simple list query was taking several seconds, whereas more complex queries on other tables were happening almost instantly. Once I realized, I knew it would suffer more and more as rows are added because Spring JPA is loading every BLOB into memory even tho they are not used. I found a decent solution for Spring data (posted below) but I think I have an even better one that is pure JPA annotation, I will post tmrw if it works","body":"@Desorder it was just one table but I was doing a &quot;list&quot; function (multirow -- list all docs created by a given id). The only reason I noticed this issue was because this simple list query was taking several seconds, whereas more complex queries on other tables were happening almost instantly. Once I realized, I knew it would suffer more and more as rows are added because Spring JPA is loading every BLOB into memory even tho they are not used. I found a decent solution for Spring data (posted below) but I think I have an even better one that is pure JPA annotation, I will post tmrw if it works"},{"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"score":0,"creation_date":1639341516,"post_id":22007341,"comment_id":124318481,"body_markdown":"Spring Data Projection is the solution. Ref: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections","body":"Spring Data Projection is the solution. Ref: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1685111177,"post_id":22007341,"comment_id":134620273,"body_markdown":"To people saying that selecting specific values has no sense: indeed selecting specific entries has much sense, for example whenever the user is doing something like SELECT MAX(something) or SELECT AVG(something). So, indeed it&#39;s a problem if it&#39;s not so intuitive to do so from JPA, and so indeed the question is useful. Thanks for reporting this question.","body":"To people saying that selecting specific values has no sense: indeed selecting specific entries has much sense, for example whenever the user is doing something like SELECT MAX(something) or SELECT AVG(something). So, indeed it&#39;s a problem if it&#39;s not so intuitive to do so from JPA, and so indeed the question is useful. Thanks for reporting this question."}],"answers":[{"tags":[],"owner":{"account_id":2028728,"reputation":1807,"user_id":1813047,"accept_rate":75,"display_name":"Henrik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1393313948,"creation_date":1393313948,"answer_id":22007585,"question_id":22007341,"body_markdown":"You can use JPQL: \r\n\r\n    TypedQuery &lt;Object[]&gt; query = em.createQuery(\r\n      &quot;SELECT p.projectId, p.projectName FROM projects AS p&quot;, Object[].class);\r\n\r\n    List&lt;Object[]&gt; results = query.getResultList();\r\n\r\n\r\nor you can use native sql query.\r\n\r\n    Query query = em.createNativeQuery(&quot;sql statement&quot;);\r\n    List&lt;Object[]&gt; results = query.getResultList();\r\n\r\n","title":"Spring JPA selecting specific columns","body":"<p>You can use JPQL: </p>\n\n<pre><code>TypedQuery &lt;Object[]&gt; query = em.createQuery(\n  \"SELECT p.projectId, p.projectName FROM projects AS p\", Object[].class);\n\nList&lt;Object[]&gt; results = query.getResultList();\n</code></pre>\n\n<p>or you can use native sql query.</p>\n\n<pre><code>Query query = em.createNativeQuery(\"sql statement\");\nList&lt;Object[]&gt; results = query.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404199,"reputation":5595,"user_id":772385,"accept_rate":100,"display_name":"Durandal"},"down_vote_count":7,"up_vote_count":111,"is_accepted":true,"score":104,"last_activity_date":1492626857,"creation_date":1393314214,"answer_id":22007664,"question_id":22007341,"body_markdown":"You can set `nativeQuery = true` in the `@Query` annotation from a `Repository` class like this:\r\n\r\n    public static final String FIND_PROJECTS = &quot;SELECT projectId, projectName FROM projects&quot;;\r\n    \r\n    @Query(value = FIND_PROJECTS, nativeQuery = true)\r\n    public List&lt;Object[]&gt; findProjects();\r\n\r\nNote that you will have to do the mapping yourself though. It&#39;s probably easier to just use the regular mapped lookup like this unless you really only need those two values:\r\n\r\n    public List&lt;Project&gt; findAll()\r\n\r\nIt&#39;s probably worth looking at the Spring data [docs][1] as well.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query","title":"Spring JPA selecting specific columns","body":"<p>You can set <code>nativeQuery = true</code> in the <code>@Query</code> annotation from a <code>Repository</code> class like this:</p>\n\n<pre><code>public static final String FIND_PROJECTS = \"SELECT projectId, projectName FROM projects\";\n\n@Query(value = FIND_PROJECTS, nativeQuery = true)\npublic List&lt;Object[]&gt; findProjects();\n</code></pre>\n\n<p>Note that you will have to do the mapping yourself though. It's probably easier to just use the regular mapped lookup like this unless you really only need those two values:</p>\n\n<pre><code>public List&lt;Project&gt; findAll()\n</code></pre>\n\n<p>It's probably worth looking at the Spring data <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"noreferrer\">docs</a> as well.</p>\n"},{"tags":[],"owner":{"account_id":3252269,"reputation":341,"user_id":3596537,"display_name":"kszosze"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1410770971,"creation_date":1410770971,"answer_id":25844097,"question_id":22007341,"body_markdown":"I guess the easy way may be is using [QueryDSL](http://www.querydsl.com/static/querydsl/3.4.2/reference/html/ch03s02.html), that comes with the Spring-Data.\r\n\r\nUsing to your question the answer can be\r\n\r\n    JPAQuery query = new JPAQuery(entityManager);\r\n    List&lt;Tuple&gt; result = query.from(projects).list(project.projectId, project.projectName);\r\n    for (Tuple row : result) {\r\n     System.out.println(&quot;project ID &quot; + row.get(project.projectId));\r\n     System.out.println(&quot;project Name &quot; + row.get(project.projectName)); \r\n    }}\r\nThe entity manager can be Autowired and you always will work with object and clases without use *QL language.\r\n\r\nAs you can see in the link the last choice seems, almost for me, more elegant, that is, using DTO for store the result. Apply to your example that will be:\r\n\r\n    JPAQuery query = new JPAQuery(entityManager);\r\n    QProject project = QProject.project;\r\n    List&lt;ProjectDTO&gt; dtos = query.from(project).list(new QProjectDTO(project.projectId, project.projectName));\r\n\r\nDefining ProjectDTO as:\r\n\r\n    class ProjectDTO {\r\n\r\n     private long id;\r\n     private String name;\r\n     @QueryProjection\r\n     public ProjectDTO(long projectId, String projectName){\r\n       this.id = projectId;\r\n       this.name = projectName;\r\n     }\r\n     public String getProjectId(){ ... }\r\n     public String getProjectName(){....}\r\n    }\r\n    \r\n\r\n","title":"Spring JPA selecting specific columns","body":"<p>I guess the easy way may be is using <a href=\"http://www.querydsl.com/static/querydsl/3.4.2/reference/html/ch03s02.html\" rel=\"noreferrer\">QueryDSL</a>, that comes with the Spring-Data.</p>\n\n<p>Using to your question the answer can be</p>\n\n<pre><code>JPAQuery query = new JPAQuery(entityManager);\nList&lt;Tuple&gt; result = query.from(projects).list(project.projectId, project.projectName);\nfor (Tuple row : result) {\n System.out.println(\"project ID \" + row.get(project.projectId));\n System.out.println(\"project Name \" + row.get(project.projectName)); \n}}\n</code></pre>\n\n<p>The entity manager can be Autowired and you always will work with object and clases without use *QL language.</p>\n\n<p>As you can see in the link the last choice seems, almost for me, more elegant, that is, using DTO for store the result. Apply to your example that will be:</p>\n\n<pre><code>JPAQuery query = new JPAQuery(entityManager);\nQProject project = QProject.project;\nList&lt;ProjectDTO&gt; dtos = query.from(project).list(new QProjectDTO(project.projectId, project.projectName));\n</code></pre>\n\n<p>Defining ProjectDTO as:</p>\n\n<pre><code>class ProjectDTO {\n\n private long id;\n private String name;\n @QueryProjection\n public ProjectDTO(long projectId, String projectName){\n   this.id = projectId;\n   this.name = projectName;\n }\n public String getProjectId(){ ... }\n public String getProjectName(){....}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2899822,"reputation":3354,"user_id":2486805,"accept_rate":50,"display_name":"jm0"},"down_vote_count":3,"up_vote_count":207,"is_accepted":false,"score":204,"last_activity_date":1567705888,"creation_date":1426196063,"answer_id":29020641,"question_id":22007341,"body_markdown":"I don&#39;t like the syntax particularly (it looks a little bit hacky...) but this is the most elegant solution I was able to find (it uses a custom JPQL query in the JPA repository class):\r\n\r\n    @Query(&quot;select new com.foo.bar.entity.Document(d.docId, d.filename) from Document d where d.filterCol = ?1&quot;)\r\n\tList&lt;Document&gt; findDocumentsForListing(String filterValue);\r\n\r\nThen of course, you just have to provide a constructor for `Document` that accepts `docId` &amp; `filename` as constructor args.","title":"Spring JPA selecting specific columns","body":"<p>I don't like the syntax particularly (it looks a little bit hacky...) but this is the most elegant solution I was able to find (it uses a custom JPQL query in the JPA repository class):</p>\n\n<pre><code>@Query(\"select new com.foo.bar.entity.Document(d.docId, d.filename) from Document d where d.filterCol = ?1\")\nList&lt;Document&gt; findDocumentsForListing(String filterValue);\n</code></pre>\n\n<p>Then of course, you just have to provide a constructor for <code>Document</code> that accepts <code>docId</code> &amp; <code>filename</code> as constructor args.</p>\n"},{"tags":[],"owner":{"account_id":8775634,"reputation":351,"user_id":6560998,"display_name":"Atal"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1505085545,"creation_date":1467898154,"answer_id":38246793,"question_id":22007341,"body_markdown":"In my situation, I only need the json result, and this works for me:\r\n\r\n    public interface SchoolRepository extends JpaRepository&lt;School,Integer&gt; {\r\n        @Query(&quot;select s.id, s.name from School s&quot;)\r\n        List&lt;Object&gt; getSchoolIdAndName();\r\n    }\r\n\r\nin Controller:\r\n\r\n    @Autowired\r\n    private SchoolRepository schoolRepository;\r\n\r\n    @ResponseBody\r\n    @RequestMapping(&quot;getschoolidandname.do&quot;)\r\n    public List&lt;Object&gt; getSchool() {\r\n        List&lt;Object&gt; schools = schoolRepository.getSchoolIdAndName();\r\n        return schools;\r\n    }","title":"Spring JPA selecting specific columns","body":"<p>In my situation, I only need the json result, and this works for me:</p>\n\n<pre><code>public interface SchoolRepository extends JpaRepository&lt;School,Integer&gt; {\n    @Query(\"select s.id, s.name from School s\")\n    List&lt;Object&gt; getSchoolIdAndName();\n}\n</code></pre>\n\n<p>in Controller:</p>\n\n<pre><code>@Autowired\nprivate SchoolRepository schoolRepository;\n\n@ResponseBody\n@RequestMapping(\"getschoolidandname.do\")\npublic List&lt;Object&gt; getSchool() {\n    List&lt;Object&gt; schools = schoolRepository.getSchoolIdAndName();\n    return schools;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3720487,"reputation":3769,"user_id":3095671,"accept_rate":100,"display_name":"mpr"},"down_vote_count":2,"up_vote_count":315,"is_accepted":false,"score":313,"last_activity_date":1480687676,"creation_date":1480687676,"answer_id":40934100,"question_id":22007341,"body_markdown":"You can use projections from Spring Data JPA [(doc)](http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections). In your case, create interface:\r\n\r\n    interface ProjectIdAndName{\r\n        String getId();\r\n        String getName();\r\n    }\r\n\r\nand add following method to your repository\r\n        \r\n    List&lt;ProjectIdAndName&gt; findAll();","title":"Spring JPA selecting specific columns","body":"<p>You can use projections from Spring Data JPA <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"noreferrer\">(doc)</a>. In your case, create interface:</p>\n\n<pre><code>interface ProjectIdAndName{\n    String getId();\n    String getName();\n}\n</code></pre>\n\n<p>and add following method to your repository</p>\n\n<pre><code>List&lt;ProjectIdAndName&gt; findAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1481107843,"creation_date":1481107843,"answer_id":41015492,"question_id":22007341,"body_markdown":"In my case i created a separate entity class without the fields that are not required (only with the fields that are required).\r\n\r\nMap the entity to the same table.\r\nNow when all the columns are required i use the old entity, when only some columns are required, i use the lite entity.\r\n\r\ne.g. \r\n\r\n    @Entity\r\n\t@Table(name = &quot;user&quot;)\r\n    Class User{\r\n             @Column(name = &quot;id&quot;, unique=true, nullable=false)\r\n             int id;\r\n             @Column(name = &quot;name&quot;, nullable=false)\r\n             String name;\r\n             @Column(name = &quot;address&quot;, nullable=false)\r\n             Address address;\r\n    }\r\nYou can create something like :\r\n\r\n    @Entity\r\n\t@Table(name = &quot;user&quot;)\r\n    Class UserLite{\r\n             @Column(name = &quot;id&quot;, unique=true, nullable=false)\r\n             int id;\r\n             @Column(name = &quot;name&quot;, nullable=false)\r\n             String name;\r\n    }\r\n\r\nThis works when you know the columns to fetch (and this is not going to change).\r\n\r\nwon&#39;t work if you need to dynamically decide the columns.","title":"Spring JPA selecting specific columns","body":"<p>In my case i created a separate entity class without the fields that are not required (only with the fields that are required).</p>\n\n<p>Map the entity to the same table.\nNow when all the columns are required i use the old entity, when only some columns are required, i use the lite entity.</p>\n\n<p>e.g. </p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\nClass User{\n         @Column(name = \"id\", unique=true, nullable=false)\n         int id;\n         @Column(name = \"name\", nullable=false)\n         String name;\n         @Column(name = \"address\", nullable=false)\n         Address address;\n}\n</code></pre>\n\n<p>You can create something like :</p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\nClass UserLite{\n         @Column(name = \"id\", unique=true, nullable=false)\n         int id;\n         @Column(name = \"name\", nullable=false)\n         String name;\n}\n</code></pre>\n\n<p>This works when you know the columns to fetch (and this is not going to change).</p>\n\n<p>won't work if you need to dynamically decide the columns.</p>\n"},{"tags":[],"owner":{"account_id":10677103,"reputation":123,"user_id":7860220,"display_name":"SR Ranjan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1578314031,"creation_date":1492674684,"answer_id":43513384,"question_id":22007341,"body_markdown":"Using Spring Data JPA there is a provision to select specific columns from database\r\n    \r\n    \r\n---- In DAOImpl ----\r\n\r\n    @Override\r\n    \t@Transactional\r\n    \tpublic List&lt;Employee&gt; getAllEmployee() throws Exception {\r\n    \tLOGGER.info(&quot;Inside getAllEmployee&quot;);\r\n        List&lt;Employee&gt; empList = empRepo.getNameAndCityOnly();\r\n    \treturn empList;\r\n    \t}\r\n    \r\n---- In Repo ----\r\n\r\n    public interface EmployeeRepository extends CrudRepository&lt;Employee,Integer&gt; {\r\n    \t@Query(&quot;select e.name, e.city from Employee e&quot; )\r\n        List&lt;Employee&gt; getNameAndCityOnly();\r\n    }\r\n    \r\nIt worked 100% in my case.\r\nThanks.","title":"Spring JPA selecting specific columns","body":"<p>Using Spring Data JPA there is a provision to select specific columns from database</p>\n\n<p>---- In DAOImpl ----</p>\n\n<pre><code>@Override\n    @Transactional\n    public List&lt;Employee&gt; getAllEmployee() throws Exception {\n    LOGGER.info(\"Inside getAllEmployee\");\n    List&lt;Employee&gt; empList = empRepo.getNameAndCityOnly();\n    return empList;\n    }\n</code></pre>\n\n<p>---- In Repo ----</p>\n\n<pre><code>public interface EmployeeRepository extends CrudRepository&lt;Employee,Integer&gt; {\n    @Query(\"select e.name, e.city from Employee e\" )\n    List&lt;Employee&gt; getNameAndCityOnly();\n}\n</code></pre>\n\n<p>It worked 100% in my case.\nThanks.</p>\n"},{"tags":[],"owner":{"account_id":393366,"reputation":3638,"user_id":755183,"accept_rate":71,"display_name":"hahn"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1494272172,"creation_date":1494272172,"answer_id":43855964,"question_id":22007341,"body_markdown":"It is possible to specify `null` as field value in native sql.\r\n\r\n    @Query(value = &quot;select p.id, p.uid, p.title, null as documentation, p.ptype &quot; +\r\n                &quot; from projects p &quot; +\r\n                &quot;where p.uid = (:uid)&quot; +\r\n                &quot;  and p.ptype = &#39;P&#39;&quot;, nativeQuery = true)\r\n    Project findInfoByUid(@Param(&quot;uid&quot;) String uid);","title":"Spring JPA selecting specific columns","body":"<p>It is possible to specify <code>null</code> as field value in native sql.</p>\n\n<pre><code>@Query(value = \"select p.id, p.uid, p.title, null as documentation, p.ptype \" +\n            \" from projects p \" +\n            \"where p.uid = (:uid)\" +\n            \"  and p.ptype = 'P'\", nativeQuery = true)\nProject findInfoByUid(@Param(\"uid\") String uid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10270184,"reputation":29,"user_id":7578822,"display_name":"ajaz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499857182,"creation_date":1499856697,"answer_id":45055628,"question_id":22007341,"body_markdown":"You can apply the below code in your repository interface class.\r\n\r\n&gt;entityname means your database table name like projects.\r\nAnd List&lt;Project&gt; means Project is Entity class in your Projects.\r\n\r\n    @Query(value=&quot;select p from #{#entityName} p where p.id=:projectId and p.projectName=:projectName&quot;)\r\n    \r\n    List&lt;Project&gt; findAll(@Param(&quot;projectId&quot;) int projectId, @Param(&quot;projectName&quot;) String projectName);","title":"Spring JPA selecting specific columns","body":"<p>You can apply the below code in your repository interface class.</p>\n\n<blockquote>\n  <p>entityname means your database table name like projects.\n  And List means Project is Entity class in your Projects.</p>\n</blockquote>\n\n<pre><code>@Query(value=\"select p from #{#entityName} p where p.id=:projectId and p.projectName=:projectName\")\n\nList&lt;Project&gt; findAll(@Param(\"projectId\") int projectId, @Param(\"projectName\") String projectName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12109712,"reputation":387,"user_id":8847101,"display_name":"ukchaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509784793,"creation_date":1509784793,"answer_id":47108979,"question_id":22007341,"body_markdown":"**Using Native Query:**\r\n\r\n    Query query = entityManager.createNativeQuery(&quot;SELECT projectId, projectName FROM projects&quot;);\r\n    List result = query.getResultList();","title":"Spring JPA selecting specific columns","body":"<p><strong>Using Native Query:</strong></p>\n\n<pre><code>Query query = entityManager.createNativeQuery(\"SELECT projectId, projectName FROM projects\");\nList result = query.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3621872,"reputation":241,"user_id":3020384,"display_name":"jombie"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1545056702,"creation_date":1545056702,"answer_id":53817222,"question_id":22007341,"body_markdown":"With the newer Spring versions One can do as follows:\r\n\r\n**If not using native query this can done as below:**\r\n\r\n    public interface ProjectMini {\r\n        String getProjectId();\r\n        String getProjectName();\r\n    }\r\n    \r\n    public interface ProjectRepository extends JpaRepository&lt;Project, String&gt; { \r\n        @Query(&quot;SELECT p FROM Project p&quot;)\r\n        List&lt;ProjectMini&gt; findAllProjectsMini();\r\n    }\r\n\r\n**Using native query the same can be done as below:**\r\n\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, String&gt; { \r\n        @Query(value = &quot;SELECT projectId, projectName FROM project&quot;, nativeQuery = true)\r\n        List&lt;ProjectMini&gt; findAllProjectsMini();\r\n    }\r\n\r\nFor detail check the [docs][1]\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections","title":"Spring JPA selecting specific columns","body":"<p>With the newer Spring versions One can do as follows:</p>\n\n<p><strong>If not using native query this can done as below:</strong></p>\n\n<pre><code>public interface ProjectMini {\n    String getProjectId();\n    String getProjectName();\n}\n\npublic interface ProjectRepository extends JpaRepository&lt;Project, String&gt; { \n    @Query(\"SELECT p FROM Project p\")\n    List&lt;ProjectMini&gt; findAllProjectsMini();\n}\n</code></pre>\n\n<p><strong>Using native query the same can be done as below:</strong></p>\n\n<pre><code>public interface ProjectRepository extends JpaRepository&lt;Project, String&gt; { \n    @Query(value = \"SELECT projectId, projectName FROM project\", nativeQuery = true)\n    List&lt;ProjectMini&gt; findAllProjectsMini();\n}\n</code></pre>\n\n<p>For detail check the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"noreferrer\">docs</a></p>\n"},{"tags":[],"owner":{"account_id":3460048,"reputation":492,"user_id":2897455,"accept_rate":25,"display_name":"Evgeni Atanasov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1545982723,"creation_date":1545982723,"answer_id":53955183,"question_id":22007341,"body_markdown":"In my opinion this is great solution:\r\n\r\n    interface PersonRepository extends Repository&lt;Person, UUID&gt; {\r\n\r\n        &lt;T&gt; Collection&lt;T&gt; findByLastname(String lastname, Class&lt;T&gt; type);\r\n    }\r\n\r\nand using it like so\r\n    \r\n    void someMethod(PersonRepository people) {\r\n    \r\n      Collection&lt;Person&gt; aggregates =\r\n        people.findByLastname(&quot;Matthews&quot;, Person.class);\r\n    \r\n      Collection&lt;NamesOnly&gt; aggregates =\r\n        people.findByLastname(&quot;Matthews&quot;, NamesOnly.class);\r\n    }","title":"Spring JPA selecting specific columns","body":"<p>In my opinion this is great solution:</p>\n\n<pre><code>interface PersonRepository extends Repository&lt;Person, UUID&gt; {\n\n    &lt;T&gt; Collection&lt;T&gt; findByLastname(String lastname, Class&lt;T&gt; type);\n}\n</code></pre>\n\n<p>and using it like so</p>\n\n<pre><code>void someMethod(PersonRepository people) {\n\n  Collection&lt;Person&gt; aggregates =\n    people.findByLastname(\"Matthews\", Person.class);\n\n  Collection&lt;NamesOnly&gt; aggregates =\n    people.findByLastname(\"Matthews\", NamesOnly.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11134043,"reputation":241,"user_id":8173143,"display_name":"foxbit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558167385,"creation_date":1558167385,"answer_id":56197177,"question_id":22007341,"body_markdown":"You can use the answer suggested by @jombie, and:\r\n\r\n - place the interface in a separate file, outside the entity class;\r\n - use native query or not (the choice depended on your needs);\r\n - don&#39;t override `findAll()` method for this purpose but use name of your choice;\r\n - remember to return a `List` parametrized with your new interface (e.g. `List&lt;SmallProject&gt;`).\r\n\r\n\r\n\r\n","title":"Spring JPA selecting specific columns","body":"<p>You can use the answer suggested by @jombie, and:</p>\n\n<ul>\n<li>place the interface in a separate file, outside the entity class;</li>\n<li>use native query or not (the choice depended on your needs);</li>\n<li>don't override <code>findAll()</code> method for this purpose but use name of your choice;</li>\n<li>remember to return a <code>List</code> parametrized with your new interface (e.g. <code>List&lt;SmallProject&gt;</code>).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11066596,"reputation":31,"user_id":8126212,"display_name":"vijay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615396171,"creation_date":1614927606,"answer_id":66488110,"question_id":22007341,"body_markdown":"```\r\npublic static final String FIND_PROJECTS = &quot;select ac_year_id,ac_year from tbl_au_academic_year where ac_year_id=?1&quot;;\r\n\r\n\t@Query(value = FIND_PROJECTS, nativeQuery = true)\r\n\tpublic  List&lt;Object[]&gt; findByAcYearId(Integer ac_year_id);\r\n```\r\nthis works for me\r\n","title":"Spring JPA selecting specific columns","body":"<pre><code>public static final String FIND_PROJECTS = &quot;select ac_year_id,ac_year from tbl_au_academic_year where ac_year_id=?1&quot;;\n\n    @Query(value = FIND_PROJECTS, nativeQuery = true)\n    public  List&lt;Object[]&gt; findByAcYearId(Integer ac_year_id);\n</code></pre>\n<p>this works for me</p>\n"},{"tags":[],"owner":{"account_id":16772863,"reputation":21,"user_id":12124923,"display_name":"Tarique Anwer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1647693110,"creation_date":1647678209,"answer_id":71536531,"question_id":22007341,"body_markdown":"You can update your JPARepository as below.\r\n\r\n    @Query(&quot;select u.status from UserLogin u where u.userId = ?1 or u.email = ?1 or u.mobile = ?1&quot;)\r\n    public UserStatus findByUserIdOrEmailOrMobile(String loginId);\r\n\r\n\r\nWhere UserStatus is a Enum\r\n\r\n    public enum UserStatus\r\n    {\r\n    \tNew,\r\n    \tActive,\r\n    \tDeactived,\r\n    \tSuspended,\r\n    \tLocked\r\n    }","title":"Spring JPA selecting specific columns","body":"<p>You can update your JPARepository as below.</p>\n<pre><code>@Query(&quot;select u.status from UserLogin u where u.userId = ?1 or u.email = ?1 or u.mobile = ?1&quot;)\npublic UserStatus findByUserIdOrEmailOrMobile(String loginId);\n</code></pre>\n<p>Where UserStatus is a Enum</p>\n<pre><code>public enum UserStatus\n{\n    New,\n    Active,\n    Deactived,\n    Suspended,\n    Locked\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15074809,"reputation":51,"user_id":12253435,"display_name":"Gil"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1684503581,"creation_date":1672934882,"answer_id":75021309,"question_id":22007341,"body_markdown":"Use:\r\n```\r\n@Query(&quot;SELECT e FROM #{#entityName} e where e.userId=:uid&quot;)\r\nList&lt;ClienteEnderecoEntity&gt; findInfoByUid(@Param(&quot;uid&quot;) UUID uid);\r\n```\r\n+ [hibernate](https://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html/query_native.html) - Native Query","title":"Spring JPA selecting specific columns","body":"<p>Use:</p>\n<pre><code>@Query(&quot;SELECT e FROM #{#entityName} e where e.userId=:uid&quot;)\nList&lt;ClienteEnderecoEntity&gt; findInfoByUid(@Param(&quot;uid&quot;) UUID uid);\n</code></pre>\n<ul>\n<li><a href=\"https://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html/query_native.html\" rel=\"nofollow noreferrer\">hibernate</a> - Native Query</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679395066,"creation_date":1679395066,"answer_id":75800093,"question_id":22007341,"body_markdown":"You can use a DTO like that\r\n   \r\n\r\n     @Data\r\n        public class UserDtoLight implements Serializable {\r\n           private final Long id;\r\n           private final String name;\r\n        }\r\n\r\nand in your repository\r\n\r\n     List&lt;UserDtoLight&gt; findAll();","title":"Spring JPA selecting specific columns","body":"<p>You can use a DTO like that</p>\n<pre><code> @Data\n    public class UserDtoLight implements Serializable {\n       private final Long id;\n       private final String name;\n    }\n</code></pre>\n<p>and in your repository</p>\n<pre><code> List&lt;UserDtoLight&gt; findAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2479898,"reputation":1010,"user_id":2159573,"accept_rate":33,"display_name":"Saurabhcdt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683722293,"creation_date":1683718990,"answer_id":76217974,"question_id":22007341,"body_markdown":"With current version I&#39;m using (JDK 11, Spring Boot 3) It&#39;s very simple:\r\n\r\n1. You need to add a constructor in your entity class for limited fields which you want to select:\r\n\r\n```\r\n    class Projects {\r\n        private String projectId;\r\n        private String projectName;\r\n        // other fields\r\n    \r\n        // No argument / all arguments  constructor as needed\r\n    \r\n        public Projects(String projectId, String projectName) {\r\n            this.projectId = projectId;\r\n            this.projectName = projectName;\r\n        }\r\n    }\r\n```\r\n2. In your Repository, you can add Query &amp; method as below (add WHERE condition as needed):\r\n\r\n```\r\n    @Query(&quot;SELECT new Projects (p.projectId, p.projectName) FROM Projects p&quot;)\r\n    List&lt;Projects &gt; findAllProjects();\r\n```\r\n\r\nFor me, this works &amp; I get list of all objects with only 2 fields specified.\r\n\r\n\r\n","title":"Spring JPA selecting specific columns","body":"<p>With current version I'm using (JDK 11, Spring Boot 3) It's very simple:</p>\n<ol>\n<li>You need to add a constructor in your entity class for limited fields which you want to select:</li>\n</ol>\n<pre><code>    class Projects {\n        private String projectId;\n        private String projectName;\n        // other fields\n    \n        // No argument / all arguments  constructor as needed\n    \n        public Projects(String projectId, String projectName) {\n            this.projectId = projectId;\n            this.projectName = projectName;\n        }\n    }\n</code></pre>\n<ol start=\"2\">\n<li>In your Repository, you can add Query &amp; method as below (add WHERE condition as needed):</li>\n</ol>\n<pre><code>    @Query(&quot;SELECT new Projects (p.projectId, p.projectName) FROM Projects p&quot;)\n    List&lt;Projects &gt; findAllProjects();\n</code></pre>\n<p>For me, this works &amp; I get list of all objects with only 2 fields specified.</p>\n"},{"tags":[],"owner":{"account_id":29313159,"reputation":193,"user_id":22458461,"display_name":"fforfabio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697732764,"creation_date":1697732764,"answer_id":77325566,"question_id":22007341,"body_markdown":"You can perform it in a lot of ways.  \r\n\r\n- By using **nativeQuery**, so by selecting directly from your database table (it must be defined inside your application.properties/yml).  \r\nSo simply declare your **repository** by extending _JpaRepository_:\r\n   ```java\r\n    @Repository\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\r\n    }\r\n    ```  \r\n    Then, you should define the query (something like this) inside the Repository:\r\n    ```java\r\n    @Repository\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\r\n\r\n        @Query(value = &quot;SELECT projectId, projectName FROM projects&quot;, nativeQuery = true)\r\n        public List&lt;Project&gt; getProjectColumns();\r\n\r\n    }\r\n    ```\r\n    Finally, you can call this method from your controller like that:\r\n    ```java\r\n    @CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/project&quot;)\r\n    public class Controller {\r\n        private ProjectRepository projectRepo;\r\n\r\n        public Controller(ProjectRepository projectRepo) {\r\n\t\t    this.projectRepo = projectRepo;\r\n\t    }\r\n\r\n        @GetMapping(&quot;/columns&quot;)\r\n\t    public ResponseEntity&lt;List&lt;Project&gt;&gt; getProjectColumns(){\r\n\t\t    List&lt;Project&gt; projects = new ArrayList&lt;Project&gt;();\r\n\t\t\tprojects = projectRepo.getProjectColumns();\r\n            return projects;   \r\n\t    }\r\n    }\r\n    ```\r\n\r\n- By using **JPQL**.  \r\nThe only thing that must be _change_ from the nativeQuery example is the _query itself_. In fact with JPQL you are going to perform the query on the entity itself.  \r\nSo:\r\n    ```java\r\n    @Repository\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\r\n\r\n        @Query(&quot;SELECT p.projectId, p.projectName FROM Project p&quot;)\r\n        public List&lt;Project&gt; getProjectColumns();\r\n\r\n    }\r\n    ```\r\n    Note that _Project_ is the entity and not the database table (in the previous example is _projects_).  \r\n    I left here a useful [link](https://thorben-janssen.com/jpql/) I found on the Internet.\r\n- Finally, you can use this other technique. I&#39;ll advise you that it is a little bit more complicated, but the result is the same.  \r\n**First** thing is to define only the method signature in the repository:\r\n    ```java\r\n    @Repository\r\n    public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\r\n\r\n        public List&lt;Project&gt; getProjectColumns();\r\n\r\n    }\r\n    ```\r\n    **Second** thing is to modify your entity _Project_ by writing the query inside the **@NamedNativeQueries** annotation, and then by writing the result mapping inside the [**@SqlResultSetMappings**](https://thorben-janssen.com/result-set-mapping-basics/) annotation. In this annotation you are going to define how the object that you are going to return will be, so you may also define a new constructor inside the _Project_ entity.  \r\n    This is how it should look:\r\n    ```java\r\n    @NamedNativeQueries(value = {\r\n\t    @NamedNativeQuery(name = &quot;Project.getProjectColumns&quot;, // The name of the repository method\r\n\t\t    query = &quot;SELECT p.projectId, p.projectName FROM projects p&quot;,\r\n\t\t    resultSetMapping = &quot;projectColumns&quot;)})\r\n    @SqlResultSetMappings(value = {\r\n\t    @SqlResultSetMapping(name = &quot;projectColumns&quot;, // It must match with the resultSetMapping defined inside @NamedNativeQuery\r\n\t       classes = @ConstructorResult(targetClass = Project.class,\r\n\t                                    columns = {@ColumnResult(name = &quot;projectId&quot;),\r\n\t                                               @ColumnResult(name = &quot;projectName&quot;)}))})\r\n    @Entity\r\n    @Table(name = &quot;projects&quot;)\r\n    public class Project {\r\n\r\n        // Columns of the entity Project\r\n\t    @Id\r\n\t    private long projectId;\r\n\t\r\n\t    private String projectName;\r\n\r\n\r\n\t    // Some other attribute can be defined here\r\n\r\n\r\n\t    // Default constructor\r\n\t    public Project() {\r\n\t    }\r\n\r\n\t\r\n\t    // Constructor for getProjectColumns query. Note that the number of the\r\n\t    // parameters and their type must be the same of the one returned by the query.\r\n\t    // All the other attributes present in this entity will be set to their default value.\r\n\t    public Project(long projectId, String projectName) {\r\n\t\t    this.projectId = projectId;\r\n\t\t    this.projectName = projectName;\r\n\t    }\r\n\r\n        // Other constructor can be available\r\n\r\n\t    // Getter and setter here\r\n    }  \r\n    ```\r\n    **Finally** your _controller_ can be the same as the previous one. The only important thing is that all the names that are present (query, method, ...) must be the same or the query will note be performed.  \r\n\r\nI&#39;ll hope that this is clear and will help. ","title":"Spring JPA selecting specific columns","body":"<p>You can perform it in a lot of ways.</p>\n<ul>\n<li><p>By using <strong>nativeQuery</strong>, so by selecting directly from your database table (it must be defined inside your application.properties/yml).<br />\nSo simply declare your <strong>repository</strong> by extending <em>JpaRepository</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Repository\n  public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\n  }\n</code></pre>\n<p>Then, you should define the query (something like this) inside the Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\n\n    @Query(value = &quot;SELECT projectId, projectName FROM projects&quot;, nativeQuery = true)\n    public List&lt;Project&gt; getProjectColumns();\n\n}\n</code></pre>\n<p>Finally, you can call this method from your controller like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\n@RestController\n@RequestMapping(&quot;/project&quot;)\npublic class Controller {\n    private ProjectRepository projectRepo;\n\n    public Controller(ProjectRepository projectRepo) {\n        this.projectRepo = projectRepo;\n    }\n\n    @GetMapping(&quot;/columns&quot;)\n    public ResponseEntity&lt;List&lt;Project&gt;&gt; getProjectColumns(){\n        List&lt;Project&gt; projects = new ArrayList&lt;Project&gt;();\n        projects = projectRepo.getProjectColumns();\n        return projects;   \n    }\n}\n</code></pre>\n</li>\n<li><p>By using <strong>JPQL</strong>.<br />\nThe only thing that must be <em>change</em> from the nativeQuery example is the <em>query itself</em>. In fact with JPQL you are going to perform the query on the entity itself.<br />\nSo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\n\n    @Query(&quot;SELECT p.projectId, p.projectName FROM Project p&quot;)\n    public List&lt;Project&gt; getProjectColumns();\n\n}\n</code></pre>\n<p>Note that <em>Project</em> is the entity and not the database table (in the previous example is <em>projects</em>).<br />\nI left here a useful <a href=\"https://thorben-janssen.com/jpql/\" rel=\"nofollow noreferrer\">link</a> I found on the Internet.</p>\n</li>\n<li><p>Finally, you can use this other technique. I'll advise you that it is a little bit more complicated, but the result is the same.<br />\n<strong>First</strong> thing is to define only the method signature in the repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt;{\n\n    public List&lt;Project&gt; getProjectColumns();\n\n}\n</code></pre>\n<p><strong>Second</strong> thing is to modify your entity <em>Project</em> by writing the query inside the <strong>@NamedNativeQueries</strong> annotation, and then by writing the result mapping inside the <a href=\"https://thorben-janssen.com/result-set-mapping-basics/\" rel=\"nofollow noreferrer\"><strong>@SqlResultSetMappings</strong></a> annotation. In this annotation you are going to define how the object that you are going to return will be, so you may also define a new constructor inside the <em>Project</em> entity.<br />\nThis is how it should look:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NamedNativeQueries(value = {\n    @NamedNativeQuery(name = &quot;Project.getProjectColumns&quot;, // The name of the repository method\n        query = &quot;SELECT p.projectId, p.projectName FROM projects p&quot;,\n        resultSetMapping = &quot;projectColumns&quot;)})\n@SqlResultSetMappings(value = {\n    @SqlResultSetMapping(name = &quot;projectColumns&quot;, // It must match with the resultSetMapping defined inside @NamedNativeQuery\n       classes = @ConstructorResult(targetClass = Project.class,\n                                    columns = {@ColumnResult(name = &quot;projectId&quot;),\n                                               @ColumnResult(name = &quot;projectName&quot;)}))})\n@Entity\n@Table(name = &quot;projects&quot;)\npublic class Project {\n\n    // Columns of the entity Project\n    @Id\n    private long projectId;\n\n    private String projectName;\n\n\n    // Some other attribute can be defined here\n\n\n    // Default constructor\n    public Project() {\n    }\n\n\n    // Constructor for getProjectColumns query. Note that the number of the\n    // parameters and their type must be the same of the one returned by the query.\n    // All the other attributes present in this entity will be set to their default value.\n    public Project(long projectId, String projectName) {\n        this.projectId = projectId;\n        this.projectName = projectName;\n    }\n\n    // Other constructor can be available\n\n    // Getter and setter here\n}  \n</code></pre>\n<p><strong>Finally</strong> your <em>controller</em> can be the same as the previous one. The only important thing is that all the names that are present (query, method, ...) must be the same or the query will note be performed.</p>\n</li>\n</ul>\n<p>I'll hope that this is clear and will help.</p>\n"}],"owner":{"account_id":2034843,"reputation":2655,"user_id":1817436,"display_name":"user1817436"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580693,"favorite_count":0,"down_vote_count":0,"up_vote_count":260,"accepted_answer_id":22007664,"answer_count":20,"score":260,"last_activity_date":1697732764,"creation_date":1393313126,"question_id":22007341,"body_markdown":"I am using Spring JPA to perform all database operations. However I don&#39;t know how to select specific columns from a table in Spring JPA?\r\n\r\nFor example:&lt;br/&gt;\r\n`SELECT projectId, projectName FROM projects`","title":"Spring JPA selecting specific columns","body":"<p>I am using Spring JPA to perform all database operations. However I don't know how to select specific columns from a table in Spring JPA?</p>\n\n<p>For example:<br/>\n<code>SELECT projectId, projectName FROM projects</code></p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697732673,"creation_date":1697732673,"answer_id":77325560,"question_id":77325377,"body_markdown":"Enabling assertions in a Quarkus application during development mode can be achieved by configuring the quarkus.vm property in your application.properties or application.yml file. So, try the steps below:\r\n\r\n1. &quot;application.properties&quot; \r\n\r\n    quarkus.vm.additionalArgs = -ea\r\n\r\n2. &quot;application.yml&quot;\r\n\r\n    quarkus:\r\n  vm:\r\n    additionalArgs: -ea\r\n","title":"How can I enable assertions when starting Quarkus in development mode?","body":"<p>Enabling assertions in a Quarkus application during development mode can be achieved by configuring the quarkus.vm property in your application.properties or application.yml file. So, try the steps below:</p>\n<ol>\n<li><p>&quot;application.properties&quot;</p>\n<p>quarkus.vm.additionalArgs = -ea</p>\n</li>\n<li><p>&quot;application.yml&quot;</p>\n<p>quarkus:\nvm:\nadditionalArgs: -ea</p>\n</li>\n</ol>\n"}],"owner":{"account_id":57272,"reputation":3656,"user_id":171520,"accept_rate":77,"display_name":"Dave Challis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697732673,"creation_date":1697730994,"question_id":77325377,"body_markdown":"When starting a [Quarkus](https://quarkus.io/) application in [development mode](https://quarkus.io/guides/cli-tooling#development-mode) (by running `quarkus dev` in a shell), how can I enable assertions (i.e. getting Quarkus to start Java with the `-enableassertions` or `-ea` flag)?\r\n\r\nI&#39;d like to configure assertions to be enabled only for development mode, but not when running it any other way.","title":"How can I enable assertions when starting Quarkus in development mode?","body":"<p>When starting a <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a> application in <a href=\"https://quarkus.io/guides/cli-tooling#development-mode\" rel=\"nofollow noreferrer\">development mode</a> (by running <code>quarkus dev</code> in a shell), how can I enable assertions (i.e. getting Quarkus to start Java with the <code>-enableassertions</code> or <code>-ea</code> flag)?</p>\n<p>I'd like to configure assertions to be enabled only for development mode, but not when running it any other way.</p>\n"},{"tags":["java","spring","interface","default-method"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1697730723,"post_id":77325216,"comment_id":136319430,"body_markdown":"you are autowiring ArticleRepository, but ArticleRepositoryImpl only implement ArticleExtendRepository.","body":"you are autowiring ArticleRepository, but ArticleRepositoryImpl only implement ArticleExtendRepository."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1697731527,"post_id":77325216,"comment_id":136319599,"body_markdown":"@samabcde if I remove default method and leave signature only, it works as expected. But downside is that I have to add dummy method to all services that implements `FindBySubstringRepositorySupport` and I use this method only on few.","body":"@samabcde if I remove default method and leave signature only, it works as expected. But downside is that I have to add dummy method to all services that implements <code>FindBySubstringRepositorySupport</code> and I use this method only on few."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1697732258,"post_id":77325216,"comment_id":136319719,"body_markdown":"@samabcde I think I found it:\nhttps://javadevcentral.com/default-method-resolution-rules#:~:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one.","body":"@samabcde I think I found it: <a href=\"https://javadevcentral.com/default-method-resolution-rules#:~:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one\" rel=\"nofollow noreferrer\">javadevcentral.com/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697732519,"creation_date":1697732519,"answer_id":77325539,"question_id":77325216,"body_markdown":"It was my bad design and lack of knowledge:\r\n\r\n**Rules for Default Method Conflict Resolution**\r\n\r\nWhen a class inherits a method with the same signature from more than one interface, we have the following three rules:\r\n\r\n1. Classes will always win. If a class extends a parent class and implements one or more interfaces, the default method in the class or a superclass will take priority.\r\n\r\n2. Otherwise the subinterfaces will take the next level of precedence. The default method in the most specific default providing interface will be the chosen one. (A subinterface is the one that extends an interface).\r\n\r\n3. If the above rules are not applicable and a choice cannot be made, then the class that inherits from multiple interfaces has to override the method and provide an implementation. But it does not always have to provide the full implementation as there is a way for the class to choose one of the inherited default methods.\r\n\r\nSource:\r\nhttps://javadevcentral.com/default-method-resolution-rules#:~:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one.","title":"default method executed instead of implementation","body":"<p>It was my bad design and lack of knowledge:</p>\n<p><strong>Rules for Default Method Conflict Resolution</strong></p>\n<p>When a class inherits a method with the same signature from more than one interface, we have the following three rules:</p>\n<ol>\n<li><p>Classes will always win. If a class extends a parent class and implements one or more interfaces, the default method in the class or a superclass will take priority.</p>\n</li>\n<li><p>Otherwise the subinterfaces will take the next level of precedence. The default method in the most specific default providing interface will be the chosen one. (A subinterface is the one that extends an interface).</p>\n</li>\n<li><p>If the above rules are not applicable and a choice cannot be made, then the class that inherits from multiple interfaces has to override the method and provide an implementation. But it does not always have to provide the full implementation as there is a way for the class to choose one of the inherited default methods.</p>\n</li>\n</ol>\n<p>Source:\n<a href=\"https://javadevcentral.com/default-method-resolution-rules#:%7E:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one\" rel=\"nofollow noreferrer\">https://javadevcentral.com/default-method-resolution-rules#:~:text=If%20a%20class%20extends%20a,will%20be%20the%20chosen%20one</a>.</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697732519,"creation_date":1697729618,"question_id":77325216,"body_markdown":"When calling `findBySubstring()` from `ArticleAutocompleteServiceImpl` - default method of interface is executed instead of implementation. Is it because of generics? What did I do wrong? How to keep this structure and run implemented method instead of default method? Please can someone help me with this?\r\n\r\n**EDIT:**\r\nIf I remove default method from `FindBySubstringRepositorySupport` and leave signature only, it works as expected. Downside is that I have to add dummy implementation method to all services that implements `FindBySubstringRepositorySupport` and I use this method only on few that have real implementations.\r\n\r\n**ArticleAutocompleteServiceImpl.java**\r\n\r\n\r\n```\r\n@Service\r\npublic class ArticleAutocompleteServiceImpl implements ArticleAutocompleteService {\r\n\r\n\tprivate final ArticleRepository articleRepository;\r\n\r\n\tpublic ArticleAutocompleteServiceImpl( final ArticleRepository articleRepository ) {\r\n\t\tthis.articleRepository = articleRepository;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;ArticleURINameDTO&gt; autocomplete( final String q ) {\r\n\r\n\t\t// calling repository method and expecting to run implemented method,\r\n\t\t// not default mehtod of interface\r\n\t\tfinal List&lt;Article&gt; lst =\r\n\t\t\tthis.articleRepository.findBySubstring( q, 10, ObjectStatus.ENABLED );\r\n\r\n\t\tfinal Locale locale = ...\r\n\r\n\t\treturn lst.stream().map(a -&gt; new ArticleURINameDTO(a, locale)).toList();\r\n\t}\r\n\r\n\r\n```\r\n\r\n---\r\n\r\n**ArticleRepositoryImpl.java**\r\n\r\n```\r\npublic class ArticleRepositoryImpl implements ArticleExtendRepository {\r\n\r\n\t@PersistenceContext\r\n\tprivate EntityManager entityManager;\r\n\r\n\tprivate final StoredProcService storedProcService;\r\n\r\n\tpublic ArticleRepositoryImpl( final StoredProcService storedProcService ) {\r\n\t\tthis.storedProcService = storedProcService;\r\n\t}\r\n\r\n\t// implementation that should override default method of interface\r\n\t@Override\r\n\tpublic List&lt;Article&gt; findBySubstring(\r\n\t\tfinal String       namePart,\r\n\t\tfinal Integer      limit,\r\n\t\tfinal ObjectStatus objectStatus\r\n\t) {\r\n\t\treturn this.storedProcService.execute( ... );\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\n**ArticleRepository.java**\r\n\r\n\r\n```\r\npublic interface ArticleRepository extends\r\n\tPagingAndSortingRepository&lt;Article, Integer&gt;,\r\n\tCrudRepository&lt;Article, Integer&gt;,\r\n\tArticleExtendRepository\r\n{\r\n\r\n\t//\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n---\r\n\r\n**ArticleAutocompleteService.java**\r\n\r\n```\r\npublic interface ArticleAutocompleteService {\r\n\r\n\tList&lt;ArticleURINameDTO&gt; autocomplete(String q);\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\n**FindBySubstringRepositorySupport.java**\r\n\r\n```\r\npublic interface FindBySubstringRepositorySupport&lt;T&gt; {\r\n\r\n\t// default method to be run if no implementation is present\r\n\tdefault List&lt;T&gt; findBySubstring(\r\n\t\tfinal String       namePart,\r\n\t\tfinal Integer      limit,\r\n\t\tfinal ObjectStatus objectStatus\r\n\t) {\r\n\t\tthrow new IllegalStateException( &quot;Method not implemented&quot; );\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**ArticleExtendRepository.java**\r\n\r\n---\r\n\r\n```\r\npublic interface ArticleExtendRepository extends FindBySubstringRepositorySupport&lt;Article&gt; {\r\n\r\n\t// some method signature not important here\r\n\tlong countByStatus( ObjectStatus objectStatus );\r\n\r\n}\r\n```\r\n","title":"default method executed instead of implementation","body":"<p>When calling <code>findBySubstring()</code> from <code>ArticleAutocompleteServiceImpl</code> - default method of interface is executed instead of implementation. Is it because of generics? What did I do wrong? How to keep this structure and run implemented method instead of default method? Please can someone help me with this?</p>\n<p><strong>EDIT:</strong>\nIf I remove default method from <code>FindBySubstringRepositorySupport</code> and leave signature only, it works as expected. Downside is that I have to add dummy implementation method to all services that implements <code>FindBySubstringRepositorySupport</code> and I use this method only on few that have real implementations.</p>\n<p><strong>ArticleAutocompleteServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class ArticleAutocompleteServiceImpl implements ArticleAutocompleteService {\n\n    private final ArticleRepository articleRepository;\n\n    public ArticleAutocompleteServiceImpl( final ArticleRepository articleRepository ) {\n        this.articleRepository = articleRepository;\n    }\n\n    @Override\n    public List&lt;ArticleURINameDTO&gt; autocomplete( final String q ) {\n\n        // calling repository method and expecting to run implemented method,\n        // not default mehtod of interface\n        final List&lt;Article&gt; lst =\n            this.articleRepository.findBySubstring( q, 10, ObjectStatus.ENABLED );\n\n        final Locale locale = ...\n\n        return lst.stream().map(a -&gt; new ArticleURINameDTO(a, locale)).toList();\n    }\n\n\n</code></pre>\n<hr />\n<p><strong>ArticleRepositoryImpl.java</strong></p>\n<pre><code>public class ArticleRepositoryImpl implements ArticleExtendRepository {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private final StoredProcService storedProcService;\n\n    public ArticleRepositoryImpl( final StoredProcService storedProcService ) {\n        this.storedProcService = storedProcService;\n    }\n\n    // implementation that should override default method of interface\n    @Override\n    public List&lt;Article&gt; findBySubstring(\n        final String       namePart,\n        final Integer      limit,\n        final ObjectStatus objectStatus\n    ) {\n        return this.storedProcService.execute( ... );\n    }\n\n\n}\n</code></pre>\n<hr />\n<p><strong>ArticleRepository.java</strong></p>\n<pre><code>public interface ArticleRepository extends\n    PagingAndSortingRepository&lt;Article, Integer&gt;,\n    CrudRepository&lt;Article, Integer&gt;,\n    ArticleExtendRepository\n{\n\n    //\n\n}\n\n</code></pre>\n<hr />\n<p><strong>ArticleAutocompleteService.java</strong></p>\n<pre><code>public interface ArticleAutocompleteService {\n\n    List&lt;ArticleURINameDTO&gt; autocomplete(String q);\n\n}\n</code></pre>\n<hr />\n<p><strong>FindBySubstringRepositorySupport.java</strong></p>\n<pre><code>public interface FindBySubstringRepositorySupport&lt;T&gt; {\n\n    // default method to be run if no implementation is present\n    default List&lt;T&gt; findBySubstring(\n        final String       namePart,\n        final Integer      limit,\n        final ObjectStatus objectStatus\n    ) {\n        throw new IllegalStateException( &quot;Method not implemented&quot; );\n    }\n\n}\n</code></pre>\n<p><strong>ArticleExtendRepository.java</strong></p>\n<hr />\n<pre><code>public interface ArticleExtendRepository extends FindBySubstringRepositorySupport&lt;Article&gt; {\n\n    // some method signature not important here\n    long countByStatus( ObjectStatus objectStatus );\n\n}\n</code></pre>\n"},{"tags":["java","video","codec"],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697732408,"creation_date":1697732408,"question_id":77325525,"body_markdown":"I am using in my JavaFX application a MediaView with the javafx.scene.media classes Media and MediaPlayer. The content are rather short mp4 movies, that are typically only ~3 secs long. I use a test loop, where I try to repeat one of these movies 45 times - this number reflects my minimum number of repeats, when really using the application. \r\n\r\nWhile still on OpenJFX 17 I had a hard time, since I got in about 10% of the attempts MediaExceptions  - we are talking about the same file - and more important, stalled or even no display for some of the 45 repetitions. I played around with different versions of the movie with different frames per second settings, and different bit rates. No setup worked reliable, and differences in stability where not significant.\r\n\r\nAnyway, since I moved recently to OpenJFX 19, I tried what happens, if I convert my movie to the H265 codec. And at least the first three test runs worked without any problem. Therefore, in real life, I want to test whether a movie is H265 coded and inform the user to consider re-coding, if not. How can I check the movie codec using java? \r\n\r\nThank you in advance.","title":"Java - How can I find out what codec a video is using","body":"<p>I am using in my JavaFX application a MediaView with the javafx.scene.media classes Media and MediaPlayer. The content are rather short mp4 movies, that are typically only ~3 secs long. I use a test loop, where I try to repeat one of these movies 45 times - this number reflects my minimum number of repeats, when really using the application.</p>\n<p>While still on OpenJFX 17 I had a hard time, since I got in about 10% of the attempts MediaExceptions  - we are talking about the same file - and more important, stalled or even no display for some of the 45 repetitions. I played around with different versions of the movie with different frames per second settings, and different bit rates. No setup worked reliable, and differences in stability where not significant.</p>\n<p>Anyway, since I moved recently to OpenJFX 19, I tried what happens, if I convert my movie to the H265 codec. And at least the first three test runs worked without any problem. Therefore, in real life, I want to test whether a movie is H265 coded and inform the user to consider re-coding, if not. How can I check the movie codec using java?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring-mvc","spring-boot","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507594632,"creation_date":1507594632,"answer_id":46656842,"question_id":46656570,"body_markdown":"You already has `.log().all()` duplicated.\r\n\r\n    return given().log().all()\r\n            .contentType(ContentType.JSON)\r\n            .body(request)\r\n            .when()            \r\n            .post(&quot;/weather&quot;)\r\n            .andReturn()\r\n            .as(TestResponse.class);","title":"Error: java.lang.IllegalArgumentException: URI must not be null when using RestAssured in SpringBootTest aginst the RestTemplate","body":"<p>You already has <code>.log().all()</code> duplicated.</p>\n\n<pre><code>return given().log().all()\n        .contentType(ContentType.JSON)\n        .body(request)\n        .when()            \n        .post(\"/weather\")\n        .andReturn()\n        .as(TestResponse.class);\n</code></pre>\n"}],"owner":{"account_id":6181892,"reputation":715,"user_id":4817108,"accept_rate":41,"display_name":"worrynerd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9285,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697731390,"creation_date":1507592477,"question_id":46656570,"body_markdown":"This the `BaseTest` abstract class where the configuration is being set :\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public abstract class BaseIntegration {\r\n\r\n    @Value(&quot;${local.server.port}&quot;)\r\n    private int serverPort;\r\n\r\n    @Before\r\n    public void setup() {\r\n        RestAssured.port = serverPort;\r\n    }}\r\n\r\nThe test class is very simple : \r\n\r\n    public class TestIT extends BaseIntegration{//Test Code}\r\n\r\n`RestClient` created using `RestAssured` :\r\n\r\n    public static TestResponse postResponse(TestRequest request) {\r\n\r\n        return given().log().all()\r\n                .contentType(ContentType.JSON)\r\n                .body(request)\r\n                .when()\r\n                .log().all()\r\n                .post(&quot;/weather&quot;)\r\n                .as(TestResponse.class);\r\n\r\n    }\r\n\r\nWhen the test are running in teamcity this is what the error log says :\r\n\r\n    java.lang.IllegalArgumentException: URI must not be null\r\n    at org.springframework.util.Assert.notNull(Assert.java:134) ~[spring-core-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.util.UriComponentsBuilder.fromUriString(UriComponentsBuilder.java:189) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.util.DefaultUriTemplateHandler.initUriComponentsBuilder(DefaultUriTemplateHandler.java:114) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.util.DefaultUriTemplateHandler.expandInternal(DefaultUriTemplateHandler.java:103) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.util.AbstractUriTemplateHandler.expand(AbstractUriTemplateHandler.java:106) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:612) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:407) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n\r\nI am not using the `RestTemplate` or `TestRestTemplate`. There is another test that is using that and that test is working fine. I am unable to understand what can be causing the problem.\r\n\r\n**EDIT:**\r\n\r\nSeems like the service endpoint is using `RestTemplate` \r\n\r\n    restTemplate.postForEntity(url, body, TestResponse.class);\r\n\r\nOn calling the endpoint my test are failing. I am thinking that there are some compatilibily issue with `RestTemplate` and `RestAssured` libs.\r\n","title":"Error: java.lang.IllegalArgumentException: URI must not be null when using RestAssured in SpringBootTest aginst the RestTemplate","body":"<p>This the <code>BaseTest</code> abstract class where the configuration is being set :</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic abstract class BaseIntegration {\n\n@Value(&quot;${local.server.port}&quot;)\nprivate int serverPort;\n\n@Before\npublic void setup() {\n    RestAssured.port = serverPort;\n}}\n</code></pre>\n<p>The test class is very simple :</p>\n<pre><code>public class TestIT extends BaseIntegration{//Test Code}\n</code></pre>\n<p><code>RestClient</code> created using <code>RestAssured</code> :</p>\n<pre><code>public static TestResponse postResponse(TestRequest request) {\n\n    return given().log().all()\n            .contentType(ContentType.JSON)\n            .body(request)\n            .when()\n            .log().all()\n            .post(&quot;/weather&quot;)\n            .as(TestResponse.class);\n\n}\n</code></pre>\n<p>When the test are running in teamcity this is what the error log says :</p>\n<pre><code>java.lang.IllegalArgumentException: URI must not be null\nat org.springframework.util.Assert.notNull(Assert.java:134) ~[spring-core-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.util.UriComponentsBuilder.fromUriString(UriComponentsBuilder.java:189) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.util.DefaultUriTemplateHandler.initUriComponentsBuilder(DefaultUriTemplateHandler.java:114) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.util.DefaultUriTemplateHandler.expandInternal(DefaultUriTemplateHandler.java:103) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.util.AbstractUriTemplateHandler.expand(AbstractUriTemplateHandler.java:106) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:612) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\nat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:407) ~[spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n</code></pre>\n<p>I am not using the <code>RestTemplate</code> or <code>TestRestTemplate</code>. There is another test that is using that and that test is working fine. I am unable to understand what can be causing the problem.</p>\n<p><strong>EDIT:</strong></p>\n<p>Seems like the service endpoint is using <code>RestTemplate</code></p>\n<pre><code>restTemplate.postForEntity(url, body, TestResponse.class);\n</code></pre>\n<p>On calling the endpoint my test are failing. I am thinking that there are some compatilibily issue with <code>RestTemplate</code> and <code>RestAssured</code> libs.</p>\n"},{"tags":["java","spring","intellij-idea","spring-boot"],"comments":[{"owner":{"account_id":212417,"reputation":43614,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1443098705,"post_id":32758996,"comment_id":53362369,"body_markdown":"Exit code 0 means, the application was ended without errors. So what is the problem?","body":"Exit code 0 means, the application was ended without errors. So what is the problem?"},{"owner":{"account_id":1660988,"reputation":1239,"user_id":1529297,"accept_rate":47,"display_name":"Greg Zuber"},"score":9,"creation_date":1443100055,"post_id":32758996,"comment_id":53363370,"body_markdown":"But it shouldn&#39;t close. Spring-boot should wait running, waiting for requests.","body":"But it shouldn&#39;t close. Spring-boot should wait running, waiting for requests."},{"owner":{"account_id":212417,"reputation":43614,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":2,"creation_date":1443100107,"post_id":32758996,"comment_id":53363419,"body_markdown":"Only if you have included a web server in the application, which you didn&#39;t specify. So if you want more help, you should post the relevant configuration.","body":"Only if you have included a web server in the application, which you didn&#39;t specify. So if you want more help, you should post the relevant configuration."},{"owner":{"account_id":446482,"reputation":8211,"user_id":839554,"accept_rate":79,"display_name":"giannis christofakis"},"score":0,"creation_date":1585172466,"post_id":32758996,"comment_id":107673877,"body_markdown":"A silly cause can be a wrong class in the `SpringApplication.run()`","body":"A silly cause can be a wrong class in the <code>SpringApplication.run()</code>"}],"answers":[{"tags":[],"owner":{"account_id":6293800,"reputation":1292,"user_id":4890576,"display_name":"Aleksandr Sakharov"},"down_vote_count":3,"up_vote_count":111,"is_accepted":true,"score":108,"last_activity_date":1449788384,"creation_date":1449788384,"answer_id":34213295,"question_id":32758996,"body_markdown":"Deleting *provided* scope of *spring-boot-starter-tomcat* dependency helps me.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>Deleting <em>provided</em> scope of <em>spring-boot-starter-tomcat</em> dependency helps me.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1568643220,"creation_date":1568643220,"answer_id":57958726,"question_id":32758996,"body_markdown":"Add the below dependencies in pom.xml : \r\n\r\n  \r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>Add the below dependencies in pom.xml : </p>\n\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1579790449,"creation_date":1572986293,"answer_id":58719115,"question_id":32758996,"body_markdown":"I create a simple project from https://start.spring.io/ (sprint initializr) and added a simple controller to run the application.\r\n\r\n```\r\n@RestController\r\npublic class testController {\r\n\r\n    @GetMapping(value=&quot;/&quot;)\r\n    //@RequestMapping(value=&quot;/&quot;,method=RequestMethod.GET)\r\n    public String hello(){\r\n        return &quot;Hello World!!&quot;;\r\n    }\r\n}\r\n```\r\nbut it wasn&#39;t getting started because my pom wasn&#39;t having \r\n\r\n```\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAfter adding this my application started...\r\n\r\n```\r\n2019-11-05 14:33:32.302  INFO 39079 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dd20ebc, org.springframework.security.web.context.SecurityContextPersistenceFilter@57b1ec84, org.springframework.security.web.header.HeaderWriterFilter@2c2a7d53, org.springframework.security.web.csrf.CsrfFilter@b9b97ad, org.springframework.security.web.authentication.logout.LogoutFilter@29f3185c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ffa7041, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2c2a903f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6c70b7c3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@48d44b46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cbe95b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11ad095c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16a09809, org.springframework.security.web.session.SessionManagementFilter@1de85972, org.springframework.security.web.access.ExceptionTranslationFilter@4a122e68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d37aa0f]\r\n2019-11-05 14:33:32.392  INFO 39079 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2019-11-05 14:33:32.398  INFO 39079 --- [           main] eModelDeploymentServiceParentApplication : Started ServiceModelDeploymentServiceParentApplication in 5.727 seconds (JVM running for 6.778)\r\n```\r\n\r\nHere are my pom dependencies: \r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nNote: You may be not needing all the dependencies above.","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>I create a simple project from <a href=\"https://start.spring.io/\" rel=\"noreferrer\">https://start.spring.io/</a> (sprint initializr) and added a simple controller to run the application.</p>\n\n<pre><code>@RestController\npublic class testController {\n\n    @GetMapping(value=\"/\")\n    //@RequestMapping(value=\"/\",method=RequestMethod.GET)\n    public String hello(){\n        return \"Hello World!!\";\n    }\n}\n</code></pre>\n\n<p>but it wasn't getting started because my pom wasn't having </p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After adding this my application started...</p>\n\n<pre><code>2019-11-05 14:33:32.302  INFO 39079 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dd20ebc, org.springframework.security.web.context.SecurityContextPersistenceFilter@57b1ec84, org.springframework.security.web.header.HeaderWriterFilter@2c2a7d53, org.springframework.security.web.csrf.CsrfFilter@b9b97ad, org.springframework.security.web.authentication.logout.LogoutFilter@29f3185c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ffa7041, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2c2a903f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6c70b7c3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@48d44b46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cbe95b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11ad095c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16a09809, org.springframework.security.web.session.SessionManagementFilter@1de85972, org.springframework.security.web.access.ExceptionTranslationFilter@4a122e68, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d37aa0f]\n2019-11-05 14:33:32.392  INFO 39079 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2019-11-05 14:33:32.398  INFO 39079 --- [           main] eModelDeploymentServiceParentApplication : Started ServiceModelDeploymentServiceParentApplication in 5.727 seconds (JVM running for 6.778)\n</code></pre>\n\n<p>Here are my pom dependencies: </p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Note: You may be not needing all the dependencies above.</p>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589045277,"creation_date":1589045277,"answer_id":61700904,"question_id":32758996,"body_markdown":"in my case i started intelliJ as \r\n\r\n&gt; adminstrator\r\n\r\n, then it works\r\nmake sure you have tomcat dependency\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.29&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>in my case i started intelliJ as </p>\n\n<blockquote>\n  <p>adminstrator</p>\n</blockquote>\n\n<p>, then it works\nmake sure you have tomcat dependency</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;9.0.29&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3895533,"reputation":438,"user_id":3224675,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598411572,"creation_date":1598411572,"answer_id":63589922,"question_id":32758996,"body_markdown":"In my case, there is a slight difference between:\r\n\r\n- Just click Run in the most visible bottom inside IntelliJ and...\r\n- Look for the default controller inside src/main/java/com.exampler.yourapplication, right click and press Run there.\r\n\r\nThe second option just run the project properly.","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>In my case, there is a slight difference between:</p>\n<ul>\n<li>Just click Run in the most visible bottom inside IntelliJ and...</li>\n<li>Look for the default controller inside src/main/java/com.exampler.yourapplication, right click and press Run there.</li>\n</ul>\n<p>The second option just run the project properly.</p>\n"},{"tags":[],"owner":{"account_id":17619217,"reputation":1510,"user_id":12785586,"display_name":"User"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1611383402,"creation_date":1611383402,"answer_id":65856409,"question_id":32758996,"body_markdown":"Adding spring boot starter web solved my problem\r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>Adding spring boot starter web solved my problem</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13136518,"reputation":123,"user_id":9489314,"display_name":"Airy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1630461681,"creation_date":1630461681,"answer_id":69007012,"question_id":32758996,"body_markdown":"If you create a project `gradle` template from https://start.spring.io/ (sprint initializr), you need to add `org.springframework.boot:spring-boot-starter-web` dependecy in you build.gradle file.\r\n\r\n```\r\n// you need to add this dependency to run spring boot correctly\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web&#39; \t\r\n```\r\n","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>If you create a project <code>gradle</code> template from <a href=\"https://start.spring.io/\" rel=\"noreferrer\">https://start.spring.io/</a> (sprint initializr), you need to add <code>org.springframework.boot:spring-boot-starter-web</code> dependecy in you build.gradle file.</p>\n<pre><code>// you need to add this dependency to run spring boot correctly\nimplementation 'org.springframework.boot:spring-boot-starter-web'   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3018473,"reputation":35,"user_id":2560023,"display_name":"Romesh D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631173960,"creation_date":1631173960,"answer_id":69114295,"question_id":32758996,"body_markdown":"If below property was added to the allication.properties file, need to remove this.\r\nThis property is used to remove the web container.\r\n\r\n`spring.main.web-application-type=none`\r\n\r\nIn my case I forgot to remove this and once it&#39;s removed the issue was fixed","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>If below property was added to the allication.properties file, need to remove this.\nThis property is used to remove the web container.</p>\n<p><code>spring.main.web-application-type=none</code></p>\n<p>In my case I forgot to remove this and once it's removed the issue was fixed</p>\n"},{"tags":[],"owner":{"account_id":5404267,"reputation":119,"user_id":4303239,"display_name":"mrdm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633072733,"creation_date":1633072733,"answer_id":69401965,"question_id":32758996,"body_markdown":"Using the below dependencies in pom.xml, as well as loading maven changes (ctrl+shift+o) solved my problem.\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>Using the below dependencies in pom.xml, as well as loading maven changes (ctrl+shift+o) solved my problem.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11737877,"reputation":1652,"user_id":8591092,"display_name":"Wisnu Wijokangko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665297848,"creation_date":1665297848,"answer_id":74002634,"question_id":32758996,"body_markdown":"In my case, I need to remove several dependencies first. Then I run ``maven clean``. After that my code just works fine.","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>In my case, I need to remove several dependencies first. Then I run <code>maven clean</code>. After that my code just works fine.</p>\n"},{"tags":[],"owner":{"account_id":4857030,"reputation":71,"user_id":3917708,"display_name":"Sid Ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696330978,"creation_date":1696330978,"answer_id":77221693,"question_id":32758996,"body_markdown":"For me removing the check-mark from - use settings from .mvn/maven.config and changing the Maven path to take from Bundled Maven worked. These settings are in build tools Maven settings.","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>For me removing the check-mark from - use settings from .mvn/maven.config and changing the Maven path to take from Bundled Maven worked. These settings are in build tools Maven settings.</p>\n"},{"tags":[],"owner":{"account_id":26251058,"reputation":38,"user_id":19923865,"display_name":"SKS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697730155,"creation_date":1697730155,"answer_id":77325277,"question_id":32758996,"body_markdown":"For me I forgot to add the Spring Web MVC Dependency","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>For me I forgot to add the Spring Web MVC Dependency</p>\n"}],"owner":{"account_id":1660988,"reputation":1239,"user_id":1529297,"accept_rate":47,"display_name":"Greg Zuber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86085,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":34213295,"answer_count":12,"score":73,"last_activity_date":1697730155,"creation_date":1443090401,"question_id":32758996,"body_markdown":"I have a problem when starting spring-boot appication from IntelliJ-Idea. I don&#39;t have this problem when running application through terminal.\r\n\r\n    :: Spring Boot ::        (v1.2.1.RELEASE)\r\n\r\n    2015-09-24 12:22:44.274  WARN 22380 --- [           main] n.sf.ehcache.config.CacheConfiguration   : Cache &#39;publicationsCount&#39; is set to eternal but also has TTI/TTL set.  To avoid this warning, clean up the config removing conflicting values of eternal, TTI and TTL. Effective configuration for Cache &#39;publicationsCount&#39; will be eternal=&#39;true&#39;, timeToIdleSeconds=&#39;0&#39;, timeToLiveSeconds=&#39;0&#39;.\r\n\r\n    Process finished with exit code 0\r\n\r\nI think this warn is not causing it. What may be the reason?","title":"IntelliJ Process finished with exit code 0 when spring-boot run","body":"<p>I have a problem when starting spring-boot appication from IntelliJ-Idea. I don't have this problem when running application through terminal.</p>\n\n<pre><code>:: Spring Boot ::        (v1.2.1.RELEASE)\n\n2015-09-24 12:22:44.274  WARN 22380 --- [           main] n.sf.ehcache.config.CacheConfiguration   : Cache 'publicationsCount' is set to eternal but also has TTI/TTL set.  To avoid this warning, clean up the config removing conflicting values of eternal, TTI and TTL. Effective configuration for Cache 'publicationsCount' will be eternal='true', timeToIdleSeconds='0', timeToLiveSeconds='0'.\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>I think this warn is not causing it. What may be the reason?</p>\n"},{"tags":["java","intellij-idea","phpstorm","intellij-plugin"],"owner":{"account_id":21696747,"reputation":21,"user_id":16010521,"display_name":"Thebest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697729937,"creation_date":1697728376,"question_id":77325030,"body_markdown":"I am developing a plugin for PhpStorm, and I want to provide code completion when the user, for example, calls a method on a class like `User::find(&quot;&quot;)`. I want to suggest words which a define to the user when the cursor is between the double quotes.\r\n\r\nThis is my code. It works for all double quotes, but I want it to work only when the user is inside the `&quot;&quot;` of a method.\r\n\r\n```java\r\npublic class ModelFieldCompletion extends CompletionContributor {\r\n    public ModelFieldCompletion() {\r\n        extend(CompletionType.BASIC, PlatformPatterns.psiElement(PhpTokenTypes.STRING_LITERAL),\r\n                new CompletionProvider&lt;&gt;() {\r\n                    public void addCompletions(@NotNull CompletionParameters parameters,\r\n                                               @NotNull ProcessingContext context,\r\n                                               @NotNull CompletionResultSet resultSet) {\r\n                        String[] suggestions = {&quot;hello&quot;, &quot;world&quot;, &quot;example&quot;, &quot;suggestion&quot;};\r\n\r\n                        // Iterate over the array and add each string as a suggestion\r\n                        for (String suggestion : suggestions) {\r\n                            resultSet.addElement(LookupElementBuilder.create(suggestion).bold().withCaseSensitivity(false));\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nDoes anyone know what I need to add or what I still have to do to achieve this? I have read the documentation and some tutorials.","title":"PHP Code completion with CompletionContributor","body":"<p>I am developing a plugin for PhpStorm, and I want to provide code completion when the user, for example, calls a method on a class like <code>User::find(&quot;&quot;)</code>. I want to suggest words which a define to the user when the cursor is between the double quotes.</p>\n<p>This is my code. It works for all double quotes, but I want it to work only when the user is inside the <code>&quot;&quot;</code> of a method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ModelFieldCompletion extends CompletionContributor {\n    public ModelFieldCompletion() {\n        extend(CompletionType.BASIC, PlatformPatterns.psiElement(PhpTokenTypes.STRING_LITERAL),\n                new CompletionProvider&lt;&gt;() {\n                    public void addCompletions(@NotNull CompletionParameters parameters,\n                                               @NotNull ProcessingContext context,\n                                               @NotNull CompletionResultSet resultSet) {\n                        String[] suggestions = {&quot;hello&quot;, &quot;world&quot;, &quot;example&quot;, &quot;suggestion&quot;};\n\n                        // Iterate over the array and add each string as a suggestion\n                        for (String suggestion : suggestions) {\n                            resultSet.addElement(LookupElementBuilder.create(suggestion).bold().withCaseSensitivity(false));\n                        }\n                    }\n                }\n        );\n    }\n}\n</code></pre>\n<p>Does anyone know what I need to add or what I still have to do to achieve this? I have read the documentation and some tutorials.</p>\n"},{"tags":["java","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1695461845,"post_id":77162317,"comment_id":136029827,"body_markdown":"In the instructions you referenced, probably you didn’t perform properly the non-modular in the VSCode IDE step titled “2. Add JavaFX dependencies”, which adds the JavaFX libraries as dependencies to your project.","body":"In the instructions you referenced, probably you didn’t perform properly the non-modular in the VSCode IDE step titled “2. Add JavaFX dependencies”, which adds the JavaFX libraries as dependencies to your project."},{"owner":{"account_id":25965414,"reputation":81,"user_id":19681418,"display_name":"Talete"},"score":0,"creation_date":1695461977,"post_id":77162317,"comment_id":136029835,"body_markdown":"@jewelsea i did add the javafx jars to the reference library","body":"@jewelsea i did add the javafx jars to the reference library"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697729762,"creation_date":1697729762,"answer_id":77325237,"question_id":77162317,"body_markdown":"Why the hell are you using Visual Studio Code for this? Well you can, but can use screws with a hammer too.\r\n\r\nI recommend you:\r\n\r\n**Step 1:**\r\n\r\nDownload the forever free Community Version of IntelliJ here:\r\nhttps://www.jetbrains.com/idea/download/?section=linux\r\n\r\nhttps://www.jetbrains.com/idea/download\r\n\r\n**Step 2:** \r\n\r\nInstall it, click on file &gt; new project &gt; JavaFX project &gt; create.\r\n\r\n**Step 3:**\r\n\r\nProfit, because everything works out of the box. And everybody can help you. \r\n","title":"Cannot configure javafx in vscode","body":"<p>Why the hell are you using Visual Studio Code for this? Well you can, but can use screws with a hammer too.</p>\n<p>I recommend you:</p>\n<p><strong>Step 1:</strong></p>\n<p>Download the forever free Community Version of IntelliJ here:\n<a href=\"https://www.jetbrains.com/idea/download/?section=linux\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/download/?section=linux</a></p>\n<p><a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/download</a></p>\n<p><strong>Step 2:</strong></p>\n<p>Install it, click on file &gt; new project &gt; JavaFX project &gt; create.</p>\n<p><strong>Step 3:</strong></p>\n<p>Profit, because everything works out of the box. And everybody can help you.</p>\n"}],"owner":{"account_id":25965414,"reputation":81,"user_id":19681418,"display_name":"Talete"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697729762,"creation_date":1695459541,"question_id":77162317,"body_markdown":"I&#39;ve been trying to make javafx work with vscode for a while, even though i follow the official javafx guide: https://openjfx.io/openjfx-docs/#install-java (vscode instructions on the left).\r\n\r\nI use linux mint 21 and have jdk 17 installed.\r\n\r\nThe project is a folder ```HelloFX``` with ```bin```,```lib```,```src``` folders inside.\r\nInside ```src``` i have ```hellofx``` folder containing:\r\n\r\n```App.java```\r\n\r\n        package hellofx;\r\n\r\n\r\n        import javafx.application.Application;\r\n        import javafx.fxml.FXMLLoader;\r\n        import javafx.scene.Parent;\r\n        import javafx.scene.Scene;\r\n        import javafx.stage.Stage;\r\n\r\n        public class App extends Application {\r\n\r\n            @Override\r\n            public void start(Stage primaryStage) throws Exception{\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;hellofx.fxml&quot;));\r\n            primaryStage.setTitle(&quot;Hello World&quot;);\r\n            primaryStage.setScene(new Scene(root, 400, 300));\r\n            primaryStage.show();\r\n            }\r\n\r\n            public static void main(String[] args) {\r\n                launch(App.class);\r\n            }\r\n        }\r\n\r\n```Controller.java```\r\n\r\n        private Label label;\r\n\r\n        public void initialize() {\r\n            String javaVersion = System.getProperty(&quot;java.version&quot;);\r\n            String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\r\n            label.setText(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;\\nRunning on Java &quot; + javaVersion + &quot;.&quot;);\r\n            }\r\n        }\r\n\r\n```hellofx.fxml```\r\n        \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n        &lt;?import javafx.scene.control.Label?&gt;\r\n        &lt;?import javafx.scene.layout.StackPane?&gt;\r\n\r\n\r\n        &lt;StackPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot;                                   minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com /javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;hellofx.Controller&quot;&gt;\r\n            &lt;children&gt;\r\n                &lt;Label fx:id=&quot;label&quot; text=&quot;Label&quot; /&gt;\r\n            &lt;/children&gt;\r\n        &lt;/StackPane&gt;\r\n\r\nAs instrucions i create a ```launch.json```\r\n\r\n        {\r\n    \r\n        &quot;version&quot;: &quot;0.2.0&quot;,\r\n        &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;hellofx.App&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path ~/Scaricati/javafx-sdk-21/lib --add-modules javafx.controls,javafx.fxml&quot;,\r\n            }\r\n        ]\r\n     }\r\n\r\nPlus i write in the ```.bashrc``` file:\r\n\r\n```export JAVA_HOME=/usr/lib/jvm/java-17-oracle```\r\n\r\nThere must be something important missing, since the application doesn&#39;t run:\r\n\r\n        App.java:3: error: package javafx.application does not exist\r\n        import javafx.application.Application;\r\n        ^\r\n        App.java:4: error: package javafx.fxml does not exist\r\n        import javafx.fxml.FXMLLoader;\r\n        ^\r\n        App.java:5: error: package javafx.scene does not exist\r\n        import javafx.scene.Parent;\r\n        ^\r\n        App.java:6: error: package javafx.scene does not exist\r\n        import javafx.scene.Scene;\r\n        ^\r\n        App.java:7: error: package javafx.stage does not exist\r\n        import javafx.stage.Stage;\r\n        ^\r\n        App.java:9: error: cannot find symbol\r\n        public class App extends Application {\r\n        ^\r\n        symbol: class Application\r\n        App.java:12: error: cannot find symbol\r\n        public void start(Stage primaryStage) throws Exception{\r\n        ^\r\n        symbol: class Stage\r\n        location: class App\r\n        App.java:11: error: method does not override or implement a method from a supertype\r\n        u/Override\r\n        ^\r\n        App.java:13: error: cannot find symbol\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;hellofx.fxml&quot;));\r\n        ^\r\n        symbol: class Parent\r\n        location: class App\r\n        App.java:13: error: cannot find symbol\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;hellofx.fxml&quot;));\r\n        ^\r\n        symbol: variable FXMLLoader\r\n        location: class App\r\n        App.java:13: error: cannot find symbol\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;hellofx.fxml&quot;));\r\n        ^\r\n        symbol: method getClass()\r\n        location: class App\r\n        App.java:15: error: cannot find symbol\r\n        primaryStage.setScene(new Scene(root, 400, 300));\r\n        ^\r\n        symbol: class Scene\r\n        location: class App\r\n        App.java:20: error: cannot find symbol\r\n        launch(App.class);\r\n        ^\r\n        symbol: method launch(Class&lt;App&gt;)\r\n        location: class App\r\n        13 errors\r\n\r\n**EDIT**\r\n\r\nThe application runs fine with this method: \r\n\r\nhttps://openjfx.io/openjfx-docs/#modular\r\n\r\nBut there&#39;s the downside of having the console cluttered with errors although the app will run with the commands","title":"Cannot configure javafx in vscode","body":"<p>I've been trying to make javafx work with vscode for a while, even though i follow the official javafx guide: <a href=\"https://openjfx.io/openjfx-docs/#install-java\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#install-java</a> (vscode instructions on the left).</p>\n<p>I use linux mint 21 and have jdk 17 installed.</p>\n<p>The project is a folder <code>HelloFX</code> with <code>bin</code>,<code>lib</code>,<code>src</code> folders inside.\nInside <code>src</code> i have <code>hellofx</code> folder containing:</p>\n<p><code>App.java</code></p>\n<pre><code>    package hellofx;\n\n\n    import javafx.application.Application;\n    import javafx.fxml.FXMLLoader;\n    import javafx.scene.Parent;\n    import javafx.scene.Scene;\n    import javafx.stage.Stage;\n\n    public class App extends Application {\n\n        @Override\n        public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;hellofx.fxml&quot;));\n        primaryStage.setTitle(&quot;Hello World&quot;);\n        primaryStage.setScene(new Scene(root, 400, 300));\n        primaryStage.show();\n        }\n\n        public static void main(String[] args) {\n            launch(App.class);\n        }\n    }\n</code></pre>\n<p><code>Controller.java</code></p>\n<pre><code>    private Label label;\n\n    public void initialize() {\n        String javaVersion = System.getProperty(&quot;java.version&quot;);\n        String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\n        label.setText(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;\\nRunning on Java &quot; + javaVersion + &quot;.&quot;);\n        }\n    }\n</code></pre>\n<p><code>hellofx.fxml</code></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n    &lt;?import javafx.scene.control.Label?&gt;\n    &lt;?import javafx.scene.layout.StackPane?&gt;\n\n\n    &lt;StackPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot;                                   minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com /javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;hellofx.Controller&quot;&gt;\n        &lt;children&gt;\n            &lt;Label fx:id=&quot;label&quot; text=&quot;Label&quot; /&gt;\n        &lt;/children&gt;\n    &lt;/StackPane&gt;\n</code></pre>\n<p>As instrucions i create a <code>launch.json</code></p>\n<pre><code>    {\n\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch App&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;hellofx.App&quot;,\n        &quot;vmArgs&quot;: &quot;--module-path ~/Scaricati/javafx-sdk-21/lib --add-modules javafx.controls,javafx.fxml&quot;,\n        }\n    ]\n }\n</code></pre>\n<p>Plus i write in the <code>.bashrc</code> file:</p>\n<p><code>export JAVA_HOME=/usr/lib/jvm/java-17-oracle</code></p>\n<p>There must be something important missing, since the application doesn't run:</p>\n<pre><code>    App.java:3: error: package javafx.application does not exist\n    import javafx.application.Application;\n    ^\n    App.java:4: error: package javafx.fxml does not exist\n    import javafx.fxml.FXMLLoader;\n    ^\n    App.java:5: error: package javafx.scene does not exist\n    import javafx.scene.Parent;\n    ^\n    App.java:6: error: package javafx.scene does not exist\n    import javafx.scene.Scene;\n    ^\n    App.java:7: error: package javafx.stage does not exist\n    import javafx.stage.Stage;\n    ^\n    App.java:9: error: cannot find symbol\n    public class App extends Application {\n    ^\n    symbol: class Application\n    App.java:12: error: cannot find symbol\n    public void start(Stage primaryStage) throws Exception{\n    ^\n    symbol: class Stage\n    location: class App\n    App.java:11: error: method does not override or implement a method from a supertype\n    u/Override\n    ^\n    App.java:13: error: cannot find symbol\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;hellofx.fxml&quot;));\n    ^\n    symbol: class Parent\n    location: class App\n    App.java:13: error: cannot find symbol\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;hellofx.fxml&quot;));\n    ^\n    symbol: variable FXMLLoader\n    location: class App\n    App.java:13: error: cannot find symbol\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;hellofx.fxml&quot;));\n    ^\n    symbol: method getClass()\n    location: class App\n    App.java:15: error: cannot find symbol\n    primaryStage.setScene(new Scene(root, 400, 300));\n    ^\n    symbol: class Scene\n    location: class App\n    App.java:20: error: cannot find symbol\n    launch(App.class);\n    ^\n    symbol: method launch(Class&lt;App&gt;)\n    location: class App\n    13 errors\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>The application runs fine with this method:</p>\n<p><a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#modular</a></p>\n<p>But there's the downside of having the console cluttered with errors although the app will run with the commands</p>\n"},{"tags":["java","concurrent.futures"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697754550,"post_id":77325225,"comment_id":136323083,"body_markdown":"[Canceling `Future` objects](https://www.ecosia.org/search?tts=st_asaf_macos&amp;q=site%3Astackoverflow.com%20cancel%20future%20java) has been covered many times on Stack Overflow. How do none of those address your issue?","body":"<a href=\"https://www.ecosia.org/search?tts=st_asaf_macos&amp;q=site%3Astackoverflow.com%20cancel%20future%20java\" rel=\"nofollow noreferrer\">Canceling <code>Future</code> objects</a> has been covered many times on Stack Overflow. How do none of those address your issue?"},{"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"score":0,"creation_date":1697783931,"post_id":77325225,"comment_id":136325454,"body_markdown":"Is it possible to add a callable to a future object to get notified when its failed?","body":"Is it possible to add a callable to a future object to get notified when its failed?"}],"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697729684,"creation_date":1697729657,"question_id":77325225,"body_markdown":"I am using a `ThreadPoolExecutor.submit` to create multiple futures to write parallel into a database.\r\n\r\n\r\n`for(BusinessElement el : elements){\r\n     list.add(threadPoolExecutor.submit(() -&gt; createElement(el)));\r\n}`\r\n\r\nSo what I want to do is when one submit failed to stop all execution, means when one submit failed that it\r\nshould stop the execution of all active threads and go out from the the foreach block.\r\n\r\n\r\nIs their any elegant solution?","title":"Java: Cancel Future","body":"<p>I am using a <code>ThreadPoolExecutor.submit</code> to create multiple futures to write parallel into a database.</p>\n<p><code>for(BusinessElement el : elements){ list.add(threadPoolExecutor.submit(() -&gt; createElement(el))); }</code></p>\n<p>So what I want to do is when one submit failed to stop all execution, means when one submit failed that it\nshould stop the execution of all active threads and go out from the the foreach block.</p>\n<p>Is their any elegant solution?</p>\n"},{"tags":["java","methods","size","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697732106,"post_id":77325206,"comment_id":136319690,"body_markdown":"The method `private int size(Node node)` *does* return the size of subtree of the specified `node`. It uses recursion to get the sizes of the left subtree and the right subtree. Adding those together with 1 more for the current `node` gives the size of the current subtree.","body":"The method <code>private int size(Node node)</code> <i>does</i> return the size of subtree of the specified <code>node</code>. It uses recursion to get the sizes of the left subtree and the right subtree. Adding those together with 1 more for the current <code>node</code> gives the size of the current subtree."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1697732179,"post_id":77325206,"comment_id":136319705,"body_markdown":"If you created the tree, maintain a size field that is updated when you add or remove elements. Otherwise web search how to traverse a binary tree and count the items until you are done.","body":"If you created the tree, maintain a size field that is updated when you add or remove elements. Otherwise web search how to traverse a binary tree and count the items until you are done."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697733272,"post_id":77325206,"comment_id":136319951,"body_markdown":"By the way, Why are you **shouting** at us? It won&#39;t help, and may discourage some from offering help.","body":"By the way, Why are you <b>shouting</b> at us? It won&#39;t help, and may discourage some from offering help."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697735056,"post_id":77325206,"comment_id":136320288,"body_markdown":"Have you tried running the code in a debugger? Run the code one-step-at-a-time while monitoring variables.  Debugging a working program can help you  understand it better. There are more suggestions in [How to Debug Small Programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) . You might also web search for &quot;understanding recursion&quot; or &quot;recursion tutorial&quot;","body":"Have you tried running the code in a debugger? Run the code one-step-at-a-time while monitoring variables.  Debugging a working program can help you  understand it better. There are more suggestions in <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to Debug Small Programs</a> . You might also web search for &quot;understanding recursion&quot; or &quot;recursion tutorial&quot;"}],"owner":{"account_id":29709773,"reputation":1,"user_id":22769730,"display_name":"Saif Miskin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697729549,"creation_date":1697729549,"question_id":77325206,"body_markdown":"`\r\n```\r\n    private int size(Node node) \r\n    {\r\n        Node n = node;\r\n        if(n == null)\r\n        {\r\n            return 0;\r\n        }\r\n        else\r\n        {   int leftside = size(n.left);\r\n            int rightside = size(n.right);\r\n            return leftside + 1 + rightside;\r\n        }\r\n    }\r\n    public int size() \r\n    {\r\n        int sizeOfTree = size(root);\r\n        System.out.println(&quot;Size of the binary tree is: &quot; + sizeOfTree);\r\n        return sizeOfTree;\r\n       \r\n    }\r\n```\r\n# this provides the size of the entire tree, im not sure how it could be implemented to take a specific node and get size of its subtree\r\n\r\nim just very confused, i would like a break down on how this can work","title":"How do I create a method to get the size of a sub-tree or even the tree of a Binary search tree in java","body":"<p>`</p>\n<pre><code>    private int size(Node node) \n    {\n        Node n = node;\n        if(n == null)\n        {\n            return 0;\n        }\n        else\n        {   int leftside = size(n.left);\n            int rightside = size(n.right);\n            return leftside + 1 + rightside;\n        }\n    }\n    public int size() \n    {\n        int sizeOfTree = size(root);\n        System.out.println(&quot;Size of the binary tree is: &quot; + sizeOfTree);\n        return sizeOfTree;\n       \n    }\n</code></pre>\n<h1>this provides the size of the entire tree, im not sure how it could be implemented to take a specific node and get size of its subtree</h1>\n<p>im just very confused, i would like a break down on how this can work</p>\n"},{"tags":["java","jackson"],"owner":{"account_id":13142417,"reputation":541,"user_id":10945546,"display_name":"Phuong Hoang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697729259,"creation_date":1697729259,"question_id":77325164,"body_markdown":"I have this class\r\n\r\n```java\r\nclass ExampleModel {\r\n   Foo fooField;\r\n   Bar barField;\r\n}\r\n\r\nclass Bar {\r\n   String name;\r\n}\r\n```\r\n\r\nI need to refactor to move `fooField` to under `barField` so the new class structures look like\r\n\r\n```java\r\nclass ExampleModel {\r\n   Bar barField;\r\n}\r\n\r\nclass Bar {\r\n   String name;\r\n   Foo fooField;\r\n}\r\n```\r\n\r\nI now have JSON files that were serialized from the old class structure, where fooField was outside the Bar class. How can I write a deserializer for these JSON files so that they are mapped to the new class structure, i.e. fooField now inside the Bar class?\r\n\r\nI can write a Deserializer that applies to the whole `ExampleModel` class but this is not something I want. The reason is I have to write the deserialize operations for all other fields in the `ExampleModel` class without being able to use the Jackson deserialize support. \r\n\r\nMy question is:\r\n\r\nCan I write a deserializer for just the `Bar` class that can know how to copy the `fooField` from the outer scope to inside the `Bar`?","title":"Jackson deserializer: deserialize object with access to fields in outer scope?","body":"<p>I have this class</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExampleModel {\n   Foo fooField;\n   Bar barField;\n}\n\nclass Bar {\n   String name;\n}\n</code></pre>\n<p>I need to refactor to move <code>fooField</code> to under <code>barField</code> so the new class structures look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExampleModel {\n   Bar barField;\n}\n\nclass Bar {\n   String name;\n   Foo fooField;\n}\n</code></pre>\n<p>I now have JSON files that were serialized from the old class structure, where fooField was outside the Bar class. How can I write a deserializer for these JSON files so that they are mapped to the new class structure, i.e. fooField now inside the Bar class?</p>\n<p>I can write a Deserializer that applies to the whole <code>ExampleModel</code> class but this is not something I want. The reason is I have to write the deserialize operations for all other fields in the <code>ExampleModel</code> class without being able to use the Jackson deserialize support.</p>\n<p>My question is:</p>\n<p>Can I write a deserializer for just the <code>Bar</code> class that can know how to copy the <code>fooField</code> from the outer scope to inside the <code>Bar</code>?</p>\n"},{"tags":["java","spring","multithreading","concurrency"],"comments":[{"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1697721244,"post_id":77323266,"comment_id":136317309,"body_markdown":"You only show us emptying the queue, so kind of hard to reason about it. And what happens if you produce more than `maxRequests` per 2s on average?","body":"You only show us emptying the queue, so kind of hard to reason about it. And what happens if you produce more than <code>maxRequests</code> per 2s on average?"},{"owner":{"account_id":9494766,"reputation":147,"user_id":7058262,"display_name":"prasannajoshi"},"score":0,"creation_date":1697721976,"post_id":77323266,"comment_id":136317491,"body_markdown":"also best way to debug is just add more logs , in multithreaded env logs are the best way to find exact issue. just add logs after each and every important steps that you are performing with threadId and timestamp, you will find issue easily","body":"also best way to debug is just add more logs , in multithreaded env logs are the best way to find exact issue. just add logs after each and every important steps that you are performing with threadId and timestamp, you will find issue easily"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1697722608,"post_id":77323266,"comment_id":136317626,"body_markdown":"Also I would put a mutex/synchronized block around the loop. Otherwise you might get `Check Then Act` race condition between the `peek` and `poll`","body":"Also I would put a mutex/synchronized block around the loop. Otherwise you might get <code>Check Then Act</code> race condition between the <code>peek</code> and <code>poll</code>"}],"answers":[{"tags":[],"owner":{"account_id":8850634,"reputation":90,"user_id":6610032,"display_name":"Suchita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697729256,"creation_date":1697729256,"answer_id":77325162,"question_id":77323266,"body_markdown":"**fixedRateString** used when each execution of the task is independent.\r\n\r\nNote that scheduled tasks don’t run in parallel by default. So even if you used fixedRate, the next task won’t be invoked until the previous one is done.\r\n\r\nAs per your comment, your data is large, So it might be taking more than 2seconds to complete. \r\n\r\nYou can try below option:\r\n\r\n    @EnableAsync\r\n    public class Task {\r\n        @Async\r\n        @Scheduled(fixedRateString = &quot;2000&quot;)\r\n        void sendToApi() {\r\n          var apiRequest = prepareRequests();\r\n          webClient.sendRequests(apiRequest);\r\n        }\r\n    }","title":"Java ConcurrentLinkedQueue","body":"<p><strong>fixedRateString</strong> used when each execution of the task is independent.</p>\n<p>Note that scheduled tasks don’t run in parallel by default. So even if you used fixedRate, the next task won’t be invoked until the previous one is done.</p>\n<p>As per your comment, your data is large, So it might be taking more than 2seconds to complete.</p>\n<p>You can try below option:</p>\n<pre><code>@EnableAsync\npublic class Task {\n    @Async\n    @Scheduled(fixedRateString = &quot;2000&quot;)\n    void sendToApi() {\n      var apiRequest = prepareRequests();\n      webClient.sendRequests(apiRequest);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11384536,"reputation":127,"user_id":8346472,"accept_rate":0,"display_name":"J.Doe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77325162,"answer_count":1,"score":0,"last_activity_date":1697729256,"creation_date":1697713838,"question_id":77323266,"body_markdown":"I have a RESTful application that communicates with an external server. I process a very large amount of data, so I aggregate this data and send it to that server periodically using the @Scheduled annotation (every 2 seconds). The problem is that sometimes, for unknown reasons, random data doesn&#39;t get sent. I don&#39;t know what could be the cause.\r\n```\r\n@Scheduled(fixedRateString = &quot;2000&quot;)\r\n    void sendToApi() {\r\n        var apiRequest = prepareRequests();\r\n        webClient.sendRequests(apiRequest);\r\n    }\r\n```\r\n\r\n```\r\n    private final ConcurrentLinkedQueue&lt;ApiRequest&gt; apiRequests = new ConcurrentLinkedQueue&lt;&gt;();\r\n\r\n    private ApiRequest prepareApiRequest() {\r\n        List&lt;ApiRequest&gt; requestsToSend = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; maxRequests ; i++) {\r\n            if (this.apiRequests.peek() == null) {\r\n                break;\r\n            }\r\n            requestsToSend.add(this.apiRequests.poll());\r\n        }\r\n        return new ApiRequest(requestsToSend);\r\n    }\r\n```\r\n","title":"Java ConcurrentLinkedQueue","body":"<p>I have a RESTful application that communicates with an external server. I process a very large amount of data, so I aggregate this data and send it to that server periodically using the @Scheduled annotation (every 2 seconds). The problem is that sometimes, for unknown reasons, random data doesn't get sent. I don't know what could be the cause.</p>\n<pre><code>@Scheduled(fixedRateString = &quot;2000&quot;)\n    void sendToApi() {\n        var apiRequest = prepareRequests();\n        webClient.sendRequests(apiRequest);\n    }\n</code></pre>\n<pre><code>    private final ConcurrentLinkedQueue&lt;ApiRequest&gt; apiRequests = new ConcurrentLinkedQueue&lt;&gt;();\n\n    private ApiRequest prepareApiRequest() {\n        List&lt;ApiRequest&gt; requestsToSend = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; maxRequests ; i++) {\n            if (this.apiRequests.peek() == null) {\n                break;\n            }\n            requestsToSend.add(this.apiRequests.poll());\n        }\n        return new ApiRequest(requestsToSend);\n    }\n</code></pre>\n"},{"tags":["java","exception","javafx","nullpointerexception"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1696025656,"post_id":77204988,"comment_id":136106110,"body_markdown":"This is simply the wrong approach.  One controller should not call another controller (especially an instance that you create yourself rather than an instance from FXML).  Apply an [MVC approach](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) instead.  Place the data in the observable list backing the table in a model and update that list.","body":"This is simply the wrong approach.  One controller should not call another controller (especially an instance that you create yourself rather than an instance from FXML).  Apply an <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC approach</a> instead.  Place the data in the observable list backing the table in a model and update that list."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697729228,"creation_date":1697727745,"answer_id":77324946,"question_id":77204988,"body_markdown":"**In the controller of your new Stage:**\r\n\r\nAdd an attribute of class Runnable with the name &quot;callbackOnClose&quot;.\r\nCreate a setter for this attribute.\r\nAt the end of &quot;onInsert&quot; execute &quot;callbackOnClose.run()&quot;.\r\n\r\n**In the parent Stage:**\r\n\r\nBefore loading the new Stage/Scene, get the controller of it and set the callback with the setter method you created. \r\nYou can create a Runnable and pass it as parameter or do it with a Lambda.\r\nBecause you are in the parent views controller, you can access its attributes. \r\n\r\n**Note:**\r\n\r\nThis is the way I do it in all of my projects and it worked every time like a charm.\r\n\r\n**Note 2:**\r\n\r\nYou can use any type of Interface instead of Runnable. You can create your own Interface if you need to. ","title":"How to update Scene 1 data view when I am in scene 2 view in JavaFx?","body":"<p><strong>In the controller of your new Stage:</strong></p>\n<p>Add an attribute of class Runnable with the name &quot;callbackOnClose&quot;.\nCreate a setter for this attribute.\nAt the end of &quot;onInsert&quot; execute &quot;callbackOnClose.run()&quot;.</p>\n<p><strong>In the parent Stage:</strong></p>\n<p>Before loading the new Stage/Scene, get the controller of it and set the callback with the setter method you created.\nYou can create a Runnable and pass it as parameter or do it with a Lambda.\nBecause you are in the parent views controller, you can access its attributes.</p>\n<p><strong>Note:</strong></p>\n<p>This is the way I do it in all of my projects and it worked every time like a charm.</p>\n<p><strong>Note 2:</strong></p>\n<p>You can use any type of Interface instead of Runnable. You can create your own Interface if you need to.</p>\n"}],"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697729228,"creation_date":1696025196,"question_id":77204988,"body_markdown":"The problem I am facing is I am trying to fetch the data through excel file and inserting it into my database and after that the data on the table should be updated but it is not happening.\r\n\r\nhere is my main class which causes to open a new frame through which I can upload the excel data and insert it into my database.\r\n\r\n`AddNewAccountHolderController.java` file.\r\n\r\n    @FXML\r\n    void onImport() {\r\n        ImportAccountHoldersData accountHolder = new ImportAccountHoldersData();\r\n        Stage stage = new Stage();\r\n        try {\r\n            accountHolder.start(stage);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    \r\n    }\r\n\r\nThis function opens up a new view and its controller is `ImportAccountHoldersDataController.java`. Now in this controller I have a insert function that inserts the data into the database.\r\n\r\nhere is the function:\r\n\r\n    @FXML\r\n    void onInsert() {\r\n        try {\r\n            // Check if the table is not empty\r\n            if (accountHoldersTableView.getItems().isEmpty()) {\r\n                MessageDialogs.showErrorMessage(&quot;No account holders to insert.&quot;);\r\n                return; // Exit the method since there&#39;s nothing to insert\r\n            }\r\n    \r\n            DatabaseConnection db = new DatabaseConnection();\r\n            CallableStatement statement = db.connection.prepareCall(&quot;{CALL sp_create_account_holder(?, ?, ?, ?, ?, ?)}&quot;);\r\n    \r\n            boolean allRecordsInserted = true;\r\n    \r\n            for (AccountHolder accountHolder : accountHoldersTableView.getItems()) {\r\n                // Set the input parameters for the stored procedure\r\n                statement.setString(1, accountHolder.getName());\r\n                String cnicNo = accountHolder.getCnicNo().replaceAll(&quot;-&quot;, &quot;&quot;);\r\n                statement.setBigDecimal(2, BigDecimal.valueOf(Long.parseLong(cnicNo)));\r\n                statement.setString(3, accountHolder.getAddress());\r\n                statement.setString(4, accountHolder.getPhone());\r\n                statement.setBoolean(5, accountHolder.isisRetailer());\r\n    \r\n                statement.registerOutParameter(6, Types.VARCHAR);\r\n    \r\n                // Execute the stored procedure\r\n                statement.execute();\r\n    \r\n                // Retrieve the result message\r\n                String resultMessage = statement.getString(6);\r\n    \r\n                if (!resultMessage.equals(&quot;Account holder added successfully.&quot;)) {\r\n                    allRecordsInserted = false;\r\n                }\r\n            }\r\n    \r\n            // Close the database connection and statement\r\n            db.connection.close();\r\n            statement.close();\r\n    \r\n            if (allRecordsInserted) {\r\n                MessageDialogs.showMessageDialog(&quot;All account holders created successfully.&quot;);\r\n    \r\n                    AddNewAccountHolderController controller = new AddNewAccountHolderController();\r\n    controller.populateAccountHoldersTable();\r\n    \r\n    \r\n            } else {\r\n                MessageDialogs.showErrorMessage(&quot;Error inserting account holder(s).&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            // Log the exception for debugging purposes\r\n            log.error(&quot;Error inserting account holders(s): &quot; + e.getMessage(), e);\r\n    \r\n            // Show a user-friendly error message\r\n            MessageDialogs.showErrorMessage(&quot;An error occurred while inserting account holder(s).&quot;);\r\n        }\r\n    }\r\n\r\nNow as you can see after successful insertion of all records. I want to update the table view of the previous view called `AddNewAccountHolderController.java` file’s view. But this is giving me a null pointer exception.\r\n\r\n    ERROR com.al_makkah_traders_app.controller.ImportAccountHoldersDataController - Error inserting account holders(s): Cannot invoke &quot;com.al_makkah_traders_app.controller.AddNewAccountHolderController.populateAccountHoldersTable()&quot; because &quot;this.addNewAccountHolderController&quot; is null\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.al_makkah_traders_app.controller.AddNewAccountHolderController.populateAccountHoldersTable()&quot; because &quot;this.addNewAccountHolderController&quot; is null\r\n\r\nI don’t know how to prevent it and update table view. \r\n\r\n","title":"How to update Scene 1 data view when I am in scene 2 view in JavaFx?","body":"<p>The problem I am facing is I am trying to fetch the data through excel file and inserting it into my database and after that the data on the table should be updated but it is not happening.</p>\n<p>here is my main class which causes to open a new frame through which I can upload the excel data and insert it into my database.</p>\n<p><code>AddNewAccountHolderController.java</code> file.</p>\n<pre><code>@FXML\nvoid onImport() {\n    ImportAccountHoldersData accountHolder = new ImportAccountHoldersData();\n    Stage stage = new Stage();\n    try {\n        accountHolder.start(stage);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n\n}\n</code></pre>\n<p>This function opens up a new view and its controller is <code>ImportAccountHoldersDataController.java</code>. Now in this controller I have a insert function that inserts the data into the database.</p>\n<p>here is the function:</p>\n<pre><code>@FXML\nvoid onInsert() {\n    try {\n        // Check if the table is not empty\n        if (accountHoldersTableView.getItems().isEmpty()) {\n            MessageDialogs.showErrorMessage(&quot;No account holders to insert.&quot;);\n            return; // Exit the method since there's nothing to insert\n        }\n\n        DatabaseConnection db = new DatabaseConnection();\n        CallableStatement statement = db.connection.prepareCall(&quot;{CALL sp_create_account_holder(?, ?, ?, ?, ?, ?)}&quot;);\n\n        boolean allRecordsInserted = true;\n\n        for (AccountHolder accountHolder : accountHoldersTableView.getItems()) {\n            // Set the input parameters for the stored procedure\n            statement.setString(1, accountHolder.getName());\n            String cnicNo = accountHolder.getCnicNo().replaceAll(&quot;-&quot;, &quot;&quot;);\n            statement.setBigDecimal(2, BigDecimal.valueOf(Long.parseLong(cnicNo)));\n            statement.setString(3, accountHolder.getAddress());\n            statement.setString(4, accountHolder.getPhone());\n            statement.setBoolean(5, accountHolder.isisRetailer());\n\n            statement.registerOutParameter(6, Types.VARCHAR);\n\n            // Execute the stored procedure\n            statement.execute();\n\n            // Retrieve the result message\n            String resultMessage = statement.getString(6);\n\n            if (!resultMessage.equals(&quot;Account holder added successfully.&quot;)) {\n                allRecordsInserted = false;\n            }\n        }\n\n        // Close the database connection and statement\n        db.connection.close();\n        statement.close();\n\n        if (allRecordsInserted) {\n            MessageDialogs.showMessageDialog(&quot;All account holders created successfully.&quot;);\n\n                AddNewAccountHolderController controller = new AddNewAccountHolderController();\ncontroller.populateAccountHoldersTable();\n\n\n        } else {\n            MessageDialogs.showErrorMessage(&quot;Error inserting account holder(s).&quot;);\n        }\n    } catch (Exception e) {\n        // Log the exception for debugging purposes\n        log.error(&quot;Error inserting account holders(s): &quot; + e.getMessage(), e);\n\n        // Show a user-friendly error message\n        MessageDialogs.showErrorMessage(&quot;An error occurred while inserting account holder(s).&quot;);\n    }\n}\n</code></pre>\n<p>Now as you can see after successful insertion of all records. I want to update the table view of the previous view called <code>AddNewAccountHolderController.java</code> file’s view. But this is giving me a null pointer exception.</p>\n<pre><code>ERROR com.al_makkah_traders_app.controller.ImportAccountHoldersDataController - Error inserting account holders(s): Cannot invoke &quot;com.al_makkah_traders_app.controller.AddNewAccountHolderController.populateAccountHoldersTable()&quot; because &quot;this.addNewAccountHolderController&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;com.al_makkah_traders_app.controller.AddNewAccountHolderController.populateAccountHoldersTable()&quot; because &quot;this.addNewAccountHolderController&quot; is null\n</code></pre>\n<p>I don’t know how to prevent it and update table view.</p>\n"},{"tags":["java","websocket"],"answers":[{"tags":[],"owner":{"account_id":13774279,"reputation":43,"user_id":9940983,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697728256,"creation_date":1697728256,"answer_id":77325017,"question_id":77325010,"body_markdown":"Need this code in constructor:\r\n\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.3&quot;);\r\n    sslContext.init(null, null, null);\r\n    this.setSocketFactory(sslContext.getSocketFactory());","title":"Set only TLSv1.3 for java_websocket","body":"<p>Need this code in constructor:</p>\n<pre><code>SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.3&quot;);\nsslContext.init(null, null, null);\nthis.setSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n"}],"owner":{"account_id":13774279,"reputation":43,"user_id":9940983,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77325017,"answer_count":1,"score":0,"last_activity_date":1697728348,"creation_date":1697728207,"question_id":77325010,"body_markdown":"How to set only TLSv1.3 for java_websocket? If all oldest protocols banned. \r\n    \r\n    javax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n    \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n    \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:920)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1011)\r\n    \tat java.base/java.io.InputStream.read(InputStream.java:218)\r\n    \tat org.java_websocket.client.WebSocketClient.run(WebSocketClient.java:515)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)","title":"Set only TLSv1.3 for java_websocket","body":"<p>How to set only TLSv1.3 for java_websocket? If all oldest protocols banned.</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:920)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1011)\n    at java.base/java.io.InputStream.read(InputStream.java:218)\n    at org.java_websocket.client.WebSocketClient.run(WebSocketClient.java:515)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["javascript","java","selenium-webdriver","typeerror"],"owner":{"account_id":29702668,"reputation":1,"user_id":22764378,"display_name":"mtsmel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697727866,"creation_date":1697655449,"question_id":77318950,"body_markdown":"When using Selenium (via Java) to control either the ChromeDriver or the GeckoDriver I receive various JavaScript TypeError messages like `_.defaults is not a function`, `_.isArray is not a function`, `_.some is not a function`. It seems that the errors are raised for Lodash.js functions.\r\n\r\nThe error messages are only raised when using Selenium. I do not receive these error messages when using the native Chrome or Firefox browsers and the app operates normally with those browsers.\r\n\r\nBecause of these errors, the test execution stops when running with Selenium.\r\n\r\nI am using Selenium version 4.12.1 and the latest versions of the ChromeDriver and GeckoDriver.\r\n\r\nThe [dev tools][1] do not display any error messages.\r\n\r\nAre there any Selenium settings that I could use to suppress the TypeError checking?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Web_development_tools\r\n","title":"When using Selenium to control either ChromeDriver or GeckoDriver, I receive a JavaScript TypeError &#39;x&#39; is not a function","body":"<p>When using Selenium (via Java) to control either the ChromeDriver or the GeckoDriver I receive various JavaScript TypeError messages like <code>_.defaults is not a function</code>, <code>_.isArray is not a function</code>, <code>_.some is not a function</code>. It seems that the errors are raised for Lodash.js functions.</p>\n<p>The error messages are only raised when using Selenium. I do not receive these error messages when using the native Chrome or Firefox browsers and the app operates normally with those browsers.</p>\n<p>Because of these errors, the test execution stops when running with Selenium.</p>\n<p>I am using Selenium version 4.12.1 and the latest versions of the ChromeDriver and GeckoDriver.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Web_development_tools\" rel=\"nofollow noreferrer\">dev tools</a> do not display any error messages.</p>\n<p>Are there any Selenium settings that I could use to suppress the TypeError checking?</p>\n"},{"tags":["java","security","tomcat","stig"],"comments":[{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1697044648,"post_id":77275085,"comment_id":136231065,"body_markdown":"what happens if you attempt to start manually on the commandline `./startup.sh -security` ?","body":"what happens if you attempt to start manually on the commandline <code>.&#47;startup.sh -security</code> ?"},{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1697044780,"post_id":77275085,"comment_id":136231097,"body_markdown":"and after committing the change, before running `systemctl daemon-reload` did you restart Tomcat: `sudo systemctl restart tomcat` ?","body":"and after committing the change, before running <code>systemctl daemon-reload</code> did you restart Tomcat: <code>sudo systemctl restart tomcat</code> ?"},{"owner":{"account_id":19202757,"reputation":9,"user_id":22724236,"display_name":"Valdis Ibeh"},"score":1,"creation_date":1697056959,"post_id":77275085,"comment_id":136233100,"body_markdown":"@MadsHansen I forgot to mention that. I certainly input systemctl restart tomcat before using systemctl daemon-reload. When I tried to use ./startup.sh manually, it failed to start.","body":"@MadsHansen I forgot to mention that. I certainly input systemctl restart tomcat before using systemctl daemon-reload. When I tried to use ./startup.sh manually, it failed to start."},{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1697058535,"post_id":77275085,"comment_id":136233351,"body_markdown":"And nothing logged or spit out to indicate that there is an issue?","body":"And nothing logged or spit out to indicate that there is an issue?"},{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1697726384,"post_id":77275085,"comment_id":136318455,"body_markdown":"Edit your question and put these details there.","body":"Edit your question and put these details there."}],"answers":[{"tags":[],"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697727641,"creation_date":1697727641,"answer_id":77324925,"question_id":77275085,"body_markdown":"You may need to [modify your `conf/catalina.policy`][1] and include some additional permissions, such as:\r\n\r\n    permission java.lang.RuntimePermission &quot;accessClassInPackage.org.apache.catalina.connector&quot;;\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/security-manager-howto.html#Configuring_Tomcat_With_A_SecurityManager","title":"DOD STIG fix for Java Security Manager not working","body":"<p>You may need to <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/security-manager-howto.html#Configuring_Tomcat_With_A_SecurityManager\" rel=\"nofollow noreferrer\">modify your <code>conf/catalina.policy</code></a> and include some additional permissions, such as:</p>\n<pre><code>permission java.lang.RuntimePermission &quot;accessClassInPackage.org.apache.catalina.connector&quot;;\n</code></pre>\n"}],"owner":{"account_id":19202757,"reputation":9,"user_id":22724236,"display_name":"Valdis Ibeh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697727641,"creation_date":1697044286,"question_id":77275085,"body_markdown":"I&#39;m trying to apply a DOD STIG fix for Java Security Manager. The fix requires me to modify the */etc/systemd/system/tomcat.service* file and set the &quot;ExecStart&quot; parameter to read:\r\n`ExecStart=/opt/tomcat/bin/startup.sh -security`. \r\n\r\nAfter I applied this fix, tomcat would fail to start. Has anyone else experienced this issue? \r\n\r\nI added `-security` to the end of `ExecStart=/opt/tomcat/bin/startup.sh`. After saving/exiting the tomcat.service file, I applied the `systemctl daemon-reload` command. I&#39;m expecting tomcat to run as expected but it fails to start after a while. \r\n\r\nWhen I restarted tomcat, catalina.out showed the following: \r\n\r\n&gt; 19-Oct-2023 14:16:26.412 SEVERE [acop-startStop-1]\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal A child container\r\n&gt; failed during start\r\n&gt;         java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[a2].StandardHost[localhost].StandardContext[/a2]]\r\n&gt;                 at java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n&gt;                 at java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n&gt;                 at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:892)\r\n&gt;                 at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:793)\r\n&gt;                 at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt;                 at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1362)\r\n&gt;                 at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1352)\r\n&gt;                 at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n&gt;                 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt;                 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt;                 at java.lang.Thread.run(Thread.java:750)\r\n&gt;          Caused by: org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[a2].StandardHost[localhost].StandardContext[/a2]]\r\n&gt;                 at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n&gt;                 at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n&gt;                 ... 6 more\r\n&gt;          Caused by: java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot;\r\n&gt; &quot;accessClassInPackage.org.apache.catalina.connector&quot;)\r\n&gt;                 at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n&gt;                 at java.security.AccessController.checkPermission(AccessController.java:886)\r\n&gt;                 at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n&gt;                 at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)\r\n&gt;                 at java.lang.ClassLoader$1.run(ClassLoader.java:496)\r\n&gt;                 at java.lang.ClassLoader$1.run(ClassLoader.java:494)\r\n&gt;                 at java.security.AccessController.doPrivileged(Native Method)\r\n&gt;                 at java.lang.ClassLoader.checkPackageAccess(ClassLoader.java:494)\r\n&gt;                 at java.lang.Class.getDeclaredFields0(Native Method)\r\n&gt;                 at java.lang.Class.privateGetDeclaredFields(Class.java:2583)\r\n&gt;                 at java.lang.Class.getDeclaredFields(Class.java:1916)\r\n&gt;                 at org.apache.catalina.util.Introspection$1.run(Introspection.java:106)\r\n&gt;                 at org.apache.catalina.util.Introspection$1.run(Introspection.java:103)\r\n&gt;                 at java.security.AccessController.doPrivileged(Native Method)\r\n&gt;                 at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:102)\r\n&gt;                 at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\r\n&gt;                 at org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:137)\r\n&gt;                 at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:69)\r\n&gt;                 at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:329)\r\n\r\n","title":"DOD STIG fix for Java Security Manager not working","body":"<p>I'm trying to apply a DOD STIG fix for Java Security Manager. The fix requires me to modify the <em>/etc/systemd/system/tomcat.service</em> file and set the &quot;ExecStart&quot; parameter to read:\n<code>ExecStart=/opt/tomcat/bin/startup.sh -security</code>.</p>\n<p>After I applied this fix, tomcat would fail to start. Has anyone else experienced this issue?</p>\n<p>I added <code>-security</code> to the end of <code>ExecStart=/opt/tomcat/bin/startup.sh</code>. After saving/exiting the tomcat.service file, I applied the <code>systemctl daemon-reload</code> command. I'm expecting tomcat to run as expected but it fails to start after a while.</p>\n<p>When I restarted tomcat, catalina.out showed the following:</p>\n<blockquote>\n<p>19-Oct-2023 14:16:26.412 SEVERE [acop-startStop-1]\norg.apache.catalina.core.ContainerBase.startInternal A child container\nfailed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component\n[StandardEngine[a2].StandardHost[localhost].StandardContext[/a2]]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122)\nat java.util.concurrent.FutureTask.get(FutureTask.java:192)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:892)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:793)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1362)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1352)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component\n[StandardEngine[a2].StandardHost[localhost].StandardContext[/a2]]\nat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n... 6 more\nCaused by: java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot;\n&quot;accessClassInPackage.org.apache.catalina.connector&quot;)\nat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\nat java.security.AccessController.checkPermission(AccessController.java:886)\nat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\nat java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564)\nat java.lang.ClassLoader$1.run(ClassLoader.java:496)\nat java.lang.ClassLoader$1.run(ClassLoader.java:494)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.lang.ClassLoader.checkPackageAccess(ClassLoader.java:494)\nat java.lang.Class.getDeclaredFields0(Native Method)\nat java.lang.Class.privateGetDeclaredFields(Class.java:2583)\nat java.lang.Class.getDeclaredFields(Class.java:1916)\nat org.apache.catalina.util.Introspection$1.run(Introspection.java:106)\nat org.apache.catalina.util.Introspection$1.run(Introspection.java:103)\nat java.security.AccessController.doPrivileged(Native Method)\nat org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:102)\nat org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\nat org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:137)\nat org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:69)\nat org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:329)</p>\n</blockquote>\n"},{"tags":["java","string","for-loop","methods","charat"],"comments":[{"owner":{"account_id":29703630,"reputation":11,"user_id":22765069,"display_name":"Hello"},"score":0,"creation_date":1697667691,"post_id":77319919,"comment_id":136310363,"body_markdown":"For some reason it won&#39;t let me type the underscore but for clarity my code outputs a underscore after the e in &quot;hey there&quot;","body":"For some reason it won&#39;t let me type the underscore but for clarity my code outputs a underscore after the e in &quot;hey there&quot;"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1697668153,"post_id":77319919,"comment_id":136310404,"body_markdown":"hint: try using [substring](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#substring(int,int)), in combination with [length](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#length()) to return `spaceString` with one less character.","body":"hint: try using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\">substring</a>, in combination with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#length()\" rel=\"nofollow noreferrer\">length</a> to return <code>spaceString</code> with one less character."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1697675214,"post_id":77319919,"comment_id":136310961,"body_markdown":"The two examples are inconsistent. In the first, the blank is removed, but in the second it remains.  What is the actual requirement?","body":"The two examples are inconsistent. In the first, the blank is removed, but in the second it remains.  What is the actual requirement?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697675315,"post_id":77319919,"comment_id":136310968,"body_markdown":"It appears in your example, in addition to the unwanted `_` at the end, the blank space is to be removed, but is present in your example of actual output. Is the blank space, in fact to be removed?  Edit hint: It will help to put example input, expected output, and actual output between backtick (`) characters, as might be done with a short piece of code.","body":"It appears in your example, in addition to the unwanted <code>_</code> at the end, the blank space is to be removed, but is present in your example of actual output. Is the blank space, in fact to be removed?  Edit hint: It will help to put example input, expected output, and actual output between backtick (`) characters, as might be done with a short piece of code."},{"owner":{"account_id":29703630,"reputation":11,"user_id":22765069,"display_name":"Hello"},"score":0,"creation_date":1697679868,"post_id":77319919,"comment_id":136311315,"body_markdown":"The blank is to remain, my fault","body":"The blank is to remain, my fault"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1697702236,"post_id":77319919,"comment_id":136313716,"body_markdown":"Java 8 Streams solution: `Pattern.compile(&quot;&quot;).splitAsStream(&quot;hey there&quot;).collect(joining(&quot;_&quot;))` (smiley not intended) (Warning will not work for all Unicode Characters)","body":"Java 8 Streams solution: <code>Pattern.compile(&quot;&quot;).splitAsStream(&quot;hey there&quot;).collect(joining(&quot;_&quot;))</code> (smiley not intended) (Warning will not work for all Unicode Characters)"}],"answers":[{"tags":[],"owner":{"account_id":14321357,"reputation":91,"user_id":10344626,"display_name":"Ariclene Chimbili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697668421,"creation_date":1697668421,"answer_id":77319976,"question_id":77319919,"body_markdown":"The &quot;-1&quot; trick.\r\n\r\n    String spacedString = &quot;&quot;;\r\n    String currentString= &quot;Hello Peaple&quot;;\r\n    for (int i = 0; i&lt;currentString.length()-1; i++)\r\n    {\r\n        spacedString = spacedString+currentString.charAt(i)+&quot;_&quot;;\r\n    }\r\n    spacedString = spacedString+currentString.charAt(currentString.length()-1);\r\n    return spacedString;","title":"Return a new string containing all characters of original string with underscores between each character","body":"<p>The &quot;-1&quot; trick.</p>\n<pre><code>String spacedString = &quot;&quot;;\nString currentString= &quot;Hello Peaple&quot;;\nfor (int i = 0; i&lt;currentString.length()-1; i++)\n{\n    spacedString = spacedString+currentString.charAt(i)+&quot;_&quot;;\n}\nspacedString = spacedString+currentString.charAt(currentString.length()-1);\nreturn spacedString;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697671479,"creation_date":1697669009,"answer_id":77320005,"question_id":77319919,"body_markdown":"&gt; _&quot;... I&#39;m not sure how make sure an underscore doesn&#39;t appear at the end of the string. ...&quot;_\r\n\r\nSkip the first index, and prepend the underscore.\r\n\r\n```java\r\nString spacedString = &quot;&quot;;\r\nfor (int i = 0; i&lt;currentString.length(); i++)\r\n{\r\n    if (i != 0) spacedString += &quot;_&quot;;\r\n    spacedString += currentString.charAt(i);\r\n\r\n}\r\nreturn spacedString;\r\n```\r\n\r\nAlternately, use a _[StringBuilder](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html)_ to insert the _char_.&amp;nbsp; Iterate backwards, to avoid the increasing length.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder(currentString);\r\nfor (int i = s.length() - 1; i &gt; 0; i--) s.insert(i, &#39;_&#39;);\r\n```\r\n\r\nOr, utilize a _for-loop_ and the _[String#toCharArray](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#toCharArray())_ method.\r\n\r\n```java\r\nString spacedString = &quot;&quot;;\r\nint i = 0;\r\nfor (char c : currentString.toCharArray())\r\n{\r\n    if (i++ != 0) spacedString += &#39;_&#39;;\r\n    spacedString += c;\r\n\r\n}\r\nreturn spacedString;\r\n```\r\n\r\nOr, use a _stream_, and the _[String#join](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable))_ method.\r\n\r\n```java\r\nString spacedString\r\n    = String.join(&quot;_&quot;, currentString.chars()\r\n                                    .mapToObj(x -&gt; String.valueOf((char) x))\r\n                                    .toList());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nh_i_ _t_h_e_r_e\r\n```\r\n\r\n","title":"Return a new string containing all characters of original string with underscores between each character","body":"<blockquote>\n<p><em>&quot;... I'm not sure how make sure an underscore doesn't appear at the end of the string. ...&quot;</em></p>\n</blockquote>\n<p>Skip the first index, and prepend the underscore.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String spacedString = &quot;&quot;;\nfor (int i = 0; i&lt;currentString.length(); i++)\n{\n    if (i != 0) spacedString += &quot;_&quot;;\n    spacedString += currentString.charAt(i);\n\n}\nreturn spacedString;\n</code></pre>\n<p>Alternately, use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> to insert the <em>char</em>.  Iterate backwards, to avoid the increasing length.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder(currentString);\nfor (int i = s.length() - 1; i &gt; 0; i--) s.insert(i, '_');\n</code></pre>\n<p>Or, utilize a <em>for-loop</em> and the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#toCharArray()\" rel=\"nofollow noreferrer\">String#toCharArray</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String spacedString = &quot;&quot;;\nint i = 0;\nfor (char c : currentString.toCharArray())\n{\n    if (i++ != 0) spacedString += '_';\n    spacedString += c;\n\n}\nreturn spacedString;\n</code></pre>\n<p>Or, use a <em>stream</em>, and the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable)\" rel=\"nofollow noreferrer\">String#join</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String spacedString\n    = String.join(&quot;_&quot;, currentString.chars()\n                                    .mapToObj(x -&gt; String.valueOf((char) x))\n                                    .toList());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>h_i_ _t_h_e_r_e\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697695627,"creation_date":1697672968,"answer_id":77320197,"question_id":77319919,"body_markdown":"You can use regex for a one-liner:\r\n\r\n```\r\npublic static String spacedWord() {\r\n    return currentString.replaceAll(&quot;(?&lt;=\\\\S) *(?=\\\\S)&quot;, &quot;_&quot;);\r\n}\r\n```\r\n\r\nThis works by replacing all places in the string that are *between* non-space characters =, optionally including any spaces, with an underscore.\r\n\r\nThis expression `(?&lt;=\\\\S)` is a lookbehind (an assertion) for any non-space character while this expression `(?=\\\\S)` is a lookahead (an assertion) for any non-space character.\r\n \r\n","title":"Return a new string containing all characters of original string with underscores between each character","body":"<p>You can use regex for a one-liner:</p>\n<pre><code>public static String spacedWord() {\n    return currentString.replaceAll(&quot;(?&lt;=\\\\S) *(?=\\\\S)&quot;, &quot;_&quot;);\n}\n</code></pre>\n<p>This works by replacing all places in the string that are <em>between</em> non-space characters =, optionally including any spaces, with an underscore.</p>\n<p>This expression <code>(?&lt;=\\\\S)</code> is a lookbehind (an assertion) for any non-space character while this expression <code>(?=\\\\S)</code> is a lookahead (an assertion) for any non-space character.</p>\n"},{"tags":[],"owner":{"account_id":15748896,"reputation":27,"user_id":11364077,"display_name":"Jeroen Gremmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697710469,"creation_date":1697710469,"answer_id":77322889,"question_id":77319919,"body_markdown":"First of all, don&#39;t use string additions within loops; it pollutes the heap. Instead use a `StringBuilder`:\r\n\r\n    public String spacedWord()\r\n    {\r\n      StringBuilder spacedString = new StringBuilder();\r\n      for(int i = 0, l = currentString.length(); i &lt; l; i++) {\r\n        if (i &gt; 0)\r\n          spacedString.append(&#39;_&#39;);\r\n        spacedString.append(currentString.charAt(i));      \r\n      }\r\n\r\n      return spacedString.toString();\r\n    }\r\n","title":"Return a new string containing all characters of original string with underscores between each character","body":"<p>First of all, don't use string additions within loops; it pollutes the heap. Instead use a <code>StringBuilder</code>:</p>\n<pre><code>public String spacedWord()\n{\n  StringBuilder spacedString = new StringBuilder();\n  for(int i = 0, l = currentString.length(); i &lt; l; i++) {\n    if (i &gt; 0)\n      spacedString.append('_');\n    spacedString.append(currentString.charAt(i));      \n  }\n\n  return spacedString.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10064210,"reputation":2337,"user_id":7439845,"display_name":"garykwwong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697727508,"creation_date":1697727508,"answer_id":77324901,"question_id":77319919,"body_markdown":"I think you can try with this code piece as well. The concept here is to delay the appending of underscore until a non-space character is encountered.\r\n\r\n    \r\n    public static String spacedWord(String currentString) {\r\n\r\n        final StringBuilder sb = new StringBuilder(currentString.length());\r\n        int underscoreLength = 0;\r\n        boolean hasFirstNonspaceChar = false;\r\n\r\n        for (int i = 0; i &lt; currentString.length(); i++) {\r\n\r\n            char c = currentString.charAt(i);\r\n            // ignore leading space\r\n            if (c == &#39; &#39; &amp;&amp; !hasFirstNonspaceChar) {\r\n                underscoreLength = 0;\r\n                continue;\r\n            }\r\n\r\n            if ( c == &#39; &#39;) {\r\n                // delay the appending of underscore with a counter\r\n                underscoreLength++;\r\n            } else {\r\n                if (!hasFirstNonspaceChar) {\r\n                    hasFirstNonspaceChar = true;\r\n                } else {\r\n                    // increment the count of underscore needs to be prepended before next character\r\n                    underscoreLength++;\r\n                }\r\n                prependUnderscore(sb, underscoreLength);\r\n                underscoreLength = 0; // reset the counter\r\n                sb.append(c);\r\n            }\r\n\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    private static void prependUnderscore(StringBuilder sb, int length) {\r\n        for (int i = 0 ; i &lt; length ; i++) {\r\n            sb.append(&#39;_&#39;);\r\n        }\r\n    }\r\n\r\n\r\nTest:\r\n\r\npublic static void main(String[] args) {\r\n        String input;\r\n\r\n        SpaceWord sw = new SpaceWord();\r\n\r\n        input = &quot;hi there&quot;;\r\n        System.out.println(sw.spacedWord(input));\r\n\r\n        input = &quot; hi there&quot;;\r\n        System.out.println(sw.spacedWord(input));\r\n\r\n        input = &quot;  hi there&quot;;\r\n        System.out.println(sw.spacedWord(input));\r\n\r\n        input = &quot;hi there &quot;;\r\n        System.out.println(sw.spacedWord(input));\r\n\r\n        input = &quot;hi there  &quot;;\r\n        System.out.println(sw.spacedWord(input));\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    h_i__t_h_e_r_e\r\n    h_i__t_h_e_r_e\r\n    h_i__t_h_e_r_e\r\n    h_i__t_h_e_r_e\r\n    h_i__t_h_e_r_e","title":"Return a new string containing all characters of original string with underscores between each character","body":"<p>I think you can try with this code piece as well. The concept here is to delay the appending of underscore until a non-space character is encountered.</p>\n<pre><code>public static String spacedWord(String currentString) {\n\n    final StringBuilder sb = new StringBuilder(currentString.length());\n    int underscoreLength = 0;\n    boolean hasFirstNonspaceChar = false;\n\n    for (int i = 0; i &lt; currentString.length(); i++) {\n\n        char c = currentString.charAt(i);\n        // ignore leading space\n        if (c == ' ' &amp;&amp; !hasFirstNonspaceChar) {\n            underscoreLength = 0;\n            continue;\n        }\n\n        if ( c == ' ') {\n            // delay the appending of underscore with a counter\n            underscoreLength++;\n        } else {\n            if (!hasFirstNonspaceChar) {\n                hasFirstNonspaceChar = true;\n            } else {\n                // increment the count of underscore needs to be prepended before next character\n                underscoreLength++;\n            }\n            prependUnderscore(sb, underscoreLength);\n            underscoreLength = 0; // reset the counter\n            sb.append(c);\n        }\n\n    }\n    return sb.toString();\n}\n\nprivate static void prependUnderscore(StringBuilder sb, int length) {\n    for (int i = 0 ; i &lt; length ; i++) {\n        sb.append('_');\n    }\n}\n</code></pre>\n<p>Test:</p>\n<p>public static void main(String[] args) {\nString input;</p>\n<pre><code>    SpaceWord sw = new SpaceWord();\n\n    input = &quot;hi there&quot;;\n    System.out.println(sw.spacedWord(input));\n\n    input = &quot; hi there&quot;;\n    System.out.println(sw.spacedWord(input));\n\n    input = &quot;  hi there&quot;;\n    System.out.println(sw.spacedWord(input));\n\n    input = &quot;hi there &quot;;\n    System.out.println(sw.spacedWord(input));\n\n    input = &quot;hi there  &quot;;\n    System.out.println(sw.spacedWord(input));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>h_i__t_h_e_r_e\nh_i__t_h_e_r_e\nh_i__t_h_e_r_e\nh_i__t_h_e_r_e\nh_i__t_h_e_r_e\n</code></pre>\n"}],"owner":{"account_id":29703630,"reputation":11,"user_id":22765069,"display_name":"Hello"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1697727508,"creation_date":1697667427,"question_id":77319919,"body_markdown":"I&#39;m trying to create a method where the currentString is returned with underscores in the middle of each character. For example, if the current string is: &quot;hi there&quot; the output string would be `h_i__t_h_e_r_e` with no underscore at the beginning or end. I&#39;m aware this can be done with regex and replaceAll, but I&#39;m trying to accomplish this with a for loop instead\r\n\r\nMy current code looks like this:\r\n\r\n \r\n```\r\n public String spacedWord()\r\n    {\r\n            String spacedString = &quot;&quot;;\r\n            for (int i = 0; i&lt;currentString.length(); i++)\r\n            {\r\n                spacedString = spacedString+currentString.charAt(i)+&quot;_&quot;;\r\n            \r\n            }\r\n            return spacedString;\r\n            \r\n    }\r\n```\r\n\r\nIf the current string is &quot;hey there&quot; my code returns `h_e_y_ _t_h_e_r_e_` with an underscore at the end.\r\n\r\nThe code returns properly with underscores in between each character, but I&#39;m not sure how make sure an underscore doesn&#39;t appear at the end of the string.\r\n\r\nAny help is appreciated!","title":"Return a new string containing all characters of original string with underscores between each character","body":"<p>I'm trying to create a method where the currentString is returned with underscores in the middle of each character. For example, if the current string is: &quot;hi there&quot; the output string would be <code>h_i__t_h_e_r_e</code> with no underscore at the beginning or end. I'm aware this can be done with regex and replaceAll, but I'm trying to accomplish this with a for loop instead</p>\n<p>My current code looks like this:</p>\n<pre><code> public String spacedWord()\n    {\n            String spacedString = &quot;&quot;;\n            for (int i = 0; i&lt;currentString.length(); i++)\n            {\n                spacedString = spacedString+currentString.charAt(i)+&quot;_&quot;;\n            \n            }\n            return spacedString;\n            \n    }\n</code></pre>\n<p>If the current string is &quot;hey there&quot; my code returns <code>h_e_y_ _t_h_e_r_e_</code> with an underscore at the end.</p>\n<p>The code returns properly with underscores in between each character, but I'm not sure how make sure an underscore doesn't appear at the end of the string.</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","post","servlets","aem"],"comments":[{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":0,"creation_date":1698050879,"post_id":77324816,"comment_id":136351341,"body_markdown":"Are you sure your implementation of the `accepts` method works as expected? It&#39;s omitted here but it may  be the reason the Servlet isn&#39;t getting called.","body":"Are you sure your implementation of the <code>accepts</code> method works as expected? It&#39;s omitted here but it may  be the reason the Servlet isn&#39;t getting called."},{"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"score":0,"creation_date":1699533881,"post_id":77324816,"comment_id":136545694,"body_markdown":"Did you find the root cause?","body":"Did you find the root cause?"},{"owner":{"account_id":7143720,"reputation":2741,"user_id":5460296,"accept_rate":95,"display_name":"jmona789"},"score":0,"creation_date":1700174199,"post_id":77324816,"comment_id":136625559,"body_markdown":"I was able to fix by separating the sling.servlet.methods into two lines like this:\n\n\n    &quot;sling.servlet.methods=&quot; + HttpConstants.METHOD_GET,\n    &quot;sling.servlet.methods=&quot; + HttpConstants.METHOD_POST,","body":"I was able to fix by separating the sling.servlet.methods into two lines like this:       &quot;sling.servlet.methods=&quot; + HttpConstants.METHOD_GET,     &quot;sling.servlet.methods=&quot; + HttpConstants.METHOD_POST,"}],"owner":{"account_id":7143720,"reputation":2741,"user_id":5460296,"accept_rate":95,"display_name":"jmona789"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697726916,"creation_date":1697726916,"question_id":77324816,"body_markdown":"I have an AEM Servlet that accepts GET requests and I am trying to update it to accepts POSTs as well, but when I update the servlet to accept both it starts calling the Default sling servlet instead.  I even made a very minimal servlet that does a basic Hello World\r\n\r\n```\r\npackage com.mysite.microsite.core.servlets;\r\n\r\nimport org.apache.sling.api.SlingHttpServletRequest;\r\nimport org.apache.sling.api.SlingHttpServletResponse;\r\nimport org.apache.sling.api.resource.ModifiableValueMap;\r\nimport org.apache.sling.api.resource.Resource;\r\nimport org.apache.sling.api.resource.ValueMap;\r\nimport org.apache.sling.api.servlets.OptingServlet;\r\nimport org.apache.sling.api.servlets.SlingAllMethodsServlet;\r\nimport org.apache.sling.api.servlets.SlingSafeMethodsServlet;\r\nimport org.apache.sling.commons.json.JSONException;\r\nimport org.apache.sling.commons.json.JSONObject;\r\nimport org.apache.sling.servlets.annotations.SlingServletResourceTypes;\r\nimport org.osgi.service.component.annotations.Component;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.osgi.framework.Constants;\r\nimport org.apache.sling.api.servlets.HttpConstants;\r\n\r\nimport javax.servlet.Servlet;\r\nimport javax.servlet.ServletException;\r\nimport java.io.IOException;\r\n\r\n@Component(service = Servlet.class,\r\n    property = {\r\n        &quot;sling.servlet.methods={GET,POST}&quot;,\r\n        &quot;sling.servlet.resourceTypes=&quot; + &quot;cq/Page&quot;,\r\n        &quot;sling.servlet.selectors=&quot; + &quot;HelloWorld&quot;,\r\n        &quot;sling.servlet.extensions=&quot; + &quot;json&quot;,\r\n        &quot;service.ranking:Integer=1000&quot;\r\n    }\r\n)\r\npublic class HelloWorldServlet extends SlingAllMethodsServlet implements OptingServlet {\r\n    private static final Logger log = LoggerFactory.getLogger(HelloWorldServlet.class);\r\n\r\n    /**\r\n     * Add overrides for other SlingAllMethodsServlet here (doHead, doTrace, doPut, doDelete, etc.)\r\n     */\r\n\r\n    @Override\r\n    protected final void doGet(SlingHttpServletRequest request, SlingHttpServletResponse response) throws IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n        response.getWriter().write(&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Hello World!&lt;/body&gt;&lt;/html&gt;&quot;);\r\n    }\r\n\r\n    @Override\r\n    public final boolean accepts(SlingHttpServletRequest request) {\r\n        /*\r\n         * Add logic which inspects the request which determines if this servlet\r\n         * should handle the request. This will only be executed if the\r\n         * Service Configuration&#39;s paths/resourcesTypes/selectors accept the request.\r\n         */\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\nI tested the endpoint `/content/mysite/global/en/path/to/page.HelloWorld.json`\r\nin the servlet resolver (http://localhost:4502/system/console/servletresolver)\r\n\r\nAnd even on this basic servlet that isn&#39;t even overriding the doPost when I do a GET request, it calls the org.apache.sling.servlets.get.impl.DefaultGetServlet.  If I change the servlet to just use `SlingSafeMethodsServlet` and change methods to `&quot;sling.servlet.methods=GET&quot;`.  Then the servlet works fine.  Not sure what I am doign wrong here.","title":"AEM DefaultGetServlet is getting called when I set my servlet to a SlingAllMethodsServlet","body":"<p>I have an AEM Servlet that accepts GET requests and I am trying to update it to accepts POSTs as well, but when I update the servlet to accept both it starts calling the Default sling servlet instead.  I even made a very minimal servlet that does a basic Hello World</p>\n<pre><code>package com.mysite.microsite.core.servlets;\n\nimport org.apache.sling.api.SlingHttpServletRequest;\nimport org.apache.sling.api.SlingHttpServletResponse;\nimport org.apache.sling.api.resource.ModifiableValueMap;\nimport org.apache.sling.api.resource.Resource;\nimport org.apache.sling.api.resource.ValueMap;\nimport org.apache.sling.api.servlets.OptingServlet;\nimport org.apache.sling.api.servlets.SlingAllMethodsServlet;\nimport org.apache.sling.api.servlets.SlingSafeMethodsServlet;\nimport org.apache.sling.commons.json.JSONException;\nimport org.apache.sling.commons.json.JSONObject;\nimport org.apache.sling.servlets.annotations.SlingServletResourceTypes;\nimport org.osgi.service.component.annotations.Component;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.osgi.framework.Constants;\nimport org.apache.sling.api.servlets.HttpConstants;\n\nimport javax.servlet.Servlet;\nimport javax.servlet.ServletException;\nimport java.io.IOException;\n\n@Component(service = Servlet.class,\n    property = {\n        &quot;sling.servlet.methods={GET,POST}&quot;,\n        &quot;sling.servlet.resourceTypes=&quot; + &quot;cq/Page&quot;,\n        &quot;sling.servlet.selectors=&quot; + &quot;HelloWorld&quot;,\n        &quot;sling.servlet.extensions=&quot; + &quot;json&quot;,\n        &quot;service.ranking:Integer=1000&quot;\n    }\n)\npublic class HelloWorldServlet extends SlingAllMethodsServlet implements OptingServlet {\n    private static final Logger log = LoggerFactory.getLogger(HelloWorldServlet.class);\n\n    /**\n     * Add overrides for other SlingAllMethodsServlet here (doHead, doTrace, doPut, doDelete, etc.)\n     */\n\n    @Override\n    protected final void doGet(SlingHttpServletRequest request, SlingHttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/html&quot;);\n        response.getWriter().write(&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Hello World!&lt;/body&gt;&lt;/html&gt;&quot;);\n    }\n\n    @Override\n    public final boolean accepts(SlingHttpServletRequest request) {\n        /*\n         * Add logic which inspects the request which determines if this servlet\n         * should handle the request. This will only be executed if the\n         * Service Configuration's paths/resourcesTypes/selectors accept the request.\n         */\n        return true;\n    }\n\n}\n</code></pre>\n<p>I tested the endpoint <code>/content/mysite/global/en/path/to/page.HelloWorld.json</code>\nin the servlet resolver (http://localhost:4502/system/console/servletresolver)</p>\n<p>And even on this basic servlet that isn't even overriding the doPost when I do a GET request, it calls the org.apache.sling.servlets.get.impl.DefaultGetServlet.  If I change the servlet to just use <code>SlingSafeMethodsServlet</code> and change methods to <code>&quot;sling.servlet.methods=GET&quot;</code>.  Then the servlet works fine.  Not sure what I am doign wrong here.</p>\n"},{"tags":["java","gradle","google-app-engine","localhost","google-cloud-sdk"],"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697726715,"creation_date":1697726715,"question_id":77324792,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XXWEV.png\r\nThis is my project structure. I have my java classes in the src folder and frontend js, css etc in the war folder. This is my build.gradle file\r\n```\r\n buildscript {\r\n  repositories {\r\n    mavenCentral()\r\n  }\r\n\r\n  dependencies {\r\n    classpath &#39;com.google.cloud.tools:appengine-gradle-plugin:2.4.4&#39;\r\n  }\r\n}\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\napply plugin: &#39;com.google.cloud.tools.appengine-appenginewebxml&#39;\r\n\r\nsourceSets {\r\n    main {\r\n        java.srcDirs = [&#39;../&#39;]\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;/Users/sharon/Documents/Lily/war/WEB-INF/lib&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n}\r\n\r\next.getAppVersion = { -&gt;\r\n    return project.property(&#39;version&#39;)\r\n}\r\n\r\nappengine {\r\n    tools {\r\n        cloudSdkVersion = &#39;449.0.0&#39;\r\n    }\r\n    run {\r\n        // ./gradlew appengineStart (to run the app locally)\r\n        // ./gradlew appengineStop\r\n        jvmFlags = [&#39;-Dappengine.fullscan.seconds=5&#39;]\r\n        projectId= &#39;beta-v2&#39;\r\n        services = &#39;../war&#39;\r\n        port = 8080\r\n        automaticRestart = true\r\n    }\r\n}\r\n\r\nwar {\r\n    duplicatesStrategy = &#39;exclude&#39;\r\n}\r\n\r\n//  ./gradlew deploy -Pversion=talktime\r\ntask deploy {\r\n    doLast {\r\n        def versionName = getAppVersion()\r\n        exec {\r\n            commandLine &#39;gcloud&#39;, &#39;app&#39;, &#39;deploy&#39;, &#39;--quiet&#39;, &#39;../war/WEB-INF/appengine-web.xml&#39;, &#39;--version=&#39; + versionName, &#39;--no-promote&#39;\r\n        }\r\n    }\r\n}\r\n```\r\nwhen I do ./gradlew appengineRun, the java classes are compiled into the build folder. since appengine looks for files in the war folder, and the compiled classes are in build folder, no changes are reflected. how can I automate the process of copying it to the war folder. Frontend changes are refreshed without any problem. And is there any way I can automate recompile java classes for every file change","title":"How can I change the appengineplugin destination directory and perform live reloading?","body":"<p><a href=\"https://i.stack.imgur.com/XXWEV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XXWEV.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my project structure. I have my java classes in the src folder and frontend js, css etc in the war folder. This is my build.gradle file</p>\n<pre><code> buildscript {\n  repositories {\n    mavenCentral()\n  }\n\n  dependencies {\n    classpath 'com.google.cloud.tools:appengine-gradle-plugin:2.4.4'\n  }\n}\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\napply plugin: 'com.google.cloud.tools.appengine-appenginewebxml'\n\nsourceSets {\n    main {\n        java.srcDirs = ['../']\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: '/Users/sharon/Documents/Lily/war/WEB-INF/lib', include: ['*.jar'])\n    implementation 'com.google.guava:guava:31.1-jre'\n}\n\next.getAppVersion = { -&gt;\n    return project.property('version')\n}\n\nappengine {\n    tools {\n        cloudSdkVersion = '449.0.0'\n    }\n    run {\n        // ./gradlew appengineStart (to run the app locally)\n        // ./gradlew appengineStop\n        jvmFlags = ['-Dappengine.fullscan.seconds=5']\n        projectId= 'beta-v2'\n        services = '../war'\n        port = 8080\n        automaticRestart = true\n    }\n}\n\nwar {\n    duplicatesStrategy = 'exclude'\n}\n\n//  ./gradlew deploy -Pversion=talktime\ntask deploy {\n    doLast {\n        def versionName = getAppVersion()\n        exec {\n            commandLine 'gcloud', 'app', 'deploy', '--quiet', '../war/WEB-INF/appengine-web.xml', '--version=' + versionName, '--no-promote'\n        }\n    }\n}\n</code></pre>\n<p>when I do ./gradlew appengineRun, the java classes are compiled into the build folder. since appengine looks for files in the war folder, and the compiled classes are in build folder, no changes are reflected. how can I automate the process of copying it to the war folder. Frontend changes are refreshed without any problem. And is there any way I can automate recompile java classes for every file change</p>\n"},{"tags":["java","android","flutter","android-studio","linkageerror"],"answers":[{"tags":[],"owner":{"account_id":7010637,"reputation":184,"user_id":5373665,"display_name":"Marcio LSA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697725133,"creation_date":1697725133,"answer_id":77324586,"question_id":76950571,"body_markdown":"The (class file version 61.0) is JDK 17. Upgrade your JDK to 17 and make sure it is on your PATH using `java --version` on a new terminal or after reloading env variables.\r\n","title":"Error: LinkageError occurred while loading main class","body":"<p>The (class file version 61.0) is JDK 17. Upgrade your JDK to 17 and make sure it is on your PATH using <code>java --version</code> on a new terminal or after reloading env variables.</p>\n"}],"owner":{"account_id":6196744,"reputation":1541,"user_id":4827817,"accept_rate":83,"display_name":"Jaimin Modi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697725133,"creation_date":1692685396,"question_id":76950571,"body_markdown":"I have just try to execute below command in Android Studio Terminal:\r\n\r\n**flutter doctor --android-licenses**\r\n\r\nand getting below error:\r\n\r\n&gt; Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli\r\n        java.lang.UnsupportedClassVersionError: com/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\r\nWhat might be the issue? and How can resolve this?\r\n","title":"Error: LinkageError occurred while loading main class","body":"<p>I have just try to execute below command in Android Studio Terminal:</p>\n<p><strong>flutter doctor --android-licenses</strong></p>\n<p>and getting below error:</p>\n<blockquote>\n<p>Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli\njava.lang.UnsupportedClassVersionError: com/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0</p>\n</blockquote>\n<p>What might be the issue? and How can resolve this?</p>\n"},{"tags":["java","intellij-idea","servlets"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1697726756,"post_id":77324581,"comment_id":136318535,"body_markdown":"See https://youtrack.jetbrains.com/issue/IDEA-316701/Cannot-create-servlet-web-filter-web-listener-after-2023.1-update. Original templates are attached to the linked issue and you can add them in the IDE manually.","body":"See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-316701/Cannot-create-servlet-web-filter-web-listener-after-2023.1-update\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-316701/&hellip;</a>. Original templates are attached to the linked issue and you can add them in the IDE manually."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697762358,"post_id":77324581,"comment_id":136323790,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1697807929,"post_id":77324581,"comment_id":136329752,"body_markdown":"&quot;Rarely used&quot;. Wow.","body":"&quot;Rarely used&quot;. Wow."}],"owner":{"account_id":28753185,"reputation":11,"user_id":22020767,"display_name":"rrr11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697725079,"creation_date":1697725079,"question_id":77324581,"body_markdown":"I have used IntelliJ IDEA 2023.2.2 to create a new web project, and added Tomcat Servlet-api.jar package, click the src file, select 【new】--&amp;gt; [servlet] JAVAEE TYPE appears; Entity Name; The Class Name. I was confused about this aspect and searched for it myself, trying again and again without finding a solution.\r\n[enter image description here](https://i.stack.imgur.com/grNUq.png)\r\n[enter image description here](https://i.stack.imgur.com/usHiD.png)\r\nThe following is the method required by the school: The idea version is the previous.\r\n[enter image description here](https://i.stack.imgur.com/tR6KE.png)\r\n[enter image description here](https://i.stack.imgur.com/zuh1D.png)\r\n\r\nHopefully, there will be a solution to this by defining the Name and specifying the package in the New Servlet interface. The IDEA tool automatically generates Servlet code. To better demonstrate how the Servlet works, add some code to the doGet() and doPost() methods.","title":"IntelliJ IDEA 2023.2.2 to create the Servlet class, but the Name and package cannot be defined in the New Servlet, as shown in the figure","body":"<p>I have used IntelliJ IDEA 2023.2.2 to create a new web project, and added Tomcat Servlet-api.jar package, click the src file, select 【new】--&gt; [servlet] JAVAEE TYPE appears; Entity Name; The Class Name. I was confused about this aspect and searched for it myself, trying again and again without finding a solution.\n<a href=\"https://i.stack.imgur.com/grNUq.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/usHiD.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe following is the method required by the school: The idea version is the previous.\n<a href=\"https://i.stack.imgur.com/tR6KE.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/zuh1D.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Hopefully, there will be a solution to this by defining the Name and specifying the package in the New Servlet interface. The IDEA tool automatically generates Servlet code. To better demonstrate how the Servlet works, add some code to the doGet() and doPost() methods.</p>\n"},{"tags":["java","android","progress-bar","android-custom-view"],"comments":[{"owner":{"account_id":6840945,"reputation":1260,"user_id":5261361,"display_name":"Akshay Nandwana"},"score":0,"creation_date":1667409578,"post_id":74293221,"comment_id":131162308,"body_markdown":"Are you looking for the answer in Compose or the regular view?","body":"Are you looking for the answer in Compose or the regular view?"},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1667409911,"post_id":74293221,"comment_id":131162425,"body_markdown":"Regular. Never worked with compose actually","body":"Regular. Never worked with compose actually"}],"answers":[{"tags":[],"owner":{"account_id":11834347,"reputation":12390,"user_id":9636037,"display_name":"Abhimanyu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697724993,"creation_date":1697724993,"answer_id":77324573,"question_id":74293221,"body_markdown":"You can use this as a starting point for the custom view.\r\nDepending on the requirement you can modify the values to get the desired UI.\r\n\r\n    class MyCircularProgressView @JvmOverloads constructor(\r\n        context: Context,\r\n        attrs: AttributeSet? = null,\r\n        defStyle: Int = 0,\r\n    ) : View(context, attrs, defStyle) {\r\n        private var stroke = 25F\r\n        var size: Int = 200\r\n            set(value) {\r\n                field = value\r\n                stroke = value * 0.125F\r\n                invalidate()\r\n            }\r\n        var backgroundStartAngle: Float = 30F\r\n            set(value) {\r\n                field = value\r\n                invalidate()\r\n            }\r\n        var backgroundSweepAngle: Float = 300F\r\n            set(value) {\r\n                field = value    \r\n                invalidate()\r\n            }\r\n        var progressStartAngle: Float = 150F\r\n            set(value) {\r\n                field = value\r\n                invalidate()\r\n            }\r\n        var progressSweepAngle: Float = 180F\r\n            set(value) {\r\n                field = value\r\n                invalidate()\r\n            }\r\n    \r\n        private val backgroundPaint = Paint()\r\n        private val progressPaint = Paint()\r\n    \r\n        init {\r\n            context.theme.obtainStyledAttributes(attrs, R.styleable.MyCircularProgressView, 0, 0).apply {\r\n                try {\r\n                  // Handle attributes passed from XMl here\r\n                } finally {\r\n                    recycle()\r\n                }\r\n            }\r\n    \r\n            backgroundPaint.apply {\r\n                color = 0xFFE0E0E0.toInt()\r\n                strokeCap = Paint.Cap.ROUND\r\n                style = Paint.Style.STROKE\r\n                strokeWidth = stroke\r\n            }\r\n            progressPaint.apply {\r\n                color = 0xFF0000EE.toInt()\r\n                strokeCap = Paint.Cap.ROUND\r\n                style = Paint.Style.STROKE\r\n                strokeWidth = stroke\r\n            }\r\n        }\r\n    \r\n        override fun onDraw(canvas: Canvas) {\r\n            super.onDraw(canvas)\r\n            canvas.drawArc(\r\n                stroke / 2F,\r\n                stroke / 2F,\r\n                size.toFloat(),\r\n                size.toFloat(),\r\n                backgroundStartAngle % 360F,\r\n                backgroundSweepAngle % 360F,\r\n                false,\r\n                backgroundPaint,\r\n            )\r\n            canvas.drawArc(\r\n                stroke / 2F,\r\n                stroke / 2F,\r\n                size.toFloat(),\r\n                size.toFloat(),\r\n                progressStartAngle % 360F,\r\n                progressSweepAngle % 360F,\r\n                false,\r\n                progressPaint,\r\n            )\r\n        }\r\n    \r\n        override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\r\n            setMeasuredDimension(size + stroke.toInt(), size + stroke.toInt())\r\n        }\r\n    }\r\n\r\n**Output UI**\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l7ABV.png","title":"Custom Shape for CircularProgressIndicator","body":"<p>You can use this as a starting point for the custom view.\nDepending on the requirement you can modify the values to get the desired UI.</p>\n<pre><code>class MyCircularProgressView @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyle: Int = 0,\n) : View(context, attrs, defStyle) {\n    private var stroke = 25F\n    var size: Int = 200\n        set(value) {\n            field = value\n            stroke = value * 0.125F\n            invalidate()\n        }\n    var backgroundStartAngle: Float = 30F\n        set(value) {\n            field = value\n            invalidate()\n        }\n    var backgroundSweepAngle: Float = 300F\n        set(value) {\n            field = value    \n            invalidate()\n        }\n    var progressStartAngle: Float = 150F\n        set(value) {\n            field = value\n            invalidate()\n        }\n    var progressSweepAngle: Float = 180F\n        set(value) {\n            field = value\n            invalidate()\n        }\n\n    private val backgroundPaint = Paint()\n    private val progressPaint = Paint()\n\n    init {\n        context.theme.obtainStyledAttributes(attrs, R.styleable.MyCircularProgressView, 0, 0).apply {\n            try {\n              // Handle attributes passed from XMl here\n            } finally {\n                recycle()\n            }\n        }\n\n        backgroundPaint.apply {\n            color = 0xFFE0E0E0.toInt()\n            strokeCap = Paint.Cap.ROUND\n            style = Paint.Style.STROKE\n            strokeWidth = stroke\n        }\n        progressPaint.apply {\n            color = 0xFF0000EE.toInt()\n            strokeCap = Paint.Cap.ROUND\n            style = Paint.Style.STROKE\n            strokeWidth = stroke\n        }\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        super.onDraw(canvas)\n        canvas.drawArc(\n            stroke / 2F,\n            stroke / 2F,\n            size.toFloat(),\n            size.toFloat(),\n            backgroundStartAngle % 360F,\n            backgroundSweepAngle % 360F,\n            false,\n            backgroundPaint,\n        )\n        canvas.drawArc(\n            stroke / 2F,\n            stroke / 2F,\n            size.toFloat(),\n            size.toFloat(),\n            progressStartAngle % 360F,\n            progressSweepAngle % 360F,\n            false,\n            progressPaint,\n        )\n    }\n\n    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n        setMeasuredDimension(size + stroke.toInt(), size + stroke.toInt())\n    }\n}\n</code></pre>\n<p><strong>Output UI</strong></p>\n<p><a href=\"https://i.stack.imgur.com/l7ABV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l7ABV.png\" alt=\"Screenshot\" /></a></p>\n"}],"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77324573,"answer_count":1,"score":1,"last_activity_date":1697724993,"creation_date":1667409290,"question_id":74293221,"body_markdown":"I know I can have a `CircularProgressIndicator` to indicate some progress, but can I also give it a custom shape like this:\r\n\r\n[![Expected outcome][1]][1]\r\n\r\nThe goal would be a semi circle with some left out elements but still would fill correctly. I think I need to write some custom view for the &quot;100%&quot; progress part, but how to get the custom drawable for this?\r\n\r\n  [1]: https://i.stack.imgur.com/I50Df.png","title":"Custom Shape for CircularProgressIndicator","body":"<p>I know I can have a <code>CircularProgressIndicator</code> to indicate some progress, but can I also give it a custom shape like this:</p>\n<p><a href=\"https://i.stack.imgur.com/I50Df.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I50Df.png\" alt=\"Expected outcome\" /></a></p>\n<p>The goal would be a semi circle with some left out elements but still would fill correctly. I think I need to write some custom view for the &quot;100%&quot; progress part, but how to get the custom drawable for this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1697699790,"post_id":77321601,"comment_id":136313267,"body_markdown":"Have you tried to debug your code?","body":"Have you tried to debug your code?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697718180,"post_id":77321601,"comment_id":136316674,"body_markdown":"It’s a matter of the precedence of `&amp;` and `|`. Always use parentheses in expressions that involve both. As an aside, it’s customary to use `&amp;&amp;` and `||`, which I would recommend here too.","body":"It’s a matter of the precedence of <code>&amp;</code> and <code>|</code>. Always use parentheses in expressions that involve both. As an aside, it’s customary to use <code>&amp;&amp;</code> and <code>||</code>, which I would recommend here too."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697719341,"post_id":77321601,"comment_id":136316916,"body_markdown":"If this is an exercise, it’s a fine exercise. For production code one would use `MonthDay.of(monthNumber, dayOfMonth)` and see is one gets a `DateTimeException`. A difference being that `MonthDay` accepts up to 29 days in February, though (since this happens in leap years). If you need to assume a non-leap year, use for example `dayOfMonth &lt;= Month.of(monthNumber).length(false)`, the `false` indicating whether in a leap year or not.","body":"If this is an exercise, it’s a fine exercise. For production code one would use <code>MonthDay.of(monthNumber, dayOfMonth)</code> and see is one gets a <code>DateTimeException</code>. A difference being that <code>MonthDay</code> accepts up to 29 days in February, though (since this happens in leap years). If you need to assume a non-leap year, use for example <code>dayOfMonth &lt;= Month.of(monthNumber).length(false)</code>, the <code>false</code> indicating whether in a leap year or not."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1697719500,"post_id":77321601,"comment_id":136316950,"body_markdown":"This question has been incorrectly close-voted as “Not reproducible or was caused by a typo”. It’s fully reproducible and as far as I can tell not caused by any typo.","body":"This question has been incorrectly close-voted as “Not reproducible or was caused by a typo”. It’s fully reproducible and as far as I can tell not caused by any typo."}],"answers":[{"tags":[],"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697700189,"creation_date":1697699037,"answer_id":77321625,"question_id":77321601,"body_markdown":"I think that the issue in your code is with the condition statements and the use of the &amp; and | operators. You should be using &amp;&amp; and || for logical AND and logical OR operations, respectively. Try changing it.\r\n\r\nYou should check the logic of your code, I don&#39;t think that&#39;s the best way to check dates. Still, try this:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        int i = 0;\r\n        while(true) {\r\n            int num1 = 56;\r\n            int num2 = 5;\r\n\r\n            if (num1 &lt;= 31 &amp;&amp; (num2 == 1 || num2 == 5 || num2 == 3 || num2 == 7 || num2 == 8 || num2 == 10 || num2 == 12)) {\r\n                System.out.printf(&quot;YES&quot;);\r\n            } else if (num1 &lt;= 30 &amp;&amp; (num2 == 4 || num2 == 6 || num2 == 9 || num2 == 11)) {\r\n                System.out.printf(&quot;YES&quot;);\r\n            } else if (num1 &lt;= 28 &amp;&amp; num2 == 2) {\r\n                System.out.printf(&quot;YES&quot;);\r\n            } else {\r\n                System.out.printf(&quot;NO&quot;);\r\n            }\r\n            i++;\r\n            if (i &gt; 4) {\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n```","title":"Task to determine the correctness of a date that is being inputted, num1 is day and num2 is month","body":"<p>I think that the issue in your code is with the condition statements and the use of the &amp; and | operators. You should be using &amp;&amp; and || for logical AND and logical OR operations, respectively. Try changing it.</p>\n<p>You should check the logic of your code, I don't think that's the best way to check dates. Still, try this:</p>\n<pre><code>public static void main(String[] args) {\n        int i = 0;\n        while(true) {\n            int num1 = 56;\n            int num2 = 5;\n\n            if (num1 &lt;= 31 &amp;&amp; (num2 == 1 || num2 == 5 || num2 == 3 || num2 == 7 || num2 == 8 || num2 == 10 || num2 == 12)) {\n                System.out.printf(&quot;YES&quot;);\n            } else if (num1 &lt;= 30 &amp;&amp; (num2 == 4 || num2 == 6 || num2 == 9 || num2 == 11)) {\n                System.out.printf(&quot;YES&quot;);\n            } else if (num1 &lt;= 28 &amp;&amp; num2 == 2) {\n                System.out.printf(&quot;YES&quot;);\n            } else {\n                System.out.printf(&quot;NO&quot;);\n            }\n            i++;\n            if (i &gt; 4) {\n                break;\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697700645,"creation_date":1697700645,"answer_id":77321773,"question_id":77321601,"body_markdown":"Use brackets to define the correct precedence. The complex condition you need is - `first condition is true AND any one of the next being true`\r\n```\r\nif (num1 &lt;= ??? &amp;&amp; (num2 == ??? || num2 == ??? || and so on))\r\n```\r\nSome stuff unrelated to the actual question but still important:\r\n\r\n 1. Since `num1` is day and `num2` is month, rename the variables with their correct names\r\n 2. Consider how to simplify the checks, you can use an array prepopulated with data. Hints - the index will be the month and the value at the index will be the days in this month.","title":"Task to determine the correctness of a date that is being inputted, num1 is day and num2 is month","body":"<p>Use brackets to define the correct precedence. The complex condition you need is - <code>first condition is true AND any one of the next being true</code></p>\n<pre><code>if (num1 &lt;= ??? &amp;&amp; (num2 == ??? || num2 == ??? || and so on))\n</code></pre>\n<p>Some stuff unrelated to the actual question but still important:</p>\n<ol>\n<li>Since <code>num1</code> is day and <code>num2</code> is month, rename the variables with their correct names</li>\n<li>Consider how to simplify the checks, you can use an array prepopulated with data. Hints - the index will be the month and the value at the index will be the days in this month.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697706049,"creation_date":1697705319,"answer_id":77322268,"question_id":77321601,"body_markdown":"I see two problems with your code.\r\n1. The `if` conditions in your code use [bitwise operators][1]. You need to change them to *logical* [operators][2].\r\n2. After changing them to logical operators, you need to correctly group them.\r\n\r\nLogical operators are binary operators, i.e. they have two operands. Hence, when you compile your code, the operands will be grouped. Take, for example, your first `if` statement:  \r\n(Note that I have replaced the bitwise operators with logical operators.)\r\n```java\r\nif (num1 &lt;= 31 &amp;&amp; num2 == 1 || num2 == 5 || num2 == 3 || num2 == 7 || num2 == 8 || num2 == 10 || num2 == 12) {\r\n```\r\nOperators are evaluated according to their precedence and `&amp;&amp;` comes before `||` so the first part of the `if` condition to be evaluated will be:\r\n```java\r\nnum1 &lt;= 31 &amp;&amp; num2 == 1\r\n```\r\nIf the value of `num1` is 56, then the result of the above is *false*. That result will be used as the first operand in the next part of the evaluation which will be:\r\n```java\r\nfalse || num2 == 5\r\n```\r\nIf the value of `num2` is 5, then the result of the above is *true*. And since the remainder of the condition contains only `||` operators, evaluation will stop and the whole `if` condition is considered *true* and that&#39;s why your code prints YES when you enter 56 for `num1` and 5 for `num2`.\r\n\r\nWhat you want is to group all the `||` operators so that they will be considered as a single operand. Hence the `if` condition should be:\r\n```java\r\nif (num1 &lt;= 31 &amp;&amp; (num2 == 1 || num2 == 5 || num2 == 3 || num2 == 7 || num2 == 8 || num2 == 10 || num2 == 12)) {\r\n```\r\nThe above `if` can be read as...\r\n&gt; if `num1` is less than or equal to 31 **and** `num2` is one of 1 or 3 or 5 or 7 or 8 or 10 or 12\r\n\r\nI believe this is what you want. So, applying the above to all your code produces the following...\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int i = 0;\r\n        while (true) {\r\n            int num1 = scanner.nextInt();\r\n            int num2 = scanner.nextInt();\r\n            if (num1 &lt;= 31 &amp;&amp; (num2 == 1 || num2 == 5 || num2 == 3 || num2 == 7 || num2 == 8 || num2 == 10 || num2 == 12)) {\r\n                System.out.printf(&quot;YES&quot;);\r\n            }\r\n            else if (num1 &lt;= 30 &amp;&amp; (num2 == 4 || num2 == 6 || num2 == 9 || num2 == 11)) {\r\n                System.out.printf(&quot;YES&quot;);\r\n            }\r\n            else if (num1 &lt;= 28 &amp;&amp; num2 == 2) {\r\n                System.out.printf(&quot;YES&quot;);\r\n            }\r\n            else {\r\n                System.out.printf(&quot;NO&quot;);\r\n            }\r\n            i++;\r\n            if (i &gt; 4) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nNote that, since Java 8 and the introduction of the [Date-Time API][3], you can use [static] method [of][4], in class `java.time.MonthDay`, i.e.\r\n```java\r\ntry {\r\n    java.time.MonthDay.of(5, 56);\r\n}\r\ncatch (java.time.DateTimeException x) {\r\n    // Invalid month or day of month.\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/datetime/index.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/MonthDay.html#of-int-int-","title":"Task to determine the correctness of a date that is being inputted, num1 is day and num2 is month","body":"<p>I see two problems with your code.</p>\n<ol>\n<li>The <code>if</code> conditions in your code use <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">bitwise operators</a>. You need to change them to <em>logical</em> <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">operators</a>.</li>\n<li>After changing them to logical operators, you need to correctly group them.</li>\n</ol>\n<p>Logical operators are binary operators, i.e. they have two operands. Hence, when you compile your code, the operands will be grouped. Take, for example, your first <code>if</code> statement:<br />\n(Note that I have replaced the bitwise operators with logical operators.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (num1 &lt;= 31 &amp;&amp; num2 == 1 || num2 == 5 || num2 == 3 || num2 == 7 || num2 == 8 || num2 == 10 || num2 == 12) {\n</code></pre>\n<p>Operators are evaluated according to their precedence and <code>&amp;&amp;</code> comes before <code>||</code> so the first part of the <code>if</code> condition to be evaluated will be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>num1 &lt;= 31 &amp;&amp; num2 == 1\n</code></pre>\n<p>If the value of <code>num1</code> is 56, then the result of the above is <em>false</em>. That result will be used as the first operand in the next part of the evaluation which will be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>false || num2 == 5\n</code></pre>\n<p>If the value of <code>num2</code> is 5, then the result of the above is <em>true</em>. And since the remainder of the condition contains only <code>||</code> operators, evaluation will stop and the whole <code>if</code> condition is considered <em>true</em> and that's why your code prints YES when you enter 56 for <code>num1</code> and 5 for <code>num2</code>.</p>\n<p>What you want is to group all the <code>||</code> operators so that they will be considered as a single operand. Hence the <code>if</code> condition should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (num1 &lt;= 31 &amp;&amp; (num2 == 1 || num2 == 5 || num2 == 3 || num2 == 7 || num2 == 8 || num2 == 10 || num2 == 12)) {\n</code></pre>\n<p>The above <code>if</code> can be read as...</p>\n<blockquote>\n<p>if <code>num1</code> is less than or equal to 31 <strong>and</strong> <code>num2</code> is one of 1 or 3 or 5 or 7 or 8 or 10 or 12</p>\n</blockquote>\n<p>I believe this is what you want. So, applying the above to all your code produces the following...</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int i = 0;\n        while (true) {\n            int num1 = scanner.nextInt();\n            int num2 = scanner.nextInt();\n            if (num1 &lt;= 31 &amp;&amp; (num2 == 1 || num2 == 5 || num2 == 3 || num2 == 7 || num2 == 8 || num2 == 10 || num2 == 12)) {\n                System.out.printf(&quot;YES&quot;);\n            }\n            else if (num1 &lt;= 30 &amp;&amp; (num2 == 4 || num2 == 6 || num2 == 9 || num2 == 11)) {\n                System.out.printf(&quot;YES&quot;);\n            }\n            else if (num1 &lt;= 28 &amp;&amp; num2 == 2) {\n                System.out.printf(&quot;YES&quot;);\n            }\n            else {\n                System.out.printf(&quot;NO&quot;);\n            }\n            i++;\n            if (i &gt; 4) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Note that, since Java 8 and the introduction of the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Date-Time API</a>, you can use [static] method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/MonthDay.html#of-int-int-\" rel=\"nofollow noreferrer\">of</a>, in class <code>java.time.MonthDay</code>, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    java.time.MonthDay.of(5, 56);\n}\ncatch (java.time.DateTimeException x) {\n    // Invalid month or day of month.\n}\n</code></pre>\n"}],"owner":{"account_id":29706041,"reputation":33,"user_id":22766846,"display_name":"Ярослав Гавран"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"accepted_answer_id":77321625,"answer_count":3,"score":-2,"last_activity_date":1697724864,"creation_date":1697698734,"question_id":77321601,"body_markdown":"I don&#39;t understand why but when I input 56 5 it outputs *YES*. Please help and if possible describe the cause of the mistake.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int i = 0;\r\n        while(true) {\r\n            int num1 = scanner.nextInt();\r\n            int num2 = scanner.nextInt();\r\n\r\n            if (num1 &lt;= 31 &amp; num2 == 1 | num2 == 5 | num2 == 3 | num2 == 7 | num2 == 8 | num2 == 10 | num2 == 12) {\r\n                System.out.printf(&quot;YES&quot;);\r\n            } else if (num1 &lt;= 30 &amp; num2 == 4 | num2 == 6 | num2 == 9 | num2 == 11) {\r\n                System.out.printf(&quot;YES&quot;);\r\n            } else if (num1 &lt;= 28 &amp; num2 == 2) {\r\n                System.out.printf(&quot;YES&quot;);\r\n            } else {\r\n                System.out.printf(&quot;NO&quot;);\r\n            }\r\n            i++;\r\n            if (i &gt; 4) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Task to determine the correctness of a date that is being inputted, num1 is day and num2 is month","body":"<p>I don't understand why but when I input 56 5 it outputs <em>YES</em>. Please help and if possible describe the cause of the mistake.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int i = 0;\n        while(true) {\n            int num1 = scanner.nextInt();\n            int num2 = scanner.nextInt();\n\n            if (num1 &lt;= 31 &amp; num2 == 1 | num2 == 5 | num2 == 3 | num2 == 7 | num2 == 8 | num2 == 10 | num2 == 12) {\n                System.out.printf(&quot;YES&quot;);\n            } else if (num1 &lt;= 30 &amp; num2 == 4 | num2 == 6 | num2 == 9 | num2 == 11) {\n                System.out.printf(&quot;YES&quot;);\n            } else if (num1 &lt;= 28 &amp; num2 == 2) {\n                System.out.printf(&quot;YES&quot;);\n            } else {\n                System.out.printf(&quot;NO&quot;);\n            }\n            i++;\n            if (i &gt; 4) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","casting","jls"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1697719123,"post_id":77323743,"comment_id":136316871,"body_markdown":"I think here: **It is a compile-time error if it is impossible to convert the type of either operand to the type of the other by a casting conversion (&#167;5.5). The run-time values of the two operands would necessarily be unequal (ignoring the case where both values are null).**   https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.21.3","body":"I think here: <b>It is a compile-time error if it is impossible to convert the type of either operand to the type of the other by a casting conversion (&#167;5.5). The run-time values of the two operands would necessarily be unequal (ignoring the case where both values are null).</b>   <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.21.3\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se21/html/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1697719252,"post_id":77323743,"comment_id":136316898,"body_markdown":"In other words, you had to use a funky cast (you have two casts) to get the compiler to take the assignment.  I think the compiler can&#39;t figure out how to do it in one cast, so you get an error.  I tested it and exactly the same error occurs if you use an `if` instead of an `assert`: `if( strs1 == objs1 ) ; //compile error`","body":"In other words, you had to use a funky cast (you have two casts) to get the compiler to take the assignment.  I think the compiler can&#39;t figure out how to do it in one cast, so you get an error.  I tested it and exactly the same error occurs if you use an <code>if</code> instead of an <code>assert</code>: <code>if( strs1 == objs1 ) ; &#47;&#47;compile error</code>"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697719384,"post_id":77323743,"comment_id":136316927,"body_markdown":"`str == oo` probably works because a String IS_A Object (String extends Object). But a `List&lt;String&gt;` is not a `List&lt;Object&gt;` (`List&lt;String&gt;` is _not_ a sub type of `List&lt;Object&gt;`)","body":"<code>str == oo</code> probably works because a String IS_A Object (String extends Object). But a <code>List&lt;String&gt;</code> is not a <code>List&lt;Object&gt;</code> (<code>List&lt;String&gt;</code> is <i>not</i> a sub type of <code>List&lt;Object&gt;</code>)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1697728331,"post_id":77323743,"comment_id":136318899,"body_markdown":"For future reference, questions of this type should include a copy of the compiler error message. To ensure accuracy, use text copy-and-paste.","body":"For future reference, questions of this type should include a copy of the compiler error message. To ensure accuracy, use text copy-and-paste."}],"answers":[{"tags":[],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697724686,"creation_date":1697722987,"answer_id":77324331,"question_id":77323743,"body_markdown":"You can set and compare incompatible references at runtime because of type erasure. \r\nGenerics appeared in java 5 (named 1.5 at this time) and under the hood the jvm still manage to use `List&lt;Object&gt;` at runtime.\r\nWhat the compiler say is that `List&lt;Object&gt;` is not comparable with  `List&lt;String&gt;` even if you manipulate the same reference.  \r\nIn fact semantically a `List&lt;Object&gt;` could not contain a `List&lt;String&gt;` so you came into an illogical situation\r\n\r\nThe &quot;edge-case&quot; in fact is that you tricked the compiler with the double cast `List&lt;String&gt; strs = (List&lt;String&gt;)(List&lt;?&gt;)objs;`  \r\n`List&lt;Object&gt;` is not a `List&lt;String&gt;` as should should not be assigned. On the 2nd line the compiler let you use a cast that shouldn&#39;t be possible :\r\n\r\n        List&lt;Object&gt; objs = Arrays.asList(&quot;one&quot;, &quot;two&quot;); \r\n        List&lt;String&gt; strs = (List&lt;String&gt;)(List&lt;?&gt;)objs;// incompatible type affectation with no errors at runtime because of type erasure\r\n        // this compares 2 differents type that the compiler will refuse System.out.println(strs == objs);\r\n\r\n\r\nIf you want a super type of both `List&lt;String&gt;` and `List&lt;Object&gt;` it must be `List&lt;? extends Object&gt;` and then the code is correct for both compiler and runtime .\r\n\r\nThis works and is semantically correct\r\n\r\n        List&lt;? extends Object&gt; objs = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\r\n        List&lt;String&gt; strs = (List&lt;String&gt;)(List&lt;?&gt;)objs;\r\n        System.out.println(strs == objs);\r\n\r\nNow speaking of type erasure, it can lead to similar problems:\r\n\r\n        List&lt;? extends Object&gt; objs = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\r\n        List&lt;Integer&gt; ints = Arrays.asList((Integer.valueOf(1),Integer.valueOf(2));\r\n        List&lt;String&gt; strs = (List&lt;String&gt;)objs; // this shouldn&#39;t work on runtime but does because of type erasure\r\n        System.out.println(strs == objs);\r\n\r\nHere I can affect a List of Integer in a List of String variable and I get no classCastException, because of type erasure. If the type protection was perfect, I shouldn&#39;t be able 1. to cast A `List&lt;Integer&gt;` to a `List&lt;String&gt;` 2. to affect this value at runtime.\r\n\r\n \r\n","title":"Behaviour of == with Generic types","body":"<p>You can set and compare incompatible references at runtime because of type erasure.\nGenerics appeared in java 5 (named 1.5 at this time) and under the hood the jvm still manage to use <code>List&lt;Object&gt;</code> at runtime.\nWhat the compiler say is that <code>List&lt;Object&gt;</code> is not comparable with  <code>List&lt;String&gt;</code> even if you manipulate the same reference.<br />\nIn fact semantically a <code>List&lt;Object&gt;</code> could not contain a <code>List&lt;String&gt;</code> so you came into an illogical situation</p>\n<p>The &quot;edge-case&quot; in fact is that you tricked the compiler with the double cast <code>List&lt;String&gt; strs = (List&lt;String&gt;)(List&lt;?&gt;)objs;</code><br />\n<code>List&lt;Object&gt;</code> is not a <code>List&lt;String&gt;</code> as should should not be assigned. On the 2nd line the compiler let you use a cast that shouldn't be possible :</p>\n<pre><code>    List&lt;Object&gt; objs = Arrays.asList(&quot;one&quot;, &quot;two&quot;); \n    List&lt;String&gt; strs = (List&lt;String&gt;)(List&lt;?&gt;)objs;// incompatible type affectation with no errors at runtime because of type erasure\n    // this compares 2 differents type that the compiler will refuse System.out.println(strs == objs);\n</code></pre>\n<p>If you want a super type of both <code>List&lt;String&gt;</code> and <code>List&lt;Object&gt;</code> it must be <code>List&lt;? extends Object&gt;</code> and then the code is correct for both compiler and runtime .</p>\n<p>This works and is semantically correct</p>\n<pre><code>    List&lt;? extends Object&gt; objs = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\n    List&lt;String&gt; strs = (List&lt;String&gt;)(List&lt;?&gt;)objs;\n    System.out.println(strs == objs);\n</code></pre>\n<p>Now speaking of type erasure, it can lead to similar problems:</p>\n<pre><code>    List&lt;? extends Object&gt; objs = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\n    List&lt;Integer&gt; ints = Arrays.asList((Integer.valueOf(1),Integer.valueOf(2));\n    List&lt;String&gt; strs = (List&lt;String&gt;)objs; // this shouldn't work on runtime but does because of type erasure\n    System.out.println(strs == objs);\n</code></pre>\n<p>Here I can affect a List of Integer in a List of String variable and I get no classCastException, because of type erasure. If the type protection was perfect, I shouldn't be able 1. to cast A <code>List&lt;Integer&gt;</code> to a <code>List&lt;String&gt;</code> 2. to affect this value at runtime.</p>\n"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697724686,"creation_date":1697718262,"question_id":77323743,"body_markdown":"Consider the following snippet:\r\n```java\r\nList&lt;Object&gt; objs1 = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\r\nList&lt;String&gt; strs1 = (List&lt;String&gt;)(List&lt;?&gt;)objs1;\r\n\r\nassert strs1 == objs1; //compile error\r\n```\r\nSince `==` only compares the object identity - why is it give compilation error when it is just the matter of cast.\r\n\r\nWhile consider the following snippet - here the assertion does not fail : \r\n```java\r\nString str = &quot;this is it&quot;;\r\nObject oo = str;\r\nassert str == oo; //asserts true\r\n```\r\nHere again - we are doing just the same thing but it works fine.\r\n\r\n- Why does `==` operator behave on the basis of reference type that is holding the object even when the object being held is the same?","title":"Behaviour of == with Generic types","body":"<p>Consider the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object&gt; objs1 = Arrays.asList(&quot;one&quot;, &quot;two&quot;);\nList&lt;String&gt; strs1 = (List&lt;String&gt;)(List&lt;?&gt;)objs1;\n\nassert strs1 == objs1; //compile error\n</code></pre>\n<p>Since <code>==</code> only compares the object identity - why is it give compilation error when it is just the matter of cast.</p>\n<p>While consider the following snippet - here the assertion does not fail :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;this is it&quot;;\nObject oo = str;\nassert str == oo; //asserts true\n</code></pre>\n<p>Here again - we are doing just the same thing but it works fine.</p>\n<ul>\n<li>Why does <code>==</code> operator behave on the basis of reference type that is holding the object even when the object being held is the same?</li>\n</ul>\n"},{"tags":["java","android","android-camera2"],"answers":[{"tags":[],"owner":{"account_id":15006523,"reputation":1,"user_id":22555525,"display_name":"Cordilleran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697724647,"creation_date":1697724647,"answer_id":77324531,"question_id":77295064,"body_markdown":"I&#39;ve figured it out, and I think the key was making sure the current `CameraCharacteristics` is based on the current physical ID. I now make sure to set it explicitly in my lens-changing code. (Apparently doing this isn&#39;t necessary for taking JPEGs.) \r\n\r\nNote however that `openCamera` can only be called on a Logical/non-physical ID, so I use the corresponding logical ID of the current physical when I call that function.","title":"Using an ImageReader with an OutputConfiguration, so I can use physicalIds","body":"<p>I've figured it out, and I think the key was making sure the current <code>CameraCharacteristics</code> is based on the current physical ID. I now make sure to set it explicitly in my lens-changing code. (Apparently doing this isn't necessary for taking JPEGs.)</p>\n<p>Note however that <code>openCamera</code> can only be called on a Logical/non-physical ID, so I use the corresponding logical ID of the current physical when I call that function.</p>\n"}],"owner":{"account_id":15006523,"reputation":1,"user_id":22555525,"display_name":"Cordilleran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697724647,"creation_date":1697333960,"question_id":77295064,"body_markdown":"So I&#39;ve been able to modify the camera2Video sample to use physical Camera Ids by using createCaptureSessionByOutputConfiguration. For the preview I&#39;ve done\r\n\r\n```\r\nif(currentLens.isPartOfLogicalCam){\r\n\tOutputConfiguration outputconfig = new OutputConfiguration(previewSurface);\r\n\toutputconfig.setPhysicalCameraId(currentLens.getPhysicalCameraId());\r\n\r\n\tmCameraDevice.createCaptureSessionByOutputConfigurations(Collections.singletonList(outputconfig),\r\n\t\t\tnew CameraCaptureSession.StateCallback() {...}\r\n```\r\n\r\nand in  startRecordingVideo()\r\n\r\n```\r\nif(currentLens.isPartOfLogicalCam){\r\n\tList&lt;OutputConfiguration&gt; outputconfigs = new ArrayList&lt;&gt;();\r\n\toutputconfigs.add(new OutputConfiguration(previewSurface));\r\n\toutputconfigs.add(new OutputConfiguration(recorderSurface));\r\n\toutputconfigs.get(0).setPhysicalCameraId(currentLens.getPhysicalCameraId());\r\n\toutputconfigs.get(1).setPhysicalCameraId(currentLens.getPhysicalCameraId()); \r\n\r\n\tmCameraDevice.createCaptureSessionByOutputConfigurations(outputconfigs, new CameraCaptureSession.StateCallback() {...}\r\n```\r\n\r\nThis works; both the preview and the recorded video use the desired physical camera id.\r\n\r\nNow I want to make the analogous modifications to the Camera2Raw sample, so that I can use the physical Ids to take DNG images.\r\n\r\nIn the `createCameraPreviewSessionLocked()` function, I&#39;ve changed it to use `.createCaptureSessionByOutputConfigurations`, like\r\n\r\n```\r\nOutputConfiguration surfaceOutputConfig = new OutputConfiguration(surface);\r\nOutputConfiguration rawImageOutputConfig = new OutputConfiguration(mRawImageReader.get().getSurface());\r\nList&lt;OutputConfiguration&gt; outputConfigs = Arrays.asList(surfaceOutputConfig, rawImageOutputConfig);\r\noutputConfigs.get(0).setPhysicalCameraId(&quot;4&quot;);\r\noutputConfigs.get(1).setPhysicalCameraId(&quot;4&quot;);\r\n\r\nArrayList&lt;Surface&gt; surfaces = new ArrayList&lt;&gt;();\r\nsurfaces.add(surface);\r\nsurfaces.add(mRawImageReader.get().getSurface());\r\n\r\nmCameraDevice.createCaptureSessionByOutputConfigurations(outputConfigs,\r\n        new CameraCaptureSession.StateCallback() {\r\n...\r\n```\r\n\r\nI&#39;ve also temporarily hardcoded the imageReader resolution to be 4000x3000, because I know the underlying sensor I&#39;m trying to access has that as its max resolution. The preview shows the correct lens, but when I try to take a picture, the app crashes and I get &quot;Height and width of image buffer did not match height and width of either the preCorrectionActiveArraySize or the pixelArraySize.&quot;\r\n\r\n**Update:** for the heck of it, I tried instantiating the Image Reader to use JPEG instead of RAW. And what do you know, now it works! When I use the telephoto lens for instance, I get JPEGs at the correct 4000x3000 size, and they are clearly taken by the correct lens.\r\n\r\nSo I&#39;ve gotten this logic working for video and JPEG images. Why not RAW? I guess it has something to do with the preCorrectionActiveArraySize or pixelArraySize. Is there any way I can set those things directly?","title":"Using an ImageReader with an OutputConfiguration, so I can use physicalIds","body":"<p>So I've been able to modify the camera2Video sample to use physical Camera Ids by using createCaptureSessionByOutputConfiguration. For the preview I've done</p>\n<pre><code>if(currentLens.isPartOfLogicalCam){\n    OutputConfiguration outputconfig = new OutputConfiguration(previewSurface);\n    outputconfig.setPhysicalCameraId(currentLens.getPhysicalCameraId());\n\n    mCameraDevice.createCaptureSessionByOutputConfigurations(Collections.singletonList(outputconfig),\n            new CameraCaptureSession.StateCallback() {...}\n</code></pre>\n<p>and in  startRecordingVideo()</p>\n<pre><code>if(currentLens.isPartOfLogicalCam){\n    List&lt;OutputConfiguration&gt; outputconfigs = new ArrayList&lt;&gt;();\n    outputconfigs.add(new OutputConfiguration(previewSurface));\n    outputconfigs.add(new OutputConfiguration(recorderSurface));\n    outputconfigs.get(0).setPhysicalCameraId(currentLens.getPhysicalCameraId());\n    outputconfigs.get(1).setPhysicalCameraId(currentLens.getPhysicalCameraId()); \n\n    mCameraDevice.createCaptureSessionByOutputConfigurations(outputconfigs, new CameraCaptureSession.StateCallback() {...}\n</code></pre>\n<p>This works; both the preview and the recorded video use the desired physical camera id.</p>\n<p>Now I want to make the analogous modifications to the Camera2Raw sample, so that I can use the physical Ids to take DNG images.</p>\n<p>In the <code>createCameraPreviewSessionLocked()</code> function, I've changed it to use <code>.createCaptureSessionByOutputConfigurations</code>, like</p>\n<pre><code>OutputConfiguration surfaceOutputConfig = new OutputConfiguration(surface);\nOutputConfiguration rawImageOutputConfig = new OutputConfiguration(mRawImageReader.get().getSurface());\nList&lt;OutputConfiguration&gt; outputConfigs = Arrays.asList(surfaceOutputConfig, rawImageOutputConfig);\noutputConfigs.get(0).setPhysicalCameraId(&quot;4&quot;);\noutputConfigs.get(1).setPhysicalCameraId(&quot;4&quot;);\n\nArrayList&lt;Surface&gt; surfaces = new ArrayList&lt;&gt;();\nsurfaces.add(surface);\nsurfaces.add(mRawImageReader.get().getSurface());\n\nmCameraDevice.createCaptureSessionByOutputConfigurations(outputConfigs,\n        new CameraCaptureSession.StateCallback() {\n...\n</code></pre>\n<p>I've also temporarily hardcoded the imageReader resolution to be 4000x3000, because I know the underlying sensor I'm trying to access has that as its max resolution. The preview shows the correct lens, but when I try to take a picture, the app crashes and I get &quot;Height and width of image buffer did not match height and width of either the preCorrectionActiveArraySize or the pixelArraySize.&quot;</p>\n<p><strong>Update:</strong> for the heck of it, I tried instantiating the Image Reader to use JPEG instead of RAW. And what do you know, now it works! When I use the telephoto lens for instance, I get JPEGs at the correct 4000x3000 size, and they are clearly taken by the correct lens.</p>\n<p>So I've gotten this logic working for video and JPEG images. Why not RAW? I guess it has something to do with the preCorrectionActiveArraySize or pixelArraySize. Is there any way I can set those things directly?</p>\n"},{"tags":["java","spring-boot","logging","slf4j"],"answers":[{"tags":[],"owner":{"account_id":13760437,"reputation":69,"user_id":9930320,"display_name":"raminqdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671733243,"creation_date":1671191886,"answer_id":74824150,"question_id":74054123,"body_markdown":"I figured out one way is using MDC. \r\nPlease check out this link for more information: \r\nhttps://stackoverflow.com/questions/46563316/how-to-use-mdc-of-logback-and-slf4j-with-spring-boot-to-capture-unique-tracking","title":"How to add current user details in log (spring boot)","body":"<p>I figured out one way is using MDC.\nPlease check out this link for more information:\n<a href=\"https://stackoverflow.com/questions/46563316/how-to-use-mdc-of-logback-and-slf4j-with-spring-boot-to-capture-unique-tracking\">How to use MDC of logback and SLF4J with spring boot to capture unique tracking in the POST request json?</a></p>\n"},{"tags":[],"owner":{"account_id":1522872,"reputation":6419,"user_id":1422070,"accept_rate":71,"display_name":"edwardmp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684194064,"creation_date":1684192680,"answer_id":76258471,"question_id":74054123,"body_markdown":"This is how I implemented this using Spring Boot v2.7.\r\n\r\nFirst define a custom filter that will add the user data to MDC:\r\n\r\n```kotlin\r\nimport org.slf4j.MDC\r\nimport org.springframework.security.core.AuthenticatedPrincipal\r\nimport org.springframework.security.core.context.SecurityContextHolder\r\nimport org.springframework.stereotype.Component\r\nimport org.springframework.web.filter.OncePerRequestFilter\r\nimport javax.servlet.FilterChain\r\nimport javax.servlet.http.HttpServletRequest\r\nimport javax.servlet.http.HttpServletResponse\r\n\r\n@Component\r\nclass UserMdcFilter : OncePerRequestFilter() {\r\n\r\n    companion object {\r\n        private const val USER_MDC_KEY = &quot;user&quot;\r\n    }\r\n\r\n    override fun doFilterInternal(\r\n        request: HttpServletRequest,\r\n        response: HttpServletResponse,\r\n        filterChain: FilterChain\r\n    ) {\r\n        val principal = SecurityContextHolder.getContext().authentication?.principal as? AuthenticatedPrincipal\r\n        if (principal != null) {\r\n            val user = principal.name\r\n            MDC.put(USER_MDC_KEY, user)\r\n        }\r\n\r\n        try {\r\n            filterChain.doFilter(request, response)\r\n        } finally {\r\n            MDC.remove(USER_MDC_KEY)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen, add the filter in your Spring Security configuration.\r\n\r\n```kotlin\r\n// I do it after FilterSecurityInterceptor, otherwise authenticated context is not set\r\nhttp.addFilterAfter(userMdcFilter, FilterSecurityInterceptor::class.java)\r\n```\r\n\r\nYou can view the data by modifying your log pattern to include MDC:\r\n\r\n```xml\r\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n        &lt;Pattern&gt;\r\n            %clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr([%mdc]){yellow} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\r\n        &lt;/Pattern&gt;\r\n        &lt;charset&gt;utf8&lt;/charset&gt;\r\n    &lt;/encoder&gt;\r\n&lt;/appender&gt;\r\n```\r\n\r\nThis is the default Spring console log pattern, except `%clr([%mdc]){yellow}` is added.\r\n\r\nEnd result:\r\n```bash\r\n2023-05-16 01:23:14.346 DEBUG [,06bfe7e72b5007e0,06bfe7e72b5007e0] 77570 --- [nio-8080-exec-7] [user=bf11c59b-eaca-47cd-a9d4-77cd62181e55] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query\r\n```","title":"How to add current user details in log (spring boot)","body":"<p>This is how I implemented this using Spring Boot v2.7.</p>\n<p>First define a custom filter that will add the user data to MDC:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.slf4j.MDC\nimport org.springframework.security.core.AuthenticatedPrincipal\nimport org.springframework.security.core.context.SecurityContextHolder\nimport org.springframework.stereotype.Component\nimport org.springframework.web.filter.OncePerRequestFilter\nimport javax.servlet.FilterChain\nimport javax.servlet.http.HttpServletRequest\nimport javax.servlet.http.HttpServletResponse\n\n@Component\nclass UserMdcFilter : OncePerRequestFilter() {\n\n    companion object {\n        private const val USER_MDC_KEY = &quot;user&quot;\n    }\n\n    override fun doFilterInternal(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        filterChain: FilterChain\n    ) {\n        val principal = SecurityContextHolder.getContext().authentication?.principal as? AuthenticatedPrincipal\n        if (principal != null) {\n            val user = principal.name\n            MDC.put(USER_MDC_KEY, user)\n        }\n\n        try {\n            filterChain.doFilter(request, response)\n        } finally {\n            MDC.remove(USER_MDC_KEY)\n        }\n    }\n}\n</code></pre>\n<p>Then, add the filter in your Spring Security configuration.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// I do it after FilterSecurityInterceptor, otherwise authenticated context is not set\nhttp.addFilterAfter(userMdcFilter, FilterSecurityInterceptor::class.java)\n</code></pre>\n<p>You can view the data by modifying your log pattern to include MDC:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;Pattern&gt;\n            %clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr([%mdc]){yellow} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\n        &lt;/Pattern&gt;\n        &lt;charset&gt;utf8&lt;/charset&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>This is the default Spring console log pattern, except <code>%clr([%mdc]){yellow}</code> is added.</p>\n<p>End result:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-05-16 01:23:14.346 DEBUG [,06bfe7e72b5007e0,06bfe7e72b5007e0] 77570 --- [nio-8080-exec-7] [user=bf11c59b-eaca-47cd-a9d4-77cd62181e55] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query\n</code></pre>\n"},{"tags":[],"owner":{"account_id":258240,"reputation":6015,"user_id":540286,"display_name":"Ortwin Angermeier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697724642,"creation_date":1697724642,"answer_id":77324529,"question_id":74054123,"body_markdown":"Setting the [MDC][1] and then using that value in the [log pattern][2] is the way to go.\r\n\r\nFor a spring boot web app just add a filter after the [SecurityContextHolderFilter][3] with the security filter chain API.\r\n\r\nA simple example for a filter configuration:\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http.addFilterAfter((servletRequest, servletResponse, filterChain) -&gt; {\r\n                    try {\r\n                        // get the username from current user&#39;s authentication\r\n                        Optional.ofNullable(SecurityContextHolder.getContext())\r\n                                .map(SecurityContext::getAuthentication)\r\n                                .ifPresent(authentication -&gt; MDC.put(&quot;user-name&quot;, authentication.getName()));\r\n                        filterChain.doFilter(servletRequest, servletResponse);\r\n                    } finally {\r\n                        MDC.remove(&quot;user-name&quot;);\r\n                    }\r\n                }, SecurityContextHolderFilter.class)\r\n                .authorizeHttpRequests(auth -&gt; ....)\r\n                .build();\r\n    }\r\n        \r\nConfigure the slf4j(logback) pattern to use the mdc value in your `application.yaml`.\r\n\r\nIn the following pattern `%mdc{user-name:-NO_USER}` will use the user&#39;s user name set in the filter or `NO_USER` if the user-name variable is not set.\r\n\r\n    logging.pattern.console: &quot;[%d{yyyy-MM-dd HH:mm:ss.SSS}] %-5level [%mdc{user-name:-NO_USER}] [%t{15}] [%logger{36}-:%line]: %m%n&quot;\r\n\r\n  [1]: https://logback.qos.ch/manual/mdc.html\r\n  [2]: https://logback.qos.ch/manual/layouts.html#mdc\r\n  [3]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/context/SecurityContextHolderFilter.html","title":"How to add current user details in log (spring boot)","body":"<p>Setting the <a href=\"https://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">MDC</a> and then using that value in the <a href=\"https://logback.qos.ch/manual/layouts.html#mdc\" rel=\"nofollow noreferrer\">log pattern</a> is the way to go.</p>\n<p>For a spring boot web app just add a filter after the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/context/SecurityContextHolderFilter.html\" rel=\"nofollow noreferrer\">SecurityContextHolderFilter</a> with the security filter chain API.</p>\n<p>A simple example for a filter configuration:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    return http.addFilterAfter((servletRequest, servletResponse, filterChain) -&gt; {\n                try {\n                    // get the username from current user's authentication\n                    Optional.ofNullable(SecurityContextHolder.getContext())\n                            .map(SecurityContext::getAuthentication)\n                            .ifPresent(authentication -&gt; MDC.put(&quot;user-name&quot;, authentication.getName()));\n                    filterChain.doFilter(servletRequest, servletResponse);\n                } finally {\n                    MDC.remove(&quot;user-name&quot;);\n                }\n            }, SecurityContextHolderFilter.class)\n            .authorizeHttpRequests(auth -&gt; ....)\n            .build();\n}\n    \n</code></pre>\n<p>Configure the slf4j(logback) pattern to use the mdc value in your <code>application.yaml</code>.</p>\n<p>In the following pattern <code>%mdc{user-name:-NO_USER}</code> will use the user's user name set in the filter or <code>NO_USER</code> if the user-name variable is not set.</p>\n<pre><code>logging.pattern.console: &quot;[%d{yyyy-MM-dd HH:mm:ss.SSS}] %-5level [%mdc{user-name:-NO_USER}] [%t{15}] [%logger{36}-:%line]: %m%n&quot;\n</code></pre>\n"}],"owner":{"account_id":13760437,"reputation":69,"user_id":9930320,"display_name":"raminqdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697724642,"creation_date":1665656398,"question_id":74054123,"body_markdown":"How can I add current user&#39;s details(user email ,...) in every logger.info() method?\r\n\r\nit seems \r\n```\r\nprivate final Logger logger = LoggerFactory.getLogger(sth.class)\r\n``` \r\ninstantiates\r\n``` ch.qos.logback.classic.Logger ```type by default.\r\n\r\nas far as ```ch.qos.logback.classic.Logger``` is a final class so I can&#39;t extend to add my functionality.\r\n\r\nwhat is the solution?\r\n\r\n\r\n","title":"How to add current user details in log (spring boot)","body":"<p>How can I add current user's details(user email ,...) in every logger.info() method?</p>\n<p>it seems</p>\n<pre><code>private final Logger logger = LoggerFactory.getLogger(sth.class)\n</code></pre>\n<p>instantiates\n<code>ch.qos.logback.classic.Logger</code>type by default.</p>\n<p>as far as <code>ch.qos.logback.classic.Logger</code> is a final class so I can't extend to add my functionality.</p>\n<p>what is the solution?</p>\n"},{"tags":["java","junit","java-8"],"comments":[{"owner":{"account_id":15026487,"reputation":522,"user_id":10846152,"display_name":"Andrei Nepsha"},"score":2,"creation_date":1553234366,"post_id":55289157,"comment_id":97315970,"body_markdown":"You can try to use PowerMockito and mockStatic for Instant.now()","body":"You can try to use PowerMockito and mockStatic for Instant.now()"},{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":0,"creation_date":1553236255,"post_id":55289157,"comment_id":97316576,"body_markdown":"Best way would be refactoring your method to extract this line into a new method. Then you can easily mock/spy that method.","body":"Best way would be refactoring your method to extract this line into a new method. Then you can easily mock/spy that method."},{"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"score":1,"creation_date":1553240521,"post_id":55289157,"comment_id":97318152,"body_markdown":"The best way to go is to change the constructor and update the `application-context.xml` accordingly.","body":"The best way to go is to change the constructor and update the <code>application-context.xml</code> accordingly."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1553241370,"post_id":55289157,"comment_id":97318503,"body_markdown":"it&#39;s funny that your title mentions `mock`, but no mocking frameworks have been mentioned in your question","body":"it&#39;s funny that your title mentions <code>mock</code>, but no mocking frameworks have been mentioned in your question"}],"answers":[{"tags":[],"owner":{"account_id":15452950,"reputation":4661,"user_id":11147851,"display_name":"Pavel Smirnov"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1553238536,"creation_date":1553238536,"answer_id":55294530,"question_id":55289157,"body_markdown":"You can declare a function that returns `ZoneDateTime`:\r\n\r\n    public ZoneDateTime getCurrentTime () {\r\n        return Instant.now().atZone(ZoneId.of(AMERICA_NEW_YORK));\r\n    }\r\n\r\nand assign the result of that funciton to the `current` field:\r\n\r\n    ZonedDateTime current = getCurrentTime();\r\n\r\nNow you can simply replace it with desired value using [Mockito framework][1]:\r\n\r\n    doReturn(yourValue).when(yourObject).getCurrentTime();\r\n\r\n\r\n  [1]: https://site.mockito.org/","title":"Mock Instant.now() without using Clock into Constructor or without Clock Object","body":"<p>You can declare a function that returns <code>ZoneDateTime</code>:</p>\n\n<pre><code>public ZoneDateTime getCurrentTime () {\n    return Instant.now().atZone(ZoneId.of(AMERICA_NEW_YORK));\n}\n</code></pre>\n\n<p>and assign the result of that funciton to the <code>current</code> field:</p>\n\n<pre><code>ZonedDateTime current = getCurrentTime();\n</code></pre>\n\n<p>Now you can simply replace it with desired value using <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito framework</a>:</p>\n\n<pre><code>doReturn(yourValue).when(yourObject).getCurrentTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11908554,"reputation":329,"user_id":8714450,"display_name":"Thomas M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622717541,"creation_date":1619457168,"answer_id":67270972,"question_id":55289157,"body_markdown":"When using Mockito you can easily mock like so:\r\n\r\n        ZoneId zoneId = ZoneId.of(&quot;America/New_York&quot;);\r\n        ZonedDateTime current = ZonedDateTime.now(zoneId);\r\n        Timestamp timestamp = Timestamp.from(Instant.now());\r\n       \r\n        when(timestamp.toInstant()).thenReturn(Instant.from(current));\r\n\r\nAdding Test for timeout example:\r\n\r\n    @Test\r\n    public void testForTimeout() throws InterruptedException {\r\n\r\n        ZoneId zoneId = ZoneId.of(&quot;America/New_York&quot;);\r\n        ZonedDateTime current = ZonedDateTime.now(zoneId);\r\n        Timestamp timestampBeforeCall = Timestamp.from(Instant.now());\r\n\r\n        // Call Class.method() or here instead we just introduce an artificial wait time :\r\n        Thread.sleep(3000);\r\n\r\n        Timestamp timestampAfterCall = Timestamp.from(Instant.now());\r\n        long timeoutInMilliseconds = 2000;\r\n        long diff = timestampAfterCall.getTime() - timestampBeforeCall.getTime();\r\n        log.info(String.valueOf(diff));\r\n        if(diff &gt; timeoutInMilliseconds) {\r\n            log.error(&quot;Call Timed Out!&quot;);\r\n        }\r\n    }\r\n","title":"Mock Instant.now() without using Clock into Constructor or without Clock Object","body":"<p>When using Mockito you can easily mock like so:</p>\n<pre><code>    ZoneId zoneId = ZoneId.of(&quot;America/New_York&quot;);\n    ZonedDateTime current = ZonedDateTime.now(zoneId);\n    Timestamp timestamp = Timestamp.from(Instant.now());\n   \n    when(timestamp.toInstant()).thenReturn(Instant.from(current));\n</code></pre>\n<p>Adding Test for timeout example:</p>\n<pre><code>@Test\npublic void testForTimeout() throws InterruptedException {\n\n    ZoneId zoneId = ZoneId.of(&quot;America/New_York&quot;);\n    ZonedDateTime current = ZonedDateTime.now(zoneId);\n    Timestamp timestampBeforeCall = Timestamp.from(Instant.now());\n\n    // Call Class.method() or here instead we just introduce an artificial wait time :\n    Thread.sleep(3000);\n\n    Timestamp timestampAfterCall = Timestamp.from(Instant.now());\n    long timeoutInMilliseconds = 2000;\n    long diff = timestampAfterCall.getTime() - timestampBeforeCall.getTime();\n    log.info(String.valueOf(diff));\n    if(diff &gt; timeoutInMilliseconds) {\n        log.error(&quot;Call Timed Out!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1646742705,"creation_date":1638371873,"answer_id":70186748,"question_id":55289157,"body_markdown":"Mockito based solution where code uses plain `Instant.now()`\r\n\r\n```java\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedStatic;\r\n\r\nimport java.time.Clock;\r\nimport java.time.Instant;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.mockito.Mockito.mockStatic;\r\nimport static org.mockito.Mockito.spy;\r\nimport static org.mockito.Mockito.when;\r\n\r\npublic class MockInstantTest {\r\n\r\n  private MockedStatic&lt;Clock&gt; clockMock;\r\n\r\n  @BeforeEach\r\n  public void setup() {\r\n    mockInstant(1640000000); // set desired return value 2021-12-20T11:33:20Z\r\n  }\r\n\r\n  @AfterEach\r\n  public void destroy() {\r\n    clockMock.close();\r\n  }\r\n\r\n  private void mockInstant(long expected) {\r\n    Clock spyClock = spy(Clock.class);\r\n    clockMock = mockStatic(Clock.class);\r\n    clockMock.when(Clock::systemUTC).thenReturn(spyClock);\r\n    when(spyClock.instant()).thenReturn(Instant.ofEpochSecond(expected));\r\n  }\r\n\r\n  @Test\r\n  void testWithMockedIstant() {\r\n    // invoking Instant.now() will always return the same value\r\n    assertThat(Instant.now().toString()).isEqualTo(&quot;2021-12-20T11:33:20Z&quot;);\r\n  }\r\n}\r\n```\r\n\r\n&lt;b&gt;Solution Explained&lt;/b&gt;\r\n\r\nSolution relays on the fact that `Instant.now()` invokes `Clock.systemUTC().instant()`\r\n\r\n - `Clock` is abstract so we spy for non static methods\r\n - `clock.instant()` is mocked to return the desired value\r\n - `Clock.systemUTC()` is static so we need mockStatic\r\n - using `@Before`/`@After` is required to close MockedStatic (alternatively you can use `try(MockedStatic&lt;Clock&gt; clockMock = mockStatic(Clock.class)) {...}`) \r\n","title":"Mock Instant.now() without using Clock into Constructor or without Clock Object","body":"<p>Mockito based solution where code uses plain <code>Instant.now()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedStatic;\n\nimport java.time.Clock;\nimport java.time.Instant;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.Mockito.mockStatic;\nimport static org.mockito.Mockito.spy;\nimport static org.mockito.Mockito.when;\n\npublic class MockInstantTest {\n\n  private MockedStatic&lt;Clock&gt; clockMock;\n\n  @BeforeEach\n  public void setup() {\n    mockInstant(1640000000); // set desired return value 2021-12-20T11:33:20Z\n  }\n\n  @AfterEach\n  public void destroy() {\n    clockMock.close();\n  }\n\n  private void mockInstant(long expected) {\n    Clock spyClock = spy(Clock.class);\n    clockMock = mockStatic(Clock.class);\n    clockMock.when(Clock::systemUTC).thenReturn(spyClock);\n    when(spyClock.instant()).thenReturn(Instant.ofEpochSecond(expected));\n  }\n\n  @Test\n  void testWithMockedIstant() {\n    // invoking Instant.now() will always return the same value\n    assertThat(Instant.now().toString()).isEqualTo(&quot;2021-12-20T11:33:20Z&quot;);\n  }\n}\n</code></pre>\n<p><b>Solution Explained</b></p>\n<p>Solution relays on the fact that <code>Instant.now()</code> invokes <code>Clock.systemUTC().instant()</code></p>\n<ul>\n<li><code>Clock</code> is abstract so we spy for non static methods</li>\n<li><code>clock.instant()</code> is mocked to return the desired value</li>\n<li><code>Clock.systemUTC()</code> is static so we need mockStatic</li>\n<li>using <code>@Before</code>/<code>@After</code> is required to close MockedStatic (alternatively you can use <code>try(MockedStatic&lt;Clock&gt; clockMock = mockStatic(Clock.class)) {...}</code>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5742141,"reputation":1,"user_id":8065077,"display_name":"anaslim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697724433,"creation_date":1697724327,"answer_id":77324498,"question_id":55289157,"body_markdown":"Here&#39;s a solution that works with Java 17, leveraging Mockito&#39;s static mocking and its `CALLS_REAL_METHODS` option to avoid mocking all of `Instant`&#39;s static methods.\r\n\r\n```java\r\nvar clock = Clock.fixed(Instant.now().minus(10, ChronoUnit.MINUTES), ZoneOffset.UTC);\r\nClockUtil.setClock(clock);\r\nvar mockedInstant = Instant.now(clock);\r\nMockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class, Mockito.CALLS_REAL_METHODS);\r\nmockedStatic.when(Instant::now).thenReturn(mockedInstant);\r\n```","title":"Mock Instant.now() without using Clock into Constructor or without Clock Object","body":"<p>Here's a solution that works with Java 17, leveraging Mockito's static mocking and its <code>CALLS_REAL_METHODS</code> option to avoid mocking all of <code>Instant</code>'s static methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var clock = Clock.fixed(Instant.now().minus(10, ChronoUnit.MINUTES), ZoneOffset.UTC);\nClockUtil.setClock(clock);\nvar mockedInstant = Instant.now(clock);\nMockedStatic&lt;Instant&gt; mockedStatic = mockStatic(Instant.class, Mockito.CALLS_REAL_METHODS);\nmockedStatic.when(Instant::now).thenReturn(mockedInstant);\n</code></pre>\n"}],"owner":{"account_id":556011,"reputation":2421,"user_id":884444,"accept_rate":51,"display_name":"ppb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35031,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1697724433,"creation_date":1553201930,"question_id":55289157,"body_markdown":"I have below code in one of my methods\r\n\r\n    ZonedDateTime current = Instant.now().atZone(ZoneId.of(AMERICA_NEW_YORK));\r\n\r\nI want to mock `current` in the JUnit test. \r\n\r\nI tried with `java.time.Clock` but for this, I need to add it into the class constructor as my code is written into old versions of Spring and using XML based configuration this class cause issue because it requires constructor argument in the application-context.xml file if I use a constructor with `Clock`. \r\n\r\nIs there any way to avoid constructor configuration and mock `current` in the above code.\r\n\r\n**Update**\r\n\r\nAs per Pavel Smirnov&#39;s comments, I tried below but `current` still returning today&#39;s date but not the one which I am mocking.\r\n\r\n    ZonedDateTime exactOneDay = ZonedDateTime.parse(&quot;Sun Oct 21 12:30:00 EDT  2018&quot;, Parser); \r\n    doReturn(exactOneDay).when(spyEmployeeHelper).getCurrentTime();\r\n    employee = getEmployees().get(0);\r\n    assertEquals(Integer.valueOf(1), employee.getNoticePeriod());","title":"Mock Instant.now() without using Clock into Constructor or without Clock Object","body":"<p>I have below code in one of my methods</p>\n\n<pre><code>ZonedDateTime current = Instant.now().atZone(ZoneId.of(AMERICA_NEW_YORK));\n</code></pre>\n\n<p>I want to mock <code>current</code> in the JUnit test. </p>\n\n<p>I tried with <code>java.time.Clock</code> but for this, I need to add it into the class constructor as my code is written into old versions of Spring and using XML based configuration this class cause issue because it requires constructor argument in the application-context.xml file if I use a constructor with <code>Clock</code>. </p>\n\n<p>Is there any way to avoid constructor configuration and mock <code>current</code> in the above code.</p>\n\n<p><strong>Update</strong></p>\n\n<p>As per Pavel Smirnov's comments, I tried below but <code>current</code> still returning today's date but not the one which I am mocking.</p>\n\n<pre><code>ZonedDateTime exactOneDay = ZonedDateTime.parse(\"Sun Oct 21 12:30:00 EDT  2018\", Parser); \ndoReturn(exactOneDay).when(spyEmployeeHelper).getCurrentTime();\nemployee = getEmployees().get(0);\nassertEquals(Integer.valueOf(1), employee.getNoticePeriod());\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1621010445,"creation_date":1621009330,"answer_id":67537644,"question_id":67527711,"body_markdown":"It is not a very good idea to remove a song using all the songs list in the `PlayList`.\r\nThere is not a join table for `@OneToMany` association. So we can delete a song much simpler, using `SONG` table (this is the main reason why a join table for `@OneToMany` is not convienent).\r\n\r\nYou need a song id for that and you need to use `CrudRepository.deleteById()` method.\r\nYou can use the full combination (title, artist, album, year) for that, but much simpler to add a song id to JSON.\r\n\r\nBetter to use this endpoint URL to delete a song\r\n\r\n`/{playListId}/songs/{songId}`\r\n\r\nYou don&#39;t need `delete` part in the URL, you already use DELETE HTTP method.\r\n\r\n**Why your code doesn&#39;t work**\r\n\r\n1. Incorrect using delete method from the list\r\n\r\n```\r\n@Transient\r\npublic void removeSong(Song song) {\r\n    songs.remove(song);\r\n}\r\n```\r\n\r\n`songs.remove()` can&#39;t find `song` in the list, `List.remove()` finds a song by a reference. It needs to have an open persistent context and get a song from it to have an ability to find it in the list.\r\n\r\n2. Not using a transaction (opened persistent context) to let Hibernate know that a song was deleted and Hibernate has to update the database.\r\n\r\nSo a valid scenario \r\n```\r\nstart @Transactional\r\n  Spring starts a database transaction\r\n  Spring opens a persistent context\r\n  load PlayList\r\n  load a song from the database (using id or other song attributes)\r\n  delete a song from PlayList songs (or delete a song from PlayList songs using id)\r\nend @Transactional\r\n    \r\nHibernate flushes changes and delete a song in the database\r\npersistent context is closed\r\ndatabase transaction is committed\r\n```\r\n\r\n\r\n\r\n","title":"Delete object from an entity with a OneToMany relationship between both using JPA in Spring Boot","body":"<p>It is not a very good idea to remove a song using all the songs list in the <code>PlayList</code>.\nThere is not a join table for <code>@OneToMany</code> association. So we can delete a song much simpler, using <code>SONG</code> table (this is the main reason why a join table for <code>@OneToMany</code> is not convienent).</p>\n<p>You need a song id for that and you need to use <code>CrudRepository.deleteById()</code> method.\nYou can use the full combination (title, artist, album, year) for that, but much simpler to add a song id to JSON.</p>\n<p>Better to use this endpoint URL to delete a song</p>\n<p><code>/{playListId}/songs/{songId}</code></p>\n<p>You don't need <code>delete</code> part in the URL, you already use DELETE HTTP method.</p>\n<p><strong>Why your code doesn't work</strong></p>\n<ol>\n<li>Incorrect using delete method from the list</li>\n</ol>\n<pre><code>@Transient\npublic void removeSong(Song song) {\n    songs.remove(song);\n}\n</code></pre>\n<p><code>songs.remove()</code> can't find <code>song</code> in the list, <code>List.remove()</code> finds a song by a reference. It needs to have an open persistent context and get a song from it to have an ability to find it in the list.</p>\n<ol start=\"2\">\n<li>Not using a transaction (opened persistent context) to let Hibernate know that a song was deleted and Hibernate has to update the database.</li>\n</ol>\n<p>So a valid scenario</p>\n<pre><code>start @Transactional\n  Spring starts a database transaction\n  Spring opens a persistent context\n  load PlayList\n  load a song from the database (using id or other song attributes)\n  delete a song from PlayList songs (or delete a song from PlayList songs using id)\nend @Transactional\n    \nHibernate flushes changes and delete a song in the database\npersistent context is closed\ndatabase transaction is committed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29653868,"reputation":1,"user_id":22727044,"display_name":"NAT SANJAIKUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697724380,"creation_date":1697716631,"answer_id":77323551,"question_id":67527711,"body_markdown":"```json\r\n{\r\n    &quot;name&quot;: &quot;Lista 1&quot;,\r\n    &quot;description&quot;: &quot;Lista de reproduccion 2020 spotify&quot;,\r\n    &quot;songs&quot;: [\r\n        {\r\n            &quot;title&quot;: &quot;Tan Enamorados&quot;,\r\n            &quot;artist&quot;: &quot;CNCO&quot;,\r\n            &quot;album&quot;: &quot;Tan Enamorados&quot;,\r\n            &quot;year&quot;: 2020\r\n        },\r\n        {\r\n            &quot;title&quot;: &quot;Hawai&quot;,\r\n            &quot;artist&quot;: &quot;Maluma&quot;,\r\n            &quot;album&quot;: &quot;PAPI JUANCHO&quot;,\r\n            &quot;year&quot;: 2020\r\n        }\r\n    ]\r\n}\r\n```","title":"Delete object from an entity with a OneToMany relationship between both using JPA in Spring Boot","body":"<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;Lista 1&quot;,\n    &quot;description&quot;: &quot;Lista de reproduccion 2020 spotify&quot;,\n    &quot;songs&quot;: [\n        {\n            &quot;title&quot;: &quot;Tan Enamorados&quot;,\n            &quot;artist&quot;: &quot;CNCO&quot;,\n            &quot;album&quot;: &quot;Tan Enamorados&quot;,\n            &quot;year&quot;: 2020\n        },\n        {\n            &quot;title&quot;: &quot;Hawai&quot;,\n            &quot;artist&quot;: &quot;Maluma&quot;,\n            &quot;album&quot;: &quot;PAPI JUANCHO&quot;,\n            &quot;year&quot;: 2020\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67537644,"answer_count":2,"score":1,"last_activity_date":1697724380,"creation_date":1620952330,"question_id":67527711,"body_markdown":"\r\nGood afternoon, I am working with a REST API in which I have a playlist that has many songs, for which I am using JPA and the benefits that allow me to make the relationships between the two. Now, if I want to delete a song already added to the PlayList, I can&#39;t do it, I show you my classes below\r\n\r\nClass PlayList\r\n\r\n    @Entity\r\n    @Table(name = &quot;PLAY_LIST&quot;)\r\n    public class PlayList {\r\n    \r\n        @JsonIgnore\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        //@JsonView(View.Get.class)\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    \r\n        //@JsonView(View.Get.class)\r\n        @Column(name=&quot;description&quot;)\r\n        private String description;\r\n    \r\n        //@JsonView(View.Get.class)\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;playList&quot;)\r\n        private List&lt;Song&gt; songs = new ArrayList&lt;&gt;();\r\n    \r\n        @Transient\r\n        public void addSong(Song song) {\r\n            song.setPlayList(this);\r\n            songs.add(song);\r\n        }\r\n    \r\n        @Transient\r\n        public void removeSong(Song song) {\r\n            songs.remove(song);\r\n        }\r\n    \r\n        public Long getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return this.description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n    \r\n        public List&lt;Song&gt; getSongs() {\r\n            return this.songs;\r\n        }\r\n    \r\n        public void setSongs(List&lt;Song&gt; songs) {\r\n            this.songs = songs;\r\n        }\r\n        \r\n    }\r\n\r\nHere I have the methods of adding songs and removing, however, removing is not working for me.\r\n\r\nClass Song\r\n\r\n    Entity\r\n    @Table(name = &quot;SONG&quot;)\r\n    public class Song{\r\n    \r\n        @JsonIgnore\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        //@JsonView(View.Create.class)\r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n    \r\n        //@JsonView(View.Create.class)\r\n        @Column(name = &quot;artist&quot;)\r\n        private String artist;\r\n    \r\n        //@JsonView(View.Create.class)\r\n        @Column(name = &quot;album&quot;)\r\n        private String album;\r\n    \r\n        //@JsonView(View.Create.class)\r\n        @Column(name = &quot;year&quot;)\r\n        private int year;\r\n    \r\n        /* \r\n    \r\n        Fetch: Esta propiedad se utiliza para determinar c&#243;mo debe ser cargada la entidad.\r\n        LAZY (perezoso): Indica que la relaci&#243;n solo se cargar&#225; cuando la propiedad sea le&#237;da por primera vez */\r\n        //@JsonView(View.Get.class)\r\n        @JsonIgnore\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;PLAY_LIST_ID&quot;)\r\n        private PlayList playList;\r\n    \r\n    \r\n        public Long getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return this.title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getArtist() {\r\n            return this.artist;\r\n        }\r\n    \r\n        public void setArtist(String artist) {\r\n            this.artist = artist;\r\n        }\r\n    \r\n        public String getAlbum() {\r\n            return this.album;\r\n        }\r\n    \r\n        public void setAlbum(String album) {\r\n            this.album = album;\r\n        }\r\n    \r\n        public int getYear() {\r\n            return this.year;\r\n        }\r\n    \r\n        public void setYear(int year) {\r\n            this.year = year;\r\n        }\r\n    \r\n        public PlayList getPlayList() {\r\n            return this.playList;\r\n        }\r\n    \r\n        public void setPlayList(PlayList playList) {\r\n            this.playList = playList;\r\n        }\r\n        \r\n    }\r\n\r\nMy class Controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;playlist&quot;)\r\n    public class PlayListController {\r\n    \r\n       @Autowired\r\n       private PlayListService playListService;\r\n    \r\n       @Autowired\r\n       private SongRepository songRepository;\r\n    \r\n    \r\n       // Get playlist by id with songs belongs that playlist\r\n    \r\n       @GetMapping(&quot;/get/{id}&quot;)\r\n       public Optional&lt;PlayList&gt; getPlayListByID(@PathVariable(value = &quot;id&quot;) Long id) {\r\n    \r\n          Optional&lt;PlayList&gt; playList = playListService.getById(id);\r\n          return playList;\r\n       }\r\n    \r\n       @PostMapping(&quot;/create&quot;)\r\n       public PlayList createPlayList(@RequestBody PlayListDTO playListDTO) {\r\n    \r\n          PlayList playList = new PlayList();\r\n    \r\n          playList.setName(playListDTO.getName());\r\n          playList.setDescription(playListDTO.getDescription());\r\n          playList.setSongs(new ArrayList&lt;&gt;());\r\n    \r\n          for (int x=0; x&lt;playListDTO.getSongs().size(); x++) {\r\n    \r\n             Song songs=new Song();\r\n             songs.setTitle(playListDTO.getSongs().get(x).getTitle());\r\n             songs.setArtist(playListDTO.getSongs().get(x).getArtist());\r\n             songs.setAlbum(playListDTO.getSongs().get(x).getAlbum());\r\n             songs.setYear(playListDTO.getSongs().get(x).getYear());\r\n             playList.addSong(songs);\r\n    \r\n          }\r\n            return playListService.savePlayList(playList);\r\n         }\r\n       @PutMapping(&quot;/update/{id}&quot;)\r\n       public PlayList updatePlayList(@PathVariable(value = &quot;id&quot;) Long id,@RequestBody Song song){\r\n    \r\n          PlayList playList = playListService.getById(id).get();\r\n          song.setPlayList(playList);\r\n          playList.getSongs().add(song);\r\n          playListService.savePlayList(playList);\r\n          return playList;\r\n       }\r\n       \r\n       @DeleteMapping(&quot;/delete/{id}&quot;)\r\n       public PlayList deletePlayList(@PathVariable(value = &quot;id&quot;) Long id,@RequestBody Song song){\r\n          PlayList playList =playListService.getById(id).get();\r\n          System.out.println(playList.getSongs());\r\n          playList.removeSong(song);\r\n          System.out.println(playList.getSongs());\r\n          return playList;\r\n       }\r\n    \r\n    }\r\nSo I am storing the Playlist with its songs, method POST\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Lista 1&quot;,\r\n        &quot;description&quot;: &quot;Lista de reproduccion 2020 spotify&quot;,\r\n        &quot;songs&quot;: [\r\n            {\r\n                &quot;title&quot;: &quot;Tan Enamorados&quot;,\r\n                &quot;artist&quot;: &quot;CNCO&quot;,\r\n                &quot;album&quot;: &quot;Tan Enamorados&quot;,\r\n                &quot;year&quot;: 2020\r\n            },\r\n            {\r\n                &quot;title&quot;: &quot;Hawai&quot;,\r\n                &quot;artist&quot;: &quot;Maluma&quot;,\r\n                &quot;album&quot;: &quot;PAPI JUANCHO&quot;,\r\n                &quot;year&quot;: 2020\r\n            }\r\n        ]\r\n    }\r\n\r\nNow, to eliminate I am passing the id of the PlayList and the Request of the song (object without the id of the song that is automatically created in BD), however, I cannot eliminate the song from the PlayList, and at the logs level it returns this doing a print in console\r\n\r\nExample, I want to delete the following song:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhowever it is not removed and it returns the same list to me\r\n\r\nAm I missing something to be able to delete a song without having to delete the playlist?\r\n\r\n  [1]: https://i.stack.imgur.com/RAivx.png","title":"Delete object from an entity with a OneToMany relationship between both using JPA in Spring Boot","body":"<p>Good afternoon, I am working with a REST API in which I have a playlist that has many songs, for which I am using JPA and the benefits that allow me to make the relationships between the two. Now, if I want to delete a song already added to the PlayList, I can't do it, I show you my classes below</p>\n<p>Class PlayList</p>\n<pre><code>@Entity\n@Table(name = &quot;PLAY_LIST&quot;)\npublic class PlayList {\n\n    @JsonIgnore\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    //@JsonView(View.Get.class)\n    @Column(name=&quot;name&quot;)\n    private String name;\n\n    //@JsonView(View.Get.class)\n    @Column(name=&quot;description&quot;)\n    private String description;\n\n    //@JsonView(View.Get.class)\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;playList&quot;)\n    private List&lt;Song&gt; songs = new ArrayList&lt;&gt;();\n\n    @Transient\n    public void addSong(Song song) {\n        song.setPlayList(this);\n        songs.add(song);\n    }\n\n    @Transient\n    public void removeSong(Song song) {\n        songs.remove(song);\n    }\n\n    public Long getId() {\n        return this.id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return this.description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n\n    public List&lt;Song&gt; getSongs() {\n        return this.songs;\n    }\n\n    public void setSongs(List&lt;Song&gt; songs) {\n        this.songs = songs;\n    }\n    \n}\n</code></pre>\n<p>Here I have the methods of adding songs and removing, however, removing is not working for me.</p>\n<p>Class Song</p>\n<pre><code>Entity\n@Table(name = &quot;SONG&quot;)\npublic class Song{\n\n    @JsonIgnore\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    //@JsonView(View.Create.class)\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    //@JsonView(View.Create.class)\n    @Column(name = &quot;artist&quot;)\n    private String artist;\n\n    //@JsonView(View.Create.class)\n    @Column(name = &quot;album&quot;)\n    private String album;\n\n    //@JsonView(View.Create.class)\n    @Column(name = &quot;year&quot;)\n    private int year;\n\n    /* \n\n    Fetch: Esta propiedad se utiliza para determinar cómo debe ser cargada la entidad.\n    LAZY (perezoso): Indica que la relación solo se cargará cuando la propiedad sea leída por primera vez */\n    //@JsonView(View.Get.class)\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;PLAY_LIST_ID&quot;)\n    private PlayList playList;\n\n\n    public Long getId() {\n        return this.id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return this.title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getArtist() {\n        return this.artist;\n    }\n\n    public void setArtist(String artist) {\n        this.artist = artist;\n    }\n\n    public String getAlbum() {\n        return this.album;\n    }\n\n    public void setAlbum(String album) {\n        this.album = album;\n    }\n\n    public int getYear() {\n        return this.year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public PlayList getPlayList() {\n        return this.playList;\n    }\n\n    public void setPlayList(PlayList playList) {\n        this.playList = playList;\n    }\n    \n}\n</code></pre>\n<p>My class Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;playlist&quot;)\npublic class PlayListController {\n\n   @Autowired\n   private PlayListService playListService;\n\n   @Autowired\n   private SongRepository songRepository;\n\n\n   // Get playlist by id with songs belongs that playlist\n\n   @GetMapping(&quot;/get/{id}&quot;)\n   public Optional&lt;PlayList&gt; getPlayListByID(@PathVariable(value = &quot;id&quot;) Long id) {\n\n      Optional&lt;PlayList&gt; playList = playListService.getById(id);\n      return playList;\n   }\n\n   @PostMapping(&quot;/create&quot;)\n   public PlayList createPlayList(@RequestBody PlayListDTO playListDTO) {\n\n      PlayList playList = new PlayList();\n\n      playList.setName(playListDTO.getName());\n      playList.setDescription(playListDTO.getDescription());\n      playList.setSongs(new ArrayList&lt;&gt;());\n\n      for (int x=0; x&lt;playListDTO.getSongs().size(); x++) {\n\n         Song songs=new Song();\n         songs.setTitle(playListDTO.getSongs().get(x).getTitle());\n         songs.setArtist(playListDTO.getSongs().get(x).getArtist());\n         songs.setAlbum(playListDTO.getSongs().get(x).getAlbum());\n         songs.setYear(playListDTO.getSongs().get(x).getYear());\n         playList.addSong(songs);\n\n      }\n        return playListService.savePlayList(playList);\n     }\n   @PutMapping(&quot;/update/{id}&quot;)\n   public PlayList updatePlayList(@PathVariable(value = &quot;id&quot;) Long id,@RequestBody Song song){\n\n      PlayList playList = playListService.getById(id).get();\n      song.setPlayList(playList);\n      playList.getSongs().add(song);\n      playListService.savePlayList(playList);\n      return playList;\n   }\n   \n   @DeleteMapping(&quot;/delete/{id}&quot;)\n   public PlayList deletePlayList(@PathVariable(value = &quot;id&quot;) Long id,@RequestBody Song song){\n      PlayList playList =playListService.getById(id).get();\n      System.out.println(playList.getSongs());\n      playList.removeSong(song);\n      System.out.println(playList.getSongs());\n      return playList;\n   }\n\n}\n</code></pre>\n<p>So I am storing the Playlist with its songs, method POST</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Lista 1&quot;,\n    &quot;description&quot;: &quot;Lista de reproduccion 2020 spotify&quot;,\n    &quot;songs&quot;: [\n        {\n            &quot;title&quot;: &quot;Tan Enamorados&quot;,\n            &quot;artist&quot;: &quot;CNCO&quot;,\n            &quot;album&quot;: &quot;Tan Enamorados&quot;,\n            &quot;year&quot;: 2020\n        },\n        {\n            &quot;title&quot;: &quot;Hawai&quot;,\n            &quot;artist&quot;: &quot;Maluma&quot;,\n            &quot;album&quot;: &quot;PAPI JUANCHO&quot;,\n            &quot;year&quot;: 2020\n        }\n    ]\n}\n</code></pre>\n<p>Now, to eliminate I am passing the id of the PlayList and the Request of the song (object without the id of the song that is automatically created in BD), however, I cannot eliminate the song from the PlayList, and at the logs level it returns this doing a print in console</p>\n<p>Example, I want to delete the following song:</p>\n<p><a href=\"https://i.stack.imgur.com/RAivx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RAivx.png\" alt=\"enter image description here\" /></a></p>\n<p>however it is not removed and it returns the same list to me</p>\n<p>Am I missing something to be able to delete a song without having to delete the playlist?</p>\n"},{"tags":["java","logging","logback","slf4j","vert.x"],"owner":{"account_id":409296,"reputation":2255,"user_id":800910,"accept_rate":58,"display_name":"Sudhanshu Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697724249,"creation_date":1697724249,"question_id":77324489,"body_markdown":"What is the best way to get a trace and span in OpenTelemetry in a Verticle? The official examples are unfortunately not very helpful. It is shown how to set it up but not how to get a handle of it for manual instrumentation.\r\n\r\n    SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder().build();\r\n      OpenTelemetry openTelemetry = OpenTelemetrySdk.builder()\r\n         .setTracerProvider(sdkTracerProvider)\r\n         .setPropagators(ContextPropagators.create(W3CTraceContextPropagator.getInstance()))\r\n         .buildAndRegisterGlobal();\r\n    \r\n      VertxOptions vertxOptions = new VertxOptions();\r\n      vertxOptions.setTracingOptions(new OpenTelemetryOptions(openTelemetry));\r\n    \r\n      Vertx vertx = Vertx.vertx(vertxOptions);\r\n\r\n\r\n**Here is my logback file** \r\n\r\n    &lt;configuration&gt;\r\n    \r\n      &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;com.company.service.model.CustomLogJsonLayout&quot;&gt;\r\n          &lt;jsonFormatter\r\n            class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n          &lt;/jsonFormatter&gt;\r\n          &lt;timestampFormat&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/timestampFormat&gt;\r\n          &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;logger name=&quot;io.netty&quot; level=&quot;warn&quot;/&gt;\r\n      &lt;logger name=&quot;io.vertx&quot; level=&quot;info&quot;/&gt;\r\n    \r\n      &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\n\r\n**CustomLogJsonLayout**\r\n\r\n    public class CustomLogJsonLayout extends JsonLayout {\r\n    \r\n      public CustomLogJsonLayout() {\r\n        this.setIncludeMDC(false);\r\n      }\r\n    \r\n      @Override\r\n      protected void addCustomDataToJsonMap(Map&lt;String, Object&gt; map, ILoggingEvent iLoggingEvent) {\r\n        map.putAll(iLoggingEvent.getMDCPropertyMap());\r\n        super.addCustomDataToJsonMap(map, iLoggingEvent);\r\n      }\r\n    }\r\n\r\n\r\nI need to get trace and span. but unbale to get the tag that needs in logback xml to get it.","title":"Logback Trace and span via opentelemetry in vertx java","body":"<p>What is the best way to get a trace and span in OpenTelemetry in a Verticle? The official examples are unfortunately not very helpful. It is shown how to set it up but not how to get a handle of it for manual instrumentation.</p>\n<pre><code>SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder().build();\n  OpenTelemetry openTelemetry = OpenTelemetrySdk.builder()\n     .setTracerProvider(sdkTracerProvider)\n     .setPropagators(ContextPropagators.create(W3CTraceContextPropagator.getInstance()))\n     .buildAndRegisterGlobal();\n\n  VertxOptions vertxOptions = new VertxOptions();\n  vertxOptions.setTracingOptions(new OpenTelemetryOptions(openTelemetry));\n\n  Vertx vertx = Vertx.vertx(vertxOptions);\n</code></pre>\n<p><strong>Here is my logback file</strong></p>\n<pre><code>&lt;configuration&gt;\n\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;com.company.service.model.CustomLogJsonLayout&quot;&gt;\n      &lt;jsonFormatter\n        class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n      &lt;/jsonFormatter&gt;\n      &lt;timestampFormat&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/timestampFormat&gt;\n      &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n\n  &lt;logger name=&quot;io.netty&quot; level=&quot;warn&quot;/&gt;\n  &lt;logger name=&quot;io.vertx&quot; level=&quot;info&quot;/&gt;\n\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>CustomLogJsonLayout</strong></p>\n<pre><code>public class CustomLogJsonLayout extends JsonLayout {\n\n  public CustomLogJsonLayout() {\n    this.setIncludeMDC(false);\n  }\n\n  @Override\n  protected void addCustomDataToJsonMap(Map&lt;String, Object&gt; map, ILoggingEvent iLoggingEvent) {\n    map.putAll(iLoggingEvent.getMDCPropertyMap());\n    super.addCustomDataToJsonMap(map, iLoggingEvent);\n  }\n}\n</code></pre>\n<p>I need to get trace and span. but unbale to get the tag that needs in logback xml to get it.</p>\n"},{"tags":["java","import","package"],"comments":[{"owner":{"account_id":3759017,"reputation":1201,"user_id":3124590,"accept_rate":89,"display_name":"Rdesmond"},"score":2,"creation_date":1478286572,"post_id":6375179,"comment_id":68108689,"body_markdown":"Assuming you have compiled the java files into the correct directory (class files are in &quot;/usr/share/stuff/org/name&quot;), you also need to import the actual files or the wildcard into test.java (&#39;import org.name.MyClass&#39; or &#39;import org.name.*&#39;).  If you just do &#39;import org.name&#39; this error happens (ask me how I know lol)","body":"Assuming you have compiled the java files into the correct directory (class files are in &quot;/usr/share/stuff/org/name&quot;), you also need to import the actual files or the wildcard into test.java (&#39;import org.name.MyClass&#39; or &#39;import org.name.*&#39;).  If you just do &#39;import org.name&#39; this error happens (ask me how I know lol)"},{"owner":{"account_id":5340830,"reputation":668,"user_id":4258006,"display_name":"Shiva kumar"},"score":1,"creation_date":1644595380,"post_id":6375179,"comment_id":125655960,"body_markdown":"is this a Runtime exception or Compile time exception?","body":"is this a Runtime exception or Compile time exception?"}],"answers":[{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1631621753,"creation_date":1308241282,"answer_id":6375210,"question_id":6375179,"body_markdown":"Are they in the right subdirectories?\r\n\r\nIf you put `/usr/share/stuff` on the class path, files defined with `package org.name` should be in `/usr/share/stuff/org/name`.\r\n\r\n**EDIT**: If you don&#39;t already know this, you should probably read [this doc about understanding classpath][1].\r\n\r\n**EDIT 2**: Sorry, I hadn&#39;t realised you were talking of Java source files in `/usr/share/stuff`. Not only they need to be in the appropriate sub-directory, but you need to compile them. The `.java` files don&#39;t need to be on the *classpath*, but on the *source path*. (The generated `.class` files need to be on the *classpath*.)\r\n\r\nYou might get away with compiling them if they&#39;re not under the right directory structure, but they should be, or it will generate warnings at least. The generated class files will be in the right subdirectories (wherever you&#39;ve specified `-d` if you have).\r\n\r\nYou should use something like `javac -sourcepath .:/usr/share/stuff test.java`, assuming you&#39;ve put the `.java` files that were under `/usr/share/stuff` under `/usr/share/stuff/org/name` (or whatever is appropriate according to their package names).\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/tooldocs/windows/classpath.html#Understanding","title":"Java Package Does Not Exist Error","body":"<p>Are they in the right subdirectories?</p>\n<p>If you put <code>/usr/share/stuff</code> on the class path, files defined with <code>package org.name</code> should be in <code>/usr/share/stuff/org/name</code>.</p>\n<p><strong>EDIT</strong>: If you don't already know this, you should probably read <a href=\"http://download.oracle.com/javase/1.5.0/docs/tooldocs/windows/classpath.html#Understanding\" rel=\"nofollow noreferrer\">this doc about understanding classpath</a>.</p>\n<p><strong>EDIT 2</strong>: Sorry, I hadn't realised you were talking of Java source files in <code>/usr/share/stuff</code>. Not only they need to be in the appropriate sub-directory, but you need to compile them. The <code>.java</code> files don't need to be on the <em>classpath</em>, but on the <em>source path</em>. (The generated <code>.class</code> files need to be on the <em>classpath</em>.)</p>\n<p>You might get away with compiling them if they're not under the right directory structure, but they should be, or it will generate warnings at least. The generated class files will be in the right subdirectories (wherever you've specified <code>-d</code> if you have).</p>\n<p>You should use something like <code>javac -sourcepath .:/usr/share/stuff test.java</code>, assuming you've put the <code>.java</code> files that were under <code>/usr/share/stuff</code> under <code>/usr/share/stuff/org/name</code> (or whatever is appropriate according to their package names).</p>\n"},{"tags":[],"owner":{"account_id":65732,"reputation":15928,"user_id":193256,"accept_rate":65,"display_name":"pajton"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1308241294,"creation_date":1308241294,"answer_id":6375212,"question_id":6375179,"body_markdown":"You need to have `org/name` dirs at `/usr/share/stuff` and place your `org.name` package sources at this dir.","title":"Java Package Does Not Exist Error","body":"<p>You need to have <code>org/name</code> dirs at <code>/usr/share/stuff</code> and place your <code>org.name</code> package sources at this dir.</p>\n"},{"tags":[],"owner":{"account_id":326411,"reputation":510,"user_id":648169,"accept_rate":55,"display_name":"Xenland"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525755611,"creation_date":1339193710,"answer_id":10956642,"question_id":6375179,"body_markdown":"I had the exact same problem when manually compiling through the command line, my solution was I didn&#39;t include the -sourcepath directory so that way all the subdirectory java files would be compiled too!","title":"Java Package Does Not Exist Error","body":"<p>I had the exact same problem when manually compiling through the command line, my solution was I didn't include the -sourcepath directory so that way all the subdirectory java files would be compiled too!</p>\n"},{"tags":[],"owner":{"account_id":1227129,"reputation":9783,"user_id":1192479,"accept_rate":100,"display_name":"Ant&#243;nio Almeida"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1407173989,"creation_date":1407173989,"answer_id":25124461,"question_id":6375179,"body_markdown":"I was having this problem, while trying to use a theme packaged as `.jar` in my app, it was working while debugging the app, but it didn&#39;t when building/exporting the app.\r\n\r\nI solved it by unzipping the `jar`, and manually add its contents to my build folder, resulting in this:\r\n\r\n\r\n    project/\r\n       │\r\n       ├── build \r\n       │   └── classes\r\n       │       ├── pt\r\n       │       │   └── myAppName ... \r\n       │       └── com\r\n       │           └── themeName ...\r\n       ├── src\r\n       └── lib\r\n\r\nI don&#39;t have the error anymore and my app loads with the intended theme.","title":"Java Package Does Not Exist Error","body":"<p>I was having this problem, while trying to use a theme packaged as <code>.jar</code> in my app, it was working while debugging the app, but it didn't when building/exporting the app.</p>\n\n<p>I solved it by unzipping the <code>jar</code>, and manually add its contents to my build folder, resulting in this:</p>\n\n<pre><code>project/\n   │\n   ├── build \n   │   └── classes\n   │       ├── pt\n   │       │   └── myAppName ... \n   │       └── com\n   │           └── themeName ...\n   ├── src\n   └── lib\n</code></pre>\n\n<p>I don't have the error anymore and my app loads with the intended theme.</p>\n"},{"tags":[],"owner":{"account_id":10705924,"reputation":39,"user_id":7879734,"display_name":"Mewan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1535430026,"creation_date":1535430026,"answer_id":52050033,"question_id":6375179,"body_markdown":"Right click your maven project\r\nin bottom of the drop down list \r\nMaven &gt;&gt; reimport\r\n\r\nit works for me for the missing dependancyies","title":"Java Package Does Not Exist Error","body":"<p>Right click your maven project\nin bottom of the drop down list \nMaven >> reimport</p>\n\n<p>it works for me for the missing dependancyies</p>\n"},{"tags":[],"owner":{"account_id":4900330,"reputation":3997,"user_id":3948854,"display_name":"Rishabh Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574244875,"creation_date":1574244875,"answer_id":58951797,"question_id":6375179,"body_markdown":"If you are facing this issue while using **Kotlin** and have \r\n\r\n    kotlin.incremental=true\r\n    kapt.incremental.apt=true\r\n\r\nin the **gradle.properties**, then you need to remove this temporarily to fix the build. \r\n\r\nAfter the successful build, you can again add these properties to speed up the build time while using Kotlin.\r\n","title":"Java Package Does Not Exist Error","body":"<p>If you are facing this issue while using <strong>Kotlin</strong> and have </p>\n\n<pre><code>kotlin.incremental=true\nkapt.incremental.apt=true\n</code></pre>\n\n<p>in the <strong>gradle.properties</strong>, then you need to remove this temporarily to fix the build. </p>\n\n<p>After the successful build, you can again add these properties to speed up the build time while using Kotlin.</p>\n"},{"tags":[],"owner":{"account_id":11856290,"reputation":1,"user_id":8676204,"display_name":"Khasanboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598615766,"creation_date":1598615766,"answer_id":63633326,"question_id":6375179,"body_markdown":"You should add the following lines in your gradle build file (build.gradle)\r\n\r\n    dependencies { \r\n         compile files(&#39;/usr/share/stuff&#39;)\r\n         ..\r\n    }","title":"Java Package Does Not Exist Error","body":"<p>You should add the following lines in your gradle build file (build.gradle)</p>\n<pre><code>dependencies { \n     compile files('/usr/share/stuff')\n     ..\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19542302,"reputation":445,"user_id":14492099,"display_name":"Dzmitry Darashuk"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1622536073,"creation_date":1622536073,"answer_id":67785322,"question_id":6375179,"body_markdown":"Just reimport didn&#39;t work. Following worked for me.\r\n\r\nFile -&gt; Invalidate Caches /Restart\r\n\r\nThen\r\n\r\nBuild -&gt; Rebuild Project\r\n\r\nThat will reimport maven project.","title":"Java Package Does Not Exist Error","body":"<p>Just reimport didn't work. Following worked for me.</p>\n<p>File -&gt; Invalidate Caches /Restart</p>\n<p>Then</p>\n<p>Build -&gt; Rebuild Project</p>\n<p>That will reimport maven project.</p>\n"},{"tags":[],"owner":{"account_id":17199208,"reputation":124,"user_id":12451309,"display_name":"Rinkashikachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626352082,"creation_date":1626352082,"answer_id":68393839,"question_id":6375179,"body_markdown":"If you have 2020 version, that you&#39;ve most likely got a bug, like the one I got. Tried multiple things, but what helped me is a very simple thing.\r\nSettings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven.\r\nPut a checkmark for Override of Local Repository, but leave the default value. Apply, OK. You can get an error, that&#39;s ok. Just press &quot;Reload all Maven Projects&quot; button (two rounded arrows, looks like regular Refresh button) in Maven tab on the right of the screen. Maybe clean and install. Should work after that.","title":"Java Package Does Not Exist Error","body":"<p>If you have 2020 version, that you've most likely got a bug, like the one I got. Tried multiple things, but what helped me is a very simple thing.\nSettings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven.\nPut a checkmark for Override of Local Repository, but leave the default value. Apply, OK. You can get an error, that's ok. Just press &quot;Reload all Maven Projects&quot; button (two rounded arrows, looks like regular Refresh button) in Maven tab on the right of the screen. Maybe clean and install. Should work after that.</p>\n"},{"tags":[],"owner":{"account_id":7062643,"reputation":631,"user_id":5407229,"display_name":"Joshua Swain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651841336,"creation_date":1651841336,"answer_id":72141725,"question_id":6375179,"body_markdown":"I came to this question because a bringing a file from one folder to another caused this error for me. The command that fixed it is below. I had the same package in multiple directories, and it was only looking at one of the directories. \r\n\r\nSo, if it&#39;s a Maven project, try `mvn clean install --update-snapshots`","title":"Java Package Does Not Exist Error","body":"<p>I came to this question because a bringing a file from one folder to another caused this error for me. The command that fixed it is below. I had the same package in multiple directories, and it was only looking at one of the directories.</p>\n<p>So, if it's a Maven project, try <code>mvn clean install --update-snapshots</code></p>\n"},{"tags":[],"owner":{"account_id":26516418,"reputation":1,"user_id":20150875,"display_name":"Kant Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683632225,"creation_date":1683625386,"answer_id":76207929,"question_id":6375179,"body_markdown":"I fixed it. In intellij idea: \r\n1. Go to project structure\r\n2. Select SDKs and make sure your JDK home path is the real path of your JDK\r\n3. Then use Maven clean install command\r\n\r\nThis solved my problem!\r\n\r\n\r\n","title":"Java Package Does Not Exist Error","body":"<p>I fixed it. In intellij idea:</p>\n<ol>\n<li>Go to project structure</li>\n<li>Select SDKs and make sure your JDK home path is the real path of your JDK</li>\n<li>Then use Maven clean install command</li>\n</ol>\n<p>This solved my problem!</p>\n"},{"tags":[],"owner":{"account_id":11843427,"reputation":51,"user_id":8666620,"display_name":"Marcos Randulfe Garrido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685429574,"creation_date":1685429574,"answer_id":76362247,"question_id":6375179,"body_markdown":"For me on intelliJ the solution was Right Click on project folder &gt; Run Maven &gt; Reimport Project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YYNjn.png","title":"Java Package Does Not Exist Error","body":"<p>For me on intelliJ the solution was Right Click on project folder &gt; Run Maven &gt; Reimport Project</p>\n<p><a href=\"https://i.stack.imgur.com/YYNjn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YYNjn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9053666,"reputation":1082,"user_id":6742754,"display_name":"zeroDivider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697724212,"creation_date":1697724212,"answer_id":77324483,"question_id":6375179,"body_markdown":"I had issue importing _Kotlin_ class in Java class.\r\nSolution was to add `kotlin-android` plugin in module `build.gradle` as: \r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.library&#39;\r\n    id &#39;kotlin-android&#39;         &lt;- this\r\n}\r\n\r\nandroid {\r\n    compileSdk 33\r\n...\r\n```","title":"Java Package Does Not Exist Error","body":"<p>I had issue importing <em>Kotlin</em> class in Java class.\nSolution was to add <code>kotlin-android</code> plugin in module <code>build.gradle</code> as:</p>\n<pre><code>plugins {\n    id 'com.android.library'\n    id 'kotlin-android'         &lt;- this\n}\n\nandroid {\n    compileSdk 33\n...\n</code></pre>\n"}],"owner":{"account_id":326907,"reputation":6605,"user_id":648927,"accept_rate":64,"display_name":"algorithmicCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402633,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":6375210,"answer_count":13,"score":49,"last_activity_date":1697724212,"creation_date":1308241142,"question_id":6375179,"body_markdown":"So there&#39;s a folder `/usr/share/stuff` in the root directory\r\n\r\nin stuff there are a bunch of java files with `package org.name` definitions at the top\r\n\r\nI am running `javac test.java` where `test.java` is in a subdomain\r\n\r\nI added `/usr/share/stuff`  to my class path.\r\n\r\nand at the top of `test.java` I add `import org.name`\r\n\r\nBut I get a `package does not exist` error...why?","title":"Java Package Does Not Exist Error","body":"<p>So there's a folder <code>/usr/share/stuff</code> in the root directory</p>\n\n<p>in stuff there are a bunch of java files with <code>package org.name</code> definitions at the top</p>\n\n<p>I am running <code>javac test.java</code> where <code>test.java</code> is in a subdomain</p>\n\n<p>I added <code>/usr/share/stuff</code>  to my class path.</p>\n\n<p>and at the top of <code>test.java</code> I add <code>import org.name</code></p>\n\n<p>But I get a <code>package does not exist</code> error...why?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","nhibernate-mapping"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697725137,"post_id":77324463,"comment_id":136318181,"body_markdown":"I&#39;m not facing any issue with 6.2.x to save duplicate data. Please drop the table and let the hibernate create and then persist the data. See if that works.","body":"I&#39;m not facing any issue with 6.2.x to save duplicate data. Please drop the table and let the hibernate create and then persist the data. See if that works."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697725188,"post_id":77324463,"comment_id":136318194,"body_markdown":"Can you provide your code base to reproduce the issue?","body":"Can you provide your code base to reproduce the issue?"},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1697725728,"post_id":77324463,"comment_id":136318319,"body_markdown":"I&#39;m dropping whole schema and creating and initialize it from the scratch. Unfortunately can&#39;t, it is too big.","body":"I&#39;m dropping whole schema and creating and initialize it from the scratch. Unfortunately can&#39;t, it is too big."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697725802,"post_id":77324463,"comment_id":136318339,"body_markdown":"ok. Is there any way to reproduce this? I&#39;m unable to reproduce on my local.","body":"ok. Is there any way to reproduce this? I&#39;m unable to reproduce on my local."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697727118,"post_id":77324463,"comment_id":136318612,"body_markdown":"I think there is not a problem at framework version but in usage of it and the real reason can be that you are using `@OneToOne` relation as `@OneToMany`. And also a question about relations(not relevant to your question) can one user have multiple roles ?","body":"I think there is not a problem at framework version but in usage of it and the real reason can be that you are using <code>@OneToOne</code> relation as <code>@OneToMany</code>. And also a question about relations(not relevant to your question) can one user have multiple roles ?"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697727260,"post_id":77324463,"comment_id":136318638,"body_markdown":"Can you update the question with an example(real values) ?, where you are doing insert into database first row and at second you have this exception(also add insert statements)","body":"Can you update the question with an example(real values) ?, where you are doing insert into database first row and at second you have this exception(also add insert statements)"},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1697729256,"post_id":77324463,"comment_id":136319140,"body_markdown":"Can I do, But this constellation is working for two years without any problems in different Hibernate versions. The problem is only with this version Yes @OneToOne is correct. 1 user can have one Role. Ok. I&#39;m using spring. With Spring 3.0.9 is working, with 3.1.0 not. In Spring 3.0.9 - Hibernate 6.1.7. In Spring 3.1.0 i Hibernate 6.2.2","body":"Can I do, But this constellation is working for two years without any problems in different Hibernate versions. The problem is only with this version Yes @OneToOne is correct. 1 user can have one Role. Ok. I&#39;m using spring. With Spring 3.0.9 is working, with 3.1.0 not. In Spring 3.0.9 - Hibernate 6.1.7. In Spring 3.1.0 i Hibernate 6.2.2"},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1697730612,"post_id":77324463,"comment_id":136319409,"body_markdown":"It happens, if I add second user with the same role.","body":"It happens, if I add second user with the same role."}],"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697724093,"creation_date":1697724093,"question_id":77324463,"body_markdown":"I have simple Relation User to Role\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;role_id&quot;)\r\n    private Role role;\r\n\r\n\r\n\r\n    @Entity(name = &quot;role&quot;)\r\n    public class Role {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n    \r\n        @Column(name = &quot;name&quot;, length = 50, nullable = false)\r\n        private String name;\r\n\r\nafter update of Hibernate from **6.1.7** to **6.2.2** I get following Error\r\n\r\n    15:51:37.348 [main] [ traceId:   spanId:   ]  INFO  [ork.data.jpa.repository.query.QueryEnhancerFactory:47.&lt;clinit&gt;()] - Hibernate is in classpath; If applicable, HQL parser will be used. \r\n    15:51:39.427 [main] [ traceId:   spanId:   ]  WARN  [  org.hibernate.engine.jdbc.spi.SqlExceptionHelper:145.logExceptions()] - SQL Error: 1062, SQLState: 23000 \r\n    15:51:39.427 [main] [ traceId:   spanId:   ]  ERROR [  org.hibernate.engine.jdbc.spi.SqlExceptionHelper:150.logExceptions()] - Duplicate entry &#39;1&#39; for key &#39;user.UK_qleu8ddawkdltal07p8e6hgva&#39; \r\n    15:51:39.440 [main] [ traceId:   spanId:   ]  ERROR [             io.config.db.DataInitializer:213.init()] - Cannot initialize internal users. \r\n    org.springframework.dao.DataIntegrityViolationException: could not execute statement [Duplicate entry &#39;1&#39; for key &#39;user.UK_qleu8ddawkdltal07p8e6hgva&#39;] [insert into user (account_id,created,last_login,last_modified,locked,recover_verify_token,recover_verify_token_exp,role_id,status,id) values (?,?,?,?,?,?,?,?,?,?)]; SQL [insert into user (account_id,created,last_login,last_modified,role_id,status,id) values (?,?,?,?,?,?,?)]; constraint [user.UK_qleu8ddawkdltal07p8e6hgva]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:269)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\r\n    ....\r\n    Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Duplicate entry &#39;1&#39; for key &#39;user.UK_qleu8ddawkdltal07p8e6hgva&#39;] [insert into user (account_id,created,last_login,last_modified,role_id,status,id) values (?,?,?,?,?,?,?)]\r\n\r\nIn [Migration guide][1] I do not find some relevant information.\r\n\r\nWith version **6.1.7** is everything fine and mapping is working as expected.\r\n\r\nAny ideas?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/search/6.2/migration/html_single/#_introduction","title":"Hibernate migration 6.1 to 6.2 - @OneToOne with @JoinColumn - ConstraintViolationException: could not execute statement - Duplicate entry &#39;1&#39; for key","body":"<p>I have simple Relation User to Role</p>\n<pre><code>@OneToOne\n@JoinColumn(name = &quot;role_id&quot;)\nprivate Role role;\n\n\n\n@Entity(name = &quot;role&quot;)\npublic class Role {\n\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @Column(name = &quot;name&quot;, length = 50, nullable = false)\n    private String name;\n</code></pre>\n<p>after update of Hibernate from <strong>6.1.7</strong> to <strong>6.2.2</strong> I get following Error</p>\n<pre><code>15:51:37.348 [main] [ traceId:   spanId:   ]  INFO  [ork.data.jpa.repository.query.QueryEnhancerFactory:47.&lt;clinit&gt;()] - Hibernate is in classpath; If applicable, HQL parser will be used. \n15:51:39.427 [main] [ traceId:   spanId:   ]  WARN  [  org.hibernate.engine.jdbc.spi.SqlExceptionHelper:145.logExceptions()] - SQL Error: 1062, SQLState: 23000 \n15:51:39.427 [main] [ traceId:   spanId:   ]  ERROR [  org.hibernate.engine.jdbc.spi.SqlExceptionHelper:150.logExceptions()] - Duplicate entry '1' for key 'user.UK_qleu8ddawkdltal07p8e6hgva' \n15:51:39.440 [main] [ traceId:   spanId:   ]  ERROR [             io.config.db.DataInitializer:213.init()] - Cannot initialize internal users. \norg.springframework.dao.DataIntegrityViolationException: could not execute statement [Duplicate entry '1' for key 'user.UK_qleu8ddawkdltal07p8e6hgva'] [insert into user (account_id,created,last_login,last_modified,locked,recover_verify_token,recover_verify_token_exp,role_id,status,id) values (?,?,?,?,?,?,?,?,?,?)]; SQL [insert into user (account_id,created,last_login,last_modified,role_id,status,id) values (?,?,?,?,?,?,?)]; constraint [user.UK_qleu8ddawkdltal07p8e6hgva]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:269)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\n....\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Duplicate entry '1' for key 'user.UK_qleu8ddawkdltal07p8e6hgva'] [insert into user (account_id,created,last_login,last_modified,role_id,status,id) values (?,?,?,?,?,?,?)]\n</code></pre>\n<p>In <a href=\"https://docs.jboss.org/hibernate/search/6.2/migration/html_single/#_introduction\" rel=\"nofollow noreferrer\">Migration guide</a> I do not find some relevant information.</p>\n<p>With version <strong>6.1.7</strong> is everything fine and mapping is working as expected.</p>\n<p>Any ideas?</p>\n<p>Thanks.</p>\n"},{"tags":["java","multithreading","struts2","thread-local"],"comments":[{"owner":{"account_id":1265891,"reputation":732,"user_id":1225623,"accept_rate":65,"display_name":"Dayananda"},"score":0,"creation_date":1348117712,"post_id":12506300,"comment_id":16831846,"body_markdown":"In the above 611 and 529 indicates the line number from where the above is called(caller line number).","body":"In the above 611 and 529 indicates the line number from where the above is called(caller line number)."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1348156338,"post_id":12506300,"comment_id":16847403,"body_markdown":"Your requirements are not clear.","body":"Your requirements are not clear."},{"owner":{"account_id":1265891,"reputation":732,"user_id":1225623,"accept_rate":65,"display_name":"Dayananda"},"score":0,"creation_date":1348159817,"post_id":12506300,"comment_id":16849007,"body_markdown":"@DaveNewton I need threadLocalRate variable more than one method(nearly in 4 methods). It will have the exchange rate(USD -&gt; INR). The code which is used to find out the exchange rate should get execute only one time. Remaining 3 time it should not get .execute. So i used ThreadLocale concept here. But its not working. I updated the question.","body":"@DaveNewton I need threadLocalRate variable more than one method(nearly in 4 methods). It will have the exchange rate(USD -&gt; INR). The code which is used to find out the exchange rate should get execute only one time. Remaining 3 time it should not get .execute. So i used ThreadLocale concept here. But its not working. I updated the question."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1348173296,"post_id":12506300,"comment_id":16854423,"body_markdown":"Well, you certainly don&#39;t need it in the action, because actions are created per-request. Why wouldn&#39;t you just pass it to the other methods?","body":"Well, you certainly don&#39;t need it in the action, because actions are created per-request. Why wouldn&#39;t you just pass it to the other methods?"},{"owner":{"account_id":1265891,"reputation":732,"user_id":1225623,"accept_rate":65,"display_name":"Dayananda"},"score":0,"creation_date":1348199204,"post_id":12506300,"comment_id":16859847,"body_markdown":"@DaveNewton Its maintenance project. The code has been written already. I cant change the flow. If i change so much code has to be modified. I need to access the variable in all four methods, and the logic which is used to find the exchange rate should be executed only one time out of four times.","body":"@DaveNewton Its maintenance project. The code has been written already. I cant change the flow. If i change so much code has to be modified. I need to access the variable in all four methods, and the logic which is used to find the exchange rate should be executed only one time out of four times."},{"owner":{"account_id":1265891,"reputation":732,"user_id":1225623,"accept_rate":65,"display_name":"Dayananda"},"score":0,"creation_date":1348204703,"post_id":12506300,"comment_id":16860729,"body_markdown":"@DaveNewton I embarrassed to say that , i haven&#39;t made the variable as static and final. After making the variable static and final, it works fine.","body":"@DaveNewton I embarrassed to say that , i haven&#39;t made the variable as static and final. After making the variable static and final, it works fine."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1348222415,"post_id":12506300,"comment_id":16866959,"body_markdown":"That seems quite risky if it&#39;s based on user details, implying the value could be different per-user.","body":"That seems quite risky if it&#39;s based on user details, implying the value could be different per-user."},{"owner":{"account_id":1265891,"reputation":732,"user_id":1225623,"accept_rate":65,"display_name":"Dayananda"},"score":0,"creation_date":1348223620,"post_id":12506300,"comment_id":16867437,"body_markdown":"@DaveNewton I faced this problem just now. Can u please suggest me the better way to do.","body":"@DaveNewton I faced this problem just now. Can u please suggest me the better way to do."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40470,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348118346,"creation_date":1348118038,"answer_id":12506411,"question_id":12506300,"body_markdown":"I think ThreadLocal is not appropriate here. I&#39;ve never used Struts 2, only struts 1, but as far as I know this is a web framework built on top of servelts. These are running inside web container and its up to web container to decide when should the thread be opened and you as a developer should interfere in this decision.\r\n\r\nNow thread local only provides a map of key-value so that its possible to maintain different values for the same key in different thread.\r\n\r\nFor example, if you have two thread A and B and want to maintain key-value pair\r\n\r\n -  &quot;name&quot; -&gt; &#39;John&#39; for thread A and \r\n -  &quot;name&quot; -&gt; &#39;Fred&#39; for thread B \r\n\r\n\r\nyou can do so with thread local.\r\n\r\nWhat you&#39;re really looking for is a kind of application context - a place to store your data shared by all the threads in the container. Another possibility is a Singleton here.\r\n\r\nHow technically this can be implemented?\r\n\r\nYou might be interested in reading [this][1] and [this][2]\r\n\r\nHope this helps\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6980454/struts2-static-data-storage-access\r\n  [2]: https://stackoverflow.com/questions/2730547/struts-2-where-should-i-set-global-application-variables","title":"How to store the data using ThreadLocal","body":"<p>I think ThreadLocal is not appropriate here. I've never used Struts 2, only struts 1, but as far as I know this is a web framework built on top of servelts. These are running inside web container and its up to web container to decide when should the thread be opened and you as a developer should interfere in this decision.</p>\n\n<p>Now thread local only provides a map of key-value so that its possible to maintain different values for the same key in different thread.</p>\n\n<p>For example, if you have two thread A and B and want to maintain key-value pair</p>\n\n<ul>\n<li>\"name\" -> 'John' for thread A and </li>\n<li>\"name\" -> 'Fred' for thread B </li>\n</ul>\n\n<p>you can do so with thread local.</p>\n\n<p>What you're really looking for is a kind of application context - a place to store your data shared by all the threads in the container. Another possibility is a Singleton here.</p>\n\n<p>How technically this can be implemented?</p>\n\n<p>You might be interested in reading <a href=\"https://stackoverflow.com/questions/6980454/struts2-static-data-storage-access\">this</a> and <a href=\"https://stackoverflow.com/questions/2730547/struts-2-where-should-i-set-global-application-variables\">this</a></p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":1710163,"reputation":120,"user_id":1568393,"display_name":"Binu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348119947,"creation_date":1348119947,"answer_id":12506693,"question_id":12506300,"body_markdown":"Does the below code help you? I have read an article on a website and modified the code to make it compilation free in JDK7.0. The resource I used is \r\n\r\n[http://javapapers.com/core-java/threadlocal/][1]\r\n\r\n\r\n\r\n\r\n    package com.javapapers;\r\n     \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n     \r\n    public class ThreadLocalExample {\r\n      private static final ThreadLocal&lt;SimpleDateFormat&gt; formatter = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n     \r\n        protected SimpleDateFormat initialValue() {\r\n          return new SimpleDateFormat(&quot;yyyyMMdd HHmm&quot;);\r\n        }\r\n      };\r\n     \r\n      public String formatIt(Date date) {\r\n        return formatter.get().format(date);\r\n      }\r\n      \r\n      public static void main(String[] args)\r\n      {\r\n    \t  ThreadLocalExample example = new ThreadLocalExample();\r\n    \t  System.out.println(example.formatIt(new Date()));\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://javapapers.com/core-java/threadlocal/\r\n\r\n\r\nHere ThreadLocal is used as a static variable.","title":"How to store the data using ThreadLocal","body":"<p>Does the below code help you? I have read an article on a website and modified the code to make it compilation free in JDK7.0. The resource I used is </p>\n\n<p><a href=\"http://javapapers.com/core-java/threadlocal/\" rel=\"nofollow\">http://javapapers.com/core-java/threadlocal/</a></p>\n\n<pre><code>package com.javapapers;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class ThreadLocalExample {\n  private static final ThreadLocal&lt;SimpleDateFormat&gt; formatter = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n\n    protected SimpleDateFormat initialValue() {\n      return new SimpleDateFormat(\"yyyyMMdd HHmm\");\n    }\n  };\n\n  public String formatIt(Date date) {\n    return formatter.get().format(date);\n  }\n\n  public static void main(String[] args)\n  {\n      ThreadLocalExample example = new ThreadLocalExample();\n      System.out.println(example.formatIt(new Date()));\n  }\n}\n</code></pre>\n\n<p>Here ThreadLocal is used as a static variable.</p>\n"},{"tags":[],"owner":{"account_id":1265891,"reputation":732,"user_id":1225623,"accept_rate":65,"display_name":"Dayananda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697723984,"creation_date":1348204647,"answer_id":12524641,"question_id":12506300,"body_markdown":"I haven&#39;t made the variable as static and final. \r\n\r\n    private static final ThreadLocal&lt;Double&gt; threadLocalRate = new ThreadLocal&lt;Double&gt;();\r\n\r\nNow the thread locale concept is working.","title":"How to store the data using ThreadLocal","body":"<p>I haven't made the variable as static and final.</p>\n<pre><code>private static final ThreadLocal&lt;Double&gt; threadLocalRate = new ThreadLocal&lt;Double&gt;();\n</code></pre>\n<p>Now the thread locale concept is working.</p>\n"}],"owner":{"account_id":1265891,"reputation":732,"user_id":1225623,"accept_rate":65,"display_name":"Dayananda"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1998,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1697723984,"creation_date":1348117249,"question_id":12506300,"body_markdown":"I am working with Strust2 and Hibernate. I have to find out the currency exchange rate(USD to INR). I need to use this information in more than one place. For this purpose, i am using **ThreadLocal** for this purpose. \r\n   \r\n    public class GetExchangeRate{\r\n    private ThreadLocal&lt;Double&gt; threadLocalRate = new ThreadLocal&lt;Double&gt;();\r\n    public double getCurrencyRate(UserDet userDet){\r\n\t\tLOG.info(&quot;Thread id is ----------------&gt;&quot;+Thread.currentThread().getId());\r\n\t\tDouble currencyRate = (Double) threadLocalRate.get();\r\n\t\tif(currencyRate == null){\r\n\t\t\tLOG.info(&quot;Object does not exist&quot;);\r\n         ---//my code which is used to find USD --&gt; INR exchange rate\r\n       threadLocalRate.set(currencyRate);    \r\n    }\r\n    return currencyRate ;\r\n    }\r\n    }\r\n\r\nI need to call the above method from **four** different methods. When i call the above method, from different methods, the above total code is getting execute. \r\nMy requirement is only **one time** the total method has to get execute. And remaining **three times** the total method should not get execute. The value which is stored in ThreadLocal object should be returned. \r\n\r\nHere is my log report, which shows the above total method is executed.\r\n\r\n    [ INFO] 2012-09-20 10:20:04,611 [CommonFormats] (CommonFormats.java:getCurrencyRate:159)\r\n    Thread id is ----------------------------&gt;54\r\n     [ INFO] 2012-09-20 10:20:04,611 [CommonFormats] (CommonFormats.java:getCurrencyRate:163)\r\n    Object does not exist\r\n    \r\n    [ INFO] 2012-09-20 10:20:49,529 [CommonFormats] (CommonFormats.java:getCurrencyRate:159)\r\n    Thread id is ----------------------------&gt;54\r\n     [ INFO] 2012-09-20 10:20:49,529 [CommonFormats] (CommonFormats.java:getCurrencyRate:163)\r\n    Object does not exist\r\n\r\nplease suggest what wrong am i doing. The above method will be called from **four** methods. **Two methods** belongs to Action class, and **Two** methods belongs to Service layer class.\r\n\r\nMy sample code \r\n\r\n     //Action class\r\n        public class StrutsAction1{\r\n    public String method1(){  \r\n           // my code\r\n    \tCommonFormats commonFormats= new CommonFormats(); \r\n    \tSystem.out.println(commonFormats.getCurrencyRate());\r\n           // my code\r\n    }\r\n    public String method2(){  \r\n           // my code\r\n    \tCommonFormats commonFormats= new CommonFormats(); \r\n    \tSystem.out.println(commonFormats.getCurrencyRate());\r\n           // my code\r\n    }  }\r\n    \r\n    //Business class\r\n    public class BussinessLogic{\r\n     public String method1(){  \r\n    \r\n           // my code\r\n    \tCommonFormats commonFormats= new CommonFormats(); \r\n    \tSystem.out.println(commonFormats.getCurrencyRate());\r\n           // my code\r\n    \r\n    }\r\n    public String method2(){  \r\n    \r\n           // my code\r\n    \tCommonFormats commonFormats= new CommonFormats(); \r\n    \tSystem.out.println(commonFormats.getCurrencyRate());\r\n           // my code\r\n    }  }\r\n       \r\n\r\n\r\n","title":"How to store the data using ThreadLocal","body":"<p>I am working with Strust2 and Hibernate. I have to find out the currency exchange rate(USD to INR). I need to use this information in more than one place. For this purpose, i am using <strong>ThreadLocal</strong> for this purpose. </p>\n\n<pre><code>public class GetExchangeRate{\nprivate ThreadLocal&lt;Double&gt; threadLocalRate = new ThreadLocal&lt;Double&gt;();\npublic double getCurrencyRate(UserDet userDet){\n    LOG.info(\"Thread id is ----------------&gt;\"+Thread.currentThread().getId());\n    Double currencyRate = (Double) threadLocalRate.get();\n    if(currencyRate == null){\n        LOG.info(\"Object does not exist\");\n     ---//my code which is used to find USD --&gt; INR exchange rate\n   threadLocalRate.set(currencyRate);    \n}\nreturn currencyRate ;\n}\n}\n</code></pre>\n\n<p>I need to call the above method from <strong>four</strong> different methods. When i call the above method, from different methods, the above total code is getting execute. \nMy requirement is only <strong>one time</strong> the total method has to get execute. And remaining <strong>three times</strong> the total method should not get execute. The value which is stored in ThreadLocal object should be returned. </p>\n\n<p>Here is my log report, which shows the above total method is executed.</p>\n\n<pre><code>[ INFO] 2012-09-20 10:20:04,611 [CommonFormats] (CommonFormats.java:getCurrencyRate:159)\nThread id is ----------------------------&gt;54\n [ INFO] 2012-09-20 10:20:04,611 [CommonFormats] (CommonFormats.java:getCurrencyRate:163)\nObject does not exist\n\n[ INFO] 2012-09-20 10:20:49,529 [CommonFormats] (CommonFormats.java:getCurrencyRate:159)\nThread id is ----------------------------&gt;54\n [ INFO] 2012-09-20 10:20:49,529 [CommonFormats] (CommonFormats.java:getCurrencyRate:163)\nObject does not exist\n</code></pre>\n\n<p>please suggest what wrong am i doing. The above method will be called from <strong>four</strong> methods. <strong>Two methods</strong> belongs to Action class, and <strong>Two</strong> methods belongs to Service layer class.</p>\n\n<p>My sample code </p>\n\n<pre><code> //Action class\n    public class StrutsAction1{\npublic String method1(){  \n       // my code\n    CommonFormats commonFormats= new CommonFormats(); \n    System.out.println(commonFormats.getCurrencyRate());\n       // my code\n}\npublic String method2(){  \n       // my code\n    CommonFormats commonFormats= new CommonFormats(); \n    System.out.println(commonFormats.getCurrencyRate());\n       // my code\n}  }\n\n//Business class\npublic class BussinessLogic{\n public String method1(){  \n\n       // my code\n    CommonFormats commonFormats= new CommonFormats(); \n    System.out.println(commonFormats.getCurrencyRate());\n       // my code\n\n}\npublic String method2(){  \n\n       // my code\n    CommonFormats commonFormats= new CommonFormats(); \n    System.out.println(commonFormats.getCurrencyRate());\n       // my code\n}  }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1697724266,"post_id":77324432,"comment_id":136317986,"body_markdown":"Could it be that you reached &quot;the active or held call limit has been reached&quot;?","body":"Could it be that you reached &quot;the active or held call limit has been reached&quot;?"},{"owner":{"account_id":29708216,"reputation":1,"user_id":22768561,"display_name":"edwardtheheadword"},"score":0,"creation_date":1697724594,"post_id":77324432,"comment_id":136318055,"body_markdown":"good question, but I can&#39;t find anything about this limit in the documentation. Additionally, just resetting the app is enough to get everything working properly. Also strange is that the number of connections I can create before this problem occurs is different every time.","body":"good question, but I can&#39;t find anything about this limit in the documentation. Additionally, just resetting the app is enough to get everything working properly. Also strange is that the number of connections I can create before this problem occurs is different every time."},{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1697791635,"post_id":77324432,"comment_id":136326799,"body_markdown":"I think that the fact that when restarting the application, everything works is a good indication that that is the issue here. The amount of connections may be different every time might be based on some internal OS decision making.","body":"I think that the fact that when restarting the application, everything works is a good indication that that is the issue here. The amount of connections may be different every time might be based on some internal OS decision making."}],"owner":{"account_id":29708216,"reputation":1,"user_id":22768561,"display_name":"edwardtheheadword"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697723845,"creation_date":1697723845,"question_id":77324432,"body_markdown":"I am implementing Connection Service in a mobile VoIP application. After using the application for a while and creating calls using placeCall or addNewIncomingCall, creating new calls is no longer possible, but after relaunch application everything works again for a while. After calling any of the mentioned methods, here is what I have in logcat:\r\n\r\n```\r\n2023-10-19 15:13:47.363 23963-23963 TelecomFramework I  : createConnectionFailed TC@270: (TSI.pC-&gt;CIP.sNOCI)-&gt;CS.crCoF-&gt;H.CS.crCoF(cast)@E-Kdk\r\n2023-10-19 15:13:47.364 23963-23963 TelecomFramework I  TelecomConnectionService: createConnectionFailed TC@270: (TSI.pC-&gt;CIP.sNOCI)-&gt;CS.crCoF-&gt;H.CS.crCoF(cast)@E-Kdk\r\n```\r\n\r\nisIncomingCallPermitted and isOutgoingCallPermitted return false. According to the documentation, false is returned in cases:\r\n\r\n- PhoneAccount does not have property PhoneAccount#CAPABILITY_SELF_MANAGED set (i.e. it is a managed ConnectionService), and the active or held call limit has been reached.\r\n- There is an ongoing emergency call.\r\n\r\nI create Phone Account in such a way, as you can see the `CAPABILITY_SELF_MANAGED` flag is set. In any case, at first everything works correctly.\r\n\r\n```java\r\nprivate static PhoneAccount createAccount(Context context) {\r\n    ComponentName componentName = new ComponentName(context.getPackageName(),\r\n            TelecomConnectionService.class.getName());\r\n    PhoneAccountHandle accountHandle = new PhoneAccountHandle(componentName, context.getPackageName());\r\n    String identity = &quot;sip:app@example.com&quot;;\r\n    Uri address = Uri.parse(identity);\r\n\r\n    Bundle extras = new Bundle();\r\n    extras.putBoolean(PhoneAccount.EXTRA_SUPPORTS_HANDOVER_TO, true);\r\n    extras.putBoolean(PhoneAccount.EXTRA_LOG_SELF_MANAGED_CALLS, true);\r\n    extras.putBoolean(PhoneAccount.EXTRA_ALWAYS_USE_VOIP_AUDIO_MODE, true);\r\n\r\n    PhoneAccount.Builder builder = PhoneAccount.builder(accountHandle, context.getPackageName())\r\n            .addSupportedUriScheme(PhoneAccount.SCHEME_SIP)\r\n            .setAddress(address)\r\n            .setCapabilities(PhoneAccount.CAPABILITY_SELF_MANAGED)\r\n            .setExtras(extras);\r\n\r\n    return builder.build();\r\n}\r\n```\r\n\r\nI terminate connections by calling the `destroyConnection` method in `onStateChanged` when state is equal to `Connection.STATE_DISCONNECTED`\r\n\r\nImplementation of `destroyConnection`:\r\n```java\r\npublic void destroyConnection() {\r\n    Log.d(TAG, &quot;destroyConnection&quot;);\r\n    TelecomConnectionService.destroyCurrentConnection();\r\n    super.destroy();\r\n}\r\n```\r\n\r\nand `destroyCurrentConnection` is simply:\r\n```java\r\npublic static void destroyCurrentConnection() {\r\n    conn = null;\r\n}\r\n```\r\n\r\nAny ideas about what I might be doing wrong here?","title":"Android Connection Service, call is not permitted","body":"<p>I am implementing Connection Service in a mobile VoIP application. After using the application for a while and creating calls using placeCall or addNewIncomingCall, creating new calls is no longer possible, but after relaunch application everything works again for a while. After calling any of the mentioned methods, here is what I have in logcat:</p>\n<pre><code>2023-10-19 15:13:47.363 23963-23963 TelecomFramework I  : createConnectionFailed TC@270: (TSI.pC-&gt;CIP.sNOCI)-&gt;CS.crCoF-&gt;H.CS.crCoF(cast)@E-Kdk\n2023-10-19 15:13:47.364 23963-23963 TelecomFramework I  TelecomConnectionService: createConnectionFailed TC@270: (TSI.pC-&gt;CIP.sNOCI)-&gt;CS.crCoF-&gt;H.CS.crCoF(cast)@E-Kdk\n</code></pre>\n<p>isIncomingCallPermitted and isOutgoingCallPermitted return false. According to the documentation, false is returned in cases:</p>\n<ul>\n<li>PhoneAccount does not have property PhoneAccount#CAPABILITY_SELF_MANAGED set (i.e. it is a managed ConnectionService), and the active or held call limit has been reached.</li>\n<li>There is an ongoing emergency call.</li>\n</ul>\n<p>I create Phone Account in such a way, as you can see the <code>CAPABILITY_SELF_MANAGED</code> flag is set. In any case, at first everything works correctly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static PhoneAccount createAccount(Context context) {\n    ComponentName componentName = new ComponentName(context.getPackageName(),\n            TelecomConnectionService.class.getName());\n    PhoneAccountHandle accountHandle = new PhoneAccountHandle(componentName, context.getPackageName());\n    String identity = &quot;sip:app@example.com&quot;;\n    Uri address = Uri.parse(identity);\n\n    Bundle extras = new Bundle();\n    extras.putBoolean(PhoneAccount.EXTRA_SUPPORTS_HANDOVER_TO, true);\n    extras.putBoolean(PhoneAccount.EXTRA_LOG_SELF_MANAGED_CALLS, true);\n    extras.putBoolean(PhoneAccount.EXTRA_ALWAYS_USE_VOIP_AUDIO_MODE, true);\n\n    PhoneAccount.Builder builder = PhoneAccount.builder(accountHandle, context.getPackageName())\n            .addSupportedUriScheme(PhoneAccount.SCHEME_SIP)\n            .setAddress(address)\n            .setCapabilities(PhoneAccount.CAPABILITY_SELF_MANAGED)\n            .setExtras(extras);\n\n    return builder.build();\n}\n</code></pre>\n<p>I terminate connections by calling the <code>destroyConnection</code> method in <code>onStateChanged</code> when state is equal to <code>Connection.STATE_DISCONNECTED</code></p>\n<p>Implementation of <code>destroyConnection</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void destroyConnection() {\n    Log.d(TAG, &quot;destroyConnection&quot;);\n    TelecomConnectionService.destroyCurrentConnection();\n    super.destroy();\n}\n</code></pre>\n<p>and <code>destroyCurrentConnection</code> is simply:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void destroyCurrentConnection() {\n    conn = null;\n}\n</code></pre>\n<p>Any ideas about what I might be doing wrong here?</p>\n"},{"tags":["java","android","push-notification"],"answers":[{"tags":[],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685022604,"creation_date":1677593227,"answer_id":75593150,"question_id":75020458,"body_markdown":"**I made an extra class:**\r\n\r\n  \r\n\r\n     public class StopRingtone extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        // Stop the ringtone playback\r\n        Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM);\r\n        Ringtone r = RingtoneManager.getRingtone(context, notification);\r\n        Log.v(&quot;test2&quot;,&quot;stop2&quot;);\r\n        r.stop();\r\n\r\n        // Call onNotificationDeleted to remove the notification\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n        notificationManager.cancelAll();\r\n    }\r\n}\r\n\r\n\r\n\r\n**And i modified my AlarmReceiver like this**\r\n\r\n    \r\n    \r\n    \r\n    import android.app.PendingIntent;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.media.Ringtone;\r\n    import android.media.RingtoneManager;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.VibrationEffect;\r\n    import android.os.Vibrator;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.app.NotificationCompat;\r\n    import androidx.core.app.NotificationManagerCompat;\r\n    \r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n    \r\n        private String text;\r\n        public static Ringtone r;\r\n    \r\n        private Vibrator vibrator;\r\n    \r\n    \r\n        public static final int NOTIFICATION_ID = 123;\r\n    \r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Bundle b = intent.getExtras();\r\n            String event = &quot;&quot;;\r\n            String comment;\r\n    \r\n    \r\n            vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\r\n            if (vibrator != null &amp;&amp; vibrator.hasVibrator()) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    vibrator.vibrate(VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE));\r\n                } else {\r\n                    vibrator.vibrate(1000);\r\n                }\r\n            }\r\n    \r\n            if (b != null) {\r\n                event = b.getString(&quot;title&quot;);\r\n                comment = b.getString(&quot;comment&quot;);\r\n                text = &quot;Υπενθύμιση για το συμβάν: &quot; + &quot;\\n&quot; + event + &quot;\\n&quot; + &quot;Σχόλια: &quot; + &quot;\\n&quot; + comment;\r\n            }\r\n    \r\n    \r\n    \r\n    \r\n            Intent stopIntent = new Intent(context, StopReceiver.class);\r\n            PendingIntent stopPendingIntent = PendingIntent.getBroadcast(context, 0, stopIntent, PendingIntent.FLAG_IMMUTABLE);\r\n    \r\n    \r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;myandroid&quot;)\r\n                    .setSmallIcon(R.drawable.alarm)\r\n                    .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                    .setContentTitle(event)\r\n                    .setContentText(text)\r\n                    .setContentIntent(stopPendingIntent)\r\n                    .setAutoCancel(true)\r\n                    .setStyle(new NotificationCompat.BigTextStyle().bigText(text))\r\n                    .setDefaults(NotificationCompat.DEFAULT_ALL);\r\n    \r\n    \r\n            NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context);\r\n            if (ActivityCompat.checkSelfPermission(context, android.Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            notificationManagerCompat.notify(NOTIFICATION_ID, builder.build());\r\n            Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM);\r\n            r = RingtoneManager.getRingtone(context, notification);\r\n            r.play();\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        public void stopRingtone() {\r\n    \r\n            if (r != null &amp;&amp; r.isPlaying()) {\r\n                r.stop();\r\n            }\r\n            if (vibrator != null) {\r\n                vibrator.cancel();\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        public void getInApplication(Context context)\r\n        {\r\n            Intent i = new Intent(context.getApplicationContext(),MainActivity.class);\r\n            i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startActivity(i);\r\n        }\r\n    \r\n        public static class StopReceiver extends BroadcastReceiver {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                // Stop the ringtone\r\n                AlarmReceiver alarmReceiver = new AlarmReceiver();\r\n                alarmReceiver.stopRingtone();\r\n                alarmReceiver.getInApplication(context);\r\n    \r\n    \r\n    \r\n                // Dismiss the notification\r\n                NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n    \r\n                notificationManager.cancel(NOTIFICATION_ID);\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n**Also i modified my manifest to listen the StopReceiver**\r\n\r\n    &lt;application&gt;\r\n    \r\n     &lt;receiver\r\n                android:name=&quot;.AlarmReceiver&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:label=&quot;AlarmReceiver&quot;\r\n                android:permission=&quot;TODO&quot; /&gt;\r\n            &lt;receiver\r\n                android:name=&quot;.AlarmReceiver$StopReceiver&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;TODO&quot; /&gt;\r\n            &lt;/application&gt;\r\n\r\n","title":"AlarmManager doesn&#39;t stop playing sound when user taps on push notification and get in app","body":"<p><strong>I made an extra class:</strong></p>\n<pre><code> public class StopRingtone extends BroadcastReceiver {\n@Override\npublic void onReceive(Context context, Intent intent) {\n    // Stop the ringtone playback\n    Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM);\n    Ringtone r = RingtoneManager.getRingtone(context, notification);\n    Log.v(&quot;test2&quot;,&quot;stop2&quot;);\n    r.stop();\n\n    // Call onNotificationDeleted to remove the notification\n    NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n    notificationManager.cancelAll();\n}\n</code></pre>\n<p>}</p>\n<p><strong>And i modified my AlarmReceiver like this</strong></p>\n<pre><code>import android.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.media.Ringtone;\nimport android.media.RingtoneManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.VibrationEffect;\nimport android.os.Vibrator;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.app.NotificationCompat;\nimport androidx.core.app.NotificationManagerCompat;\n\npublic class AlarmReceiver extends BroadcastReceiver {\n\n    private String text;\n    public static Ringtone r;\n\n    private Vibrator vibrator;\n\n\n    public static final int NOTIFICATION_ID = 123;\n\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Bundle b = intent.getExtras();\n        String event = &quot;&quot;;\n        String comment;\n\n\n        vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\n        if (vibrator != null &amp;&amp; vibrator.hasVibrator()) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                vibrator.vibrate(VibrationEffect.createOneShot(1000, VibrationEffect.DEFAULT_AMPLITUDE));\n            } else {\n                vibrator.vibrate(1000);\n            }\n        }\n\n        if (b != null) {\n            event = b.getString(&quot;title&quot;);\n            comment = b.getString(&quot;comment&quot;);\n            text = &quot;Υπενθύμιση για το συμβάν: &quot; + &quot;\\n&quot; + event + &quot;\\n&quot; + &quot;Σχόλια: &quot; + &quot;\\n&quot; + comment;\n        }\n\n\n\n\n        Intent stopIntent = new Intent(context, StopReceiver.class);\n        PendingIntent stopPendingIntent = PendingIntent.getBroadcast(context, 0, stopIntent, PendingIntent.FLAG_IMMUTABLE);\n\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;myandroid&quot;)\n                .setSmallIcon(R.drawable.alarm)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setContentTitle(event)\n                .setContentText(text)\n                .setContentIntent(stopPendingIntent)\n                .setAutoCancel(true)\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(text))\n                .setDefaults(NotificationCompat.DEFAULT_ALL);\n\n\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context);\n        if (ActivityCompat.checkSelfPermission(context, android.Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        notificationManagerCompat.notify(NOTIFICATION_ID, builder.build());\n        Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM);\n        r = RingtoneManager.getRingtone(context, notification);\n        r.play();\n\n\n\n\n    }\n\n    public void stopRingtone() {\n\n        if (r != null &amp;&amp; r.isPlaying()) {\n            r.stop();\n        }\n        if (vibrator != null) {\n            vibrator.cancel();\n        }\n\n\n    }\n\n    public void getInApplication(Context context)\n    {\n        Intent i = new Intent(context.getApplicationContext(),MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(i);\n    }\n\n    public static class StopReceiver extends BroadcastReceiver {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            // Stop the ringtone\n            AlarmReceiver alarmReceiver = new AlarmReceiver();\n            alarmReceiver.stopRingtone();\n            alarmReceiver.getInApplication(context);\n\n\n\n            // Dismiss the notification\n            NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n\n            notificationManager.cancel(NOTIFICATION_ID);\n\n        }\n    }\n\n\n\n}\n</code></pre>\n<p><strong>Also i modified my manifest to listen the StopReceiver</strong></p>\n<pre><code>&lt;application&gt;\n\n &lt;receiver\n            android:name=&quot;.AlarmReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;AlarmReceiver&quot;\n            android:permission=&quot;TODO&quot; /&gt;\n        &lt;receiver\n            android:name=&quot;.AlarmReceiver$StopReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;TODO&quot; /&gt;\n        &lt;/application&gt;\n</code></pre>\n"}],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75593150,"answer_count":1,"score":2,"last_activity_date":1697723629,"creation_date":1672930983,"question_id":75020458,"body_markdown":"**PUSH-NOTIFICATION PROBLEM**\r\n\r\nI am building a Calendar application and I added an alarm that user can choose specific date and time. The alarm works fine. My problem is that when the notification is shown and I tap on the notification bar, I get in the app and the music play until I quit the app. The only wayI found, is to add a time delay to play for 10seconds for example, but I want to stop music on tap. \r\n\r\n**Vibrator problem**\r\n\r\nThe vibrator doesn&#39;t work, right now this isn&#39;t such a big problem, so if anyone can solve me at least the vibrator problem it would be very helpfuld.\r\n\r\n**My AlarmReceiver class**\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n    \r\n    \r\n    \r\n    \r\n            Vibrator vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\r\n            vibrator.vibrate(VibrationEffect.DEFAULT_AMPLITUDE);\r\n    \r\n    \r\n    \r\n            String event = intent.getStringExtra(&quot;title&quot;);\r\n            String comment = intent.getStringExtra(&quot;comment&quot;);\r\n            Intent activityIntent = new Intent(context, MainActivity.class);\r\n    \r\n            PendingIntent pendingIntent = PendingIntent.getActivity( context,0,activityIntent,0 );\r\n    \r\n    \r\n            String text = &quot;Reminder for the Event: &quot; + &quot;\\n&quot; + event + &quot;\\n&quot; + &quot;Comments: &quot; + &quot;\\n&quot; + comment;\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;myandroid&quot;)\r\n                    .setSmallIcon(R.drawable.alarm)\r\n                    .setContentTitle(event)\r\n                    .setContentText(text)\r\n                    .setAutoCancel(true)\r\n                    .setStyle(new NotificationCompat.BigTextStyle()\r\n                            .bigText(text))\r\n                    .setContentIntent(pendingIntent)\r\n                    .setDeleteIntent(pendingIntent)\r\n    \r\n                    .setDefaults(NotificationCompat.DEFAULT_ALL)\r\n                    .setPriority(NotificationCompat.PRIORITY_HIGH);\r\n    \r\n    \r\n    \r\n    \r\n            NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context);\r\n            notificationManagerCompat.notify(123,builder.build());\r\n    \r\n            Notification notification1 = builder.build();\r\n            notification1.flags |= Notification.FLAG_AUTO_CANCEL;\r\n    \r\n    \r\n            Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM);\r\n    \r\n            Ringtone r = RingtoneManager.getRingtone(context, notification);\r\n            r.play();\r\n    \r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (r.isPlaying())\r\n                        r.stop();\r\n                }\r\n            },1000*10 );\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"AlarmManager doesn&#39;t stop playing sound when user taps on push notification and get in app","body":"<p><strong>PUSH-NOTIFICATION PROBLEM</strong></p>\n<p>I am building a Calendar application and I added an alarm that user can choose specific date and time. The alarm works fine. My problem is that when the notification is shown and I tap on the notification bar, I get in the app and the music play until I quit the app. The only wayI found, is to add a time delay to play for 10seconds for example, but I want to stop music on tap.</p>\n<p><strong>Vibrator problem</strong></p>\n<p>The vibrator doesn't work, right now this isn't such a big problem, so if anyone can solve me at least the vibrator problem it would be very helpfuld.</p>\n<p><strong>My AlarmReceiver class</strong></p>\n<pre><code>public class AlarmReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n\n\n\n        Vibrator vibrator = (Vibrator) context.getSystemService(Context.VIBRATOR_SERVICE);\n        vibrator.vibrate(VibrationEffect.DEFAULT_AMPLITUDE);\n\n\n\n        String event = intent.getStringExtra(&quot;title&quot;);\n        String comment = intent.getStringExtra(&quot;comment&quot;);\n        Intent activityIntent = new Intent(context, MainActivity.class);\n\n        PendingIntent pendingIntent = PendingIntent.getActivity( context,0,activityIntent,0 );\n\n\n        String text = &quot;Reminder for the Event: &quot; + &quot;\\n&quot; + event + &quot;\\n&quot; + &quot;Comments: &quot; + &quot;\\n&quot; + comment;\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;myandroid&quot;)\n                .setSmallIcon(R.drawable.alarm)\n                .setContentTitle(event)\n                .setContentText(text)\n                .setAutoCancel(true)\n                .setStyle(new NotificationCompat.BigTextStyle()\n                        .bigText(text))\n                .setContentIntent(pendingIntent)\n                .setDeleteIntent(pendingIntent)\n\n                .setDefaults(NotificationCompat.DEFAULT_ALL)\n                .setPriority(NotificationCompat.PRIORITY_HIGH);\n\n\n\n\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(context);\n        notificationManagerCompat.notify(123,builder.build());\n\n        Notification notification1 = builder.build();\n        notification1.flags |= Notification.FLAG_AUTO_CANCEL;\n\n\n        Uri notification = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_ALARM);\n\n        Ringtone r = RingtoneManager.getRingtone(context, notification);\n        r.play();\n\n        final Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                if (r.isPlaying())\n                    r.stop();\n            }\n        },1000*10 );\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"score":1,"creation_date":1697466436,"post_id":77284952,"comment_id":136280089,"body_markdown":"use Spring Cloud Config Server","body":"use Spring Cloud Config Server"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1697614356,"post_id":77284952,"comment_id":136300407,"body_markdown":"Config Server is better in your case","body":"Config Server is better in your case"}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697177387,"creation_date":1697177387,"answer_id":77285432,"question_id":77284952,"body_markdown":"## Question\r\n1. how and where I can move my properties to external server.\r\n\r\nevery country developers have different tools in java , in china  we often use [nacos](https://nacos.io/en-us/docs/what-is-nacos.html) to storage sentsitively \r\nwhich is a distributed naming and configuration center\r\n\r\n2. How to roll out property changes during deployments because these values are different on different environment like Dev, Test, Stage and Production.\r\n \r\n\r\n&gt; Locally\r\n\r\nIn genernal ,we often name spring profiles as the type following \r\n```\r\napplication.properties\r\napplication-dev.properties\r\napplication-uat.properties\r\napplication-uat.properties\r\n```\r\nwhen different server environment  is required , we  add extra command before  we start up the jar . have a try with folowing command to  this \r\n```shell\r\n// the application shoule be your jar name\r\njava -jar  -Dspring.profiles.active=dev application.jar\r\n```\r\n&gt; Remote \r\n\r\nbasic there would be a config propertis  indeciate the properties config center host , some thing like (just example , not in real usage)\r\n```\r\n// you deploy tools  server ip\r\nremote.config.host = http://192.168.2.1:8848   \r\n// the env properties which you would like to active\r\nremote.config.namespace = dev\r\n```\r\n\r\nplease refer to  [nacos](https://nacos.io/en-us/docs/what-is-nacos.html) useage , i think there could be more helpful  knowledge for you scenario\r\n","title":"How to manage multiple .properties files in Spring Boot for different deploying environments?","body":"<h2>Question</h2>\n<ol>\n<li>how and where I can move my properties to external server.</li>\n</ol>\n<p>every country developers have different tools in java , in china  we often use <a href=\"https://nacos.io/en-us/docs/what-is-nacos.html\" rel=\"nofollow noreferrer\">nacos</a> to storage sentsitively\nwhich is a distributed naming and configuration center</p>\n<ol start=\"2\">\n<li>How to roll out property changes during deployments because these values are different on different environment like Dev, Test, Stage and Production.</li>\n</ol>\n<blockquote>\n<p>Locally</p>\n</blockquote>\n<p>In genernal ,we often name spring profiles as the type following</p>\n<pre><code>application.properties\napplication-dev.properties\napplication-uat.properties\napplication-uat.properties\n</code></pre>\n<p>when different server environment  is required , we  add extra command before  we start up the jar . have a try with folowing command to  this</p>\n<pre class=\"lang-bash prettyprint-override\"><code>// the application shoule be your jar name\njava -jar  -Dspring.profiles.active=dev application.jar\n</code></pre>\n<blockquote>\n<p>Remote</p>\n</blockquote>\n<p>basic there would be a config propertis  indeciate the properties config center host , some thing like (just example , not in real usage)</p>\n<pre><code>// you deploy tools  server ip\nremote.config.host = http://192.168.2.1:8848   \n// the env properties which you would like to active\nremote.config.namespace = dev\n</code></pre>\n<p>please refer to  <a href=\"https://nacos.io/en-us/docs/what-is-nacos.html\" rel=\"nofollow noreferrer\">nacos</a> useage , i think there could be more helpful  knowledge for you scenario</p>\n"},{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1697614589,"creation_date":1697454181,"answer_id":77301424,"question_id":77284952,"body_markdown":"You can achieve your requirements via **Spring Cloud Config Server** and **Client.**\r\n\r\nPlease refer to this doc [here][1].\r\n\r\n---\r\n\r\n**Github Approach:**\r\n\r\nStep-By-Step Process where a **Github** repo will be acting as a source for all external properties files containing confidential/sensitive data.\r\n\r\n1. I have created and hosted all my `secrets-{env}.properties` files on my Github [repo][2] for testing and demonstration.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**secrets-dev.properties:**\r\n\r\n    secrets.api-key=&lt;dev-api-key&gt;\r\n    secrets.token=&lt;dev-token&gt;\r\n\r\n\r\n**secrets-stage.properties:**\r\n\r\n    secrets.api-key=&lt;stage-api-key&gt;\r\n    secrets.token=&lt;stage-token&gt;\r\n\r\n\r\n**secrets-test.properties:**\r\n\r\n    secrets.api-key=&lt;test-api-key&gt;\r\n    secrets.token=&lt;test-token&gt;\r\n\r\n\r\n**secrets-prod.properties:**\r\n\r\n    secrets.api-key=&lt;prod-api-key&gt;\r\n    secrets.token=&lt;prod-token&gt;\r\n\r\n2. You have to create and setup the Spring Boot Cloud Config Server (acting as an **external server**) which will take the responsibility of connecting to the Github external repository and provide the necessary way for the clients to get access to the properties files based on the environment.\r\n\r\n**Project Structure:**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**pom.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sb-externalize-config-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;sb-externalize-config-server&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**application.properties:**\r\n\r\n    spring.cloud.config.server.git.uri=https://github.com/anishb266/secrets-repo\r\n    server.port=8081\r\n\r\n**Key points to be noted:**\r\n\r\n- You have to set `spring.cloud.config.server.git.uri=https://github.com/anishb266/secrets-repo` to connect to that repo.\r\n\r\nStartup Class:\r\n\r\n    package com.example;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.config.server.EnableConfigServer;\r\n    \r\n    @SpringBootApplication\r\n    @EnableConfigServer\r\n    public class SbExternalizeConfigServerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SbExternalizeConfigServerApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nYou have to use `@EnableConfigServer` to make it an external config server.\r\n\r\nNow, I will be running the external config server on port `8081`.\r\n\r\n**Output:** \r\n\r\nAccessing one of the properties, i.e, **secrets-test.properties** like this:\r\n\r\n    http://localhost:8081/{application}/{env} \r\n    \r\n    application - secrets\r\n    env - test\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n**Config Server Log:**\r\n\r\n[![enter image description here][6]][6]\r\n \r\n3. You have to create and setup the Spring boot Cloud Config client which will connect to config server and get the properties value based on the environment.\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][7]][7]\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sb-externalize-config-client&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;sb-externalize-config-client&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**application.properties:**\r\n\r\n    spring.config.import=optional:configserver:http://localhost:8081\r\n    server.port=8080\r\n    spring.application.name=secrets\r\n    spring.profiles.active=test\r\n\r\n**Key points to be noted here:**\r\n\r\n- You have set the `spring.application.name` with the application name (here it&#39;s `secrets`) before `-{env}.properties` for looking up into config server. Otherwise, it won&#39;t work. Basically, it tries to find properties file via **name of the application**. By default, the name is `application` only. So, it will try to find **application-{env}.properties** by default.\r\n\r\n- For testing, I&#39;m keeping `spring.profiles.active=test` so that client will try to fetch the properties from **secrets-test.properties** via config server.\r\n\r\n- You have set this `spring.config.import=optional:configserver:http://localhost:8081` for connecting to the external server.\r\n\r\n**SecretsProperties:**\r\n\r\n    package com.example;\r\n    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    \r\n    @ConfigurationProperties(&quot;secrets&quot;)\r\n    public class SecretsProperties {\r\n    \r\n    \tprivate String apiKey;\r\n    \r\n    \tprivate String token;\r\n    \r\n    \tpublic SecretsProperties(String apiKey, String token) {\r\n    \t\tthis.apiKey = apiKey;\r\n    \t\tthis.token = token;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;SecretsProperties [apiKey=&quot; + apiKey + &quot;, token=&quot; + token + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \tpublic String getApiKey() {\r\n    \t\treturn apiKey;\r\n    \t}\r\n    \r\n    \tpublic void setApiKey(String apiKey) {\r\n    \t\tthis.apiKey = apiKey;\r\n    \t}\r\n    \r\n    \tpublic String getToken() {\r\n    \t\treturn token;\r\n    \t}\r\n    \r\n    \tpublic void setToken(String token) {\r\n    \t\tthis.token = token;\r\n    \t}\r\n    \r\n    }\r\n\r\nThis class is to map the loaded properties.\r\n\r\nStartup class:\r\n\r\n    package com.example;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    \r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties(SecretsProperties.class)\r\n    public class SbExternalizeConfigClientApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SbExternalizeConfigClientApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nTestController for testing:\r\n\r\n\r\n    package com.example;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class TestController {\r\n    \r\n    \tprivate SecretsProperties properties;\r\n    \r\n    \tpublic TestController(SecretsProperties properties) {\r\n    \t\tthis.properties = properties;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;test-external-properties&quot;)\r\n    \tpublic SecretsProperties testExternalProperties() {\r\n    \t\treturn properties;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nNow, I&#39;m running the client at 8080 with profiles `test`.\r\n\r\n**Client Log:**\r\n\r\n[![enter image description here][8]][8]\r\n\r\n**Output:**\r\n\r\n[![enter image description here][9]][9]\r\n\r\nProviding a part of the External Config server log to proof that client was able to pick the desired properties with **test** profile via config server with the application-name `secrets`:\r\n\r\n    2023-10-16T18:04:48.433+05:30  INFO 79167 --- [nio-8081-exec-2] o.s.c.c.s.e.NativeEnvironmentRepository  : Adding property source: Config resource &#39;file [/var/folders/yq/m5hjv94j18586b1gzwzjg1tw0000gn/T/config-repo-5291131953887905898/secrets-test.properties]&#39; via location &#39;file:/var/folders/yq/m5hjv94j18586b1gzwzjg1tw0000gn/T/config-repo-5291131953887905898/&#39;\r\n\r\nThat&#39;s all.\r\n\r\n--------\r\n\r\n**HashiCorp Vault Approach:**\r\n\r\n\r\nIf you are looking for a more secured and encrypted way of saving properties, then go for **HashiCorp Vault**. \r\n\r\n**Note:** Vault acts as an external server for keeping secrets. So, you don&#39;t need to create an external server from scratch.\r\n\r\nRead the Spring Boot docs [here][10] on how to do it.\r\n\r\nFrom Docs:\r\n\r\n&gt; Vault is a secrets management system allowing you to store sensitive\r\n&gt; data which is encrypted at rest. It’s ideal to store sensitive\r\n&gt; configuration details such as passwords, encryption keys, API keys.\r\n\r\nProcess is quite similar but there will some changes.\r\n\r\n- First download Vault for [here][11].\r\n- Extract it. There will be only one file `vault.sh`.\r\n- Follow the installation process [here][12].\r\n- For demonstation purposes, I have used this command -&gt; `./vault server --dev --dev-root-token-id=&quot;abc&quot;` where I have taken an example token as `abc`. Please don&#39;t run like this in prod.\r\n- Open another console and execute this command.\r\n\r\n        export VAULT_TOKEN=&quot;abc&quot;\r\n        export VAULT_ADDR=&quot;http://127.0.0.1:8200&quot;\r\n\r\n- Enter the values to vault. **Format:**\r\n\r\n        ./vault kv put secret/{application-name}/{env} key=value\r\n\r\n- Example commands to put data into vault:\r\n\r\n        ./vault kv put secret/secrets/test secrets.api-key=something secrets.token=something\r\n\r\n        ./vault kv put secret/secrets/dev secrets.api-key=nothing secrets.token=nothing\r\n\r\n\r\n- I will be using the same existing client project to demonstrate.\r\n\r\nAdd this dependency in the pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;. \r\n    &lt;/dependency&gt;\r\n\r\nYou don&#39;t need this dependency below anymore:\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n \r\nKindly remove this.\r\n\r\npom.xml will look like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sb-externalize-config-client&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;sb-externalize-config-client&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nSet **application.properties** with the below properties:\r\n\r\n    spring.application.name=secrets\r\n    spring.cloud.vault.token=abc\r\n    spring.cloud.vault.scheme=http\r\n    spring.cloud.vault.kv.enabled=true\r\n    spring.cloud.vault.kv.default-context=\r\n    spring.config.import=vault://secret/${spring.application.name}/${spring.profiles.active}\r\n    spring.profiles.active=test\r\n\r\n**Points to be noted:**\r\n\r\n- By default, the spring cloud starter vault picks and appends the `/application` as application name to lookup for the secrets from vault. To prevent this, we need to add `spring.cloud.vault.kv.default-context=` property.\r\n\r\n\r\nThe **TestController**, **SecretsProperties** and **SbExternalizeConfigClientApplication** remain the same.\r\n\r\n**Output:**\r\n\r\nI&#39;m running the client for `test` profile.\r\n\r\n[![enter image description here][13]][13]\r\n\r\n**Note:** This was a very basic approach that I showed with Vault.\r\n\r\n**Read docs for more info on how to do more advanced setup for Vault.**   \r\n\r\n  [1]: https://docs.spring.io/spring-cloud-config/docs/current/reference/html/\r\n  [2]: https://github.com/anishb266/secrets-repo\r\n  [3]: https://i.stack.imgur.com/h00Pm.png\r\n  [4]: https://i.stack.imgur.com/6CMAW.png\r\n  [5]: https://i.stack.imgur.com/YMcHT.png\r\n  [6]: https://i.stack.imgur.com/TQRRG.jpg\r\n  [7]: https://i.stack.imgur.com/XfMWp.png\r\n  [8]: https://i.stack.imgur.com/0KL5j.jpg\r\n  [9]: https://i.stack.imgur.com/3Ei4O.png\r\n  [10]: https://spring.io/guides/gs/vault-config/\r\n  [11]: https://developer.hashicorp.com/vault/downloads\r\n  [12]: https://developer.hashicorp.com/vault/tutorials/getting-started/getting-started-dev-server\r\n  [13]: https://i.stack.imgur.com/Tmcaf.png","title":"How to manage multiple .properties files in Spring Boot for different deploying environments?","body":"<p>You can achieve your requirements via <strong>Spring Cloud Config Server</strong> and <strong>Client.</strong></p>\n<p>Please refer to this doc <a href=\"https://docs.spring.io/spring-cloud-config/docs/current/reference/html/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<hr />\n<p><strong>Github Approach:</strong></p>\n<p>Step-By-Step Process where a <strong>Github</strong> repo will be acting as a source for all external properties files containing confidential/sensitive data.</p>\n<ol>\n<li>I have created and hosted all my <code>secrets-{env}.properties</code> files on my Github <a href=\"https://github.com/anishb266/secrets-repo\" rel=\"nofollow noreferrer\">repo</a> for testing and demonstration.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/h00Pm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h00Pm.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>secrets-dev.properties:</strong></p>\n<pre><code>secrets.api-key=&lt;dev-api-key&gt;\nsecrets.token=&lt;dev-token&gt;\n</code></pre>\n<p><strong>secrets-stage.properties:</strong></p>\n<pre><code>secrets.api-key=&lt;stage-api-key&gt;\nsecrets.token=&lt;stage-token&gt;\n</code></pre>\n<p><strong>secrets-test.properties:</strong></p>\n<pre><code>secrets.api-key=&lt;test-api-key&gt;\nsecrets.token=&lt;test-token&gt;\n</code></pre>\n<p><strong>secrets-prod.properties:</strong></p>\n<pre><code>secrets.api-key=&lt;prod-api-key&gt;\nsecrets.token=&lt;prod-token&gt;\n</code></pre>\n<ol start=\"2\">\n<li>You have to create and setup the Spring Boot Cloud Config Server (acting as an <strong>external server</strong>) which will take the responsibility of connecting to the Github external repository and provide the necessary way for the clients to get access to the properties files based on the environment.</li>\n</ol>\n<p><strong>Project Structure:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/6CMAW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6CMAW.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sb-externalize-config-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sb-externalize-config-server&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.cloud.config.server.git.uri=https://github.com/anishb266/secrets-repo\nserver.port=8081\n</code></pre>\n<p><strong>Key points to be noted:</strong></p>\n<ul>\n<li>You have to set <code>spring.cloud.config.server.git.uri=https://github.com/anishb266/secrets-repo</code> to connect to that repo.</li>\n</ul>\n<p>Startup Class:</p>\n<pre><code>package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.config.server.EnableConfigServer;\n\n@SpringBootApplication\n@EnableConfigServer\npublic class SbExternalizeConfigServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SbExternalizeConfigServerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>You have to use <code>@EnableConfigServer</code> to make it an external config server.</p>\n<p>Now, I will be running the external config server on port <code>8081</code>.</p>\n<p><strong>Output:</strong></p>\n<p>Accessing one of the properties, i.e, <strong>secrets-test.properties</strong> like this:</p>\n<pre><code>http://localhost:8081/{application}/{env} \n\napplication - secrets\nenv - test\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YMcHT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YMcHT.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Config Server Log:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/TQRRG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TQRRG.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>You have to create and setup the Spring boot Cloud Config client which will connect to config server and get the properties value based on the environment.</li>\n</ol>\n<p>Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/XfMWp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XfMWp.png\" alt=\"enter image description here\" /></a></p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sb-externalize-config-client&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sb-externalize-config-client&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.config.import=optional:configserver:http://localhost:8081\nserver.port=8080\nspring.application.name=secrets\nspring.profiles.active=test\n</code></pre>\n<p><strong>Key points to be noted here:</strong></p>\n<ul>\n<li><p>You have set the <code>spring.application.name</code> with the application name (here it's <code>secrets</code>) before <code>-{env}.properties</code> for looking up into config server. Otherwise, it won't work. Basically, it tries to find properties file via <strong>name of the application</strong>. By default, the name is <code>application</code> only. So, it will try to find <strong>application-{env}.properties</strong> by default.</p>\n</li>\n<li><p>For testing, I'm keeping <code>spring.profiles.active=test</code> so that client will try to fetch the properties from <strong>secrets-test.properties</strong> via config server.</p>\n</li>\n<li><p>You have set this <code>spring.config.import=optional:configserver:http://localhost:8081</code> for connecting to the external server.</p>\n</li>\n</ul>\n<p><strong>SecretsProperties:</strong></p>\n<pre><code>package com.example;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(&quot;secrets&quot;)\npublic class SecretsProperties {\n\n    private String apiKey;\n\n    private String token;\n\n    public SecretsProperties(String apiKey, String token) {\n        this.apiKey = apiKey;\n        this.token = token;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;SecretsProperties [apiKey=&quot; + apiKey + &quot;, token=&quot; + token + &quot;]&quot;;\n    }\n\n    public String getApiKey() {\n        return apiKey;\n    }\n\n    public void setApiKey(String apiKey) {\n        this.apiKey = apiKey;\n    }\n\n    public String getToken() {\n        return token;\n    }\n\n    public void setToken(String token) {\n        this.token = token;\n    }\n\n}\n</code></pre>\n<p>This class is to map the loaded properties.</p>\n<p>Startup class:</p>\n<pre><code>package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\n@SpringBootApplication\n@EnableConfigurationProperties(SecretsProperties.class)\npublic class SbExternalizeConfigClientApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SbExternalizeConfigClientApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>TestController for testing:</p>\n<pre><code>package com.example;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class TestController {\n\n    private SecretsProperties properties;\n\n    public TestController(SecretsProperties properties) {\n        this.properties = properties;\n    }\n\n    @GetMapping(&quot;test-external-properties&quot;)\n    public SecretsProperties testExternalProperties() {\n        return properties;\n    }\n\n}\n</code></pre>\n<p>Now, I'm running the client at 8080 with profiles <code>test</code>.</p>\n<p><strong>Client Log:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/0KL5j.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0KL5j.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3Ei4O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Ei4O.png\" alt=\"enter image description here\" /></a></p>\n<p>Providing a part of the External Config server log to proof that client was able to pick the desired properties with <strong>test</strong> profile via config server with the application-name <code>secrets</code>:</p>\n<pre><code>2023-10-16T18:04:48.433+05:30  INFO 79167 --- [nio-8081-exec-2] o.s.c.c.s.e.NativeEnvironmentRepository  : Adding property source: Config resource 'file [/var/folders/yq/m5hjv94j18586b1gzwzjg1tw0000gn/T/config-repo-5291131953887905898/secrets-test.properties]' via location 'file:/var/folders/yq/m5hjv94j18586b1gzwzjg1tw0000gn/T/config-repo-5291131953887905898/'\n</code></pre>\n<p>That's all.</p>\n<hr />\n<p><strong>HashiCorp Vault Approach:</strong></p>\n<p>If you are looking for a more secured and encrypted way of saving properties, then go for <strong>HashiCorp Vault</strong>.</p>\n<p><strong>Note:</strong> Vault acts as an external server for keeping secrets. So, you don't need to create an external server from scratch.</p>\n<p>Read the Spring Boot docs <a href=\"https://spring.io/guides/gs/vault-config/\" rel=\"nofollow noreferrer\">here</a> on how to do it.</p>\n<p>From Docs:</p>\n<blockquote>\n<p>Vault is a secrets management system allowing you to store sensitive\ndata which is encrypted at rest. It’s ideal to store sensitive\nconfiguration details such as passwords, encryption keys, API keys.</p>\n</blockquote>\n<p>Process is quite similar but there will some changes.</p>\n<ul>\n<li><p>First download Vault for <a href=\"https://developer.hashicorp.com/vault/downloads\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n<li><p>Extract it. There will be only one file <code>vault.sh</code>.</p>\n</li>\n<li><p>Follow the installation process <a href=\"https://developer.hashicorp.com/vault/tutorials/getting-started/getting-started-dev-server\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n<li><p>For demonstation purposes, I have used this command -&gt; <code>./vault server --dev --dev-root-token-id=&quot;abc&quot;</code> where I have taken an example token as <code>abc</code>. Please don't run like this in prod.</p>\n</li>\n<li><p>Open another console and execute this command.</p>\n<pre><code>  export VAULT_TOKEN=&quot;abc&quot;\n  export VAULT_ADDR=&quot;http://127.0.0.1:8200&quot;\n</code></pre>\n</li>\n<li><p>Enter the values to vault. <strong>Format:</strong></p>\n<pre><code>  ./vault kv put secret/{application-name}/{env} key=value\n</code></pre>\n</li>\n<li><p>Example commands to put data into vault:</p>\n<pre><code>  ./vault kv put secret/secrets/test secrets.api-key=something secrets.token=something\n\n  ./vault kv put secret/secrets/dev secrets.api-key=nothing secrets.token=nothing\n</code></pre>\n</li>\n<li><p>I will be using the same existing client project to demonstrate.</p>\n</li>\n</ul>\n<p>Add this dependency in the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;. \n&lt;/dependency&gt;\n</code></pre>\n<p>You don't need this dependency below anymore:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Kindly remove this.</p>\n<p>pom.xml will look like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;sb-externalize-config-client&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sb-externalize-config-client&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Set <strong>application.properties</strong> with the below properties:</p>\n<pre><code>spring.application.name=secrets\nspring.cloud.vault.token=abc\nspring.cloud.vault.scheme=http\nspring.cloud.vault.kv.enabled=true\nspring.cloud.vault.kv.default-context=\nspring.config.import=vault://secret/${spring.application.name}/${spring.profiles.active}\nspring.profiles.active=test\n</code></pre>\n<p><strong>Points to be noted:</strong></p>\n<ul>\n<li>By default, the spring cloud starter vault picks and appends the <code>/application</code> as application name to lookup for the secrets from vault. To prevent this, we need to add <code>spring.cloud.vault.kv.default-context=</code> property.</li>\n</ul>\n<p>The <strong>TestController</strong>, <strong>SecretsProperties</strong> and <strong>SbExternalizeConfigClientApplication</strong> remain the same.</p>\n<p><strong>Output:</strong></p>\n<p>I'm running the client for <code>test</code> profile.</p>\n<p><a href=\"https://i.stack.imgur.com/Tmcaf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tmcaf.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note:</strong> This was a very basic approach that I showed with Vault.</p>\n<p><strong>Read docs for more info on how to do more advanced setup for Vault.</strong></p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77301424,"answer_count":2,"score":2,"last_activity_date":1697723400,"creation_date":1697168847,"question_id":77284952,"body_markdown":"I have a Spring Boot application where in the `src/main/resources` directory I have multiple **.properties** files which I&#39;m using something like this given below via code: \r\n\r\n`@PropertySource(value = &quot;classpath:properties/myfunctional.properties”)`\r\n\r\nCurrently, I&#39;m able to achieve my work with this as it&#39;s a simple functionality. \r\n\r\nBut the thing is keeping all these **.properties** files in `src/main/resources` is not a good idea because of the following reasons:\r\n\r\n- These **.properties** files will be part of the build and packaged  into a **.jar** file. \r\n- I guess storing sensitive information like **apikey**, **token** in the codebase via properties is not a good practice. \r\n\r\n\r\nSo, I have few questions around this: \r\n\r\n- How and where can I move all of my **.properties** files to an external server?\r\n- How to roll out property changes during the deployment as these values are going to differ based on the environment like **dev**, **test**, **stage** &amp; **prod**? \r\n\r\n**Note:** Few of the techniques I have tried with **Spring Boot Config**, **Git Secret Variable** and so on. But again I&#39;m not sure on how much secure these techniques are. \r\n\r\nSo, I&#39;m looking for an answer which will cover broader aspects.","title":"How to manage multiple .properties files in Spring Boot for different deploying environments?","body":"<p>I have a Spring Boot application where in the <code>src/main/resources</code> directory I have multiple <strong>.properties</strong> files which I'm using something like this given below via code:</p>\n<p><code>@PropertySource(value = &quot;classpath:properties/myfunctional.properties”)</code></p>\n<p>Currently, I'm able to achieve my work with this as it's a simple functionality.</p>\n<p>But the thing is keeping all these <strong>.properties</strong> files in <code>src/main/resources</code> is not a good idea because of the following reasons:</p>\n<ul>\n<li>These <strong>.properties</strong> files will be part of the build and packaged  into a <strong>.jar</strong> file.</li>\n<li>I guess storing sensitive information like <strong>apikey</strong>, <strong>token</strong> in the codebase via properties is not a good practice.</li>\n</ul>\n<p>So, I have few questions around this:</p>\n<ul>\n<li>How and where can I move all of my <strong>.properties</strong> files to an external server?</li>\n<li>How to roll out property changes during the deployment as these values are going to differ based on the environment like <strong>dev</strong>, <strong>test</strong>, <strong>stage</strong> &amp; <strong>prod</strong>?</li>\n</ul>\n<p><strong>Note:</strong> Few of the techniques I have tried with <strong>Spring Boot Config</strong>, <strong>Git Secret Variable</strong> and so on. But again I'm not sure on how much secure these techniques are.</p>\n<p>So, I'm looking for an answer which will cover broader aspects.</p>\n"},{"tags":["java","android","broadcastreceiver","android-download-manager","receiver"],"answers":[{"tags":[],"owner":{"account_id":1833849,"reputation":4911,"user_id":1664604,"accept_rate":67,"display_name":"Nithinlal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1352550309,"creation_date":1352550309,"answer_id":13322035,"question_id":13321984,"body_markdown":"u try this code to get the file name\r\n\r\nDownloadManager.COLUMN_LOCAL_FILENAME\r\n\r\ni am not sure about it","title":"Android DownloadManager get filename","body":"<p>u try this code to get the file name</p>\n\n<p>DownloadManager.COLUMN_LOCAL_FILENAME</p>\n\n<p>i am not sure about it</p>\n"},{"tags":[],"owner":{"account_id":203087,"reputation":27703,"user_id":450534,"accept_rate":87,"display_name":"Siddharth Lele"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352550769,"creation_date":1352550769,"answer_id":13322089,"question_id":13321984,"body_markdown":"I think what you are looking for is the `DownloadManager.COLUMN_TITLE`\r\n\r\nHere is a link to the Android Documents: http://developer.android.com/reference/android/app/DownloadManager.html#COLUMN_TITLE\r\n\r\nAnd here is a tutorial that will explain more than just getting the title. It is for downloading an image from a URL and then displaying it in an application. Mighty useful I think, overall speaking.\r\n\r\nhttp://wptrafficanalyzer.in/blog/downloading-an-image-from-an-http-url-using-downloadmanager-and-displaying-in-imageview-by-dynamically-registered-broadcastreceiver/","title":"Android DownloadManager get filename","body":"<p>I think what you are looking for is the <code>DownloadManager.COLUMN_TITLE</code></p>\n\n<p>Here is a link to the Android Documents: <a href=\"http://developer.android.com/reference/android/app/DownloadManager.html#COLUMN_TITLE\" rel=\"nofollow\">http://developer.android.com/reference/android/app/DownloadManager.html#COLUMN_TITLE</a></p>\n\n<p>And here is a tutorial that will explain more than just getting the title. It is for downloading an image from a URL and then displaying it in an application. Mighty useful I think, overall speaking.</p>\n\n<p><a href=\"http://wptrafficanalyzer.in/blog/downloading-an-image-from-an-http-url-using-downloadmanager-and-displaying-in-imageview-by-dynamically-registered-broadcastreceiver/\" rel=\"nofollow\">http://wptrafficanalyzer.in/blog/downloading-an-image-from-an-http-url-using-downloadmanager-and-displaying-in-imageview-by-dynamically-registered-broadcastreceiver/</a></p>\n"},{"tags":[],"owner":{"account_id":1869777,"reputation":376,"user_id":1692302,"display_name":"Ian Shannon"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1352552608,"creation_date":1352552608,"answer_id":13322285,"question_id":13321984,"body_markdown":"I think you want to put something like this inside your `if` block.  Replace `YOUR_DM` with your DownloadManager instance.\r\n\r\n    Bundle extras = intent.getExtras();\r\n    DownloadManager.Query q = new DownloadManager.Query();\r\n    q.setFilterById(extras.getLong(DownloadManager.EXTRA_DOWNLOAD_ID));\r\n    Cursor c = YOUR_DM.query(q);\r\n    \r\n    if (c.moveToFirst()) {\r\n    \tint status = c.getInt(c.getColumnIndex(DownloadManager.COLUMN_STATUS));\r\n    \tif (status == DownloadManager.STATUS_SUCCESSFUL) {\r\n    \t\t// process download\r\n    \t\ttitle = c.getString(c.getColumnIndex(DownloadManager.COLUMN_TITLE));\r\n    \t\t// get other required data by changing the constant passed to getColumnIndex\r\n    \t}\r\n    }\r\n","title":"Android DownloadManager get filename","body":"<p>I think you want to put something like this inside your <code>if</code> block.  Replace <code>YOUR_DM</code> with your DownloadManager instance.</p>\n\n<pre><code>Bundle extras = intent.getExtras();\nDownloadManager.Query q = new DownloadManager.Query();\nq.setFilterById(extras.getLong(DownloadManager.EXTRA_DOWNLOAD_ID));\nCursor c = YOUR_DM.query(q);\n\nif (c.moveToFirst()) {\n    int status = c.getInt(c.getColumnIndex(DownloadManager.COLUMN_STATUS));\n    if (status == DownloadManager.STATUS_SUCCESSFUL) {\n        // process download\n        title = c.getString(c.getColumnIndex(DownloadManager.COLUMN_TITLE));\n        // get other required data by changing the constant passed to getColumnIndex\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2574985,"reputation":3376,"user_id":2232889,"accept_rate":80,"display_name":"Mario Velasco"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1455281409,"creation_date":1396455441,"answer_id":22817323,"question_id":13321984,"body_markdown":"Ian Shannon was totally right with his answer, but I sugest some improvement:\r\n\r\n - Remember to close that `Cursor` after using it, avoiding &quot;Cursor Leaking&quot;. This `Cursor` consumes a lot of resources and must be released as soon as possible. \r\n \r\n - If you put some title for the download, such as:\r\n\r\n        DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\r\n        request.setTitle(&quot;Some title&quot;);\r\n\r\n    The value given by the `DownloadManager.COLUMN_TITLE` will be `&quot;Some title&quot;` instead of the file name. So I would recommend this instead:\r\n\r\n        String filePath = c.getString(c.getColumnIndex(DownloadManager.COLUMN_LOCAL_FILENAME));\r\n        title = filePath.substring( filePath.lastIndexOf(&#39;/&#39;)+1, filePath.length() );\r\n\r\n    The `COLUMN_LOCAL_FILENAME` returns the entire path (`/storage/sdcard0/Android/data/.../filename.ext`), but with this code, we will only get the file name.\r\n\r\nFinal code:\r\n\r\n    Bundle extras = intent.getExtras();\r\n    DownloadManager.Query q = new DownloadManager.Query();\r\n    q.setFilterById(extras.getLong(DownloadManager.EXTRA_DOWNLOAD_ID));\r\n    Cursor c = YOUR_DM.query(q);\r\n\r\n    if (c.moveToFirst()) {\r\n        int status = c.getInt(c.getColumnIndex(DownloadManager.COLUMN_STATUS));\r\n        if (status == DownloadManager.STATUS_SUCCESSFUL) {\r\n            String filePath = c.getString(c.getColumnIndex(DownloadManager.COLUMN_LOCAL_FILENAME));\r\n            filename = filePath.substring( filePath.lastIndexOf(&#39;/&#39;)+1, filePath.length() );\r\n        }\r\n    }\r\n    c.close();\r\n\r\n**Edit:** Replace YOUR_DM with your DownloadManager instance.","title":"Android DownloadManager get filename","body":"<p>Ian Shannon was totally right with his answer, but I sugest some improvement:</p>\n\n<ul>\n<li><p>Remember to close that <code>Cursor</code> after using it, avoiding \"Cursor Leaking\". This <code>Cursor</code> consumes a lot of resources and must be released as soon as possible. </p></li>\n<li><p>If you put some title for the download, such as:</p>\n\n<pre><code>DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\nrequest.setTitle(\"Some title\");\n</code></pre>\n\n<p>The value given by the <code>DownloadManager.COLUMN_TITLE</code> will be <code>\"Some title\"</code> instead of the file name. So I would recommend this instead:</p>\n\n<pre><code>String filePath = c.getString(c.getColumnIndex(DownloadManager.COLUMN_LOCAL_FILENAME));\ntitle = filePath.substring( filePath.lastIndexOf('/')+1, filePath.length() );\n</code></pre>\n\n<p>The <code>COLUMN_LOCAL_FILENAME</code> returns the entire path (<code>/storage/sdcard0/Android/data/.../filename.ext</code>), but with this code, we will only get the file name.</p></li>\n</ul>\n\n<p>Final code:</p>\n\n<pre><code>Bundle extras = intent.getExtras();\nDownloadManager.Query q = new DownloadManager.Query();\nq.setFilterById(extras.getLong(DownloadManager.EXTRA_DOWNLOAD_ID));\nCursor c = YOUR_DM.query(q);\n\nif (c.moveToFirst()) {\n    int status = c.getInt(c.getColumnIndex(DownloadManager.COLUMN_STATUS));\n    if (status == DownloadManager.STATUS_SUCCESSFUL) {\n        String filePath = c.getString(c.getColumnIndex(DownloadManager.COLUMN_LOCAL_FILENAME));\n        filename = filePath.substring( filePath.lastIndexOf('/')+1, filePath.length() );\n    }\n}\nc.close();\n</code></pre>\n\n<p><strong>Edit:</strong> Replace YOUR_DM with your DownloadManager instance.</p>\n"},{"tags":[],"owner":{"account_id":5781760,"reputation":2195,"user_id":4562156,"accept_rate":86,"display_name":"Sean Pianka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561054576,"creation_date":1561054576,"answer_id":56691762,"question_id":13321984,"body_markdown":"There&#39;s a simpler way to retrieve the downloaded file URI, and that is with `getUriForDownloadedFile`:\r\n\r\n    download_receiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Bundle b = intent.getExtras();\r\n            DownloadManager dm = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\r\n            long file_id = b.getLong(DownloadManager.EXTRA_DOWNLOAD_ID);\r\n            Uri uri = dm.getUriForDownloadedFile(downloaded_file_id);\r\n   \r\n        }\r\n    }\r\n\r\nI found this method [here](https://stackoverflow.com/a/31275425/4562156) in a full description of how to use a BroadcastReceiver for handling DOWNLOAD_COMPLETE events.","title":"Android DownloadManager get filename","body":"<p>There's a simpler way to retrieve the downloaded file URI, and that is with <code>getUriForDownloadedFile</code>:</p>\n\n<pre><code>download_receiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Bundle b = intent.getExtras();\n        DownloadManager dm = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\n        long file_id = b.getLong(DownloadManager.EXTRA_DOWNLOAD_ID);\n        Uri uri = dm.getUriForDownloadedFile(downloaded_file_id);\n\n    }\n}\n</code></pre>\n\n<p>I found this method <a href=\"https://stackoverflow.com/a/31275425/4562156\">here</a> in a full description of how to use a BroadcastReceiver for handling DOWNLOAD_COMPLETE events.</p>\n"},{"tags":[],"owner":{"account_id":14649670,"reputation":31,"user_id":10580038,"display_name":"khellendros74"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697723196,"creation_date":1697723196,"answer_id":77324351,"question_id":13321984,"body_markdown":"Actualy in 2023\r\n==============\r\n\r\n```\r\nimport android.net.Uri;\r\nimport android.webkit.URLUtil;\r\n\r\nDownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\r\nString filename = URLUtil.guessFileName(url, contentDisposition, mimeType);\r\n```\r\n\r\nwhich is not found from url parsing but received from\r\n```\r\nContent-Disposition: attachment; filename=&quot;myDocument.FileName&quot;\r\n```\r\n","title":"Android DownloadManager get filename","body":"<h1>Actualy in 2023</h1>\n<pre><code>import android.net.Uri;\nimport android.webkit.URLUtil;\n\nDownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\nString filename = URLUtil.guessFileName(url, contentDisposition, mimeType);\n</code></pre>\n<p>which is not found from url parsing but received from</p>\n<pre><code>Content-Disposition: attachment; filename=&quot;myDocument.FileName&quot;\n</code></pre>\n"}],"owner":{"display_name":"user1456060"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24703,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":13322285,"answer_count":6,"score":27,"last_activity_date":1697723196,"creation_date":1352549924,"question_id":13321984,"body_markdown":"In my app you can download some files. I used the Android `DownloadManager` class for downloading. After the download is completed, it should show me a message that the file was downloaded. The problem is, there could be 2,3 or 4 downloads at the same time. My `BroadcastReceiver` code looks like this:\r\n\r\n    receiver_complete = new BroadcastReceiver(){\r\n\t\t\t @Override\r\n\t\t\t  public void onReceive(Context context, Intent intent) {\r\n\t\t\t\t String action = intent.getAction();\r\n\t\t\t\t    if (action.equals(DownloadManager.ACTION_DOWNLOAD_COMPLETE) ){\r\n\t\t\t\t    \tToast.makeText(MainActivity.this, MainActivity.this.getString(R.string.download_finished, &quot;Here should be the name&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t\t    }\r\n\t\t\t }\r\n\t\t };\r\n\r\nHow can I get the current filename of the finished download?\r\n\r\nThank you very much.","title":"Android DownloadManager get filename","body":"<p>In my app you can download some files. I used the Android <code>DownloadManager</code> class for downloading. After the download is completed, it should show me a message that the file was downloaded. The problem is, there could be 2,3 or 4 downloads at the same time. My <code>BroadcastReceiver</code> code looks like this:</p>\n\n<pre><code>receiver_complete = new BroadcastReceiver(){\n         @Override\n          public void onReceive(Context context, Intent intent) {\n             String action = intent.getAction();\n                if (action.equals(DownloadManager.ACTION_DOWNLOAD_COMPLETE) ){\n                    Toast.makeText(MainActivity.this, MainActivity.this.getString(R.string.download_finished, \"Here should be the name\", Toast.LENGTH_SHORT).show();\n                }\n         }\n     };\n</code></pre>\n\n<p>How can I get the current filename of the finished download?</p>\n\n<p>Thank you very much.</p>\n"},{"tags":["java","ssl","tls1.2","tls1.3"],"owner":{"account_id":29343745,"reputation":1,"user_id":22482601,"display_name":"C&#233;dric S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697722963,"creation_date":1693560520,"question_id":77021975,"body_markdown":"I tried to install a specific product but I encounter a problem that I don&#39;t understand.\r\nContext : \r\n* Have install this product on an Azure VM without any problems\r\n* Same install (with same parameters) on an On-Premise HyperV VM and got errors\r\n\r\nTry to understand and take some logs : it&#39;s a call ti java command which return an error. This error was &quot;Invalid ECDH ServerKeyExchange signature&quot;. I&#39;m not an expert with cipher, SSL, TLS etc. so I asked for help because I don&#39;t understand and I&#39;m very disappointed.\r\n\r\nHere is the log (error at the end) :\r\n\r\n```\r\nC:\\Program Files (x86)\\Nmap&gt;&quot;C:\\Program Files\\Java\\jdk-11\\bin\\java.exe&quot; -cp &quot;C:\\Program Files\\OpenText\\Exstream\\16.6\\Server\\lib\\*&quot;;&quot;C:\\Temp\\Exstream\\Bootstrap-16.6.3\\bin\\birger.jar&quot; -Djavax.net.debug=ssl:handshake:verbose com.streamserve.birger.Birger SANDBOX 28800 &quot;C:\\ManagementGateway\\16.6\\root&quot; SANDBOX tenantadmin@strs.role S!tr_s21!_SANDBOX &quot;C:\\Temp\\Exstream\\Bootstrap-16.6.3\\config\\tenantconfig.json&quot; &quot;C:\\Temp\\Exstream\\Bootstrap-16.6.3&quot; &quot;C:\\Program Files\\OpenText\\Exstream&quot; 300000 &quot;DUMMY&quot; 16.6 16.6.3 SANDBOX\r\nWorking Directory = C:\\Program Files (x86)\\Nmap\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - mgw host: SANDBOX\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - mgw port: 28800\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - mgw root: C:\\ManagementGateway\\16.6\\root\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - tenant name: SANDBOX\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - tenant admin: tenantadmin@strs.role\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - tenant admin pwd: **********************\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - tenant config file: C:\\Temp\\Exstream\\Bootstrap-16.6.3\\config\\tenantconfig.json\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - bootstrap folder: C:\\Temp\\Exstream\\Bootstrap-16.6.3\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - strs installdir: C:\\Program Files\\OpenText\\Exstream\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - mgw timeout: 300000\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - build number: DUMMY\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - strs version: 16.6\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - strsfileversion: 16.6.3\r\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - virtualhost: SANDBOX\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:25.302 WAT|SSLCipher.java:437|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\n13:13:25.458 [main] INFO com.streamserve.birger.Birger - runCommand executing: [C:\\Program Files\\OpenText\\Exstream\\16.6\\Server\\bin\\\\ss_territory.exe, -action, display_node_info, -cert, C:\\Program Files\\OpenText\\Exstream\\16.6\\Server\\global\\security\\certificatestore\\trusted\\authorities\\demo.crt, -host, SANDBOX, -ipport, 28800, -user, SANDBOX\\tenantadmin@strs.role, -pass, S!tr_s21!_SANDBOX, -timeout, 300000]\r\n13:13:25.583 [main] INFO com.streamserve.birger.Birger - Displayname: SANDBOX\r\nNode ID: EDEE078A-5FC4-4D83-9B6E-948D95F52A86\r\nLastheartbeattime: 2023-08-31T07:54:02.123Z\r\nPlatform: windows\r\nIP: SANDBOX\r\nIPPort: 28800\r\nDescription: StreamServe Management Gateway\r\nVersion: 16.6.3 GA\r\n\r\n13:13:25.583 [main] INFO com.streamserve.birger.Birger - Displayname: SANDBOX\r\nNode ID: EDEE078A-5FC4-4D83-9B6E-948D95F52A86\r\nLastheartbeattime: 2023-08-31T07:54:02.123Z\r\nPlatform: windows\r\nIP: SANDBOX\r\nIPPort: 28800\r\nDescription: StreamServe Management Gateway\r\nVersion: 16.6.3 GA\r\n\r\n..................\r\n\r\n13:13:26.240 [main] DEBUG com.streamserve.birger.Birger - Creating domain: SANDBOX\r\n13:13:26.240 [main] DEBUG com.streamserve.birger.Birger - Converting resource name [SANDBOX] to [SANDBOX] !\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.240 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_128_GCM_SHA256 for TLS12\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.240 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLS12\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS11\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS10\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS10\r\njavax.net.ssl|WARNING|01|main|2023-08-31 13:13:26.287 WAT|ServerNameExtension.java:255|Unable to indicate server name\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: server_name\r\njavax.net.ssl|ALL|01|main|2023-08-31 13:13:26.302 WAT|SignatureScheme.java:358|Ignore disabled signature sheme: rsa_md5\r\njavax.net.ssl|INFO|01|main|2023-08-31 13:13:26.318 WAT|AlpnExtension.java:161|No available application protocols\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: application_layer_protocol_negotiation\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: cookie\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: renegotiation_info\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|PreSharedKeyExtension.java:606|No session to resume.\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: pre_shared_key\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|ClientHello.java:633|Produced ClientHello handshake message (\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n  &quot;random&quot;              : &quot;75 C7 1A 11 23 B8 00 A5 FF B3 5E 43 4D 88 5F F7 5A B7 F2 37 36 B0 5B 69 6B 24 48 35 34 FC ED 59&quot;,\r\n  &quot;session id&quot;          : &quot;3A 99 B5 D5 37 A6 67 5A 87 0A 6C BE D7 19 5B B0 53 D7 B7 4E 39 BF 53 48 CD 0D AB E0 C5 DB 20 04&quot;,\r\n  &quot;cipher suites&quot;       : &quot;[TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    &quot;status_request (5)&quot;: {\r\n      &quot;certificate status type&quot;: ocsp\r\n      &quot;OCSP status request&quot;: {\r\n        &quot;responder_id&quot;: &lt;empty&gt;\r\n        &quot;request extensions&quot;: {\r\n          &lt;empty&gt;\r\n        }\r\n      }\r\n    },\r\n    &quot;supported_groups (10)&quot;: {\r\n      &quot;versions&quot;: [secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n    },\r\n    &quot;ec_point_formats (11)&quot;: {\r\n      &quot;formats&quot;: [uncompressed]\r\n    },\r\n    &quot;signature_algorithms (13)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp512r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;signature_algorithms_cert (50)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp512r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;status_request_v2 (17)&quot;: {\r\n      &quot;cert status request&quot;: {\r\n        &quot;certificate status type&quot;: ocsp_multi\r\n        &quot;OCSP status request&quot;: {\r\n          &quot;responder_id&quot;: &lt;empty&gt;\r\n          &quot;request extensions&quot;: {\r\n            &lt;empty&gt;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    &quot;extended_master_secret (23)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;supported_versions (43)&quot;: {\r\n      &quot;versions&quot;: [TLSv1.3, TLSv1.2, TLSv1.1, TLSv1]\r\n    },\r\n    &quot;psk_key_exchange_modes (45)&quot;: {\r\n      &quot;ke_modes&quot;: [psk_dhe_ke]\r\n    },\r\n    &quot;key_share (51)&quot;: {\r\n      &quot;client_shares&quot;: [\r\n        {\r\n          &quot;named group&quot;: secp256r1\r\n          &quot;key_exchange&quot;: {\r\n            0000: 04 CD 72 A7 76 A2 61 43   08 B7 05 BE 99 D7 87 BD  ..r.v.aC........\r\n            0010: 92 64 15 8F 81 55 84 02   DA BD A5 FC 34 F9 7A 52  .d...U......4.zR\r\n            0020: C6 1C EC 83 FD 15 E8 92   51 DD 88 8E 59 1C E8 C4  ........Q...Y...\r\n            0030: DE 36 E7 75 88 11 79 80   C6 0D 25 B8 81 DA 33 23  .6.u..y...%...3#\r\n            0040: DF\r\n          }\r\n        },\r\n      ]\r\n    }\r\n  ]\r\n}\r\n)\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|ServerHello.java:866|Consuming ServerHello handshake message (\r\n&quot;ServerHello&quot;: {\r\n  &quot;server version&quot;      : &quot;TLSv1.2&quot;,\r\n  &quot;random&quot;              : &quot;D7 0C D7 65 0E 60 52 A9 E4 3D 8B 7B BE D7 3A 6D AA 5D 2D AB 04 88 34 BD E9 8B C3 7A DE 78 89 87&quot;,\r\n  &quot;session id&quot;          : &quot;&quot;,\r\n  &quot;cipher suite&quot;        : &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030)&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    &quot;renegotiation_info (65,281)&quot;: {\r\n      &quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\r\n    },\r\n    &quot;ec_point_formats (11)&quot;: {\r\n      &quot;formats&quot;: [uncompressed, ansiX962_compressed_prime, ansiX962_compressed_char2]\r\n    }\r\n  ]\r\n}\r\n)\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: supported_versions\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|ServerHello.java:962|Negotiated protocol version: TLSv1.2\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:167|Consumed extension: renegotiation_info\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: server_name\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: max_fragment_length\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: status_request\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:167|Consumed extension: ec_point_formats\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: status_request_v2\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:138|Ignore unsupported extension: supported_versions\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:138|Ignore unsupported extension: key_share\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:167|Consumed extension: renegotiation_info\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:138|Ignore unsupported extension: pre_shared_key\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: server_name\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: max_fragment_length\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: status_request\r\njavax.net.ssl|WARNING|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:190|Ignore impact of unsupported extension: ec_point_formats\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: application_layer_protocol_negotiation\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: status_request_v2\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: extended_master_secret\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.365 WAT|SSLExtensions.java:182|Ignore unavailable extension: supported_versions\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.365 WAT|SSLExtensions.java:182|Ignore unavailable extension: key_share\r\njavax.net.ssl|WARNING|01|main|2023-08-31 13:13:26.365 WAT|SSLExtensions.java:190|Ignore impact of unsupported extension: renegotiation_info\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.365 WAT|SSLExtensions.java:182|Ignore unavailable extension: pre_shared_key\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.365 WAT|CertificateMessage.java:358|Consuming server Certificate handshake message (\r\n&quot;Certificates&quot;: [\r\n  &quot;certificate&quot; : {\r\n    &quot;version&quot;            : &quot;v1&quot;,\r\n    &quot;serial number&quot;      : &quot;0B&quot;,\r\n    &quot;signature algorithm&quot;: &quot;SHA1withRSA&quot;,\r\n    &quot;issuer&quot;             : &quot;O=StreamServe, C=SE, ST=ShouldBeIgnored, CN=ShouldBeIgnored&quot;,\r\n    &quot;not before&quot;         : &quot;2007-01-08 09:37:42.000 WAT&quot;,\r\n    &quot;not  after&quot;         : &quot;2027-02-20 09:37:42.000 WAT&quot;,\r\n    &quot;subject&quot;            : &quot;CN=ShouldBeIgnored, O=StreamServe, C=SE&quot;,\r\n    &quot;subject public key&quot; : &quot;RSA&quot;}\r\n]\r\n)\r\njavax.net.ssl|ERROR|01|main|2023-08-31 13:13:26.380 WAT|TransportContext.java:313|Fatal (HANDSHAKE_FAILURE): Invalid ECDH ServerKeyExchange signature (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Invalid ECDH ServerKeyExchange signature\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:255)\r\n        at java.base/sun.security.ssl.ECDHServerKeyExchange$ECDHServerKeyExchangeMessage.&lt;init&gt;(ECDHServerKeyExchange.java:329)\r\n        at java.base/sun.security.ssl.ECDHServerKeyExchange$ECDHServerKeyExchangeConsumer.consume(ECDHServerKeyExchange.java:535)\r\n        at java.base/sun.security.ssl.ServerKeyExchange$ServerKeyExchangeConsumer.consume(ServerKeyExchange.java:103)\r\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\r\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:178)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1356)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1331)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:241)\r\n        at com.streamserve.birger.Birger.wsSendResourceRequest(Birger.java:723)\r\n        at com.streamserve.birger.Birger.checkCasObject(Birger.java:888)\r\n        at com.streamserve.birger.Birger.CreateDomains(Birger.java:1916)\r\n        at com.streamserve.birger.Birger.main(Birger.java:2787)}\r\n\r\n)\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.380 WAT|SSLSocketImpl.java:1361|close the underlying socket\r\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.380 WAT|SSLSocketImpl.java:1380|close the SSL connection (initiative)\r\njavax.net.ssl.SSLHandshakeException: Invalid ECDH ServerKeyExchange signature\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:255)\r\n        at java.base/sun.security.ssl.ECDHServerKeyExchange$ECDHServerKeyExchangeMessage.&lt;init&gt;(ECDHServerKeyExchange.java:329)\r\n        at java.base/sun.security.ssl.ECDHServerKeyExchange$ECDHServerKeyExchangeConsumer.consume(ECDHServerKeyExchange.java:535)\r\n        at java.base/sun.security.ssl.ServerKeyExchange$ServerKeyExchangeConsumer.consume(ServerKeyExchange.java:103)\r\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\r\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:178)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1356)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1331)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:241)\r\n        at com.streamserve.birger.Birger.wsSendResourceRequest(Birger.java:723)\r\n        at com.streamserve.birger.Birger.checkCasObject(Birger.java:888)\r\n        at com.streamserve.birger.Birger.CreateDomains(Birger.java:1916)\r\n        at com.streamserve.birger.Birger.main(Birger.java:2787)\r\nERROR:  &#39;Premature end of file.&#39;\r\nao&#185;t 31, 2023 1:13:26 PM com.sun.xml.messaging.saaj.soap.EnvelopeFactory parseEnvelopeSax\r\nSEVERE: SAAJ0511: Unable to create envelope from given source\r\n13:13:26.693 [main] ERROR com.streamserve.birger.Birger - Exit: Failed to check if domain exists\r\n13:13:26.693 [main] INFO com.streamserve.birger.Birger - Domain [SANDBOX] already exists with id [null]\r\n13:13:26.693 [main] ERROR com.streamserve.birger.Birger - Domain creation failed!\r\n\r\n```\r\n\r\nHope this community could help me.\r\n\r\nRegards.\r\n\r\nC&#233;dric\r\n\r\n\r\nInstall on Azure VM : OK\r\nInstall on On-premise HyperV VM : KO","title":"Invalid ECDH ServerKeyExchange signature during product installation","body":"<p>I tried to install a specific product but I encounter a problem that I don't understand.\nContext :</p>\n<ul>\n<li>Have install this product on an Azure VM without any problems</li>\n<li>Same install (with same parameters) on an On-Premise HyperV VM and got errors</li>\n</ul>\n<p>Try to understand and take some logs : it's a call ti java command which return an error. This error was &quot;Invalid ECDH ServerKeyExchange signature&quot;. I'm not an expert with cipher, SSL, TLS etc. so I asked for help because I don't understand and I'm very disappointed.</p>\n<p>Here is the log (error at the end) :</p>\n<pre><code>C:\\Program Files (x86)\\Nmap&gt;&quot;C:\\Program Files\\Java\\jdk-11\\bin\\java.exe&quot; -cp &quot;C:\\Program Files\\OpenText\\Exstream\\16.6\\Server\\lib\\*&quot;;&quot;C:\\Temp\\Exstream\\Bootstrap-16.6.3\\bin\\birger.jar&quot; -Djavax.net.debug=ssl:handshake:verbose com.streamserve.birger.Birger SANDBOX 28800 &quot;C:\\ManagementGateway\\16.6\\root&quot; SANDBOX tenantadmin@strs.role S!tr_s21!_SANDBOX &quot;C:\\Temp\\Exstream\\Bootstrap-16.6.3\\config\\tenantconfig.json&quot; &quot;C:\\Temp\\Exstream\\Bootstrap-16.6.3&quot; &quot;C:\\Program Files\\OpenText\\Exstream&quot; 300000 &quot;DUMMY&quot; 16.6 16.6.3 SANDBOX\nWorking Directory = C:\\Program Files (x86)\\Nmap\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - mgw host: SANDBOX\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - mgw port: 28800\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - mgw root: C:\\ManagementGateway\\16.6\\root\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - tenant name: SANDBOX\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - tenant admin: tenantadmin@strs.role\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - tenant admin pwd: **********************\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - tenant config file: C:\\Temp\\Exstream\\Bootstrap-16.6.3\\config\\tenantconfig.json\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - bootstrap folder: C:\\Temp\\Exstream\\Bootstrap-16.6.3\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - strs installdir: C:\\Program Files\\OpenText\\Exstream\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - mgw timeout: 300000\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - build number: DUMMY\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - strs version: 16.6\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - strsfileversion: 16.6.3\n13:13:25.162 [main] DEBUG com.streamserve.birger.Birger - virtualhost: SANDBOX\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:25.302 WAT|SSLCipher.java:437|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\n13:13:25.458 [main] INFO com.streamserve.birger.Birger - runCommand executing: [C:\\Program Files\\OpenText\\Exstream\\16.6\\Server\\bin\\\\ss_territory.exe, -action, display_node_info, -cert, C:\\Program Files\\OpenText\\Exstream\\16.6\\Server\\global\\security\\certificatestore\\trusted\\authorities\\demo.crt, -host, SANDBOX, -ipport, 28800, -user, SANDBOX\\tenantadmin@strs.role, -pass, S!tr_s21!_SANDBOX, -timeout, 300000]\n13:13:25.583 [main] INFO com.streamserve.birger.Birger - Displayname: SANDBOX\nNode ID: EDEE078A-5FC4-4D83-9B6E-948D95F52A86\nLastheartbeattime: 2023-08-31T07:54:02.123Z\nPlatform: windows\nIP: SANDBOX\nIPPort: 28800\nDescription: StreamServe Management Gateway\nVersion: 16.6.3 GA\n\n13:13:25.583 [main] INFO com.streamserve.birger.Birger - Displayname: SANDBOX\nNode ID: EDEE078A-5FC4-4D83-9B6E-948D95F52A86\nLastheartbeattime: 2023-08-31T07:54:02.123Z\nPlatform: windows\nIP: SANDBOX\nIPPort: 28800\nDescription: StreamServe Management Gateway\nVersion: 16.6.3 GA\n\n..................\n\n13:13:26.240 [main] DEBUG com.streamserve.birger.Birger - Creating domain: SANDBOX\n13:13:26.240 [main] DEBUG com.streamserve.birger.Birger - Converting resource name [SANDBOX] to [SANDBOX] !\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.240 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_128_GCM_SHA256 for TLS12\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.240 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLS12\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.255 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS11\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.271 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS10\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|HandshakeContext.java:290|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS10\njavax.net.ssl|WARNING|01|main|2023-08-31 13:13:26.287 WAT|ServerNameExtension.java:255|Unable to indicate server name\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.287 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: server_name\njavax.net.ssl|ALL|01|main|2023-08-31 13:13:26.302 WAT|SignatureScheme.java:358|Ignore disabled signature sheme: rsa_md5\njavax.net.ssl|INFO|01|main|2023-08-31 13:13:26.318 WAT|AlpnExtension.java:161|No available application protocols\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: cookie\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: renegotiation_info\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|PreSharedKeyExtension.java:606|No session to resume.\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|SSLExtensions.java:235|Ignore, context unavailable extension: pre_shared_key\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.318 WAT|ClientHello.java:633|Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;75 C7 1A 11 23 B8 00 A5 FF B3 5E 43 4D 88 5F F7 5A B7 F2 37 36 B0 5B 69 6B 24 48 35 34 FC ED 59&quot;,\n  &quot;session id&quot;          : &quot;3A 99 B5 D5 37 A6 67 5A 87 0A 6C BE D7 19 5B B0 53 D7 B7 4E 39 BF 53 48 CD 0D AB E0 C5 DB 20 04&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_AES_128_GCM_SHA256(0x1301), TLS_AES_256_GCM_SHA384(0x1302), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;status_request (5)&quot;: {\n      &quot;certificate status type&quot;: ocsp\n      &quot;OCSP status request&quot;: {\n        &quot;responder_id&quot;: &lt;empty&gt;\n        &quot;request extensions&quot;: {\n          &lt;empty&gt;\n        }\n      }\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed]\n    },\n    &quot;signature_algorithms (13)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp512r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;signature_algorithms_cert (50)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp512r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;status_request_v2 (17)&quot;: {\n      &quot;cert status request&quot;: {\n        &quot;certificate status type&quot;: ocsp_multi\n        &quot;OCSP status request&quot;: {\n          &quot;responder_id&quot;: &lt;empty&gt;\n          &quot;request extensions&quot;: {\n            &lt;empty&gt;\n          }\n        }\n      }\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.3, TLSv1.2, TLSv1.1, TLSv1]\n    },\n    &quot;psk_key_exchange_modes (45)&quot;: {\n      &quot;ke_modes&quot;: [psk_dhe_ke]\n    },\n    &quot;key_share (51)&quot;: {\n      &quot;client_shares&quot;: [\n        {\n          &quot;named group&quot;: secp256r1\n          &quot;key_exchange&quot;: {\n            0000: 04 CD 72 A7 76 A2 61 43   08 B7 05 BE 99 D7 87 BD  ..r.v.aC........\n            0010: 92 64 15 8F 81 55 84 02   DA BD A5 FC 34 F9 7A 52  .d...U......4.zR\n            0020: C6 1C EC 83 FD 15 E8 92   51 DD 88 8E 59 1C E8 C4  ........Q...Y...\n            0030: DE 36 E7 75 88 11 79 80   C6 0D 25 B8 81 DA 33 23  .6.u..y...%...3#\n            0040: DF\n          }\n        },\n      ]\n    }\n  ]\n}\n)\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|ServerHello.java:866|Consuming ServerHello handshake message (\n&quot;ServerHello&quot;: {\n  &quot;server version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;D7 0C D7 65 0E 60 52 A9 E4 3D 8B 7B BE D7 3A 6D AA 5D 2D AB 04 88 34 BD E9 8B C3 7A DE 78 89 87&quot;,\n  &quot;session id&quot;          : &quot;&quot;,\n  &quot;cipher suite&quot;        : &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030)&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;renegotiation_info (65,281)&quot;: {\n      &quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed, ansiX962_compressed_prime, ansiX962_compressed_char2]\n    }\n  ]\n}\n)\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: supported_versions\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|ServerHello.java:962|Negotiated protocol version: TLSv1.2\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:167|Consumed extension: renegotiation_info\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: server_name\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: max_fragment_length\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: status_request\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:167|Consumed extension: ec_point_formats\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:148|Ignore unavailable extension: status_request_v2\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:138|Ignore unsupported extension: supported_versions\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:138|Ignore unsupported extension: key_share\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:167|Consumed extension: renegotiation_info\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:138|Ignore unsupported extension: pre_shared_key\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: server_name\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: max_fragment_length\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: status_request\njavax.net.ssl|WARNING|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:190|Ignore impact of unsupported extension: ec_point_formats\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: status_request_v2\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.349 WAT|SSLExtensions.java:182|Ignore unavailable extension: extended_master_secret\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.365 WAT|SSLExtensions.java:182|Ignore unavailable extension: supported_versions\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.365 WAT|SSLExtensions.java:182|Ignore unavailable extension: key_share\njavax.net.ssl|WARNING|01|main|2023-08-31 13:13:26.365 WAT|SSLExtensions.java:190|Ignore impact of unsupported extension: renegotiation_info\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.365 WAT|SSLExtensions.java:182|Ignore unavailable extension: pre_shared_key\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.365 WAT|CertificateMessage.java:358|Consuming server Certificate handshake message (\n&quot;Certificates&quot;: [\n  &quot;certificate&quot; : {\n    &quot;version&quot;            : &quot;v1&quot;,\n    &quot;serial number&quot;      : &quot;0B&quot;,\n    &quot;signature algorithm&quot;: &quot;SHA1withRSA&quot;,\n    &quot;issuer&quot;             : &quot;O=StreamServe, C=SE, ST=ShouldBeIgnored, CN=ShouldBeIgnored&quot;,\n    &quot;not before&quot;         : &quot;2007-01-08 09:37:42.000 WAT&quot;,\n    &quot;not  after&quot;         : &quot;2027-02-20 09:37:42.000 WAT&quot;,\n    &quot;subject&quot;            : &quot;CN=ShouldBeIgnored, O=StreamServe, C=SE&quot;,\n    &quot;subject public key&quot; : &quot;RSA&quot;}\n]\n)\njavax.net.ssl|ERROR|01|main|2023-08-31 13:13:26.380 WAT|TransportContext.java:313|Fatal (HANDSHAKE_FAILURE): Invalid ECDH ServerKeyExchange signature (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Invalid ECDH ServerKeyExchange signature\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:255)\n        at java.base/sun.security.ssl.ECDHServerKeyExchange$ECDHServerKeyExchangeMessage.&lt;init&gt;(ECDHServerKeyExchange.java:329)\n        at java.base/sun.security.ssl.ECDHServerKeyExchange$ECDHServerKeyExchangeConsumer.consume(ECDHServerKeyExchange.java:535)\n        at java.base/sun.security.ssl.ServerKeyExchange$ServerKeyExchangeConsumer.consume(ServerKeyExchange.java:103)\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:178)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1356)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1331)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:241)\n        at com.streamserve.birger.Birger.wsSendResourceRequest(Birger.java:723)\n        at com.streamserve.birger.Birger.checkCasObject(Birger.java:888)\n        at com.streamserve.birger.Birger.CreateDomains(Birger.java:1916)\n        at com.streamserve.birger.Birger.main(Birger.java:2787)}\n\n)\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.380 WAT|SSLSocketImpl.java:1361|close the underlying socket\njavax.net.ssl|DEBUG|01|main|2023-08-31 13:13:26.380 WAT|SSLSocketImpl.java:1380|close the SSL connection (initiative)\njavax.net.ssl.SSLHandshakeException: Invalid ECDH ServerKeyExchange signature\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:128)\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:264)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:255)\n        at java.base/sun.security.ssl.ECDHServerKeyExchange$ECDHServerKeyExchangeMessage.&lt;init&gt;(ECDHServerKeyExchange.java:329)\n        at java.base/sun.security.ssl.ECDHServerKeyExchange$ECDHServerKeyExchangeConsumer.consume(ECDHServerKeyExchange.java:535)\n        at java.base/sun.security.ssl.ServerKeyExchange$ServerKeyExchangeConsumer.consume(ServerKeyExchange.java:103)\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:178)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1356)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1331)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:241)\n        at com.streamserve.birger.Birger.wsSendResourceRequest(Birger.java:723)\n        at com.streamserve.birger.Birger.checkCasObject(Birger.java:888)\n        at com.streamserve.birger.Birger.CreateDomains(Birger.java:1916)\n        at com.streamserve.birger.Birger.main(Birger.java:2787)\nERROR:  'Premature end of file.'\nao¹t 31, 2023 1:13:26 PM com.sun.xml.messaging.saaj.soap.EnvelopeFactory parseEnvelopeSax\nSEVERE: SAAJ0511: Unable to create envelope from given source\n13:13:26.693 [main] ERROR com.streamserve.birger.Birger - Exit: Failed to check if domain exists\n13:13:26.693 [main] INFO com.streamserve.birger.Birger - Domain [SANDBOX] already exists with id [null]\n13:13:26.693 [main] ERROR com.streamserve.birger.Birger - Domain creation failed!\n\n</code></pre>\n<p>Hope this community could help me.</p>\n<p>Regards.</p>\n<p>Cédric</p>\n<p>Install on Azure VM : OK\nInstall on On-premise HyperV VM : KO</p>\n"},{"tags":["java","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697722133,"post_id":77324151,"comment_id":136317530,"body_markdown":"i have written an answer, can you check it ?","body":"i have written an answer, can you check it ?"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697722084,"creation_date":1697722084,"answer_id":77324198,"question_id":77324151,"body_markdown":"To have the same result as `JpaRepository` generate. You should change a little the bit query.\r\n\r\nSomething like this:\r\n\r\n\r\n    @Query(&quot;select p &quot; +\r\n                &quot;from Person p &quot; +\r\n                &quot;left join fetch p.status status &quot; +\r\n                &quot;where p.identifier IN (:identifiers)&quot;)\r\n    List&lt;Person&gt; findByIdentifierIn(@Param(&quot;identifiers&quot;) List&lt;Identifier&gt; identifiers);","title":"JPQL query to find all entities that match to list of Embeddable objects","body":"<p>To have the same result as <code>JpaRepository</code> generate. You should change a little the bit query.</p>\n<p>Something like this:</p>\n<pre><code>@Query(&quot;select p &quot; +\n            &quot;from Person p &quot; +\n            &quot;left join fetch p.status status &quot; +\n            &quot;where p.identifier IN (:identifiers)&quot;)\nList&lt;Person&gt; findByIdentifierIn(@Param(&quot;identifiers&quot;) List&lt;Identifier&gt; identifiers);\n</code></pre>\n"}],"owner":{"account_id":29708635,"reputation":3,"user_id":22768875,"display_name":"Jarosław Wojciechowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77324198,"answer_count":1,"score":0,"last_activity_date":1697722084,"creation_date":1697721597,"question_id":77324151,"body_markdown":"I have an entity with an embedded field that can be used as a business identifier of this entity.\r\n\r\n\r\n```\r\n@Entity\r\npublic class Person {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Embedded\r\n    private Identifier identifier;\r\n}\r\n```\r\n\r\n```\r\nEmbeddable\r\npublic class Identifier {\r\n    @Column(name = &quot;business_id&quot;)\r\n    private String businessId;\r\n\r\n    @Column(name = &quot;client_id&quot;)\r\n    private Integer clientId;\r\n\r\n    @Column(name = &quot;dep_id&quot;)\r\n    private Integer depId;\r\n\r\n```\r\n\r\nWhen I&#39;m using Spring JPARepository to search for all entities where identifier is in a list with the method:\r\n`List&lt;Person&gt; findByIdentifierIn(List&lt;Identifier&gt; identifiers);`\r\n\r\nIt works fine no matter how many identifiers I provide in list.\r\n\r\nBut I wanted to write a query to join some other table and tried to use such method with a query:\r\n\r\n```\r\n@Query(&quot;select p &quot; +\r\n            &quot;from Person p &quot; +\r\n            &quot;left join fetch p.status status &quot; +\r\n            &quot;where p.identifier = :identifiers&quot;)\r\nList&lt;Person&gt; findByIdentifierIn(@Param(&quot;identifiers&quot;) List&lt;Identifier&gt; identifiers);\r\n```\r\n\r\nAnd now if I pass a single element list as identifiers it still works fine, but if there are multiple elements I&#39;m ending with an error for example with 2 elements I get:\r\n\r\n```\r\nthe column index is out of range:3 , number of columns:2\r\n```\r\n\r\nI&#39;ve checked the queries that are executed and JPARepository generates query where parameters are handled properly:\r\n\r\n```\r\n//select fields...\r\nfrom users.person person0_\r\nwhere (person0_.business_id, person0_.client_id, person0_.dep_id) in ((?, ?, ?), (?, ?, ?), (?, ?, ?))\r\n```\r\n\r\nbut the query that i&#39;ve written ends as this:\r\n\r\n```\r\nwhere (person0_.business_id, person0_.client_id, person0_.dep_id) = (?, ?);\r\n```\r\n\r\nHow can I write a query that will be properly handled for multiple identifiers in the list?\r\n\r\nI expected that my query would work in the same way that the one generated by JPARepository.\r\n\r\nI&#39;ve tried to remove any extra parts from the query like joins, to exclude their influence, but I&#39;m not sure how can I modify it to work as expected.","title":"JPQL query to find all entities that match to list of Embeddable objects","body":"<p>I have an entity with an embedded field that can be used as a business identifier of this entity.</p>\n<pre><code>@Entity\npublic class Person {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Embedded\n    private Identifier identifier;\n}\n</code></pre>\n<pre><code>Embeddable\npublic class Identifier {\n    @Column(name = &quot;business_id&quot;)\n    private String businessId;\n\n    @Column(name = &quot;client_id&quot;)\n    private Integer clientId;\n\n    @Column(name = &quot;dep_id&quot;)\n    private Integer depId;\n\n</code></pre>\n<p>When I'm using Spring JPARepository to search for all entities where identifier is in a list with the method:\n<code>List&lt;Person&gt; findByIdentifierIn(List&lt;Identifier&gt; identifiers);</code></p>\n<p>It works fine no matter how many identifiers I provide in list.</p>\n<p>But I wanted to write a query to join some other table and tried to use such method with a query:</p>\n<pre><code>@Query(&quot;select p &quot; +\n            &quot;from Person p &quot; +\n            &quot;left join fetch p.status status &quot; +\n            &quot;where p.identifier = :identifiers&quot;)\nList&lt;Person&gt; findByIdentifierIn(@Param(&quot;identifiers&quot;) List&lt;Identifier&gt; identifiers);\n</code></pre>\n<p>And now if I pass a single element list as identifiers it still works fine, but if there are multiple elements I'm ending with an error for example with 2 elements I get:</p>\n<pre><code>the column index is out of range:3 , number of columns:2\n</code></pre>\n<p>I've checked the queries that are executed and JPARepository generates query where parameters are handled properly:</p>\n<pre><code>//select fields...\nfrom users.person person0_\nwhere (person0_.business_id, person0_.client_id, person0_.dep_id) in ((?, ?, ?), (?, ?, ?), (?, ?, ?))\n</code></pre>\n<p>but the query that i've written ends as this:</p>\n<pre><code>where (person0_.business_id, person0_.client_id, person0_.dep_id) = (?, ?);\n</code></pre>\n<p>How can I write a query that will be properly handled for multiple identifiers in the list?</p>\n<p>I expected that my query would work in the same way that the one generated by JPARepository.</p>\n<p>I've tried to remove any extra parts from the query like joins, to exclude their influence, but I'm not sure how can I modify it to work as expected.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1329629878,"creation_date":1329629564,"answer_id":9347021,"question_id":9346939,"body_markdown":"Your `if` statement is followed by a statement. Declaration of a variable would require a block instead. If you were allowed to declare a variable there, it would have no visible scope and serve no purpose.\r\n\r\nThis should work:\r\n\r\n    if(responseCode == HttpURLConnection.HTTP_OK)\r\n    { /* Note the brace to start a block! */\r\n      InputStream inp = new BufferedInputStream(httpconnection.getInputStream());\r\n      /* Now use the stream within the block. */\r\n      ...\r\n    }","title":"Declaring InputStream","body":"<p>Your <code>if</code> statement is followed by a statement. Declaration of a variable would require a block instead. If you were allowed to declare a variable there, it would have no visible scope and serve no purpose.</p>\n\n<p>This should work:</p>\n\n<pre><code>if(responseCode == HttpURLConnection.HTTP_OK)\n{ /* Note the brace to start a block! */\n  InputStream inp = new BufferedInputStream(httpconnection.getInputStream());\n  /* Now use the stream within the block. */\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29706176,"reputation":1,"user_id":22766959,"display_name":"user22766959"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697721881,"creation_date":1697699521,"answer_id":77321673,"question_id":9346939,"body_markdown":"```java\r\ntry {\r\n    String fileUrl = &quot;https://www.bps.go.id/publication/download.html?nrbvfeve=MWJlMzhiOWZmMWVkMWRiZDhmMzRlN2Zh&amp;xzmn=aHR0cHM6Ly93d3cuYnBzLmdvLmlkL3B1YmxpY2F0aW9uLzIwMjMvMTAvMTYvMWJlMzhiOWZmMWVkMWRiZDhmMzRlN2ZhL25lcmFjYS1wZW1lcmludGFoYW4tdW11bS1pbmRvbmVzaWEtMjAxNy0yMDIyLmh0bWw%3D&amp;twoadfnoarfeauf=MjAyMy0xMC0xOSAxMTowNjowMA%3D%3D&quot;;\r\n    String outputPath = &quot;C:\\\\xampp\\\\New folder&quot;;\r\n    URL url = new URL(fileUrl);\r\n    inputStream = url.openStream(); \r\n    ReadableByteChannel channel = Channels.newChannel(url.openStream());\r\n    FileOutputStream fos = new FileOutputStream(new File(outputPath));\r\n    fos.getChannel().transferFrom(channel, 0, Long.MAX_VALUE);\r\n    fos.close();\r\n    channel.close();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"Declaring InputStream","body":"<pre class=\"lang-java prettyprint-override\"><code>try {\n    String fileUrl = &quot;https://www.bps.go.id/publication/download.html?nrbvfeve=MWJlMzhiOWZmMWVkMWRiZDhmMzRlN2Zh&amp;xzmn=aHR0cHM6Ly93d3cuYnBzLmdvLmlkL3B1YmxpY2F0aW9uLzIwMjMvMTAvMTYvMWJlMzhiOWZmMWVkMWRiZDhmMzRlN2ZhL25lcmFjYS1wZW1lcmludGFoYW4tdW11bS1pbmRvbmVzaWEtMjAxNy0yMDIyLmh0bWw%3D&amp;twoadfnoarfeauf=MjAyMy0xMC0xOSAxMTowNjowMA%3D%3D&quot;;\n    String outputPath = &quot;C:\\\\xampp\\\\New folder&quot;;\n    URL url = new URL(fileUrl);\n    inputStream = url.openStream(); \n    ReadableByteChannel channel = Channels.newChannel(url.openStream());\n    FileOutputStream fos = new FileOutputStream(new File(outputPath));\n    fos.getChannel().transferFrom(channel, 0, Long.MAX_VALUE);\n    fos.close();\n    channel.close();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":1260347,"reputation":289,"user_id":1218796,"accept_rate":36,"display_name":"Souvik Basu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10790,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9347021,"answer_count":2,"score":2,"last_activity_date":1697721881,"creation_date":1329628541,"question_id":9346939,"body_markdown":"I am learning android and new to Java but not new to programming (Using Eclipse). I am trying to execute an example code like this in a method:\r\n\r\n    private void dummy() {\r\n        try {\r\n            URL url = new URL(quakeFeed);\r\n            URLConnection connection;\r\n            connection = url.openConnection();\r\n            HttpURLConnection httpconnection = (HttpURLConnection)connection;\r\n            int responseCode = httpconnection.getResponseCode();\r\n            if(responseCode == HttpURLConnection.HTTP_OK)\r\n                InputStream inp = new BufferedInputStream(httpconnection.getInputStream());\r\n        }\r\n    ...\r\n    }\r\n\r\nAssume all other syntax and variables defined. I get the following error:\r\n\r\n  &gt; InputStream` cannot be resolved to a variable. \r\n\r\nThis is strange even after importing `java.io.InputStream;`\r\n\r\nThe error goes off if I declare the `InputStream` outside the method, i.e.\r\n\r\n    \r\n\r\n    InputStream inp;\r\n    private void dummy() {\r\n        try {\r\n            URL url = new URL(quakeFeed);\r\n            URLConnection connection;\r\n            connection = url.openConnection();\r\n            HttpURLConnection httpconnection = (HttpURLConnection)connection;\r\n            int responseCode = httpconnection.getResponseCode();\r\n            if(responseCode == HttpURLConnection.HTTP_OK)\r\n            // Changed\r\n                inp = new BufferedInputStream(httpconnection.getInputStream());\r\n        }\r\n        ...\r\n    }\r\n\r\nI am curious why a local declaration of `InputStream` could not be resolved but a global declaration is resolved.\r\n","title":"Declaring InputStream","body":"<p>I am learning android and new to Java but not new to programming (Using Eclipse). I am trying to execute an example code like this in a method:</p>\n\n<pre><code>private void dummy() {\n    try {\n        URL url = new URL(quakeFeed);\n        URLConnection connection;\n        connection = url.openConnection();\n        HttpURLConnection httpconnection = (HttpURLConnection)connection;\n        int responseCode = httpconnection.getResponseCode();\n        if(responseCode == HttpURLConnection.HTTP_OK)\n            InputStream inp = new BufferedInputStream(httpconnection.getInputStream());\n    }\n...\n}\n</code></pre>\n\n<p>Assume all other syntax and variables defined. I get the following error:</p>\n\n<blockquote>\n  <p>InputStream` cannot be resolved to a variable. </p>\n</blockquote>\n\n<p>This is strange even after importing <code>java.io.InputStream;</code></p>\n\n<p>The error goes off if I declare the <code>InputStream</code> outside the method, i.e.</p>\n\n<pre><code>InputStream inp;\nprivate void dummy() {\n    try {\n        URL url = new URL(quakeFeed);\n        URLConnection connection;\n        connection = url.openConnection();\n        HttpURLConnection httpconnection = (HttpURLConnection)connection;\n        int responseCode = httpconnection.getResponseCode();\n        if(responseCode == HttpURLConnection.HTTP_OK)\n        // Changed\n            inp = new BufferedInputStream(httpconnection.getInputStream());\n    }\n    ...\n}\n</code></pre>\n\n<p>I am curious why a local declaration of <code>InputStream</code> could not be resolved but a global declaration is resolved.</p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":7270614,"reputation":75,"user_id":5543813,"accept_rate":71,"display_name":"SBParks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697721773,"creation_date":1697721773,"answer_id":77324165,"question_id":77289927,"body_markdown":"After some additional work, I have come up with this solution.  If there&#39;s a better way, I would be happy to learn that as well.\r\n\r\nBasically, I just added content (a Phrase) to the cell before adding the cell to the table.  Here&#39;s a look:\r\n\r\n    \tprotected Element createTopPadding(int size) {\r\n\t\t\r\n\t\tPdfPTable padding = new PdfPTable(1);\r\n\t\tPdfPCell cell = new PdfPCell();\r\n\t\t\r\n\t\tcell.setPhrase(new Phrase(&quot; &quot;, FontFactory.getFont(BaseFont.HELVETICA, TEXT_FONT, Font.NORMAL)));\r\n\t\tcell.setPaddingTop( size );\r\n\t\tcell.setBorderWidth( 0 );\r\n\t\t\r\n\t\tpadding.addCell(cell);\r\n\t\t\r\n\t\treturn padding;\r\n\t}","title":"iText 5.5.13 - Not able to add space at top of page","body":"<p>After some additional work, I have come up with this solution.  If there's a better way, I would be happy to learn that as well.</p>\n<p>Basically, I just added content (a Phrase) to the cell before adding the cell to the table.  Here's a look:</p>\n<pre><code>    protected Element createTopPadding(int size) {\n    \n    PdfPTable padding = new PdfPTable(1);\n    PdfPCell cell = new PdfPCell();\n    \n    cell.setPhrase(new Phrase(&quot; &quot;, FontFactory.getFont(BaseFont.HELVETICA, TEXT_FONT, Font.NORMAL)));\n    cell.setPaddingTop( size );\n    cell.setBorderWidth( 0 );\n    \n    padding.addCell(cell);\n    \n    return padding;\n}\n</code></pre>\n"}],"owner":{"account_id":7270614,"reputation":75,"user_id":5543813,"accept_rate":71,"display_name":"SBParks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697721773,"creation_date":1697221299,"question_id":77289927,"body_markdown":"I am migrating PDF support code originally using iText version 2.0.7 to 5.5.13.  I am having trouble positioning my page content in the correct place on the page.\r\n\r\nHere&#39;s a piece of code (works as expected, originally) that we used to provide spacing within a page:\r\n\r\n```\r\n\tprotected Element createTopPadding(int size) {\r\n\t\tPdfPTable padding = new PdfPTable(1);\r\n\t\tPdfPCell cell = new PdfPCell();\r\n\t\t\r\n\t\tcell.setPaddingTop(size);\r\n\t\tcell.setBorderWidth(0);\r\n\t\t\r\n\t\tpadding.addCell(cell);\r\n\t\t\r\n\t\treturn padding;\r\n\t}\r\n```\r\nBasically, just adding an element (with settable PaddingTop) at a point within the page.  The element created and returned by the above code is added (document.add()) to the document that&#39;s being built.\r\n\r\nI am able to generate the document (the PDF), but I am missing the required spacing and this causes text to overlap.\r\n\r\nI&#39;ve tried several things... setPaddingTop() on the table object (not just the cell object), setLeading() on the cell object, I also tried setUseAscender(and Descender) to &#39;true&#39;.  All to no avail.\r\n\r\nThanks for any suggestions!\r\n","title":"iText 5.5.13 - Not able to add space at top of page","body":"<p>I am migrating PDF support code originally using iText version 2.0.7 to 5.5.13.  I am having trouble positioning my page content in the correct place on the page.</p>\n<p>Here's a piece of code (works as expected, originally) that we used to provide spacing within a page:</p>\n<pre><code>    protected Element createTopPadding(int size) {\n        PdfPTable padding = new PdfPTable(1);\n        PdfPCell cell = new PdfPCell();\n        \n        cell.setPaddingTop(size);\n        cell.setBorderWidth(0);\n        \n        padding.addCell(cell);\n        \n        return padding;\n    }\n</code></pre>\n<p>Basically, just adding an element (with settable PaddingTop) at a point within the page.  The element created and returned by the above code is added (document.add()) to the document that's being built.</p>\n<p>I am able to generate the document (the PDF), but I am missing the required spacing and this causes text to overlap.</p>\n<p>I've tried several things... setPaddingTop() on the table object (not just the cell object), setLeading() on the cell object, I also tried setUseAscender(and Descender) to 'true'.  All to no avail.</p>\n<p>Thanks for any suggestions!</p>\n"},{"tags":["java","spring","spring-boot","junit","postman"],"comments":[{"owner":{"account_id":2827875,"reputation":1888,"user_id":2430105,"accept_rate":70,"display_name":"dmendezg"},"score":0,"creation_date":1520378935,"post_id":49141182,"comment_id":85288868,"body_markdown":"Are you setting basic authentication when you do it from Postman?","body":"Are you setting basic authentication when you do it from Postman?"},{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":0,"creation_date":1620721525,"post_id":49141182,"comment_id":119277325,"body_markdown":"Hey @Eniss did you get the solution?","body":"Hey @Eniss did you get the solution?"}],"answers":[{"tags":[],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520389201,"creation_date":1520389201,"answer_id":49143074,"question_id":49141182,"body_markdown":"you should use authorization tab of postman to send auth headers along with request body however you like.\r\nPFA sample image[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/frCof.png","title":"Spring Boot MultiValueMap parameters in Postman","body":"<p>you should use authorization tab of postman to send auth headers along with request body however you like.\nPFA sample image<a href=\"https://i.stack.imgur.com/frCof.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/frCof.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559560813,"creation_date":1559560813,"answer_id":56426299,"question_id":49141182,"body_markdown":"When you send the request via POSTMAN tool, select the type of HTTP method (POST, PUT, DELETE), then select the &quot;raw&quot; option in &quot;Body&quot; tab and then just add the JSON of the Map in it. Make sure you have selected &quot;Content-type&quot; as &quot;application/json&quot; in &quot;Headers&quot; . ","title":"Spring Boot MultiValueMap parameters in Postman","body":"<p>When you send the request via POSTMAN tool, select the type of HTTP method (POST, PUT, DELETE), then select the \"raw\" option in \"Body\" tab and then just add the JSON of the Map in it. Make sure you have selected \"Content-type\" as \"application/json\" in \"Headers\" . </p>\n"},{"tags":[],"owner":{"account_id":29440693,"reputation":1,"user_id":22558841,"display_name":"Rituraj Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697720768,"creation_date":1697720768,"answer_id":77324031,"question_id":49141182,"body_markdown":"You should add those param value in form-data under body","title":"Spring Boot MultiValueMap parameters in Postman","body":"<p>You should add those param value in form-data under body</p>\n"}],"owner":{"account_id":9587431,"reputation":995,"user_id":7119647,"accept_rate":49,"display_name":"Eniss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7008,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697720768,"creation_date":1520375809,"question_id":49141182,"body_markdown":"I have implemented OAuth2 in Spring boot. It works well when testing it in JUnit but I always get unauthorized when I try the API in postman.\r\n\r\ntest function in JUnit:\r\n\r\n    private String obtainAccessToken(String username, String password) throws Exception {\r\n\t\tfinal MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;&gt;();\r\n\t\tparams.add(&quot;grant_type&quot;, &quot;password&quot;);\r\n\t\tparams.add(&quot;client_id&quot;, CLIENT_ID);\r\n\t\tparams.add(&quot;username&quot;, username);\r\n\t\tparams.add(&quot;password&quot;, password);\r\n\r\n\r\n\t\tResultActions result = mockMvc.perform(post(&quot;/oauth/token&quot;)\r\n\t\t\t\t.params(params)\r\n\t\t\t\t.with(httpBasic(CLIENT_ID, CLIENT_SECRET))\r\n\t\t\t\t.accept(CONTENT_TYPE))\r\n\t\t\t\t.andExpect(status().isOk())\r\n\t\t\t\t.andExpect(content().contentType(CONTENT_TYPE));\r\n\r\n\r\n\t\tString resultString = result.andReturn().getResponse().getContentAsString();\r\n\r\n\t\tJacksonJsonParser jsonParser = new JacksonJsonParser();\r\n\t\treturn jsonParser.parseMap(resultString).get(&quot;access_token&quot;).toString();\r\n\t}\r\n\r\nI tried following APIs in postman: \r\n\r\n\r\nPOST type `http://localhost:8080/oauth/token` with content type `application/json`\r\nin Body section I selected raw and JSON :\r\n\r\n \r\n\r\n    {\r\n    \t&quot;grant_type&quot;:&quot;password&quot;,\r\n    \t&quot;client_id&quot;:&quot;clientIdPassword&quot;,\r\n    \t&quot;username&quot;:&quot;a&quot;,\r\n    \t&quot;password&quot;:&quot;a&quot;\r\n    }\r\nIt showed 401 Unauthorized. Then I also tried like this :\r\n\r\nPost type with content type `application/json`, `http://localhost:8080/oauth/token?grant_type=password&amp;client_id=clientIdPassword&amp;username=a&amp;password=a`. This also showed 401 Unauthorized.\r\n\r\nMy question is how can I set `MultiValueMap` as parameter in Postman?","title":"Spring Boot MultiValueMap parameters in Postman","body":"<p>I have implemented OAuth2 in Spring boot. It works well when testing it in JUnit but I always get unauthorized when I try the API in postman.</p>\n\n<p>test function in JUnit:</p>\n\n<pre><code>private String obtainAccessToken(String username, String password) throws Exception {\n    final MultiValueMap&lt;String, String&gt; params = new LinkedMultiValueMap&lt;&gt;();\n    params.add(\"grant_type\", \"password\");\n    params.add(\"client_id\", CLIENT_ID);\n    params.add(\"username\", username);\n    params.add(\"password\", password);\n\n\n    ResultActions result = mockMvc.perform(post(\"/oauth/token\")\n            .params(params)\n            .with(httpBasic(CLIENT_ID, CLIENT_SECRET))\n            .accept(CONTENT_TYPE))\n            .andExpect(status().isOk())\n            .andExpect(content().contentType(CONTENT_TYPE));\n\n\n    String resultString = result.andReturn().getResponse().getContentAsString();\n\n    JacksonJsonParser jsonParser = new JacksonJsonParser();\n    return jsonParser.parseMap(resultString).get(\"access_token\").toString();\n}\n</code></pre>\n\n<p>I tried following APIs in postman: </p>\n\n<p>POST type <code>http://localhost:8080/oauth/token</code> with content type <code>application/json</code>\nin Body section I selected raw and JSON :</p>\n\n<pre><code>{\n    \"grant_type\":\"password\",\n    \"client_id\":\"clientIdPassword\",\n    \"username\":\"a\",\n    \"password\":\"a\"\n}\n</code></pre>\n\n<p>It showed 401 Unauthorized. Then I also tried like this :</p>\n\n<p>Post type with content type <code>application/json</code>, <code>http://localhost:8080/oauth/token?grant_type=password&amp;client_id=clientIdPassword&amp;username=a&amp;password=a</code>. This also showed 401 Unauthorized.</p>\n\n<p>My question is how can I set <code>MultiValueMap</code> as parameter in Postman?</p>\n"},{"tags":["java","spring","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697721321,"post_id":77324014,"comment_id":136317335,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697723912,"post_id":77324014,"comment_id":136317900,"body_markdown":"Use [code format](https://stackoverflow.com/editing-help#code) for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation.","body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."}],"owner":{"account_id":17980241,"reputation":11,"user_id":13066769,"display_name":"Hashini Udara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697782472,"answer_count":0,"score":0,"last_activity_date":1697720645,"creation_date":1697720645,"question_id":77324014,"body_markdown":"&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;easyloadController&#39;: Unsatisfied dependency expressed through field &#39;service&#39;: Error creating bean with name &#39;easyloadService&#39;: Unsatisfied dependency expressed through field &#39;getRegularELSale&#39;: Error creating bean with name &#39;getRegularELSaleImpl&#39;: Unsatisfied dependency expressed through field &#39;easyloadCollectionRepository&#39;: Error creating bean with name &#39;easyloadCollectionRepository&#39; defined in com.mmoney.airtimerecharge.modules.easyload.dao.EasyloadCollectionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.mmoney.airtimerecharge.modules.easyload.model.ELDailySummary com.mmoney.airtimerecharge.modules.easyload.dao.EasyloadCollectionRepository.getDailySummary(java.lang.String); Reason: Validation failed for query for method public abstract com.mmoney.airtimerecharge.modules.easyload.model.ELDailySummary com.mmoney.airtimerecharge.modules.easyload.dao.EasyloadCollectionRepository.getDailySummary(java.lang.String)\r\n\r\nJPQL query in repository\r\n`@Query(&quot;select new com.mmoney.airtimerecharge.modules.easyload.model.ELDailySummary(COALESCE(SUM(e.amount), 0),COALESCE(SUM(e.robiCommAmount), 0),COALESCE(SUM(e.otfCommAmount), 0),COALESCE(SUM(e.gstoreCommAmount), 0)) from EasyloadCollection e WHERE e.status=&#39;S&#39; AND TRUNC(e.txDate)=TRUNC(sysdate) AND e.msisdn=:mobile GROUP BY e.msisdn&quot;)\r\n    ELDailySummary getDailySummary(@Param(&quot;mobile&quot;) String mobile);`\r\n\r\nEntity class\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;EASYLOAD_COLLECTION&quot;, schema = Config.DB_SCHEMA_EASYLOAD)\r\npublic class EasyloadCollection {\r\n    @Id\r\n    @SequenceGenerator(name = &quot;SLNO_GENERATOR&quot;, sequenceName = Config.DB_SCHEMA_EASYLOAD+&quot;.EASYLOAD_SEQ&quot;, allocationSize=1)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;SLNO_GENERATOR&quot;)\r\n//    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SLNO_GENERATOR&quot;)\r\n    private String slno;\r\n    @Column(name=&quot;EXTREFNUM&quot;)\r\n    private String extRefNum;\r\n    @Column(name=&quot;REQTYPE&quot;)\r\n    private String reqType;\r\n    @Column(name=&quot;RESTYPE&quot;)\r\n    private String resType;\r\n    @Column(name=&quot;TX_DATE&quot;)\r\n    private Date txDate;\r\n    @Column(name=&quot;RESON&quot;)\r\n    private Date resOn;\r\n    @Column(name=&quot;MESSAGE&quot;)\r\n    private String message;\r\n    @Column(name=&quot;REQSTATUS&quot;)\r\n    private String reqStatus;\r\n    @Column(name=&quot;ROBITXNID&quot;)\r\n    private Long robiTxnId; //number\r\n    @Column(name=&quot;TXNSTATUS&quot;)\r\n    private String txnStatus;\r\n    @Column(name=&quot;ELTXNID&quot;)\r\n    private String elTxnId;\r\n    @Column(name=&quot;EXTNWCODE&quot;)\r\n    private String extNwCode;\r\n    @Column(name=&quot;MSISDN&quot;)\r\n    private String msisdn;\r\n    @Column(name=&quot;PIN&quot;)\r\n    private String pin;\r\n    @Column(name=&quot;LOGINID&quot;)\r\n    private String loginId;\r\n    @Column(name=&quot;PASSWORD&quot;)\r\n    private String password;\r\n    @Column(name=&quot;EXTCODE&quot;)\r\n    private String extCode;\r\n    @Column(name=&quot;MSISDN2&quot;)\r\n    private String msisdn2;\r\n    @Column(name=&quot;AMOUNT&quot;)\r\n    private String amount;\r\n    @Column(name=&quot;LANGUAGE1&quot;)\r\n    private String language1;\r\n    @Column(name=&quot;LANGUAGE2&quot;)\r\n    private String language2;\r\n    @Column(name=&quot;SELECTOR&quot;)\r\n    private String selector;\r\n    @Column(name=&quot;STATUS&quot;)\r\n    private String status;\r\n    @Column(name=&quot;OTFCOMM_TXNID&quot;)\r\n    private String otfCommTxnId;\r\n    @Column(name=&quot;OTFCOMM_AMOUNT&quot;,columnDefinition = &quot;FLOAT&quot;)\r\n    private double otfCommAmount; //binary double\r\n    @Column(name=&quot;OTFCOMM_STATUS&quot;)\r\n    private String otfCommStatus;\r\n    @Column(name=&quot;CHANNEL&quot;)\r\n    private String channel;\r\n    @Column(name=&quot;GSTORECOMM_TXNID&quot;)\r\n    private String gstoreCommTxnId;\r\n    @Column(name=&quot;GSTORECOMM_AMOUNT&quot;,columnDefinition = &quot;FLOAT&quot;)\r\n    private double gstoreCommAmount;//binary double\r\n    @Column(name=&quot;GSTORECOMM_STATUS&quot;)\r\n    private String gstoreCommStatus;\r\n//    @Column(name=&quot;GSTORECOMM_WALLET&quot;) //this column not in the database\r\n//    private String gstoreCommwallet;\r\n    @Column(name=&quot;C2CREQTYPE&quot;)\r\n    private String c2cReqType;\r\n    @Column(name=&quot;C2CRESTYPE&quot;)\r\n    private String c2cResType;\r\n    @Column(name=&quot;C2CRESON&quot;)\r\n    private Date c2cResOn;\r\n    @Column(name=&quot;C2CMESSAGE&quot;)\r\n    private String c2cMessage;\r\n    @Column(name=&quot;C2CREQSTATUS&quot;)\r\n    private String c2cReqStatus;\r\n    @Column(name=&quot;C2CTXNSTATUS&quot;)\r\n    private String c2cTxnStatus;\r\n    @Column(name=&quot;C2CELTXNID&quot;)\r\n    private String c2cElTxnId;\r\n    @Column(name=&quot;C2CROBITXNID&quot;)\r\n    private int c2cRobiTxnId; //number\r\n    @Column(name=&quot;C2CSTATUS&quot;)\r\n    private String c2cStatus;\r\n    @Column(name=&quot;C2CAGENT&quot;)\r\n    private String c2cAgent;\r\n    @Column(name=&quot;C2CDISTRIBUTOR&quot;)\r\n    private String c2cDistributor;\r\n    @Column(name=&quot;PRODUCTCODE&quot;)\r\n    private String productCode;\r\n    @Column(name=&quot;PRODUCTQTY&quot;,columnDefinition = &quot;FLOAT&quot;)\r\n    private double productQty; //binary double\r\n    @Column(name=&quot;ROBICOMM_AMOUNT&quot;,columnDefinition = &quot;FLOAT&quot;)\r\n    private double robiCommAmount; //binary double\r\n    @Column(name=&quot;ROBIERRORCODE&quot;)\r\n    private String robiErrorCode;\r\n    @Column(name=&quot;ROBIERRORMSG&quot;)\r\n    private String robiErrorMsg;\r\n}\r\n```\r\ndatabase column\r\n\r\n```\r\nTX_DATE\t\t\t\t\t    DATE\r\n```\r\nmodel class\r\n\r\n```\r\n@Getter\r\n@Setter\r\n//@AllArgsConstructor\r\n//@NoArgsConstructor\r\npublic class ELDailySummary {\r\n    private double daily_sales;\r\n    private double daily_rc;\r\n    private double daily_otf;\r\n    private double daily_gcom;\r\n\r\n    public ELDailySummary(double daily_sales,double daily_rc,double daily_otf,double daily_gcom){\r\n        this.daily_sales=daily_sales;\r\n        this.daily_rc=daily_rc;\r\n        this.daily_otf=daily_otf;\r\n        this.daily_gcom=daily_gcom;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Parameter 1 of function trunc() has type NUMERIC, but argument is of type java.sql.Date","body":"<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'easyloadController': Unsatisfied dependency expressed through field 'service': Error creating bean with name 'easyloadService': Unsatisfied dependency expressed through field 'getRegularELSale': Error creating bean with name 'getRegularELSaleImpl': Unsatisfied dependency expressed through field 'easyloadCollectionRepository': Error creating bean with name 'easyloadCollectionRepository' defined in com.mmoney.airtimerecharge.modules.easyload.dao.EasyloadCollectionRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract com.mmoney.airtimerecharge.modules.easyload.model.ELDailySummary com.mmoney.airtimerecharge.modules.easyload.dao.EasyloadCollectionRepository.getDailySummary(java.lang.String); Reason: Validation failed for query for method public abstract com.mmoney.airtimerecharge.modules.easyload.model.ELDailySummary com.mmoney.airtimerecharge.modules.easyload.dao.EasyloadCollectionRepository.getDailySummary(java.lang.String)</p>\n</blockquote>\n<p>JPQL query in repository\n<code>@Query(&quot;select new com.mmoney.airtimerecharge.modules.easyload.model.ELDailySummary(COALESCE(SUM(e.amount), 0),COALESCE(SUM(e.robiCommAmount), 0),COALESCE(SUM(e.otfCommAmount), 0),COALESCE(SUM(e.gstoreCommAmount), 0)) from EasyloadCollection e WHERE e.status='S' AND TRUNC(e.txDate)=TRUNC(sysdate) AND e.msisdn=:mobile GROUP BY e.msisdn&quot;) ELDailySummary getDailySummary(@Param(&quot;mobile&quot;) String mobile);</code></p>\n<p>Entity class</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;EASYLOAD_COLLECTION&quot;, schema = Config.DB_SCHEMA_EASYLOAD)\npublic class EasyloadCollection {\n    @Id\n    @SequenceGenerator(name = &quot;SLNO_GENERATOR&quot;, sequenceName = Config.DB_SCHEMA_EASYLOAD+&quot;.EASYLOAD_SEQ&quot;, allocationSize=1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;SLNO_GENERATOR&quot;)\n//    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SLNO_GENERATOR&quot;)\n    private String slno;\n    @Column(name=&quot;EXTREFNUM&quot;)\n    private String extRefNum;\n    @Column(name=&quot;REQTYPE&quot;)\n    private String reqType;\n    @Column(name=&quot;RESTYPE&quot;)\n    private String resType;\n    @Column(name=&quot;TX_DATE&quot;)\n    private Date txDate;\n    @Column(name=&quot;RESON&quot;)\n    private Date resOn;\n    @Column(name=&quot;MESSAGE&quot;)\n    private String message;\n    @Column(name=&quot;REQSTATUS&quot;)\n    private String reqStatus;\n    @Column(name=&quot;ROBITXNID&quot;)\n    private Long robiTxnId; //number\n    @Column(name=&quot;TXNSTATUS&quot;)\n    private String txnStatus;\n    @Column(name=&quot;ELTXNID&quot;)\n    private String elTxnId;\n    @Column(name=&quot;EXTNWCODE&quot;)\n    private String extNwCode;\n    @Column(name=&quot;MSISDN&quot;)\n    private String msisdn;\n    @Column(name=&quot;PIN&quot;)\n    private String pin;\n    @Column(name=&quot;LOGINID&quot;)\n    private String loginId;\n    @Column(name=&quot;PASSWORD&quot;)\n    private String password;\n    @Column(name=&quot;EXTCODE&quot;)\n    private String extCode;\n    @Column(name=&quot;MSISDN2&quot;)\n    private String msisdn2;\n    @Column(name=&quot;AMOUNT&quot;)\n    private String amount;\n    @Column(name=&quot;LANGUAGE1&quot;)\n    private String language1;\n    @Column(name=&quot;LANGUAGE2&quot;)\n    private String language2;\n    @Column(name=&quot;SELECTOR&quot;)\n    private String selector;\n    @Column(name=&quot;STATUS&quot;)\n    private String status;\n    @Column(name=&quot;OTFCOMM_TXNID&quot;)\n    private String otfCommTxnId;\n    @Column(name=&quot;OTFCOMM_AMOUNT&quot;,columnDefinition = &quot;FLOAT&quot;)\n    private double otfCommAmount; //binary double\n    @Column(name=&quot;OTFCOMM_STATUS&quot;)\n    private String otfCommStatus;\n    @Column(name=&quot;CHANNEL&quot;)\n    private String channel;\n    @Column(name=&quot;GSTORECOMM_TXNID&quot;)\n    private String gstoreCommTxnId;\n    @Column(name=&quot;GSTORECOMM_AMOUNT&quot;,columnDefinition = &quot;FLOAT&quot;)\n    private double gstoreCommAmount;//binary double\n    @Column(name=&quot;GSTORECOMM_STATUS&quot;)\n    private String gstoreCommStatus;\n//    @Column(name=&quot;GSTORECOMM_WALLET&quot;) //this column not in the database\n//    private String gstoreCommwallet;\n    @Column(name=&quot;C2CREQTYPE&quot;)\n    private String c2cReqType;\n    @Column(name=&quot;C2CRESTYPE&quot;)\n    private String c2cResType;\n    @Column(name=&quot;C2CRESON&quot;)\n    private Date c2cResOn;\n    @Column(name=&quot;C2CMESSAGE&quot;)\n    private String c2cMessage;\n    @Column(name=&quot;C2CREQSTATUS&quot;)\n    private String c2cReqStatus;\n    @Column(name=&quot;C2CTXNSTATUS&quot;)\n    private String c2cTxnStatus;\n    @Column(name=&quot;C2CELTXNID&quot;)\n    private String c2cElTxnId;\n    @Column(name=&quot;C2CROBITXNID&quot;)\n    private int c2cRobiTxnId; //number\n    @Column(name=&quot;C2CSTATUS&quot;)\n    private String c2cStatus;\n    @Column(name=&quot;C2CAGENT&quot;)\n    private String c2cAgent;\n    @Column(name=&quot;C2CDISTRIBUTOR&quot;)\n    private String c2cDistributor;\n    @Column(name=&quot;PRODUCTCODE&quot;)\n    private String productCode;\n    @Column(name=&quot;PRODUCTQTY&quot;,columnDefinition = &quot;FLOAT&quot;)\n    private double productQty; //binary double\n    @Column(name=&quot;ROBICOMM_AMOUNT&quot;,columnDefinition = &quot;FLOAT&quot;)\n    private double robiCommAmount; //binary double\n    @Column(name=&quot;ROBIERRORCODE&quot;)\n    private String robiErrorCode;\n    @Column(name=&quot;ROBIERRORMSG&quot;)\n    private String robiErrorMsg;\n}\n</code></pre>\n<p>database column</p>\n<pre><code>TX_DATE                     DATE\n</code></pre>\n<p>model class</p>\n<pre><code>@Getter\n@Setter\n//@AllArgsConstructor\n//@NoArgsConstructor\npublic class ELDailySummary {\n    private double daily_sales;\n    private double daily_rc;\n    private double daily_otf;\n    private double daily_gcom;\n\n    public ELDailySummary(double daily_sales,double daily_rc,double daily_otf,double daily_gcom){\n        this.daily_sales=daily_sales;\n        this.daily_rc=daily_rc;\n        this.daily_otf=daily_otf;\n        this.daily_gcom=daily_gcom;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":27264513,"reputation":354,"user_id":20786794,"display_name":"Omprakash Chavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672330446,"creation_date":1672330446,"answer_id":74953504,"question_id":74952728,"body_markdown":"java-client 8.2.1 has issues with resolving dependencies: https://github.com/appium/java-client/issues/1812\r\n\r\nUpgrade to 8.3.0 and check.","title":"java.lang.IllegalAccessError: tried to access method org.openqa.selenium.remote.http.ClientConfig","body":"<p>java-client 8.2.1 has issues with resolving dependencies: <a href=\"https://github.com/appium/java-client/issues/1812\" rel=\"nofollow noreferrer\">https://github.com/appium/java-client/issues/1812</a></p>\n<p>Upgrade to 8.3.0 and check.</p>\n"},{"tags":[],"owner":{"account_id":10861190,"reputation":1,"user_id":7986019,"display_name":"Zinapp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697720553,"creation_date":1697655094,"answer_id":77318907,"question_id":74952728,"body_markdown":"I resolved the issue by updating the java-client library to version 8.6.0. This update effectively eliminated the problem.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;8.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.IllegalAccessError: tried to access method org.openqa.selenium.remote.http.ClientConfig","body":"<p>I resolved the issue by updating the java-client library to version 8.6.0. This update effectively eliminated the problem.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n    &lt;version&gt;8.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27383709,"reputation":1,"user_id":20887929,"display_name":"Danilo MJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697720553,"creation_date":1672326118,"question_id":74952728,"body_markdown":"I&#39;m getting this error when I try to run a testCase from eclipse:\r\nI&#39;m using eclipse, Appium-Server-GUI-windows-1.22.3-4, Android 4: \r\njava-client-8.2.1.jar\r\n\r\nI need your help:\r\nCode:\r\n\r\n```\r\n@Test\r\n\tpublic void test() throws  MalformedURLException{\r\n\t\t//fail(&quot;Not yet implemented&quot;);\r\n        URL link = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n\t\t//AndroidDriver driver;\r\n\t\tDesiredCapabilities capacidades = new DesiredCapabilities(); \r\n\t\tcapacidades.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\t\tcapacidades.setCapability(&quot;appium:platformVersion&quot;, &quot;13&quot;);\r\n\t\tcapacidades.setCapability(&quot;appium:appActivity&quot;, &quot;com.BancaxcxcxActivity&quot;);\r\n\t\tcapacidades.setCapability(&quot;appium:appPackage&quot;, &quot;com.banxxxv40&quot;);\r\n\t\tcapacidades.setCapability(&quot;appium:deviceName&quot;, &quot;sdk_gphone64_x86_64&quot;);\r\n\t\t\r\n\t\t// Inicio driver\r\n\t\tAndroidDriver driver = new AndroidDriver(link ,capacidades);\r\n\r\n\t}\r\n```\r\n\r\nerror:\r\n\r\n```\r\njava.lang.IllegalAccessError: tried to access method org.openqa.selenium.remote.http.ClientConfig.&lt;init&gt;\r\n(Ljava/net/URI;\r\nLjava/time/Duration;\r\nLjava/time/Duration;\r\nLorg/openqa/selenium/remote/http/Filter;\r\nLjava/net/Proxy;Lorg/openqa/selenium/Credentials;)\r\nV from class io.appium.java_client.AppiumClientConfig\r\n\r\n\tat io.appium.java_client.AppiumClientConfig.&lt;init&gt;(AppiumClientConfig.java:62)\r\n\tat io.appium.java_client.AppiumClientConfig.defaultConfig(AppiumClientConfig.java:79)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.&lt;init&gt;(AppiumCommandExecutor.java:109)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:117)\r\n\tat consolePruebasTest.TestMovil.test(TestMovil.java:49)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n```\r\n\r\n\r\nI&#39;m trying to do a initial conecction with emulated device.","title":"java.lang.IllegalAccessError: tried to access method org.openqa.selenium.remote.http.ClientConfig","body":"<p>I'm getting this error when I try to run a testCase from eclipse:\nI'm using eclipse, Appium-Server-GUI-windows-1.22.3-4, Android 4:\njava-client-8.2.1.jar</p>\n<p>I need your help:\nCode:</p>\n<pre><code>@Test\n    public void test() throws  MalformedURLException{\n        //fail(&quot;Not yet implemented&quot;);\n        URL link = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\n        //AndroidDriver driver;\n        DesiredCapabilities capacidades = new DesiredCapabilities(); \n        capacidades.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\n        capacidades.setCapability(&quot;appium:platformVersion&quot;, &quot;13&quot;);\n        capacidades.setCapability(&quot;appium:appActivity&quot;, &quot;com.BancaxcxcxActivity&quot;);\n        capacidades.setCapability(&quot;appium:appPackage&quot;, &quot;com.banxxxv40&quot;);\n        capacidades.setCapability(&quot;appium:deviceName&quot;, &quot;sdk_gphone64_x86_64&quot;);\n        \n        // Inicio driver\n        AndroidDriver driver = new AndroidDriver(link ,capacidades);\n\n    }\n</code></pre>\n<p>error:</p>\n<pre><code>java.lang.IllegalAccessError: tried to access method org.openqa.selenium.remote.http.ClientConfig.&lt;init&gt;\n(Ljava/net/URI;\nLjava/time/Duration;\nLjava/time/Duration;\nLorg/openqa/selenium/remote/http/Filter;\nLjava/net/Proxy;Lorg/openqa/selenium/Credentials;)\nV from class io.appium.java_client.AppiumClientConfig\n\n    at io.appium.java_client.AppiumClientConfig.&lt;init&gt;(AppiumClientConfig.java:62)\n    at io.appium.java_client.AppiumClientConfig.defaultConfig(AppiumClientConfig.java:79)\n    at io.appium.java_client.remote.AppiumCommandExecutor.&lt;init&gt;(AppiumCommandExecutor.java:109)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:117)\n    at consolePruebasTest.TestMovil.test(TestMovil.java:49)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\n</code></pre>\n<p>I'm trying to do a initial conecction with emulated device.</p>\n"},{"tags":["java","spring-boot","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":457108,"reputation":869,"user_id":856215,"accept_rate":60,"display_name":"Roman L."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697720349,"creation_date":1697720349,"answer_id":77323977,"question_id":77322590,"body_markdown":"I found the solution myself. &lt;br&gt;\r\nOne of the classes which is annotated with ```@SpringBootApplication``` needs the ```@ConditionalOnProperty``` attribute with ```matchIfMissing = true```:\r\n\r\n```\r\n@ConditionalOnProperty(name = &quot;application.feature.somefeature&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\r\n@SpringBootApplication\r\n```\r\nThis indicates, that this ```@SpringBootApplication``` is used, if the property is missing in the application settings (which it is somehow in case of ```@SpringBootTest``` ).\r\n","title":"Default SpringbootApplication for all SpringBootTest","body":"<p>I found the solution myself. <br>\nOne of the classes which is annotated with <code>@SpringBootApplication</code> needs the <code>@ConditionalOnProperty</code> attribute with <code>matchIfMissing = true</code>:</p>\n<pre><code>@ConditionalOnProperty(name = &quot;application.feature.somefeature&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\n@SpringBootApplication\n</code></pre>\n<p>This indicates, that this <code>@SpringBootApplication</code> is used, if the property is missing in the application settings (which it is somehow in case of <code>@SpringBootTest</code> ).</p>\n"}],"owner":{"account_id":457108,"reputation":869,"user_id":856215,"accept_rate":60,"display_name":"Roman L."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77323977,"answer_count":1,"score":0,"last_activity_date":1697720349,"creation_date":1697708111,"question_id":77322590,"body_markdown":"So, i have two classes annotated with ```@SpringBootApplication``` which are loaded based on a feature toggle. Dont ask for reasons. It is needed. Everything works as expected. Except of the SpringbootTests. I have now to decalare always which SpringBootApplication class should be used. So instead of ...\r\n```\r\n@SpringBootTest\r\n```\r\n... i have always to write that:\r\n\r\n```\r\n@SpringBootTest(classes = SpringBootApplicationToUse.class)\r\n```\r\notherwise i get this error:\r\n&gt;[main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [org.bla.foo.ThisIsSomeTest]: ThisIsSomeTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n\r\nIs it somehow possible to configure a default config class for all SpringBootTest&#39;s? For example in the test profile config or do i have to change all ```@SpringBootTest``` to ```@SpringBootTest(classes = SpringBootApplicationToUse.class)```?","title":"Default SpringbootApplication for all SpringBootTest","body":"<p>So, i have two classes annotated with <code>@SpringBootApplication</code> which are loaded based on a feature toggle. Dont ask for reasons. It is needed. Everything works as expected. Except of the SpringbootTests. I have now to decalare always which SpringBootApplication class should be used. So instead of ...</p>\n<pre><code>@SpringBootTest\n</code></pre>\n<p>... i have always to write that:</p>\n<pre><code>@SpringBootTest(classes = SpringBootApplicationToUse.class)\n</code></pre>\n<p>otherwise i get this error:</p>\n<blockquote>\n<p>[main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [org.bla.foo.ThisIsSomeTest]: ThisIsSomeTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.</p>\n</blockquote>\n<p>Is it somehow possible to configure a default config class for all SpringBootTest's? For example in the test profile config or do i have to change all <code>@SpringBootTest</code> to <code>@SpringBootTest(classes = SpringBootApplicationToUse.class)</code>?</p>\n"},{"tags":["java","jit","java-21","openjdk-21"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697718049,"post_id":77323627,"comment_id":136316637,"body_markdown":"Your output doesn&#39;t actually show that `CICompilerCountPerCPU` is true.","body":"Your output doesn&#39;t actually show that <code>CICompilerCountPerCPU</code> is true."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697718273,"post_id":77323627,"comment_id":136316692,"body_markdown":"Also, obviously, just using `java -XX:+PrintFlagsFinal -version| grep CI` will not output the desired result anyway, because then you&#39;re not setting any of those parameters.","body":"Also, obviously, just using <code>java -XX:+PrintFlagsFinal -version| grep CI</code> will not output the desired result anyway, because then you&#39;re not setting any of those parameters."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697719476,"creation_date":1697718199,"answer_id":77323733,"question_id":77323627,"body_markdown":"Using the following does the trick:\r\n\r\n```bash\r\njava -XX:-CICompilerCountPerCPU -XX:CICompilerCount=3 -XX:+PrintFlagsFinal -version | grep CICompiler\r\n```\r\n\r\n```none\r\n     intx CICompilerCount                          = 3                                         {product} {command line}\r\n     bool CICompilerCountPerCPU                    = false                                     {product} {command line}\r\nopenjdk version &quot;21&quot; 2023-09-19 LTS\r\nOpenJDK Runtime Environment Temurin-21+35 (build 21+35-LTS)\r\nOpenJDK 64-Bit Server VM Temurin-21+35 (build 21+35-LTS, mixed mode, sharing)\r\n```\r\n\r\nThe obvious difference with your attempt is that you tried with `-XX:+CICompilerCount=3`, which results in an error because the `+` and `-` are only valid for boolean options:\r\n\r\n&gt; Unexpected +/- setting in VM option &#39;CICompilerCount=3&#39;\\\r\n&gt; Error: Could not create the Java Virtual Machine.\\\r\n&gt; Error: A fatal exception has occurred. Program will exit.","title":"How to set &quot;CICompilerCountPerCPU&quot; to false in Java 21","body":"<p>Using the following does the trick:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -XX:-CICompilerCountPerCPU -XX:CICompilerCount=3 -XX:+PrintFlagsFinal -version | grep CICompiler\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>     intx CICompilerCount                          = 3                                         {product} {command line}\n     bool CICompilerCountPerCPU                    = false                                     {product} {command line}\nopenjdk version &quot;21&quot; 2023-09-19 LTS\nOpenJDK Runtime Environment Temurin-21+35 (build 21+35-LTS)\nOpenJDK 64-Bit Server VM Temurin-21+35 (build 21+35-LTS, mixed mode, sharing)\n</code></pre>\n<p>The obvious difference with your attempt is that you tried with <code>-XX:+CICompilerCount=3</code>, which results in an error because the <code>+</code> and <code>-</code> are only valid for boolean options:</p>\n<blockquote>\n<p>Unexpected +/- setting in VM option 'CICompilerCount=3'<br />\nError: Could not create the Java Virtual Machine.<br />\nError: A fatal exception has occurred. Program will exit.</p>\n</blockquote>\n"}],"owner":{"account_id":17675286,"reputation":1,"user_id":12830366,"display_name":"FlyChenKai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697719476,"creation_date":1697717270,"question_id":77323627,"body_markdown":"I have tried the JVM arguments like `-XX:-CICompilerCountPerCPU -XX:+CICompilerCount=3`, `-XX:CICompilerCountPerCPU=false -XX:+CICompilerCount=3`, but it still shows that `CICompilerCountPerCPU=true`:\r\n\r\n```none\r\n[~]$ java -XX:+PrintFlagsFinal -version| grep CI\r\n     ccstr ArchiveClassesAtExit                     =          {JVMCI product} {default}\r\n     bool AutoCreateSharedArchive                  = false     {JVMCI product} {default}\r\n     intx CICompilerCount                          = 3         {product} {ergonomic}\r\n```\r\nMy purpose is to set the number of JIT threads to a fixed &quot;3&quot;, and how can I verify that was effective?\r\n","title":"How to set &quot;CICompilerCountPerCPU&quot; to false in Java 21","body":"<p>I have tried the JVM arguments like <code>-XX:-CICompilerCountPerCPU -XX:+CICompilerCount=3</code>, <code>-XX:CICompilerCountPerCPU=false -XX:+CICompilerCount=3</code>, but it still shows that <code>CICompilerCountPerCPU=true</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[~]$ java -XX:+PrintFlagsFinal -version| grep CI\n     ccstr ArchiveClassesAtExit                     =          {JVMCI product} {default}\n     bool AutoCreateSharedArchive                  = false     {JVMCI product} {default}\n     intx CICompilerCount                          = 3         {product} {ergonomic}\n</code></pre>\n<p>My purpose is to set the number of JIT threads to a fixed &quot;3&quot;, and how can I verify that was effective?</p>\n"},{"tags":["java","spring","testing","spring-data-jpa","spring-test"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1697626833,"post_id":77315218,"comment_id":136302798,"body_markdown":"That&#39;s done with in-memory databases (h2 in case of sql). Check [this guide](https://www.baeldung.com/spring-jpa-test-in-memory-database).","body":"That&#39;s done with in-memory databases (h2 in case of sql). Check <a href=\"https://www.baeldung.com/spring-jpa-test-in-memory-database\" rel=\"nofollow noreferrer\">this guide</a>."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1697699716,"post_id":77315218,"comment_id":136313254,"body_markdown":"Don&#39;t use in memory databases for testing if you don&#39;t use them in production. Use TestContainers instead.\n\nEspecially with SQL queries.","body":"Don&#39;t use in memory databases for testing if you don&#39;t use them in production. Use TestContainers instead.  Especially with SQL queries."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697629666,"creation_date":1697629666,"answer_id":77316015,"question_id":77315218,"body_markdown":"You have many questions packed into this one post.\r\n\r\n**Is this repository correct?**\r\n\r\nHow should we be able to tell? We do not know the requirements that you tried to model.\r\n\r\n**How to test it?**\r\n\r\nSome automatic testing would definitely be good. So have a repository with defined set of data. Run a query. Since you know the data in the repository you also know what response is to be expected. Run enough of queries on enough of data so you feel safe to say whether the repository works to expectations.\r\n\r\n**I think it is unwise JUnit testing. How to test in my case?**\r\n\r\nJUnit-testing is not unwise per se. In-Memory database is not necessarily the only way to go. What you need to ensure is that the above mechanism can work: \r\n\r\nDefine the database content, run the test, compare the result to the expectation.\r\n\r\nIf you want your tests to execute in parallel, you may need many databases in parallel. If they execute sequentially, you may end up having only one database.\r\n\r\nMaybe it is not the fastest, but I run my tests sequentially (I think JUnit does that per default anyway) on MariaDB. Then I added a clean script (drop all tables) and a create/populate script into the test setup method. \r\n\r\nThat means for every test the database is cleaned and created from scratch before some queries would be fired. It allows me to predict the exptected results.\r\nIt also means my CI/CD pipeline needs to have a MariaDB in the background, and the tests take some time to execute.\r\n\r\nBut in the end I can be sure the database and the application work together as intended - otherwise the tests would have failed.","title":"JPA repository with modified query. How to test it?","body":"<p>You have many questions packed into this one post.</p>\n<p><strong>Is this repository correct?</strong></p>\n<p>How should we be able to tell? We do not know the requirements that you tried to model.</p>\n<p><strong>How to test it?</strong></p>\n<p>Some automatic testing would definitely be good. So have a repository with defined set of data. Run a query. Since you know the data in the repository you also know what response is to be expected. Run enough of queries on enough of data so you feel safe to say whether the repository works to expectations.</p>\n<p><strong>I think it is unwise JUnit testing. How to test in my case?</strong></p>\n<p>JUnit-testing is not unwise per se. In-Memory database is not necessarily the only way to go. What you need to ensure is that the above mechanism can work:</p>\n<p>Define the database content, run the test, compare the result to the expectation.</p>\n<p>If you want your tests to execute in parallel, you may need many databases in parallel. If they execute sequentially, you may end up having only one database.</p>\n<p>Maybe it is not the fastest, but I run my tests sequentially (I think JUnit does that per default anyway) on MariaDB. Then I added a clean script (drop all tables) and a create/populate script into the test setup method.</p>\n<p>That means for every test the database is cleaned and created from scratch before some queries would be fired. It allows me to predict the exptected results.\nIt also means my CI/CD pipeline needs to have a MariaDB in the background, and the tests take some time to execute.</p>\n<p>But in the end I can be sure the database and the application work together as intended - otherwise the tests would have failed.</p>\n"},{"tags":[],"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697719385,"creation_date":1697719385,"answer_id":77323859,"question_id":77315218,"body_markdown":"If you are asking if it is a good approach for such case to use repository with a very custom query, then yes it would still be a good approach to use JPA. If you want to know about the design of your db, we will need more info and probably a different thread\r\n\r\nRegarding **unit testing repositories** in general, you are right it is not wise. It makes some sense in your case, since you re using a custom query. But this is not really code you re testing, so in general you should be testing on the correct level, which would be functional-tests or manual testing, depending on your strategy.\r\n\r\nFinally, if you still want to have some tests in unit-tests level, there are many ways. You can use *in-memory databases*, *DataJpaTest*, *TestContainers* and maybe more. See what suits you better","title":"JPA repository with modified query. How to test it?","body":"<p>If you are asking if it is a good approach for such case to use repository with a very custom query, then yes it would still be a good approach to use JPA. If you want to know about the design of your db, we will need more info and probably a different thread</p>\n<p>Regarding <strong>unit testing repositories</strong> in general, you are right it is not wise. It makes some sense in your case, since you re using a custom query. But this is not really code you re testing, so in general you should be testing on the correct level, which would be functional-tests or manual testing, depending on your strategy.</p>\n<p>Finally, if you still want to have some tests in unit-tests level, there are many ways. You can use <em>in-memory databases</em>, <em>DataJpaTest</em>, <em>TestContainers</em> and maybe more. See what suits you better</p>\n"}],"owner":{"account_id":15293615,"reputation":9,"user_id":11034435,"display_name":"Makkambaev Dastan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1697719385,"creation_date":1697622611,"question_id":77315218,"body_markdown":"I have no experience. I started to study testing. Is this repository correct? How to test it?\r\n\r\n\r\n```\r\npublic class Person extends Auditable&lt;String&gt; implements Serializable {\r\n    @Id\r\n    @Tsid\r\n    private Long id;\r\n    private String firstname;\r\n    private String surname;\r\n    private String patronymic;\r\n    @Temporal(TemporalType.DATE)\r\n    private LocalDate issue;\r\n    @Temporal(TemporalType.DATE)\r\n    private LocalDate expiry;\r\n    private String authority;\r\n    @Temporal(TemporalType.DATE)\r\n    private LocalDate birthDay;\r\n    @OneToMany(mappedBy = &quot;person&quot;, cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private List&lt;Anamnesis&gt; anamnesis=new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n\r\n```\r\npublic interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\r\n\r\n    @Query(value =\r\n            &quot;&quot;&quot;\r\n                    SELECT person.* FROM person\r\n                    INNER JOIN anamnesis ON person.id = anamnesis.person_id\r\n                    INNER JOIN employee ON employee.id = anamnesis.employee_id\r\n                    INNER JOIN department ON employee.department_id = department.id\r\n                    WHERE department.clinic_id = :id\r\n                    ORDER BY person.firstname ASC \r\n                    LIMIT :size OFFSET (:page * :size);\r\n                    &quot;&quot;&quot;,\r\n            nativeQuery = true)\r\n    List&lt;Person&gt; findAll(Long id, Integer page, Integer size);\r\n}\r\n```\r\n\r\nI think it is unwise JUnit testing. How to test in my case?","title":"JPA repository with modified query. How to test it?","body":"<p>I have no experience. I started to study testing. Is this repository correct? How to test it?</p>\n<pre><code>public class Person extends Auditable&lt;String&gt; implements Serializable {\n    @Id\n    @Tsid\n    private Long id;\n    private String firstname;\n    private String surname;\n    private String patronymic;\n    @Temporal(TemporalType.DATE)\n    private LocalDate issue;\n    @Temporal(TemporalType.DATE)\n    private LocalDate expiry;\n    private String authority;\n    @Temporal(TemporalType.DATE)\n    private LocalDate birthDay;\n    @OneToMany(mappedBy = &quot;person&quot;, cascade = CascadeType.ALL,orphanRemoval = true)\n    private List&lt;Anamnesis&gt; anamnesis=new ArrayList&lt;&gt;();\n}\n</code></pre>\n<pre><code>public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\n\n    @Query(value =\n            &quot;&quot;&quot;\n                    SELECT person.* FROM person\n                    INNER JOIN anamnesis ON person.id = anamnesis.person_id\n                    INNER JOIN employee ON employee.id = anamnesis.employee_id\n                    INNER JOIN department ON employee.department_id = department.id\n                    WHERE department.clinic_id = :id\n                    ORDER BY person.firstname ASC \n                    LIMIT :size OFFSET (:page * :size);\n                    &quot;&quot;&quot;,\n            nativeQuery = true)\n    List&lt;Person&gt; findAll(Long id, Integer page, Integer size);\n}\n</code></pre>\n<p>I think it is unwise JUnit testing. How to test in my case?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-test","method-interception"],"owner":{"account_id":14573074,"reputation":15,"user_id":10525801,"display_name":"Lia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697719243,"creation_date":1697719243,"question_id":77323846,"body_markdown":"I am currently migrating a project to Spring Boot and I have a custom method interceptor, which is used in some methods. However, when running the unit tests for the project, the custom interceptor is not being called. I am not sure if I should register the custom interceptor in some way in the tests or create a custom configuration in order for this interceptor to be called.\r\n\r\n```Java\r\n@Component\r\n@Aspect\r\npublic class CustomInterceptor implements MethodInterceptor {\r\n        //custom logic\r\n}\r\n```\r\n\r\n```Java\r\n   @CustomInterceptor\r\n    public Car getCar(final Car car) throws Exception {\r\n    //custom logic\r\n}\r\n```\r\nWhile when I run the application itself the interceptor is working correct, it is not working in test environment.\r\nI have a configuration which is registering my interceptor as a bean in the following way\r\n```Java\r\n   @Bean\r\n    public Advisor transactionalAdvisor() {\r\n        AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\r\n        pointcut.setExpression(&quot;@annotation(com.api.interceptor.CustomInterceptor)&quot;);\r\n        return new DefaultPointcutAdvisor(pointcut, customInterceptor);\r\n    }\r\n```\r\n","title":"How to register custom method interceptor in a Spring Boot test?","body":"<p>I am currently migrating a project to Spring Boot and I have a custom method interceptor, which is used in some methods. However, when running the unit tests for the project, the custom interceptor is not being called. I am not sure if I should register the custom interceptor in some way in the tests or create a custom configuration in order for this interceptor to be called.</p>\n<pre><code>@Component\n@Aspect\npublic class CustomInterceptor implements MethodInterceptor {\n        //custom logic\n}\n</code></pre>\n<pre><code>   @CustomInterceptor\n    public Car getCar(final Car car) throws Exception {\n    //custom logic\n}\n</code></pre>\n<p>While when I run the application itself the interceptor is working correct, it is not working in test environment.\nI have a configuration which is registering my interceptor as a bean in the following way</p>\n<pre><code>   @Bean\n    public Advisor transactionalAdvisor() {\n        AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\n        pointcut.setExpression(&quot;@annotation(com.api.interceptor.CustomInterceptor)&quot;);\n        return new DefaultPointcutAdvisor(pointcut, customInterceptor);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gateway"],"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosław"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697719028,"creation_date":1697719028,"question_id":77323823,"body_markdown":"My Spring Boot Gateway application routes incoming request to internal micro-services. Using filters it adds some headers, like this:\r\n\r\n```java\r\nexchange.getRequest().mutate().header(&quot;foo&quot;, &quot;bar&quot;);\r\n```\r\n\r\nHow to write a test which asserts the request after modifications applied by the gateway?\r\n\r\nMy tests looks like this:\r\n```java\r\nstubFor(get(anyUrl()).willReturn(aResponse()\r\n.withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;).withStatus(200).withBody(response)));\r\n\r\n// (...)\r\n\r\nwebClient.post().uri(&quot;/my/endpoint&quot;)\r\n.bodyValue(json).exchange()\r\n.expectStatus().isOk()\r\n```\r\n\r\nHow to test that `&quot;foo=bar&quot;` header is actually forwarded to the underlying micro-service? It&#39;s not passed back to the gateway so adding &quot;.expectHeaders()&quot; to the test won&#39;t work.","title":"Spring Gateway - how to assert a request which is forwarded to a service","body":"<p>My Spring Boot Gateway application routes incoming request to internal micro-services. Using filters it adds some headers, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>exchange.getRequest().mutate().header(&quot;foo&quot;, &quot;bar&quot;);\n</code></pre>\n<p>How to write a test which asserts the request after modifications applied by the gateway?</p>\n<p>My tests looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stubFor(get(anyUrl()).willReturn(aResponse()\n.withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;).withStatus(200).withBody(response)));\n\n// (...)\n\nwebClient.post().uri(&quot;/my/endpoint&quot;)\n.bodyValue(json).exchange()\n.expectStatus().isOk()\n</code></pre>\n<p>How to test that <code>&quot;foo=bar&quot;</code> header is actually forwarded to the underlying micro-service? It's not passed back to the gateway so adding &quot;.expectHeaders()&quot; to the test won't work.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":5568232,"reputation":148,"user_id":4651403,"display_name":"mrbigheart"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1427559511,"creation_date":1427559511,"answer_id":29319452,"question_id":29319251,"body_markdown":"here is a comprehensive guide for the class.\r\nhttps://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/remote/DesiredCapabilities.html\r\n\r\nmaybe you didn&#39;t tried the right methods to call.","title":"DesiredCapabilities object not getting its properties","body":"<p>here is a comprehensive guide for the class.\n<a href=\"https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/remote/DesiredCapabilities.html\" rel=\"nofollow\">https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/remote/DesiredCapabilities.html</a></p>\n\n<p>maybe you didn't tried the right methods to call.</p>\n"},{"tags":[],"owner":{"account_id":5325382,"reputation":2501,"user_id":4720017,"display_name":"LittlePanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427561759,"creation_date":1427561407,"answer_id":29319843,"question_id":29319251,"body_markdown":"The function list is not displayed when you do **not** have the jar file: selenium-java-2.43.0.jar added to the build path of the project.\r\n\r\nPlease make sure you have all the jar files added to your build path.\r\n\r\n1. Right click on your project-&gt;Build Path-&gt;Configure Build Path\r\n2. Goto Libraries-&gt;Add External jar files\r\n3. Add all the jar files made available with Selenium (please check bsh-1.3.0.jar as well)","title":"DesiredCapabilities object not getting its properties","body":"<p>The function list is not displayed when you do <strong>not</strong> have the jar file: selenium-java-2.43.0.jar added to the build path of the project.</p>\n\n<p>Please make sure you have all the jar files added to your build path.</p>\n\n<ol>\n<li>Right click on your project->Build Path->Configure Build Path</li>\n<li>Goto Libraries->Add External jar files</li>\n<li>Add all the jar files made available with Selenium (please check bsh-1.3.0.jar as well)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5761807,"reputation":89,"user_id":4547981,"accept_rate":71,"display_name":"Amith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1427656089,"creation_date":1427656089,"answer_id":29333556,"question_id":29319251,"body_markdown":"Well, Thank you all for your suggestions. I resolved the issue by installing the latest version of Eclipse and creating a new Workspace. I still don&#39;t have any clue why it didn&#39;t work with the setup I was using earlier. ","title":"DesiredCapabilities object not getting its properties","body":"<p>Well, Thank you all for your suggestions. I resolved the issue by installing the latest version of Eclipse and creating a new Workspace. I still don't have any clue why it didn't work with the setup I was using earlier. </p>\n"},{"tags":[],"owner":{"account_id":8559291,"reputation":1,"user_id":6413798,"display_name":"Ashim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464953694,"creation_date":1464953694,"answer_id":37613337,"question_id":29319251,"body_markdown":"You should declare DesiredCapablities object inside the method if using TestNg or inside the public static void main method when using a standalone java class. \r\nThe code for TestNG file is as under: \r\n    \r\n\r\n\t  \r\n    public class TestNGFile {\r\n\tpublic String baseurl = &quot;http://newtours.com/&quot;;\r\n\tpublic WebDriver driver = new FirefoxDriver();\r\n\r\n\t@Test(priority = 0)\r\n\tpublic void Test1() {\r\n\r\n\t\tDesiredCapabilities capability = DesiredCapabilities.firefox();\r\n\t\tcapability.setBrowserName(&quot;firefox&quot;);\r\n\t\tcapability.setPlatform(Platform.LINUX);\r\n\r\n\t}\r\n\r\n}","title":"DesiredCapabilities object not getting its properties","body":"<p>You should declare DesiredCapablities object inside the method if using TestNg or inside the public static void main method when using a standalone java class. \nThe code for TestNG file is as under: </p>\n\n<pre><code>public class TestNGFile {\npublic String baseurl = \"http://newtours.com/\";\npublic WebDriver driver = new FirefoxDriver();\n\n@Test(priority = 0)\npublic void Test1() {\n\n    DesiredCapabilities capability = DesiredCapabilities.firefox();\n    capability.setBrowserName(\"firefox\");\n    capability.setPlatform(Platform.LINUX);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7126733,"reputation":1,"user_id":5449422,"display_name":"samir varude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697718903,"creation_date":1697718903,"answer_id":77323806,"question_id":29319251,"body_markdown":"I faced same issue as no suggestions for object of Desired Capabilities. I just closed all tabs (Sonarlint, TestNG etc) and just tried it again. it worked for me.\r\n\r\n","title":"DesiredCapabilities object not getting its properties","body":"<p>I faced same issue as no suggestions for object of Desired Capabilities. I just closed all tabs (Sonarlint, TestNG etc) and just tried it again. it worked for me.</p>\n"}],"owner":{"account_id":5761807,"reputation":89,"user_id":4547981,"accept_rate":71,"display_name":"Amith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2822,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":29333556,"answer_count":5,"score":0,"last_activity_date":1697718903,"creation_date":1427558328,"question_id":29319251,"body_markdown":"I am trying to use the DesiredCapabilities in selenium for one of my project. I have created a new project and imported selenium standalone jars along with libs (tried this with 2.44 and 2.45 versions). Then I have written the below code,\r\n\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n\r\n     public class DesiredCapaTest {\r\n\t\r\n\tDesiredCapabilities capabilities = new DesiredCapabilities();\r\n\tcapabilities.\r\n\t\r\n     }\r\n\r\nwhen I write the &#39;capabilities.&#39; I expect to see different options like Set etc. However I am seeing a message &#39;Unavailable-bsh.Capabilities&#39;. The same code is working fine in my office machine.\r\n\r\nMy home machine is Windows 8.1 and Office machine is Windows 7, not sure whether this matter. Awaiting your feedback. ","title":"DesiredCapabilities object not getting its properties","body":"<p>I am trying to use the DesiredCapabilities in selenium for one of my project. I have created a new project and imported selenium standalone jars along with libs (tried this with 2.44 and 2.45 versions). Then I have written the below code,</p>\n\n<pre><code>import org.openqa.selenium.remote.DesiredCapabilities;\n\n public class DesiredCapaTest {\n\nDesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.\n\n }\n</code></pre>\n\n<p>when I write the 'capabilities.' I expect to see different options like Set etc. However I am seeing a message 'Unavailable-bsh.Capabilities'. The same code is working fine in my office machine.</p>\n\n<p>My home machine is Windows 8.1 and Office machine is Windows 7, not sure whether this matter. Awaiting your feedback. </p>\n"},{"tags":["java","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":3565339,"reputation":45,"user_id":2977023,"display_name":"wellumies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697718738,"creation_date":1697717542,"answer_id":77323648,"question_id":77321459,"body_markdown":"Here is the working code. Push to S3 now works and the index.html is visible from the browser\r\n\r\n    \tpublic S3_UpdaterController()\r\n\t{\r\n\t\t\r\n\t\ts3client.createBucket(&quot;ecotest123456789&quot;);\r\n\t\tList buckets = s3client.listBuckets();\r\n\t\t\r\n\t\tfor (Object object : buckets) {\r\n\t\t\tSystem.out.println(object.toString());\r\n\t\t}\r\n\t\t\r\n\t\tString bucketname = &quot;ecotest123456789&quot;;\r\n\t\t\r\n\t\tString initialString = &quot;&lt;html&gt;test&lt;/html&gt;&quot;;\r\n\t    java.io.InputStream targetStream = new java.io.ByteArrayInputStream(initialString.getBytes());\r\n\t    \r\n\t    ObjectMetadata objm = new ObjectMetadata();// .setContentType(&quot;text/html&quot;);\r\n\t    objm.setContentType(&quot;text/html&quot;);\r\n\t    \r\n\t    PutObjectRequest putObjectRequest = new PutObjectRequest(&quot;ecotest123456789&quot;, &quot;index.html&quot;, targetStream,objm);\r\n\t    //s3client.deleteBucketPolicy(bucketname);\r\n\t   \r\n\t    \r\n\t    //s3client.setBucketPolicy(bucketname, getPublicReadPolicy(bucketname));\r\n\t    \r\n\t    BucketPolicy bucket_policy = s3client.getBucketPolicy(bucketname);\r\n\t    \r\n\t    System.out.println(bucket_policy.getPolicyText());\r\n\t    \r\n\t    AccessControlList acl = new AccessControlList();\r\n\t    acl.grantPermission(GroupGrantee.AllUsers, Permission.Read); //all users or authenticated\r\n\t    //putObjectRequest.setAccessControlList(acl);\r\n\t    \r\n\t    s3client.putObject(putObjectRequest);//.withCannedAcl(CannedAccessControlList.PublicRead));\r\n\t    s3client.setBucketWebsiteConfiguration(bucketname,new BucketWebsiteConfiguration(&quot;index.html&quot;));\r\n\t    \r\n\t    //THIS ONE WAS NEEDED\r\n\t    PublicAccessBlockConfiguration pabc = new PublicAccessBlockConfiguration();\r\n\t    pabc.setBlockPublicPolicy(false);\r\n\t    \r\n\t    //NOW THIS WORKS\r\n\t    s3client.setPublicAccessBlock(new SetPublicAccessBlockRequest().withBucketName(bucketname).withPublicAccessBlockConfiguration(pabc));\r\n\t    \r\n\t    \r\n\t}\r\n\t\r\n\tpublic static String getPublicReadPolicy(String bucket_name) {\r\n        Policy bucket_policy = new Policy().withStatements(\r\n                new Statement(Statement.Effect.Allow)\r\n                        .withPrincipals(Principal.AllUsers)\r\n                        .withActions(S3Actions.GetObject)\r\n                        .withResources(new Resource(\r\n                                &quot;arn:aws:s3:::&quot; + bucket_name + &quot;/*&quot;)));\r\n        return bucket_policy.toJson();\r\n    }","title":"how to enable public read access to an S3 bucket in October 2023 with AWS java sdk 1.12.x?","body":"<p>Here is the working code. Push to S3 now works and the index.html is visible from the browser</p>\n<pre><code>    public S3_UpdaterController()\n{\n    \n    s3client.createBucket(&quot;ecotest123456789&quot;);\n    List buckets = s3client.listBuckets();\n    \n    for (Object object : buckets) {\n        System.out.println(object.toString());\n    }\n    \n    String bucketname = &quot;ecotest123456789&quot;;\n    \n    String initialString = &quot;&lt;html&gt;test&lt;/html&gt;&quot;;\n    java.io.InputStream targetStream = new java.io.ByteArrayInputStream(initialString.getBytes());\n    \n    ObjectMetadata objm = new ObjectMetadata();// .setContentType(&quot;text/html&quot;);\n    objm.setContentType(&quot;text/html&quot;);\n    \n    PutObjectRequest putObjectRequest = new PutObjectRequest(&quot;ecotest123456789&quot;, &quot;index.html&quot;, targetStream,objm);\n    //s3client.deleteBucketPolicy(bucketname);\n   \n    \n    //s3client.setBucketPolicy(bucketname, getPublicReadPolicy(bucketname));\n    \n    BucketPolicy bucket_policy = s3client.getBucketPolicy(bucketname);\n    \n    System.out.println(bucket_policy.getPolicyText());\n    \n    AccessControlList acl = new AccessControlList();\n    acl.grantPermission(GroupGrantee.AllUsers, Permission.Read); //all users or authenticated\n    //putObjectRequest.setAccessControlList(acl);\n    \n    s3client.putObject(putObjectRequest);//.withCannedAcl(CannedAccessControlList.PublicRead));\n    s3client.setBucketWebsiteConfiguration(bucketname,new BucketWebsiteConfiguration(&quot;index.html&quot;));\n    \n    //THIS ONE WAS NEEDED\n    PublicAccessBlockConfiguration pabc = new PublicAccessBlockConfiguration();\n    pabc.setBlockPublicPolicy(false);\n    \n    //NOW THIS WORKS\n    s3client.setPublicAccessBlock(new SetPublicAccessBlockRequest().withBucketName(bucketname).withPublicAccessBlockConfiguration(pabc));\n    \n    \n}\n\npublic static String getPublicReadPolicy(String bucket_name) {\n    Policy bucket_policy = new Policy().withStatements(\n            new Statement(Statement.Effect.Allow)\n                    .withPrincipals(Principal.AllUsers)\n                    .withActions(S3Actions.GetObject)\n                    .withResources(new Resource(\n                            &quot;arn:aws:s3:::&quot; + bucket_name + &quot;/*&quot;)));\n    return bucket_policy.toJson();\n}\n</code></pre>\n"}],"owner":{"account_id":3565339,"reputation":45,"user_id":2977023,"display_name":"wellumies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697718738,"creation_date":1697697351,"question_id":77321459,"body_markdown":"It seems something changed in April 2023 and now my ACLs do not work anymore. It seems I have to disable public access block from AWS console and then make a policy, that allow public read to my bucket.\r\n\r\nI managed to read my index.html from the web, but only by manually disabling the &quot;Block all public access&quot; from AWS console. I am creating buckets dynamically from my code and cannot open the console for every individual bucket.\r\n\r\nChanging the public access block from code just gives me Access Denied. The policy installs ok. How to get public read access from java code? My code follows:\r\n\r\n\tpublic S3_UpdaterController()\r\n\t{\r\n\t\t\r\n\t\ts3client.createBucket(&quot;ecotest123456789&quot;);\r\n\t\tList buckets = s3client.listBuckets();\r\n\t\t\r\n\t\tfor (Object object : buckets) {\r\n\t\t\tSystem.out.println(object.toString());\r\n\t\t}\r\n\t\t\r\n\t\tString bucketname = &quot;ecotest123456789&quot;;\r\n\t\t\r\n\t\tString initialString = &quot;&lt;html&gt;test&lt;/html&gt;&quot;;\r\n\t    java.io.InputStream targetStream = new java.io.ByteArrayInputStream(initialString.getBytes());\r\n\t    \r\n\t    PutObjectRequest putObjectRequest = new PutObjectRequest(&quot;ecotest123456789&quot;, &quot;index.html&quot;, targetStream,null);\r\n\t    //s3client.deleteBucketPolicy(bucketname);\r\n\t   \r\n\t    \r\n\t    s3client.setBucketPolicy(bucketname, getPublicReadPolicy(bucketname));\r\n\t    \r\n\t    BucketPolicy bucket_policy = s3client.getBucketPolicy(bucketname);\r\n\t    \r\n\t    System.out.println(bucket_policy.getPolicyText());\r\n\t    \r\n\t    AccessControlList acl = new AccessControlList();\r\n\t    acl.grantPermission(GroupGrantee.AllUsers, Permission.Read); //all users or authenticated\r\n\t    //putObjectRequest.setAccessControlList(acl);\r\n\t    \r\n\t    s3client.putObject(putObjectRequest);//.withCannedAcl(CannedAccessControlList.PublicRead));\r\n\t    s3client.setBucketWebsiteConfiguration(bucketname,new BucketWebsiteConfiguration(&quot;index.html&quot;));\r\n\t    \r\n\t    //THIS ONE FAILS WITH ACCESS DENIED\r\n\t    s3client.setPublicAccessBlock(new SetPublicAccessBlockRequest().withBucketName(bucketname));\r\n\t    \r\n\t    \r\n\t}\r\n\t\r\n\tpublic static String getPublicReadPolicy(String bucket_name) {\r\n        Policy bucket_policy = new Policy().withStatements(\r\n                new Statement(Statement.Effect.Allow)\r\n                        .withPrincipals(Principal.AllUsers)\r\n                        .withActions(S3Actions.GetObject)\r\n                        .withResources(new Resource(\r\n                                &quot;arn:aws:s3:::&quot; + bucket_name + &quot;/*&quot;)));\r\n        return bucket_policy.toJson();\r\n    }","title":"how to enable public read access to an S3 bucket in October 2023 with AWS java sdk 1.12.x?","body":"<p>It seems something changed in April 2023 and now my ACLs do not work anymore. It seems I have to disable public access block from AWS console and then make a policy, that allow public read to my bucket.</p>\n<p>I managed to read my index.html from the web, but only by manually disabling the &quot;Block all public access&quot; from AWS console. I am creating buckets dynamically from my code and cannot open the console for every individual bucket.</p>\n<p>Changing the public access block from code just gives me Access Denied. The policy installs ok. How to get public read access from java code? My code follows:</p>\n<pre><code>public S3_UpdaterController()\n{\n    \n    s3client.createBucket(&quot;ecotest123456789&quot;);\n    List buckets = s3client.listBuckets();\n    \n    for (Object object : buckets) {\n        System.out.println(object.toString());\n    }\n    \n    String bucketname = &quot;ecotest123456789&quot;;\n    \n    String initialString = &quot;&lt;html&gt;test&lt;/html&gt;&quot;;\n    java.io.InputStream targetStream = new java.io.ByteArrayInputStream(initialString.getBytes());\n    \n    PutObjectRequest putObjectRequest = new PutObjectRequest(&quot;ecotest123456789&quot;, &quot;index.html&quot;, targetStream,null);\n    //s3client.deleteBucketPolicy(bucketname);\n   \n    \n    s3client.setBucketPolicy(bucketname, getPublicReadPolicy(bucketname));\n    \n    BucketPolicy bucket_policy = s3client.getBucketPolicy(bucketname);\n    \n    System.out.println(bucket_policy.getPolicyText());\n    \n    AccessControlList acl = new AccessControlList();\n    acl.grantPermission(GroupGrantee.AllUsers, Permission.Read); //all users or authenticated\n    //putObjectRequest.setAccessControlList(acl);\n    \n    s3client.putObject(putObjectRequest);//.withCannedAcl(CannedAccessControlList.PublicRead));\n    s3client.setBucketWebsiteConfiguration(bucketname,new BucketWebsiteConfiguration(&quot;index.html&quot;));\n    \n    //THIS ONE FAILS WITH ACCESS DENIED\n    s3client.setPublicAccessBlock(new SetPublicAccessBlockRequest().withBucketName(bucketname));\n    \n    \n}\n\npublic static String getPublicReadPolicy(String bucket_name) {\n    Policy bucket_policy = new Policy().withStatements(\n            new Statement(Statement.Effect.Allow)\n                    .withPrincipals(Principal.AllUsers)\n                    .withActions(S3Actions.GetObject)\n                    .withResources(new Resource(\n                            &quot;arn:aws:s3:::&quot; + bucket_name + &quot;/*&quot;)));\n    return bucket_policy.toJson();\n}\n</code></pre>\n"},{"tags":["java","graalvm","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":4911405,"reputation":146,"user_id":3956619,"display_name":"Michal Ř&#237;čan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697206373,"creation_date":1697206373,"answer_id":77288450,"question_id":77256791,"body_markdown":"I found the most convenient way in this case is to create custom feature (described [here](https://www.graalvm.org/latest/reference-manual/native-image/dynamic-features/Reflection/#configuration-with-features)) which scans classpath before analysis and register the classes for runtime reflection.\r\n\r\nCreated simple utility which do that for you. You just need to add it as dependency into your project\r\n\r\nhttps://github.com/ricantech/protobuf-graalvm-feature\r\n\r\n","title":"Using protobuf-java in GlaalVM native image","body":"<p>I found the most convenient way in this case is to create custom feature (described <a href=\"https://www.graalvm.org/latest/reference-manual/native-image/dynamic-features/Reflection/#configuration-with-features\" rel=\"nofollow noreferrer\">here</a>) which scans classpath before analysis and register the classes for runtime reflection.</p>\n<p>Created simple utility which do that for you. You just need to add it as dependency into your project</p>\n<p><a href=\"https://github.com/ricantech/protobuf-graalvm-feature\" rel=\"nofollow noreferrer\">https://github.com/ricantech/protobuf-graalvm-feature</a></p>\n"},{"tags":[],"owner":{"account_id":3029364,"reputation":51,"user_id":2568711,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697718053,"creation_date":1697709787,"answer_id":77322802,"question_id":77256791,"body_markdown":"Above solution is great for applications not using Spring Boot.\r\nFollowing similar logic, I created similar solution for [Spring Boot context][1].\r\n\r\nDependency in addition to spring boot 3.1.3+ depedencies:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.10.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nClass:\r\n\r\n   \timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\timport java.util.HashSet;\r\n\timport java.util.Properties;\r\n\timport java.util.Set;\r\n\r\n\timport org.reflections.Reflections;\r\n\timport org.reflections.scanners.Scanners;\r\n\timport org.springframework.aot.hint.ExecutableMode;\r\n\timport org.springframework.aot.hint.RuntimeHints;\r\n\timport org.springframework.aot.hint.RuntimeHintsRegistrar;\r\n\r\n\timport com.google.protobuf.GeneratedMessageV3;\r\n\timport com.google.protobuf.ProtocolMessageEnum;\r\n\r\n\timport lombok.extern.slf4j.Slf4j;\r\n\r\n\t@Slf4j\r\n\tpublic class ProtobufRuntimeHints implements RuntimeHintsRegistrar {\r\n\t\t\r\n\t\tprivate static final String PACKAGES_TO_SCAN_FILENAME = &quot;META-INF/native-image/protobuf-packages.properties&quot;;\r\n\r\n\t\t@Override\r\n\t\tpublic void registerHints(RuntimeHints hint, ClassLoader classLoader) {\r\n\t\t\t\t\r\n\t\t\t// packages from file\r\n\t\t\tSet&lt;String&gt; packagesToScan = null;\r\n\t\t\ttry {\r\n\t\t\t\t packagesToScan = loadPackagesToScan();\r\n\t\t\t\tlogInfo(&quot;Loaded packages to scan:\\n&quot; + packagesToScan);\t\t\t\r\n\t\t\t} catch (IOException e) {\t\t\t\r\n\t\t\t\tthrow new RuntimeException(&quot;Failed to load packages to scan&quot;, e);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// register\r\n\t\t\tfor (String packageName : packagesToScan) {\r\n\t\t\t\tregisterGrpcClassesFromReflection(hint, packageName);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tprivate Set&lt;String&gt; loadPackagesToScan() throws IOException {\r\n\t\t\t\r\n\t\t\tInputStream stream = this.getClass()\r\n\t\t\t\t\t.getClassLoader()\r\n\t\t\t\t\t.getResourceAsStream(PACKAGES_TO_SCAN_FILENAME);\r\n\t\t\t\r\n\t\t\tif (stream == null) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Resource not found: &quot; + PACKAGES_TO_SCAN_FILENAME);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tProperties props = new Properties();\r\n\t\t\tprops.load(stream);\r\n\t\t\treturn props.stringPropertyNames();\r\n\t\t}\r\n\r\n\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\tprivate static void registerGrpcClassesFromReflection(RuntimeHints hint, String packageName) {\r\n\r\n\t\t\tReflections reflections = new Reflections(packageName, Scanners.SubTypes);\r\n\t\t\tSet&lt;Class&lt;? extends GeneratedMessageV3&gt;&gt; messageClasses = \r\n\t\t\t\t\t\treflections.getSubTypesOf(GeneratedMessageV3.class);\r\n\t\t\tSet&lt;Class&lt;? extends GeneratedMessageV3.Builder&gt;&gt; builderClasses = \r\n\t\t\t\t\treflections.getSubTypesOf(GeneratedMessageV3.Builder.class);\r\n\t\t\tSet&lt;Class&lt;? extends ProtocolMessageEnum&gt;&gt; enums = \r\n\t\t\t\t\treflections.getSubTypesOf(ProtocolMessageEnum.class);\t\t\r\n\t\t\t\r\n\t\t\tSet&lt;Class&lt;?&gt;&gt; classesToBeRegistered = new HashSet&lt;&gt;();\r\n\t\t\tclassesToBeRegistered.addAll(messageClasses);\r\n\t\t\tclassesToBeRegistered.addAll(builderClasses);\r\n\t\t\tclassesToBeRegistered.addAll(enums);\r\n\t\t\t\r\n\t\t\tlogInfo(&quot;Registering package [&quot; + packageName + &quot;], classes [&quot; + classesToBeRegistered.size() + &quot;]&quot;);\r\n\t\t\tfor (Class&lt;?&gt; clazz : classesToBeRegistered) {\r\n\t\t\t\tregisterClass(hint, clazz);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tprivate static void registerClass(RuntimeHints hints, Class&lt;?&gt; clazz) {\r\n\t\t\t\r\n\t\t\tString className = clazz.getName();\r\n\t\t\ttry {\r\n\t\t\t\t// register class\r\n\t\t\t\thints.reflection().registerType(clazz);\r\n\t\t\t\t\r\n\t\t\t\t// register all methods\r\n\t\t\t\tint methodsCount = 0;\r\n\t\t\t\tfor (java.lang.reflect.Method method : clazz.getMethods()) {\r\n\t\t\t\t\thints.reflection().registerMethod(method, ExecutableMode.INVOKE);\r\n\t\t\t\t\tmethodsCount++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlogInfo(&quot;Registered class: [&quot; + className + &quot;], methods [&quot; + methodsCount + &quot;]&quot;);\r\n\r\n\t\t\t} catch (RuntimeException re) {\r\n\t\t\t\tlogError(&quot;Failed to register class: [&quot; + className + &quot;] &quot; + re.getMessage());\r\n\t\t\t}    \t\r\n\t\t}\r\n\t\t\r\n\t\tprivate static void logInfo(String msg) {\r\n\t\t\tmsg = &quot;ProtobufReflectionHints: &quot; + msg;\r\n\t\t\tlog.info(msg);\r\n\t\t\tSystem.out.println(msg);\r\n\t\t}\r\n\r\n\t\tprivate static void logError(String msg) {\r\n\t\t\tmsg = &quot;ProtobufReflectionHints: &quot; + msg;\r\n\t\t\tlog.error(msg);\r\n\t\t\tSystem.err.println(msg);\r\n\t\t}\r\n\t}\r\n\r\nAdd to Spring @Configuration class:\r\n\r\n    @ImportRuntimeHints(ProtobufRuntimeHints.class)\r\n\r\nTest:\r\n\r\n    @Test\r\n    void shouldRegisterHints() {\r\n        RuntimeHints hints = new RuntimeHints();\r\n        new ProtobufRuntimeHints().registerHints(hints, getClass().getClassLoader());\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.advanced.custom-hints","title":"Using protobuf-java in GlaalVM native image","body":"<p>Above solution is great for applications not using Spring Boot.\nFollowing similar logic, I created similar solution for <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.advanced.custom-hints\" rel=\"nofollow noreferrer\">Spring Boot context</a>.</p>\n<p>Dependency in addition to spring boot 3.1.3+ depedencies:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n        &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n        &lt;version&gt;0.10.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Class:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.HashSet;\nimport java.util.Properties;\nimport java.util.Set;\n\nimport org.reflections.Reflections;\nimport org.reflections.scanners.Scanners;\nimport org.springframework.aot.hint.ExecutableMode;\nimport org.springframework.aot.hint.RuntimeHints;\nimport org.springframework.aot.hint.RuntimeHintsRegistrar;\n\nimport com.google.protobuf.GeneratedMessageV3;\nimport com.google.protobuf.ProtocolMessageEnum;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class ProtobufRuntimeHints implements RuntimeHintsRegistrar {\n    \n    private static final String PACKAGES_TO_SCAN_FILENAME = &quot;META-INF/native-image/protobuf-packages.properties&quot;;\n\n    @Override\n    public void registerHints(RuntimeHints hint, ClassLoader classLoader) {\n            \n        // packages from file\n        Set&lt;String&gt; packagesToScan = null;\n        try {\n             packagesToScan = loadPackagesToScan();\n            logInfo(&quot;Loaded packages to scan:\\n&quot; + packagesToScan);         \n        } catch (IOException e) {           \n            throw new RuntimeException(&quot;Failed to load packages to scan&quot;, e);\n        }\n        \n        // register\n        for (String packageName : packagesToScan) {\n            registerGrpcClassesFromReflection(hint, packageName);\n        }\n    }\n    \n    private Set&lt;String&gt; loadPackagesToScan() throws IOException {\n        \n        InputStream stream = this.getClass()\n                .getClassLoader()\n                .getResourceAsStream(PACKAGES_TO_SCAN_FILENAME);\n        \n        if (stream == null) {\n            throw new RuntimeException(&quot;Resource not found: &quot; + PACKAGES_TO_SCAN_FILENAME);\n        }\n        \n        Properties props = new Properties();\n        props.load(stream);\n        return props.stringPropertyNames();\n    }\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    private static void registerGrpcClassesFromReflection(RuntimeHints hint, String packageName) {\n\n        Reflections reflections = new Reflections(packageName, Scanners.SubTypes);\n        Set&lt;Class&lt;? extends GeneratedMessageV3&gt;&gt; messageClasses = \n                    reflections.getSubTypesOf(GeneratedMessageV3.class);\n        Set&lt;Class&lt;? extends GeneratedMessageV3.Builder&gt;&gt; builderClasses = \n                reflections.getSubTypesOf(GeneratedMessageV3.Builder.class);\n        Set&lt;Class&lt;? extends ProtocolMessageEnum&gt;&gt; enums = \n                reflections.getSubTypesOf(ProtocolMessageEnum.class);       \n        \n        Set&lt;Class&lt;?&gt;&gt; classesToBeRegistered = new HashSet&lt;&gt;();\n        classesToBeRegistered.addAll(messageClasses);\n        classesToBeRegistered.addAll(builderClasses);\n        classesToBeRegistered.addAll(enums);\n        \n        logInfo(&quot;Registering package [&quot; + packageName + &quot;], classes [&quot; + classesToBeRegistered.size() + &quot;]&quot;);\n        for (Class&lt;?&gt; clazz : classesToBeRegistered) {\n            registerClass(hint, clazz);\n        }\n    }\n    \n    private static void registerClass(RuntimeHints hints, Class&lt;?&gt; clazz) {\n        \n        String className = clazz.getName();\n        try {\n            // register class\n            hints.reflection().registerType(clazz);\n            \n            // register all methods\n            int methodsCount = 0;\n            for (java.lang.reflect.Method method : clazz.getMethods()) {\n                hints.reflection().registerMethod(method, ExecutableMode.INVOKE);\n                methodsCount++;\n            }\n\n            logInfo(&quot;Registered class: [&quot; + className + &quot;], methods [&quot; + methodsCount + &quot;]&quot;);\n\n        } catch (RuntimeException re) {\n            logError(&quot;Failed to register class: [&quot; + className + &quot;] &quot; + re.getMessage());\n        }       \n    }\n    \n    private static void logInfo(String msg) {\n        msg = &quot;ProtobufReflectionHints: &quot; + msg;\n        log.info(msg);\n        System.out.println(msg);\n    }\n\n    private static void logError(String msg) {\n        msg = &quot;ProtobufReflectionHints: &quot; + msg;\n        log.error(msg);\n        System.err.println(msg);\n    }\n}\n</code></pre>\n<p>Add to Spring @Configuration class:</p>\n<pre><code>@ImportRuntimeHints(ProtobufRuntimeHints.class)\n</code></pre>\n<p>Test:</p>\n<pre><code>@Test\nvoid shouldRegisterHints() {\n    RuntimeHints hints = new RuntimeHints();\n    new ProtobufRuntimeHints().registerHints(hints, getClass().getClassLoader());\n}\n</code></pre>\n"}],"owner":{"account_id":3029364,"reputation":51,"user_id":2568711,"display_name":"Pavel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77322802,"answer_count":2,"score":0,"last_activity_date":1697718053,"creation_date":1696834551,"question_id":77256791,"body_markdown":"Trying to convert existing Spring Boot micro-service to run on GraalVM native image came across an issue with protobuf generated classed with protobuf-java. \r\n&lt;br/&gt;\r\nGenerated classes use reflection and need to add ALL classes to reflect-config.json, also many classes has nested Builder classes so need to add of these as well, very dirty work for existing projects having hundreds of such protos.\r\n&lt;br/&gt;\r\nReading protobuf [documentation][1] it is mentioned either use [protobuf-javalite][2] or run [GraalVM tracing agent][3] to generate reflect-config.json automatically.\r\n&lt;br/&gt;\r\nMoving to protobuf-javalite sounds risky, it was designed for Android and advertised as not stable library.\r\n&lt;br/&gt;\r\nRunning trace agent after every modification of proto add major overhead to development process.\r\n&lt;br/&gt;\r\nSo the question if anyone came across same issue and was able to solve that in more elegant manner and if there are any [better plans][4] of protobuf-java to support native image.\r\n\r\n\r\n  [1]: https://github.com/protocolbuffers/protobuf/blob/main/docs/jvm_aot.md\r\n  [2]: https://github.com/protocolbuffers/protobuf/blob/main/java/lite.md\r\n  [3]: https://www.graalvm.org/jdk17/reference-manual/native-image/metadata/AutomaticMetadataCollection/\r\n  [4]: https://github.com/protocolbuffers/protobuf/issues/6497","title":"Using protobuf-java in GlaalVM native image","body":"<p>Trying to convert existing Spring Boot micro-service to run on GraalVM native image came across an issue with protobuf generated classed with protobuf-java.\n<br/>\nGenerated classes use reflection and need to add ALL classes to reflect-config.json, also many classes has nested Builder classes so need to add of these as well, very dirty work for existing projects having hundreds of such protos.\n<br/>\nReading protobuf <a href=\"https://github.com/protocolbuffers/protobuf/blob/main/docs/jvm_aot.md\" rel=\"nofollow noreferrer\">documentation</a> it is mentioned either use <a href=\"https://github.com/protocolbuffers/protobuf/blob/main/java/lite.md\" rel=\"nofollow noreferrer\">protobuf-javalite</a> or run <a href=\"https://www.graalvm.org/jdk17/reference-manual/native-image/metadata/AutomaticMetadataCollection/\" rel=\"nofollow noreferrer\">GraalVM tracing agent</a> to generate reflect-config.json automatically.\n<br/>\nMoving to protobuf-javalite sounds risky, it was designed for Android and advertised as not stable library.\n<br/>\nRunning trace agent after every modification of proto add major overhead to development process.\n<br/>\nSo the question if anyone came across same issue and was able to solve that in more elegant manner and if there are any <a href=\"https://github.com/protocolbuffers/protobuf/issues/6497\" rel=\"nofollow noreferrer\">better plans</a> of protobuf-java to support native image.</p>\n"},{"tags":["java","mysql","eclipse","servlets","jdbc"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1697716294,"post_id":77323396,"comment_id":136316313,"body_markdown":"Set the classpath how?","body":"Set the classpath how?"},{"owner":{"account_id":2211769,"reputation":6120,"user_id":1953420,"accept_rate":78,"display_name":"Logan Murphy"},"score":0,"creation_date":1697716302,"post_id":77323396,"comment_id":136316314,"body_markdown":"It has been a while since I had to do this, but I remember randomly having to do something like this: `Class.forName(&quot;com.example.jdbc.Driver&quot;);` in order to load the driver into the program. Hopefully that helps.","body":"It has been a while since I had to do this, but I remember randomly having to do something like this: <code>Class.forName(&quot;com.example.jdbc.Driver&quot;);</code> in order to load the driver into the program. Hopefully that helps."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1697717451,"post_id":77323396,"comment_id":136316533,"body_markdown":"Connection variable!   Only a global variable can be declared null !   Variables inside methods e.g. init must be assigned at the moment they are declared, they are not allowed to be null!","body":"Connection variable!   Only a global variable can be declared null !   Variables inside methods e.g. init must be assigned at the moment they are declared, they are not allowed to be null!"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1697728698,"post_id":77323396,"comment_id":136319015,"body_markdown":"@SamuelMarchant That&#39;s not true. Anything that&#39;s not a primitive can be null--in fact the default value for objects when there&#39;s no assignment statement.","body":"@SamuelMarchant That&#39;s not true. Anything that&#39;s not a primitive can be null--in fact the default value for objects when there&#39;s no assignment statement."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1697767373,"post_id":77323396,"comment_id":136324176,"body_markdown":"No doubt anything can be assigned null but to remove null after assignment of null is only allowed on global  variables. Also, only complex types use null. Connection variable must be global if it is first null.  Oddly, the point of init() generally is to instantiate the global&#39;s in the class.","body":"No doubt anything can be assigned null but to remove null after assignment of null is only allowed on global  variables. Also, only complex types use null. Connection variable must be global if it is first null.  Oddly, the point of init() generally is to instantiate the global&#39;s in the class."}],"owner":{"account_id":29035669,"reputation":1,"user_id":22241633,"display_name":"Akshay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697717914,"answer_count":0,"score":0,"last_activity_date":1697718029,"creation_date":1697715113,"question_id":77323396,"body_markdown":"Using eclipse i was trying to connect with mysql inside a servlet program but i am getting same error again and again even though i have set the classpath for mysql connector\r\n\r\n`this is the error i am getting `\r\n\r\n```\r\njava.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/javasql\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:706)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\tat in.ineuron.controller.Connect.init(Connect.java:38)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:143)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1106)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1063)\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:747)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:116)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:670)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nnull\r\n```\r\n\r\nAnd this is my code which i am trying to run in eclipse\r\n\r\n```\r\npackage in.ineuron.controller;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\nimport javax.servlet.ServletConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebInitParam;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n/**\r\n * Servlet implementation class Connect\r\n */\r\n@WebServlet(\r\n\t\turlPatterns = { &quot;/reg&quot; }, \r\n\t\tinitParams = { \r\n\t\t\t\t@WebInitParam(name = &quot;url&quot;, value = &quot;jdbc:mysql://localhost:3306/javasql&quot;), \r\n\t\t\t\t@WebInitParam(name = &quot;user&quot;, value = &quot;root&quot;), \r\n\t\t\t\t@WebInitParam(name = &quot;password&quot;, value = &quot;password&quot;)\r\n\t\t})\r\npublic class Connect extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tpublic void init() throws ServletException {\r\n\t\tServletConfig config = getServletConfig();\r\n\t\tString url = config.getInitParameter(&quot;url&quot;);\r\n\t\tString user = config.getInitParameter(&quot;user&quot;);\r\n\t\tString password = config.getInitParameter(&quot;password&quot;);\r\n\t\t\r\n\t\tConnection connection = null;\r\n\t\ttry {\r\n\t\t\tconnection = DriverManager.getConnection(url, user, password);\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(connection);\r\n\t\t\r\n\t}\r\n```\r\n\r\n}\r\n\r\n\\[[enter image description here](https://i.stack.imgur.com/aH7xR.png)\\](https://i.stack.imgur.com/zHDGA.png)\r\nHere i have set the jar file in the classpath of eclipse","title":"I am getting an error while connecting jdbc with mysql server inside a servlet project file","body":"<p>Using eclipse i was trying to connect with mysql inside a servlet program but i am getting same error again and again even though i have set the classpath for mysql connector</p>\n<p><code>this is the error i am getting </code></p>\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/javasql\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:706)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at in.ineuron.controller.Connect.init(Connect.java:38)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:143)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1106)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1063)\n    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:747)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:116)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:670)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nnull\n</code></pre>\n<p>And this is my code which i am trying to run in eclipse</p>\n<pre><code>package in.ineuron.controller;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\nimport javax.servlet.ServletConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebInitParam;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class Connect\n */\n@WebServlet(\n        urlPatterns = { &quot;/reg&quot; }, \n        initParams = { \n                @WebInitParam(name = &quot;url&quot;, value = &quot;jdbc:mysql://localhost:3306/javasql&quot;), \n                @WebInitParam(name = &quot;user&quot;, value = &quot;root&quot;), \n                @WebInitParam(name = &quot;password&quot;, value = &quot;password&quot;)\n        })\npublic class Connect extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    \n    public void init() throws ServletException {\n        ServletConfig config = getServletConfig();\n        String url = config.getInitParameter(&quot;url&quot;);\n        String user = config.getInitParameter(&quot;user&quot;);\n        String password = config.getInitParameter(&quot;password&quot;);\n        \n        Connection connection = null;\n        try {\n            connection = DriverManager.getConnection(url, user, password);\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(connection);\n        \n    }\n</code></pre>\n<p>}</p>\n<p>[<a href=\"https://i.stack.imgur.com/aH7xR.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/zHDGA.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/zHDGA.png</a>)\nHere i have set the jar file in the classpath of eclipse</p>\n"},{"tags":["java","spring","logging","log-forging"],"owner":{"account_id":16353880,"reputation":1,"user_id":11811592,"display_name":"Man&#248;har Suman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697717782,"creation_date":1697717623,"question_id":77323660,"body_markdown":"In checkmarx scan I got log forging issue when I log Id with getter method which is of long type. Can a long data type cause log forging if Yes how can we overcome this.\r\n\r\nI&#39;m not sure about long data type. Please explain this in detail.","title":"Log Forging issue on long data type in Checkmarx scan","body":"<p>In checkmarx scan I got log forging issue when I log Id with getter method which is of long type. Can a long data type cause log forging if Yes how can we overcome this.</p>\n<p>I'm not sure about long data type. Please explain this in detail.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653534688,"post_id":72386229,"comment_id":127877630,"body_markdown":"What exact two points is the time being measured between? Do you see that the fastest solution does no work until `size()` is called on the returned `List`?","body":"What exact two points is the time being measured between? Do you see that the fastest solution does no work until <code>size()</code> is called on the returned <code>List</code>?"},{"owner":{"account_id":3153798,"reputation":71,"user_id":2666618,"display_name":"user2666618"},"score":0,"creation_date":1653539228,"post_id":72386229,"comment_id":127878226,"body_markdown":"but eventually it still need to work, and do same thing, but it&#39;s faster, i still don&#39;t know why","body":"but eventually it still need to work, and do same thing, but it&#39;s faster, i still don&#39;t know why"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653539260,"post_id":72386229,"comment_id":127878231,"body_markdown":"Precisely which two points is the time being measured between?","body":"Precisely which two points is the time being measured between?"},{"owner":{"account_id":3153798,"reputation":71,"user_id":2666618,"display_name":"user2666618"},"score":0,"creation_date":1653539744,"post_id":72386229,"comment_id":127878285,"body_markdown":"leetcode submit  to measure two solution time","body":"leetcode submit  to measure two solution time"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653542831,"post_id":72386229,"comment_id":127878760,"body_markdown":"Maybe they are measuring the time it takes for `allPathsSourceTarget` to return a reference to a `List`.","body":"Maybe they are measuring the time it takes for <code>allPathsSourceTarget</code> to return a reference to a <code>List</code>."}],"answers":[{"tags":[],"owner":{"account_id":23284701,"reputation":1,"user_id":17367705,"display_name":"sub-zero7"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697717721,"creation_date":1697717721,"answer_id":77323672,"question_id":72386229,"body_markdown":"I had the same question a few times, and today I got really stuck because my solution was no different from the fastest one except that I did not use a custom List implementation.\r\n\r\nI bet custom List hack tricks leetcode evaluation engine by making actual code execution &quot;lazy&quot;. So in your case, `allPathsSourceTarget(int[][] graph)` executes instantly, resulting in around `0 ms` time. All the heavy work is done afterwards when leetcode compares actual and expected results, but (probably, it&#39;s my guess) this time is not considered a Runtime.","title":"Why implemention using AbstractList is faster?","body":"<p>I had the same question a few times, and today I got really stuck because my solution was no different from the fastest one except that I did not use a custom List implementation.</p>\n<p>I bet custom List hack tricks leetcode evaluation engine by making actual code execution &quot;lazy&quot;. So in your case, <code>allPathsSourceTarget(int[][] graph)</code> executes instantly, resulting in around <code>0 ms</code> time. All the heavy work is done afterwards when leetcode compares actual and expected results, but (probably, it's my guess) this time is not considered a Runtime.</p>\n"}],"owner":{"account_id":3153798,"reputation":71,"user_id":2666618,"display_name":"user2666618"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697717721,"creation_date":1653534336,"question_id":72386229,"body_markdown":"I am doing this leetcode problem [https://leetcode.com/problems/all-paths-from-source-to-target/][1]\r\n\r\nand found that my answer is slower than the fastest solution, the fastest solution is below\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; allPathsSourceTarget(int[][] graph) {\r\n        \r\n        return new java.util.AbstractList&lt;List&lt;Integer&gt;&gt;() {\r\n            \r\n            List&lt;List&lt;Integer&gt;&gt; allPaths = null;\r\n            \r\n            Deque&lt;Integer&gt; path = new ArrayDeque&lt;&gt;();\r\n            \r\n            @Override \r\n            public List&lt;Integer&gt; get(int i) {\r\n                return allPaths.get(i);\r\n            }\r\n            \r\n            @Override \r\n            public int size() {\r\n                if (allPaths == null) {\r\n                    allPaths = new ArrayList&lt;&gt;();\r\n                    dfs(0);\r\n                }\r\n                return allPaths.size();\r\n            }\r\n            \r\n            private void dfs(int curr) {\r\n                path.addLast(curr);\r\n                if (curr == graph.length-1) {\r\n                    allPaths.add(new ArrayList&lt;&gt;(path));\r\n                } else {\r\n                    for (int v : graph[curr]) {\r\n                        dfs(v);\r\n                    }\r\n                }\r\n                path.pollLast();\r\n            }\r\n        };\r\n    }\r\n\r\nI think maybe is my solution passing too much parameter to DFS method, \r\n\r\nso I change my answer to like the fastest solution like below\r\n\r\n    Deque&lt;Integer&gt; path = new ArrayDeque&lt;&gt;();\r\n    List&lt;List&lt;Integer&gt;&gt; allPaths = null;\r\n    int[][] graphOOO = null;\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; allPathsSourceTarget(int[][] graph) {\r\n        graphOOO = graph;\r\n        allPaths = new ArrayList&lt;&gt;();\r\n        dfsV2(0);\r\n        return allPaths;\r\n    }\r\n    \r\n    private void dfsV2(int curr) {\r\n        path.addLast(curr);\r\n        if (curr == graphOOO.length -1) {\r\n            allPaths.add(new ArrayList&lt;&gt;(path));\r\n        }\r\n        else {\r\n            for (int v : graphOOO[curr]) {\r\n                dfsV2(v);\r\n            }\r\n        }\r\n        path.pollLast();\r\n    }\r\n\r\nbut still my solution is slower than implement in AbstractList, i cannot figure out why\r\n\r\n  [1]: https://leetcode.com/problems/all-paths-from-source-to-target/","title":"Why implemention using AbstractList is faster?","body":"<p>I am doing this leetcode problem <a href=\"https://leetcode.com/problems/all-paths-from-source-to-target/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/all-paths-from-source-to-target/</a></p>\n<p>and found that my answer is slower than the fastest solution, the fastest solution is below</p>\n<pre><code>public List&lt;List&lt;Integer&gt;&gt; allPathsSourceTarget(int[][] graph) {\n    \n    return new java.util.AbstractList&lt;List&lt;Integer&gt;&gt;() {\n        \n        List&lt;List&lt;Integer&gt;&gt; allPaths = null;\n        \n        Deque&lt;Integer&gt; path = new ArrayDeque&lt;&gt;();\n        \n        @Override \n        public List&lt;Integer&gt; get(int i) {\n            return allPaths.get(i);\n        }\n        \n        @Override \n        public int size() {\n            if (allPaths == null) {\n                allPaths = new ArrayList&lt;&gt;();\n                dfs(0);\n            }\n            return allPaths.size();\n        }\n        \n        private void dfs(int curr) {\n            path.addLast(curr);\n            if (curr == graph.length-1) {\n                allPaths.add(new ArrayList&lt;&gt;(path));\n            } else {\n                for (int v : graph[curr]) {\n                    dfs(v);\n                }\n            }\n            path.pollLast();\n        }\n    };\n}\n</code></pre>\n<p>I think maybe is my solution passing too much parameter to DFS method,</p>\n<p>so I change my answer to like the fastest solution like below</p>\n<pre><code>Deque&lt;Integer&gt; path = new ArrayDeque&lt;&gt;();\nList&lt;List&lt;Integer&gt;&gt; allPaths = null;\nint[][] graphOOO = null;\n\npublic List&lt;List&lt;Integer&gt;&gt; allPathsSourceTarget(int[][] graph) {\n    graphOOO = graph;\n    allPaths = new ArrayList&lt;&gt;();\n    dfsV2(0);\n    return allPaths;\n}\n\nprivate void dfsV2(int curr) {\n    path.addLast(curr);\n    if (curr == graphOOO.length -1) {\n        allPaths.add(new ArrayList&lt;&gt;(path));\n    }\n    else {\n        for (int v : graphOOO[curr]) {\n            dfsV2(v);\n        }\n    }\n    path.pollLast();\n}\n</code></pre>\n<p>but still my solution is slower than implement in AbstractList, i cannot figure out why</p>\n"},{"tags":["java","oracle","jdbc"],"answers":[{"tags":[],"owner":{"account_id":6333176,"reputation":304,"user_id":5077713,"display_name":"Ryszard Styczynski"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1594217793,"creation_date":1437476169,"answer_id":31537141,"question_id":26913374,"body_markdown":"`Statement.setQueryTimeout()` works on a database, and `oracle.jdbc.ReadTimeout` on a socket level. \r\n\r\nThe `setQueryTimeout()` will really stop db processing, clearing database resources. \r\n\r\nThe `ReadTimeout` one will just break socket operation, leaving garbage in the database. Application will be unblocked, but database will still process requests. \r\n\r\nSocket level setting seems to be a good choice only when you do not have access to source code. Below code was executed on 11g (11.2.0.2) with jdbc6.jar (11.2.0.4.0)\r\n    \r\n    import java.sql.*;\r\n    \r\n    public class OracleJDBCtimeouts {\r\n    \r\n        String dbConn = &quot;jdbc:oracle:thin:@10.37.129.3:1521:XE&quot;;\r\n        String dbUser = &quot;system&quot;;\r\n        String dbPass = &quot;welcome1&quot;;\r\n    \r\n        Connection conn = null;\r\n        CallableStatement cs = null;\r\n        \r\n        public void callORCL() throws Exception {\r\n            callORCL(5, 0);\r\n        }\r\n        public void callORCL(int sleepSec) throws Exception {\r\n            callORCL(sleepSec, 0);\r\n        }\r\n        public void callORCL(int sleepSec, int queryTimeout) throws Exception {\r\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n            conn = DriverManager.getConnection(dbConn, dbUser, dbPass);\r\n            String plsqlSleep = &quot;begin\\n&quot; + &quot;DBMS_LOCK.sleep(&quot; + sleepSec + &quot;);\\n&quot; + &quot;end;\\n&quot;;\r\n            cs = conn.prepareCall(plsqlSleep);\r\n            cs.setQueryTimeout(queryTimeout);\r\n            cs.execute();\r\n            cs.close();\r\n            conn.close();\r\n        }\r\n        \r\n        public static void main(String[] args){\r\n            \r\n            //Part I. In band processing\r\n            \r\n            System.out.println(&quot;Test1. oracle.net.READ_TIMEOUT&quot;);\r\n            System.out.println(&quot;------------------------------&quot;);\r\n            OracleJDBCtimeouts test1 = new OracleJDBCtimeouts();\r\n            System.setProperty(&quot;oracle.net.READ_TIMEOUT&quot;, &quot;2000&quot;);\r\n            //does not work on 11g\r\n            try {\r\n                test1.callORCL(5);\r\n                System.out.println(&quot;Failed! Operation not stopped!&quot;);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Success! Operation time out!&quot;);\r\n                System.out.println(&quot;Exception:&quot; + e.getClass());\r\n                System.out.println(&quot;Message  :&quot; + e.getMessage());\r\n            }\r\n            System.getProperties().remove(&quot;oracle.net.READ_TIMEOUT&quot;);\r\n            \r\n            System.out.println();\r\n            System.out.println(&quot;Test2. oracle.jdbc.ReadTimeout&quot;);\r\n            System.out.println(&quot;------------------------------&quot;);\r\n            System.setProperty(&quot;oracle.jdbc.ReadTimeout&quot;, &quot;2000&quot;);\r\n            OracleJDBCtimeouts test2 = new OracleJDBCtimeouts();\r\n            try {\r\n                test2.callORCL(5);\r\n                System.out.println(&quot;Failed! Operation not stopped!&quot;);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Success! Operation time out!&quot;);\r\n                System.out.println(&quot;Exception:&quot; + e.getClass());\r\n                //java.sql.SQLRecoverableException\r\n                System.out.println(&quot;Message  :&quot; + e.getMessage());\r\n                //IO Error: Socket read timed out\r\n            }\r\n            System.getProperties().remove(&quot;oracle.jdbc.ReadTimeout&quot;);\r\n           \r\n            System.out.println();\r\n            System.out.println(&quot;Test3. setQueryTimeout&quot;);\r\n            System.out.println(&quot;----------------------&quot;);\r\n            OracleJDBCtimeouts test3 = new OracleJDBCtimeouts();\r\n            try {\r\n                test3.callORCL(5,4);\r\n                System.out.println(&quot;Failed! Operation not stopped!&quot;);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Success! Operation time out!&quot;);\r\n                System.out.println(&quot;Exception:&quot; + e.getClass());\r\n                //java.sql.SQLTimeoutException\r\n                System.out.println(&quot;Message  :&quot; + e.getMessage());\r\n                //ORA-01013: user requested cancel of current operation\r\n            } \r\n            \r\n            System.out.println();\r\n            System.out.println(&quot;Test4. oracle.jdbc.ReadTimeout &lt; setQueryTimeout&quot;);\r\n            System.out.println(&quot;-------------------------------------------------&quot;);\r\n            OracleJDBCtimeouts test4 = new OracleJDBCtimeouts();\r\n            System.setProperty(&quot;oracle.jdbc.ReadTimeout&quot;, &quot;2000&quot;);\r\n            try {\r\n                test4.callORCL(5,4);\r\n                System.out.println(&quot;Failed! Operation not stopped!&quot;);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Success! Operation time out!&quot;);\r\n                System.out.println(&quot;Exception:&quot; + e.getClass());\r\n                //java.sql.SQLRecoverableException\r\n                System.out.println(&quot;Message  :&quot; + e.getMessage());\r\n                //IO Error: Socket read timed out\r\n            } \r\n            System.getProperties().remove(&quot;oracle.jdbc.ReadTimeout&quot;);\r\n            \r\n            // Part II. out of band stop of processing\r\n            \r\n            class DBThread extends Thread {\r\n    \r\n                OracleJDBCtimeouts orclAccess;\r\n    \r\n                public void setOrclAccess(OracleJDBCtimeouts orclAccess) {\r\n                    this.orclAccess = orclAccess;\r\n                }\r\n    \r\n                public void run() {\r\n                    try {\r\n                        orclAccess.callORCL(5);\r\n                        System.out.println(&quot;Failed! Operation not stopped!&quot;);\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Success! Operation time out!&quot;);\r\n                        System.out.println(&quot;Exception:&quot; + e.getClass());\r\n                        System.out.println(&quot;Message  :&quot; + e.getMessage());\r\n                    }\r\n                }\r\n            }\r\n            \r\n            System.out.println();\r\n            System.out.println(&quot;Test5. Thread.interrupt()&quot;);\r\n            System.out.println(&quot;-------------------------&quot;);\r\n            OracleJDBCtimeouts test5 = new OracleJDBCtimeouts();\r\n            \r\n            System.setProperty(&quot;oracle.jdbc.javaNetNio&quot;, &quot;true&quot;);\r\n            DBThread dbThread5 = new DBThread();\r\n            dbThread5.setOrclAccess(test5);\r\n        \r\n            try {\r\n                dbThread5.start();\r\n                Thread.sleep(1000);            \r\n                dbThread5.interrupt();  \r\n                Thread.sleep(5000);\r\n            } catch (Exception e) {}\r\n            System.getProperties().remove(&quot;oracle.jdbc.javaNetNio&quot;);\r\n            \r\n            System.out.println();\r\n            System.out.println(&quot;Test6. statement.cancel()&quot;);\r\n            System.out.println(&quot;-------------------------&quot;);\r\n            OracleJDBCtimeouts test6 = new OracleJDBCtimeouts();\r\n            DBThread dbThread6 = new DBThread();\r\n            dbThread6.setOrclAccess(test6);\r\n            \r\n            try {\r\n                dbThread6.start();\r\n                Thread.sleep(1000);            \r\n                test6.cs.cancel();  \r\n                Thread.sleep(5000);\r\n            } catch (Exception e) {}\r\n    \r\n        }\r\n    }\r\n\r\n","title":"oracle.jdbc.ReadTimeout vs. Connection.getNetworkTimeout vs. Statement.setQueryTimeout","body":"<p><code>Statement.setQueryTimeout()</code> works on a database, and <code>oracle.jdbc.ReadTimeout</code> on a socket level.</p>\n<p>The <code>setQueryTimeout()</code> will really stop db processing, clearing database resources.</p>\n<p>The <code>ReadTimeout</code> one will just break socket operation, leaving garbage in the database. Application will be unblocked, but database will still process requests.</p>\n<p>Socket level setting seems to be a good choice only when you do not have access to source code. Below code was executed on 11g (11.2.0.2) with jdbc6.jar (11.2.0.4.0)</p>\n<pre><code>import java.sql.*;\n\npublic class OracleJDBCtimeouts {\n\n    String dbConn = &quot;jdbc:oracle:thin:@10.37.129.3:1521:XE&quot;;\n    String dbUser = &quot;system&quot;;\n    String dbPass = &quot;welcome1&quot;;\n\n    Connection conn = null;\n    CallableStatement cs = null;\n    \n    public void callORCL() throws Exception {\n        callORCL(5, 0);\n    }\n    public void callORCL(int sleepSec) throws Exception {\n        callORCL(sleepSec, 0);\n    }\n    public void callORCL(int sleepSec, int queryTimeout) throws Exception {\n        Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n        conn = DriverManager.getConnection(dbConn, dbUser, dbPass);\n        String plsqlSleep = &quot;begin\\n&quot; + &quot;DBMS_LOCK.sleep(&quot; + sleepSec + &quot;);\\n&quot; + &quot;end;\\n&quot;;\n        cs = conn.prepareCall(plsqlSleep);\n        cs.setQueryTimeout(queryTimeout);\n        cs.execute();\n        cs.close();\n        conn.close();\n    }\n    \n    public static void main(String[] args){\n        \n        //Part I. In band processing\n        \n        System.out.println(&quot;Test1. oracle.net.READ_TIMEOUT&quot;);\n        System.out.println(&quot;------------------------------&quot;);\n        OracleJDBCtimeouts test1 = new OracleJDBCtimeouts();\n        System.setProperty(&quot;oracle.net.READ_TIMEOUT&quot;, &quot;2000&quot;);\n        //does not work on 11g\n        try {\n            test1.callORCL(5);\n            System.out.println(&quot;Failed! Operation not stopped!&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Success! Operation time out!&quot;);\n            System.out.println(&quot;Exception:&quot; + e.getClass());\n            System.out.println(&quot;Message  :&quot; + e.getMessage());\n        }\n        System.getProperties().remove(&quot;oracle.net.READ_TIMEOUT&quot;);\n        \n        System.out.println();\n        System.out.println(&quot;Test2. oracle.jdbc.ReadTimeout&quot;);\n        System.out.println(&quot;------------------------------&quot;);\n        System.setProperty(&quot;oracle.jdbc.ReadTimeout&quot;, &quot;2000&quot;);\n        OracleJDBCtimeouts test2 = new OracleJDBCtimeouts();\n        try {\n            test2.callORCL(5);\n            System.out.println(&quot;Failed! Operation not stopped!&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Success! Operation time out!&quot;);\n            System.out.println(&quot;Exception:&quot; + e.getClass());\n            //java.sql.SQLRecoverableException\n            System.out.println(&quot;Message  :&quot; + e.getMessage());\n            //IO Error: Socket read timed out\n        }\n        System.getProperties().remove(&quot;oracle.jdbc.ReadTimeout&quot;);\n       \n        System.out.println();\n        System.out.println(&quot;Test3. setQueryTimeout&quot;);\n        System.out.println(&quot;----------------------&quot;);\n        OracleJDBCtimeouts test3 = new OracleJDBCtimeouts();\n        try {\n            test3.callORCL(5,4);\n            System.out.println(&quot;Failed! Operation not stopped!&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Success! Operation time out!&quot;);\n            System.out.println(&quot;Exception:&quot; + e.getClass());\n            //java.sql.SQLTimeoutException\n            System.out.println(&quot;Message  :&quot; + e.getMessage());\n            //ORA-01013: user requested cancel of current operation\n        } \n        \n        System.out.println();\n        System.out.println(&quot;Test4. oracle.jdbc.ReadTimeout &lt; setQueryTimeout&quot;);\n        System.out.println(&quot;-------------------------------------------------&quot;);\n        OracleJDBCtimeouts test4 = new OracleJDBCtimeouts();\n        System.setProperty(&quot;oracle.jdbc.ReadTimeout&quot;, &quot;2000&quot;);\n        try {\n            test4.callORCL(5,4);\n            System.out.println(&quot;Failed! Operation not stopped!&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Success! Operation time out!&quot;);\n            System.out.println(&quot;Exception:&quot; + e.getClass());\n            //java.sql.SQLRecoverableException\n            System.out.println(&quot;Message  :&quot; + e.getMessage());\n            //IO Error: Socket read timed out\n        } \n        System.getProperties().remove(&quot;oracle.jdbc.ReadTimeout&quot;);\n        \n        // Part II. out of band stop of processing\n        \n        class DBThread extends Thread {\n\n            OracleJDBCtimeouts orclAccess;\n\n            public void setOrclAccess(OracleJDBCtimeouts orclAccess) {\n                this.orclAccess = orclAccess;\n            }\n\n            public void run() {\n                try {\n                    orclAccess.callORCL(5);\n                    System.out.println(&quot;Failed! Operation not stopped!&quot;);\n                } catch (Exception e) {\n                    System.out.println(&quot;Success! Operation time out!&quot;);\n                    System.out.println(&quot;Exception:&quot; + e.getClass());\n                    System.out.println(&quot;Message  :&quot; + e.getMessage());\n                }\n            }\n        }\n        \n        System.out.println();\n        System.out.println(&quot;Test5. Thread.interrupt()&quot;);\n        System.out.println(&quot;-------------------------&quot;);\n        OracleJDBCtimeouts test5 = new OracleJDBCtimeouts();\n        \n        System.setProperty(&quot;oracle.jdbc.javaNetNio&quot;, &quot;true&quot;);\n        DBThread dbThread5 = new DBThread();\n        dbThread5.setOrclAccess(test5);\n    \n        try {\n            dbThread5.start();\n            Thread.sleep(1000);            \n            dbThread5.interrupt();  \n            Thread.sleep(5000);\n        } catch (Exception e) {}\n        System.getProperties().remove(&quot;oracle.jdbc.javaNetNio&quot;);\n        \n        System.out.println();\n        System.out.println(&quot;Test6. statement.cancel()&quot;);\n        System.out.println(&quot;-------------------------&quot;);\n        OracleJDBCtimeouts test6 = new OracleJDBCtimeouts();\n        DBThread dbThread6 = new DBThread();\n        dbThread6.setOrclAccess(test6);\n        \n        try {\n            dbThread6.start();\n            Thread.sleep(1000);            \n            test6.cs.cancel();  \n            Thread.sleep(5000);\n        } catch (Exception e) {}\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4356262,"reputation":1770,"user_id":3554774,"display_name":"xtsoler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697717614,"creation_date":1697717614,"answer_id":77323658,"question_id":26913374,"body_markdown":"For anyone in dotnet the equivalant timeout is\r\n\r\n&gt; using OracleCommand command = oracleConnection.CreateCommand();\r\n**command.CommandTimeout = 1200;**\r\n\r\nDefault is 60 and was killing my long queries.","title":"oracle.jdbc.ReadTimeout vs. Connection.getNetworkTimeout vs. Statement.setQueryTimeout","body":"<p>For anyone in dotnet the equivalant timeout is</p>\n<blockquote>\n<p>using OracleCommand command = oracleConnection.CreateCommand();\n<strong>command.CommandTimeout = 1200;</strong></p>\n</blockquote>\n<p>Default is 60 and was killing my long queries.</p>\n"}],"owner":{"account_id":202414,"reputation":2318,"user_id":449466,"accept_rate":96,"display_name":"zohar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14830,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31537141,"answer_count":2,"score":5,"last_activity_date":1697717614,"creation_date":1415895223,"question_id":26913374,"body_markdown":"`Connection.getNetworkTimeout()` is number of milliseconds the driver will wait for a database request to complete.\r\n\r\n`Statement.setQueryTimeout()` is independent of the timeout value specified in `Connection.getNetworkTimeout()` and represent the value of specific query timeout.\r\n\r\nMy question is:\r\nWhat is the correlection between those methods and `oracle.jdbc.ReadTimeout` which can set in connection properties.","title":"oracle.jdbc.ReadTimeout vs. Connection.getNetworkTimeout vs. Statement.setQueryTimeout","body":"<p><code>Connection.getNetworkTimeout()</code> is number of milliseconds the driver will wait for a database request to complete.</p>\n\n<p><code>Statement.setQueryTimeout()</code> is independent of the timeout value specified in <code>Connection.getNetworkTimeout()</code> and represent the value of specific query timeout.</p>\n\n<p>My question is:\nWhat is the correlection between those methods and <code>oracle.jdbc.ReadTimeout</code> which can set in connection properties.</p>\n"},{"tags":["eclipse","plugins","gradle","java"],"comments":[{"owner":{"account_id":3518,"reputation":5302,"user_id":5076,"display_name":"John Vasileff"},"score":1,"creation_date":1396625919,"post_id":11901737,"comment_id":34888076,"body_markdown":"I had trouble with containers.clear() with eclipse-wtp. See my answer at http://stackoverflow.com/questions/17110502 for an alternate solution.","body":"I had trouble with containers.clear() with eclipse-wtp. See my answer at <a href=\"http://stackoverflow.com/questions/17110502\">stackoverflow.com/questions/17110502</a> for an alternate solution."}],"answers":[{"tags":[],"owner":{"account_id":2878588,"reputation":11,"user_id":2469949,"display_name":"gim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370848196,"creation_date":1370848196,"answer_id":17018541,"question_id":11901737,"body_markdown":"in my case\r\nit work well like below\r\n    \r\n    containers.add(&#39;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/jdk6&#39;)\r\n\r\n\r\n\r\nbut &#39;jdk6&#39; is user specific name\r\n","title":"Specifiy JRE Container with gradle eclipse plugin","body":"<p>in my case\nit work well like below</p>\n\n<pre><code>containers.add('org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/jdk6')\n</code></pre>\n\n<p>but 'jdk6' is user specific name</p>\n"},{"tags":[],"owner":{"account_id":337481,"reputation":892,"user_id":665780,"display_name":"Dennie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697717134,"creation_date":1695038774,"answer_id":77127063,"question_id":11901737,"body_markdown":"I also had the problem that `containers.clear()` did not seem to have any effect and the container was added instead of replaced. I followed the answer from John Vasileff and came up with the following solution to make sure that the Eclipse JRE is the same as the target Java version (11 in my case), and not the Java version that happens to be on my PATH environment variable:\r\n\r\n    subprojects {\r\n        eclipse.classpath.file.whenMerged { cp -&gt;\r\n            def containerPrefix = &quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;\r\n            cp.entries.findAll { it.path.contains(containerPrefix) }.each {\r\n                it.path = &quot;${containerPrefix}/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-${compileJava.options.release.get()}/&quot;;\r\n            }\r\n        }\r\n\r\n        compileJava {\r\n            options.release = 11\r\n        }\r\n    }\r\n\r\n\r\n**Update**:\r\nEventually I found that I the EclipseJdt supports the following (see https://docs.gradle.org/current/dsl/org.gradle.plugins.ide.eclipse.model.EclipseJdt.html):\r\n\r\n    eclipse {\r\n        jdt {\r\n            sourceCompatibility = 11\r\n            targetCompatibility = 11\r\n            javaRuntimeName = &quot;JavaSE-11&quot;\r\n        }\r\n    }\r\n","title":"Specifiy JRE Container with gradle eclipse plugin","body":"<p>I also had the problem that <code>containers.clear()</code> did not seem to have any effect and the container was added instead of replaced. I followed the answer from John Vasileff and came up with the following solution to make sure that the Eclipse JRE is the same as the target Java version (11 in my case), and not the Java version that happens to be on my PATH environment variable:</p>\n<pre><code>subprojects {\n    eclipse.classpath.file.whenMerged { cp -&gt;\n        def containerPrefix = &quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;\n        cp.entries.findAll { it.path.contains(containerPrefix) }.each {\n            it.path = &quot;${containerPrefix}/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-${compileJava.options.release.get()}/&quot;;\n        }\n    }\n\n    compileJava {\n        options.release = 11\n    }\n}\n</code></pre>\n<p><strong>Update</strong>:\nEventually I found that I the EclipseJdt supports the following (see <a href=\"https://docs.gradle.org/current/dsl/org.gradle.plugins.ide.eclipse.model.EclipseJdt.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.plugins.ide.eclipse.model.EclipseJdt.html</a>):</p>\n<pre><code>eclipse {\n    jdt {\n        sourceCompatibility = 11\n        targetCompatibility = 11\n        javaRuntimeName = &quot;JavaSE-11&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":304093,"reputation":1288,"user_id":613407,"accept_rate":83,"display_name":"Turbokiwi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3539,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1697717134,"creation_date":1344601877,"question_id":11901737,"body_markdown":"Even when the properties for `sourceCompatibility` and `targetCompatibility` are set to a specific JRE Version, will the classpathentry for the `JRE_CONTAINER` only be genarated as `&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot; exported=&quot;true&quot;/&gt;`, and the default JRE-Version under &quot;Installed JREs&quot; in the eclipse settings doesn&#39;t always match the JRE-Version I want to use within my project.\r\n\r\nHow can I ask gradle, to set the JRE_CONTAINER to a specific version when gradle is run with `gradle eclipse`?\r\n\r\n---\r\n\r\n\tapply plugin: &#39;java&#39;\r\n\tapply plugin: &#39;eclipse&#39;\r\n\r\n\text {\r\n\t\ttarget = &quot;1.5&quot;\r\n\t}\r\n\r\n\tdef jreContainer = &#39;org.eclipse.jdt.launching.JRE_CONTAINER&#39;\r\n\r\n\tif (target == &#39;1.4&#39; || target == &#39;1.5&#39;) {\r\n\t\tjreContainer += &#39;/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/J2SE-&#39; + target\r\n\t} else if (target == &#39;1.6&#39; || target == &#39;1.7&#39;) {\r\n\t\tjreContainer += &#39;/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-&#39; + target\r\n\t}\r\n\r\n\teclipse {\r\n\t\tclasspath {\r\n\t\t\tcontainers.clear()\r\n\t\t\tcontainers.add(jreContainer)\r\n\t\t}\r\n\t}","title":"Specifiy JRE Container with gradle eclipse plugin","body":"<p>Even when the properties for <code>sourceCompatibility</code> and <code>targetCompatibility</code> are set to a specific JRE Version, will the classpathentry for the <code>JRE_CONTAINER</code> only be genarated as <code>&lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER\" exported=\"true\"/&gt;</code>, and the default JRE-Version under \"Installed JREs\" in the eclipse settings doesn't always match the JRE-Version I want to use within my project.</p>\n\n<p>How can I ask gradle, to set the JRE_CONTAINER to a specific version when gradle is run with <code>gradle eclipse</code>?</p>\n\n<hr>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\n\next {\n    target = \"1.5\"\n}\n\ndef jreContainer = 'org.eclipse.jdt.launching.JRE_CONTAINER'\n\nif (target == '1.4' || target == '1.5') {\n    jreContainer += '/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/J2SE-' + target\n} else if (target == '1.6' || target == '1.7') {\n    jreContainer += '/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-' + target\n}\n\neclipse {\n    classpath {\n        containers.clear()\n        containers.add(jreContainer)\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer","exoplayer","android-audiomanager"],"comments":[{"owner":{"account_id":15727369,"reputation":45,"user_id":11348589,"display_name":"Oussama Abdallah"},"score":0,"creation_date":1697702759,"post_id":77321944,"comment_id":136313791,"body_markdown":"yes I check with countdown latch also , it also make a short delay of some milliseconds , in iOS I solved the problem with startAtTime() and pass a date in the future based on the device current time and its working perfectly , but in android I&#39;m always facing this gap of milliseconds , I&#39;m not sure if there is a way to build a function that accept multiple audio files and only one start process to execute","body":"yes I check with countdown latch also , it also make a short delay of some milliseconds , in iOS I solved the problem with startAtTime() and pass a date in the future based on the device current time and its working perfectly , but in android I&#39;m always facing this gap of milliseconds , I&#39;m not sure if there is a way to build a function that accept multiple audio files and only one start process to execute"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1697702999,"post_id":77321944,"comment_id":136313832,"body_markdown":"maybe you could take a look at this library? https://stackoverflow.com/a/50176838/16034206 https://stackoverflow.com/a/9656682/16034206","body":"maybe you could take a look at this library? <a href=\"https://stackoverflow.com/a/50176838/16034206\">stackoverflow.com/a/50176838/16034206</a> <a href=\"https://stackoverflow.com/a/9656682/16034206\">stackoverflow.com/a/9656682/16034206</a>"},{"owner":{"account_id":15727369,"reputation":45,"user_id":11348589,"display_name":"Oussama Abdallah"},"score":0,"creation_date":1697703394,"post_id":77321944,"comment_id":136313899,"body_markdown":"they are talking about SoundPool and I already gave it a try , SoundPool is for short audio files","body":"they are talking about SoundPool and I already gave it a try , SoundPool is for short audio files"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1697704883,"post_id":77321944,"comment_id":136314182,"body_markdown":"If you tried all those possibilities and nothing worked for you then I suggest trying with OpenSL ES.","body":"If you tried all those possibilities and nothing worked for you then I suggest trying with OpenSL ES."},{"owner":{"account_id":15727369,"reputation":45,"user_id":11348589,"display_name":"Oussama Abdallah"},"score":0,"creation_date":1697718728,"post_id":77321944,"comment_id":136316790,"body_markdown":"I think it&#39;s more complicated and need more time , I will check it , thanks","body":"I think it&#39;s more complicated and need more time , I will check it , thanks"}],"answers":[{"tags":[],"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697717112,"creation_date":1697717112,"answer_id":77323602,"question_id":77321944,"body_markdown":"[AudioTrack](https://developer.android.com/reference/kotlin/android/media/AudioTrack) is a low-level component that gives you more control over the playback, because you basically push the audio buffers yourself. And there are multiple ways to synchronize them.\r\n\r\nIn order to use an `AudioTrack` you have to decode the audio file (probably using the [MediaCodec](https://developer.android.com/reference/android/media/MediaCodec) API).\r\n\r\nNote that there is a hardcoded limit of 40 `AudioTracks` that an app can hold simultaneously (see `kMaxTracksPerUid` \r\n defined in `services/audioflinger/Threads.h`). So if you need to play more then you must implement your own custom audio mixer.","title":"Start playing multiple audio files in the same time in Android with Java","body":"<p><a href=\"https://developer.android.com/reference/kotlin/android/media/AudioTrack\" rel=\"nofollow noreferrer\">AudioTrack</a> is a low-level component that gives you more control over the playback, because you basically push the audio buffers yourself. And there are multiple ways to synchronize them.</p>\n<p>In order to use an <code>AudioTrack</code> you have to decode the audio file (probably using the <a href=\"https://developer.android.com/reference/android/media/MediaCodec\" rel=\"nofollow noreferrer\">MediaCodec</a> API).</p>\n<p>Note that there is a hardcoded limit of 40 <code>AudioTracks</code> that an app can hold simultaneously (see <code>kMaxTracksPerUid</code>\ndefined in <code>services/audioflinger/Threads.h</code>). So if you need to play more then you must implement your own custom audio mixer.</p>\n"}],"owner":{"account_id":15727369,"reputation":45,"user_id":11348589,"display_name":"Oussama Abdallah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697717112,"creation_date":1697702362,"question_id":77321944,"body_markdown":"I&#39;m working on music project in Android with Java which I need to start multiple audio files exactly at the same time and I need them to be simultaneously without any gaping even if it&#39;s milliseconds\r\n\r\nwhat I tried is : \r\n\r\n- MediaPlayer and I didn&#39;t find any way to play the files together\r\n- SoundPool and I blocked with the limits of 1mb of file sizes\r\n- ExoPlayer also without a good result\r\n- MultiThreading and seems not the best way because I have more than 30 sounds need to start at the same time \r\n\r\n\r\nPlease if you worked with anything related or any idea that can help ?\r\n\r\nAn other note is : what I want exactly is when to start an audio file X1 and make a copy from it and name it X2 , and put two buttons to play X1 and X2 , if I play X1 and after some time play X2 I want them to be in the same currentPosition without pausing , that&#39;s why I want to start them in the same time and put their volume to 0 , and then when pressed a button set the volume to 1 , I tried with setCurrentTime and play but it&#39;s make a short delay of milliseconds .\r\n\r\nthanks for any help","title":"Start playing multiple audio files in the same time in Android with Java","body":"<p>I'm working on music project in Android with Java which I need to start multiple audio files exactly at the same time and I need them to be simultaneously without any gaping even if it's milliseconds</p>\n<p>what I tried is :</p>\n<ul>\n<li>MediaPlayer and I didn't find any way to play the files together</li>\n<li>SoundPool and I blocked with the limits of 1mb of file sizes</li>\n<li>ExoPlayer also without a good result</li>\n<li>MultiThreading and seems not the best way because I have more than 30 sounds need to start at the same time</li>\n</ul>\n<p>Please if you worked with anything related or any idea that can help ?</p>\n<p>An other note is : what I want exactly is when to start an audio file X1 and make a copy from it and name it X2 , and put two buttons to play X1 and X2 , if I play X1 and after some time play X2 I want them to be in the same currentPosition without pausing , that's why I want to start them in the same time and put their volume to 0 , and then when pressed a button set the volume to 1 , I tried with setCurrentTime and play but it's make a short delay of milliseconds .</p>\n<p>thanks for any help</p>\n"},{"tags":["java","switch-statement","do-while"],"comments":[{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":1,"creation_date":1697717167,"post_id":77323588,"comment_id":136316478,"body_markdown":"The output you are showing you want and are getting isn&#39;t possible with your current code...I&#39;m a bit confused by what you are after and what your issue actually is","body":"The output you are showing you want and are getting isn&#39;t possible with your current code...I&#39;m a bit confused by what you are after and what your issue actually is"},{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1697720322,"post_id":77323588,"comment_id":136317094,"body_markdown":"From the code snippets you have given, it is unclear how your code blocks interact with one another and how you are expecting the desired output. Please elaborate the question with providing appropriate code snippets. Also, have you tried to debug the code to check the actual pain point?","body":"From the code snippets you have given, it is unclear how your code blocks interact with one another and how you are expecting the desired output. Please elaborate the question with providing appropriate code snippets. Also, have you tried to debug the code to check the actual pain point?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697733305,"post_id":77323588,"comment_id":136319963,"body_markdown":"https://en.wikipedia.org/wiki/Debugger","body":"<a href=\"https://en.wikipedia.org/wiki/Debugger\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Debugger</a>"}],"owner":{"account_id":29708240,"reputation":1,"user_id":22768583,"display_name":"mysterado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697716953,"creation_date":1697716953,"question_id":77323588,"body_markdown":"I&#39;ve been trying to code a text-based video game and have found there to be a roadblock once the character gets to a certain part of the game.\r\n\r\nThis is the code for the came.\r\n\r\n\r\n```\r\nwhile (true) {\r\n\t\t\t\tinput = userInput.nextLine().toUpperCase();\r\n\t\t\t\tswitch (input) {\r\n\t\t\t\tcase &quot;R&quot;:\r\n\t\t\t\t\tSystem.out.println(&quot;You encounter an old man who greets you \\n&quot;\r\n\t\t\t\t\t\t\t+ &quot;[OLD MAN] &#39;Hello there my boy! I&#39;ve been expecting you for a long time! Where have you been?&#39; \\n&quot;\r\n\t\t\t\t\t\t\t+ &quot;How do you respond? \\n&quot;\r\n\t\t\t\t\t\t\t+ &quot;\\n&quot;\r\n\t\t\t\t\t\t\t+ &quot;[P] (Pretend to know the old man) Hello, my old friend! Long time no see, how are you? \\n&quot;\r\n\t\t\t\t\t\t\t+ &quot;[C] (Curious I&#39;m sorry, you must have me mistaken for someone else. I don&#39;t know you? \\n&quot;\r\n\t\t\t\t\t\t\t+ &quot;[S] (Stay silent) \\n&quot;\r\n\t\t\t\t\t\t\t+ &quot;\\n&quot;\r\n\t\t\t\t\t\t\t+ &quot;[PLEASE ENTER EITHER [P], [C] OR [S]&quot;);\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\tinput = userInput.nextLine().toUpperCase();\r\n\t\t\t\t\t\tswitch (input) {\r\n\t\t\t\t\t\tcase &quot;P&quot;:\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;[OLD MAN] &#39;I&#39;m alive, I found that stick you were talking about. It was very hard to find. Had to pay an arm and a leg, literally.&#39;&quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;\\nThe old man looks puzzled, as if you&#39;d forgotten something&quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;\\n[OLD MAN] &#39;Do you not have what I asked for? \\n&#39;&quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;\\n&quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;[P] (Pretending) I did, but I forgot it at home!\\n&quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;[C] (Confused) I don&#39;t have it, sorry! I don&#39;t remember what you wanted.\\n&quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;[S] (Stay silent) \\n&quot;);\r\n\t\t\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\t\t\tinput = userInput.nextLine().toUpperCase();\r\n\t\t\t\t\t\t\t\tswitch (input) {\r\n\t\t\t\t\t\t\t\tcase &quot;P&quot;:\r\n\t\t\t\t\t\t\t\tcase &quot;C&quot;:\r\n\t\t\t\t\t\t\t\tcase &quot;S&quot;:\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;[OLD MAN] &#39;Oh, I understand. Well, hopefully you remember our deal; you have to guess the number I&#39;m thinking of now. It&#39;s between 1 and 3.&#39;&quot;);\r\n\t\t\t\t\t\t\t\t\t// Play the random number guessing game\r\n\t\t\t\t\t\t\t\t\tplayRandomNumberGuesser(1, 3, userInput);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;[INVALID INPUT, PLEASE INPUT P, C, OR S&quot;);\r\n\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase &quot;C&quot;:\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;[OLD MAN] &#39;What do you mean? We&#39;ve known each other for years, do you not remember me?&#39; \\n&quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;[PLEASE ENTER EITHER YES (Y) OR NO (N)&quot;);\r\n\t\t\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\t\t\tinput = userInput.nextLine().toUpperCase();\r\n\t\t\t\t\t\t\t\tswitch (input) {\r\n\t\t\t\t\t\t\t\tcase &quot;Y&quot;:\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;Oh, I see... you play some very weird games, my friend. Hopefully, you remember the game I had for you though. You have to guess the number I&#39;m thinking of right now. It&#39;s between 1 and 3, you get one try.&quot;);\r\n\t\t\t\t\t\t\t\t\t// Play the random number guessing game\r\n\t\t\t\t\t\t\t\t\tplayRandomNumberGuesser(1, 3, userInput);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase &quot;N&quot;:\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;I get the feeling you aren&#39;t who you say you are. In order to validate your identity, I&#39;m going to play a game with you. I&#39;m thinking of a number between 1 and 3, what is it.&quot;);\r\n\t\t\t\t\t\t\t\t\t// Play the random number guessing game\r\n\t\t\t\t\t\t\t\t\tplayRandomNumberGuesser(1, 3, userInput);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;[INVALID INPUT, PLEASE INPUT Y, N]&quot;);\r\n\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase &quot;S&quot;:\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;[OLD MAN] &#39;Ahhh not the talking type today, I see.&#39;\\n&quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;[OLD MAN] If you do recall, I do have a game you have to play. It&#39;s a simple number guessing game. You guess a number between 1 and 3.&quot;);\r\n\t\t\t\t\t\t\t// Play the random number guessing game\r\n\t\t\t\t\t\t\tplayRandomNumberGuesser(1, 3, userInput);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;[INVALID INPUT, PLEASE ENTER Y OR N]&quot;);\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &quot;L&quot;:\r\n\t\t\t\t\tSystem.out.println(&quot;You continue onto a path that leads to a tree \\n&quot;\r\n\t\t\t\t\t\t\t+ &quot;The tree asks you to play a random number game where you pick a number between 1-3. \\n&quot;);\r\n\t\t\t\t\tplayRandomNumberGuesser(1, 3, userInput);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tSystem.out.println(&quot;[INVALID INPUT, PLEASE ENTER EITHER [R] OR [L]]&quot;);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n// Mountainous area\r\n\r\n\t\t\tSystem.out.println(&quot;You continue on your journey and encounter a path that diverts left or right.&quot;);\r\n\t\t\tSystem.out.println(&quot;Which way do you go? [PLEASE ENTER R FOR RIGHT OR L FOR LEFT]&quot;);\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t    input = userInput.nextLine().toUpperCase();\r\n\t\t\t    switch (input) {\r\n\t\t\t        case &quot;L&quot;:\r\n\t\t\t            System.out.println(&quot;You walk up a path, where the wind seems to get louder and louder and the air gets thinner and thinner.&quot;);\r\n\t\t\t            System.out.println(&quot;You suddenly hear a bark from a bush to your right. You open the bush to reveal a small puppy, it looks scared. Do you take it?&quot;);\r\n\t\t\t            System.out.println(&quot;[PLEASE INPUT EITHER YES (Y) OR NO (N)]&quot;);\r\n\t\t\t            \r\n\t\t\t            while (true) {\r\n\t\t\t                input = userInput.nextLine().toUpperCase();\r\n\t\t\t                switch (input) {\r\n\t\t\t                    case &quot;Y&quot;:\r\n\t\t\t                        System.out.println(&quot;You pick up the dog and fit him into your jacket, keeping him around for later&quot;);\r\n\t\t\t                        inventory.add(&quot;DOG&quot;);\r\n\t\t\t                        System.out.println(&quot;INVENTORY - &quot; + inventory);\r\n\t\t\t                        System.out.println(&quot;You turn around and walk up the other part of the path into a forest&quot;);\r\n\t\t\t                        break;\r\n\t\t\t                    case &quot;N&quot;:\r\n\t\t\t                        System.out.println(&quot;You leave the dog alone.&quot;);\r\n\t\t\t                        System.out.println(&quot;You turn around and walk up the other part of the path into a forest&quot;);\r\n\t\t\t                        break;\r\n\t\t\t                    default:\r\n\t\t\t                        System.out.println(&quot;[INVALID INPUT] Without enough time to react, the dog runs off.&quot;);\r\n\t\t\t                        System.out.println(&quot;You turn around and walk up the other part of the path into a forest&quot;);\r\n\t\t\t                        break;\r\n\t\t\t                }\r\n\t\t\t                break;\r\n\t\t\t            }\r\n\r\n\t\t\t        case &quot;R&quot;:\r\n\t\t\t            System.out.println(&quot;You walk into a beautiful forest, almost mystical.&quot;);\r\n\t\t\t            System.out.println(&quot;There&#39;s a strong, quick gust of wind leading you to your right, almost pushing you towards it.&quot;);\r\n\t\t\t            System.out.println(&quot;Do you follow it?&quot;);\r\n\t\t\t            System.out.println(&quot;[PLEASE INPUT EITHER YES [Y] OR NO [N]&quot;);\r\n\r\n\t\t\t            // Prompt for user input\r\n\t\t\t            break;\r\n\r\n\t\t\t        default:\r\n\t\t\t            System.out.println(&quot;[INVALID INPUT, PLEASE ENTER [L] OR [R]&quot;);\r\n\t\t\t            break;\r\n\t\t\t    }\r\n\t\t\t    break;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThe Random number gen game -\r\n\r\n```\r\n\tpublic static void playRandomNumberGuesser(int min, int max, Scanner userInput) {\r\n\t\tRandom random = new Random();\r\n\t\tint randomNumber = random.nextInt((max - min) + 1) + min;\r\n\t\tint guess;\r\n\t\tboolean guessedCorrectly = false;\r\n\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;Enter your guess (&quot; + min + &quot;-&quot; + max + &quot;): &quot;);\r\n\t\t\tguess = userInput.nextInt();\r\n\r\n\t\t\tif (guess &lt; min || guess &gt; max) {\r\n\t\t\t\tSystem.out.println(&quot;Please enter a number between &quot; + min + &quot; and &quot; + max + &quot;.&quot;);\r\n\t\t\t} else if (guess &lt; randomNumber) {\r\n\t\t\t\tSystem.out.println(&quot;Too low. Try again.&quot;);\r\n\t\t\t} else if (guess &gt; randomNumber) {\r\n\t\t\t\tSystem.out.println(&quot;Too high. Try again.&quot;);\r\n\t\t\t} else if (guess == randomNumber) {\r\n\t\t\t\tSystem.out.println(&quot;[OLD MAN] &#39;Well done!! you&#39;ve done well&#39;\\n&quot;\r\n\t\t\t\t\t\t+ &quot;[OLD MAN] &#39;You really do have a knack for these games. I&#39;ll tell you that. Here, take this for your journey.&#39;\\n&quot;);\r\n\t\t\t\tguessedCorrectly = true;\r\n\t\t\t}\r\n\t\t} while (!guessedCorrectly);\r\n\t}\r\n```\r\n\r\n\r\nThe output that&#39;s coming out is not desired.\r\n\r\nOutput -\r\n\r\nAn old man appears from out of the tree laughing\r\nINVENTORY: [STICK]\r\nYou are bestowed a stick for your great deed.\r\nYou continue on your journey and encounter a path that diverts left or right.\r\nWhich way do you go? [PLEASE ENTER R FOR RIGHT OR L FOR LEFT]\r\n[INVALID INPUT, PLEASE ENTER [L] OR [R]\r\n\r\nDesired output -\r\n\r\nAn old man appears from out of the tree laughing\r\nINVENTORY: [STICK]\r\nYou are bestowed a stick for your great deed.\r\nYou continue on your journey and encounter a path that diverts left or right.\r\nWhich way do you go? [PLEASE ENTER R FOR RIGHT OR L FOR LEFT]\r\n(Prompt the user to enter a scanner to continue into the mountainous area.)\r\n\r\nI tried making it so that at the end of the first while loop, it prompted the user to do the game and then progress further, but that just results in errors and doesn&#39;t really do what I want it to.\r\n\r\nI&#39;ve also tried frankensteining the code into itself, disregarding the class and just putting it into the code but it isn&#39;t doing it. It still displays issues.\r\n\r\nThanks guys.","title":"Code doesn&#39;t seem to continue after a certain line","body":"<p>I've been trying to code a text-based video game and have found there to be a roadblock once the character gets to a certain part of the game.</p>\n<p>This is the code for the came.</p>\n<pre><code>while (true) {\n                input = userInput.nextLine().toUpperCase();\n                switch (input) {\n                case &quot;R&quot;:\n                    System.out.println(&quot;You encounter an old man who greets you \\n&quot;\n                            + &quot;[OLD MAN] 'Hello there my boy! I've been expecting you for a long time! Where have you been?' \\n&quot;\n                            + &quot;How do you respond? \\n&quot;\n                            + &quot;\\n&quot;\n                            + &quot;[P] (Pretend to know the old man) Hello, my old friend! Long time no see, how are you? \\n&quot;\n                            + &quot;[C] (Curious I'm sorry, you must have me mistaken for someone else. I don't know you? \\n&quot;\n                            + &quot;[S] (Stay silent) \\n&quot;\n                            + &quot;\\n&quot;\n                            + &quot;[PLEASE ENTER EITHER [P], [C] OR [S]&quot;);\n                    while (true) {\n                        input = userInput.nextLine().toUpperCase();\n                        switch (input) {\n                        case &quot;P&quot;:\n                            System.out.println(&quot;[OLD MAN] 'I'm alive, I found that stick you were talking about. It was very hard to find. Had to pay an arm and a leg, literally.'&quot;\n                                    + &quot;\\nThe old man looks puzzled, as if you'd forgotten something&quot;\n                                    + &quot;\\n[OLD MAN] 'Do you not have what I asked for? \\n'&quot;\n                                    + &quot;\\n&quot;\n                                    + &quot;[P] (Pretending) I did, but I forgot it at home!\\n&quot;\n                                    + &quot;[C] (Confused) I don't have it, sorry! I don't remember what you wanted.\\n&quot;\n                                    + &quot;[S] (Stay silent) \\n&quot;);\n                            while (true) {\n                                input = userInput.nextLine().toUpperCase();\n                                switch (input) {\n                                case &quot;P&quot;:\n                                case &quot;C&quot;:\n                                case &quot;S&quot;:\n                                    System.out.println(&quot;[OLD MAN] 'Oh, I understand. Well, hopefully you remember our deal; you have to guess the number I'm thinking of now. It's between 1 and 3.'&quot;);\n                                    // Play the random number guessing game\n                                    playRandomNumberGuesser(1, 3, userInput);\n                                    break;\n                                default:\n                                    System.out.println(&quot;[INVALID INPUT, PLEASE INPUT P, C, OR S&quot;);\n                                    continue;\n                                }\n                                break;\n                            }\n                            break;\n\n                        case &quot;C&quot;:\n                            System.out.println(&quot;[OLD MAN] 'What do you mean? We've known each other for years, do you not remember me?' \\n&quot;\n                                    + &quot;[PLEASE ENTER EITHER YES (Y) OR NO (N)&quot;);\n                            while (true) {\n                                input = userInput.nextLine().toUpperCase();\n                                switch (input) {\n                                case &quot;Y&quot;:\n                                    System.out.println(&quot;Oh, I see... you play some very weird games, my friend. Hopefully, you remember the game I had for you though. You have to guess the number I'm thinking of right now. It's between 1 and 3, you get one try.&quot;);\n                                    // Play the random number guessing game\n                                    playRandomNumberGuesser(1, 3, userInput);\n                                    break;\n                                case &quot;N&quot;:\n                                    System.out.println(&quot;I get the feeling you aren't who you say you are. In order to validate your identity, I'm going to play a game with you. I'm thinking of a number between 1 and 3, what is it.&quot;);\n                                    // Play the random number guessing game\n                                    playRandomNumberGuesser(1, 3, userInput);\n                                    break;\n                                default:\n                                    System.out.println(&quot;[INVALID INPUT, PLEASE INPUT Y, N]&quot;);\n                                    continue;\n                                }\n                                break;\n                            }\n                            break;\n\n                        case &quot;S&quot;:\n                            System.out.println(&quot;[OLD MAN] 'Ahhh not the talking type today, I see.'\\n&quot;\n                                    + &quot;[OLD MAN] If you do recall, I do have a game you have to play. It's a simple number guessing game. You guess a number between 1 and 3.&quot;);\n                            // Play the random number guessing game\n                            playRandomNumberGuesser(1, 3, userInput);\n                            break;\n                        default:\n                            System.out.println(&quot;[INVALID INPUT, PLEASE ENTER Y OR N]&quot;);\n                            continue;\n                        }\n                        break;\n                    }\n                    break;\n\n                case &quot;L&quot;:\n                    System.out.println(&quot;You continue onto a path that leads to a tree \\n&quot;\n                            + &quot;The tree asks you to play a random number game where you pick a number between 1-3. \\n&quot;);\n                    playRandomNumberGuesser(1, 3, userInput);\n                    break;\n                    \n                default:\n                    System.out.println(&quot;[INVALID INPUT, PLEASE ENTER EITHER [R] OR [L]]&quot;);\n                    continue;\n                }\n                break;\n            }\n// Mountainous area\n\n            System.out.println(&quot;You continue on your journey and encounter a path that diverts left or right.&quot;);\n            System.out.println(&quot;Which way do you go? [PLEASE ENTER R FOR RIGHT OR L FOR LEFT]&quot;);\n\n            while (true) {\n                input = userInput.nextLine().toUpperCase();\n                switch (input) {\n                    case &quot;L&quot;:\n                        System.out.println(&quot;You walk up a path, where the wind seems to get louder and louder and the air gets thinner and thinner.&quot;);\n                        System.out.println(&quot;You suddenly hear a bark from a bush to your right. You open the bush to reveal a small puppy, it looks scared. Do you take it?&quot;);\n                        System.out.println(&quot;[PLEASE INPUT EITHER YES (Y) OR NO (N)]&quot;);\n                        \n                        while (true) {\n                            input = userInput.nextLine().toUpperCase();\n                            switch (input) {\n                                case &quot;Y&quot;:\n                                    System.out.println(&quot;You pick up the dog and fit him into your jacket, keeping him around for later&quot;);\n                                    inventory.add(&quot;DOG&quot;);\n                                    System.out.println(&quot;INVENTORY - &quot; + inventory);\n                                    System.out.println(&quot;You turn around and walk up the other part of the path into a forest&quot;);\n                                    break;\n                                case &quot;N&quot;:\n                                    System.out.println(&quot;You leave the dog alone.&quot;);\n                                    System.out.println(&quot;You turn around and walk up the other part of the path into a forest&quot;);\n                                    break;\n                                default:\n                                    System.out.println(&quot;[INVALID INPUT] Without enough time to react, the dog runs off.&quot;);\n                                    System.out.println(&quot;You turn around and walk up the other part of the path into a forest&quot;);\n                                    break;\n                            }\n                            break;\n                        }\n\n                    case &quot;R&quot;:\n                        System.out.println(&quot;You walk into a beautiful forest, almost mystical.&quot;);\n                        System.out.println(&quot;There's a strong, quick gust of wind leading you to your right, almost pushing you towards it.&quot;);\n                        System.out.println(&quot;Do you follow it?&quot;);\n                        System.out.println(&quot;[PLEASE INPUT EITHER YES [Y] OR NO [N]&quot;);\n\n                        // Prompt for user input\n                        break;\n\n                    default:\n                        System.out.println(&quot;[INVALID INPUT, PLEASE ENTER [L] OR [R]&quot;);\n                        break;\n                }\n                break;\n            }\n        }\n    }\n</code></pre>\n<p>The Random number gen game -</p>\n<pre><code>    public static void playRandomNumberGuesser(int min, int max, Scanner userInput) {\n        Random random = new Random();\n        int randomNumber = random.nextInt((max - min) + 1) + min;\n        int guess;\n        boolean guessedCorrectly = false;\n\n        do {\n            System.out.print(&quot;Enter your guess (&quot; + min + &quot;-&quot; + max + &quot;): &quot;);\n            guess = userInput.nextInt();\n\n            if (guess &lt; min || guess &gt; max) {\n                System.out.println(&quot;Please enter a number between &quot; + min + &quot; and &quot; + max + &quot;.&quot;);\n            } else if (guess &lt; randomNumber) {\n                System.out.println(&quot;Too low. Try again.&quot;);\n            } else if (guess &gt; randomNumber) {\n                System.out.println(&quot;Too high. Try again.&quot;);\n            } else if (guess == randomNumber) {\n                System.out.println(&quot;[OLD MAN] 'Well done!! you've done well'\\n&quot;\n                        + &quot;[OLD MAN] 'You really do have a knack for these games. I'll tell you that. Here, take this for your journey.'\\n&quot;);\n                guessedCorrectly = true;\n            }\n        } while (!guessedCorrectly);\n    }\n</code></pre>\n<p>The output that's coming out is not desired.</p>\n<p>Output -</p>\n<p>An old man appears from out of the tree laughing\nINVENTORY: [STICK]\nYou are bestowed a stick for your great deed.\nYou continue on your journey and encounter a path that diverts left or right.\nWhich way do you go? [PLEASE ENTER R FOR RIGHT OR L FOR LEFT]\n[INVALID INPUT, PLEASE ENTER [L] OR [R]</p>\n<p>Desired output -</p>\n<p>An old man appears from out of the tree laughing\nINVENTORY: [STICK]\nYou are bestowed a stick for your great deed.\nYou continue on your journey and encounter a path that diverts left or right.\nWhich way do you go? [PLEASE ENTER R FOR RIGHT OR L FOR LEFT]\n(Prompt the user to enter a scanner to continue into the mountainous area.)</p>\n<p>I tried making it so that at the end of the first while loop, it prompted the user to do the game and then progress further, but that just results in errors and doesn't really do what I want it to.</p>\n<p>I've also tried frankensteining the code into itself, disregarding the class and just putting it into the code but it isn't doing it. It still displays issues.</p>\n<p>Thanks guys.</p>\n"},{"tags":["java","selenium","selenium-server"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1617223395,"post_id":66894658,"comment_id":118248233,"body_markdown":"I think it&#39;s looking for PATH variables that tell it where your webdrivers are (chromedriver, geckodriver, etc...)  These are set in Windows settings... where Environment vars are located.","body":"I think it&#39;s looking for PATH variables that tell it where your webdrivers are (chromedriver, geckodriver, etc...)  These are set in Windows settings... where Environment vars are located."},{"owner":{"account_id":2393602,"reputation":3892,"user_id":2092927,"accept_rate":35,"display_name":"Čamo"},"score":0,"creation_date":1617224409,"post_id":66894658,"comment_id":118248589,"body_markdown":"This does not look much user friendly. I cant find any documentation for it. Previous version did not require it.","body":"This does not look much user friendly. I cant find any documentation for it. Previous version did not require it."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1617225990,"post_id":66894658,"comment_id":118249087,"body_markdown":"https://www.browserstack.com/guide/run-selenium-tests-using-selenium-chromedriver","body":"<a href=\"https://www.browserstack.com/guide/run-selenium-tests-using-selenium-chromedriver\" rel=\"nofollow noreferrer\">browserstack.com/guide/&hellip;</a>"},{"owner":{"account_id":2393602,"reputation":3892,"user_id":2092927,"accept_rate":35,"display_name":"Čamo"},"score":1,"creation_date":1617233937,"post_id":66894658,"comment_id":118251081,"body_markdown":"But as I found out Selenium server is able to detect the driver if it is in the same folder as jar file. https://www.lambdatest.com/blog/selenium-grid-4-tutorial-for-distributed-testing/","body":"But as I found out Selenium server is able to detect the driver if it is in the same folder as jar file. <a href=\"https://www.lambdatest.com/blog/selenium-grid-4-tutorial-for-distributed-testing/\" rel=\"nofollow noreferrer\">lambdatest.com/blog/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617232435,"creation_date":1617232435,"answer_id":66896454,"question_id":66894658,"body_markdown":"have you set the chrome driver path. you may want to set that\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;Your Chrome driver locaton&quot;);\r\n    WebDriver driver =new ChromeDriver();","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>have you set the chrome driver path. you may want to set that</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;Your Chrome driver locaton&quot;);\nWebDriver driver =new ChromeDriver();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8294505,"reputation":41,"user_id":6235123,"display_name":"vijay atm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617631975,"creation_date":1617631975,"answer_id":66954403,"question_id":66894658,"body_markdown":"Try using WebDriverManager, you don&#39;t need to give a path/update the drivers ever.\r\n\r\n    WebDriverManager.chromedriver().setup();\r\n\tWebDriver driver = new ChromeDriver();\r\n\t\r\n\r\nSource:\r\n\r\nhttps://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>Try using WebDriverManager, you don't need to give a path/update the drivers ever.</p>\n<pre><code>WebDriverManager.chromedriver().setup();\nWebDriver driver = new ChromeDriver();\n</code></pre>\n<p>Source:</p>\n<p><a href=\"https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager</a></p>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634455294,"creation_date":1634455294,"answer_id":69602151,"question_id":66894658,"body_markdown":"You can also download the chromedriver directly from here:\r\n[https://chromedriver.chromium.org/downloads][1]\r\n\r\n\r\nand the set the &quot;path&quot; variable with the location of the chromedriver:\r\n\r\n[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://chromedriver.chromium.org/downloads\r\n  [2]: https://i.stack.imgur.com/WFYR7.png\r\n\r\nThen run the commend: \r\n\r\n    java -jar selenium-server-4.0.0.jar standalone\r\n    ","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>You can also download the chromedriver directly from here:\n<a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a></p>\n<p>and the set the &quot;path&quot; variable with the location of the chromedriver:</p>\n<p><a href=\"https://i.stack.imgur.com/WFYR7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WFYR7.png\" alt=\"enter image description here\" /></a></p>\n<p>Then run the commend:</p>\n<pre><code>java -jar selenium-server-4.0.0.jar standalone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23075230,"reputation":1,"user_id":17188261,"display_name":"beifeng107"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634623144,"creation_date":1634618855,"answer_id":69625241,"question_id":66894658,"body_markdown":"I have added the driver directory to PATH, but it throws the error, too.  \r\nFinally I changed the filename of each driver, then it works OK.  \r\nFor example:  \r\n    change &quot;chromedriver_79.0.3945.36.exe&quot; to &quot;chromedriver.exe&quot;. ","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>I have added the driver directory to PATH, but it throws the error, too.<br />\nFinally I changed the filename of each driver, then it works OK.<br />\nFor example:<br />\nchange &quot;chromedriver_79.0.3945.36.exe&quot; to &quot;chromedriver.exe&quot;.</p>\n"},{"tags":[],"owner":{"account_id":9364737,"reputation":1,"user_id":6950026,"display_name":"Shahzaib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636528948,"creation_date":1636528948,"answer_id":69909213,"question_id":66894658,"body_markdown":"I simply moved my chromedriver file next to selenium-server-4.0.0.jar file and ran this command again and it worked","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>I simply moved my chromedriver file next to selenium-server-4.0.0.jar file and ran this command again and it worked</p>\n"},{"tags":[],"owner":{"account_id":22231388,"reputation":1,"user_id":16467510,"display_name":"Baskar Balan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636529872,"creation_date":1636529872,"answer_id":69909384,"question_id":66894658,"body_markdown":"Please follow the below steps to sort our the problem\r\n\r\n 1. Add the Environment Variable (Environment Variable--&gt; system variable--&gt;\r\nPath--&gt;Add the driver path)\r\n 2. Restart the machine\r\n\r\n\r\n\r\n","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>Please follow the below steps to sort our the problem</p>\n<ol>\n<li>Add the Environment Variable (Environment Variable--&gt; system variable--&gt;\nPath--&gt;Add the driver path)</li>\n<li>Restart the machine</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9889652,"reputation":62,"user_id":7323060,"display_name":"pawelwaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666179794,"creation_date":1666179638,"answer_id":74124697,"question_id":66894658,"body_markdown":"Install the [Gecko driver](https://github.com/mozilla/geckodriver)\r\nor [Chrome driver](https://sites.google.com/chromium.org/driver/)\r\nand then add that Path in your operating system","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>Install the <a href=\"https://github.com/mozilla/geckodriver\" rel=\"nofollow noreferrer\">Gecko driver</a>\nor <a href=\"https://sites.google.com/chromium.org/driver/\" rel=\"nofollow noreferrer\">Chrome driver</a>\nand then add that Path in your operating system</p>\n"},{"tags":[],"owner":{"account_id":25671440,"reputation":1,"user_id":19435617,"display_name":"kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683289288,"creation_date":1683289288,"answer_id":76182138,"question_id":66894658,"body_markdown":"Same issue for me. Setting up the driver path didn&#39;t work for me.\r\nQuick Fix: Copy Drivers(Ex: chromedriver.exe) to the .jar file folder. Then try to run the command again. It works fine","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>Same issue for me. Setting up the driver path didn't work for me.\nQuick Fix: Copy Drivers(Ex: chromedriver.exe) to the .jar file folder. Then try to run the command again. It works fine</p>\n"},{"tags":[],"owner":{"account_id":7126733,"reputation":1,"user_id":5449422,"display_name":"samir varude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697716910,"creation_date":1697716910,"answer_id":77323581,"question_id":66894658,"body_markdown":"My issue got resolved with below mentioned steps\r\n1 Copy driver and paste it in same folder where your jar placed\r\n2. Add Driver location in PATH variable of environment variables\r\n","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>My issue got resolved with below mentioned steps\n1 Copy driver and paste it in same folder where your jar placed\n2. Add Driver location in PATH variable of environment variables</p>\n"}],"owner":{"account_id":2393602,"reputation":3892,"user_id":2092927,"accept_rate":35,"display_name":"Čamo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66896454,"answer_count":9,"score":1,"last_activity_date":1697716910,"creation_date":1617221221,"question_id":66894658,"body_markdown":"I would like to run Selenium server standalone 4 on my server. But as I try to run `java -jar selenium-server-4-beta-2.jar standalone` it throws me an error: \r\n\r\n&gt; **No drivers have been configured or have been found on PATH**\r\n\r\n I don&#39;t understand what to do it. I have an actual driver file in the same directory as the jar file. \r\n\r\nCan somebody tell me please what it means?","title":"How to fix the &quot;No drivers have been configured or have been found on PATH&quot; error?","body":"<p>I would like to run Selenium server standalone 4 on my server. But as I try to run <code>java -jar selenium-server-4-beta-2.jar standalone</code> it throws me an error:</p>\n<blockquote>\n<p><strong>No drivers have been configured or have been found on PATH</strong></p>\n</blockquote>\n<p>I don't understand what to do it. I have an actual driver file in the same directory as the jar file.</p>\n<p>Can somebody tell me please what it means?</p>\n"},{"tags":["java","windows","uninstallation"],"comments":[{"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"score":1,"creation_date":1574196342,"post_id":58942422,"comment_id":104143438,"body_markdown":"Just delete the folder and remove any related environment variables, if you set them","body":"Just delete the folder and remove any related environment variables, if you set them"},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":3,"creation_date":1574196421,"post_id":58942422,"comment_id":104143480,"body_markdown":"You can simply delete the directory and install another version. To check where it is, open the command prompt (cmd, not powershell) and type `where java`.","body":"You can simply delete the directory and install another version. To check where it is, open the command prompt (cmd, not powershell) and type <code>where java</code>."},{"owner":{"account_id":13018481,"reputation":79,"user_id":9408785,"display_name":"Venkata R. Duvvuri"},"score":0,"creation_date":1574198444,"post_id":58942422,"comment_id":104144371,"body_markdown":"Thank you, worked well.","body":"Thank you, worked well."}],"answers":[{"tags":[],"owner":{"account_id":9743246,"reputation":23,"user_id":7224043,"display_name":"mohamad reza moosavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695034870,"creation_date":1695034870,"answer_id":77126645,"question_id":58942422,"body_markdown":"on windows:\r\n\r\n1: remove jdk folder or rename the foler \r\n\r\n2: remove all env vartiable and path from environment system\r\n","title":"How to uninstall OpenJDK13 from Windows 10 (not showing in Control panel)?","body":"<p>on windows:</p>\n<p>1: remove jdk folder or rename the foler</p>\n<p>2: remove all env vartiable and path from environment system</p>\n"},{"tags":[],"owner":{"account_id":19868781,"reputation":24,"user_id":14555439,"display_name":"Sachin De Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695035223,"creation_date":1695035223,"answer_id":77126680,"question_id":58942422,"body_markdown":"1. Delete the environment variables\r\n2. Restart your computer\r\n3. Delete the JDK source folder","title":"How to uninstall OpenJDK13 from Windows 10 (not showing in Control panel)?","body":"<ol>\n<li>Delete the environment variables</li>\n<li>Restart your computer</li>\n<li>Delete the JDK source folder</li>\n</ol>\n"}],"owner":{"account_id":13018481,"reputation":79,"user_id":9408785,"display_name":"Venkata R. Duvvuri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8837,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697716820,"creation_date":1574195809,"question_id":58942422,"body_markdown":"I wanted to uninstall OpenJDK13 from Windows 10. But OpenJDK is not listed/showing-up in the control panel. \r\n\r\nHow could I uninstall?\r\n\r\nThankyou\r\n","title":"How to uninstall OpenJDK13 from Windows 10 (not showing in Control panel)?","body":"<p>I wanted to uninstall OpenJDK13 from Windows 10. But OpenJDK is not listed/showing-up in the control panel. </p>\n\n<p>How could I uninstall?</p>\n\n<p>Thankyou</p>\n"},{"tags":["java","android","websocket"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697721350,"post_id":77323564,"comment_id":136317343,"body_markdown":"`&quot;localhost&quot;` Why that value for that parameter? What is it for? To bind to localhost? Dont bind at all or bind to 0.0.0.0 if you want to enable acces from net.","body":"<code>&quot;localhost&quot;</code> Why that value for that parameter? What is it for? To bind to localhost? Dont bind at all or bind to 0.0.0.0 if you want to enable acces from net."},{"owner":{"account_id":23929393,"reputation":3,"user_id":18223315,"display_name":"Роман Дворниченко"},"score":0,"creation_date":1697807515,"post_id":77323564,"comment_id":136329690,"body_markdown":"I tried to change this parameter but didn&#39;t know to use &quot;0.0.0.0&quot;. But it still didn&#39;t help. Perhaps this was one of the problems.","body":"I tried to change this parameter but didn&#39;t know to use &quot;0.0.0.0&quot;. But it still didn&#39;t help. Perhaps this was one of the problems."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697808446,"post_id":77323564,"comment_id":136329873,"body_markdown":"Try -for testing- to connect from a different computer in your network. Not from an Android device.","body":"Try -for testing- to connect from a different computer in your network. Not from an Android device."}],"owner":{"account_id":23929393,"reputation":3,"user_id":18223315,"display_name":"Роман Дворниченко"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697716752,"creation_date":1697716752,"question_id":77323564,"body_markdown":"I am new to websockets. I have created the application on android on WebSocketClient and i try to connect to my WebSocket server on computer, but i get errors. \r\n\r\nHere what i understood:\r\n1. The computer is not received requests from android client (using Wireshark).\r\n2. The server actually works (i tryed to use the same websocket client, but on my computer)\r\n\r\n\r\nStack trace:\r\n\r\n    javax.websocket.DeploymentException: Connection failed.\r\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket._connect(GrizzlyClientSocket.java:413)\r\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket.access$000(GrizzlyClientSocket.java:103)\r\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket$1.call(GrizzlyClientSocket.java:228)\r\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket$1.call(GrizzlyClientSocket.java:224)\r\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket.connect(GrizzlyClientSocket.java:242)\r\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientContainer.openClientSocket(GrizzlyClientContainer.java:95)\r\n    at org.glassfish.tyrus.client.ClientManager$3$1.run(ClientManager.java:626)\r\n    at org.glassfish.tyrus.client.ClientManager$3.run(ClientManager.java:673)\r\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:487)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at org.glassfish.tyrus.client.ClientManager$SameThreadExecutorService.execute(ClientManager.java:826)\r\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n    at org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:496)\r\n    at org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:312)\r\n    at com.example.deem.ExampleClient.start(AuthActivity.java:163)\r\n    at com.example.deem.AuthActivity$1.onClick(AuthActivity.java:59)\r\n    at android.view.View.performClick(View.java:7570)\r\n    at android.view.View.performClickInternal(View.java:7540)\r\n    at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n    at android.view.View$PerformClick.run(View.java:29710)\r\n    at android.os.Handler.handleCallback(Handler.java:942)\r\n    at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    at android.os.Looper.loopOnce(Looper.java:240)\r\n    at android.os.Looper.loop(Looper.java:351)\r\n    at android.app.ActivityThread.main(ActivityThread.java:8422)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1013)\r\n\r\n\r\n\r\nClient:\r\n\r\n    @ClientEndpoint\r\n    public class ExampleClient {\r\n        private static Session session;\r\n    \r\n        @OnOpen\r\n        public void onOpen(Session session) {\r\n            this.session = session;\r\n            System.out.println(format(&quot;Connection established. session id: %s&quot;, session.getId()));\r\n        }\r\n    \r\n        @OnMessage\r\n        public void onMessage(String message) {\r\n            System.out.println(message);\r\n        }\r\n    \r\n        public static void sendMessage(String message) {\r\n            if (session != null &amp;&amp; session.isOpen()) {\r\n                session.getAsyncRemote().sendText(message);\r\n            }\r\n        }\r\n    \r\n        public void start() {\r\n            WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n            try {\r\n                URI uri = new URI(&quot;ws://192.168.1.104:8025/ws/chat&quot;);\r\n                container.connectToServer(ExampleClient.class, uri);\r\n                ExampleClient.sendMessage(&quot;str&quot;);\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nСервер:\r\n\r\n    @javax.websocket.server.ServerEndpoint(value = &quot;/chat&quot;)\r\n    public class MessengerEndPoint {\r\n    \r\n    \r\n        @javax.websocket.OnOpen\r\n        public void onOpen(javax.websocket.Session session) {\r\n            System.out.println(&quot;Connect session&quot;);\r\n        }\r\n    \r\n        @javax.websocket.OnMessage\r\n        public void onMessage(String message, javax.websocket.Session session) throws IOException, javax.websocket.EncodeException {\r\n            System.out.println(&quot;Message &quot; + message);\r\n        }\r\n    \r\n        @javax.websocket.OnClose\r\n        public void onClose(javax.websocket.Session session) throws IOException, EncodeException {\r\n        }\r\n    \r\n    public static void main(String[] args) {\r\n    \t\torg.glassfish.tyrus.server.Server server = new org.glassfish.tyrus.server.Server\r\n    \t\t\t\t(&quot;localhost&quot;, 8025, &quot;/ws&quot;, MessengerEndPoint.class);\r\n    \r\n    \t\ttry {\r\n    \t\t\tserver.start();\r\n    \t\t\tSystem.out.println(&quot;Press any key to stop the server..&quot;);\r\n    \t\t\tnew Scanner(System.in).nextLine();\r\n    \t\t} catch (javax.websocket.DeploymentException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t} finally {\r\n    \t\t\tserver.stop();\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"WebSocketClient from android does not connect to the server","body":"<p>I am new to websockets. I have created the application on android on WebSocketClient and i try to connect to my WebSocket server on computer, but i get errors.</p>\n<p>Here what i understood:</p>\n<ol>\n<li>The computer is not received requests from android client (using Wireshark).</li>\n<li>The server actually works (i tryed to use the same websocket client, but on my computer)</li>\n</ol>\n<p>Stack trace:</p>\n<pre><code>javax.websocket.DeploymentException: Connection failed.\nat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket._connect(GrizzlyClientSocket.java:413)\nat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket.access$000(GrizzlyClientSocket.java:103)\nat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket$1.call(GrizzlyClientSocket.java:228)\nat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket$1.call(GrizzlyClientSocket.java:224)\nat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientSocket.connect(GrizzlyClientSocket.java:242)\nat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientContainer.openClientSocket(GrizzlyClientContainer.java:95)\nat org.glassfish.tyrus.client.ClientManager$3$1.run(ClientManager.java:626)\nat org.glassfish.tyrus.client.ClientManager$3.run(ClientManager.java:673)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:487)\nat java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat org.glassfish.tyrus.client.ClientManager$SameThreadExecutorService.execute(ClientManager.java:826)\nat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\nat org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:496)\nat org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:312)\nat com.example.deem.ExampleClient.start(AuthActivity.java:163)\nat com.example.deem.AuthActivity$1.onClick(AuthActivity.java:59)\nat android.view.View.performClick(View.java:7570)\nat android.view.View.performClickInternal(View.java:7540)\nat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\nat android.view.View$PerformClick.run(View.java:29710)\nat android.os.Handler.handleCallback(Handler.java:942)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:240)\nat android.os.Looper.loop(Looper.java:351)\nat android.app.ActivityThread.main(ActivityThread.java:8422)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1013)\n</code></pre>\n<p>Client:</p>\n<pre><code>@ClientEndpoint\npublic class ExampleClient {\n    private static Session session;\n\n    @OnOpen\n    public void onOpen(Session session) {\n        this.session = session;\n        System.out.println(format(&quot;Connection established. session id: %s&quot;, session.getId()));\n    }\n\n    @OnMessage\n    public void onMessage(String message) {\n        System.out.println(message);\n    }\n\n    public static void sendMessage(String message) {\n        if (session != null &amp;&amp; session.isOpen()) {\n            session.getAsyncRemote().sendText(message);\n        }\n    }\n\n    public void start() {\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n        try {\n            URI uri = new URI(&quot;ws://192.168.1.104:8025/ws/chat&quot;);\n            container.connectToServer(ExampleClient.class, uri);\n            ExampleClient.sendMessage(&quot;str&quot;);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Сервер:</p>\n<pre><code>@javax.websocket.server.ServerEndpoint(value = &quot;/chat&quot;)\npublic class MessengerEndPoint {\n\n\n    @javax.websocket.OnOpen\n    public void onOpen(javax.websocket.Session session) {\n        System.out.println(&quot;Connect session&quot;);\n    }\n\n    @javax.websocket.OnMessage\n    public void onMessage(String message, javax.websocket.Session session) throws IOException, javax.websocket.EncodeException {\n        System.out.println(&quot;Message &quot; + message);\n    }\n\n    @javax.websocket.OnClose\n    public void onClose(javax.websocket.Session session) throws IOException, EncodeException {\n    }\n\npublic static void main(String[] args) {\n        org.glassfish.tyrus.server.Server server = new org.glassfish.tyrus.server.Server\n                (&quot;localhost&quot;, 8025, &quot;/ws&quot;, MessengerEndPoint.class);\n\n        try {\n            server.start();\n            System.out.println(&quot;Press any key to stop the server..&quot;);\n            new Scanner(System.in).nextLine();\n        } catch (javax.websocket.DeploymentException e) {\n            throw new RuntimeException(e);\n        } finally {\n            server.stop();\n        }\n\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","dart"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1697753487,"post_id":77323563,"comment_id":136322986,"body_markdown":"When the NFC service on an Android device is active the device will permamentely send out signals that powers a near by NFC tag. Depending on the tag and it&#39;s technologies it will respond to the signal. If you are running an app with enabled reader mode the resonses will be directed to your app and you can work with the data. How do you want to &quot;detect users&#39; nfc tags without using any nfc reader&quot; when not using an activated NFC reader ?","body":"When the NFC service on an Android device is active the device will permamentely send out signals that powers a near by NFC tag. Depending on the tag and it&#39;s technologies it will respond to the signal. If you are running an app with enabled reader mode the resonses will be directed to your app and you can work with the data. How do you want to &quot;detect users&#39; nfc tags without using any nfc reader&quot; when not using an activated NFC reader ?"},{"owner":{"account_id":29631473,"reputation":1,"user_id":22709811,"display_name":"Safiul Islam"},"score":0,"creation_date":1697951467,"post_id":77323563,"comment_id":136342530,"body_markdown":"well, I was thinking about creating a database where I will store some info alongside the user&#39;s NFC tag. so the first time it detects the device tag it will create an entry inside the DB. and next time if another device, with NFC reader, read the tag then I can query the data from my db. I&#39;m not sure if it will work or not. and it will call an HTTP request which is also a downside for my app. I was thinking about Beam NDEF. but still struggling to figure it out, cause I&#39;m very new to Android dev.","body":"well, I was thinking about creating a database where I will store some info alongside the user&#39;s NFC tag. so the first time it detects the device tag it will create an entry inside the DB. and next time if another device, with NFC reader, read the tag then I can query the data from my db. I&#39;m not sure if it will work or not. and it will call an HTTP request which is also a downside for my app. I was thinking about Beam NDEF. but still struggling to figure it out, cause I&#39;m very new to Android dev."}],"owner":{"account_id":29631473,"reputation":1,"user_id":22709811,"display_name":"Safiul Islam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697716745,"creation_date":1697716745,"question_id":77323563,"body_markdown":"I am trying to develop an NFC-based app using Flutter. but according to requirements, I need to detect users&#39; nfc tags without using any nfc reader. is it possible? For Flutter I&#39;m using the `nfc_manager` package. but I&#39;m not sure how to do this, or if is there any option available or not. \r\n\r\nmy app mainly focuses on Android devices. so if there is any way to do this using native (kotlin/java), I&#39;m okay with that. ","title":"how can I programmatically detect own device&#39;s nfc tag using Flutter or Kotlin?","body":"<p>I am trying to develop an NFC-based app using Flutter. but according to requirements, I need to detect users' nfc tags without using any nfc reader. is it possible? For Flutter I'm using the <code>nfc_manager</code> package. but I'm not sure how to do this, or if is there any option available or not.</p>\n<p>my app mainly focuses on Android devices. so if there is any way to do this using native (kotlin/java), I'm okay with that.</p>\n"},{"tags":["java","prometheus","metrics","spring-boot-actuator","spring-boot-admin"],"owner":{"account_id":16290509,"reputation":41,"user_id":12111890,"display_name":"Javier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697716329,"creation_date":1697716329,"question_id":77323518,"body_markdown":"I have an application with SpringBoot 2.6.6 where we have SpringBootAdmin and Prometheus configured.\r\n\r\nIn the application we have several annotations with @Cacheable, when the services are executed it is saved in the cache correctly and if we review the Prometheus metrics in the SpringBootAdmin we can see how the number of hits and misses increases when accessing the cache.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe problem I have is that when we refresh the properties with the /actuator/refresh endpoint, the metric in Prometheus of the caches of the hits and miss values ​​stops updating, I have to restart the application for the metric to work correctly again.\r\n\r\n\r\nDo you know why it may be that when you run the /actuator/refresh endpoint, the cache metric stops working?\r\n\r\nI hope that when refreshing the properties with the /actuator/refresh endpoint the cache metrics continue to work correctly.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M4G49.png","title":"Problem with @Cacheable metrics in promotheus","body":"<p>I have an application with SpringBoot 2.6.6 where we have SpringBootAdmin and Prometheus configured.</p>\n<p>In the application we have several annotations with @Cacheable, when the services are executed it is saved in the cache correctly and if we review the Prometheus metrics in the SpringBootAdmin we can see how the number of hits and misses increases when accessing the cache.</p>\n<p><a href=\"https://i.stack.imgur.com/M4G49.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M4G49.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem I have is that when we refresh the properties with the /actuator/refresh endpoint, the metric in Prometheus of the caches of the hits and miss values ​​stops updating, I have to restart the application for the metric to work correctly again.</p>\n<p>Do you know why it may be that when you run the /actuator/refresh endpoint, the cache metric stops working?</p>\n<p>I hope that when refreshing the properties with the /actuator/refresh endpoint the cache metrics continue to work correctly.</p>\n"},{"tags":["java","sql","spring","hibernate"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1397305522,"post_id":23029722,"comment_id":35183578,"body_markdown":"Do you want to populate an embedded database for testing, or are planning on populating a regular database in a non-test environment?","body":"Do you want to populate an embedded database for testing, or are planning on populating a regular database in a non-test environment?"},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1397327166,"post_id":23029722,"comment_id":35190819,"body_markdown":"It is about populating aa regular database. Basically data is related to configurations.","body":"It is about populating aa regular database. Basically data is related to configurations."}],"answers":[{"tags":[],"owner":{"account_id":1677335,"reputation":2773,"user_id":1542547,"accept_rate":71,"display_name":"Gabriel Ruiu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397304073,"creation_date":1397304073,"answer_id":23030114,"question_id":23029722,"body_markdown":"I would go for registering an instance of ***ApplicationListener*** in the Spring context configuration, that listens for the ***ContextRefreshedEvent***, which is signalled when the application context has finished initializing or being refreshed. After this moment you could setup your database population.\r\n\r\nBelow you will find the ApplicationListener implementation (which depends on the DAO responsible for performing the database operations) and the Spring configuration (both Java and XML)that you need to achieve this. You need to choose the configuration specific to your app:\r\n\r\n**Java-based configuration**\r\n\r\n    @Configuration\r\n    public class JavaConfig {\r\n\r\n        @Bean\r\n        public ApplicationListener&lt;ContextRefreshedEvent&gt; contextInitFinishListener() {\r\n            return new ContextInitFinishListener(personRepository());\r\n        }\r\n\r\n        @Bean\r\n        public PersonRepository personRepository() {\r\n            return new PersonRepository();\r\n        }\r\n    }\r\n\r\n**XML**\r\n\r\n&lt;!-- language:xml --&gt;\r\n\r\n        &lt;bean class=&quot;com.package.ContextInitFinishListener&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;bean class=&quot;com.package.PersonRepository&quot;/&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n\r\n\r\n\r\nThis is the code for the ContextInitFinishListener class:\r\n\r\n    import org.springframework.context.ApplicationListener;\r\n    import org.springframework.context.event.ContextRefreshedEvent;\r\n\r\n    public class ContextInitFinishListener implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n\r\n        private PersonRepository personRepository;\r\n\r\n        public ContextInitFinishListener(PersonRepository personRepository) {\r\n            this.personRepository = personRepository;\r\n        }\r\n\r\n        @Override\r\n        public void onApplicationEvent(ContextRefreshedEvent event) {\r\n            //populate database with required values, using PersonRepository\r\n        }\r\n    }\r\n\r\n\r\n**NOTE:** PersonRepository is just a generic DAO for the purpose of the example, it&#39;s meant to represent the DAO that YOU use in your app","title":"How to execute SQL insert queries to populate database during application start/load?","body":"<p>I would go for registering an instance of <strong><em>ApplicationListener</em></strong> in the Spring context configuration, that listens for the <strong><em>ContextRefreshedEvent</em></strong>, which is signalled when the application context has finished initializing or being refreshed. After this moment you could setup your database population.</p>\n\n<p>Below you will find the ApplicationListener implementation (which depends on the DAO responsible for performing the database operations) and the Spring configuration (both Java and XML)that you need to achieve this. You need to choose the configuration specific to your app:</p>\n\n<p><strong>Java-based configuration</strong></p>\n\n<pre><code>@Configuration\npublic class JavaConfig {\n\n    @Bean\n    public ApplicationListener&lt;ContextRefreshedEvent&gt; contextInitFinishListener() {\n        return new ContextInitFinishListener(personRepository());\n    }\n\n    @Bean\n    public PersonRepository personRepository() {\n        return new PersonRepository();\n    }\n}\n</code></pre>\n\n<p><strong>XML</strong></p>\n\n\n\n<pre><code>    &lt;bean class=\"com.package.ContextInitFinishListener\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;bean class=\"com.package.PersonRepository\"/&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>This is the code for the ContextInitFinishListener class:</p>\n\n<pre><code>import org.springframework.context.ApplicationListener;\nimport org.springframework.context.event.ContextRefreshedEvent;\n\npublic class ContextInitFinishListener implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n    private PersonRepository personRepository;\n\n    public ContextInitFinishListener(PersonRepository personRepository) {\n        this.personRepository = personRepository;\n    }\n\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        //populate database with required values, using PersonRepository\n    }\n}\n</code></pre>\n\n<p><strong>NOTE:</strong> PersonRepository is just a generic DAO for the purpose of the example, it's meant to represent the DAO that YOU use in your app</p>\n"},{"tags":[],"owner":{"account_id":4277851,"reputation":51792,"user_id":3498062,"display_name":"Andrei Stefan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1397311607,"creation_date":1397311607,"answer_id":23031428,"question_id":23029722,"body_markdown":"Spring already provides a way of initializing databases with content, using a [DatabasePopulator][1].\r\nHere&#39;s one [quick example][2] that I found, for a Spring Batch sample application. The class to look at in that code is ResourceDatabasePopulator.\r\n[Another example][3] is in Spring Social project samples.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/jdbc/datasource/init/DatabasePopulator.html\r\n  [2]: https://github.com/spring-projects/spring-batch/blob/master/spring-batch-samples/src/main/java/org/springframework/batch/sample/config/DataSourceConfiguration.java\r\n  [3]: https://github.com/spring-projects/spring-social-samples/blob/master/spring-social-movies/src/main/java/org/springframework/social/movies/config/MainConfig.java","title":"How to execute SQL insert queries to populate database during application start/load?","body":"<p>Spring already provides a way of initializing databases with content, using a <a href=\"http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/jdbc/datasource/init/DatabasePopulator.html\" rel=\"nofollow\">DatabasePopulator</a>.\nHere's one <a href=\"https://github.com/spring-projects/spring-batch/blob/master/spring-batch-samples/src/main/java/org/springframework/batch/sample/config/DataSourceConfiguration.java\" rel=\"nofollow\">quick example</a> that I found, for a Spring Batch sample application. The class to look at in that code is ResourceDatabasePopulator.\n<a href=\"https://github.com/spring-projects/spring-social-samples/blob/master/spring-social-movies/src/main/java/org/springframework/social/movies/config/MainConfig.java\" rel=\"nofollow\">Another example</a> is in Spring Social project samples.</p>\n"},{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1697716017,"creation_date":1397337408,"answer_id":23036217,"question_id":23029722,"body_markdown":"You could also take advantage of Spring&#39;s `DataSourceInitializer` . The following is an example of Java Config for it.\r\n\r\n    @Bean\r\n    public DataSourceInitializer dataSourceInitializer() {\r\n        ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\r\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/data.sql&quot;));\r\n    \r\n        DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\r\n        dataSourceInitializer.setDataSource(dataSource());\r\n        dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\r\n        return dataSourceInitializer;\r\n    }","title":"How to execute SQL insert queries to populate database during application start/load?","body":"<p>You could also take advantage of Spring's <code>DataSourceInitializer</code> . The following is an example of Java Config for it.</p>\n<pre><code>@Bean\npublic DataSourceInitializer dataSourceInitializer() {\n    ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\n    resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/data.sql&quot;));\n\n    DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\n    dataSourceInitializer.setDataSource(dataSource());\n    dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\n    return dataSourceInitializer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7062690,"reputation":49,"user_id":5407262,"display_name":"S.Sriniavasulu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553250880,"creation_date":1553248505,"answer_id":55297013,"question_id":23029722,"body_markdown":"I used as below in my spring boot console application test.\r\n\r\n    ResourceDatabasePopulator rdp = new ResourceDatabasePopulator();\r\n     rdp.addScript(new ClassPathResource(&quot;sql/create-tables.sql&quot;));\r\n     rdp.execute(dataSource);\r\n\r\nthere are different ways to get datasource depending on type of application or data layered framework.\r\n\r\nif u r using spring boot atoconfigured h2 datasource u can use.\r\n\r\n    @Autowired\r\n    Datasource datasource;\r\n\r\nto get the data source throgh external configuration class is below \r\n\r\n    @Value(&quot;${spring.datasource.driver-class-name}&quot;)\r\n    private String driverClass;\r\n    \r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String dbUrl;\r\n    \r\n    @Value(&quot;${spring.datasource.username}&quot;)\r\n    private String dbUserName;\r\n    \r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    private String dbPassword;\r\n    \r\n    \r\n    @Bean\r\n    public DataSource dataSource(){\r\n        SingleConnectionDataSource dataSource = new \r\n        SingleConnectionDataSource();\r\n        dataSource.setDriverClassName(driverClass);\r\n        dataSource.setUrl(dbUrl);\r\n        dataSource.setUsername(dbUserName);\r\n        dataSource.setPassword(dbPassword);\r\n        dataSource.setSuppressClose(true);\r\n        dataSource.setAutoCommit(true);\r\n        return dataSource;\r\n    }\r\n\r\nthis worked for me, keep al queries that u need to execute in create-tables.sql\r\n","title":"How to execute SQL insert queries to populate database during application start/load?","body":"<p>I used as below in my spring boot console application test.</p>\n\n<pre><code>ResourceDatabasePopulator rdp = new ResourceDatabasePopulator();\n rdp.addScript(new ClassPathResource(\"sql/create-tables.sql\"));\n rdp.execute(dataSource);\n</code></pre>\n\n<p>there are different ways to get datasource depending on type of application or data layered framework.</p>\n\n<p>if u r using spring boot atoconfigured h2 datasource u can use.</p>\n\n<pre><code>@Autowired\nDatasource datasource;\n</code></pre>\n\n<p>to get the data source throgh external configuration class is below </p>\n\n<pre><code>@Value(\"${spring.datasource.driver-class-name}\")\nprivate String driverClass;\n\n@Value(\"${spring.datasource.url}\")\nprivate String dbUrl;\n\n@Value(\"${spring.datasource.username}\")\nprivate String dbUserName;\n\n@Value(\"${spring.datasource.password}\")\nprivate String dbPassword;\n\n\n@Bean\npublic DataSource dataSource(){\n    SingleConnectionDataSource dataSource = new \n    SingleConnectionDataSource();\n    dataSource.setDriverClassName(driverClass);\n    dataSource.setUrl(dbUrl);\n    dataSource.setUsername(dbUserName);\n    dataSource.setPassword(dbPassword);\n    dataSource.setSuppressClose(true);\n    dataSource.setAutoCommit(true);\n    return dataSource;\n}\n</code></pre>\n\n<p>this worked for me, keep al queries that u need to execute in create-tables.sql</p>\n"}],"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12903,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":23036217,"answer_count":4,"score":9,"last_activity_date":1697716017,"creation_date":1397301842,"question_id":23029722,"body_markdown":"I want to load some data into the mysql database during loading of the application. I am using Hibernate for managing database for the application. I can do it in groovy by using Bootstrap but I want to achieve it in Java. I would like to mention that it is Spring MVC based web application.\r\n\r\nWhile searching on the internet, I found that but using hibernate property named as import_file, I can achieve it but I am looking for an alternate route.","title":"How to execute SQL insert queries to populate database during application start/load?","body":"<p>I want to load some data into the mysql database during loading of the application. I am using Hibernate for managing database for the application. I can do it in groovy by using Bootstrap but I want to achieve it in Java. I would like to mention that it is Spring MVC based web application.</p>\n\n<p>While searching on the internet, I found that but using hibernate property named as import_file, I can achieve it but I am looking for an alternate route.</p>\n"},{"tags":["java","html","css","apache-velocity"],"owner":{"account_id":17613515,"reputation":9,"user_id":12781075,"display_name":"Md Yousuf Hossan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697715995,"creation_date":1697715995,"question_id":77323490,"body_markdown":" I have a html template report and **data populate using Apache velocity** Here i added a footer, In the footer section pagination page number will show but it shows **Page 0 of 0** i don&#39;t why this happen.\r\n\r\nfollowing the link code i have used.\r\n[text](https://community.jamasoftware.com/blogs/robin-calhoun/2020/07/13/quick-start-html-templates-for-velocity-pdf-report#AddHeaderFooter)\r\n\r\ni write this code below\r\n\r\n**Css**\r\n\r\n```\r\n#pageNumber::after {\r\n   content: counter(page)\r\n}\r\n\r\n#totalPages::after {\r\n   content: counter(pages)\r\n}\r\n```\r\n\r\n**Html**\r\n\r\n```\r\n Page &lt;span id=&quot;pageNumber&quot;&gt;&lt;/span&gt; of &lt;span id=&quot;totalPages&quot;&gt;&lt;/span&gt;\r\n```\r\n\r\n\r\n","title":"Can&#39;t count pagination of pdf page number Using counter(page) and counter(pages) are page counters that are built into CSS","body":"<p>I have a html template report and <strong>data populate using Apache velocity</strong> Here i added a footer, In the footer section pagination page number will show but it shows <strong>Page 0 of 0</strong> i don't why this happen.</p>\n<p>following the link code i have used.\n<a href=\"https://community.jamasoftware.com/blogs/robin-calhoun/2020/07/13/quick-start-html-templates-for-velocity-pdf-report#AddHeaderFooter\" rel=\"nofollow noreferrer\">text</a></p>\n<p>i write this code below</p>\n<p><strong>Css</strong></p>\n<pre><code>#pageNumber::after {\n   content: counter(page)\n}\n\n#totalPages::after {\n   content: counter(pages)\n}\n</code></pre>\n<p><strong>Html</strong></p>\n<pre><code> Page &lt;span id=&quot;pageNumber&quot;&gt;&lt;/span&gt; of &lt;span id=&quot;totalPages&quot;&gt;&lt;/span&gt;\n</code></pre>\n"},{"tags":["java","android","runtime"],"comments":[{"owner":{"account_id":9619082,"reputation":166,"user_id":7140884,"display_name":"Hasanuzzaman Mamun"},"score":0,"creation_date":1549874532,"post_id":54626475,"comment_id":96045571,"body_markdown":"Please see [this](https://stackoverflow.com/a/4213851/7140884) answer. It does what you&#39;re looking for.","body":"Please see <a href=\"https://stackoverflow.com/a/4213851/7140884\">this</a> answer. It does what you&#39;re looking for."},{"owner":{"account_id":14892503,"reputation":55,"user_id":10753760,"display_name":"Borisov"},"score":0,"creation_date":1549874981,"post_id":54626475,"comment_id":96045805,"body_markdown":"No! getRunningAppProcesses NOT WORKING in new Android. It returns only your app in list of one item","body":"No! getRunningAppProcesses NOT WORKING in new Android. It returns only your app in list of one item"}],"answers":[{"tags":[],"owner":{"account_id":9619082,"reputation":166,"user_id":7140884,"display_name":"Hasanuzzaman Mamun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549875457,"creation_date":1549875457,"answer_id":54626928,"question_id":54626475,"body_markdown":"You can visit [this][1] documentation. Scroll down to the section of methods. Some of the methods need permission and some of them are only intended to be used only for debugging. Hope that helps.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/ActivityManager","title":"Android: How to check application is Running or not","body":"<p>You can visit <a href=\"https://developer.android.com/reference/android/app/ActivityManager\" rel=\"nofollow noreferrer\">this</a> documentation. Scroll down to the section of methods. Some of the methods need permission and some of them are only intended to be used only for debugging. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":13677373,"reputation":961,"user_id":9868485,"display_name":"code4rox"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1549879193,"creation_date":1549879193,"answer_id":54627948,"question_id":54626475,"body_markdown":"There is no any way to get the all running apps in API level (&gt;21) for the security reasons.\r\n\r\n**BUT**\r\n\r\n&gt; You can access to app usage history and statistics with the time\r\n&gt; intervals: days, weeks, months, and years with `UsageStatsManager`\r\n\r\nHere is official Docs [Link][1] \r\n\r\nThe Other Apps like **clean master , ccleaner** use this technic to get running apps.\r\n\r\n[Here][2] is the Example to get apps list using `UsageStatsManager`\r\n\r\n&gt; Note: You must give  **[Usage Access Permission][3]** before use `UsageStatsManager`\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/usage/UsageStatsManager\r\n  [2]: https://stackoverflow.com/a/26622587/9868485\r\n  [3]: https://stackoverflow.com/a/42153556/9868485","title":"Android: How to check application is Running or not","body":"<p>There is no any way to get the all running apps in API level (>21) for the security reasons.</p>\n\n<p><strong>BUT</strong></p>\n\n<blockquote>\n  <p>You can access to app usage history and statistics with the time\n  intervals: days, weeks, months, and years with <code>UsageStatsManager</code></p>\n</blockquote>\n\n<p>Here is official Docs <a href=\"https://developer.android.com/reference/android/app/usage/UsageStatsManager\" rel=\"nofollow noreferrer\">Link</a> </p>\n\n<p>The Other Apps like <strong>clean master , ccleaner</strong> use this technic to get running apps.</p>\n\n<p><a href=\"https://stackoverflow.com/a/26622587/9868485\">Here</a> is the Example to get apps list using <code>UsageStatsManager</code></p>\n\n<blockquote>\n  <p>Note: You must give  <strong><a href=\"https://stackoverflow.com/a/42153556/9868485\">Usage Access Permission</a></strong> before use <code>UsageStatsManager</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":29708196,"reputation":1,"user_id":22768546,"display_name":"Iheb Mraihi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697715872,"creation_date":1697715872,"answer_id":77323479,"question_id":54626475,"body_markdown":"Add REAL_GET_TASKS permission in your AndroidManifest file. \r\n","title":"Android: How to check application is Running or not","body":"<p>Add REAL_GET_TASKS permission in your AndroidManifest file.</p>\n"}],"owner":{"account_id":14892503,"reputation":55,"user_id":10753760,"display_name":"Borisov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54627948,"answer_count":3,"score":0,"last_activity_date":1697715872,"creation_date":1549873639,"question_id":54626475,"body_markdown":"I need to check by packageName - running application or not.\r\nUntil v.21 I simply get list of running applications and dance.\r\nBut now it not working - returns only one my app.\r\nI know that I need use &quot;Statistics Usage&quot;, but can&#39;t find completely example for it.\r\n\r\nI don&#39;t need all this analytics, I need one simple function\r\n\r\n    bool isRunning(String packageName)\r\n\r\nHow to implement it on new Android (&gt;21) without dancing arround it?\r\n\r\nupd. Answer of code4rox the best. All is OK, thanks! \r\n===\r\nI use this code for check rights:\r\n\r\n    import android.content.pm.PackageManager;\r\n    import android.content.pm.ApplicationInfo;\r\n    import android.app.AppOpsManager;\r\n    import android.util.Log;\r\n    import \tandroid.provider.Settings;\r\n    \r\n    try {\r\n                PackageManager packageManager = getContext().getPackageManager();\r\n                ApplicationInfo applicationInfo = packageManager.getApplicationInfo(getContext().getPackageName(), 0);\r\n                AppOpsManager appOpsManager = (AppOpsManager) getContext().getSystemService(Context.APP_OPS_SERVICE);\r\n                int mode = appOpsManager.checkOpNoThrow(AppOpsManager.OPSTR_GET_USAGE_STATS, applicationInfo.uid, applicationInfo.packageName);\r\n                if (!(mode == AppOpsManager.MODE_ALLOWED)) {\r\n                    Intent intent = new Intent(Settings.ACTION_USAGE_ACCESS_SETTINGS);\r\n                    startActivity(intent);\r\n                }\r\n            } catch (PackageManager.NameNotFoundException e) {}\r\n\r\nAnd this for check app:\r\n\r\n    import android.util.Log;\r\n    import android.app.usage.UsageStatsManager;\r\n    import android.app.usage.UsageStats;\r\n    import java.util.List;\r\n    import java.util.SortedMap;\r\n    import java.util.TreeMap;\r\n    import java.util.ArrayList;\r\n    \r\n    public boolean isRunning(Context context, long timeMills, String app) {\r\n            boolean result = false;\r\n            //timeMils = 1000\r\n            UsageStatsManager usm = (UsageStatsManager)context.getSystemService(Context.USAGE_STATS_SERVICE);\r\n            long time = System.currentTimeMillis();\r\n            List&lt;UsageStats&gt; appList = usm.queryUsageStats(UsageStatsManager.INTERVAL_DAILY,  time - timeMills, time);\r\n            if (appList != null &amp;&amp; appList.size() &gt; 0) {\r\n                for (UsageStats usageStats : appList) {\r\n                    String appname = usageStats.getPackageName();\r\n                    Log.i(&quot;DOM_LAUNCHER&quot;, &quot;Running app: &quot; + appname);\r\n                    if (app.equals(appname)) {\r\n                        result = true;\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }","title":"Android: How to check application is Running or not","body":"<p>I need to check by packageName - running application or not.\nUntil v.21 I simply get list of running applications and dance.\nBut now it not working - returns only one my app.\nI know that I need use \"Statistics Usage\", but can't find completely example for it.</p>\n\n<p>I don't need all this analytics, I need one simple function</p>\n\n<pre><code>bool isRunning(String packageName)\n</code></pre>\n\n<p>How to implement it on new Android (>21) without dancing arround it?</p>\n\n<h1>upd. Answer of code4rox the best. All is OK, thanks!</h1>\n\n<p>I use this code for check rights:</p>\n\n<pre><code>import android.content.pm.PackageManager;\nimport android.content.pm.ApplicationInfo;\nimport android.app.AppOpsManager;\nimport android.util.Log;\nimport  android.provider.Settings;\n\ntry {\n            PackageManager packageManager = getContext().getPackageManager();\n            ApplicationInfo applicationInfo = packageManager.getApplicationInfo(getContext().getPackageName(), 0);\n            AppOpsManager appOpsManager = (AppOpsManager) getContext().getSystemService(Context.APP_OPS_SERVICE);\n            int mode = appOpsManager.checkOpNoThrow(AppOpsManager.OPSTR_GET_USAGE_STATS, applicationInfo.uid, applicationInfo.packageName);\n            if (!(mode == AppOpsManager.MODE_ALLOWED)) {\n                Intent intent = new Intent(Settings.ACTION_USAGE_ACCESS_SETTINGS);\n                startActivity(intent);\n            }\n        } catch (PackageManager.NameNotFoundException e) {}\n</code></pre>\n\n<p>And this for check app:</p>\n\n<pre><code>import android.util.Log;\nimport android.app.usage.UsageStatsManager;\nimport android.app.usage.UsageStats;\nimport java.util.List;\nimport java.util.SortedMap;\nimport java.util.TreeMap;\nimport java.util.ArrayList;\n\npublic boolean isRunning(Context context, long timeMills, String app) {\n        boolean result = false;\n        //timeMils = 1000\n        UsageStatsManager usm = (UsageStatsManager)context.getSystemService(Context.USAGE_STATS_SERVICE);\n        long time = System.currentTimeMillis();\n        List&lt;UsageStats&gt; appList = usm.queryUsageStats(UsageStatsManager.INTERVAL_DAILY,  time - timeMills, time);\n        if (appList != null &amp;&amp; appList.size() &gt; 0) {\n            for (UsageStats usageStats : appList) {\n                String appname = usageStats.getPackageName();\n                Log.i(\"DOM_LAUNCHER\", \"Running app: \" + appname);\n                if (app.equals(appname)) {\n                    result = true;\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":18127008,"reputation":103,"user_id":13182452,"display_name":"Petro Prydorozhnyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697715550,"creation_date":1697715550,"question_id":77323440,"body_markdown":"Since Spring&#39;s HTTP Interface only supports WebClient I have a question: is it ok to use it in a synchronous way?\r\n\r\nGenerally speaking, blocking calls it&#39;s not the best way to work with WebClient because it has a smaller thread pool(counting on non-blocking calls). There is a way to &quot;tune&quot; WebClient using Schedulers(like described [here](https://developer.okta.com/blog/2021/08/13/reactive-java)) but it&#39;s really not the best way to do it.\r\n\r\nso, is it OK to use Spring HTTP Interface in a blocking manner performance-wise? Does Spring avoid performance pitfalls automatically?","title":"Spring Blocking HTTP Interface Performance","body":"<p>Since Spring's HTTP Interface only supports WebClient I have a question: is it ok to use it in a synchronous way?</p>\n<p>Generally speaking, blocking calls it's not the best way to work with WebClient because it has a smaller thread pool(counting on non-blocking calls). There is a way to &quot;tune&quot; WebClient using Schedulers(like described <a href=\"https://developer.okta.com/blog/2021/08/13/reactive-java\" rel=\"nofollow noreferrer\">here</a>) but it's really not the best way to do it.</p>\n<p>so, is it OK to use Spring HTTP Interface in a blocking manner performance-wise? Does Spring avoid performance pitfalls automatically?</p>\n"},{"tags":["java","multithreading","java-stream","thread-safety"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1697714665,"post_id":77323217,"comment_id":136316013,"body_markdown":"This code is not threadsafe: `sum6.set(sum6.get() + val);`  two threads can call set with different values of get and val so one will trample on the results of the other thread","body":"This code is not threadsafe: <code>sum6.set(sum6.get() + val);</code>  two threads can call set with different values of get and val so one will trample on the results of the other thread"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697715086,"creation_date":1697715086,"answer_id":77323388,"question_id":77323217,"body_markdown":"You have unsafe code when incrementing `sum6.set(sum6.get() + val);`, you could try replacing with `DoubleAdder`:\r\n\r\n    DoubleAdder sum6 = new DoubleAdder();\r\n    numberList.stream().parallel().forEach(aDouble -&gt; {\r\n        double val = Double.parseDouble(FORMATTER.get().format(aDouble));\r\n        sum6.add(val);\r\n    });\r\n    System.out.println(sum6);\r\n\r\nAlso, `FORMATTER` is more concise and avoids anonymous class declaration if you simply use `ThreadLocal.withInitial`:\r\n\r\n    private static final ThreadLocal&lt;DecimalFormat&gt; FORMATTER =ThreadLocal.withInitial(() -&gt; new DecimalFormat(&quot;#.##&quot;));\r\n","title":"Using DecimalFormat inside parallel stream","body":"<p>You have unsafe code when incrementing <code>sum6.set(sum6.get() + val);</code>, you could try replacing with <code>DoubleAdder</code>:</p>\n<pre><code>DoubleAdder sum6 = new DoubleAdder();\nnumberList.stream().parallel().forEach(aDouble -&gt; {\n    double val = Double.parseDouble(FORMATTER.get().format(aDouble));\n    sum6.add(val);\n});\nSystem.out.println(sum6);\n</code></pre>\n<p>Also, <code>FORMATTER</code> is more concise and avoids anonymous class declaration if you simply use <code>ThreadLocal.withInitial</code>:</p>\n<pre><code>private static final ThreadLocal&lt;DecimalFormat&gt; FORMATTER =ThreadLocal.withInitial(() -&gt; new DecimalFormat(&quot;#.##&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697715173,"creation_date":1697715173,"answer_id":77323399,"question_id":77323217,"body_markdown":"If you want to use `AtomicReference`, don&#39;t use its `set` method like DuncG already said. Instead use its `accumulateAndGet` or `getAndAccumulate` method (since you don&#39;t care about the result it doesn&#39;t matter which one):\r\n```java\r\nsum6.accumulateAndGet(val, (x, y) -&gt; x + y);\r\n```\r\n\r\nSlightly better is to use `DoubleAdder` instead, as it has a simple `add` method.\r\n\r\nThe best solution however is to not update any intermediate object yourself, and let the stream collect / reduce for you:\r\n\r\n```java\r\ndouble sum6 = numberList.stream()\r\n        .parallel()\r\n        .mapToDouble(aDouble -&gt; Double.parseDouble(FORMATTER.get().format(aDouble)))\r\n        .sum();\r\n```","title":"Using DecimalFormat inside parallel stream","body":"<p>If you want to use <code>AtomicReference</code>, don't use its <code>set</code> method like DuncG already said. Instead use its <code>accumulateAndGet</code> or <code>getAndAccumulate</code> method (since you don't care about the result it doesn't matter which one):</p>\n<pre class=\"lang-java prettyprint-override\"><code>sum6.accumulateAndGet(val, (x, y) -&gt; x + y);\n</code></pre>\n<p>Slightly better is to use <code>DoubleAdder</code> instead, as it has a simple <code>add</code> method.</p>\n<p>The best solution however is to not update any intermediate object yourself, and let the stream collect / reduce for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double sum6 = numberList.stream()\n        .parallel()\n        .mapToDouble(aDouble -&gt; Double.parseDouble(FORMATTER.get().format(aDouble)))\n        .sum();\n</code></pre>\n"}],"owner":{"account_id":238386,"reputation":22323,"user_id":507256,"accept_rate":87,"display_name":"Madhur Ahuja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77323399,"answer_count":2,"score":0,"last_activity_date":1697715173,"creation_date":1697713433,"question_id":77323217,"body_markdown":"I have read that DecimalFormat is not thread safe. I wanted to check the correct way of using it inside parallelStream. See my sample code:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.text.DecimalFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.concurrent.atomic.AtomicReference;\r\n    \r\n    public class ThreadTest {\r\n        private final static DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n        private static final ThreadLocal&lt;DecimalFormat&gt; FORMATTER =\r\n                new ThreadLocal&lt;DecimalFormat&gt;() {\r\n                    @Override\r\n                    protected DecimalFormat initialValue() {\r\n                        return new DecimalFormat(&quot;#.##&quot;);\r\n                    }\r\n                };\r\n    \r\n        @Test\r\n        public void test() {\r\n    \r\n            List&lt;Double&gt; numberList = new ArrayList&lt;&gt;();\r\n            Random r = new Random();\r\n            for(int i=0;i&lt;1000;++i) {\r\n                numberList.add(r.nextDouble() * 100);\r\n            }\r\n           \r\n    \r\n            double sum = 0.0;\r\n            for(int i=0;i&lt;1000;++i) {\r\n                sum = sum + Double.parseDouble(df.format(numberList.get(i)));\r\n            }\r\n            System.out.println(sum);\r\n    \r\n            AtomicReference&lt;Double&gt; sum6 = new AtomicReference&lt;&gt;(0.0);\r\n            numberList.stream().parallel().forEach(aDouble -&gt; {\r\n                double val = Double.parseDouble(FORMATTER.get().format(aDouble));\r\n                sum6.set(sum6.get() + val);\r\n            });\r\n            System.out.println(sum6);\r\n    \r\n        }\r\n    }\r\n\r\nIn the above test case, output of `sum` and `sum6` is coming out to be different even though the `sum6` is using `ThreadLocal` instance.\r\n\r\nCan anyone help me what I am doing wrong?","title":"Using DecimalFormat inside parallel stream","body":"<p>I have read that DecimalFormat is not thread safe. I wanted to check the correct way of using it inside parallelStream. See my sample code:</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.text.DecimalFormat;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.atomic.AtomicReference;\n\npublic class ThreadTest {\n    private final static DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n    private static final ThreadLocal&lt;DecimalFormat&gt; FORMATTER =\n            new ThreadLocal&lt;DecimalFormat&gt;() {\n                @Override\n                protected DecimalFormat initialValue() {\n                    return new DecimalFormat(&quot;#.##&quot;);\n                }\n            };\n\n    @Test\n    public void test() {\n\n        List&lt;Double&gt; numberList = new ArrayList&lt;&gt;();\n        Random r = new Random();\n        for(int i=0;i&lt;1000;++i) {\n            numberList.add(r.nextDouble() * 100);\n        }\n       \n\n        double sum = 0.0;\n        for(int i=0;i&lt;1000;++i) {\n            sum = sum + Double.parseDouble(df.format(numberList.get(i)));\n        }\n        System.out.println(sum);\n\n        AtomicReference&lt;Double&gt; sum6 = new AtomicReference&lt;&gt;(0.0);\n        numberList.stream().parallel().forEach(aDouble -&gt; {\n            double val = Double.parseDouble(FORMATTER.get().format(aDouble));\n            sum6.set(sum6.get() + val);\n        });\n        System.out.println(sum6);\n\n    }\n}\n</code></pre>\n<p>In the above test case, output of <code>sum</code> and <code>sum6</code> is coming out to be different even though the <code>sum6</code> is using <code>ThreadLocal</code> instance.</p>\n<p>Can anyone help me what I am doing wrong?</p>\n"},{"tags":["java","amazon-s3","multipart","aws-sdk-java-2.0"],"owner":{"account_id":13487965,"reputation":1838,"user_id":9731186,"display_name":"charlycou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697714877,"creation_date":1697714877,"question_id":77323366,"body_markdown":"I&#39;m using the new AWS CRT-based S3 client that should automatically use Amazon S3&#39;s multipart upload API. (cf : https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/crt-based-s3-client.html).\r\n\r\nHowever, looking at the execution pile, the delegated async client created by the .crtBuilder() method is always a DefaultS3AsyncClient but never a [MultipartS3AsyncClient][1]. Hence, it doesn&#39;t perform Multipart PutObject. \r\n\r\n    S3AsyncClient s3AsyncClient = S3AsyncClient\r\n                    .crtBuilder()\r\n                    .endpointOverride(endpointUrl)\r\n                    .credentialsProvider(() -&gt; awsCredentials)\r\n                    .region(Region.of(region))\r\n                    .forcePathStyle(true)\r\n                    .build();\r\n\r\n    PutObjectRequest request = PutObjectRequest.builder()\r\n            .bucket(bucketName)\r\n            .key(key)\r\n            .build();\r\n\r\n    CompletableFuture&lt;PutObjectResponse&gt; putResponse = s3AsyncClient.putObject(\r\n            request,\r\n            AsyncRequestBody.fromInputStream(multiPartfile.getInputStream(), multiPartfile.getSize(), Executors.newFixedThreadPool(2))\r\n    );\r\n\r\nCan you explain if this is the expected behaviour and how to perform multipart put request using these &quot;high-level&quot; API AWS CRT-based S3 client or S3TransferManager?\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/internal/multipart/MultipartS3AsyncClient.html","title":"How to enable Multipart PutObject request using java AWS CRT-based S3 client?","body":"<p>I'm using the new AWS CRT-based S3 client that should automatically use Amazon S3's multipart upload API. (cf : <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/crt-based-s3-client.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/crt-based-s3-client.html</a>).</p>\n<p>However, looking at the execution pile, the delegated async client created by the .crtBuilder() method is always a DefaultS3AsyncClient but never a <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/internal/multipart/MultipartS3AsyncClient.html\" rel=\"nofollow noreferrer\">MultipartS3AsyncClient</a>. Hence, it doesn't perform Multipart PutObject.</p>\n<pre><code>S3AsyncClient s3AsyncClient = S3AsyncClient\n                .crtBuilder()\n                .endpointOverride(endpointUrl)\n                .credentialsProvider(() -&gt; awsCredentials)\n                .region(Region.of(region))\n                .forcePathStyle(true)\n                .build();\n\nPutObjectRequest request = PutObjectRequest.builder()\n        .bucket(bucketName)\n        .key(key)\n        .build();\n\nCompletableFuture&lt;PutObjectResponse&gt; putResponse = s3AsyncClient.putObject(\n        request,\n        AsyncRequestBody.fromInputStream(multiPartfile.getInputStream(), multiPartfile.getSize(), Executors.newFixedThreadPool(2))\n);\n</code></pre>\n<p>Can you explain if this is the expected behaviour and how to perform multipart put request using these &quot;high-level&quot; API AWS CRT-based S3 client or S3TransferManager?</p>\n"},{"tags":["java","spring","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1697833806,"post_id":77323233,"comment_id":136334025,"body_markdown":"should not give any version for the plugin also mainClass is not required, please [check](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.1.5&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=native) spring boot suppose to manage the version and mainclass","body":"should not give any version for the plugin also mainClass is not required, please <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.1.5&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=native\" rel=\"nofollow noreferrer\">check</a> spring boot suppose to manage the version and mainclass"}],"owner":{"account_id":11158441,"reputation":1,"user_id":8189416,"display_name":"Muhammet Baki Mermer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697714595,"creation_date":1697713615,"question_id":77323233,"body_markdown":"When I want to build the spring boot application with &quot;native-maven-plugin&quot;, I get the error I shared. I am sharing my pom file and build output.\r\n\r\nSpring Boot 3.1.4\r\nGraalvm 21\r\n\r\nPom:\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.27&lt;/version&gt;\r\n\r\n            &lt;configuration&gt;\r\n                &lt;mainClass&gt;tr.com.test.test2.guide.microservices.ui.server.UIServer&lt;/mainClass&gt;\r\n                &lt;verbose&gt;true&lt;/verbose&gt;\r\n                &lt;buildArgs&gt;\r\n                    &lt;buildArg&gt;-H:+ReportExceptionStackTraces&lt;/buildArg&gt;\r\n                &lt;/buildArgs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nBuild Output:\r\n\r\n```\r\n[1/8] Initializing...                                                                                    (0,0s @ 0,17GB)\r\nError: Element in class initialization configuration must end in :run_t�me, :rerun, or :bu�ld_t�me. Found: org.springframework.aot.nativex.feature.ThrowawayClassLoader:build_time (from &#39;META-INF\\native-image\\org.springframework\\spring-core\\native-image.properties&#39; in &#39;file:///C:/Users/userXXX/.m2/repository-default/org/springframework/spring-core/6.0.12/spring-core-6.0.12.jar&#39;)\r\ncom.oracle.svm.core.util.UserError$UserException: Element in class initialization configuration must end in :run_t�me, :rerun, or :bu�ld_t�me. Found: org.springframework.aot.nativex.feature.ThrowawayClassLoader:build_time (from &#39;META-INF\\native-image\\org.springframework\\spring-core\\native-image.properties&#39; in &#39;file:///C:/Users/userXXX/.m2/repository-default/org/springframework/spring-core/6.0.12/spring-core-6.0.12.jar&#39;)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.util.UserError.abort(UserError.java:73)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.lambda$processClassInitializationOptions$1(ClassInitializationFeature.java:86)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.processClassInitializationOptions(ClassInitializationFeature.java:81)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.setupNativeImage(NativeImageGenerator.java:880)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.doRun(NativeImageGenerator.java:591)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.run(NativeImageGenerator.java:551)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:538)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:720)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:142)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:97)\r\n------------------------------------------------------------------------------------------------------------------------\r\n                        0,2s (8,1% of total time) in 12 GCs | Peak RSS: 0,55GB | CPU load: 5,48\r\nError: ImageSingletons do not contain key com.oracle.svm.hosted.ProgressReporterFeature\r\n```\r\n\r\nI was expecting it to build successfully.","title":"Spring boot Native Image build error: Element in class initialization configuration must end in","body":"<p>When I want to build the spring boot application with &quot;native-maven-plugin&quot;, I get the error I shared. I am sharing my pom file and build output.</p>\n<p>Spring Boot 3.1.4\nGraalvm 21</p>\n<p>Pom:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n            &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.9.27&lt;/version&gt;\n\n            &lt;configuration&gt;\n                &lt;mainClass&gt;tr.com.test.test2.guide.microservices.ui.server.UIServer&lt;/mainClass&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;buildArgs&gt;\n                    &lt;buildArg&gt;-H:+ReportExceptionStackTraces&lt;/buildArg&gt;\n                &lt;/buildArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Build Output:</p>\n<pre><code>[1/8] Initializing...                                                                                    (0,0s @ 0,17GB)\nError: Element in class initialization configuration must end in :run_t�me, :rerun, or :bu�ld_t�me. Found: org.springframework.aot.nativex.feature.ThrowawayClassLoader:build_time (from 'META-INF\\native-image\\org.springframework\\spring-core\\native-image.properties' in 'file:///C:/Users/userXXX/.m2/repository-default/org/springframework/spring-core/6.0.12/spring-core-6.0.12.jar')\ncom.oracle.svm.core.util.UserError$UserException: Element in class initialization configuration must end in :run_t�me, :rerun, or :bu�ld_t�me. Found: org.springframework.aot.nativex.feature.ThrowawayClassLoader:build_time (from 'META-INF\\native-image\\org.springframework\\spring-core\\native-image.properties' in 'file:///C:/Users/userXXX/.m2/repository-default/org/springframework/spring-core/6.0.12/spring-core-6.0.12.jar')\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.UserError.abort(UserError.java:73)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.lambda$processClassInitializationOptions$1(ClassInitializationFeature.java:86)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.processClassInitializationOptions(ClassInitializationFeature.java:81)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.setupNativeImage(NativeImageGenerator.java:880)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.doRun(NativeImageGenerator.java:591)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGenerator.run(NativeImageGenerator.java:551)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:538)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:720)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:142)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:97)\n------------------------------------------------------------------------------------------------------------------------\n                        0,2s (8,1% of total time) in 12 GCs | Peak RSS: 0,55GB | CPU load: 5,48\nError: ImageSingletons do not contain key com.oracle.svm.hosted.ProgressReporterFeature\n</code></pre>\n<p>I was expecting it to build successfully.</p>\n"},{"tags":["java","postgresql","mybatis","spring-mybatis","mybatis-mapper"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1697621915,"post_id":77314012,"comment_id":136301874,"body_markdown":"Please include the entire stack trace, not just the message part. If you expect `byte[]`, the `resultType` should be `_byte[]` (`byte[]` means `java.lang.Byte[]`. It&#39;s explained in the [doc](https://mybatis.org/mybatis-3/configuration.html#typealiases)). If it does not fix the problem, please consider providing a small demo project like [these](https://github.com/harawata/mybatis-issues) so that we can reproduce the problem on our end.","body":"Please include the entire stack trace, not just the message part. If you expect <code>byte[]</code>, the <code>resultType</code> should be <code>_byte[]</code> (<code>byte[]</code> means <code>java.lang.Byte[]</code>. It&#39;s explained in the <a href=\"https://mybatis.org/mybatis-3/configuration.html#typealiases\" rel=\"nofollow noreferrer\">doc</a>). If it does not fix the problem, please consider providing a small demo project like <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">these</a> so that we can reproduce the problem on our end."},{"owner":{"account_id":4724155,"reputation":444,"user_id":3821301,"accept_rate":100,"display_name":"Rajeev"},"score":0,"creation_date":1697627160,"post_id":77314012,"comment_id":136302873,"body_markdown":"@ave the _byte[] didnot solve the issue. Attched the stack trace. I will try to upload the small demo project as asked by you in sometime. Thanks","body":"@ave the _byte[] didnot solve the issue. Attched the stack trace. I will try to upload the small demo project as asked by you in sometime. Thanks"},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1697631802,"post_id":77314012,"comment_id":136303795,"body_markdown":"When there is a mapper interface, the return type of the method should be `Object`, not `byte[]` (you can cast it to `byte[]`). It is a little bit tricky, but when the return type is `byte[]`, MyBatis expects multiple rows with a column of `byte`.","body":"When there is a mapper interface, the return type of the method should be <code>Object</code>, not <code>byte[]</code> (you can cast it to <code>byte[]</code>). It is a little bit tricky, but when the return type is <code>byte[]</code>, MyBatis expects multiple rows with a column of <code>byte</code>."},{"owner":{"account_id":4724155,"reputation":444,"user_id":3821301,"accept_rate":100,"display_name":"Rajeev"},"score":0,"creation_date":1697696168,"post_id":77314012,"comment_id":136312700,"body_markdown":"Thanks @ave . You soultion and explaination helped me a lot and solved my issue. I will accept your answer if you reply to my question","body":"Thanks @ave . You soultion and explaination helped me a lot and solved my issue. I will accept your answer if you reply to my question"}],"answers":[{"tags":[],"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697714429,"creation_date":1697714429,"answer_id":77323314,"question_id":77314012,"body_markdown":"When you expect primitive `byte[]`, the result type should be `_byte[]`.  \r\nThis is because `byte` is an alias of `java.lang.Byte` (see the [doc](https://mybatis.org/mybatis-3/configuration.html#typealiases)).  \r\n\r\n```xml\r\n&lt;select id=&quot;getPhoto&quot; resultType=&quot;_byte[]&quot;&gt;\r\n...\r\n```\r\n\r\nAlso, when there is a Java mapper interface and the return type of the mapper method is `byte[]`, MyBatis expects multiple rows with a column of `byte`.  \r\nSo, the return type of the method must be `Object` in that case.  \r\nYou should be able to cast the returned object to `byte[]`.\r\n\r\nOptionally, it is possible to define a default method in the interface that performs the cast.\r\n\r\n```java\r\ninterface YourMapper {\r\n  Object _getPhoto(String param);\r\n\r\n  default byte[] getPhoto(String param) {\r\n    return (byte[])_getPhoto(param);\r\n  }\r\n}\r\n```\r\n","title":"What is resultType for bytea column of postgres while retrieving using mbatis mapper?","body":"<p>When you expect primitive <code>byte[]</code>, the result type should be <code>_byte[]</code>.<br />\nThis is because <code>byte</code> is an alias of <code>java.lang.Byte</code> (see the <a href=\"https://mybatis.org/mybatis-3/configuration.html#typealiases\" rel=\"nofollow noreferrer\">doc</a>).</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;getPhoto&quot; resultType=&quot;_byte[]&quot;&gt;\n...\n</code></pre>\n<p>Also, when there is a Java mapper interface and the return type of the mapper method is <code>byte[]</code>, MyBatis expects multiple rows with a column of <code>byte</code>.<br />\nSo, the return type of the method must be <code>Object</code> in that case.<br />\nYou should be able to cast the returned object to <code>byte[]</code>.</p>\n<p>Optionally, it is possible to define a default method in the interface that performs the cast.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface YourMapper {\n  Object _getPhoto(String param);\n\n  default byte[] getPhoto(String param) {\n    return (byte[])_getPhoto(param);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4724155,"reputation":444,"user_id":3821301,"accept_rate":100,"display_name":"Rajeev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77323314,"answer_count":1,"score":0,"last_activity_date":1697714429,"creation_date":1697611528,"question_id":77314012,"body_markdown":"I have a query which returns data from ***bytea*** column from postgres.\r\nThe data type used at java side is **byte[]**\r\n\r\nThe query in mybatis mapper is like below :\r\n\r\n\r\n    &lt;select id=&quot;getPhoto&quot; parameterType=&quot;java.lang.String&quot; resultType=&quot;byte[]&quot;&gt; \r\n            SELECT bbu.photo\r\n            FROM bigbox_user bbu\r\n            WHERE bbu.user_id = #{userId};\r\n     &lt;/select&gt;\r\n\r\nBut with this, i am getting an error related to argument mismatch. It clearly says resultType is not correctly used.\r\n\r\n**java.lang.IllegalArgumentException: argument type mismatch**\r\n\r\nI have changed value for resultType to various names like Byte, org.apache.ibatis.type.ByteArrayTypeHandler, byt, java.lang.String etc. But nothing works.\r\n\r\nIf we use a resultMap it works, but I have to use the Entire class . ResultMap is some thing like below :\r\n\r\n     &lt;resultMap id=&quot;photoMap&quot; type=&quot;BigBoxUser&quot;&gt;\r\n            &lt;id property=&quot;userId&quot; column=&quot;user_id&quot;/&gt;\r\n            &lt;result property=&quot;photo&quot; column=&quot;photo&quot; jdbcType=&quot;OTHER&quot; typeHandler=&quot;org.apache.ibatis.type.ByteArrayTypeHandler&quot;/&gt;\r\n        &lt;/resultMap&gt; \r\n\r\n**Question:**\r\nBut here the problem is we need to use entire Class BigBoxUser. Any way we can make it work with **resultType** alone?\r\n\r\n*Stacktrace when resultType is _byte[]:-*\r\n\r\n    023-10-18 16:30:38.299 | [ERROR] | [main] | util.Util | Failed to get profile photo of the xxxxxxx user with the userId &lt;xxxxx&gt;. | java.lang.IllegalArgumentException: argument type mismatch\r\n    \tat java.base/java.lang.reflect.Array.set(Native Method)\r\n    \tat org.apache.ibatis.binding.MapperMethod.convertToArray(MapperMethod.java:186)\r\n    \tat org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:152)\r\n    \tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)\r\n    \tat org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)\r\n    \tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy102.getProfilePhoto(Unknown Source)\r\n    \tat com.pixtel.sharebox.realm.jdbc.ShareBoxUserDAO.getUserPhoto(ShareBoxUserDAO.java:75)\r\n    \tat com.pixtel.sharebox.realm.jdbc.UserMapperService.getUserPhoto(UserMapperService.java:54)\r\n    \tat com.pixtel.sharebox.realm.jdbc.UserMgmtController.getUserPhoto(UserMgmtController.java:73)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n    \tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)\r\n    \tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\r\n    \tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n    \tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:168)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n    \tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\r\n    \tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\r\n    \tat com.pixtel.sharebox.test.TestShareBoxUser.testGetUserPhoto(TestShareBoxUser.java:177)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestTemplateMethod(TimeoutExtension.java:94)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:226)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:204)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:142)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:110)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.IntPipeline$1$1.accept(IntPipeline.java:180)\r\n    \tat java.base/java.util.stream.Streams$RangeIntSpliterator.forEachRemaining(Streams.java:108)\r\n    \tat java.base/java.util.Spliterator$OfInt.forEachRemaining(Spliterator.java:711)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n    \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:110)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:44)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n    \tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n","title":"What is resultType for bytea column of postgres while retrieving using mbatis mapper?","body":"<p>I have a query which returns data from <em><strong>bytea</strong></em> column from postgres.\nThe data type used at java side is <strong>byte[]</strong></p>\n<p>The query in mybatis mapper is like below :</p>\n<pre><code>&lt;select id=&quot;getPhoto&quot; parameterType=&quot;java.lang.String&quot; resultType=&quot;byte[]&quot;&gt; \n        SELECT bbu.photo\n        FROM bigbox_user bbu\n        WHERE bbu.user_id = #{userId};\n &lt;/select&gt;\n</code></pre>\n<p>But with this, i am getting an error related to argument mismatch. It clearly says resultType is not correctly used.</p>\n<p><strong>java.lang.IllegalArgumentException: argument type mismatch</strong></p>\n<p>I have changed value for resultType to various names like Byte, org.apache.ibatis.type.ByteArrayTypeHandler, byt, java.lang.String etc. But nothing works.</p>\n<p>If we use a resultMap it works, but I have to use the Entire class . ResultMap is some thing like below :</p>\n<pre><code> &lt;resultMap id=&quot;photoMap&quot; type=&quot;BigBoxUser&quot;&gt;\n        &lt;id property=&quot;userId&quot; column=&quot;user_id&quot;/&gt;\n        &lt;result property=&quot;photo&quot; column=&quot;photo&quot; jdbcType=&quot;OTHER&quot; typeHandler=&quot;org.apache.ibatis.type.ByteArrayTypeHandler&quot;/&gt;\n    &lt;/resultMap&gt; \n</code></pre>\n<p><strong>Question:</strong>\nBut here the problem is we need to use entire Class BigBoxUser. Any way we can make it work with <strong>resultType</strong> alone?</p>\n<p><em>Stacktrace when resultType is _byte[]:-</em></p>\n<pre><code>023-10-18 16:30:38.299 | [ERROR] | [main] | util.Util | Failed to get profile photo of the xxxxxxx user with the userId &lt;xxxxx&gt;. | java.lang.IllegalArgumentException: argument type mismatch\n    at java.base/java.lang.reflect.Array.set(Native Method)\n    at org.apache.ibatis.binding.MapperMethod.convertToArray(MapperMethod.java:186)\n    at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:152)\n    at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)\n    at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)\n    at jdk.proxy2/jdk.proxy2.$Proxy102.getProfilePhoto(Unknown Source)\n    at com.pixtel.sharebox.realm.jdbc.ShareBoxUserDAO.getUserPhoto(ShareBoxUserDAO.java:75)\n    at com.pixtel.sharebox.realm.jdbc.UserMapperService.getUserPhoto(UserMapperService.java:54)\n    at com.pixtel.sharebox.realm.jdbc.UserMgmtController.getUserPhoto(UserMgmtController.java:73)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:168)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n    at com.pixtel.sharebox.test.TestShareBoxUser.testGetUserPhoto(TestShareBoxUser.java:177)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestTemplateMethod(TimeoutExtension.java:94)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:226)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:204)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:142)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:110)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.IntPipeline$1$1.accept(IntPipeline.java:180)\n    at java.base/java.util.stream.Streams$RangeIntSpliterator.forEachRemaining(Streams.java:108)\n    at java.base/java.util.Spliterator$OfInt.forEachRemaining(Spliterator.java:711)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:110)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:44)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":22510311,"reputation":21,"user_id":16705339,"display_name":"user16705339"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657732825,"creation_date":1657732825,"answer_id":72970267,"question_id":72964599,"body_markdown":"I am answering my problem just because to help out people who couldn&#39;t solve it.\r\n\r\nThe main thing here is,\r\nwe have to add the dependencies before the &quot;// Top level build....&quot;.\r\n\r\nI solved it sometimes before with a help.\r\n\r\nThe code should be:\r\n\r\n```\r\ndependencies {\r\n  classpath &#39;com.google.gms:google-services:4.3.13&#39;\r\n}\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\nThis is the main solve. You can add more classpaths if you want.","title":"how can I add google services classpath for firebase in build.gradle of new android studio","body":"<p>I am answering my problem just because to help out people who couldn't solve it.</p>\n<p>The main thing here is,\nwe have to add the dependencies before the &quot;// Top level build....&quot;.</p>\n<p>I solved it sometimes before with a help.</p>\n<p>The code should be:</p>\n<pre><code>dependencies {\n  classpath 'com.google.gms:google-services:4.3.13'\n}\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.2.1' apply false\n    id 'com.android.library' version '7.2.1' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>This is the main solve. You can add more classpaths if you want.</p>\n"},{"tags":[],"owner":{"account_id":25802565,"reputation":31,"user_id":19544705,"display_name":"Saiful Anwar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697714298,"creation_date":1657741851,"answer_id":72971876,"question_id":72964599,"body_markdown":"\r\n\r\n\r\n    buildscript {\r\n        dependencies {\r\n            classpath &#39;com.google.gms:google-services:4.3.13&#39;\r\n        }\r\n    }\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.0&#39; apply false\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n\r\nhappy code!!!","title":"how can I add google services classpath for firebase in build.gradle of new android studio","body":"<pre><code>buildscript {\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.13'\n    }\n}\n\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.2.1' apply false\n    id 'com.android.library' version '7.2.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.7.0' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>happy code!!!</p>\n"}],"owner":{"account_id":22510311,"reputation":21,"user_id":16705339,"display_name":"user16705339"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72970267,"answer_count":2,"score":0,"last_activity_date":1697714298,"creation_date":1657707365,"question_id":72964599,"body_markdown":"My project&#39;s build.gradle code =\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\nI am trying to add\r\n```classpath &#39;com.google.gms:google-services:4.3.13&#39;``` in my project&#39;s build.gradle file but am not getting any space to paste. Even I have tried putting this before and after plugins =\r\n```\r\ndependencies {\r\n  classpath &#39;com.google.gms:google-services:4.3.13&#39;\r\n}\r\n``` \r\nStill I am having problem. I also have tried to insert plugins inside dependencies but problem still occurs.\r\n\r\nNow, I need a solution.","title":"how can I add google services classpath for firebase in build.gradle of new android studio","body":"<p>My project's build.gradle code =</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.2.1' apply false\n    id 'com.android.library' version '7.2.1' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>I am trying to add\n<code>classpath 'com.google.gms:google-services:4.3.13'</code> in my project's build.gradle file but am not getting any space to paste. Even I have tried putting this before and after plugins =</p>\n<pre><code>dependencies {\n  classpath 'com.google.gms:google-services:4.3.13'\n}\n</code></pre>\n<p>Still I am having problem. I also have tried to insert plugins inside dependencies but problem still occurs.</p>\n<p>Now, I need a solution.</p>\n"},{"tags":["java","c#"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1697714369,"post_id":77323246,"comment_id":136315958,"body_markdown":"Is `byte[] fileContent` and `fileContent.getBytes()` identical?","body":"Is <code>byte[] fileContent</code> and <code>fileContent.getBytes()</code> identical?"},{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1697715226,"post_id":77323246,"comment_id":136316110,"body_markdown":"If you want the original bytes, why are you loading the file as a *string* to start with? I strongly suspect that the bytes you&#39;re hashing in the C# are not the same as the bytes you&#39;re hashing in the Java code. But without a [mcve], we really can&#39;t tell for sure.","body":"If you want the original bytes, why are you loading the file as a <i>string</i> to start with? I strongly suspect that the bytes you&#39;re hashing in the C# are not the same as the bytes you&#39;re hashing in the Java code. But without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, we really can&#39;t tell for sure."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697726787,"post_id":77323246,"comment_id":136318542,"body_markdown":"You are calling String.format, and therefore *creating a new Formatter object,* for every single byte.  You don’t need a StringBuilder or a for-loop anymore;  just use [HexFormat.of().formatHex(b)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HexFormat.html).","body":"You are calling String.format, and therefore <i>creating a new Formatter object,</i> for every single byte.  You don’t need a StringBuilder or a for-loop anymore;  just use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HexFormat.html\" rel=\"nofollow noreferrer\">HexFormat.of().formatHex(b)</a>."},{"owner":{"account_id":29707681,"reputation":1,"user_id":22768154,"display_name":"Jegathees Waran"},"score":0,"creation_date":1697784752,"post_id":77323246,"comment_id":136325582,"body_markdown":"Thank you Knittl and Jon Skeet. I could not see and issue in byte conversion in both the programs.","body":"Thank you Knittl and Jon Skeet. I could not see and issue in byte conversion in both the programs."},{"owner":{"account_id":29707681,"reputation":1,"user_id":22768154,"display_name":"Jegathees Waran"},"score":0,"creation_date":1697798836,"post_id":77323246,"comment_id":136328096,"body_markdown":"Hi VGR,  Thank you for reply.  I have come to know that HexFormat (java.util) is available from Java 17 onwards our version is Java 8. Could you please tell me is there any equivalent command in Java 8 to do this. Thank you.","body":"Hi VGR,  Thank you for reply.  I have come to know that HexFormat (java.util) is available from Java 17 onwards our version is Java 8. Could you please tell me is there any equivalent command in Java 8 to do this. Thank you."}],"owner":{"account_id":29707681,"reputation":1,"user_id":22768154,"display_name":"Jegathees Waran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697714111,"creation_date":1697713730,"question_id":77323246,"body_markdown":"I struggle to implement the following C# code in Java to get SHA 512 value for given input.\r\n\r\n   C#\r\n\r\n\r\n```c#\r\nprivate static string GenerateHash (byte[] fileContent)\r\n{\r\n    string result = string.Empty;\r\n\r\n    byte[] hash;\r\n\r\n    using (SHA512 shaM = SHA512.Create())\r\n    {\r\n        hash = shaM.ComputeHash(fileContent);\r\n    }\r\n\r\n    if(hash != null)\r\n    {\r\n        foreach (byte x in hash)\r\n        {\r\n            result += $&quot;{x:x2}&quot;;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n```\r\n\r\n Java\r\n\r\n```java\r\npublic class SHA512HashGenerator {\r\n    public static void main(String[] args) throws NoSuchAlgorithmException,  {\r\n        String file = &quot;HashString.txt&quot;;\r\n        String fileContent = convertToString(file); \r\n        MessageDigest messageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n        messageDigest.update(fileContent.getBytes());\r\n        byte[] digest = messageDigest.digest();\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        for (byte b : digest) {\r\n            stringBuilder.append(String.format(&quot;%02x&quot;, b));\r\n        }\r\n        System.out.println(stringBuilder.toString());\r\n    }\r\n}\r\n```\r\n\r\n\r\nBoth programs give different SHA 512 value for same input. \r\n\r\nI tried to input Base64 based string and executed Java program. The SHA 512 value which produced by Java Program is not matching with SHA 512 given by C#. (Only length is matched - 128 chars)\r\n\r\nCould you please clarify what change is required in Java Program to achieve this?","title":"How to implement C# SHA512 code snippet in Java?","body":"<p>I struggle to implement the following C# code in Java to get SHA 512 value for given input.</p>\n<p>C#</p>\n<pre class=\"lang-cs prettyprint-override\"><code>private static string GenerateHash (byte[] fileContent)\n{\n    string result = string.Empty;\n\n    byte[] hash;\n\n    using (SHA512 shaM = SHA512.Create())\n    {\n        hash = shaM.ComputeHash(fileContent);\n    }\n\n    if(hash != null)\n    {\n        foreach (byte x in hash)\n        {\n            result += $&quot;{x:x2}&quot;;\n        }\n    }\n\n    return result;\n}\n</code></pre>\n<p>Java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SHA512HashGenerator {\n    public static void main(String[] args) throws NoSuchAlgorithmException,  {\n        String file = &quot;HashString.txt&quot;;\n        String fileContent = convertToString(file); \n        MessageDigest messageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;);\n        messageDigest.update(fileContent.getBytes());\n        byte[] digest = messageDigest.digest();\n        StringBuilder stringBuilder = new StringBuilder();\n        for (byte b : digest) {\n            stringBuilder.append(String.format(&quot;%02x&quot;, b));\n        }\n        System.out.println(stringBuilder.toString());\n    }\n}\n</code></pre>\n<p>Both programs give different SHA 512 value for same input.</p>\n<p>I tried to input Base64 based string and executed Java program. The SHA 512 value which produced by Java Program is not matching with SHA 512 given by C#. (Only length is matched - 128 chars)</p>\n<p>Could you please clarify what change is required in Java Program to achieve this?</p>\n"},{"tags":["java","spring","yaml","spring-boot"],"comments":[{"owner":{"account_id":7587835,"reputation":1,"user_id":5756350,"display_name":"H&#229;vard Semundseth"},"score":0,"creation_date":1452155039,"post_id":23134869,"comment_id":57045840,"body_markdown":"Maybe this approach may work:\nhttp://stackoverflow.com/questions/28303758/how-to-use-yamlpropertiesfactorybean-to-load-yaml-files-using-spring-framework-4","body":"Maybe this approach may work: <a href=\"http://stackoverflow.com/questions/28303758/how-to-use-yamlpropertiesfactorybean-to-load-yaml-files-using-spring-framework-4\" title=\"how to use yamlpropertiesfactorybean to load yaml files using spring framework 4\">stackoverflow.com/questions/28303758/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1397743060,"creation_date":1397743060,"answer_id":23135183,"question_id":23134869,"body_markdown":"`@PropertySource` does not support YAML (probably it will in Spring 4.1). You can set `spring.config.location` or `spring.config.name` to a comma-separated list (e.g. as System property or command line argument).\r\n\r\nPersonally I like all my YAML in the same place (the structure really helps to break it up visually, and you can use documents inside the file to split it up more). That&#39;s just taste I guess.","title":"Spring Boot: how to use multiple yml files","body":"<p><code>@PropertySource</code> does not support YAML (probably it will in Spring 4.1). You can set <code>spring.config.location</code> or <code>spring.config.name</code> to a comma-separated list (e.g. as System property or command line argument).</p>\n\n<p>Personally I like all my YAML in the same place (the structure really helps to break it up visually, and you can use documents inside the file to split it up more). That's just taste I guess.</p>\n"},{"tags":[],"owner":{"account_id":6393132,"reputation":412,"user_id":4958522,"display_name":"Jalal Sajadi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1471262865,"creation_date":1471262865,"answer_id":38954784,"question_id":23134869,"body_markdown":"You can use active profile concept in your main yaml file. For example:\r\n\r\n    spring.profiles.active: test\r\n\r\nthat means you should have `application-test.yml` file in your resource directory. Consider that active profiles will override properties with the same names in your main yaml file.\r\n\r\nFor more information visit:\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html","title":"Spring Boot: how to use multiple yml files","body":"<p>You can use active profile concept in your main yaml file. For example:</p>\n\n<pre><code>spring.profiles.active: test\n</code></pre>\n\n<p>that means you should have <code>application-test.yml</code> file in your resource directory. Consider that active profiles will override properties with the same names in your main yaml file.</p>\n\n<p>For more information visit:\n<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html</a></p>\n"},{"tags":[],"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1478670447,"creation_date":1478670027,"answer_id":40500683,"question_id":23134869,"body_markdown":"0. remove `@PropertySource` annotation, you not need it\r\n1. rename your `scheduling.yml` into `src/main/resources/application-scheduling.yml`\r\n2. add in `src/main/resources/application.yml` file next line: \r\n\r\n    `spring.profiles.include: &#39;scheduling&#39;`\r\n\r\n","title":"Spring Boot: how to use multiple yml files","body":"<ol>\n<li>remove <code>@PropertySource</code> annotation, you not need it</li>\n<li>rename your <code>scheduling.yml</code> into <code>src/main/resources/application-scheduling.yml</code></li>\n<li><p>add in <code>src/main/resources/application.yml</code> file next line: </p>\n\n<p><code>spring.profiles.include: 'scheduling'</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1494727216,"creation_date":1492388638,"answer_id":43443555,"question_id":23134869,"body_markdown":"if I have a lot of configurations and/or environments, usually I do so:\r\n\r\n    $ cat src/main/resources/application.yml:\r\n    spring:\r\n      profiles:\r\n        include: &gt;\r\n          profile1,\r\n          profile2,\r\n          ...\r\n          profileN\r\n\r\n    $ ls -lah src/main/resources/config:\r\n    drwxr-xr-x  4 mak  staff   136B Apr 16 23:58 .\r\n    drwxr-xr-x  6 mak  staff   204B Apr 17 01:54 ..\r\n    -rw-r--r--  1 mak  staff    60B Apr 16 23:58 application-profile1.yml\r\n    -rw-r--r--  1 mak  staff    62B Apr 16 23:16 application-profile2.yml\r\n    ...\r\n    -rw-r--r--  1 mak  staff    50B Apr 16 23:16 application-profileN.yml\r\n","title":"Spring Boot: how to use multiple yml files","body":"<p>if I have a lot of configurations and/or environments, usually I do so:</p>\n\n<pre><code>$ cat src/main/resources/application.yml:\nspring:\n  profiles:\n    include: &gt;\n      profile1,\n      profile2,\n      ...\n      profileN\n\n$ ls -lah src/main/resources/config:\ndrwxr-xr-x  4 mak  staff   136B Apr 16 23:58 .\ndrwxr-xr-x  6 mak  staff   204B Apr 17 01:54 ..\n-rw-r--r--  1 mak  staff    60B Apr 16 23:58 application-profile1.yml\n-rw-r--r--  1 mak  staff    62B Apr 16 23:16 application-profile2.yml\n...\n-rw-r--r--  1 mak  staff    50B Apr 16 23:16 application-profileN.yml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7113112,"reputation":1881,"user_id":5440323,"display_name":"Deva"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1547192760,"creation_date":1547192760,"answer_id":54142293,"question_id":23134869,"body_markdown":"Suppose your application need 4 .yml files.\r\n\r\n    application.yml\r\n    application-dev.yml\r\n    application-uat.yml\r\n    application-prod.yml\r\nand you have to set different setting for each file.\r\n\r\nYou just need to set your setting on appropriate environment such as dev, uat ot prod level and the have to add just one property in `application.yml` file. \r\n\r\n      spring:  \r\n        profiles:\r\n           active: dev\r\n        application: /* optional */\r\n           name: Application Name \r\n\r\n","title":"Spring Boot: how to use multiple yml files","body":"<p>Suppose your application need 4 .yml files.</p>\n\n<pre><code>application.yml\napplication-dev.yml\napplication-uat.yml\napplication-prod.yml\n</code></pre>\n\n<p>and you have to set different setting for each file.</p>\n\n<p>You just need to set your setting on appropriate environment such as dev, uat ot prod level and the have to add just one property in <code>application.yml</code> file. </p>\n\n<pre><code>  spring:  \n    profiles:\n       active: dev\n    application: /* optional */\n       name: Application Name \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9945374,"reputation":620,"user_id":7361008,"display_name":"Tomas F."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697714106,"creation_date":1695829717,"answer_id":77189040,"question_id":23134869,"body_markdown":"All answers are fiddling with profiles. \r\n\r\nHowever as stated here:\r\nhttps://www.baeldung.com/spring-boot-load-multiple-yaml-configuration-files\r\n\r\n&gt; &#39;While this method works,  a drawback is that it uses the Spring\r\n&gt; profiles functionality in a way that is most likely not intended by\r\n&gt; the implementation.&#39;\r\n\r\nProbably, the cleaner way would be\r\n\r\n    @Configuration\r\n    @ConfigurationProperties\r\n    @PropertySources({\r\n            @PropertySource(value = &quot;classpath:application-teachers.yml&quot;, factory = MultipleYamlPropertySourceFactory.class),\r\n    public class MultipleYamlConfiguration {\r\n    \r\n        List&lt;String&gt; teachers;    \r\n    \r\n    }","title":"Spring Boot: how to use multiple yml files","body":"<p>All answers are fiddling with profiles.</p>\n<p>However as stated here:\n<a href=\"https://www.baeldung.com/spring-boot-load-multiple-yaml-configuration-files\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-load-multiple-yaml-configuration-files</a></p>\n<blockquote>\n<p>'While this method works,  a drawback is that it uses the Spring\nprofiles functionality in a way that is most likely not intended by\nthe implementation.'</p>\n</blockquote>\n<p>Probably, the cleaner way would be</p>\n<pre><code>@Configuration\n@ConfigurationProperties\n@PropertySources({\n        @PropertySource(value = &quot;classpath:application-teachers.yml&quot;, factory = MultipleYamlPropertySourceFactory.class),\npublic class MultipleYamlConfiguration {\n\n    List&lt;String&gt; teachers;    \n\n}\n</code></pre>\n"}],"owner":{"account_id":310140,"reputation":1104,"user_id":622975,"accept_rate":71,"display_name":"Johan Frick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90466,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":23135183,"answer_count":6,"score":50,"last_activity_date":1697714106,"creation_date":1397742319,"question_id":23134869,"body_markdown":"In Spring Boot, I know that I can replace application.properties with application.yml and use the YAML format.\r\nHowever, my application.yml is getting crowded so I need to split it up a bit. How can I do that? I would like to do something like this:\r\n\r\n    ...\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @EnableWebMvc\r\n    @EnableScheduling\r\n    @PropertySource({&quot;classpath:application.yml&quot;, &quot;classpath:scheduling.yml&quot;})\r\n    public class ApplicationConfig {\r\n    ...","title":"Spring Boot: how to use multiple yml files","body":"<p>In Spring Boot, I know that I can replace application.properties with application.yml and use the YAML format.\nHowever, my application.yml is getting crowded so I need to split it up a bit. How can I do that? I would like to do something like this:</p>\n\n<pre><code>...\n@Configuration\n@EnableAutoConfiguration\n@EnableWebMvc\n@EnableScheduling\n@PropertySource({\"classpath:application.yml\", \"classpath:scheduling.yml\"})\npublic class ApplicationConfig {\n...\n</code></pre>\n"},{"tags":["java","oracle","log4j","oracle19c"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1697724461,"post_id":77323120,"comment_id":136318022,"body_markdown":"Is `/home/usr/log4j-api-2.21.0.jar` a path on the SQL server machine?","body":"Is <code>&#47;home&#47;usr&#47;log4j-api-2.21.0.jar</code> a path on the SQL server machine?"},{"owner":{"account_id":8547271,"reputation":41,"user_id":6405427,"display_name":"Branimir"},"score":0,"creation_date":1697782870,"post_id":77323120,"comment_id":136325338,"body_markdown":"@PiotrP.Karwasz Yes. I have permissions to access it as well (both from the OS and the DB). If I did not, I would be getting a different error.","body":"@PiotrP.Karwasz Yes. I have permissions to access it as well (both from the OS and the DB). If I did not, I would be getting a different error."}],"owner":{"account_id":8547271,"reputation":41,"user_id":6405427,"display_name":"Branimir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697714024,"creation_date":1697712488,"question_id":77323120,"body_markdown":"I&#39;m trying to import an external library (`log4j-api` version `2.21.0`) to the database but I get the following error:\r\n\r\n```\r\nCALL dbms_java.loadjava(&#39;-resolve -force -debug -fileout /home/usr/out.txt -verbose /home/usr/log4j-api-2.21.0.jar&#39;)\r\nError report -\r\nORA-29532: Java call terminated by uncaught Java exception: oracle.aurora.rdbms.MalformedDefinitionException: In ClassHandle.create in schema USRSCHEMA\r\n\r\nORA-29509: incorrectly formed Java binary class definition\r\nORA-06512: at &quot;SYS.DBMS_JAVA&quot;, line 587\r\nORA-06512: at line 1\r\n29532. 00000 -  &quot;Java call terminated by uncaught Java exception: %s&quot;\r\n*Cause:    A Java exception or error was signaled and could not be\r\n           resolved by the Java code.\r\n*Action:   Modify Java code, if this behavior is not intended.\r\n```\r\n\r\nwith `usr` and `USRSCHEMA` being placeholders. I am using Oracle Database 19c and DBMS Java JDK version `1.8.0_201`. The `loadjava` command is:\r\n\r\n`CALL dbms_java.loadjava(&#39;-resolve -force -debug -fileout /home/usr/out.txt -verbose /home/usr/log4j-api-2.21.0.jar&#39;)`\r\n\r\nStack trace does not provide additional details nor does `out.txt` and `USER_ERRORS` table. Obviously, being an apache commons library, it should have no issues with compiling and compatibility. Namely, the major version is 52 and the library worked when I tried it out seperately in a locally compiled project. I downloaded the latest version of the jar from the [jar-download website][1] and it has no dependencies. To verify, I also downloaded other apache libraries and even `gson`, which were loaded into the database without issue. Their major versions varied from 49-52 so this isn&#39;t the problem I believe. \r\n\r\nHowever, if I tried an earlier version of `log4j-api`, it gave me a different error related to resolving. Interestingly, the newest version that gave me this different error is `log-4j-api` version `2.9.1`, which released a few days before Java 9. The earliest version of `log-4j-api` (version `2.0`) loads into the database without problem.\r\n\r\nWhat might be the issue?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/org.apache.logging.log4j/log4j-api","title":"Oracle DB loadjava error (ORA-29509): incorrectly formed Java binary class definition","body":"<p>I'm trying to import an external library (<code>log4j-api</code> version <code>2.21.0</code>) to the database but I get the following error:</p>\n<pre><code>CALL dbms_java.loadjava('-resolve -force -debug -fileout /home/usr/out.txt -verbose /home/usr/log4j-api-2.21.0.jar')\nError report -\nORA-29532: Java call terminated by uncaught Java exception: oracle.aurora.rdbms.MalformedDefinitionException: In ClassHandle.create in schema USRSCHEMA\n\nORA-29509: incorrectly formed Java binary class definition\nORA-06512: at &quot;SYS.DBMS_JAVA&quot;, line 587\nORA-06512: at line 1\n29532. 00000 -  &quot;Java call terminated by uncaught Java exception: %s&quot;\n*Cause:    A Java exception or error was signaled and could not be\n           resolved by the Java code.\n*Action:   Modify Java code, if this behavior is not intended.\n</code></pre>\n<p>with <code>usr</code> and <code>USRSCHEMA</code> being placeholders. I am using Oracle Database 19c and DBMS Java JDK version <code>1.8.0_201</code>. The <code>loadjava</code> command is:</p>\n<p><code>CALL dbms_java.loadjava('-resolve -force -debug -fileout /home/usr/out.txt -verbose /home/usr/log4j-api-2.21.0.jar')</code></p>\n<p>Stack trace does not provide additional details nor does <code>out.txt</code> and <code>USER_ERRORS</code> table. Obviously, being an apache commons library, it should have no issues with compiling and compatibility. Namely, the major version is 52 and the library worked when I tried it out seperately in a locally compiled project. I downloaded the latest version of the jar from the <a href=\"https://jar-download.com/artifacts/org.apache.logging.log4j/log4j-api\" rel=\"nofollow noreferrer\">jar-download website</a> and it has no dependencies. To verify, I also downloaded other apache libraries and even <code>gson</code>, which were loaded into the database without issue. Their major versions varied from 49-52 so this isn't the problem I believe.</p>\n<p>However, if I tried an earlier version of <code>log4j-api</code>, it gave me a different error related to resolving. Interestingly, the newest version that gave me this different error is <code>log-4j-api</code> version <code>2.9.1</code>, which released a few days before Java 9. The earliest version of <code>log-4j-api</code> (version <code>2.0</code>) loads into the database without problem.</p>\n<p>What might be the issue?</p>\n<p>Thanks.</p>\n"},{"tags":["java","mysql","jdbc","classnotfoundexception"],"comments":[{"owner":{"account_id":5470860,"reputation":9722,"user_id":4350275,"accept_rate":36,"display_name":"Prerak Sola"},"score":3,"creation_date":1697573331,"post_id":77311959,"comment_id":136296175,"body_markdown":"What does this have to do with `javascript` tag?","body":"What does this have to do with <code>javascript</code> tag?"},{"owner":{"account_id":29694939,"reputation":1,"user_id":22758452,"display_name":"nickywestside"},"score":0,"creation_date":1697573699,"post_id":77311959,"comment_id":136296231,"body_markdown":"@PrerakSola there&#39;s a jsp element to the project but I just need help with the mysql element.","body":"@PrerakSola there&#39;s a jsp element to the project but I just need help with the mysql element."},{"owner":{"account_id":5470860,"reputation":9722,"user_id":4350275,"accept_rate":36,"display_name":"Prerak Sola"},"score":1,"creation_date":1697574088,"post_id":77311959,"comment_id":136296276,"body_markdown":"Just FYI, **jsp** which is an abbreviation for `Jakarta Server Pages`, previously known as `JavaServer Pages` is completely different from **javascript**.","body":"Just FYI, <b>jsp</b> which is an abbreviation for <code>Jakarta Server Pages</code>, previously known as <code>JavaServer Pages</code> is completely different from <b>javascript</b>."},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1697576033,"post_id":77311959,"comment_id":136296558,"body_markdown":"I tested your code with MySQL Connector/J 8.1.0. It works fine, I cannot reproduce the error. I can guess that perhaps you gave it the wrong path to your jar file.","body":"I tested your code with MySQL Connector/J 8.1.0. It works fine, I cannot reproduce the error. I can guess that perhaps you gave it the wrong path to your jar file."},{"owner":{"account_id":29694939,"reputation":1,"user_id":22758452,"display_name":"nickywestside"},"score":0,"creation_date":1697576805,"post_id":77311959,"comment_id":136296666,"body_markdown":"@BillKarwin Hmm interesting. Should the jar be in a certain location then? Because I have the path set to where it&#39;s located on my machine.","body":"@BillKarwin Hmm interesting. Should the jar be in a certain location then? Because I have the path set to where it&#39;s located on my machine."},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1697576939,"post_id":77311959,"comment_id":136296686,"body_markdown":"Evidently you have not. Do you get the error on compilation, or executing the compiled class file, or both? (well I guess you can&#39;t get the error on both if you get the error on compile :-)","body":"Evidently you have not. Do you get the error on compilation, or executing the compiled class file, or both? (well I guess you can&#39;t get the error on both if you get the error on compile :-)"},{"owner":{"account_id":29694939,"reputation":1,"user_id":22758452,"display_name":"nickywestside"},"score":0,"creation_date":1697577113,"post_id":77311959,"comment_id":136296704,"body_markdown":"@BillKarwin only on execution","body":"@BillKarwin only on execution"},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1697577503,"post_id":77311959,"comment_id":136296754,"body_markdown":"All I can suggest is that you mistyped the path on the second command. When I have experienced mysterious problems like this, I just re-type it carefully, and don&#39;t use command history or copy &amp; paste. I may use tab completion to help get the path and filename right. Almost always the problem was that I had made a typo.","body":"All I can suggest is that you mistyped the path on the second command. When I have experienced mysterious problems like this, I just re-type it carefully, and don&#39;t use command history or copy &amp; paste. I may use tab completion to help get the path and filename right. Almost always the problem was that I had made a typo."},{"owner":{"account_id":29694939,"reputation":1,"user_id":22758452,"display_name":"nickywestside"},"score":0,"creation_date":1697579305,"post_id":77311959,"comment_id":136296989,"body_markdown":"@BillKarwin I wish it was something like that xD. But no I used the same path for both commands. Thanks though.","body":"@BillKarwin I wish it was something like that xD. But no I used the same path for both commands. Thanks though."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697585899,"post_id":77311959,"comment_id":136297588,"body_markdown":"This is *your code* not finding the class, not the MySQL Connector JDBC driver. The [tag:jsp] tag is completely irrelevant.","body":"This is <i>your code</i> not finding the class, not the MySQL Connector JDBC driver. The <a href=\"https://stackoverflow.com/questions/tagged/jsp\">jsp</a> tag is completely irrelevant."},{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1697586431,"post_id":77311959,"comment_id":136297636,"body_markdown":"The MySQL JDBC driver JAR must either be in the WAR or in the server/lib folder on the Tomcat server installation.  Start with putting it in the JAR.  If you still get the error, open the JAR and make sure that&#39;s the correct fully resolved class name.","body":"The MySQL JDBC driver JAR must either be in the WAR or in the server/lib folder on the Tomcat server installation.  Start with putting it in the JAR.  If you still get the error, open the JAR and make sure that&#39;s the correct fully resolved class name."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697645326,"post_id":77311959,"comment_id":136306913,"body_markdown":"Using `-cp` with `javac` does not make it magically work when **running** your code, it only affects the classpath when **compiling** your code (and you don&#39;t even need to specify it when compiling, because you don&#39;t actually use any of those classes during compilation). The driver must be on the runtime class path (e.g. in the `WEB-INF/lib` of the WAR).","body":"Using <code>-cp</code> with <code>javac</code> does not make it magically work when <b>running</b> your code, it only affects the classpath when <b>compiling</b> your code (and you don&#39;t even need to specify it when compiling, because you don&#39;t actually use any of those classes during compilation). The driver must be on the runtime class path (e.g. in the <code>WEB-INF&#47;lib</code> of the WAR)."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697713993,"post_id":77311959,"comment_id":136315879,"body_markdown":"NB The `Class.forName()` line hasn’t been needed since 2906.","body":"NB The <code>Class.forName()</code> line hasn’t been needed since 2906."},{"owner":{"account_id":3432870,"reputation":3577,"user_id":2876754,"accept_rate":90,"display_name":"Sneh"},"score":0,"creation_date":1698072343,"post_id":77311959,"comment_id":136355617,"body_markdown":"Any luck with this issue?","body":"Any luck with this issue?"},{"owner":{"account_id":29694939,"reputation":1,"user_id":22758452,"display_name":"nickywestside"},"score":0,"creation_date":1699581981,"post_id":77311959,"comment_id":136553470,"body_markdown":"@Sneh Yep a few things. I downloaded the libmariadb-java library, I also gave my data base user all the same permissions as a root user and it worked! I&#39;m pretty sure it was just a permissions issue.","body":"@Sneh Yep a few things. I downloaded the libmariadb-java library, I also gave my data base user all the same permissions as a root user and it worked! I&#39;m pretty sure it was just a permissions issue."}],"owner":{"account_id":29694939,"reputation":1,"user_id":22758452,"display_name":"nickywestside"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697713811,"answer_count":0,"score":0,"last_activity_date":1697713834,"creation_date":1697573218,"question_id":77311959,"body_markdown":"I&#39;m working on a project that involves a java program accessing a mysql database and display that info on a tomcat page. I have it working on my local machine but I want it running on my Raspberry Pi 4 so it can act as a &quot;server&quot; but it&#39;s not connecting properly so I made a test program \r\n\r\n\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\n\r\npublic class YourClassName {\r\n    public Connection connection;\r\n    private String pw = &quot;&lt;password_here&gt;&quot;; // Password for DB server...\r\n    String url = &quot;jdbc:mysql://&lt;ipaddress&gt;/database?user=&lt;myuser&gt;&amp;password=&quot; + pw + &quot;&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;\r\n\r\n    public YourClassName() throws ClassNotFoundException, SQLException {\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); // Load the MySQL JDBC driver\r\n        connection = DriverManager.getConnection(url);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            YourClassName yourObject = new YourClassName();\r\n            // Rest of your code...\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nBut when I run this I get an error \r\n\r\n    java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:375)\r\n        at YourClassName.&lt;init&gt;(YourClassName.java:11)\r\n        at YourClassName.main(YourClassName.java:17)\r\n\r\nI have my jar file set to the CLASSPATH by \r\n`javac -cp .:/path/to/mysql-connector-java-8.1.0.jar ClassName.java\r\njava -cp .:/path/to/mysql-connector-java-8.1.0.jar ClassName`\r\n\r\nmysql version is 8.0.34, mysql-connector is version 8.1.0. Any insight would be greatly appreciated! Thanks!!\r\n\r\nEdit: I should also say I&#39;m using Apache Tomcat. I&#39;m compiling the program on my local machine and sending the WAR file to the Raspberry Pi.","title":"mysql-connector isn&#39;t finding com.mysql.cj.jdbc.Driver?","body":"<p>I'm working on a project that involves a java program accessing a mysql database and display that info on a tomcat page. I have it working on my local machine but I want it running on my Raspberry Pi 4 so it can act as a &quot;server&quot; but it's not connecting properly so I made a test program</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class YourClassName {\n    public Connection connection;\n    private String pw = &quot;&lt;password_here&gt;&quot;; // Password for DB server...\n    String url = &quot;jdbc:mysql://&lt;ipaddress&gt;/database?user=&lt;myuser&gt;&amp;password=&quot; + pw + &quot;&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;\n\n    public YourClassName() throws ClassNotFoundException, SQLException {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); // Load the MySQL JDBC driver\n        connection = DriverManager.getConnection(url);\n    }\n\n    public static void main(String[] args) {\n        try {\n            YourClassName yourObject = new YourClassName();\n            // Rest of your code...\n        } catch (ClassNotFoundException | SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>But when I run this I get an error</p>\n<pre><code>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at YourClassName.&lt;init&gt;(YourClassName.java:11)\n    at YourClassName.main(YourClassName.java:17)\n</code></pre>\n<p>I have my jar file set to the CLASSPATH by\n<code>javac -cp .:/path/to/mysql-connector-java-8.1.0.jar ClassName.java java -cp .:/path/to/mysql-connector-java-8.1.0.jar ClassName</code></p>\n<p>mysql version is 8.0.34, mysql-connector is version 8.1.0. Any insight would be greatly appreciated! Thanks!!</p>\n<p>Edit: I should also say I'm using Apache Tomcat. I'm compiling the program on my local machine and sending the WAR file to the Raspberry Pi.</p>\n"},{"tags":["java","spring","maven","quartz"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1697713495,"post_id":77323197,"comment_id":136315764,"body_markdown":"You can see how spring entry point looks like in their [quickstart guide](https://spring.io/quickstart).","body":"You can see how spring entry point looks like in their <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">quickstart guide</a>."},{"owner":{"account_id":29707474,"reputation":1,"user_id":22767985,"display_name":"SRIJAN GIRDHAR"},"score":0,"creation_date":1697776473,"post_id":77323197,"comment_id":136324799,"body_markdown":"@Chaosfire Thats for spring boot. I need for spring, the codebase doesnt use springboot.","body":"@Chaosfire Thats for spring boot. I need for spring, the codebase doesnt use springboot."},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1697801927,"post_id":77323197,"comment_id":136328699,"body_markdown":"Can you try with -1 in the &lt;property name=&quot;repeatCount&quot; value=&quot;0&quot; /&gt; or with 10 just to try?","body":"Can you try with -1 in the &lt;property name=&quot;repeatCount&quot; value=&quot;0&quot; /&gt; or with 10 just to try?"}],"owner":{"account_id":29707474,"reputation":1,"user_id":22767985,"display_name":"SRIJAN GIRDHAR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697713572,"creation_date":1697713154,"question_id":77323197,"body_markdown":"I made this code using gpt, it&#39;s a maven project. Here is the code -\r\n\r\nApp.java - \r\n\r\n```\r\npackage com.example;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        System.out.println( &quot;Hello World!&quot; );\r\n    }\r\n}\r\n//I am not sure what do do with this file\r\n```\r\n\r\n\r\nPracticeApplication.java \r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.scheduling.quartz.QuartzJobBean;\r\nimport org.quartz.JobExecutionContext;\r\nimport org.quartz.JobExecutionException;\r\n\r\n\r\npublic class PracticeApplication extends QuartzJobBean \r\n{\r\n    @Override\r\n    protected void executeInternal(JobExecutionContext context) throws JobExecutionException \r\n\t{\r\n        System.out.println(&quot;Hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\nQuartzSchedularConfig.java\r\n\r\n```\r\n\r\npackage com.example;\r\n\r\nimport org.quartz.JobDetail;\r\nimport org.quartz.SimpleTrigger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.scheduling.quartz.SchedulerFactoryBean;\r\n\r\n@Configuration\r\npublic class QuartzSchedulerConfig {\r\n\r\n    @Autowired\r\n    private JobDetail job1; // Autowire the job bean\r\n    @Autowired\r\n    private SimpleTrigger trigger1; // Autowire the trigger bean\r\n\r\n    @Bean\r\n    public SchedulerFactoryBean schedulerFactoryBean() {\r\n        SchedulerFactoryBean scheduler = new SchedulerFactoryBean();\r\n        scheduler.setConfigLocation(new ClassPathResource(&quot;quartz-config.xml&quot;));\r\n        scheduler.setAutoStartup(true);\r\n        scheduler.setWaitForJobsToCompleteOnShutdown(true);\r\n\r\n        // Use the autowired job and trigger\r\n        scheduler.setJobDetails(job1);\r\n        scheduler.setTriggers(trigger1);\r\n\r\n        return scheduler;\r\n    }\r\n}\r\n```\r\nquartz-config.xml -\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE beans PUBLIC &quot;-//SPRING//DTD BEAN//EN&quot; &quot;http://www.springframework.org/dtd/spring-beans.dtd&quot;&gt;\r\n&lt;beans&gt;\r\n    &lt;bean id=&quot;job1&quot; class=&quot;org.springframework.scheduling.quartz.JobDetailFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jobClass&quot; value=&quot;com.example.PracticeApplication&quot; /&gt;\r\n        &lt;property name=&quot;durability&quot; value=&quot;true&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;trigger1&quot; class=&quot;org.springframework.scheduling.quartz.SimpleTriggerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jobDetail&quot; ref=&quot;job1&quot; /&gt;\r\n        &lt;property name=&quot;repeatInterval&quot; value=&quot;120000&quot; /&gt; &lt;!-- Repeat every 2 minutes --&gt;\r\n        &lt;property name=&quot;repeatCount&quot; value=&quot;0&quot; /&gt; &lt;!-- Repeat indefinitely --&gt;\r\n    &lt;/bean&gt;`\r\n\r\n\r\n&lt;/beans&gt;\r\n\r\n```\r\n\r\n\r\nIt only runs the App.java file and then code stops.\r\n\r\nIts supposed to print Hello every 2 mins.\r\n\r\nNow I cant use anything else except for QuartzBeanJob and &lt;bean&gt; because thats how the codebase for the actual application is set up.","title":"I cant seem to run this Quartz code I made. Its supposed to print Hello every 2 minutes","body":"<p>I made this code using gpt, it's a maven project. Here is the code -</p>\n<p>App.java -</p>\n<pre><code>package com.example;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Hello World!&quot; );\n    }\n}\n//I am not sure what do do with this file\n</code></pre>\n<p>PracticeApplication.java</p>\n<pre><code>package com.example;\n\nimport org.springframework.scheduling.quartz.QuartzJobBean;\nimport org.quartz.JobExecutionContext;\nimport org.quartz.JobExecutionException;\n\n\npublic class PracticeApplication extends QuartzJobBean \n{\n    @Override\n    protected void executeInternal(JobExecutionContext context) throws JobExecutionException \n    {\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p>QuartzSchedularConfig.java</p>\n<pre><code>\npackage com.example;\n\nimport org.quartz.JobDetail;\nimport org.quartz.SimpleTrigger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.scheduling.quartz.SchedulerFactoryBean;\n\n@Configuration\npublic class QuartzSchedulerConfig {\n\n    @Autowired\n    private JobDetail job1; // Autowire the job bean\n    @Autowired\n    private SimpleTrigger trigger1; // Autowire the trigger bean\n\n    @Bean\n    public SchedulerFactoryBean schedulerFactoryBean() {\n        SchedulerFactoryBean scheduler = new SchedulerFactoryBean();\n        scheduler.setConfigLocation(new ClassPathResource(&quot;quartz-config.xml&quot;));\n        scheduler.setAutoStartup(true);\n        scheduler.setWaitForJobsToCompleteOnShutdown(true);\n\n        // Use the autowired job and trigger\n        scheduler.setJobDetails(job1);\n        scheduler.setTriggers(trigger1);\n\n        return scheduler;\n    }\n}\n</code></pre>\n<p>quartz-config.xml -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE beans PUBLIC &quot;-//SPRING//DTD BEAN//EN&quot; &quot;http://www.springframework.org/dtd/spring-beans.dtd&quot;&gt;\n&lt;beans&gt;\n    &lt;bean id=&quot;job1&quot; class=&quot;org.springframework.scheduling.quartz.JobDetailFactoryBean&quot;&gt;\n        &lt;property name=&quot;jobClass&quot; value=&quot;com.example.PracticeApplication&quot; /&gt;\n        &lt;property name=&quot;durability&quot; value=&quot;true&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;trigger1&quot; class=&quot;org.springframework.scheduling.quartz.SimpleTriggerFactoryBean&quot;&gt;\n        &lt;property name=&quot;jobDetail&quot; ref=&quot;job1&quot; /&gt;\n        &lt;property name=&quot;repeatInterval&quot; value=&quot;120000&quot; /&gt; &lt;!-- Repeat every 2 minutes --&gt;\n        &lt;property name=&quot;repeatCount&quot; value=&quot;0&quot; /&gt; &lt;!-- Repeat indefinitely --&gt;\n    &lt;/bean&gt;`\n\n\n&lt;/beans&gt;\n\n</code></pre>\n<p>It only runs the App.java file and then code stops.</p>\n<p>Its supposed to print Hello every 2 mins.</p>\n<p>Now I cant use anything else except for QuartzBeanJob and  because thats how the codebase for the actual application is set up.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697713324,"creation_date":1697713324,"question_id":77323205,"body_markdown":"I&#39;m launching Spring app locally on my computer and testing it with Postman. I have GET and POST endpoints, and when i&#39;m trying to send any request, i&#39;m getting an HTTP 404 error &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot;. There is not a single error or warning in Spring app logs-everything looks fine, server up and running on 8080, i even tried to ping it.\r\n\r\n\r\nHere&#39;s my controller:\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;/note&quot;, produces = &quot;application/json&quot;)\r\npublic class NoteController {\r\n    @Autowired\r\n    private NoteService noteService;\r\n\r\n    @PostMapping(path = &quot;/create&quot;, consumes = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;Note&gt; createNote(@RequestBody Note note){\r\n        return new ResponseEntity&lt;Note&gt;(noteService.save(note), HttpStatus.CREATED);\r\n    }\r\n\r\n    @GetMapping(path = &quot;/get&quot;)\r\n    public String getTest(){\r\n        return &quot;test&quot;;\r\n    }\r\n    \r\n}\r\n```\r\nEntities:\r\n```\r\n@Entity\r\n@Table(name = &quot;note&quot;)\r\n@Data\r\npublic class Note {\r\n    @Id\r\n    private UUID id;\r\n\r\n    @ManyToMany\r\n    private Set&lt;Tag&gt; tags;\r\n\r\n    private String name;\r\n    private String description;\r\n    private boolean isDone;\r\n    private LocalDateTime creationDateTime;\r\n    private LocalDateTime modificationDateTime;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;tag&quot;)\r\n@Data\r\npublic class Tag {\r\n    @Id\r\n    private UUID id;\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;tags&quot;)\r\n    private Set&lt;Note&gt; notes;\r\n}\r\n```\r\nMain class:\r\n```\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class TodoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TodoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;todo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;todo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.7.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nPOST request: `http://localhost:8080/note/create`\r\n\r\nBody:\r\n```\r\n{\r\n    &quot;id&quot;: &quot;74ebd665-0fcf-44a9-9dee-35558855e843&quot;,\r\n    &quot;tags&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;dbc02c6e-df34-4aea-a0fc-f125612c6163&quot;,\r\n            &quot;name&quot;: &quot;TAG&quot;\r\n        }\r\n    ],\r\n    &quot;name&quot;: &quot;NAME&quot;,\r\n    &quot;description&quot;: &quot;DESCR&quot;,\r\n    &quot;isDone&quot;: &quot;false&quot;,\r\n    &quot;creationDateTime&quot;: &quot;2023-10-18T18:27:32.180454100&quot;,\r\n    &quot;modificationTime&quot;: &quot;2023-10-18T18:27:32.180454100&quot;\r\n}\r\n```\r\n\r\n","title":"Spring app error &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot;","body":"<p>I'm launching Spring app locally on my computer and testing it with Postman. I have GET and POST endpoints, and when i'm trying to send any request, i'm getting an HTTP 404 error &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot;. There is not a single error or warning in Spring app logs-everything looks fine, server up and running on 8080, i even tried to ping it.</p>\n<p>Here's my controller:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/note&quot;, produces = &quot;application/json&quot;)\npublic class NoteController {\n    @Autowired\n    private NoteService noteService;\n\n    @PostMapping(path = &quot;/create&quot;, consumes = &quot;application/json&quot;)\n    public ResponseEntity&lt;Note&gt; createNote(@RequestBody Note note){\n        return new ResponseEntity&lt;Note&gt;(noteService.save(note), HttpStatus.CREATED);\n    }\n\n    @GetMapping(path = &quot;/get&quot;)\n    public String getTest(){\n        return &quot;test&quot;;\n    }\n    \n}\n</code></pre>\n<p>Entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;note&quot;)\n@Data\npublic class Note {\n    @Id\n    private UUID id;\n\n    @ManyToMany\n    private Set&lt;Tag&gt; tags;\n\n    private String name;\n    private String description;\n    private boolean isDone;\n    private LocalDateTime creationDateTime;\n    private LocalDateTime modificationDateTime;\n}\n\n@Entity\n@Table(name = &quot;tag&quot;)\n@Data\npublic class Tag {\n    @Id\n    private UUID id;\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;tags&quot;)\n    private Set&lt;Note&gt; notes;\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories\npublic class TodoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TodoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;todo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;todo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.0.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>POST request: <code>http://localhost:8080/note/create</code></p>\n<p>Body:</p>\n<pre><code>{\n    &quot;id&quot;: &quot;74ebd665-0fcf-44a9-9dee-35558855e843&quot;,\n    &quot;tags&quot;: [\n        {\n            &quot;id&quot;: &quot;dbc02c6e-df34-4aea-a0fc-f125612c6163&quot;,\n            &quot;name&quot;: &quot;TAG&quot;\n        }\n    ],\n    &quot;name&quot;: &quot;NAME&quot;,\n    &quot;description&quot;: &quot;DESCR&quot;,\n    &quot;isDone&quot;: &quot;false&quot;,\n    &quot;creationDateTime&quot;: &quot;2023-10-18T18:27:32.180454100&quot;,\n    &quot;modificationTime&quot;: &quot;2023-10-18T18:27:32.180454100&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1697713330,"post_id":77323062,"comment_id":136315728,"body_markdown":"Instead of my suggested answer and using a native query, you can also use the entity manager to execute a JPQL query, as it is more type-safe and aware of the entity mappings. But I have never seen someone doing it in practice :D","body":"Instead of my suggested answer and using a native query, you can also use the entity manager to execute a JPQL query, as it is more type-safe and aware of the entity mappings. But I have never seen someone doing it in practice :D"},{"owner":{"account_id":3148181,"reputation":2993,"user_id":2662227,"accept_rate":79,"display_name":"Matt"},"score":0,"creation_date":1697714021,"post_id":77323062,"comment_id":136315887,"body_markdown":"Ah okay--casting didn&#39;t work but using JPQL did! (`SELECT b.id FROM Tag t JOIN t.books b WHERE t.id= ?1`). Thank you!","body":"Ah okay--casting didn&#39;t work but using JPQL did! (<code>SELECT b.id FROM Tag t JOIN t.books b WHERE t.id= ?1</code>). Thank you!"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1697714461,"post_id":77323062,"comment_id":136315972,"body_markdown":"Maybe removing the @Type() in your entity annotation might also help. We are using native queries to return Lists of UUIDs successfully (although, weirdly enough we have to cast them to varchar in the sql first) (on postgres)","body":"Maybe removing the @Type() in your entity annotation might also help. We are using native queries to return Lists of UUIDs successfully (although, weirdly enough we have to cast them to varchar in the sql first) (on postgres)"},{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1697715992,"post_id":77323062,"comment_id":136316251,"body_markdown":"So I will delete the suggested answer, as it didn&#39;t work with your issue.","body":"So I will delete the suggested answer, as it didn&#39;t work with your issue."}],"owner":{"account_id":3148181,"reputation":2993,"user_id":2662227,"accept_rate":79,"display_name":"Matt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697713003,"creation_date":1697712071,"question_id":77323062,"body_markdown":"I am trying to get the IDs of all books with a specific tag ID. My query looks like this:\r\n\r\n```java\r\n@Query(value = &quot;SELECT book_id FROM book_tag bt WHERE bt.tag_id = ?1&quot;, nativeQuery = true)\r\nSet&lt;UUID&gt; findAllBookIdsByTagId(UUID tagId);\r\n```\r\n\r\nBooks can be associated with any number of tags; the relationship is modeled like:\r\n\r\n```java\r\n@Entity(name = &quot;Book&quot;)\r\n@Table(name = &quot;book&quot;)\r\npublic class Book implements Serializable {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;UUID&quot;,\r\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private UUID id;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n    @JoinTable(name = &quot;book_tag&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;)\r\n    )\r\n    private Set&lt;Tag&gt; tags = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nHowever, when I put a breakpoint after a call to my repository method, I see that the value being returned is a set of strings, not a set of UUIDs. I don&#39;t even understand how this is possible. I thought it was just IntelliJ displaying it weirdly in the debugger, but no, evaluating `bookRepository.findAllBookIdsByTagId({tagId}).toArray()[0] instanceof UUID` was false, yet true for `instanceof String`.\r\n\r\nThe `id` property that comes back with the Book entity is correctly shown as a UUID, it&#39;s just when I query the ID directly that it comes back as a string.","title":"Why is my Spring repository method returning a String instead of a UUID?","body":"<p>I am trying to get the IDs of all books with a specific tag ID. My query looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT book_id FROM book_tag bt WHERE bt.tag_id = ?1&quot;, nativeQuery = true)\nSet&lt;UUID&gt; findAllBookIdsByTagId(UUID tagId);\n</code></pre>\n<p>Books can be associated with any number of tags; the relationship is modeled like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Book&quot;)\n@Table(name = &quot;book&quot;)\npublic class Book implements Serializable {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n        name = &quot;UUID&quot;,\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    @Type(type = &quot;uuid-char&quot;)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n    @JoinTable(name = &quot;book_tag&quot;,\n        joinColumns = @JoinColumn(name = &quot;book_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;)\n    )\n    private Set&lt;Tag&gt; tags = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>However, when I put a breakpoint after a call to my repository method, I see that the value being returned is a set of strings, not a set of UUIDs. I don't even understand how this is possible. I thought it was just IntelliJ displaying it weirdly in the debugger, but no, evaluating <code>bookRepository.findAllBookIdsByTagId({tagId}).toArray()[0] instanceof UUID</code> was false, yet true for <code>instanceof String</code>.</p>\n<p>The <code>id</code> property that comes back with the Book entity is correctly shown as a UUID, it's just when I query the ID directly that it comes back as a string.</p>\n"},{"tags":["java","amazon-web-services","amazon-kinesis","amazon-kinesis-client"],"owner":{"account_id":17647913,"reputation":43,"user_id":12808946,"display_name":"Prathviraj Singh Chouhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697712773,"creation_date":1697712773,"question_id":77323159,"body_markdown":"I want to poll data after every 5minute, instead of default time. I am seeing there is a parameter idleTImeBetweenReadInMillis which says it is polling time. But when I am setting it to 5minute, it is not working. So, is there any other parameter to override or it is not possible to increase poll time. I have gone through the documentation of KCL, but did not found any solution. Is there any way to implement this?","title":"How to increase polling time in KCL 2.x incase of multi-stream?","body":"<p>I want to poll data after every 5minute, instead of default time. I am seeing there is a parameter idleTImeBetweenReadInMillis which says it is polling time. But when I am setting it to 5minute, it is not working. So, is there any other parameter to override or it is not possible to increase poll time. I have gone through the documentation of KCL, but did not found any solution. Is there any way to implement this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9919,"page":113,"page_size":100}
