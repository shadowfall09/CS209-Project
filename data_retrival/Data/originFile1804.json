{"items":[{"tags":["java","swing","graph"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1638301027,"post_id":70174589,"comment_id":124050877,"body_markdown":"Don&#39;t scale the graphics context, but scale the virtual coordinates themselves","body":"Don&#39;t scale the graphics context, but scale the virtual coordinates themselves"},{"owner":{"account_id":19873855,"reputation":123,"user_id":15213090,"display_name":"Chopin"},"score":0,"creation_date":1638301153,"post_id":70174589,"comment_id":124050913,"body_markdown":"@MadProgrammer can you please elaborate on that more?","body":"@MadProgrammer can you please elaborate on that more?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638301584,"post_id":70174589,"comment_id":124051066,"body_markdown":"Don&#39;t use `Graphics#scale`, instead, multiple the position of the points by the scale instead (virtual coordinates ;))","body":"Don&#39;t use <code>Graphics#scale</code>, instead, multiple the position of the points by the scale instead (virtual coordinates ;))"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1638301737,"post_id":70174589,"comment_id":124051123,"body_markdown":"I&#39;d go with [tag:jfreechart] `ChartFactory.createScatterPlot` and invoke `setRange()` as desired, for [example](https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20%5bjfreechart%5d%20ChartFactory.createScatterPlot).","body":"I&#39;d go with <a href=\"https://stackoverflow.com/questions/tagged/jfreechart\">jfreechart</a> <code>ChartFactory.createScatterPlot</code> and invoke <code>setRange()</code> as desired, for <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20%5bjfreechart%5d%20ChartFactory.createScatterPlot\">example</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638302158,"post_id":70174589,"comment_id":124051297,"body_markdown":"Having played around with it for a but, I suspect you&#39;d be better off coming up with a &quot;virtual&quot; coordinate system, which would allow you to take the physical point and translate it a &quot;virtual&quot; point which can be more easily rendered with appropriate separation.  Exactly how you&#39;d do that I can&#39;t say right now, need more tea","body":"Having played around with it for a but, I suspect you&#39;d be better off coming up with a &quot;virtual&quot; coordinate system, which would allow you to take the physical point and translate it a &quot;virtual&quot; point which can be more easily rendered with appropriate separation.  Exactly how you&#39;d do that I can&#39;t say right now, need more tea"},{"owner":{"account_id":19873855,"reputation":123,"user_id":15213090,"display_name":"Chopin"},"score":0,"creation_date":1638302560,"post_id":70174589,"comment_id":124051452,"body_markdown":"@MadProgrammer can you give an example of it? because I don&#39;t really know what exactly you say. Perhaps it is due to the fact that I am new to Swing.","body":"@MadProgrammer can you give an example of it? because I don&#39;t really know what exactly you say. Perhaps it is due to the fact that I am new to Swing."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638303317,"post_id":70174589,"comment_id":124051724,"body_markdown":"@Chopin It&#39;s got nothing to do with swing.  You basically need a translator which can take a value like `35.19589389346247` and translate it to a more meaningful value, like `34` (for example) and something like `35.21310882485876` might become `35` or `36` based on how you need to translate it","body":"@Chopin It&#39;s got nothing to do with swing.  You basically need a translator which can take a value like <code>35.19589389346247</code> and translate it to a more meaningful value, like <code>34</code> (for example) and something like <code>35.21310882485876</code> might become <code>35</code> or <code>36</code> based on how you need to translate it"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638304411,"post_id":70174589,"comment_id":124052135,"body_markdown":"Check out: [Drawing an image using sub-pixel level accuracy using Graphics2D](https://stackoverflow.com/questions/8676909/drawing-an-image-using-sub-pixel-level-accuracy-using-graphics2d). I notice a difference in the ball movement using the example code from the selected answer. Not sure if it will help with your issue.","body":"Check out: <a href=\"https://stackoverflow.com/questions/8676909/drawing-an-image-using-sub-pixel-level-accuracy-using-graphics2d\">Drawing an image using sub-pixel level accuracy using Graphics2D</a>. I notice a difference in the ball movement using the example code from the selected answer. Not sure if it will help with your issue."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638305109,"post_id":70174589,"comment_id":124052360,"body_markdown":"Using a smaller radius will help","body":"Using a smaller radius will help"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638340579,"post_id":70174589,"comment_id":124059423,"body_markdown":"Is it always the case where all x coordinates have the same integer value (35 in this example) and y coordinates have the same integer value (32 in this example) ?","body":"Is it always the case where all x coordinates have the same integer value (35 in this example) and y coordinates have the same integer value (32 in this example) ?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638316918,"creation_date":1638306670,"answer_id":70176115,"question_id":70174589,"body_markdown":"So, the basic concept is to have some kind of &quot;translation&quot; for the &quot;virtual&quot; coordinates (your points) to the &quot;physical&quot; coordinates (of the screen)\r\n\r\nYou did try and do this by scaling the graphics context, but the problem with this is it will also scale the size of the balls as well, which isn&#39;t really what you want to do.\r\n\r\nThe following is a really basic example of one possible solution.\r\n\r\nIt calculates the min/max range of the area represented by the points and then uses the component size to translate the points so that they will fit within the visible space\r\n\r\n[![Spaced Out][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Point2D;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GraphPoint {\r\n            private String id;\r\n            private Point2D point;\r\n\r\n            public GraphPoint(String id, Point2D point) {\r\n                this.id = id;\r\n                this.point = point;\r\n            }\r\n\r\n            public String getId() {\r\n                return id;\r\n            }\r\n\r\n            public Point2D getPoint() {\r\n                return point;\r\n            }\r\n\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private List&lt;GraphPoint&gt; points;\r\n            private int radius = 10;\r\n\r\n            private double virtualScale = 1.0;\r\n\r\n            private Point2D minRange;\r\n            private Point2D maxRange;\r\n\r\n            public TestPane() {\r\n                points = new ArrayList&lt;&gt;(16);\r\n                points.add(new GraphPoint(&quot;1&quot;, new Point2D.Double(35.19589389346247, 32.10152879327731)));\r\n                points.add(new GraphPoint(&quot;2&quot;, new Point2D.Double(35.20319591121872, 32.10318254621849)));\r\n                points.add(new GraphPoint(&quot;3&quot;, new Point2D.Double(35.20752617756255, 32.1025646605042)));\r\n                points.add(new GraphPoint(&quot;4&quot;, new Point2D.Double(35.21007339305892, 32.10107446554622)));\r\n                points.add(new GraphPoint(&quot;5&quot;, new Point2D.Double(35.21310882485876, 32.104636394957986)));\r\n\r\n                double minX = Double.MAX_VALUE;\r\n                double maxX = Double.MIN_VALUE;\r\n                double minY = Double.MAX_VALUE;\r\n                double maxY = Double.MIN_VALUE;\r\n\r\n                for (GraphPoint gp : points) {\r\n                    minX = Math.min(minX, gp.getPoint().getX());\r\n                    maxX = Math.max(maxX, gp.getPoint().getX());\r\n                    minY = Math.min(minY, gp.getPoint().getY());\r\n                    maxY = Math.max(maxY, gp.getPoint().getY());\r\n                }\r\n\r\n                minRange = new Point2D.Double(minX, minY);\r\n                maxRange = new Point2D.Double(maxX, maxY);\r\n\r\n                double xRange = maxRange.getX() - minRange.getX();\r\n                double yRange = maxRange.getY() - minRange.getY();\r\n\r\n                System.out.println(minRange.getX() + &quot; - &quot; + minRange.getY());\r\n                System.out.println(maxRange.getX() + &quot; - &quot; + maxRange.getY());\r\n                System.out.println(xRange + &quot; - &quot; + yRange);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                for (GraphPoint gp : points) {\r\n                    paintPoint(g2d, gp);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n            private void paintPoint(Graphics2D g2d, GraphPoint gp) {\r\n                Graphics2D g2 = (Graphics2D) g2d.create();\r\n\r\n                Point2D translated = translate(gp);\r\n\r\n                double xPos = translated.getX();\r\n                double yPos = translated.getY();\r\n\r\n                double offset = radius;\r\n\r\n                g2.translate(xPos - offset, yPos - offset);\r\n                g2.setPaint(Color.blue);\r\n                g2.fill(new Ellipse2D.Double(0, 0, offset * 2, offset * 2));\r\n                g2.dispose();\r\n            }\r\n\r\n            protected Point2D translate(GraphPoint gp) {\r\n\r\n                double xRange = maxRange.getX() - minRange.getX();\r\n                double yRange = maxRange.getY() - minRange.getY();\r\n\r\n                double offset = radius;\r\n                double width = getWidth() - (offset * 2);\r\n                double height = getHeight() - (offset * 2);\r\n\r\n                double xScale = width / xRange;\r\n                double yScale = height / yRange;\r\n\r\n                Point2D original = gp.getPoint();\r\n\r\n                double x = offset + ((original.getX() - minRange.getX()) * xScale);\r\n                double y = offset + ((original.getY() - minRange.getY()) * yScale);\r\n\r\n                System.out.println(gp.getId() + &quot; &quot; + x + &quot; x &quot; + y);\r\n\r\n                return new Point2D.Double(x, y);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI have to stress that this is one possible solution and that your actual requirements might differ, but this should give you starting point from which you can define your own algorithm, for example, you could define your  own min/max range (ie 34x30 to 36x33)\r\n\r\n\r\n&gt; the String I have tried now for 1 hour and I didn&#39;t get it I did edit your code already you help us a lot. the string above the points the id I mean point &quot;0&quot; this string above the point if u can help us or show us it will be appreciated a lot!\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Line2D;\r\n    import java.awt.geom.Point2D;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GraphPoint {\r\n\r\n            private String id;\r\n            private Point2D point;\r\n\r\n            public GraphPoint(String id, Point2D point) {\r\n                this.id = id;\r\n                this.point = point;\r\n            }\r\n\r\n            public String getId() {\r\n                return id;\r\n            }\r\n\r\n            public Point2D getPoint() {\r\n                return point;\r\n            }\r\n\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private List&lt;GraphPoint&gt; points;\r\n            private int radius = 10;\r\n\r\n            private double virtualScale = 1.0;\r\n\r\n            private Point2D minRange;\r\n            private Point2D maxRange;\r\n\r\n            public TestPane() {\r\n                points = new ArrayList&lt;&gt;(16);\r\n                points.add(new GraphPoint(&quot;1&quot;, new Point2D.Double(35.19589389346247, 32.10152879327731)));\r\n                points.add(new GraphPoint(&quot;2&quot;, new Point2D.Double(35.20319591121872, 32.10318254621849)));\r\n                points.add(new GraphPoint(&quot;3&quot;, new Point2D.Double(35.20752617756255, 32.1025646605042)));\r\n                points.add(new GraphPoint(&quot;4&quot;, new Point2D.Double(35.21007339305892, 32.10107446554622)));\r\n                points.add(new GraphPoint(&quot;5&quot;, new Point2D.Double(35.21310882485876, 32.104636394957986)));\r\n\r\n                double minX = Double.MAX_VALUE;\r\n                double maxX = Double.MIN_VALUE;\r\n                double minY = Double.MAX_VALUE;\r\n                double maxY = Double.MIN_VALUE;\r\n\r\n                for (GraphPoint gp : points) {\r\n                    minX = Math.min(minX, gp.getPoint().getX());\r\n                    maxX = Math.max(maxX, gp.getPoint().getX());\r\n                    minY = Math.min(minY, gp.getPoint().getY());\r\n                    maxY = Math.max(maxY, gp.getPoint().getY());\r\n                }\r\n\r\n                minRange = new Point2D.Double(minX, minY);\r\n                maxRange = new Point2D.Double(maxX, maxY);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                double insets = fm.getHeight() + radius;\r\n\r\n                // I&#39;m lazy, so I&#39;m drawing the lines first, then painting\r\n                // the points over the top as I can&#39;t be bothered to workout\r\n                // a clever way to ensure the lines are always painted under\r\n                // the dots\r\n                GraphPoint lastPoint = null;\r\n                for (GraphPoint gp : points) {\r\n                    if (lastPoint != null) {\r\n                        paintLine(g2d, lastPoint, gp, insets);\r\n                    }\r\n                    lastPoint = gp;\r\n                }\r\n                for (GraphPoint gp : points) {\r\n                    paintPoint(g2d, gp, insets);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n            private void paintLine(Graphics2D g2d, GraphPoint from, GraphPoint to, double insets) {\r\n                Point2D fromPoint = translate(from, insets);\r\n                Point2D toPoint = translate(to, insets);\r\n                g2d.setColor(Color.RED);\r\n                g2d.draw(new Line2D.Double(fromPoint, toPoint));\r\n            }\r\n\r\n            private void paintPoint(Graphics2D g2d, GraphPoint gp, double insets) {\r\n                Graphics2D g2 = (Graphics2D) g2d.create();\r\n\r\n                Point2D translated = translate(gp, insets);\r\n\r\n                double xPos = translated.getX();\r\n                double yPos = translated.getY();\r\n\r\n                double offset = radius;\r\n\r\n                g2.translate(xPos - offset, yPos - offset);\r\n                g2.setPaint(Color.blue);\r\n                g2.fill(new Ellipse2D.Double(0, 0, offset * 2, offset * 2));\r\n\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                String text = gp.getId();\r\n                double x = xPos - (fm.stringWidth(text) / 2);\r\n                double y = (yPos - radius - fm.getHeight()) + fm.getAscent();\r\n                g2d.drawString(text, (float)x, (float)y);\r\n\r\n                g2.dispose();\r\n            }\r\n\r\n            protected Point2D translate(GraphPoint gp, double insets) {\r\n                double xRange = maxRange.getX() - minRange.getX();\r\n                double yRange = maxRange.getY() - minRange.getY();\r\n\r\n                double offset = insets;\r\n                double width = getWidth() - (offset * 2);\r\n                double height = getHeight() - (offset * 2);\r\n\r\n                double xScale = width / xRange;\r\n                double yScale = height / yRange;\r\n\r\n                Point2D original = gp.getPoint();\r\n\r\n                double x = offset + ((original.getX() - minRange.getX()) * xScale);\r\n                double y = offset + ((original.getY() - minRange.getY()) * yScale);\r\n\r\n                System.out.println(gp.getId() + &quot; &quot; + x + &quot; x &quot; + y);\r\n\r\n                return new Point2D.Double(x, y);\r\n            }\r\n        }\r\n    }\r\n\r\nThe trick with the text is in understanding that I&#39;ve already translated the origin point of the context, so the 0x0 position is actually the middle of the circle, so you need to subtract the text offset from it.\r\n\r\nI&#39;ve also made a slight update to allow the workflow to pass in a `insets` value which will decrease the available visible area to &quot;help&quot; compensate for the text\r\n\r\n&gt; another question can make a line with an arrow in the tip\r\n\r\nSee...\r\n\r\n* https://stackoverflow.com/questions/15607427/java-make-a-directed-line-and-make-it-move/15607737#15607737\r\n* https://stackoverflow.com/questions/30991742/how-to-draw-2d-arrows-with-java-swing/30992415#30992415\r\n\r\nfor some ideas.  Just beware, this becomes increasingly more complex, as the arrows need to be rotated towards the point they are looking, something like https://stackoverflow.com/questions/47369565/connect-two-circles-with-a-line/47371140#47371140 might help\r\n\r\n  [1]: https://i.stack.imgur.com/DuNcm.png\r\n  [2]: https://i.stack.imgur.com/FNt0F.png","title":"Drawing super crowded points in Swing","body":"<p>So, the basic concept is to have some kind of &quot;translation&quot; for the &quot;virtual&quot; coordinates (your points) to the &quot;physical&quot; coordinates (of the screen)</p>\n<p>You did try and do this by scaling the graphics context, but the problem with this is it will also scale the size of the balls as well, which isn't really what you want to do.</p>\n<p>The following is a really basic example of one possible solution.</p>\n<p>It calculates the min/max range of the area represented by the points and then uses the component size to translate the points so that they will fit within the visible space</p>\n<p><a href=\"https://i.stack.imgur.com/DuNcm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DuNcm.png\" alt=\"Spaced Out\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Point2D;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nclass Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class GraphPoint {\n        private String id;\n        private Point2D point;\n\n        public GraphPoint(String id, Point2D point) {\n            this.id = id;\n            this.point = point;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public Point2D getPoint() {\n            return point;\n        }\n\n    }\n\n    public class TestPane extends JPanel {\n\n        private List&lt;GraphPoint&gt; points;\n        private int radius = 10;\n\n        private double virtualScale = 1.0;\n\n        private Point2D minRange;\n        private Point2D maxRange;\n\n        public TestPane() {\n            points = new ArrayList&lt;&gt;(16);\n            points.add(new GraphPoint(&quot;1&quot;, new Point2D.Double(35.19589389346247, 32.10152879327731)));\n            points.add(new GraphPoint(&quot;2&quot;, new Point2D.Double(35.20319591121872, 32.10318254621849)));\n            points.add(new GraphPoint(&quot;3&quot;, new Point2D.Double(35.20752617756255, 32.1025646605042)));\n            points.add(new GraphPoint(&quot;4&quot;, new Point2D.Double(35.21007339305892, 32.10107446554622)));\n            points.add(new GraphPoint(&quot;5&quot;, new Point2D.Double(35.21310882485876, 32.104636394957986)));\n\n            double minX = Double.MAX_VALUE;\n            double maxX = Double.MIN_VALUE;\n            double minY = Double.MAX_VALUE;\n            double maxY = Double.MIN_VALUE;\n\n            for (GraphPoint gp : points) {\n                minX = Math.min(minX, gp.getPoint().getX());\n                maxX = Math.max(maxX, gp.getPoint().getX());\n                minY = Math.min(minY, gp.getPoint().getY());\n                maxY = Math.max(maxY, gp.getPoint().getY());\n            }\n\n            minRange = new Point2D.Double(minX, minY);\n            maxRange = new Point2D.Double(maxX, maxY);\n\n            double xRange = maxRange.getX() - minRange.getX();\n            double yRange = maxRange.getY() - minRange.getY();\n\n            System.out.println(minRange.getX() + &quot; - &quot; + minRange.getY());\n            System.out.println(maxRange.getX() + &quot; - &quot; + maxRange.getY());\n            System.out.println(xRange + &quot; - &quot; + yRange);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            for (GraphPoint gp : points) {\n                paintPoint(g2d, gp);\n            }\n            g2d.dispose();\n        }\n\n        private void paintPoint(Graphics2D g2d, GraphPoint gp) {\n            Graphics2D g2 = (Graphics2D) g2d.create();\n\n            Point2D translated = translate(gp);\n\n            double xPos = translated.getX();\n            double yPos = translated.getY();\n\n            double offset = radius;\n\n            g2.translate(xPos - offset, yPos - offset);\n            g2.setPaint(Color.blue);\n            g2.fill(new Ellipse2D.Double(0, 0, offset * 2, offset * 2));\n            g2.dispose();\n        }\n\n        protected Point2D translate(GraphPoint gp) {\n\n            double xRange = maxRange.getX() - minRange.getX();\n            double yRange = maxRange.getY() - minRange.getY();\n\n            double offset = radius;\n            double width = getWidth() - (offset * 2);\n            double height = getHeight() - (offset * 2);\n\n            double xScale = width / xRange;\n            double yScale = height / yRange;\n\n            Point2D original = gp.getPoint();\n\n            double x = offset + ((original.getX() - minRange.getX()) * xScale);\n            double y = offset + ((original.getY() - minRange.getY()) * yScale);\n\n            System.out.println(gp.getId() + &quot; &quot; + x + &quot; x &quot; + y);\n\n            return new Point2D.Double(x, y);\n        }\n    }\n}\n</code></pre>\n<p>I have to stress that this is one possible solution and that your actual requirements might differ, but this should give you starting point from which you can define your own algorithm, for example, you could define your  own min/max range (ie 34x30 to 36x33)</p>\n<blockquote>\n<p>the String I have tried now for 1 hour and I didn't get it I did edit your code already you help us a lot. the string above the points the id I mean point &quot;0&quot; this string above the point if u can help us or show us it will be appreciated a lot!</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/FNt0F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FNt0F.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Line2D;\nimport java.awt.geom.Point2D;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nclass Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class GraphPoint {\n\n        private String id;\n        private Point2D point;\n\n        public GraphPoint(String id, Point2D point) {\n            this.id = id;\n            this.point = point;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public Point2D getPoint() {\n            return point;\n        }\n\n    }\n\n    public class TestPane extends JPanel {\n\n        private List&lt;GraphPoint&gt; points;\n        private int radius = 10;\n\n        private double virtualScale = 1.0;\n\n        private Point2D minRange;\n        private Point2D maxRange;\n\n        public TestPane() {\n            points = new ArrayList&lt;&gt;(16);\n            points.add(new GraphPoint(&quot;1&quot;, new Point2D.Double(35.19589389346247, 32.10152879327731)));\n            points.add(new GraphPoint(&quot;2&quot;, new Point2D.Double(35.20319591121872, 32.10318254621849)));\n            points.add(new GraphPoint(&quot;3&quot;, new Point2D.Double(35.20752617756255, 32.1025646605042)));\n            points.add(new GraphPoint(&quot;4&quot;, new Point2D.Double(35.21007339305892, 32.10107446554622)));\n            points.add(new GraphPoint(&quot;5&quot;, new Point2D.Double(35.21310882485876, 32.104636394957986)));\n\n            double minX = Double.MAX_VALUE;\n            double maxX = Double.MIN_VALUE;\n            double minY = Double.MAX_VALUE;\n            double maxY = Double.MIN_VALUE;\n\n            for (GraphPoint gp : points) {\n                minX = Math.min(minX, gp.getPoint().getX());\n                maxX = Math.max(maxX, gp.getPoint().getX());\n                minY = Math.min(minY, gp.getPoint().getY());\n                maxY = Math.max(maxY, gp.getPoint().getY());\n            }\n\n            minRange = new Point2D.Double(minX, minY);\n            maxRange = new Point2D.Double(maxX, maxY);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            FontMetrics fm = g2d.getFontMetrics();\n            double insets = fm.getHeight() + radius;\n\n            // I'm lazy, so I'm drawing the lines first, then painting\n            // the points over the top as I can't be bothered to workout\n            // a clever way to ensure the lines are always painted under\n            // the dots\n            GraphPoint lastPoint = null;\n            for (GraphPoint gp : points) {\n                if (lastPoint != null) {\n                    paintLine(g2d, lastPoint, gp, insets);\n                }\n                lastPoint = gp;\n            }\n            for (GraphPoint gp : points) {\n                paintPoint(g2d, gp, insets);\n            }\n            g2d.dispose();\n        }\n\n        private void paintLine(Graphics2D g2d, GraphPoint from, GraphPoint to, double insets) {\n            Point2D fromPoint = translate(from, insets);\n            Point2D toPoint = translate(to, insets);\n            g2d.setColor(Color.RED);\n            g2d.draw(new Line2D.Double(fromPoint, toPoint));\n        }\n\n        private void paintPoint(Graphics2D g2d, GraphPoint gp, double insets) {\n            Graphics2D g2 = (Graphics2D) g2d.create();\n\n            Point2D translated = translate(gp, insets);\n\n            double xPos = translated.getX();\n            double yPos = translated.getY();\n\n            double offset = radius;\n\n            g2.translate(xPos - offset, yPos - offset);\n            g2.setPaint(Color.blue);\n            g2.fill(new Ellipse2D.Double(0, 0, offset * 2, offset * 2));\n\n            FontMetrics fm = g2d.getFontMetrics();\n            String text = gp.getId();\n            double x = xPos - (fm.stringWidth(text) / 2);\n            double y = (yPos - radius - fm.getHeight()) + fm.getAscent();\n            g2d.drawString(text, (float)x, (float)y);\n\n            g2.dispose();\n        }\n\n        protected Point2D translate(GraphPoint gp, double insets) {\n            double xRange = maxRange.getX() - minRange.getX();\n            double yRange = maxRange.getY() - minRange.getY();\n\n            double offset = insets;\n            double width = getWidth() - (offset * 2);\n            double height = getHeight() - (offset * 2);\n\n            double xScale = width / xRange;\n            double yScale = height / yRange;\n\n            Point2D original = gp.getPoint();\n\n            double x = offset + ((original.getX() - minRange.getX()) * xScale);\n            double y = offset + ((original.getY() - minRange.getY()) * yScale);\n\n            System.out.println(gp.getId() + &quot; &quot; + x + &quot; x &quot; + y);\n\n            return new Point2D.Double(x, y);\n        }\n    }\n}\n</code></pre>\n<p>The trick with the text is in understanding that I've already translated the origin point of the context, so the 0x0 position is actually the middle of the circle, so you need to subtract the text offset from it.</p>\n<p>I've also made a slight update to allow the workflow to pass in a <code>insets</code> value which will decrease the available visible area to &quot;help&quot; compensate for the text</p>\n<blockquote>\n<p>another question can make a line with an arrow in the tip</p>\n</blockquote>\n<p>See...</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/15607427/java-make-a-directed-line-and-make-it-move/15607737#15607737\">Java make a directed line and make it move</a></li>\n<li><a href=\"https://stackoverflow.com/questions/30991742/how-to-draw-2d-arrows-with-java-swing/30992415#30992415\">How to draw 2d arrows with Java Swing?</a></li>\n</ul>\n<p>for some ideas.  Just beware, this becomes increasingly more complex, as the arrows need to be rotated towards the point they are looking, something like <a href=\"https://stackoverflow.com/questions/47369565/connect-two-circles-with-a-line/47371140#47371140\">Connect two circles with a line</a> might help</p>\n"}],"owner":{"account_id":19873855,"reputation":123,"user_id":15213090,"display_name":"Chopin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70176115,"answer_count":1,"score":1,"last_activity_date":1638316918,"creation_date":1638298342,"question_id":70174589,"body_markdown":"I need to be able to draw very crowded points for a graph, via Swing.  E.g: let&#39;s look at the following points:\r\n\r\np1=(35.19589389346247,32.10152879327731),\r\n\r\np2 = (35.20319591121872,32.10318254621849),\r\n\r\np3 = (35.20752617756255,32.1025646605042),\r\n\r\np4 = (35.21007339305892,32.10107446554622),\r\n\r\np5 = (35.21310882485876,32.104636394957986),\r\n\r\netc...\r\n\r\nI want to draw them, however, as can be seen, their coordinates are very dense to each other. In addition, expanding the scale also didn&#39;t work, but just moved the points inside the frame. \r\n\r\nHere is a glance at my attempt:  \r\n\r\n    private void Oval(Graphics2D g2, String id, int locationX, int locationY) {\r\n            AffineTransform old = g2.getTransform();\r\n            g2.scale(4,4);\r\n            g2.setPaint(Color.blue);\r\n            g2.fillOval(locationX - Radius, locationY - Radius, Radius * 2, Radius * 2);\r\n            g2.setPaint(Color.black);\r\n            g2.drawString(id, locationX + Radius, locationY - Radius);\r\n            g2.setTransform(old);\r\n        }\r\n\r\nThis is the code for the point drawing, considering the panel dimension is (1000,1000).\r\n\r\nHere is the output of the points&#39; drawing: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, they override each other, and it&#39;s clearly nothing like I was intended to do. My goal is to separate them so we can see the points clearly.   \r\n\r\n  [1]: https://i.stack.imgur.com/U6UbR.png","title":"Drawing super crowded points in Swing","body":"<p>I need to be able to draw very crowded points for a graph, via Swing.  E.g: let's look at the following points:</p>\n<p>p1=(35.19589389346247,32.10152879327731),</p>\n<p>p2 = (35.20319591121872,32.10318254621849),</p>\n<p>p3 = (35.20752617756255,32.1025646605042),</p>\n<p>p4 = (35.21007339305892,32.10107446554622),</p>\n<p>p5 = (35.21310882485876,32.104636394957986),</p>\n<p>etc...</p>\n<p>I want to draw them, however, as can be seen, their coordinates are very dense to each other. In addition, expanding the scale also didn't work, but just moved the points inside the frame.</p>\n<p>Here is a glance at my attempt:</p>\n<pre><code>private void Oval(Graphics2D g2, String id, int locationX, int locationY) {\n        AffineTransform old = g2.getTransform();\n        g2.scale(4,4);\n        g2.setPaint(Color.blue);\n        g2.fillOval(locationX - Radius, locationY - Radius, Radius * 2, Radius * 2);\n        g2.setPaint(Color.black);\n        g2.drawString(id, locationX + Radius, locationY - Radius);\n        g2.setTransform(old);\n    }\n</code></pre>\n<p>This is the code for the point drawing, considering the panel dimension is (1000,1000).</p>\n<p>Here is the output of the points' drawing:</p>\n<p><a href=\"https://i.stack.imgur.com/U6UbR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6UbR.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, they override each other, and it's clearly nothing like I was intended to do. My goal is to separate them so we can see the points clearly.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1638213116,"post_id":70160092,"comment_id":124023563,"body_markdown":"Are you using Jackson?","body":"Are you using Jackson?"},{"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"score":0,"creation_date":1638213150,"post_id":70160092,"comment_id":124023572,"body_markdown":"@JeffScottBrown Yes using jackson. This is inside a spring boot application.","body":"@JeffScottBrown Yes using jackson. This is inside a spring boot application."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1638213641,"post_id":70160092,"comment_id":124023716,"body_markdown":"I added the `jackson` tag for clarification.","body":"I added the <code>jackson</code> tag for clarification."},{"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"score":0,"creation_date":1638222197,"post_id":70160092,"comment_id":124026524,"body_markdown":"@JeffScottBrown Thanks. Lack of answers does seems to lead to assumptions there is no better way.","body":"@JeffScottBrown Thanks. Lack of answers does seems to lead to assumptions there is no better way."}],"answers":[{"tags":[],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638294131,"creation_date":1638293043,"answer_id":70173564,"question_id":70160092,"body_markdown":"Looks like the &quot;ideal case&quot; can be implemented with `@JsonCreator` annotation and passing the map with &quot;innerData&quot; into constructor. \r\n\r\n    class TestJson {\r\n    \r\n        @Test\r\n        void test() throws Exception {\r\n    \r\n            var json = &quot;{&quot; +\r\n                       &quot;    \\&quot;someData\\&quot;: {&quot; +\r\n                       &quot;        \\&quot;someContent\\&quot;: {&quot; +\r\n                       &quot;            \\&quot;item1\\&quot;: \\&quot;hello\\&quot;,&quot; +\r\n                       &quot;            \\&quot;otherItem25\\&quot;: \\&quot;245hb24bt\\&quot;,&quot; +\r\n                       &quot;            \\&quot;anotherData34\\&quot;: \\&quot;b42tb245\\&quot;&quot; +\r\n                       &quot;}}}&quot;;\r\n    \r\n            var value = new ObjectMapper().readValue(json, Root.class);\r\n    \r\n            assertThat(value.someData.someContent.innerData.get(&quot;item1&quot;))\r\n                .isEqualTo(&quot;hello&quot;);\r\n        }\r\n    \r\n    \r\n        // here we use &quot;public&quot; just to make the code shorter\r\n        // and let Jackson bind properties to the public fields\r\n       \r\n        static class Root {\r\n    \r\n           public SomeData someData;\r\n        }\r\n    \r\n        static class SomeData {\r\n    \r\n           public SomeContent someContent;\r\n        }\r\n    \r\n        static class SomeContent {\r\n    \r\n           public final Map&lt;String, Object&gt; innerData;\r\n    \r\n           @JsonCreator\r\n           public SomeContent(Map&lt;String, Object&gt; anyName) {\r\n               this.innerData = Map.copyOf(anyName);\r\n               // notice that the map &quot;anyName&quot; is mutable\r\n           }\r\n        }\r\n    }\r\n\r\nPlease, double check if there is no over-engineering here and that is exactly what is required in the solution. Probably, it would be enough to have simply `Map` type for &quot;someContent&quot; field (and also consider to handle map mutability in this case).\r\n\r\n    class SomeData {\r\n        Map&lt;String, String&gt; someContent;\r\n    }","title":"Mapping object values accounting for multiple Strings","body":"<p>Looks like the &quot;ideal case&quot; can be implemented with <code>@JsonCreator</code> annotation and passing the map with &quot;innerData&quot; into constructor.</p>\n<pre><code>class TestJson {\n\n    @Test\n    void test() throws Exception {\n\n        var json = &quot;{&quot; +\n                   &quot;    \\&quot;someData\\&quot;: {&quot; +\n                   &quot;        \\&quot;someContent\\&quot;: {&quot; +\n                   &quot;            \\&quot;item1\\&quot;: \\&quot;hello\\&quot;,&quot; +\n                   &quot;            \\&quot;otherItem25\\&quot;: \\&quot;245hb24bt\\&quot;,&quot; +\n                   &quot;            \\&quot;anotherData34\\&quot;: \\&quot;b42tb245\\&quot;&quot; +\n                   &quot;}}}&quot;;\n\n        var value = new ObjectMapper().readValue(json, Root.class);\n\n        assertThat(value.someData.someContent.innerData.get(&quot;item1&quot;))\n            .isEqualTo(&quot;hello&quot;);\n    }\n\n\n    // here we use &quot;public&quot; just to make the code shorter\n    // and let Jackson bind properties to the public fields\n   \n    static class Root {\n\n       public SomeData someData;\n    }\n\n    static class SomeData {\n\n       public SomeContent someContent;\n    }\n\n    static class SomeContent {\n\n       public final Map&lt;String, Object&gt; innerData;\n\n       @JsonCreator\n       public SomeContent(Map&lt;String, Object&gt; anyName) {\n           this.innerData = Map.copyOf(anyName);\n           // notice that the map &quot;anyName&quot; is mutable\n       }\n    }\n}\n</code></pre>\n<p>Please, double check if there is no over-engineering here and that is exactly what is required in the solution. Probably, it would be enough to have simply <code>Map</code> type for &quot;someContent&quot; field (and also consider to handle map mutability in this case).</p>\n<pre><code>class SomeData {\n    Map&lt;String, String&gt; someContent;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638293760,"creation_date":1638293760,"answer_id":70173731,"question_id":70160092,"body_markdown":"If I&#39;m reading the question correctly, it looks like you want to map _most_ of the object as Java beans, but want the `someContent` mapped as a `Map`.  Assuming that&#39;s the case, you can map the various non-bean properties as normal, and then map `someContent` as a `Map&lt;String, String&gt;` on the inner `SomeData` type.\r\n\r\n```lang-java\r\nclass Root {\r\n    private SomeData someData;\r\n}\r\n\r\nclass SomeData {\r\n    private Map&lt;String, String&gt; someContent;\r\n}\r\n```","title":"Mapping object values accounting for multiple Strings","body":"<p>If I'm reading the question correctly, it looks like you want to map <em>most</em> of the object as Java beans, but want the <code>someContent</code> mapped as a <code>Map</code>.  Assuming that's the case, you can map the various non-bean properties as normal, and then map <code>someContent</code> as a <code>Map&lt;String, String&gt;</code> on the inner <code>SomeData</code> type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Root {\n    private SomeData someData;\n}\n\nclass SomeData {\n    private Map&lt;String, String&gt; someContent;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7931461,"reputation":66,"user_id":5989155,"display_name":"Fikret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638316851,"creation_date":1638316851,"answer_id":70177584,"question_id":70160092,"body_markdown":"map will be best option in my opinion if your json will be dynamic and will change very often. if you only care about certain properties from any random thing that might be added to response , then just map properties you need to a POJO and use @JsonIgnoreProperty(ignore=unknown) annotation to ignore additional things that will come in response that you arent even interested.","title":"Mapping object values accounting for multiple Strings","body":"<p>map will be best option in my opinion if your json will be dynamic and will change very often. if you only care about certain properties from any random thing that might be added to response , then just map properties you need to a POJO and use @JsonIgnoreProperty(ignore=unknown) annotation to ignore additional things that will come in response that you arent even interested.</p>\n"}],"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70173564,"answer_count":3,"score":2,"last_activity_date":1638316851,"creation_date":1638212964,"question_id":70160092,"body_markdown":"I am receiving the following json from an external rest call. \r\n\r\n    {\r\n        // other keys coming in too, but already mapped\r\n        &quot;someData&quot;: {\r\n            &quot;someContent&quot;: {\r\n            &quot;item1&quot;: &quot;&quot;,\r\n            &quot;otherItem25&quot;: &quot;&quot;,\r\n            &quot;anotherData34&quot;: &quot;&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nI wish to map it to an object. \r\n\r\nI could do the following which works. \r\n\r\nSolution 1\r\n\r\n    private Map&lt;String, Map&lt;String, String&gt;&gt; someData;\r\n\r\nBut looking to map it to named objects. \r\n\r\nLike following which works too.\r\n\r\nSolution 2\r\n\r\n    class Root {\r\n        private someData someData;\r\n    }\r\n\r\n    class SomeData {\r\n        private SomeContent someContent;\r\n    }\r\n\r\n    class SomeContent {\r\n        @JsonProperty(&quot;item1&quot;)\r\n        private String one;\r\n    \r\n        @JsonProperty(&quot;otherItem25&quot;)\r\n        private String two;\r\n    \r\n        @JsonProperty(&quot;anotherData34&quot;)\r\n        private String three;\r\n    }\r\n\r\nThe issue is with the last bit where I am individually naming the Strings. I don&#39;t want to do that cos this is meant to grow \r\nand I could land with about 50 Strings soon. I don&#39;t want to create 50 Strings. \r\n\r\nOther than the above 2 solutions, is there a better way to map this json to an Object? \r\n\r\nSomething like this would have been ideal but won&#39;t work cos there is nothing to identify as `nnerData` in the json. \r\n\r\n    class SomeContent {\r\n        private Map&lt;String, String&gt; innerData;\r\n    }\r\n\r\nPlease advice. \r\n\r\nP.S: I can&#39;t modify the json\r\n\r\n","title":"Mapping object values accounting for multiple Strings","body":"<p>I am receiving the following json from an external rest call.</p>\n<pre><code>{\n    // other keys coming in too, but already mapped\n    &quot;someData&quot;: {\n        &quot;someContent&quot;: {\n        &quot;item1&quot;: &quot;&quot;,\n        &quot;otherItem25&quot;: &quot;&quot;,\n        &quot;anotherData34&quot;: &quot;&quot;\n        }\n    }\n}\n</code></pre>\n<p>I wish to map it to an object.</p>\n<p>I could do the following which works.</p>\n<p>Solution 1</p>\n<pre><code>private Map&lt;String, Map&lt;String, String&gt;&gt; someData;\n</code></pre>\n<p>But looking to map it to named objects.</p>\n<p>Like following which works too.</p>\n<p>Solution 2</p>\n<pre><code>class Root {\n    private someData someData;\n}\n\nclass SomeData {\n    private SomeContent someContent;\n}\n\nclass SomeContent {\n    @JsonProperty(&quot;item1&quot;)\n    private String one;\n\n    @JsonProperty(&quot;otherItem25&quot;)\n    private String two;\n\n    @JsonProperty(&quot;anotherData34&quot;)\n    private String three;\n}\n</code></pre>\n<p>The issue is with the last bit where I am individually naming the Strings. I don't want to do that cos this is meant to grow\nand I could land with about 50 Strings soon. I don't want to create 50 Strings.</p>\n<p>Other than the above 2 solutions, is there a better way to map this json to an Object?</p>\n<p>Something like this would have been ideal but won't work cos there is nothing to identify as <code>nnerData</code> in the json.</p>\n<pre><code>class SomeContent {\n    private Map&lt;String, String&gt; innerData;\n}\n</code></pre>\n<p>Please advice.</p>\n<p>P.S: I can't modify the json</p>\n"},{"tags":["java","list","algorithm"],"comments":[{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":1,"creation_date":1638238671,"post_id":70163243,"comment_id":124030025,"body_markdown":"Do you mean the letters undergo a random permutation but the numbers grouped by the letter remain in order?","body":"Do you mean the letters undergo a random permutation but the numbers grouped by the letter remain in order?"}],"answers":[{"tags":[],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638316540,"creation_date":1638237056,"answer_id":70163358,"question_id":70163243,"body_markdown":"If you conceptually arrange your data as a `HashMap&lt;Integer, Queue&lt;T&gt;&gt;`, structured as\r\n\r\n    0: A1,A2,A3\r\n    1: B1,B2,B3\r\n    2: C1,C2,C3\r\n\r\nThen once you&#39;ve chosen your random number you can just do `map.get(number).dequeue()` to get your value\r\n\r\nEdit: See discussion with Neil in the comments to this answer, it perhaps isn&#39;t the best answer for the question as it is phrased now. In particular, if it is used, the random number must be chosen very carefully for a random distribution of values","title":"Java randomly select list with maintain order","body":"<p>If you conceptually arrange your data as a <code>HashMap&lt;Integer, Queue&lt;T&gt;&gt;</code>, structured as</p>\n<pre><code>0: A1,A2,A3\n1: B1,B2,B3\n2: C1,C2,C3\n</code></pre>\n<p>Then once you've chosen your random number you can just do <code>map.get(number).dequeue()</code> to get your value</p>\n<p>Edit: See discussion with Neil in the comments to this answer, it perhaps isn't the best answer for the question as it is phrased now. In particular, if it is used, the random number must be chosen very carefully for a random distribution of values</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638279088,"creation_date":1638245802,"answer_id":70164230,"question_id":70163243,"body_markdown":"You can do that by randomly arranging them using `Collections.shuffle()` and then correcting them using a map.\r\n\r\n    static List&lt;String&gt; shuffleTricky(List&lt;String&gt; list) {\r\n        List&lt;String&gt; copy = new ArrayList&lt;&gt;(list);\r\n        Collections.shuffle(copy);\r\n        Map&lt;String, Deque&lt;String&gt;&gt; map = list.stream()\r\n            .collect(Collectors.groupingBy(s -&gt; s.substring(0, 1),\r\n                Collectors.toCollection(ArrayDeque::new)));\r\n        return copy.stream()\r\n            .map(s -&gt; map.get(s.substring(0, 1)).pop())\r\n            .toList();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; list = Arrays.asList(&quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;, &quot;C1&quot;, &quot;C2&quot;, &quot;C3&quot;);\r\n        List&lt;String&gt; result = shuffleTricky(list);\r\n        System.out.println(result);\r\n    }\r\n\r\noutput:\r\n\r\n    [C1, A1, B1, C2, B2, B3, A2, C3, A3]\r\n\r\n\r\nElements with the same first letter will remain in order after shuffling.","title":"Java randomly select list with maintain order","body":"<p>You can do that by randomly arranging them using <code>Collections.shuffle()</code> and then correcting them using a map.</p>\n<pre><code>static List&lt;String&gt; shuffleTricky(List&lt;String&gt; list) {\n    List&lt;String&gt; copy = new ArrayList&lt;&gt;(list);\n    Collections.shuffle(copy);\n    Map&lt;String, Deque&lt;String&gt;&gt; map = list.stream()\n        .collect(Collectors.groupingBy(s -&gt; s.substring(0, 1),\n            Collectors.toCollection(ArrayDeque::new)));\n    return copy.stream()\n        .map(s -&gt; map.get(s.substring(0, 1)).pop())\n        .toList();\n}\n\npublic static void main(String[] args) {\n    List&lt;String&gt; list = Arrays.asList(&quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;, &quot;C1&quot;, &quot;C2&quot;, &quot;C3&quot;);\n    List&lt;String&gt; result = shuffleTricky(list);\n    System.out.println(result);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[C1, A1, B1, C2, B2, B3, A2, C3, A3]\n</code></pre>\n<p>Elements with the same first letter will remain in order after shuffling.</p>\n"}],"owner":{"account_id":23497133,"reputation":19,"user_id":17547431,"display_name":"yong jung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1638279647,"accepted_answer_id":70163358,"answer_count":2,"score":-1,"last_activity_date":1638316540,"creation_date":1638235847,"question_id":70163243,"body_markdown":"I want to make a random list from the list, \r\nbut the conditions are a bit tricky, so I&#39;m thinking about how to implement it.\r\n\r\nlist   [A1,A2,A3,B1,B2,B3,C1,C2,C3]\r\n\r\nexample\r\n\r\nresult1 [A1,B1,A2,C1,A3,B2,C2,C3,B3]\r\nresult2 [C1,B1,B2,A1,A2,B3,C2,A3,C3]\r\n\r\nI want to put it with maintain order into a new list.\r\n\r\nIs there an algorithmically good way?","title":"Java randomly select list with maintain order","body":"<p>I want to make a random list from the list,\nbut the conditions are a bit tricky, so I'm thinking about how to implement it.</p>\n<p>list   [A1,A2,A3,B1,B2,B3,C1,C2,C3]</p>\n<p>example</p>\n<p>result1 [A1,B1,A2,C1,A3,B2,C2,C3,B3]\nresult2 [C1,B1,B2,A1,A2,B3,C2,A3,C3]</p>\n<p>I want to put it with maintain order into a new list.</p>\n<p>Is there an algorithmically good way?</p>\n"},{"tags":["java","null","set-theory"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":4,"creation_date":1341927386,"post_id":11414482,"comment_id":15053449,"body_markdown":"I&#39;m not sure there&#39;s a unique answer to this question; it depends on what you want to achieve.  The obvious answer is &quot;use an empty `Set`&quot;, but `NULL` might also be appropriate depending on what you&#39;re doing.","body":"I&#39;m not sure there&#39;s a unique answer to this question; it depends on what you want to achieve.  The obvious answer is &quot;use an empty <code>Set</code>&quot;, but <code>NULL</code> might also be appropriate depending on what you&#39;re doing."},{"owner":{"account_id":55665,"reputation":357059,"user_id":166749,"accept_rate":94,"display_name":"Fred Foo"},"score":4,"creation_date":1341927432,"post_id":11414482,"comment_id":15053479,"body_markdown":"There are myriad ways to represent the empty set, depending on the intended application. `Set&lt;E&gt; = new HashSet&lt;E&gt;()` is one of the simplest.","body":"There are myriad ways to represent the empty set, depending on the intended application. <code>Set&lt;E&gt; = new HashSet&lt;E&gt;()</code> is one of the simplest."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":4,"creation_date":1341927637,"post_id":11414482,"comment_id":15053592,"body_markdown":"Collections.emptySet() comes to mind ...","body":"Collections.emptySet() comes to mind ..."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1341927773,"post_id":11414482,"comment_id":15053666,"body_markdown":"@OliCharlesworth: I&#39;d say the absence of a set (you have zero sets), and an empty set (you have a set with zero elements) are not the same","body":"@OliCharlesworth: I&#39;d say the absence of a set (you have zero sets), and an empty set (you have a set with zero elements) are not the same"},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1341927785,"post_id":11414482,"comment_id":15053676,"body_markdown":"A Set with no contents would work for me.  I would not represent it in Java will a null.  There could be some logic to this, but the code would be annoying since every time you referred to the collection you&#39;d have to check for null.","body":"A Set with no contents would work for me.  I would not represent it in Java will a null.  There could be some logic to this, but the code would be annoying since every time you referred to the collection you&#39;d have to check for null."},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1341927912,"post_id":11414482,"comment_id":15053766,"body_markdown":"@LukasEder I have never seen a case in my programming career where that distinction made a difference or was even helpful.","body":"@LukasEder I have never seen a case in my programming career where that distinction made a difference or was even helpful."},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1341927965,"post_id":11414482,"comment_id":15053788,"body_markdown":"@TonyEnnis: Really?  No set and an empty set are pretty different...","body":"@TonyEnnis: Really?  No set and an empty set are pretty different..."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1341928178,"post_id":11414482,"comment_id":15053917,"body_markdown":"@TonyEnnis: One example is lazy initialisation. The absence of the set means that it hasn&#39;t been initialised yet","body":"@TonyEnnis: One example is lazy initialisation. The absence of the set means that it hasn&#39;t been initialised yet"},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1341928240,"post_id":11414482,"comment_id":15053957,"body_markdown":"@oli Perhaps mathematically.  While coding?  Never.  Now, if empty *must* be implemented as something distinct, I&#39;d choose a method that didn&#39;t involve me scattering null checks all over my code.","body":"@oli Perhaps mathematically.  While coding?  Never.  Now, if empty <i>must</i> be implemented as something distinct, I&#39;d choose a method that didn&#39;t involve me scattering null checks all over my code."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1341929326,"post_id":11414482,"comment_id":15054589,"body_markdown":"@TonyEnnis: Think about [`java.util.File.list()`](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#list()). It returns `null` if a file cannot provide its contained files (no set), or an empty array, if a file doesn&#39;t contain any files (empty set)...","body":"@TonyEnnis: Think about <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#list()\" rel=\"nofollow noreferrer\"><code>java.util.File.list()</code></a>. It returns <code>null</code> if a file cannot provide its contained files (no set), or an empty array, if a file doesn&#39;t contain any files (empty set)..."},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1341936713,"post_id":11414482,"comment_id":15058318,"body_markdown":"@lukas I get it, but the practical difference is very slight.  In your example, I can&#39;t show files no matter how it fails.  In any event, I don&#39;t have a problem with a method returning a null versus an instance. However, the empty set IS a set (?right?) and assigning the null to some &#39;mySet&#39; variable (which I believe is the use-case) would not be helpful at all.  I&#39;d sooner see an instance that behaves like a null-set than just using a Java null.  In that regard, an empty Set would be more appropriate if mathematically imprecise.","body":"@lukas I get it, but the practical difference is very slight.  In your example, I can&#39;t show files no matter how it fails.  In any event, I don&#39;t have a problem with a method returning a null versus an instance. However, the empty set IS a set (?right?) and assigning the null to some &#39;mySet&#39; variable (which I believe is the use-case) would not be helpful at all.  I&#39;d sooner see an instance that behaves like a null-set than just using a Java null.  In that regard, an empty Set would be more appropriate if mathematically imprecise."},{"owner":{"account_id":1613324,"reputation":341,"user_id":1491689,"display_name":"M4TT4CK"},"score":0,"creation_date":1342383907,"post_id":11414482,"comment_id":15185095,"body_markdown":"Thank you all for your efforts. Now, I definitely know how to approach this problem.","body":"Thank you all for your efforts. Now, I definitely know how to approach this problem."}],"answers":[{"tags":[],"owner":{"account_id":182820,"reputation":5625,"user_id":417791,"accept_rate":96,"display_name":"Wojciech Owczarczyk"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1453980235,"creation_date":1341927992,"answer_id":11414724,"question_id":11414482,"body_markdown":"Use [`Collections.emptySet():`][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#emptySet%28%29\r\n\r\n&gt; Returns the empty set (immutable). This set is serializable. Unlike\r\n&gt; the like-named field, this method is parameterized. This example\r\n&gt; illustrates the type-safe way to obtain an empty set:\r\n&gt; \r\n&gt;      Set&lt;String&gt; s = Collections.emptySet();   \r\nImplementation note: Implementations of this method need not create a separate Set object\r\n&gt; for each call. Using this method is likely to have comparable cost to\r\n&gt; using the like-named field. (Unlike this method, the field does not\r\n&gt; provide type safety.)","title":"How to implement the empty set - ∅?","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#emptySet%28%29\" rel=\"noreferrer\"><code>Collections.emptySet():</code></a></p>\n\n<blockquote>\n  <p>Returns the empty set (immutable). This set is serializable. Unlike\n  the like-named field, this method is parameterized. This example\n  illustrates the type-safe way to obtain an empty set:</p>\n\n<pre><code> Set&lt;String&gt; s = Collections.emptySet();   \n</code></pre>\n  \n  <p>Implementation note: Implementations of this method need not create a separate Set object\n  for each call. Using this method is likely to have comparable cost to\n  using the like-named field. (Unlike this method, the field does not\n  provide type safety.)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1638314754,"creation_date":1341931996,"answer_id":11416043,"question_id":11414482,"body_markdown":"Using `null` to represent an empty set is a **bad idea**.  A `null` doesn&#39;t behave like a `Set` because (obviously) all attempts to perform an operation on it will throw a `NullPointerException`.  That means that if you use `null` to denote an empty set, you code will be littered with tests for `null` ... and if you miss one, you&#39;ve got a bug.\r\n\r\nThe practical solution is to use `Collections.emptySet()` if you want an immutable empty set, or create an instance of the appropriate `Set` class (e.g. `new HashSet&lt;&gt;()`) if you want a mutable set that starts out empty.\r\n\r\n----------\r\n\r\nOn rereading the question, I realize that you may have meant something different to my original understanding.\r\n\r\nIf you were trying to implement / model mathematical set theory concepts in Java *from* scratch, you would probably implement `Set` as an immutable class.  (In mathematics, you don&#39;t mutate things!)  The empty set is then just a `Set` instance with no elements in it.  No special handling required.  \r\n\r\nThe `NULL` concept is not required ... unless you are specifically trying to incorporate a &quot;null&quot;, &quot;undefined sets&quot; or some similar concept in your mathematical model of sets.  (If you are, I&#39;m not sure we can advise you without understanding your model ... from a mathematical perspective.)","title":"How to implement the empty set - ∅?","body":"<p>Using <code>null</code> to represent an empty set is a <strong>bad idea</strong>.  A <code>null</code> doesn't behave like a <code>Set</code> because (obviously) all attempts to perform an operation on it will throw a <code>NullPointerException</code>.  That means that if you use <code>null</code> to denote an empty set, you code will be littered with tests for <code>null</code> ... and if you miss one, you've got a bug.</p>\n<p>The practical solution is to use <code>Collections.emptySet()</code> if you want an immutable empty set, or create an instance of the appropriate <code>Set</code> class (e.g. <code>new HashSet&lt;&gt;()</code>) if you want a mutable set that starts out empty.</p>\n<hr />\n<p>On rereading the question, I realize that you may have meant something different to my original understanding.</p>\n<p>If you were trying to implement / model mathematical set theory concepts in Java <em>from</em> scratch, you would probably implement <code>Set</code> as an immutable class.  (In mathematics, you don't mutate things!)  The empty set is then just a <code>Set</code> instance with no elements in it.  No special handling required.</p>\n<p>The <code>NULL</code> concept is not required ... unless you are specifically trying to incorporate a &quot;null&quot;, &quot;undefined sets&quot; or some similar concept in your mathematical model of sets.  (If you are, I'm not sure we can advise you without understanding your model ... from a mathematical perspective.)</p>\n"}],"owner":{"account_id":1613324,"reputation":341,"user_id":1491689,"display_name":"M4TT4CK"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42451,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"closed_date":1342003434,"answer_count":2,"score":25,"last_activity_date":1638314754,"creation_date":1341927242,"question_id":11414482,"body_markdown":"Assuming that you want to implement set theory concepts such as `element`, `set`, `collection` and `relation` in Java: How would you represent the *empty set* `∅`?\r\n\r\nDo I mislead myself, if I think of the `NULL` concept as it is used by the three-valued logic of databases?","title":"How to implement the empty set - ∅?","body":"<p>Assuming that you want to implement set theory concepts such as <code>element</code>, <code>set</code>, <code>collection</code> and <code>relation</code> in Java: How would you represent the <em>empty set</em> <code>∅</code>?</p>\n\n<p>Do I mislead myself, if I think of the <code>NULL</code> concept as it is used by the three-valued logic of databases?</p>\n"},{"tags":["java","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638314672,"creation_date":1638314672,"answer_id":70177350,"question_id":70177096,"body_markdown":"Your problem is actually toward the bottom of the stack trace:\r\n\r\n&gt;Caused by: java.lang.ClassCastException: net.sourceforge.jtds.jdbc.JtdsConnection cannot be cast to com.example.acam_try_2.Connection_to_Cities\r\n\r\nLook for this cast problem somewhere in the code executed within the _onClick_ listener. `return (Connection_to_Cities) con` looks like a good place to start.","title":"Could not execute method for android:onClick in Android Studio","body":"<p>Your problem is actually toward the bottom of the stack trace:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassCastException: net.sourceforge.jtds.jdbc.JtdsConnection cannot be cast to com.example.acam_try_2.Connection_to_Cities</p>\n</blockquote>\n<p>Look for this cast problem somewhere in the code executed within the <em>onClick</em> listener. <code>return (Connection_to_Cities) con</code> looks like a good place to start.</p>\n"}],"owner":{"account_id":23227201,"reputation":57,"user_id":17318569,"display_name":"Ștefan Tătărucă"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70177350,"answer_count":1,"score":0,"last_activity_date":1638314672,"creation_date":1638312639,"question_id":70177096,"body_markdown":"I&#39;m trying to show a database in android studio using java with listview. My app is crashing and I don&#39;t know why. In activity home i put a button( onClick-getData) and a listview. \r\nMy code is:\r\nHomeActivity.java (MainActivity is splasher)\r\n```\r\npackage com.example.acam_try_2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ListView;\r\nimport android.widget.SimpleAdapter;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class HomeActivity extends AppCompatActivity {\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n        getSupportActionBar().setDisplayShowTitleEnabled(false);\r\n    }\r\n    SimpleAdapter ad;\r\n    public void  GetData(View v)\r\n    {\r\n        ListView lstview=(ListView) findViewById(R.id.listView1);\r\n\r\n        List&lt;Map&lt;String,String&gt;&gt; Mydatalist=null;\r\n        ListItem Mydata=new ListItem();\r\n        Mydatalist=Mydata.getlist();\r\n        String [] Fromw= {&quot;City,Id_Of_City&quot;};\r\n        int[] Tow={R.id.City_name,R.id.City_id};\r\n        ad=new SimpleAdapter(HomeActivity.this,Mydatalist,R.layout.listlayout,Fromw,Tow);\r\n        lstview.setAdapter(ad);\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\nConnection_to_Cities where i connect the db:\r\n\r\n```\r\npackage com.example.acam_try_2;\r\nimport android.annotation.SuppressLint;\r\nimport android.os.StrictMode;\r\nimport android.util.Log;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\n\r\npublic class Connection_to_Cities {\r\n    Connection_to_Cities connection;\r\n    String ip,port,db,un,pass;\r\n\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n    public Connection_to_Cities conclass(){\r\n        ip=&quot;192.168.3.10&quot;;\r\n        db=&quot;Cities_names&quot;;\r\n        un=&quot;Stefan&quot;;\r\n        pass=&quot;stefan&quot;;\r\n        port=&quot;1433&quot;;\r\n        StrictMode.ThreadPolicy tpolicy=new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(tpolicy);\r\n        Connection con =null;\r\n        String ConnectionURL=null;\r\n        try\r\n        {\r\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n            ConnectionURL= &quot;jdbc:jtds:sqlserver://&quot;+ip+&quot;:&quot;+port+&quot;;&quot;+&quot;databaseName=&quot;+ db+ &quot;;user=&quot;+un+&quot;;password=&quot;+pass+&quot;;&quot;;\r\n            con= DriverManager.getConnection(ConnectionURL);\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            Log.e(&quot;Error : &quot;, ex.getMessage());\r\n        }\r\n        return (Connection_to_Cities) con;\r\n    }\r\n}\r\n```\r\n\r\nListItem.java:\r\n```\r\npackage com.example.acam_try_2;\r\n\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.sql.Connection;\r\npublic class ListItem {\r\n    Connection connection;\r\n    String ConnectionResult=&quot;&quot;;\r\n    Boolean isSuccess=false;\r\n\r\n    public List&lt;Map&lt;String,String&gt;&gt;getlist()\r\n    {\r\n        List&lt;Map&lt;String,String&gt;&gt; data= null;\r\n        data= new ArrayList&lt;Map&lt;String,String&gt;&gt;();\r\n        try{\r\n            Connection_to_Cities connection_to_cities= new Connection_to_Cities();\r\n            connection= (Connection) connection_to_cities.conclass();\r\n            if (connection != null)\r\n            {\r\n                String qu= &quot;SELECT * FROM Cities&quot;;\r\n                Statement statement=connection.createStatement();\r\n                ResultSet resultSet = statement.executeQuery(qu);\r\n                while(resultSet.next())    {\r\n                    Map&lt;String,String&gt; dtname=new HashMap&lt;String,String&gt;();\r\n                    dtname.put(&quot;City_name&quot;, resultSet.getString(&quot;City_name&quot;));\r\n                    dtname.put(&quot;City_id&quot;, resultSet.getString(&quot;City_id&quot;));\r\n                    data.add(dtname);\r\n\r\n                }\r\n                ConnectionResult=&quot;Succes&quot;;\r\n                isSuccess=true;\r\n                connection.close();\r\n\r\n            }\r\n            else{\r\n                ConnectionResult=&quot;Failed&quot;;\r\n            }\r\n        } catch (SQLException throwables) {\r\n            throwables.printStackTrace();\r\n        }\r\n        return data;\r\n    }\r\n\r\n}\r\n```\r\nlistlayout.xml:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:layout_editor_absoluteX=&quot;65dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;65dp&quot;&gt;\r\n&lt;!--This is for the city name --&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/City_name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textColor=&quot;@color/teal_200&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/City_id&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_toRightOf=&quot;@id/City_name&quot;\r\n        android:textColor=&quot;@color/teal_700&quot;/&gt;\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nIn AndroidManifest.xml i also wrote:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\n\r\nAnd the &#39;good stuff&#39; :\r\n```D/Atlas: Validating map...\r\nI/art: Background sticky concurrent mark sweep GC freed 2126(255KB) AllocSpace objects, 0(0B) LOS objects, 23% free, 1593KB/2MB, paused 9.701ms total 30.477ms\r\nD/: HostConnection::get() New Host Connection established 0xae833420, tid 6160\r\nI/OpenGLRenderer: Initialized EGL, version 1.4\r\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\nD/EGL_emulation: eglCreateContext: 0xae834d60: maj 2 min 0 rcv 2\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/OpenGLRenderer: Enabling debug mode 0\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.acam_try_2, PID: 6137\r\n    java.lang.IllegalStateException: Could not execute method for android:onClick\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:446)\r\n        at android.view.View.performClick(View.java:4780)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n        at android.view.View$PerformClick.run(View.java:19866)\r\n        at android.os.Handler.handleCallback(Handler.java:739)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:135)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)\r\n        at android.view.View.performClick(View.java:4780)&#160;\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n        at android.view.View$PerformClick.run(View.java:19866)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:739)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n        at android.os.Looper.loop(Looper.java:135)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n     Caused by: java.lang.ClassCastException: net.sourceforge.jtds.jdbc.JtdsConnection cannot be cast to com.example.acam_try_2.Connection_to_Cities\r\n        at com.example.acam_try_2.Connection_to_Cities.conclass(Connection_to_Cities.java:35)\r\n        at com.example.acam_try_2.ListItem.getlist(ListItem.java:22)\r\n        at com.example.acam_try_2.HomeActivity.GetData(HomeActivity.java:28)\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)&#160;\r\n        at android.view.View.performClick(View.java:4780)&#160;\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)&#160;\r\n        at android.view.View$PerformClick.run(View.java:19866)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:739)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n        at android.os.Looper.loop(Looper.java:135)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\nDisconnected from the target VM, address: &#39;localhost:63653&#39;, transport: &#39;socket&#39;\r\n```\r\nIs my first time when i do this kind of thing and i really don&#39;t know why it&#39;s happening :((","title":"Could not execute method for android:onClick in Android Studio","body":"<p>I'm trying to show a database in android studio using java with listview. My app is crashing and I don't know why. In activity home i put a button( onClick-getData) and a listview.\nMy code is:\nHomeActivity.java (MainActivity is splasher)</p>\n<pre><code>package com.example.acam_try_2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ListView;\nimport android.widget.SimpleAdapter;\n\nimport java.util.List;\nimport java.util.Map;\n\npublic class HomeActivity extends AppCompatActivity {\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n        getSupportActionBar().setDisplayShowTitleEnabled(false);\n    }\n    SimpleAdapter ad;\n    public void  GetData(View v)\n    {\n        ListView lstview=(ListView) findViewById(R.id.listView1);\n\n        List&lt;Map&lt;String,String&gt;&gt; Mydatalist=null;\n        ListItem Mydata=new ListItem();\n        Mydatalist=Mydata.getlist();\n        String [] Fromw= {&quot;City,Id_Of_City&quot;};\n        int[] Tow={R.id.City_name,R.id.City_id};\n        ad=new SimpleAdapter(HomeActivity.this,Mydatalist,R.layout.listlayout,Fromw,Tow);\n        lstview.setAdapter(ad);\n\n\n\n    }\n}\n</code></pre>\n<p>Connection_to_Cities where i connect the db:</p>\n<pre><code>package com.example.acam_try_2;\nimport android.annotation.SuppressLint;\nimport android.os.StrictMode;\nimport android.util.Log;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class Connection_to_Cities {\n    Connection_to_Cities connection;\n    String ip,port,db,un,pass;\n\n    @SuppressLint(&quot;NewApi&quot;)\n    public Connection_to_Cities conclass(){\n        ip=&quot;192.168.3.10&quot;;\n        db=&quot;Cities_names&quot;;\n        un=&quot;Stefan&quot;;\n        pass=&quot;stefan&quot;;\n        port=&quot;1433&quot;;\n        StrictMode.ThreadPolicy tpolicy=new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy(tpolicy);\n        Connection con =null;\n        String ConnectionURL=null;\n        try\n        {\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n            ConnectionURL= &quot;jdbc:jtds:sqlserver://&quot;+ip+&quot;:&quot;+port+&quot;;&quot;+&quot;databaseName=&quot;+ db+ &quot;;user=&quot;+un+&quot;;password=&quot;+pass+&quot;;&quot;;\n            con= DriverManager.getConnection(ConnectionURL);\n        }\n        catch (Exception ex)\n        {\n            Log.e(&quot;Error : &quot;, ex.getMessage());\n        }\n        return (Connection_to_Cities) con;\n    }\n}\n</code></pre>\n<p>ListItem.java:</p>\n<pre><code>package com.example.acam_try_2;\n\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.sql.Connection;\npublic class ListItem {\n    Connection connection;\n    String ConnectionResult=&quot;&quot;;\n    Boolean isSuccess=false;\n\n    public List&lt;Map&lt;String,String&gt;&gt;getlist()\n    {\n        List&lt;Map&lt;String,String&gt;&gt; data= null;\n        data= new ArrayList&lt;Map&lt;String,String&gt;&gt;();\n        try{\n            Connection_to_Cities connection_to_cities= new Connection_to_Cities();\n            connection= (Connection) connection_to_cities.conclass();\n            if (connection != null)\n            {\n                String qu= &quot;SELECT * FROM Cities&quot;;\n                Statement statement=connection.createStatement();\n                ResultSet resultSet = statement.executeQuery(qu);\n                while(resultSet.next())    {\n                    Map&lt;String,String&gt; dtname=new HashMap&lt;String,String&gt;();\n                    dtname.put(&quot;City_name&quot;, resultSet.getString(&quot;City_name&quot;));\n                    dtname.put(&quot;City_id&quot;, resultSet.getString(&quot;City_id&quot;));\n                    data.add(dtname);\n\n                }\n                ConnectionResult=&quot;Succes&quot;;\n                isSuccess=true;\n                connection.close();\n\n            }\n            else{\n                ConnectionResult=&quot;Failed&quot;;\n            }\n        } catch (SQLException throwables) {\n            throwables.printStackTrace();\n        }\n        return data;\n    }\n\n}\n</code></pre>\n<p>listlayout.xml:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:layout_editor_absoluteX=&quot;65dp&quot;\n        tools:layout_editor_absoluteY=&quot;65dp&quot;&gt;\n&lt;!--This is for the city name --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/City_name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textColor=&quot;@color/teal_200&quot;\n        /&gt;\n    &lt;TextView\n        android:id=&quot;@+id/City_id&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_toRightOf=&quot;@id/City_name&quot;\n        android:textColor=&quot;@color/teal_700&quot;/&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>In AndroidManifest.xml i also wrote:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>And the 'good stuff' :</p>\n<pre><code>I/art: Background sticky concurrent mark sweep GC freed 2126(255KB) AllocSpace objects, 0(0B) LOS objects, 23% free, 1593KB/2MB, paused 9.701ms total 30.477ms\nD/: HostConnection::get() New Host Connection established 0xae833420, tid 6160\nI/OpenGLRenderer: Initialized EGL, version 1.4\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nD/EGL_emulation: eglCreateContext: 0xae834d60: maj 2 min 0 rcv 2\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/OpenGLRenderer: Enabling debug mode 0\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/EGL_emulation: eglMakeCurrent: 0xae834d60: ver 2 0 (tinfo 0xae839430)\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.acam_try_2, PID: 6137\n    java.lang.IllegalStateException: Could not execute method for android:onClick\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:446)\n        at android.view.View.performClick(View.java:4780)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View$PerformClick.run(View.java:19866)\n        at android.os.Handler.handleCallback(Handler.java:739)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)\n        at android.view.View.performClick(View.java:4780) \n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119) \n        at android.view.View$PerformClick.run(View.java:19866) \n        at android.os.Handler.handleCallback(Handler.java:739) \n        at android.os.Handler.dispatchMessage(Handler.java:95) \n        at android.os.Looper.loop(Looper.java:135) \n        at android.app.ActivityThread.main(ActivityThread.java:5254) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:372) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \n     Caused by: java.lang.ClassCastException: net.sourceforge.jtds.jdbc.JtdsConnection cannot be cast to com.example.acam_try_2.Connection_to_Cities\n        at com.example.acam_try_2.Connection_to_Cities.conclass(Connection_to_Cities.java:35)\n        at com.example.acam_try_2.ListItem.getlist(ListItem.java:22)\n        at com.example.acam_try_2.HomeActivity.GetData(HomeActivity.java:28)\n        at java.lang.reflect.Method.invoke(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:372) \n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441) \n        at android.view.View.performClick(View.java:4780) \n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119) \n        at android.view.View$PerformClick.run(View.java:19866) \n        at android.os.Handler.handleCallback(Handler.java:739) \n        at android.os.Handler.dispatchMessage(Handler.java:95) \n        at android.os.Looper.loop(Looper.java:135) \n        at android.app.ActivityThread.main(ActivityThread.java:5254) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:372) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \nDisconnected from the target VM, address: 'localhost:63653', transport: 'socket'\n</code></pre>\n<p>Is my first time when i do this kind of thing and i really don't know why it's happening :((</p>\n"},{"tags":["java","android","android-listview","android-widget","android-remoteview"],"answers":[{"tags":[],"owner":{"account_id":475330,"reputation":385,"user_id":885587,"display_name":"eff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638314252,"creation_date":1638314252,"answer_id":70177300,"question_id":69247064,"body_markdown":"The issue was that I&#39;d missed out the service property in my AndroidManifest.xml file. I needed to add\r\n\r\n    &lt;service android:name=&quot;.MyListWidgetService&quot;                                    \r\n             android:permission=&quot;android.permission.BIND_REMOTEVIEWS&quot; /&gt;","title":"Android widget not populating","body":"<p>The issue was that I'd missed out the service property in my AndroidManifest.xml file. I needed to add</p>\n<pre><code>&lt;service android:name=&quot;.MyListWidgetService&quot;                                    \n         android:permission=&quot;android.permission.BIND_REMOTEVIEWS&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":475330,"reputation":385,"user_id":885587,"display_name":"eff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70177300,"answer_count":1,"score":0,"last_activity_date":1638314252,"creation_date":1632085447,"question_id":69247064,"body_markdown":"I&#39;ve created an android app and I&#39;m attempting to add a basic widget. On my physical phone the widget never populates and on the\r\nvirtual device I&#39;m using the launcher &quot;keeps stopping&quot; whenever the\r\nwidget would be visible (it&#39;s fine when my main application is visible -\r\nthis might also be because the MyWidgetProvider OnUpdate is only triggered on the main application&#39;s onPause() - not on any timed interval).\r\n\r\nI&#39;m attempting to follow\r\n[this](https://developer.android.com/guide/topics/appwidgets/#implementing_collections) to populate a ListView widget using remote\r\nviews.\r\n\r\nI had this working with a TextView in place of the ListView but I wanted the extra formatting and built in vertical scrolling of the ListView widget.\r\n\r\nWhen debugging I can&#39;t see anything going wrong but clearly something is\r\nsomewhere and I can only imagine it&#39;s going wrong within the onUpdate\r\nmethod.\r\n\r\nCan anyone see what&#39;s wrong or have ideas for where to focus any\r\ndebugging? Any clues appreciated!\r\n\r\n---\r\nMyWidgetProvider.java\r\n``` lang-java\r\npublic class MyWidgetProvider extends AppWidgetProvider {\r\n    @Override\r\n    public void onUpdate (Context context,\r\n                          AppWidgetManager appWidgetManager,\r\n                          int[] appWidgetIds) {\r\n        // Attach the remote adaptor to each of the widgets\r\n        for (int appWidgetId : appWidgetIds) {\r\n            Log.d(&quot;LOG&quot;, &quot;Updating widget &quot; + appWidgetId);\r\n            // Create the intent which references the list widget\r\n            // service.\r\n            Intent intent = new Intent(context, MyListWidgetService.class);\r\n            RemoteViews rv = new RemoteViews(context.getPackageName(),\r\n                                             R.layout.appwidget);\r\n            rv.setRemoteAdapter(R.id.widgetListView, intent);\r\n\r\n            appWidgetManager.updateAppWidget(appWidgetId, rv);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n---\r\nMyListWidgetService.java\r\n``` lang-java\r\npublic class MyListWidgetService extends RemoteViewsService {\r\n    @Override\r\n    public RemoteViewsFactory onGetViewFactory(Intent intent) {\r\n        return new MyRemoteViewsFactory(this.getApplicationContext());\r\n    }\r\n}\r\n\r\nclass MyRemoteViewsFactory implements RemoteViewsService.RemoteViewsFactory {\r\n    public MyRemoteViewsFactory(Context context) {\r\n        mContext = context;\r\n    }\r\n\r\n    public void onCreate() {\r\n    }\r\n\r\n    public void onDestroy() {\r\n    }\r\n\r\n    public int getCount() {\r\n        return 4;\r\n    }\r\n\r\n    public RemoteViews getViewAt(int position) {\r\n        RemoteViews rv;\r\n        int val;\r\n        rv = new RemoteViews(mContext.getPackageName(), R.layout.widget_list_item_view);\r\n        // Dummy values\r\n        rv.setTextViewText(R.id.widgetItemA, &quot;Dummy Text 1&quot;);\r\n        rv.setTextViewText(R.id.widgetItemB, &quot;Dummy Text 2&quot;);\r\n        val = (position % 3);\r\n        if (val != 0) {\r\n            rv.setTextViewText(R.id.widgetItemC, &quot;(&quot; + val + &quot;)&quot;);\r\n        }\r\n\r\n        return rv;\r\n    }\r\n\r\n    public RemoteViews getLoadingView() {\r\n        return null;\r\n    }\r\n\r\n    public int getViewTypeCount() {\r\n        return 1;\r\n    }\r\n\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    public boolean hasStableIds() {\r\n        return true;\r\n    }\r\n\r\n    public void onDataSetChanged() {\r\n    }\r\n}\r\n```\r\n\r\n---\r\nappwidget.xml\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/widgetListView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/rounded_rect&quot;\r\n        android:fadeScrollbars=&quot;true&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n---\r\nwidget_list_item_view.xml\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/widgetItemA&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;@dimen/padding&quot;\r\n        android:layout_marginTop=&quot;@dimen/padding&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/widgetItemB&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;@dimen/padding&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/widgetItemC&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;@dimen/padding&quot;\r\n        android:layout_marginEnd=&quot;@dimen/padding&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n","title":"Android widget not populating","body":"<p>I've created an android app and I'm attempting to add a basic widget. On my physical phone the widget never populates and on the\nvirtual device I'm using the launcher &quot;keeps stopping&quot; whenever the\nwidget would be visible (it's fine when my main application is visible -\nthis might also be because the MyWidgetProvider OnUpdate is only triggered on the main application's onPause() - not on any timed interval).</p>\n<p>I'm attempting to follow\n<a href=\"https://developer.android.com/guide/topics/appwidgets/#implementing_collections\" rel=\"nofollow noreferrer\">this</a> to populate a ListView widget using remote\nviews.</p>\n<p>I had this working with a TextView in place of the ListView but I wanted the extra formatting and built in vertical scrolling of the ListView widget.</p>\n<p>When debugging I can't see anything going wrong but clearly something is\nsomewhere and I can only imagine it's going wrong within the onUpdate\nmethod.</p>\n<p>Can anyone see what's wrong or have ideas for where to focus any\ndebugging? Any clues appreciated!</p>\n<hr />\n<p>MyWidgetProvider.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWidgetProvider extends AppWidgetProvider {\n    @Override\n    public void onUpdate (Context context,\n                          AppWidgetManager appWidgetManager,\n                          int[] appWidgetIds) {\n        // Attach the remote adaptor to each of the widgets\n        for (int appWidgetId : appWidgetIds) {\n            Log.d(&quot;LOG&quot;, &quot;Updating widget &quot; + appWidgetId);\n            // Create the intent which references the list widget\n            // service.\n            Intent intent = new Intent(context, MyListWidgetService.class);\n            RemoteViews rv = new RemoteViews(context.getPackageName(),\n                                             R.layout.appwidget);\n            rv.setRemoteAdapter(R.id.widgetListView, intent);\n\n            appWidgetManager.updateAppWidget(appWidgetId, rv);\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>MyListWidgetService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyListWidgetService extends RemoteViewsService {\n    @Override\n    public RemoteViewsFactory onGetViewFactory(Intent intent) {\n        return new MyRemoteViewsFactory(this.getApplicationContext());\n    }\n}\n\nclass MyRemoteViewsFactory implements RemoteViewsService.RemoteViewsFactory {\n    public MyRemoteViewsFactory(Context context) {\n        mContext = context;\n    }\n\n    public void onCreate() {\n    }\n\n    public void onDestroy() {\n    }\n\n    public int getCount() {\n        return 4;\n    }\n\n    public RemoteViews getViewAt(int position) {\n        RemoteViews rv;\n        int val;\n        rv = new RemoteViews(mContext.getPackageName(), R.layout.widget_list_item_view);\n        // Dummy values\n        rv.setTextViewText(R.id.widgetItemA, &quot;Dummy Text 1&quot;);\n        rv.setTextViewText(R.id.widgetItemB, &quot;Dummy Text 2&quot;);\n        val = (position % 3);\n        if (val != 0) {\n            rv.setTextViewText(R.id.widgetItemC, &quot;(&quot; + val + &quot;)&quot;);\n        }\n\n        return rv;\n    }\n\n    public RemoteViews getLoadingView() {\n        return null;\n    }\n\n    public int getViewTypeCount() {\n        return 1;\n    }\n\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public boolean hasStableIds() {\n        return true;\n    }\n\n    public void onDataSetChanged() {\n    }\n}\n</code></pre>\n<hr />\n<p>appwidget.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/widgetListView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@drawable/rounded_rect&quot;\n        android:fadeScrollbars=&quot;true&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<hr />\n<p>widget_list_item_view.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/widgetItemA&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;@dimen/padding&quot;\n        android:layout_marginTop=&quot;@dimen/padding&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/widgetItemB&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;@dimen/padding&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/widgetItemC&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;@dimen/padding&quot;\n        android:layout_marginEnd=&quot;@dimen/padding&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1788658,"reputation":5930,"user_id":1629527,"accept_rate":53,"display_name":"dd619"},"score":0,"creation_date":1355479481,"post_id":13876085,"comment_id":19111812,"body_markdown":"can you add more details to your question?","body":"can you add more details to your question?"},{"owner":{"account_id":1878904,"reputation":141,"user_id":1699512,"display_name":"user1699512"},"score":0,"creation_date":1355568562,"post_id":13876085,"comment_id":19137970,"body_markdown":"I have an application where we allow user to use the application for certain duration, hence we get the time limit from server and check for application expiry time. Now we are planning the application to be used in offline support, so I have limited with online support to check application expiry. I thought as every mobile phone has a carrier, hence can we not use the carrier information to get updated time so that My job is done.","body":"I have an application where we allow user to use the application for certain duration, hence we get the time limit from server and check for application expiry time. Now we are planning the application to be used in offline support, so I have limited with online support to check application expiry. I thought as every mobile phone has a carrier, hence can we not use the carrier information to get updated time so that My job is done."}],"owner":{"account_id":1878904,"reputation":141,"user_id":1699512,"display_name":"user1699512"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":0,"score":4,"last_activity_date":1638312927,"creation_date":1355478220,"question_id":13876085,"body_markdown":"I am relying on device time in  my application ,where we have a time policy for user such that he can  only use mobile application during specified time period. When mobile is connected to network the time on device will be accurate but in offline we can not trust device time i.e. It has to work without network where I can&#39;t rely on user time.\r\n\r\n\r\nI felt it&#39;s a challenging to learn but I have a little time to implement, any suggestion&#39;s would be great unless removing the offile policy :)\r\n\r\n\r\nThanks and regards,\r\nkarthik kondlada","title":"Programmatically get Carrier time in android","body":"<p>I am relying on device time in  my application ,where we have a time policy for user such that he can  only use mobile application during specified time period. When mobile is connected to network the time on device will be accurate but in offline we can not trust device time i.e. It has to work without network where I can't rely on user time.</p>\n<p>I felt it's a challenging to learn but I have a little time to implement, any suggestion's would be great unless removing the offile policy :)</p>\n<p>Thanks and regards,\nkarthik kondlada</p>\n"},{"tags":["java","android","string","kml"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1638299249,"post_id":70174592,"comment_id":124050235,"body_markdown":"You could probably use something like `yourString = yourString.replaceAll(&quot;(\\\\d+[.]\\\\d+),(\\\\d+[.]\\\\d+)&quot;, &quot;$2,$1&quot;);`","body":"You could probably use something like <code>yourString = yourString.replaceAll(&quot;(\\\\d+[.]\\\\d+),(\\\\d+[.]\\\\d+)&quot;, &quot;$2,$1&quot;);</code>"},{"owner":{"account_id":21013482,"reputation":1,"user_id":15441558,"display_name":"Teo Pal"},"score":0,"creation_date":1638310029,"post_id":70174592,"comment_id":124053949,"body_markdown":"Thanks but i doesn&#39;t seem to be working","body":"Thanks but i doesn&#39;t seem to be working"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1638371928,"post_id":70174592,"comment_id":124071090,"body_markdown":"Works for me (added handling negative values) https://ideone.com/4VYtvc . If it still doesn&#39;t work for you make sure you are handling text which you want.","body":"Works for me (added handling negative values) <a href=\"https://ideone.com/4VYtvc\" rel=\"nofollow noreferrer\">ideone.com/4VYtvc</a> . If it still doesn&#39;t work for you make sure you are handling text which you want."},{"owner":{"account_id":21013482,"reputation":1,"user_id":15441558,"display_name":"Teo Pal"},"score":0,"creation_date":1638385395,"post_id":70174592,"comment_id":124076754,"body_markdown":"wow thanks its working after all I tried it again.","body":"wow thanks its working after all I tried it again."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638734106,"post_id":70174592,"comment_id":124161171,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638299381,"creation_date":1638299381,"answer_id":70174788,"question_id":70174592,"body_markdown":"That&#39;s not how regex works.  When it comes to string manipulation, simple is best.  Try something like this:\r\n\r\n    public static String flipCoords(String input) {\r\n\t\tStringBuilder output = new StringBuilder();\r\n\t\tString[] coords = input.split(&quot;\\\\s&quot;);\r\n\t\tfor (String coord : coords) {\r\n\t\t\tString[] point = coord.split(&quot;,&quot;);\r\n\t\t\tif (output.length() &gt; 0) {\r\n\t\t\t\toutput.append(&#39; &#39;);\r\n\t\t\t}\r\n\t\t\toutput.append(point[1]).append(&#39;,&#39;).append(point[0]);\r\n\t\t}\r\n\t\t\r\n\t\treturn output.toString();\r\n\t}","title":"Regex to replace x axis with y axis (Java)","body":"<p>That's not how regex works.  When it comes to string manipulation, simple is best.  Try something like this:</p>\n<pre><code>public static String flipCoords(String input) {\n    StringBuilder output = new StringBuilder();\n    String[] coords = input.split(&quot;\\\\s&quot;);\n    for (String coord : coords) {\n        String[] point = coord.split(&quot;,&quot;);\n        if (output.length() &gt; 0) {\n            output.append(' ');\n        }\n        output.append(point[1]).append(',').append(point[0]);\n    }\n    \n    return output.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":21013482,"reputation":1,"user_id":15441558,"display_name":"Teo Pal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1638312431,"creation_date":1638298364,"question_id":70174592,"body_markdown":"I have a string with coordinates I want to pass on my .kml file. But in order for it to work I have to replace the numbers on the x axis with the numbers on the y axis ([photo][1]).I am working on android studio. Is there a Regex for this so that I can use the .replace() method?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KwrgZ.png","title":"Regex to replace x axis with y axis (Java)","body":"<p>I have a string with coordinates I want to pass on my .kml file. But in order for it to work I have to replace the numbers on the x axis with the numbers on the y axis (<a href=\"https://i.stack.imgur.com/KwrgZ.png\" rel=\"nofollow noreferrer\">photo</a>).I am working on android studio. Is there a Regex for this so that I can use the .replace() method?</p>\n"},{"tags":["java","android","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":22180875,"reputation":106,"user_id":16424611,"display_name":"AR Hakim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638312050,"creation_date":1638274987,"answer_id":70169315,"question_id":70134385,"body_markdown":"First of all you need to create a menu folder in res and create a new file named navigation.xml, You can adjust according to your needs. Below is a sample code in navigation.xml that I use:\r\n\r\n    \r\n    &lt;item\r\n        android:id=&quot;@+id/navigation_home&quot;\r\n        android:icon=&quot;@drawable/ic_nav_home&quot;\r\n        android:title=&quot;Dahboard&quot; /&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/navigation_category&quot;\r\n        android:icon=&quot;@drawable/ic_wallet&quot;\r\n        android:title=&quot;E-Wallet&quot; /&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/navigation_promo&quot;\r\n        android:icon=&quot;@drawable/ic_promo&quot;\r\n        android:title=&quot;Promo&quot; /&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/navigation_wishlist&quot;\r\n        android:icon=&quot;@drawable/ic_no_favorite&quot;\r\n        android:title=&quot;Wishlist&quot; /&gt;\r\n\r\n&lt;/menu&gt;\r\n\r\n\r\nbecause you have called bottom navigation in BaseActivity Layout then you just need to add some code in OnCreate Block code in your BaseActivity.java:\r\n\r\n    viewPager = findViewById(R.id.viewpager);\r\n        viewPager.setAdapter(new MyAdapter(getSupportFragmentManager()));\r\n        viewPager.setOffscreenPageLimit(pager_number);\r\n        createNotificationChannel();\r\n        getToken();\r\n        navigation = findViewById(R.id.navigation);\r\n        navigation.setOnNavigationItemSelectedListener(item -&gt; {\r\n            switch (item.getItemId()) {\r\n                case R.id.navigation_home:\r\n                    viewPager.setCurrentItem(0);\r\n                    return true;\r\n                case R.id.navigation_category:\r\n                    viewPager.setCurrentItem(1);\r\n                    return true;\r\n                case R.id.navigation_promo:\r\n                    viewPager.setCurrentItem(2);\r\n                    return true;\r\n                case R.id.navigation_wishlist:\r\n                    viewPager.setCurrentItem(3);\r\n                    return true;\r\n            }\r\n            return false;\r\n        });\r\n\r\n        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\r\n            @Override\r\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\r\n            }\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                if (prevMenuItem != null) {\r\n                    prevMenuItem.setChecked(false);\r\n                } else {\r\n                    navigation.getMenu().getItem(0).setChecked(false);\r\n                }\r\n                navigation.getMenu().getItem(position).setChecked(true);\r\n                prevMenuItem = navigation.getMenu().getItem(position);\r\n            }\r\n\r\n            @Override\r\n            public void onPageScrollStateChanged(int state) {\r\n\r\n            }\r\n        });\r\n\r\n    \r\nand then you can add this code bellow your onCreate Block code:\r\n\r\n        public class MyAdapter extends FragmentPagerAdapter {\r\n\r\n        MyAdapter(FragmentManager fm) {\r\n            super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n\r\n            switch (position) {\r\n                case 0:\r\n                    return new HomeFragment();\r\n                case 1:\r\n                    return new EwalletFragment();\r\n                case 2:\r\n                    return new PromoFragment();\r\n                case 3:\r\n                    return new WishlistFragment();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return pager_number;\r\n        }\r\n\r\n    }\r\n\r\nDon&#39;t forget to initialize variable abovr onCreate Block code:\r\n\r\n    public BottomNavigationView navigation;\r\n    public ViewPager viewPager;\r\n    MenuItem prevMenuItem;\r\n    int pager_number = 4;\r\n\r\n\r\n**EDIT: **\r\n\r\nIf you want to move to another activity, you just need to add an intent in one of the case.\r\n\r\nFor example I want the bottom navigation with id navigation_wishlist to move to SettingActivity when clicked.\r\n\r\n                    case R.id.navigation_wishlist:\r\n                            Intent i = new Intent(this, SettingActivity.class);\r\n                            startActivity(i);\r\n                    return true;\r\n\r\nI hope the above solution can solve your problem. ","title":"How can i use bottom navigation view referring to fragments and activities?","body":"<p>First of all you need to create a menu folder in res and create a new file named navigation.xml, You can adjust according to your needs. Below is a sample code in navigation.xml that I use:</p>\n<pre><code>&lt;item\n    android:id=&quot;@+id/navigation_home&quot;\n    android:icon=&quot;@drawable/ic_nav_home&quot;\n    android:title=&quot;Dahboard&quot; /&gt;\n\n&lt;item\n    android:id=&quot;@+id/navigation_category&quot;\n    android:icon=&quot;@drawable/ic_wallet&quot;\n    android:title=&quot;E-Wallet&quot; /&gt;\n\n&lt;item\n    android:id=&quot;@+id/navigation_promo&quot;\n    android:icon=&quot;@drawable/ic_promo&quot;\n    android:title=&quot;Promo&quot; /&gt;\n\n&lt;item\n    android:id=&quot;@+id/navigation_wishlist&quot;\n    android:icon=&quot;@drawable/ic_no_favorite&quot;\n    android:title=&quot;Wishlist&quot; /&gt;\n</code></pre>\n\n<p>because you have called bottom navigation in BaseActivity Layout then you just need to add some code in OnCreate Block code in your BaseActivity.java:</p>\n<pre><code>viewPager = findViewById(R.id.viewpager);\n    viewPager.setAdapter(new MyAdapter(getSupportFragmentManager()));\n    viewPager.setOffscreenPageLimit(pager_number);\n    createNotificationChannel();\n    getToken();\n    navigation = findViewById(R.id.navigation);\n    navigation.setOnNavigationItemSelectedListener(item -&gt; {\n        switch (item.getItemId()) {\n            case R.id.navigation_home:\n                viewPager.setCurrentItem(0);\n                return true;\n            case R.id.navigation_category:\n                viewPager.setCurrentItem(1);\n                return true;\n            case R.id.navigation_promo:\n                viewPager.setCurrentItem(2);\n                return true;\n            case R.id.navigation_wishlist:\n                viewPager.setCurrentItem(3);\n                return true;\n        }\n        return false;\n    });\n\n    viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n        }\n        @Override\n        public void onPageSelected(int position) {\n            if (prevMenuItem != null) {\n                prevMenuItem.setChecked(false);\n            } else {\n                navigation.getMenu().getItem(0).setChecked(false);\n            }\n            navigation.getMenu().getItem(position).setChecked(true);\n            prevMenuItem = navigation.getMenu().getItem(position);\n        }\n\n        @Override\n        public void onPageScrollStateChanged(int state) {\n\n        }\n    });\n</code></pre>\n<p>and then you can add this code bellow your onCreate Block code:</p>\n<pre><code>    public class MyAdapter extends FragmentPagerAdapter {\n\n    MyAdapter(FragmentManager fm) {\n        super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n\n        switch (position) {\n            case 0:\n                return new HomeFragment();\n            case 1:\n                return new EwalletFragment();\n            case 2:\n                return new PromoFragment();\n            case 3:\n                return new WishlistFragment();\n        }\n        return null;\n    }\n\n    @Override\n    public int getCount() {\n        return pager_number;\n    }\n\n}\n</code></pre>\n<p>Don't forget to initialize variable abovr onCreate Block code:</p>\n<pre><code>public BottomNavigationView navigation;\npublic ViewPager viewPager;\nMenuItem prevMenuItem;\nint pager_number = 4;\n</code></pre>\n<p>**EDIT: **</p>\n<p>If you want to move to another activity, you just need to add an intent in one of the case.</p>\n<p>For example I want the bottom navigation with id navigation_wishlist to move to SettingActivity when clicked.</p>\n<pre><code>                case R.id.navigation_wishlist:\n                        Intent i = new Intent(this, SettingActivity.class);\n                        startActivity(i);\n                return true;\n</code></pre>\n<p>I hope the above solution can solve your problem.</p>\n"}],"owner":{"account_id":19100662,"reputation":31,"user_id":13949028,"display_name":"arianwww"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638312050,"creation_date":1638012729,"question_id":70134385,"body_markdown":"I want to implement logic to my BaseActivity.java where I can switch between activities and fragments.\r\n\r\nI came upon only for solutions with only fragments: https://www.truiton.com/2017/01/android-bottom-navigation-bar-example/ or only activities:\r\nhttps://stackoverflow.com/questions/48604239/how-can-i-implement-the-bottom-navigation-bar-into-an-app-for-android\r\n How can I implement the bottom navigation bar into an app for android?\r\n\r\nbut I don&#39;t know how to combine them\r\n\r\n```\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n        android:id=&quot;@+id/bottom_app_bar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:fabAlignmentMode=&quot;center&quot;\r\n        app:contentInsetRight=&quot;0dp&quot;\r\n        app:contentInsetEnd=&quot;0dp&quot;\r\n        app:contentInsetStart=&quot;0dp&quot;\r\n        app:contentInsetLeft=&quot;0dp&quot;\r\n        android:layout_gravity=&quot;bottom|center&quot; &gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNavigation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:foregroundGravity=&quot;bottom&quot;\r\n            app:itemIconTint=&quot;@color/primary_icon_color&quot;\r\n            app:itemRippleColor=&quot;@color/primary_icon_color_super_light&quot;\r\n            app:itemTextColor=&quot;@color/primary_icon_color&quot;\r\n            app:labelVisibilityMode=&quot;labeled&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt; \r\n```","title":"How can i use bottom navigation view referring to fragments and activities?","body":"<p>I want to implement logic to my BaseActivity.java where I can switch between activities and fragments.</p>\n<p>I came upon only for solutions with only fragments: <a href=\"https://www.truiton.com/2017/01/android-bottom-navigation-bar-example/\" rel=\"nofollow noreferrer\">https://www.truiton.com/2017/01/android-bottom-navigation-bar-example/</a> or only activities:\n<a href=\"https://stackoverflow.com/questions/48604239/how-can-i-implement-the-bottom-navigation-bar-into-an-app-for-android\">How can I implement the bottom navigation bar into an app for android?</a>\nHow can I implement the bottom navigation bar into an app for android?</p>\n<p>but I don't know how to combine them</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\n        android:id=&quot;@+id/bottom_app_bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:fabAlignmentMode=&quot;center&quot;\n        app:contentInsetRight=&quot;0dp&quot;\n        app:contentInsetEnd=&quot;0dp&quot;\n        app:contentInsetStart=&quot;0dp&quot;\n        app:contentInsetLeft=&quot;0dp&quot;\n        android:layout_gravity=&quot;bottom|center&quot; &gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottomNavigation&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentBottom=&quot;true&quot;\n            android:foregroundGravity=&quot;bottom&quot;\n            app:itemIconTint=&quot;@color/primary_icon_color&quot;\n            app:itemRippleColor=&quot;@color/primary_icon_color_super_light&quot;\n            app:itemTextColor=&quot;@color/primary_icon_color&quot;\n            app:labelVisibilityMode=&quot;labeled&quot;\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt; \n</code></pre>\n"},{"tags":["java","jackson","json-serialization"],"comments":[{"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"score":0,"creation_date":1638192728,"post_id":70155482,"comment_id":124015106,"body_markdown":"Are you asking about different behaviors for different fields of the same class, or about different behaviors for different places of use of the class?","body":"Are you asking about different behaviors for different fields of the same class, or about different behaviors for different places of use of the class?"},{"owner":{"account_id":2904446,"reputation":13,"user_id":2490204,"display_name":"MittulRazdan"},"score":0,"creation_date":1638193316,"post_id":70155482,"comment_id":124015352,"body_markdown":"@M. Dudek I updated the problem statement. Hope it clarifies","body":"@M. Dudek I updated the problem statement. Hope it clarifies"},{"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"score":0,"creation_date":1638199198,"post_id":70155482,"comment_id":124018049,"body_markdown":"You would need to write own implementation of `com.fasterxml.jackson.databind.JsonSerializer` that will either write or omit field based on other POJO&#39;s field value. See [example](https://www.baeldung.com/jackson-custom-serialization#on-mapper)","body":"You would need to write own implementation of <code>com.fasterxml.jackson.databind.JsonSerializer</code> that will either write or omit field based on other POJO&#39;s field value. See <a href=\"https://www.baeldung.com/jackson-custom-serialization#on-mapper\" rel=\"nofollow noreferrer\">example</a>"},{"owner":{"account_id":2904446,"reputation":13,"user_id":2490204,"display_name":"MittulRazdan"},"score":0,"creation_date":1638206509,"post_id":70155482,"comment_id":124021242,"body_markdown":"As per the example, we need to provide attribute names and their data type in custom implementation. In case attributes are added or removed, this serializer would also needs updates creating unnecessary efforts. This solution does not seem scalable. Is there any solution possible using mapstruct?","body":"As per the example, we need to provide attribute names and their data type in custom implementation. In case attributes are added or removed, this serializer would also needs updates creating unnecessary efforts. This solution does not seem scalable. Is there any solution possible using mapstruct?"}],"answers":[{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638192997,"creation_date":1638192997,"answer_id":70155587,"question_id":70155482,"body_markdown":"on class level you can do \r\n`@JsonSerialize(include = JsonSerialize.Inclusion.ALWAYS)`\r\n\r\non attribute level \r\n`@XmlElement(nillable = true)\r\n @JsonProperty(&quot;error&quot;)\r\n private Error error;`","title":"Get Null values in response for certain use case","body":"<p>on class level you can do\n<code>@JsonSerialize(include = JsonSerialize.Inclusion.ALWAYS)</code></p>\n<p>on attribute level\n<code>@XmlElement(nillable = true) @JsonProperty(&quot;error&quot;) private Error error;</code></p>\n"},{"tags":[],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638311998,"creation_date":1638311998,"answer_id":70177017,"question_id":70155482,"body_markdown":"In my opinion, the best option for your case is creating 2 different DTOs for response with `null` values and without them, based on `@JsonSerialize` annotation.\r\n\r\nIt&#39;s reasonable, because you have two different business cases, so you can provide different transfer objects with names based on that cases (`ResponseWithNullValues` and `Response` for example).\r\n\r\nOf course, you can always use reflection to add annotation dynamically, but... we should avoid reflection whenever possible. Your business logic doesn&#39;t see anything about building specific rules for every field, so for me it&#39;s clear place to use two separated DTOs.\r\n","title":"Get Null values in response for certain use case","body":"<p>In my opinion, the best option for your case is creating 2 different DTOs for response with <code>null</code> values and without them, based on <code>@JsonSerialize</code> annotation.</p>\n<p>It's reasonable, because you have two different business cases, so you can provide different transfer objects with names based on that cases (<code>ResponseWithNullValues</code> and <code>Response</code> for example).</p>\n<p>Of course, you can always use reflection to add annotation dynamically, but... we should avoid reflection whenever possible. Your business logic doesn't see anything about building specific rules for every field, so for me it's clear place to use two separated DTOs.</p>\n"}],"owner":{"account_id":2904446,"reputation":13,"user_id":2490204,"display_name":"MittulRazdan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638311998,"creation_date":1638192529,"question_id":70155482,"body_markdown":"I am aware that in a Spring Boot project, I can filter out null valued attributes in response using `@JsonInclude(JsonInclude.Include.NON_NULL)`. But what if I want to return null values for certain use cases which I am driving based on input from consumers?\r\n\r\nI have a search API being consumed by multiple consumers. Below are the scenarios I want my API to be able to handle using the same response object.\r\n\r\n| Scenario | Expected Request | Expected Response |\r\n| -------- | ---------------- | ----------------- |\r\n| Null Values are expected in response | { &quot;nullsInResponse&quot;: true } | { &quot;attribute1&quot;: &quot;value1&quot;, &quot;attribute2&quot;: null } |\r\n| Null Values are not expected in response | { &quot;nullsInResponse&quot;: false } | { &quot;attribute1&quot;: &quot;value1&quot; } |","title":"Get Null values in response for certain use case","body":"<p>I am aware that in a Spring Boot project, I can filter out null valued attributes in response using <code>@JsonInclude(JsonInclude.Include.NON_NULL)</code>. But what if I want to return null values for certain use cases which I am driving based on input from consumers?</p>\n<p>I have a search API being consumed by multiple consumers. Below are the scenarios I want my API to be able to handle using the same response object.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Scenario</th>\n<th>Expected Request</th>\n<th>Expected Response</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Null Values are expected in response</td>\n<td>{ &quot;nullsInResponse&quot;: true }</td>\n<td>{ &quot;attribute1&quot;: &quot;value1&quot;, &quot;attribute2&quot;: null }</td>\n</tr>\n<tr>\n<td>Null Values are not expected in response</td>\n<td>{ &quot;nullsInResponse&quot;: false }</td>\n<td>{ &quot;attribute1&quot;: &quot;value1&quot; }</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","data-structures","binary-tree"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":3,"creation_date":1638311091,"post_id":70175996,"comment_id":124054228,"body_markdown":"Don&#39;t post a screenshot of your code. Post the code as part of the question.","body":"Don&#39;t post a screenshot of your code. Post the code as part of the question."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638311728,"creation_date":1638311728,"answer_id":70176983,"question_id":70175996,"body_markdown":"&gt; When I don&#39;t assign the recursion of `insertNode` to `node.leftChild` or `node.rightChild`, the tree is made with only the root added, no other values\r\n\r\nThis is expected, since it is the *only place* where a value is assigned to either a `leftChild` or `rightChild` property. So if it doesn&#39;t happen there, it doesn&#39;t happen at all. And so it becomes impossible that the root would get a left or right child.\r\n\r\n&gt; when I do assign `insertNode` to `node.rightChild`, it inserts the desired array fully into a binary tree.\r\n\r\nYes, the idea behind this algorithm is that when the insertion spot is found, the recursion stops (base case). At that moment (alone) the new node is created. But this node remains unattached to the rest of the tree. The idea here is that the *caller* of the recursive function is responsible for attaching that new node to the node that should be its parent. So when the ne node is created, it is *returned* without any further action. The *caller* will then assign that new node to `node.rightChild` or `node.leftChild`. At that moment the tree is ready. \r\n\r\nStill, the process will continue to get out of the recursion tree, each time returning `node` to the caller. In all these remaining cases that means the caller will assign the returned node to a property that *already had the same node reference there*. But this is of course not a problem. \r\n\r\nThis assignment is really only relevant when the caller is making the call with a `null` reference for the first argument. In that case it will get a non-null reference back, which it has to assign properly to add that new node to the tree. If, on the other hand, the recursive call is made with a non-null node reference, then the return value will be *that* reference.\r\n\r\n ","title":"Simple Binary Tree question about a custom insert function","body":"<blockquote>\n<p>When I don't assign the recursion of <code>insertNode</code> to <code>node.leftChild</code> or <code>node.rightChild</code>, the tree is made with only the root added, no other values</p>\n</blockquote>\n<p>This is expected, since it is the <em>only place</em> where a value is assigned to either a <code>leftChild</code> or <code>rightChild</code> property. So if it doesn't happen there, it doesn't happen at all. And so it becomes impossible that the root would get a left or right child.</p>\n<blockquote>\n<p>when I do assign <code>insertNode</code> to <code>node.rightChild</code>, it inserts the desired array fully into a binary tree.</p>\n</blockquote>\n<p>Yes, the idea behind this algorithm is that when the insertion spot is found, the recursion stops (base case). At that moment (alone) the new node is created. But this node remains unattached to the rest of the tree. The idea here is that the <em>caller</em> of the recursive function is responsible for attaching that new node to the node that should be its parent. So when the ne node is created, it is <em>returned</em> without any further action. The <em>caller</em> will then assign that new node to <code>node.rightChild</code> or <code>node.leftChild</code>. At that moment the tree is ready.</p>\n<p>Still, the process will continue to get out of the recursion tree, each time returning <code>node</code> to the caller. In all these remaining cases that means the caller will assign the returned node to a property that <em>already had the same node reference there</em>. But this is of course not a problem.</p>\n<p>This assignment is really only relevant when the caller is making the call with a <code>null</code> reference for the first argument. In that case it will get a non-null reference back, which it has to assign properly to add that new node to the tree. If, on the other hand, the recursive call is made with a non-null node reference, then the return value will be <em>that</em> reference.</p>\n"}],"owner":{"account_id":23506892,"reputation":21,"user_id":17556022,"display_name":"Austin Kunch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1638311793,"creation_date":1638305981,"question_id":70175996,"body_markdown":"I&#39;m working on a program to build a binary tree and it works, but I&#39;m curious as to something:\r\n\r\nWhen I don&#39;t assign the recursion of `insertNode` to `node.leftChild` or `node.rightChild`, the tree is made with only the root added, no other values, while when I do assign `insertNode` to `node.rightChild`, it inserts the desired array fully into a binary tree. What I mean is, when I replace lines 33 and 35 of my code with just `insertNode(node.leftChild, key);` and `insertNode(node.rightChild, key);` it only inserts the root (first array item) into a tree and nothing else. Why is this?\r\n\r\nI attached a screenshot of the code with an embedded link\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iIsIz.png","title":"Simple Binary Tree question about a custom insert function","body":"<p>I'm working on a program to build a binary tree and it works, but I'm curious as to something:</p>\n<p>When I don't assign the recursion of <code>insertNode</code> to <code>node.leftChild</code> or <code>node.rightChild</code>, the tree is made with only the root added, no other values, while when I do assign <code>insertNode</code> to <code>node.rightChild</code>, it inserts the desired array fully into a binary tree. What I mean is, when I replace lines 33 and 35 of my code with just <code>insertNode(node.leftChild, key);</code> and <code>insertNode(node.rightChild, key);</code> it only inserts the root (first array item) into a tree and nothing else. Why is this?</p>\n<p>I attached a screenshot of the code with an embedded link\n<img src=\"https://i.stack.imgur.com/iIsIz.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","user-interface","javafx","model-view-controller"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1638134321,"post_id":70147480,"comment_id":124000791,"body_markdown":"Off the top of my head (having to really used JavaFX), you should use a compound layout.  That is, you use a parent container that lays out the &quot;hints&quot; around the container containing the `GridPane`, maybe using a `BorderPane`?  Each edge of the `BorderPane` could then container different layouts panes based on your needs","body":"Off the top of my head (having to really used JavaFX), you should use a compound layout.  That is, you use a parent container that lays out the &quot;hints&quot; around the container containing the <code>GridPane</code>, maybe using a <code>BorderPane</code>?  Each edge of the <code>BorderPane</code> could then container different layouts panes based on your needs"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1638136560,"post_id":70147480,"comment_id":124001331,"body_markdown":"First, change `board.add(rec[i][j], i, j)` to `board.add(rec[i][j], i + 1, j + 1)`.  Then you can add the ‘clue’ boxes to row 0 and column 0.","body":"First, change <code>board.add(rec[i][j], i, j)</code> to <code>board.add(rec[i][j], i + 1, j + 1)</code>.  Then you can add the ‘clue’ boxes to row 0 and column 0."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638311709,"creation_date":1638164315,"answer_id":70150185,"question_id":70147480,"body_markdown":"When it comes to layouting, there will be more than one approach to address it. You can either choose the ways suggested in comments or you can go with the below approach. \r\n\r\nThe below approach relies on styling the borders using CSS. This way you can exactly get the look what you are expecting and also works perfectly for any size of board.\r\n\r\nFirstly you will separate the hints sections and puzzle section into separate gridPanes. That way you can have more control on individual sections.\r\n\r\nAnd then you style the gridPanes and boxes in grid pane to get the desired stlying. In the second screenshot i added the spacing to showcase how each gridpane and box is styled to achieve the final look.\r\n\r\nThe key thing is you set each border side width specifically (0px, 1px or 2px). When the final layout is rendered, you get the desired look.\r\n\r\nPlease check the below demo :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.CheckBox;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.stream.Stream;\r\n    \r\n    public class GridPaneBordersDemo extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n             double width = 30; // each box size\r\n            int rows = 8; // Main box rows &amp; cols\r\n            int cols = 6;\r\n            int topHintRows = 3;\r\n            int sideHintCols = 4;\r\n    \r\n            // Top hint pane\r\n            GridPane topHint = new GridPane();\r\n            topHint.getStyleClass().add(&quot;topHintPane&quot;);\r\n            for (int i = 0; i &lt; cols; i++) {\r\n                for (int j = 0; j &lt; topHintRows; j++) {\r\n                    StackPane box = getBox(width);\r\n                    box.getStyleClass().add(&quot;topHintBox&quot;);\r\n                    topHint.add(box, i, j);\r\n                }\r\n            }\r\n    \r\n            // Side hint pane\r\n            GridPane sideHint = new GridPane();\r\n            sideHint.getStyleClass().add(&quot;sideHintPane&quot;);\r\n            for (int i = 0; i &lt; sideHintCols; i++) {\r\n                for (int j = 0; j &lt; rows; j++) {\r\n                    StackPane box = getBox(width);\r\n                    box.getStyleClass().add(&quot;sideHintBox&quot;);\r\n                    sideHint.add(box, i, j);\r\n                }\r\n            }\r\n    \r\n            // Main Puzzle\r\n            GridPane mainPuzzle = new GridPane();\r\n            mainPuzzle.getStyleClass().add(&quot;puzzlePane&quot;);\r\n            for (int i = 0; i &lt; cols; i++) {\r\n                for (int j = 0; j &lt; rows; j++) {\r\n                    StackPane box = getBox(width);\r\n                    box.getStyleClass().add(&quot;puzzleBox&quot;);\r\n                    mainPuzzle.add(box, i, j);\r\n                }\r\n            }\r\n    \r\n            GridPane emptyGrid = new GridPane();\r\n            emptyGrid.getStyleClass().add(&quot;emptyGrid&quot;);\r\n    \r\n            GridPane pane = new GridPane();\r\n            pane.setPadding(new Insets(10));\r\n            pane.add(emptyGrid,0,0);\r\n            pane.add(topHint,1,0);\r\n            pane.add(sideHint,0,1);\r\n            pane.add(mainPuzzle,1,1);\r\n    \r\n            CheckBox checkBox = new CheckBox(&quot;Show spacing&quot;);\r\n            checkBox.selectedProperty().addListener((obs,old,val)-&gt;{\r\n                double gap = val?10:0;\r\n                Insets insets = val? new Insets(10):Insets.EMPTY;\r\n                Stream.of(pane,topHint,sideHint,mainPuzzle,emptyGrid).forEach(grid-&gt;{\r\n                    grid.setHgap(gap);\r\n                    grid.setVgap(gap);\r\n                    grid.setPadding(insets);\r\n                });\r\n                stage.sizeToScene();\r\n            });\r\n            VBox root =new VBox(checkBox,pane);\r\n            root.setSpacing(10);\r\n            root.setPadding(new Insets(10));\r\n            Scene scene = new Scene(root);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;grid.css&quot;).toExternalForm());\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;GridPane Border&quot;);\r\n            stage.setOnShown(e-&gt;stage.sizeToScene());\r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        private StackPane getBox(double width){\r\n            StackPane box = new StackPane();\r\n            box.setMinSize(width,width);\r\n            box.setMaxSize(width,width);\r\n            box.getStyleClass().add(&quot;box&quot;);\r\n            return box;\r\n        }\r\n    }\r\n\r\n\r\nCSS code (grid.css):\r\n\r\n    .emptyGrid{\r\n       -fx-border-width: 0px 1px 1px 0px;\r\n       -fx-border-color: black;\r\n    }\r\n    \r\n    .topHintPane{\r\n       -fx-border-width: 2px 1px 1px 1px;\r\n       -fx-border-color: black;\r\n    }\r\n    \r\n    .sideHintPane{\r\n       -fx-border-width: 1px 1px 1px 2px;\r\n       -fx-border-color: black;\r\n    }\r\n    \r\n    .puzzlePane{\r\n       -fx-border-width: 1px;\r\n       -fx-border-color: black;\r\n    }\r\n    \r\n    .box{\r\n      -fx-background-color:transparent ;\r\n    }\r\n    \r\n    .topHintBox{\r\n       -fx-border-width: 0px 1px 0px 0px;\r\n       -fx-border-color: black;\r\n    }\r\n    \r\n    .sideHintBox{\r\n       -fx-border-width: 0px 0px 1px 0px;\r\n       -fx-border-color: black;\r\n    }\r\n    \r\n    .puzzleBox{\r\n       -fx-border-width: 0px 1px 1px 0px;\r\n       -fx-border-color: black;\r\n    }\r\n\r\nI am again reminding you that, you can achieve with other approaches as well. This is just one way using individual box &amp; gridPane styling.\r\n\r\n  [1]: https://i.stack.imgur.com/bmbD6.png","title":"How to add edges to gridpane","body":"<p>When it comes to layouting, there will be more than one approach to address it. You can either choose the ways suggested in comments or you can go with the below approach.</p>\n<p>The below approach relies on styling the borders using CSS. This way you can exactly get the look what you are expecting and also works perfectly for any size of board.</p>\n<p>Firstly you will separate the hints sections and puzzle section into separate gridPanes. That way you can have more control on individual sections.</p>\n<p>And then you style the gridPanes and boxes in grid pane to get the desired stlying. In the second screenshot i added the spacing to showcase how each gridpane and box is styled to achieve the final look.</p>\n<p>The key thing is you set each border side width specifically (0px, 1px or 2px). When the final layout is rendered, you get the desired look.</p>\n<p>Please check the below demo :</p>\n<p><a href=\"https://i.stack.imgur.com/bmbD6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bmbD6.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.util.stream.Stream;\n\npublic class GridPaneBordersDemo extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n         double width = 30; // each box size\n        int rows = 8; // Main box rows &amp; cols\n        int cols = 6;\n        int topHintRows = 3;\n        int sideHintCols = 4;\n\n        // Top hint pane\n        GridPane topHint = new GridPane();\n        topHint.getStyleClass().add(&quot;topHintPane&quot;);\n        for (int i = 0; i &lt; cols; i++) {\n            for (int j = 0; j &lt; topHintRows; j++) {\n                StackPane box = getBox(width);\n                box.getStyleClass().add(&quot;topHintBox&quot;);\n                topHint.add(box, i, j);\n            }\n        }\n\n        // Side hint pane\n        GridPane sideHint = new GridPane();\n        sideHint.getStyleClass().add(&quot;sideHintPane&quot;);\n        for (int i = 0; i &lt; sideHintCols; i++) {\n            for (int j = 0; j &lt; rows; j++) {\n                StackPane box = getBox(width);\n                box.getStyleClass().add(&quot;sideHintBox&quot;);\n                sideHint.add(box, i, j);\n            }\n        }\n\n        // Main Puzzle\n        GridPane mainPuzzle = new GridPane();\n        mainPuzzle.getStyleClass().add(&quot;puzzlePane&quot;);\n        for (int i = 0; i &lt; cols; i++) {\n            for (int j = 0; j &lt; rows; j++) {\n                StackPane box = getBox(width);\n                box.getStyleClass().add(&quot;puzzleBox&quot;);\n                mainPuzzle.add(box, i, j);\n            }\n        }\n\n        GridPane emptyGrid = new GridPane();\n        emptyGrid.getStyleClass().add(&quot;emptyGrid&quot;);\n\n        GridPane pane = new GridPane();\n        pane.setPadding(new Insets(10));\n        pane.add(emptyGrid,0,0);\n        pane.add(topHint,1,0);\n        pane.add(sideHint,0,1);\n        pane.add(mainPuzzle,1,1);\n\n        CheckBox checkBox = new CheckBox(&quot;Show spacing&quot;);\n        checkBox.selectedProperty().addListener((obs,old,val)-&gt;{\n            double gap = val?10:0;\n            Insets insets = val? new Insets(10):Insets.EMPTY;\n            Stream.of(pane,topHint,sideHint,mainPuzzle,emptyGrid).forEach(grid-&gt;{\n                grid.setHgap(gap);\n                grid.setVgap(gap);\n                grid.setPadding(insets);\n            });\n            stage.sizeToScene();\n        });\n        VBox root =new VBox(checkBox,pane);\n        root.setSpacing(10);\n        root.setPadding(new Insets(10));\n        Scene scene = new Scene(root);\n        scene.getStylesheets().add(getClass().getResource(&quot;grid.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.setTitle(&quot;GridPane Border&quot;);\n        stage.setOnShown(e-&gt;stage.sizeToScene());\n        stage.show();\n\n    }\n\n    private StackPane getBox(double width){\n        StackPane box = new StackPane();\n        box.setMinSize(width,width);\n        box.setMaxSize(width,width);\n        box.getStyleClass().add(&quot;box&quot;);\n        return box;\n    }\n}\n</code></pre>\n<p>CSS code (grid.css):</p>\n<pre><code>.emptyGrid{\n   -fx-border-width: 0px 1px 1px 0px;\n   -fx-border-color: black;\n}\n\n.topHintPane{\n   -fx-border-width: 2px 1px 1px 1px;\n   -fx-border-color: black;\n}\n\n.sideHintPane{\n   -fx-border-width: 1px 1px 1px 2px;\n   -fx-border-color: black;\n}\n\n.puzzlePane{\n   -fx-border-width: 1px;\n   -fx-border-color: black;\n}\n\n.box{\n  -fx-background-color:transparent ;\n}\n\n.topHintBox{\n   -fx-border-width: 0px 1px 0px 0px;\n   -fx-border-color: black;\n}\n\n.sideHintBox{\n   -fx-border-width: 0px 0px 1px 0px;\n   -fx-border-color: black;\n}\n\n.puzzleBox{\n   -fx-border-width: 0px 1px 1px 0px;\n   -fx-border-color: black;\n}\n</code></pre>\n<p>I am again reminding you that, you can achieve with other approaches as well. This is just one way using individual box &amp; gridPane styling.</p>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638194832,"creation_date":1638194163,"answer_id":70155852,"question_id":70147480,"body_markdown":"Consider using JavaFX `Control` (or `Pane`) rather than shape for representing a grid cell, and 4 `GridPane`s to represent the different areas of the board: \r\n\r\n\r\n\timport javafx.application.Application;\r\n\timport javafx.geometry.Insets;\r\n\timport javafx.scene.*;\r\n\timport javafx.scene.control.Label;\r\n\timport javafx.scene.layout.*;\r\n\timport javafx.stage.Stage;\r\n\t\r\n\tpublic class MonogramBoard extends Application {\r\n\t\r\n\t\tprivate static final int BOARD_SIZE = 5, HINT_SIZE = 2;\r\n\t\r\n\t\t@Override\r\n\t\tpublic void start(Stage primary) {\r\n\t\t\tNode corner = new Board(HINT_SIZE, HINT_SIZE, false, false).getNode();\r\n\t\t\tNode topHint = new Board(HINT_SIZE, BOARD_SIZE, true, true).getNode();\r\n\t\t\tHBox topPane = new HBox(corner, topHint);\r\n\t\r\n\t\t\tNode leftHint =  new Board(BOARD_SIZE,HINT_SIZE, true, true).getNode();\r\n\t\t\tNode board = new Board(BOARD_SIZE, BOARD_SIZE, true, true).getNode();\r\n\t\t\tHBox bottomPane = new HBox(leftHint, board);\r\n\t\t\tVBox root = new VBox(topPane, bottomPane);\r\n\t\t    root.setPadding(new Insets(10));\r\n\t\t\tprimary.setScene(new Scene(root));\r\n\t\t\tprimary.show();\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tlaunch(args);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass Board{\r\n\t\tprivate final GridPane grid;\r\n\t\r\n\t\tpublic Board(int rows, int columns, boolean isBorder, boolean isGridLines) {\r\n\t\t\tgrid = new GridPane();\r\n\t\t    grid.setPadding(new Insets(1));\r\n\t\t\tif(isBorder) {\r\n\t\t\t\tgrid.setStyle(&quot;-fx-background-color: white; -fx-border-color: black ; -fx-border-width: 2px&quot;);\r\n\t\t\t}else{\r\n\t\t\t\tgrid.setStyle(&quot;-fx-background-color: white; -fx-border-color: white ; -fx-border-width: 2px&quot;);\r\n\t\t\t}\r\n\t\t\tfor(int row = 0; row &lt; rows; row++){\r\n\t\t\t\tfor(int col = 0; col &lt; columns; col++){\r\n\t\t\t\t\tgrid.add(new Cell(isGridLines).getNode(), col, row);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tNode getNode() {return grid; }\r\n\t}\r\n\t\r\n\t//represents a single cell\r\n\tclass Cell{\r\n\t\tprivate final Label label;\r\n\t\tprivate final int CELL_SIZE = 50;\r\n\t\r\n\t\tCell(){\r\n\t\t\tthis(true);\r\n\t\t}\r\n\t\r\n\t\tCell(boolean isBorder){\r\n\t\r\n\t\t\tlabel = new Label();\r\n\t\t\tif(isBorder) {\r\n\t\t\t\tlabel.setStyle(&quot;-fx-background-color: white; -fx-border-color: black ; -fx-border-width: 1px&quot;);\r\n\t\t\t}else{\r\n\t\t\t\tlabel.setStyle(&quot;-fx-background-color: white; -fx-border-color: white ; -fx-border-width: 1px&quot;);\r\n\t\t\t}\r\n\t\t\tlabel.setPrefSize(CELL_SIZE,CELL_SIZE);\r\n\t\t}\r\n\t\r\n\t\tNode getNode() {return label; }\r\n\t}\r\n\t\r\n&lt;hr&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xKjsl.png","title":"How to add edges to gridpane","body":"<p>Consider using JavaFX <code>Control</code> (or <code>Pane</code>) rather than shape for representing a grid cell, and 4 <code>GridPane</code>s to represent the different areas of the board:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.*;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\n\npublic class MonogramBoard extends Application {\n\n    private static final int BOARD_SIZE = 5, HINT_SIZE = 2;\n\n    @Override\n    public void start(Stage primary) {\n        Node corner = new Board(HINT_SIZE, HINT_SIZE, false, false).getNode();\n        Node topHint = new Board(HINT_SIZE, BOARD_SIZE, true, true).getNode();\n        HBox topPane = new HBox(corner, topHint);\n\n        Node leftHint =  new Board(BOARD_SIZE,HINT_SIZE, true, true).getNode();\n        Node board = new Board(BOARD_SIZE, BOARD_SIZE, true, true).getNode();\n        HBox bottomPane = new HBox(leftHint, board);\n        VBox root = new VBox(topPane, bottomPane);\n        root.setPadding(new Insets(10));\n        primary.setScene(new Scene(root));\n        primary.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\nclass Board{\n    private final GridPane grid;\n\n    public Board(int rows, int columns, boolean isBorder, boolean isGridLines) {\n        grid = new GridPane();\n        grid.setPadding(new Insets(1));\n        if(isBorder) {\n            grid.setStyle(&quot;-fx-background-color: white; -fx-border-color: black ; -fx-border-width: 2px&quot;);\n        }else{\n            grid.setStyle(&quot;-fx-background-color: white; -fx-border-color: white ; -fx-border-width: 2px&quot;);\n        }\n        for(int row = 0; row &lt; rows; row++){\n            for(int col = 0; col &lt; columns; col++){\n                grid.add(new Cell(isGridLines).getNode(), col, row);\n            }\n        }\n    }\n\n    Node getNode() {return grid; }\n}\n\n//represents a single cell\nclass Cell{\n    private final Label label;\n    private final int CELL_SIZE = 50;\n\n    Cell(){\n        this(true);\n    }\n\n    Cell(boolean isBorder){\n\n        label = new Label();\n        if(isBorder) {\n            label.setStyle(&quot;-fx-background-color: white; -fx-border-color: black ; -fx-border-width: 1px&quot;);\n        }else{\n            label.setStyle(&quot;-fx-background-color: white; -fx-border-color: white ; -fx-border-width: 1px&quot;);\n        }\n        label.setPrefSize(CELL_SIZE,CELL_SIZE);\n    }\n\n    Node getNode() {return label; }\n}\n</code></pre>\n<hr>\n<p><a href=\"https://i.stack.imgur.com/xKjsl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xKjsl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22952945,"reputation":1,"user_id":17083958,"display_name":"URTHEGOD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638311709,"creation_date":1638133745,"question_id":70147480,"body_markdown":"I am struggling with writing a program that requires me to make a [nonogram][1] game using GUI and MVC design patterns. Since it&#39;s a nonogram game, I need to create a grid. A nonogram game would be like this:\r\n\r\n![game1][2]\r\n\r\n Here&#39;s what I got by creating rectangles in GridPane:\r\n\r\n![game2][3]\r\n\r\nBut I have no idea how to add the edges that contain the clues of the game around the gridpane I created.\r\n\r\nHere&#39;s the code I&#39;ve had:\r\n```\r\npublic class PuzzleView implements FXComponent {\r\n\r\n  private Controller controller;\r\n  Model model;\r\n\r\n  public PuzzleView(Controller controller) {\r\n    this.controller = controller;\r\n    model = ((ControllerImpl) controller).getModel();\r\n  }\r\nSo\r\n  @Override\r\n  public Parent render() {\r\n\r\n    GridPane board = new GridPane();\r\n    double width = 30;\r\n    board.setLayoutX(300);\r\n    board.setLayoutY(300);\r\n    int h = model.getHeight();\r\n    int w = model.getWidth();\r\n\r\n    Rectangle[][] rec = new Rectangle[w][h];\r\n\r\n    for (int i = 0; i &lt; w; i++) {\r\n      for (int j = 0; j &lt; h; j++) {\r\n        rec[i][j] = new Rectangle();\r\n        rec[i][j].setX(i * width);\r\n        rec[i][j].setY(j * width);\r\n        rec[i][j].setWidth(width);\r\n        rec[i][j].setHeight(width);\r\n        rec[i][j].setFill(Color.WHITE);\r\n        rec[i][j].setStroke(Color.BLACK);\r\n        board.add(rec[i][j], i, j);\r\n      }\r\n    }\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Nonogram\r\n  [2]: https://i.stack.imgur.com/1XBS4.png\r\n  [3]: https://i.stack.imgur.com/m6bIR.png","title":"How to add edges to gridpane","body":"<p>I am struggling with writing a program that requires me to make a <a href=\"https://en.wikipedia.org/wiki/Nonogram\" rel=\"nofollow noreferrer\">nonogram</a> game using GUI and MVC design patterns. Since it's a nonogram game, I need to create a grid. A nonogram game would be like this:</p>\n<p><img src=\"https://i.stack.imgur.com/1XBS4.png\" alt=\"game1\" /></p>\n<p>Here's what I got by creating rectangles in GridPane:</p>\n<p><img src=\"https://i.stack.imgur.com/m6bIR.png\" alt=\"game2\" /></p>\n<p>But I have no idea how to add the edges that contain the clues of the game around the gridpane I created.</p>\n<p>Here's the code I've had:</p>\n<pre><code>public class PuzzleView implements FXComponent {\n\n  private Controller controller;\n  Model model;\n\n  public PuzzleView(Controller controller) {\n    this.controller = controller;\n    model = ((ControllerImpl) controller).getModel();\n  }\nSo\n  @Override\n  public Parent render() {\n\n    GridPane board = new GridPane();\n    double width = 30;\n    board.setLayoutX(300);\n    board.setLayoutY(300);\n    int h = model.getHeight();\n    int w = model.getWidth();\n\n    Rectangle[][] rec = new Rectangle[w][h];\n\n    for (int i = 0; i &lt; w; i++) {\n      for (int j = 0; j &lt; h; j++) {\n        rec[i][j] = new Rectangle();\n        rec[i][j].setX(i * width);\n        rec[i][j].setY(j * width);\n        rec[i][j].setWidth(width);\n        rec[i][j].setHeight(width);\n        rec[i][j].setFill(Color.WHITE);\n        rec[i][j].setStroke(Color.BLACK);\n        board.add(rec[i][j], i, j);\n      }\n    }\n</code></pre>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":22825331,"reputation":49,"user_id":16974677,"display_name":"panosjuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637154068,"creation_date":1637154068,"answer_id":70004885,"question_id":70004735,"body_markdown":"So it seems you are a bit lost, if you are trying to get the Id and name of the member of your store, your method:\r\n```\r\npublic String getMember()\r\n{\r\n    return Id;\r\n    return name;\r\n}\r\n```\r\n\r\nshould just be:\r\n\r\n```\r\npublic Member getMember()\r\n{\r\n    return member;\r\n}\r\n```\r\nNote that in your attribute declaration, member is of class Store, i assume this is wrong and your member should be of class Member, which could look something like this:\r\n\r\n```\r\npublic class Member{\r\n\r\npublic int Id;\r\npublic String name;\r\n\r\npublic Member(int Id, String name){\r\nthis.Id = Id;\r\nthis.name = name\r\n}\r\n}\r\n```\r\nOnce this is done you can access the member you returned in getMember() like this:\r\n\r\n```\r\nMember myMember = myStore.getMember();\r\nSystem.out.println(&quot;The member with id: &quot; + member.Id + &quot; has the name: &quot; + member.name);\r\n```\r\n\r\nIf all this seems too advanced, I recommend that you take a calm look at Java, Classes, Methods, public and private fields and more introductory stuff...\r\n\r\nIf you need any help let me know,\r\nGood luck!\r\n","title":"I need to get a field from different classes to appear in the class. I am using now in bluej","body":"<p>So it seems you are a bit lost, if you are trying to get the Id and name of the member of your store, your method:</p>\n<pre><code>public String getMember()\n{\n    return Id;\n    return name;\n}\n</code></pre>\n<p>should just be:</p>\n<pre><code>public Member getMember()\n{\n    return member;\n}\n</code></pre>\n<p>Note that in your attribute declaration, member is of class Store, i assume this is wrong and your member should be of class Member, which could look something like this:</p>\n<pre><code>public class Member{\n\npublic int Id;\npublic String name;\n\npublic Member(int Id, String name){\nthis.Id = Id;\nthis.name = name\n}\n}\n</code></pre>\n<p>Once this is done you can access the member you returned in getMember() like this:</p>\n<pre><code>Member myMember = myStore.getMember();\nSystem.out.println(&quot;The member with id: &quot; + member.Id + &quot; has the name: &quot; + member.name);\n</code></pre>\n<p>If all this seems too advanced, I recommend that you take a calm look at Java, Classes, Methods, public and private fields and more introductory stuff...</p>\n<p>If you need any help let me know,\nGood luck!</p>\n"}],"owner":{"account_id":20381988,"reputation":11,"user_id":14951894,"display_name":"eggy5901"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638311570,"creation_date":1637153457,"question_id":70004735,"body_markdown":"Id and Name are what i am trying to get from my other class but i am not sure how to get it to appear in this class\r\n\r\n    public class Store\r\n    {\r\n        \r\n        public String storeName;\r\n        public int total;\r\n        private Store member;\r\n        \r\n        public Store(String newStoreName, int newTotal)\r\n        {\r\n            storeName = newStoreName;\r\n            total = newTotal;\r\n        }\r\n        \r\n        public String getStoreName()\r\n        {\r\n            return storeName;\r\n        }\r\n    \r\n        public int getTotal()\r\n        {\r\n            return total;\r\n        }\r\n    \r\n        public String getMember()\r\n        {\r\n            return Id;\r\n            return name;\r\n        }\r\n        \r\n        public void memberRegister1()\r\n        {\r\n            System.out.println(&quot;Salford Thrifty Store welcomes&quot;);\r\n        }\r\n    }\r\n\r\n","title":"I need to get a field from different classes to appear in the class. I am using now in bluej","body":"<p>Id and Name are what i am trying to get from my other class but i am not sure how to get it to appear in this class</p>\n<pre><code>public class Store\n{\n    \n    public String storeName;\n    public int total;\n    private Store member;\n    \n    public Store(String newStoreName, int newTotal)\n    {\n        storeName = newStoreName;\n        total = newTotal;\n    }\n    \n    public String getStoreName()\n    {\n        return storeName;\n    }\n\n    public int getTotal()\n    {\n        return total;\n    }\n\n    public String getMember()\n    {\n        return Id;\n        return name;\n    }\n    \n    public void memberRegister1()\n    {\n        System.out.println(&quot;Salford Thrifty Store welcomes&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","rabbitmq","microservices","apache-zookeeper","consensus"],"comments":[{"owner":{"account_id":410094,"reputation":3426,"user_id":781723,"accept_rate":40,"display_name":"D.W."},"score":0,"creation_date":1638255165,"post_id":70088996,"comment_id":124033019,"body_markdown":"Cross-posted: https://bitcoin.stackexchange.com/q/111005/14915, https://cs.stackexchange.com/q/146236/755, https://ethereum.stackexchange.com/q/114603/19041, https://softwarerecs.stackexchange.com/q/81386/2462, https://stackoverflow.com/q/70088996/781723. Please [do not post the same question on multiple sites](https://meta.stackexchange.com/q/64068).  I have given you [similar feedback](https://cs.stackexchange.com/questions/130244/memory-hard-vs-memory-bound-functions#comment273321_130244) before.","body":"Cross-posted: <a href=\"https://bitcoin.stackexchange.com/q/111005/14915\">bitcoin.stackexchange.com/q/111005/14915</a>, <a href=\"https://cs.stackexchange.com/q/146236/755\">cs.stackexchange.com/q/146236/755</a>, <a href=\"https://ethereum.stackexchange.com/q/114603/19041\">ethereum.stackexchange.com/q/114603/19041</a>, <a href=\"https://softwarerecs.stackexchange.com/q/81386/2462\">softwarerecs.stackexchange.com/q/81386/2462</a>, <a href=\"https://stackoverflow.com/q/70088996/781723\">stackoverflow.com/q/70088996/781723</a>. Please <a href=\"https://meta.stackexchange.com/q/64068\">do not post the same question on multiple sites</a>.  I have given you <a href=\"https://cs.stackexchange.com/questions/130244/memory-hard-vs-memory-bound-functions#comment273321_130244\">similar feedback</a> before."},{"owner":{"account_id":459249,"reputation":10226,"user_id":859596,"accept_rate":100,"display_name":"Luca Geretti"},"score":0,"creation_date":1638369836,"post_id":70088996,"comment_id":124070125,"body_markdown":"I am not familiar with RabbitMQ and can&#39;t say anything about comparing efficiency, but certainly Zookeeper can do it (one could say that it was built for exactly those kinds of tasks). I don&#39;t see the &quot;precision&quot; advantage that you claim in (1) though.","body":"I am not familiar with RabbitMQ and can&#39;t say anything about comparing efficiency, but certainly Zookeeper can do it (one could say that it was built for exactly those kinds of tasks). I don&#39;t see the &quot;precision&quot; advantage that you claim in (1) though."},{"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"score":0,"creation_date":1638393489,"post_id":70088996,"comment_id":124079632,"body_markdown":"@LucaGeretti , Thank you for you response and happy to hear that Zookeeper was built for exactly those kinds of tasks. My current question is ho how to use it in practice? What parameters needed to give it in order to perform consensus? e.g. number of node is enough? I apricate it if you could grant me any document or guidance explaining the use of Zookeeper for the question mentioned above. I am not unfortunately  familiar with Zookeeper architecture  and how to use it for performing consensus. (If another complementary question is need, please let me to provide it in another post.) Thx","body":"@LucaGeretti , Thank you for you response and happy to hear that Zookeeper was built for exactly those kinds of tasks. My current question is ho how to use it in practice? What parameters needed to give it in order to perform consensus? e.g. number of node is enough? I apricate it if you could grant me any document or guidance explaining the use of Zookeeper for the question mentioned above. I am not unfortunately  familiar with Zookeeper architecture  and how to use it for performing consensus. (If another complementary question is need, please let me to provide it in another post.) Thx"},{"owner":{"account_id":459249,"reputation":10226,"user_id":859596,"accept_rate":100,"display_name":"Luca Geretti"},"score":0,"creation_date":1638447716,"post_id":70088996,"comment_id":124093408,"body_markdown":"Algorithms requiring consensus (such as leader election) must be built above Zookeeper, the software does not supply a library for them. I would suggest the &quot;ZooKeeper: Distributed Process Coordination&quot; book which goes into detail. Anyway, there is plenty of resources online. Read this article that mentions Zookeeper&#39;s approach to consensus: https://betterprogramming.pub/demystifying-consensus-algorithms-and-their-implementations-c52f8aca3020","body":"Algorithms requiring consensus (such as leader election) must be built above Zookeeper, the software does not supply a library for them. I would suggest the &quot;ZooKeeper: Distributed Process Coordination&quot; book which goes into detail. Anyway, there is plenty of resources online. Read this article that mentions Zookeeper&#39;s approach to consensus: <a href=\"https://betterprogramming.pub/demystifying-consensus-algorithms-and-their-implementations-c52f8aca3020\" rel=\"nofollow noreferrer\">betterprogramming.pub/&hellip;</a>"},{"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"score":0,"creation_date":1638451047,"post_id":70088996,"comment_id":124094851,"body_markdown":"@LucaGeretti , Thanks, I also posted a new question explaining my purpose in more detail: (https://stackoverflow.com/q/70199054/5029509) In fact, I am searching a general way to run variant consensus mechanisms that have been already implemented, such as Raft, PBFT etc. by passing the entry parameters (number of nodes and transaction (as a message)) to the software which runs a consensus algorithm (such as Apache Ratis (Raft) or IBM Sawtooth PBFT or Zookeeper ZAB etc.","body":"@LucaGeretti , Thanks, I also posted a new question explaining my purpose in more detail: (<a href=\"https://stackoverflow.com/q/70199054/5029509\">stackoverflow.com/q/70199054/5029509</a>) In fact, I am searching a general way to run variant consensus mechanisms that have been already implemented, such as Raft, PBFT etc. by passing the entry parameters (number of nodes and transaction (as a message)) to the software which runs a consensus algorithm (such as Apache Ratis (Raft) or IBM Sawtooth PBFT or Zookeeper ZAB etc."}],"owner":{"account_id":6497337,"reputation":672,"user_id":5029509,"accept_rate":25,"display_name":"Questioner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638311435,"creation_date":1637709560,"question_id":70088996,"body_markdown":"I have implemented a simulator (in Java) to show the performance of my protocol designed for distributed and peer-to-peer networks, in which transactions are processed via a consensus mechanism.\r\nSince it is a simulator, the nodes/peers are virtual (and not a real machine.)\r\n\r\nMy question is that is it possible to perform the consensus outside the main application (e.g. in a real distributed network) by passing necessary inputs (such as, list of nodes/peers etc.) and after finishing each round of consensus, the result of consensus is returned to the simulator ?\r\n\r\nIs this a practical method? If so, there are two main advantages: (1) The evaluation can be more precise, as the consensus has been performed by real machines. And (2) The simulator can get free of implementing several different consensus mechanisms.\r\n\r\n**Can Apache Zookeeper be used for this purpose in order to execute the consensus externally?**\r\n\r\nOr can something like micro service in RabbitMQ be efficient? Or even using cloud computing systems in order to perform consensus. (or any other practical method ...)\r\n\r\nFollowing figure describes generally what I want:\r\n[![enter image description here][1]][1]\r\n \r\n **P.S.** If the question is not yet clear enough, please let me know to modify it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sp832.png","title":"Performing consensus of a p2p network outside the system in another system which runs the consensus by real machines and returns the results?","body":"<p>I have implemented a simulator (in Java) to show the performance of my protocol designed for distributed and peer-to-peer networks, in which transactions are processed via a consensus mechanism.\nSince it is a simulator, the nodes/peers are virtual (and not a real machine.)</p>\n<p>My question is that is it possible to perform the consensus outside the main application (e.g. in a real distributed network) by passing necessary inputs (such as, list of nodes/peers etc.) and after finishing each round of consensus, the result of consensus is returned to the simulator ?</p>\n<p>Is this a practical method? If so, there are two main advantages: (1) The evaluation can be more precise, as the consensus has been performed by real machines. And (2) The simulator can get free of implementing several different consensus mechanisms.</p>\n<p><strong>Can Apache Zookeeper be used for this purpose in order to execute the consensus externally?</strong></p>\n<p>Or can something like micro service in RabbitMQ be efficient? Or even using cloud computing systems in order to perform consensus. (or any other practical method ...)</p>\n<p>Following figure describes generally what I want:\n<a href=\"https://i.stack.imgur.com/sp832.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sp832.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>P.S.</strong> If the question is not yet clear enough, please let me know to modify it.</p>\n"},{"tags":["java","wiremock"],"answers":[{"tags":[],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638311131,"creation_date":1638311131,"answer_id":70176898,"question_id":70176443,"body_markdown":"Found the reason, Intellij autocompleted the import when I was typing `get`:\r\n\r\n    import static javax.swing.UIManager.get;\r\n\r\nwhich should be\r\n\r\n    import static com.github.tomakehurst.wiremock.client.WireMock.get;","title":"wiremock - Cannot resolve method &#39;willReturn&#39; in &#39;Object&#39;","body":"<p>Found the reason, Intellij autocompleted the import when I was typing <code>get</code>:</p>\n<pre><code>import static javax.swing.UIManager.get;\n</code></pre>\n<p>which should be</p>\n<pre><code>import static com.github.tomakehurst.wiremock.client.WireMock.get;\n</code></pre>\n"}],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638311131,"creation_date":1638308409,"question_id":70176443,"body_markdown":"I&#39;m trying examples of [stubbing](http://wiremock.org/docs/stubbing/) in my project, and having error: `Cannot resolve method &#39;willReturn&#39; in &#39;Object&#39;`\r\n\r\nThis is one of the examples:\r\n\r\n    @Test\r\n    public void exactUrlOnly() {\r\n        stubFor(get(urlEqualTo(&quot;/some/thing&quot;))\r\n                .willReturn(aResponse()\r\n                    .withHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;)\r\n                    .withBody(&quot;Hello world!&quot;)));\r\n    }\r\n\r\nIf I compile the project will have this error:\r\n\r\n    java: cannot find symbol\r\n      symbol:   method willReturn(com.github.tomakehurst.wiremock.http.ResponseDefinition)\r\n      location: class java.lang.Object\r\n\r\nAnyone know how to fix it?","title":"wiremock - Cannot resolve method &#39;willReturn&#39; in &#39;Object&#39;","body":"<p>I'm trying examples of <a href=\"http://wiremock.org/docs/stubbing/\" rel=\"nofollow noreferrer\">stubbing</a> in my project, and having error: <code>Cannot resolve method 'willReturn' in 'Object'</code></p>\n<p>This is one of the examples:</p>\n<pre><code>@Test\npublic void exactUrlOnly() {\n    stubFor(get(urlEqualTo(&quot;/some/thing&quot;))\n            .willReturn(aResponse()\n                .withHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;)\n                .withBody(&quot;Hello world!&quot;)));\n}\n</code></pre>\n<p>If I compile the project will have this error:</p>\n<pre><code>java: cannot find symbol\n  symbol:   method willReturn(com.github.tomakehurst.wiremock.http.ResponseDefinition)\n  location: class java.lang.Object\n</code></pre>\n<p>Anyone know how to fix it?</p>\n"},{"tags":["java","mysql","sql-server","hibernate","orm"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1637859666,"post_id":70114338,"comment_id":123943669,"body_markdown":"You can probably use a naming strategy for that: https://www.baeldung.com/hibernate-naming-strategy","body":"You can probably use a naming strategy for that: <a href=\"https://www.baeldung.com/hibernate-naming-strategy\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-naming-strategy</a>"},{"owner":{"account_id":8297404,"reputation":56,"user_id":6237191,"display_name":"Hatz"},"score":0,"creation_date":1637929505,"post_id":70114338,"comment_id":123960273,"body_markdown":"Thanks. implementing PhysicalNamingStrategy did the trick. Please do post it as an answer, for me to accept it","body":"Thanks. implementing PhysicalNamingStrategy did the trick. Please do post it as an answer, for me to accept it"}],"answers":[{"tags":[],"owner":{"account_id":21537148,"reputation":1,"user_id":15875495,"display_name":"phunq3107"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638310987,"creation_date":1637898737,"answer_id":70119423,"question_id":70114338,"body_markdown":"You can try one of the following way: \r\n\r\n    @Table(name = &quot;`Transaction`&quot;);\r\n\r\n    @Table(name = &quot;\\&quot;Transaction\\&quot;&quot;) \r\n\r\nor by setting a property:\r\n\r\n    hibernate.auto_quote_keyword=true","title":"Configure diff table name in hibernate for MySQL and SQL server for the same entity","body":"<p>You can try one of the following way:</p>\n<pre><code>@Table(name = &quot;`Transaction`&quot;);\n\n@Table(name = &quot;\\&quot;Transaction\\&quot;&quot;) \n</code></pre>\n<p>or by setting a property:</p>\n<pre><code>hibernate.auto_quote_keyword=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637941351,"creation_date":1637941351,"answer_id":70126885,"question_id":70114338,"body_markdown":"You can use a naming strategy as explained in this article: https://www.baeldung.com/hibernate-naming-strategy\r\n\r\n    public class CustomPhysicalNamingStrategy implements PhysicalNamingStrategy {\r\n        @Override\r\n        public Identifier toPhysicalTableName(final Identifier identifier, final JdbcEnvironment jdbcEnv) {\r\n            return Identifier.toIdentifier(**your table name**);\r\n        }\r\n    \r\n        // Other methods\r\n\r\n","title":"Configure diff table name in hibernate for MySQL and SQL server for the same entity","body":"<p>You can use a naming strategy as explained in this article: <a href=\"https://www.baeldung.com/hibernate-naming-strategy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-naming-strategy</a></p>\n<pre><code>public class CustomPhysicalNamingStrategy implements PhysicalNamingStrategy {\n    @Override\n    public Identifier toPhysicalTableName(final Identifier identifier, final JdbcEnvironment jdbcEnv) {\n        return Identifier.toIdentifier(**your table name**);\n    }\n\n    // Other methods\n</code></pre>\n"}],"owner":{"account_id":8297404,"reputation":56,"user_id":6237191,"display_name":"Hatz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70126885,"answer_count":2,"score":1,"last_activity_date":1638310987,"creation_date":1637857129,"question_id":70114338,"body_markdown":"I have an entity with table name &quot;Transaction&quot;. While creating connection using spring orm and hibernate, on startup it successfully creates tables in MySQL but being &quot;Transaction&quot; a keyword in SQL server, it fails on startup.\r\nI cannot change the table name in the code as there is a lot of ripple effects. Hence is there a way where I can define the table name as Transaction in java and intercept or configure in such a way that hibernate while connecting to SQL server escapes the keyword and queries it as &quot;[Transaction]&quot; (escaping it using [])\r\n\r\n\r\n\r\n","title":"Configure diff table name in hibernate for MySQL and SQL server for the same entity","body":"<p>I have an entity with table name &quot;Transaction&quot;. While creating connection using spring orm and hibernate, on startup it successfully creates tables in MySQL but being &quot;Transaction&quot; a keyword in SQL server, it fails on startup.\nI cannot change the table name in the code as there is a lot of ripple effects. Hence is there a way where I can define the table name as Transaction in java and intercept or configure in such a way that hibernate while connecting to SQL server escapes the keyword and queries it as &quot;[Transaction]&quot; (escaping it using [])</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","keycloak"],"comments":[{"owner":{"account_id":11563193,"reputation":651,"user_id":8472310,"display_name":"chaitanya guruprasad"},"score":0,"creation_date":1638251779,"post_id":70161753,"comment_id":124032164,"body_markdown":"Can you post your `pom.xml` or `build.gradle`?","body":"Can you post your <code>pom.xml</code> or <code>build.gradle</code>?"},{"owner":{"account_id":11533429,"reputation":21,"user_id":8451707,"display_name":"Fatih Bulut"},"score":0,"creation_date":1638255750,"post_id":70161753,"comment_id":124033167,"body_markdown":"pom.xml has keycloak, spring security and other mandatory dependencies such as spring web, spring mongo .","body":"pom.xml has keycloak, spring security and other mandatory dependencies such as spring web, spring mongo ."},{"owner":{"account_id":11563193,"reputation":651,"user_id":8472310,"display_name":"chaitanya guruprasad"},"score":0,"creation_date":1638276692,"post_id":70161753,"comment_id":124040718,"body_markdown":"I am assuming `CommonPredicateResolver` and `QuerydslPredicateArgumentResolver` are classes from your project.","body":"I am assuming <code>CommonPredicateResolver</code> and <code>QuerydslPredicateArgumentResolver</code> are classes from your project."},{"owner":{"account_id":11533429,"reputation":21,"user_id":8451707,"display_name":"Fatih Bulut"},"score":0,"creation_date":1638307979,"post_id":70161753,"comment_id":124053367,"body_markdown":"No, actually QuerydslPredicateArgumentResolver is class under [queryds projectl](https://querydsl.com/). And I&#39; ignoring this class to implement custom resolver that is `CommonPredicateResolver`. In fact I moved `RequestMappingHandlerAdapter` object and `prioritizeCommonPredicateMethodHandler` method to `KeycloakSecurityConfig` class from `CommonPredicateConfiguration` class. And this works.","body":"No, actually QuerydslPredicateArgumentResolver is class under <a href=\"https://querydsl.com/\" rel=\"nofollow noreferrer\">queryds projectl</a>. And I&#39; ignoring this class to implement custom resolver that is <code>CommonPredicateResolver</code>. In fact I moved <code>RequestMappingHandlerAdapter</code> object and <code>prioritizeCommonPredicateMethodHandler</code> method to <code>KeycloakSecurityConfig</code> class from <code>CommonPredicateConfiguration</code> class. And this works."},{"owner":{"account_id":11533429,"reputation":21,"user_id":8451707,"display_name":"Fatih Bulut"},"score":0,"creation_date":1638308402,"post_id":70161753,"comment_id":124053498,"body_markdown":"However I don&#39;t understand how can be this circular reference occur when I use `RequestMappingHandlerAdapter` object  in my custom class and use `KeycloakWebSecurityConfigurerAdapter`. I want to resolve this problem by this way use in different classes.","body":"However I don&#39;t understand how can be this circular reference occur when I use <code>RequestMappingHandlerAdapter</code> object  in my custom class and use <code>KeycloakWebSecurityConfigurerAdapter</code>. I want to resolve this problem by this way use in different classes."}],"owner":{"account_id":11533429,"reputation":21,"user_id":8451707,"display_name":"Fatih Bulut"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638309058,"creation_date":1638222743,"question_id":70161753,"body_markdown":"Hello I&#39;m trying to develop spring boot service. And I&#39;m using `WebMvcConfigurer`  class \r\nto create custom argument resolver. But now I need security context so I implemented keycloak. But there is circular reference between classes `KeycloakWebSecurityConfigurerAdapter` and `RequestMappingHandlerAdapter`. \r\n\r\n\r\nHere are my codes.\r\n```java\r\n@Configuration\r\npublic class CommonPredicateConfiguration implements WebMvcConfigurer {\r\n\r\n    private RequestMappingHandlerAdapter adapter;\r\n\r\n    @Autowired\r\n    public void setAdapter(RequestMappingHandlerAdapter adapter) {\r\n        this.adapter = adapter;\r\n    }\r\n\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\r\n        resolvers.add(new CommonPredicateResolver());\r\n    }\r\n\r\n    @PostConstruct\r\n    public void prioritizeCommonPredicateMethodHandler() {\r\n        List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers =\r\n                new ArrayList&lt;&gt;(adapter.getArgumentResolvers());\r\n        for (HandlerMethodArgumentResolver resolver : argumentResolvers) {\r\n            if (resolver instanceof QuerydslPredicateArgumentResolver) {\r\n                argumentResolvers.remove(resolver);\r\n                break;\r\n            }\r\n        }\r\n        adapter.setArgumentResolvers(argumentResolvers);\r\n    }\r\n\r\n}\r\n```\r\n\r\n``` java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(jsr250Enabled = true)\r\npublic class KeycloakSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http.authorizeRequests()\r\n                .anyRequest()\r\n                .permitAll();\r\n        http.csrf().disable();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\r\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = new KeycloakAuthenticationProvider();\r\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n        auth.authenticationProvider(keycloakAuthenticationProvider);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n    }\r\n\r\n    @Bean\r\n    public KeycloakConfigResolver keycloakConfigResolver() {\r\n        return new KeycloakSpringBootConfigResolver();\r\n    }\r\n}\r\n\r\n```\r\ncircular reference error occurs when I build project. \r\n\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;requestMappingHandlerAdapter&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;mvcContentNegotiationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\t... 109 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;mvcContentNegotiationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\r\n\r\n```\r\n\r\n`RequestMappingHandlerAdapter` use in `CommonPredicateConfiguration` causes this circular reference. \r\n\r\n\r\nHow can I resolve this error?\r\n\r\nEdited\r\n---\r\n\r\nI moved `RequestMappingHandlerAdapter` object and `prioritizeCommonPredicateMethodHandler` method to `KeycloakSecurityConfig` class from `CommonPredicateConfiguration` class.\r\nThis works fine but I don&#39;t like this solution. I want to use these `RequestMappingHandlerAdapter` object and `prioritizeCommonPredicateMethodHandler` method in my custom class other than  `KeycloakSecurityConfig` class.\r\n```xml\r\n &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;15.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```","title":"Spring boot keycloak circular reference","body":"<p>Hello I'm trying to develop spring boot service. And I'm using <code>WebMvcConfigurer</code>  class\nto create custom argument resolver. But now I need security context so I implemented keycloak. But there is circular reference between classes <code>KeycloakWebSecurityConfigurerAdapter</code> and <code>RequestMappingHandlerAdapter</code>.</p>\n<p>Here are my codes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CommonPredicateConfiguration implements WebMvcConfigurer {\n\n    private RequestMappingHandlerAdapter adapter;\n\n    @Autowired\n    public void setAdapter(RequestMappingHandlerAdapter adapter) {\n        this.adapter = adapter;\n    }\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\n        resolvers.add(new CommonPredicateResolver());\n    }\n\n    @PostConstruct\n    public void prioritizeCommonPredicateMethodHandler() {\n        List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers =\n                new ArrayList&lt;&gt;(adapter.getArgumentResolvers());\n        for (HandlerMethodArgumentResolver resolver : argumentResolvers) {\n            if (resolver instanceof QuerydslPredicateArgumentResolver) {\n                argumentResolvers.remove(resolver);\n                break;\n            }\n        }\n        adapter.setArgumentResolvers(argumentResolvers);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(jsr250Enabled = true)\npublic class KeycloakSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.authorizeRequests()\n                .anyRequest()\n                .permitAll();\n        http.csrf().disable();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = new KeycloakAuthenticationProvider();\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n        auth.authenticationProvider(keycloakAuthenticationProvider);\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n    @Bean\n    public KeycloakConfigResolver keycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n}\n\n</code></pre>\n<p>circular reference error occurs when I build project.</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 0; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'mvcContentNegotiationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:760) ~[spring-beans-5.3.9.jar:5.3.9]\n    ... 109 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'mvcContentNegotiationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.9.jar:5.3.9]\n\n</code></pre>\n<p><code>RequestMappingHandlerAdapter</code> use in <code>CommonPredicateConfiguration</code> causes this circular reference.</p>\n<p>How can I resolve this error?</p>\n<h2>Edited</h2>\n<p>I moved <code>RequestMappingHandlerAdapter</code> object and <code>prioritizeCommonPredicateMethodHandler</code> method to <code>KeycloakSecurityConfig</code> class from <code>CommonPredicateConfiguration</code> class.\nThis works fine but I don't like this solution. I want to use these <code>RequestMappingHandlerAdapter</code> object and <code>prioritizeCommonPredicateMethodHandler</code> method in my custom class other than  <code>KeycloakSecurityConfig</code> class.</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n                    &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;15.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1638193594,"post_id":70154917,"comment_id":124015473,"body_markdown":"Show us what you’ve done so far","body":"Show us what you’ve done so far"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1638200954,"post_id":70154917,"comment_id":124018862,"body_markdown":"Please share the PDF.","body":"Please share the PDF."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1638206034,"post_id":70154917,"comment_id":124021075,"body_markdown":"[This answer](https://stackoverflow.com/a/46820098/1729265), in particular the `AcroFormPopulator` class presented therein, may help you.","body":"<a href=\"https://stackoverflow.com/a/46820098/1729265\">This answer</a>, in particular the <code>AcroFormPopulator</code> class presented therein, may help you."}],"answers":[{"tags":[],"owner":{"account_id":23507189,"reputation":1,"user_id":17556273,"display_name":"Ben-Grayson-Norland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638308837,"creation_date":1638308837,"answer_id":70176525,"question_id":70154917,"body_markdown":"If your trying to get image coordinates from a PDF you could try [PDF Mantis](https://github.com/grayson-norland/pdf-mantis#ImageIndex) which has a function to extract this information - See example below:\r\n\r\n```\r\n// Load your PDF\r\nPdfMantis pdf = new PdfMantis(&quot;/home/example.pdf&quot;);\r\n\r\n// Get the image index\r\nList &lt;ImageIndex&gt; imageIndex = pdf.getImageIndex().buildIndex();\r\n\r\n// Iterate over each entry in the index\r\nfor (ImageIndex image : imageIndex) {\r\n\r\n    // And then we can get coordinates like so...\r\n    image.getX();\r\n    image.getY();\r\n    image.getHeight();\r\n    image.getWidth();\r\n}\r\n\r\n```\r\n\r\nDisclaimer: I am the developer of PDF Mantis. ","title":"How to get image cordinates from pdf using pdfbox in java","body":"<p>If your trying to get image coordinates from a PDF you could try <a href=\"https://github.com/grayson-norland/pdf-mantis#ImageIndex\" rel=\"nofollow noreferrer\">PDF Mantis</a> which has a function to extract this information - See example below:</p>\n<pre><code>// Load your PDF\nPdfMantis pdf = new PdfMantis(&quot;/home/example.pdf&quot;);\n\n// Get the image index\nList &lt;ImageIndex&gt; imageIndex = pdf.getImageIndex().buildIndex();\n\n// Iterate over each entry in the index\nfor (ImageIndex image : imageIndex) {\n\n    // And then we can get coordinates like so...\n    image.getX();\n    image.getY();\n    image.getHeight();\n    image.getWidth();\n}\n\n</code></pre>\n<p>Disclaimer: I am the developer of PDF Mantis.</p>\n"}],"owner":{"account_id":15963296,"reputation":1,"user_id":11519696,"display_name":"Manoj Deore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638308837,"creation_date":1638190103,"question_id":70154917,"body_markdown":"I want to get image field from existing pdf and fill it with other image to create new pdf file using pdfbox library in java","title":"How to get image cordinates from pdf using pdfbox in java","body":"<p>I want to get image field from existing pdf and fill it with other image to create new pdf file using pdfbox library in java</p>\n"},{"tags":["java","class","weka"],"comments":[{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1638215676,"post_id":70160228,"comment_id":124024366,"body_markdown":"How did you add the Weka dependency? Simply linking to a jar or via Maven/Gradle dependency?","body":"How did you add the Weka dependency? Simply linking to a jar or via Maven/Gradle dependency?"},{"owner":{"account_id":20278292,"reputation":1,"user_id":14872769,"display_name":"alejandro_mendez"},"score":0,"creation_date":1638220723,"post_id":70160228,"comment_id":124025982,"body_markdown":"added eternal Jar through the project&#39;s properties","body":"added eternal Jar through the project&#39;s properties"}],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638231759,"creation_date":1638231759,"answer_id":70162856,"question_id":70160228,"body_markdown":"Haven&#39;t used Eclipse in a long time, as I prefer [IntelliJ IDEA](https://www.jetbrains.com/idea/).\r\n\r\nHere is what I did:\r\n\r\n1. Create a new workspace\r\n2. Create a new *Java project*\r\n3. Unchecked *Create module-info.java* and clicked on *Next*\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n4. Added my external *weka.jar* under *Classpath* and clicked on *Finish*:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n5. Created class `Testing.java` in package `myweka` with this content:\r\n\r\n```java\r\npackage myweka;\r\n\r\nimport weka.filters.Filter;\r\nimport weka.filters.MultiFilter;\r\n\r\npublic class Testing {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tFilter f = new MultiFilter();\r\n\t\tSystem.out.println(f);\r\n\t}\r\n}\r\n```\r\n\r\nHere it is what it looks like in Eclipse:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n6. Executed the class without problems (just outputs the classname in the console).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JDenM.png\r\n  [2]: https://i.stack.imgur.com/Wv1oA.png\r\n  [3]: https://i.stack.imgur.com/zHjQU.png","title":"Weka Filter class is not found","body":"<p>Haven't used Eclipse in a long time, as I prefer <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a>.</p>\n<p>Here is what I did:</p>\n<ol>\n<li>Create a new workspace</li>\n<li>Create a new <em>Java project</em></li>\n<li>Unchecked <em>Create module-info.java</em> and clicked on <em>Next</em></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/JDenM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JDenM.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>Added my external <em>weka.jar</em> under <em>Classpath</em> and clicked on <em>Finish</em>:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Wv1oA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wv1oA.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li>Created class <code>Testing.java</code> in package <code>myweka</code> with this content:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package myweka;\n\nimport weka.filters.Filter;\nimport weka.filters.MultiFilter;\n\npublic class Testing {\n\n    public static void main(String[] args) throws Exception {\n        Filter f = new MultiFilter();\n        System.out.println(f);\n    }\n}\n</code></pre>\n<p>Here it is what it looks like in Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/zHjQU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zHjQU.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"6\">\n<li>Executed the class without problems (just outputs the classname in the console).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638308567,"creation_date":1638308567,"answer_id":70176480,"question_id":70160228,"body_markdown":"Instead of simply adding an external jar to your project, you could set up a [Maven](http://maven.apache.org/) project. Here are the steps:\r\n\r\n1. Create a new directory to house all your code\r\n2. Create a file called `pom.xml` ([Maven **P**roject **O**bject **M**odel](http://maven.apache.org/pom.html)) and add this content (the libraries that are required for the project are listed inside the `dependencies` tag, this example uses Weka 3.9.5; the 3.8.5 dependency is commented out; you can only use either or):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;MyGroup&lt;/groupId&gt;\r\n  &lt;artifactId&gt;MyWeka&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;MyWeka&lt;/name&gt;\r\n  &lt;description&gt;Project using Weka.&lt;/description&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Weka 3.9.5 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\r\n      &lt;artifactId&gt;weka-dev&lt;/artifactId&gt;\r\n      &lt;version&gt;3.9.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Weka 3.8.5 --&gt;\r\n    &lt;!--dependency&gt;\r\n      &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\r\n      &lt;artifactId&gt;weka-stable&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.5&lt;/version&gt;\r\n    &lt;/dependency--&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n3. Create directory `src/main/java/myweka` in the same directory as the `pom.xml` file.\r\n4. Place the following content as `Testing.java` in that directory:\r\n\r\n```java\r\npackage myweka;\r\n\r\nimport weka.filters.Filter;\r\nimport weka.filters.MultiFilter;\r\n\r\npublic class Testing {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Filter f = new MultiFilter();\r\n        System.out.println(f);\r\n    }\r\n}\r\n```\r\n\r\n5. Launch Eclipse and create a new workspace.\r\n6. Import your project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n7. Import the project as an *Existing Maven Project*\r\n\r\n[![enter image description here][2]][2]\r\n\r\n8. Select the directory where your `pom.xml` is located and click on *Finish*.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n9. Once Eclipse has finished the import, you can execute the `myweka.Testing` class, which will just output the filter&#39;s classname in the console.\r\n\r\n  [1]: https://i.stack.imgur.com/h8d8J.png\r\n  [2]: https://i.stack.imgur.com/1vaY9.png\r\n  [3]: https://i.stack.imgur.com/XrkX2.png","title":"Weka Filter class is not found","body":"<p>Instead of simply adding an external jar to your project, you could set up a <a href=\"http://maven.apache.org/\" rel=\"nofollow noreferrer\">Maven</a> project. Here are the steps:</p>\n<ol>\n<li>Create a new directory to house all your code</li>\n<li>Create a file called <code>pom.xml</code> (<a href=\"http://maven.apache.org/pom.html\" rel=\"nofollow noreferrer\">Maven <strong>P</strong>roject <strong>O</strong>bject <strong>M</strong>odel</a>) and add this content (the libraries that are required for the project are listed inside the <code>dependencies</code> tag, this example uses Weka 3.9.5; the 3.8.5 dependency is commented out; you can only use either or):</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;MyGroup&lt;/groupId&gt;\n  &lt;artifactId&gt;MyWeka&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;MyWeka&lt;/name&gt;\n  &lt;description&gt;Project using Weka.&lt;/description&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Weka 3.9.5 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\n      &lt;artifactId&gt;weka-dev&lt;/artifactId&gt;\n      &lt;version&gt;3.9.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Weka 3.8.5 --&gt;\n    &lt;!--dependency&gt;\n      &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\n      &lt;artifactId&gt;weka-stable&lt;/artifactId&gt;\n      &lt;version&gt;3.8.5&lt;/version&gt;\n    &lt;/dependency--&gt;\n  &lt;/dependencies&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Create directory <code>src/main/java/myweka</code> in the same directory as the <code>pom.xml</code> file.</li>\n<li>Place the following content as <code>Testing.java</code> in that directory:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package myweka;\n\nimport weka.filters.Filter;\nimport weka.filters.MultiFilter;\n\npublic class Testing {\n\n    public static void main(String[] args) throws Exception {\n        Filter f = new MultiFilter();\n        System.out.println(f);\n    }\n}\n</code></pre>\n<ol start=\"5\">\n<li>Launch Eclipse and create a new workspace.</li>\n<li>Import your project</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/h8d8J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h8d8J.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"7\">\n<li>Import the project as an <em>Existing Maven Project</em></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/1vaY9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1vaY9.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"8\">\n<li>Select the directory where your <code>pom.xml</code> is located and click on <em>Finish</em>.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/XrkX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XrkX2.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"9\">\n<li>Once Eclipse has finished the import, you can execute the <code>myweka.Testing</code> class, which will just output the filter's classname in the console.</li>\n</ol>\n"}],"owner":{"account_id":20278292,"reputation":1,"user_id":14872769,"display_name":"alejandro_mendez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638308567,"creation_date":1638213628,"question_id":70160228,"body_markdown":"Writing code on Eclipse with Weka. Trying to use the weka.filters.Filter method but I constantly receive this error:\r\n\r\njava.lang.NoClassDefFoundError: weka/filters/Filter\r\n\r\nEverything else seems to be imported right and I see the filter class in the Package Exploration. \r\n\r\nThank you to everyone in advance","title":"Weka Filter class is not found","body":"<p>Writing code on Eclipse with Weka. Trying to use the weka.filters.Filter method but I constantly receive this error:</p>\n<p>java.lang.NoClassDefFoundError: weka/filters/Filter</p>\n<p>Everything else seems to be imported right and I see the filter class in the Package Exploration.</p>\n<p>Thank you to everyone in advance</p>\n"},{"tags":["java","amazon-web-services","apache-beam","apache-beam-io"],"answers":[{"tags":[],"owner":{"account_id":1306443,"reputation":10595,"user_id":1255356,"accept_rate":84,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638308524,"creation_date":1638308524,"answer_id":70176471,"question_id":69821771,"body_markdown":"You can do something like this with the `GenerateSequence` transform in Beam. It would be something like this:\r\n\r\n```java\r\npipeline.apply(GenerateSequence.from(0).withRate(1, standardMinutes(1))\r\n    .apply(ParDo.of(new ListAllFilesInFtpFn(serverAddress))\r\n    .apply(ParDo.of(new DownloadFilesFromFtpFn(serverAddress));\r\n```\r\n\r\nDoes this make sense?","title":"Reading files from a SFTP location using Apache Beam","body":"<p>You can do something like this with the <code>GenerateSequence</code> transform in Beam. It would be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pipeline.apply(GenerateSequence.from(0).withRate(1, standardMinutes(1))\n    .apply(ParDo.of(new ListAllFilesInFtpFn(serverAddress))\n    .apply(ParDo.of(new DownloadFilesFromFtpFn(serverAddress));\n</code></pre>\n<p>Does this make sense?</p>\n"}],"owner":{"account_id":20364390,"reputation":147,"user_id":14938081,"display_name":"turingMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70176471,"answer_count":1,"score":3,"last_activity_date":1638308524,"creation_date":1635928404,"question_id":69821771,"body_markdown":"I just have a few questions on achieving the $subject. I have an FTP location and I want to use a beam pipeline to read these files and do some processing. I basically want to read the file list from the FTP location every one minute and do the processing. Do you have any thoughts on this? \r\n\r\nI have already written the pipeline for the processing part, just struggling with reading the FTP location every one minute.\r\n\r\nAny help would be appreciated.","title":"Reading files from a SFTP location using Apache Beam","body":"<p>I just have a few questions on achieving the $subject. I have an FTP location and I want to use a beam pipeline to read these files and do some processing. I basically want to read the file list from the FTP location every one minute and do the processing. Do you have any thoughts on this?</p>\n<p>I have already written the pipeline for the processing part, just struggling with reading the FTP location every one minute.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","scala","overriding"],"answers":[{"tags":[],"owner":{"account_id":2651179,"reputation":55299,"user_id":2292812,"accept_rate":100,"display_name":"Michael Zajac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426803120,"creation_date":1426803120,"answer_id":29155952,"question_id":29155773,"body_markdown":"In Scala overloaded constructors have to call the most generic form of the class constructor, which must also be the default one. That is, you can&#39;t have a parameter-less constructor for `StatementNode`, and then an overload that accepts a `NodeType` as a parameter without calling the parameter-less default constructor (which couldn&#39;t work, anyway).\r\n\r\nInstead you can do something like this:\r\n\r\n    class StatementNode protected (`type`: NodeType) extends Node(`type`) {\r\n        def this() = this(NodeType.statement)\r\n    }\r\n\r\nYou can make the default constructor `protected` and have the `NodeType` argument, and then provide an overload with no parameters that calls the main constructor and passes it `NodeType.statement`. This should effectively do the same thing.\r\n\r\nThere is no need to call `super` in Scala, because it is called through `extends Node(`type`)`, which is why the default constructor must contain the most generic form of the parameters.","title":"Using super in scala","body":"<p>In Scala overloaded constructors have to call the most generic form of the class constructor, which must also be the default one. That is, you can't have a parameter-less constructor for <code>StatementNode</code>, and then an overload that accepts a <code>NodeType</code> as a parameter without calling the parameter-less default constructor (which couldn't work, anyway).</p>\n\n<p>Instead you can do something like this:</p>\n\n<pre><code>class StatementNode protected (`type`: NodeType) extends Node(`type`) {\n    def this() = this(NodeType.statement)\n}\n</code></pre>\n\n<p>You can make the default constructor <code>protected</code> and have the <code>NodeType</code> argument, and then provide an overload with no parameters that calls the main constructor and passes it <code>NodeType.statement</code>. This should effectively do the same thing.</p>\n\n<p>There is no need to call <code>super</code> in Scala, because it is called through <code>extends Node(</code>type<code>)</code>, which is why the default constructor must contain the most generic form of the parameters.</p>\n"},{"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638308446,"creation_date":1638308446,"answer_id":70176451,"question_id":29155773,"body_markdown":"*Adding to Michael&#39;s answer:*\r\n\r\n&quot;Most generic&quot; can also mean that **one set of arguments can be derived from another**. For example:\r\n\r\n    class Server(\r\n      listenPort: ListenPort,\r\n      authServerFactory: AuthServerFactory\r\n    ) {\r\n    \r\n      def this(\r\n        listenPort: ListenPort,\r\n        auth0Domain: String,\r\n        baseUri: URI\r\n      ) = {\r\n        this(listenPort, AuthServerFactory(auth0Domain, baseUri))\r\n      }\r\n      ...\r\n      }\r\nIn this case `AuthServerFactory` can be created from two other arguments, but it might not be possible to do the other way around - deconstruct `AuthServerFactory` into several arguments.","title":"Using super in scala","body":"<p><em>Adding to Michael's answer:</em></p>\n<p>&quot;Most generic&quot; can also mean that <strong>one set of arguments can be derived from another</strong>. For example:</p>\n<pre><code>class Server(\n  listenPort: ListenPort,\n  authServerFactory: AuthServerFactory\n) {\n\n  def this(\n    listenPort: ListenPort,\n    auth0Domain: String,\n    baseUri: URI\n  ) = {\n    this(listenPort, AuthServerFactory(auth0Domain, baseUri))\n  }\n  ...\n  }\n</code></pre>\n<p>In this case <code>AuthServerFactory</code> can be created from two other arguments, but it might not be possible to do the other way around - deconstruct <code>AuthServerFactory</code> into several arguments.</p>\n"}],"owner":{"account_id":3394727,"reputation":43,"user_id":2848661,"accept_rate":8,"display_name":"Night JonSnow King"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2961,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1638308446,"creation_date":1426802352,"question_id":29155773,"body_markdown":"I have to convert a Java code to Scala and use overriding on type. My Java code is:\r\n\r\n    public class StatementNode extends Node {\r\n\tpublic StatementNode()\r\n\t{\r\n\t\tsuper(NodeType.statement);\r\n\t}\r\n\t\r\n\tprotected StatementNode(NodeType type)\r\n\t{\r\n\t\tsuper(type);\r\n\t}\r\n\r\nMy equivalent scala code is:\r\n\r\n    class StatementNode extends Node(NodeType.statement) {\r\n    protected def this(`type`: NodeType) {\r\n    super(`type`)\r\n    }\r\nWorks fine for Java but I found that scala does not supports super keyword. So how are we going to apply overriding for type in scala? Please help!Let me know if you need any other information.","title":"Using super in scala","body":"<p>I have to convert a Java code to Scala and use overriding on type. My Java code is:</p>\n\n<pre><code>public class StatementNode extends Node {\npublic StatementNode()\n{\n    super(NodeType.statement);\n}\n\nprotected StatementNode(NodeType type)\n{\n    super(type);\n}\n</code></pre>\n\n<p>My equivalent scala code is:</p>\n\n<pre><code>class StatementNode extends Node(NodeType.statement) {\nprotected def this(`type`: NodeType) {\nsuper(`type`)\n}\n</code></pre>\n\n<p>Works fine for Java but I found that scala does not supports super keyword. So how are we going to apply overriding for type in scala? Please help!Let me know if you need any other information.</p>\n"},{"tags":["java","graphics","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1638232810,"post_id":70162935,"comment_id":124029082,"body_markdown":"1. Read [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) and [Painting in AWT and Swing\n](https://www.oracle.com/java/technologies/painting.html) to get a better idea of how painting works and how you&#39;re suppose to work with it; 2. Break your requirements down into individual classes/panels and focus on their individual needs (ie decouple and single responsibility)","body":"1. Read <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> and [Painting in AWT and Swing ](<a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/painting.html</a>) to get a better idea of how painting works and how you&#39;re suppose to work with it; 2. Break your requirements down into individual classes/panels and focus on their individual needs (ie decouple and single responsibility)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638307149,"creation_date":1638237168,"answer_id":70163368,"question_id":70162935,"body_markdown":"First read, [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) and [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) to get a better understanding how painting in Swing works and how you&#39;re suppose to work with it.\r\n\r\n&gt; But I already have ...\r\n\r\n    public void paint(Graphics g){\r\n        drawMenu((Graphics2D)g);\r\n\r\n    }\r\n\r\nwould suggest otherwise.  Seriously, go read those links so you understand all the issues that the above decision is going to create for you.\r\n\r\nYou&#39;re operating in a OO language, you need to take advantage of that and decouple your code and focus on the &quot;single responsibility&quot; principle.\r\n\r\nI&#39;m kind of tired of talking about it, so you can do some reading:\r\n\r\n * https://softwareengineering.stackexchange.com/questions/244476/what-is-decoupling-and-what-development-areas-can-it-apply-to\r\n * https://stackoverflow.com/questions/2881586/cohesion-and-decoupling-what-do-they-represent\r\n * [Single Responsibility Principle](https://www.baeldung.com/java-single-responsibility-principle)\r\n * [Single Responsibility Principle in Java with Examples](https://www.geeksforgeeks.org/single-responsibility-principle-in-java-with-examples/)\r\n * [SOLID Design Principles Explained: The Single Responsibility Principle](https://stackify.com/solid-design-principles/)\r\n\r\nThese are basic concepts you really need to understand as they will make your live SOOO much easier and can be applied to just about any language.\r\n\r\nAs an example, from your code...\r\n\r\n    public HomeMenu(GameFrame owner,Dimension area){\r\n        //...\r\n        this.setPreferredSize(area);\r\n\r\nThere is no good reason (other than laziness (IMHO)) that any caller should be telling a component what size it should be, that&#39;s not their responsibility.  It&#39;s the responsibility of the component to tell the parent container how big it would like to be and for the parent component to figure out how it&#39;s going to achieve that (or ignore it as the case may be).\r\n\r\nThe &quot;basic&quot; problem you&#39;re having is a simple one.  Your &quot;God&quot; class is simply trying to do too much (ie it&#39;s taken on too much responsibility).  Now we &quot;could&quot; add a dozen or more flags into the code to compensate for this, which is just going to increase the coupling and complexity, making it harder to understand and maintain, or we can take a step back, break it down into individual areas of responsibility and build the solution around those, for example...\r\n\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Cursor;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Stroke;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.font.FontRenderContext;\r\n    import java.awt.font.TextLayout;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new HomePane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class HomePane extends JPanel {\r\n\r\n            public HomePane() {\r\n                setLayout(new BorderLayout());\r\n                navigateToMenu();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            protected void navigateToMenu() {\r\n                removeAll();\r\n                HomeMenuPane pane = new HomeMenuPane(new HomeMenuPane.NavigationListener() {\r\n                    @Override\r\n                    public void navigateToInfo(HomeMenuPane source) {\r\n                        HomePane.this.navigateToInfo();\r\n                    }\r\n\r\n                    @Override\r\n                    public void navigateToStartGame(HomeMenuPane source) {\r\n                        startGame();\r\n                    }\r\n                });\r\n                add(pane);\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n            protected void navigateToInfo() {\r\n                removeAll();\r\n                HowToPlayPane pane = new HowToPlayPane(new HowToPlayPane.NavigationListener() {\r\n                    @Override\r\n                    public void navigateBack(HowToPlayPane source) {\r\n                        navigateToMenu();\r\n                    }\r\n                });\r\n                add(pane);\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n            protected void startGame() {\r\n                removeAll();\r\n                add(new JLabel(&quot;This is pretty awesome, isn&#39;t it!&quot;, JLabel.CENTER));\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n        }\r\n\r\n        public abstract class AbstractBaseMenuPane extends JPanel {\r\n\r\n            protected static final Color BORDER_COLOR = new Color(200, 8, 21); //Venetian Red\r\n            protected static final Color DASH_BORDER_COLOR = new Color(255, 216, 0);//school bus yellow\r\n            protected static final Color TEXT_COLOR = new Color(255, 255, 255);//white\r\n            protected static final Color CLICKED_BUTTON_COLOR = Color.ORANGE.darker();\r\n            protected static final Color CLICKED_TEXT = Color.ORANGE.darker();\r\n            protected static final int BORDER_SIZE = 5;\r\n            protected static final float[] DASHES = {12, 6};\r\n\r\n            private Rectangle border;\r\n\r\n            private BasicStroke borderStoke;\r\n            private BasicStroke borderStoke_noDashes;\r\n\r\n            private BufferedImage backgroundImage;\r\n\r\n            public AbstractBaseMenuPane() {\r\n                borderStoke = new BasicStroke(BORDER_SIZE, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND, 0, DASHES, 0);\r\n                borderStoke_noDashes = new BasicStroke(BORDER_SIZE, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND);\r\n                border = new Rectangle(new Point(0, 0), getPreferredSize());\r\n                // You are now responsible for filling the background\r\n                setOpaque(false);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                BufferedImage backgroundImage = getBackgroundImage();\r\n                if (backgroundImage != null) {\r\n                    g2d.drawImage(backgroundImage, 0, 0, getWidth(), getHeight(), this);\r\n                }\r\n\r\n                Color prev = g2d.getColor();\r\n                Stroke tmp = g2d.getStroke();\r\n\r\n                g2d.setStroke(borderStoke_noDashes);\r\n                g2d.setColor(DASH_BORDER_COLOR);\r\n                g2d.draw(border);\r\n\r\n                g2d.setStroke(borderStoke);\r\n                g2d.setColor(BORDER_COLOR);\r\n                g2d.draw(border);\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n            public void setBackgroundImage(BufferedImage backgroundImage) {\r\n                this.backgroundImage = backgroundImage;\r\n                repaint();\r\n            }\r\n\r\n            public BufferedImage getBackgroundImage() {\r\n                return backgroundImage;\r\n            }\r\n\r\n        }\r\n\r\n        public class HomeMenuPane extends AbstractBaseMenuPane {\r\n\r\n            public static interface NavigationListener {\r\n\r\n                public void navigateToInfo(HomeMenuPane source);\r\n\r\n                public void navigateToStartGame(HomeMenuPane source);\r\n            }\r\n\r\n            private static final String GAME_TITLE = &quot;BRICK DESTROY&quot;;\r\n            private static final String START_TEXT = &quot;START&quot;;\r\n            private static final String INFO_TEXT = &quot;INFO&quot;;\r\n\r\n            private Rectangle startButton;\r\n            private Rectangle infoButton;\r\n\r\n            private Font gameTitleFont;\r\n            private Font buttonFont;\r\n\r\n            // Don&#39;t do this, this just sucks (for so many reasons)\r\n            // Use ImageIO.read instead and save yourself a load of frustration\r\n            //private Image img =  Toolkit.getDefaultToolkit().createImage(&quot;1.jpeg&quot;);\r\n\r\n            private Point lastClickPoint;\r\n\r\n            private NavigationListener navigationListener;\r\n\r\n            public HomeMenuPane(NavigationListener navigationListener) {\r\n                this.navigationListener = navigationListener;\r\n\r\n                try {\r\n                    setBackgroundImage(ImageIO.read(getClass().getResource(&quot;/images/BrickWall.jpg&quot;)));\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n\r\n                this.addMouseListener(new MouseAdapter() {\r\n\r\n                    @Override\r\n                    public void mousePressed(MouseEvent mouseEvent) {\r\n                        Point p = mouseEvent.getPoint();\r\n                        lastClickPoint = p;\r\n                        if (startButton.contains(p)) {\r\n                            peformStartGameAction();\r\n                        } else if (infoButton.contains(p)) {\r\n                            performInfoAction();\r\n                        }\r\n                        repaint();\r\n                    }\r\n\r\n                    @Override\r\n                    public void mouseReleased(MouseEvent mouseEvent) {\r\n                        lastClickPoint = null;\r\n                        repaint();\r\n                    }\r\n                });\r\n                this.addMouseMotionListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent mouseEvent) {\r\n                        Point p = mouseEvent.getPoint();\r\n                        if (startButton.contains(p) || infoButton.contains(p)) {\r\n                            setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n                        } else {\r\n                            setCursor(Cursor.getDefaultCursor());\r\n                        }\r\n                    }\r\n                });\r\n\r\n                Dimension area = getPreferredSize();\r\n\r\n                Dimension btnDim = new Dimension(area.width / 3, area.height / 12);\r\n                startButton = new Rectangle(btnDim);\r\n                infoButton = new Rectangle(btnDim);\r\n\r\n                gameTitleFont = new Font(&quot;Calibri&quot;, Font.BOLD, 28);\r\n                buttonFont = new Font(&quot;Calibri&quot;, Font.BOLD, startButton.height - 2);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                Color prevColor = g2d.getColor();\r\n                Font prevFont = g2d.getFont();\r\n\r\n                //methods calls\r\n                drawText(g2d);\r\n                drawButton(g2d);\r\n\r\n                //end of methods calls\r\n                g2d.setFont(prevFont);\r\n                g2d.setColor(prevColor);\r\n                g2d.dispose();\r\n            }\r\n\r\n            private void drawText(Graphics2D g2d) {\r\n                g2d.setColor(TEXT_COLOR);\r\n\r\n                FontRenderContext frc = g2d.getFontRenderContext();\r\n\r\n                Rectangle2D gameTitleRect = gameTitleFont.getStringBounds(GAME_TITLE, frc);\r\n\r\n                int sX, sY;\r\n\r\n                sY = (int) (getHeight() / 4);\r\n\r\n                sX = (int) (getWidth() - gameTitleRect.getWidth()) / 2;\r\n                sY += (int) gameTitleRect.getHeight() * 1.1;//add 10% of String height between the two strings\r\n\r\n                g2d.setFont(gameTitleFont);\r\n                g2d.drawString(GAME_TITLE, sX, sY);\r\n\r\n            }\r\n\r\n            private void drawButton(Graphics2D g2d) {\r\n\r\n                FontRenderContext frc = g2d.getFontRenderContext();\r\n\r\n                Rectangle2D txtRect = buttonFont.getStringBounds(START_TEXT, frc);\r\n                Rectangle2D mTxtRect = buttonFont.getStringBounds(INFO_TEXT, frc);\r\n\r\n                g2d.setFont(buttonFont);\r\n\r\n                int x = (getWidth() - startButton.width) / 2;\r\n                int y = (int) ((getHeight() - startButton.height) * 0.5);\r\n\r\n                startButton.setLocation(x, y);\r\n\r\n                x = (int) (startButton.getWidth() - txtRect.getWidth()) / 2;\r\n                y = (int) (startButton.getHeight() - txtRect.getHeight()) / 2;\r\n\r\n                x += startButton.x;\r\n                y += startButton.y + (startButton.height * 0.9);\r\n\r\n                if (lastClickPoint != null &amp;&amp; startButton.contains(lastClickPoint)) {\r\n                    Color tmp = g2d.getColor();\r\n                    g2d.setColor(CLICKED_BUTTON_COLOR);\r\n                    g2d.draw(startButton);\r\n                    g2d.setColor(CLICKED_TEXT);\r\n                    g2d.drawString(START_TEXT, x, y);\r\n                    g2d.setColor(tmp);\r\n                } else {\r\n                    g2d.draw(startButton);\r\n                    g2d.drawString(START_TEXT, x, y);\r\n                }\r\n\r\n                x = startButton.x;\r\n                y = startButton.y;\r\n\r\n                y *= 1.3;\r\n\r\n                infoButton.setLocation(x, y);\r\n\r\n                x = (int) (infoButton.getWidth() - mTxtRect.getWidth()) / 2;\r\n                y = (int) (infoButton.getHeight() - mTxtRect.getHeight()) / 2;\r\n\r\n                x += infoButton.getX();\r\n                y += infoButton.getY() + (startButton.height * 0.9);\r\n\r\n                if (lastClickPoint != null &amp;&amp; infoButton.contains(lastClickPoint)) {\r\n                    Color tmp = g2d.getColor();\r\n                    g2d.setColor(CLICKED_BUTTON_COLOR);\r\n                    g2d.draw(infoButton);\r\n                    g2d.setColor(CLICKED_TEXT);\r\n                    g2d.drawString(INFO_TEXT, x, y);\r\n                    g2d.setColor(tmp);\r\n                } else {\r\n                    g2d.draw(infoButton);\r\n                    g2d.drawString(INFO_TEXT, x, y);\r\n                }\r\n\r\n            }\r\n\r\n            protected void peformStartGameAction() {\r\n                navigationListener.navigateToStartGame(this);\r\n            }\r\n\r\n            protected void performInfoAction() {\r\n                navigationListener.navigateToInfo(this);\r\n            }\r\n        }\r\n\r\n        public class HowToPlayPane extends AbstractBaseMenuPane {\r\n\r\n            public static interface NavigationListener {\r\n\r\n                public void navigateBack(HowToPlayPane source);\r\n            }\r\n\r\n            private static final String HOW_TO_PLAY_TEXT = &quot;&quot;&quot;\r\n                1- Click Start\\n\r\n                2- Choose the mode\\n\r\n                3- Each mode has 3 levels\\n\r\n                4- To play/pause press space, use &#39;A&#39; and &#39;D&#39; to move\\n\r\n                5- To open pause menu press &#39;ESC&#39;\\n\r\n                6- To open DebugPanel press &#39;ALT-SHIFT-F1&#39;&quot;&quot;&quot;;\r\n            private static final String BACK_TEXT = &quot;BACK&quot;;\r\n            private static final String INFO_TEXT = &quot;INFO&quot;;\r\n\r\n            private Rectangle backButton;\r\n            private boolean backClicked = false;\r\n\r\n            private Font infoFont;\r\n            private Font howtoPlayFont;\r\n\r\n            private NavigationListener navigationListener;\r\n\r\n            public HowToPlayPane(NavigationListener navigationListener) {\r\n                this.navigationListener = navigationListener;\r\n                this.addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mousePressed(MouseEvent mouseEvent) {\r\n                        Point p = mouseEvent.getPoint();\r\n                        if (backButton.contains(p)) {\r\n                            backClicked = true;\r\n                            repaint();\r\n                            performBackAction();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void mouseReleased(MouseEvent e) {\r\n                        backClicked = false;\r\n                    }\r\n                });\r\n\r\n                this.addMouseMotionListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent mouseEvent) {\r\n                        Point p = mouseEvent.getPoint();\r\n                        if (backButton.contains(p)) {\r\n                            setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n                        } else {\r\n                            setCursor(Cursor.getDefaultCursor());\r\n                        }\r\n                    }\r\n                });\r\n\r\n                Dimension btnDim = new Dimension(getPreferredSize().width / 3, getPreferredSize().height / 12);\r\n                backButton = new Rectangle(btnDim);\r\n\r\n                infoFont = new Font(&quot;Calibri&quot;, Font.BOLD, 24);\r\n                howtoPlayFont = new Font(&quot;Calibri&quot;, Font.PLAIN, 14);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                g2d.setColor(BORDER_COLOR);\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n\r\n                FontRenderContext frc = g2d.getFontRenderContext();\r\n                Rectangle2D infoRec = infoFont.getStringBounds(INFO_TEXT, frc);\r\n    //\r\n    //            Color prev = g2d.getColor();\r\n    //\r\n    //            Stroke tmp = g2d.getStroke();\r\n    //\r\n    //            g2d.setStroke(borderStoke_noDashes);\r\n    //            g2d.setColor(DASH_BORDER_COLOR);\r\n    //            g2d.draw(infoFace);\r\n    //\r\n    //            g2d.setStroke(borderStoke);\r\n    //            g2d.setColor(BORDER_COLOR);\r\n    //            g2d.draw(infoFace);\r\n    //\r\n    //            g2d.fillRect(0, 0, infoFace.width, infoFace.height);\r\n    //\r\n    //            g2d.setStroke(tmp);\r\n    //\r\n    //            g2d.setColor(prev);\r\n    //\r\n                g2d.setColor(TEXT_COLOR);\r\n\r\n                int sX, sY;\r\n\r\n                sY = (int) (getHeight() / 15);\r\n\r\n                sX = (int) (getWidth() - infoRec.getWidth()) / 2;\r\n                sY += (int) infoRec.getHeight() * 1.1;//add 10% of String height between the two strings\r\n\r\n                g2d.setFont(infoFont);\r\n                g2d.drawString(INFO_TEXT, sX, sY);\r\n\r\n                TextLayout layout = new TextLayout(HOW_TO_PLAY_TEXT, howtoPlayFont, frc);\r\n                String[] outputs = HOW_TO_PLAY_TEXT.split(&quot;\\n&quot;);\r\n                for (int i = 0; i &lt; outputs.length; i++) {\r\n                    g2d.setFont(howtoPlayFont);\r\n                    g2d.drawString(outputs[i], 40, (int) (80 + i * layout.getBounds().getHeight() + 0.5));\r\n                }\r\n\r\n                backButton.setLocation(getWidth() / 3, getHeight() - 50);\r\n\r\n                int x = (int) (backButton.getWidth() - infoRec.getWidth()) / 2;\r\n                int y = (int) (backButton.getHeight() - infoRec.getHeight()) / 2;\r\n\r\n                x += backButton.x + 11;\r\n                y += backButton.y + (layout.getBounds().getHeight() * 1.35);\r\n\r\n                backButton.setLocation(getWidth() / 3, getHeight() - 50);\r\n\r\n                if (backClicked) {\r\n                    Color tmp1 = g2d.getColor();\r\n                    g2d.setColor(CLICKED_BUTTON_COLOR);\r\n                    g2d.draw(backButton);\r\n                    g2d.setColor(CLICKED_TEXT);\r\n                    g2d.drawString(BACK_TEXT, x, y);\r\n                    g2d.setColor(tmp1);\r\n                    repaint();\r\n                } else {\r\n                    g2d.draw(backButton);\r\n                    g2d.drawString(BACK_TEXT, x, y);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected void performBackAction() {\r\n                navigationListener.navigateBack(this);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nNow, this example makes use of components to present different views (it even has a nice abstract implementation to allow for code re-use &#128561;), but it occurs to me, that, if you &quot;really&quot; wanted to, you could have a series of &quot;painter&quot; classes, which could be used to delegate the painting of the current state to, and mouse clicks/movements could be delegated to, meaning you could have a single component, which would simple delegate the painting (via the `paintComponent` method) to which ever `painter` is active.\r\n\r\nAnd, wouldn&#39;t you know it, they have a design principle for that to, the [Delegation Pattern](http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/delegation.html)\r\n\r\nThe above example also makes use of the [observer pattern](http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/observer.html), so you might want to have a look into that as well","title":"Clearing the screen for new graphics in Java (awt)","body":"<p>First read, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> and <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> to get a better understanding how painting in Swing works and how you're suppose to work with it.</p>\n<blockquote>\n<p>But I already have ...</p>\n</blockquote>\n<pre><code>public void paint(Graphics g){\n    drawMenu((Graphics2D)g);\n\n}\n</code></pre>\n<p>would suggest otherwise.  Seriously, go read those links so you understand all the issues that the above decision is going to create for you.</p>\n<p>You're operating in a OO language, you need to take advantage of that and decouple your code and focus on the &quot;single responsibility&quot; principle.</p>\n<p>I'm kind of tired of talking about it, so you can do some reading:</p>\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/244476/what-is-decoupling-and-what-development-areas-can-it-apply-to\">https://softwareengineering.stackexchange.com/questions/244476/what-is-decoupling-and-what-development-areas-can-it-apply-to</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2881586/cohesion-and-decoupling-what-do-they-represent\">Cohesion and Decoupling, what do they represent?</a></li>\n<li><a href=\"https://www.baeldung.com/java-single-responsibility-principle\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/single-responsibility-principle-in-java-with-examples/\" rel=\"nofollow noreferrer\">Single Responsibility Principle in Java with Examples</a></li>\n<li><a href=\"https://stackify.com/solid-design-principles/\" rel=\"nofollow noreferrer\">SOLID Design Principles Explained: The Single Responsibility Principle</a></li>\n</ul>\n<p>These are basic concepts you really need to understand as they will make your live SOOO much easier and can be applied to just about any language.</p>\n<p>As an example, from your code...</p>\n<pre><code>public HomeMenu(GameFrame owner,Dimension area){\n    //...\n    this.setPreferredSize(area);\n</code></pre>\n<p>There is no good reason (other than laziness (IMHO)) that any caller should be telling a component what size it should be, that's not their responsibility.  It's the responsibility of the component to tell the parent container how big it would like to be and for the parent component to figure out how it's going to achieve that (or ignore it as the case may be).</p>\n<p>The &quot;basic&quot; problem you're having is a simple one.  Your &quot;God&quot; class is simply trying to do too much (ie it's taken on too much responsibility).  Now we &quot;could&quot; add a dozen or more flags into the code to compensate for this, which is just going to increase the coupling and complexity, making it harder to understand and maintain, or we can take a step back, break it down into individual areas of responsibility and build the solution around those, for example...</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Cursor;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.Stroke;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.font.FontRenderContext;\nimport java.awt.font.TextLayout;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new HomePane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class HomePane extends JPanel {\n\n        public HomePane() {\n            setLayout(new BorderLayout());\n            navigateToMenu();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        protected void navigateToMenu() {\n            removeAll();\n            HomeMenuPane pane = new HomeMenuPane(new HomeMenuPane.NavigationListener() {\n                @Override\n                public void navigateToInfo(HomeMenuPane source) {\n                    HomePane.this.navigateToInfo();\n                }\n\n                @Override\n                public void navigateToStartGame(HomeMenuPane source) {\n                    startGame();\n                }\n            });\n            add(pane);\n            revalidate();\n            repaint();\n        }\n\n        protected void navigateToInfo() {\n            removeAll();\n            HowToPlayPane pane = new HowToPlayPane(new HowToPlayPane.NavigationListener() {\n                @Override\n                public void navigateBack(HowToPlayPane source) {\n                    navigateToMenu();\n                }\n            });\n            add(pane);\n            revalidate();\n            repaint();\n        }\n\n        protected void startGame() {\n            removeAll();\n            add(new JLabel(&quot;This is pretty awesome, isn't it!&quot;, JLabel.CENTER));\n            revalidate();\n            repaint();\n        }\n\n    }\n\n    public abstract class AbstractBaseMenuPane extends JPanel {\n\n        protected static final Color BORDER_COLOR = new Color(200, 8, 21); //Venetian Red\n        protected static final Color DASH_BORDER_COLOR = new Color(255, 216, 0);//school bus yellow\n        protected static final Color TEXT_COLOR = new Color(255, 255, 255);//white\n        protected static final Color CLICKED_BUTTON_COLOR = Color.ORANGE.darker();\n        protected static final Color CLICKED_TEXT = Color.ORANGE.darker();\n        protected static final int BORDER_SIZE = 5;\n        protected static final float[] DASHES = {12, 6};\n\n        private Rectangle border;\n\n        private BasicStroke borderStoke;\n        private BasicStroke borderStoke_noDashes;\n\n        private BufferedImage backgroundImage;\n\n        public AbstractBaseMenuPane() {\n            borderStoke = new BasicStroke(BORDER_SIZE, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND, 0, DASHES, 0);\n            borderStoke_noDashes = new BasicStroke(BORDER_SIZE, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND);\n            border = new Rectangle(new Point(0, 0), getPreferredSize());\n            // You are now responsible for filling the background\n            setOpaque(false);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            BufferedImage backgroundImage = getBackgroundImage();\n            if (backgroundImage != null) {\n                g2d.drawImage(backgroundImage, 0, 0, getWidth(), getHeight(), this);\n            }\n\n            Color prev = g2d.getColor();\n            Stroke tmp = g2d.getStroke();\n\n            g2d.setStroke(borderStoke_noDashes);\n            g2d.setColor(DASH_BORDER_COLOR);\n            g2d.draw(border);\n\n            g2d.setStroke(borderStoke);\n            g2d.setColor(BORDER_COLOR);\n            g2d.draw(border);\n\n            g2d.dispose();\n        }\n\n        public void setBackgroundImage(BufferedImage backgroundImage) {\n            this.backgroundImage = backgroundImage;\n            repaint();\n        }\n\n        public BufferedImage getBackgroundImage() {\n            return backgroundImage;\n        }\n\n    }\n\n    public class HomeMenuPane extends AbstractBaseMenuPane {\n\n        public static interface NavigationListener {\n\n            public void navigateToInfo(HomeMenuPane source);\n\n            public void navigateToStartGame(HomeMenuPane source);\n        }\n\n        private static final String GAME_TITLE = &quot;BRICK DESTROY&quot;;\n        private static final String START_TEXT = &quot;START&quot;;\n        private static final String INFO_TEXT = &quot;INFO&quot;;\n\n        private Rectangle startButton;\n        private Rectangle infoButton;\n\n        private Font gameTitleFont;\n        private Font buttonFont;\n\n        // Don't do this, this just sucks (for so many reasons)\n        // Use ImageIO.read instead and save yourself a load of frustration\n        //private Image img =  Toolkit.getDefaultToolkit().createImage(&quot;1.jpeg&quot;);\n\n        private Point lastClickPoint;\n\n        private NavigationListener navigationListener;\n\n        public HomeMenuPane(NavigationListener navigationListener) {\n            this.navigationListener = navigationListener;\n\n            try {\n                setBackgroundImage(ImageIO.read(getClass().getResource(&quot;/images/BrickWall.jpg&quot;)));\n            } catch (IOException ex) {\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n            }\n\n            this.addMouseListener(new MouseAdapter() {\n\n                @Override\n                public void mousePressed(MouseEvent mouseEvent) {\n                    Point p = mouseEvent.getPoint();\n                    lastClickPoint = p;\n                    if (startButton.contains(p)) {\n                        peformStartGameAction();\n                    } else if (infoButton.contains(p)) {\n                        performInfoAction();\n                    }\n                    repaint();\n                }\n\n                @Override\n                public void mouseReleased(MouseEvent mouseEvent) {\n                    lastClickPoint = null;\n                    repaint();\n                }\n            });\n            this.addMouseMotionListener(new MouseAdapter() {\n                @Override\n                public void mouseMoved(MouseEvent mouseEvent) {\n                    Point p = mouseEvent.getPoint();\n                    if (startButton.contains(p) || infoButton.contains(p)) {\n                        setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n                    } else {\n                        setCursor(Cursor.getDefaultCursor());\n                    }\n                }\n            });\n\n            Dimension area = getPreferredSize();\n\n            Dimension btnDim = new Dimension(area.width / 3, area.height / 12);\n            startButton = new Rectangle(btnDim);\n            infoButton = new Rectangle(btnDim);\n\n            gameTitleFont = new Font(&quot;Calibri&quot;, Font.BOLD, 28);\n            buttonFont = new Font(&quot;Calibri&quot;, Font.BOLD, startButton.height - 2);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            Color prevColor = g2d.getColor();\n            Font prevFont = g2d.getFont();\n\n            //methods calls\n            drawText(g2d);\n            drawButton(g2d);\n\n            //end of methods calls\n            g2d.setFont(prevFont);\n            g2d.setColor(prevColor);\n            g2d.dispose();\n        }\n\n        private void drawText(Graphics2D g2d) {\n            g2d.setColor(TEXT_COLOR);\n\n            FontRenderContext frc = g2d.getFontRenderContext();\n\n            Rectangle2D gameTitleRect = gameTitleFont.getStringBounds(GAME_TITLE, frc);\n\n            int sX, sY;\n\n            sY = (int) (getHeight() / 4);\n\n            sX = (int) (getWidth() - gameTitleRect.getWidth()) / 2;\n            sY += (int) gameTitleRect.getHeight() * 1.1;//add 10% of String height between the two strings\n\n            g2d.setFont(gameTitleFont);\n            g2d.drawString(GAME_TITLE, sX, sY);\n\n        }\n\n        private void drawButton(Graphics2D g2d) {\n\n            FontRenderContext frc = g2d.getFontRenderContext();\n\n            Rectangle2D txtRect = buttonFont.getStringBounds(START_TEXT, frc);\n            Rectangle2D mTxtRect = buttonFont.getStringBounds(INFO_TEXT, frc);\n\n            g2d.setFont(buttonFont);\n\n            int x = (getWidth() - startButton.width) / 2;\n            int y = (int) ((getHeight() - startButton.height) * 0.5);\n\n            startButton.setLocation(x, y);\n\n            x = (int) (startButton.getWidth() - txtRect.getWidth()) / 2;\n            y = (int) (startButton.getHeight() - txtRect.getHeight()) / 2;\n\n            x += startButton.x;\n            y += startButton.y + (startButton.height * 0.9);\n\n            if (lastClickPoint != null &amp;&amp; startButton.contains(lastClickPoint)) {\n                Color tmp = g2d.getColor();\n                g2d.setColor(CLICKED_BUTTON_COLOR);\n                g2d.draw(startButton);\n                g2d.setColor(CLICKED_TEXT);\n                g2d.drawString(START_TEXT, x, y);\n                g2d.setColor(tmp);\n            } else {\n                g2d.draw(startButton);\n                g2d.drawString(START_TEXT, x, y);\n            }\n\n            x = startButton.x;\n            y = startButton.y;\n\n            y *= 1.3;\n\n            infoButton.setLocation(x, y);\n\n            x = (int) (infoButton.getWidth() - mTxtRect.getWidth()) / 2;\n            y = (int) (infoButton.getHeight() - mTxtRect.getHeight()) / 2;\n\n            x += infoButton.getX();\n            y += infoButton.getY() + (startButton.height * 0.9);\n\n            if (lastClickPoint != null &amp;&amp; infoButton.contains(lastClickPoint)) {\n                Color tmp = g2d.getColor();\n                g2d.setColor(CLICKED_BUTTON_COLOR);\n                g2d.draw(infoButton);\n                g2d.setColor(CLICKED_TEXT);\n                g2d.drawString(INFO_TEXT, x, y);\n                g2d.setColor(tmp);\n            } else {\n                g2d.draw(infoButton);\n                g2d.drawString(INFO_TEXT, x, y);\n            }\n\n        }\n\n        protected void peformStartGameAction() {\n            navigationListener.navigateToStartGame(this);\n        }\n\n        protected void performInfoAction() {\n            navigationListener.navigateToInfo(this);\n        }\n    }\n\n    public class HowToPlayPane extends AbstractBaseMenuPane {\n\n        public static interface NavigationListener {\n\n            public void navigateBack(HowToPlayPane source);\n        }\n\n        private static final String HOW_TO_PLAY_TEXT = &quot;&quot;&quot;\n            1- Click Start\\n\n            2- Choose the mode\\n\n            3- Each mode has 3 levels\\n\n            4- To play/pause press space, use 'A' and 'D' to move\\n\n            5- To open pause menu press 'ESC'\\n\n            6- To open DebugPanel press 'ALT-SHIFT-F1'&quot;&quot;&quot;;\n        private static final String BACK_TEXT = &quot;BACK&quot;;\n        private static final String INFO_TEXT = &quot;INFO&quot;;\n\n        private Rectangle backButton;\n        private boolean backClicked = false;\n\n        private Font infoFont;\n        private Font howtoPlayFont;\n\n        private NavigationListener navigationListener;\n\n        public HowToPlayPane(NavigationListener navigationListener) {\n            this.navigationListener = navigationListener;\n            this.addMouseListener(new MouseAdapter() {\n                @Override\n                public void mousePressed(MouseEvent mouseEvent) {\n                    Point p = mouseEvent.getPoint();\n                    if (backButton.contains(p)) {\n                        backClicked = true;\n                        repaint();\n                        performBackAction();\n                    }\n                }\n\n                @Override\n                public void mouseReleased(MouseEvent e) {\n                    backClicked = false;\n                }\n            });\n\n            this.addMouseMotionListener(new MouseAdapter() {\n                @Override\n                public void mouseMoved(MouseEvent mouseEvent) {\n                    Point p = mouseEvent.getPoint();\n                    if (backButton.contains(p)) {\n                        setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n                    } else {\n                        setCursor(Cursor.getDefaultCursor());\n                    }\n                }\n            });\n\n            Dimension btnDim = new Dimension(getPreferredSize().width / 3, getPreferredSize().height / 12);\n            backButton = new Rectangle(btnDim);\n\n            infoFont = new Font(&quot;Calibri&quot;, Font.BOLD, 24);\n            howtoPlayFont = new Font(&quot;Calibri&quot;, Font.PLAIN, 14);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            g2d.setColor(BORDER_COLOR);\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n\n            FontRenderContext frc = g2d.getFontRenderContext();\n            Rectangle2D infoRec = infoFont.getStringBounds(INFO_TEXT, frc);\n//\n//            Color prev = g2d.getColor();\n//\n//            Stroke tmp = g2d.getStroke();\n//\n//            g2d.setStroke(borderStoke_noDashes);\n//            g2d.setColor(DASH_BORDER_COLOR);\n//            g2d.draw(infoFace);\n//\n//            g2d.setStroke(borderStoke);\n//            g2d.setColor(BORDER_COLOR);\n//            g2d.draw(infoFace);\n//\n//            g2d.fillRect(0, 0, infoFace.width, infoFace.height);\n//\n//            g2d.setStroke(tmp);\n//\n//            g2d.setColor(prev);\n//\n            g2d.setColor(TEXT_COLOR);\n\n            int sX, sY;\n\n            sY = (int) (getHeight() / 15);\n\n            sX = (int) (getWidth() - infoRec.getWidth()) / 2;\n            sY += (int) infoRec.getHeight() * 1.1;//add 10% of String height between the two strings\n\n            g2d.setFont(infoFont);\n            g2d.drawString(INFO_TEXT, sX, sY);\n\n            TextLayout layout = new TextLayout(HOW_TO_PLAY_TEXT, howtoPlayFont, frc);\n            String[] outputs = HOW_TO_PLAY_TEXT.split(&quot;\\n&quot;);\n            for (int i = 0; i &lt; outputs.length; i++) {\n                g2d.setFont(howtoPlayFont);\n                g2d.drawString(outputs[i], 40, (int) (80 + i * layout.getBounds().getHeight() + 0.5));\n            }\n\n            backButton.setLocation(getWidth() / 3, getHeight() - 50);\n\n            int x = (int) (backButton.getWidth() - infoRec.getWidth()) / 2;\n            int y = (int) (backButton.getHeight() - infoRec.getHeight()) / 2;\n\n            x += backButton.x + 11;\n            y += backButton.y + (layout.getBounds().getHeight() * 1.35);\n\n            backButton.setLocation(getWidth() / 3, getHeight() - 50);\n\n            if (backClicked) {\n                Color tmp1 = g2d.getColor();\n                g2d.setColor(CLICKED_BUTTON_COLOR);\n                g2d.draw(backButton);\n                g2d.setColor(CLICKED_TEXT);\n                g2d.drawString(BACK_TEXT, x, y);\n                g2d.setColor(tmp1);\n                repaint();\n            } else {\n                g2d.draw(backButton);\n                g2d.drawString(BACK_TEXT, x, y);\n            }\n            g2d.dispose();\n        }\n\n        protected void performBackAction() {\n            navigationListener.navigateBack(this);\n        }\n    }\n\n}\n</code></pre>\n<p>Now, this example makes use of components to present different views (it even has a nice abstract implementation to allow for code re-use 😱), but it occurs to me, that, if you &quot;really&quot; wanted to, you could have a series of &quot;painter&quot; classes, which could be used to delegate the painting of the current state to, and mouse clicks/movements could be delegated to, meaning you could have a single component, which would simple delegate the painting (via the <code>paintComponent</code> method) to which ever <code>painter</code> is active.</p>\n<p>And, wouldn't you know it, they have a design principle for that to, the <a href=\"http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/delegation.html\" rel=\"nofollow noreferrer\">Delegation Pattern</a></p>\n<p>The above example also makes use of the <a href=\"http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/observer.html\" rel=\"nofollow noreferrer\">observer pattern</a>, so you might want to have a look into that as well</p>\n"}],"owner":{"account_id":23496620,"reputation":1,"user_id":17546973,"display_name":"Morhaf Lababidi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638307149,"creation_date":1638232497,"question_id":70162935,"body_markdown":"I have this code which is basically a home menu with two clickable rectangles. \r\n- Start Game\r\n- Info \r\n\r\nStart Game works fine. \r\nInfo is what is not really working. When pressed, the info screen will appear, but the home menu buttons will still be there though not visible (can be clicked).. it seems that when the info menu is appearing, the home menu buttons are not getting cleared. \r\nAlso, any point on the info menu is clickable and will show the home menu again. (not what intended, only the back buttons should do that). \r\n\r\nHow can I fix those problems ? \r\n\r\n```\r\npackage test;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\nimport java.awt.font.FontRenderContext;\r\nimport java.awt.font.TextLayout;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.awt.image.ImageObserver;\r\nimport java.awt.image.ImageProducer;\r\n\r\n\r\n\r\npublic class HomeMenu extends JComponent implements MouseListener, MouseMotionListener {\r\n\r\n    private static final String GAME_TITLE = &quot;BRICK DESTROY&quot;;\r\n    private static final String START_TEXT = &quot;START&quot;;\r\n    private static final String INFO_TEXT = &quot;INFO&quot;;\r\n    private static final String howtoPlay = &quot;&quot;&quot;\r\n            1- Click Start\\n\r\n            2- Choose the mode\\n\r\n            3- Each mode has 3 levels\\n\r\n            4- To play/pause press space, use &#39;A&#39; and &#39;D&#39; to move\\n\r\n            5- To open pause menu press &#39;ESC&#39;\\n\r\n            6- To open DebugPanel press &#39;ALT-SHIFT-F1&#39;&quot;&quot;&quot;;\r\n    private static final String backText = &quot;BACK&quot;;\r\n\r\n    private static final Color BORDER_COLOR = new Color(200,8,21); //Venetian Red\r\n    private static final Color DASH_BORDER_COLOR = new  Color(255, 216, 0);//school bus yellow\r\n    private static final Color TEXT_COLOR = new Color(255, 255, 255);//white\r\n    private static final Color CLICKED_BUTTON_COLOR = Color.ORANGE.darker();;\r\n    private static final Color CLICKED_TEXT = Color.ORANGE.darker();\r\n    private static final int BORDER_SIZE = 5;\r\n    private static final float[] DASHES = {12,6};\r\n\r\n\r\n    private Rectangle menuFace;\r\n    private Rectangle infoFace;\r\n    private Rectangle startButton;\r\n    private Rectangle infoButton;\r\n    private Rectangle backButton;\r\n\r\n\r\n    private BasicStroke borderStoke;\r\n    private BasicStroke borderStoke_noDashes;\r\n    private Image img =  Toolkit.getDefaultToolkit().createImage(&quot;1.jpeg&quot;);\r\n    private Font gameTitleFont;\r\n    private Font infoFont;\r\n    private Font buttonFont;\r\n    private Font howtoPlayFont;\r\n\r\n    private GameFrame owner;\r\n\r\n    private boolean startClicked;\r\n    private boolean infoClicked = false;\r\n    private boolean backClicked = false;\r\n\r\n\r\n    public HomeMenu(GameFrame owner,Dimension area){\r\n\r\n        this.setFocusable(true);\r\n        this.requestFocusInWindow();\r\n\r\n        this.addMouseListener(this);\r\n        this.addMouseMotionListener(this);\r\n\r\n        this.owner = owner;\r\n\r\n\r\n        menuFace = new Rectangle(new Point(0,0),area);\r\n        infoFace = new Rectangle(new Point(0,0),area);\r\n        this.setPreferredSize(area);\r\n\r\n        Dimension btnDim = new Dimension(area.width / 3, area.height / 12);\r\n        startButton = new Rectangle(btnDim);\r\n        infoButton = new Rectangle(btnDim);\r\n        backButton = new Rectangle(btnDim);\r\n\r\n        borderStoke = new BasicStroke(BORDER_SIZE,BasicStroke.CAP_ROUND,BasicStroke.JOIN_ROUND,0,DASHES,0);\r\n        borderStoke_noDashes = new BasicStroke(BORDER_SIZE,BasicStroke.CAP_ROUND,BasicStroke.JOIN_ROUND);\r\n\r\n\r\n        gameTitleFont = new Font(&quot;Calibri&quot;,Font.BOLD,28);\r\n        infoFont = new Font(&quot;Calibri&quot;,Font.BOLD,24);\r\n        buttonFont = new Font(&quot;Calibri&quot;,Font.BOLD,startButton.height-2);\r\n        howtoPlayFont = new Font(&quot;Calibri&quot;,Font.PLAIN,14);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    public void paint(Graphics g){\r\n        drawMenu((Graphics2D)g);\r\n\r\n    }\r\n\r\n\r\n\r\n    public void drawMenu(Graphics2D g2d){\r\n\r\n        if(infoClicked) {\r\n            drawInfoMenu(g2d);\r\n            return;\r\n        }else{\r\n            drawContainer(g2d);\r\n\r\n            Color prevColor = g2d.getColor();\r\n            Font prevFont = g2d.getFont();\r\n\r\n            double x = menuFace.getX();\r\n            double y = menuFace.getY();\r\n\r\n\r\n            g2d.translate(x,y);\r\n\r\n            //methods calls\r\n            drawText(g2d);\r\n            drawButton(g2d);\r\n\r\n            //end of methods calls\r\n\r\n            g2d.translate(-x,-y);\r\n            g2d.setFont(prevFont);\r\n            g2d.setColor(prevColor);\r\n        }\r\n\r\n\r\n        Toolkit.getDefaultToolkit().sync();\r\n\r\n    }\r\n\r\n\r\n\r\n    private void drawContainer(Graphics2D g2d){\r\n        Color prev = g2d.getColor();\r\n\r\n        //g2d.setColor(BG_COLOR);\r\n        g2d.drawImage(img,0,0,menuFace.width,menuFace.height,this);\r\n        //g2d.fill(menuFace);\r\n\r\n        Stroke tmp = g2d.getStroke();\r\n\r\n        g2d.setStroke(borderStoke_noDashes);\r\n        g2d.setColor(DASH_BORDER_COLOR);\r\n        g2d.draw(menuFace);\r\n\r\n        g2d.setStroke(borderStoke);\r\n        g2d.setColor(BORDER_COLOR);\r\n        g2d.draw(menuFace);\r\n\r\n        g2d.setStroke(tmp);\r\n\r\n        g2d.setColor(prev);\r\n    }\r\n\r\n    private void drawText(Graphics2D g2d){\r\n\r\n        g2d.setColor(TEXT_COLOR);\r\n\r\n        FontRenderContext frc = g2d.getFontRenderContext();\r\n\r\n        Rectangle2D gameTitleRect = gameTitleFont.getStringBounds(GAME_TITLE,frc);\r\n\r\n        int sX,sY;\r\n\r\n        sY = (int)(menuFace.getHeight() / 4);\r\n\r\n        sX = (int)(menuFace.getWidth() - gameTitleRect.getWidth()) / 2;\r\n        sY += (int) gameTitleRect.getHeight() * 1.1;//add 10% of String height between the two strings\r\n\r\n        g2d.setFont(gameTitleFont);\r\n        g2d.drawString(GAME_TITLE,sX,sY);\r\n\r\n\r\n    }\r\n\r\n    private void drawButton(Graphics2D g2d){\r\n\r\n        FontRenderContext frc = g2d.getFontRenderContext();\r\n\r\n        Rectangle2D txtRect = buttonFont.getStringBounds(START_TEXT,frc);\r\n        Rectangle2D mTxtRect = buttonFont.getStringBounds(INFO_TEXT,frc);\r\n\r\n        g2d.setFont(buttonFont);\r\n\r\n        int x = (menuFace.width - startButton.width) / 2;\r\n        int y =(int) ((menuFace.height - startButton.height) * 0.5);\r\n\r\n        startButton.setLocation(x,y);\r\n\r\n        x = (int)(startButton.getWidth() - txtRect.getWidth()) / 2;\r\n        y = (int)(startButton.getHeight() - txtRect.getHeight()) / 2;\r\n\r\n        x += startButton.x;\r\n        y += startButton.y + (startButton.height * 0.9);\r\n\r\n\r\n        if(startClicked){\r\n            Color tmp = g2d.getColor();\r\n            g2d.setColor(CLICKED_BUTTON_COLOR);\r\n            g2d.draw(startButton);\r\n            g2d.setColor(CLICKED_TEXT);\r\n            g2d.drawString(START_TEXT,x,y);\r\n            g2d.setColor(tmp);\r\n        }\r\n        else{\r\n            g2d.draw(startButton);\r\n            g2d.drawString(START_TEXT,x,y);\r\n        }\r\n\r\n        x = startButton.x;\r\n        y = startButton.y;\r\n\r\n        y *= 1.3;\r\n\r\n        infoButton.setLocation(x,y);\r\n\r\n\r\n        x = (int)(infoButton.getWidth() - mTxtRect.getWidth()) / 2;\r\n        y = (int)(infoButton.getHeight() - mTxtRect.getHeight()) / 2;\r\n\r\n        x += infoButton.getX();\r\n        y += infoButton.getY() + (startButton.height * 0.9);\r\n\r\n        if(infoClicked){\r\n            Color tmp = g2d.getColor();\r\n            g2d.setColor(CLICKED_BUTTON_COLOR);\r\n            g2d.draw(infoButton);\r\n            g2d.setColor(CLICKED_TEXT);\r\n            g2d.drawString(INFO_TEXT,x,y);\r\n            g2d.setColor(tmp);\r\n        }\r\n        else{\r\n            g2d.draw(infoButton);\r\n            g2d.drawString(INFO_TEXT,x,y);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private void drawInfoMenu(Graphics2D g2d){\r\n\r\n        FontRenderContext frc = g2d.getFontRenderContext();\r\n\r\n        Rectangle2D infoRec = infoFont.getStringBounds(INFO_TEXT,frc);\r\n\r\n        Color prev = g2d.getColor();\r\n\r\n\r\n        Stroke tmp = g2d.getStroke();\r\n\r\n\r\n        g2d.setStroke(borderStoke_noDashes);\r\n        g2d.setColor(DASH_BORDER_COLOR);\r\n        g2d.draw(infoFace);\r\n\r\n        g2d.setStroke(borderStoke);\r\n        g2d.setColor(BORDER_COLOR);\r\n        g2d.draw(infoFace);\r\n\r\n        g2d.fillRect(0,0,infoFace.width,infoFace.height);\r\n\r\n        g2d.setStroke(tmp);\r\n\r\n        g2d.setColor(prev);\r\n\r\n        g2d.setColor(TEXT_COLOR);\r\n\r\n\r\n        int sX,sY;\r\n\r\n        sY = (int)(infoFace.getHeight() / 15);\r\n\r\n        sX = (int)(infoFace.getWidth() - infoRec.getWidth()) / 2;\r\n        sY += (int) infoRec.getHeight() * 1.1;//add 10% of String height between the two strings\r\n\r\n        g2d.setFont(infoFont);\r\n        g2d.drawString(INFO_TEXT,sX,sY);\r\n\r\n        TextLayout layout = new TextLayout(howtoPlay, howtoPlayFont, frc);\r\n        String[] outputs = howtoPlay.split(&quot;\\n&quot;);\r\n        for(int i=0; i&lt;outputs.length; i++) {\r\n            g2d.setFont(howtoPlayFont);\r\n            g2d.drawString(outputs[i], 40, (int) (80 + i * layout.getBounds().getHeight() + 0.5));\r\n        }\r\n\r\n        backButton.setLocation(getWidth()/3,getHeight()-50);\r\n\r\n\r\n        int x = (int)(backButton.getWidth() - infoRec.getWidth()) / 2;\r\n        int y = (int)(backButton.getHeight() - infoRec.getHeight()) / 2;\r\n\r\n        x += backButton.x+11;\r\n        y += backButton.y + (layout.getBounds().getHeight() * 1.35);\r\n\r\n        backButton.setLocation(getWidth()/3,getHeight()-50);\r\n\r\n        if(backClicked){\r\n            Color tmp1 = g2d.getColor();\r\n            g2d.setColor(CLICKED_BUTTON_COLOR);\r\n            g2d.draw(backButton);\r\n            g2d.setColor(CLICKED_TEXT);\r\n            g2d.drawString(backText,x,y);\r\n            g2d.setColor(tmp1);\r\n            infoClicked = false;\r\n            repaint();\r\n        }\r\n        else{\r\n            g2d.draw(backButton);\r\n            g2d.drawString(backText,x,y);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent mouseEvent) {\r\n        Point p = mouseEvent.getPoint();\r\n        if(startButton.contains(p)){\r\n           owner.enableGameBoard();\r\n\r\n        }\r\n        else if(infoButton.contains(p)){\r\n            infoClicked = true;\r\n        }\r\n        else if(backButton.contains(p)){\r\n            infoClicked = false;\r\n\r\n        }\r\n        repaint();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent mouseEvent) {\r\n        Point p = mouseEvent.getPoint();\r\n        if(startButton.contains(p)){\r\n            startClicked = true;\r\n            repaint(startButton.x,startButton.y,startButton.width+1,startButton.height+1);\r\n\r\n        }\r\n        else if(infoButton.contains(p)){\r\n            infoClicked = true;\r\n\r\n        }\r\n        else if(backButton.contains(p)){\r\n            infoClicked = false;\r\n        }\r\n        repaint();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent mouseEvent) {\r\n        if(startClicked){\r\n            startClicked = false;\r\n            repaint(startButton.x,startButton.y,startButton.width+1,startButton.height+1);\r\n        }\r\n        else if(infoClicked){\r\n            infoClicked = false;\r\n        }\r\n        else if(backClicked){\r\n            infoClicked = true;\r\n        }\r\n        repaint();\r\n    }\r\n\r\n    @Override\r\n    public void mouseEntered(MouseEvent mouseEvent) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent mouseEvent) {\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void mouseDragged(MouseEvent mouseEvent) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseMoved(MouseEvent mouseEvent) {\r\n        Point p = mouseEvent.getPoint();\r\n        if(startButton.contains(p) || infoButton.contains(p) || backButton.contains(p)) {\r\n            this.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n        }\r\n        else {\r\n            this.setCursor(Cursor.getDefaultCursor());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nHere are the images of both windows \r\n[main menu][1]\r\n\r\n[info menu, pressing anywhere = back to home menu, pressing roughly in the middle = start game or back to main menu too][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FzZvL.png\r\n  [2]: https://i.stack.imgur.com/LDstB.png","title":"Clearing the screen for new graphics in Java (awt)","body":"<p>I have this code which is basically a home menu with two clickable rectangles.</p>\n<ul>\n<li>Start Game</li>\n<li>Info</li>\n</ul>\n<p>Start Game works fine.\nInfo is what is not really working. When pressed, the info screen will appear, but the home menu buttons will still be there though not visible (can be clicked).. it seems that when the info menu is appearing, the home menu buttons are not getting cleared.\nAlso, any point on the info menu is clickable and will show the home menu again. (not what intended, only the back buttons should do that).</p>\n<p>How can I fix those problems ?</p>\n<pre><code>package test;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.font.FontRenderContext;\nimport java.awt.font.TextLayout;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.ImageObserver;\nimport java.awt.image.ImageProducer;\n\n\n\npublic class HomeMenu extends JComponent implements MouseListener, MouseMotionListener {\n\n    private static final String GAME_TITLE = &quot;BRICK DESTROY&quot;;\n    private static final String START_TEXT = &quot;START&quot;;\n    private static final String INFO_TEXT = &quot;INFO&quot;;\n    private static final String howtoPlay = &quot;&quot;&quot;\n            1- Click Start\\n\n            2- Choose the mode\\n\n            3- Each mode has 3 levels\\n\n            4- To play/pause press space, use 'A' and 'D' to move\\n\n            5- To open pause menu press 'ESC'\\n\n            6- To open DebugPanel press 'ALT-SHIFT-F1'&quot;&quot;&quot;;\n    private static final String backText = &quot;BACK&quot;;\n\n    private static final Color BORDER_COLOR = new Color(200,8,21); //Venetian Red\n    private static final Color DASH_BORDER_COLOR = new  Color(255, 216, 0);//school bus yellow\n    private static final Color TEXT_COLOR = new Color(255, 255, 255);//white\n    private static final Color CLICKED_BUTTON_COLOR = Color.ORANGE.darker();;\n    private static final Color CLICKED_TEXT = Color.ORANGE.darker();\n    private static final int BORDER_SIZE = 5;\n    private static final float[] DASHES = {12,6};\n\n\n    private Rectangle menuFace;\n    private Rectangle infoFace;\n    private Rectangle startButton;\n    private Rectangle infoButton;\n    private Rectangle backButton;\n\n\n    private BasicStroke borderStoke;\n    private BasicStroke borderStoke_noDashes;\n    private Image img =  Toolkit.getDefaultToolkit().createImage(&quot;1.jpeg&quot;);\n    private Font gameTitleFont;\n    private Font infoFont;\n    private Font buttonFont;\n    private Font howtoPlayFont;\n\n    private GameFrame owner;\n\n    private boolean startClicked;\n    private boolean infoClicked = false;\n    private boolean backClicked = false;\n\n\n    public HomeMenu(GameFrame owner,Dimension area){\n\n        this.setFocusable(true);\n        this.requestFocusInWindow();\n\n        this.addMouseListener(this);\n        this.addMouseMotionListener(this);\n\n        this.owner = owner;\n\n\n        menuFace = new Rectangle(new Point(0,0),area);\n        infoFace = new Rectangle(new Point(0,0),area);\n        this.setPreferredSize(area);\n\n        Dimension btnDim = new Dimension(area.width / 3, area.height / 12);\n        startButton = new Rectangle(btnDim);\n        infoButton = new Rectangle(btnDim);\n        backButton = new Rectangle(btnDim);\n\n        borderStoke = new BasicStroke(BORDER_SIZE,BasicStroke.CAP_ROUND,BasicStroke.JOIN_ROUND,0,DASHES,0);\n        borderStoke_noDashes = new BasicStroke(BORDER_SIZE,BasicStroke.CAP_ROUND,BasicStroke.JOIN_ROUND);\n\n\n        gameTitleFont = new Font(&quot;Calibri&quot;,Font.BOLD,28);\n        infoFont = new Font(&quot;Calibri&quot;,Font.BOLD,24);\n        buttonFont = new Font(&quot;Calibri&quot;,Font.BOLD,startButton.height-2);\n        howtoPlayFont = new Font(&quot;Calibri&quot;,Font.PLAIN,14);\n\n\n\n\n    }\n\n\n    public void paint(Graphics g){\n        drawMenu((Graphics2D)g);\n\n    }\n\n\n\n    public void drawMenu(Graphics2D g2d){\n\n        if(infoClicked) {\n            drawInfoMenu(g2d);\n            return;\n        }else{\n            drawContainer(g2d);\n\n            Color prevColor = g2d.getColor();\n            Font prevFont = g2d.getFont();\n\n            double x = menuFace.getX();\n            double y = menuFace.getY();\n\n\n            g2d.translate(x,y);\n\n            //methods calls\n            drawText(g2d);\n            drawButton(g2d);\n\n            //end of methods calls\n\n            g2d.translate(-x,-y);\n            g2d.setFont(prevFont);\n            g2d.setColor(prevColor);\n        }\n\n\n        Toolkit.getDefaultToolkit().sync();\n\n    }\n\n\n\n    private void drawContainer(Graphics2D g2d){\n        Color prev = g2d.getColor();\n\n        //g2d.setColor(BG_COLOR);\n        g2d.drawImage(img,0,0,menuFace.width,menuFace.height,this);\n        //g2d.fill(menuFace);\n\n        Stroke tmp = g2d.getStroke();\n\n        g2d.setStroke(borderStoke_noDashes);\n        g2d.setColor(DASH_BORDER_COLOR);\n        g2d.draw(menuFace);\n\n        g2d.setStroke(borderStoke);\n        g2d.setColor(BORDER_COLOR);\n        g2d.draw(menuFace);\n\n        g2d.setStroke(tmp);\n\n        g2d.setColor(prev);\n    }\n\n    private void drawText(Graphics2D g2d){\n\n        g2d.setColor(TEXT_COLOR);\n\n        FontRenderContext frc = g2d.getFontRenderContext();\n\n        Rectangle2D gameTitleRect = gameTitleFont.getStringBounds(GAME_TITLE,frc);\n\n        int sX,sY;\n\n        sY = (int)(menuFace.getHeight() / 4);\n\n        sX = (int)(menuFace.getWidth() - gameTitleRect.getWidth()) / 2;\n        sY += (int) gameTitleRect.getHeight() * 1.1;//add 10% of String height between the two strings\n\n        g2d.setFont(gameTitleFont);\n        g2d.drawString(GAME_TITLE,sX,sY);\n\n\n    }\n\n    private void drawButton(Graphics2D g2d){\n\n        FontRenderContext frc = g2d.getFontRenderContext();\n\n        Rectangle2D txtRect = buttonFont.getStringBounds(START_TEXT,frc);\n        Rectangle2D mTxtRect = buttonFont.getStringBounds(INFO_TEXT,frc);\n\n        g2d.setFont(buttonFont);\n\n        int x = (menuFace.width - startButton.width) / 2;\n        int y =(int) ((menuFace.height - startButton.height) * 0.5);\n\n        startButton.setLocation(x,y);\n\n        x = (int)(startButton.getWidth() - txtRect.getWidth()) / 2;\n        y = (int)(startButton.getHeight() - txtRect.getHeight()) / 2;\n\n        x += startButton.x;\n        y += startButton.y + (startButton.height * 0.9);\n\n\n        if(startClicked){\n            Color tmp = g2d.getColor();\n            g2d.setColor(CLICKED_BUTTON_COLOR);\n            g2d.draw(startButton);\n            g2d.setColor(CLICKED_TEXT);\n            g2d.drawString(START_TEXT,x,y);\n            g2d.setColor(tmp);\n        }\n        else{\n            g2d.draw(startButton);\n            g2d.drawString(START_TEXT,x,y);\n        }\n\n        x = startButton.x;\n        y = startButton.y;\n\n        y *= 1.3;\n\n        infoButton.setLocation(x,y);\n\n\n        x = (int)(infoButton.getWidth() - mTxtRect.getWidth()) / 2;\n        y = (int)(infoButton.getHeight() - mTxtRect.getHeight()) / 2;\n\n        x += infoButton.getX();\n        y += infoButton.getY() + (startButton.height * 0.9);\n\n        if(infoClicked){\n            Color tmp = g2d.getColor();\n            g2d.setColor(CLICKED_BUTTON_COLOR);\n            g2d.draw(infoButton);\n            g2d.setColor(CLICKED_TEXT);\n            g2d.drawString(INFO_TEXT,x,y);\n            g2d.setColor(tmp);\n        }\n        else{\n            g2d.draw(infoButton);\n            g2d.drawString(INFO_TEXT,x,y);\n        }\n\n    }\n\n\n    private void drawInfoMenu(Graphics2D g2d){\n\n        FontRenderContext frc = g2d.getFontRenderContext();\n\n        Rectangle2D infoRec = infoFont.getStringBounds(INFO_TEXT,frc);\n\n        Color prev = g2d.getColor();\n\n\n        Stroke tmp = g2d.getStroke();\n\n\n        g2d.setStroke(borderStoke_noDashes);\n        g2d.setColor(DASH_BORDER_COLOR);\n        g2d.draw(infoFace);\n\n        g2d.setStroke(borderStoke);\n        g2d.setColor(BORDER_COLOR);\n        g2d.draw(infoFace);\n\n        g2d.fillRect(0,0,infoFace.width,infoFace.height);\n\n        g2d.setStroke(tmp);\n\n        g2d.setColor(prev);\n\n        g2d.setColor(TEXT_COLOR);\n\n\n        int sX,sY;\n\n        sY = (int)(infoFace.getHeight() / 15);\n\n        sX = (int)(infoFace.getWidth() - infoRec.getWidth()) / 2;\n        sY += (int) infoRec.getHeight() * 1.1;//add 10% of String height between the two strings\n\n        g2d.setFont(infoFont);\n        g2d.drawString(INFO_TEXT,sX,sY);\n\n        TextLayout layout = new TextLayout(howtoPlay, howtoPlayFont, frc);\n        String[] outputs = howtoPlay.split(&quot;\\n&quot;);\n        for(int i=0; i&lt;outputs.length; i++) {\n            g2d.setFont(howtoPlayFont);\n            g2d.drawString(outputs[i], 40, (int) (80 + i * layout.getBounds().getHeight() + 0.5));\n        }\n\n        backButton.setLocation(getWidth()/3,getHeight()-50);\n\n\n        int x = (int)(backButton.getWidth() - infoRec.getWidth()) / 2;\n        int y = (int)(backButton.getHeight() - infoRec.getHeight()) / 2;\n\n        x += backButton.x+11;\n        y += backButton.y + (layout.getBounds().getHeight() * 1.35);\n\n        backButton.setLocation(getWidth()/3,getHeight()-50);\n\n        if(backClicked){\n            Color tmp1 = g2d.getColor();\n            g2d.setColor(CLICKED_BUTTON_COLOR);\n            g2d.draw(backButton);\n            g2d.setColor(CLICKED_TEXT);\n            g2d.drawString(backText,x,y);\n            g2d.setColor(tmp1);\n            infoClicked = false;\n            repaint();\n        }\n        else{\n            g2d.draw(backButton);\n            g2d.drawString(backText,x,y);\n        }\n\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent mouseEvent) {\n        Point p = mouseEvent.getPoint();\n        if(startButton.contains(p)){\n           owner.enableGameBoard();\n\n        }\n        else if(infoButton.contains(p)){\n            infoClicked = true;\n        }\n        else if(backButton.contains(p)){\n            infoClicked = false;\n\n        }\n        repaint();\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent mouseEvent) {\n        Point p = mouseEvent.getPoint();\n        if(startButton.contains(p)){\n            startClicked = true;\n            repaint(startButton.x,startButton.y,startButton.width+1,startButton.height+1);\n\n        }\n        else if(infoButton.contains(p)){\n            infoClicked = true;\n\n        }\n        else if(backButton.contains(p)){\n            infoClicked = false;\n        }\n        repaint();\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent mouseEvent) {\n        if(startClicked){\n            startClicked = false;\n            repaint(startButton.x,startButton.y,startButton.width+1,startButton.height+1);\n        }\n        else if(infoClicked){\n            infoClicked = false;\n        }\n        else if(backClicked){\n            infoClicked = true;\n        }\n        repaint();\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent mouseEvent) {\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent mouseEvent) {\n\n    }\n\n\n    @Override\n    public void mouseDragged(MouseEvent mouseEvent) {\n\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent mouseEvent) {\n        Point p = mouseEvent.getPoint();\n        if(startButton.contains(p) || infoButton.contains(p) || backButton.contains(p)) {\n            this.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        }\n        else {\n            this.setCursor(Cursor.getDefaultCursor());\n        }\n    }\n\n}\n</code></pre>\n<p>Here are the images of both windows\n<a href=\"https://i.stack.imgur.com/FzZvL.png\" rel=\"nofollow noreferrer\">main menu</a></p>\n<p><a href=\"https://i.stack.imgur.com/LDstB.png\" rel=\"nofollow noreferrer\">info menu, pressing anywhere = back to home menu, pressing roughly in the middle = start game or back to main menu too</a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa","pageable"],"comments":[{"owner":{"display_name":"user1690808"},"score":0,"creation_date":1638779241,"post_id":70175960,"comment_id":124169818,"body_markdown":"Could someone please help me on this?","body":"Could someone please help me on this?"},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1644221949,"post_id":70175960,"comment_id":125538041,"body_markdown":"XML Defined named queries do not support sorting afaik.","body":"XML Defined named queries do not support sorting afaik."}],"owner":{"display_name":"user1690808"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638306421,"creation_date":1638305765,"question_id":70175960,"body_markdown":"I have defined the named native query in orm.xml which maps to the method declared in repository interface\r\n\r\nStudent Repository\r\n\r\n    @Query(nativeQuery = true)\r\n    public List&lt;DeptStuInfo&gt; deptEmplInfosPageable(Pageable pageable);\r\n\r\norm.xml \r\n\r\n    &lt;named-native-query\r\n    \t\tname=&quot;Student.deptEmplInfosPageable&quot;\r\n    \t\tresult-set-mapping=&quot;DeptEmplMapping&quot;&gt;\r\n    \t\t&lt;query&gt;&lt;![CDATA[select dept.name as deptName,stu.name as stuName,stu.doj as stuDoj \r\n    \t\t\t\t\t\tfrom department dept,student stu\r\n    \t\t\t\t\t\twhere dept.id=stu.studeptId\r\n    \t\t\t\t\t\tgroup by dept.name,stu.name,stu.doj \r\n    \t\t\t\t]]&gt;\r\n    \t\t&lt;/query&gt;\r\n    \t&lt;/named-native-query&gt;\r\n    \r\n    \r\n    \t&lt;named-native-query\r\n    \t\tname=&quot;Student.deptEmplInfosPageable.count&quot;&gt;\r\n    \t\t&lt;query&gt;&lt;![CDATA[select count(1) from student stu]]&gt;&lt;/query&gt;\r\n    \t&lt;/named-native-query&gt;\r\n    \t\r\n    \t&lt;sql-result-set-mapping name=&quot;DeptEmplMapping&quot;&gt;\r\n    \t\t&lt;constructor-result target-class=&quot;com.example.querydslex.pojo.DeptStuInfo&quot;&gt;\r\n    \t\t\t&lt;column name=&quot;deptName&quot;/&gt;\r\n    \t\t\t&lt;column name=&quot;stuName&quot;/&gt;\r\n    \t\t\t&lt;column name=&quot;stuDoj&quot; class=&quot;java.time.LocalDate&quot;/&gt;\r\n    \t\t&lt;/constructor-result&gt;\r\n    \t&lt;/sql-result-set-mapping&gt;\r\n\r\nThe result is mapped to class DeptStuInfo\r\n\r\n    public class DeptStuInfo {\r\n    \r\n    \tprivate String deptName;\r\n    \r\n    \tprivate String studentName;\r\n    \r\n    \t@JsonFormat(pattern = &quot;dd-MM-yyyy&quot;)\r\n    \tprivate LocalDate studentDoj;\r\n    \r\n    \tpublic String getDeptName() {\r\n    \t\treturn deptName;\r\n    \t}\r\n    \r\n    \tpublic void setDeptName(String deptName) {\r\n    \t\tthis.deptName = deptName;\r\n    \t}\r\n    \r\n    \tpublic String getStudentName() {\r\n    \t\treturn studentName;\r\n    \t}\r\n    \r\n    \tpublic void setStudentName(String studentName) {\r\n    \t\tthis.studentName = studentName;\r\n    \t}\r\n    \r\n    \tpublic LocalDate getStudentDoj() {\r\n    \t\treturn studentDoj;\r\n    \t}\r\n    \r\n    \tpublic void setStudentDoj(LocalDate studentDoj) {\r\n    \t\tthis.studentDoj = studentDoj;\r\n    \t}\r\n    \r\n    \tpublic DeptStuInfo(String deptName, String studentName, LocalDate studentDoj) {\r\n    \t\tsuper();\r\n    \t\tthis.deptName = deptName;\r\n    \t\tthis.studentName = studentName;\r\n    \t\tthis.studentDoj = studentDoj;\r\n    \t}\r\n    }\r\n\r\nI am using a class to set the Pageable object\r\n\r\n    public class PageablePojo {\r\n    \t\r\n    \tprivate Integer page;\r\n    \t\r\n    \tprivate Integer size;\r\n    \t\r\n    \tprivate String sort;\r\n    \t\r\n    \tprivate String direction;\r\n    \r\n    \tpublic Integer getPage() {\r\n    \t\treturn page;\r\n    \t}\r\n    \r\n    \tpublic void setPage(Integer page) {\r\n    \t\tthis.page = page;\r\n    \t}\r\n    \r\n    \tpublic Integer getSize() {\r\n    \t\treturn size;\r\n    \t}\r\n    \r\n    \tpublic void setSize(Integer size) {\r\n    \t\tthis.size = size;\r\n    \t}\r\n    \r\n    \tpublic String getSort() {\r\n    \t\treturn sort;\r\n    \t}\r\n    \r\n    \tpublic void setSort(String sort) {\r\n    \t\tthis.sort = sort;\r\n    \t}\r\n    \r\n    \tpublic String getDirection() {\r\n    \t\treturn direction;\r\n    \t}\r\n    \r\n    \tpublic void setDirection(String direction) {\r\n    \t\tthis.direction = direction;\r\n    \t}\r\n    \r\n    }\r\n\r\nUsing the above class to create the pageable object as below \r\n\r\n    PageRequest.of(obj.getPage(), obj.getSize(), Sort.by(obj.getSort()));\r\n\r\nThe issue I am facing is that order by clause is not generated in the query. Only limit clause is getting generated\r\n\r\n\r\n","title":"Pageable Sorting not working with named native query in orm.xml using spring boot","body":"<p>I have defined the named native query in orm.xml which maps to the method declared in repository interface</p>\n<p>Student Repository</p>\n<pre><code>@Query(nativeQuery = true)\npublic List&lt;DeptStuInfo&gt; deptEmplInfosPageable(Pageable pageable);\n</code></pre>\n<p>orm.xml</p>\n<pre><code>&lt;named-native-query\n        name=&quot;Student.deptEmplInfosPageable&quot;\n        result-set-mapping=&quot;DeptEmplMapping&quot;&gt;\n        &lt;query&gt;&lt;![CDATA[select dept.name as deptName,stu.name as stuName,stu.doj as stuDoj \n                        from department dept,student stu\n                        where dept.id=stu.studeptId\n                        group by dept.name,stu.name,stu.doj \n                ]]&gt;\n        &lt;/query&gt;\n    &lt;/named-native-query&gt;\n\n\n    &lt;named-native-query\n        name=&quot;Student.deptEmplInfosPageable.count&quot;&gt;\n        &lt;query&gt;&lt;![CDATA[select count(1) from student stu]]&gt;&lt;/query&gt;\n    &lt;/named-native-query&gt;\n    \n    &lt;sql-result-set-mapping name=&quot;DeptEmplMapping&quot;&gt;\n        &lt;constructor-result target-class=&quot;com.example.querydslex.pojo.DeptStuInfo&quot;&gt;\n            &lt;column name=&quot;deptName&quot;/&gt;\n            &lt;column name=&quot;stuName&quot;/&gt;\n            &lt;column name=&quot;stuDoj&quot; class=&quot;java.time.LocalDate&quot;/&gt;\n        &lt;/constructor-result&gt;\n    &lt;/sql-result-set-mapping&gt;\n</code></pre>\n<p>The result is mapped to class DeptStuInfo</p>\n<pre><code>public class DeptStuInfo {\n\n    private String deptName;\n\n    private String studentName;\n\n    @JsonFormat(pattern = &quot;dd-MM-yyyy&quot;)\n    private LocalDate studentDoj;\n\n    public String getDeptName() {\n        return deptName;\n    }\n\n    public void setDeptName(String deptName) {\n        this.deptName = deptName;\n    }\n\n    public String getStudentName() {\n        return studentName;\n    }\n\n    public void setStudentName(String studentName) {\n        this.studentName = studentName;\n    }\n\n    public LocalDate getStudentDoj() {\n        return studentDoj;\n    }\n\n    public void setStudentDoj(LocalDate studentDoj) {\n        this.studentDoj = studentDoj;\n    }\n\n    public DeptStuInfo(String deptName, String studentName, LocalDate studentDoj) {\n        super();\n        this.deptName = deptName;\n        this.studentName = studentName;\n        this.studentDoj = studentDoj;\n    }\n}\n</code></pre>\n<p>I am using a class to set the Pageable object</p>\n<pre><code>public class PageablePojo {\n    \n    private Integer page;\n    \n    private Integer size;\n    \n    private String sort;\n    \n    private String direction;\n\n    public Integer getPage() {\n        return page;\n    }\n\n    public void setPage(Integer page) {\n        this.page = page;\n    }\n\n    public Integer getSize() {\n        return size;\n    }\n\n    public void setSize(Integer size) {\n        this.size = size;\n    }\n\n    public String getSort() {\n        return sort;\n    }\n\n    public void setSort(String sort) {\n        this.sort = sort;\n    }\n\n    public String getDirection() {\n        return direction;\n    }\n\n    public void setDirection(String direction) {\n        this.direction = direction;\n    }\n\n}\n</code></pre>\n<p>Using the above class to create the pageable object as below</p>\n<pre><code>PageRequest.of(obj.getPage(), obj.getSize(), Sort.by(obj.getSort()));\n</code></pre>\n<p>The issue I am facing is that order by clause is not generated in the query. Only limit clause is getting generated</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1638307092,"post_id":70175894,"comment_id":124053043,"body_markdown":"No idea how you do that in Spring Boot, but a `SAVEPOINT` is the way to recover from an error without ending the transaction.","body":"No idea how you do that in Spring Boot, but a <code>SAVEPOINT</code> is the way to recover from an error without ending the transaction."},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1638310859,"post_id":70175894,"comment_id":124054163,"body_markdown":"You seem to have reinvented the Quartz scheduler. Why not just use [Quartz](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes#quartz)?","body":"You seem to have reinvented the Quartz scheduler. Why not just use <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes#quartz\" rel=\"nofollow noreferrer\">Quartz</a>?"},{"owner":{"account_id":4636337,"reputation":325,"user_id":4744158,"accept_rate":69,"display_name":"Luiz"},"score":0,"creation_date":1638311299,"post_id":70175894,"comment_id":124054280,"body_markdown":"In other apps, we use jobrunr to deal with scheduling, but for this application specific we are handling with some legacy code that fires events from database and custom implementation is required.","body":"In other apps, we use jobrunr to deal with scheduling, but for this application specific we are handling with some legacy code that fires events from database and custom implementation is required."}],"owner":{"account_id":4636337,"reputation":325,"user_id":4744158,"accept_rate":69,"display_name":"Luiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638305800,"creation_date":1638305392,"question_id":70175894,"body_markdown":"We are having trouble to keep a transaction running when a exception occurs and also keep rows locked when this happens.\r\n\r\nFirs, a bit of code to clarify.\r\n\r\nWith this query we are performing a `for update skip locked` (JobDao):\r\n\r\n```java\r\n    @NotNull\r\n    default Optional&lt;EventEntity&gt; getJobForProcessing(@NotNull final Instant now) {\r\n        final List&lt;EventEntity&gt; events = getUnprocessedEvent(now, PageRequest.of(0, 1));\r\n        if (events.isEmpty()) {\r\n            return Optional.empty();\r\n        }\r\n        return Optional.ofNullable(events.get(0));\r\n    }\r\n\r\n    @NotNull\r\n    @Query(&quot;&quot;&quot;\r\n            select ee from EventEntity ee\r\n            where ee.processed = false\r\n            order by ee.createdAt&quot;&quot;&quot;)\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    @QueryHints({@QueryHint(name = &quot;javax.persistence.lock.timeout&quot;, value = LockOptions.SKIP_LOCKED + &quot;&quot;)})\r\n    Optional&lt;EventEntity&gt; getJobForProcessing(@NotNull final Instant now, @NotNull final Pageable pageable);\r\n```\r\n\r\nThe following code runs on another thread using @Async (JobTransaction called from scheduler):\r\n```java\r\n    @Transactional\r\n    public void runInTransaction() {\r\n        final Instant now = Now.getInstantUtc();\r\n        final Optional&lt;Job&gt; jobForProcessing = dao.getJobForProcessing(now);\r\n        if (jobForProcessing.isPresent()) {\r\n            final Job job = jobForProcessing.get();\r\n            jobProcessor.processJob(job);\r\n        } else {\r\n            Log.d(TAG, &quot;No more jobs, stopping thread %s.&quot;.formatted(Thread.currentThread().getName()));\r\n        }\r\n    }\r\n```\r\n\r\nThe `processJob(job)` method — simplified — is the following (JobProcessor):\r\n```java\r\n    private void processJob(@NotNull final Job job) {\r\n        try {\r\n            worker.execute(job);\r\n            jobService.markJobAsProcessed(job);\r\n        } catch (final Throwable throwable) {\r\n            Log.e(TAG, &quot;Error to process job: &quot; + job.getId(), throwable);\r\n            jobService.rescheduleJobExecution(job, throwable);\r\n            throw new RuntimeException(throwable);\r\n        }\r\n    }\r\n```\r\nOn the above code, the important part is the catch block that calls `jobService.rescheduleJobExecution(...)`.\r\n\r\nThis is the `rescheduleJobExecution` (JobService):\r\n```java\r\n    public void rescheduleJobExecution(@NotNull final Job job,\r\n                                       @NotNull final Throwable throwable) {\r\n        final var nextRetryAt = backoffCalculator.calculateNextRetryAt(job, now);\r\n        final var stackTraceAsString = Throwables.getStackTraceAsString(throwable);\r\n        final var executionAttempts = job.getExecutionAttempts() + 1;\r\n        final var newJob = job.cloneEntity()\r\n                .withExecutionAttempts(executionAttempts)\r\n                .withErrorLogLastRetry(stackTraceAsString)\r\n                .withNextRetryAt(nextRetryAt)\r\n                .build();\r\n        jobDao.save(newJob);\r\n    }\r\n```\r\n\r\nThe problem I&#39;m facing is that, when one error occurs and we try to reschedule the job, the following is throw: `Transaction silently rolled back because it has been marked as rollback-only.`\r\n\r\nI understand why this happens, but have not found any way to fix this. What I already tried:\r\n\r\n 1. Change the `runInTransaction` to `@Transactional(noRollbackFor = RuntimeException.class)`;\r\n 2. Add `@Transactional(propagation = Propagation.REQUIRES_NEW)` on the `rescheduleJobExecution` method. This solves the problem but brings a new one: since the outer transaction has already failed, the row is available to other threads to select and in a multithread environment this could lead to race conditions (ie: the job is reselected to execution before the reschedule is done).\r\n\r\n\r\nSo, I&#39;m looking for a solution that enables me to deal with job rescheduling and also that keep jobs safe on a multithread environment. The `getUnprocessedEvent` method is used by many threads and we also like to keep using the `for update skip locked` that postgres provides.\r\n\r\n","title":"Keep row locked when exception occurs inside transaction - Spring Boot","body":"<p>We are having trouble to keep a transaction running when a exception occurs and also keep rows locked when this happens.</p>\n<p>Firs, a bit of code to clarify.</p>\n<p>With this query we are performing a <code>for update skip locked</code> (JobDao):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotNull\n    default Optional&lt;EventEntity&gt; getJobForProcessing(@NotNull final Instant now) {\n        final List&lt;EventEntity&gt; events = getUnprocessedEvent(now, PageRequest.of(0, 1));\n        if (events.isEmpty()) {\n            return Optional.empty();\n        }\n        return Optional.ofNullable(events.get(0));\n    }\n\n    @NotNull\n    @Query(&quot;&quot;&quot;\n            select ee from EventEntity ee\n            where ee.processed = false\n            order by ee.createdAt&quot;&quot;&quot;)\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\n    @QueryHints({@QueryHint(name = &quot;javax.persistence.lock.timeout&quot;, value = LockOptions.SKIP_LOCKED + &quot;&quot;)})\n    Optional&lt;EventEntity&gt; getJobForProcessing(@NotNull final Instant now, @NotNull final Pageable pageable);\n</code></pre>\n<p>The following code runs on another thread using @Async (JobTransaction called from scheduler):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional\n    public void runInTransaction() {\n        final Instant now = Now.getInstantUtc();\n        final Optional&lt;Job&gt; jobForProcessing = dao.getJobForProcessing(now);\n        if (jobForProcessing.isPresent()) {\n            final Job job = jobForProcessing.get();\n            jobProcessor.processJob(job);\n        } else {\n            Log.d(TAG, &quot;No more jobs, stopping thread %s.&quot;.formatted(Thread.currentThread().getName()));\n        }\n    }\n</code></pre>\n<p>The <code>processJob(job)</code> method — simplified — is the following (JobProcessor):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void processJob(@NotNull final Job job) {\n        try {\n            worker.execute(job);\n            jobService.markJobAsProcessed(job);\n        } catch (final Throwable throwable) {\n            Log.e(TAG, &quot;Error to process job: &quot; + job.getId(), throwable);\n            jobService.rescheduleJobExecution(job, throwable);\n            throw new RuntimeException(throwable);\n        }\n    }\n</code></pre>\n<p>On the above code, the important part is the catch block that calls <code>jobService.rescheduleJobExecution(...)</code>.</p>\n<p>This is the <code>rescheduleJobExecution</code> (JobService):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void rescheduleJobExecution(@NotNull final Job job,\n                                       @NotNull final Throwable throwable) {\n        final var nextRetryAt = backoffCalculator.calculateNextRetryAt(job, now);\n        final var stackTraceAsString = Throwables.getStackTraceAsString(throwable);\n        final var executionAttempts = job.getExecutionAttempts() + 1;\n        final var newJob = job.cloneEntity()\n                .withExecutionAttempts(executionAttempts)\n                .withErrorLogLastRetry(stackTraceAsString)\n                .withNextRetryAt(nextRetryAt)\n                .build();\n        jobDao.save(newJob);\n    }\n</code></pre>\n<p>The problem I'm facing is that, when one error occurs and we try to reschedule the job, the following is throw: <code>Transaction silently rolled back because it has been marked as rollback-only.</code></p>\n<p>I understand why this happens, but have not found any way to fix this. What I already tried:</p>\n<ol>\n<li>Change the <code>runInTransaction</code> to <code>@Transactional(noRollbackFor = RuntimeException.class)</code>;</li>\n<li>Add <code>@Transactional(propagation = Propagation.REQUIRES_NEW)</code> on the <code>rescheduleJobExecution</code> method. This solves the problem but brings a new one: since the outer transaction has already failed, the row is available to other threads to select and in a multithread environment this could lead to race conditions (ie: the job is reselected to execution before the reschedule is done).</li>\n</ol>\n<p>So, I'm looking for a solution that enables me to deal with job rescheduling and also that keep jobs safe on a multithread environment. The <code>getUnprocessedEvent</code> method is used by many threads and we also like to keep using the <code>for update skip locked</code> that postgres provides.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1098758,"reputation":1662,"user_id":1091731,"display_name":"Illya Kysil"},"score":0,"creation_date":1638399023,"post_id":70175931,"comment_id":124081276,"body_markdown":"Could you please show the structure of the project - the location of the pom.xml and checkstyle.xml files? Please show the excerpts from the POMs - property declaration and parent reference.","body":"Could you please show the structure of the project - the location of the pom.xml and checkstyle.xml files? Please show the excerpts from the POMs - property declaration and parent reference."}],"owner":{"account_id":10711101,"reputation":51,"user_id":7883298,"display_name":"jerdys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638305627,"creation_date":1638305627,"question_id":70175931,"body_markdown":"I have a project with parent, which contains checkstyle.xml for our organization. Is there a way to access this parent&#39;s checkstyle.xml from child projects? I&#39;ve seen answers like accessing parent properties via `${project.parent.property-name}`, but it doesn&#39;t seem to work for me.","title":"Access parent checkstyle.xml from child Maven project","body":"<p>I have a project with parent, which contains checkstyle.xml for our organization. Is there a way to access this parent's checkstyle.xml from child projects? I've seen answers like accessing parent properties via <code>${project.parent.property-name}</code>, but it doesn't seem to work for me.</p>\n"},{"tags":["java","recursion","methods","while-loop","nested-loops"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1638297417,"post_id":70174364,"comment_id":124049614,"body_markdown":"Just don&#39;t call `#MainMenu` from the other methods, they&#39;ll return to the invoker (in this case, `#MainMenu`) at the end of their method body. Make `#MainMenu` loop until &quot;exit&quot; is entered as an option. One last tip is to not re-initialize the `Scanner` objects in the various methods, but instead to have a single `Scanner` as either a static resource or passed as a method parameter. This is specifically for a `Scanner` on `System.in`","body":"Just don&#39;t call <code>#MainMenu</code> from the other methods, they&#39;ll return to the invoker (in this case, <code>#MainMenu</code>) at the end of their method body. Make <code>#MainMenu</code> loop until &quot;exit&quot; is entered as an option. One last tip is to not re-initialize the <code>Scanner</code> objects in the various methods, but instead to have a single <code>Scanner</code> as either a static resource or passed as a method parameter. This is specifically for a <code>Scanner</code> on <code>System.in</code>"},{"owner":{"account_id":23244710,"reputation":3,"user_id":17333453,"display_name":"Mosinmiloluwa Ojeyomi"},"score":0,"creation_date":1638298409,"post_id":70174364,"comment_id":124049942,"body_markdown":"Thank you, I changed the scanner to a static resource, and looped main menu in my switch statement. I still have the same problem because the resources are not reducing when I try to use buy coffee(twice) for the same coffee. I think it has to do with my getRemainingResource method @Rogue","body":"Thank you, I changed the scanner to a static resource, and looped main menu in my switch statement. I still have the same problem because the resources are not reducing when I try to use buy coffee(twice) for the same coffee. I think it has to do with my getRemainingResource method @Rogue"},{"owner":{"account_id":23244710,"reputation":3,"user_id":17333453,"display_name":"Mosinmiloluwa Ojeyomi"},"score":0,"creation_date":1638298709,"post_id":70174364,"comment_id":124050055,"body_markdown":"Thank you, I changed the Scanner to a static resource and looped MainMenu in the switch statement block. But I still have the same problem. If I use buy coffee twice, the amount of resources(milk,water,etc) should reduce twice, but it only reduces once. This means that getRemainingResources is not looping. The amount of resources left is only reduced once, but it should be reduced twice(if I call buyCoffee twice)i.e I buy the same coffee twice @Rogue","body":"Thank you, I changed the Scanner to a static resource and looped MainMenu in the switch statement block. But I still have the same problem. If I use buy coffee twice, the amount of resources(milk,water,etc) should reduce twice, but it only reduces once. This means that getRemainingResources is not looping. The amount of resources left is only reduced once, but it should be reduced twice(if I call buyCoffee twice)i.e I buy the same coffee twice @Rogue"},{"owner":{"account_id":23244710,"reputation":3,"user_id":17333453,"display_name":"Mosinmiloluwa Ojeyomi"},"score":0,"creation_date":1638298747,"post_id":70174364,"comment_id":124050070,"body_markdown":"Resources in this case are the milk,coffeebeans,water,disposablecups etc","body":"Resources in this case are the milk,coffeebeans,water,disposablecups etc"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1638298799,"post_id":70174364,"comment_id":124050089,"body_markdown":"May be a good time to learn how to use the debugger, which would let you step through the executing code and see what values the variables are. I will say there are some &quot;design flaws&quot; (lots of unecessary `static`, methods which would be better served as individual `class`es). The big problem in `TypesOfCoffee` is that you have _methods_ which are being called, and those methods all set those constant values at the start of being called. So `TypesOfCoffee#latte` would set `latteWater` to `350` every single time it is called.","body":"May be a good time to learn how to use the debugger, which would let you step through the executing code and see what values the variables are. I will say there are some &quot;design flaws&quot; (lots of unecessary <code>static</code>, methods which would be better served as individual <code>class</code>es). The big problem in <code>TypesOfCoffee</code> is that you have <i>methods</i> which are being called, and those methods all set those constant values at the start of being called. So <code>TypesOfCoffee#latte</code> would set <code>latteWater</code> to <code>350</code> every single time it is called."}],"answers":[{"tags":[],"owner":{"account_id":18537356,"reputation":40,"user_id":13506708,"display_name":"Dario Sansone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638305036,"creation_date":1638299362,"answer_id":70174785,"question_id":70174364,"body_markdown":"It should go now\r\nBut there are other errors (besides the scanner, which they have already told you about)\r\nFor example, you can&#39;t buy coffee without &quot;remaining&quot; first (and also: too many static variables, OO not used ...). This is just one example.\r\nI corrected the code for the error you asked for, but there would be a lot to change.\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MethodsTest {\r\n        //global variable--starting quantity of resources in machine\r\n        static final int water = 40000;\r\n        static final int milk = 54000;\r\n        static final int coffeeBean = 12000; // in g\r\n        static int disposableCups = 900;\r\n        static final int cost = 550; //in $\r\n        static int remCost = 550; //in $\r\n    \r\n    //global variable --refill quantity of resources in machine\r\n    static int fillWater, fillMilk, fillCoffeeBeans, fillDisposableCups;\r\n    \r\n    //global variable -- remaining quantity of resources in machine\r\n    static int newRemCost, remWater, remMilk, remCoffeeBean, remDisposableCups;\r\n    \r\n    static int espressoWater, espressoMilk, espressoCoffeeBeans, espressoCost; // Resources for espresso\r\n    static int latteWater, latteMilk, latteCoffeeBeans, latteCost;\r\n    static int cappuccinoWater, cappuccinoMilk, cappuccinoCoffeeBeans, cappuccinoCost;\r\n    static int regWater, regMilk, regCoffeeBeans, regCost;                         //Resources for regular coffees\r\n    \r\n    static void FillCoffeeMachine() {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Write how many ml of water you want to add: &quot;);\r\n        fillWater = input.nextInt();\r\n        System.out.println(&quot;Write how many ml of milk you want to add: &quot;);\r\n        fillMilk = input.nextInt();\r\n        System.out.println(&quot;Write how many grams of coffee beans you want to add: &quot;);\r\n        fillCoffeeBeans = input.nextInt();\r\n        System.out.println(&quot;Write how many disposable cups of coffee you want to add: &quot;);\r\n        fillDisposableCups = input.nextInt();\r\n    \r\n        MainMenu();\r\n    }\r\n    \r\n    static void BuyCoffee() {                                  //method for buying coffee\r\n        disposableCups--;// always decreasing when coffee is sold\r\n        class TypesOfCoffee {\r\n            void Espresso() {                             //nested class, since there are different kind of coffee\r\n                espressoWater = 250;\r\n                espressoMilk = 0;\r\n                espressoCoffeeBeans = 16;\r\n                espressoCost = 4;\r\n    \r\n    \r\n                if (remWater &gt; espressoWater &amp;&amp; remMilk &gt; espressoMilk &amp;&amp; remCoffeeBean &gt; espressoCoffeeBeans) {\r\n                    System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\r\n                } else if (remWater &lt; espressoWater) {\r\n                    System.out.println(&quot;Sorry, not enough water!&quot;);\r\n                    disposableCups++;\r\n                } else if (remCoffeeBean &lt; espressoCoffeeBeans) {\r\n                    System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\r\n                    disposableCups++;\r\n                } else\r\n                    disposableCups++;\r\n            }\r\n    \r\n            void Latte() {\r\n                latteWater = 350;\r\n                latteMilk = 75;\r\n                latteCoffeeBeans = 20;\r\n                latteCost = 7;\r\n    \r\n                if (remWater &gt; latteWater &amp;&amp; remMilk &gt; latteMilk &amp;&amp; remCoffeeBean &gt; latteCoffeeBeans) {\r\n                    System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\r\n                } else if (remWater &lt; latteWater) {\r\n                    System.out.println(&quot;Sorry, not enough water!&quot;);\r\n                    disposableCups++;\r\n                } else if (remMilk &lt; latteMilk) {\r\n                    System.out.println(&quot;Sorry, not enough milk!&quot;);\r\n                    disposableCups++;\r\n                } else if (remCoffeeBean &lt; latteCoffeeBeans) {\r\n                    System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\r\n                    disposableCups++;\r\n                } else\r\n                    disposableCups++;\r\n            }\r\n    \r\n            void Cappuccino() {\r\n                cappuccinoWater = 200;\r\n                cappuccinoMilk = 100;\r\n                cappuccinoCoffeeBeans = 12;\r\n                cappuccinoCost = 6;\r\n    \r\n                if (remWater &gt; cappuccinoWater &amp;&amp; remMilk &gt; cappuccinoMilk &amp;&amp; remCoffeeBean &gt; cappuccinoCoffeeBeans) {\r\n                    System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\r\n                } else if (remWater &lt; cappuccinoWater) {\r\n                    System.out.println(&quot;Sorry, not enough water!&quot;);\r\n                    disposableCups++;\r\n                } else if (remMilk &lt; cappuccinoMilk) {\r\n                    System.out.println(&quot;Sorry, not enough milk!&quot;);\r\n                    disposableCups++;\r\n                } else if (remCoffeeBean &lt; cappuccinoCoffeeBeans) {\r\n                    System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\r\n                    disposableCups++;\r\n                } else\r\n                    disposableCups++;\r\n            }\r\n    \r\n            void regularCoffee() {\r\n                regWater = 200;\r\n                regMilk = 50;\r\n                regCoffeeBeans = 15;\r\n                regCost = 0;\r\n    \r\n                if (remWater &gt; regWater &amp;&amp; remMilk &gt; regMilk &amp;&amp; remCoffeeBean &gt; regCoffeeBeans) {\r\n                    System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\r\n                } else if (remWater &lt; regWater) {\r\n                    System.out.println(&quot;Sorry, not enough water!&quot;);\r\n                    disposableCups++;\r\n                } else if (remMilk &lt; regMilk) {\r\n                    System.out.println(&quot;Sorry, not enough milk!&quot;);\r\n                    disposableCups++;\r\n                } else if (remCoffeeBean &lt; regCoffeeBeans) {\r\n                    System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\r\n                    disposableCups++;\r\n                } else\r\n                    disposableCups++;\r\n            }\r\n        }\r\n    \r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;What kind of coffee would you like to buy today?&quot;);\r\n        System.out.println(&quot;&quot;&quot;\r\n                Please enter:\r\n                1 for espresso\r\n                2 for latte\r\n                3 for cappuccino\r\n                4 for a regular coffee\r\n                back - to go back to main menu&quot;&quot;&quot;);\r\n        String choice = input.next();\r\n    \r\n        switch (choice) { //lets user choose what type of coffee to buy\r\n            case &quot;1&quot;:\r\n                new TypesOfCoffee().Espresso();\r\n                break;\r\n            case &quot;2&quot;:\r\n                new TypesOfCoffee().Latte();\r\n                break;\r\n            case &quot;3&quot;:\r\n                new TypesOfCoffee().Cappuccino();\r\n                break;\r\n            case &quot;4&quot;:\r\n                new TypesOfCoffee().regularCoffee();\r\n                break;\r\n            case &quot;back&quot;:\r\n                MainMenu();\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Please enter an option from the above&quot;);\r\n        }\r\n        MainMenu();\r\n    }\r\n    \r\n    \r\n    static void takeMoney() { //method to take the money\r\n        System.out.println(&quot;I gave you&quot; + &quot; &quot; + &quot;$&quot; + remCost);\r\n        newRemCost = remCost;\r\n        MainMenu();\r\n    }\r\n    \r\n    static void getRemainingResources() {\r\n        //TODO --has to loop..but it works only once\r\n        remDisposableCups = fillDisposableCups + disposableCups;\r\n        boolean found = remDisposableCups &gt; 0; // true for coffee to be sold\r\n        while (found) {\r\n            remWater = water + fillWater - espressoWater - cappuccinoWater - latteWater;//\r\n            remMilk = milk + fillMilk - espressoMilk - cappuccinoMilk - latteMilk;\r\n            remCoffeeBean = coffeeBean + fillCoffeeBeans - espressoCoffeeBeans - cappuccinoCoffeeBeans - latteCoffeeBeans;\r\n    \r\n            remCost = remCost + espressoCost + cappuccinoCost + latteCost - newRemCost;\r\n            espressoCost = 0;\r\n            cappuccinoCost = 0;\r\n            latteCost = 0;\r\n            //found = remDisposableCups &gt; 0 &amp;&amp; remWater&gt;=water &amp;&amp; remMilk&gt;=milk&amp;&amp;remCoffeeBean&gt;=coffeeBean;\r\n    \r\n            System.out.println(&quot;The coffee machine has: &quot;);\r\n            System.out.println(remWater + &quot; &quot; + &quot;ml of water&quot;);\r\n            System.out.println(remMilk + &quot; &quot; + &quot;ml of milk &quot;);\r\n            System.out.println(remCoffeeBean + &quot; &quot; + &quot;g of coffee beans &quot;);\r\n            System.out.println(remDisposableCups + &quot; &quot; + &quot;disposable cups &quot;);\r\n            System.out.println(&quot;$&quot; + remCost + &quot; &quot; + &quot;of money&quot;);\r\n            found = remDisposableCups &lt; 0;\r\n        }\r\n    \r\n        MainMenu();\r\n    }\r\n    \r\n    static void MainMenu() { // Gives user option to decide what they want to do\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Main Menu: &quot; + &quot;\\n&quot;);\r\n        System.out.println(&quot;Please choose from the following options below&quot;);\r\n        System.out.println(&quot;&quot;&quot;\r\n                To buy coffee - Enter buy\r\n                To fill the machine - Enter fill\r\n                To get cash from machine - Enter take\r\n                To see remaining resources - Enter remaining\r\n                To exit program - Enter exit&quot;&quot;&quot;);\r\n        String choice = input.next();\r\n    \r\n        switch (choice) {\r\n            case &quot;buy&quot;:\r\n                BuyCoffee();\r\n                break;\r\n            case &quot;fill&quot;:\r\n                FillCoffeeMachine();\r\n                break;\r\n            case &quot;take&quot;:\r\n                takeMoney();\r\n                break;\r\n            case &quot;remaining&quot;:\r\n                getRemainingResources();\r\n                break;\r\n            case &quot;exit&quot;:\r\n                System.exit(0);\r\n                break;\r\n            default:\r\n                MainMenu();//goes back to main menu if user types in an unknown value\r\n         }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        MainMenu();\r\n    }\r\n    }","title":"How can I loop 2 methods together?","body":"<p>It should go now\nBut there are other errors (besides the scanner, which they have already told you about)\nFor example, you can't buy coffee without &quot;remaining&quot; first (and also: too many static variables, OO not used ...). This is just one example.\nI corrected the code for the error you asked for, but there would be a lot to change.</p>\n<pre><code>import java.util.Scanner;\n\npublic class MethodsTest {\n    //global variable--starting quantity of resources in machine\n    static final int water = 40000;\n    static final int milk = 54000;\n    static final int coffeeBean = 12000; // in g\n    static int disposableCups = 900;\n    static final int cost = 550; //in $\n    static int remCost = 550; //in $\n\n//global variable --refill quantity of resources in machine\nstatic int fillWater, fillMilk, fillCoffeeBeans, fillDisposableCups;\n\n//global variable -- remaining quantity of resources in machine\nstatic int newRemCost, remWater, remMilk, remCoffeeBean, remDisposableCups;\n\nstatic int espressoWater, espressoMilk, espressoCoffeeBeans, espressoCost; // Resources for espresso\nstatic int latteWater, latteMilk, latteCoffeeBeans, latteCost;\nstatic int cappuccinoWater, cappuccinoMilk, cappuccinoCoffeeBeans, cappuccinoCost;\nstatic int regWater, regMilk, regCoffeeBeans, regCost;                         //Resources for regular coffees\n\nstatic void FillCoffeeMachine() {\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Write how many ml of water you want to add: &quot;);\n    fillWater = input.nextInt();\n    System.out.println(&quot;Write how many ml of milk you want to add: &quot;);\n    fillMilk = input.nextInt();\n    System.out.println(&quot;Write how many grams of coffee beans you want to add: &quot;);\n    fillCoffeeBeans = input.nextInt();\n    System.out.println(&quot;Write how many disposable cups of coffee you want to add: &quot;);\n    fillDisposableCups = input.nextInt();\n\n    MainMenu();\n}\n\nstatic void BuyCoffee() {                                  //method for buying coffee\n    disposableCups--;// always decreasing when coffee is sold\n    class TypesOfCoffee {\n        void Espresso() {                             //nested class, since there are different kind of coffee\n            espressoWater = 250;\n            espressoMilk = 0;\n            espressoCoffeeBeans = 16;\n            espressoCost = 4;\n\n\n            if (remWater &gt; espressoWater &amp;&amp; remMilk &gt; espressoMilk &amp;&amp; remCoffeeBean &gt; espressoCoffeeBeans) {\n                System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\n            } else if (remWater &lt; espressoWater) {\n                System.out.println(&quot;Sorry, not enough water!&quot;);\n                disposableCups++;\n            } else if (remCoffeeBean &lt; espressoCoffeeBeans) {\n                System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\n                disposableCups++;\n            } else\n                disposableCups++;\n        }\n\n        void Latte() {\n            latteWater = 350;\n            latteMilk = 75;\n            latteCoffeeBeans = 20;\n            latteCost = 7;\n\n            if (remWater &gt; latteWater &amp;&amp; remMilk &gt; latteMilk &amp;&amp; remCoffeeBean &gt; latteCoffeeBeans) {\n                System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\n            } else if (remWater &lt; latteWater) {\n                System.out.println(&quot;Sorry, not enough water!&quot;);\n                disposableCups++;\n            } else if (remMilk &lt; latteMilk) {\n                System.out.println(&quot;Sorry, not enough milk!&quot;);\n                disposableCups++;\n            } else if (remCoffeeBean &lt; latteCoffeeBeans) {\n                System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\n                disposableCups++;\n            } else\n                disposableCups++;\n        }\n\n        void Cappuccino() {\n            cappuccinoWater = 200;\n            cappuccinoMilk = 100;\n            cappuccinoCoffeeBeans = 12;\n            cappuccinoCost = 6;\n\n            if (remWater &gt; cappuccinoWater &amp;&amp; remMilk &gt; cappuccinoMilk &amp;&amp; remCoffeeBean &gt; cappuccinoCoffeeBeans) {\n                System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\n            } else if (remWater &lt; cappuccinoWater) {\n                System.out.println(&quot;Sorry, not enough water!&quot;);\n                disposableCups++;\n            } else if (remMilk &lt; cappuccinoMilk) {\n                System.out.println(&quot;Sorry, not enough milk!&quot;);\n                disposableCups++;\n            } else if (remCoffeeBean &lt; cappuccinoCoffeeBeans) {\n                System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\n                disposableCups++;\n            } else\n                disposableCups++;\n        }\n\n        void regularCoffee() {\n            regWater = 200;\n            regMilk = 50;\n            regCoffeeBeans = 15;\n            regCost = 0;\n\n            if (remWater &gt; regWater &amp;&amp; remMilk &gt; regMilk &amp;&amp; remCoffeeBean &gt; regCoffeeBeans) {\n                System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\n            } else if (remWater &lt; regWater) {\n                System.out.println(&quot;Sorry, not enough water!&quot;);\n                disposableCups++;\n            } else if (remMilk &lt; regMilk) {\n                System.out.println(&quot;Sorry, not enough milk!&quot;);\n                disposableCups++;\n            } else if (remCoffeeBean &lt; regCoffeeBeans) {\n                System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\n                disposableCups++;\n            } else\n                disposableCups++;\n        }\n    }\n\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;What kind of coffee would you like to buy today?&quot;);\n    System.out.println(&quot;&quot;&quot;\n            Please enter:\n            1 for espresso\n            2 for latte\n            3 for cappuccino\n            4 for a regular coffee\n            back - to go back to main menu&quot;&quot;&quot;);\n    String choice = input.next();\n\n    switch (choice) { //lets user choose what type of coffee to buy\n        case &quot;1&quot;:\n            new TypesOfCoffee().Espresso();\n            break;\n        case &quot;2&quot;:\n            new TypesOfCoffee().Latte();\n            break;\n        case &quot;3&quot;:\n            new TypesOfCoffee().Cappuccino();\n            break;\n        case &quot;4&quot;:\n            new TypesOfCoffee().regularCoffee();\n            break;\n        case &quot;back&quot;:\n            MainMenu();\n            break;\n        default:\n            System.out.println(&quot;Please enter an option from the above&quot;);\n    }\n    MainMenu();\n}\n\n\nstatic void takeMoney() { //method to take the money\n    System.out.println(&quot;I gave you&quot; + &quot; &quot; + &quot;$&quot; + remCost);\n    newRemCost = remCost;\n    MainMenu();\n}\n\nstatic void getRemainingResources() {\n    //TODO --has to loop..but it works only once\n    remDisposableCups = fillDisposableCups + disposableCups;\n    boolean found = remDisposableCups &gt; 0; // true for coffee to be sold\n    while (found) {\n        remWater = water + fillWater - espressoWater - cappuccinoWater - latteWater;//\n        remMilk = milk + fillMilk - espressoMilk - cappuccinoMilk - latteMilk;\n        remCoffeeBean = coffeeBean + fillCoffeeBeans - espressoCoffeeBeans - cappuccinoCoffeeBeans - latteCoffeeBeans;\n\n        remCost = remCost + espressoCost + cappuccinoCost + latteCost - newRemCost;\n        espressoCost = 0;\n        cappuccinoCost = 0;\n        latteCost = 0;\n        //found = remDisposableCups &gt; 0 &amp;&amp; remWater&gt;=water &amp;&amp; remMilk&gt;=milk&amp;&amp;remCoffeeBean&gt;=coffeeBean;\n\n        System.out.println(&quot;The coffee machine has: &quot;);\n        System.out.println(remWater + &quot; &quot; + &quot;ml of water&quot;);\n        System.out.println(remMilk + &quot; &quot; + &quot;ml of milk &quot;);\n        System.out.println(remCoffeeBean + &quot; &quot; + &quot;g of coffee beans &quot;);\n        System.out.println(remDisposableCups + &quot; &quot; + &quot;disposable cups &quot;);\n        System.out.println(&quot;$&quot; + remCost + &quot; &quot; + &quot;of money&quot;);\n        found = remDisposableCups &lt; 0;\n    }\n\n    MainMenu();\n}\n\nstatic void MainMenu() { // Gives user option to decide what they want to do\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Main Menu: &quot; + &quot;\\n&quot;);\n    System.out.println(&quot;Please choose from the following options below&quot;);\n    System.out.println(&quot;&quot;&quot;\n            To buy coffee - Enter buy\n            To fill the machine - Enter fill\n            To get cash from machine - Enter take\n            To see remaining resources - Enter remaining\n            To exit program - Enter exit&quot;&quot;&quot;);\n    String choice = input.next();\n\n    switch (choice) {\n        case &quot;buy&quot;:\n            BuyCoffee();\n            break;\n        case &quot;fill&quot;:\n            FillCoffeeMachine();\n            break;\n        case &quot;take&quot;:\n            takeMoney();\n            break;\n        case &quot;remaining&quot;:\n            getRemainingResources();\n            break;\n        case &quot;exit&quot;:\n            System.exit(0);\n            break;\n        default:\n            MainMenu();//goes back to main menu if user types in an unknown value\n     }\n}\n\npublic static void main(String[] args) {\n    MainMenu();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638302407,"creation_date":1638301849,"answer_id":70175234,"question_id":70174364,"body_markdown":"The code you wrote is extremely complicated and that&#39;s why you cannot see where the errors are. A couple of comments:\r\n - Java is an object oriented (OO) language. The OO paradigm revolves around creating classes and objects of them, inheritance and polymorphism (inheriting behavior from parent classes but behaving differently in each subclass).\r\n - Your code looks like you are trying to recreate structural programming like an old version of Basic or Macro Assembler, just by complying with the syntax of Java. You need to really understand how OO programming works, so first try and find some tutorial about that.\r\n - Don&#39;t implement everything in one big class. Try and identify the distinct entities in your application. For example: CoffeMachine, Coffee, Espresso, Latte, RegularCoffee, ... Create a class for each identified entity. The classes that resemble each other should probably be part of an inheritance, for example Espresso, Lattte, etc. should inherit a more generic class Coffee (A inherits B when you could say &quot;A is a kind of B&quot;).\r\n - Don&#39;t use static variables (unless there is a very good reason for that, but this is very rare). Let each class has its own instance properties when you create objects of them: remainingWater, remainingMilk, etc. are properties of the object CoffeeMachine. They are not global things.\r\n - Don&#39;t use static methods like subroutines in C or Basic. Instead, create objects of your classes and call their instance methods.\r\n - Don&#39;t use jumps and labels like in Basic or Assembler. Instead, call objects&#39; methods in a loop and break the loop when necessary.\r\n - If you detect an error in the application, make use of the Exception mechanism of Java - throw the exception and let the caller process the error.\r\n - Method names start with a small letter in Java (it&#39;s a generally accepted convention, not a syntactic rule).\r\n\r\nI created a different design for your application honoring the above principles, so first learn the basics of object oriented programming from a tutorial and then compare the following code with yours to see what is different.\r\n\r\nMain class (entry point to the main menu loop):\r\n\r\n    public class Main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            new Main().run();\r\n        }\r\n        \r\n        void run()\r\n        {\r\n            CoffeeMachine coffeeMachine = new CoffeeMachine(400, 540, 120, 9, 550);\r\n            while (coffeeMachine.mainMenu()); // loops until mainMenu returns false\r\n        }\r\n\r\n    }\r\n\r\nCoffeeMachine:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class CoffeeMachine\r\n    {\r\n        private Scanner input = new Scanner(System.in);\r\n        \r\n        private int water;\r\n        private int milk;\r\n        private int coffeeBeans;\r\n        private int disposableCups;\r\n        private int money;\r\n        \r\n        public CoffeeMachine(int water, int milk, int coffeeBeans, int disposableCups, int money)\r\n        {\r\n            this.water = water;\r\n            this.milk = milk;\r\n            this.coffeeBeans = coffeeBeans;\r\n            this.disposableCups = disposableCups;\r\n            this.money = money;\r\n        }\r\n\r\n        void fill() {\r\n            System.out.println(&quot;Write how many ml of water you want to add: &quot;);\r\n            water += input.nextInt();\r\n            System.out.println(&quot;Write how many ml of milk you want to add: &quot;);\r\n            milk += input.nextInt();\r\n            System.out.println(&quot;Write how many grams of coffee beans you want to add: &quot;);\r\n            coffeeBeans += input.nextInt();\r\n            System.out.println(&quot;Write how many disposable cups for coffee you want to add: &quot;);\r\n            disposableCups += input.nextInt();\r\n            \r\n        }\r\n\r\n        public void selectCoffee()\r\n        {\r\n            while (true)\r\n            {\r\n                System.out.println(&quot;What kind of coffee would you like to buy today?&quot;);\r\n                System.out.println(\r\n            &quot;            Please enter:\\n&quot; +\r\n            &quot;            1 for espresso\\n&quot; +\r\n            &quot;            2 for latte\\n&quot; +\r\n            &quot;            3 for cappuccino\\n&quot; +\r\n            &quot;            4 for a regular coffee\\n&quot; +\r\n            &quot;            back - to go back to main menu&quot;);\r\n                String choice = input.next();\r\n        \r\n                try {\r\n                    switch (choice) { //lets user choose what type of coffee to buy\r\n                        case &quot;1&quot;:\r\n                            buy(new Espresso());\r\n                            return;\r\n                        case &quot;2&quot;:\r\n                            buy(new Latte());\r\n                            return;\r\n                        case &quot;3&quot;:\r\n                            buy(new Cappuccino());\r\n                            return;\r\n                        case &quot;4&quot;:\r\n                            buy(new RegularCoffee());\r\n                            return;\r\n                        case &quot;back&quot;:\r\n                            return;\r\n                        default:\r\n                            System.err.println(&quot;Please enter an option from the above&quot;);\r\n                    }\r\n                }\r\n                catch (InsufficientResourcesException exception) {\r\n                    System.err.println(&quot;Error buying coffee: &quot; +  exception.getLocalizedMessage());\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void buy(Coffee coffee) throws InsufficientResourcesException\r\n        {\r\n            if (coffee.getWaterCost() &gt; water)\r\n                throw new InsufficientResourcesException(&quot;water&quot;, &quot;ml&quot;, coffee.getWaterCost(), water);\r\n\r\n            if (coffee.getMilkCost() &gt; milk)\r\n                throw new InsufficientResourcesException(&quot;milk&quot;, &quot;ml&quot;, coffee.getMilkCost(), milk);\r\n\r\n            if (coffee.getCoffeeBeansCost() &gt; coffeeBeans)\r\n                throw new InsufficientResourcesException(&quot;coffee beans&quot;, &quot;g&quot;, coffee.getCoffeeBeansCost(), coffeeBeans);\r\n\r\n            if (disposableCups &lt; 1)\r\n                throw new InsufficientResourcesException(&quot;disposable cups&quot;, &quot;units&quot;, 1, disposableCups);\r\n            \r\n\r\n            System.out.println(&quot;Buying 1 cup of &quot; + coffee.getClass().getSimpleName());\r\n            water -= coffee.getWaterCost();\r\n            milk -= coffee.getMilkCost();\r\n            coffeeBeans -= coffee.getCoffeeBeansCost();\r\n            disposableCups--;\r\n            \r\n            money += coffee.getMoneyCost();\r\n        }\r\n        \r\n        public void takeMoney()\r\n        {\r\n            System.out.println(&quot;I gave you $&quot; + money + &quot;. The money tray is now empty.&quot;);\r\n            money = 0;\r\n        }\r\n        \r\n        public void showResources()\r\n        {\r\n            System.out.println(&quot;The coffee machine has: &quot;);\r\n            System.out.println(water + &quot; ml of water&quot;);\r\n            System.out.println(milk + &quot; ml of milk &quot;);\r\n            System.out.println(coffeeBeans + &quot; g of coffee beans &quot;);\r\n            System.out.println(disposableCups + &quot; disposable cups &quot;);\r\n            System.out.println(&quot;$&quot; + money + &quot; of money&quot;);\r\n        }\r\n\r\n        public boolean mainMenu() { // Gives user option to decide what they want to do\r\n            System.out.println(&quot;Main Menu: &quot; + &quot;\\n&quot;);\r\n            System.out.println(&quot;Please choose from the following options below&quot;);\r\n            System.out.println(\r\n        &quot;            To buy coffee - Enter buy\\n&quot; +\r\n        &quot;            To fill the machine - Enter fill\\n&quot; +\r\n        &quot;            To get cash from machine - Enter take\\n&quot; +\r\n        &quot;            To see remaining resources - Enter remaining\\n&quot; +\r\n        &quot;            To exit program - Enter exit&quot;);\r\n            String choice = input.next();\r\n            \r\n            switch (choice) {\r\n                case &quot;buy&quot;:\r\n                    selectCoffee();\r\n                    break;\r\n                case &quot;fill&quot;:\r\n                    fill();\r\n                    break;\r\n                case &quot;take&quot;:\r\n                    takeMoney();\r\n                    break;\r\n                case &quot;remaining&quot;:\r\n                    showResources();\r\n                    break;\r\n                case &quot;exit&quot;:\r\n                    return false;\r\n            }\r\n            \r\n            return true;\r\n        }\r\n\r\n    }\r\n\r\nAnd the Coffee classes:\r\n\r\n    public abstract class Coffee\r\n    {\r\n        private int waterCost;\r\n        private int milkCost;\r\n        private int coffeeBeansCost;\r\n        private int moneyCost;\r\n        \r\n        protected Coffee(int waterCost, int milkCost, int coffeeBeansCost, int moneyCost)\r\n        {\r\n            this.waterCost = waterCost;\r\n            this.milkCost = milkCost;\r\n            this.coffeeBeansCost = coffeeBeansCost;\r\n            this.moneyCost = moneyCost;\r\n        }\r\n\r\n        public int getWaterCost()\r\n        {\r\n            return this.waterCost;\r\n        }\r\n\r\n        public int getMilkCost()\r\n        {\r\n            return this.milkCost;\r\n        }\r\n\r\n        public int getCoffeeBeansCost()\r\n        {\r\n            return this.coffeeBeansCost;\r\n        }\r\n\r\n        public int getMoneyCost()\r\n        {\r\n            return this.moneyCost;\r\n        }\r\n        \r\n    }\r\n\r\n    public class Espresso extends Coffee\r\n    {\r\n\r\n        public Espresso()\r\n        {\r\n            super(250, 0, 16, 4);\r\n        }\r\n\r\n    }\r\n\r\n    public class Cappuccino extends Coffee\r\n    {\r\n\r\n        public Cappuccino()\r\n        {\r\n            super(200, 100, 12, 6);\r\n        }\r\n\r\n    }\r\n\r\n    public class Latte extends Coffee\r\n    {\r\n\r\n        public Latte()\r\n        {\r\n            super(350, 75, 20, 7);\r\n        }\r\n\r\n    }\r\n\r\n    public class RegularCoffee extends Coffee\r\n    {\r\n\r\n        public RegularCoffee()\r\n        {\r\n            super(200, 50, 15, 0);\r\n        }\r\n\r\n    }\r\n\r\nLast but not least, the exception class:\r\n\r\n    public class InsufficientResourcesException extends Exception\r\n    {\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        public InsufficientResourcesException(String whatResource, String unit, int required, int available)\r\n        {\r\n            super(&quot;Insufficient resources: required &quot; + required + &quot; &quot; + unit + &quot; of &quot; + whatResource + &quot; but available &quot; + available + &quot; &quot; + unit);\r\n        }\r\n    }\r\n\r\nHaving a good architecture is most important in software. If your architecture is correctly applied, errors would be improbable and if they ocurred they would be easy to fix. Also, changing an application with good architecture is easy and safe.\r\n\r\nBad architecture on the other hand makes errors almost certain, hard to find and fix and the app cannot be easily changed.\r\n","title":"How can I loop 2 methods together?","body":"<p>The code you wrote is extremely complicated and that's why you cannot see where the errors are. A couple of comments:</p>\n<ul>\n<li>Java is an object oriented (OO) language. The OO paradigm revolves around creating classes and objects of them, inheritance and polymorphism (inheriting behavior from parent classes but behaving differently in each subclass).</li>\n<li>Your code looks like you are trying to recreate structural programming like an old version of Basic or Macro Assembler, just by complying with the syntax of Java. You need to really understand how OO programming works, so first try and find some tutorial about that.</li>\n<li>Don't implement everything in one big class. Try and identify the distinct entities in your application. For example: CoffeMachine, Coffee, Espresso, Latte, RegularCoffee, ... Create a class for each identified entity. The classes that resemble each other should probably be part of an inheritance, for example Espresso, Lattte, etc. should inherit a more generic class Coffee (A inherits B when you could say &quot;A is a kind of B&quot;).</li>\n<li>Don't use static variables (unless there is a very good reason for that, but this is very rare). Let each class has its own instance properties when you create objects of them: remainingWater, remainingMilk, etc. are properties of the object CoffeeMachine. They are not global things.</li>\n<li>Don't use static methods like subroutines in C or Basic. Instead, create objects of your classes and call their instance methods.</li>\n<li>Don't use jumps and labels like in Basic or Assembler. Instead, call objects' methods in a loop and break the loop when necessary.</li>\n<li>If you detect an error in the application, make use of the Exception mechanism of Java - throw the exception and let the caller process the error.</li>\n<li>Method names start with a small letter in Java (it's a generally accepted convention, not a syntactic rule).</li>\n</ul>\n<p>I created a different design for your application honoring the above principles, so first learn the basics of object oriented programming from a tutorial and then compare the following code with yours to see what is different.</p>\n<p>Main class (entry point to the main menu loop):</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args)\n    {\n        new Main().run();\n    }\n    \n    void run()\n    {\n        CoffeeMachine coffeeMachine = new CoffeeMachine(400, 540, 120, 9, 550);\n        while (coffeeMachine.mainMenu()); // loops until mainMenu returns false\n    }\n\n}\n</code></pre>\n<p>CoffeeMachine:</p>\n<pre><code>import java.util.Scanner;\n\npublic class CoffeeMachine\n{\n    private Scanner input = new Scanner(System.in);\n    \n    private int water;\n    private int milk;\n    private int coffeeBeans;\n    private int disposableCups;\n    private int money;\n    \n    public CoffeeMachine(int water, int milk, int coffeeBeans, int disposableCups, int money)\n    {\n        this.water = water;\n        this.milk = milk;\n        this.coffeeBeans = coffeeBeans;\n        this.disposableCups = disposableCups;\n        this.money = money;\n    }\n\n    void fill() {\n        System.out.println(&quot;Write how many ml of water you want to add: &quot;);\n        water += input.nextInt();\n        System.out.println(&quot;Write how many ml of milk you want to add: &quot;);\n        milk += input.nextInt();\n        System.out.println(&quot;Write how many grams of coffee beans you want to add: &quot;);\n        coffeeBeans += input.nextInt();\n        System.out.println(&quot;Write how many disposable cups for coffee you want to add: &quot;);\n        disposableCups += input.nextInt();\n        \n    }\n\n    public void selectCoffee()\n    {\n        while (true)\n        {\n            System.out.println(&quot;What kind of coffee would you like to buy today?&quot;);\n            System.out.println(\n        &quot;            Please enter:\\n&quot; +\n        &quot;            1 for espresso\\n&quot; +\n        &quot;            2 for latte\\n&quot; +\n        &quot;            3 for cappuccino\\n&quot; +\n        &quot;            4 for a regular coffee\\n&quot; +\n        &quot;            back - to go back to main menu&quot;);\n            String choice = input.next();\n    \n            try {\n                switch (choice) { //lets user choose what type of coffee to buy\n                    case &quot;1&quot;:\n                        buy(new Espresso());\n                        return;\n                    case &quot;2&quot;:\n                        buy(new Latte());\n                        return;\n                    case &quot;3&quot;:\n                        buy(new Cappuccino());\n                        return;\n                    case &quot;4&quot;:\n                        buy(new RegularCoffee());\n                        return;\n                    case &quot;back&quot;:\n                        return;\n                    default:\n                        System.err.println(&quot;Please enter an option from the above&quot;);\n                }\n            }\n            catch (InsufficientResourcesException exception) {\n                System.err.println(&quot;Error buying coffee: &quot; +  exception.getLocalizedMessage());\n            }\n        }\n    }\n    \n    public void buy(Coffee coffee) throws InsufficientResourcesException\n    {\n        if (coffee.getWaterCost() &gt; water)\n            throw new InsufficientResourcesException(&quot;water&quot;, &quot;ml&quot;, coffee.getWaterCost(), water);\n\n        if (coffee.getMilkCost() &gt; milk)\n            throw new InsufficientResourcesException(&quot;milk&quot;, &quot;ml&quot;, coffee.getMilkCost(), milk);\n\n        if (coffee.getCoffeeBeansCost() &gt; coffeeBeans)\n            throw new InsufficientResourcesException(&quot;coffee beans&quot;, &quot;g&quot;, coffee.getCoffeeBeansCost(), coffeeBeans);\n\n        if (disposableCups &lt; 1)\n            throw new InsufficientResourcesException(&quot;disposable cups&quot;, &quot;units&quot;, 1, disposableCups);\n        \n\n        System.out.println(&quot;Buying 1 cup of &quot; + coffee.getClass().getSimpleName());\n        water -= coffee.getWaterCost();\n        milk -= coffee.getMilkCost();\n        coffeeBeans -= coffee.getCoffeeBeansCost();\n        disposableCups--;\n        \n        money += coffee.getMoneyCost();\n    }\n    \n    public void takeMoney()\n    {\n        System.out.println(&quot;I gave you $&quot; + money + &quot;. The money tray is now empty.&quot;);\n        money = 0;\n    }\n    \n    public void showResources()\n    {\n        System.out.println(&quot;The coffee machine has: &quot;);\n        System.out.println(water + &quot; ml of water&quot;);\n        System.out.println(milk + &quot; ml of milk &quot;);\n        System.out.println(coffeeBeans + &quot; g of coffee beans &quot;);\n        System.out.println(disposableCups + &quot; disposable cups &quot;);\n        System.out.println(&quot;$&quot; + money + &quot; of money&quot;);\n    }\n\n    public boolean mainMenu() { // Gives user option to decide what they want to do\n        System.out.println(&quot;Main Menu: &quot; + &quot;\\n&quot;);\n        System.out.println(&quot;Please choose from the following options below&quot;);\n        System.out.println(\n    &quot;            To buy coffee - Enter buy\\n&quot; +\n    &quot;            To fill the machine - Enter fill\\n&quot; +\n    &quot;            To get cash from machine - Enter take\\n&quot; +\n    &quot;            To see remaining resources - Enter remaining\\n&quot; +\n    &quot;            To exit program - Enter exit&quot;);\n        String choice = input.next();\n        \n        switch (choice) {\n            case &quot;buy&quot;:\n                selectCoffee();\n                break;\n            case &quot;fill&quot;:\n                fill();\n                break;\n            case &quot;take&quot;:\n                takeMoney();\n                break;\n            case &quot;remaining&quot;:\n                showResources();\n                break;\n            case &quot;exit&quot;:\n                return false;\n        }\n        \n        return true;\n    }\n\n}\n</code></pre>\n<p>And the Coffee classes:</p>\n<pre><code>public abstract class Coffee\n{\n    private int waterCost;\n    private int milkCost;\n    private int coffeeBeansCost;\n    private int moneyCost;\n    \n    protected Coffee(int waterCost, int milkCost, int coffeeBeansCost, int moneyCost)\n    {\n        this.waterCost = waterCost;\n        this.milkCost = milkCost;\n        this.coffeeBeansCost = coffeeBeansCost;\n        this.moneyCost = moneyCost;\n    }\n\n    public int getWaterCost()\n    {\n        return this.waterCost;\n    }\n\n    public int getMilkCost()\n    {\n        return this.milkCost;\n    }\n\n    public int getCoffeeBeansCost()\n    {\n        return this.coffeeBeansCost;\n    }\n\n    public int getMoneyCost()\n    {\n        return this.moneyCost;\n    }\n    \n}\n\npublic class Espresso extends Coffee\n{\n\n    public Espresso()\n    {\n        super(250, 0, 16, 4);\n    }\n\n}\n\npublic class Cappuccino extends Coffee\n{\n\n    public Cappuccino()\n    {\n        super(200, 100, 12, 6);\n    }\n\n}\n\npublic class Latte extends Coffee\n{\n\n    public Latte()\n    {\n        super(350, 75, 20, 7);\n    }\n\n}\n\npublic class RegularCoffee extends Coffee\n{\n\n    public RegularCoffee()\n    {\n        super(200, 50, 15, 0);\n    }\n\n}\n</code></pre>\n<p>Last but not least, the exception class:</p>\n<pre><code>public class InsufficientResourcesException extends Exception\n{\n    private static final long serialVersionUID = 1L;\n\n    public InsufficientResourcesException(String whatResource, String unit, int required, int available)\n    {\n        super(&quot;Insufficient resources: required &quot; + required + &quot; &quot; + unit + &quot; of &quot; + whatResource + &quot; but available &quot; + available + &quot; &quot; + unit);\n    }\n}\n</code></pre>\n<p>Having a good architecture is most important in software. If your architecture is correctly applied, errors would be improbable and if they ocurred they would be easy to fix. Also, changing an application with good architecture is easy and safe.</p>\n<p>Bad architecture on the other hand makes errors almost certain, hard to find and fix and the app cannot be easily changed.</p>\n"}],"owner":{"account_id":23244710,"reputation":3,"user_id":17333453,"display_name":"Mosinmiloluwa Ojeyomi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70174785,"answer_count":2,"score":0,"last_activity_date":1638305036,"creation_date":1638297011,"question_id":70174364,"body_markdown":"[Question][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GMJxP.jpg\r\n\r\nI am very new to Java and I am trying to learn as best as I can.The actual question of the problem I am trying to solve is in the picture above. Please do refer to the picture in case I am not detailed enough in the description of my problem. I am currently writing a java program that has to do with buying coffee. I have a method that computes the cost of buying the coffee(**BuyCoffee**) and the amount of resources used. There are also different types of coffee, with each coffee using different amount of resources. I also have another method that computes the resources left after any coffee is sold**(getRemainingResources)**. I do have a problem looping my getRemainingResources method. So when I buy coffee once, the amount of resources I have reduces. I have a method to fill this resources. But everytime I try to buy the same coffee again, the amount of resources I have left does not reduce. My code is below\r\n\r\n  \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MethodsTest {\r\n        //global variable--starting quantity of resources in machine\r\n        static final int water = 400;\r\n        static final int milk = 540;\r\n        static final int coffeeBean = 120; // in g\r\n        static int disposableCups = 9;\r\n        static final int cost = 550; //in $\r\n\r\n    //global variable --refill quantity of resources in machine\r\n    static int fillWater, fillMilk, fillCoffeeBeans, fillDisposableCups;\r\n\r\n    //global variable -- remaining quantity of resources in machine\r\n    static int newRemCost, remCost, remWater, remMilk, remCoffeeBean, remDisposableCups;\r\n\r\n    static int espressoWater, espressoMilk, espressoCoffeeBeans, espressoCost; // Resources for espresso\r\n    static int latteWater, latteMilk, latteCoffeeBeans, latteCost;\r\n    static int cappuccinoWater, cappuccinoMilk, cappuccinoCoffeeBeans, cappuccinoCost;\r\n    static int regWater, regMilk, regCoffeeBeans, regCost;                         //Resources for regular coffees\r\n\r\n    static void FillCoffeeMachine() {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Write how many ml of water you want to add: &quot;);\r\n        fillWater = input.nextInt();\r\n        System.out.println(&quot;Write how many ml of milk you want to add: &quot;);\r\n        fillMilk = input.nextInt();\r\n        System.out.println(&quot;Write how many grams of coffee beans you want to add: &quot;);\r\n        fillCoffeeBeans = input.nextInt();\r\n        System.out.println(&quot;Write how many disposable cups of coffee you want to add: &quot;);\r\n        fillDisposableCups = input.nextInt();\r\n\r\n        MainMenu();\r\n    }\r\n\r\n    static void BuyCoffee() {                                  //method for buying coffee\r\n        disposableCups--;// always decreasing when coffee is sold\r\n        class TypesOfCoffee {\r\n            void Espresso() {                             //nested class, since there are different kind of coffee\r\n                espressoWater = 250;\r\n                espressoMilk = 0;\r\n                espressoCoffeeBeans = 16;\r\n                espressoCost = 4;\r\n\r\n\r\n                if (remWater &gt; espressoWater &amp;&amp; remMilk &gt; espressoMilk &amp;&amp; remCoffeeBean &gt; espressoCoffeeBeans) {\r\n                    System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\r\n                } else if (remWater &lt; espressoWater) {\r\n                    System.out.println(&quot;Sorry, not enough water!&quot;);\r\n                    disposableCups++;\r\n                } else if (remCoffeeBean &lt; espressoCoffeeBeans) {\r\n                    System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\r\n                    disposableCups++;\r\n                } else\r\n                    disposableCups++;\r\n            }\r\n\r\n            void Latte() {\r\n                latteWater = 350;\r\n                latteMilk = 75;\r\n                latteCoffeeBeans = 20;\r\n                latteCost = 7;\r\n\r\n                if (remWater &gt; latteWater &amp;&amp; remMilk &gt; latteMilk &amp;&amp; remCoffeeBean &gt; latteCoffeeBeans) {\r\n                    System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\r\n                } else if (remWater &lt; latteWater) {\r\n                    System.out.println(&quot;Sorry, not enough water!&quot;);\r\n                    disposableCups++;\r\n                } else if (remMilk &lt; latteMilk) {\r\n                    System.out.println(&quot;Sorry, not enough milk!&quot;);\r\n                    disposableCups++;\r\n                } else if (remCoffeeBean &lt; latteCoffeeBeans) {\r\n                    System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\r\n                    disposableCups++;\r\n                } else\r\n                    disposableCups++;\r\n            }\r\n\r\n            void Cappuccino() {\r\n                cappuccinoWater = 200;\r\n                cappuccinoMilk = 100;\r\n                cappuccinoCoffeeBeans = 12;\r\n                cappuccinoCost = 6;\r\n\r\n                if (remWater &gt; cappuccinoWater &amp;&amp; remMilk &gt; cappuccinoMilk &amp;&amp; remCoffeeBean &gt; cappuccinoCoffeeBeans) {\r\n                    System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\r\n                } else if (remWater &lt; cappuccinoWater) {\r\n                    System.out.println(&quot;Sorry, not enough water!&quot;);\r\n                    disposableCups++;\r\n                } else if (remMilk &lt; cappuccinoMilk) {\r\n                    System.out.println(&quot;Sorry, not enough milk!&quot;);\r\n                    disposableCups++;\r\n                } else if (remCoffeeBean &lt; cappuccinoCoffeeBeans) {\r\n                    System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\r\n                    disposableCups++;\r\n                } else\r\n                    disposableCups++;\r\n            }\r\n\r\n            void regularCoffee() {\r\n                regWater = 200;\r\n                regMilk = 50;\r\n                regCoffeeBeans = 15;\r\n                regCost = 0;\r\n\r\n                if (remWater &gt; regWater &amp;&amp; remMilk &gt; regMilk &amp;&amp; remCoffeeBean &gt; regCoffeeBeans) {\r\n                    System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\r\n                } else if (remWater &lt; regWater) {\r\n                    System.out.println(&quot;Sorry, not enough water!&quot;);\r\n                    disposableCups++;\r\n                } else if (remMilk &lt; regMilk) {\r\n                    System.out.println(&quot;Sorry, not enough milk!&quot;);\r\n                    disposableCups++;\r\n                } else if (remCoffeeBean &lt; regCoffeeBeans) {\r\n                    System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\r\n                    disposableCups++;\r\n                } else\r\n                    disposableCups++;\r\n            }\r\n        }\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;What kind of coffee would you like to buy today?&quot;);\r\n        System.out.println(&quot;&quot;&quot;\r\n                Please enter:\r\n                1 for espresso\r\n                2 for latte\r\n                3 for cappuccino\r\n                4 for a regular coffee\r\n                back - to go back to main menu&quot;&quot;&quot;);\r\n        String choice = input.next();\r\n\r\n        switch (choice) { //lets user choose what type of coffee to buy\r\n            case &quot;1&quot;:\r\n                new TypesOfCoffee().Espresso();\r\n                break;\r\n            case &quot;2&quot;:\r\n                new TypesOfCoffee().Latte();\r\n                break;\r\n            case &quot;3&quot;:\r\n                new TypesOfCoffee().Cappuccino();\r\n                break;\r\n            case &quot;4&quot;:\r\n                new TypesOfCoffee().regularCoffee();\r\n                break;\r\n            case &quot;back&quot;:\r\n                MainMenu();\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Please enter an option from the above&quot;);\r\n        }\r\n        MainMenu();\r\n    }\r\n\r\n\r\n    static void takeMoney() { //method to take the money\r\n        System.out.println(&quot;I gave you&quot; + &quot; &quot; + &quot;$&quot; + remCost);\r\n        newRemCost = remCost;\r\n        MainMenu();\r\n    }\r\n\r\n    static void getRemainingResources() {\r\n        //TODO --has to loop..but it works only once\r\n        remDisposableCups = fillDisposableCups + disposableCups;\r\n        boolean found = remDisposableCups &gt; 0; // true for coffee to be sold\r\n        while (found) {\r\n            remWater = water + fillWater - espressoWater - cappuccinoWater - latteWater;//\r\n            remMilk = milk + fillMilk - espressoMilk - cappuccinoMilk - latteMilk;\r\n            remCoffeeBean = coffeeBean + fillCoffeeBeans - espressoCoffeeBeans - cappuccinoCoffeeBeans - latteCoffeeBeans;\r\n            remCost = cost + espressoCost + cappuccinoCost + latteCost - newRemCost;\r\n            //found = remDisposableCups &gt; 0 &amp;&amp; remWater&gt;=water &amp;&amp; remMilk&gt;=milk&amp;&amp;remCoffeeBean&gt;=coffeeBean;\r\n\r\n            System.out.println(&quot;The coffee machine has: &quot;);\r\n            System.out.println(remWater + &quot; &quot; + &quot;ml of water&quot;);\r\n            System.out.println(remMilk + &quot; &quot; + &quot;ml of milk &quot;);\r\n            System.out.println(remCoffeeBean + &quot; &quot; + &quot;g of coffee beans &quot;);\r\n            System.out.println(remDisposableCups + &quot; &quot; + &quot;disposable cups &quot;);\r\n            System.out.println(&quot;$&quot; + remCost + &quot; &quot; + &quot;of money&quot;);\r\n            found = remDisposableCups &lt; 0;\r\n        }\r\n\r\n        MainMenu();\r\n    }\r\n\r\n    static void MainMenu() { // Gives user option to decide what they want to do\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Main Menu: &quot; + &quot;\\n&quot;);\r\n        System.out.println(&quot;Please choose from the following options below&quot;);\r\n        System.out.println(&quot;&quot;&quot;\r\n                To buy coffee - Enter buy\r\n                To fill the machine - Enter fill\r\n                To get cash from machine - Enter take\r\n                To see remaining resources - Enter remaining\r\n                To exit program - Enter exit&quot;&quot;&quot;);\r\n        String choice = input.next();\r\n\r\n        switch (choice) {\r\n            case &quot;buy&quot;:\r\n                BuyCoffee();\r\n                break;\r\n            case &quot;fill&quot;:\r\n                FillCoffeeMachine();\r\n                break;\r\n            case &quot;take&quot;:\r\n                takeMoney();\r\n                break;\r\n            case &quot;remaining&quot;:\r\n                getRemainingResources();\r\n                break;\r\n            case &quot;exit&quot;:\r\n                System.exit(0);\r\n                break;\r\n            default:\r\n                MainMenu();//goes back to main menu if user types in an unknown value\r\n         }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MainMenu();\r\n    }\r\n}\r\n\r\n\r\n\r\n ","title":"How can I loop 2 methods together?","body":"<p><a href=\"https://i.stack.imgur.com/GMJxP.jpg\" rel=\"nofollow noreferrer\">Question</a></p>\n<p>I am very new to Java and I am trying to learn as best as I can.The actual question of the problem I am trying to solve is in the picture above. Please do refer to the picture in case I am not detailed enough in the description of my problem. I am currently writing a java program that has to do with buying coffee. I have a method that computes the cost of buying the coffee(<strong>BuyCoffee</strong>) and the amount of resources used. There are also different types of coffee, with each coffee using different amount of resources. I also have another method that computes the resources left after any coffee is sold**(getRemainingResources)**. I do have a problem looping my getRemainingResources method. So when I buy coffee once, the amount of resources I have reduces. I have a method to fill this resources. But everytime I try to buy the same coffee again, the amount of resources I have left does not reduce. My code is below</p>\n<pre><code>import java.util.Scanner;\n\npublic class MethodsTest {\n    //global variable--starting quantity of resources in machine\n    static final int water = 400;\n    static final int milk = 540;\n    static final int coffeeBean = 120; // in g\n    static int disposableCups = 9;\n    static final int cost = 550; //in $\n\n//global variable --refill quantity of resources in machine\nstatic int fillWater, fillMilk, fillCoffeeBeans, fillDisposableCups;\n\n//global variable -- remaining quantity of resources in machine\nstatic int newRemCost, remCost, remWater, remMilk, remCoffeeBean, remDisposableCups;\n\nstatic int espressoWater, espressoMilk, espressoCoffeeBeans, espressoCost; // Resources for espresso\nstatic int latteWater, latteMilk, latteCoffeeBeans, latteCost;\nstatic int cappuccinoWater, cappuccinoMilk, cappuccinoCoffeeBeans, cappuccinoCost;\nstatic int regWater, regMilk, regCoffeeBeans, regCost;                         //Resources for regular coffees\n\nstatic void FillCoffeeMachine() {\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Write how many ml of water you want to add: &quot;);\n    fillWater = input.nextInt();\n    System.out.println(&quot;Write how many ml of milk you want to add: &quot;);\n    fillMilk = input.nextInt();\n    System.out.println(&quot;Write how many grams of coffee beans you want to add: &quot;);\n    fillCoffeeBeans = input.nextInt();\n    System.out.println(&quot;Write how many disposable cups of coffee you want to add: &quot;);\n    fillDisposableCups = input.nextInt();\n\n    MainMenu();\n}\n\nstatic void BuyCoffee() {                                  //method for buying coffee\n    disposableCups--;// always decreasing when coffee is sold\n    class TypesOfCoffee {\n        void Espresso() {                             //nested class, since there are different kind of coffee\n            espressoWater = 250;\n            espressoMilk = 0;\n            espressoCoffeeBeans = 16;\n            espressoCost = 4;\n\n\n            if (remWater &gt; espressoWater &amp;&amp; remMilk &gt; espressoMilk &amp;&amp; remCoffeeBean &gt; espressoCoffeeBeans) {\n                System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\n            } else if (remWater &lt; espressoWater) {\n                System.out.println(&quot;Sorry, not enough water!&quot;);\n                disposableCups++;\n            } else if (remCoffeeBean &lt; espressoCoffeeBeans) {\n                System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\n                disposableCups++;\n            } else\n                disposableCups++;\n        }\n\n        void Latte() {\n            latteWater = 350;\n            latteMilk = 75;\n            latteCoffeeBeans = 20;\n            latteCost = 7;\n\n            if (remWater &gt; latteWater &amp;&amp; remMilk &gt; latteMilk &amp;&amp; remCoffeeBean &gt; latteCoffeeBeans) {\n                System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\n            } else if (remWater &lt; latteWater) {\n                System.out.println(&quot;Sorry, not enough water!&quot;);\n                disposableCups++;\n            } else if (remMilk &lt; latteMilk) {\n                System.out.println(&quot;Sorry, not enough milk!&quot;);\n                disposableCups++;\n            } else if (remCoffeeBean &lt; latteCoffeeBeans) {\n                System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\n                disposableCups++;\n            } else\n                disposableCups++;\n        }\n\n        void Cappuccino() {\n            cappuccinoWater = 200;\n            cappuccinoMilk = 100;\n            cappuccinoCoffeeBeans = 12;\n            cappuccinoCost = 6;\n\n            if (remWater &gt; cappuccinoWater &amp;&amp; remMilk &gt; cappuccinoMilk &amp;&amp; remCoffeeBean &gt; cappuccinoCoffeeBeans) {\n                System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\n            } else if (remWater &lt; cappuccinoWater) {\n                System.out.println(&quot;Sorry, not enough water!&quot;);\n                disposableCups++;\n            } else if (remMilk &lt; cappuccinoMilk) {\n                System.out.println(&quot;Sorry, not enough milk!&quot;);\n                disposableCups++;\n            } else if (remCoffeeBean &lt; cappuccinoCoffeeBeans) {\n                System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\n                disposableCups++;\n            } else\n                disposableCups++;\n        }\n\n        void regularCoffee() {\n            regWater = 200;\n            regMilk = 50;\n            regCoffeeBeans = 15;\n            regCost = 0;\n\n            if (remWater &gt; regWater &amp;&amp; remMilk &gt; regMilk &amp;&amp; remCoffeeBean &gt; regCoffeeBeans) {\n                System.out.println(&quot;I have enough resources, making you a coffee!&quot;);\n            } else if (remWater &lt; regWater) {\n                System.out.println(&quot;Sorry, not enough water!&quot;);\n                disposableCups++;\n            } else if (remMilk &lt; regMilk) {\n                System.out.println(&quot;Sorry, not enough milk!&quot;);\n                disposableCups++;\n            } else if (remCoffeeBean &lt; regCoffeeBeans) {\n                System.out.println(&quot;Sorry, not enough coffee beans!&quot;);\n                disposableCups++;\n            } else\n                disposableCups++;\n        }\n    }\n\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;What kind of coffee would you like to buy today?&quot;);\n    System.out.println(&quot;&quot;&quot;\n            Please enter:\n            1 for espresso\n            2 for latte\n            3 for cappuccino\n            4 for a regular coffee\n            back - to go back to main menu&quot;&quot;&quot;);\n    String choice = input.next();\n\n    switch (choice) { //lets user choose what type of coffee to buy\n        case &quot;1&quot;:\n            new TypesOfCoffee().Espresso();\n            break;\n        case &quot;2&quot;:\n            new TypesOfCoffee().Latte();\n            break;\n        case &quot;3&quot;:\n            new TypesOfCoffee().Cappuccino();\n            break;\n        case &quot;4&quot;:\n            new TypesOfCoffee().regularCoffee();\n            break;\n        case &quot;back&quot;:\n            MainMenu();\n            break;\n        default:\n            System.out.println(&quot;Please enter an option from the above&quot;);\n    }\n    MainMenu();\n}\n\n\nstatic void takeMoney() { //method to take the money\n    System.out.println(&quot;I gave you&quot; + &quot; &quot; + &quot;$&quot; + remCost);\n    newRemCost = remCost;\n    MainMenu();\n}\n\nstatic void getRemainingResources() {\n    //TODO --has to loop..but it works only once\n    remDisposableCups = fillDisposableCups + disposableCups;\n    boolean found = remDisposableCups &gt; 0; // true for coffee to be sold\n    while (found) {\n        remWater = water + fillWater - espressoWater - cappuccinoWater - latteWater;//\n        remMilk = milk + fillMilk - espressoMilk - cappuccinoMilk - latteMilk;\n        remCoffeeBean = coffeeBean + fillCoffeeBeans - espressoCoffeeBeans - cappuccinoCoffeeBeans - latteCoffeeBeans;\n        remCost = cost + espressoCost + cappuccinoCost + latteCost - newRemCost;\n        //found = remDisposableCups &gt; 0 &amp;&amp; remWater&gt;=water &amp;&amp; remMilk&gt;=milk&amp;&amp;remCoffeeBean&gt;=coffeeBean;\n\n        System.out.println(&quot;The coffee machine has: &quot;);\n        System.out.println(remWater + &quot; &quot; + &quot;ml of water&quot;);\n        System.out.println(remMilk + &quot; &quot; + &quot;ml of milk &quot;);\n        System.out.println(remCoffeeBean + &quot; &quot; + &quot;g of coffee beans &quot;);\n        System.out.println(remDisposableCups + &quot; &quot; + &quot;disposable cups &quot;);\n        System.out.println(&quot;$&quot; + remCost + &quot; &quot; + &quot;of money&quot;);\n        found = remDisposableCups &lt; 0;\n    }\n\n    MainMenu();\n}\n\nstatic void MainMenu() { // Gives user option to decide what they want to do\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Main Menu: &quot; + &quot;\\n&quot;);\n    System.out.println(&quot;Please choose from the following options below&quot;);\n    System.out.println(&quot;&quot;&quot;\n            To buy coffee - Enter buy\n            To fill the machine - Enter fill\n            To get cash from machine - Enter take\n            To see remaining resources - Enter remaining\n            To exit program - Enter exit&quot;&quot;&quot;);\n    String choice = input.next();\n\n    switch (choice) {\n        case &quot;buy&quot;:\n            BuyCoffee();\n            break;\n        case &quot;fill&quot;:\n            FillCoffeeMachine();\n            break;\n        case &quot;take&quot;:\n            takeMoney();\n            break;\n        case &quot;remaining&quot;:\n            getRemainingResources();\n            break;\n        case &quot;exit&quot;:\n            System.exit(0);\n            break;\n        default:\n            MainMenu();//goes back to main menu if user types in an unknown value\n     }\n}\n\npublic static void main(String[] args) {\n    MainMenu();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","testing","gradle","osgi","bnd"],"answers":[{"tags":[],"owner":{"account_id":124062,"reputation":23813,"user_id":318921,"accept_rate":67,"display_name":"Neil Bartlett"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638271846,"creation_date":1638271846,"answer_id":70168638,"question_id":70168415,"body_markdown":"The unsatisfied requirement is package `com.ibm.icu.text` with `version&gt;=3.6.1`. However the export from the copy of icu4j.jar that you have shown is unversioned, which means it has an implicit version of 0.0.0.\r\n\r\nUnfortunately 0.0.0 is not greater than or equal to 3.6.1, therefore this bundle not satisfy the requirement from the `org.eclipse.compare.core` bundle.","title":"Can not run OSGi tests requiring &quot;org.eclipse.pde.core&quot; because of icu4j","body":"<p>The unsatisfied requirement is package <code>com.ibm.icu.text</code> with <code>version&gt;=3.6.1</code>. However the export from the copy of icu4j.jar that you have shown is unversioned, which means it has an implicit version of 0.0.0.</p>\n<p>Unfortunately 0.0.0 is not greater than or equal to 3.6.1, therefore this bundle not satisfy the requirement from the <code>org.eclipse.compare.core</code> bundle.</p>\n"},{"tags":[],"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638304969,"creation_date":1638304969,"answer_id":70175812,"question_id":70168415,"body_markdown":"I think you need the proper `com.ibm.icu` bundle from Eclipse Orbit. See &lt;https://download.eclipse.org/oomph/archive/reports/download.eclipse.org/releases/2021-09/index/com.ibm.icu_67.1.0.v20200706-1749.html&gt;, for example.","title":"Can not run OSGi tests requiring &quot;org.eclipse.pde.core&quot; because of icu4j","body":"<p>I think you need the proper <code>com.ibm.icu</code> bundle from Eclipse Orbit. See <a href=\"https://download.eclipse.org/oomph/archive/reports/download.eclipse.org/releases/2021-09/index/com.ibm.icu_67.1.0.v20200706-1749.html\" rel=\"nofollow noreferrer\">https://download.eclipse.org/oomph/archive/reports/download.eclipse.org/releases/2021-09/index/com.ibm.icu_67.1.0.v20200706-1749.html</a>, for example.</p>\n"}],"owner":{"account_id":32864,"reputation":9277,"user_id":91497,"accept_rate":67,"display_name":"Jmini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70168638,"answer_count":2,"score":0,"last_activity_date":1638304969,"creation_date":1638270877,"question_id":70168415,"body_markdown":"I am trying to run some test using the `aQute.bnd.gradle.TestOSGi` task from [bnd][1].\r\n\r\nMy library requires `org.eclipse.pde.core`\r\n\r\n```\r\nResolution failed. Capabilities satisfying the following requirements could not be found:\r\n    [&lt;&lt;INITIAL&gt;&gt;]\r\n      ⇒ osgi.identity: (osgi.identity=org.eclipse.pde.core)\r\n          ⇒ [org.eclipse.pde.core version=3.13.200.v20191202-2135]\r\n              ⇒ osgi.wiring.bundle: (&amp;(osgi.wiring.bundle=org.eclipse.team.core)(bundle-version&gt;=3.2.0)(!(bundle-version&gt;=4.0.0)))\r\n                  ⇒ [org.eclipse.team.core version=3.8.800.v20191122-2107]\r\n                      ⇒ osgi.wiring.bundle: (&amp;(osgi.wiring.bundle=org.eclipse.compare.core)(bundle-version&gt;=3.5.200)(!(bundle-version&gt;=4.0.0)))\r\n                          ⇒ [org.eclipse.compare.core version=3.6.700.v20191122-2107]\r\n                              ⇒ osgi.wiring.package: (&amp;(osgi.wiring.package=com.ibm.icu.text)(version&gt;=3.6.1))\r\n\r\n```\r\n\r\nI have `&#39;com.ibm.icu:icu4j:64.2&#39;` as dependency and I even indicated that I would like to start the bundle `com.ibm.icu`.\r\n\r\n```\r\n-runrequires: \\\r\n\tbnd.identity;id=&#39;${project.archivesBaseName}&#39;,\\\r\n\tbnd.identity;id=&#39;junit-jupiter-engine&#39;,\\\r\n\tbnd.identity;id=&#39;junit-platform-launcher&#39;,\\\r\n\tbnd.identity;id=&#39;org.eclipse.pde.core&#39;,\\\r\n\tbnd.identity;id=&#39;com.ibm.icu&#39;,\\\r\n```\r\n\r\nMinimal reproducer project can be found here: [`pde-run` project on GitHub][2]\r\n\r\n---\r\nI looked at the MANIFEST file inside the `icu4j.jar`.\r\n\r\nI see following:\r\n```\r\nBundle-ManifestVersion: 2\r\nBundle-Name: ICU4J\r\nBundle-Description: International Components for Unicode for Java\r\nBundle-SymbolicName: com.ibm.icu\r\nBundle-Version: 64.2\r\n\r\nBundle-RequiredExecutionEnvironment: JavaSE-1.7\r\nMain-Class: com.ibm.icu.util.VersionInfo\r\nExport-Package: com.ibm.icu.lang,com.ibm.icu.math,com.ibm.icu.number,com.ibm.icu.text,com.ibm.icu.util\r\nAutomatic-Module-Name: com.ibm.icu\r\n```\r\n\r\nSo `com.ibm.icu.text` is exported by this bundle.\r\n\r\nIs there a way to understand what is going on?\r\n\r\nI thought maybe the `Bundle-RequiredExecutionEnvironment` entry is preventing the bundle to be started (I am using Java 8 for my tests). If this is the case, what can I do to solve my issue?\r\n\r\n---\r\n\r\n  [1]: https://github.com/bndtools/bnd/\r\n  [2]: https://github.com/jmini/bnd-experiments/tree/master/pde-run","title":"Can not run OSGi tests requiring &quot;org.eclipse.pde.core&quot; because of icu4j","body":"<p>I am trying to run some test using the <code>aQute.bnd.gradle.TestOSGi</code> task from <a href=\"https://github.com/bndtools/bnd/\" rel=\"nofollow noreferrer\">bnd</a>.</p>\n<p>My library requires <code>org.eclipse.pde.core</code></p>\n<pre><code>Resolution failed. Capabilities satisfying the following requirements could not be found:\n    [&lt;&lt;INITIAL&gt;&gt;]\n      ⇒ osgi.identity: (osgi.identity=org.eclipse.pde.core)\n          ⇒ [org.eclipse.pde.core version=3.13.200.v20191202-2135]\n              ⇒ osgi.wiring.bundle: (&amp;(osgi.wiring.bundle=org.eclipse.team.core)(bundle-version&gt;=3.2.0)(!(bundle-version&gt;=4.0.0)))\n                  ⇒ [org.eclipse.team.core version=3.8.800.v20191122-2107]\n                      ⇒ osgi.wiring.bundle: (&amp;(osgi.wiring.bundle=org.eclipse.compare.core)(bundle-version&gt;=3.5.200)(!(bundle-version&gt;=4.0.0)))\n                          ⇒ [org.eclipse.compare.core version=3.6.700.v20191122-2107]\n                              ⇒ osgi.wiring.package: (&amp;(osgi.wiring.package=com.ibm.icu.text)(version&gt;=3.6.1))\n\n</code></pre>\n<p>I have <code>'com.ibm.icu:icu4j:64.2'</code> as dependency and I even indicated that I would like to start the bundle <code>com.ibm.icu</code>.</p>\n<pre><code>-runrequires: \\\n    bnd.identity;id='${project.archivesBaseName}',\\\n    bnd.identity;id='junit-jupiter-engine',\\\n    bnd.identity;id='junit-platform-launcher',\\\n    bnd.identity;id='org.eclipse.pde.core',\\\n    bnd.identity;id='com.ibm.icu',\\\n</code></pre>\n<p>Minimal reproducer project can be found here: <a href=\"https://github.com/jmini/bnd-experiments/tree/master/pde-run\" rel=\"nofollow noreferrer\"><code>pde-run</code> project on GitHub</a></p>\n<hr />\n<p>I looked at the MANIFEST file inside the <code>icu4j.jar</code>.</p>\n<p>I see following:</p>\n<pre><code>Bundle-ManifestVersion: 2\nBundle-Name: ICU4J\nBundle-Description: International Components for Unicode for Java\nBundle-SymbolicName: com.ibm.icu\nBundle-Version: 64.2\n\nBundle-RequiredExecutionEnvironment: JavaSE-1.7\nMain-Class: com.ibm.icu.util.VersionInfo\nExport-Package: com.ibm.icu.lang,com.ibm.icu.math,com.ibm.icu.number,com.ibm.icu.text,com.ibm.icu.util\nAutomatic-Module-Name: com.ibm.icu\n</code></pre>\n<p>So <code>com.ibm.icu.text</code> is exported by this bundle.</p>\n<p>Is there a way to understand what is going on?</p>\n<p>I thought maybe the <code>Bundle-RequiredExecutionEnvironment</code> entry is preventing the bundle to be started (I am using Java 8 for my tests). If this is the case, what can I do to solve my issue?</p>\n<hr />\n"},{"tags":["java","android","singleton","shared-libraries","android-context"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1389488014,"creation_date":1389485180,"answer_id":21069573,"question_id":21069470,"body_markdown":"&gt; What&#39;s the best way to give the library this Context?\r\n\r\nPass a `Context` into the methods exposed by your library that need a `Context`. This is what the Android SDK does in places.\r\n\r\nOr, change your library to expose objects, not static methods, and have the objects hold an instance of `Context` (supplied to the constructor or factory method that created the instance).\r\n\r\n&gt; Have my library classes extend Application, and call getApplicationContext()\r\n\r\nIf you can call `getApplicationContext()` on a `Context`, you would just do that, without needing to subclass `Application`.\r\n","title":"Get Context in Android library","body":"<blockquote>\n  <p>What's the best way to give the library this Context?</p>\n</blockquote>\n\n<p>Pass a <code>Context</code> into the methods exposed by your library that need a <code>Context</code>. This is what the Android SDK does in places.</p>\n\n<p>Or, change your library to expose objects, not static methods, and have the objects hold an instance of <code>Context</code> (supplied to the constructor or factory method that created the instance).</p>\n\n<blockquote>\n  <p>Have my library classes extend Application, and call getApplicationContext()</p>\n</blockquote>\n\n<p>If you can call <code>getApplicationContext()</code> on a <code>Context</code>, you would just do that, without needing to subclass <code>Application</code>.</p>\n"},{"tags":[],"owner":{"account_id":542433,"reputation":2294,"user_id":158221,"accept_rate":0,"display_name":"winsontan520"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491400129,"creation_date":1491400129,"answer_id":43233138,"question_id":21069470,"body_markdown":"I am not sure best practice for this case but i would like to set the Context in my singleton class during Application onCreate.\r\n\r\n    MyLibrary.init(this);\r\n\r\nWhy?\r\nIf you had use Crashlytic/Fabric before, you will found that they are using\r\n\r\n    Fabric.with(this, new Crashlytics());\r\nIf you read the code in Fabric will found that they store the Context in Fabric singleton.\r\n\r\nFacebook Android SDK did similar thing:\r\n\r\n    FacebookSdk.sdkInitialize(getApplicationContext());\r\nIf your browse their codes will found that they store static Context.\r\n\r\nWell, which are the best practices? I am not sure but i believe those are awesome developers create awesome libraries and they did debate on this before come out this libraries. Anyway, I am still learning how to write best android library and come across this topics.\r\n","title":"Get Context in Android library","body":"<p>I am not sure best practice for this case but i would like to set the Context in my singleton class during Application onCreate.</p>\n\n<pre><code>MyLibrary.init(this);\n</code></pre>\n\n<p>Why?\nIf you had use Crashlytic/Fabric before, you will found that they are using</p>\n\n<pre><code>Fabric.with(this, new Crashlytics());\n</code></pre>\n\n<p>If you read the code in Fabric will found that they store the Context in Fabric singleton.</p>\n\n<p>Facebook Android SDK did similar thing:</p>\n\n<pre><code>FacebookSdk.sdkInitialize(getApplicationContext());\n</code></pre>\n\n<p>If your browse their codes will found that they store static Context.</p>\n\n<p>Well, which are the best practices? I am not sure but i believe those are awesome developers create awesome libraries and they did debate on this before come out this libraries. Anyway, I am still learning how to write best android library and come across this topics.</p>\n"},{"tags":[],"owner":{"account_id":3348103,"reputation":923,"user_id":2812818,"accept_rate":20,"display_name":"Droid Teahouse"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1504227263,"creation_date":1504227263,"answer_id":45991963,"question_id":21069470,"body_markdown":"This is a solution that I found, which I have not tested, but is used by **Firebase** apparently to avoid creating an init method:\r\n\r\n&gt;&quot;What happens on Application start is, that it registers all ContentProviders in the system (calling onCreate). This means that at this point no activity has been started, but we have access to the (Application)Context, where we can initialise our library using this Context&quot;\r\n\r\nEssentially you are utilizing the onCreate of the empty ContentProvider as the init.  It is hacky, but seamless.\r\n\r\nhttps://medium.com/@andretietz/auto-initialize-your-android-library-2349daf06920","title":"Get Context in Android library","body":"<p>This is a solution that I found, which I have not tested, but is used by <strong>Firebase</strong> apparently to avoid creating an init method:</p>\n\n<blockquote>\n  <p>\"What happens on Application start is, that it registers all ContentProviders in the system (calling onCreate). This means that at this point no activity has been started, but we have access to the (Application)Context, where we can initialise our library using this Context\"</p>\n</blockquote>\n\n<p>Essentially you are utilizing the onCreate of the empty ContentProvider as the init.  It is hacky, but seamless.</p>\n\n<p><a href=\"https://medium.com/@andretietz/auto-initialize-your-android-library-2349daf06920\" rel=\"noreferrer\">https://medium.com/@andretietz/auto-initialize-your-android-library-2349daf06920</a></p>\n"},{"tags":[],"owner":{"account_id":3447122,"reputation":3809,"user_id":4850553,"display_name":"Mikhail Sharin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638304290,"creation_date":1638273680,"answer_id":70169048,"question_id":21069470,"body_markdown":"[App Startup][1] library is the part of Android Jetpack. It allows to listen application startup without the cost of multiple ContentProviders. Also, it provides the ability to handle dependencies tree.\r\n\r\n[Implementation example][2]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/app-startup\r\n  [2]: https://proandroiddev.com/androidx-app-startup-698855342f80","title":"Get Context in Android library","body":"<p><a href=\"https://developer.android.com/topic/libraries/app-startup\" rel=\"nofollow noreferrer\">App Startup</a> library is the part of Android Jetpack. It allows to listen application startup without the cost of multiple ContentProviders. Also, it provides the ability to handle dependencies tree.</p>\n<p><a href=\"https://proandroiddev.com/androidx-app-startup-698855342f80\" rel=\"nofollow noreferrer\">Implementation example</a></p>\n"}],"owner":{"account_id":444530,"reputation":22204,"user_id":836390,"accept_rate":44,"display_name":"joshlf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17013,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1638304290,"creation_date":1389484660,"question_id":21069470,"body_markdown":"I&#39;m writing an Android app that has some functionality encapsulated in an internal library. However, for this functionality to work, the library needs an instance of the Application Context. What&#39;s the best way to give the library this Context? I see a few options, none of them appealing:\r\n\r\n- Have my library classes extend `Application`, and call `getApplicationContext()` \r\n - This is generally discouraged\r\n- Have my library classes each implement the singleton pattern, and have each caller pass in a `Context` each time they get a reference to the singleton.\r\n - This requires every caller to retrieve the Application Context before using the library, and also requires that the caller call against an *instance* of the library instead of against static methods defined on the library class (and thus further requires keeping a reference to this instance).","title":"Get Context in Android library","body":"<p>I'm writing an Android app that has some functionality encapsulated in an internal library. However, for this functionality to work, the library needs an instance of the Application Context. What's the best way to give the library this Context? I see a few options, none of them appealing:</p>\n\n<ul>\n<li>Have my library classes extend <code>Application</code>, and call <code>getApplicationContext()</code> \n<ul>\n<li>This is generally discouraged</li>\n</ul></li>\n<li>Have my library classes each implement the singleton pattern, and have each caller pass in a <code>Context</code> each time they get a reference to the singleton.\n<ul>\n<li>This requires every caller to retrieve the Application Context before using the library, and also requires that the caller call against an <em>instance</em> of the library instead of against static methods defined on the library class (and thus further requires keeping a reference to this instance).</li>\n</ul></li>\n</ul>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"score":0,"creation_date":1638302789,"post_id":70175096,"comment_id":124051538,"body_markdown":"Can you provide the code itself?","body":"Can you provide the code itself?"},{"owner":{"account_id":482117,"reputation":1294,"user_id":896315,"accept_rate":65,"display_name":"Gaurav Rawat"},"score":0,"creation_date":1638304256,"post_id":70175096,"comment_id":124052081,"body_markdown":"sure @SemyonKirekov added","body":"sure @SemyonKirekov added"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1638305393,"post_id":70175096,"comment_id":124052451,"body_markdown":"The OSS support period for Spring Boot 2.1 and Spring Framework 5.1 has elapsed. You should upgrade to Spring Boot 2.5.x or 2.6.x (and Framework 5.3.x) as soon as possible.","body":"The OSS support period for Spring Boot 2.1 and Spring Framework 5.1 has elapsed. You should upgrade to Spring Boot 2.5.x or 2.6.x (and Framework 5.3.x) as soon as possible."},{"owner":{"account_id":482117,"reputation":1294,"user_id":896315,"accept_rate":65,"display_name":"Gaurav Rawat"},"score":0,"creation_date":1638320763,"post_id":70175096,"comment_id":124056196,"body_markdown":"Thanks @AndyWilkinson so there is no other alternative as that is a big jump . We will try 2.3 though","body":"Thanks @AndyWilkinson so there is no other alternative as that is a big jump . We will try 2.3 though"}],"owner":{"account_id":482117,"reputation":1294,"user_id":896315,"accept_rate":65,"display_name":"Gaurav Rawat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638304242,"creation_date":1638301085,"question_id":70175096,"body_markdown":"**Spring 5.1 java 11 getting ava.lang.IllegalArgumentException: org.springframework.aop.TargetSource referenced from a method is not visible from class loader**\r\n\r\n - Spring : 5.1.10 \r\n - Jdk : Correto 11 \r\n - Spring Boot : 2.1.9.RELEASE\r\n\r\nCode causing issue:\r\n\r\n    @Async(value = AsynchConfig.INDEXING_EVENT_EXECUTOR)\r\n       @EventListener\r\n       public void handleFeedEventLogSave(LogFeedEvent lfe)\r\n       {\r\n    \r\n          eventService.log(lfe.setAppId(appId)\r\n                .toFeedEvent()\r\n                .setLinks(linkProvider.getLinksForStep(lfe.getFileId(), lfe.getStep(), lfe.getStatus())));\r\n          LOG.debug(&quot;Event Log event triggered&quot;);\r\n       }\r\n\r\n\r\nStack trace :\r\n  \r\n\r\n    o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.foo.event.LogFeedEventProcessor.handleFeedEventLogSave(org.foo.event.LogFeedEvent)\r\n        java.lang.IllegalArgumentException: org.springframework.aop.TargetSource referenced from a method is not visible from class loader\r\n        \tat java.base/java.lang.reflect.Proxy$ProxyBuilder.ensureVisible(Proxy.java:858)\r\n        \tat java.base/java.lang.reflect.Proxy$ProxyBuilder.validateProxyInterfaces(Proxy.java:681)\r\n        \tat java.base/java.lang.reflect.Proxy$ProxyBuilder.&lt;init&gt;(Proxy.java:627)\r\n        \tat java.base/java.lang.reflect.Proxy.lambda$getProxyConstructor$1(Proxy.java:426)\r\n        \tat java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(AbstractClassLoaderValue.java:329)\r\n        \tat java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(AbstractClassLoaderValue.java:205)\r\n        \tat java.base/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:424)\r\n        \tat java.base/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1006)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.getProxy(JdkDynamicAopProxy.java:123)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.getProxy(JdkDynamicAopProxy.java:113)\r\n        \tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:97)\r\n        \tat org.springframework.hateoas.core.DummyInvocationUtils.getProxyWithInterceptor(DummyInvocationUtils.java:174)\r\n        \tat org.springframework.hateoas.core.DummyInvocationUtils.access$000(DummyInvocationUtils.java:44)\r\n        \tat org.springframework.hateoas.core.DummyInvocationUtils$InvocationRecordingMethodInterceptor.intercept(DummyInvocationUtils.java:112)\r\n        \tat org.foo.web.FlowResource$$EnhancerByCGLIB$$17824eae.flow(&lt;generated&gt;)\r\n        \tat org.foo.LinkProviderImpl.getFlowInfoLink(LinkProviderImpl.java:52)\r\n        \tat org.foo.LinkProviderImpl.getLinksForStep(LinkProviderImpl.java:60)\r\n        \tat org.foo.event.LogFeedEventProcessor.handleFeedEventLogSave(LogFeedEventProcessor.java:56)\r\n        \tat org.foo.event.LogFeedEventProcessor$$FastClassBySpringCGLIB$$c8800fbd.invoke(&lt;generated&gt;)\r\n        \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n        \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        \tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n        \tat org.springframework.cloud.sleuth.instrument.async.TraceAsyncAspect.traceBackgroundThread(TraceAsyncAspect.java:67)\r\n        \tat jdk.internal.reflect.GeneratedMethodAccessor386.invoke(Unknown Source)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n        \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n        \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        \tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n        \tat org.springframework.cloud.sleuth.instrument.async.TraceCallable.call(TraceCallable.java:70)\r\n        \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:834)","title":"Spring java 11 getting IllegalArgumentException: org.springframework.aop.TargetSource referenced from a method is not visible from class loader","body":"<p><strong>Spring 5.1 java 11 getting ava.lang.IllegalArgumentException: org.springframework.aop.TargetSource referenced from a method is not visible from class loader</strong></p>\n<ul>\n<li>Spring : 5.1.10</li>\n<li>Jdk : Correto 11</li>\n<li>Spring Boot : 2.1.9.RELEASE</li>\n</ul>\n<p>Code causing issue:</p>\n<pre><code>@Async(value = AsynchConfig.INDEXING_EVENT_EXECUTOR)\n   @EventListener\n   public void handleFeedEventLogSave(LogFeedEvent lfe)\n   {\n\n      eventService.log(lfe.setAppId(appId)\n            .toFeedEvent()\n            .setLinks(linkProvider.getLinksForStep(lfe.getFileId(), lfe.getStep(), lfe.getStatus())));\n      LOG.debug(&quot;Event Log event triggered&quot;);\n   }\n</code></pre>\n<p>Stack trace :</p>\n<pre><code>o.s.a.i.SimpleAsyncUncaughtExceptionHandler - Unexpected exception occurred invoking async method: public void org.foo.event.LogFeedEventProcessor.handleFeedEventLogSave(org.foo.event.LogFeedEvent)\n    java.lang.IllegalArgumentException: org.springframework.aop.TargetSource referenced from a method is not visible from class loader\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.ensureVisible(Proxy.java:858)\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.validateProxyInterfaces(Proxy.java:681)\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.&lt;init&gt;(Proxy.java:627)\n        at java.base/java.lang.reflect.Proxy.lambda$getProxyConstructor$1(Proxy.java:426)\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(AbstractClassLoaderValue.java:329)\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(AbstractClassLoaderValue.java:205)\n        at java.base/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:424)\n        at java.base/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1006)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.getProxy(JdkDynamicAopProxy.java:123)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.getProxy(JdkDynamicAopProxy.java:113)\n        at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:97)\n        at org.springframework.hateoas.core.DummyInvocationUtils.getProxyWithInterceptor(DummyInvocationUtils.java:174)\n        at org.springframework.hateoas.core.DummyInvocationUtils.access$000(DummyInvocationUtils.java:44)\n        at org.springframework.hateoas.core.DummyInvocationUtils$InvocationRecordingMethodInterceptor.intercept(DummyInvocationUtils.java:112)\n        at org.foo.web.FlowResource$$EnhancerByCGLIB$$17824eae.flow(&lt;generated&gt;)\n        at org.foo.LinkProviderImpl.getFlowInfoLink(LinkProviderImpl.java:52)\n        at org.foo.LinkProviderImpl.getLinksForStep(LinkProviderImpl.java:60)\n        at org.foo.event.LogFeedEventProcessor.handleFeedEventLogSave(LogFeedEventProcessor.java:56)\n        at org.foo.event.LogFeedEventProcessor$$FastClassBySpringCGLIB$$c8800fbd.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n        at org.springframework.cloud.sleuth.instrument.async.TraceAsyncAspect.traceBackgroundThread(TraceAsyncAspect.java:67)\n        at jdk.internal.reflect.GeneratedMethodAccessor386.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n        at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n        at org.springframework.cloud.sleuth.instrument.async.TraceCallable.call(TraceCallable.java:70)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","executable-jar"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1638300485,"post_id":70174923,"comment_id":124050649,"body_markdown":"The `Main-Class` should be just `Something`, not `Something.class`. It&#39;s the name of the class, not the name of the file containing the class.","body":"The <code>Main-Class</code> should be just <code>Something</code>, not <code>Something.class</code>. It&#39;s the name of the class, not the name of the file containing the class."},{"owner":{"account_id":23298828,"reputation":41,"user_id":17379819,"display_name":"codejunkie"},"score":0,"creation_date":1638300767,"post_id":70174923,"comment_id":124050763,"body_markdown":"I tried that, but it doesn&#39;t work.","body":"I tried that, but it doesn&#39;t work."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1638301043,"post_id":70174923,"comment_id":124050882,"body_markdown":"&quot;it doesn&#39;t work&quot; isn&#39;t a terribly helpful description of what happens. It doesn&#39;t help that we don&#39;t know what `Something` looks like, either... is it in a package? Please provide a [mcve].","body":"&quot;it doesn&#39;t work&quot; isn&#39;t a terribly helpful description of what happens. It doesn&#39;t help that we don&#39;t know what <code>Something</code> looks like, either... is it in a package? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1638301230,"post_id":70174923,"comment_id":124050941,"body_markdown":"**(1)** `src\\ ` looks like a package `src`. Compile inside src. **(2)** `src\\*.class` looks like no package statement in the java sources. **(3)** `META-INF/MANIFEST.MF` must have a `Main-Class: Something`; can be done automatically by a maven jar plugin.","body":"<b>(1)</b> <code>src\\ </code> looks like a package <code>src</code>. Compile inside src. <b>(2)</b> <code>src\\*.class</code> looks like no package statement in the java sources. <b>(3)</b> <code>META-INF&#47;MANIFEST.MF</code> must have a <code>Main-Class: Something</code>; can be done automatically by a maven jar plugin."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1638302628,"post_id":70174923,"comment_id":124051477,"body_markdown":"check the content of JAR file (`jar -tf Something.jar`)  it must have `Something.class` in root *folder* and `MANIFEST.MF` in `META-INF`. The manifest file must have an entry `Main-Class: Something` (without  src nor .class)  - assuming there is no `package` statement in `Something.java`","body":"check the content of JAR file (<code>jar -tf Something.jar</code>)  it must have <code>Something.class</code> in root <i>folder</i> and <code>MANIFEST.MF</code> in <code>META-INF</code>. The manifest file must have an entry <code>Main-Class: Something</code> (without  src nor .class)  - assuming there is no <code>package</code> statement in <code>Something.java</code>"},{"owner":{"account_id":23298828,"reputation":41,"user_id":17379819,"display_name":"codejunkie"},"score":0,"creation_date":1638302670,"post_id":70174923,"comment_id":124051506,"body_markdown":"src\\ isn&#39;t a package, its a folder within a project along with dist\\, lib\\, and build\\.  I&#39;m not using maven since I don&#39;t have permissions on this machine to add it.  Nor do I have permissions to use ant either.  I&#39;m having to work with just the bare bones.  javac and notepad.  Also it doesn&#39;t work aka: Error: Could not find or load main class src\\Something\nCaused by: java.lang.ClassNotFoundException: src\\Something.  Same as before.","body":"src\\ isn&#39;t a package, its a folder within a project along with dist\\, lib\\, and build\\.  I&#39;m not using maven since I don&#39;t have permissions on this machine to add it.  Nor do I have permissions to use ant either.  I&#39;m having to work with just the bare bones.  javac and notepad.  Also it doesn&#39;t work aka: Error: Could not find or load main class src\\Something Caused by: java.lang.ClassNotFoundException: src\\Something.  Same as before."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1638302965,"post_id":70174923,"comment_id":124051613,"body_markdown":"`cd src`; `javac *.java`; `jar -cef Something Something.jar *.class` ((if you use something like `jar -cef x x.jar src\\*.class` the .class files are added in folder `src`, which is then used as a package {actually Java will only search classes with `package src;` inside the src folder; classes without it, in the root folder of the JAR}))","body":"<code>cd src</code>; <code>javac *.java</code>; <code>jar -cef Something Something.jar *.class</code> ((if you use something like <code>jar -cef x x.jar src\\*.class</code> the .class files are added in folder <code>src</code>, which is then used as a package {actually Java will only search classes with <code>package src;</code> inside the src folder; classes without it, in the root folder of the JAR}))"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638303213,"post_id":70174923,"comment_id":124051699,"body_markdown":"Just so I understand, your computer came with Java, or you have installed it yourself? But you don&#39;t have permissions to download an IDE such as Eclipse or IntelliJ which would _include_ Maven? Other that this, `IDiffPresenter` and `DiffPresenter` interfaces/classes ought to be shown (or removed) as part of a [mcve]","body":"Just so I understand, your computer came with Java, or you have installed it yourself? But you don&#39;t have permissions to download an IDE such as Eclipse or IntelliJ which would <i>include</i> Maven? Other that this, <code>IDiffPresenter</code> and <code>DiffPresenter</code> interfaces/classes ought to be shown (or removed) as part of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":23298828,"reputation":41,"user_id":17379819,"display_name":"codejunkie"},"score":0,"creation_date":1638303579,"post_id":70174923,"comment_id":124051826,"body_markdown":"No, my computer came as a locked down to the nth degree PC from draconian company with certain governmental ties.  It didn&#39;t have a compiler.  They found out I could program, but I wasn&#39;t given the tools to do it.  I had to beg just to get the javac compiler.  I don&#39;t have an IDE, or revision control, or anything like that.  Besides, it turned out to be a pathing issue, cause among other things, classpath is constantly nuked.","body":"No, my computer came as a locked down to the nth degree PC from draconian company with certain governmental ties.  It didn&#39;t have a compiler.  They found out I could program, but I wasn&#39;t given the tools to do it.  I had to beg just to get the javac compiler.  I don&#39;t have an IDE, or revision control, or anything like that.  Besides, it turned out to be a pathing issue, cause among other things, classpath is constantly nuked."}],"answers":[{"tags":[],"owner":{"account_id":23298828,"reputation":41,"user_id":17379819,"display_name":"codejunkie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638303703,"creation_date":1638303589,"answer_id":70175562,"question_id":70174923,"body_markdown":"The answer was initially overlooked.  \r\n\r\n`cd src` was the key ingredient.\r\n\r\n    javac Something.java\r\n    jar -cvef Something Something.jar  *.class\r\n    java -jar Something.jar\r\n\r\nThanks to user16320675 for the answer.  All I could do was upvote your comment. ","title":"Java jar file load error Error: Could not find or load main class Something.class Caused by: java.lang.ClassNotFoundException: Something.class","body":"<p>The answer was initially overlooked.</p>\n<p><code>cd src</code> was the key ingredient.</p>\n<pre><code>javac Something.java\njar -cvef Something Something.jar  *.class\njava -jar Something.jar\n</code></pre>\n<p>Thanks to user16320675 for the answer.  All I could do was upvote your comment.</p>\n"}],"owner":{"account_id":23298828,"reputation":41,"user_id":17379819,"display_name":"codejunkie"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70175562,"answer_count":1,"score":0,"last_activity_date":1638303703,"creation_date":1638300130,"question_id":70174923,"body_markdown":"The Main class runs when it is not in a jar file.  It is not part of any package.  When I try to make a jar file to encapsulate it and all libraries that support the file using:\r\n\r\n    jar -cvf Something.jar src\\*.class \r\n\r\nand then try to run it using:\r\n\r\n    java -jar Something.jar\r\n\r\nI get the following, even though the verbose messages show &#39;added manifest&#39;.\r\n\r\n    no main manifest attribute, in Something.jar.\r\n\r\nIf I look at the manifest it created I get:  \r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: 13.0.1 (AdoptOpenJDK) \r\n\r\nbut no Main-Class: Something.class statement.\r\n\r\nIf I add the entry point for the jar file:\r\n\r\n    jar -cvef src\\Something.class Something.jar src\\*.class\r\n \r\nI get the following error:\r\n\r\n    Error: Could not find or load main class src\\Something.class\r\n    Caused by: java.lang.ClassNotFoundException: src\\Something.class\r\n\r\nI get the same result using:\r\n\r\n    jar -cvef Something.class Something.jar src\\*.class\r\n\r\nI see the entry point has been added because expansion of the jar file shows the following in the MANIFEST.MF\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: 13.0.1 (AdoptOpenJDK)\r\n    Main-Class: Something.class\r\n\r\nThe following is the start class for the whole project.\r\n\r\n    public class Something {\r\n\t\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t    IDiffPresenter presenter = new DiffPresenter();\r\n\t    }\r\n    }\r\n    \r\nHow can I fix this?\r\n","title":"Java jar file load error Error: Could not find or load main class Something.class Caused by: java.lang.ClassNotFoundException: Something.class","body":"<p>The Main class runs when it is not in a jar file.  It is not part of any package.  When I try to make a jar file to encapsulate it and all libraries that support the file using:</p>\n<pre><code>jar -cvf Something.jar src\\*.class \n</code></pre>\n<p>and then try to run it using:</p>\n<pre><code>java -jar Something.jar\n</code></pre>\n<p>I get the following, even though the verbose messages show 'added manifest'.</p>\n<pre><code>no main manifest attribute, in Something.jar.\n</code></pre>\n<p>If I look at the manifest it created I get:</p>\n<pre><code>Manifest-Version: 1.0\nCreated-By: 13.0.1 (AdoptOpenJDK) \n</code></pre>\n<p>but no Main-Class: Something.class statement.</p>\n<p>If I add the entry point for the jar file:</p>\n<pre><code>jar -cvef src\\Something.class Something.jar src\\*.class\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>Error: Could not find or load main class src\\Something.class\nCaused by: java.lang.ClassNotFoundException: src\\Something.class\n</code></pre>\n<p>I get the same result using:</p>\n<pre><code>jar -cvef Something.class Something.jar src\\*.class\n</code></pre>\n<p>I see the entry point has been added because expansion of the jar file shows the following in the MANIFEST.MF</p>\n<pre><code>Manifest-Version: 1.0\nCreated-By: 13.0.1 (AdoptOpenJDK)\nMain-Class: Something.class\n</code></pre>\n<p>The following is the start class for the whole project.</p>\n<pre><code>public class Something {\n\n\n    public static void main(String[] args) {\n        IDiffPresenter presenter = new DiffPresenter();\n    }\n}\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":109542,"reputation":13014,"user_id":290187,"accept_rate":67,"display_name":"T McKeown"},"score":0,"creation_date":1638301927,"post_id":70175202,"comment_id":124051200,"body_markdown":"Does this answer your question? [How to get innertext of a DIV using javascript?](https://stackoverflow.com/questions/15903993/how-to-get-innertext-of-a-div-using-javascript)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15903993/how-to-get-innertext-of-a-div-using-javascript\">How to get innertext of a DIV using javascript?</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1638304286,"post_id":70175202,"comment_id":124052091,"body_markdown":"The problem is that you&#39;ve tagged this question as Java but you are using C#. That&#39;s why `.getText()` doesn&#39;t exist. You need `driver.FindElement(...).Text;`.","body":"The problem is that you&#39;ve tagged this question as Java but you are using C#. That&#39;s why <code>.getText()</code> doesn&#39;t exist. You need <code>driver.FindElement(...).Text;</code>."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1638304346,"post_id":70175202,"comment_id":124052115,"body_markdown":"Does this answer your question? [C# Selenium WebDriver get text from label](https://stackoverflow.com/questions/36580442/c-sharp-selenium-webdriver-get-text-from-label)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36580442/c-sharp-selenium-webdriver-get-text-from-label\">C# Selenium WebDriver get text from label</a>"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638302492,"creation_date":1638302129,"answer_id":70175284,"question_id":70175202,"body_markdown":"To print the text _**Die Datei...**_ you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- Using _cssSelector_ and `getAttribute(&quot;innerHTML&quot;)`:\r\n\r\n\t  System.out.println(wd.findElement(By.cssSelector(&quot;div.mud-alert-message&quot;)).getAttribute(&quot;innerHTML&quot;));\r\n\r\n- Using _xpath_ and `getText()`:\r\n\r\n\t  System.out.println(wd.findElement(By.xpath(&quot;//div[@class=&#39;mud-alert-message&#39;]&quot;)).getText());\r\n\r\nIdeally, to extract the text you have to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `visibilityOfElementLocated()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- Using _cssSelector_ and `getText()`:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div.mud-alert-message&quot;))).getText());\r\n           \t\r\n- Using _xpath_ and `getAttribute(&quot;innerHTML&quot;)`:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@class=&#39;mud-alert-message&#39;]&quot;))).getAttribute(&quot;innerHTML&quot;));","title":"Selenium: How to get text out of a div","body":"<p>To print the text <em><strong>Die Datei...</strong></em> you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em> and <code>getAttribute(&quot;innerHTML&quot;)</code>:</p>\n<pre><code>System.out.println(wd.findElement(By.cssSelector(&quot;div.mud-alert-message&quot;)).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>getText()</code>:</p>\n<pre><code>System.out.println(wd.findElement(By.xpath(&quot;//div[@class='mud-alert-message']&quot;)).getText());\n</code></pre>\n</li>\n</ul>\n<p>Ideally, to extract the text you have to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>visibilityOfElementLocated()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em> and <code>getText()</code>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div.mud-alert-message&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>getAttribute(&quot;innerHTML&quot;)</code>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@class='mud-alert-message']&quot;))).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638302612,"creation_date":1638302356,"answer_id":70175325,"question_id":70175202,"body_markdown":"I believe is something like this:\r\n\r\n    WebElement element = new WebDriverWait(driver, ...).until(ExpectedConditions.elementToBeXXX(By.LOCATOR_TYPE));\r\n    String text = element.getText();","title":"Selenium: How to get text out of a div","body":"<p>I believe is something like this:</p>\n<pre><code>WebElement element = new WebDriverWait(driver, ...).until(ExpectedConditions.elementToBeXXX(By.LOCATOR_TYPE));\nString text = element.getText();\n</code></pre>\n"}],"owner":{"account_id":22255349,"reputation":162,"user_id":16487598,"display_name":"Beardy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3575,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70175284,"answer_count":2,"score":-1,"last_activity_date":1638302612,"creation_date":1638301686,"question_id":70175202,"body_markdown":"I want to get a text which is inside a div. I tried to find help from other questions, but most of them say `.getText()` which doesnt exist anymore.\r\n\r\nThis is the inspect:\r\n[![enter image description here][1]][1]\r\n\r\nIm using a chrome extension with which i can copy out the XPath, but it doesnt reads the text inside the div. It copies me this here:\r\n\r\n    //div[@class=&#39;mud-alert-message&#39;]\r\n\r\n \r\n  [1]: https://i.stack.imgur.com/jYRvT.png","title":"Selenium: How to get text out of a div","body":"<p>I want to get a text which is inside a div. I tried to find help from other questions, but most of them say <code>.getText()</code> which doesnt exist anymore.</p>\n<p>This is the inspect:\n<a href=\"https://i.stack.imgur.com/jYRvT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYRvT.png\" alt=\"enter image description here\" /></a></p>\n<p>Im using a chrome extension with which i can copy out the XPath, but it doesnt reads the text inside the div. It copies me this here:</p>\n<pre><code>//div[@class='mud-alert-message']\n</code></pre>\n"},{"tags":["java","code-duplication"],"answers":[{"tags":[],"owner":{"account_id":22642960,"reputation":525,"user_id":16818745,"display_name":"user1280483"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638234117,"creation_date":1638234117,"answer_id":70163084,"question_id":70163009,"body_markdown":"For the last two, you could make a function. I&#39;m not familiar with the programming language that you&#39;re using (I don&#39;t even know which language it is- tag your question next time, please), but it would look something like this:\r\n\r\n\r\n    private Optional&lt;Player&gt; playerWithMostCards()\r\n    {\r\n        Player scoringPlayer = null;\r\n        int maxCount = 0;\r\n\r\n        for(Player p : players)\r\n        {\r\n            final int count = p.pile.size();\r\n\r\n            if(count &gt; maxCount)\r\n            {\r\n                scoringPlayer = p;\r\n                maxCount = count;\r\n            }\r\n            else if(count == maxCount)\r\n            {\r\n                scoringPlayer = null;\r\n            }\r\n        }\r\n\r\n        return Optional.of(scoringPlayer);\r\n    }\r\n\r\n    private Optional&lt;Player&gt; playerWithMost([type] cvalue) // I don&#39;t know what the type of Card.[Value/Suit].[SEVEN/SPADES] is.\r\n    {\r\n        Player scoringPlayer = null;\r\n        int maxCount = 0;\r\n\r\n        for(Player p : players)\r\n        {\r\n            int count = 0;\r\n\r\n            for(Card c : p.pile)\r\n            {\r\n                if(c.is(cvalue))\r\n                {\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            if(count &gt; maxCount)\r\n            {\r\n                scoringPlayer = p;\r\n                maxCount = count;\r\n            }\r\n            else if(count == maxCount)\r\n            {\r\n                scoringPlayer = null;\r\n            }\r\n        }\r\n\r\n        return Optional.of(scoringPlayer);\r\n    }\r\n    private Optional&lt;Player&gt; playerWithSevenOfSpades()\r\n    {\r\n        for(Player p : players)\r\n        {\r\n            for(Card c : p.pile)\r\n            {\r\n                if(c == new Card(&quot;7S&quot;))\r\n                {\r\n                    return Optional.of(p);\r\n                }\r\n            }\r\n        }\r\n\r\n        return Optional.empty();\r\n    }\r\n\r\n    private void updateScores()\r\n    {\r\n        for(Player p : players)\r\n        {\r\n            p.score = p.scopas;\r\n        }\r\n\r\n        playerWithMostCards().ifPresent(p -&gt; p.score += 1);\r\n        playerWithMost(Card.Value.SEVEN).ifPresent(p -&gt; p.score += 1);\r\n        playerWithMost(Card.Suit.SPADES).ifPresent(p -&gt; p.score += 1);\r\n        playerWithSevenOfSpades().ifPresent(p -&gt; p.score += 1);\r\n    }\r\n\r\n\r\nI&#39;m not sure how to integrate the top one into the function.","title":"How do I get rid of all this duplicate code?","body":"<p>For the last two, you could make a function. I'm not familiar with the programming language that you're using (I don't even know which language it is- tag your question next time, please), but it would look something like this:</p>\n<pre><code>private Optional&lt;Player&gt; playerWithMostCards()\n{\n    Player scoringPlayer = null;\n    int maxCount = 0;\n\n    for(Player p : players)\n    {\n        final int count = p.pile.size();\n\n        if(count &gt; maxCount)\n        {\n            scoringPlayer = p;\n            maxCount = count;\n        }\n        else if(count == maxCount)\n        {\n            scoringPlayer = null;\n        }\n    }\n\n    return Optional.of(scoringPlayer);\n}\n\nprivate Optional&lt;Player&gt; playerWithMost([type] cvalue) // I don't know what the type of Card.[Value/Suit].[SEVEN/SPADES] is.\n{\n    Player scoringPlayer = null;\n    int maxCount = 0;\n\n    for(Player p : players)\n    {\n        int count = 0;\n\n        for(Card c : p.pile)\n        {\n            if(c.is(cvalue))\n            {\n                count++;\n            }\n        }\n\n        if(count &gt; maxCount)\n        {\n            scoringPlayer = p;\n            maxCount = count;\n        }\n        else if(count == maxCount)\n        {\n            scoringPlayer = null;\n        }\n    }\n\n    return Optional.of(scoringPlayer);\n}\nprivate Optional&lt;Player&gt; playerWithSevenOfSpades()\n{\n    for(Player p : players)\n    {\n        for(Card c : p.pile)\n        {\n            if(c == new Card(&quot;7S&quot;))\n            {\n                return Optional.of(p);\n            }\n        }\n    }\n\n    return Optional.empty();\n}\n\nprivate void updateScores()\n{\n    for(Player p : players)\n    {\n        p.score = p.scopas;\n    }\n\n    playerWithMostCards().ifPresent(p -&gt; p.score += 1);\n    playerWithMost(Card.Value.SEVEN).ifPresent(p -&gt; p.score += 1);\n    playerWithMost(Card.Suit.SPADES).ifPresent(p -&gt; p.score += 1);\n    playerWithSevenOfSpades().ifPresent(p -&gt; p.score += 1);\n}\n</code></pre>\n<p>I'm not sure how to integrate the top one into the function.</p>\n"},{"tags":[],"owner":{"account_id":6734135,"reputation":3992,"user_id":5189472,"display_name":"Bergur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638234523,"creation_date":1638234523,"answer_id":70163128,"question_id":70163009,"body_markdown":"Another solution is just to make one function to calculate the scores. You&#39;re looping trough the player list 4 times and you&#39;re looping through the cards 3 times. You only need one loop for the players and one loop for the cards to check everything.\r\n\r\nSomething like this:\r\n\r\n\r\n    private void updateScores()\r\n        {\r\n            Player playerWithMostCards = null;\r\n            Player playerWithMostSevens = null;\r\n            Player playerWithMostSpades = null;\r\n            int mostCards = 0;\r\n            int mostSevens = 0;\r\n            int mostSpades = 0;\r\n    \r\n            for(Player p : players)\r\n            {\r\n                // Most cards\r\n                final int playerPileSize = p.pile.size();            \r\n    \r\n                if(playerPileSize &gt; mostCards)\r\n                {\r\n                  playerWithMostCards = p;\r\n                  mostCards = playerPileSize;\r\n                }\r\n                else if(playerPileSize == mostCards)\r\n                {\r\n                  playerWithMostCards = null;\r\n                }\r\n    \r\n                // NumberOfSevens and Spades\r\n                int numberOfSevens = 0\r\n                int numberOfSpades = 0\r\n    \r\n                for(Card c : p.pile)\r\n                {\r\n                    if(c.is(Card.Value.SEVEN))\r\n                    {\r\n                      numberOfSevens++;\r\n                    }\r\n    \r\n                    if(c.is(Card.Suit.SPADES))\r\n                    {\r\n                        numberOfSpades++;\r\n                    }\r\n                }\r\n    \r\n                if (numberOfSevens &gt; maxSevens) {\r\n                  playerWithMostSevens = p\r\n                  mostSevens = numberOfSevens              \r\n                } else if (numberOfSevens == maxSevens) {\r\n                  playerWithMostSevens = null\r\n                }\r\n    \r\n                 if (numberOfSpades &gt; maxSpades) {\r\n                  playerWithMostSpades = p\r\n                  mostSevens = numberOfSpades              \r\n                } else if (numberOfSpades == maxSpades) {\r\n                  playerWithMostSpades = null\r\n                }\r\n            }\r\n    \r\n            playerWithMostCards.score += 1;\r\n            playerWithMostSevens.score += 1;\r\n            playerWithMostSpades.score += 1;      \r\n    \r\n        }\r\n\r\nI haven&#39;t tested this, but this shows the rough idea. You can practice by adding the last function.","title":"How do I get rid of all this duplicate code?","body":"<p>Another solution is just to make one function to calculate the scores. You're looping trough the player list 4 times and you're looping through the cards 3 times. You only need one loop for the players and one loop for the cards to check everything.</p>\n<p>Something like this:</p>\n<pre><code>private void updateScores()\n    {\n        Player playerWithMostCards = null;\n        Player playerWithMostSevens = null;\n        Player playerWithMostSpades = null;\n        int mostCards = 0;\n        int mostSevens = 0;\n        int mostSpades = 0;\n\n        for(Player p : players)\n        {\n            // Most cards\n            final int playerPileSize = p.pile.size();            \n\n            if(playerPileSize &gt; mostCards)\n            {\n              playerWithMostCards = p;\n              mostCards = playerPileSize;\n            }\n            else if(playerPileSize == mostCards)\n            {\n              playerWithMostCards = null;\n            }\n\n            // NumberOfSevens and Spades\n            int numberOfSevens = 0\n            int numberOfSpades = 0\n\n            for(Card c : p.pile)\n            {\n                if(c.is(Card.Value.SEVEN))\n                {\n                  numberOfSevens++;\n                }\n\n                if(c.is(Card.Suit.SPADES))\n                {\n                    numberOfSpades++;\n                }\n            }\n\n            if (numberOfSevens &gt; maxSevens) {\n              playerWithMostSevens = p\n              mostSevens = numberOfSevens              \n            } else if (numberOfSevens == maxSevens) {\n              playerWithMostSevens = null\n            }\n\n             if (numberOfSpades &gt; maxSpades) {\n              playerWithMostSpades = p\n              mostSevens = numberOfSpades              \n            } else if (numberOfSpades == maxSpades) {\n              playerWithMostSpades = null\n            }\n        }\n\n        playerWithMostCards.score += 1;\n        playerWithMostSevens.score += 1;\n        playerWithMostSpades.score += 1;      \n\n    }\n</code></pre>\n<p>I haven't tested this, but this shows the rough idea. You can practice by adding the last function.</p>\n"},{"tags":[],"owner":{"account_id":22449690,"reputation":31,"user_id":16653189,"display_name":"Picarrow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638301977,"creation_date":1638301101,"answer_id":70175103,"question_id":70163009,"body_markdown":"I don&#39;t like the name of the method I came up with, but here is what I arrived at after some time. It heavily reduces the amount of code that I had and has just as much flexibility, if not more. Let me know if you can think of a better name for &quot;playerBestMatching&quot;, and I can edit this.\r\n\r\nEdit: &quot;playerBestMatching&quot; is now &quot;playerWithMostCardsMatching&quot;\r\n\r\n```\r\n    private Optional&lt;Player&gt; playerWithMostCardsMatching(\r\n        final Predicate&lt;Card&gt; predicate)\r\n    {\r\n        Player scoringPlayer = null;\r\n        int maxCount = 0;\r\n\r\n        for(Player p : players)\r\n        {\r\n            final int count = (int)p.pile.stream()\r\n                                         .filter(predicate)\r\n                                         .count();\r\n\r\n            if(count &gt; maxCount)\r\n            {\r\n                scoringPlayer = p;\r\n                maxCount = count;\r\n            }\r\n            else if(count == maxCount)\r\n            {\r\n                scoringPlayer = null;\r\n            }\r\n        }\r\n\r\n        return Optional.ofNullable(scoringPlayer);\r\n    }\r\n\r\n    private void updateScores()\r\n    {\r\n        for(Player p : players)\r\n        {\r\n            p.score = p.scopas;\r\n        }\r\n\r\n        playerWithMostCardsMatching(c -&gt; true).ifPresent(p -&gt; p.score += 1);\r\n        playerWithMostCardsMatching(c -&gt; c.is(Card.Value.SEVEN)).ifPresent(p -&gt; p.score += 1);\r\n        playerWithMostCardsMatching(c -&gt; c.is(Card.Suit.SPADES)).ifPresent(p -&gt; p.score += 1);\r\n        playerWithMostCardsMatching(c -&gt; c == new Card(&quot;7S&quot;)).ifPresent(p -&gt; p.score += 1);\r\n    }\r\n```","title":"How do I get rid of all this duplicate code?","body":"<p>I don't like the name of the method I came up with, but here is what I arrived at after some time. It heavily reduces the amount of code that I had and has just as much flexibility, if not more. Let me know if you can think of a better name for &quot;playerBestMatching&quot;, and I can edit this.</p>\n<p>Edit: &quot;playerBestMatching&quot; is now &quot;playerWithMostCardsMatching&quot;</p>\n<pre><code>    private Optional&lt;Player&gt; playerWithMostCardsMatching(\n        final Predicate&lt;Card&gt; predicate)\n    {\n        Player scoringPlayer = null;\n        int maxCount = 0;\n\n        for(Player p : players)\n        {\n            final int count = (int)p.pile.stream()\n                                         .filter(predicate)\n                                         .count();\n\n            if(count &gt; maxCount)\n            {\n                scoringPlayer = p;\n                maxCount = count;\n            }\n            else if(count == maxCount)\n            {\n                scoringPlayer = null;\n            }\n        }\n\n        return Optional.ofNullable(scoringPlayer);\n    }\n\n    private void updateScores()\n    {\n        for(Player p : players)\n        {\n            p.score = p.scopas;\n        }\n\n        playerWithMostCardsMatching(c -&gt; true).ifPresent(p -&gt; p.score += 1);\n        playerWithMostCardsMatching(c -&gt; c.is(Card.Value.SEVEN)).ifPresent(p -&gt; p.score += 1);\n        playerWithMostCardsMatching(c -&gt; c.is(Card.Suit.SPADES)).ifPresent(p -&gt; p.score += 1);\n        playerWithMostCardsMatching(c -&gt; c == new Card(&quot;7S&quot;)).ifPresent(p -&gt; p.score += 1);\n    }\n</code></pre>\n"}],"owner":{"account_id":22449690,"reputation":31,"user_id":16653189,"display_name":"Picarrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70175103,"answer_count":3,"score":0,"last_activity_date":1638301977,"creation_date":1638233352,"question_id":70163009,"body_markdown":"```\r\n    private Optional&lt;Player&gt; playerWithMostCards()\r\n    {\r\n        Player scoringPlayer = null;\r\n        int maxCount = 0;\r\n\r\n        for(Player p : players)\r\n        {\r\n            final int count = p.pile.size();\r\n\r\n            if(count &gt; maxCount)\r\n            {\r\n                scoringPlayer = p;\r\n                maxCount = count;\r\n            }\r\n            else if(count == maxCount)\r\n            {\r\n                scoringPlayer = null;\r\n            }\r\n        }\r\n\r\n        return Optional.ofNullable(scoringPlayer);\r\n    }\r\n\r\n    private Optional&lt;Player&gt; playerWithMostSevens()\r\n    {\r\n        Player scoringPlayer = null;\r\n        int maxCount = 0;\r\n\r\n        for(Player p : players)\r\n        {\r\n            int count = 0;\r\n\r\n            for(Card c : p.pile)\r\n            {\r\n                if(c.is(Card.Value.SEVEN))\r\n                {\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            if(count &gt; maxCount)\r\n            {\r\n                scoringPlayer = p;\r\n                maxCount = count;\r\n            }\r\n            else if(count == maxCount)\r\n            {\r\n                scoringPlayer = null;\r\n            }\r\n        }\r\n\r\n        return Optional.ofNullable(scoringPlayer);\r\n    }\r\n\r\n    private Optional&lt;Player&gt; playerWithMostSpades()\r\n    {\r\n        Player scoringPlayer = null;\r\n        int maxCount = 0;\r\n\r\n        for(Player p : players)\r\n        {\r\n            int count = 0;\r\n\r\n            for(Card c : p.pile)\r\n            {\r\n                if(c.is(Card.Suit.SPADES))\r\n                {\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            if(count &gt; maxCount)\r\n            {\r\n                scoringPlayer = p;\r\n                maxCount = count;\r\n            }\r\n            else if(count == maxCount)\r\n            {\r\n                scoringPlayer = null;\r\n            }\r\n        }\r\n\r\n        return Optional.ofNullable(scoringPlayer);\r\n    }\r\n    \r\n    private Optional&lt;Player&gt; playerWithSevenOfSpades()\r\n    {\r\n        for(Player p : players)\r\n        {\r\n            for(Card c : p.pile)\r\n            {\r\n                if(c == new Card(&quot;7S&quot;))\r\n                {\r\n                    return Optional.of(p);\r\n                }\r\n            }\r\n        }\r\n\r\n        return Optional.empty();\r\n    }\r\n\r\n    private void updateScores()\r\n    {\r\n        for(Player p : players)\r\n        {\r\n            p.score = p.scopas;\r\n        }\r\n\r\n        playerWithMostCards().ifPresent(p -&gt; p.score += 1);\r\n        playerWithMostSevens().ifPresent(p -&gt; p.score += 1);\r\n        playerWithMostSpades().ifPresent(p -&gt; p.score += 1);\r\n        playerWithSevenOfSpades().ifPresent(p -&gt; p.score += 1);\r\n    }\r\n```\r\n\r\nBasically, I&#39;m making a card game (called Scopa), and when updateScores() is called, the scores of every player should be updated. Players can earn a point by having the most cards, having the most sevens, or having the seven of spades. The logic for determining who has the most cards, sevens, and spades is very similar. How can I avoid repeating the logic across these three methods? Thank you.","title":"How do I get rid of all this duplicate code?","body":"<pre><code>    private Optional&lt;Player&gt; playerWithMostCards()\n    {\n        Player scoringPlayer = null;\n        int maxCount = 0;\n\n        for(Player p : players)\n        {\n            final int count = p.pile.size();\n\n            if(count &gt; maxCount)\n            {\n                scoringPlayer = p;\n                maxCount = count;\n            }\n            else if(count == maxCount)\n            {\n                scoringPlayer = null;\n            }\n        }\n\n        return Optional.ofNullable(scoringPlayer);\n    }\n\n    private Optional&lt;Player&gt; playerWithMostSevens()\n    {\n        Player scoringPlayer = null;\n        int maxCount = 0;\n\n        for(Player p : players)\n        {\n            int count = 0;\n\n            for(Card c : p.pile)\n            {\n                if(c.is(Card.Value.SEVEN))\n                {\n                    count++;\n                }\n            }\n\n            if(count &gt; maxCount)\n            {\n                scoringPlayer = p;\n                maxCount = count;\n            }\n            else if(count == maxCount)\n            {\n                scoringPlayer = null;\n            }\n        }\n\n        return Optional.ofNullable(scoringPlayer);\n    }\n\n    private Optional&lt;Player&gt; playerWithMostSpades()\n    {\n        Player scoringPlayer = null;\n        int maxCount = 0;\n\n        for(Player p : players)\n        {\n            int count = 0;\n\n            for(Card c : p.pile)\n            {\n                if(c.is(Card.Suit.SPADES))\n                {\n                    count++;\n                }\n            }\n\n            if(count &gt; maxCount)\n            {\n                scoringPlayer = p;\n                maxCount = count;\n            }\n            else if(count == maxCount)\n            {\n                scoringPlayer = null;\n            }\n        }\n\n        return Optional.ofNullable(scoringPlayer);\n    }\n    \n    private Optional&lt;Player&gt; playerWithSevenOfSpades()\n    {\n        for(Player p : players)\n        {\n            for(Card c : p.pile)\n            {\n                if(c == new Card(&quot;7S&quot;))\n                {\n                    return Optional.of(p);\n                }\n            }\n        }\n\n        return Optional.empty();\n    }\n\n    private void updateScores()\n    {\n        for(Player p : players)\n        {\n            p.score = p.scopas;\n        }\n\n        playerWithMostCards().ifPresent(p -&gt; p.score += 1);\n        playerWithMostSevens().ifPresent(p -&gt; p.score += 1);\n        playerWithMostSpades().ifPresent(p -&gt; p.score += 1);\n        playerWithSevenOfSpades().ifPresent(p -&gt; p.score += 1);\n    }\n</code></pre>\n<p>Basically, I'm making a card game (called Scopa), and when updateScores() is called, the scores of every player should be updated. Players can earn a point by having the most cards, having the most sevens, or having the seven of spades. The logic for determining who has the most cards, sevens, and spades is very similar. How can I avoid repeating the logic across these three methods? Thank you.</p>\n"},{"tags":["java","spring","google-cloud-firestore","spring-data-jpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638798236,"post_id":70175247,"comment_id":124176231,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":3227183,"reputation":51,"user_id":2723259,"display_name":"Thiagocfn"},"score":0,"creation_date":1666895496,"post_id":70175247,"comment_id":131049395,"body_markdown":"I have the same problem, because firestore instance is the same for entire project","body":"I have the same problem, because firestore instance is the same for entire project"}],"owner":{"account_id":557328,"reputation":11,"user_id":8312361,"display_name":"Andrei Bryk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638301927,"creation_date":1638301927,"question_id":70175247,"body_markdown":"I&#39;m using Spring Data Cloud Firestore. And i want to map object to collection using @Document annotation\r\n```\r\n@Document(collectionName = &quot;usersCollection&quot;)\r\npublic class User {\r\n}\r\n```\r\nBut i need to have different collection name depends on environment(We are using one gcp project for dev, stage and prod environments and I need to have &quot;usersCollectionDev&quot;, &quot;usersCollectionStage&quot; and &quot;usersCollectionProd&quot; collections for example).\r\n\r\nIs it possible to do?","title":"How to set collection name attribute for org.springframework.cloud.gcp.data.firestore.Document annotation value using env variable or property value?","body":"<p>I'm using Spring Data Cloud Firestore. And i want to map object to collection using @Document annotation</p>\n<pre><code>@Document(collectionName = &quot;usersCollection&quot;)\npublic class User {\n}\n</code></pre>\n<p>But i need to have different collection name depends on environment(We are using one gcp project for dev, stage and prod environments and I need to have &quot;usersCollectionDev&quot;, &quot;usersCollectionStage&quot; and &quot;usersCollectionProd&quot; collections for example).</p>\n<p>Is it possible to do?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":474578,"reputation":1979,"user_id":884340,"accept_rate":75,"display_name":"Philippe"},"score":0,"creation_date":1414147645,"post_id":26546387,"comment_id":41715724,"body_markdown":"You could copy the bytes you are interested in to two new arrays and compare those.","body":"You could copy the bytes you are interested in to two new arrays and compare those."}],"answers":[{"tags":[],"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414147812,"creation_date":1414147812,"answer_id":26546479,"question_id":26546387,"body_markdown":"You could copy the first n elements of each array into new arrays, and use Arrays.equals() on those.\r\n\r\n    byte[] a = {1, 2, 3, 4};\r\n    byte[] b = {1, 2, 3, 4, 5, 6};\r\n    byte[] aCopy = new byte[3];\r\n    System.arraycopy(a, 0, aCopy, 0, aCopy.length);\r\n    byte[] bCopy = new byte[3];\r\n    System.arraycopy(b, 0, bCopy, 0, bCopy.length);\r\n    boolean equal = Arrays.equals(aCopy, bCopy);\r\n\r\nVerbose, but it&#39;ll do what you want.  Alternatively, just loop from 0..n\r\n\r\n    boolean equal = true;\r\n    for (int i = 0; equal &amp;&amp; i &lt; 3; i++) {\r\n        equal = a[i] == b[i];\r\n    }\r\n","title":"How to compare the first n bytes of two java arrays?","body":"<p>You could copy the first n elements of each array into new arrays, and use Arrays.equals() on those.</p>\n\n<pre><code>byte[] a = {1, 2, 3, 4};\nbyte[] b = {1, 2, 3, 4, 5, 6};\nbyte[] aCopy = new byte[3];\nSystem.arraycopy(a, 0, aCopy, 0, aCopy.length);\nbyte[] bCopy = new byte[3];\nSystem.arraycopy(b, 0, bCopy, 0, bCopy.length);\nboolean equal = Arrays.equals(aCopy, bCopy);\n</code></pre>\n\n<p>Verbose, but it'll do what you want.  Alternatively, just loop from 0..n</p>\n\n<pre><code>boolean equal = true;\nfor (int i = 0; equal &amp;&amp; i &lt; 3; i++) {\n    equal = a[i] == b[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1525941978,"creation_date":1414147955,"answer_id":26546512,"question_id":26546387,"body_markdown":"Why would you not want to write your own loop by hand? You could just just [Arrays][1] to copy out a [subset][2] then use it again to [compare][3]:-\r\n\r\n\r\n    byte[] a1 = Arrays.copyOfRange(array1, 0, n);\r\n    byte[] a2 = Arrays.copyOfRange(array2, 0, n);\r\n    boolean equal = Arrays.equals(a1, a2);\r\n\r\nIf efficiency is a concern then [System.arraycopy][4] is a faster but more verbose way of copying arrays.\r\n\r\n\r\nIf efficiency is really a concern and verbosity isn&#39;t then the loop is probably the best way.\r\n\r\n     boolean matched = true;\r\n     for (int i=0; i&lt;n; i++){\r\n       if (array1[i] != array2[i]) {\r\n         matched = false;\r\n         break;\r\n       }\r\n     }\r\n\r\nThis is because you can stop searching as soon as you see an unmatched byte.  If the first byte doesn&#39;t match and we are comparing 100 bytes, in the first solution, in the background we are copying 2 lots of 100 bytes, creating two arrays of 100 bytes then comparing 100 sets of bytes, although it will stop at the first one.  In the loop this is one iteration through the loop, the mismatch is spotted, flagged and we&#39;re done.\r\n\r\n**Java 8** (UPDATE)\r\n\r\nThe same thing as above can be done in Java 8 syntax more concisely by creating a [Stream](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) of the index numbers to compare (using [IntStream](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html)) and doing an [allMatch](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-) on the stream using a [Predicate](https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html) that compares both arrays at each index in the stream, like so:-\r\n\r\n    //Both arrays must match at all indices between 0 and n\r\n    boolean matched = IntStream.range(0, n).allMatch(i -&gt; array1[i] == array2[i]);\r\n    //...Of course if you are comparing non simple types, you would need to use equals()\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange%28boolean[],%20int,%20int%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#equals%28boolean[],%20boolean[]%29\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)","title":"How to compare the first n bytes of two java arrays?","body":"<p>Why would you not want to write your own loop by hand? You could just just <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\" rel=\"noreferrer\">Arrays</a> to copy out a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange%28boolean[],%20int,%20int%29\" rel=\"noreferrer\">subset</a> then use it again to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#equals%28boolean[],%20boolean[]%29\" rel=\"noreferrer\">compare</a>:-</p>\n\n<pre><code>byte[] a1 = Arrays.copyOfRange(array1, 0, n);\nbyte[] a2 = Arrays.copyOfRange(array2, 0, n);\nboolean equal = Arrays.equals(a1, a2);\n</code></pre>\n\n<p>If efficiency is a concern then <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\" rel=\"noreferrer\">System.arraycopy</a> is a faster but more verbose way of copying arrays.</p>\n\n<p>If efficiency is really a concern and verbosity isn't then the loop is probably the best way.</p>\n\n<pre><code> boolean matched = true;\n for (int i=0; i&lt;n; i++){\n   if (array1[i] != array2[i]) {\n     matched = false;\n     break;\n   }\n }\n</code></pre>\n\n<p>This is because you can stop searching as soon as you see an unmatched byte.  If the first byte doesn't match and we are comparing 100 bytes, in the first solution, in the background we are copying 2 lots of 100 bytes, creating two arrays of 100 bytes then comparing 100 sets of bytes, although it will stop at the first one.  In the loop this is one iteration through the loop, the mismatch is spotted, flagged and we're done.</p>\n\n<p><strong>Java 8</strong> (UPDATE)</p>\n\n<p>The same thing as above can be done in Java 8 syntax more concisely by creating a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\">Stream</a> of the index numbers to compare (using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\">IntStream</a>) and doing an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"noreferrer\">allMatch</a> on the stream using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"noreferrer\">Predicate</a> that compares both arrays at each index in the stream, like so:-</p>\n\n<pre><code>//Both arrays must match at all indices between 0 and n\nboolean matched = IntStream.range(0, n).allMatch(i -&gt; array1[i] == array2[i]);\n//...Of course if you are comparing non simple types, you would need to use equals()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638300660,"creation_date":1566454479,"answer_id":57603007,"question_id":26546387,"body_markdown":"Here is more a performant solution using [java.nio.ByteBuffer.wrap()][1] that avoids intermediate copy operations:\r\n\r\n    ByteBuffer.wrap(array1, 0, n).equals(ByteBuffer.wrap(array2, 0, n));\r\n\r\nVia https://stackoverflow.com/questions/16646967/java-util-arrays-equals-with-limited-length.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#wrap(byte[])","title":"How to compare the first n bytes of two java arrays?","body":"<p>Here is more a performant solution using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#wrap(byte%5B%5D)\" rel=\"nofollow noreferrer\">java.nio.ByteBuffer.wrap()</a> that avoids intermediate copy operations:</p>\n<pre><code>ByteBuffer.wrap(array1, 0, n).equals(ByteBuffer.wrap(array2, 0, n));\n</code></pre>\n<p>Via <a href=\"https://stackoverflow.com/questions/16646967/java-util-arrays-equals-with-limited-length\">java.util.Arrays.equals() with limited length</a>.</p>\n"}],"owner":{"account_id":4794089,"reputation":165,"user_id":3872502,"accept_rate":10,"display_name":"Boo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5108,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1638300660,"creation_date":1414147455,"question_id":26546387,"body_markdown":"I need to compare the first n bytes of two different java byte[] arrays.  There is the Arrays equals() function but that tests the length of the arrays first and the whole of both arays after and my arrays are different lengths so that&#39;s no good.\r\n\r\nAny ideas apart from writing my own loop by hand ?\r\n\r\nThanks,","title":"How to compare the first n bytes of two java arrays?","body":"<p>I need to compare the first n bytes of two different java byte[] arrays.  There is the Arrays equals() function but that tests the length of the arrays first and the whole of both arays after and my arrays are different lengths so that's no good.</p>\n\n<p>Any ideas apart from writing my own loop by hand ?</p>\n\n<p>Thanks,</p>\n"},{"tags":["javascript","java","json","tomcat","glassfish"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1638304847,"post_id":70174621,"comment_id":124052275,"body_markdown":"Please, edit your question and add some debugging details, e.g. the code of the `DatabaseConnection#getResultFromSqlQuery` method that is causing the NPE. Add it as **text** not an image, since the latter is not searchable (see [this question](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)).","body":"Please, edit your question and add some debugging details, e.g. the code of the <code>DatabaseConnection#getResultFromSqlQuery</code> method that is causing the NPE. Add it as <b>text</b> not an image, since the latter is not searchable (see <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">this question</a>)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638771597,"post_id":70174621,"comment_id":124167906,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23505869,"reputation":1,"user_id":17555157,"display_name":"Mohammed Kashcoul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638300182,"creation_date":1638298499,"question_id":70174621,"body_markdown":"I need to know why my application cant run over netbeans / glassfish server, I think I need to convert my application to run over glassfish instead of tomcat by adding some classes and remove some others.\r\n\r\nBelow figure show the glassfish output and error through browser\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6rAhK.png\r\n  [2]: https://i.stack.imgur.com/fragv.png","title":"Netbeans 8.2 project cant run over glassfish or tomcat server","body":"<p>I need to know why my application cant run over netbeans / glassfish server, I think I need to convert my application to run over glassfish instead of tomcat by adding some classes and remove some others.</p>\n<p>Below figure show the glassfish output and error through browser</p>\n<p><a href=\"https://i.stack.imgur.com/6rAhK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rAhK.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/fragv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fragv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1642986059,"post_id":70174840,"comment_id":125212691,"body_markdown":"You need `public class BonjourClass extends UnicastRemoteObject extends bonjourInterface1`.","body":"You need <code>public class BonjourClass extends UnicastRemoteObject extends bonjourInterface1</code>."}],"owner":{"account_id":23110138,"reputation":13,"user_id":17218195,"display_name":"Mazen Hadj Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638300122,"creation_date":1638299654,"question_id":70174840,"body_markdown":"***Exception in thread &quot;main&quot; java.lang.ClassCastException: com.sun.proxy.$Proxy0 cannot be cast to RMI.bonjourInterface1\r\n\tat RMI.Client.main(Client.java:12)***\r\n\r\nBonjourClass \r\n``` \r\npackage RMI;\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.server.UnicastRemoteObject;\r\n\r\npublic class BonjourClass extends UnicastRemoteObject{\r\n\tpublic BonjourClass() throws RemoteException {\r\n\t\tsuper();\r\n\t}\r\n\tpublic String Bonjour(String name) throws RemoteException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn &quot;Bonjour si sayed &quot;+name ;\r\n\t}\r\n}\r\n```\r\nInterface:\r\n``` \r\npackage RMI;\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\npublic interface bonjourInterface1 extends Remote {\r\n\tString Bonjour(String name) throws RemoteException;\r\n}\r\n```\r\n\r\nServer.java:\r\n``` \r\npackage RMI;\r\nimport java.rmi.Naming;\r\nimport java.rmi.Remote;\r\nimport java.rmi.registry.LocateRegistry;\r\npublic class Server {\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\tLocateRegistry.createRegistry(1099);\r\n\t\t\tBonjourClass salutation = new BonjourClass();\r\n\t\t\tNaming.rebind(&quot;rmi://localhost:1099/Bonjour&quot;, (Remote) salutation);\r\n\t\t\tSystem.out.println(&quot; Server jawou behy  &quot;);\r\n\t\t}catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nClient.java:\r\n``` \r\npackage RMI;\r\nimport java.net.MalformedURLException;\r\nimport java.rmi.Naming;\r\nimport java.rmi.NotBoundException;\r\nimport java.rmi.RemoteException;\r\nimport java.util.Scanner;\r\npublic class Client {\r\n\tpublic static void main(String[] args) throws MalformedURLException, RemoteException, NotBoundException {\r\n\t\tbonjourInterface1 stub = (bonjourInterface1) Naming.lookup(&quot;rmi://localhost:1099/Bonjour&quot;);\r\n\t\t\tSystem.out.println(&quot; Put you name please &quot;);\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tString name = sc.nextLine();\r\n\t\t\tString res = stub.Bonjour(name);\r\n\t\t\tSystem.out.println(res);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nthe problem is in the casting inst line i can&#39;t find why even i installed the JDK correctly \r\n","title":"how to resolve this casting problem in java RMI?","body":"<p><em><strong>Exception in thread &quot;main&quot; java.lang.ClassCastException: com.sun.proxy.$Proxy0 cannot be cast to RMI.bonjourInterface1\nat RMI.Client.main(Client.java:12)</strong></em></p>\n<p>BonjourClass</p>\n<pre><code>package RMI;\nimport java.rmi.RemoteException;\nimport java.rmi.server.UnicastRemoteObject;\n\npublic class BonjourClass extends UnicastRemoteObject{\n    public BonjourClass() throws RemoteException {\n        super();\n    }\n    public String Bonjour(String name) throws RemoteException {\n        // TODO Auto-generated method stub\n        return &quot;Bonjour si sayed &quot;+name ;\n    }\n}\n</code></pre>\n<p>Interface:</p>\n<pre><code>package RMI;\nimport java.rmi.Remote;\nimport java.rmi.RemoteException;\npublic interface bonjourInterface1 extends Remote {\n    String Bonjour(String name) throws RemoteException;\n}\n</code></pre>\n<p>Server.java:</p>\n<pre><code>package RMI;\nimport java.rmi.Naming;\nimport java.rmi.Remote;\nimport java.rmi.registry.LocateRegistry;\npublic class Server {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        try {\n            LocateRegistry.createRegistry(1099);\n            BonjourClass salutation = new BonjourClass();\n            Naming.rebind(&quot;rmi://localhost:1099/Bonjour&quot;, (Remote) salutation);\n            System.out.println(&quot; Server jawou behy  &quot;);\n        }catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Client.java:</p>\n<pre><code>package RMI;\nimport java.net.MalformedURLException;\nimport java.rmi.Naming;\nimport java.rmi.NotBoundException;\nimport java.rmi.RemoteException;\nimport java.util.Scanner;\npublic class Client {\n    public static void main(String[] args) throws MalformedURLException, RemoteException, NotBoundException {\n        bonjourInterface1 stub = (bonjourInterface1) Naming.lookup(&quot;rmi://localhost:1099/Bonjour&quot;);\n            System.out.println(&quot; Put you name please &quot;);\n            Scanner sc = new Scanner(System.in);\n            String name = sc.nextLine();\n            String res = stub.Bonjour(name);\n            System.out.println(res);\n        }\n    }\n</code></pre>\n<p>the problem is in the casting inst line i can't find why even i installed the JDK correctly</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1637826858,"post_id":70107447,"comment_id":123930644,"body_markdown":"`System.out.println(&quot;Error in read&quot;)`, that&#39;s not really useful exception handling, neither for you nor for us. Print the exception stacktrace in your `catch` clause via `e.printStackTrace()` and add the stacktrace to your question. (And also have a look at the exception stacktrace yourself, you might even find out yourself, what went wrong)","body":"<code>System.out.println(&quot;Error in read&quot;)</code>, that&#39;s not really useful exception handling, neither for you nor for us. Print the exception stacktrace in your <code>catch</code> clause via <code>e.printStackTrace()</code> and add the stacktrace to your question. (And also have a look at the exception stacktrace yourself, you might even find out yourself, what went wrong)"},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1637827138,"post_id":70107447,"comment_id":123930726,"body_markdown":"In your `while-loop` your are reading many lines in once. Are you sure your file contains all these lines ? otherwise a `NoSuchElementException` will be thrown","body":"In your <code>while-loop</code> your are reading many lines in once. Are you sure your file contains all these lines ? otherwise a <code>NoSuchElementException</code> will be thrown"},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1637827597,"post_id":70107447,"comment_id":123930888,"body_markdown":"Also check your file format against the code. Can you include a relevant section of data (be sure it&#39;s not real data for real people, obviously, for privacy reasons)?","body":"Also check your file format against the code. Can you include a relevant section of data (be sure it&#39;s not real data for real people, obviously, for privacy reasons)?"},{"owner":{"display_name":"user16916070"},"score":0,"creation_date":1637827714,"post_id":70107447,"comment_id":123930923,"body_markdown":"wait let me try","body":"wait let me try"},{"owner":{"display_name":"user16916070"},"score":0,"creation_date":1637827901,"post_id":70107447,"comment_id":123930991,"body_markdown":"its says that unparsable date but why my date format didn&#39;t change when I already use the formatter","body":"its says that unparsable date but why my date format didn&#39;t change when I already use the formatter"}],"owner":{"display_name":"user16916070"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638299820,"creation_date":1637826495,"question_id":70107447,"body_markdown":"I want to make a method where I can read the text file to the array lists. My ArrayList contains objects, I use some system out println so I can detect where it went wrong, and turns out it&#39;s on the while loop part can anyone help me? \r\n\r\n    public class DataIO {\r\n        public static ArrayList&lt;CitizenData&gt; citizenData = new ArrayList&lt;CitizenData&gt;();\r\n        public static ArrayList&lt;AppointmentData&gt; appointment =  new ArrayList&lt;AppointmentData&gt;();\r\n        public static void read(){\r\n            try{\r\n                Scanner s = new Scanner(new File(&quot;Citizen.txt&quot;));\r\n                DateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\r\n                while(s.hasNext()){\r\n                    String fullName = s.nextLine();\r\n                    String numberID = s.nextLine();\r\n                    int age = Integer.parseInt(s.nextLine());\r\n                    Date date = formatter.parse(s.nextLine());\r\n                    String address = s.nextLine();\r\n                    String phoneNum = s.nextLine();\r\n                    String email = s.nextLine();\r\n                    s.nextLine();\r\n                    CitizenData data = new CitizenData(fullName,numberID,age,date,address,phoneNum,email);\r\n                    citizenData.add(data);\r\n                }\r\n                Scanner sc = new Scanner(new File(&quot;Appointment.txt&quot;));\r\n                DateFormat formatter1 = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\r\n                DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;);\r\n                while(s.hasNext()){\r\n                    CitizenData numberID = DataIO.check(s.nextLine());\r\n                    VaccinationCentre vacCentre = VaccinationCentre.valueOf(s.nextLine());\r\n                    LocalDateTime date = LocalDateTime.parse(s.nextLine());\r\n                    String vaccineType = s.nextLine();\r\n                    s.nextLine();\r\n                    AppointmentData data1 = new AppointmentData(numberID, vacCentre, date,vaccineType);\r\n                    appointment.add(data1);\r\n                }\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Error in read&quot;);\r\n            }\r\n        }\r\n            \r\n           public static void write(){\r\n            try{\r\n                PrintWriter p = new PrintWriter(&quot;Citizen.txt&quot;);\r\n                for(int i=0; i&lt;citizenData.size(); i++){\r\n                    p.println(citizenData.get(i).getFullName());\r\n                    p.println(citizenData.get(i).getNumber());\r\n                    p.println(citizenData.get(i).getAge());\r\n                    p.println(citizenData.get(i).getDob());\r\n                    p.println(citizenData.get(i).getAddress());\r\n                    p.println(citizenData.get(i).getPhoneNum());\r\n                    p.println(citizenData.get(i).getEmail());\r\n                    p.println();\r\n                }\r\n                p.close();\r\n                PrintWriter q = new PrintWriter(&quot;Appointment.txt&quot;);\r\n                for(int i=0; i&lt;appointment.size(); i++){\r\n                    AppointmentData j = appointment.get(i);\r\n                    q.println(j.getNumberID());\r\n                    q.println(j.getVaccineCentre());\r\n                    q.println(j.getDate());\r\n                    q.println(j.getVaccineType());\r\n                    q.println();\r\n                }\r\n                q.close();\r\n            } catch(Exception e){\r\n                System.out.println(&quot;Error in write!&quot;);\r\n            }\r\n        }\r\n        \r\n         public static CitizenData check(String x){\r\n                for(CitizenData d : citizenData){\r\n                    if(d.equals(d.getNumber())){\r\n                        return d;\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n    }\r\n\r\nBut here every time I run the code, it keeps on going to the catch and it says &quot;error in read&quot;. Is my code wrong, but in which part of it?","title":"How to read array list object to text file in java?","body":"<p>I want to make a method where I can read the text file to the array lists. My ArrayList contains objects, I use some system out println so I can detect where it went wrong, and turns out it's on the while loop part can anyone help me?</p>\n<pre><code>public class DataIO {\n    public static ArrayList&lt;CitizenData&gt; citizenData = new ArrayList&lt;CitizenData&gt;();\n    public static ArrayList&lt;AppointmentData&gt; appointment =  new ArrayList&lt;AppointmentData&gt;();\n    public static void read(){\n        try{\n            Scanner s = new Scanner(new File(&quot;Citizen.txt&quot;));\n            DateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\n            while(s.hasNext()){\n                String fullName = s.nextLine();\n                String numberID = s.nextLine();\n                int age = Integer.parseInt(s.nextLine());\n                Date date = formatter.parse(s.nextLine());\n                String address = s.nextLine();\n                String phoneNum = s.nextLine();\n                String email = s.nextLine();\n                s.nextLine();\n                CitizenData data = new CitizenData(fullName,numberID,age,date,address,phoneNum,email);\n                citizenData.add(data);\n            }\n            Scanner sc = new Scanner(new File(&quot;Appointment.txt&quot;));\n            DateFormat formatter1 = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy HH:mm&quot;);\n            while(s.hasNext()){\n                CitizenData numberID = DataIO.check(s.nextLine());\n                VaccinationCentre vacCentre = VaccinationCentre.valueOf(s.nextLine());\n                LocalDateTime date = LocalDateTime.parse(s.nextLine());\n                String vaccineType = s.nextLine();\n                s.nextLine();\n                AppointmentData data1 = new AppointmentData(numberID, vacCentre, date,vaccineType);\n                appointment.add(data1);\n            }\n        }catch(Exception e){\n            System.out.println(&quot;Error in read&quot;);\n        }\n    }\n        \n       public static void write(){\n        try{\n            PrintWriter p = new PrintWriter(&quot;Citizen.txt&quot;);\n            for(int i=0; i&lt;citizenData.size(); i++){\n                p.println(citizenData.get(i).getFullName());\n                p.println(citizenData.get(i).getNumber());\n                p.println(citizenData.get(i).getAge());\n                p.println(citizenData.get(i).getDob());\n                p.println(citizenData.get(i).getAddress());\n                p.println(citizenData.get(i).getPhoneNum());\n                p.println(citizenData.get(i).getEmail());\n                p.println();\n            }\n            p.close();\n            PrintWriter q = new PrintWriter(&quot;Appointment.txt&quot;);\n            for(int i=0; i&lt;appointment.size(); i++){\n                AppointmentData j = appointment.get(i);\n                q.println(j.getNumberID());\n                q.println(j.getVaccineCentre());\n                q.println(j.getDate());\n                q.println(j.getVaccineType());\n                q.println();\n            }\n            q.close();\n        } catch(Exception e){\n            System.out.println(&quot;Error in write!&quot;);\n        }\n    }\n    \n     public static CitizenData check(String x){\n            for(CitizenData d : citizenData){\n                if(d.equals(d.getNumber())){\n                    return d;\n                }\n            }\n            return null;\n        }\n}\n</code></pre>\n<p>But here every time I run the code, it keeps on going to the catch and it says &quot;error in read&quot;. Is my code wrong, but in which part of it?</p>\n"},{"tags":["java","elasticsearch","elastic-stack","elasticsearch-5"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1637860919,"post_id":70114146,"comment_id":123944083,"body_markdown":"How many fields do you have in your index mapping? What happens if you use `fields: [...]` instead of `_source: [...]`?","body":"How many fields do you have in your index mapping? What happens if you use <code>fields: [...]</code> instead of <code>_source: [...]</code>?"},{"owner":{"account_id":12382,"reputation":5758,"user_id":1215136,"display_name":"ilvar"},"score":0,"creation_date":1637862785,"post_id":70114146,"comment_id":123944731,"body_markdown":"If you&#39;re getting (almost?) all fields anyway, it might be actually more performant to return the whole `_source` (remove `_source` from query altogether)?","body":"If you&#39;re getting (almost?) all fields anyway, it might be actually more performant to return the whole <code>_source</code> (remove <code>_source</code> from query altogether)?"},{"owner":{"account_id":4623672,"reputation":1,"user_id":3748055,"display_name":"Smriti Shrestha"},"score":0,"creation_date":1637909427,"post_id":70114146,"comment_id":123953490,"body_markdown":"@Val, I have more than 1600 fields in multiple types. Use of fields:[..] instead of _source gave the result but could you explain why ES behave differently between fields:[] &amp;n _source. Thank you for the suggestion!","body":"@Val, I have more than 1600 fields in multiple types. Use of fields:[..] instead of _source gave the result but could you explain why ES behave differently between fields:[] &amp;n _source. Thank you for the suggestion!"},{"owner":{"account_id":4623672,"reputation":1,"user_id":3748055,"display_name":"Smriti Shrestha"},"score":0,"creation_date":1637909527,"post_id":70114146,"comment_id":123953513,"body_markdown":"@ilvar, Yaa removing the _source at all would give me the result but my use case was to pull not all fields. Thank you for the suggestion!","body":"@ilvar, Yaa removing the _source at all would give me the result but my use case was to pull not all fields. Thank you for the suggestion!"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1637909608,"post_id":70114146,"comment_id":123953530,"body_markdown":"This is the reason why `fields` works when `_source` fails: https://github.com/elastic/elasticsearch/issues/49028","body":"This is the reason why <code>fields</code> works when <code>_source</code> fails: <a href=\"https://github.com/elastic/elasticsearch/issues/49028\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch/issues/49028</a>"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637909758,"creation_date":1637909758,"answer_id":70120563,"question_id":70114146,"body_markdown":"With so many fields, you should either exclude (using `_source.excludes`) the ones you don&#39;t need instead of including the ones you need, there would be less fields in your query.\r\n\r\nAnother solution, because [`_source` has limitations with a high number of fields](https://github.com/elastic/elasticsearch/issues/49028), you can also leverage the [`fields` option](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-fields.html#search-fields-param) which usually performs better than `_source`.","title":"Maximum number of fields support to be included in _source.includes in Elastic search for _search api?","body":"<p>With so many fields, you should either exclude (using <code>_source.excludes</code>) the ones you don't need instead of including the ones you need, there would be less fields in your query.</p>\n<p>Another solution, because <a href=\"https://github.com/elastic/elasticsearch/issues/49028\" rel=\"nofollow noreferrer\"><code>_source</code> has limitations with a high number of fields</a>, you can also leverage the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-fields.html#search-fields-param\" rel=\"nofollow noreferrer\"><code>fields</code> option</a> which usually performs better than <code>_source</code>.</p>\n"}],"owner":{"account_id":4623672,"reputation":1,"user_id":3748055,"display_name":"Smriti Shrestha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638299358,"creation_date":1637856260,"question_id":70114146,"body_markdown":"While querying an index with more than 1500 fields included inside _source.includes, I&#39;m getting following error from ES.\r\n\r\n**Error Log:**\r\n\r\n    {\r\n      &quot;took&quot;: 154,\r\n      &quot;timed_out&quot;: false,\r\n      &quot;_shards&quot;: {\r\n        &quot;total&quot;: 28,\r\n        &quot;successful&quot;: 15,\r\n        &quot;skipped&quot;: 0,\r\n        &quot;failed&quot;: 13,\r\n        &quot;failures&quot;: [\r\n          {\r\n            &quot;shard&quot;: 0,\r\n            &quot;index&quot;: &quot;index123&quot;,\r\n            &quot;node&quot;: &quot;...&quot;,\r\n            &quot;reason&quot;: {\r\n              &quot;type&quot;: &quot;too_complex_to_determinize_exception&quot;,\r\n              &quot;reason&quot;: &quot;too_complex_to_determinize_exception: Determinizing automaton with 52903 states and 54499 transitions would result in more than 10000 states.&quot;\r\n            }\r\n          }\r\n        ]\r\n      },....\r\n\r\nHere is the sample query I&#39;m trying to execute.\r\n\r\n**Query Sample:** \r\n\r\n    {\r\n        &quot;explain&quot;: false,\r\n        &quot;size&quot;: 20,\r\n        &quot;query&quot;: {\r\n            &quot;bool&quot;: {\r\n                &quot;filter&quot;: [\r\n                    {\r\n                        &quot;bool&quot;: {\r\n                            &quot;adjust_pure_negative&quot;: true,\r\n                            &quot;must&quot;: [\r\n                                {\r\n                                    &quot;terms&quot;: {\r\n                                        &quot;boost&quot;: 1,\r\n                                        &quot;type&quot;: [\r\n                                            &quot;University&quot;\r\n                                        ]\r\n                                    }\r\n                                }\r\n                            ],\r\n                            &quot;boost&quot;: 1\r\n                        }\r\n                    }\r\n                ],\r\n                &quot;adjust_pure_negative&quot;: true,\r\n                &quot;boost&quot;: 1\r\n            }\r\n        },\r\n        &quot;from&quot;: 0,\r\n        &quot;_source&quot;: {\r\n            &quot;excludes&quot;: [\r\n                \r\n            ],\r\n            &quot;includes&quot;: [\r\n                --1579 fields included --\r\n            ]\r\n        }\r\n        \r\n    }\r\n\r\n**Note**: When tried lowering number of fields to around 1440 inside *_source.includes*, ES was able to give response with no error.\r\n\r\nI was wondering if there is any hard limit on number fields that can be added inside _source or any config settings to increase that limit.\r\n\r\nIt would also be helpful, if there&#39;s any alternative to get such high number fields to be included and returned from ES.\r\n\r\nThanks in advance!\r\n\r\n","title":"Maximum number of fields support to be included in _source.includes in Elastic search for _search api?","body":"<p>While querying an index with more than 1500 fields included inside _source.includes, I'm getting following error from ES.</p>\n<p><strong>Error Log:</strong></p>\n<pre><code>{\n  &quot;took&quot;: 154,\n  &quot;timed_out&quot;: false,\n  &quot;_shards&quot;: {\n    &quot;total&quot;: 28,\n    &quot;successful&quot;: 15,\n    &quot;skipped&quot;: 0,\n    &quot;failed&quot;: 13,\n    &quot;failures&quot;: [\n      {\n        &quot;shard&quot;: 0,\n        &quot;index&quot;: &quot;index123&quot;,\n        &quot;node&quot;: &quot;...&quot;,\n        &quot;reason&quot;: {\n          &quot;type&quot;: &quot;too_complex_to_determinize_exception&quot;,\n          &quot;reason&quot;: &quot;too_complex_to_determinize_exception: Determinizing automaton with 52903 states and 54499 transitions would result in more than 10000 states.&quot;\n        }\n      }\n    ]\n  },....\n</code></pre>\n<p>Here is the sample query I'm trying to execute.</p>\n<p><strong>Query Sample:</strong></p>\n<pre><code>{\n    &quot;explain&quot;: false,\n    &quot;size&quot;: 20,\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;filter&quot;: [\n                {\n                    &quot;bool&quot;: {\n                        &quot;adjust_pure_negative&quot;: true,\n                        &quot;must&quot;: [\n                            {\n                                &quot;terms&quot;: {\n                                    &quot;boost&quot;: 1,\n                                    &quot;type&quot;: [\n                                        &quot;University&quot;\n                                    ]\n                                }\n                            }\n                        ],\n                        &quot;boost&quot;: 1\n                    }\n                }\n            ],\n            &quot;adjust_pure_negative&quot;: true,\n            &quot;boost&quot;: 1\n        }\n    },\n    &quot;from&quot;: 0,\n    &quot;_source&quot;: {\n        &quot;excludes&quot;: [\n            \n        ],\n        &quot;includes&quot;: [\n            --1579 fields included --\n        ]\n    }\n    \n}\n</code></pre>\n<p><strong>Note</strong>: When tried lowering number of fields to around 1440 inside <em>_source.includes</em>, ES was able to give response with no error.</p>\n<p>I was wondering if there is any hard limit on number fields that can be added inside _source or any config settings to increase that limit.</p>\n<p>It would also be helpful, if there's any alternative to get such high number fields to be included and returned from ES.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","android-studio","qr-code","zxing"],"answers":[{"tags":[],"owner":{"account_id":14945422,"reputation":19,"user_id":10790846,"display_name":"Ruchit Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638215022,"creation_date":1546778567,"answer_id":54061594,"question_id":54061561,"body_markdown":"There is a really simple solution to your problem. Inside the `onCreate` provide runtime permissions. I suggest you use the dexter library as it&#39;s the simplest way of implementing runtime permissions. Here is the link to the library:\r\n[https://github.com/Karumi/Dexter][1]\r\n\r\n\r\n  [1]: https://github.com/Karumi/Dexter","title":"Permissions for Android Camera QR Scanner","body":"<p>There is a really simple solution to your problem. Inside the <code>onCreate</code> provide runtime permissions. I suggest you use the dexter library as it's the simplest way of implementing runtime permissions. Here is the link to the library:\n<a href=\"https://github.com/Karumi/Dexter\" rel=\"nofollow noreferrer\">https://github.com/Karumi/Dexter</a></p>\n"},{"tags":[],"owner":{"account_id":15003085,"reputation":1,"user_id":10830072,"display_name":"MadCreatorX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638299333,"creation_date":1546792139,"answer_id":54063574,"question_id":54061561,"body_markdown":"I had the same problem after building your cameSource. Add this line to your code, it works for me\r\n \r\n    final String[] permissions = new String[] Manifest.permission.CAMERA};\r\n\r\n    if (!ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.CAMERA)) {\r\n        ActivityCompat.requestPermissions(MainActivity.this, permissions, RC_HANDLE_CAMERA_PERM);\r\n    }\r\n","title":"Permissions for Android Camera QR Scanner","body":"<p>I had the same problem after building your cameSource. Add this line to your code, it works for me</p>\n<pre><code>final String[] permissions = new String[] Manifest.permission.CAMERA};\n\nif (!ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.CAMERA)) {\n    ActivityCompat.requestPermissions(MainActivity.this, permissions, RC_HANDLE_CAMERA_PERM);\n}\n</code></pre>\n"}],"owner":{"account_id":14791670,"reputation":33,"user_id":10682424,"display_name":"Java999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8074,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638299333,"creation_date":1546778245,"question_id":54061561,"body_markdown":"I am creating an android application and want to integrate ZXing QR Scanner. When i launch the QRScanner activity from an Intent I get the toast saying &quot;Permission Denied, You cannot access and camera&quot; and the app freezes instead of asking for permission for camera.\r\n    \r\nAny help to how to correctly implement permission requests or identification of any errors I looked over would be appreciated.\r\n    \r\n          public class Qrscanner extends AppCompatActivity implements \r\n          ZXingScannerView.ResultHandler {\r\n    \r\n        private static final int REQUEST_CAMERA = 1;\r\n        private ZXingScannerView scannerView;\r\n        private static int camId = Camera.CameraInfo.CAMERA_FACING_BACK;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            scannerView = new ZXingScannerView(this);\r\n            setContentView(scannerView);\r\n            int currentApiVersion = Build.VERSION.SDK_INT;\r\n    \r\n            if(currentApiVersion &gt;=  Build.VERSION_CODES.M)\r\n            {\r\n                if(checkPermission())\r\n                {\r\n                    Toast.makeText(getApplicationContext(), &quot;Permission already granted!&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n                else\r\n                {\r\n                    requestPermission();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private boolean checkPermission()\r\n        {\r\n            return (ContextCompat.checkSelfPermission(getApplicationContext(), CAMERA) == PackageManager.PERMISSION_GRANTED);\r\n        }\r\n    \r\n        private void requestPermission()\r\n        {\r\n            ActivityCompat.requestPermissions(this, new String[]{CAMERA}, REQUEST_CAMERA);\r\n        }\r\n    \r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n    \r\n            int currentapiVersion = android.os.Build.VERSION.SDK_INT;\r\n            if (currentapiVersion &gt;= android.os.Build.VERSION_CODES.M) {\r\n                if (checkPermission()) {\r\n                    if(scannerView == null) {\r\n                        scannerView = new ZXingScannerView(this);\r\n                        setContentView(scannerView);\r\n                    }\r\n                    scannerView.setResultHandler(this);\r\n                    scannerView.startCamera();\r\n                } else {\r\n                    requestPermission();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            scannerView.stopCamera();\r\n        }\r\n    \r\n        public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n            final int req = requestCode;\r\n            switch (requestCode) {\r\n    \r\n                case REQUEST_CAMERA:\r\n                    if (grantResults.length &gt; 0) {\r\n    \r\n                        boolean cameraAccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                        if (cameraAccepted){\r\n                            Toast.makeText(getApplicationContext(), &quot;Permission Granted, Now you can access camera&quot;, Toast.LENGTH_LONG).show();\r\n                        }else {\r\n                            Toast.makeText(getApplicationContext(), &quot;Permission Denied, You cannot access and camera&quot;, Toast.LENGTH_LONG).show();\r\n                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                                if (shouldShowRequestPermissionRationale(CAMERA)) {\r\n                                    showMessageOKCancel(&quot;You need to allow access to both the permissions&quot;,\r\n                                            new DialogInterface.OnClickListener() {\r\n                                                @Override\r\n                                                public void onClick(DialogInterface dialog, int which) {\r\n                                                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n      //                                                    \r\n       requestPermissions(new String[]{CAMERA},\r\n       //                                                            \r\n       REQUEST_CAMERA);\r\n                                                        \r\n        ActivityCompat.requestPermissions(getParent(), new String[] \r\n        {Manifest.permission.CAMERA}, req);\r\n    \r\n                                                    }\r\n                                                }\r\n                                            });\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        private void showMessageOKCancel(String message, DialogInterface.OnClickListener okListener) {\r\n            new android.support.v7.app.AlertDialog.Builder(Qrscanner.this)\r\n                    .setMessage(message)\r\n                    .setPositiveButton(&quot;OK&quot;, okListener)\r\n                    .setNegativeButton(&quot;Cancel&quot;, null)\r\n                    .create()\r\n                    .show();\r\n        }\r\n    \r\n        @Override\r\n        public void handleResult(final Result result) {\r\n            final String myResult = result.getText();\r\n            Log.d(&quot;QRCodeScanner&quot;, result.getText());\r\n            Log.d(&quot;QRCodeScanner&quot;, result.getBarcodeFormat().toString());\r\n    \r\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n            builder.setTitle(&quot;Scan Result&quot;);\r\n            builder.setPositiveButton(&quot;Try Again&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    scannerView.resumeCameraPreview(Qrscanner.this);\r\n                }\r\n            });\r\n            builder.setNeutralButton(&quot;Confirm&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                   Intent intent = new Intent(getApplicationContext(),AddKeys.class);\r\n                   intent.putExtra(&quot;publicKey&quot;,result.getText());\r\n                   startActivity(intent);\r\n                }\r\n            });\r\n            builder.setMessage(result.getText());\r\n            AlertDialog alert1 = builder.create();\r\n            alert1.show();\r\n        }\r\n    }\r\n\r\n\r\n","title":"Permissions for Android Camera QR Scanner","body":"<p>I am creating an android application and want to integrate ZXing QR Scanner. When i launch the QRScanner activity from an Intent I get the toast saying \"Permission Denied, You cannot access and camera\" and the app freezes instead of asking for permission for camera.</p>\n\n<p>Any help to how to correctly implement permission requests or identification of any errors I looked over would be appreciated.</p>\n\n<pre><code>      public class Qrscanner extends AppCompatActivity implements \n      ZXingScannerView.ResultHandler {\n\n    private static final int REQUEST_CAMERA = 1;\n    private ZXingScannerView scannerView;\n    private static int camId = Camera.CameraInfo.CAMERA_FACING_BACK;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        scannerView = new ZXingScannerView(this);\n        setContentView(scannerView);\n        int currentApiVersion = Build.VERSION.SDK_INT;\n\n        if(currentApiVersion &gt;=  Build.VERSION_CODES.M)\n        {\n            if(checkPermission())\n            {\n                Toast.makeText(getApplicationContext(), \"Permission already granted!\", Toast.LENGTH_LONG).show();\n            }\n            else\n            {\n                requestPermission();\n            }\n        }\n    }\n\n    private boolean checkPermission()\n    {\n        return (ContextCompat.checkSelfPermission(getApplicationContext(), CAMERA) == PackageManager.PERMISSION_GRANTED);\n    }\n\n    private void requestPermission()\n    {\n        ActivityCompat.requestPermissions(this, new String[]{CAMERA}, REQUEST_CAMERA);\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n\n        int currentapiVersion = android.os.Build.VERSION.SDK_INT;\n        if (currentapiVersion &gt;= android.os.Build.VERSION_CODES.M) {\n            if (checkPermission()) {\n                if(scannerView == null) {\n                    scannerView = new ZXingScannerView(this);\n                    setContentView(scannerView);\n                }\n                scannerView.setResultHandler(this);\n                scannerView.startCamera();\n            } else {\n                requestPermission();\n            }\n        }\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        scannerView.stopCamera();\n    }\n\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n        final int req = requestCode;\n        switch (requestCode) {\n\n            case REQUEST_CAMERA:\n                if (grantResults.length &gt; 0) {\n\n                    boolean cameraAccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                    if (cameraAccepted){\n                        Toast.makeText(getApplicationContext(), \"Permission Granted, Now you can access camera\", Toast.LENGTH_LONG).show();\n                    }else {\n                        Toast.makeText(getApplicationContext(), \"Permission Denied, You cannot access and camera\", Toast.LENGTH_LONG).show();\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                            if (shouldShowRequestPermissionRationale(CAMERA)) {\n                                showMessageOKCancel(\"You need to allow access to both the permissions\",\n                                        new DialogInterface.OnClickListener() {\n                                            @Override\n                                            public void onClick(DialogInterface dialog, int which) {\n                                                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n  //                                                    \n   requestPermissions(new String[]{CAMERA},\n   //                                                            \n   REQUEST_CAMERA);\n\n    ActivityCompat.requestPermissions(getParent(), new String[] \n    {Manifest.permission.CAMERA}, req);\n\n                                                }\n                                            }\n                                        });\n                                return;\n                            }\n                        }\n                    }\n                }\n                break;\n        }\n    }\n\n    private void showMessageOKCancel(String message, DialogInterface.OnClickListener okListener) {\n        new android.support.v7.app.AlertDialog.Builder(Qrscanner.this)\n                .setMessage(message)\n                .setPositiveButton(\"OK\", okListener)\n                .setNegativeButton(\"Cancel\", null)\n                .create()\n                .show();\n    }\n\n    @Override\n    public void handleResult(final Result result) {\n        final String myResult = result.getText();\n        Log.d(\"QRCodeScanner\", result.getText());\n        Log.d(\"QRCodeScanner\", result.getBarcodeFormat().toString());\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(\"Scan Result\");\n        builder.setPositiveButton(\"Try Again\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                scannerView.resumeCameraPreview(Qrscanner.this);\n            }\n        });\n        builder.setNeutralButton(\"Confirm\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n               Intent intent = new Intent(getApplicationContext(),AddKeys.class);\n               intent.putExtra(\"publicKey\",result.getText());\n               startActivity(intent);\n            }\n        });\n        builder.setMessage(result.getText());\n        AlertDialog alert1 = builder.create();\n        alert1.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","http","post","networking"],"answers":[{"tags":[],"owner":{"account_id":38529,"reputation":931,"user_id":110642,"display_name":"Jeff Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638299332,"creation_date":1638299332,"answer_id":70174777,"question_id":70174629,"body_markdown":"Try parsing the content-length header to get the number of bytes. After the blank line you&#39;ll want to read exactly that many bytes. Using readLine() won&#39;t work because the body isn&#39;t terminated by a CRLF. ","title":"Get body of POST request [Java]","body":"<p>Try parsing the content-length header to get the number of bytes. After the blank line you'll want to read exactly that many bytes. Using readLine() won't work because the body isn't terminated by a CRLF.</p>\n"}],"owner":{"account_id":17244046,"reputation":189,"user_id":14934258,"display_name":"tweekz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70174777,"answer_count":1,"score":1,"last_activity_date":1638299332,"creation_date":1638298534,"question_id":70174629,"body_markdown":"I&#39;m trying to write a simple HTTP server but can&#39;t figure out how to read the body segment of a POST-request. I&#39;m having trouble reading beyond the empty line after the headers.\r\n\r\nHere&#39;s what I do:\r\n\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n        StringBuilder request = new StringBuilder();\r\n        String line;\r\n        while(!(line = br.readLine()).isEmpty()) {\r\n            request.append(line).append(CRLF);\r\n            System.out.println(line);\r\n        }\r\n        \r\n        // read body ?\r\n\r\nSo this basically loads the Request and headers in a String. But I can&#39;t figure out how to skip that one line that separates the headers from the body. \r\n\r\nI&#39;ve tried readLine() != null or to manually read two more lines after the loop terminates, but that results in a loop.\r\n\r\n","title":"Get body of POST request [Java]","body":"<p>I'm trying to write a simple HTTP server but can't figure out how to read the body segment of a POST-request. I'm having trouble reading beyond the empty line after the headers.</p>\n<p>Here's what I do:</p>\n<pre><code>    BufferedReader br = new BufferedReader(new InputStreamReader(client.getInputStream()));\n    StringBuilder request = new StringBuilder();\n    String line;\n    while(!(line = br.readLine()).isEmpty()) {\n        request.append(line).append(CRLF);\n        System.out.println(line);\n    }\n    \n    // read body ?\n</code></pre>\n<p>So this basically loads the Request and headers in a String. But I can't figure out how to skip that one line that separates the headers from the body.</p>\n<p>I've tried readLine() != null or to manually read two more lines after the loop terminates, but that results in a loop.</p>\n"},{"tags":["java","spring-boot","jpa","flyway"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638298954,"creation_date":1638295235,"answer_id":70174026,"question_id":70172849,"body_markdown":"You can configure Flyway with a URL that&#39;s used purely for migrations and then configure your app to use a different URL. Something like this:\r\n\r\n```\r\nspring.flyway.url=jdbc:mysql://127.0.0.1:3306\r\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/my-schema\r\n```\r\n\r\nYou&#39;ll also need to provide credentials for the Flyway-specific connection to the database using `spring.flyway.user` and `spring.flyway.password`.","title":"Can spring create a new schema (using flyway) at startup and then connect to it via default datasource?","body":"<p>You can configure Flyway with a URL that's used purely for migrations and then configure your app to use a different URL. Something like this:</p>\n<pre><code>spring.flyway.url=jdbc:mysql://127.0.0.1:3306\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/my-schema\n</code></pre>\n<p>You'll also need to provide credentials for the Flyway-specific connection to the database using <code>spring.flyway.user</code> and <code>spring.flyway.password</code>.</p>\n"}],"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70174026,"answer_count":1,"score":2,"last_activity_date":1638298954,"creation_date":1638290158,"question_id":70172849,"body_markdown":"My spring-boot app has following properties set,\r\n\r\n   \r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.datasource.url=jdbc:mysql://127.0.0.1:3306/my-schema\r\n    spring.datasource.username=root\r\n    spring.datasource.password=*****\r\n    spring.flyway.check-location=false\r\n    spring.flyway.createSchemas=true\r\n    spring.flyway.schemas=my-schema\r\n\r\nThe schema &#39;my-schema&#39; does not pre-exist and I would want for it to be created by flyway and then be used by spring-boot app to sping up HikarCP datasource. \r\n\r\nIf I run the application with the above configurations I get the following error upon startup:\r\n\r\n    Caused by: org.flywaydb.core.internal.exception.FlywaySqlException:\r\n    Unable to obtain connection from database: Unknown database &#39;my-schema&#39;\r\n\r\nNow, if I change,\r\n\r\n    spring.datasource.url=jdbc:mysql://127.0.0.1:3306/\r\n\r\nThe application starts up perfectly and creates the schema. However, when it tries to query any table the thrown exception is:\r\n\r\n    java.sql.SQLException: No database selected\r\n\r\n\r\n","title":"Can spring create a new schema (using flyway) at startup and then connect to it via default datasource?","body":"<p>My spring-boot app has following properties set,</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=none\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/my-schema\nspring.datasource.username=root\nspring.datasource.password=*****\nspring.flyway.check-location=false\nspring.flyway.createSchemas=true\nspring.flyway.schemas=my-schema\n</code></pre>\n<p>The schema 'my-schema' does not pre-exist and I would want for it to be created by flyway and then be used by spring-boot app to sping up HikarCP datasource.</p>\n<p>If I run the application with the above configurations I get the following error upon startup:</p>\n<pre><code>Caused by: org.flywaydb.core.internal.exception.FlywaySqlException:\nUnable to obtain connection from database: Unknown database 'my-schema'\n</code></pre>\n<p>Now, if I change,</p>\n<pre><code>spring.datasource.url=jdbc:mysql://127.0.0.1:3306/\n</code></pre>\n<p>The application starts up perfectly and creates the schema. However, when it tries to query any table the thrown exception is:</p>\n<pre><code>java.sql.SQLException: No database selected\n</code></pre>\n"},{"tags":["java","enums","coding-style","naming-conventions","standards"],"answers":[{"tags":[],"owner":{"account_id":66711,"reputation":8404,"user_id":195583,"accept_rate":87,"display_name":"Jim B"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1276866271,"creation_date":1276866271,"answer_id":3069795,"question_id":3069743,"body_markdown":"In our codebase; we typically declare enums in the class that they belong to.\r\n\r\nSo for your Fruit example, We would have a Fruit class, and inside that an Enum called Fruits.\r\n\r\nReferencing it in the code looks like this:  `Fruit.Fruits.Apple, Fruit.Fruits.Pear`, etc.\r\n\r\nConstants follow along the same line, where they either get defined in the class to which they&#39;re relevant (so something like `Fruit.ORANGE_BUSHEL_SIZE`); or if they apply system-wide (i.e. an equivalent &quot;null value&quot; for ints) in a class named &quot;ConstantManager&quot; (or equivalent; like `ConstantManager.NULL_INT`).  (side note; all our constants are in upper case)\r\n\r\nAs always, your coding standards probably differ from mine; so YMMV.","title":"Coding Conventions - Naming Enums","body":"<p>In our codebase; we typically declare enums in the class that they belong to.</p>\n\n<p>So for your Fruit example, We would have a Fruit class, and inside that an Enum called Fruits.</p>\n\n<p>Referencing it in the code looks like this:  <code>Fruit.Fruits.Apple, Fruit.Fruits.Pear</code>, etc.</p>\n\n<p>Constants follow along the same line, where they either get defined in the class to which they're relevant (so something like <code>Fruit.ORANGE_BUSHEL_SIZE</code>); or if they apply system-wide (i.e. an equivalent \"null value\" for ints) in a class named \"ConstantManager\" (or equivalent; like <code>ConstantManager.NULL_INT</code>).  (side note; all our constants are in upper case)</p>\n\n<p>As always, your coding standards probably differ from mine; so YMMV.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1276866791,"creation_date":1276866384,"answer_id":3069812,"question_id":3069743,"body_markdown":"They&#39;re still types, so I always use the same naming conventions I use for classes.\r\n\r\nI definitely would frown on putting &quot;Class&quot; or &quot;Enum&quot; in a name.  If you have both a `FruitClass` and a `FruitEnum` then something else is wrong and you need more descriptive names.  I&#39;m trying to think about the kind of code that would lead to needing both, and it seems like there should be a `Fruit` base class with subtypes instead of an enum.  (That&#39;s just my own speculation though, you may have a different situation than what I&#39;m imagining.)\r\n\r\nThe best reference that I can find for naming constants comes from the [Variables tutorial][1]:\r\n\r\n&gt; If the name you choose consists of only one word, spell that word in all lowercase letters. If it consists of more than one word, capitalize the first letter of each subsequent word. The names gearRatio and currentGear are prime examples of this convention. If your variable stores a constant value, such as static final int NUM_GEARS = 6, the convention changes slightly, capitalizing every letter and separating subsequent words with the underscore character. By convention, the underscore character is never used elsewhere. \r\n\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/nutsandbolts/variables.html","title":"Coding Conventions - Naming Enums","body":"<p>They're still types, so I always use the same naming conventions I use for classes.</p>\n\n<p>I definitely would frown on putting \"Class\" or \"Enum\" in a name.  If you have both a <code>FruitClass</code> and a <code>FruitEnum</code> then something else is wrong and you need more descriptive names.  I'm trying to think about the kind of code that would lead to needing both, and it seems like there should be a <code>Fruit</code> base class with subtypes instead of an enum.  (That's just my own speculation though, you may have a different situation than what I'm imagining.)</p>\n\n<p>The best reference that I can find for naming constants comes from the <a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/variables.html\" rel=\"noreferrer\">Variables tutorial</a>:</p>\n\n<blockquote>\n  <p>If the name you choose consists of only one word, spell that word in all lowercase letters. If it consists of more than one word, capitalize the first letter of each subsequent word. The names gearRatio and currentGear are prime examples of this convention. If your variable stores a constant value, such as static final int NUM_GEARS = 6, the convention changes slightly, capitalizing every letter and separating subsequent words with the underscore character. By convention, the underscore character is never used elsewhere. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":3,"up_vote_count":549,"is_accepted":true,"score":546,"last_activity_date":1638298511,"creation_date":1276866824,"answer_id":3069863,"question_id":3069743,"body_markdown":"Enums are classes and should follow the conventions for classes. Instances of an enum are constants and should follow the conventions for constants. So \r\n\r\n    enum Fruit {APPLE, ORANGE, BANANA, PEAR};\r\n\r\nThere is no reason for writing `FruitEnum` any more than `FruitClass`. You are just wasting four (or five) characters that add no information.\r\n\r\nThis approach is recommended by and used in the [The Java™ Tutorial&#39;s][1] examples themselves.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"Coding Conventions - Naming Enums","body":"<p>Enums are classes and should follow the conventions for classes. Instances of an enum are constants and should follow the conventions for constants. So</p>\n<pre><code>enum Fruit {APPLE, ORANGE, BANANA, PEAR};\n</code></pre>\n<p>There is no reason for writing <code>FruitEnum</code> any more than <code>FruitClass</code>. You are just wasting four (or five) characters that add no information.</p>\n<p>This approach is recommended by and used in the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">The Java™ Tutorial's</a> examples themselves.</p>\n"},{"tags":[],"owner":{"account_id":2584196,"reputation":1380,"user_id":2240274,"accept_rate":86,"display_name":"StaticNoiseLog"},"down_vote_count":2,"up_vote_count":85,"is_accepted":false,"score":83,"last_activity_date":1375259879,"creation_date":1375259879,"answer_id":17965469,"question_id":3069743,"body_markdown":"This will probably not make me a lot of new friends, but it should be added that the C# people have a different guideline: The enum instances are &quot;Pascal case&quot; (upper/lower case mixed). See [stackoverflow discussion][1] and [MSDN Enumeration Type Naming Guidelines][2].\r\n\r\nAs we are exchanging data with a C# system, I am tempted to copy their enums exactly, ignoring Java&#39;s &quot;constants have uppercase names&quot; convention. Thinking about it, I don&#39;t see much value in being restricted to uppercase for enum instances. For some purposes .name() is a handy shortcut to get a readable representation of an enum constant and a mixed case name would look nicer.\r\n\r\nSo, yes, I dare question the value of the Java enum naming convention. The fact that &quot;the other half of the programming world&quot; does indeed use a different style makes me think it is legitimate to doubt our own religion.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2629556/c-sharp-enum-declaration-format\r\n  [2]: http://msdn.microsoft.com/en-us/library/4x252001.aspx","title":"Coding Conventions - Naming Enums","body":"<p>This will probably not make me a lot of new friends, but it should be added that the C# people have a different guideline: The enum instances are \"Pascal case\" (upper/lower case mixed). See <a href=\"https://stackoverflow.com/questions/2629556/c-sharp-enum-declaration-format\">stackoverflow discussion</a> and <a href=\"http://msdn.microsoft.com/en-us/library/4x252001.aspx\" rel=\"noreferrer\">MSDN Enumeration Type Naming Guidelines</a>.</p>\n\n<p>As we are exchanging data with a C# system, I am tempted to copy their enums exactly, ignoring Java's \"constants have uppercase names\" convention. Thinking about it, I don't see much value in being restricted to uppercase for enum instances. For some purposes .name() is a handy shortcut to get a readable representation of an enum constant and a mixed case name would look nicer.</p>\n\n<p>So, yes, I dare question the value of the Java enum naming convention. The fact that \"the other half of the programming world\" does indeed use a different style makes me think it is legitimate to doubt our own religion.</p>\n"},{"tags":[],"owner":{"account_id":5705081,"reputation":433,"user_id":4508914,"display_name":"beosign"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1437213792,"creation_date":1437213792,"answer_id":31489993,"question_id":3069743,"body_markdown":"As already stated, enum instances should be uppercase according to the docs on the Oracle website (http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html).\r\n\r\nHowever, while looking through a JavaEE7 tutorial on the Oracle website (http://www.oracle.com/technetwork/java/javaee/downloads/index.html), I stumbled across the &quot;Duke&#39;s bookstore&quot; tutorial and in a class (`tutorial\\examples\\case-studies\\dukes-bookstore\\src\\main\\java\\javaeetutorial\\dukesbookstore\\components\\AreaComponent.java`), I found the following enum definition:\r\n\r\n    private enum PropertyKeys {\r\n        alt, coords, shape, targetImage;\r\n    }\r\n\r\nAccording to the conventions, it should have looked like:\r\n\r\n    public enum PropertyKeys {\r\n        ALT(&quot;alt&quot;), COORDS(&quot;coords&quot;), SHAPE(&quot;shape&quot;), TARGET_IMAGE(&quot;targetImage&quot;);\r\n    \r\n        private final String val;\r\n    \r\n        private PropertyKeys(String val) {\r\n            this.val = val;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return val;\r\n        }\r\n    }\r\n\r\nSo it seems even the guys at Oracle sometimes trade convention with convenience. ","title":"Coding Conventions - Naming Enums","body":"<p>As already stated, enum instances should be uppercase according to the docs on the Oracle website (<a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a>).</p>\n\n<p>However, while looking through a JavaEE7 tutorial on the Oracle website (<a href=\"http://www.oracle.com/technetwork/java/javaee/downloads/index.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javaee/downloads/index.html</a>), I stumbled across the \"Duke's bookstore\" tutorial and in a class (<code>tutorial\\examples\\case-studies\\dukes-bookstore\\src\\main\\java\\javaeetutorial\\dukesbookstore\\components\\AreaComponent.java</code>), I found the following enum definition:</p>\n\n<pre><code>private enum PropertyKeys {\n    alt, coords, shape, targetImage;\n}\n</code></pre>\n\n<p>According to the conventions, it should have looked like:</p>\n\n<pre><code>public enum PropertyKeys {\n    ALT(\"alt\"), COORDS(\"coords\"), SHAPE(\"shape\"), TARGET_IMAGE(\"targetImage\");\n\n    private final String val;\n\n    private PropertyKeys(String val) {\n        this.val = val;\n    }\n\n    @Override\n    public String toString() {\n        return val;\n    }\n}\n</code></pre>\n\n<p>So it seems even the guys at Oracle sometimes trade convention with convenience. </p>\n"},{"tags":[],"owner":{"account_id":3169207,"reputation":11,"user_id":2678574,"display_name":"Damian kober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523468339,"creation_date":1523468339,"answer_id":49781356,"question_id":3069743,"body_markdown":"    enum MyEnum {VALUE_1,VALUE_2}\r\n\r\nis (approximately) like saying\r\n\r\n    class MyEnum {\r\n    \r\n        public static final MyEnum VALUE_1 = new MyEnum(&quot;VALUE_1&quot;);\r\n        public static final MyEnum VALUE_2 = new MyEnum(&quot;VALUE_2&quot;);\r\n    \r\n        private final name;\r\n    \r\n        private MyEnum(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String name() { return this.name }\r\n    }\r\n\r\nso I guess the all caps is strictly more correct, but still I use the class name convention since I hate all caps wherever ","title":"Coding Conventions - Naming Enums","body":"<pre><code>enum MyEnum {VALUE_1,VALUE_2}\n</code></pre>\n\n<p>is (approximately) like saying</p>\n\n<pre><code>class MyEnum {\n\n    public static final MyEnum VALUE_1 = new MyEnum(\"VALUE_1\");\n    public static final MyEnum VALUE_2 = new MyEnum(\"VALUE_2\");\n\n    private final name;\n\n    private MyEnum(String name) {\n        this.name = name;\n    }\n\n    public String name() { return this.name }\n}\n</code></pre>\n\n<p>so I guess the all caps is strictly more correct, but still I use the class name convention since I hate all caps wherever </p>\n"},{"tags":[],"owner":{"account_id":4736972,"reputation":389,"user_id":3831094,"display_name":"Xennex81"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525334067,"creation_date":1525334067,"answer_id":50149731,"question_id":3069743,"body_markdown":"If I can add my $0.02, I prefer using PascalCase as enum values in C.\r\n\r\nIn C, they are basically global, and PEER_CONNECTED gets really tiring as opposed to PeerConnected.\r\n\r\nBreath of fresh air.\r\n\r\nLiterally, it makes me breathe easier.\r\n\r\nIn Java, it is possible to use raw enum names as long as you static import them from another class.\r\n\r\n    import static pkg.EnumClass.*;\r\n\r\nNow, you can use the unqualified names, that you qualified in a different way already.\r\n\r\nI am currently (thinking) about porting some C code to Java and currently &#39;torn&#39; between choosing Java convention (which is more verbose, more lengthy, and more ugly) and my C style.\r\n\r\nPeerConnected would become PeerState.CONNECTED except in switch statements, where it is CONNECTED.\r\n\r\nNow there is much to say for the latter convention and it does look nice but certain &quot;idiomatic phrases&quot; such as `if (s == PeerAvailable)` become like `if (s == PeerState.AVAILABLE)` and nostalgically, this is a loss of meaning to me.\r\n\r\nI think I still prefer the Java style because of clarity but I have a hard time looking at the screaming code.\r\n\r\nNow I realize PascalCase is already widely used in Java but very confusing it would not really be, just a tad out of place.\r\n","title":"Coding Conventions - Naming Enums","body":"<p>If I can add my $0.02, I prefer using PascalCase as enum values in C.</p>\n\n<p>In C, they are basically global, and PEER_CONNECTED gets really tiring as opposed to PeerConnected.</p>\n\n<p>Breath of fresh air.</p>\n\n<p>Literally, it makes me breathe easier.</p>\n\n<p>In Java, it is possible to use raw enum names as long as you static import them from another class.</p>\n\n<pre><code>import static pkg.EnumClass.*;\n</code></pre>\n\n<p>Now, you can use the unqualified names, that you qualified in a different way already.</p>\n\n<p>I am currently (thinking) about porting some C code to Java and currently 'torn' between choosing Java convention (which is more verbose, more lengthy, and more ugly) and my C style.</p>\n\n<p>PeerConnected would become PeerState.CONNECTED except in switch statements, where it is CONNECTED.</p>\n\n<p>Now there is much to say for the latter convention and it does look nice but certain \"idiomatic phrases\" such as <code>if (s == PeerAvailable)</code> become like <code>if (s == PeerState.AVAILABLE)</code> and nostalgically, this is a loss of meaning to me.</p>\n\n<p>I think I still prefer the Java style because of clarity but I have a hard time looking at the screaming code.</p>\n\n<p>Now I realize PascalCase is already widely used in Java but very confusing it would not really be, just a tad out of place.</p>\n"}],"owner":{"display_name":"Walter White"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290434,"favorite_count":0,"down_vote_count":2,"up_vote_count":333,"accepted_answer_id":3069863,"answer_count":7,"score":331,"last_activity_date":1638298511,"creation_date":1276865833,"question_id":3069743,"body_markdown":"Is there a convention for naming enumerations in Java?\r\n\r\nMy preference is that an enum is a type.  So, for instance, you have an enum \r\n\r\n    Fruit{Apple,Orange,Banana,Pear, ... }\r\n\r\n    NetworkConnectionType{LAN,Data_3g,Data_4g, ... }\r\n\r\nI am opposed to naming it:\r\n\r\n    FruitEnum\r\n    NetworkConnectionTypeEnum\r\n\r\nI understand it is easy to pick off which files are enums, but then you would also have:\r\n\r\n    NetworkConnectionClass\r\n    FruitClass\r\n\r\nAlso, is there a good document describing the same for constants, where to declare them, etc.?\r\n","title":"Coding Conventions - Naming Enums","body":"<p>Is there a convention for naming enumerations in Java?</p>\n\n<p>My preference is that an enum is a type.  So, for instance, you have an enum </p>\n\n<pre><code>Fruit{Apple,Orange,Banana,Pear, ... }\n\nNetworkConnectionType{LAN,Data_3g,Data_4g, ... }\n</code></pre>\n\n<p>I am opposed to naming it:</p>\n\n<pre><code>FruitEnum\nNetworkConnectionTypeEnum\n</code></pre>\n\n<p>I understand it is easy to pick off which files are enums, but then you would also have:</p>\n\n<pre><code>NetworkConnectionClass\nFruitClass\n</code></pre>\n\n<p>Also, is there a good document describing the same for constants, where to declare them, etc.?</p>\n"},{"tags":["java","spring-boot","jackson","gson"],"comments":[{"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"score":0,"creation_date":1637951102,"post_id":70127729,"comment_id":123967605,"body_markdown":"see https://github.com/google/gson/issues/1875","body":"see <a href=\"https://github.com/google/gson/issues/1875\" rel=\"nofollow noreferrer\">github.com/google/gson/issues/1875</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1637959454,"post_id":70127729,"comment_id":123969613,"body_markdown":"Based on the code snippet you provided, it is not clear to me what this has to do with Gson. You are explicitly calling `readValue` of Jackson&#39;s `ObjectMapper`; Gson should have no effect on this.","body":"Based on the code snippet you provided, it is not clear to me what this has to do with Gson. You are explicitly calling <code>readValue</code> of Jackson&#39;s <code>ObjectMapper</code>; Gson should have no effect on this."},{"owner":{"account_id":16051107,"reputation":43,"user_id":11584969,"display_name":"Febell"},"score":0,"creation_date":1638095215,"post_id":70127729,"comment_id":123991580,"body_markdown":"Yeah I thought so myself. But it is pretty clear that this jar with gson in it causes the trouble since the line works without it but not with it.","body":"Yeah I thought so myself. But it is pretty clear that this jar with gson in it causes the trouble since the line works without it but not with it."},{"owner":{"account_id":16051107,"reputation":43,"user_id":11584969,"display_name":"Febell"},"score":0,"creation_date":1638105505,"post_id":70127729,"comment_id":123993736,"body_markdown":"@Marcono1234 you are totaly right. The dependecy does nothing (see my edit). But somehow the jar alter the result of the type construction.","body":"@Marcono1234 you are totaly right. The dependecy does nothing (see my edit). But somehow the jar alter the result of the type construction."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638110889,"creation_date":1638110889,"answer_id":70144512,"question_id":70127729,"body_markdown":"When Jackson tries deserializing an object for which no type information is provided, it uses a `LinkedHashMap` to store the object properties values. The exception can be related to that.\r\n\r\nMy guess is that probably that fat jar includes a different version of Jackson from the one you included in your project and in which for some reason this behavior is different.\r\n\r\nI do not know if it is just an inaccuracy in the question, but in order to solve the problem try providing the actual types in your `TypeReference`:\r\n\r\n```java\r\nList&lt;Book&gt; books = objectMapper.readValue(getReader(&quot;books.json&quot;), new TypeReference&lt;List&lt;Book&gt;&gt;() {});\r\n```\r\n\r\nPlease, consider read [this related article](https://www.baeldung.com/jackson-linkedhashmap-cannot-be-cast) and [SO question](https://stackoverflow.com/questions/28821715/java-lang-classcastexception-java-util-linkedhashmap-cannot-be-cast-to-com-test).","title":"Spring Boot using Jackson and an external Library with Gson","body":"<p>When Jackson tries deserializing an object for which no type information is provided, it uses a <code>LinkedHashMap</code> to store the object properties values. The exception can be related to that.</p>\n<p>My guess is that probably that fat jar includes a different version of Jackson from the one you included in your project and in which for some reason this behavior is different.</p>\n<p>I do not know if it is just an inaccuracy in the question, but in order to solve the problem try providing the actual types in your <code>TypeReference</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Book&gt; books = objectMapper.readValue(getReader(&quot;books.json&quot;), new TypeReference&lt;List&lt;Book&gt;&gt;() {});\n</code></pre>\n<p>Please, consider read <a href=\"https://www.baeldung.com/jackson-linkedhashmap-cannot-be-cast\" rel=\"nofollow noreferrer\">this related article</a> and <a href=\"https://stackoverflow.com/questions/28821715/java-lang-classcastexception-java-util-linkedhashmap-cannot-be-cast-to-com-test\">SO question</a>.</p>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638298501,"creation_date":1638298501,"answer_id":70174622,"question_id":70127729,"body_markdown":"Most likely the issue lies within the creation of the &quot;fat JAR&quot;.\r\n\r\nWhen creating the fat JAR pay attention to the following things:\r\n- `META-INF/MANIFEST.MF` provided by dependencies should be ignored\r\n- `module-info.class` and &lt;code&gt;META-INF/versions/&lt;i&gt;&amp;lt;version&amp;gt;&lt;/i&gt;/module-info.class&lt;/code&gt; provided by dependencies should be ignored (the latter is used by [Multi-Release JARs](https://openjdk.java.net/jeps/238))\r\n- The content of files under `META-INF/services/` should be merged (they declare [providers for services](https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html))\r\n- Optional: If one of the dependencies is a [Multi-Release JARs](https://openjdk.java.net/jeps/238) you can set `Multi-Release: true` in the `MANIFEST.MF` of your fat JAR to allow the JRE to use these version specific classes\r\n- For all other files it might be application specific how to handle conflicts\r\n\r\nIn case you are using a plugin to generate the fat JAR, then it might offer settings for these transformations (or might perform them by default).\r\n","title":"Spring Boot using Jackson and an external Library with Gson","body":"<p>Most likely the issue lies within the creation of the &quot;fat JAR&quot;.</p>\n<p>When creating the fat JAR pay attention to the following things:</p>\n<ul>\n<li><code>META-INF/MANIFEST.MF</code> provided by dependencies should be ignored</li>\n<li><code>module-info.class</code> and <code>META-INF/versions/<i>&lt;version&gt;</i>/module-info.class</code> provided by dependencies should be ignored (the latter is used by <a href=\"https://openjdk.java.net/jeps/238\" rel=\"nofollow noreferrer\">Multi-Release JARs</a>)</li>\n<li>The content of files under <code>META-INF/services/</code> should be merged (they declare <a href=\"https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html\" rel=\"nofollow noreferrer\">providers for services</a>)</li>\n<li>Optional: If one of the dependencies is a <a href=\"https://openjdk.java.net/jeps/238\" rel=\"nofollow noreferrer\">Multi-Release JARs</a> you can set <code>Multi-Release: true</code> in the <code>MANIFEST.MF</code> of your fat JAR to allow the JRE to use these version specific classes</li>\n<li>For all other files it might be application specific how to handle conflicts</li>\n</ul>\n<p>In case you are using a plugin to generate the fat JAR, then it might offer settings for these transformations (or might perform them by default).</p>\n"}],"owner":{"account_id":16051107,"reputation":43,"user_id":11584969,"display_name":"Febell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70144512,"answer_count":2,"score":0,"last_activity_date":1638298501,"creation_date":1637945824,"question_id":70127729,"body_markdown":"I am using a Spring Boot application (Version 2.4.5) with Jackson. Can I add an fat jar which is using gson without affecting the Jackson deserialisation of the application?\r\n\r\nWhen I add the jar to my application, the application uses gson everywhere to deserialise JSONs. But since I am using some special functions of Jackson this fails.\r\n\r\nI can unfortunately not change this in the library.\r\n\r\nI use Gradle to add the fat jar like this in the dependencies:\r\n```\r\nimplementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n```\r\nI am building Jacksons object mapper like:\r\n```\r\nprivate static ObjectMapper getMapper() {\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  mapper.registerModule(new Jdk8Module());\r\n  mapper.registerModule(new JavaTimeModule());\r\n\r\n  return mapper;\r\n}\r\n```\r\nAnd following lines throws an error:\r\n```\r\nList&lt;User&gt; users = objectMapper.readValue(getReader(&quot;users.json&quot;), new TypeReference&lt;&gt;() {});\r\n```\r\n```\r\njava.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class User (java.util.LinkedHashMap is in module java.base of loader &#39;bootstrap&#39;; onek.books.backend.model.book.Book is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @445d3853)\r\n```\r\nAnd Gson is added to fat jar with following maven dependencies:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n  &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n  &lt;version&gt;${gson-version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.gsonfire&lt;/groupId&gt;\r\n  &lt;artifactId&gt;gson-fire&lt;/artifactId&gt;\r\n  &lt;version&gt;${gson-fire-version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Edit**\r\n\r\nAs suggested that is not due to gson I tried to narrow it down and added all dependecies one by one and none caused the error by itself.\r\n\r\nBut I might have found the cause, but I don&#39;t know how to solve this. It is the way Jacksons typeFactory construct it&#39;s type. For the line:\r\n\r\n```\r\nList&lt;Book&gt; books = objectMapper.readValue(getReader(&quot;books.json&quot;), new TypeReference&lt;&gt;() {});\r\n```\r\n\r\nIf the jar ist not existent the constructed Type looks like:\r\n\r\n```\r\nresult = {CollectionType@13667} &quot;[collection type; class java.util.List, contains [simple type, class onek.books.backend.model.book.Book]]&quot;\r\n _elementType = {SimpleType@13669} &quot;[simple type, class onek.books.backend.model.book.Book]&quot;\r\n _superClass = null\r\n _superInterfaces = {JavaType[1]@13670} \r\n _bindings = {TypeBindings@13671} &quot;&lt;Lonek/books/backend/model/book/Book;&gt;&quot;\r\n _canonicalName = null\r\n _class = {Class@352} &quot;interface java.util.List&quot;\r\n _hash = -95724352\r\n _valueHandler = null\r\n _typeHandler = null\r\n _asStatic = false\r\n```\r\nWhich is what I would expect because the Book-Class is in the type. But if I add the jar the constructed Type looks like:\r\n```\r\nresult = {SimpleType@11757} &quot;[simple type, class java.lang.Object]&quot;\r\n _superClass = null\r\n _superInterfaces = null\r\n _bindings = {TypeBindings@11759} &quot;&lt;&gt;&quot;\r\n _canonicalName = null\r\n _class = {Class@595} &quot;class java.lang.Object&quot;\r\n _hash = 1063877011\r\n _valueHandler = null\r\n _typeHandler = null\r\n _asStatic = false\r\n```\r\nAnd jackson deserialize it as an LinkedHashmap with this type causing the ClassCastException.\r\n\r\nBut I realy don&#39;t know how to continue from here. Can an external jar alter some parts of the Jackson TypeFactory?","title":"Spring Boot using Jackson and an external Library with Gson","body":"<p>I am using a Spring Boot application (Version 2.4.5) with Jackson. Can I add an fat jar which is using gson without affecting the Jackson deserialisation of the application?</p>\n<p>When I add the jar to my application, the application uses gson everywhere to deserialise JSONs. But since I am using some special functions of Jackson this fails.</p>\n<p>I can unfortunately not change this in the library.</p>\n<p>I use Gradle to add the fat jar like this in the dependencies:</p>\n<pre><code>implementation fileTree(dir: 'libs', include: ['*.jar'])\n</code></pre>\n<p>I am building Jacksons object mapper like:</p>\n<pre><code>private static ObjectMapper getMapper() {\n  ObjectMapper mapper = new ObjectMapper();\n  mapper.registerModule(new Jdk8Module());\n  mapper.registerModule(new JavaTimeModule());\n\n  return mapper;\n}\n</code></pre>\n<p>And following lines throws an error:</p>\n<pre><code>List&lt;User&gt; users = objectMapper.readValue(getReader(&quot;users.json&quot;), new TypeReference&lt;&gt;() {});\n</code></pre>\n<pre><code>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class User (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; onek.books.backend.model.book.Book is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @445d3853)\n</code></pre>\n<p>And Gson is added to fat jar with following maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n  &lt;artifactId&gt;gson&lt;/artifactId&gt;\n  &lt;version&gt;${gson-version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.gsonfire&lt;/groupId&gt;\n  &lt;artifactId&gt;gson-fire&lt;/artifactId&gt;\n  &lt;version&gt;${gson-fire-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>As suggested that is not due to gson I tried to narrow it down and added all dependecies one by one and none caused the error by itself.</p>\n<p>But I might have found the cause, but I don't know how to solve this. It is the way Jacksons typeFactory construct it's type. For the line:</p>\n<pre><code>List&lt;Book&gt; books = objectMapper.readValue(getReader(&quot;books.json&quot;), new TypeReference&lt;&gt;() {});\n</code></pre>\n<p>If the jar ist not existent the constructed Type looks like:</p>\n<pre><code>result = {CollectionType@13667} &quot;[collection type; class java.util.List, contains [simple type, class onek.books.backend.model.book.Book]]&quot;\n _elementType = {SimpleType@13669} &quot;[simple type, class onek.books.backend.model.book.Book]&quot;\n _superClass = null\n _superInterfaces = {JavaType[1]@13670} \n _bindings = {TypeBindings@13671} &quot;&lt;Lonek/books/backend/model/book/Book;&gt;&quot;\n _canonicalName = null\n _class = {Class@352} &quot;interface java.util.List&quot;\n _hash = -95724352\n _valueHandler = null\n _typeHandler = null\n _asStatic = false\n</code></pre>\n<p>Which is what I would expect because the Book-Class is in the type. But if I add the jar the constructed Type looks like:</p>\n<pre><code>result = {SimpleType@11757} &quot;[simple type, class java.lang.Object]&quot;\n _superClass = null\n _superInterfaces = null\n _bindings = {TypeBindings@11759} &quot;&lt;&gt;&quot;\n _canonicalName = null\n _class = {Class@595} &quot;class java.lang.Object&quot;\n _hash = 1063877011\n _valueHandler = null\n _typeHandler = null\n _asStatic = false\n</code></pre>\n<p>And jackson deserialize it as an LinkedHashmap with this type causing the ClassCastException.</p>\n<p>But I realy don't know how to continue from here. Can an external jar alter some parts of the Jackson TypeFactory?</p>\n"},{"tags":["java","database","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638225991,"creation_date":1638225991,"answer_id":70162251,"question_id":70162093,"body_markdown":"If you are going to use a Iterator you have to make a .hasNext() or .next() call for each row.\r\n\r\n    while(it.hasNext()) {\r\n         System.out.println(it.next());\r\n    }","title":"Spring Boot JPA Query on MySQL reads only the first row","body":"<p>If you are going to use a Iterator you have to make a .hasNext() or .next() call for each row.</p>\n<pre><code>while(it.hasNext()) {\n     System.out.println(it.next());\n}\n</code></pre>\n"}],"owner":{"account_id":23495568,"reputation":1,"user_id":17546059,"display_name":"MTMunich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638297831,"creation_date":1638224924,"question_id":70162093,"body_markdown":"I am facing a strange behaviour when reading a view from mysql. \r\nMy select statement is reading only the first row.\r\n\r\nBut it works fine when I read other db-tables.\r\n\r\nHas someone an idea what it can be?\r\n\r\n**This is my create statement:**\r\n   \r\n\r\n&gt; CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY\r\n&gt; DEFINER VIEW `v_monthlyexpense` AS select distinct `_v`.`customerid`\r\n&gt; AS `customerid`,`_o`.`createddatetime` AS\r\n&gt; `createddatetime`,`_o`.`pricegross` AS `pricegross` from ((`c_visit`\r\n&gt; `_v` join `c_visit_order` `_vo` on(`_vo`.`visitId` = `_v`.`id`)) join\r\n&gt; `c_order` `_o` on(`_o`.`id` = `_vo`.`orderId`));\r\n\r\n**This is my Entity:**\r\n\r\n    import javax.persistence.*;\r\n    import java.sql.Timestamp;\r\n    \r\n    @Entity\r\n    @Immutable\r\n    @Table(name=&quot;v_monthlyexpense&quot;)\r\n    public class View_MonthlyExpense {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name=&quot;customerid&quot;, nullable = false, unique = true)\r\n        private Long customerId;\r\n\r\n        @Column(name=&quot;createddatetime&quot;)\r\n        private Timestamp createdDateTime;\r\n\r\n        @Column(name=&quot;pricegross&quot;)\r\n        private float priceGross;\r\n\r\n        protected View_MonthlyExpense() {\r\n        }\r\n\r\n        public View_MonthlyExpense(Long customerId, Timestamp createdDateTime, float priceGross) {\r\n            this.customerId = customerId;\r\n            this.createdDateTime = createdDateTime;\r\n            this.priceGross = priceGross;\r\n        }\r\n\r\n        public Long getCustomerId() {\r\n            return customerId;\r\n        }\r\n\r\n        public Timestamp getCreatedDateTime() {\r\n            return createdDateTime;\r\n        }\r\n\r\n        public float getPriceGross() {\r\n            return priceGross;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return customerId + &quot;. &quot; + createdDateTime + &quot; - &quot; + priceGross + &quot; USD&quot;;\r\n        }\r\n    }\r\n\r\n**This is my repository:**\r\n\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    public interface ExpenseRepository2 extends CrudRepository&lt;View_MonthlyExpense, Long&gt; {\r\n        @Query(&quot;SELECT DISTINCT e FROM View_MonthlyExpense e&quot;)\r\n        public List&lt;View_MonthlyExpense&gt; findAll();\r\n    }\r\n\r\n**This is my App:**\r\n\r\n    import java.util.List;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class ExpenseApp implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        ExpenseRepository2 repository2;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ExpenseApp.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n    \r\n            List&lt;View_MonthlyExpense&gt; list =  repository2.findAll();\r\n    \r\n            List&lt;View_MonthlyExpense&gt; iter = repository2.findAll();\r\n            iter.forEach(item -&gt; System.out.print(item + &quot;\\n&quot;));\r\n        }\r\n    }\r\n\r\n**This is the output of the App:**\r\n\r\n&gt; 1002. 2021-11-24 22:38:55.0 - 8.0 USD\r\n&gt; 1002. 2021-11-24 22:38:55.0 - 8.0 USD\r\n&gt; 1002. 2021-11-24 22:38:55.0 - 8.0 USD\r\n&gt; 1002. 2021-11-24 22:38:55.0 - 8.0 USD\r\n&gt; 1002. 2021-11-24 22:38:55.0 - 8.0 USD\r\n&gt; 1002. 2021-11-24 22:38:55.0 - 8.0 USD\r\n&gt; 1002. 2021-11-24 22:38:55.0 - 8.0 USD\r\n&gt; 1004. 2021-11-26 23:17:03.0 - 12.0 USD\r\n&gt; 1004. 2021-11-26 23:17:03.0 - 12.0 USD\r\n&gt; 1004. 2021-11-26 23:17:03.0 - 12.0 USD\r\n&gt; 1004. 2021-11-26 23:17:03.0 - 12.0 USD\r\n&gt; 1004. 2021-11-26 23:17:03.0 - 12.0 USD\r\n&gt; 1004. 2021-11-26 23:17:03.0 - 12.0 USD\r\n&gt; 1004. 2021-11-26 23:17:03.0 - 12.0 USD\r\n&gt; 1004. 2021-11-26 23:17:03.0 - 12.0 USD\r\n&gt; 1004. 2021-11-26 23:17:03.0 - 12.0 USD\r\n\r\n\r\n**And finally, this are the values in the database:**\r\n\r\n    customerId\tcreatedDateTime\t\tpriceGross\r\n    1002\t\t24.11.2021 22:38\t8\r\n    1002\t\t24.11.2021 22:38\t10\r\n    1002\t\t24.11.2021 22:38\t6\r\n    1002\t\t25.11.2021 00:46\t6\r\n    1002\t\t25.11.2021 00:46\t10\r\n    1002\t\t25.11.2021 00:46\t11\r\n    1002\t\t25.11.2021 00:46\t15\r\n    1004\t\t26.11.2021 23:17\t12\r\n    1004\t\t26.11.2021 23:17\t8\r\n    1004\t\t26.11.2021 23:17\t10\r\n    1004\t\t27.11.2021 02:06\t12\r\n    1004\t\t27.11.2021 02:06\t8\r\n    1004\t\t27.11.2021 02:06\t6\r\n    1004\t\t27.11.2021 02:06\t30\r\n    1004\t\t27.11.2021 02:06\t15\r\n    1004\t\t27.11.2021 02:06\t50\r\n\r\n\r\n**Here I post the values of the result in my debuger, this is before I use System.out.println:**\r\n\r\n    iter = {ArrayList@7390}  size = 16\r\n     0 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\r\n     1 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\r\n     2 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\r\n     3 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\r\n     4 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\r\n     5 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\r\n     6 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\r\n     7 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\r\n     8 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\r\n     9 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\r\n     10 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\r\n     11 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\r\n     12 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\r\n     13 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\r\n     14 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\r\n     15 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\r\n\r\nThank you for your help in advance.\r\n","title":"Spring Boot JPA Query on MySQL reads only the first row","body":"<p>I am facing a strange behaviour when reading a view from mysql.\nMy select statement is reading only the first row.</p>\n<p>But it works fine when I read other db-tables.</p>\n<p>Has someone an idea what it can be?</p>\n<p><strong>This is my create statement:</strong></p>\n<blockquote>\n<p>CREATE ALGORITHM=UNDEFINED DEFINER=<code>root</code>@<code>localhost</code> SQL SECURITY\nDEFINER VIEW <code>v_monthlyexpense</code> AS select distinct <code>_v</code>.<code>customerid</code>\nAS <code>customerid</code>,<code>_o</code>.<code>createddatetime</code> AS\n<code>createddatetime</code>,<code>_o</code>.<code>pricegross</code> AS <code>pricegross</code> from ((<code>c_visit</code>\n<code>_v</code> join <code>c_visit_order</code> <code>_vo</code> on(<code>_vo</code>.<code>visitId</code> = <code>_v</code>.<code>id</code>)) join\n<code>c_order</code> <code>_o</code> on(<code>_o</code>.<code>id</code> = <code>_vo</code>.<code>orderId</code>));</p>\n</blockquote>\n<p><strong>This is my Entity:</strong></p>\n<pre><code>import javax.persistence.*;\nimport java.sql.Timestamp;\n\n@Entity\n@Immutable\n@Table(name=&quot;v_monthlyexpense&quot;)\npublic class View_MonthlyExpense {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;customerid&quot;, nullable = false, unique = true)\n    private Long customerId;\n\n    @Column(name=&quot;createddatetime&quot;)\n    private Timestamp createdDateTime;\n\n    @Column(name=&quot;pricegross&quot;)\n    private float priceGross;\n\n    protected View_MonthlyExpense() {\n    }\n\n    public View_MonthlyExpense(Long customerId, Timestamp createdDateTime, float priceGross) {\n        this.customerId = customerId;\n        this.createdDateTime = createdDateTime;\n        this.priceGross = priceGross;\n    }\n\n    public Long getCustomerId() {\n        return customerId;\n    }\n\n    public Timestamp getCreatedDateTime() {\n        return createdDateTime;\n    }\n\n    public float getPriceGross() {\n        return priceGross;\n    }\n\n    @Override\n    public String toString() {\n        return customerId + &quot;. &quot; + createdDateTime + &quot; - &quot; + priceGross + &quot; USD&quot;;\n    }\n}\n</code></pre>\n<p><strong>This is my repository:</strong></p>\n<pre><code>import org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface ExpenseRepository2 extends CrudRepository&lt;View_MonthlyExpense, Long&gt; {\n    @Query(&quot;SELECT DISTINCT e FROM View_MonthlyExpense e&quot;)\n    public List&lt;View_MonthlyExpense&gt; findAll();\n}\n</code></pre>\n<p><strong>This is my App:</strong></p>\n<pre><code>import java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ExpenseApp implements CommandLineRunner {\n\n    @Autowired\n    ExpenseRepository2 repository2;\n\n    public static void main(String[] args) {\n        SpringApplication.run(ExpenseApp.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        List&lt;View_MonthlyExpense&gt; list =  repository2.findAll();\n\n        List&lt;View_MonthlyExpense&gt; iter = repository2.findAll();\n        iter.forEach(item -&gt; System.out.print(item + &quot;\\n&quot;));\n    }\n}\n</code></pre>\n<p><strong>This is the output of the App:</strong></p>\n<blockquote>\n<ol start=\"1002\">\n<li>2021-11-24 22:38:55.0 - 8.0 USD</li>\n<li>2021-11-24 22:38:55.0 - 8.0 USD</li>\n<li>2021-11-24 22:38:55.0 - 8.0 USD</li>\n<li>2021-11-24 22:38:55.0 - 8.0 USD</li>\n<li>2021-11-24 22:38:55.0 - 8.0 USD</li>\n<li>2021-11-24 22:38:55.0 - 8.0 USD</li>\n<li>2021-11-24 22:38:55.0 - 8.0 USD</li>\n<li>2021-11-26 23:17:03.0 - 12.0 USD</li>\n<li>2021-11-26 23:17:03.0 - 12.0 USD</li>\n<li>2021-11-26 23:17:03.0 - 12.0 USD</li>\n<li>2021-11-26 23:17:03.0 - 12.0 USD</li>\n<li>2021-11-26 23:17:03.0 - 12.0 USD</li>\n<li>2021-11-26 23:17:03.0 - 12.0 USD</li>\n<li>2021-11-26 23:17:03.0 - 12.0 USD</li>\n<li>2021-11-26 23:17:03.0 - 12.0 USD</li>\n<li>2021-11-26 23:17:03.0 - 12.0 USD</li>\n</ol>\n</blockquote>\n<p><strong>And finally, this are the values in the database:</strong></p>\n<pre><code>customerId  createdDateTime     priceGross\n1002        24.11.2021 22:38    8\n1002        24.11.2021 22:38    10\n1002        24.11.2021 22:38    6\n1002        25.11.2021 00:46    6\n1002        25.11.2021 00:46    10\n1002        25.11.2021 00:46    11\n1002        25.11.2021 00:46    15\n1004        26.11.2021 23:17    12\n1004        26.11.2021 23:17    8\n1004        26.11.2021 23:17    10\n1004        27.11.2021 02:06    12\n1004        27.11.2021 02:06    8\n1004        27.11.2021 02:06    6\n1004        27.11.2021 02:06    30\n1004        27.11.2021 02:06    15\n1004        27.11.2021 02:06    50\n</code></pre>\n<p><strong>Here I post the values of the result in my debuger, this is before I use System.out.println:</strong></p>\n<pre><code>iter = {ArrayList@7390}  size = 16\n 0 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\n 1 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\n 2 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\n 3 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\n 4 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\n 5 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\n 6 = {View_MonthlyExpense@7395} &quot;1002. 2021-11-24 22:38:55.0 - 8.0 USD&quot;\n 7 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\n 8 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\n 9 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\n 10 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\n 11 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\n 12 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\n 13 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\n 14 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\n 15 = {View_MonthlyExpense@7396} &quot;1004. 2021-11-26 23:17:03.0 - 12.0 USD&quot;\n</code></pre>\n<p>Thank you for your help in advance.</p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638293023,"creation_date":1638293023,"answer_id":70173561,"question_id":70173363,"body_markdown":"Is this a bean based route? If thats the case, it was changed to the following format\r\n\r\n    route.from().to()\r\n\r\n\r\nThis guide may be very useful on your migration [Migrate from camel 2 to 3][1] \r\n\r\n\r\n  [1]: https://camel.apache.org/manual/camel-3-migration-guide.html","title":"FromDefinition in camel 3.x - migration from 2.x","body":"<p>Is this a bean based route? If thats the case, it was changed to the following format</p>\n<pre><code>route.from().to()\n</code></pre>\n<p>This guide may be very useful on your migration <a href=\"https://camel.apache.org/manual/camel-3-migration-guide.html\" rel=\"nofollow noreferrer\">Migrate from camel 2 to 3</a></p>\n"},{"tags":[],"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638297468,"creation_date":1638297468,"answer_id":70174434,"question_id":70173363,"body_markdown":"I have found it. It is;\r\n\r\n    route.getRouteContext()\r\n                    .getFrom()\r\n                    .getLabel()","title":"FromDefinition in camel 3.x - migration from 2.x","body":"<p>I have found it. It is;</p>\n<pre><code>route.getRouteContext()\n                .getFrom()\n                .getLabel()\n</code></pre>\n"}],"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70174434,"answer_count":2,"score":0,"last_activity_date":1638297468,"creation_date":1638292160,"question_id":70173363,"body_markdown":"Mgration from camel 2.x to 3.x. Before I used\r\n\r\n    route.getRouteContext()\r\n    .getFrom()\r\n    .getUri()\r\n\r\nwhere route is `org.apache.camel.Route` . How can I do it in camel 3.x (to get to `FromDefinition` in camel 3.x) or at least could you tell me how can I search for methods in camel 3.x to see where they are placed now\r\n?","title":"FromDefinition in camel 3.x - migration from 2.x","body":"<p>Mgration from camel 2.x to 3.x. Before I used</p>\n<pre><code>route.getRouteContext()\n.getFrom()\n.getUri()\n</code></pre>\n<p>where route is <code>org.apache.camel.Route</code> . How can I do it in camel 3.x (to get to <code>FromDefinition</code> in camel 3.x) or at least could you tell me how can I search for methods in camel 3.x to see where they are placed now\n?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":4,"creation_date":1514481777,"post_id":48011697,"comment_id":82991875,"body_markdown":"**65535** . . . .","body":"<b>65535</b> . . . ."},{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":0,"creation_date":1514481852,"post_id":48011697,"comment_id":82991909,"body_markdown":"Thanks, are you sure? Source link?","body":"Thanks, are you sure? Source link?"},{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":0,"creation_date":1514481972,"post_id":48011697,"comment_id":82991956,"body_markdown":"That question is about methods. Does this go against the same limit?","body":"That question is about methods. Does this go against the same limit?"},{"owner":{"account_id":9729495,"reputation":47,"user_id":7215085,"display_name":"Trần Văn Th&#224;nh"},"score":0,"creation_date":1514482104,"post_id":48011697,"comment_id":82992020,"body_markdown":"[See this link to find out your answer.](https://stackoverflow.com/questions/4342072/what-is-the-maximum-number-of-methods-a-java-class-can-have)","body":"<a href=\"https://stackoverflow.com/questions/4342072/what-is-the-maximum-number-of-methods-a-java-class-can-have\">See this link to find out your answer.</a>"},{"owner":{"account_id":7421543,"reputation":2876,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1514482242,"post_id":48011697,"comment_id":82992090,"body_markdown":"Possible duplicate of [What is the maximum number of methods a Java class can have?](https://stackoverflow.com/questions/4342072/what-is-the-maximum-number-of-methods-a-java-class-can-have)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4342072/what-is-the-maximum-number-of-methods-a-java-class-can-have\">What is the maximum number of methods a Java class can have?</a>"},{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":0,"creation_date":1514482344,"post_id":48011697,"comment_id":82992143,"body_markdown":"I&#39;m pretty sure this is a distinct question even if the answer happens to be the same number.","body":"I&#39;m pretty sure this is a distinct question even if the answer happens to be the same number."},{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":0,"creation_date":1514482500,"post_id":48011697,"comment_id":82992214,"body_markdown":"I had seen that question before but asked anyway because it does not answer mine.","body":"I had seen that question before but asked anyway because it does not answer mine."},{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":3,"creation_date":1514482613,"post_id":48011697,"comment_id":82992281,"body_markdown":"In the JVM spec it says: The number of fields that may be declared by a class or interface is limited to\n65535 by the size of the fields_count item of the ClassFile structure (&#167;4.1)","body":"In the JVM spec it says: The number of fields that may be declared by a class or interface is limited to 65535 by the size of the fields_count item of the ClassFile structure (&#167;4.1)"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1514487795,"post_id":48011697,"comment_id":82994464,"body_markdown":"Hopefully nobody ever writes a class that comes close to these limits...","body":"Hopefully nobody ever writes a class that comes close to these limits..."}],"answers":[{"tags":[],"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514482945,"creation_date":1514482945,"answer_id":48011955,"question_id":48011697,"body_markdown":"In the JVM spec it says:\r\n\r\n&gt; The number of fields that may be declared by a class or interface is\r\n&gt; limited to 65535 by the size of the fields_count item of the ClassFile\r\n&gt; structure (&#167;4.1)","title":"What is the maximum number of fields a Java class can have?","body":"<p>In the JVM spec it says:</p>\n\n<blockquote>\n  <p>The number of fields that may be declared by a class or interface is\n  limited to 65535 by the size of the fields_count item of the ClassFile\n  structure (§4.1)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1514548705,"creation_date":1514547586,"answer_id":48022050,"question_id":48011697,"body_markdown":"The [class file format](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1) contains a list of field declarations whose size is an unsigned short, hence could allow 65535 declarations, but it is not possible to declare 65535 fields in practice.\r\n\r\nEach field must have a unique name and type combination and these names and types are stored in the constant pool of the class, which can only hold up to 65534 entries, but will also contain the constants describing the current class and its super class and the attribute names, among other features. Every feature of the class which needs dedicated constant entries will reduce the possible number of declared fields.\r\n\r\nSo for Java source code, which requires all fields to have unique names, it is impossible to declare that many fields in a class. With handcrafted byte code, you may utilize the fact that names do not need to be unique, to declare 65535 fields, but you cannot use all of them within the same class, as accessing the field requires a “name and type” entry describing the unique combination, plus a field descriptor pointing to the “name and type” entry and the declaring class.\r\n\r\nBut keep in mind that classes can inherit fields from the super class.","title":"What is the maximum number of fields a Java class can have?","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1\" rel=\"noreferrer\">class file format</a> contains a list of field declarations whose size is an unsigned short, hence could allow 65535 declarations, but it is not possible to declare 65535 fields in practice.</p>\n\n<p>Each field must have a unique name and type combination and these names and types are stored in the constant pool of the class, which can only hold up to 65534 entries, but will also contain the constants describing the current class and its super class and the attribute names, among other features. Every feature of the class which needs dedicated constant entries will reduce the possible number of declared fields.</p>\n\n<p>So for Java source code, which requires all fields to have unique names, it is impossible to declare that many fields in a class. With handcrafted byte code, you may utilize the fact that names do not need to be unique, to declare 65535 fields, but you cannot use all of them within the same class, as accessing the field requires a “name and type” entry describing the unique combination, plus a field descriptor pointing to the “name and type” entry and the declaring class.</p>\n\n<p>But keep in mind that classes can inherit fields from the super class.</p>\n"}],"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3391,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":48022050,"answer_count":2,"score":6,"last_activity_date":1638297444,"creation_date":1514481734,"question_id":48011697,"body_markdown":"Is there a limit to the number of fields a java class or an associated object instance can have, and if so what is it?\r\n\r\nI am explicitly asking about fields, not methods as was asked in this question:\r\nhttps://stackoverflow.com/questions/4342072/what-is-the-maximum-number-of-methods-a-java-class-can-have","title":"What is the maximum number of fields a Java class can have?","body":"<p>Is there a limit to the number of fields a java class or an associated object instance can have, and if so what is it?</p>\n\n<p>I am explicitly asking about fields, not methods as was asked in this question:\n<a href=\"https://stackoverflow.com/questions/4342072/what-is-the-maximum-number-of-methods-a-java-class-can-have\">What is the maximum number of methods a Java class can have?</a></p>\n"},{"tags":["python","java","antlr"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1638286424,"post_id":70171495,"comment_id":124045080,"body_markdown":"You may not be having a **parser** rule named `startRule` in your parser grammar.","body":"You may not be having a <b>parser</b> rule named <code>startRule</code> in your parser grammar."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638297188,"creation_date":1638286559,"answer_id":70171977,"question_id":70171495,"body_markdown":"The parser method(s), `startRule` in your case, correspond to the parser rules defined in the `.g4` grammar. \r\n\r\nLook into the Java grammar, there is a parser rule with `EOF` in it called `compilationUnit`. Use that instead:\r\n\r\n\r\n```python\r\ntree = parser.compilationUnit()\r\n```","title":"antlr4 python binding for java8 missing start rule","body":"<p>The parser method(s), <code>startRule</code> in your case, correspond to the parser rules defined in the <code>.g4</code> grammar.</p>\n<p>Look into the Java grammar, there is a parser rule with <code>EOF</code> in it called <code>compilationUnit</code>. Use that instead:</p>\n<pre class=\"lang-py prettyprint-override\"><code>tree = parser.compilationUnit()\n</code></pre>\n"}],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70171977,"answer_count":1,"score":1,"last_activity_date":1638297188,"creation_date":1638284493,"question_id":70171495,"body_markdown":"I&#39;m trying to use antlr on one of the grammars [here][1] (specifically, [java 8][2]):\r\n```\r\n$ antlr4 -Dlanguage=Python3 grammars-v4/java/java8/Java8Lexer.g4\r\n$ antlr4 -Dlanguage=Python3 grammars-v4/java/java8/Java8Parser.g4\r\n```\r\nThis step appears to go smooth, and when I inspect the directory:\r\n```\r\n$ ls -l grammars-v4/java/java8/*.py\r\n-rw-r--r-- 1 root root  56583 Nov 30 14:32 grammars-v4/java/java8/Java8Lexer.py\r\n-rw-r--r-- 1 root root 798326 Nov 30 14:32 grammars-v4/java/java8/Java8Parser.py\r\n-rw-r--r-- 1 root root  79928 Nov 30 14:32 grammars-v4/java/java8/Java8ParserListener.py\r\n```\r\neverything is there. Still, when I try to use [the hello world example][3]:\r\n```\r\nfrom antlr4 import *\r\nfrom Java8Lexer import Java8Lexer\r\nfrom Java8Parser import Java8Parser\r\n\r\ninput_stream = FileStream(&quot;/main.java&quot;)\r\nlexer = Java8Lexer(input_stream)\r\nstream = CommonTokenStream(lexer)\r\nparser = Java8Parser(stream)\r\ntree = parser.startRule()\r\n```\r\nI get an error:\r\n```\r\nAttributeError: &#39;Java8Parser&#39; object has no attribute &#39;startRule&#39;\r\n```\r\n\r\n  [1]: https://github.com/antlr/grammars-v4\r\n  [2]: https://github.com/antlr/grammars-v4/tree/master/java/java8\r\n  [3]: https://github.com/antlr/antlr4/blob/master/doc/python-target.md#how-do-i-run-the-generated-lexer-andor-parser","title":"antlr4 python binding for java8 missing start rule","body":"<p>I'm trying to use antlr on one of the grammars <a href=\"https://github.com/antlr/grammars-v4\" rel=\"nofollow noreferrer\">here</a> (specifically, <a href=\"https://github.com/antlr/grammars-v4/tree/master/java/java8\" rel=\"nofollow noreferrer\">java 8</a>):</p>\n<pre><code>$ antlr4 -Dlanguage=Python3 grammars-v4/java/java8/Java8Lexer.g4\n$ antlr4 -Dlanguage=Python3 grammars-v4/java/java8/Java8Parser.g4\n</code></pre>\n<p>This step appears to go smooth, and when I inspect the directory:</p>\n<pre><code>$ ls -l grammars-v4/java/java8/*.py\n-rw-r--r-- 1 root root  56583 Nov 30 14:32 grammars-v4/java/java8/Java8Lexer.py\n-rw-r--r-- 1 root root 798326 Nov 30 14:32 grammars-v4/java/java8/Java8Parser.py\n-rw-r--r-- 1 root root  79928 Nov 30 14:32 grammars-v4/java/java8/Java8ParserListener.py\n</code></pre>\n<p>everything is there. Still, when I try to use <a href=\"https://github.com/antlr/antlr4/blob/master/doc/python-target.md#how-do-i-run-the-generated-lexer-andor-parser\" rel=\"nofollow noreferrer\">the hello world example</a>:</p>\n<pre><code>from antlr4 import *\nfrom Java8Lexer import Java8Lexer\nfrom Java8Parser import Java8Parser\n\ninput_stream = FileStream(&quot;/main.java&quot;)\nlexer = Java8Lexer(input_stream)\nstream = CommonTokenStream(lexer)\nparser = Java8Parser(stream)\ntree = parser.startRule()\n</code></pre>\n<p>I get an error:</p>\n<pre><code>AttributeError: 'Java8Parser' object has no attribute 'startRule'\n</code></pre>\n"},{"tags":["java","image","swing","jbutton"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638217261,"post_id":70160544,"comment_id":124024892,"body_markdown":"Rescale the image to the size of the JButton.","body":"Rescale the image to the size of the JButton."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1638291449,"post_id":70160544,"comment_id":124047364,"body_markdown":"Does this answer your question? [Add a complex image in the panel, with buttons around it in one customized user interface](https://stackoverflow.com/questions/10861852/add-a-complex-image-in-the-panel-with-buttons-around-it-in-one-customized-user)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10861852/add-a-complex-image-in-the-panel-with-buttons-around-it-in-one-customized-user\">Add a complex image in the panel, with buttons around it in one customized user interface</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1638291560,"post_id":70160544,"comment_id":124047419,"body_markdown":"Do not use file paths for application resources. By the time of deployment, these images will ***not*** be available as files, and must be accessed by URL. Use `getResource(..)` to form that URL.","body":"Do not use file paths for application resources. By the time of deployment, these images will <b><i>not</i></b> be available as files, and must be accessed by URL. Use <code>getResource(..)</code> to form that URL."}],"answers":[{"tags":[],"owner":{"account_id":18537356,"reputation":40,"user_id":13506708,"display_name":"Dario Sansone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638296987,"creation_date":1638296987,"answer_id":70174361,"question_id":70160544,"body_markdown":"Try this: create an Image, resize it to the size of the button, create the icon from this image and place it in the button, but all this only after displaying the frame.\r\n\r\nTry this class\r\n\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.Image;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.*;\r\n    \r\n    public class TestImage {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            MyFrame f=new MyFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.setSize(600,600);\r\n            f.show();\r\n            f.setIcona();\r\n        }\r\n    }\r\n    \r\n    class MyFrame extends JFrame{\r\n        private JPanel panel=new JPanel();\r\n        private JButton button=new JButton();\r\n    \r\n        public MyFrame()throws Exception{\r\n            getContentPane().add(panel);\r\n            panel.add(button);\r\n            //here you can set the size of your button, the photo will adapt (but if the aspect ratio is not right it also deforms)\r\n            button.setPreferredSize(new Dimension(30,160));\r\n        }\r\n    \r\n        public void setIcona() throws IOException{\r\n            Image photo=ImageIO.read(new File(&quot;c:/Image.png&quot;));\r\n            image=photo.getScaledInstance(button.getWidth(), button.getHeight(), Image.SCALE_DEFAULT);\r\n            ImageIcon icon=new ImageIcon(image);\r\n            button.setIcon(icon);\r\n            validate();\r\n        }\r\n    }","title":"How to make image fit perfectly into Jbutton?","body":"<p>Try this: create an Image, resize it to the size of the button, create the icon from this image and place it in the button, but all this only after displaying the frame.</p>\n<p>Try this class</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.Image;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\npublic class TestImage {\n\n    public static void main(String[] args) throws Exception {\n        MyFrame f=new MyFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setSize(600,600);\n        f.show();\n        f.setIcona();\n    }\n}\n\nclass MyFrame extends JFrame{\n    private JPanel panel=new JPanel();\n    private JButton button=new JButton();\n\n    public MyFrame()throws Exception{\n        getContentPane().add(panel);\n        panel.add(button);\n        //here you can set the size of your button, the photo will adapt (but if the aspect ratio is not right it also deforms)\n        button.setPreferredSize(new Dimension(30,160));\n    }\n\n    public void setIcona() throws IOException{\n        Image photo=ImageIO.read(new File(&quot;c:/Image.png&quot;));\n        image=photo.getScaledInstance(button.getWidth(), button.getHeight(), Image.SCALE_DEFAULT);\n        ImageIcon icon=new ImageIcon(image);\n        button.setIcon(icon);\n        validate();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22556968,"reputation":11,"user_id":16745165,"display_name":"Selina Gao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638296987,"creation_date":1638215512,"question_id":70160544,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nCode is :\r\n\r\n     b1 = new JButton(&quot;1&quot;, new ImageIcon(&quot;C:\\\\Users\\\\29125\\\\Downloads\\\\IMG_7740.JPG&quot;));\r\n\r\nIs there a method I can use to make the image fit to the calculator rectangle shape perfectly?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jljm9.png","title":"How to make image fit perfectly into Jbutton?","body":"<p><a href=\"https://i.stack.imgur.com/Jljm9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jljm9.png\" alt=\"enter image description here\" /></a></p>\n<p>Code is :</p>\n<pre><code> b1 = new JButton(&quot;1&quot;, new ImageIcon(&quot;C:\\\\Users\\\\29125\\\\Downloads\\\\IMG_7740.JPG&quot;));\n</code></pre>\n<p>Is there a method I can use to make the image fit to the calculator rectangle shape perfectly?</p>\n"},{"tags":["java","redis","redisson"],"comments":[{"owner":{"account_id":8496559,"reputation":131,"user_id":6370997,"display_name":"Ashwin Sreekumar"},"score":0,"creation_date":1638004786,"post_id":70129192,"comment_id":123975881,"body_markdown":"I have tried using couple of codecs too,\n`redisService.client.getMapCache(key, StringCodec.INSTANCE ).readAllEntrySet() `\nand\n`redisService.client.getMapCache(key, ByteArrayCodec.INSTANCE ).readAllEntrySet()`","body":"I have tried using couple of codecs too, <code>redisService.client.getMapCache(key, StringCodec.INSTANCE ).readAllEntrySet() </code> and <code>redisService.client.getMapCache(key, ByteArrayCodec.INSTANCE ).readAllEntrySet()</code>"}],"answers":[{"tags":[],"owner":{"account_id":8496559,"reputation":131,"user_id":6370997,"display_name":"Ashwin Sreekumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638296924,"creation_date":1638296924,"answer_id":70174349,"question_id":70129192,"body_markdown":"Linking the github issue with the answer\r\nhttps://github.com/redisson/redisson/issues/3989\r\n\r\nbasically,  we can use \r\n`client.getMap(key, StringCodec.INSTANCE).readAllEntrySet`\r\n","title":"Java Redisson client error : bad argument #2 to &#39;unpack&#39; (data string too short)","body":"<p>Linking the github issue with the answer\n<a href=\"https://github.com/redisson/redisson/issues/3989\" rel=\"nofollow noreferrer\">https://github.com/redisson/redisson/issues/3989</a></p>\n<p>basically,  we can use\n<code>client.getMap(key, StringCodec.INSTANCE).readAllEntrySet</code></p>\n"}],"owner":{"account_id":8496559,"reputation":131,"user_id":6370997,"display_name":"Ashwin Sreekumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638296924,"creation_date":1637954714,"question_id":70129192,"body_markdown":"I am unable to read redis using redisson. It keeps on giving this error,\r\n\r\n  ```\r\nExecution exception[[RedisException: ERR Error running script (call to f_7b48e722af8a55315c5dd6c1028bf4652ad35c66):\r\n @user_script:1: user_script:1: bad argument #2 to &#39;unpack&#39; (data string too short). channel: [id: 0xdf273186, L:/127.0.0.1:62712 - R:/127.0.0.1:6379] \r\ncommand: (EVAL), params: [local s = redis.call(&#39;hgetall&#39;, KEYS[1]); local result = {}; local maxSize = tonumber(redis.call(&#39;hg..., 5, ALLUS_XXX, \r\nredisson__timeout__set:{ALLUS_XXX}, redisson__idle__set:{ALLUS_XXX}, redisson__map_cache__last_access__set:{ALLUS_XXX}, {ALLUS_XXX}:redisson_options, 1637953536277]]]\r\n\r\n```\r\n\r\n\r\n\r\n\r\n I am able to set and get values using the redisson framework. But when I set using the cli like\r\n\r\n `HMSET ALLUS_XXX 1 &quot;{\\&quot;ev\\&quot;:\\&quot;Q\\&quot;,\\&quot;sym\\&quot;:\\&quot;XXX\\&quot;,\\&quot;bx\\&quot;:\\&quot;1\\&quot;,\\&quot;ax\\&quot;:\\&quot;20\\&quot;,\\&quot;bp\\&quot;:157.2,\\&quot;ap\\&quot;:157.21,\\&quot;bs\\&quot;:5,\\&quot;as\\&quot;:1,\\&quot;t\\&quot;:\\&quot;1637949207844\\&quot;,\\&quot;q\\&quot;:\\&quot;60303179\\&quot;,\\&quot;z\\&quot;:3}&quot;`\r\n\r\nand now try to retrieve using code ,\r\n`getMapCache(&quot;ALLUS_XXX&quot;).readAllEntrySet()`\r\nIt throws the above error. \r\n\r\n","title":"Java Redisson client error : bad argument #2 to &#39;unpack&#39; (data string too short)","body":"<p>I am unable to read redis using redisson. It keeps on giving this error,</p>\n<pre><code>Execution exception[[RedisException: ERR Error running script (call to f_7b48e722af8a55315c5dd6c1028bf4652ad35c66):\n@user_script:1: user_script:1: bad argument #2 to 'unpack' (data string too short). channel: [id: 0xdf273186, L:/127.0.0.1:62712 - R:/127.0.0.1:6379] \ncommand: (EVAL), params: [local s = redis.call('hgetall', KEYS[1]); local result = {}; local maxSize = tonumber(redis.call('hg..., 5, ALLUS_XXX, \nredisson__timeout__set:{ALLUS_XXX}, redisson__idle__set:{ALLUS_XXX}, redisson__map_cache__last_access__set:{ALLUS_XXX}, {ALLUS_XXX}:redisson_options, 1637953536277]]]\n\n</code></pre>\n<p>I am able to set and get values using the redisson framework. But when I set using the cli like</p>\n<p><code>HMSET ALLUS_XXX 1 &quot;{\\&quot;ev\\&quot;:\\&quot;Q\\&quot;,\\&quot;sym\\&quot;:\\&quot;XXX\\&quot;,\\&quot;bx\\&quot;:\\&quot;1\\&quot;,\\&quot;ax\\&quot;:\\&quot;20\\&quot;,\\&quot;bp\\&quot;:157.2,\\&quot;ap\\&quot;:157.21,\\&quot;bs\\&quot;:5,\\&quot;as\\&quot;:1,\\&quot;t\\&quot;:\\&quot;1637949207844\\&quot;,\\&quot;q\\&quot;:\\&quot;60303179\\&quot;,\\&quot;z\\&quot;:3}&quot;</code></p>\n<p>and now try to retrieve using code ,\n<code>getMapCache(&quot;ALLUS_XXX&quot;).readAllEntrySet()</code>\nIt throws the above error.</p>\n"},{"tags":["java","menu","libgdx","scene2d"],"comments":[{"owner":{"account_id":23494829,"reputation":1,"user_id":17545400,"display_name":"awestin"},"score":0,"creation_date":1638219176,"post_id":70160837,"comment_id":124025525,"body_markdown":"Changed the import to com.badlogic.gdx.scenes.scene2d.ui.TextButton.TextButtonStyle and got it so its not throwing errors but it crashes my game when it launches.","body":"Changed the import to com.badlogic.gdx.scenes.scene2d.ui.TextButton.TextButtonStyl&zwnj;&#8203;e and got it so its not throwing errors but it crashes my game when it launches."},{"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"score":0,"creation_date":1638337400,"post_id":70160837,"comment_id":124058815,"body_markdown":"What is the new exception that is thrown when the game crashes?","body":"What is the new exception that is thrown when the game crashes?"}],"owner":{"account_id":23494829,"reputation":1,"user_id":17545400,"display_name":"awestin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638296882,"creation_date":1638217135,"question_id":70160837,"body_markdown":"Hey new to coding and trying to make a very simple menu im getting stuck with a \r\n\r\n&gt; Cannot resolve constructor &#39;TextButton(java.lang.String, com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle)&#39;\r\n\r\nerror. here is my code\r\n\r\n    public void newGame (){\r\n\r\n\t\tViewport viewport = new FitViewport(screenX, screenY);\r\n\t\tstage = new Stage(viewport, stage.getBatch());\r\n\t\tcom.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle newGameFont = new com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle(new BitmapFont(), Color.WHITE);\r\n\t\tTable table = new Table();\r\n\t\ttable.center();\r\n\t\ttable.setFillParent(true);\r\n\r\n\t\tTextButton startButton = new TextButton(&quot;Start&quot;, newGameFont);\r\n\t\tTextButton quitButton = new TextButton(&quot;Quit&quot;, newGameFont);\r\n\r\n\r\n\r\n\t\tstage.addActor(startButton);\r\n\t\tstage.addActor(quitButton);\r\n\t\tGdx.gl.glClearColor(0, 0, 0, 1);\r\n\t\tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\t\tstage.draw();\r\n\r\n\r\n\t}\r\n\r\nreally appreciate any help","title":"LibGdx Menu getting the same error over again","body":"<p>Hey new to coding and trying to make a very simple menu im getting stuck with a</p>\n<blockquote>\n<p>Cannot resolve constructor 'TextButton(java.lang.String, com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle)'</p>\n</blockquote>\n<p>error. here is my code</p>\n<pre><code>public void newGame (){\n\n    Viewport viewport = new FitViewport(screenX, screenY);\n    stage = new Stage(viewport, stage.getBatch());\n    com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle newGameFont = new com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle(new BitmapFont(), Color.WHITE);\n    Table table = new Table();\n    table.center();\n    table.setFillParent(true);\n\n    TextButton startButton = new TextButton(&quot;Start&quot;, newGameFont);\n    TextButton quitButton = new TextButton(&quot;Quit&quot;, newGameFont);\n\n\n\n    stage.addActor(startButton);\n    stage.addActor(quitButton);\n    Gdx.gl.glClearColor(0, 0, 0, 1);\n    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n    stage.draw();\n\n\n}\n</code></pre>\n<p>really appreciate any help</p>\n"},{"tags":["java","arrays","file","io","populate"],"comments":[{"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"score":0,"creation_date":1638294986,"post_id":70173705,"comment_id":124048760,"body_markdown":"Your currentLine is null, therefore, it never enters the while loop that you have where the statement is not null.","body":"Your currentLine is null, therefore, it never enters the while loop that you have where the statement is not null."}],"answers":[{"tags":[],"owner":{"account_id":21952604,"reputation":1,"user_id":16231637,"display_name":"Mac7677"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638293997,"creation_date":1638293997,"answer_id":70173788,"question_id":70173705,"body_markdown":"I am not sure of my answer. I think it is because you forgot to import java io package into the program. Hope you got it.","title":"How to read a text file and add lines of it into an array in Java?","body":"<p>I am not sure of my answer. I think it is because you forgot to import java io package into the program. Hope you got it.</p>\n"},{"tags":[],"owner":{"account_id":8784233,"reputation":86,"user_id":6566877,"display_name":"solanki bhargav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638296764,"creation_date":1638296764,"answer_id":70174315,"question_id":70173705,"body_markdown":"- BufferedReader object is null and you are trying to access which is not possible in java.\r\n- I didn`t get what exactly you try to do but you can do something like this.\r\n\r\n```\r\npublic class Task3 {\r\n\r\n\tstatic String [] name = new String [3];\r\n    static String [] surname = new String [3];\r\n    \r\n    public static void main(String[] args) {\r\n        try{\r\n            BufferedReader reader =null;\r\n            reader=new BufferedReader(new FileReader(&quot;/home/ancubate/names.txt&quot;));\r\n            List&lt;String&gt; lines = reader.lines().collect(Collectors.toList());\r\n            int x=0;\r\n            \r\n            while(lines.size() != (x+1)){\r\n                name[x]=lines.get(x);\r\n                surname[x]=lines.get(x);\r\n                x=x+1;\r\n                \r\n            }\r\n        }\r\n        catch(Exception e){\r\n            System.out.println(&quot;The following error occured:&quot; + e.getMessage());\r\n        }\r\n        \r\n        for(int x =0; x&lt;name.length; x++){\r\n            System.out.println(\r\n            &quot;name:&quot; + name[x] + &quot;\\n&quot;+\r\n            &quot;surname: &quot; + surname[x] +&quot;\\n&quot;\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n- reader.lines() - to get all the lines from the file \r\n- collect(Collectors.toList()) - stream API collect as list","title":"How to read a text file and add lines of it into an array in Java?","body":"<ul>\n<li>BufferedReader object is null and you are trying to access which is not possible in java.</li>\n<li>I didn`t get what exactly you try to do but you can do something like this.</li>\n</ul>\n<pre><code>public class Task3 {\n\n    static String [] name = new String [3];\n    static String [] surname = new String [3];\n    \n    public static void main(String[] args) {\n        try{\n            BufferedReader reader =null;\n            reader=new BufferedReader(new FileReader(&quot;/home/ancubate/names.txt&quot;));\n            List&lt;String&gt; lines = reader.lines().collect(Collectors.toList());\n            int x=0;\n            \n            while(lines.size() != (x+1)){\n                name[x]=lines.get(x);\n                surname[x]=lines.get(x);\n                x=x+1;\n                \n            }\n        }\n        catch(Exception e){\n            System.out.println(&quot;The following error occured:&quot; + e.getMessage());\n        }\n        \n        for(int x =0; x&lt;name.length; x++){\n            System.out.println(\n            &quot;name:&quot; + name[x] + &quot;\\n&quot;+\n            &quot;surname: &quot; + surname[x] +&quot;\\n&quot;\n            );\n        }\n    }\n\n}\n\n</code></pre>\n<ul>\n<li>reader.lines() - to get all the lines from the file</li>\n<li>collect(Collectors.toList()) - stream API collect as list</li>\n</ul>\n"}],"owner":{"account_id":21330792,"reputation":31,"user_id":15702624,"display_name":"Kristie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70174315,"answer_count":2,"score":0,"last_activity_date":1638296764,"creation_date":1638293658,"question_id":70173705,"body_markdown":"I am new to coding and I was wondering how I would be able to add the lines of my text file into an array in my program. My code looks like this:\r\n```\r\nimport java.io.*;\r\npublic class Test {\r\n    \r\n    static String [] name = new String [3];\r\n    static String [] surname = new String [3];\r\n    \r\n    public static void main(String[] args) {\r\n        try{\r\n            BufferedReader reader =null;\r\n            String currentLine = reader.readLine();\r\n            reader=new BufferedReader(new FileReader(&quot;Names.txt&quot;));\r\n\r\n            int x=0;\r\n            \r\n            while(currentLine!=null){\r\n                name[x]=reader.readLine();\r\n                currentLine=reader.readLine();\r\n                surname[x]=reader.readLine();\r\n                currentLine=reader.readLine();\r\n                x=x+1;\r\n            }\r\n        }\r\n        catch(Exception e){\r\n            System.out.println(&quot;The following error occured:&quot; + e.getMessage());\r\n        }\r\n        \r\n        for(int x =0; x&lt;name.length; x++){\r\n            System.out.println(\r\n            &quot;name:&quot; + name[x] + &quot;\\n&quot;+\r\n            &quot;surname: &quot; + surname[x] +&quot;\\n&quot;\r\n            );\r\n        }\r\n    }\r\n```\r\n\r\nThe error I am getting is ```Cannot invoke &quot;java.io.BufferedReader.readLine()&quot; because &quot;reader&quot; is null```. How do I fix that?","title":"How to read a text file and add lines of it into an array in Java?","body":"<p>I am new to coding and I was wondering how I would be able to add the lines of my text file into an array in my program. My code looks like this:</p>\n<pre><code>import java.io.*;\npublic class Test {\n    \n    static String [] name = new String [3];\n    static String [] surname = new String [3];\n    \n    public static void main(String[] args) {\n        try{\n            BufferedReader reader =null;\n            String currentLine = reader.readLine();\n            reader=new BufferedReader(new FileReader(&quot;Names.txt&quot;));\n\n            int x=0;\n            \n            while(currentLine!=null){\n                name[x]=reader.readLine();\n                currentLine=reader.readLine();\n                surname[x]=reader.readLine();\n                currentLine=reader.readLine();\n                x=x+1;\n            }\n        }\n        catch(Exception e){\n            System.out.println(&quot;The following error occured:&quot; + e.getMessage());\n        }\n        \n        for(int x =0; x&lt;name.length; x++){\n            System.out.println(\n            &quot;name:&quot; + name[x] + &quot;\\n&quot;+\n            &quot;surname: &quot; + surname[x] +&quot;\\n&quot;\n            );\n        }\n    }\n</code></pre>\n<p>The error I am getting is <code>Cannot invoke &quot;java.io.BufferedReader.readLine()&quot; because &quot;reader&quot; is null</code>. How do I fix that?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":0,"creation_date":1638296904,"post_id":70174283,"comment_id":124049453,"body_markdown":"So are you asking if there is a way to have mutability, but not doing deep copy? what is the problem with deep copy? the time it takes?","body":"So are you asking if there is a way to have mutability, but not doing deep copy? what is the problem with deep copy? the time it takes?"},{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":0,"creation_date":1638297248,"post_id":70174283,"comment_id":124049555,"body_markdown":"@NathanHughes the object is mutable, but the field `List&lt;A&gt; list` in `B` should resemble an immutable list, but when you get it, you can edit it without affecting the original list.","body":"@NathanHughes the object is mutable, but the field <code>List&lt;A&gt; list</code> in <code>B</code> should resemble an immutable list, but when you get it, you can edit it without affecting the original list."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1638297786,"post_id":70174283,"comment_id":124049740,"body_markdown":"I would first make `A` completely immutable by having `num` be `final`. This lets us avoid duplicating `A` each time. Next, I would modify `B` to not clone the list on read and instead copy the values to an private collection on write. Since the inner list can already be switched out for another at any time, it may be better to keep a single final list which stores our elements separately from the list they were passed with and can be updated each time the elements are changed. Or even better, we could make `B` completely immutable as well to match the style of `A`.","body":"I would first make <code>A</code> completely immutable by having <code>num</code> be <code>final</code>. This lets us avoid duplicating <code>A</code> each time. Next, I would modify <code>B</code> to not clone the list on read and instead copy the values to an private collection on write. Since the inner list can already be switched out for another at any time, it may be better to keep a single final list which stores our elements separately from the list they were passed with and can be updated each time the elements are changed. Or even better, we could make <code>B</code> completely immutable as well to match the style of <code>A</code>."},{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1638306272,"post_id":70174283,"comment_id":124052754,"body_markdown":"This way to clone objects on every getter seems incredibly overkill and will destroy performance for sure. The correct way to do this is through immutability: clone the objects only when necessary. Lombok can do most of the code automatically for you with `@Value`, `@Builder` and `@With`. Now, not everyone is a fan of Lombok.","body":"This way to clone objects on every getter seems incredibly overkill and will destroy performance for sure. The correct way to do this is through immutability: clone the objects only when necessary. Lombok can do most of the code automatically for you with <code>@Value</code>, <code>@Builder</code> and <code>@With</code>. Now, not everyone is a fan of Lombok."}],"owner":{"account_id":13550105,"reputation":21,"user_id":9775201,"display_name":"jonatanE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638296609,"creation_date":1638296609,"question_id":70174283,"body_markdown":"We use java OOP with getters and setters within the class to use the logic inside the getters and setters within those access methods (even if there is no logic inside these methods).\r\n\r\nNow, when we use getters/setters we don&#39;t return or work on the object reference we use a copy of it, for immutability purposes.\r\n\r\nFor example:\r\n\r\nWe have 2 classes, class A and class B:\r\n```java\r\npublic class A {\r\n\tprivate int num;\r\n\r\n\tpublic A(int num) {\r\n\t\tthis.changeNum(num);\r\n\t}\r\n\r\n\tpublic A(A other) {\r\n\t\tthis(other.num());\r\n\t}\r\n\r\n\tpublic void changeNum(int num) {\r\n\t\tthis.num = num;\r\n\t}\r\n\r\n\tpublic int num() {\r\n\t\treturn this.num;\r\n\t}\r\n\r\n\tpublic int multiply(int multiply) {\r\n\t\treturn this.num() * multiply;\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class B {\r\n\tprivate List&lt;A&gt; list;\r\n\r\n\tpublic B(List&lt;A&gt; list) {\r\n\t\tthis.list = list;\r\n\t}\r\n\r\n\tpublic void changeList(List&lt;A&gt; list) {\r\n\t\tthis.list = copyList(list);\r\n\t}\r\n\r\n\tpublic List&lt;A&gt; list() {\r\n\t\treturn copyList(this.list);\r\n\t}\r\n\r\n\tpublic int sumMultiply(int multiply) {\r\n\t\tint sum = 0;\r\n\r\n\t\tfor (A a : this.list()) {\r\n\t\t\tsum += a.multiply(multiply);\r\n\t\t}\r\n\r\n\t\treturn sum;\r\n\t}\r\n\r\n\tprivate static List&lt;A&gt; copyList(List&lt;A&gt; list) {\r\n\t\tList&lt;A&gt; copyList = new ArrayList&lt;A&gt;();\r\n\r\n\t\tfor (A a : list) {\r\n\t\t\tcopyList.add(new A(a));\r\n\t\t}\r\n\r\n\t\treturn copyList;\r\n\t}\r\n}\r\n```\r\n\r\nAs we can see here, for a simple method that sums the multiplication of a list of objects, we need to do a deep copy.\r\nso every access on the data members we need to make a deep copy.\r\n\r\nIs there a better way to do this, or do we need to pick one approach:\r\n\r\n - use copy/deep copy on getters and setters and access directly with this without access methods within the class\r\n - access data members within a class with getters/setters without deep copy.\r\n\r\n","title":"Java oop getters/setters within a class with deep copy","body":"<p>We use java OOP with getters and setters within the class to use the logic inside the getters and setters within those access methods (even if there is no logic inside these methods).</p>\n<p>Now, when we use getters/setters we don't return or work on the object reference we use a copy of it, for immutability purposes.</p>\n<p>For example:</p>\n<p>We have 2 classes, class A and class B:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private int num;\n\n    public A(int num) {\n        this.changeNum(num);\n    }\n\n    public A(A other) {\n        this(other.num());\n    }\n\n    public void changeNum(int num) {\n        this.num = num;\n    }\n\n    public int num() {\n        return this.num;\n    }\n\n    public int multiply(int multiply) {\n        return this.num() * multiply;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class B {\n    private List&lt;A&gt; list;\n\n    public B(List&lt;A&gt; list) {\n        this.list = list;\n    }\n\n    public void changeList(List&lt;A&gt; list) {\n        this.list = copyList(list);\n    }\n\n    public List&lt;A&gt; list() {\n        return copyList(this.list);\n    }\n\n    public int sumMultiply(int multiply) {\n        int sum = 0;\n\n        for (A a : this.list()) {\n            sum += a.multiply(multiply);\n        }\n\n        return sum;\n    }\n\n    private static List&lt;A&gt; copyList(List&lt;A&gt; list) {\n        List&lt;A&gt; copyList = new ArrayList&lt;A&gt;();\n\n        for (A a : list) {\n            copyList.add(new A(a));\n        }\n\n        return copyList;\n    }\n}\n</code></pre>\n<p>As we can see here, for a simple method that sums the multiplication of a list of objects, we need to do a deep copy.\nso every access on the data members we need to make a deep copy.</p>\n<p>Is there a better way to do this, or do we need to pick one approach:</p>\n<ul>\n<li>use copy/deep copy on getters and setters and access directly with this without access methods within the class</li>\n<li>access data members within a class with getters/setters without deep copy.</li>\n</ul>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1637869286,"post_id":70115230,"comment_id":123946556,"body_markdown":"Try saving your `markers` returned by `addMarker` in a `map` object(I suggest `hashmap`) and using `marker.remove` to remove duplicate markers. Source: [Remove old markers on Google Map](https://stackoverflow.com/a/13692845/16653700)- Antony","body":"Try saving your <code>markers</code> returned by <code>addMarker</code> in a <code>map</code> object(I suggest <code>hashmap</code>) and using <code>marker.remove</code> to remove duplicate markers. Source: <a href=\"https://stackoverflow.com/a/13692845/16653700\">Remove old markers on Google Map</a>- Antony"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1637869371,"post_id":70115230,"comment_id":123946580,"body_markdown":"If you use a `hashmap` you can keep track if which user already has a marker and remove previous markers using a conditional with`.contains` or another implementation.","body":"If you use a <code>hashmap</code> you can keep track if which user already has a marker and remove previous markers using a conditional with<code>.contains</code> or another implementation."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1637913922,"post_id":70115230,"comment_id":123954670,"body_markdown":"Have you tried Alias Cartellano&#39;s suggestion? Does it work?","body":"Have you tried Alias Cartellano&#39;s suggestion? Does it work?"},{"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"score":0,"creation_date":1637938883,"post_id":70115230,"comment_id":123963697,"body_markdown":"I still trying on it!!!","body":"I still trying on it!!!"},{"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"score":0,"creation_date":1638015647,"post_id":70115230,"comment_id":123977963,"body_markdown":"Now i can remove the old marker of the user from (Source: Remove old markers) on Map. But, I m facing some problems when saving the markers in the hashmap! I can only save the marker as Marker currentLocationMarker = mMap.addMarker(new MarkerOptions().position(location).title(lat + &quot;, &quot; + lng)). So, the map will only show and update one user&#39;s real-time location.","body":"Now i can remove the old marker of the user from (Source: Remove old markers) on Map. But, I m facing some problems when saving the markers in the hashmap! I can only save the marker as Marker currentLocationMarker = mMap.addMarker(new MarkerOptions().position(location).title(lat + &quot;, &quot; + lng)). So, the map will only show and update one user&#39;s real-time location."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1638042989,"post_id":70115230,"comment_id":123984221,"body_markdown":"Can you add your updated code to the question?","body":"Can you add your updated code to the question?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1638043122,"post_id":70115230,"comment_id":123984257,"body_markdown":"I suggest you save markers in the hashmap by using g as a key(or a userid if it isn&#39;t the userid) and you can then determine which user&#39;s marker to update.","body":"I suggest you save markers in the hashmap by using g as a key(or a userid if it isn&#39;t the userid) and you can then determine which user&#39;s marker to update."},{"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"score":0,"creation_date":1638194414,"post_id":70115230,"comment_id":124015850,"body_markdown":"I have updated the code! Hope you can help me with the problem of hashmap. Thanks","body":"I have updated the code! Hope you can help me with the problem of hashmap. Thanks"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1638197242,"post_id":70115230,"comment_id":124017155,"body_markdown":"Declare `private HashMap&lt;string, Marker&gt; hm=new HashMap()&lt;&gt;`,  get g as a string with `String g=ds.child(&quot;you&quot;).child(&quot;g&quot;)`(add `getValue`), check `if(hm.contains(g))`(replace your original if)then `hm.get(g).remove()` in the if to remove the marker if it is. Finally, create the marker as usual and put it in the hashmap using `hm.put(g, marker)`.","body":"Declare <code>private HashMap&lt;string, Marker&gt; hm=new HashMap()&lt;&gt;</code>,  get g as a string with <code>String g=ds.child(&quot;you&quot;).child(&quot;g&quot;)</code>(add <code>getValue</code>), check <code>if(hm.contains(g))</code>(replace your original if)then <code>hm.get(g).remove()</code> in the if to remove the marker if it is. Finally, create the marker as usual and put it in the hashmap using <code>hm.put(g, marker)</code>."},{"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"score":0,"creation_date":1638258964,"post_id":70115230,"comment_id":124034121,"body_markdown":"Thanks a lot, the multiple user&#39;s locations can be stored in hashmap and shown in the map in real-time for now. But the same problem happened here which is the old markers of multiple users still cannot be removed. I have updated the code above. Hope you can take a look and help. Thanks","body":"Thanks a lot, the multiple user&#39;s locations can be stored in hashmap and shown in the map in real-time for now. But the same problem happened here which is the old markers of multiple users still cannot be removed. I have updated the code above. Hope you can take a look and help. Thanks"},{"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"score":0,"creation_date":1638259041,"post_id":70115230,"comment_id":124034141,"body_markdown":"I have stored the marker by using userID instead of g because the g will be changed once the user is moving.","body":"I have stored the marker by using userID instead of g because the g will be changed once the user is moving."},{"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"score":0,"creation_date":1638259108,"post_id":70115230,"comment_id":124034167,"body_markdown":"The if(hm.contains(g)) and hm.get(g).remove() cannot function to remove the old markers of multiple users!","body":"The if(hm.contains(g)) and hm.get(g).remove() cannot function to remove the old markers of multiple users!"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1638264246,"post_id":70115230,"comment_id":124035917,"body_markdown":"What happens when you use `hm.get(userid).remove()` instead of `hm.remove(userID)`?.","body":"What happens when you use <code>hm.get(userid).remove()</code> instead of <code>hm.remove(userID)</code>?."},{"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"score":1,"creation_date":1638296551,"post_id":70115230,"comment_id":124049323,"body_markdown":"It works!!! Thank you so much!","body":"It works!!! Thank you so much!"}],"answers":[{"tags":[],"owner":{"account_id":4710417,"reputation":1861,"user_id":3811068,"display_name":"Dhananjay M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637891654,"creation_date":1637891654,"answer_id":70118848,"question_id":70115230,"body_markdown":"You are trying to store and retrieve user&#39;s each location information (lat, long) in the database.\r\nBut I think for the display on the map, you may want to show only the user&#39;s latest or current location. This way you will only have at max one marker per user in the map. When the user&#39;s location changes you can either update that same marker or delete the existing one and add the new. For this you can check how @alias suggested in the above comments to your question.\r\nTo identify the latest location per user, you can store the date and time with each record. So that you can query the database accordingly.","title":"How to remove the old marker of multiple updated location on Google Map in Android Studio?","body":"<p>You are trying to store and retrieve user's each location information (lat, long) in the database.\nBut I think for the display on the map, you may want to show only the user's latest or current location. This way you will only have at max one marker per user in the map. When the user's location changes you can either update that same marker or delete the existing one and add the new. For this you can check how @alias suggested in the above comments to your question.\nTo identify the latest location per user, you can store the date and time with each record. So that you can query the database accordingly.</p>\n"}],"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638296524,"creation_date":1637861398,"question_id":70115230,"body_markdown":"    private final HashMap&lt;String, Marker&gt; hm=new HashMap&lt;String, Marker&gt;();\r\n     @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mMap.getUiSettings().setZoomControlsEnabled(true);\r\n\r\n\r\n        DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference userLocationRef = db.child(&quot;UserLocation&quot;);\r\n\r\n        db.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                userLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n\r\n\r\n                            for (DataSnapshot ds : task.getResult().getChildren()) {\r\n                                String userID = String.valueOf(ds.child(&quot;userID&quot;).getValue());\r\n\r\n                                double lat = ds.child(&quot;You&quot;).child(&quot;l&quot;).child(&quot;0&quot;).getValue(Double.class);\r\n                                double lng = ds.child(&quot;You&quot;).child(&quot;l&quot;).child(&quot;1&quot;).getValue(Double.class);\r\n                                Log.d(&quot;TAG&quot;, lat + &quot;, &quot; + lng); //Check the values\r\n                                Log.d(&quot;TAG&quot;, userID+&quot;hi&quot;); //Check the values\r\n\r\n                                //Add location on Google Map\r\n                                LatLng location = new LatLng(lat, lng);\r\n\r\n\r\n                                if (hm.containsKey(userID)) {\r\n                                    hm.get(userID).remove();\r\n                                }\r\n\r\n                                currentLocationMarker = mMap.addMarker(new MarkerOptions().position(location).title(userID));\r\n                                currentLocationMarker.showInfoWindow();\r\n                                hm.put(userID, currentLocationMarker);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                            }\r\n                        } else {\r\n                            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n                        }\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });}\r\n\r\nThe above code is used to retrieve multiple users&#39; real-time locations from a real-time firebase.\r\nThe structure of the real-time firebase is shown below:\r\n\r\n[![structure of firebase][1]][1]\r\n\r\nWhen the location of the multiple user&#39;s changes, the markers start to update the location of the users, but the problem is when the markers begin to update the new location of users, the old markers of the users were not removed.\r\n\r\nThe problem happened as the image shown below:\r\n[![marker problem][2]][2]\r\n\r\nSo, the problem is how to remove the old markers of multiple markers, and the map can only show one marker for each user? Thanks if you can help!\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BoNmx.png\r\n  [2]: https://i.stack.imgur.com/Q6ziQ.png","title":"How to remove the old marker of multiple updated location on Google Map in Android Studio?","body":"<pre><code>private final HashMap&lt;String, Marker&gt; hm=new HashMap&lt;String, Marker&gt;();\n @Override\npublic void onMapReady(GoogleMap googleMap) {\n    mMap = googleMap;\n    mMap.getUiSettings().setZoomControlsEnabled(true);\n\n\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference userLocationRef = db.child(&quot;UserLocation&quot;);\n\n    db.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            userLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n\n\n                        for (DataSnapshot ds : task.getResult().getChildren()) {\n                            String userID = String.valueOf(ds.child(&quot;userID&quot;).getValue());\n\n                            double lat = ds.child(&quot;You&quot;).child(&quot;l&quot;).child(&quot;0&quot;).getValue(Double.class);\n                            double lng = ds.child(&quot;You&quot;).child(&quot;l&quot;).child(&quot;1&quot;).getValue(Double.class);\n                            Log.d(&quot;TAG&quot;, lat + &quot;, &quot; + lng); //Check the values\n                            Log.d(&quot;TAG&quot;, userID+&quot;hi&quot;); //Check the values\n\n                            //Add location on Google Map\n                            LatLng location = new LatLng(lat, lng);\n\n\n                            if (hm.containsKey(userID)) {\n                                hm.get(userID).remove();\n                            }\n\n                            currentLocationMarker = mMap.addMarker(new MarkerOptions().position(location).title(userID));\n                            currentLocationMarker.showInfoWindow();\n                            hm.put(userID, currentLocationMarker);\n\n\n\n\n\n\n\n                        }\n                    } else {\n                        Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n                    }\n                }\n            });\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });}\n</code></pre>\n<p>The above code is used to retrieve multiple users' real-time locations from a real-time firebase.\nThe structure of the real-time firebase is shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/BoNmx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BoNmx.png\" alt=\"structure of firebase\" /></a></p>\n<p>When the location of the multiple user's changes, the markers start to update the location of the users, but the problem is when the markers begin to update the new location of users, the old markers of the users were not removed.</p>\n<p>The problem happened as the image shown below:\n<a href=\"https://i.stack.imgur.com/Q6ziQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q6ziQ.png\" alt=\"marker problem\" /></a></p>\n<p>So, the problem is how to remove the old markers of multiple markers, and the map can only show one marker for each user? Thanks if you can help!</p>\n"},{"tags":["java","json","jackson","mapping"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1638294972,"post_id":70173748,"comment_id":124048751,"body_markdown":"You may be able to use [@jsonAlias](https://stackoverflow.com/a/62339100/16653700) to do this.","body":"You may be able to use <a href=\"https://stackoverflow.com/a/62339100/16653700\">@jsonAlias</a> to do this."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638296148,"creation_date":1638296148,"answer_id":70174208,"question_id":70173748,"body_markdown":"Assuming you have a constructor in `ClassA` as follows:\r\n```java\r\nclass ClassA {\r\n    String name;\r\n    int count;\r\n\r\n    public ClassA(String name, int count) {\r\n        this.name = name;\r\n        this.count = count;\r\n    }\r\n}\r\n```\r\n\r\nYou can use `@JsonCreator` to fine tune the constructor or factory method used in the deserialization as follows:\r\n```java\r\nclass ClassB {\r\n    Set&lt;ClassA&gt; data;\r\n\r\n    @JsonCreator\r\n    public ClassB(Map&lt;String, Integer&gt; data){\r\n        this.data = data.entrySet().stream()\r\n                .map(entry -&gt; new ClassA(entry.getKey(), entry.getValue()))\r\n                .collect(Collectors.toSet());\r\n    }\r\n}\r\n```","title":"JAVA : How Map JSON key value pair to different variables Jackson","body":"<p>Assuming you have a constructor in <code>ClassA</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClassA {\n    String name;\n    int count;\n\n    public ClassA(String name, int count) {\n        this.name = name;\n        this.count = count;\n    }\n}\n</code></pre>\n<p>You can use <code>@JsonCreator</code> to fine tune the constructor or factory method used in the deserialization as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClassB {\n    Set&lt;ClassA&gt; data;\n\n    @JsonCreator\n    public ClassB(Map&lt;String, Integer&gt; data){\n        this.data = data.entrySet().stream()\n                .map(entry -&gt; new ClassA(entry.getKey(), entry.getValue()))\n                .collect(Collectors.toSet());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9771532,"reputation":33,"user_id":7243233,"display_name":"H.Amos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638296148,"creation_date":1638293854,"question_id":70173748,"body_markdown":"How to map the following json to a classB object using Jackson\r\n\r\nJSON Input\r\n\r\n    {&quot;pattern&quot;:3,&quot;graphs&quot;:4}\r\n\r\nClass A\r\n\r\n    class ClassA{\r\n    String name;\r\n    int count;\r\n    }\r\nClass B\r\n\r\n    class ClassB{\r\n    Set&lt;ClassA&gt; data;\r\n    }","title":"JAVA : How Map JSON key value pair to different variables Jackson","body":"<p>How to map the following json to a classB object using Jackson</p>\n<p>JSON Input</p>\n<pre><code>{&quot;pattern&quot;:3,&quot;graphs&quot;:4}\n</code></pre>\n<p>Class A</p>\n<pre><code>class ClassA{\nString name;\nint count;\n}\n</code></pre>\n<p>Class B</p>\n<pre><code>class ClassB{\nSet&lt;ClassA&gt; data;\n}\n</code></pre>\n"},{"tags":["java","data-structures","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":20726875,"reputation":124,"user_id":15219976,"display_name":"krankkk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638296025,"creation_date":1638295403,"answer_id":70174057,"question_id":70174008,"body_markdown":"This makes no sense:\r\n```java\r\n if (current == null) {\r\n            current = newNode;\r\n            return;\r\n        }\r\n```\r\n\r\n`current.right` and `current.right` can be `null`, so you never actually add something to a Node.\r\n\r\nTo set something you would need to do i.e. `current.right = newNode`\r\n\r\nThis should work:\r\n```java\r\npublic class BST&lt;E extends Comparable&lt;E&gt;&gt; {\r\n\r\n    private class BSTNode implements Comparable&lt;BSTNode&gt; {\r\n\r\n        public E data;\r\n        public BSTNode left;\r\n        public BSTNode right;\r\n\r\n        public BSTNode(E data) {\r\n            this.data = data;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(BSTNode o) {\r\n            return this.data.compareTo(o.data);\r\n        }\r\n    }\r\n\r\n    public BSTNode root;\r\n\r\n    public void insert(E data) {\r\n        root = insertRec(root, new BSTNode(data));\r\n    }\r\n\r\n    private BSTNode insertRec(BSTNode current, BSTNode newNode) {\r\n        if (current == null){\r\n            return newNode;\r\n        }\r\n\r\n        if (current.compareTo(newNode) &gt; 0) {\r\n           current.right = insertRec(current.right, newNode);\r\n        } else {\r\n            current.left = insertRec(current.left, newNode);\r\n        }\r\n\r\n        return current;\r\n    }\r\n}\r\n```","title":"What&#39;s wrong with my insert() method in my Binary Search Tree implementation?","body":"<p>This makes no sense:</p>\n<pre class=\"lang-java prettyprint-override\"><code> if (current == null) {\n            current = newNode;\n            return;\n        }\n</code></pre>\n<p><code>current.right</code> and <code>current.right</code> can be <code>null</code>, so you never actually add something to a Node.</p>\n<p>To set something you would need to do i.e. <code>current.right = newNode</code></p>\n<p>This should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BST&lt;E extends Comparable&lt;E&gt;&gt; {\n\n    private class BSTNode implements Comparable&lt;BSTNode&gt; {\n\n        public E data;\n        public BSTNode left;\n        public BSTNode right;\n\n        public BSTNode(E data) {\n            this.data = data;\n        }\n\n        @Override\n        public int compareTo(BSTNode o) {\n            return this.data.compareTo(o.data);\n        }\n    }\n\n    public BSTNode root;\n\n    public void insert(E data) {\n        root = insertRec(root, new BSTNode(data));\n    }\n\n    private BSTNode insertRec(BSTNode current, BSTNode newNode) {\n        if (current == null){\n            return newNode;\n        }\n\n        if (current.compareTo(newNode) &gt; 0) {\n           current.right = insertRec(current.right, newNode);\n        } else {\n            current.left = insertRec(current.left, newNode);\n        }\n\n        return current;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8654533,"reputation":109,"user_id":17533465,"display_name":"guest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70174057,"answer_count":1,"score":-1,"last_activity_date":1638296025,"creation_date":1638295138,"question_id":70174008,"body_markdown":"I tried to create a recursive method to insert an element into my binary search tree; however, I can&#39;t seem to find the error in my code (I suspect it has something to do with references). \r\n\r\n```\r\npublic class BST&lt;E extends Comparable&lt;E&gt;&gt; {\r\n\r\n    private class BSTNode implements Comparable&lt;BSTNode&gt; {\r\n\r\n        public E data;\r\n        public BSTNode left;\r\n        public BSTNode right;\r\n\r\n        public BSTNode(E data) {\r\n            this.data = data;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(BSTNode o) {\r\n            return this.data.compareTo(o.data);\r\n        }\r\n    }\r\n\r\n    public BSTNode root;\r\n\r\n    public void insert(E data) {\r\n        insertRec(root, new BSTNode(data));\r\n    }\r\n\r\n    private void insertRec(BSTNode current, BSTNode newNode) {\r\n        if (current == null) {\r\n            current = newNode;\r\n            return;\r\n        }\r\n        if (current.compareTo(newNode) &gt; 0) {\r\n            insertRec(current.right, newNode);\r\n        }\r\n        else if (current.compareTo(newNode) &lt; 0) {\r\n            insertRec(current.left, newNode);\r\n        }\r\n    }\r\n\r\n ```","title":"What&#39;s wrong with my insert() method in my Binary Search Tree implementation?","body":"<p>I tried to create a recursive method to insert an element into my binary search tree; however, I can't seem to find the error in my code (I suspect it has something to do with references).</p>\n<pre><code>public class BST&lt;E extends Comparable&lt;E&gt;&gt; {\n\n    private class BSTNode implements Comparable&lt;BSTNode&gt; {\n\n        public E data;\n        public BSTNode left;\n        public BSTNode right;\n\n        public BSTNode(E data) {\n            this.data = data;\n        }\n\n        @Override\n        public int compareTo(BSTNode o) {\n            return this.data.compareTo(o.data);\n        }\n    }\n\n    public BSTNode root;\n\n    public void insert(E data) {\n        insertRec(root, new BSTNode(data));\n    }\n\n    private void insertRec(BSTNode current, BSTNode newNode) {\n        if (current == null) {\n            current = newNode;\n            return;\n        }\n        if (current.compareTo(newNode) &gt; 0) {\n            insertRec(current.right, newNode);\n        }\n        else if (current.compareTo(newNode) &lt; 0) {\n            insertRec(current.left, newNode);\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","ide","jdeveloper"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1638251762,"post_id":70164499,"comment_id":124032162,"body_markdown":"Why are you convinced it exists?","body":"Why are you convinced it exists?"},{"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"score":0,"creation_date":1638259902,"post_id":70164499,"comment_id":124034401,"body_markdown":"Its frustrating then. For instance you write `myMethod(foo);` , it warns by red,and it certainly should be there to create the stub method...Such a swift IDE on compiling and run! Nothing stands near :(","body":"Its frustrating then. For instance you write <code>myMethod(foo);</code> , it warns by red,and it certainly should be there to create the stub method...Such a swift IDE on compiling and run! Nothing stands near :("}],"answers":[{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638266362,"creation_date":1638265656,"answer_id":70167258,"question_id":70164499,"body_markdown":"Which exact JDev version do you use?\r\nIf you type fixme(); in a line and this method doesn&#39;t exist, you should see a red light bulb in the left side gutter. Click on it and it shows you what to do to fix the problem. \r\n\r\n[![red light bulb][1]][1]\r\n\r\nclick on red light bulb\r\n\r\n[![show fixes][2]][2]\r\n\r\nYou can try to assign a shortcut key to the &#39;quick fixes&#39; method and see if it more works like in IDEA.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/llSkP.png\r\n  [2]: https://i.stack.imgur.com/wwzlr.png","title":"Cannot shortcuting fix problem in jdeveloper","body":"<p>Which exact JDev version do you use?\nIf you type fixme(); in a line and this method doesn't exist, you should see a red light bulb in the left side gutter. Click on it and it shows you what to do to fix the problem.</p>\n<p><a href=\"https://i.stack.imgur.com/llSkP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llSkP.png\" alt=\"red light bulb\" /></a></p>\n<p>click on red light bulb</p>\n<p><a href=\"https://i.stack.imgur.com/wwzlr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wwzlr.png\" alt=\"show fixes\" /></a></p>\n<p>You can try to assign a shortcut key to the 'quick fixes' method and see if it more works like in IDEA.</p>\n"}],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70167258,"answer_count":1,"score":0,"last_activity_date":1638295841,"creation_date":1638248086,"question_id":70164499,"body_markdown":"I want use &quot;fix problem&quot; shortcut in JDeveloper IDE like it is in Idea e.g.(Alt+Enter). \r\nCannot find it googling.","title":"Cannot shortcuting fix problem in jdeveloper","body":"<p>I want use &quot;fix problem&quot; shortcut in JDeveloper IDE like it is in Idea e.g.(Alt+Enter).\nCannot find it googling.</p>\n"},{"tags":["java","eclipse","package"],"answers":[{"tags":[],"owner":{"account_id":21056351,"reputation":61,"user_id":15475534,"display_name":"Shenavyre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638087272,"creation_date":1638071250,"answer_id":70140515,"question_id":70140502,"body_markdown":"I&#39;ve discovered that&#39;s it&#39;s because I changed my JRE to 1.8. Upon moving back to JavaSE-16, I have fixed it/the package disappeared.","title":"I have a default package that I can&#39;t delete on Eclipse","body":"<p>I've discovered that's it's because I changed my JRE to 1.8. Upon moving back to JavaSE-16, I have fixed it/the package disappeared.</p>\n"},{"tags":[],"owner":{"account_id":9610902,"reputation":1,"user_id":7135273,"display_name":"Kallan Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638074146,"creation_date":1638074146,"answer_id":70140692,"question_id":70140502,"body_markdown":"Move your java file from the default package to any other package and then refresh the project issue will be resolved.\r\n\r\n","title":"I have a default package that I can&#39;t delete on Eclipse","body":"<p>Move your java file from the default package to any other package and then refresh the project issue will be resolved.</p>\n"}],"owner":{"account_id":21056351,"reputation":61,"user_id":15475534,"display_name":"Shenavyre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70140515,"answer_count":2,"score":0,"last_activity_date":1638295732,"creation_date":1638071103,"question_id":70140502,"body_markdown":"I&#39;m not exactly sure how I did this, but I can&#39;t remove it.\r\n\r\nSee below screenshot, I now have a (default package) that is causing me errors. \r\n\r\n[![Screenshot of (default package)][1]][1]\r\n\r\nI&#39;ve gone to the file location and it doesn&#39;t exist, if I right click to delete, the delete option is greyed out. I&#39;ve tried closing and reopening the project as well as refreshing the project and neither work.\r\n\r\n[![File location of SRC folder][2]][2]\r\n\r\nCan anyone give me any advice on how to remove this package?\r\n\r\n  [1]: https://i.stack.imgur.com/k2vZc.png\r\n  [2]: https://i.stack.imgur.com/h2O6f.png","title":"I have a default package that I can&#39;t delete on Eclipse","body":"<p>I'm not exactly sure how I did this, but I can't remove it.</p>\n<p>See below screenshot, I now have a (default package) that is causing me errors.</p>\n<p><a href=\"https://i.stack.imgur.com/k2vZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2vZc.png\" alt=\"Screenshot of (default package)\" /></a></p>\n<p>I've gone to the file location and it doesn't exist, if I right click to delete, the delete option is greyed out. I've tried closing and reopening the project as well as refreshing the project and neither work.</p>\n<p><a href=\"https://i.stack.imgur.com/h2O6f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h2O6f.png\" alt=\"File location of SRC folder\" /></a></p>\n<p>Can anyone give me any advice on how to remove this package?</p>\n"},{"tags":["java","spring","spring-boot","email","smtp"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1638295307,"post_id":70173985,"comment_id":124048864,"body_markdown":"You could try using port 465. According to [Google&#39;s Documentation](https://developers.google.com/gmail/imap/imap-smtp), port 465 is the recommended port if you are not sending a plain text message before TLS begins. That being said, I doubt this is the cause of the issue.","body":"You could try using port 465. According to <a href=\"https://developers.google.com/gmail/imap/imap-smtp\" rel=\"nofollow noreferrer\">Google&#39;s Documentation</a>, port 465 is the recommended port if you are not sending a plain text message before TLS begins. That being said, I doubt this is the cause of the issue."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1638295564,"post_id":70173985,"comment_id":124048954,"body_markdown":"According to [this question](https://stackoverflow.com/q/12901475/5987669), you may be able to fix this issue by adding this property (`System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;)`) or the equivalent command line argument.","body":"According to <a href=\"https://stackoverflow.com/q/12901475/5987669\">this question</a>, you may be able to fix this issue by adding this property (<code>System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;)</code>) or the equivalent command line argument."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1638296323,"post_id":70173985,"comment_id":124049241,"body_markdown":"Are you using google workspace, or &quot;plain&quot; gmail?  Workspace provides some flexibility in the requirements that are imposed on servers sending SMTP:  https://support.google.com/a/answer/2520500","body":"Are you using google workspace, or &quot;plain&quot; gmail?  Workspace provides some flexibility in the requirements that are imposed on servers sending SMTP:  <a href=\"https://support.google.com/a/answer/2520500\" rel=\"nofollow noreferrer\">support.google.com/a/answer/2520500</a>"},{"owner":{"account_id":14631665,"reputation":39,"user_id":16886247,"display_name":"Hrishikesh Shinde"},"score":0,"creation_date":1638296364,"post_id":70173985,"comment_id":124049258,"body_markdown":"Switching to port 465 and adding following line of code solved the problem .Properties props = new Properties();\n        props.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);","body":"Switching to port 465 and adding following line of code solved the problem .Properties props = new Properties();         props.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);"},{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":0,"creation_date":1638326242,"post_id":70173985,"comment_id":124057054,"body_markdown":"Permission denied should lead you to suspect the second laptop is configured to disallow such a connection, maybe a port based restriction","body":"Permission denied should lead you to suspect the second laptop is configured to disallow such a connection, maybe a port based restriction"}],"owner":{"account_id":14631665,"reputation":39,"user_id":16886247,"display_name":"Hrishikesh Shinde"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638295613,"creation_date":1638294998,"question_id":70173985,"body_markdown":"I have written this code to send mail from java application--\r\n\r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n    String host = &quot;smtp.gmail.com&quot;;\r\n    int port = 587;\r\n    String userName = &quot;xxx&quot;;\r\n    String password = &quot;xxx&quot;;\r\n\r\n    String mailTo = &quot;xx@gmail.com&quot;;\r\n    String subject = &quot;mail content&quot;;\r\n\r\n    JavaMailSenderImpl sender = new JavaMailSenderImpl();\r\n    sender.setJavaMailProperties(props);\r\n    sender.setHost(host);\r\n    sender.setPort(port);\r\n    sender.setUsername(userName);\r\n    sender.setPassword(password);\r\n\r\n    MimeMessage message = sender.createMimeMessage();\r\n    MimeMessageHelper helper;\r\n    try {\r\n        helper = new MimeMessageHelper(message, true);\r\n        helper.setTo(mailTo);\r\n        helper.setSubject(subject);\r\n        helper.setText(&quot;test test&quot;);\r\n    } catch (MessagingException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n    sender.send(message);\r\n\r\nWhen I am running this program from one laptop , it is working fine .But when I try running it from another laptop , it is giving following errors -\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.mail.MailSendException: Mail server connection failed; nested exception is com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: smtp.gmail.com, 587; timeout -1;\r\n      nested exception is:\r\n    \tjava.net.SocketException: Permission denied: connect. Failed messages: com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: smtp.gmail.com, 587; timeout -1;\r\n      nested exception is:\r\n    \tjava.net.SocketException: Permission denied: connect; message exception details (1) are:\r\n    Failed message 1:\r\n    com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: smtp.gmail.com, 587; timeout -1;\r\n      nested exception is:\r\n    \tjava.net.SocketException: Permission denied: connect\r\n    \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\r\n    \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\r\n    \tat javax.mail.Service.connect(Service.java:342)\r\n    \tat org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)\r\n    \tat org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:437)\r\n    \tat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:361)\r\n    \tat org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:356)\r\n    \tat com.dailycodebuffer.SpringEmailClient.SpringEmailClientApplication.main(SpringEmailClientApplication.java:50)\r\n    Caused by: java.net.SocketException: Permission denied: connect\r\n    \tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n    \tat java.base/sun.nio.ch.Net.connect(Net.java:576)\r\n    \tat java.base/sun.nio.ch.Net.connect(Net.java:565)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n    \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:645)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:595)\r\n    \tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\r\n    \tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\r\n    \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\r\n    \t... 7 more\r\n\r\nHow to overcome these errors on another laptop ?\r\n\r\n","title":"Couldn&#39;t connect to host, port: smtp.gmail.com, 587; timeout -1;Couldn&#39;t connect to host, port: smtp.gmail.com, Permission denied: connect","body":"<p>I have written this code to send mail from java application--</p>\n<pre><code>Properties props = new Properties();\nprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\nString host = &quot;smtp.gmail.com&quot;;\nint port = 587;\nString userName = &quot;xxx&quot;;\nString password = &quot;xxx&quot;;\n\nString mailTo = &quot;xx@gmail.com&quot;;\nString subject = &quot;mail content&quot;;\n\nJavaMailSenderImpl sender = new JavaMailSenderImpl();\nsender.setJavaMailProperties(props);\nsender.setHost(host);\nsender.setPort(port);\nsender.setUsername(userName);\nsender.setPassword(password);\n\nMimeMessage message = sender.createMimeMessage();\nMimeMessageHelper helper;\ntry {\n    helper = new MimeMessageHelper(message, true);\n    helper.setTo(mailTo);\n    helper.setSubject(subject);\n    helper.setText(&quot;test test&quot;);\n} catch (MessagingException e) {\n    throw new RuntimeException(e);\n}\n\nsender.send(message);\n</code></pre>\n<p>When I am running this program from one laptop , it is working fine .But when I try running it from another laptop , it is giving following errors -</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.mail.MailSendException: Mail server connection failed; nested exception is com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;\n  nested exception is:\n    java.net.SocketException: Permission denied: connect. Failed messages: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;\n  nested exception is:\n    java.net.SocketException: Permission denied: connect; message exception details (1) are:\nFailed message 1:\ncom.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;\n  nested exception is:\n    java.net.SocketException: Permission denied: connect\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)\n    at javax.mail.Service.connect(Service.java:342)\n    at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)\n    at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:437)\n    at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:361)\n    at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:356)\n    at com.dailycodebuffer.SpringEmailClient.SpringEmailClientApplication.main(SpringEmailClientApplication.java:50)\nCaused by: java.net.SocketException: Permission denied: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:576)\n    at java.base/sun.nio.ch.Net.connect(Net.java:565)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)\n    at java.base/java.net.Socket.connect(Socket.java:645)\n    at java.base/java.net.Socket.connect(Socket.java:595)\n    at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:335)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)\n    ... 7 more\n</code></pre>\n<p>How to overcome these errors on another laptop ?</p>\n"},{"tags":["java","spring","spring-boot","java-8"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1638085858,"post_id":70140801,"comment_id":123989952,"body_markdown":"When you have specific properties to exclude during both serialization and deserialization, `@JsonIgnore` is a good choice. However, if you have more dynamic needs, you may implement your own custom deserializer. `class MyDeser extends StdDeserializer&lt;MyClass&gt;`.","body":"When you have specific properties to exclude during both serialization and deserialization, <code>@JsonIgnore</code> is a good choice. However, if you have more dynamic needs, you may implement your own custom deserializer. <code>class MyDeser extends StdDeserializer&lt;MyClass&gt;</code>."},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1655529981,"post_id":70140801,"comment_id":128358767,"body_markdown":"Have you tried using `Transient` keyword? It ignores serialization of keys defined with transient ! Try if it seems a simple solution https://www.geeksforgeeks.org/transient-keyword-java/","body":"Have you tried using <code>Transient</code> keyword? It ignores serialization of keys defined with transient ! Try if it seems a simple solution <a href=\"https://www.geeksforgeeks.org/transient-keyword-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/transient-keyword-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":23198485,"reputation":51,"user_id":17293733,"display_name":"brighthammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638086450,"creation_date":1638086450,"answer_id":70141591,"question_id":70140801,"body_markdown":"Do you want to avoid using @ notations ? \r\n\r\nIf not, have you tried using a filter like `@JsonFilter(&quot;myFilter&quot;)` in Jackson ? As described here: https://www.baeldung.com/jackson-ignore-properties-on-serialization \r\n\r\nSee also https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonfilter.htm\r\n\r\nSo you would have to write: \r\n\r\n    @JsonFilter(&quot;myFilter&quot;)\r\n    public class MyClass { ... }\r\n\r\nin your class. Then do something like: \r\n\r\n    SimpleBeanPropertyFilter objBFilter = SimpleBeanPropertyFilter\r\n      .serializeAllExcept(&quot;objB&quot;);\r\n    SimpleBeanPropertyFilter objDFilter = SimpleBeanPropertyFilter\r\n      .serializeAllExcept(&quot;objD&quot;);\r\n    SimpleBeanPropertyFilter objEFilter = SimpleBeanPropertyFilter\r\n      .serializeAllExcept(&quot;objE&quot;);\r\n    \r\n    FilterProvider filters = new SimpleFilterProvider()\r\n      .addFilter(&quot;objBFilter&quot;, theFilter)\r\n      .addFilter(&quot;objDFilter&quot;, theFilter)\r\n      .addFilter(&quot;objEFilter&quot;, theFilter);\r\n\r\n","title":"How to ignore JSON properties similar to @JsonIgnore in Deserialization","body":"<p>Do you want to avoid using @ notations ?</p>\n<p>If not, have you tried using a filter like <code>@JsonFilter(&quot;myFilter&quot;)</code> in Jackson ? As described here: <a href=\"https://www.baeldung.com/jackson-ignore-properties-on-serialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-ignore-properties-on-serialization</a></p>\n<p>See also <a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonfilter.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonfilter.htm</a></p>\n<p>So you would have to write:</p>\n<pre><code>@JsonFilter(&quot;myFilter&quot;)\npublic class MyClass { ... }\n</code></pre>\n<p>in your class. Then do something like:</p>\n<pre><code>SimpleBeanPropertyFilter objBFilter = SimpleBeanPropertyFilter\n  .serializeAllExcept(&quot;objB&quot;);\nSimpleBeanPropertyFilter objDFilter = SimpleBeanPropertyFilter\n  .serializeAllExcept(&quot;objD&quot;);\nSimpleBeanPropertyFilter objEFilter = SimpleBeanPropertyFilter\n  .serializeAllExcept(&quot;objE&quot;);\n\nFilterProvider filters = new SimpleFilterProvider()\n  .addFilter(&quot;objBFilter&quot;, theFilter)\n  .addFilter(&quot;objDFilter&quot;, theFilter)\n  .addFilter(&quot;objEFilter&quot;, theFilter);\n</code></pre>\n"}],"owner":{"account_id":7350829,"reputation":59,"user_id":5597041,"display_name":"Andr&#233; Ribeiro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638295445,"creation_date":1638075958,"question_id":70140801,"body_markdown":"I have a JSON object similar below:\r\n\r\n    [\r\n      {\r\n         &quot;objA&quot;: {\r\n           &quot;propA&quot;: &quot;AAAA&quot;,\r\n           &quot;propB&quot;: &quot;BBBB&quot;,\r\n           &quot;objB&quot;: {\r\n             &quot;objC&quot;: {\r\n               &quot;propC&quot;: &quot;CCCC&quot;,\r\n               &quot;propD&quot;: &quot;DDDD&quot;\r\n             }\r\n           },\r\n           &quot;objD&quot;: [\r\n             &quot;asa&quot;\r\n           ],\r\n           &quot;propE&quot;: &quot;AW&quot;,\r\n           &quot;propF&quot;: &quot;533&quot;,\r\n           &quot;propG&quot;: &quot;ABW&quot;,\r\n           &quot;propH&quot;: &quot;ARU&quot;,\r\n           &quot;objE&quot;: {\r\n             &quot;objF&quot;: {\r\n               &quot;propI&quot;: &quot;SASDS&quot;,\r\n               &quot;propJ&quot;: &quot;54DEFF&quot;\r\n             }\r\n           }\r\n         }\r\n       }\r\n    ]\r\n\r\nWhen I deserialize this JSON into a List&lt;T&gt;, I would like to do for part of this object, for example: I would like to ignore objB, objC, objD, objE and objF.\r\nTo do that I has been used the @JsonIgnore annotation. So I did something like that:\r\n\r\n    public class MyClass {\r\n\r\n    // objects and properties not ignorabled\r\n    private ClassA objA;\r\n    private String propE;\r\n    private String propF;\r\n    private String propG;;\r\n    private String propH;\r\n  \r\n    // objects ignorabled in deserialization \r\n    @JsonProperty(&quot;objB&quot;)\r\n    @JsonIgnore\r\n    private Object objB;\r\n\r\n    @JsonProperty(&quot;objD&quot;)\r\n    @JsonIgnore\r\n    private Object objD;\r\n\r\n    @JsonProperty(&quot;objE&quot;)\r\n    @JsonIgnore\r\n    private Object objE;\r\n\r\n    /** gets and setters here **/\r\n\r\n\r\nFollow below the piece of code that deserialize my JSON\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    return mapper.readValue(url, new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\r\n\r\nThis code is working. this code is ignoring the objects from JSON, but I believe there are some another way to do that instead of use @JsonIgnore to each object or property in my entity.\r\n\r\nDo you know how can I do that better?","title":"How to ignore JSON properties similar to @JsonIgnore in Deserialization","body":"<p>I have a JSON object similar below:</p>\n<pre><code>[\n  {\n     &quot;objA&quot;: {\n       &quot;propA&quot;: &quot;AAAA&quot;,\n       &quot;propB&quot;: &quot;BBBB&quot;,\n       &quot;objB&quot;: {\n         &quot;objC&quot;: {\n           &quot;propC&quot;: &quot;CCCC&quot;,\n           &quot;propD&quot;: &quot;DDDD&quot;\n         }\n       },\n       &quot;objD&quot;: [\n         &quot;asa&quot;\n       ],\n       &quot;propE&quot;: &quot;AW&quot;,\n       &quot;propF&quot;: &quot;533&quot;,\n       &quot;propG&quot;: &quot;ABW&quot;,\n       &quot;propH&quot;: &quot;ARU&quot;,\n       &quot;objE&quot;: {\n         &quot;objF&quot;: {\n           &quot;propI&quot;: &quot;SASDS&quot;,\n           &quot;propJ&quot;: &quot;54DEFF&quot;\n         }\n       }\n     }\n   }\n]\n</code></pre>\n<p>When I deserialize this JSON into a List, I would like to do for part of this object, for example: I would like to ignore objB, objC, objD, objE and objF.\nTo do that I has been used the @JsonIgnore annotation. So I did something like that:</p>\n<pre><code>public class MyClass {\n\n// objects and properties not ignorabled\nprivate ClassA objA;\nprivate String propE;\nprivate String propF;\nprivate String propG;;\nprivate String propH;\n\n// objects ignorabled in deserialization \n@JsonProperty(&quot;objB&quot;)\n@JsonIgnore\nprivate Object objB;\n\n@JsonProperty(&quot;objD&quot;)\n@JsonIgnore\nprivate Object objD;\n\n@JsonProperty(&quot;objE&quot;)\n@JsonIgnore\nprivate Object objE;\n\n/** gets and setters here **/\n</code></pre>\n<p>Follow below the piece of code that deserialize my JSON</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nreturn mapper.readValue(url, new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\n</code></pre>\n<p>This code is working. this code is ignoring the objects from JSON, but I believe there are some another way to do that instead of use @JsonIgnore to each object or property in my entity.</p>\n<p>Do you know how can I do that better?</p>\n"},{"tags":["java","spring-boot","netflix-dgs","graphqlclient"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638764420,"post_id":70174067,"comment_id":124166655,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4952989,"reputation":2910,"user_id":3986395,"display_name":"Simas Joneliunas"},"score":0,"creation_date":1642679005,"post_id":70174067,"comment_id":125137781,"body_markdown":"are you using the gql server in single more or federated mode?","body":"are you using the gql server in single more or federated mode?"}],"owner":{"account_id":1828061,"reputation":11,"user_id":1660270,"display_name":"Y_K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638295436,"creation_date":1638295436,"question_id":70174067,"body_markdown":"I am new to graphql and I am trying to use graphql client library from [Netflix dgs framework][1] to call graphql api from Spring framework based Java client. Most of things are working, but struggling to get Upload mutation work. Any one has any examples? \r\n\r\n\r\n  [1]: https://netflix.github.io/dgs/advanced/java-client/","title":"Netflix&#39;s DGS graphql client for upload example","body":"<p>I am new to graphql and I am trying to use graphql client library from <a href=\"https://netflix.github.io/dgs/advanced/java-client/\" rel=\"nofollow noreferrer\">Netflix dgs framework</a> to call graphql api from Spring framework based Java client. Most of things are working, but struggling to get Upload mutation work. Any one has any examples?</p>\n"},{"tags":["java","intellij-idea","coding-style"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1638288146,"post_id":70172331,"comment_id":124045966,"body_markdown":"Most folks in Java use the Java doc standard, and also look at the documentation for the standard API for style hints.","body":"Most folks in Java use the Java doc standard, and also look at the documentation for the standard API for style hints."},{"owner":{"account_id":3031823,"reputation":2768,"user_id":2570677,"display_name":"Liran Funaro"},"score":0,"creation_date":1638288404,"post_id":70172331,"comment_id":124046091,"body_markdown":"There isn&#39;t anything in Oracle&#39;s manual on section headers. That is why I&#39;m asking.","body":"There isn&#39;t anything in Oracle&#39;s manual on section headers. That is why I&#39;m asking."},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":2,"creation_date":1638288550,"post_id":70172331,"comment_id":124046148,"body_markdown":"AFAIK there is no such thing in [Oracle Java conventions](https://www.oracle.com/java/technologies/javase/codeconventions-comments.html). So do as you want, or as your organization wants.","body":"AFAIK there is no such thing in <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-comments.html\" rel=\"nofollow noreferrer\">Oracle Java conventions</a>. So do as you want, or as your organization wants."},{"owner":{"account_id":3031823,"reputation":2768,"user_id":2570677,"display_name":"Liran Funaro"},"score":1,"creation_date":1638288838,"post_id":70172331,"comment_id":124046262,"body_markdown":"It&#39;s not an issue of what my organization wants, but I&#39;m more concerned about what others find readable or is a common practice.","body":"It&#39;s not an issue of what my organization wants, but I&#39;m more concerned about what others find readable or is a common practice."},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":1,"creation_date":1638289159,"post_id":70172331,"comment_id":124046408,"body_markdown":"There&#39;s no common practice about this case and &quot;finding it readable&quot; is subjective (that&#39;s why conventions are made). So here I agree with you it be easier/interesting is there was one, but there isn&#39;t. So either do as you think as the most readable, or do as your organization/co-worker/clients/? think as more readble","body":"There&#39;s no common practice about this case and &quot;finding it readable&quot; is subjective (that&#39;s why conventions are made). So here I agree with you it be easier/interesting is there was one, but there isn&#39;t. So either do as you think as the most readable, or do as your organization/co-worker/clients/? think as more readble"},{"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"score":0,"creation_date":1638290530,"post_id":70172331,"comment_id":124046987,"body_markdown":"Some IDE code formatters can be configured to group and sort members in a specific order which can achieve this implicitly without the need for a header. (all private properties, all public methods, all getters/setters etc) If you use a formatter configured like this it seems redundant to need a header as well","body":"Some IDE code formatters can be configured to group and sort members in a specific order which can achieve this implicitly without the need for a header. (all private properties, all public methods, all getters/setters etc) If you use a formatter configured like this it seems redundant to need a header as well"},{"owner":{"account_id":3031823,"reputation":2768,"user_id":2570677,"display_name":"Liran Funaro"},"score":0,"creation_date":1638290673,"post_id":70172331,"comment_id":124047049,"body_markdown":"How will the IDE know that a set of method share common functionality?","body":"How will the IDE know that a set of method share common functionality?"},{"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"score":0,"creation_date":1638290704,"post_id":70172331,"comment_id":124047060,"body_markdown":"Additionally, if you are using language features like scope to indicate public apis vs private/internal methods there&#39;s no reason why you should need to document a private method as an internal method because by language convention I already know it is internal if it&#39;s private","body":"Additionally, if you are using language features like scope to indicate public apis vs private/internal methods there&#39;s no reason why you should need to document a private method as an internal method because by language convention I already know it is internal if it&#39;s private"},{"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"score":0,"creation_date":1638290820,"post_id":70172331,"comment_id":124047105,"body_markdown":"Re. sharing common functionality, that should be done by your design and how you structure your code, not enforced by documentation. e.g. Structure your code so like is with like and don&#39;t rely on documentation for this purpose","body":"Re. sharing common functionality, that should be done by your design and how you structure your code, not enforced by documentation. e.g. Structure your code so like is with like and don&#39;t rely on documentation for this purpose"},{"owner":{"account_id":3031823,"reputation":2768,"user_id":2570677,"display_name":"Liran Funaro"},"score":0,"creation_date":1638290904,"post_id":70172331,"comment_id":124047140,"body_markdown":"@KevinHooke I&#39;m not sure what you mean by design for this purpose. I updated the question to reflect better the type of &quot;section&quot; I&#39;m referring to.","body":"@KevinHooke I&#39;m not sure what you mean by design for this purpose. I updated the question to reflect better the type of &quot;section&quot; I&#39;m referring to."},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1638305264,"post_id":70172331,"comment_id":124052419,"body_markdown":"The only time that something applies to other items below it, no matter how long the list of items below it becomes, is a line in a block of code.  Comments don&#39;t work that way, and you&#39;re trying to foist a paradigm that doesn&#39;t work for comments, which only apply to the things immediately below (or on the same line) as the comment.  There is no best practice to do something that&#39;s a bad practice, so that&#39;s why you won&#39;t get a satisfactory answer.","body":"The only time that something applies to other items below it, no matter how long the list of items below it becomes, is a line in a block of code.  Comments don&#39;t work that way, and you&#39;re trying to foist a paradigm that doesn&#39;t work for comments, which only apply to the things immediately below (or on the same line) as the comment.  There is no best practice to do something that&#39;s a bad practice, so that&#39;s why you won&#39;t get a satisfactory answer."},{"owner":{"account_id":3031823,"reputation":2768,"user_id":2570677,"display_name":"Liran Funaro"},"score":0,"creation_date":1638305398,"post_id":70172331,"comment_id":124052456,"body_markdown":"I&#39;m closing the question for the lack of fruitful discussion","body":"I&#39;m closing the question for the lack of fruitful discussion"}],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638291449,"creation_date":1638291449,"answer_id":70173174,"question_id":70172331,"body_markdown":"Instead of relying on grouping related functional methods in close proximity in the source code and indicating the relationship with code comments, you should design and implement your code in way that takes advantage of features of the language and makes the purpose explicit.\r\n\r\nFor example, instead of grouping cooking methods and baking methods in the same class, you could implement this using different classes:\r\n \r\n\r\n    public class BakingOven{\r\n\r\n        public Result bakeBread(){\r\n        }\r\n\r\n        public Result bakeCake(){\r\n        }\r\n    }\r\n\r\n\r\n    public class FryingPan{\r\n    \r\n        public Result fryChicken(){\r\n        }\r\n        \r\n        public Result frySteak(){\r\n        }\r\n    }\r\n\r\nThis could be taken further by passing what it is to be baked or fried as a parameter, or you could indentify commmon interfaces like Fry, or Bake and have the classes implement those interfaces.\r\n\r\nThis is more of a design and how to structure your code more clearly type of problem than thinking about it as a documentation type problem.","title":"Is there a comment style for starting a section in the code?","body":"<p>Instead of relying on grouping related functional methods in close proximity in the source code and indicating the relationship with code comments, you should design and implement your code in way that takes advantage of features of the language and makes the purpose explicit.</p>\n<p>For example, instead of grouping cooking methods and baking methods in the same class, you could implement this using different classes:</p>\n<pre><code>public class BakingOven{\n\n    public Result bakeBread(){\n    }\n\n    public Result bakeCake(){\n    }\n}\n\n\npublic class FryingPan{\n\n    public Result fryChicken(){\n    }\n    \n    public Result frySteak(){\n    }\n}\n</code></pre>\n<p>This could be taken further by passing what it is to be baked or fried as a parameter, or you could indentify commmon interfaces like Fry, or Bake and have the classes implement those interfaces.</p>\n<p>This is more of a design and how to structure your code more clearly type of problem than thinking about it as a documentation type problem.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638295257,"creation_date":1638295257,"answer_id":70174032,"question_id":70172331,"body_markdown":"You have some fundamental problems in your example.\r\n\r\n    class Kitchen:\r\n    \r\n      ################################\r\n      # Getters/Setters\r\n      ################################\r\n    \r\n      def get_groceries():\r\n        pass\r\n    \r\n      ################################\r\n      # Cooking Methods\r\n      ################################\r\n    \r\n      def cook_chicken():\r\n        pass\r\n    \r\n      def cook_pasta():\r\n        pass\r\n    \r\n      ################################\r\n      # Baking Methods\r\n      ################################\r\n    \r\n      def bake_bread():\r\n        pass\r\n    \r\n      def bake_cake():\r\n        pass\r\n\r\nFirst `Kitchen`s don&#39;t get groceries.  Which means your Kitchen is more of a data structure in some aspects than an Object; because, you are exposing groceries to something else, which the kitchen is probably supposed to do.\r\n\r\nSecond, you are creating compound methods, such that every new item you need to cook or bake will require a new method.  This is bad naming practice because it means the `Kitchen` is not extendable without recompiling the code.\r\n\r\n        def cook( recipe ):\r\n\r\nwould be a much better design, as it could then take any recipe and cook it.\r\n\r\nFinally, baking and cooking are the same kind of transformation, they both convert ingredients into finished edible foods.  As a result of history and techniques, these tend to have different names; but, cooking a loaf of bread is a perfectly valid way of expressing baking a loaf of bread at a high level (just like transporting yourself to the store is a perfectly valid way of saying walking to the store).\r\n\r\nSo your overall class design probably should be:\r\n\r\n    class Kitchen:\r\n\r\n        def add( grocery )\r\n\r\n        def use( grocery )\r\n\r\n        def cook( recipe )\r\n\r\nAnd now the class is both smaller and better designed, extensible and easier to debug, to complete the picture, let&#39;s implement recipes for chicken, pasta, bread, and cake:\r\n\r\n    interface Recipe:\r\n\r\n       abstract def cook():\r\n\r\n    class ChickenRecipe implements Recipe:\r\n\r\n       def cook(Kitchen kitchen):\r\n           kitchen.use(&quot;chicken breast&quot;)\r\n           kitchen.use(&quot;oil&quot;)\r\n           kitchen.use(&quot;salt&quot;)\r\n           kitchen.use(&quot;pepper&quot;)\r\n           return &quot;cooked chicken&quot;\r\n\r\n    class PastaRecipe implements Recipe:\r\n\r\n       def cook(Kitchen kitchen):\r\n           kitchen.use(&quot;pasta&quot;)\r\n           kitchen.use(&quot;water&quot;)\r\n           kitchen.use(&quot;salt&quot;)\r\n           kitchen.use(&quot;oil&quot;)\r\n           return&quot;cooked pasta&quot;\r\n \r\n    class BreadRecipe implements Recipe:\r\n        \r\n       def cook(Kitchen kitchen):\r\n           kitchen.use(&quot;flour&quot;)\r\n           kitchen.use(&quot;water&quot;)\r\n           kitchen.use(&quot;salt&quot;)\r\n           kitchen.use(&quot;yeast&quot;)\r\n           return &quot;bread&quot;\r\n\r\n    class CakeRecipe implments Recipe:\r\n\r\n       def cook(Kitchen kitchen):\r\n           kitchen.use(&quot;flour&quot;)\r\n           kitchen.use(&quot;water&quot;)\r\n           kitchen.use(&quot;salt&quot;)\r\n           kitchen.use(&quot;sugar&quot;)\r\n           kitchen.use(&quot;butter&quot;)\r\n           return &quot;cake&quot;\r\n\r\nNow, to evaluate if this approach is useful, let&#39;s ask the following questions:\r\n\r\n* Can you, upon seeing a Kitchen, and any specific Recipe implement another Recipe?\r\n* How much documentation do you need to read to make a new Recipe?\r\n* Can you add new items to cook, even if the cooking technique doesn&#39;t fall into the two categories (cook and bake)?\r\n* Does the interface force you to use it as it is designed? (as opposed to taking all items out of a Kitchen and then putting in a cooked item)\r\n\r\nIf you have a bunch of related methods, sometimes you don&#39;t need a comment to say they are related, you have an interface that you aren&#39;t coding like an interface.  For example, you could have easily done a `cook` and a `bake` set of methods, taking parameters.  While that might satisfy the rules of English more nicely, it doesn&#39;t actually add functionality, and it is a less effective design because you then have the option of using the wrong interface.\r\n           ","title":"Is there a comment style for starting a section in the code?","body":"<p>You have some fundamental problems in your example.</p>\n<pre><code>class Kitchen:\n\n  ################################\n  # Getters/Setters\n  ################################\n\n  def get_groceries():\n    pass\n\n  ################################\n  # Cooking Methods\n  ################################\n\n  def cook_chicken():\n    pass\n\n  def cook_pasta():\n    pass\n\n  ################################\n  # Baking Methods\n  ################################\n\n  def bake_bread():\n    pass\n\n  def bake_cake():\n    pass\n</code></pre>\n<p>First <code>Kitchen</code>s don't get groceries.  Which means your Kitchen is more of a data structure in some aspects than an Object; because, you are exposing groceries to something else, which the kitchen is probably supposed to do.</p>\n<p>Second, you are creating compound methods, such that every new item you need to cook or bake will require a new method.  This is bad naming practice because it means the <code>Kitchen</code> is not extendable without recompiling the code.</p>\n<pre><code>    def cook( recipe ):\n</code></pre>\n<p>would be a much better design, as it could then take any recipe and cook it.</p>\n<p>Finally, baking and cooking are the same kind of transformation, they both convert ingredients into finished edible foods.  As a result of history and techniques, these tend to have different names; but, cooking a loaf of bread is a perfectly valid way of expressing baking a loaf of bread at a high level (just like transporting yourself to the store is a perfectly valid way of saying walking to the store).</p>\n<p>So your overall class design probably should be:</p>\n<pre><code>class Kitchen:\n\n    def add( grocery )\n\n    def use( grocery )\n\n    def cook( recipe )\n</code></pre>\n<p>And now the class is both smaller and better designed, extensible and easier to debug, to complete the picture, let's implement recipes for chicken, pasta, bread, and cake:</p>\n<pre><code>interface Recipe:\n\n   abstract def cook():\n\nclass ChickenRecipe implements Recipe:\n\n   def cook(Kitchen kitchen):\n       kitchen.use(&quot;chicken breast&quot;)\n       kitchen.use(&quot;oil&quot;)\n       kitchen.use(&quot;salt&quot;)\n       kitchen.use(&quot;pepper&quot;)\n       return &quot;cooked chicken&quot;\n\nclass PastaRecipe implements Recipe:\n\n   def cook(Kitchen kitchen):\n       kitchen.use(&quot;pasta&quot;)\n       kitchen.use(&quot;water&quot;)\n       kitchen.use(&quot;salt&quot;)\n       kitchen.use(&quot;oil&quot;)\n       return&quot;cooked pasta&quot;\n\nclass BreadRecipe implements Recipe:\n    \n   def cook(Kitchen kitchen):\n       kitchen.use(&quot;flour&quot;)\n       kitchen.use(&quot;water&quot;)\n       kitchen.use(&quot;salt&quot;)\n       kitchen.use(&quot;yeast&quot;)\n       return &quot;bread&quot;\n\nclass CakeRecipe implments Recipe:\n\n   def cook(Kitchen kitchen):\n       kitchen.use(&quot;flour&quot;)\n       kitchen.use(&quot;water&quot;)\n       kitchen.use(&quot;salt&quot;)\n       kitchen.use(&quot;sugar&quot;)\n       kitchen.use(&quot;butter&quot;)\n       return &quot;cake&quot;\n</code></pre>\n<p>Now, to evaluate if this approach is useful, let's ask the following questions:</p>\n<ul>\n<li>Can you, upon seeing a Kitchen, and any specific Recipe implement another Recipe?</li>\n<li>How much documentation do you need to read to make a new Recipe?</li>\n<li>Can you add new items to cook, even if the cooking technique doesn't fall into the two categories (cook and bake)?</li>\n<li>Does the interface force you to use it as it is designed? (as opposed to taking all items out of a Kitchen and then putting in a cooked item)</li>\n</ul>\n<p>If you have a bunch of related methods, sometimes you don't need a comment to say they are related, you have an interface that you aren't coding like an interface.  For example, you could have easily done a <code>cook</code> and a <code>bake</code> set of methods, taking parameters.  While that might satisfy the rules of English more nicely, it doesn't actually add functionality, and it is a less effective design because you then have the option of using the wrong interface.</p>\n"}],"owner":{"account_id":3031823,"reputation":2768,"user_id":2570677,"display_name":"Liran Funaro"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638295257,"creation_date":1638287965,"question_id":70172331,"body_markdown":"I&#39;m referring to cases where I have different functionality in the class that it wouldn&#39;t make sense to break down to smaller classes.\r\n\r\nFor example, in Python, I personally like to use\r\n```python\r\nclass DataStream:\r\n\r\n  ################################\r\n  # Read stream functionality\r\n  ################################\r\n\r\n  def read():\r\n    pass\r\n\r\n  def decode():\r\n    pass\r\n\r\n  ################################\r\n  # Parse stream functionality\r\n  ################################\r\n\r\n  def exract_data():\r\n    pass\r\n\r\n  def map_data_types():\r\n    pass\r\n\r\n  ################################\r\n  # Analyze functionality\r\n  ################################\r\n\r\n  def aggregated_data():\r\n    pass\r\n\r\n  def deduce_insights():\r\n    pass\r\n  \r\n```\r\n\r\nAFAIK, there is no convention for such comments.\r\n\r\nIs there a convention for this in Java?\r\nOr any format that Intellij can make something useful out of it?\r\nFor example, it would be great if Intellij would be able to collapse these sections.","title":"Is there a comment style for starting a section in the code?","body":"<p>I'm referring to cases where I have different functionality in the class that it wouldn't make sense to break down to smaller classes.</p>\n<p>For example, in Python, I personally like to use</p>\n<pre class=\"lang-py prettyprint-override\"><code>class DataStream:\n\n  ################################\n  # Read stream functionality\n  ################################\n\n  def read():\n    pass\n\n  def decode():\n    pass\n\n  ################################\n  # Parse stream functionality\n  ################################\n\n  def exract_data():\n    pass\n\n  def map_data_types():\n    pass\n\n  ################################\n  # Analyze functionality\n  ################################\n\n  def aggregated_data():\n    pass\n\n  def deduce_insights():\n    pass\n  \n</code></pre>\n<p>AFAIK, there is no convention for such comments.</p>\n<p>Is there a convention for this in Java?\nOr any format that Intellij can make something useful out of it?\nFor example, it would be great if Intellij would be able to collapse these sections.</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487174576,"creation_date":1487174576,"answer_id":42254330,"question_id":42253406,"body_markdown":" You can override the constructor if there is a chance that the list you are passing in is null\r\n\r\n    public ClassWithList(List&lt;String&gt; aList) {\r\n      this.list = aList == null ? new ArrayList&lt;&gt;() : aList;\r\n    }\r\n\r\nFrom Project Lombok (emphasis mine): [Value][1]\r\n&gt; @Value is shorthand for: final @ToString @EqualsAndHashCode **@AllArgsConstructor** @FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE) @Getter, except that explicitly including an **implementation of any of the relevant methods simply means that part won&#39;t be generated** and no warning will be emitted\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Value.html","title":"Lombok inner collection initialization","body":"<p>You can override the constructor if there is a chance that the list you are passing in is null</p>\n\n<pre><code>public ClassWithList(List&lt;String&gt; aList) {\n  this.list = aList == null ? new ArrayList&lt;&gt;() : aList;\n}\n</code></pre>\n\n<p>From Project Lombok (emphasis mine): <a href=\"https://projectlombok.org/features/Value.html\" rel=\"nofollow noreferrer\">Value</a></p>\n\n<blockquote>\n  <p>@Value is shorthand for: final @ToString @EqualsAndHashCode <strong>@AllArgsConstructor</strong> @FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE) @Getter, except that explicitly including an <strong>implementation of any of the relevant methods simply means that part won't be generated</strong> and no warning will be emitted</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":979169,"reputation":569,"user_id":999367,"display_name":"Roman Sinyakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638295108,"creation_date":1638295108,"answer_id":70174000,"question_id":42253406,"body_markdown":"Annotation **@lombok.NonNull** does the trick:\r\n    \r\n    @NonNull    \r\n    private final List&lt;String&gt; list;\r\n\r\nThis generates the following code in constructor and setter:\r\n\r\n    if (list == null)\r\n      throw new NullPointerException(&quot;list is marked @NonNull but is null&quot;); ","title":"Lombok inner collection initialization","body":"<p>Annotation <strong>@lombok.NonNull</strong> does the trick:</p>\n<pre><code>@NonNull    \nprivate final List&lt;String&gt; list;\n</code></pre>\n<p>This generates the following code in constructor and setter:</p>\n<pre><code>if (list == null)\n  throw new NullPointerException(&quot;list is marked @NonNull but is null&quot;); \n</code></pre>\n"}],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1913,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70174000,"answer_count":2,"score":1,"last_activity_date":1638295108,"creation_date":1487172192,"question_id":42253406,"body_markdown":"I use Lombok @Value annotation. Is it possible to somehow ensure, that inner collections will never be null?\r\n\r\nExample:\r\n\r\n    package com.testapp;\r\n    \r\n    import lombok.Value;\r\n    import lombok.experimental.Wither;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Value\r\n    @Wither\r\n    public final class ClassWithList {\r\n    \r\n        private final List&lt;String&gt; list;\r\n    \r\n        public void printList() {\r\n            list.forEach(System.out::println);\r\n        }\r\n    \r\n    }\r\n\r\nThis will throw a `NullPointerException` if `list` is null. My current strategy was to never allow to happen, that an inner collection may be null, it was sanitized in constructor (setter,  builder...) . However in this case is the constructor automatically generated by Lombok. Is there any way, how to ensure that the `list` property will always be initialized at least to an empty collection or do I have to start writing the tedious null checks?\r\n\r\n","title":"Lombok inner collection initialization","body":"<p>I use Lombok @Value annotation. Is it possible to somehow ensure, that inner collections will never be null?</p>\n\n<p>Example:</p>\n\n<pre><code>package com.testapp;\n\nimport lombok.Value;\nimport lombok.experimental.Wither;\n\nimport java.util.List;\n\n@Value\n@Wither\npublic final class ClassWithList {\n\n    private final List&lt;String&gt; list;\n\n    public void printList() {\n        list.forEach(System.out::println);\n    }\n\n}\n</code></pre>\n\n<p>This will throw a <code>NullPointerException</code> if <code>list</code> is null. My current strategy was to never allow to happen, that an inner collection may be null, it was sanitized in constructor (setter,  builder...) . However in this case is the constructor automatically generated by Lombok. Is there any way, how to ensure that the <code>list</code> property will always be initialized at least to an empty collection or do I have to start writing the tedious null checks?</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":2756352,"reputation":10990,"user_id":2374302,"accept_rate":86,"display_name":"Axel Amthor"},"score":1,"creation_date":1455350841,"post_id":35377560,"comment_id":58460440,"body_markdown":"Did you activate `IMAP` protocoll in your gmail account? It&#39;s not open per default, you need to dig in to the settings and enable it https://support.google.com/mail/troubleshooter/1668960?hl=en","body":"Did you activate <code>IMAP</code> protocoll in your gmail account? It&#39;s not open per default, you need to dig in to the settings and enable it <a href=\"https://support.google.com/mail/troubleshooter/1668960?hl=en\" rel=\"nofollow noreferrer\">support.google.com/mail/troubleshooter/1668960?hl=en</a>"},{"owner":{"account_id":2780667,"reputation":784,"user_id":2393280,"accept_rate":100,"display_name":"Matan Tubul"},"score":0,"creation_date":1455351259,"post_id":35377560,"comment_id":58460513,"body_markdown":"yes the imap is enabled as i said above.","body":"yes the imap is enabled as i said above."},{"owner":{"account_id":2780667,"reputation":784,"user_id":2393280,"accept_rate":100,"display_name":"Matan Tubul"},"score":1,"creation_date":1455351553,"post_id":35377560,"comment_id":58460584,"body_markdown":"does the host of gmail should be imap.gmail.com?","body":"does the host of gmail should be imap.gmail.com?"}],"answers":[{"tags":[],"owner":{"account_id":2780667,"reputation":784,"user_id":2393280,"accept_rate":100,"display_name":"Matan Tubul"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1567528700,"creation_date":1455351768,"answer_id":35377709,"question_id":35377560,"body_markdown":"after searching I found that I need to change the host name to `imap.googlemail.com`\r\n\r\nthe following code was changed:\r\n\r\n    mail.store.protocol\r\nchanged to:\r\n\r\n    imap.googlemail.com\r\n\r\n","title":"Please log in via your web browser: https://support.google.com/mail/accounts/answer/78754 (Failure)","body":"<p>after searching I found that I need to change the host name to <code>imap.googlemail.com</code></p>\n\n<p>the following code was changed:</p>\n\n<pre><code>mail.store.protocol\n</code></pre>\n\n<p>changed to:</p>\n\n<pre><code>imap.googlemail.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":385186,"reputation":6475,"user_id":742173,"accept_rate":67,"display_name":"Abhishek Gupta"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1567528685,"creation_date":1492497043,"answer_id":43465118,"question_id":35377560,"body_markdown":"I would recommend you doing the following:\r\n\r\n1. Just enable [2-step verification][1] on your account.\r\n2. Then generate one [App-Specific-Password][2] and us that to connect instead of your original password.\r\n\r\n\r\n  [1]: https://support.google.com/accounts/answer/185839\r\n  [2]: https://support.google.com/accounts/answer/185833?hl=en","title":"Please log in via your web browser: https://support.google.com/mail/accounts/answer/78754 (Failure)","body":"<p>I would recommend you doing the following:</p>\n\n<ol>\n<li>Just enable <a href=\"https://support.google.com/accounts/answer/185839\" rel=\"nofollow noreferrer\">2-step verification</a> on your account.</li>\n<li>Then generate one <a href=\"https://support.google.com/accounts/answer/185833?hl=en\" rel=\"nofollow noreferrer\">App-Specific-Password</a> and us that to connect instead of your original password.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1995650,"reputation":1939,"user_id":1788684,"accept_rate":67,"display_name":"Binod Kalathil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638295106,"creation_date":1638295106,"answer_id":70173999,"question_id":35377560,"body_markdown":"In my case google detected change in usual pattern of login and needs a verification.\r\n\r\nAs indicated by response message we will need to login using web browser(from the machine where the IMAP client is running). We will be asked for verification then(I added a recovery email which provides one method of verification) and after verifying I was able to login using the IMAP client.","title":"Please log in via your web browser: https://support.google.com/mail/accounts/answer/78754 (Failure)","body":"<p>In my case google detected change in usual pattern of login and needs a verification.</p>\n<p>As indicated by response message we will need to login using web browser(from the machine where the IMAP client is running). We will be asked for verification then(I added a recovery email which provides one method of verification) and after verifying I was able to login using the IMAP client.</p>\n"}],"owner":{"account_id":2780667,"reputation":784,"user_id":2393280,"accept_rate":100,"display_name":"Matan Tubul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23347,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":35377709,"answer_count":3,"score":3,"last_activity_date":1638295106,"creation_date":1455350573,"question_id":35377560,"body_markdown":"I am trying to connect to my mail box using the java mail api based on imap protocol. I check and for sure I inserting the correct parameters. This is the following exception that I got:\r\n\r\n&gt; [ALERT] Please log in via your web browser: https://support.google.com/mail/accounts/answer/78754 (Failure)\r\n\r\nI do not know why it is happens in addition I enabled the imap option in my gmail account settings.\r\n\r\nIhis is my code:\r\n\r\n     Properties protocol = new Properties();\r\n     protocol.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n\r\n     try{\r\n          Session session = Session.getInstance(protocol, null);\r\n    \t  Store store = session.getStore();\r\n    \t  String host = prop.getProperty(&quot;host&quot;);\r\n    \t  String email = prop.getProperty(&quot;username&quot;);\r\n    \t  String password = prop.getProperty(&quot;password&quot;);\r\n    \t  store.connect(host, email, password);\r\n    \t  Folder inbox = store.getFolder(&quot;INBOX&quot;);\r\n    \t  inbox.open(Folder.READ_ONLY);\r\n    \t  int messageCount = inbox.getMessageCount();\r\n    \t  model.addAttribute(&quot;msg&quot;,&quot;number of mails&quot;+&quot; &quot;+messageCount);\r\n    \t  Message[] messages = inbox.getMessages();\r\n    \t  PrintWriter writer = new PrintWriter(username+&quot;.txt&quot;, &quot;UTF-8&quot;);\r\n\r\n    \t  for(int i=0;i&lt;messageCount || prop.getProperty(&quot;status&quot;).equals(status.RUNNING.toString()) ;i++ ){\r\n    \t      model.addAttribute(&quot;msg&quot;,&quot;Reading Mails&quot;);\r\n    \t      Multipart mp = (Multipart) messages[i].getContent();\r\n    \t      BodyPart bp = mp.getBodyPart(0);\r\n    \t      writer.println(&quot;From:&quot;+ messages[i].getFrom()+&quot; &quot;+&quot;Subject:&quot;+messages[i].getSubject()+&quot; &quot;+&quot;Message:&quot;+bp.getContent());\r\n    \t      prop =  loadProperties(username+&quot;.properties&quot;);\r\n    \t   }\r\n    \t   writer.close();\r\n    \t   inbox.close(true);\r\n    \t   store.close();\r\n    \t    \t\t\t\r\n        }catch (Exception e){\r\n    \t    \t\t\tmodel.addAttribute(&quot;msg&quot;,&quot;Exception:&quot;+e.getMessage());\r\n    }","title":"Please log in via your web browser: https://support.google.com/mail/accounts/answer/78754 (Failure)","body":"<p>I am trying to connect to my mail box using the java mail api based on imap protocol. I check and for sure I inserting the correct parameters. This is the following exception that I got:</p>\n\n<blockquote>\n  <p>[ALERT] Please log in via your web browser: <a href=\"https://support.google.com/mail/accounts/answer/78754\" rel=\"nofollow\">https://support.google.com/mail/accounts/answer/78754</a> (Failure)</p>\n</blockquote>\n\n<p>I do not know why it is happens in addition I enabled the imap option in my gmail account settings.</p>\n\n<p>Ihis is my code:</p>\n\n<pre><code> Properties protocol = new Properties();\n protocol.setProperty(\"mail.store.protocol\", \"imaps\");\n\n try{\n      Session session = Session.getInstance(protocol, null);\n      Store store = session.getStore();\n      String host = prop.getProperty(\"host\");\n      String email = prop.getProperty(\"username\");\n      String password = prop.getProperty(\"password\");\n      store.connect(host, email, password);\n      Folder inbox = store.getFolder(\"INBOX\");\n      inbox.open(Folder.READ_ONLY);\n      int messageCount = inbox.getMessageCount();\n      model.addAttribute(\"msg\",\"number of mails\"+\" \"+messageCount);\n      Message[] messages = inbox.getMessages();\n      PrintWriter writer = new PrintWriter(username+\".txt\", \"UTF-8\");\n\n      for(int i=0;i&lt;messageCount || prop.getProperty(\"status\").equals(status.RUNNING.toString()) ;i++ ){\n          model.addAttribute(\"msg\",\"Reading Mails\");\n          Multipart mp = (Multipart) messages[i].getContent();\n          BodyPart bp = mp.getBodyPart(0);\n          writer.println(\"From:\"+ messages[i].getFrom()+\" \"+\"Subject:\"+messages[i].getSubject()+\" \"+\"Message:\"+bp.getContent());\n          prop =  loadProperties(username+\".properties\");\n       }\n       writer.close();\n       inbox.close(true);\n       store.close();\n\n    }catch (Exception e){\n                    model.addAttribute(\"msg\",\"Exception:\"+e.getMessage());\n}\n</code></pre>\n"},{"tags":["java","unicode","utf-8","byte","bytearrayoutputstream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1638294586,"post_id":70173859,"comment_id":124048610,"body_markdown":"What do you want to happen to a character that takes four bytes?","body":"What do you want to happen to a character that takes four bytes?"},{"owner":{"account_id":12173258,"reputation":241,"user_id":8887205,"display_name":"Raj"},"score":0,"creation_date":1638348293,"post_id":70173859,"comment_id":124061547,"body_markdown":"What I mentioned here is the core problem to resolve the actual problem. \nThink of a table with dynamic row with variable columns where in each column length max size is 64KB. This table row has to be populated from a string whos length can be more than 64KB. Add a dynamic column in the row when it exceeds 64kb, if there comes a 2 or 4 byte char at the time of the split,  you can write the value &lt; 64kb in the slot, and moving the special char to next slot","body":"What I mentioned here is the core problem to resolve the actual problem.  Think of a table with dynamic row with variable columns where in each column length max size is 64KB. This table row has to be populated from a string whos length can be more than 64KB. Add a dynamic column in the row when it exceeds 64kb, if there comes a 2 or 4 byte char at the time of the split,  you can write the value &lt; 64kb in the slot, and moving the special char to next slot"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638376132,"post_id":70173859,"comment_id":124072918,"body_markdown":"Loop through the string codepoint by codepoint (using `String.codePointAt` and `Character.charCount`), convert each one to UTF-8 bytes, and check the byte count before writing the bytes to the ByteArrayOutputStream.  By the way, the `flush` and `close` methods of ByteArrayOutputStream do nothing, so there is no point in calling flush() and no point in using a try-with-resources statement.","body":"Loop through the string codepoint by codepoint (using <code>String.codePointAt</code> and <code>Character.charCount</code>), convert each one to UTF-8 bytes, and check the byte count before writing the bytes to the ByteArrayOutputStream.  By the way, the <code>flush</code> and <code>close</code> methods of ByteArrayOutputStream do nothing, so there is no point in calling flush() and no point in using a try-with-resources statement."}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638294956,"creation_date":1638294956,"answer_id":70173971,"question_id":70173859,"body_markdown":"It&#39;s UTF-8.  UTF-8 is designed so that you can easlly detect character boundaries.  \r\n\r\nSo: convert String to UTF-8 bytes.  \r\n\r\nThen backtrack until the first excluded byte is a legitimate &#39;first byte&#39;, i.e. **not** 10xxxxxx.  You are now positioned at a character boundary.","title":"How to split a string containing non ascii characters based on the byte size limit?","body":"<p>It's UTF-8.  UTF-8 is designed so that you can easlly detect character boundaries.</p>\n<p>So: convert String to UTF-8 bytes.</p>\n<p>Then backtrack until the first excluded byte is a legitimate 'first byte', i.e. <strong>not</strong> 10xxxxxx.  You are now positioned at a character boundary.</p>\n"}],"owner":{"account_id":12173258,"reputation":241,"user_id":8887205,"display_name":"Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638294956,"creation_date":1638294361,"question_id":70173859,"body_markdown":"How to split a string containing non ascii characters based on the byte size limit? &lt;/br&gt;\r\nI want to split the below string and add to a List&lt;String&gt; and the split is based on the size limit (e.g) 3 bytes. &lt;/br&gt;\r\n\r\n The problem here is extended ascii char takes 2 characters and after split the data become junk as shown in the actual output.  &lt;/br&gt;\r\n\r\nwhat I want is the expected output as given below, its ok to write only 2 bytes, if we come across non-ascii char. Please let me know how to resolve it. &lt;/br&gt;\r\n**Problem:**\r\n```\r\nString words = &quot;Hello wor&#230;d  &#230;&#229;&#233;&#248;&#242;&#244;&#243;&#226;&quot;;\r\n        List&lt;String&gt; payloads = new ArrayList&lt;&gt;();\r\n        try( ByteArrayOutputStream outStream = new ByteArrayOutputStream();) {\r\n            byte[] chars = words.getBytes(StandardCharsets.UTF_8);\r\n             for (byte ch: chars) {\r\n                 outStream.write(ch);\r\n                 if (outStream.size() &gt;= 3) {\r\n                     String s = outStream.toString(&quot;UTF-8&quot;);\r\n                     payloads.add(s);\r\n                     outStream.flush();\r\n                     outStream.reset();\r\n                 }\r\n             }\r\n            payloads.add(outStream.toString(&quot;UTF-8&quot;));\r\n            outStream.flush();\r\n            System.out.println(payloads);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n**Actual Output:** [Hel, lo , wor, &#230;d,   �, �&#229;, &#233;�, �&#242;, &#244;�, �&#226;, ] &lt;/n&gt;\r\n\r\n**Expected output:** [Hel, lo , wor, &#230;d,  ,&#230;, &#229;, &#233;, &#248;, &#242;, &#244;, &#243;, &#226;]  ]\r\n","title":"How to split a string containing non ascii characters based on the byte size limit?","body":"<p>How to split a string containing non ascii characters based on the byte size limit? \nI want to split the below string and add to a List and the split is based on the size limit (e.g) 3 bytes. </p>\n<p>The problem here is extended ascii char takes 2 characters and after split the data become junk as shown in the actual output.  </p>\n<p>what I want is the expected output as given below, its ok to write only 2 bytes, if we come across non-ascii char. Please let me know how to resolve it. \n<strong>Problem:</strong></p>\n<pre><code>String words = &quot;Hello woræd  æåéøòôóâ&quot;;\n        List&lt;String&gt; payloads = new ArrayList&lt;&gt;();\n        try( ByteArrayOutputStream outStream = new ByteArrayOutputStream();) {\n            byte[] chars = words.getBytes(StandardCharsets.UTF_8);\n             for (byte ch: chars) {\n                 outStream.write(ch);\n                 if (outStream.size() &gt;= 3) {\n                     String s = outStream.toString(&quot;UTF-8&quot;);\n                     payloads.add(s);\n                     outStream.flush();\n                     outStream.reset();\n                 }\n             }\n            payloads.add(outStream.toString(&quot;UTF-8&quot;));\n            outStream.flush();\n            System.out.println(payloads);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p><strong>Actual Output:</strong> [Hel, lo , wor, æd,   �, �å, é�, �ò, ô�, �â, ] </p>\n<p><strong>Expected output:</strong> [Hel, lo , wor, æd,  ,æ, å, é, ø, ò, ô, ó, â]  ]</p>\n"},{"tags":["java","jsf"],"comments":[{"owner":{"account_id":12883738,"reputation":47,"user_id":9317986,"display_name":"Manoj Kumar"},"score":0,"creation_date":1638288972,"post_id":70101063,"comment_id":124046324,"body_markdown":"any help in thus regard is really helpful","body":"any help in thus regard is really helpful"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1638296577,"post_id":70101063,"comment_id":124049331,"body_markdown":"Hey Manoj, It&#39;s been a while since I last worked with JSF but one piece of advice I can give you based on above logs is that your application is not starting because either wrong libraries or missing libraries (jar files, dependencies) on the 14c server, so go to your 11G version and check the server library folder to compare what is different with the 14c. I use to have the same problem with JBoss/Wildfly back then.","body":"Hey Manoj, It&#39;s been a while since I last worked with JSF but one piece of advice I can give you based on above logs is that your application is not starting because either wrong libraries or missing libraries (jar files, dependencies) on the 14c server, so go to your 11G version and check the server library folder to compare what is different with the 14c. I use to have the same problem with JBoss/Wildfly back then."}],"owner":{"account_id":12883738,"reputation":47,"user_id":9317986,"display_name":"Manoj Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638293978,"creation_date":1637777641,"question_id":70101063,"body_markdown":"While deploying an application on Weblogic 14c env, I am facing the below error and as a result JSF context is not utilized properly. Please find the stack trace below, apart from this no error is found in log. This is working perfectly fine in Weblogic 11g and it fails only when it is deployed on Weblogic 14c env\r\n\r\n    &lt;Nov 24, 2021, 5:34:51,700 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;74 [[ACTIVE] ExecuteThread: &#39;11&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] INFO org.apache.myfaces.config.FacesConfigurator - Reading standard config org/apache/myfaces/resource/standard-faces-config.xml&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,714 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;88 [[ACTIVE] ExecuteThread: &#39;11&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] INFO org.apache.myfaces.config.FacesConfigurator - Reading config zip:/tools/appsw/oracle/apps/APPS_WEB_001/servers/APPS_WEB_001/tmp/_WL_user/vidreport-ear/51f6ex/war/WEB-INF/lib/ajaxanywhere-1.2.1.jar!/META-INF/faces-config.xml&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,716 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;90 [[ACTIVE] ExecuteThread: &#39;11&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] INFO org.apache.myfaces.config.FacesConfigurator - Reading config zip:/tools/appsw/oracle/apps/APPS_WEB_001/servers/APPS_WEB_001/tmp/_WL_user/vidreport-ear/51f6ex/war/WEB-INF/lib/myfaces-all-1.1.1.jar!/META-INF/faces-config.xml&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,723 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;97 [[ACTIVE] ExecuteThread: &#39;11&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] INFO org.apache.myfaces.config.FacesConfigurator - Reading config zip:/tools/appsw/oracle/apps/APPS_WEB_001/servers/APPS_WEB_001/tmp/_WL_user/vidreport-ear/51f6ex/war/WEB-INF/lib/jsf-facelets-1.2.jar!/META-INF/faces-config.xml&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,726 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;99 [[ACTIVE] ExecuteThread: &#39;11&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] INFO org.apache.myfaces.config.FacesConfigurator - Reading config /WEB-INF/c-facelets-config.xml&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,728 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;102 [[ACTIVE] ExecuteThread: &#39;11&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] INFO org.apache.myfaces.config.FacesConfigurator - Reading config /WEB-INF/v-faces-config.xml&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,732 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;106 [[ACTIVE] ExecuteThread: &#39;11&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] INFO org.apache.myfaces.config.FacesConfigurator - Reading config /WEB-INF/c-taglib-faces-config.xml&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,737 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;111 [[ACTIVE] ExecuteThread: &#39;11&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] INFO org.apache.myfaces.config.FacesConfigurator - Reading config /WEB-INF/ui_pagedefinitions.xml&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,740 PM Greenwich Mean Time&gt; &lt;Error&gt; &lt;javax.faces&gt; &lt;BEA-000000&gt; &lt;Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,755 PM Greenwich Mean Time&gt; &lt;Error&gt; &lt;javax.faces&gt; &lt;BEA-000000&gt; &lt;Unable to inject org.apache.myfaces.application.ApplicationFactoryImpl@1217d029 because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,801 PM Greenwich Mean Time&gt; &lt;Error&gt; &lt;javax.faces&gt; &lt;BEA-000000&gt; &lt;Unable to inject org.apache.myfaces.renderkit.RenderKitFactoryImpl@47e3482d because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?&gt;\r\n    &lt;Nov 24, 2021, 5:34:51,878 PM Greenwich Mean Time&gt; &lt;Error&gt; &lt;javax.faces&gt; &lt;BEA-000000&gt; &lt;Unable to inject org.apache.myfaces.lifecycle.LifecycleFactoryImpl@4263aebb because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?&gt;","title":"JSF initialization failure","body":"<p>While deploying an application on Weblogic 14c env, I am facing the below error and as a result JSF context is not utilized properly. Please find the stack trace below, apart from this no error is found in log. This is working perfectly fine in Weblogic 11g and it fails only when it is deployed on Weblogic 14c env</p>\n<pre><code>&lt;Nov 24, 2021, 5:34:51,700 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;74 [[ACTIVE] ExecuteThread: '11' for queue: 'weblogic.kernel.Default (self-tuning)'] INFO org.apache.myfaces.config.FacesConfigurator - Reading standard config org/apache/myfaces/resource/standard-faces-config.xml&gt;\n&lt;Nov 24, 2021, 5:34:51,714 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;88 [[ACTIVE] ExecuteThread: '11' for queue: 'weblogic.kernel.Default (self-tuning)'] INFO org.apache.myfaces.config.FacesConfigurator - Reading config zip:/tools/appsw/oracle/apps/APPS_WEB_001/servers/APPS_WEB_001/tmp/_WL_user/vidreport-ear/51f6ex/war/WEB-INF/lib/ajaxanywhere-1.2.1.jar!/META-INF/faces-config.xml&gt;\n&lt;Nov 24, 2021, 5:34:51,716 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;90 [[ACTIVE] ExecuteThread: '11' for queue: 'weblogic.kernel.Default (self-tuning)'] INFO org.apache.myfaces.config.FacesConfigurator - Reading config zip:/tools/appsw/oracle/apps/APPS_WEB_001/servers/APPS_WEB_001/tmp/_WL_user/vidreport-ear/51f6ex/war/WEB-INF/lib/myfaces-all-1.1.1.jar!/META-INF/faces-config.xml&gt;\n&lt;Nov 24, 2021, 5:34:51,723 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;97 [[ACTIVE] ExecuteThread: '11' for queue: 'weblogic.kernel.Default (self-tuning)'] INFO org.apache.myfaces.config.FacesConfigurator - Reading config zip:/tools/appsw/oracle/apps/APPS_WEB_001/servers/APPS_WEB_001/tmp/_WL_user/vidreport-ear/51f6ex/war/WEB-INF/lib/jsf-facelets-1.2.jar!/META-INF/faces-config.xml&gt;\n&lt;Nov 24, 2021, 5:34:51,726 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;99 [[ACTIVE] ExecuteThread: '11' for queue: 'weblogic.kernel.Default (self-tuning)'] INFO org.apache.myfaces.config.FacesConfigurator - Reading config /WEB-INF/c-facelets-config.xml&gt;\n&lt;Nov 24, 2021, 5:34:51,728 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;102 [[ACTIVE] ExecuteThread: '11' for queue: 'weblogic.kernel.Default (self-tuning)'] INFO org.apache.myfaces.config.FacesConfigurator - Reading config /WEB-INF/v-faces-config.xml&gt;\n&lt;Nov 24, 2021, 5:34:51,732 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;106 [[ACTIVE] ExecuteThread: '11' for queue: 'weblogic.kernel.Default (self-tuning)'] INFO org.apache.myfaces.config.FacesConfigurator - Reading config /WEB-INF/c-taglib-faces-config.xml&gt;\n&lt;Nov 24, 2021, 5:34:51,737 PM Greenwich Mean Time&gt; &lt;Notice&gt; &lt;StdErr&gt; &lt;BEA-000000&gt; &lt;111 [[ACTIVE] ExecuteThread: '11' for queue: 'weblogic.kernel.Default (self-tuning)'] INFO org.apache.myfaces.config.FacesConfigurator - Reading config /WEB-INF/ui_pagedefinitions.xml&gt;\n&lt;Nov 24, 2021, 5:34:51,740 PM Greenwich Mean Time&gt; &lt;Error&gt; &lt;javax.faces&gt; &lt;BEA-000000&gt; &lt;Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?&gt;\n&lt;Nov 24, 2021, 5:34:51,755 PM Greenwich Mean Time&gt; &lt;Error&gt; &lt;javax.faces&gt; &lt;BEA-000000&gt; &lt;Unable to inject org.apache.myfaces.application.ApplicationFactoryImpl@1217d029 because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?&gt;\n&lt;Nov 24, 2021, 5:34:51,801 PM Greenwich Mean Time&gt; &lt;Error&gt; &lt;javax.faces&gt; &lt;BEA-000000&gt; &lt;Unable to inject org.apache.myfaces.renderkit.RenderKitFactoryImpl@47e3482d because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?&gt;\n&lt;Nov 24, 2021, 5:34:51,878 PM Greenwich Mean Time&gt; &lt;Error&gt; &lt;javax.faces&gt; &lt;BEA-000000&gt; &lt;Unable to inject org.apache.myfaces.lifecycle.LifecycleFactoryImpl@4263aebb because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2225264,"reputation":3565,"user_id":1972388,"accept_rate":77,"display_name":"DevWithZachary"},"score":0,"creation_date":1638293226,"post_id":70173569,"comment_id":124048072,"body_markdown":"Read your error message, your TextView is null,. in your `Information.Java` activity, you haven&#39;t assigned the variable `name` to anything.","body":"Read your error message, your TextView is null,. in your <code>Information.Java</code> activity, you haven&#39;t assigned the variable <code>name</code> to anything."},{"owner":{"account_id":11092210,"reputation":49,"user_id":8143659,"display_name":"Whiliams Thunardy"},"score":0,"creation_date":1638293461,"post_id":70173569,"comment_id":124048147,"body_markdown":"About that, I tried this tutorial https://www.journaldev.com/9412/android-shared-preferences-example-tutorial and they didn&#39;t assigned the variable name to anything and it works so i&#39;m little bit confused","body":"About that, I tried this tutorial <a href=\"https://www.journaldev.com/9412/android-shared-preferences-example-tutorial\" rel=\"nofollow noreferrer\">journaldev.com/9412/android-shared-preferences-example-tutor&zwnj;&#8203;ial</a> and they didn&#39;t assigned the variable name to anything and it works so i&#39;m little bit confused"}],"answers":[{"tags":[],"owner":{"account_id":2225264,"reputation":3565,"user_id":1972388,"accept_rate":77,"display_name":"DevWithZachary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638293683,"creation_date":1638293683,"answer_id":70173714,"question_id":70173569,"body_markdown":"The `TextView` in your `Information.Java` are not assigned to anything within your `onCreate` method before you try calling the setText method. This is what the error is complaining about.\r\n\r\nYour assignments are in the `clear(View view)` method for some reason.... they should be in the `onCreate` method.\r\n\r\ni.e move\r\n\r\n            name = (TextView) findViewById(R.id.etName);\r\n            phonenum = (TextView) findViewById(R.id.etPhoneNum);\r\n            highest = (TextView) findViewById(R.id.etHighest);\r\n            lowest = (TextView) findViewById(R.id.etLowest);\r\n\r\n\r\nout of the `clear` and `get` methods and into the `onCreate` method like:\r\n\r\n    @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.information);\r\n\r\n            name = (TextView) findViewById(R.id.etName);\r\n            phonenum = (TextView) findViewById(R.id.etPhoneNum);\r\n            highest = (TextView) findViewById(R.id.etHighest);\r\n            lowest = (TextView) findViewById(R.id.etLowest);\r\n\r\n            sharedpreferences = getSharedPreferences(mypreference,\r\n                    Context.MODE_PRIVATE);\r\n    \r\n            if (sharedpreferences.contains(Name)) {\r\n                name.setText(sharedpreferences.getString(Name, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(PhoneNum)) {\r\n                phonenum.setText(sharedpreferences.getString(PhoneNum, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(Highest)) {\r\n                highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(Lowest)) {\r\n                lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\r\n            }\r\n        }\r\n\r\n","title":"Cannot get the value from sharedPrefenced","body":"<p>The <code>TextView</code> in your <code>Information.Java</code> are not assigned to anything within your <code>onCreate</code> method before you try calling the setText method. This is what the error is complaining about.</p>\n<p>Your assignments are in the <code>clear(View view)</code> method for some reason.... they should be in the <code>onCreate</code> method.</p>\n<p>i.e move</p>\n<pre><code>        name = (TextView) findViewById(R.id.etName);\n        phonenum = (TextView) findViewById(R.id.etPhoneNum);\n        highest = (TextView) findViewById(R.id.etHighest);\n        lowest = (TextView) findViewById(R.id.etLowest);\n</code></pre>\n<p>out of the <code>clear</code> and <code>get</code> methods and into the <code>onCreate</code> method like:</p>\n<pre><code>@Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.information);\n\n        name = (TextView) findViewById(R.id.etName);\n        phonenum = (TextView) findViewById(R.id.etPhoneNum);\n        highest = (TextView) findViewById(R.id.etHighest);\n        lowest = (TextView) findViewById(R.id.etLowest);\n\n        sharedpreferences = getSharedPreferences(mypreference,\n                Context.MODE_PRIVATE);\n\n        if (sharedpreferences.contains(Name)) {\n            name.setText(sharedpreferences.getString(Name, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(PhoneNum)) {\n            phonenum.setText(sharedpreferences.getString(PhoneNum, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(Highest)) {\n            highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(Lowest)) {\n            lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11092210,"reputation":49,"user_id":8143659,"display_name":"Whiliams Thunardy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70173714,"answer_count":1,"score":-1,"last_activity_date":1638293683,"creation_date":1638293061,"question_id":70173569,"body_markdown":"Hey guys again with my question&lt;br&gt;\r\nSo as in the title, my apps need data from another activity using sharedPreferenced&lt;br&gt;\r\nSo far so good I got the data I store **WHEN** I click the button but when i tried to get the data on the onCreate it just crashing with this error code: &lt;br&gt;\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.test.aplikasirevisi, PID: 28272\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.test.aplikasirevisi/com.test.aplikasirevisi.Information}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2946)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:201)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6810)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n            at com.test.aplikasirevisi.Information.onCreate(Information.java:33)\r\n            at android.app.Activity.performCreate(Activity.java:7224)\r\n            at android.app.Activity.performCreate(Activity.java:7213)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2926)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)&#160;\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n            at android.os.Looper.loop(Looper.java:201)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:6810)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)&#160;\r\n    I/Process: Sending signal. PID: 28272 SIG: 9\r\nIt says it&#39;s null but when I click the button it&#39;s giving me the data though &lt;br&gt;\r\n&lt;br&gt;\r\nHere is my code:&lt;br&gt;\r\n**Information.Java**&lt;br&gt;\r\n\r\n    package com.test.aplikasirevisi;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.SharedPreferences;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    \r\n    public class Information extends Activity {\r\n        SharedPreferences sharedpreferences;\r\n        TextView name;\r\n        TextView phonenum;\r\n        TextView highest;\r\n        TextView lowest;\r\n        public static final String mypreference = &quot;mypref&quot;;\r\n        public static final String Name = &quot;nameKey&quot;;\r\n        public static final String PhoneNum = &quot;phonenumKey&quot;;\r\n        public static final String Highest = &quot;highestKey&quot;;\r\n        public static final String Lowest = &quot;lowestKey&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.information);\r\n            sharedpreferences = getSharedPreferences(mypreference,\r\n                    Context.MODE_PRIVATE);\r\n    \r\n            if (sharedpreferences.contains(Name)) {\r\n                name.setText(sharedpreferences.getString(Name, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(PhoneNum)) {\r\n                phonenum.setText(sharedpreferences.getString(PhoneNum, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(Highest)) {\r\n                highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(Lowest)) {\r\n                lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\r\n            }\r\n        }\r\n        public void Save(View view) {\r\n            String n = name.getText().toString();\r\n            String p = phonenum.getText().toString();\r\n            String h = highest.getText().toString();\r\n            String l = lowest.getText().toString();\r\n            SharedPreferences.Editor editor = sharedpreferences.edit();\r\n            editor.putString(Name, n);\r\n            editor.putString(PhoneNum, p);\r\n            editor.putString(Highest, h);\r\n            editor.putString(Lowest, l);\r\n            editor.commit();\r\n        }\r\n        public void clear(View view) {\r\n            name = (TextView) findViewById(R.id.etName);\r\n            phonenum = (TextView) findViewById(R.id.etPhoneNum);\r\n            highest = (TextView) findViewById(R.id.etHighest);\r\n            lowest = (TextView) findViewById(R.id.etLowest);\r\n            name.setText(&quot;&quot;);\r\n            phonenum.setText(&quot;&quot;);\r\n            highest.setText(&quot;&quot;);\r\n            lowest.setText(&quot;&quot;);\r\n        }\r\n        public void Get(View view) {\r\n            name = (TextView) findViewById(R.id.etName);\r\n            phonenum = (TextView) findViewById(R.id.etPhoneNum);\r\n            highest = (TextView) findViewById(R.id.etHighest);\r\n            lowest = (TextView) findViewById(R.id.etLowest);\r\n            sharedpreferences = getSharedPreferences(mypreference,\r\n                    Context.MODE_PRIVATE);\r\n    \r\n            if (sharedpreferences.contains(Name)) {\r\n                name.setText(sharedpreferences.getString(Name, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(PhoneNum)) {\r\n                phonenum.setText(sharedpreferences.getString(PhoneNum, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(Highest)) {\r\n                highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(Lowest)) {\r\n                lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**MonitoringScreen.Java**&lt;br&gt;\r\n\r\n    package com.test.aplikasirevisi;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.UUID;\r\n    import android.app.Activity;\r\n    import android.app.ProgressDialog;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothSocket;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.text.method.ScrollingMovementMethod;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.CheckBox;\r\n    import android.widget.EditText;\r\n    import android.widget.ScrollView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import static com.test.aplikasirevisi.Information.Highest;\r\n    import static com.test.aplikasirevisi.Information.Lowest;\r\n    import static com.test.aplikasirevisi.Information.mypreference;\r\n    \r\n    \r\n    public class MonitoringScreen extends Activity {\r\n        private static final String TAG = &quot;BlueTest5-MainActivity&quot;;\r\n        private int mMaxChars = 50000;//Default\r\n        private UUID mDeviceUUID;\r\n        private BluetoothSocket mBTSocket;\r\n        private ReadInput mReadThread = null;\r\n        TextView highest;\r\n        TextView lowest;\r\n        private boolean mIsUserInitiatedDisconnect = false;\r\n    \r\n        private TextView mTxtReceive;\r\n        private Button mBtnClearInput;\r\n        private Button mBtnGetBPM;\r\n        private ScrollView scrollView;\r\n        private CheckBox chkScroll;\r\n        private CheckBox chkReceiveText;\r\n    \r\n    \r\n        private boolean mIsBluetoothConnected = false;\r\n    \r\n        private BluetoothDevice mDevice;\r\n    \r\n        private ProgressDialog progressDialog;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_monitoring_screen);\r\n            ActivityHelper.initialize(this);\r\n    \r\n            Intent intent = getIntent();\r\n            Bundle b = intent.getExtras();\r\n            mDevice = b.getParcelable(MainActivity.DEVICE_EXTRA);\r\n            mDeviceUUID = UUID.fromString(b.getString(MainActivity.DEVICE_UUID));\r\n            mMaxChars = b.getInt(MainActivity.BUFFER_SIZE);\r\n            Log.d(TAG, &quot;Ready&quot;);\r\n            mTxtReceive = (TextView) findViewById(R.id.txtReceive);\r\n            chkScroll = (CheckBox) findViewById(R.id.chkScroll);\r\n            chkReceiveText = (CheckBox) findViewById(R.id.chkReceiveText);\r\n            scrollView = (ScrollView) findViewById(R.id.viewScroll);\r\n            mBtnClearInput = (Button) findViewById(R.id.btnClearInput);\r\n            mBtnGetBPM = (Button) findViewById(R.id.mBtnGetBPM);\r\n            mTxtReceive.setMovementMethod(new ScrollingMovementMethod());\r\n    \r\n            mBtnClearInput.setOnClickListener(new OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View arg0) {\r\n                    mTxtReceive.setText(&quot;&quot;);\r\n                }\r\n            });\r\n            mBtnGetBPM.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View arg0) {\r\n    \r\n                    highest = (TextView) findViewById(R.id.etHighest);\r\n                    lowest = (TextView) findViewById(R.id.etLowest);\r\n                    SharedPreferences sharedpreferences = getSharedPreferences(mypreference,\r\n                            Context.MODE_PRIVATE);\r\n                    if (sharedpreferences.contains(Highest)) {\r\n                        highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\r\n                    }\r\n                    if (sharedpreferences.contains(Lowest)) {\r\n                        lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        private class ReadInput implements  Runnable{\r\n            private boolean bStop = false;\r\n            private Thread t;\r\n    \r\n            public ReadInput() {\r\n                t = new Thread(this, &quot;Input Thread&quot;);\r\n                t.start();\r\n            }\r\n    \r\n            public boolean isRunning() {\r\n                return t.isAlive();\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                InputStream inputStream;\r\n    \r\n                try {\r\n                    inputStream = mBTSocket.getInputStream();\r\n                    while (!bStop) {\r\n                        byte[] buffer = new byte[256];\r\n                        if (inputStream.available() &gt; 0) {\r\n                            inputStream.read(buffer);\r\n                            int i;\r\n                            /*\r\n                             * This is needed because new String(buffer) is taking the entire buffer i.e. 256 chars on Android 2.3.4 http://stackoverflow.com/a/8843462/1287554\r\n                             */\r\n                            for (i = 0; i &lt; buffer.length &amp;&amp; buffer[i] != 0; i++) {\r\n                            }\r\n                            final String strInput = new String(buffer, 0, i);\r\n                            String getHi = null;\r\n    \r\n    \r\n                            SharedPreferences sharedpreferences = getSharedPreferences(mypreference,\r\n                                    Context.MODE_PRIVATE);\r\n                            if (sharedpreferences.contains(Highest)) {\r\n                                highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\r\n                                getHi=highest.getText().toString();\r\n                            }\r\n                            if (sharedpreferences.contains(Lowest)) {\r\n                                lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\r\n                            }\r\n                            int hi = Integer.parseInt(getHi);\r\n    \r\n                            /*\r\n                             * If checked then receive text, better design would probably be to stop thread if unchecked and free resources, but this is a quick fix\r\n                             */\r\n    \r\n                            if (chkReceiveText.isChecked()) {\r\n                                mTxtReceive.post(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        int data = Integer.parseInt(strInput);\r\n                                        mTxtReceive.append(strInput);\r\n    \r\n                                        int txtLength = mTxtReceive.getEditableText().length();\r\n                                        if(txtLength &gt; mMaxChars){\r\n                                            mTxtReceive.getEditableText().delete(0, txtLength - mMaxChars);\r\n                                            Log.d(TAG, &quot;text longer than allowed:&quot; + mTxtReceive.getEditableText().delete(0, txtLength - mMaxChars));\r\n                                            Log.d(TAG, strInput);\r\n                                            if(data &gt; hi){\r\n                                                Log.d(TAG, &quot;Success&quot;);\r\n                                            }\r\n                                        }\r\n    \r\n                                        if (chkScroll.isChecked()) { // Scroll only if this is checked\r\n                                            scrollView.post(new Runnable() { // Snippet from http://stackoverflow.com/a/4612082/1287554\r\n                                                @Override\r\n                                                public void run() {\r\n                                                    scrollView.fullScroll(View.FOCUS_DOWN);\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n    \r\n                        }\r\n                        Thread.sleep(500);\r\n                    }\r\n                } catch (IOException e) {\r\n    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                } catch (InterruptedException e) {\r\n    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }\r\n    \r\n            public void stop() {\r\n                bStop = true;\r\n            }\r\n    \r\n        }\r\n        private class DisConnectBT extends AsyncTask&lt;Void, Void, Void&gt; {\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... params) {\r\n    \r\n                if (mReadThread != null) {\r\n                    mReadThread.stop();\r\n                    while (mReadThread.isRunning())\r\n                        ; // Wait until it stops\r\n                    mReadThread = null;\r\n    \r\n                }\r\n    \r\n                try {\r\n                    mBTSocket.close();\r\n                } catch (IOException e) {\r\n    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void result) {\r\n                super.onPostExecute(result);\r\n                mIsBluetoothConnected = false;\r\n                if (mIsUserInitiatedDisconnect) {\r\n                    finish();\r\n                }\r\n            }\r\n    \r\n        }\r\n        private void msg(String s) {\r\n            Toast.makeText(getApplicationContext(), s, Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            if (mBTSocket != null &amp;&amp; mIsBluetoothConnected) {\r\n                new DisConnectBT().execute();\r\n            }\r\n            Log.d(TAG, &quot;Paused&quot;);\r\n            super.onPause();\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            if (mBTSocket == null || !mIsBluetoothConnected) {\r\n                new ConnectBT().execute();\r\n            }\r\n            Log.d(TAG, &quot;Resumed&quot;);\r\n            super.onResume();\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            Log.d(TAG, &quot;Stopped&quot;);\r\n            super.onStop();\r\n        }\r\n    \r\n        @Override\r\n        protected void onSaveInstanceState(Bundle outState) {\r\n    // TODO Auto-generated method stub\r\n            super.onSaveInstanceState(outState);\r\n        }\r\n    \r\n        private class ConnectBT extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            private boolean mConnectSuccessful = true;\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                progressDialog = ProgressDialog.show(MonitoringScreen.this, &quot;Hold on&quot;, &quot;Connecting&quot;);// http://stackoverflow.com/a/11130220/1287554\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... devices) {\r\n    \r\n                try {\r\n                    if (mBTSocket == null || !mIsBluetoothConnected) {\r\n                        mBTSocket = mDevice.createInsecureRfcommSocketToServiceRecord(mDeviceUUID);\r\n                        BluetoothAdapter.getDefaultAdapter().cancelDiscovery();\r\n                        mBTSocket.connect();\r\n                    }\r\n                } catch (IOException e) {\r\n    // Unable to connect to device\r\n                    e.printStackTrace();\r\n                    mConnectSuccessful = false;\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void result) {\r\n                super.onPostExecute(result);\r\n    \r\n                if (!mConnectSuccessful) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Could not connect to device. Is it a Serial device? Also check if the UUID is correct in the settings&quot;, Toast.LENGTH_LONG).show();\r\n                    finish();\r\n                } else {\r\n                    msg(&quot;Connected to device&quot;);\r\n                    mIsBluetoothConnected = true;\r\n                    mReadThread = new ReadInput(); // Kick off input reader\r\n                }\r\n    \r\n                progressDialog.dismiss();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n&lt;br&gt;\r\nAs you can see I tried to automatically get the Highest bpm dan Lowest bpm but it spans the same error so I&#39;m in a pickle now so if anyone can help with it dan fast I&#39;ll be grateful for that. And sorry for my English it&#39;s not my first language so I can&#39;t express it really well.","title":"Cannot get the value from sharedPrefenced","body":"<p>Hey guys again with my question<br>\nSo as in the title, my apps need data from another activity using sharedPreferenced<br>\nSo far so good I got the data I store <strong>WHEN</strong> I click the button but when i tried to get the data on the onCreate it just crashing with this error code: <br></p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.test.aplikasirevisi, PID: 28272\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.test.aplikasirevisi/com.test.aplikasirevisi.Information}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2946)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:201)\n        at android.app.ActivityThread.main(ActivityThread.java:6810)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at com.test.aplikasirevisi.Information.onCreate(Information.java:33)\n        at android.app.Activity.performCreate(Activity.java:7224)\n        at android.app.Activity.performCreate(Activity.java:7213)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2926)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:201) \n        at android.app.ActivityThread.main(ActivityThread.java:6810) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873) \nI/Process: Sending signal. PID: 28272 SIG: 9\n</code></pre>\n<p>It says it's null but when I click the button it's giving me the data though <br>\n<br>\nHere is my code:<br>\n<strong>Information.Java</strong><br></p>\n<pre><code>package com.test.aplikasirevisi;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\n\npublic class Information extends Activity {\n    SharedPreferences sharedpreferences;\n    TextView name;\n    TextView phonenum;\n    TextView highest;\n    TextView lowest;\n    public static final String mypreference = &quot;mypref&quot;;\n    public static final String Name = &quot;nameKey&quot;;\n    public static final String PhoneNum = &quot;phonenumKey&quot;;\n    public static final String Highest = &quot;highestKey&quot;;\n    public static final String Lowest = &quot;lowestKey&quot;;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.information);\n        sharedpreferences = getSharedPreferences(mypreference,\n                Context.MODE_PRIVATE);\n\n        if (sharedpreferences.contains(Name)) {\n            name.setText(sharedpreferences.getString(Name, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(PhoneNum)) {\n            phonenum.setText(sharedpreferences.getString(PhoneNum, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(Highest)) {\n            highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(Lowest)) {\n            lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\n        }\n    }\n    public void Save(View view) {\n        String n = name.getText().toString();\n        String p = phonenum.getText().toString();\n        String h = highest.getText().toString();\n        String l = lowest.getText().toString();\n        SharedPreferences.Editor editor = sharedpreferences.edit();\n        editor.putString(Name, n);\n        editor.putString(PhoneNum, p);\n        editor.putString(Highest, h);\n        editor.putString(Lowest, l);\n        editor.commit();\n    }\n    public void clear(View view) {\n        name = (TextView) findViewById(R.id.etName);\n        phonenum = (TextView) findViewById(R.id.etPhoneNum);\n        highest = (TextView) findViewById(R.id.etHighest);\n        lowest = (TextView) findViewById(R.id.etLowest);\n        name.setText(&quot;&quot;);\n        phonenum.setText(&quot;&quot;);\n        highest.setText(&quot;&quot;);\n        lowest.setText(&quot;&quot;);\n    }\n    public void Get(View view) {\n        name = (TextView) findViewById(R.id.etName);\n        phonenum = (TextView) findViewById(R.id.etPhoneNum);\n        highest = (TextView) findViewById(R.id.etHighest);\n        lowest = (TextView) findViewById(R.id.etLowest);\n        sharedpreferences = getSharedPreferences(mypreference,\n                Context.MODE_PRIVATE);\n\n        if (sharedpreferences.contains(Name)) {\n            name.setText(sharedpreferences.getString(Name, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(PhoneNum)) {\n            phonenum.setText(sharedpreferences.getString(PhoneNum, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(Highest)) {\n            highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(Lowest)) {\n            lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\n        }\n    }\n\n}\n</code></pre>\n<p><strong>MonitoringScreen.Java</strong><br></p>\n<pre><code>package com.test.aplikasirevisi;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.UUID;\nimport android.app.Activity;\nimport android.app.ProgressDialog;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothSocket;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.text.method.ScrollingMovementMethod;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.EditText;\nimport android.widget.ScrollView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport static com.test.aplikasirevisi.Information.Highest;\nimport static com.test.aplikasirevisi.Information.Lowest;\nimport static com.test.aplikasirevisi.Information.mypreference;\n\n\npublic class MonitoringScreen extends Activity {\n    private static final String TAG = &quot;BlueTest5-MainActivity&quot;;\n    private int mMaxChars = 50000;//Default\n    private UUID mDeviceUUID;\n    private BluetoothSocket mBTSocket;\n    private ReadInput mReadThread = null;\n    TextView highest;\n    TextView lowest;\n    private boolean mIsUserInitiatedDisconnect = false;\n\n    private TextView mTxtReceive;\n    private Button mBtnClearInput;\n    private Button mBtnGetBPM;\n    private ScrollView scrollView;\n    private CheckBox chkScroll;\n    private CheckBox chkReceiveText;\n\n\n    private boolean mIsBluetoothConnected = false;\n\n    private BluetoothDevice mDevice;\n\n    private ProgressDialog progressDialog;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_monitoring_screen);\n        ActivityHelper.initialize(this);\n\n        Intent intent = getIntent();\n        Bundle b = intent.getExtras();\n        mDevice = b.getParcelable(MainActivity.DEVICE_EXTRA);\n        mDeviceUUID = UUID.fromString(b.getString(MainActivity.DEVICE_UUID));\n        mMaxChars = b.getInt(MainActivity.BUFFER_SIZE);\n        Log.d(TAG, &quot;Ready&quot;);\n        mTxtReceive = (TextView) findViewById(R.id.txtReceive);\n        chkScroll = (CheckBox) findViewById(R.id.chkScroll);\n        chkReceiveText = (CheckBox) findViewById(R.id.chkReceiveText);\n        scrollView = (ScrollView) findViewById(R.id.viewScroll);\n        mBtnClearInput = (Button) findViewById(R.id.btnClearInput);\n        mBtnGetBPM = (Button) findViewById(R.id.mBtnGetBPM);\n        mTxtReceive.setMovementMethod(new ScrollingMovementMethod());\n\n        mBtnClearInput.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View arg0) {\n                mTxtReceive.setText(&quot;&quot;);\n            }\n        });\n        mBtnGetBPM.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View arg0) {\n\n                highest = (TextView) findViewById(R.id.etHighest);\n                lowest = (TextView) findViewById(R.id.etLowest);\n                SharedPreferences sharedpreferences = getSharedPreferences(mypreference,\n                        Context.MODE_PRIVATE);\n                if (sharedpreferences.contains(Highest)) {\n                    highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\n                }\n                if (sharedpreferences.contains(Lowest)) {\n                    lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\n                }\n            }\n        });\n    }\n    private class ReadInput implements  Runnable{\n        private boolean bStop = false;\n        private Thread t;\n\n        public ReadInput() {\n            t = new Thread(this, &quot;Input Thread&quot;);\n            t.start();\n        }\n\n        public boolean isRunning() {\n            return t.isAlive();\n        }\n\n        @Override\n        public void run() {\n            InputStream inputStream;\n\n            try {\n                inputStream = mBTSocket.getInputStream();\n                while (!bStop) {\n                    byte[] buffer = new byte[256];\n                    if (inputStream.available() &gt; 0) {\n                        inputStream.read(buffer);\n                        int i;\n                        /*\n                         * This is needed because new String(buffer) is taking the entire buffer i.e. 256 chars on Android 2.3.4 http://stackoverflow.com/a/8843462/1287554\n                         */\n                        for (i = 0; i &lt; buffer.length &amp;&amp; buffer[i] != 0; i++) {\n                        }\n                        final String strInput = new String(buffer, 0, i);\n                        String getHi = null;\n\n\n                        SharedPreferences sharedpreferences = getSharedPreferences(mypreference,\n                                Context.MODE_PRIVATE);\n                        if (sharedpreferences.contains(Highest)) {\n                            highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\n                            getHi=highest.getText().toString();\n                        }\n                        if (sharedpreferences.contains(Lowest)) {\n                            lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\n                        }\n                        int hi = Integer.parseInt(getHi);\n\n                        /*\n                         * If checked then receive text, better design would probably be to stop thread if unchecked and free resources, but this is a quick fix\n                         */\n\n                        if (chkReceiveText.isChecked()) {\n                            mTxtReceive.post(new Runnable() {\n                                @Override\n                                public void run() {\n                                    int data = Integer.parseInt(strInput);\n                                    mTxtReceive.append(strInput);\n\n                                    int txtLength = mTxtReceive.getEditableText().length();\n                                    if(txtLength &gt; mMaxChars){\n                                        mTxtReceive.getEditableText().delete(0, txtLength - mMaxChars);\n                                        Log.d(TAG, &quot;text longer than allowed:&quot; + mTxtReceive.getEditableText().delete(0, txtLength - mMaxChars));\n                                        Log.d(TAG, strInput);\n                                        if(data &gt; hi){\n                                            Log.d(TAG, &quot;Success&quot;);\n                                        }\n                                    }\n\n                                    if (chkScroll.isChecked()) { // Scroll only if this is checked\n                                        scrollView.post(new Runnable() { // Snippet from http://stackoverflow.com/a/4612082/1287554\n                                            @Override\n                                            public void run() {\n                                                scrollView.fullScroll(View.FOCUS_DOWN);\n                                            }\n                                        });\n                                    }\n                                }\n                            });\n                        }\n\n                    }\n                    Thread.sleep(500);\n                }\n            } catch (IOException e) {\n// TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (InterruptedException e) {\n// TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n\n        public void stop() {\n            bStop = true;\n        }\n\n    }\n    private class DisConnectBT extends AsyncTask&lt;Void, Void, Void&gt; {\n\n        @Override\n        protected void onPreExecute() {\n        }\n\n        @Override\n        protected Void doInBackground(Void... params) {\n\n            if (mReadThread != null) {\n                mReadThread.stop();\n                while (mReadThread.isRunning())\n                    ; // Wait until it stops\n                mReadThread = null;\n\n            }\n\n            try {\n                mBTSocket.close();\n            } catch (IOException e) {\n// TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n            super.onPostExecute(result);\n            mIsBluetoothConnected = false;\n            if (mIsUserInitiatedDisconnect) {\n                finish();\n            }\n        }\n\n    }\n    private void msg(String s) {\n        Toast.makeText(getApplicationContext(), s, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    protected void onPause() {\n        if (mBTSocket != null &amp;&amp; mIsBluetoothConnected) {\n            new DisConnectBT().execute();\n        }\n        Log.d(TAG, &quot;Paused&quot;);\n        super.onPause();\n    }\n\n    @Override\n    protected void onResume() {\n        if (mBTSocket == null || !mIsBluetoothConnected) {\n            new ConnectBT().execute();\n        }\n        Log.d(TAG, &quot;Resumed&quot;);\n        super.onResume();\n    }\n\n    @Override\n    protected void onStop() {\n        Log.d(TAG, &quot;Stopped&quot;);\n        super.onStop();\n    }\n\n    @Override\n    protected void onSaveInstanceState(Bundle outState) {\n// TODO Auto-generated method stub\n        super.onSaveInstanceState(outState);\n    }\n\n    private class ConnectBT extends AsyncTask&lt;Void, Void, Void&gt; {\n        private boolean mConnectSuccessful = true;\n\n        @Override\n        protected void onPreExecute() {\n            progressDialog = ProgressDialog.show(MonitoringScreen.this, &quot;Hold on&quot;, &quot;Connecting&quot;);// http://stackoverflow.com/a/11130220/1287554\n        }\n\n        @Override\n        protected Void doInBackground(Void... devices) {\n\n            try {\n                if (mBTSocket == null || !mIsBluetoothConnected) {\n                    mBTSocket = mDevice.createInsecureRfcommSocketToServiceRecord(mDeviceUUID);\n                    BluetoothAdapter.getDefaultAdapter().cancelDiscovery();\n                    mBTSocket.connect();\n                }\n            } catch (IOException e) {\n// Unable to connect to device\n                e.printStackTrace();\n                mConnectSuccessful = false;\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n            super.onPostExecute(result);\n\n            if (!mConnectSuccessful) {\n                Toast.makeText(getApplicationContext(), &quot;Could not connect to device. Is it a Serial device? Also check if the UUID is correct in the settings&quot;, Toast.LENGTH_LONG).show();\n                finish();\n            } else {\n                msg(&quot;Connected to device&quot;);\n                mIsBluetoothConnected = true;\n                mReadThread = new ReadInput(); // Kick off input reader\n            }\n\n            progressDialog.dismiss();\n        }\n\n    }\n}\n</code></pre>\n<br>\nAs you can see I tried to automatically get the Highest bpm dan Lowest bpm but it spans the same error so I'm in a pickle now so if anyone can help with it dan fast I'll be grateful for that. And sorry for my English it's not my first language so I can't express it really well.\n"},{"tags":["java","hibernate","postgresql","jpa","partitioning"],"answers":[{"tags":[],"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438267945,"creation_date":1438267945,"answer_id":31727104,"question_id":31703620,"body_markdown":"The error is not in JPA, but in your trigger: `return NEW;` will always execute the original `INSERT`, where you only want to execute your `INSERT` in the trigger. \r\n\r\nYou should use `return null;` instead, to cancel the original `INSERT INTO TABLE`.","title":"JPA and insert into partition of table","body":"<p>The error is not in JPA, but in your trigger: <code>return NEW;</code> will always execute the original <code>INSERT</code>, where you only want to execute your <code>INSERT</code> in the trigger. </p>\n\n<p>You should use <code>return null;</code> instead, to cancel the original <code>INSERT INTO TABLE</code>.</p>\n"}],"owner":{"account_id":3454563,"reputation":103,"user_id":2893342,"accept_rate":0,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3191,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1638293179,"creation_date":1438180611,"question_id":31703620,"body_markdown":"I have a TABLE in PostgreSQL, in which n partitions (TABLE_1, TABLE_2, ..., TABLE_n). There is a trigger that when you insert a table TABLE, inserts data into a partition. \r\nTrigger:\r\n\r\n    IF (NEW.program_id=1) THEN INSERT INTO st.table_1 VALUES (NEW.*);\r\n\t    \tELSIF (NEW.program_id=2) THEN INSERT INTO st.table_2 VALUES (NEW.*);\r\n     ....\r\n    return NEW;\r\n\r\nI have an object:\r\n\r\n    @Entity\r\n    @Table(name = &quot;TABLE&quot;, schema = &quot;st&quot;)\r\n    public class TABLE implements Serializable {\r\n    \r\n    \r\n    @Getter\r\n    @Setter\r\n    @Column(name = &quot;id&quot;, nullable = false, insertable = false, columnDefinition = &quot;integer auto_increment&quot;)\r\n    private Integer id;\r\n    \r\n    \r\n    @Getter\r\n    @Setter\r\n    @Column(name = &quot;program_id&quot;, nullable = false)\r\n    private Integer programId;\r\n    \r\n    .... }\r\n\r\nI have a JpaRepository:\r\n\r\n    public interface TableRepository extends JpaRepository&lt;TABLE, Integer&gt; {}\r\n\r\nSo, when I save the object TABLE:\r\n\r\n    TableRepository.save(myTable);\r\n\r\nrecord duplicated... One record in several table TABLE, the second record in partition...\r\n\r\nHow to make a record that was only in the partition ??\r\n\r\n**UPD.**\r\n\r\nExample my @SQLInsert\r\n\r\n    @SQLInsert(sql = &quot;INSERT INTO store.invoice(id,program_id,db_id,acs_number,is_active,date_doc,summa,is_entry,&quot; +\r\n                 &quot;invoice_type_id,from_id,to_id,from_req_id,to_req_id,agent_id,offic,bn,date_create,date_update,&quot; +\r\n                 &quot;offic_number,comment,date_ship,is_edited,store_rule_id,inv_cc_days,fact_date_doc,update_id,store_doc,&quot; +\r\n                 &quot;order_num,parent_num,addition_num,user_create,user_update,place_id,type_data_col_id,contract_id,&quot; +\r\n                 &quot;delivery,cert_num,uid,original_uid,date_return,reason_get_back_id,entry_night,send_stm,time_send_stm,&quot; +\r\n                 &quot;invoice_type_for_1c,isa_id,isa_status_id,uid_ishop_id,delivery_ag_id,fraction_offic_number,&quot; +\r\n                 &quot;forwarder_id,declarant_id,ext_locked,declarant_employee_num,revision_id,src_doc_sum,op_num,&quot; +\r\n                 &quot;is_factoring,is_add_2amounts,is_load_2isa,num_sf,id_from_1c)&quot; +\r\n                 &quot;VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)&quot;, check = ResultCheckStyle.NONE)","title":"JPA and insert into partition of table","body":"<p>I have a TABLE in PostgreSQL, in which n partitions (TABLE_1, TABLE_2, ..., TABLE_n). There is a trigger that when you insert a table TABLE, inserts data into a partition. \nTrigger:</p>\n\n<pre><code>IF (NEW.program_id=1) THEN INSERT INTO st.table_1 VALUES (NEW.*);\n        ELSIF (NEW.program_id=2) THEN INSERT INTO st.table_2 VALUES (NEW.*);\n ....\nreturn NEW;\n</code></pre>\n\n<p>I have an object:</p>\n\n<pre><code>@Entity\n@Table(name = \"TABLE\", schema = \"st\")\npublic class TABLE implements Serializable {\n\n\n@Getter\n@Setter\n@Column(name = \"id\", nullable = false, insertable = false, columnDefinition = \"integer auto_increment\")\nprivate Integer id;\n\n\n@Getter\n@Setter\n@Column(name = \"program_id\", nullable = false)\nprivate Integer programId;\n\n.... }\n</code></pre>\n\n<p>I have a JpaRepository:</p>\n\n<pre><code>public interface TableRepository extends JpaRepository&lt;TABLE, Integer&gt; {}\n</code></pre>\n\n<p>So, when I save the object TABLE:</p>\n\n<pre><code>TableRepository.save(myTable);\n</code></pre>\n\n<p>record duplicated... One record in several table TABLE, the second record in partition...</p>\n\n<p>How to make a record that was only in the partition ??</p>\n\n<p><strong>UPD.</strong></p>\n\n<p>Example my @SQLInsert</p>\n\n<pre><code>@SQLInsert(sql = \"INSERT INTO store.invoice(id,program_id,db_id,acs_number,is_active,date_doc,summa,is_entry,\" +\n             \"invoice_type_id,from_id,to_id,from_req_id,to_req_id,agent_id,offic,bn,date_create,date_update,\" +\n             \"offic_number,comment,date_ship,is_edited,store_rule_id,inv_cc_days,fact_date_doc,update_id,store_doc,\" +\n             \"order_num,parent_num,addition_num,user_create,user_update,place_id,type_data_col_id,contract_id,\" +\n             \"delivery,cert_num,uid,original_uid,date_return,reason_get_back_id,entry_night,send_stm,time_send_stm,\" +\n             \"invoice_type_for_1c,isa_id,isa_status_id,uid_ishop_id,delivery_ag_id,fraction_offic_number,\" +\n             \"forwarder_id,declarant_id,ext_locked,declarant_employee_num,revision_id,src_doc_sum,op_num,\" +\n             \"is_factoring,is_add_2amounts,is_load_2isa,num_sf,id_from_1c)\" +\n             \"VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\", check = ResultCheckStyle.NONE)\n</code></pre>\n"},{"tags":["java","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":4099584,"reputation":2238,"user_id":3365479,"accept_rate":80,"display_name":"madteapot"},"score":1,"creation_date":1638292789,"post_id":70173076,"comment_id":124047914,"body_markdown":"Does this answer your question? [Service layer bean validation in Spring 5?](https://stackoverflow.com/questions/63618897/service-layer-bean-validation-in-spring-5)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63618897/service-layer-bean-validation-in-spring-5\">Service layer bean validation in Spring 5?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638292854,"creation_date":1638292854,"answer_id":70173510,"question_id":70173076,"body_markdown":"First, you need to create and provide a `MethodValidationPostProcessor` Spring-managed bean as follows:\r\n```java\r\n@Configuration\r\npublic class MethodValidationConfig {\r\n\r\n    @Bean\r\n    public MethodValidationPostProcessor methodValidationPostProcessor() {\r\n        return new MethodValidationPostProcessor();\r\n    }\r\n}\r\n```\r\n\r\nAnd then you need to add `@Validated` to your class as follows:\r\n```java\r\n@Validated\r\npublic final class A {\r\n\r\n    @Size(min = 1, max = 15, message = &quot;Error&quot;)\r\n    private final String id;\r\n    private final String anotherString;\r\n    \r\n    ....\r\n}\r\n```\r\n\r\nKeep in mind that this will only work if both `A` and `C` are Spring-managed beans.","title":"Java injection on parameter validation (without REST API call)","body":"<p>First, you need to create and provide a <code>MethodValidationPostProcessor</code> Spring-managed bean as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MethodValidationConfig {\n\n    @Bean\n    public MethodValidationPostProcessor methodValidationPostProcessor() {\n        return new MethodValidationPostProcessor();\n    }\n}\n</code></pre>\n<p>And then you need to add <code>@Validated</code> to your class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Validated\npublic final class A {\n\n    @Size(min = 1, max = 15, message = &quot;Error&quot;)\n    private final String id;\n    private final String anotherString;\n    \n    ....\n}\n</code></pre>\n<p>Keep in mind that this will only work if both <code>A</code> and <code>C</code> are Spring-managed beans.</p>\n"}],"owner":{"account_id":9669917,"reputation":1002,"user_id":7175213,"accept_rate":53,"display_name":"Catarina Nogueira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70173510,"answer_count":1,"score":0,"last_activity_date":1638292854,"creation_date":1638291096,"question_id":70173076,"body_markdown":"I have a `class A` and I want to validate that the &quot;`id`&quot; is not more than 15 chars, so I am using  `@Size(min = 1, max = 15, message = &quot;Error&quot;)`:\r\n\r\n    public final class A {\r\n    \r\n        @Size(min = 1, max = 15, message = &quot;Error&quot;)\r\n        private final String id;\r\n        private final String anotherString;\r\n      ....\r\n    }\r\n\r\nAnd I am using `A` like this below, with `@Valid`:\r\n\r\n      public final class C {\r\n        \r\n        void methodThatUsesA(@Valid final A a, final B b)  {\r\n        ...\r\n        }\r\n      }\r\n\r\nMoreover if I call `methodThatUsesA` like this below, with a string that have more than 15 chars, the validation is not triggered and I don&#39;t know why:\r\n\r\n     methodThatUsesA(new A(&quot;AZERTYUIOPQSDFGDFG&quot;, &#39;a&#39;), new B()){}\r\n\r\nAny help is accepted :) ","title":"Java injection on parameter validation (without REST API call)","body":"<p>I have a <code>class A</code> and I want to validate that the &quot;<code>id</code>&quot; is not more than 15 chars, so I am using  <code>@Size(min = 1, max = 15, message = &quot;Error&quot;)</code>:</p>\n<pre><code>public final class A {\n\n    @Size(min = 1, max = 15, message = &quot;Error&quot;)\n    private final String id;\n    private final String anotherString;\n  ....\n}\n</code></pre>\n<p>And I am using <code>A</code> like this below, with <code>@Valid</code>:</p>\n<pre><code>  public final class C {\n    \n    void methodThatUsesA(@Valid final A a, final B b)  {\n    ...\n    }\n  }\n</code></pre>\n<p>Moreover if I call <code>methodThatUsesA</code> like this below, with a string that have more than 15 chars, the validation is not triggered and I don't know why:</p>\n<pre><code> methodThatUsesA(new A(&quot;AZERTYUIOPQSDFGDFG&quot;, 'a'), new B()){}\n</code></pre>\n<p>Any help is accepted :)</p>\n"},{"tags":["java","smartcard","apdu"],"comments":[{"owner":{"account_id":4435738,"reputation":97,"user_id":3611633,"accept_rate":86,"display_name":"See Yah Later"},"score":0,"creation_date":1429682326,"post_id":22619595,"comment_id":47706953,"body_markdown":"Hi, what device did you use in reading smart card files?","body":"Hi, what device did you use in reading smart card files?"}],"answers":[{"tags":[],"owner":{"account_id":1606959,"reputation":751,"user_id":1486865,"display_name":"Toluene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1395727900,"creation_date":1395727900,"answer_id":22626705,"question_id":22619595,"body_markdown":"You now need to pick a file and select it with the same command. If you Google ISO7816-4 you Will find a few sites describing the read binary and read record commands. Depending on the file type you selected. There is not standard ISO command for listing DFs andd EFs, though. Try EFICCID (2FE2 IIRC) for a start, it is present in most cards.","title":"Read smart card files","body":"<p>You now need to pick a file and select it with the same command. If you Google ISO7816-4 you Will find a few sites describing the read binary and read record commands. Depending on the file type you selected. There is not standard ISO command for listing DFs andd EFs, though. Try EFICCID (2FE2 IIRC) for a start, it is present in most cards.</p>\n"},{"tags":[],"owner":{"account_id":4194958,"reputation":166,"user_id":3436573,"display_name":"ALe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395741932,"creation_date":1395741932,"answer_id":22631189,"question_id":22619595,"body_markdown":"The best way to continue would be to get your hands on the specification detailing your application&#39;s logical data structure. These typically contain the command set you are expected to use in order to access / use the application data.","title":"Read smart card files","body":"<p>The best way to continue would be to get your hands on the specification detailing your application's logical data structure. These typically contain the command set you are expected to use in order to access / use the application data.</p>\n"},{"tags":[],"owner":{"account_id":8882094,"reputation":21,"user_id":6631799,"display_name":"GermanDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638292508,"creation_date":1638292508,"answer_id":70173438,"question_id":22619595,"body_markdown":"PKCS#15 aka ISO 7816-15 is not present on all cards. Please go for ISO 7816-4 instead. The elementary file EF.DIR (path 3F002F00, i.e. MF/EF.DIR) is the right place to look for the smartcard layout.\r\nFirst of all, you should issue a SELECT command (empty path indicates MF) with P1-P2 set to read the FCP template. If the smartcard is cleanly personalized, it lists you all EFs or DFs in the MF, respectively. If EF.DIR (2F00) is there, read and parse it. It is comprised of all the card applications present on the card (and how to select it). After that, you can recursively scan your card.","title":"Read smart card files","body":"<p>PKCS#15 aka ISO 7816-15 is not present on all cards. Please go for ISO 7816-4 instead. The elementary file EF.DIR (path 3F002F00, i.e. MF/EF.DIR) is the right place to look for the smartcard layout.\nFirst of all, you should issue a SELECT command (empty path indicates MF) with P1-P2 set to read the FCP template. If the smartcard is cleanly personalized, it lists you all EFs or DFs in the MF, respectively. If EF.DIR (2F00) is there, read and parse it. It is comprised of all the card applications present on the card (and how to select it). After that, you can recursively scan your card.</p>\n"}],"owner":{"account_id":2536131,"reputation":539,"user_id":2203205,"accept_rate":27,"display_name":"Anass Boukalane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22626705,"answer_count":3,"score":0,"last_activity_date":1638292508,"creation_date":1395691769,"question_id":22619595,"body_markdown":"i am trying to read a smart card files , after a long search i can now send APDU command to select MF (Master File) but i need to access to EF (Elementary File) , here is the command i&#39;m sending :\r\n\r\n    ResponseAPDU r = channel.transmit(new CommandAPDU(new byte[] { 0X00,(byte) 0XA4, 0X00, 0X00, 0X02, 0X3F, 0X00 }));\r\n\r\nand here is the response :\r\n\r\n    6F 1C 82 01 38 83 02 3F 00 85 02 03 7F 86 0C 7F 7F 7F 7F 41 60 60 7F 7F 7F 60 00 8A 01 05 90 00\r\n\r\ni know that i got a positif response **90 00** , so what next should i do in order to access to EF.","title":"Read smart card files","body":"<p>i am trying to read a smart card files , after a long search i can now send APDU command to select MF (Master File) but i need to access to EF (Elementary File) , here is the command i'm sending :</p>\n\n<pre><code>ResponseAPDU r = channel.transmit(new CommandAPDU(new byte[] { 0X00,(byte) 0XA4, 0X00, 0X00, 0X02, 0X3F, 0X00 }));\n</code></pre>\n\n<p>and here is the response :</p>\n\n<pre><code>6F 1C 82 01 38 83 02 3F 00 85 02 03 7F 86 0C 7F 7F 7F 7F 41 60 60 7F 7F 7F 60 00 8A 01 05 90 00\n</code></pre>\n\n<p>i know that i got a positif response <strong>90 00</strong> , so what next should i do in order to access to EF.</p>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1552516506,"post_id":55152133,"comment_id":97044799,"body_markdown":"This code doesn&#39;t make much sense. Half of it is outside the method. It&#39;s referencing things you haven&#39;t included. It&#39;s certainly not a [mcve]. What does &quot;bring a JPanel to the front of the JFrame&quot; mean?","body":"This code doesn&#39;t make much sense. Half of it is outside the method. It&#39;s referencing things you haven&#39;t included. It&#39;s certainly not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What does &quot;bring a JPanel to the front of the JFrame&quot; mean?"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1552517195,"post_id":55152133,"comment_id":97045004,"body_markdown":"What are the lines starting with `g.` in the second code-half after closing _main_ block `}` ?  Maybe you can __post a screenshot__ and mark on it what you want where.","body":"What are the lines starting with <code>g.</code> in the second code-half after closing <i>main</i> block <code>}</code> ?  Maybe you can <b>post a screenshot</b> and mark on it what you want where."}],"answers":[{"tags":[],"owner":{"account_id":14978834,"reputation":186,"user_id":10903427,"display_name":"Gipsy King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552516905,"creation_date":1552516905,"answer_id":55152241,"question_id":55152133,"body_markdown":"Your code is definitely not completed. But let’s presume you draw your oval and other staff in **paintComponent**. Also you have to add your JPanel to Frame.\n\n    JFrame frame = new JFrame(&quot;some frame&quot;);\n    JPanel panel = new JPanel();\n    frame.setContentPane(panel);\n\nThen you can add whatever you want on it.\n\nAnd I hope your **g** is part of paintComponent.","title":"How to bring a JPanel to the front of the JFrame","body":"<p>Your code is definitely not completed. But let’s presume you draw your oval and other staff in <strong>paintComponent</strong>. Also you have to add your JPanel to Frame.</p>\n\n<pre><code>JFrame frame = new JFrame(\"some frame\");\nJPanel panel = new JPanel();\nframe.setContentPane(panel);\n</code></pre>\n\n<p>Then you can add whatever you want on it.</p>\n\n<p>And I hope your <strong>g</strong> is part of paintComponent.</p>\n"}],"owner":{"account_id":14815989,"reputation":1,"user_id":10755840,"display_name":"Ethan The person"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638292506,"creation_date":1552516231,"question_id":55152133,"body_markdown":"I have a project due tomorrow so I need help.\r\nI&#39;m making a clock I largely got help from others and I need to get a JButton to the front. I have the button as part of a JPanel  \r\n            \r\n\r\n    public static void main(String[] args) {\r\n            JFrame window = new JFrame(&quot;Clock&quot;);  \r\n\t\t    Color c=new Color(0,0,0);  \r\n\t\t    Clock clock = new Clock();\r\n\t\t    JPanel p=new JPanel();\r\n\t\t    \r\n\t\t    window.setPreferredSize(new Dimension(400,400));\r\n\t\t    window.pack();\r\n\t\t    \r\n\t\t    \r\n\t\t    window.setBackground(c);  \r\n\t\t    window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);   \r\n\t\t    Button buton =new Button(&quot;Stopwatch&quot;);\r\n\t\t    \r\n\t\t    p.add(buton);\r\n\t\t    window.getContentPane().add(clock);  \r\n\t\t    window.setVisible(true);\r\n\t\t    clock.start(); \r\n    }\r\n    g.setColor(Color.black);//Background color\r\n\t\t\tg.setFont(new Font(&quot;ComicSans&quot;, Font.BOLD, 20));  \r\n\t\t\tg.setColor(Color.white);//inner circle color\r\n\t\t\tg.fillOval(xcenter - 150, ycenter - 150, 300, 300);  \r\n\t\t\t\r\n\t\t\tLocalDateTime time =LocalDateTime.now();\r\n\t\t\tString strTime =time.toString().substring(14,19);\r\n\t\t\tString strHour =time.toString().substring(11,13);\r\n\t\t\tint hour =_12hrFormat(strHour);\r\n\t\t\t\r\n\t\t\tg.setColor(Color.black);//time color\r\n\t\t\tg.drawString(hour+&quot;:&quot;+strTime ,141,300);  \r\n\t\t\tg.setColor(Color.black);//number color\r\n\t\t\tg.drawString(&quot;9&quot;, xcenter - 145, ycenter +10);  \r\n\t\t\tg.drawString(&quot;3&quot;, xcenter + 135, ycenter +10);  \r\n\t\t\tg.drawString(&quot;12&quot;, xcenter-10 , ycenter - 130); \r\n    }\r\nThat is most of the code to do with visuals ","title":"How to bring a JPanel to the front of the JFrame","body":"<p>I have a project due tomorrow so I need help.\nI'm making a clock I largely got help from others and I need to get a JButton to the front. I have the button as part of a JPanel  </p>\n\n<pre><code>public static void main(String[] args) {\n        JFrame window = new JFrame(\"Clock\");  \n        Color c=new Color(0,0,0);  \n        Clock clock = new Clock();\n        JPanel p=new JPanel();\n\n        window.setPreferredSize(new Dimension(400,400));\n        window.pack();\n\n\n        window.setBackground(c);  \n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);   \n        Button buton =new Button(\"Stopwatch\");\n\n        p.add(buton);\n        window.getContentPane().add(clock);  \n        window.setVisible(true);\n        clock.start(); \n}\ng.setColor(Color.black);//Background color\n        g.setFont(new Font(\"ComicSans\", Font.BOLD, 20));  \n        g.setColor(Color.white);//inner circle color\n        g.fillOval(xcenter - 150, ycenter - 150, 300, 300);  \n\n        LocalDateTime time =LocalDateTime.now();\n        String strTime =time.toString().substring(14,19);\n        String strHour =time.toString().substring(11,13);\n        int hour =_12hrFormat(strHour);\n\n        g.setColor(Color.black);//time color\n        g.drawString(hour+\":\"+strTime ,141,300);  \n        g.setColor(Color.black);//number color\n        g.drawString(\"9\", xcenter - 145, ycenter +10);  \n        g.drawString(\"3\", xcenter + 135, ycenter +10);  \n        g.drawString(\"12\", xcenter-10 , ycenter - 130); \n}\n</code></pre>\n\n<p>That is most of the code to do with visuals </p>\n"},{"tags":["java","swing","icons","jbutton"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636560528,"creation_date":1636560210,"answer_id":69916481,"question_id":69916341,"body_markdown":"To center the text hozitontally/vertically on the Icon you can use:\r\n\r\n\tJButton button = new JButton(&quot;Centered&quot;);\r\n\tbutton.setIcon( ... );\r\n\tbutton.setHorizontalTextPosition(JLabel.CENTER);\r\n\tbutton.setVerticalTextPosition(JLabel.CENTER);\r\n\r\nIf you need the text in some other location on top of the Icon then check out: https://stackoverflow.com/questions/22188213/jbutton-settext-specific-position/22189447#22189447\r\n\r\n\r\n","title":"Java : How to place text on top of an Image on top of a Button?","body":"<p>To center the text hozitontally/vertically on the Icon you can use:</p>\n<pre><code>JButton button = new JButton(&quot;Centered&quot;);\nbutton.setIcon( ... );\nbutton.setHorizontalTextPosition(JLabel.CENTER);\nbutton.setVerticalTextPosition(JLabel.CENTER);\n</code></pre>\n<p>If you need the text in some other location on top of the Icon then check out: <a href=\"https://stackoverflow.com/questions/22188213/jbutton-settext-specific-position/22189447#22189447\">JButton settext specific position</a></p>\n"}],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69916481,"answer_count":1,"score":0,"last_activity_date":1638292467,"creation_date":1636559602,"question_id":69916341,"body_markdown":"Adding an image to a JButton works as expected.\r\n&lt;BR&gt;\r\nAdding Text to a JButton works as expected.\r\n&lt;BR&gt;\r\nWhen adding both Text &amp; an Image to a JButton it adds the 2 items side by side as opposed to on top of one another.\r\n\r\nHere is sample code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JToolBar;\r\n    import javax.swing.SwingConstants;\r\n    \r\n    public class ToolBarSample {\r\n      public static void main(final String args[]) {\r\n        JFrame frame = new JFrame(&quot;JToolBar Example&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n        JToolBar toolbar = new JToolBar();\r\n        toolbar.setRollover(true);\r\n    \r\n        JButton b2 = new JButton();\r\n        b2.setText(&quot;Big Button&quot;);\r\n        b2.setIcon(new ImageIcon(&quot;C:\\\\Downloads\\\\Java.png&quot;));\r\n        b2.setBackground(Color.RED);\r\n        b2.setFocusable(false);\r\n        b2.setOpaque(true);\r\n        Dimension buttonSize = new Dimension(340,27);\r\n        b2.setPreferredSize(buttonSize);\r\n        b2.setMinimumSize(buttonSize);\r\n        b2.setMaximumSize(buttonSize);\r\n        b2.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\r\n        b2.setVerticalAlignment(SwingConstants.CENTER);\r\n    \r\n        toolbar.add(b2);\r\n        \r\n        Container contentPane = frame.getContentPane();\r\n        contentPane.add(toolbar, BorderLayout.NORTH);\r\n        JTextArea textArea = new JTextArea();\r\n        JScrollPane pane = new JScrollPane(textArea);\r\n        contentPane.add(pane, BorderLayout.CENTER);\r\n        frame.setSize(550, 350);\r\n        frame.setVisible(true);\r\n      }\r\n    }\r\n\r\nThe above code generates a large red button with an Image and the text &quot;Big Button&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow can I get the Text moved from the right to be on top of the image.\r\nThe black box shows the location where I would like the Text to be displayed. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow is this done? What changes are required to accomplish this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xrVLF.png\r\n  [2]: https://i.stack.imgur.com/C5shF.png","title":"Java : How to place text on top of an Image on top of a Button?","body":"<p>Adding an image to a JButton works as expected.\n<BR>\nAdding Text to a JButton works as expected.\n<BR>\nWhen adding both Text &amp; an Image to a JButton it adds the 2 items side by side as opposed to on top of one another.</p>\n<p>Here is sample code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Dimension;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JToolBar;\nimport javax.swing.SwingConstants;\n\npublic class ToolBarSample {\n  public static void main(final String args[]) {\n    JFrame frame = new JFrame(&quot;JToolBar Example&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    JToolBar toolbar = new JToolBar();\n    toolbar.setRollover(true);\n\n    JButton b2 = new JButton();\n    b2.setText(&quot;Big Button&quot;);\n    b2.setIcon(new ImageIcon(&quot;C:\\\\Downloads\\\\Java.png&quot;));\n    b2.setBackground(Color.RED);\n    b2.setFocusable(false);\n    b2.setOpaque(true);\n    Dimension buttonSize = new Dimension(340,27);\n    b2.setPreferredSize(buttonSize);\n    b2.setMinimumSize(buttonSize);\n    b2.setMaximumSize(buttonSize);\n    b2.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\n    b2.setVerticalAlignment(SwingConstants.CENTER);\n\n    toolbar.add(b2);\n    \n    Container contentPane = frame.getContentPane();\n    contentPane.add(toolbar, BorderLayout.NORTH);\n    JTextArea textArea = new JTextArea();\n    JScrollPane pane = new JScrollPane(textArea);\n    contentPane.add(pane, BorderLayout.CENTER);\n    frame.setSize(550, 350);\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n<p>The above code generates a large red button with an Image and the text &quot;Big Button&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/xrVLF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xrVLF.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I get the Text moved from the right to be on top of the image.\nThe black box shows the location where I would like the Text to be displayed.</p>\n<p><a href=\"https://i.stack.imgur.com/C5shF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C5shF.png\" alt=\"enter image description here\" /></a></p>\n<p>How is this done? What changes are required to accomplish this?</p>\n"},{"tags":["java","json","spring-boot","hibernate","jackson"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1638188037,"post_id":70154271,"comment_id":124013059,"body_markdown":"Can you please add the code for the Controller that you are trying to test? Thanks!","body":"Can you please add the code for the Controller that you are trying to test? Thanks!"},{"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"score":0,"creation_date":1638256155,"post_id":70154271,"comment_id":124033276,"body_markdown":"@Jo&#227;oDias sorry for the late response, I&#39;ve edited my post","body":"@Jo&#227;oDias sorry for the late response, I&#39;ve edited my post"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638292437,"creation_date":1638292437,"answer_id":70173419,"question_id":70154271,"body_markdown":"It seems to me that the issue is that you are trying to pass something like the following JSON to the `content`:\r\n```json\r\n[\r\n  {\r\n    &quot;compania1_list&quot;: &quot;Compania1 list&quot;,\r\n    &quot;name1&quot;: &quot;name1&quot;,\r\n    &quot;s&quot;: &quot;---&quot;,\r\n    &quot;s1&quot;: &quot;---&quot;,\r\n    &quot;o&quot;: null,\r\n    &quot;o1&quot;: null\r\n  },\r\n  {\r\n    &quot;compania1_list&quot;: &quot;Compania2 list&quot;,\r\n    &quot;name1&quot;: &quot;name2&quot;,\r\n    &quot;s&quot;: &quot;---&quot;,\r\n    &quot;s1&quot;: &quot;---&quot;,\r\n    &quot;o&quot;: null,\r\n    &quot;o1&quot;: null\r\n  }\r\n]\r\n```\r\n\r\nThis is a JSON Array with 2 JSON Objects and not a JSON Object with a JSON Array with 2 JSON Objects. My guess is that `MockHttpServletRequestBuilder.content()` method is not expecting JSON like this.\r\n\r\nWith this being said, I would change your Controller to accept an Object and not a Collection as follows:\r\n```java\r\n@ResponseStatus(HttpStatus.CREATED)\r\n@PostMapping(&quot;/lista&quot;)\r\npublic Map&lt;String, Object&gt; createCompanias(@RequestBody CompaniasCreationRequest companiasCreationRequest) {\r\n    return companiaService.postListCompanias(companiasCreationRequest.getCompanias());\r\n}\r\n```\r\n\r\nBeing `CompaniasCreationRequest` as follows:\r\n```java\r\npublic class CompaniasCreationRequest {\r\n    private List&lt;Compania&gt; companias;\r\n\r\n    public CompaniasCreationRequest(List&lt;Compania&gt; companias) {\r\n        this.companias = companias;\r\n    }\r\n\r\n    public List&lt;Compania&gt; getCompanias() {\r\n        return companias;\r\n    }\r\n\r\n    public void setCompanias(List&lt;Compania&gt; companias) {\r\n        this.companias = companias;\r\n    }\r\n}\r\n```\r\n\r\nIn your test this would mean the following changes:\r\n```java\r\n@Test\r\nvoid successSavePostCompaniaLista() throws Exception {\r\n    Compania c1 = new Compania(&quot;Compania1 list&quot;,\r\n        &quot;name1&quot;,\r\n        &quot;---&quot;,\r\n        &quot;---&quot;,\r\n        null,\r\n        null);\r\n    Compania c2 = new Compania(&quot;Compania2 list&quot;,\r\n        &quot;name2&quot;,\r\n        &quot;---&quot;,\r\n        &quot;---&quot;,\r\n        null,\r\n        null);\r\n\r\n    CompaniasCreationRequest companiasCreationRequest = new CompaniasCreationRequest(List.of(c1,c2));\r\n    \r\n    when(companiaRepository.save(any(Compania.class))).then(returnsFirstArg());\r\n\r\n    this.mockMvc.perform(\r\n            post(&quot;/companias/lista&quot;)\r\n                .header(&quot;authorization&quot;, &quot;Bearer &quot; + token)\r\n                .content(asJsonString(companiasCreationRequest))\r\n                .contentType(MediaType.APPLICATION_JSON))\r\n        .andDo(print())\r\n        .andExpect(status().isCreated())\r\n        .andExpect(jsonPath(&quot;$.result[0].success[0]&quot;).isNotEmpty())\r\n        .andExpect(jsonPath(&quot;$.result[0].success[0].name&quot;).value(c1.getName()))\r\n        .andExpect(jsonPath(&quot;$.result[0].success[1].name&quot;).value(c2.getName()));\r\n}\r\n```\r\n\r\nNow your request body will look like the following (which is a somewhat more standard JSON format):\r\n```json\r\n{\r\n  &quot;companias&quot;: [\r\n    {\r\n      &quot;compania1_list&quot;: &quot;Compania1 list&quot;,\r\n      &quot;name1&quot;: &quot;name1&quot;,\r\n      &quot;s&quot;: &quot;---&quot;,\r\n      &quot;s1&quot;: &quot;---&quot;,\r\n      &quot;o&quot;: null,\r\n      &quot;o1&quot;: null\r\n    },\r\n    {\r\n      &quot;compania1_list&quot;: &quot;Compania2 list&quot;,\r\n      &quot;name1&quot;: &quot;name2&quot;,\r\n      &quot;s&quot;: &quot;---&quot;,\r\n      &quot;s1&quot;: &quot;---&quot;,\r\n      &quot;o&quot;: null,\r\n      &quot;o1&quot;: null\r\n    }\r\n  ]\r\n}\r\n```","title":"Convert list of Objects to JSON Array in java - Spring Boot api testing","body":"<p>It seems to me that the issue is that you are trying to pass something like the following JSON to the <code>content</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;compania1_list&quot;: &quot;Compania1 list&quot;,\n    &quot;name1&quot;: &quot;name1&quot;,\n    &quot;s&quot;: &quot;---&quot;,\n    &quot;s1&quot;: &quot;---&quot;,\n    &quot;o&quot;: null,\n    &quot;o1&quot;: null\n  },\n  {\n    &quot;compania1_list&quot;: &quot;Compania2 list&quot;,\n    &quot;name1&quot;: &quot;name2&quot;,\n    &quot;s&quot;: &quot;---&quot;,\n    &quot;s1&quot;: &quot;---&quot;,\n    &quot;o&quot;: null,\n    &quot;o1&quot;: null\n  }\n]\n</code></pre>\n<p>This is a JSON Array with 2 JSON Objects and not a JSON Object with a JSON Array with 2 JSON Objects. My guess is that <code>MockHttpServletRequestBuilder.content()</code> method is not expecting JSON like this.</p>\n<p>With this being said, I would change your Controller to accept an Object and not a Collection as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(HttpStatus.CREATED)\n@PostMapping(&quot;/lista&quot;)\npublic Map&lt;String, Object&gt; createCompanias(@RequestBody CompaniasCreationRequest companiasCreationRequest) {\n    return companiaService.postListCompanias(companiasCreationRequest.getCompanias());\n}\n</code></pre>\n<p>Being <code>CompaniasCreationRequest</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CompaniasCreationRequest {\n    private List&lt;Compania&gt; companias;\n\n    public CompaniasCreationRequest(List&lt;Compania&gt; companias) {\n        this.companias = companias;\n    }\n\n    public List&lt;Compania&gt; getCompanias() {\n        return companias;\n    }\n\n    public void setCompanias(List&lt;Compania&gt; companias) {\n        this.companias = companias;\n    }\n}\n</code></pre>\n<p>In your test this would mean the following changes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid successSavePostCompaniaLista() throws Exception {\n    Compania c1 = new Compania(&quot;Compania1 list&quot;,\n        &quot;name1&quot;,\n        &quot;---&quot;,\n        &quot;---&quot;,\n        null,\n        null);\n    Compania c2 = new Compania(&quot;Compania2 list&quot;,\n        &quot;name2&quot;,\n        &quot;---&quot;,\n        &quot;---&quot;,\n        null,\n        null);\n\n    CompaniasCreationRequest companiasCreationRequest = new CompaniasCreationRequest(List.of(c1,c2));\n    \n    when(companiaRepository.save(any(Compania.class))).then(returnsFirstArg());\n\n    this.mockMvc.perform(\n            post(&quot;/companias/lista&quot;)\n                .header(&quot;authorization&quot;, &quot;Bearer &quot; + token)\n                .content(asJsonString(companiasCreationRequest))\n                .contentType(MediaType.APPLICATION_JSON))\n        .andDo(print())\n        .andExpect(status().isCreated())\n        .andExpect(jsonPath(&quot;$.result[0].success[0]&quot;).isNotEmpty())\n        .andExpect(jsonPath(&quot;$.result[0].success[0].name&quot;).value(c1.getName()))\n        .andExpect(jsonPath(&quot;$.result[0].success[1].name&quot;).value(c2.getName()));\n}\n</code></pre>\n<p>Now your request body will look like the following (which is a somewhat more standard JSON format):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;companias&quot;: [\n    {\n      &quot;compania1_list&quot;: &quot;Compania1 list&quot;,\n      &quot;name1&quot;: &quot;name1&quot;,\n      &quot;s&quot;: &quot;---&quot;,\n      &quot;s1&quot;: &quot;---&quot;,\n      &quot;o&quot;: null,\n      &quot;o1&quot;: null\n    },\n    {\n      &quot;compania1_list&quot;: &quot;Compania2 list&quot;,\n      &quot;name1&quot;: &quot;name2&quot;,\n      &quot;s&quot;: &quot;---&quot;,\n      &quot;s1&quot;: &quot;---&quot;,\n      &quot;o&quot;: null,\n      &quot;o1&quot;: null\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5940,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70173419,"answer_count":1,"score":2,"last_activity_date":1638292437,"creation_date":1638187155,"question_id":70154271,"body_markdown":"when I try to make a mockmvc post request I have to pass a list of objects in the content tag, the problem is that everytime I try to pass it with **this method**:\r\n\r\n    public static String asJsonString(final Object obj) {\r\n            try {\r\n                final ObjectMapper mapper = new ObjectMapper();\r\n                final String jsonContent = mapper.writeValueAsString(obj);\r\n                return jsonContent;\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\nI get this **error**:\r\n\r\n    {&quot;status&quot;:&quot;NOT_ACCEPTABLE&quot;,&quot;errors&quot;:{&quot;timestamp&quot;:&quot;2021-11-29T11:53:11.2020882Z&quot;,&quot;message&quot;:&quot;Wrong message format&quot;,&quot;details&quot;:&quot;JSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;Compania&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;Compania&gt;` out of START_OBJECT token\\n at [Source: (PushbackInputStream); line: 1, column: 1]&quot;}}\r\n\r\nThe test I&#39;ve made for saving only 1 object works well, but whenever I try to add a list it breaks, here you have my code for testing. \r\n\r\n    @Test\r\n        void successSavePostCompaniaLista() throws Exception {\r\n            Compania c1 = new Compania(&quot;Compania1 list&quot;,\r\n                &quot;name1&quot;,\r\n                &quot;---&quot;,\r\n                &quot;---&quot;,\r\n                null,\r\n                null);\r\n            Compania c2 = new Compania(&quot;Compania2 list&quot;,\r\n                &quot;name2&quot;,\r\n                &quot;---&quot;,\r\n                &quot;---&quot;,\r\n                null,\r\n                null);\r\n    \r\n            List&lt;Compania&gt; companias = List.of(c1,c2);\r\n            when(companiaRepository.save(any(Compania.class))).then(returnsFirstArg());\r\n    \r\n            this.mockMvc.perform(\r\n                    post(&quot;/companias/lista&quot;)\r\n                        .header(&quot;authorization&quot;, &quot;Bearer &quot; + token)\r\n                        .content(asJsonString(companias)) //&lt;-- Here gives me errors\r\n                        .contentType(MediaType.APPLICATION_JSON))\r\n                .andDo(print())\r\n                .andExpect(status().isCreated())\r\n                .andExpect(jsonPath(&quot;$.result[0].success[0]&quot;).isNotEmpty())\r\n                .andExpect(jsonPath(&quot;$.result[0].success[0].name&quot;).value(c1.getName()))\r\n                .andExpect(jsonPath(&quot;$.result[0].success[1].name&quot;).value(c2.getName()));\r\n    \r\n        }\r\n\r\nThe one that works is similar to this one, but using only one object.\r\n\r\nThe http direction and the rest is ok.\r\n\r\nThanks!\r\n\r\nEdit. Here is the **service** I&#39;m trying to test\r\n\r\n    public Map&lt;String, Object&gt; postListCompanias(List&lt;Compania&gt; companias) {\r\n            for (int i = 0; i &lt; companias.size(); i++) {\r\n                Compania companiaN = companias.get(i);\r\n                companiaN.setId(null);\r\n    \r\n                companiaRepository.save(companias.get(i));\r\n                System.out.println(companias.get(i));\r\n            }\r\n    \r\n            Map&lt;String, Object&gt; mappedResult = Collections.singletonMap(\r\n                &quot;result&quot;,\r\n                List.of(\r\n                    Collections.singletonMap(\r\n                        &quot;success&quot;,\r\n                        companias\r\n                    )\r\n                )\r\n            );\r\n            return mappedResult;\r\n        }\r\n\r\nAnd here the **controller**:\r\n\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n        @PostMapping(&quot;/lista&quot;)\r\n        public Map&lt;String, Object&gt; createCompanias(@RequestBody List&lt;Compania&gt; companias) {\r\n    \r\n            return companiaService.postListCompanias(companias);\r\n        }\r\n\r\n","title":"Convert list of Objects to JSON Array in java - Spring Boot api testing","body":"<p>when I try to make a mockmvc post request I have to pass a list of objects in the content tag, the problem is that everytime I try to pass it with <strong>this method</strong>:</p>\n<pre><code>public static String asJsonString(final Object obj) {\n        try {\n            final ObjectMapper mapper = new ObjectMapper();\n            final String jsonContent = mapper.writeValueAsString(obj);\n            return jsonContent;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>I get this <strong>error</strong>:</p>\n<pre><code>{&quot;status&quot;:&quot;NOT_ACCEPTABLE&quot;,&quot;errors&quot;:{&quot;timestamp&quot;:&quot;2021-11-29T11:53:11.2020882Z&quot;,&quot;message&quot;:&quot;Wrong message format&quot;,&quot;details&quot;:&quot;JSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;Compania&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;Compania&gt;` out of START_OBJECT token\\n at [Source: (PushbackInputStream); line: 1, column: 1]&quot;}}\n</code></pre>\n<p>The test I've made for saving only 1 object works well, but whenever I try to add a list it breaks, here you have my code for testing.</p>\n<pre><code>@Test\n    void successSavePostCompaniaLista() throws Exception {\n        Compania c1 = new Compania(&quot;Compania1 list&quot;,\n            &quot;name1&quot;,\n            &quot;---&quot;,\n            &quot;---&quot;,\n            null,\n            null);\n        Compania c2 = new Compania(&quot;Compania2 list&quot;,\n            &quot;name2&quot;,\n            &quot;---&quot;,\n            &quot;---&quot;,\n            null,\n            null);\n\n        List&lt;Compania&gt; companias = List.of(c1,c2);\n        when(companiaRepository.save(any(Compania.class))).then(returnsFirstArg());\n\n        this.mockMvc.perform(\n                post(&quot;/companias/lista&quot;)\n                    .header(&quot;authorization&quot;, &quot;Bearer &quot; + token)\n                    .content(asJsonString(companias)) //&lt;-- Here gives me errors\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andDo(print())\n            .andExpect(status().isCreated())\n            .andExpect(jsonPath(&quot;$.result[0].success[0]&quot;).isNotEmpty())\n            .andExpect(jsonPath(&quot;$.result[0].success[0].name&quot;).value(c1.getName()))\n            .andExpect(jsonPath(&quot;$.result[0].success[1].name&quot;).value(c2.getName()));\n\n    }\n</code></pre>\n<p>The one that works is similar to this one, but using only one object.</p>\n<p>The http direction and the rest is ok.</p>\n<p>Thanks!</p>\n<p>Edit. Here is the <strong>service</strong> I'm trying to test</p>\n<pre><code>public Map&lt;String, Object&gt; postListCompanias(List&lt;Compania&gt; companias) {\n        for (int i = 0; i &lt; companias.size(); i++) {\n            Compania companiaN = companias.get(i);\n            companiaN.setId(null);\n\n            companiaRepository.save(companias.get(i));\n            System.out.println(companias.get(i));\n        }\n\n        Map&lt;String, Object&gt; mappedResult = Collections.singletonMap(\n            &quot;result&quot;,\n            List.of(\n                Collections.singletonMap(\n                    &quot;success&quot;,\n                    companias\n                )\n            )\n        );\n        return mappedResult;\n    }\n</code></pre>\n<p>And here the <strong>controller</strong>:</p>\n<pre><code>@ResponseStatus(HttpStatus.CREATED)\n    @PostMapping(&quot;/lista&quot;)\n    public Map&lt;String, Object&gt; createCompanias(@RequestBody List&lt;Compania&gt; companias) {\n\n        return companiaService.postListCompanias(companias);\n    }\n</code></pre>\n"},{"tags":["java","android","service"],"answers":[{"tags":[],"owner":{"account_id":2622205,"reputation":536,"user_id":2270007,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638292144,"creation_date":1638292144,"answer_id":70173357,"question_id":70172671,"body_markdown":"If you want something to be always active then you need to use a Foreground Service: \r\n\r\nhttps://developer.android.com/guide/components/foreground-services\r\n\r\nNote that if the user chooses to kill your apps service then that is their choice; you can&#39;t guarantee that it will always be running.\r\n","title":"how to run task in background 24 hour without opening the app in android","body":"<p>If you want something to be always active then you need to use a Foreground Service:</p>\n<p><a href=\"https://developer.android.com/guide/components/foreground-services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/foreground-services</a></p>\n<p>Note that if the user chooses to kill your apps service then that is their choice; you can't guarantee that it will always be running.</p>\n"}],"owner":{"account_id":21178675,"reputation":17,"user_id":15573465,"display_name":"Dinesh Gangwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638292144,"creation_date":1638289408,"question_id":70172671,"body_markdown":"actually im getting the data from the server phone number and the text message now using this im sending the sms on that number. For that im using the retrofit and calling retrofit every after 2 minutes if received new data then sending the sext message its working fine im using the service and handler but after destroy the activity task has been terminated.\r\nwhen the app is running its executing the task but i want to execute this task every time. \r\nim new in android please anybody can help me... how i can get this thanks in advance. ","title":"how to run task in background 24 hour without opening the app in android","body":"<p>actually im getting the data from the server phone number and the text message now using this im sending the sms on that number. For that im using the retrofit and calling retrofit every after 2 minutes if received new data then sending the sext message its working fine im using the service and handler but after destroy the activity task has been terminated.\nwhen the app is running its executing the task but i want to execute this task every time.\nim new in android please anybody can help me... how i can get this thanks in advance.</p>\n"},{"tags":["python","java","oop","mixins"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1638284060,"post_id":70171099,"comment_id":124043981,"body_markdown":"@FedericoklezCulloca That source doesn&#39;t mention mixins at all. Wikipedia only cites it to support the statement that multiple inheritance can cause problems.","body":"@FedericoklezCulloca That source doesn&#39;t mention mixins at all. Wikipedia only cites it to support the statement that multiple inheritance can cause problems."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1638284305,"post_id":70171099,"comment_id":124044092,"body_markdown":"@kaya3 you&#39;re absolutely right. Brainfart made me read the description of the diamond problem as... a solution to the diamond problem...","body":"@kaya3 you&#39;re absolutely right. Brainfart made me read the description of the diamond problem as... a solution to the diamond problem..."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638284033,"creation_date":1638284033,"answer_id":70171374,"question_id":70171099,"body_markdown":"That wikipedia article certainly needs some love at the time I&#39;m writing this answer.\r\n\r\nGiven that you tagged in java, specifically:\r\n\r\n* &quot;The diamond problem&quot; is a misnomer; there are a great many issues that are related to multiple inheritance of all stripes, and java merely avoids a number of them; no language that has any form of multi-inheritance could possibly solve them all.\r\n* Presumably the key issue with diamond, at least as far as java is concerned, are about the sense in which java differs from C++ in this regard, as way back when java was originally developed, most of the language design decisions were of the flavour &#39;we just did what C(++) did&#39;, or &#39;we decided to deviate, because [commonly accepted issue with what C(++) does here]&#39;. Diamond was one of them. Specifically: &quot;unlike C++, java does not allow extending more than one class, because [various issues generally referred to as the diamond problem]&#39;.\r\n* That means, specifically, __ordering__: If you have both `Parent1` and `Parent2` as parent types (be it because of a hypothetical `extends Parent1, Parent2` or be it because `extends Parent1 implements Parent2` or `implements Parent1, Parent2` - those last 2 are valid in java, and both Parent1 as well as Parent2 have an identical method (say, `void method()`), then which implementation &#39;wins&#39;?\r\n* Java employs the maxim of: __order should never matter__. In other words, if Parent1 and Parent2 both offer implementations for the same method, in C++, the first listed class &#39;wins&#39;. In Java, you can&#39;t inherit from 2 classes so the point is moot. You CAN inherit multiple interfaces but as ordinary (i.e. without default methods) interfaces don&#39;t bring implementations, there&#39;s no issue whatsoever here: Yes, if you implement `Parent1` or `Parent2` (both interfaces in this example), you must write an implementation for `void foo()`. If you implement them both, you... must write an implementation for `void foo()`. No problem there.\r\n\r\nThus, let&#39;s continue by defining &#39;the diamond problem&#39; as &quot;Avoid having the ordering matter&quot;. Furthermore, as it is java, you still can&#39;t extend more than one thing, so we&#39;re really just talking about the ordering of interfaces. If you write `implements Parent1, Parent2`, is there any change whatsoever if you edit that source file to read `implements Parent2, Parent1` instead? In C++ the answer: &quot;Yes, that matters&quot;. In java, the answer is supposed to be: &quot;No, that is a meaningless change&quot;. Let&#39;s see how java has &#39;solved&#39; the problem given that default methods now exist in java:\r\n\r\n## `extends Parent1 implements Parent2`\r\n\r\nGiven:\r\n\r\n```\r\nclass Parent1 {\r\n  public void foo() {\r\n    System.out.println(&quot;Parent1.foo&quot;);\r\n  }\r\n}\r\n\r\ninterface Parent2 {\r\n  default void foo() {\r\n    System.out.println(&quot;Parent2.foo&quot;);\r\n  }\r\n}\r\n\r\nclass Foo extends Parent1 implements Parent2 {}\r\n```\r\n\r\nThen this will compile, and `new Foo().foo();` would print `Parent1.foo`. That&#39;s because in java, the class hierarchy wins: The interface merely specifies a default implementation, to be used if no other impl is available. There IS another available (from `Parent1`), thus, it wins.\r\n\r\nWhether you consider this a &#39;fix&#39; to the diamond problem depends on how you define the term &#39;Diamond Problem&#39;. There is no one set definition that is universally agreed upon.\r\n\r\n## `implements Parent1, Parent2`\r\n\r\nGiven:\r\n\r\n```\r\ninterface Parent1 {\r\n  default void foo() {\r\n    System.out.println(&quot;Parent1.foo&quot;);\r\n  }\r\n}\r\n\r\ninterface Parent2 {\r\n  default void foo() {\r\n    System.out.println(&quot;Parent2.foo&quot;);\r\n  }\r\n}\r\n\r\nclass Foo implements Parent1, Parent2 {}\r\n```\r\n\r\nthen the above __does not compile__. Javac detects that there is a conflict (2 competing implementations of the same method), and as __order must never matter__, java CANNOT give one of the two preferential treatment just because it&#39;s listed first.\r\n\r\nHence, instead, javac will just error. You can fix it by writing an impl for that method explicitly. You can even choose one (or both!) of the parent impls:\r\n\r\n```\r\nclass Foo implements Parent1, Parent2 {\r\n  @Override public void foo() {\r\n    Parent1.super.foo();\r\n    Parent2.super.foo();\r\n  }\r\n}\r\n```\r\n\r\nNow `new Foo().foo()` would print:\r\n\r\n```\r\nParent1.foo\r\nParent2.foo\r\n```\r\n\r\nHence, even with default methods in java now being a thing (which is exactly what a &quot;mix-in&quot; is, so even though that wikipedia doesn&#39;t list java as a language that has mix-ins, the wikipedia page is wrong, and in fact later says so in the section about java!) - order __still__ does not matter.\r\n","title":"How Does MixIns (Or Interfaces) solves the diamond problem","body":"<p>That wikipedia article certainly needs some love at the time I'm writing this answer.</p>\n<p>Given that you tagged in java, specifically:</p>\n<ul>\n<li>&quot;The diamond problem&quot; is a misnomer; there are a great many issues that are related to multiple inheritance of all stripes, and java merely avoids a number of them; no language that has any form of multi-inheritance could possibly solve them all.</li>\n<li>Presumably the key issue with diamond, at least as far as java is concerned, are about the sense in which java differs from C++ in this regard, as way back when java was originally developed, most of the language design decisions were of the flavour 'we just did what C(++) did', or 'we decided to deviate, because [commonly accepted issue with what C(++) does here]'. Diamond was one of them. Specifically: &quot;unlike C++, java does not allow extending more than one class, because [various issues generally referred to as the diamond problem]'.</li>\n<li>That means, specifically, <strong>ordering</strong>: If you have both <code>Parent1</code> and <code>Parent2</code> as parent types (be it because of a hypothetical <code>extends Parent1, Parent2</code> or be it because <code>extends Parent1 implements Parent2</code> or <code>implements Parent1, Parent2</code> - those last 2 are valid in java, and both Parent1 as well as Parent2 have an identical method (say, <code>void method()</code>), then which implementation 'wins'?</li>\n<li>Java employs the maxim of: <strong>order should never matter</strong>. In other words, if Parent1 and Parent2 both offer implementations for the same method, in C++, the first listed class 'wins'. In Java, you can't inherit from 2 classes so the point is moot. You CAN inherit multiple interfaces but as ordinary (i.e. without default methods) interfaces don't bring implementations, there's no issue whatsoever here: Yes, if you implement <code>Parent1</code> or <code>Parent2</code> (both interfaces in this example), you must write an implementation for <code>void foo()</code>. If you implement them both, you... must write an implementation for <code>void foo()</code>. No problem there.</li>\n</ul>\n<p>Thus, let's continue by defining 'the diamond problem' as &quot;Avoid having the ordering matter&quot;. Furthermore, as it is java, you still can't extend more than one thing, so we're really just talking about the ordering of interfaces. If you write <code>implements Parent1, Parent2</code>, is there any change whatsoever if you edit that source file to read <code>implements Parent2, Parent1</code> instead? In C++ the answer: &quot;Yes, that matters&quot;. In java, the answer is supposed to be: &quot;No, that is a meaningless change&quot;. Let's see how java has 'solved' the problem given that default methods now exist in java:</p>\n<h2><code>extends Parent1 implements Parent2</code></h2>\n<p>Given:</p>\n<pre><code>class Parent1 {\n  public void foo() {\n    System.out.println(&quot;Parent1.foo&quot;);\n  }\n}\n\ninterface Parent2 {\n  default void foo() {\n    System.out.println(&quot;Parent2.foo&quot;);\n  }\n}\n\nclass Foo extends Parent1 implements Parent2 {}\n</code></pre>\n<p>Then this will compile, and <code>new Foo().foo();</code> would print <code>Parent1.foo</code>. That's because in java, the class hierarchy wins: The interface merely specifies a default implementation, to be used if no other impl is available. There IS another available (from <code>Parent1</code>), thus, it wins.</p>\n<p>Whether you consider this a 'fix' to the diamond problem depends on how you define the term 'Diamond Problem'. There is no one set definition that is universally agreed upon.</p>\n<h2><code>implements Parent1, Parent2</code></h2>\n<p>Given:</p>\n<pre><code>interface Parent1 {\n  default void foo() {\n    System.out.println(&quot;Parent1.foo&quot;);\n  }\n}\n\ninterface Parent2 {\n  default void foo() {\n    System.out.println(&quot;Parent2.foo&quot;);\n  }\n}\n\nclass Foo implements Parent1, Parent2 {}\n</code></pre>\n<p>then the above <strong>does not compile</strong>. Javac detects that there is a conflict (2 competing implementations of the same method), and as <strong>order must never matter</strong>, java CANNOT give one of the two preferential treatment just because it's listed first.</p>\n<p>Hence, instead, javac will just error. You can fix it by writing an impl for that method explicitly. You can even choose one (or both!) of the parent impls:</p>\n<pre><code>class Foo implements Parent1, Parent2 {\n  @Override public void foo() {\n    Parent1.super.foo();\n    Parent2.super.foo();\n  }\n}\n</code></pre>\n<p>Now <code>new Foo().foo()</code> would print:</p>\n<pre><code>Parent1.foo\nParent2.foo\n</code></pre>\n<p>Hence, even with default methods in java now being a thing (which is exactly what a &quot;mix-in&quot; is, so even though that wikipedia doesn't list java as a language that has mix-ins, the wikipedia page is wrong, and in fact later says so in the section about java!) - order <strong>still</strong> does not matter.</p>\n"}],"owner":{"account_id":20045053,"reputation":25,"user_id":14694932,"display_name":"Imad Henaoui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70171374,"answer_count":1,"score":1,"last_activity_date":1638292136,"creation_date":1638283006,"question_id":70171099,"body_markdown":"I have been trying to understands Mixins and I found on Wikipedia that Mixins can be used to avoid the diamond problem. [Link][1]\r\n\r\nHow the Diamond problem is avoided by using Mixins (Or Interfaces in java)\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mixin","title":"How Does MixIns (Or Interfaces) solves the diamond problem","body":"<p>I have been trying to understands Mixins and I found on Wikipedia that Mixins can be used to avoid the diamond problem. <a href=\"https://en.wikipedia.org/wiki/Mixin\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>How the Diamond problem is avoided by using Mixins (Or Interfaces in java)</p>\n"},{"tags":["java","swing","jbutton","jtoolbar"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1637255905,"post_id":70023119,"comment_id":123783714,"body_markdown":"*Unfortunately, none of these worked* - did you try them on a regular button without custom painting? I think you will find they do work. So the issue is your custom painting. When I use your commented out fillRoundRect(...) statement I don&#39;t notice a problem. Also, when I changed the arc width/height to 6 I got better rounded corners. Don&#39;t set the 3 sizes of the button. Instead you should pass the width/height as a parameter to your EmptyIcon and then return those values for the icon width/height.","body":"<i>Unfortunately, none of these worked</i> - did you try them on a regular button without custom painting? I think you will find they do work. So the issue is your custom painting. When I use your commented out fillRoundRect(...) statement I don&#39;t notice a problem. Also, when I changed the arc width/height to 6 I got better rounded corners. Don&#39;t set the 3 sizes of the button. Instead you should pass the width/height as a parameter to your EmptyIcon and then return those values for the icon width/height."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1637256660,"post_id":70023119,"comment_id":123783985,"body_markdown":"You might be able to create a BufferedImage and paint the image with rounded borders the size you want. This should allow anti aliasing to work better. Then use the image to create your Icon.","body":"You might be able to create a BufferedImage and paint the image with rounded borders the size you want. This should allow anti aliasing to work better. Then use the image to create your Icon."},{"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1637257815,"post_id":70023119,"comment_id":123784364,"body_markdown":"Thanks for the feedback but not sure I fully followed your first comment. Are you saying to not make these 3 calls   b2.setPreferredSize(buttonSize);     b2.setMinimumSize(buttonSize);    b2.setMaximumSize(buttonSize);?\nHow does passing in the width/height to the EmptyIcon resize it? I even checked the IconImage class instead of the Interface Icon and neither provide methods for the sizing.","body":"Thanks for the feedback but not sure I fully followed your first comment. Are you saying to not make these 3 calls   b2.setPreferredSize(buttonSize);     b2.setMinimumSize(buttonSize);    b2.setMaximumSize(buttonSize);? How does passing in the width/height to the EmptyIcon resize it? I even checked the IconImage class instead of the Interface Icon and neither provide methods for the sizing."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1637273545,"post_id":70023119,"comment_id":123789684,"body_markdown":"The getIconWidth/Height methods should NOT return 0. They should return the size of the Icon. Then the label will be able to calculate the 3 size automatically.","body":"The getIconWidth/Height methods should NOT return 0. They should return the size of the Icon. Then the label will be able to calculate the 3 size automatically."}],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638291875,"creation_date":1637251613,"question_id":70023119,"body_markdown":"I&#39;m using Corretto Java 11 and attempting to \r\n\r\n 1. remove the focus around a JButton on a Toolbar when the mouse moves over it\r\n 2. remove the border around the JButton \r\n 3. avoid any borders when the JButton is clicked\r\n\r\nBased on other threads related to removing the border, these are the various fixes.\r\n\r\n    //Attempts to remove Border\r\n\t//    b2.setBorderPainted(false);\r\n\t    \r\n\t//    b2.setBorder(null);\r\n\t    \r\n\t//    Border emptyBorder = BorderFactory.createEmptyBorder();\r\n\t//    b2.setBorder(emptyBorder);\r\n\r\nBased on other threads related to removing the focus, these are the various fixes.\r\n\r\n        //Attempt to remove Focus\r\n        b2.setFocusPainted(false);\r\n        b2.setFocusable(false);\r\n        b2.setRolloverEnabled(false);\r\n\r\nUnfortunately, none of these worked and I&#39;m not sure if either the implementation was wrong or the newer version of Java does things different or if the behavior is different when within a Toolbar.\r\n\r\nHere is the code currently being used.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.Icon;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JToolBar;\r\n    import javax.swing.SwingConstants;\r\n    import javax.swing.border.Border;\r\n    \r\n    public class ToolBarSample {\r\n      public static void main(final String args[]) {\r\n        JFrame frame = new JFrame(&quot;JToolBar Example&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n        JToolBar toolbar = new JToolBar();\r\n        toolbar.setRollover(true);\r\n    \r\n        JButton b2 = new JButton();\r\n        b2.setText(&quot;Big Button&quot;);\r\n        \r\n        //Attempts to remove Border\r\n    \t//    b2.setBorderPainted(false);\r\n    \t    \r\n    \t//    b2.setBorder(null);\r\n    \t    \r\n    \t//    Border emptyBorder = BorderFactory.createEmptyBorder();\r\n    \t//    b2.setBorder(emptyBorder);\r\n        \r\n        //Attempt to remove Focus\r\n        b2.setFocusPainted(false);\r\n        b2.setFocusable(false);\r\n        b2.setRolloverEnabled(false);\r\n    \r\n        \r\n        b2.setOpaque(true);\r\n        Dimension buttonSize = new Dimension(340,27);\r\n        b2.setPreferredSize(buttonSize);\r\n        b2.setMinimumSize(buttonSize);\r\n        b2.setMaximumSize(buttonSize);\r\n        b2.setIcon(new EmptyIcon(Color.RED));\r\n        b2.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\r\n        b2.setVerticalAlignment(SwingConstants.CENTER);\r\n        b2.setHorizontalTextPosition(JLabel.CENTER);\r\n        b2.setVerticalTextPosition(JLabel.CENTER);\r\n        \r\n        toolbar.add(b2);\r\n        \r\n        Container contentPane = frame.getContentPane();\r\n        contentPane.add(toolbar, BorderLayout.NORTH);\r\n        JTextArea textArea = new JTextArea();\r\n        JScrollPane pane = new JScrollPane(textArea);\r\n        contentPane.add(pane, BorderLayout.CENTER);\r\n        frame.setSize(550, 350);\r\n        frame.setVisible(true);\r\n      }\r\n      \r\n      public final static class EmptyIcon implements Icon {\r\n    \r\n    \t  Color color ;\r\n    \r\n    \t  public EmptyIcon() {\r\n    \t    this(Color.GREEN);\r\n    \t  }\r\n    \t  \r\n    \t  public EmptyIcon(Color color) {\r\n    \t    this.color = color;\r\n    \t  }\r\n    \r\n    \t   \t@Override\r\n    \t\tpublic void paintIcon(Component c, Graphics g, int x, int y)\r\n    \t    {\r\n    \t   \t\tSystem.out.println(&quot;Inside paintIcon&quot;);\r\n    \t        if(c != null)\r\n    \t        {\r\n    \t            if (this.color != null)\r\n    \t            {\r\n    \t         \t   g.setColor(this.color);\r\n    \t            }\r\n    //\t            g.fillRoundRect(0, 0, c.getWidth() , c.getHeight(), 5, 5);\r\n    \t            Graphics2D g2d = (Graphics2D) g.create();\r\n    \t            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                            RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t            g2d.fillRoundRect(0 + 1, 3, c.getWidth() - 3 , c.getHeight() - 6, 3, 3);\r\n    \r\n    \t        }\r\n    \r\n    \t    }\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getIconWidth() {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getIconHeight() {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t}\r\n     }\r\n\r\n\r\nAlthough the outline appears light here, it is more obvious based on the colors used.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe following shows the focus appearing around the button when the mouse is moved over it.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/izKRS.png\r\n  [2]: https://i.stack.imgur.com/9gcWB.png","title":"How to remove focus and outline of JButton on Toolbar","body":"<p>I'm using Corretto Java 11 and attempting to</p>\n<ol>\n<li>remove the focus around a JButton on a Toolbar when the mouse moves over it</li>\n<li>remove the border around the JButton</li>\n<li>avoid any borders when the JButton is clicked</li>\n</ol>\n<p>Based on other threads related to removing the border, these are the various fixes.</p>\n<pre><code>//Attempts to remove Border\n//    b2.setBorderPainted(false);\n    \n//    b2.setBorder(null);\n    \n//    Border emptyBorder = BorderFactory.createEmptyBorder();\n//    b2.setBorder(emptyBorder);\n</code></pre>\n<p>Based on other threads related to removing the focus, these are the various fixes.</p>\n<pre><code>    //Attempt to remove Focus\n    b2.setFocusPainted(false);\n    b2.setFocusable(false);\n    b2.setRolloverEnabled(false);\n</code></pre>\n<p>Unfortunately, none of these worked and I'm not sure if either the implementation was wrong or the newer version of Java does things different or if the behavior is different when within a Toolbar.</p>\n<p>Here is the code currently being used.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JToolBar;\nimport javax.swing.SwingConstants;\nimport javax.swing.border.Border;\n\npublic class ToolBarSample {\n  public static void main(final String args[]) {\n    JFrame frame = new JFrame(&quot;JToolBar Example&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    JToolBar toolbar = new JToolBar();\n    toolbar.setRollover(true);\n\n    JButton b2 = new JButton();\n    b2.setText(&quot;Big Button&quot;);\n    \n    //Attempts to remove Border\n    //    b2.setBorderPainted(false);\n        \n    //    b2.setBorder(null);\n        \n    //    Border emptyBorder = BorderFactory.createEmptyBorder();\n    //    b2.setBorder(emptyBorder);\n    \n    //Attempt to remove Focus\n    b2.setFocusPainted(false);\n    b2.setFocusable(false);\n    b2.setRolloverEnabled(false);\n\n    \n    b2.setOpaque(true);\n    Dimension buttonSize = new Dimension(340,27);\n    b2.setPreferredSize(buttonSize);\n    b2.setMinimumSize(buttonSize);\n    b2.setMaximumSize(buttonSize);\n    b2.setIcon(new EmptyIcon(Color.RED));\n    b2.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\n    b2.setVerticalAlignment(SwingConstants.CENTER);\n    b2.setHorizontalTextPosition(JLabel.CENTER);\n    b2.setVerticalTextPosition(JLabel.CENTER);\n    \n    toolbar.add(b2);\n    \n    Container contentPane = frame.getContentPane();\n    contentPane.add(toolbar, BorderLayout.NORTH);\n    JTextArea textArea = new JTextArea();\n    JScrollPane pane = new JScrollPane(textArea);\n    contentPane.add(pane, BorderLayout.CENTER);\n    frame.setSize(550, 350);\n    frame.setVisible(true);\n  }\n  \n  public final static class EmptyIcon implements Icon {\n\n      Color color ;\n\n      public EmptyIcon() {\n        this(Color.GREEN);\n      }\n      \n      public EmptyIcon(Color color) {\n        this.color = color;\n      }\n\n        @Override\n        public void paintIcon(Component c, Graphics g, int x, int y)\n        {\n            System.out.println(&quot;Inside paintIcon&quot;);\n            if(c != null)\n            {\n                if (this.color != null)\n                {\n                   g.setColor(this.color);\n                }\n//              g.fillRoundRect(0, 0, c.getWidth() , c.getHeight(), 5, 5);\n                Graphics2D g2d = (Graphics2D) g.create();\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                        RenderingHints.VALUE_ANTIALIAS_ON);\n                g2d.fillRoundRect(0 + 1, 3, c.getWidth() - 3 , c.getHeight() - 6, 3, 3);\n\n            }\n\n        }\n\n        @Override\n        public int getIconWidth() {\n            // TODO Auto-generated method stub\n            return 0;\n        }\n\n        @Override\n        public int getIconHeight() {\n            // TODO Auto-generated method stub\n            return 0;\n        }\n    }\n }\n</code></pre>\n<p>Although the outline appears light here, it is more obvious based on the colors used.</p>\n<p><a href=\"https://i.stack.imgur.com/izKRS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/izKRS.png\" alt=\"enter image description here\" /></a></p>\n<p>The following shows the focus appearing around the button when the mouse is moved over it.</p>\n<p><a href=\"https://i.stack.imgur.com/9gcWB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9gcWB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","admob"],"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638291874,"creation_date":1638291874,"question_id":70173279,"body_markdown":"I have a very simple application for 1 year in Play Store, this application has a banner (banner1) on the main screen (MainActivity). It was the only ad for my application so yesterday I decided to add a new banner (banner2) on another screen (ListActivity).\r\n\r\nI uploaded my update and it is already available in the Play Store, But I noticed in AdMob that the banner1 only has 137 impressions, the strange thing is that at this time (11:00) it always has more than 1200 impressions so I installed my application on 2 different devices (from Play Store ) and I noticed that in both the banner 1 never loads and the banner 2 is displayed without problem.\r\n\r\nI did not make any changes in MainActivity, in AdMob the banner is enabled so I do not understand what may be happening.\r\n\r\nYesterday I also updated this data in my gradle:\r\n\r\nBefore:\r\n\r\n    compileSdkVersion 30\r\n    targetSdkVersion 30\r\n\r\nNow:\r\n\r\n    compileSdkVersion 31\r\n    targetSdkVersion 31\r\n\r\nAfter making that change I noticed that Android Studio was showing me a problem on the line\r\n\r\n    mAdView.loadAd(adRequest);\r\n\r\nThis is the error displayed by Android Studio: \r\n\r\n&gt; Missing permissions required by BaseAdView.loadAd\r\n&gt; android.permission.INTERNET\r\n\r\n* This error appears when displaying banner1 and banner2\r\n\r\nI do not understand, supposedly that permission is no longer necessary, but I also have it in AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nMy low ad impressions issue is related to android studio error? How do I fix the error?\r\n\r\nThis is my code to display the ad:\r\n\r\n    MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n            }\r\n        });\r\n\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        mAdView.loadAd(adRequest);\r\n        mAdView.setAdListener(new AdListener(){\r\n\r\n            @Override\r\n            public void onAdLoaded() {\r\n                super.onAdLoaded();\r\n                new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        loadingAdAlert.setVisibility(View.GONE);\r\n                        mAdView.setVisibility(View.VISIBLE);\r\n                    }\r\n                }, 1500);\r\n            }\r\n\r\n            @Override\r\n            public void onAdFailedToLoad(LoadAdError loadAdError) {\r\n                super.onAdFailedToLoad(loadAdError);\r\n                loadingAdAlert.setVisibility(View.GONE);\r\n            }\r\n        });","title":"My old banner is not showing after update","body":"<p>I have a very simple application for 1 year in Play Store, this application has a banner (banner1) on the main screen (MainActivity). It was the only ad for my application so yesterday I decided to add a new banner (banner2) on another screen (ListActivity).</p>\n<p>I uploaded my update and it is already available in the Play Store, But I noticed in AdMob that the banner1 only has 137 impressions, the strange thing is that at this time (11:00) it always has more than 1200 impressions so I installed my application on 2 different devices (from Play Store ) and I noticed that in both the banner 1 never loads and the banner 2 is displayed without problem.</p>\n<p>I did not make any changes in MainActivity, in AdMob the banner is enabled so I do not understand what may be happening.</p>\n<p>Yesterday I also updated this data in my gradle:</p>\n<p>Before:</p>\n<pre><code>compileSdkVersion 30\ntargetSdkVersion 30\n</code></pre>\n<p>Now:</p>\n<pre><code>compileSdkVersion 31\ntargetSdkVersion 31\n</code></pre>\n<p>After making that change I noticed that Android Studio was showing me a problem on the line</p>\n<pre><code>mAdView.loadAd(adRequest);\n</code></pre>\n<p>This is the error displayed by Android Studio:</p>\n<blockquote>\n<p>Missing permissions required by BaseAdView.loadAd\nandroid.permission.INTERNET</p>\n</blockquote>\n<ul>\n<li>This error appears when displaying banner1 and banner2</li>\n</ul>\n<p>I do not understand, supposedly that permission is no longer necessary, but I also have it in AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>My low ad impressions issue is related to android studio error? How do I fix the error?</p>\n<p>This is my code to display the ad:</p>\n<pre><code>MobileAds.initialize(this, new OnInitializationCompleteListener() {\n        @Override\n        public void onInitializationComplete(InitializationStatus initializationStatus) {\n        }\n    });\n\n    AdRequest adRequest = new AdRequest.Builder().build();\n    mAdView.loadAd(adRequest);\n    mAdView.setAdListener(new AdListener(){\n\n        @Override\n        public void onAdLoaded() {\n            super.onAdLoaded();\n            new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    loadingAdAlert.setVisibility(View.GONE);\n                    mAdView.setVisibility(View.VISIBLE);\n                }\n            }, 1500);\n        }\n\n        @Override\n        public void onAdFailedToLoad(LoadAdError loadAdError) {\n            super.onAdFailedToLoad(loadAdError);\n            loadingAdAlert.setVisibility(View.GONE);\n        }\n    });\n</code></pre>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1638289142,"post_id":70172432,"comment_id":124046401,"body_markdown":"What is your code supposed to do?","body":"What is your code supposed to do?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1638289374,"post_id":70172432,"comment_id":124046524,"body_markdown":"None of those code examples looks light. What is the purpose of non-static *fields* there? You are not using them, instead you are using method arguments with same names. Also generally we should *avoid* `static` fields (more info: [Why are static variables considered evil?](https://stackoverflow.com/q/7026507)).","body":"None of those code examples looks light. What is the purpose of non-static <i>fields</i> there? You are not using them, instead you are using method arguments with same names. Also generally we should <i>avoid</i> <code>static</code> fields (more info: <a href=\"https://stackoverflow.com/q/7026507\">Why are static variables considered evil?</a>)."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638289411,"creation_date":1638289411,"answer_id":70172673,"question_id":70172432,"body_markdown":"First: keep to the convention that class names start with a capital. Really helps me and others.\r\n\r\nInner classes  should be made static. Example:\r\n\r\n    class Outer {\r\n\r\n        private int answer = 42;\r\n        private void r() { }\r\n\r\n        static class StaticInner {\r\n\r\n            void p() {\r\n                // Cannot use &lt;var&gt;answer&lt;/var&gt;.\r\n            }\r\n        }\r\n        \r\n        class EmbeddedInner {\r\n\r\n            void q() {\r\n                answer %= 13;\r\n                Outer.this.answer += 39;\r\n                Outer.this.r();\r\n            }\r\n        }\r\n    }\r\n\r\n    Outer o = new Outer();\r\n    StaticInner si = new StaticInner();\r\n    EmbeddedInner ei = o.new EmbeddedInner();\r\n\r\nA non-static embedded class object has besides its `this` (`EmbeddedInner.this`) also one for its outer class (`Outer.this`).\r\n\r\nThis means sometimes it is usesfull to know its container object, and a non-static inner class automatically provides that. But if not needed, a static inner class spares an _Outer_.this. In fact serializing an inner object would always serialize the outer object.","title":"Which is the correct method to use static in java and to write code","body":"<p>First: keep to the convention that class names start with a capital. Really helps me and others.</p>\n<p>Inner classes  should be made static. Example:</p>\n<pre><code>class Outer {\n\n    private int answer = 42;\n    private void r() { }\n\n    static class StaticInner {\n\n        void p() {\n            // Cannot use &lt;var&gt;answer&lt;/var&gt;.\n        }\n    }\n    \n    class EmbeddedInner {\n\n        void q() {\n            answer %= 13;\n            Outer.this.answer += 39;\n            Outer.this.r();\n        }\n    }\n}\n\nOuter o = new Outer();\nStaticInner si = new StaticInner();\nEmbeddedInner ei = o.new EmbeddedInner();\n</code></pre>\n<p>A non-static embedded class object has besides its <code>this</code> (<code>EmbeddedInner.this</code>) also one for its outer class (<code>Outer.this</code>).</p>\n<p>This means sometimes it is usesfull to know its container object, and a non-static inner class automatically provides that. But if not needed, a static inner class spares an <em>Outer</em>.this. In fact serializing an inner object would always serialize the outer object.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638289619,"creation_date":1638289619,"answer_id":70172725,"question_id":70172432,"body_markdown":"&gt; My question are: -what is the right way to do things? -because if they are in main everything must be static while outside only the methods must be?\r\n\r\nThere is no one right way to do things, but as your programs become more complicated you will find that you usually want to avoid `static`, non-`final` variables, and as a result, the scope for using `static` methods will decrease.\r\n\r\nNote well that in your example code, the only method that *must* be `static` is `main.main()`.  You *choose* to make the various `sommaNummeri` methods `static`, and therefore are able to invoke them as static methods.  (Or maybe you decided to invoke them as static methods, and then found that the compiler required them to in fact *be* `static` for that to work.)\r\n\r\nTo bootstrap from the static context of a `main()` method to non-static context, you instantiate one or more objects and invoke instance methods on them.  Example:\r\n```\r\nclass Numeri {\r\n    int result;\r\n        \r\n    void sommaNumeri(int a, int b) {\r\n        System.out.println(&quot;contenuto della superclasse &quot; + (a + b));\r\n        result = ( a + b);\r\n        System.out.println(result);\r\n    }\r\n}\r\n\r\nclass Numeri2 extends Numeri  {\r\n\r\n    void sommaNumeri2(int a, int b, int c, int d) {\r\n        System.out.println(&quot;contenuto della sottoclasse &quot; + (a + b + c + d));\r\n   }\r\n}\r\n\r\nclass Main {  \r\n\r\n    public static void main(String args[]) {\r\n        Numeri2 num = new Numeri2();\r\n\r\n        num.sommaNumeri(3, 5);\r\n        num.sommaNumeri2(4, 6, 7, 9);\r\n        num.sommaNumeri(8, 9);\r\n    }\r\n}\r\n```\r\n\r\nNote also that according to the usual Java coding conventions, class names should begin with an initial capital letter, as shown.","title":"Which is the correct method to use static in java and to write code","body":"<blockquote>\n<p>My question are: -what is the right way to do things? -because if they are in main everything must be static while outside only the methods must be?</p>\n</blockquote>\n<p>There is no one right way to do things, but as your programs become more complicated you will find that you usually want to avoid <code>static</code>, non-<code>final</code> variables, and as a result, the scope for using <code>static</code> methods will decrease.</p>\n<p>Note well that in your example code, the only method that <em>must</em> be <code>static</code> is <code>main.main()</code>.  You <em>choose</em> to make the various <code>sommaNummeri</code> methods <code>static</code>, and therefore are able to invoke them as static methods.  (Or maybe you decided to invoke them as static methods, and then found that the compiler required them to in fact <em>be</em> <code>static</code> for that to work.)</p>\n<p>To bootstrap from the static context of a <code>main()</code> method to non-static context, you instantiate one or more objects and invoke instance methods on them.  Example:</p>\n<pre><code>class Numeri {\n    int result;\n        \n    void sommaNumeri(int a, int b) {\n        System.out.println(&quot;contenuto della superclasse &quot; + (a + b));\n        result = ( a + b);\n        System.out.println(result);\n    }\n}\n\nclass Numeri2 extends Numeri  {\n\n    void sommaNumeri2(int a, int b, int c, int d) {\n        System.out.println(&quot;contenuto della sottoclasse &quot; + (a + b + c + d));\n   }\n}\n\nclass Main {  \n\n    public static void main(String args[]) {\n        Numeri2 num = new Numeri2();\n\n        num.sommaNumeri(3, 5);\n        num.sommaNumeri2(4, 6, 7, 9);\n        num.sommaNumeri(8, 9);\n    }\n}\n</code></pre>\n<p>Note also that according to the usual Java coding conventions, class names should begin with an initial capital letter, as shown.</p>\n"},{"tags":[],"owner":{"account_id":4392368,"reputation":2160,"user_id":3580357,"display_name":"Benjamin Caure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638289769,"creation_date":1638289769,"answer_id":70172759,"question_id":70172432,"body_markdown":"In the 1st snippet, you defined what&#39;s called an inner class. As the class is static and its methods are static, you can access it with `main.numeri` and methods with `main.numeri.sommaNumeri` \r\n\r\nIn the 2nd snippet, you didn&#39;t define inner class. You can access it with `numeri.sommaNumeri`.\r\n\r\nI suppose that&#39;s you&#39;re a Java debutant, so you probably need to follow Java basic best practices and define public classes and methods in their own separated files. Both of them must be public to be accessed from your file where `main` is defined. For example:\r\n\r\nNumeri.java\r\n\r\n    public class Numeri {\r\n        public void sommaNumeri(int a, int b) {\r\n            System.out.println(&quot;contenuto della sottoclasse &quot; + (a + b + c + d));\r\n        }\r\n    }\r\n\r\nThen you can access it like this:\r\n\r\nMain.java\r\n\r\n    import my.package.Numeri;\r\n\r\n    public class Main {\r\n        public static void main (String args[]){\r\n             Numeri.sommaNumeri(3, 5);\r\n        }\r\n    }\r\n\r\nImportant point: class names must start with uppercase. You can hurt Java people deeply by not following this naming convention!","title":"Which is the correct method to use static in java and to write code","body":"<p>In the 1st snippet, you defined what's called an inner class. As the class is static and its methods are static, you can access it with <code>main.numeri</code> and methods with <code>main.numeri.sommaNumeri</code></p>\n<p>In the 2nd snippet, you didn't define inner class. You can access it with <code>numeri.sommaNumeri</code>.</p>\n<p>I suppose that's you're a Java debutant, so you probably need to follow Java basic best practices and define public classes and methods in their own separated files. Both of them must be public to be accessed from your file where <code>main</code> is defined. For example:</p>\n<p>Numeri.java</p>\n<pre><code>public class Numeri {\n    public void sommaNumeri(int a, int b) {\n        System.out.println(&quot;contenuto della sottoclasse &quot; + (a + b + c + d));\n    }\n}\n</code></pre>\n<p>Then you can access it like this:</p>\n<p>Main.java</p>\n<pre><code>import my.package.Numeri;\n\npublic class Main {\n    public static void main (String args[]){\n         Numeri.sommaNumeri(3, 5);\n    }\n}\n</code></pre>\n<p>Important point: class names must start with uppercase. You can hurt Java people deeply by not following this naming convention!</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638290152,"creation_date":1638289794,"answer_id":70172768,"question_id":70172432,"body_markdown":"Java is supposed to be object oriented. Nothing about static is object oriented. New programmers use static as a crutch to avoid learning OO. As a learner, try to avoid static wherever possible. \r\n\r\nGuidelines for using the static keyword for new programmers:\r\n\r\n1) you have to use it for the entry point (main method) because no objects are created yet. \r\n\r\n2) do not nest classes inside each other.  There are very few cases that actually helps, mostly you just cause yourself confusion. That way you never need to write &quot;static class&quot;\r\n\r\n3) use static final for constant fields only. Do not put anything in a static field that you need to change. Do not mess with complicated things like lazy singletons or holders, and don&#39;t use static fields to pass data between classes because you can&#39;t be bothered to give objects references to each other. \r\n\r\n4) use static for methods where the value returned is the result of manipulating the inputs, that have no dependencies and no side effects (for instance, writing to a database is a side effect). \r\n\r\n5) don&#39;t use static for anything that needs to be overridden. Static doesn&#39;t do polymorphism. \r\n\r\n6) if this is any other case not allowed above, don&#39;t use static for it. \r\n\r\n","title":"Which is the correct method to use static in java and to write code","body":"<p>Java is supposed to be object oriented. Nothing about static is object oriented. New programmers use static as a crutch to avoid learning OO. As a learner, try to avoid static wherever possible.</p>\n<p>Guidelines for using the static keyword for new programmers:</p>\n<ol>\n<li><p>you have to use it for the entry point (main method) because no objects are created yet.</p>\n</li>\n<li><p>do not nest classes inside each other.  There are very few cases that actually helps, mostly you just cause yourself confusion. That way you never need to write &quot;static class&quot;</p>\n</li>\n<li><p>use static final for constant fields only. Do not put anything in a static field that you need to change. Do not mess with complicated things like lazy singletons or holders, and don't use static fields to pass data between classes because you can't be bothered to give objects references to each other.</p>\n</li>\n<li><p>use static for methods where the value returned is the result of manipulating the inputs, that have no dependencies and no side effects (for instance, writing to a database is a side effect).</p>\n</li>\n<li><p>don't use static for anything that needs to be overridden. Static doesn't do polymorphism.</p>\n</li>\n<li><p>if this is any other case not allowed above, don't use static for it.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638291863,"creation_date":1638291118,"answer_id":70173083,"question_id":70172432,"body_markdown":"TLDR:\r\n&#39;Static&#39; keyword applied to a method just means that you can call this method without first creating an instance of the class. Since both snippet 1 and snippet 2 declare the methods as static (`static  void  sommaNumeri(int a, int b)` and `static  void  sommaNumeri2( int a, int b, int c ,int d)`), there is no real difference here.\r\n\r\nDetailed:\r\nIn object oriented programming ([OOP]), objects contain data and methods to operate on that data. One principal of OOP is [encapsulation][2], which refers to accessing data of an object, and it aims to help prevent incorrect usage of the object by making the fields `private` and defining getters and setters. \r\n\r\nIn your example, you have 2 classes, both of which only have one method, and since that method is static, you can call methods `sommaNumeri1` and `sommaNumeri2` without creating instances of `numeri` and `numeri2`. Recall that a class is a blueprint for an object, so we could try instantiating the objects: \r\n\r\n    class Num { \r\n        private int a;\r\n        private int b;\r\n\r\n        public num(int a, int b) {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n\r\n        public void print() {\r\n            System.out.println(&quot;sum: &quot; + (a+b));\r\n        }\r\n    }\r\n    ...\r\n    // somewhere in a main class\r\n    public static void main(String[] args) {\r\n        Num num1 = new Num(4,5);\r\n        Num num2 = new Num(7,8);\r\n        num1.print() // this should print &#39;sum: 9&#39;\r\n        num2.print() // this should print &#39;sum: 15&#39;\r\n    }\r\n\r\n\r\nHowever, if you had a static method, you wouldn&#39;t need to create any objects (as you can see with your code snippets 1 and 2 don&#39;t ever call `new` keyword!). \r\n\r\nNow you have also static nested classes in snippet 1. This means that the classes `numeri` and `numeri2` are nested but cant access other members of the outer class [`class main`][3]. If you were to remove the `static` keyword from the class definitions of `numeri` and `numeri2` in snippet 1, the objects would be able to access other members of the outer class `main`. \r\n\r\nI think here the answer really depends on what you want to happen. Since both classes only have a static method each, you could get rid of `numeri` and `numeri2` and keep the methods `sommaNumeri` and `sommaNumeri2` inside `main` class. However, nesting classes [*&quot;is a way of logically grouping classes that are only used in one place&quot;*][3], so if you really feel the need to have the classes nested you could leave them there.\r\n\r\nIf you do leave the classes in `main`, you may want to think about whether you want your classes to be `static` or not, and whether those methods need to be static (the question being, do you want to access those methods without creating objects first? In other words, do you need to access data of an object inside the method?). \r\n\r\nHope this helps! Please let me know if something was unclear :D \r\n\r\n(N.B: what really helps me thinking about java objects is [mathematical objects][4]. When I came to this realisation I really re-thought a lot about OOP! Java objects are just like vectors. Vector [1,2,3] contains information, represents x=1, y=2, z=3. You can perform operations ON the vector, like multiplying it by 2: 2*[1,2,3] = [2,4,6]. To do an operation ON a vector, you need A vector. In java, if an method is NOT static, thats the same there, you need an OBJECT to call that method on, just as you need a vector to do scalar multiplication on.) \r\n\r\n[OOP]:https://en.wikipedia.org/wiki/Object-oriented_programming\r\n[2]:https://en.wikipedia.org/wiki/Encapsulation_(computer_programming) \r\n[3]:https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\r\n[4]:https://en.wikipedia.org/wiki/Mathematical_object","title":"Which is the correct method to use static in java and to write code","body":"<p>TLDR:\n'Static' keyword applied to a method just means that you can call this method without first creating an instance of the class. Since both snippet 1 and snippet 2 declare the methods as static (<code>static  void  sommaNumeri(int a, int b)</code> and <code>static  void  sommaNumeri2( int a, int b, int c ,int d)</code>), there is no real difference here.</p>\n<p>Detailed:\nIn object oriented programming (<a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">OOP</a>), objects contain data and methods to operate on that data. One principal of OOP is <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\">encapsulation</a>, which refers to accessing data of an object, and it aims to help prevent incorrect usage of the object by making the fields <code>private</code> and defining getters and setters.</p>\n<p>In your example, you have 2 classes, both of which only have one method, and since that method is static, you can call methods <code>sommaNumeri1</code> and <code>sommaNumeri2</code> without creating instances of <code>numeri</code> and <code>numeri2</code>. Recall that a class is a blueprint for an object, so we could try instantiating the objects:</p>\n<pre><code>class Num { \n    private int a;\n    private int b;\n\n    public num(int a, int b) {\n        this.a = a;\n        this.b = b;\n    }\n\n    public void print() {\n        System.out.println(&quot;sum: &quot; + (a+b));\n    }\n}\n...\n// somewhere in a main class\npublic static void main(String[] args) {\n    Num num1 = new Num(4,5);\n    Num num2 = new Num(7,8);\n    num1.print() // this should print 'sum: 9'\n    num2.print() // this should print 'sum: 15'\n}\n</code></pre>\n<p>However, if you had a static method, you wouldn't need to create any objects (as you can see with your code snippets 1 and 2 don't ever call <code>new</code> keyword!).</p>\n<p>Now you have also static nested classes in snippet 1. This means that the classes <code>numeri</code> and <code>numeri2</code> are nested but cant access other members of the outer class <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\"><code>class main</code></a>. If you were to remove the <code>static</code> keyword from the class definitions of <code>numeri</code> and <code>numeri2</code> in snippet 1, the objects would be able to access other members of the outer class <code>main</code>.</p>\n<p>I think here the answer really depends on what you want to happen. Since both classes only have a static method each, you could get rid of <code>numeri</code> and <code>numeri2</code> and keep the methods <code>sommaNumeri</code> and <code>sommaNumeri2</code> inside <code>main</code> class. However, nesting classes <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\"><em>&quot;is a way of logically grouping classes that are only used in one place&quot;</em></a>, so if you really feel the need to have the classes nested you could leave them there.</p>\n<p>If you do leave the classes in <code>main</code>, you may want to think about whether you want your classes to be <code>static</code> or not, and whether those methods need to be static (the question being, do you want to access those methods without creating objects first? In other words, do you need to access data of an object inside the method?).</p>\n<p>Hope this helps! Please let me know if something was unclear :D</p>\n<p>(N.B: what really helps me thinking about java objects is <a href=\"https://en.wikipedia.org/wiki/Mathematical_object\" rel=\"nofollow noreferrer\">mathematical objects</a>. When I came to this realisation I really re-thought a lot about OOP! Java objects are just like vectors. Vector [1,2,3] contains information, represents x=1, y=2, z=3. You can perform operations ON the vector, like multiplying it by 2: 2*[1,2,3] = [2,4,6]. To do an operation ON a vector, you need A vector. In java, if an method is NOT static, thats the same there, you need an OBJECT to call that method on, just as you need a vector to do scalar multiplication on.)</p>\n"}],"owner":{"account_id":17961890,"reputation":13,"user_id":13052680,"display_name":"Antonio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70173083,"answer_count":5,"score":0,"last_activity_date":1638291863,"creation_date":1638288381,"question_id":70172432,"body_markdown":"I have 2 snippets:  \r\nin one it&#39;s all wrapped up in the main class and both methods and classes are declared static. In the second snippet the classes are outside the main class and only the methods are declared static. My questions are: \r\n- what is the right way to do things? \r\n- because if they are in main everything must be static while outside only the methods must be? \r\n```java\r\nclass main{  \r\n\r\n     static class  numeri{\r\n        int a;\r\n        int b;\r\n        static int result;\r\n        \r\n        static  void  sommaNumeri(int a, int b){\r\n            System.out.println(&quot;contenuto della superclasse &quot; + (a + b));\r\n            result = ( a + b);\r\n            System.out.println(result);\r\n        }// end metodo sommaNumeri\r\n    }//end class numeri\r\n\r\n    static class  numeri2 extends numeri  {\r\n        int c;\r\n        int d;\r\n\r\n        static  void  sommaNumeri2( int a, int b, int c ,int d){\r\n            System.out.println(&quot;contenuto della sottoclasse &quot; + (a + b + c + d));\r\n        }// end metodo numeri2\r\n    }// end class numeri2\r\n\r\n    public static void main ( String args[]){\r\n        numeri.sommaNumeri(3,5 );\r\n        numeri2.sommaNumeri2(4, 6, 7, 9 );\r\n        numeri2.sommaNumeri(8, 9 );\r\n    }// end main method\r\n}// end main class\r\n\r\n```\r\n\r\n  \r\n```java\r\n\r\nclass  numeri{\r\n        int a;\r\n        int b;\r\n        static int result;\r\n        \r\n        static  void  sommaNumeri(int a, int b){\r\n            System.out.println(&quot;contenuto della superclasse &quot; + (a + b));\r\n            result = ( a + b);\r\n            System.out.println(result);\r\n        }// end metodo sommaNumeri\r\n    }//end class numeri\r\n\r\n     class  numeri2 extends numeri  {\r\n        int c;\r\n        int d;\r\n\r\n        static  void  sommaNumeri2( int a, int b, int c ,int d){\r\n            System.out.println(&quot;contenuto della sottoclasse &quot; + (a + b + c + d));\r\n\r\n        }// end metodo numeri2\r\n    }// end class numeri2\r\n\r\n\r\n    class main{  \r\n\r\n    public static void main ( String args[]){\r\n        numeri.sommaNumeri(3,5 );\r\n\r\n        numeri2.sommaNumeri2(4, 6, 7, 9 );\r\n\r\n        numeri2.sommaNumeri(8, 9 );\r\n\r\n\r\n    }// end main method\r\n}// end main class\r\n```\r\n\r\n","title":"Which is the correct method to use static in java and to write code","body":"<p>I have 2 snippets:<br />\nin one it's all wrapped up in the main class and both methods and classes are declared static. In the second snippet the classes are outside the main class and only the methods are declared static. My questions are:</p>\n<ul>\n<li>what is the right way to do things?</li>\n<li>because if they are in main everything must be static while outside only the methods must be?</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class main{  \n\n     static class  numeri{\n        int a;\n        int b;\n        static int result;\n        \n        static  void  sommaNumeri(int a, int b){\n            System.out.println(&quot;contenuto della superclasse &quot; + (a + b));\n            result = ( a + b);\n            System.out.println(result);\n        }// end metodo sommaNumeri\n    }//end class numeri\n\n    static class  numeri2 extends numeri  {\n        int c;\n        int d;\n\n        static  void  sommaNumeri2( int a, int b, int c ,int d){\n            System.out.println(&quot;contenuto della sottoclasse &quot; + (a + b + c + d));\n        }// end metodo numeri2\n    }// end class numeri2\n\n    public static void main ( String args[]){\n        numeri.sommaNumeri(3,5 );\n        numeri2.sommaNumeri2(4, 6, 7, 9 );\n        numeri2.sommaNumeri(8, 9 );\n    }// end main method\n}// end main class\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass  numeri{\n        int a;\n        int b;\n        static int result;\n        \n        static  void  sommaNumeri(int a, int b){\n            System.out.println(&quot;contenuto della superclasse &quot; + (a + b));\n            result = ( a + b);\n            System.out.println(result);\n        }// end metodo sommaNumeri\n    }//end class numeri\n\n     class  numeri2 extends numeri  {\n        int c;\n        int d;\n\n        static  void  sommaNumeri2( int a, int b, int c ,int d){\n            System.out.println(&quot;contenuto della sottoclasse &quot; + (a + b + c + d));\n\n        }// end metodo numeri2\n    }// end class numeri2\n\n\n    class main{  \n\n    public static void main ( String args[]){\n        numeri.sommaNumeri(3,5 );\n\n        numeri2.sommaNumeri2(4, 6, 7, 9 );\n\n        numeri2.sommaNumeri(8, 9 );\n\n\n    }// end main method\n}// end main class\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":13593529,"reputation":161,"user_id":9806244,"display_name":"Vasi G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1563384922,"creation_date":1563384922,"answer_id":57081441,"question_id":57081440,"body_markdown":"Right click on any tab -&gt; Tabs Placement -&gt; Unmark &quot;Show Tabs in Single Row&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u7pRT.png","title":"How to split tabs into 2 rows in IntelliJ IDEA?","body":"<p>Right click on any tab -> Tabs Placement -> Unmark \"Show Tabs in Single Row\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/u7pRT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u7pRT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563398804,"creation_date":1563398804,"answer_id":57084267,"question_id":57081440,"body_markdown":"Disable the **Show tabs in one row** option in File | Settings | Editor | General | Editor Tabs:\r\n\r\n[![Show tabs in one row][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CObwy.png","title":"How to split tabs into 2 rows in IntelliJ IDEA?","body":"<p>Disable the <strong>Show tabs in one row</strong> option in File | Settings | Editor | General | Editor Tabs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CObwy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CObwy.png\" alt=\"Show tabs in one row\"></a></p>\n"},{"tags":[],"owner":{"account_id":166662,"reputation":2452,"user_id":390940,"accept_rate":20,"display_name":"it3xl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638291646,"creation_date":1638291646,"answer_id":70173217,"question_id":57081440,"body_markdown":"IDEA now has a special setting - **Show pinned tabs in a separate row**.  \r\nIt works in a Visual Studio way.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nI3mD.png","title":"How to split tabs into 2 rows in IntelliJ IDEA?","body":"<p>IDEA now has a special setting - <strong>Show pinned tabs in a separate row</strong>.<br />\nIt works in a Visual Studio way.</p>\n<p><a href=\"https://i.stack.imgur.com/nI3mD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nI3mD.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13593529,"reputation":161,"user_id":9806244,"display_name":"Vasi G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57081441,"answer_count":3,"score":2,"last_activity_date":1638291646,"creation_date":1563384922,"question_id":57081440,"body_markdown":"I want to split the tabs into 2 rows for a better view.\r\n\r\nThis is what i mean but in Visual Studio:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UGkXJ.png\r\n\r\nThere is no &quot;toggle pin status&quot; button in IntelliJ only a close button.","title":"How to split tabs into 2 rows in IntelliJ IDEA?","body":"<p>I want to split the tabs into 2 rows for a better view.</p>\n\n<p>This is what i mean but in Visual Studio:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UGkXJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UGkXJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>There is no \"toggle pin status\" button in IntelliJ only a close button.</p>\n"},{"tags":["java","android","android-studio","gradle","build.gradle"],"comments":[{"owner":{"account_id":229990,"reputation":1932,"user_id":493321,"display_name":"Anuj"},"score":0,"creation_date":1466845008,"post_id":38026562,"comment_id":63493922,"body_markdown":"Can you try to delete your home gradle cache directory, on mac it is ~/.gradle/caches","body":"Can you try to delete your home gradle cache directory, on mac it is ~/.gradle/caches"},{"owner":{"account_id":310904,"reputation":5983,"user_id":1004437,"accept_rate":67,"display_name":"sam_k"},"score":0,"creation_date":1466870434,"post_id":38026562,"comment_id":63500816,"body_markdown":"@basilisk : I did that too, Even same project is giving error on my other laptop too and my friend also get the same error.","body":"@basilisk : I did that too, Even same project is giving error on my other laptop too and my friend also get the same error."},{"owner":{"account_id":229990,"reputation":1932,"user_id":493321,"display_name":"Anuj"},"score":0,"creation_date":1466914801,"post_id":38026562,"comment_id":63510299,"body_markdown":"Completely remove the ~/.gradle and yourproject/.gradle directories maybe?","body":"Completely remove the ~/.gradle and yourproject/.gradle directories maybe?"},{"owner":{"account_id":262183,"reputation":13618,"user_id":546871,"accept_rate":40,"display_name":"AdrianHHH"},"score":0,"creation_date":1484907294,"post_id":38026562,"comment_id":70713586,"body_markdown":"Possible duplicate of [Gradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)](http://stackoverflow.com/questions/38442901/gradles-dependency-cache-may-be-corrupt-this-sometimes-occurs-after-a-network)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/38442901/gradles-dependency-cache-may-be-corrupt-this-sometimes-occurs-after-a-network\">Gradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)</a>"}],"answers":[{"tags":[],"owner":{"account_id":2854318,"reputation":12308,"user_id":2450855,"accept_rate":62,"display_name":"Farhad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466844233,"creation_date":1466844233,"answer_id":38026642,"question_id":38026562,"body_markdown":"You can try different workarounds for this problem :\r\n\r\n1- **Clean** project and **Rebuild** it.\r\n\r\n2- **Before importing the project**, remove the contents of the **Build** **folders**.\r\n\r\nThen replace the contents of your **gradle-wrapper.properties** file with the following lines, to make it use a local distribution for building the project :\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=file\\:/opt/gradle/gradle-2.13-all.zip\r\n\r\nin which, the last line prevents android studio to download or use a corrupted gradle cache. ","title":"Android Gradle&#39;s dependency cache may be corrupt and gradle build not working","body":"<p>You can try different workarounds for this problem :</p>\n\n<p>1- <strong>Clean</strong> project and <strong>Rebuild</strong> it.</p>\n\n<p>2- <strong>Before importing the project</strong>, remove the contents of the <strong>Build</strong> <strong>folders</strong>.</p>\n\n<p>Then replace the contents of your <strong>gradle-wrapper.properties</strong> file with the following lines, to make it use a local distribution for building the project :</p>\n\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=file\\:/opt/gradle/gradle-2.13-all.zip\n</code></pre>\n\n<p>in which, the last line prevents android studio to download or use a corrupted gradle cache. </p>\n"},{"tags":[],"owner":{"account_id":7547009,"reputation":2174,"user_id":5729661,"display_name":"Ali Nawaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485162472,"creation_date":1485162472,"answer_id":41802545,"question_id":38026562,"body_markdown":"You can try this solution as i was facing this issue showing Error2 Gradle&#39;s dependency cache may be corrupt and gradle build not working and resolved it. Already answered this question on stack.  [You can reffer to this answer link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41758723/5729661\r\nIt includes firstly downloading latest graddle version from official site then replacing that unzipped file with home/yourUser/.graddle/wrapper/dists containg older version file on Mac.","title":"Android Gradle&#39;s dependency cache may be corrupt and gradle build not working","body":"<p>You can try this solution as i was facing this issue showing Error2 Gradle's dependency cache may be corrupt and gradle build not working and resolved it. Already answered this question on stack.  <a href=\"https://stackoverflow.com/a/41758723/5729661\">You can reffer to this answer link</a></p>\n\n<p>It includes firstly downloading latest graddle version from official site then replacing that unzipped file with home/yourUser/.graddle/wrapper/dists containg older version file on Mac.</p>\n"},{"tags":[],"owner":{"account_id":5805883,"reputation":12821,"user_id":4578513,"accept_rate":15,"display_name":"AIM Digital Technologies"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1490428365,"creation_date":1490428365,"answer_id":43013923,"question_id":38026562,"body_markdown":"Because your gradle path for project is incorrect.\r\nGo to \r\n-&gt;Settings\r\n-&gt;Gradle\r\n\r\nand select &quot;use default gradle settings&quot;\r\nand than sync project. and issue will be resolved.","title":"Android Gradle&#39;s dependency cache may be corrupt and gradle build not working","body":"<p>Because your gradle path for project is incorrect.\nGo to \n->Settings\n->Gradle</p>\n\n<p>and select \"use default gradle settings\"\nand than sync project. and issue will be resolved.</p>\n"},{"tags":[],"owner":{"account_id":6969950,"reputation":2277,"user_id":5372715,"display_name":"Manoj Selvin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491304210,"creation_date":1491297416,"answer_id":43203001,"question_id":38026562,"body_markdown":"1. Go to any browser\r\n\r\n2. type gradle and press enter\r\n\r\nyou can specify any version you want after the\r\n\r\ngradle keyword\r\n\r\ni am downloading gradle 3.3\r\n\r\n3. https://services.gradle.org/distributions\r\nclick on this link which is in description directly if you want\r\n\r\n4. click on gradle 3.3 all.zip\r\n\r\n5. wait for the download to complete\r\n6. once the download is complete \r\nextract the file to the location\r\n\r\nc://user/your pc name /.gradle/wrapper/dists\r\n\r\n7. wait till extraction it takes 5 mins to complete\r\n\r\n8. Now open your project in android studio\r\n\r\n9.go to file &gt; settings &gt;bulid ,exec,deployment &gt; gradle\r\n\r\n10. now change use default gradle to \r\n\r\nuse local gradle distributn\r\n\r\nselect the location where you had extracted gradle 3.3.zip\r\n\r\nC:\\Users\\your pc name\\.gradle\\wrapper\\dists\\gradle-3.3\r\n\r\n11. click on OK\r\n\r\n12. Now build starts again and \r\n\r\nyou can see now the build is successful and error is resolved\r\n\r\nor\r\n\r\nwatch tutorial\r\nhttps://www.youtube.com/watch?v=u92_73vfA8M\r\n","title":"Android Gradle&#39;s dependency cache may be corrupt and gradle build not working","body":"<ol>\n<li><p>Go to any browser</p></li>\n<li><p>type gradle and press enter</p></li>\n</ol>\n\n<p>you can specify any version you want after the</p>\n\n<p>gradle keyword</p>\n\n<p>i am downloading gradle 3.3</p>\n\n<ol start=\"3\">\n<li><p><a href=\"https://services.gradle.org/distributions\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions</a>\nclick on this link which is in description directly if you want</p></li>\n<li><p>click on gradle 3.3 all.zip</p></li>\n<li><p>wait for the download to complete</p></li>\n<li>once the download is complete \nextract the file to the location</li>\n</ol>\n\n<p>c://user/your pc name /.gradle/wrapper/dists</p>\n\n<ol start=\"7\">\n<li><p>wait till extraction it takes 5 mins to complete</p></li>\n<li><p>Now open your project in android studio</p></li>\n</ol>\n\n<p>9.go to file > settings >bulid ,exec,deployment > gradle</p>\n\n<ol start=\"10\">\n<li>now change use default gradle to </li>\n</ol>\n\n<p>use local gradle distributn</p>\n\n<p>select the location where you had extracted gradle 3.3.zip</p>\n\n<p>C:\\Users\\your pc name.gradle\\wrapper\\dists\\gradle-3.3</p>\n\n<ol start=\"11\">\n<li><p>click on OK</p></li>\n<li><p>Now build starts again and </p></li>\n</ol>\n\n<p>you can see now the build is successful and error is resolved</p>\n\n<p>or</p>\n\n<p>watch tutorial\n<a href=\"https://www.youtube.com/watch?v=u92_73vfA8M\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=u92_73vfA8M</a></p>\n"},{"tags":[],"owner":{"account_id":3957385,"reputation":3078,"user_id":3265444,"accept_rate":92,"display_name":"Ajji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497597078,"creation_date":1497597078,"answer_id":44583007,"question_id":38026562,"body_markdown":"In my case, it was happening because i haven’t set the JDK path in environment variable. \r\nPlease check from your Android studio studio that your JDK path is correct.\r\n\r\nGo to Project Structure&gt; SDK Location and check JDK Path. Give it the correct JDK path and also set the JAVA_HOME environment variable. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FFQFa.png","title":"Android Gradle&#39;s dependency cache may be corrupt and gradle build not working","body":"<p>In my case, it was happening because i haven’t set the JDK path in environment variable. \nPlease check from your Android studio studio that your JDK path is correct.</p>\n\n<p>Go to Project Structure> SDK Location and check JDK Path. Give it the correct JDK path and also set the JAVA_HOME environment variable. </p>\n\n<p><a href=\"https://i.stack.imgur.com/FFQFa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FFQFa.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1069110,"reputation":152,"user_id":6592732,"display_name":"Brave Dolphin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1556467698,"creation_date":1556467698,"answer_id":55892105,"question_id":38026562,"body_markdown":"In my case is that gradle-5.1.1-all.zip download failed, so I go to zipStoreBase+zipStorePath(configured in gradle-wrapper.properties, eg: E:\\gradle-home\\wrapper\\dists), and delete the gradle-5.1.1-all directory, and let android studio to download that zip file again.","title":"Android Gradle&#39;s dependency cache may be corrupt and gradle build not working","body":"<p>In my case is that gradle-5.1.1-all.zip download failed, so I go to zipStoreBase+zipStorePath(configured in gradle-wrapper.properties, eg: E:\\gradle-home\\wrapper\\dists), and delete the gradle-5.1.1-all directory, and let android studio to download that zip file again.</p>\n"},{"tags":[],"owner":{"account_id":4576280,"reputation":59,"user_id":3714640,"display_name":"Deepika kapila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614346961,"creation_date":1614346961,"answer_id":66386883,"question_id":38026562,"body_markdown":"delete .gradle, .idea and gradle folder from the project and then invalidate cache and restart. \r\nproblem will be resolved.\r\nThanks :)","title":"Android Gradle&#39;s dependency cache may be corrupt and gradle build not working","body":"<p>delete .gradle, .idea and gradle folder from the project and then invalidate cache and restart.\nproblem will be resolved.\nThanks :)</p>\n"},{"tags":[],"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638291286,"creation_date":1638291286,"answer_id":70173128,"question_id":38026562,"body_markdown":"Sometimes it&#39;s a cache issue and sometimes due to interruption in download.\r\n\r\nStep 1:\r\n\r\nTry to download gradle distribution manually\r\nhttps://services.gradle.org/distributions/\r\n\r\nand then go to project settings -&gt; gradle -&gt; and use the file which you&#39;ve downloaded\r\n\r\n\r\nStep 2:\r\n\r\nIf step#1 still not working, then it may be a cache issue. If you are a mac user, go to your finder user folder, show hidden items by pressing [Command + Shift + .] , Go to gradle folder and \r\n","title":"Android Gradle&#39;s dependency cache may be corrupt and gradle build not working","body":"<p>Sometimes it's a cache issue and sometimes due to interruption in download.</p>\n<p>Step 1:</p>\n<p>Try to download gradle distribution manually\n<a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/</a></p>\n<p>and then go to project settings -&gt; gradle -&gt; and use the file which you've downloaded</p>\n<p>Step 2:</p>\n<p>If step#1 still not working, then it may be a cache issue. If you are a mac user, go to your finder user folder, show hidden items by pressing [Command + Shift + .] , Go to gradle folder and</p>\n"}],"owner":{"account_id":310904,"reputation":5983,"user_id":1004437,"accept_rate":67,"display_name":"sam_k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25394,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":8,"score":9,"last_activity_date":1638291286,"creation_date":1466843598,"question_id":38026562,"body_markdown":"I am trying to import this project, even I tried to import other few projects too, I am getting below error.\r\n\r\nhttps://github.com/ashdavies/data-binding\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have spent my 5 hours on it, even I tried many solutions on google but nothing gonna worked for me.\r\n\r\nI tried following solutions, nothing worked.\r\n\r\n    1) delete .gradle directory\r\n    2) Restart IDE, \r\n    3) I tested with com.android.tools.build:gradle-experimental:0.7.0-alpha1\r\n\r\nI am frustrated because of this Gradle and these issues.\r\n\r\n    Gradle Version : Gradle-2.13, I do not want to change this version.\r\n    Android Studio Version : Stable 2.1.1\r\n\r\n**Note : My other project is working fine and I can build it too.**\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XbHnz.png","title":"Android Gradle&#39;s dependency cache may be corrupt and gradle build not working","body":"<p>I am trying to import this project, even I tried to import other few projects too, I am getting below error.</p>\n\n<p><a href=\"https://github.com/ashdavies/data-binding\" rel=\"nofollow noreferrer\">https://github.com/ashdavies/data-binding</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/XbHnz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XbHnz.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have spent my 5 hours on it, even I tried many solutions on google but nothing gonna worked for me.</p>\n\n<p>I tried following solutions, nothing worked.</p>\n\n<pre><code>1) delete .gradle directory\n2) Restart IDE, \n3) I tested with com.android.tools.build:gradle-experimental:0.7.0-alpha1\n</code></pre>\n\n<p>I am frustrated because of this Gradle and these issues.</p>\n\n<pre><code>Gradle Version : Gradle-2.13, I do not want to change this version.\nAndroid Studio Version : Stable 2.1.1\n</code></pre>\n\n<p><strong>Note : My other project is working fine and I can build it too.</strong></p>\n"},{"tags":["java","spring","spring-boot","maven","maven-3"],"comments":[{"owner":{"account_id":11563193,"reputation":651,"user_id":8472310,"display_name":"chaitanya guruprasad"},"score":1,"creation_date":1638289908,"post_id":70171935,"comment_id":124046729,"body_markdown":"what do you mean when you say central repository?","body":"what do you mean when you say central repository?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638445435,"post_id":70171935,"comment_id":124092430,"body_markdown":"How does your settings.xml file look like? Please try to build from plain command line ...and check the output also post error messages etc. here..","body":"How does your settings.xml file look like? Please try to build from plain command line ...and check the output also post error messages etc. here.."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1656687028,"post_id":70171935,"comment_id":128640167,"body_markdown":"@SHIV1198 Did my post answer your question? If so, I surely would appreciate a check!","body":"@SHIV1198 Did my post answer your question? If so, I surely would appreciate a check!"}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638291284,"creation_date":1638291284,"answer_id":70173125,"question_id":70171935,"body_markdown":"It sounds like you listed your own repository in your POM or settings.xml, like so:\r\n\r\n```lang-xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;vaadin-addons&lt;/id&gt;\r\n\r\n        &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nDoing so, without also listing Maven Central, will cause Maven to only attempt to resolve from your own repository. You must also list Maven Central, like so:\r\n\r\n```lang-xml\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;vaadin-addons&lt;/id&gt;\r\n\r\n        &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n\r\n    &lt;repository&gt;\r\n        &lt;id&gt;central&lt;/id&gt;\r\n\r\n        &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nMaven checks repositories in the order they are specified. You cannot specify a repository per dependency, but you could create a new module with your dependencies and their specific repositories.","title":"How to make maven download dependencies from central repo. rather than downloading from remote company repo.?","body":"<p>It sounds like you listed your own repository in your POM or settings.xml, like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;vaadin-addons&lt;/id&gt;\n\n        &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>Doing so, without also listing Maven Central, will cause Maven to only attempt to resolve from your own repository. You must also list Maven Central, like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;vaadin-addons&lt;/id&gt;\n\n        &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n    &lt;/repository&gt;\n\n    &lt;repository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n\n        &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>Maven checks repositories in the order they are specified. You cannot specify a repository per dependency, but you could create a new module with your dependencies and their specific repositories.</p>\n"}],"owner":{"account_id":21605463,"reputation":67,"user_id":15932971,"display_name":"SHIV1198"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638291284,"creation_date":1638286427,"question_id":70171935,"body_markdown":"So I thought of creating a spring boot project but on my company laptop. I downloaded the project from spring initializer and tried to execute on IntelliJ idea but got this error:\r\n\r\n***&quot;java: package org.springframework.boot does not exist&quot;***\r\n\r\n***&quot;java: cannot find symbol\r\n      symbol: class SpringBootApplication&quot;***\r\n\r\nI ran maven clean and install cmds but still the same issue. Now I reckon this is happening bc maven is downloading dependencies from my remote company repository.\r\n\r\nI remember saving a custom setting.xml file in .m2 folder which contains a custom repository.\r\nSo if I am right how can I make maven download from the central repo or solve this problem?","title":"How to make maven download dependencies from central repo. rather than downloading from remote company repo.?","body":"<p>So I thought of creating a spring boot project but on my company laptop. I downloaded the project from spring initializer and tried to execute on IntelliJ idea but got this error:</p>\n<p><em><strong>&quot;java: package org.springframework.boot does not exist&quot;</strong></em></p>\n<p><em><strong>&quot;java: cannot find symbol\nsymbol: class SpringBootApplication&quot;</strong></em></p>\n<p>I ran maven clean and install cmds but still the same issue. Now I reckon this is happening bc maven is downloading dependencies from my remote company repository.</p>\n<p>I remember saving a custom setting.xml file in .m2 folder which contains a custom repository.\nSo if I am right how can I make maven download from the central repo or solve this problem?</p>\n"},{"tags":["java","directory","subdirectory"],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376836071,"creation_date":1376836071,"answer_id":18300115,"question_id":18300105,"body_markdown":"Use the `File` class, you can list the files that are inside it (if it is a folder/directory) and you can filter by the property that you want (`isDirectory()`)\r\n\r\nThen count the results.","title":"Number of subfolders in a folder directory","body":"<p>Use the <code>File</code> class, you can list the files that are inside it (if it is a folder/directory) and you can filter by the property that you want (<code>isDirectory()</code>)</p>\n\n<p>Then count the results.</p>\n"},{"tags":[],"owner":{"account_id":222406,"reputation":13699,"user_id":480975,"display_name":"lpiepiora"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1420446332,"creation_date":1376836333,"answer_id":18300155,"question_id":18300105,"body_markdown":"You can use `FileFilter` to list only directories:\r\n\r\n    File file = new File(&quot;/tmp&quot;);\r\n    File[] files = file.listFiles(new FileFilter() {\r\n        @Override\r\n        public boolean accept(File f) {\r\n            return f.isDirectory();\r\n        }\r\n    });\r\n    System.out.println(&quot;Folders count: &quot; + files.length);\r\n\r\nJava `File` class is an example of the [Composite Design Pattern][1], so you have to actually ask the instance if it&#39;s a file: `isFile()` or if it&#39;s a directory `isDirectory()`.\r\n\r\nIf you want to count directories, and you&#39;re using Java 8. [`Files.find`][2] function, can do the same thing in a more concise manner (practically one-liner):\r\n\r\n    long count = Files.find(\r\n        Paths.get(&quot;/tmp&quot;), \r\n        1,  // how deep do we want to descend\r\n        (path, attributes) -&gt; attributes.isDirectory()\r\n    ).count() - 1; // &#39;-1&#39; because &#39;/tmp&#39; is also counted in\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Composite_pattern\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-","title":"Number of subfolders in a folder directory","body":"<p>You can use <code>FileFilter</code> to list only directories:</p>\n\n<pre><code>File file = new File(\"/tmp\");\nFile[] files = file.listFiles(new FileFilter() {\n    @Override\n    public boolean accept(File f) {\n        return f.isDirectory();\n    }\n});\nSystem.out.println(\"Folders count: \" + files.length);\n</code></pre>\n\n<p>Java <code>File</code> class is an example of the <a href=\"http://en.wikipedia.org/wiki/Composite_pattern\" rel=\"noreferrer\">Composite Design Pattern</a>, so you have to actually ask the instance if it's a file: <code>isFile()</code> or if it's a directory <code>isDirectory()</code>.</p>\n\n<p>If you want to count directories, and you're using Java 8. <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\"><code>Files.find</code></a> function, can do the same thing in a more concise manner (practically one-liner):</p>\n\n<pre><code>long count = Files.find(\n    Paths.get(\"/tmp\"), \n    1,  // how deep do we want to descend\n    (path, attributes) -&gt; attributes.isDirectory()\n).count() - 1; // '-1' because '/tmp' is also counted in\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376836365,"creation_date":1376836365,"answer_id":18300157,"question_id":18300105,"body_markdown":"Try this:\r\n\r\n    File dir = new File(&quot;yourDirPath&quot;);\r\n    int numberOfSubfolders;\r\n    File listDir[] = dir.listFiles();\r\n    for (int i = 0; i &lt; listDir.length; i++) {\r\n    \tif (listDir[i].isDirectory()) {\r\n                numberOfSubfolders++;\r\n            }\r\n    }\r\n    System.out.println(&quot;No of dir &quot; + numberOfSubfolders);\r\n\r\n","title":"Number of subfolders in a folder directory","body":"<p>Try this:</p>\n\n<pre><code>File dir = new File(\"yourDirPath\");\nint numberOfSubfolders;\nFile listDir[] = dir.listFiles();\nfor (int i = 0; i &lt; listDir.length; i++) {\n    if (listDir[i].isDirectory()) {\n            numberOfSubfolders++;\n        }\n}\nSystem.out.println(\"No of dir \" + numberOfSubfolders);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23504844,"reputation":1,"user_id":17554271,"display_name":"Thomas Staley"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638291184,"creation_date":1638291184,"answer_id":70173102,"question_id":18300105,"body_markdown":"I just cringed so hard when I saw the for loop that has absolutely no use in the solution above. Just cut it out and do:\r\n\r\n\r\n    File dir = new File(&quot;yourDirPath&quot;);\r\n    File listDir[] = dir.listFiles();\r\n    int numberOfSubfolders = listDir.length;\r\n\r\n\r\nThis not only cuts the code in half, but the number of iterations is greatly reduced as you will run the for loop more as the number of directories increases. This only runs once.","title":"Number of subfolders in a folder directory","body":"<p>I just cringed so hard when I saw the for loop that has absolutely no use in the solution above. Just cut it out and do:</p>\n<pre><code>File dir = new File(&quot;yourDirPath&quot;);\nFile listDir[] = dir.listFiles();\nint numberOfSubfolders = listDir.length;\n</code></pre>\n<p>This not only cuts the code in half, but the number of iterations is greatly reduced as you will run the for loop more as the number of directories increases. This only runs once.</p>\n"}],"owner":{"account_id":2638004,"reputation":20160,"user_id":2431885,"accept_rate":95,"display_name":"Jean-Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11042,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":18300155,"answer_count":4,"score":4,"last_activity_date":1638291184,"creation_date":1376835970,"question_id":18300105,"body_markdown":"I have a folder which consists of both datafiles (`.txt` etc) and subfolders.\r\n\r\nIn Java, how would I accomplish getting the number of subfolders in any specified directory path?\r\n\r\n(so excluding the datafiles; only counting the subfolders)\r\n\r\nI have read about counting the number of `.txt` files but can&#39;t seem to find anything about counting subfolders only.\r\n\r\nI have no idea where to start but to give you an idea:\r\n\r\n    String directory = &quot;C:\\Users\\ . \\Desktop\\ . \\workspace\\src\\testfolder&quot;;\r\n    int numberOfSubfolders;\r\n\r\n    //what is numberOfSubfolders in testfolder?\r\n\r\nAll help appreciated. ","title":"Number of subfolders in a folder directory","body":"<p>I have a folder which consists of both datafiles (<code>.txt</code> etc) and subfolders.</p>\n\n<p>In Java, how would I accomplish getting the number of subfolders in any specified directory path?</p>\n\n<p>(so excluding the datafiles; only counting the subfolders)</p>\n\n<p>I have read about counting the number of <code>.txt</code> files but can't seem to find anything about counting subfolders only.</p>\n\n<p>I have no idea where to start but to give you an idea:</p>\n\n<pre><code>String directory = \"C:\\Users\\ . \\Desktop\\ . \\workspace\\src\\testfolder\";\nint numberOfSubfolders;\n\n//what is numberOfSubfolders in testfolder?\n</code></pre>\n\n<p>All help appreciated. </p>\n"},{"tags":["java","nio","file-rename"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":1,"creation_date":1638290006,"post_id":70172602,"comment_id":124046777,"body_markdown":"Is there an Exception thrown inside your `finally` block ?","body":"Is there an Exception thrown inside your <code>finally</code> block ?"},{"owner":{"account_id":18583853,"reputation":63,"user_id":13542748,"display_name":"Syramid"},"score":0,"creation_date":1638290038,"post_id":70172602,"comment_id":124046791,"body_markdown":"@VadymVL When I open the project file, I can see both the text files there, one is &quot;tempa.txt&quot;, the file with the deleted row; and the other file is the old file &quot;VaccineSupply.txt&quot; which still retains all the previous data.","body":"@VadymVL When I open the project file, I can see both the text files there, one is &quot;tempa.txt&quot;, the file with the deleted row; and the other file is the old file &quot;VaccineSupply.txt&quot; which still retains all the previous data."},{"owner":{"account_id":18583853,"reputation":63,"user_id":13542748,"display_name":"Syramid"},"score":0,"creation_date":1638290174,"post_id":70172602,"comment_id":124046843,"body_markdown":"@vincrichaud Unfortunately, no :(","body":"@vincrichaud Unfortunately, no :("}],"owner":{"account_id":18583853,"reputation":63,"user_id":13542748,"display_name":"Syramid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638291053,"creation_date":1638289124,"question_id":70172602,"body_markdown":"I am trying to rename the text file &quot;tempa.txt&quot; to &quot;VaccineSupply.txt&quot; using renameTo() at first, but failed, did some shallow research and adopted the method File.move(), it has failed renaming the file too. Below is the code I am trying to implement, it&#39;s a method used to delete a row in a text file.\r\n\r\n    public boolean DelVacSupply(int Target) throws IOException\r\n    {\r\n        boolean success = false;\r\n        File F = new File(&quot;VaccineSupply.txt&quot;);\r\n        FileReader fr = new FileReader(F);\r\n        BufferedReader br = new BufferedReader(fr);\r\n        File Ftc1 = new File(&quot;Tempa.txt&quot;);\r\n        PrintWriter pr = new PrintWriter(Ftc1);\r\n        String abc = Integer.toString(Target);\r\n        try\r\n        {\r\n            String line = br.readLine();\r\n            while (line!=null)\r\n            {\r\n                String[] wordsinLine = line.split(&quot;,&quot;); \r\n                if (wordsinLine[0].equals(abc))\r\n                {\r\n                    success = true;\r\n                }\r\n                else\r\n                {\r\n                    pr.println(line);\r\n                }\r\n\r\n                line = br.readLine();\r\n            }\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        finally\r\n        {\r\n            pr.flush();\r\n            br.close();\r\n            pr.close();\r\n            fr.close();\r\n            Path source = Paths.get(&quot;Tempa.txt&quot;);\r\n            Files.move(source, source.resolveSibling(&quot;VaccineSupply.txt&quot;),\r\n            StandardCopyOption.REPLACE_EXISTING);\r\n            /*File dump = new File(&quot;VaccineSupply.txt&quot;);\r\n            F.delete();\r\n            Ftc1.renameTo(dump);*/\r\n        }\r\n        return success;\r\n        \r\n    }\r\n\r\nThe file &quot;tempa.txt&quot; is always there and has not been renamed to &quot;VaccineSupply.txt&quot;, the old file &quot;VaccineSupply.txt&quot; is not deleted. It sometimes work but that is a very rare occasion, please help me, thank you.\r\n\r\n*I am using Windows 10*","title":"Both renameTo() and File.move() methods are not renaming the file","body":"<p>I am trying to rename the text file &quot;tempa.txt&quot; to &quot;VaccineSupply.txt&quot; using renameTo() at first, but failed, did some shallow research and adopted the method File.move(), it has failed renaming the file too. Below is the code I am trying to implement, it's a method used to delete a row in a text file.</p>\n<pre><code>public boolean DelVacSupply(int Target) throws IOException\n{\n    boolean success = false;\n    File F = new File(&quot;VaccineSupply.txt&quot;);\n    FileReader fr = new FileReader(F);\n    BufferedReader br = new BufferedReader(fr);\n    File Ftc1 = new File(&quot;Tempa.txt&quot;);\n    PrintWriter pr = new PrintWriter(Ftc1);\n    String abc = Integer.toString(Target);\n    try\n    {\n        String line = br.readLine();\n        while (line!=null)\n        {\n            String[] wordsinLine = line.split(&quot;,&quot;); \n            if (wordsinLine[0].equals(abc))\n            {\n                success = true;\n            }\n            else\n            {\n                pr.println(line);\n            }\n\n            line = br.readLine();\n        }\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n    finally\n    {\n        pr.flush();\n        br.close();\n        pr.close();\n        fr.close();\n        Path source = Paths.get(&quot;Tempa.txt&quot;);\n        Files.move(source, source.resolveSibling(&quot;VaccineSupply.txt&quot;),\n        StandardCopyOption.REPLACE_EXISTING);\n        /*File dump = new File(&quot;VaccineSupply.txt&quot;);\n        F.delete();\n        Ftc1.renameTo(dump);*/\n    }\n    return success;\n    \n}\n</code></pre>\n<p>The file &quot;tempa.txt&quot; is always there and has not been renamed to &quot;VaccineSupply.txt&quot;, the old file &quot;VaccineSupply.txt&quot; is not deleted. It sometimes work but that is a very rare occasion, please help me, thank you.</p>\n<p><em>I am using Windows 10</em></p>\n"},{"tags":["java","kotlin","exception","junit5","junit5-extension-model"],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638290914,"creation_date":1638290914,"answer_id":70173038,"question_id":70143601,"body_markdown":"Looking at [how LifecycleMethodExecutionExceptionHandler.handleBeforeAllMethodExecutionException() is invoked](https://sourcegraph.com/github.com/junit-team/junit5/-/blob/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/descriptor/ClassBasedTestDescriptor.java?L411) in the JUnit source code confirms your understanding: it is not possible to handle an exception thrown by an extension in another extension. When an exception is thrown from an extension method it is propagated all the way up the call stack and terminates test execution.","title":"Catching exception thrown by Junit5 extension, can it be done?","body":"<p>Looking at <a href=\"https://sourcegraph.com/github.com/junit-team/junit5/-/blob/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/descriptor/ClassBasedTestDescriptor.java?L411\" rel=\"nofollow noreferrer\">how LifecycleMethodExecutionExceptionHandler.handleBeforeAllMethodExecutionException() is invoked</a> in the JUnit source code confirms your understanding: it is not possible to handle an exception thrown by an extension in another extension. When an exception is thrown from an extension method it is propagated all the way up the call stack and terminates test execution.</p>\n"}],"owner":{"account_id":15364127,"reputation":21,"user_id":11084157,"display_name":"Bartek Tofel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638290914,"creation_date":1638104023,"question_id":70143601,"body_markdown":"Background:\r\nI have two extensions. One that creates some required test data before any test starts and another one that saves unique identifiers of all failed tests, so that they can be retried later. I&#39;ve noticed that if the first extension throws an exception the second one is never executed even though it implements lifecycle exception handlers.\r\n\r\nAfter investigating it a bit more to see if both extensions are registered and whether they are registered incorrect order I concluded that it might not be possible to catch exceptions thrown in one extension using another extension and that extensions can only catch exceptions thrown from the test classes. But is it so? I couldn&#39;t find any definite information in the Junit5 user guide.\r\n\r\nBelow is a small code sample in Kotlin that demonstrates what I mean.\r\n\r\nExtensions:\r\n```\r\nclass ExceptionThrowingExtension: BeforeAllCallback, LifecycleMethodExecutionExceptionHandler {\r\n\r\n    @Throws(Throwable::class)\r\n    override fun handleBeforeAllMethodExecutionException(context: ExtensionContext, throwable: Throwable) {\r\n        println(&quot;[ExceptionThrowingExtension] handleBeforeAllMethodExecutionException&quot;)\r\n        throw throwable\r\n    }\r\n\r\n    override fun beforeAll(context: ExtensionContext) {\r\n        println(&quot;[ExceptionThrowingExtension] beforeAll&quot;)\r\n        throw RuntimeException(&quot;test&quot;)\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass ExceptionCatchingExtension: LifecycleMethodExecutionExceptionHandler {\r\n\r\n    @Throws(Throwable::class)\r\n    override fun handleBeforeAllMethodExecutionException(context: ExtensionContext, throwable: Throwable) {\r\n        println(&quot;[ExceptionCatchingExtension] handleBeforeAllMethodExecutionException&quot;)\r\n        throw throwable\r\n    }\r\n}\r\n```\r\n\r\nTest class:\r\n```\r\n@ExtendWith(ExceptionCatchingExtension::class, ExceptionThrowingExtension::class)\r\nclass ExampleTest {\r\n    @Test\r\n    @Tag(&quot;debug&quot;)\r\n    fun MyTest() {\r\n        println(&quot;test&quot;)\r\n    }\r\n}\r\n```\r\n\r\nMy hope was that I&#39;d see `handleBeforeAllMethodExecutionException` executed in at least one extension, but all got was:\r\n```[INFO] --- maven-surefire-plugin:3.0.0-M4:test (default-test) @ sample-project ---\r\n[INFO]\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running com.me.ExampleTest\r\n[ExceptionThrowingExtension] beforeAll\r\n```\r\n\r\nAm I missing something or it&#39;s not possible to catch exceptions thrown from extension either from that very extension or from another one?","title":"Catching exception thrown by Junit5 extension, can it be done?","body":"<p>Background:\nI have two extensions. One that creates some required test data before any test starts and another one that saves unique identifiers of all failed tests, so that they can be retried later. I've noticed that if the first extension throws an exception the second one is never executed even though it implements lifecycle exception handlers.</p>\n<p>After investigating it a bit more to see if both extensions are registered and whether they are registered incorrect order I concluded that it might not be possible to catch exceptions thrown in one extension using another extension and that extensions can only catch exceptions thrown from the test classes. But is it so? I couldn't find any definite information in the Junit5 user guide.</p>\n<p>Below is a small code sample in Kotlin that demonstrates what I mean.</p>\n<p>Extensions:</p>\n<pre><code>class ExceptionThrowingExtension: BeforeAllCallback, LifecycleMethodExecutionExceptionHandler {\n\n    @Throws(Throwable::class)\n    override fun handleBeforeAllMethodExecutionException(context: ExtensionContext, throwable: Throwable) {\n        println(&quot;[ExceptionThrowingExtension] handleBeforeAllMethodExecutionException&quot;)\n        throw throwable\n    }\n\n    override fun beforeAll(context: ExtensionContext) {\n        println(&quot;[ExceptionThrowingExtension] beforeAll&quot;)\n        throw RuntimeException(&quot;test&quot;)\n    }\n}\n</code></pre>\n<pre><code>class ExceptionCatchingExtension: LifecycleMethodExecutionExceptionHandler {\n\n    @Throws(Throwable::class)\n    override fun handleBeforeAllMethodExecutionException(context: ExtensionContext, throwable: Throwable) {\n        println(&quot;[ExceptionCatchingExtension] handleBeforeAllMethodExecutionException&quot;)\n        throw throwable\n    }\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>@ExtendWith(ExceptionCatchingExtension::class, ExceptionThrowingExtension::class)\nclass ExampleTest {\n    @Test\n    @Tag(&quot;debug&quot;)\n    fun MyTest() {\n        println(&quot;test&quot;)\n    }\n}\n</code></pre>\n<p>My hope was that I'd see <code>handleBeforeAllMethodExecutionException</code> executed in at least one extension, but all got was:</p>\n<pre><code>[INFO]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running com.me.ExampleTest\n[ExceptionThrowingExtension] beforeAll\n</code></pre>\n<p>Am I missing something or it's not possible to catch exceptions thrown from extension either from that very extension or from another one?</p>\n"},{"tags":["java","maven","sonarqube","code-coverage","jacoco"],"answers":[{"tags":[],"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1586974348,"creation_date":1586974036,"answer_id":61235607,"question_id":61235045,"body_markdown":"Quick answer\r\n------------\r\nReplace `mvn test` with `mvn verify`. No explicit settings declaration required.\r\n\r\n\r\n\r\nMy investigation process\r\n------------\r\nI&#39;ve tried to execute the builds with the explicit setting values default settings.\r\n\r\n**1)** Explicit default value of the deprecated setting: `-Dsonar.jacoco.reportPaths=target/jacoco.exec`.\r\n\r\nThis results in the following log, indicating that this setting won&#39;t work anymore for the new Sonar:\r\n```\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=57ms\r\n[INFO] Sensor SurefireSensor [java]\r\n[INFO] parsing [/builds/myProject/target/surefire-reports]\r\n[INFO] Sensor SurefireSensor [java] (done) | time=23ms\r\n[INFO] Sensor Removed properties sensor [java]\r\n[WARNING] Property &#39;sonar.jacoco.reportPaths&#39; is no longer supported. Use JaCoCo&#39;s xml report and sonar-jacoco plugin.\r\n[INFO] Sensor Removed properties sensor [java] (done) | time=1ms\r\n```\r\nObviously, the coverage stays at `0.0%`.\r\n\r\nSee also a SO related Ant question on this topic: https://stackoverflow.com/questions/59527088/display-sonar-code-coverage-with-jacoco-exec-file-in-sonar-lts-7-9-2.\r\n\r\n**2)** Explicit default value of the new setting: `-Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml`\r\n\r\n**Note:** although this default value is not (by some reason) documented on https://docs.sonarqube.org/pages/viewpage.action?pageId=1442166, I&#39;ve just found it by searching for `jacoco.xml` in my local `target` directory.\r\n\r\nCoverage stayed at `0.0%`, and the GitLab CI job log started to finally show something clear:\r\n```\r\n[INFO] Sensor SonarCSS Rules [cssfamily] (done) | time=1ms\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco]\r\n[WARNING] Report doesn&#39;t exist: &#39;/builds/myProject/target/site/jacoco/jacoco.xml&#39;\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=4ms\r\n[INFO] Sensor SurefireSensor [java]\r\n```\r\n\r\n**!** It is a pity that this log is not written when running without the explicit settings. It will simplify the investigation a lot.\r\n\r\nSo now we have an understanding: `/target/site` is not generated on my GitLab CI pipeline. Obviously, this is because the script contains only `mvn test`, which does not get far enough through the [Maven Build Lifecycle][1].\r\n\r\nLooking into Maven + Sonar examples: they contain `mvn verify sonar:sonar` or `mvn install sonar:sonar`.\r\n\r\nTherefore here we go:\r\n\r\n**3)** `mvn verify` + explicit default value of the new setting: `-Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml`\r\n\r\nThis worked! Coverage is shown on SonarQube and no errors present in the JaCoCo-related log part:\r\n```\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco]\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=94ms\r\n[INFO] Sensor SurefireSensor [java]\r\n[INFO] parsing [/builds/myProject/target/surefire-reports]\r\n[INFO] Sensor SurefireSensor [java] (done) | time=92ms\r\n[INFO] Sensor JavaXmlSensor [java]\r\n[INFO] Sensor JavaXmlSensor [java] (done) | time=7ms\r\n```\r\n\r\n**4)** `mvn verify` without explicit setting.\r\n\r\nSo finally I tried without any settings values, and it works:\r\n```\r\n  - mvn verify sonar:sonar -Dsonar.host.url=${SONAR_HOST_URL} -Dsonar.login=${SONAR_TOKEN}\r\n```\r\n\r\nSummary\r\n------------\r\n\r\n - Old `sonar.jacoco.reportPaths` setting does not work on new SonarQube versions (7.9.2+). \r\n - Default value of new `sonar.coverage.jacoco.xmlReportPaths` setting is `target/site/jacoco/jacoco.xml`.\r\n - The root cause was that `/target/site/jacoco` directory was not generated (including `jacoco.xml` and all other files of the JaCoCo report)\r\n - All I have to do is to replace `mvn test` with `mvn verify`.\r\n - Main Sonar pitfall is not writing an error log about &quot;report file not found&quot; when the value of `sonar.coverage.jacoco.xmlReportPaths` is not explicitly set. It would be good for SonarQube developers to fix it.\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"SonarQube + Maven + JaCoCo + GitLab CI: Sonar started to show 0% code coverage after upgrading to SonarQube 7.9.2","body":"<h2>Quick answer</h2>\n\n<p>Replace <code>mvn test</code> with <code>mvn verify</code>. No explicit settings declaration required.</p>\n\n<h2>My investigation process</h2>\n\n<p>I've tried to execute the builds with the explicit setting values default settings.</p>\n\n<p><strong>1)</strong> Explicit default value of the deprecated setting: <code>-Dsonar.jacoco.reportPaths=target/jacoco.exec</code>.</p>\n\n<p>This results in the following log, indicating that this setting won't work anymore for the new Sonar:</p>\n\n<pre><code>[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=57ms\n[INFO] Sensor SurefireSensor [java]\n[INFO] parsing [/builds/myProject/target/surefire-reports]\n[INFO] Sensor SurefireSensor [java] (done) | time=23ms\n[INFO] Sensor Removed properties sensor [java]\n[WARNING] Property 'sonar.jacoco.reportPaths' is no longer supported. Use JaCoCo's xml report and sonar-jacoco plugin.\n[INFO] Sensor Removed properties sensor [java] (done) | time=1ms\n</code></pre>\n\n<p>Obviously, the coverage stays at <code>0.0%</code>.</p>\n\n<p>See also a SO related Ant question on this topic: <a href=\"https://stackoverflow.com/questions/59527088/display-sonar-code-coverage-with-jacoco-exec-file-in-sonar-lts-7-9-2\">Display Sonar Code Coverage with jacoco.exec file in Sonar LTS 7.9.2</a>.</p>\n\n<p><strong>2)</strong> Explicit default value of the new setting: <code>-Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml</code></p>\n\n<p><strong>Note:</strong> although this default value is not (by some reason) documented on <a href=\"https://docs.sonarqube.org/pages/viewpage.action?pageId=1442166\" rel=\"noreferrer\">https://docs.sonarqube.org/pages/viewpage.action?pageId=1442166</a>, I've just found it by searching for <code>jacoco.xml</code> in my local <code>target</code> directory.</p>\n\n<p>Coverage stayed at <code>0.0%</code>, and the GitLab CI job log started to finally show something clear:</p>\n\n<pre><code>[INFO] Sensor SonarCSS Rules [cssfamily] (done) | time=1ms\n[INFO] Sensor JaCoCo XML Report Importer [jacoco]\n[WARNING] Report doesn't exist: '/builds/myProject/target/site/jacoco/jacoco.xml'\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=4ms\n[INFO] Sensor SurefireSensor [java]\n</code></pre>\n\n<p><strong>!</strong> It is a pity that this log is not written when running without the explicit settings. It will simplify the investigation a lot.</p>\n\n<p>So now we have an understanding: <code>/target/site</code> is not generated on my GitLab CI pipeline. Obviously, this is because the script contains only <code>mvn test</code>, which does not get far enough through the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">Maven Build Lifecycle</a>.</p>\n\n<p>Looking into Maven + Sonar examples: they contain <code>mvn verify sonar:sonar</code> or <code>mvn install sonar:sonar</code>.</p>\n\n<p>Therefore here we go:</p>\n\n<p><strong>3)</strong> <code>mvn verify</code> + explicit default value of the new setting: <code>-Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml</code></p>\n\n<p>This worked! Coverage is shown on SonarQube and no errors present in the JaCoCo-related log part:</p>\n\n<pre><code>[INFO] Sensor JaCoCo XML Report Importer [jacoco]\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=94ms\n[INFO] Sensor SurefireSensor [java]\n[INFO] parsing [/builds/myProject/target/surefire-reports]\n[INFO] Sensor SurefireSensor [java] (done) | time=92ms\n[INFO] Sensor JavaXmlSensor [java]\n[INFO] Sensor JavaXmlSensor [java] (done) | time=7ms\n</code></pre>\n\n<p><strong>4)</strong> <code>mvn verify</code> without explicit setting.</p>\n\n<p>So finally I tried without any settings values, and it works:</p>\n\n<pre><code>  - mvn verify sonar:sonar -Dsonar.host.url=${SONAR_HOST_URL} -Dsonar.login=${SONAR_TOKEN}\n</code></pre>\n\n<h2>Summary</h2>\n\n<ul>\n<li>Old <code>sonar.jacoco.reportPaths</code> setting does not work on new SonarQube versions (7.9.2+). </li>\n<li>Default value of new <code>sonar.coverage.jacoco.xmlReportPaths</code> setting is <code>target/site/jacoco/jacoco.xml</code>.</li>\n<li>The root cause was that <code>/target/site/jacoco</code> directory was not generated (including <code>jacoco.xml</code> and all other files of the JaCoCo report)</li>\n<li>All I have to do is to replace <code>mvn test</code> with <code>mvn verify</code>.</li>\n<li>Main Sonar pitfall is not writing an error log about \"report file not found\" when the value of <code>sonar.coverage.jacoco.xmlReportPaths</code> is not explicitly set. It would be good for SonarQube developers to fix it.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13417640,"reputation":35,"user_id":9681560,"display_name":"sathiya raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638290258,"creation_date":1638290084,"answer_id":70172831,"question_id":61235045,"body_markdown":"Kindly use the following\r\n\r\n    mvn clean verify sonar:sonar -Dsonar.host.url=${SONAR_HOST_URL} -Dsonar.login=${SONAR_TOKEN}","title":"SonarQube + Maven + JaCoCo + GitLab CI: Sonar started to show 0% code coverage after upgrading to SonarQube 7.9.2","body":"<p>Kindly use the following</p>\n<pre><code>mvn clean verify sonar:sonar -Dsonar.host.url=${SONAR_HOST_URL} -Dsonar.login=${SONAR_TOKEN}\n</code></pre>\n"}],"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61235607,"answer_count":2,"score":1,"last_activity_date":1638290258,"creation_date":1586972199,"question_id":61235045,"body_markdown":"After we upgraded our SonarQube to `Version 7.9.2 (build 30863), Community Edition`, running the GitLab CI Pipeline results in showing `0.0%` coverage (dropping from about `86.2%`), although Sonar is showing all unit tests.\r\n\r\nMaven build executed in `.gitlab-ci.yml` looks like this:\r\n```\r\n    - mvn test sonar:sonar -Dsonar.host.url=${SONAR_HOST_URL} -Dsonar.login=${SONAR_TOKEN}\r\n```\r\n\r\nObviosuly this has something to deal with notorious `sonar.coverage.jacoco.xmlReportPaths` and `sonar.jacoco.reportPaths` Sonar-JaCoCo plugin settings (see https://docs.sonarqube.org/pages/viewpage.action?pageId=1442166).\r\n\r\nAfter looking into the pipeline jobs logs, I found the following (project name obfuscated to `myProject`):\r\n\r\n**Before SonarQube upgrade:**\r\n```\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco]\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=3ms\r\n[INFO] Sensor SurefireSensor [java]\r\n[INFO] parsing [/builds/myProject/target/surefire-reports]\r\n[INFO] Sensor SurefireSensor [java] (done) | time=87ms\r\n[INFO] Sensor JaCoCoSensor [java]\r\n[WARNING] Property &#39;sonar.jacoco.reportPaths&#39; is deprecated (JaCoCo binary format). &#39;sonar.coverage.jacoco.xmlReportPaths&#39; should be used instead (JaCoCo XML format). Please check that the JaCoCo plugin is installed on your SonarQube Instance.\r\n[INFO] Analysing /builds/myProject/target/jacoco.exec\r\n[INFO] Sensor JaCoCoSensor [java] (done) | time=206ms\r\n```\r\n\r\n**After SonarQube upgrade:**\r\n```\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco]\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=3ms\r\n[INFO] Sensor SurefireSensor [java]\r\n[INFO] parsing [/builds/myProject/target/surefire-reports]\r\n[INFO] Sensor SurefireSensor [java] (done) | time=86ms\r\n[INFO] Sensor JavaXmlSensor [java]\r\n[INFO] 1 source files to be analyzed\r\n[INFO] Sensor JavaXmlSensor [java] (done) | time=302ms\r\n```\r\n\r\nTherefore the are obviously some differences in regards to `sonar.jacoco.reportPaths` setting.\r\nNotably, I don&#39;t explicitly set any of the two settings.\r\n\r\nHow to fix parsing of the JaCoCo report so that it works (regardless with old or new setting)?","title":"SonarQube + Maven + JaCoCo + GitLab CI: Sonar started to show 0% code coverage after upgrading to SonarQube 7.9.2","body":"<p>After we upgraded our SonarQube to <code>Version 7.9.2 (build 30863), Community Edition</code>, running the GitLab CI Pipeline results in showing <code>0.0%</code> coverage (dropping from about <code>86.2%</code>), although Sonar is showing all unit tests.</p>\n\n<p>Maven build executed in <code>.gitlab-ci.yml</code> looks like this:</p>\n\n<pre><code>    - mvn test sonar:sonar -Dsonar.host.url=${SONAR_HOST_URL} -Dsonar.login=${SONAR_TOKEN}\n</code></pre>\n\n<p>Obviosuly this has something to deal with notorious <code>sonar.coverage.jacoco.xmlReportPaths</code> and <code>sonar.jacoco.reportPaths</code> Sonar-JaCoCo plugin settings (see <a href=\"https://docs.sonarqube.org/pages/viewpage.action?pageId=1442166\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/pages/viewpage.action?pageId=1442166</a>).</p>\n\n<p>After looking into the pipeline jobs logs, I found the following (project name obfuscated to <code>myProject</code>):</p>\n\n<p><strong>Before SonarQube upgrade:</strong></p>\n\n<pre><code>[INFO] Sensor JaCoCo XML Report Importer [jacoco]\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=3ms\n[INFO] Sensor SurefireSensor [java]\n[INFO] parsing [/builds/myProject/target/surefire-reports]\n[INFO] Sensor SurefireSensor [java] (done) | time=87ms\n[INFO] Sensor JaCoCoSensor [java]\n[WARNING] Property 'sonar.jacoco.reportPaths' is deprecated (JaCoCo binary format). 'sonar.coverage.jacoco.xmlReportPaths' should be used instead (JaCoCo XML format). Please check that the JaCoCo plugin is installed on your SonarQube Instance.\n[INFO] Analysing /builds/myProject/target/jacoco.exec\n[INFO] Sensor JaCoCoSensor [java] (done) | time=206ms\n</code></pre>\n\n<p><strong>After SonarQube upgrade:</strong></p>\n\n<pre><code>[INFO] Sensor JaCoCo XML Report Importer [jacoco]\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=3ms\n[INFO] Sensor SurefireSensor [java]\n[INFO] parsing [/builds/myProject/target/surefire-reports]\n[INFO] Sensor SurefireSensor [java] (done) | time=86ms\n[INFO] Sensor JavaXmlSensor [java]\n[INFO] 1 source files to be analyzed\n[INFO] Sensor JavaXmlSensor [java] (done) | time=302ms\n</code></pre>\n\n<p>Therefore the are obviously some differences in regards to <code>sonar.jacoco.reportPaths</code> setting.\nNotably, I don't explicitly set any of the two settings.</p>\n\n<p>How to fix parsing of the JaCoCo report so that it works (regardless with old or new setting)?</p>\n"},{"tags":["java","excel","memory-leaks","apache-poi"],"comments":[{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1459759169,"post_id":36389920,"comment_id":60412560,"body_markdown":"It could be one very big file that causes an OOM based on the memory settings that you define for you java process. Can you try to run only with the one file where the OOM happens and see if this one alone already triggers the OOM?","body":"It could be one very big file that causes an OOM based on the memory settings that you define for you java process. Can you try to run only with the one file where the OOM happens and see if this one alone already triggers the OOM?"},{"owner":{"account_id":3981485,"reputation":975,"user_id":3283276,"accept_rate":100,"display_name":"MichaD"},"score":0,"creation_date":1459765585,"post_id":36389920,"comment_id":60416829,"body_markdown":"Yes, it is one big file (42mb) and whiteout this file it is working :-) thank you.","body":"Yes, it is one big file (42mb) and whiteout this file it is working :-) thank you."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1459711294,"creation_date":1459710965,"answer_id":36389962,"question_id":36389920,"body_markdown":"In the case of an exception in your first try block, you return, so you wouldn&#39;t close the workbook.\n\nPut the close in a `finally` block.\n\n    Workbook workbook = null;\n    try {\n      workbook = new XSSFWorkbook(file); //line 18\n\n      // later would be here the code to analyze the workbook\n    } catch (Exception e1) {\n      e1.printStackTrace(); return;\n    }  finally {\n      if (workbook != null) workbook.close();\n    }\n\nOr, better, use try-with-resources.\n\n    try (XSSFWorkbook workbook = new XSSFWorkbook(file) {\n      // later would be here the code to analyze\n    } catch (Exception e1) {\n      e1.printStackTrace();\n    }\n    // No need for explicit close.","title":"Java Apache-poi, memory leak with excel files","body":"<p>In the case of an exception in your first try block, you return, so you wouldn't close the workbook.</p>\n\n<p>Put the close in a <code>finally</code> block.</p>\n\n<pre><code>Workbook workbook = null;\ntry {\n  workbook = new XSSFWorkbook(file); //line 18\n\n  // later would be here the code to analyze the workbook\n} catch (Exception e1) {\n  e1.printStackTrace(); return;\n}  finally {\n  if (workbook != null) workbook.close();\n}\n</code></pre>\n\n<p>Or, better, use try-with-resources.</p>\n\n<pre><code>try (XSSFWorkbook workbook = new XSSFWorkbook(file) {\n  // later would be here the code to analyze\n} catch (Exception e1) {\n  e1.printStackTrace();\n}\n// No need for explicit close.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2257141,"reputation":2906,"user_id":1988097,"accept_rate":53,"display_name":"Darius X."},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1638290253,"creation_date":1459972789,"answer_id":36461196,"question_id":36389920,"body_markdown":"Typically, POI has the whole workbook in memory. So, a large workbook requires a different approach. \r\n\r\nWhile *writing*, one can use [SXSSF][1] and most calls are the same, except that only a certain number of rows are in memory. \r\n\r\nIn your case, you are *reading*. For this you can use their &quot;event driven&quot; API. The basic idea here is that you do not get the workbook as one huge object. Instead, you get it piecemeal, as it is read, and you can save off as much as you wish into your own data-structure. Or, you can simply process it as you read it and not save very much.\r\n\r\nSince this is a lower-level API (driven by the structure of the data being read), there is one approach for XLS and a different approach for XLSX. Look at the POI [&quot;How To&quot; page][2], and find the section titled &quot;XSSF and SAX (Event API)&quot;. \r\n\r\nThat example demonstrates how to detect the value of each cell as it is read in.\r\n(You&#39;ll need the xercesImpl.jar on your library path.)\r\n\r\n\r\n  [1]: http://poi.apache.org/components/spreadsheet/how-to.html#sxssf\r\n  [2]: http://poi.apache.org/spreadsheet/how-to.html#xssf_sax_api","title":"Java Apache-poi, memory leak with excel files","body":"<p>Typically, POI has the whole workbook in memory. So, a large workbook requires a different approach.</p>\n<p>While <em>writing</em>, one can use <a href=\"http://poi.apache.org/components/spreadsheet/how-to.html#sxssf\" rel=\"nofollow noreferrer\">SXSSF</a> and most calls are the same, except that only a certain number of rows are in memory.</p>\n<p>In your case, you are <em>reading</em>. For this you can use their &quot;event driven&quot; API. The basic idea here is that you do not get the workbook as one huge object. Instead, you get it piecemeal, as it is read, and you can save off as much as you wish into your own data-structure. Or, you can simply process it as you read it and not save very much.</p>\n<p>Since this is a lower-level API (driven by the structure of the data being read), there is one approach for XLS and a different approach for XLSX. Look at the POI <a href=\"http://poi.apache.org/spreadsheet/how-to.html#xssf_sax_api\" rel=\"nofollow noreferrer\">&quot;How To&quot; page</a>, and find the section titled &quot;XSSF and SAX (Event API)&quot;.</p>\n<p>That example demonstrates how to detect the value of each cell as it is read in.\n(You'll need the xercesImpl.jar on your library path.)</p>\n"}],"owner":{"account_id":3981485,"reputation":975,"user_id":3283276,"accept_rate":100,"display_name":"MichaD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15205,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36461196,"answer_count":2,"score":4,"last_activity_date":1638290253,"creation_date":1459710704,"question_id":36389920,"body_markdown":"I need to read (15000) excel files for my thesis. I&#39;m using apache poi to open and later to analyze them but after around 5000 files I&#39;m getting the following exception and stacktrace:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n    at org.apache.xmlbeans.impl.store.Cur$CurLoadContext.attr(Cur.java:3044)\r\n    at org.apache.xmlbeans.impl.store.Cur$CurLoadContext.attr(Cur.java:3065)\r\n    at org.apache.xmlbeans.impl.store.Locale$SaxHandler.startElement(Locale.java:3263)\r\n    at org.apache.xmlbeans.impl.piccolo.xml.Piccolo.reportStartTag(Piccolo.java:1082)\r\n    at org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.parseAttributesNS(PiccoloLexer.java:1822)\r\n    at org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.parseOpenTagNS(PiccoloLexer.java:1521)\r\n    at org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.parseTagNS(PiccoloLexer.java:1362)\r\n    at org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.yylex(PiccoloLexer.java:4682)\r\n    at org.apache.xmlbeans.impl.piccolo.xml.Piccolo.yylex(Piccolo.java:1290)\r\n    at org.apache.xmlbeans.impl.piccolo.xml.Piccolo.yyparse(Piccolo.java:1400)\r\n    at org.apache.xmlbeans.impl.piccolo.xml.Piccolo.parse(Piccolo.java:714)\r\n    at org.apache.xmlbeans.impl.store.Locale$SaxLoader.load(Locale.java:3479)\r\n    at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1277)\r\n    at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1264)\r\n    at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderBase.parse(SchemaTypeLoaderBase.java:345)\r\n    at org.apache.poi.POIXMLTypeLoader.parse(POIXMLTypeLoader.java:92)\r\n    at org.openxmlformats.schemas.spreadsheetml.x2006.main.WorksheetDocument$Factory.parse(Unknown Source)\r\n    at org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:173)\r\n    at org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:165)\r\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.parseSheet(XSSFWorkbook.java:417)\r\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:382)\r\n    at org.apache.poi.POIXMLDocument.load(POIXMLDocument.java:178)\r\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:249)\r\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:302)\r\n    at de.spreadsheet_realtions.analysis.WorkbookAnalysis.analyze(WorkbookAnalysis.java:18)\r\n\r\n**Code** (at the moment just open the file and close the file):\r\n\r\n    public static void main(String[] args) {\r\n        start();\r\n    }\r\n\r\n    public void start(){\r\n\t\tFile[] files = getAllFiles(Config.folder);\r\n\t\tZipSecureFile.setMinInflateRatio(0.00);\r\n\t\tfor(File f: files){\r\n\t\t\tanalyze(f);\r\n\t\t}\r\n\t}\r\n\r\n    public void analyze(File file){\r\n        Workbook  workbook = null;\r\n\t\ttry {\r\n\t\t\tworkbook = new XSSFWorkbook(file); //line 18\r\n\t\t} catch (Exception e1) {e1.printStackTrace(); return;}\r\n    //\t\tlater would be here the code to analyze the workbook\r\n\t\ttry {\r\n\t\t\tworkbook.close();\r\n\t\t} catch (Exception e) {e.printStackTrace();}\r\n    }\r\nI tried also with OPCPackage.open(file) and I got the same result.\r\n\r\nWhat I&#39;m doing wrong or what can I do to solve this problem? Thanks for any help.\r\n\r\n-----\r\nEDIT:\r\nThe same for the code below.\r\n\r\n    try (XSSFWorkbook workbook = new XSSFWorkbook(file)){\r\n    } catch (Exception e1) {e1.printStackTrace(); return;}","title":"Java Apache-poi, memory leak with excel files","body":"<p>I need to read (15000) excel files for my thesis. I'm using apache poi to open and later to analyze them but after around 5000 files I'm getting the following exception and stacktrace:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: GC overhead limit exceeded\nat org.apache.xmlbeans.impl.store.Cur$CurLoadContext.attr(Cur.java:3044)\nat org.apache.xmlbeans.impl.store.Cur$CurLoadContext.attr(Cur.java:3065)\nat org.apache.xmlbeans.impl.store.Locale$SaxHandler.startElement(Locale.java:3263)\nat org.apache.xmlbeans.impl.piccolo.xml.Piccolo.reportStartTag(Piccolo.java:1082)\nat org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.parseAttributesNS(PiccoloLexer.java:1822)\nat org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.parseOpenTagNS(PiccoloLexer.java:1521)\nat org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.parseTagNS(PiccoloLexer.java:1362)\nat org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.yylex(PiccoloLexer.java:4682)\nat org.apache.xmlbeans.impl.piccolo.xml.Piccolo.yylex(Piccolo.java:1290)\nat org.apache.xmlbeans.impl.piccolo.xml.Piccolo.yyparse(Piccolo.java:1400)\nat org.apache.xmlbeans.impl.piccolo.xml.Piccolo.parse(Piccolo.java:714)\nat org.apache.xmlbeans.impl.store.Locale$SaxLoader.load(Locale.java:3479)\nat org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1277)\nat org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1264)\nat org.apache.xmlbeans.impl.schema.SchemaTypeLoaderBase.parse(SchemaTypeLoaderBase.java:345)\nat org.apache.poi.POIXMLTypeLoader.parse(POIXMLTypeLoader.java:92)\nat org.openxmlformats.schemas.spreadsheetml.x2006.main.WorksheetDocument$Factory.parse(Unknown Source)\nat org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:173)\nat org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:165)\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.parseSheet(XSSFWorkbook.java:417)\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:382)\nat org.apache.poi.POIXMLDocument.load(POIXMLDocument.java:178)\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:249)\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:302)\nat de.spreadsheet_realtions.analysis.WorkbookAnalysis.analyze(WorkbookAnalysis.java:18)\n</code></pre>\n\n<p><strong>Code</strong> (at the moment just open the file and close the file):</p>\n\n<pre><code>public static void main(String[] args) {\n    start();\n}\n\npublic void start(){\n    File[] files = getAllFiles(Config.folder);\n    ZipSecureFile.setMinInflateRatio(0.00);\n    for(File f: files){\n        analyze(f);\n    }\n}\n\npublic void analyze(File file){\n    Workbook  workbook = null;\n    try {\n        workbook = new XSSFWorkbook(file); //line 18\n    } catch (Exception e1) {e1.printStackTrace(); return;}\n//      later would be here the code to analyze the workbook\n    try {\n        workbook.close();\n    } catch (Exception e) {e.printStackTrace();}\n}\n</code></pre>\n\n<p>I tried also with OPCPackage.open(file) and I got the same result.</p>\n\n<p>What I'm doing wrong or what can I do to solve this problem? Thanks for any help.</p>\n\n<hr>\n\n<p>EDIT:\nThe same for the code below.</p>\n\n<pre><code>try (XSSFWorkbook workbook = new XSSFWorkbook(file)){\n} catch (Exception e1) {e1.printStackTrace(); return;}\n</code></pre>\n"},{"tags":["java","mockito"],"owner":{"account_id":390473,"reputation":2212,"user_id":750565,"accept_rate":69,"display_name":"why_vincent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638290124,"creation_date":1638274537,"question_id":70169228,"body_markdown":"I have code that looks like this:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass MyTest{\r\n    @Mock\r\n    private ClassA classA;\r\n\r\n    @InjectMocks\r\n    private ClassB classB;\r\n\r\n    //Tests omitted\r\n}\r\n\r\n@Service\r\nclass ClassB{\r\n\r\n    private final String stuff;\r\n\r\n    ClassB(ClassA classA){\r\n         this.stuff = classA.getStuff();\r\n    }\r\n    // Code omitted\r\n}\r\n```\r\n\r\nI need to mock the getStuff method. How do I mock the method before the injectmocks annotation is injecting my mock of ClassA? This is really easy without annotations but I would like to do it with annotations if possible.","title":"Configure Mock before InjectMocks","body":"<p>I have code that looks like this:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyTest{\n    @Mock\n    private ClassA classA;\n\n    @InjectMocks\n    private ClassB classB;\n\n    //Tests omitted\n}\n\n@Service\nclass ClassB{\n\n    private final String stuff;\n\n    ClassB(ClassA classA){\n         this.stuff = classA.getStuff();\n    }\n    // Code omitted\n}\n</code></pre>\n<p>I need to mock the getStuff method. How do I mock the method before the injectmocks annotation is injecting my mock of ClassA? This is really easy without annotations but I would like to do it with annotations if possible.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1638290319,"post_id":70172732,"comment_id":124046897,"body_markdown":"This is part of the JSR validation spec, that the constraint violations are wrapped in a ConstraintViolationException, which is intern marked as the cause of the RollbackException (and possibly others). You&#39;ll have to call exception.getCause() possibly recursively, to get at the underlying causes of your rollback. In this case, you&#39;d then have to call getConstraintViolations() on the ConstraintViolationException to get the list of constraint violations from the java validator","body":"This is part of the JSR validation spec, that the constraint violations are wrapped in a ConstraintViolationException, which is intern marked as the cause of the RollbackException (and possibly others). You&#39;ll have to call exception.getCause() possibly recursively, to get at the underlying causes of your rollback. In this case, you&#39;d then have to call getConstraintViolations() on the ConstraintViolationException to get the list of constraint violations from the java validator"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1638295880,"post_id":70172732,"comment_id":124049067,"body_markdown":"here&#39;s an article about that matter: https://www.baeldung.com/java-exception-root-cause","body":"here&#39;s an article about that matter: <a href=\"https://www.baeldung.com/java-exception-root-cause\" rel=\"nofollow noreferrer\">baeldung.com/java-exception-root-cause</a>"}],"owner":{"account_id":23504197,"reputation":1,"user_id":17553699,"display_name":"Markedo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638289654,"creation_date":1638289654,"question_id":70172732,"body_markdown":"Could anyone help me with my first big pet project? I have a Telegram bot that receives information (sum of operation in Big Decimal that not null and greater than 0) from user and then put that info into SQL table. The operation template described like this:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;tg_user_id&quot;)\r\n    private long tgUserId;\r\n\r\n    private OperationTypes operationType;\r\n\r\n    @NotNull(message = &quot;Operation amount cannot be null&quot;)\r\n    @DecimalMin(value = &quot;0.0&quot;, message = &quot;Operation amount cannot be less than zero, please review provided arguments&quot;)\r\n    private BigDecimal operationAmount;\r\n\r\nOperation conducted by **transactional** controller that works through the Operations repository. Since the controller is transactional, I&#39;m not able to try-catch income sum validation error at the controller. The part of the source code of the controller provided below:\r\n\r\n            @Transactional\r\n        public void addIncome(long tgUserId, BigDecimal income) {\r\n            Operation operation = new Operation(tgUserId, OperationTypes.INCOME, income);\r\n            operationsRepository.save(operation);}\r\n\r\nThus, I need to deal with validation error at the Telegram bot side. Here is the part of the source code that actually conduct the operation:\r\n\r\n     case(BotCommand.RespAddIncome):\r\n                          try {\r\n                           log.debug(&quot;Income add command started&quot;);\r\n                           operations.addIncome(message.getChatId(), new BigDecimal(message.getText())); //this part translates UId and the message with the sum received from the user to the controller\r\n                           newsm.setText(BotCommand.StatusIncomeAdded); //this part forms success message that would be returned to the user\r\n                           newsm.setReplyMarkup(getKeyboard());\r\n                           log.debug(&quot;Income add command finished&quot;);\r\n                       }\r\n                        catch (Exception e) {\r\n                               newsm.setText(e.getMessage()); //this part supposed to form an error message that would be return to user\r\n                               log.debug(e.getMessage());\r\n                         }\r\n                           break;\r\nIn case user provides wrong argument (e.g. &quot;-10&quot;) the app throws TransactionSystemException with the message &quot;Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction&quot; that is useless to user because this message did not contain an actual error description.\r\nI can see the actual error in console as a part of the full error message\r\n\r\n&gt; &lt;....&gt; \r\nCaused by: javax.validation.ConstraintViolationException: Validation failed for classes [com.tgbotyms.moneycounterbot.model.Operation] during persist time for groups [javax.validation.groups.Default, ]\r\nList of constraint violations:[\r\n\tConstraintViolationImpl{interpolatedMessage=**&#39;Operation amount cannot be less than zero, please review provided arguments.&#39;**, propertyPath=operationAmount, rootBeanClass=class com.tgbotyms.moneycounterbot.model.Operation, messageTemplate=**&#39;Operation amount cannot be less than zero, please review provided arguments.&#39;**}\r\n&lt;....&gt;\r\n\r\nCould someone please explain how to get this actual error message from TransactionSystemException in order to retranslate it to user?\r\n\r\n*p.s. Since I need to learn only the principle of dealing with this kind of issue, in order to make it easier to read I&#39;ve provided only involved part of code. If you want to see the whole app&#39;s source code, you can find it at [my GitHub][1]*\r\n\r\n\r\n  [1]: https://github.com/Markedo/moneycounterbot","title":"How to get actual error message from RollbackException","body":"<p>Could anyone help me with my first big pet project? I have a Telegram bot that receives information (sum of operation in Big Decimal that not null and greater than 0) from user and then put that info into SQL table. The operation template described like this:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@Column(name = &quot;tg_user_id&quot;)\nprivate long tgUserId;\n\nprivate OperationTypes operationType;\n\n@NotNull(message = &quot;Operation amount cannot be null&quot;)\n@DecimalMin(value = &quot;0.0&quot;, message = &quot;Operation amount cannot be less than zero, please review provided arguments&quot;)\nprivate BigDecimal operationAmount;\n</code></pre>\n<p>Operation conducted by <strong>transactional</strong> controller that works through the Operations repository. Since the controller is transactional, I'm not able to try-catch income sum validation error at the controller. The part of the source code of the controller provided below:</p>\n<pre><code>        @Transactional\n    public void addIncome(long tgUserId, BigDecimal income) {\n        Operation operation = new Operation(tgUserId, OperationTypes.INCOME, income);\n        operationsRepository.save(operation);}\n</code></pre>\n<p>Thus, I need to deal with validation error at the Telegram bot side. Here is the part of the source code that actually conduct the operation:</p>\n<pre><code> case(BotCommand.RespAddIncome):\n                      try {\n                       log.debug(&quot;Income add command started&quot;);\n                       operations.addIncome(message.getChatId(), new BigDecimal(message.getText())); //this part translates UId and the message with the sum received from the user to the controller\n                       newsm.setText(BotCommand.StatusIncomeAdded); //this part forms success message that would be returned to the user\n                       newsm.setReplyMarkup(getKeyboard());\n                       log.debug(&quot;Income add command finished&quot;);\n                   }\n                    catch (Exception e) {\n                           newsm.setText(e.getMessage()); //this part supposed to form an error message that would be return to user\n                           log.debug(e.getMessage());\n                     }\n                       break;\n</code></pre>\n<p>In case user provides wrong argument (e.g. &quot;-10&quot;) the app throws TransactionSystemException with the message &quot;Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction&quot; that is useless to user because this message did not contain an actual error description.\nI can see the actual error in console as a part of the full error message</p>\n<blockquote>\n<p>&lt;....&gt;\nCaused by: javax.validation.ConstraintViolationException: Validation failed for classes [com.tgbotyms.moneycounterbot.model.Operation] during persist time for groups [javax.validation.groups.Default, ]\nList of constraint violations:[\nConstraintViolationImpl{interpolatedMessage=<strong>'Operation amount cannot be less than zero, please review provided arguments.'</strong>, propertyPath=operationAmount, rootBeanClass=class com.tgbotyms.moneycounterbot.model.Operation, messageTemplate=<strong>'Operation amount cannot be less than zero, please review provided arguments.'</strong>}\n&lt;....&gt;</p>\n</blockquote>\n<p>Could someone please explain how to get this actual error message from TransactionSystemException in order to retranslate it to user?</p>\n<p><em>p.s. Since I need to learn only the principle of dealing with this kind of issue, in order to make it easier to read I've provided only involved part of code. If you want to see the whole app's source code, you can find it at <a href=\"https://github.com/Markedo/moneycounterbot\" rel=\"nofollow noreferrer\">my GitHub</a></em></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1638307381,"post_id":70172636,"comment_id":124053154,"body_markdown":"In the picker gui the user can choose the sort modes.","body":"In the picker gui the user can choose the sort modes."},{"owner":{"account_id":1948104,"reputation":160,"user_id":1752813,"display_name":"Henri L."},"score":0,"creation_date":1638350840,"post_id":70172636,"comment_id":124062416,"body_markdown":"Thanks, I have seen that, but I would like to set the appropriate ranking for my use case which is to sort by most recent modified files first.","body":"Thanks, I have seen that, but I would like to set the appropriate ranking for my use case which is to sort by most recent modified files first."}],"owner":{"account_id":1948104,"reputation":160,"user_id":1752813,"display_name":"Henri L."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638289293,"creation_date":1638289293,"question_id":70172636,"body_markdown":"I&#39;m trying to implement a File Picker in my Android project where the files would be by default:  \r\n- from the download directory\r\n- sorted by the last modified date\r\n\r\nI have managed to create the intent but the files are sorted alphabetically.\r\n\r\n```\r\nIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\nintent.addCategory(Intent.CATEGORY_OPENABLE);\r\nintent.setType(&quot;*/*&quot;);\r\nUri uriDownload = Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary:Download&quot;);\r\nintent.putExtra(DocumentsContract.EXTRA_INITIAL_URI,uriDownload);\r\nstartActivityForResult(intent, PICK_SHARED_FILE_REQUEST_CODE);\r\n ```\r\nCan anybody help? thanks","title":"Android Intent.ACTION_OPEN_DOCUMENT - Sort by last modified time","body":"<p>I'm trying to implement a File Picker in my Android project where the files would be by default:</p>\n<ul>\n<li>from the download directory</li>\n<li>sorted by the last modified date</li>\n</ul>\n<p>I have managed to create the intent but the files are sorted alphabetically.</p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\nintent.addCategory(Intent.CATEGORY_OPENABLE);\nintent.setType(&quot;*/*&quot;);\nUri uriDownload = Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary:Download&quot;);\nintent.putExtra(DocumentsContract.EXTRA_INITIAL_URI,uriDownload);\nstartActivityForResult(intent, PICK_SHARED_FILE_REQUEST_CODE);\n</code></pre>\n<p>Can anybody help? thanks</p>\n"},{"tags":["java","dependencies","undertow"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1638285125,"post_id":70171548,"comment_id":124044454,"body_markdown":"Undertow [documentation](https://undertow.io/undertow-docs/undertow-docs-1.3.0/#direct-download) says *&quot;Undertow depends on [XNIO](http://xnio.jboss.org/) and [JBoss Logging](https://github.com/jboss-logging/jboss-logging), which will need to be downloaded as well.&quot;* So, did you download and include those in your classpath?","body":"Undertow <a href=\"https://undertow.io/undertow-docs/undertow-docs-1.3.0/#direct-download\" rel=\"nofollow noreferrer\">documentation</a> says <i>&quot;Undertow depends on <a href=\"http://xnio.jboss.org/\" rel=\"nofollow noreferrer\">XNIO</a> and <a href=\"https://github.com/jboss-logging/jboss-logging\" rel=\"nofollow noreferrer\">JBoss Logging</a>, which will need to be downloaded as well.&quot;</i> So, did you download and include those in your classpath?"},{"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"score":0,"creation_date":1638285310,"post_id":70171548,"comment_id":124044528,"body_markdown":"No I completely missed that, I will try add those now","body":"No I completely missed that, I will try add those now"},{"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"score":0,"creation_date":1638286786,"post_id":70171548,"comment_id":124045260,"body_markdown":"@FedericoklezCulloca thank you that definitely got me closer!","body":"@FedericoklezCulloca thank you that definitely got me closer!"}],"answers":[{"tags":[],"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638288614,"creation_date":1638288614,"answer_id":70172475,"question_id":70171548,"body_markdown":"It turns out I was missing many dependencies, these were all needed for it to work\r\n\r\n    jboss-logging-3.4.2.Final.jar\r\n    jboss-threads-3.4.2.Final.jar\r\n    undertow-core-2.2.12.Final.jar\r\n    undertow-servlet-2.2.12.Final.jar\r\n    wildfly-client-config-1.0.1.Final.jar\r\n    wildfly-common-1.5.4.Final.jar\r\n    xnio-api-3.8.4.Final.jar\r\n    xnio-nio-3.8.4.Final.jar\r\n\r\nIf this can help anyone else who has dependency issues like me, I found this site really helpful\r\nhttps://javalibs.com/\r\n\r\nYou can search for a module and it will let you know all of the dependencies for that module so you can know to download them too (or just use maven really)","title":"Java Undertow Dependency Issue","body":"<p>It turns out I was missing many dependencies, these were all needed for it to work</p>\n<pre><code>jboss-logging-3.4.2.Final.jar\njboss-threads-3.4.2.Final.jar\nundertow-core-2.2.12.Final.jar\nundertow-servlet-2.2.12.Final.jar\nwildfly-client-config-1.0.1.Final.jar\nwildfly-common-1.5.4.Final.jar\nxnio-api-3.8.4.Final.jar\nxnio-nio-3.8.4.Final.jar\n</code></pre>\n<p>If this can help anyone else who has dependency issues like me, I found this site really helpful\n<a href=\"https://javalibs.com/\" rel=\"nofollow noreferrer\">https://javalibs.com/</a></p>\n<p>You can search for a module and it will let you know all of the dependencies for that module so you can know to download them too (or just use maven really)</p>\n"}],"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638288614,"creation_date":1638284719,"question_id":70171548,"body_markdown":"I&#39;m trying to get Undertow working in a Java App but I&#39;m having some issues with dependencies. Everything is compiling ok but every time I try to run I am getting the following error.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/xnio/ChannelListener\r\n\r\nI&#39;m not using maven but I downloaded the following Undertow jars from the link off of the Undertow site.\r\n\r\n    undertow-core-2.2.13.Final.jar\r\n    undertow-servlet-2.2.13.Final.jar\r\n    undertow-websockets-jsr-2.2.13.Final.jar\r\n\r\nThe code is pretty much the same as the example given on the Undertow site and I can&#39;t find very much mention of the specific dependencies. I&#39;m sure I&#39;m missing something\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n    import io.undertow.*;\r\n    import io.undertow.server.*;\r\n    import io.undertow.util.*;\r\n\r\n    public class TestingUndertow {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Undertow server = (\r\n                Undertow\r\n                .builder()\r\n                .addHttpListener(31, &quot;0.0.0.0&quot;)\r\n                .setHandler(new HttpHandler() {\r\n                    public void handleRequest(final HttpServerExchange exchange) throws Exception {\r\n                        exchange.getResponseHeaders().put(Headers.CONTENT_TYPE, &quot;text/plain&quot;);\r\n                        exchange.getResponseSender().send(&quot;Nothing&quot;);\r\n                    }\r\n                })\r\n                .build()\r\n            );\r\n\r\n            server.start();\r\n\r\n        }\r\n\r\n    }","title":"Java Undertow Dependency Issue","body":"<p>I'm trying to get Undertow working in a Java App but I'm having some issues with dependencies. Everything is compiling ok but every time I try to run I am getting the following error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/xnio/ChannelListener\n</code></pre>\n<p>I'm not using maven but I downloaded the following Undertow jars from the link off of the Undertow site.</p>\n<pre><code>undertow-core-2.2.13.Final.jar\nundertow-servlet-2.2.13.Final.jar\nundertow-websockets-jsr-2.2.13.Final.jar\n</code></pre>\n<p>The code is pretty much the same as the example given on the Undertow site and I can't find very much mention of the specific dependencies. I'm sure I'm missing something</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\nimport io.undertow.*;\nimport io.undertow.server.*;\nimport io.undertow.util.*;\n\npublic class TestingUndertow {\n\n    public static void main(String[] args) {\n\n        Undertow server = (\n            Undertow\n            .builder()\n            .addHttpListener(31, &quot;0.0.0.0&quot;)\n            .setHandler(new HttpHandler() {\n                public void handleRequest(final HttpServerExchange exchange) throws Exception {\n                    exchange.getResponseHeaders().put(Headers.CONTENT_TYPE, &quot;text/plain&quot;);\n                    exchange.getResponseSender().send(&quot;Nothing&quot;);\n                }\n            })\n            .build()\n        );\n\n        server.start();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638280780,"creation_date":1638280780,"answer_id":70170589,"question_id":70168625,"body_markdown":"Looking at `Flux#filter` operator signature:\r\n\r\n    Flux&lt;T&gt;\tfilter(Predicate&lt;? super T&gt; p)\r\n\r\nwe see that it accepts a simple Java Predicate as a parameter. You can not perform asynchronous operations within it.\r\n\r\nYou can use `filterWhen` operator instead:\r\n\r\n```java\r\nshopRepo.findAll()\t\r\n\t.filterWhen(shop -&gt;\r\n\t\t(shop condition) ? Mono.just(true) :\r\n\t\t\t\tstockService.findStocksByShopId(shop.getId())\r\n\t\t\t\t\t\t.map(stock -&gt; (stock condition)))\r\n```","title":"How to filter Flux asynchronously","body":"<p>Looking at <code>Flux#filter</code> operator signature:</p>\n<pre><code>Flux&lt;T&gt; filter(Predicate&lt;? super T&gt; p)\n</code></pre>\n<p>we see that it accepts a simple Java Predicate as a parameter. You can not perform asynchronous operations within it.</p>\n<p>You can use <code>filterWhen</code> operator instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>shopRepo.findAll()  \n    .filterWhen(shop -&gt;\n        (shop condition) ? Mono.just(true) :\n                stockService.findStocksByShopId(shop.getId())\n                        .map(stock -&gt; (stock condition)))\n</code></pre>\n"}],"owner":{"account_id":22187351,"reputation":77,"user_id":16430055,"display_name":"Serg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70170589,"answer_count":1,"score":0,"last_activity_date":1638288433,"creation_date":1638271779,"question_id":70168625,"body_markdown":"I need to check if a substring is contained in title of shop or stocks in this shop.\r\n\r\n     @Override\r\n        public Flux&lt;Shop&gt; searchShopsBySearchingTextInShopsAndStocks(String searchText) {\r\n    \r\n    // I received Flxux&lt;List&lt;Shop&gt;&gt; \r\n     return shopRepo.findAll().\r\n       // next I check if substring in title of shop\r\n       filter(shop -&gt; {\r\n             if (shop.getTitle().contains(searchText) || shop.getDescription().contains(searchText)) {\r\n                                                \r\n                           // if contains then return TRUE if not check in stocks\r\n                            return true;\r\n                        } else {\r\n                                     // reeived all stock Flux&lt;List&lt;Stock&gt;&gt; of this shop and check\r\n                              return stockService.findStocksByShopId(shop.getId()).\r\n                                    flatMap(stock -&gt; {\r\n                                        if (stock.getDescription().contains(searchText) || stock.getTitle().contains(searchText)) {\r\n    \r\n               // and in this place I need help\r\n    \r\n                                            return  // true\r\n                                        }\r\n    \r\n                                        return //false \r\n                                    });\r\n    \r\n              });\r\n    }\r\n\r\nWhen checking the content of a substring in stocks, one occurrence is enough for me.\r\n\r\n","title":"How to filter Flux asynchronously","body":"<p>I need to check if a substring is contained in title of shop or stocks in this shop.</p>\n<pre><code> @Override\n    public Flux&lt;Shop&gt; searchShopsBySearchingTextInShopsAndStocks(String searchText) {\n\n// I received Flxux&lt;List&lt;Shop&gt;&gt; \n return shopRepo.findAll().\n   // next I check if substring in title of shop\n   filter(shop -&gt; {\n         if (shop.getTitle().contains(searchText) || shop.getDescription().contains(searchText)) {\n                                            \n                       // if contains then return TRUE if not check in stocks\n                        return true;\n                    } else {\n                                 // reeived all stock Flux&lt;List&lt;Stock&gt;&gt; of this shop and check\n                          return stockService.findStocksByShopId(shop.getId()).\n                                flatMap(stock -&gt; {\n                                    if (stock.getDescription().contains(searchText) || stock.getTitle().contains(searchText)) {\n\n           // and in this place I need help\n\n                                        return  // true\n                                    }\n\n                                    return //false \n                                });\n\n          });\n}\n</code></pre>\n<p>When checking the content of a substring in stocks, one occurrence is enough for me.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"owner":{"account_id":16437243,"reputation":377,"user_id":11874530,"display_name":"Sugata Kar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638288412,"creation_date":1638288412,"question_id":70172438,"body_markdown":"I am having a use case where the query looks like this:\r\n```\r\nSELECT SCHOLAR_ID ,COUNT(sja.JOB_DESC_ID) FROM SCHOLAR_JOB_APPLICATION sja WHERE sja.JOB_STATUS = &#39;SELECTED&#39;\r\nGROUP BY (sja.SCHOLAR_ID)\r\n```\r\nand when I am executing this query it returns the scholar_id and the count of job_desc_id as two columns where the first column is unique. So I have to implement the same in JPA and I thought of using Map&lt;K, V&gt; in java. But it seems to be the map is not getting populated and I am getting empty results.\r\n```\r\n@Query(&quot;select sja.scholar.id, count(sja.jobDescription.id) from ScholarJobApplication sja &quot; +\r\n            &quot;where sja.jobStatus=&#39;SELECTED&#39; &quot; +\r\n            &quot;group by (sja.scholar.id)&quot;)\r\n    Map&lt;String, Integer&gt; countScholarJobApplicationsInJobStatusSelected();\r\n```\r\nI have tried using List&lt;Map&lt;K, V&gt;&gt; which is working but can I use only Map?","title":"Is there a way to use Map&lt;K, V&gt; as projection type in JPA?","body":"<p>I am having a use case where the query looks like this:</p>\n<pre><code>SELECT SCHOLAR_ID ,COUNT(sja.JOB_DESC_ID) FROM SCHOLAR_JOB_APPLICATION sja WHERE sja.JOB_STATUS = 'SELECTED'\nGROUP BY (sja.SCHOLAR_ID)\n</code></pre>\n<p>and when I am executing this query it returns the scholar_id and the count of job_desc_id as two columns where the first column is unique. So I have to implement the same in JPA and I thought of using Map&lt;K, V&gt; in java. But it seems to be the map is not getting populated and I am getting empty results.</p>\n<pre><code>@Query(&quot;select sja.scholar.id, count(sja.jobDescription.id) from ScholarJobApplication sja &quot; +\n            &quot;where sja.jobStatus='SELECTED' &quot; +\n            &quot;group by (sja.scholar.id)&quot;)\n    Map&lt;String, Integer&gt; countScholarJobApplicationsInJobStatusSelected();\n</code></pre>\n<p>I have tried using List&lt;Map&lt;K, V&gt;&gt; which is working but can I use only Map?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":971666,"reputation":8005,"user_id":994125,"display_name":"Laf"},"score":2,"creation_date":1638287260,"post_id":70172119,"comment_id":124045502,"body_markdown":"Since this is system dependent, it would not make sense to make it a constant.","body":"Since this is system dependent, it would not make sense to make it a constant."}],"answers":[{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1638287393,"creation_date":1638287393,"answer_id":70172184,"question_id":70172119,"body_markdown":"There is a distinction between a compile-time constant and a run-time constant.  Annotation values must be compile-time constants.  \r\n\r\nA compile-time constant is a value known at compile time, such as \r\n\r\n    static final int ZERO = 0;\r\n\r\nA runtime constant is a value known to not change, but whose value is not known at compile time:\r\n\r\n    static final int RANDOM = random.nextInt();\r\n\r\nAnnotation values must be compile-time constants.  \r\n\r\nSince the value of `lineSeparator()` changes based on what OS you are running on, it cannot be a compile-time constant.","title":"How to use System.lineSeparator() as a constant in Java tests","body":"<p>There is a distinction between a compile-time constant and a run-time constant.  Annotation values must be compile-time constants.</p>\n<p>A compile-time constant is a value known at compile time, such as</p>\n<pre><code>static final int ZERO = 0;\n</code></pre>\n<p>A runtime constant is a value known to not change, but whose value is not known at compile time:</p>\n<pre><code>static final int RANDOM = random.nextInt();\n</code></pre>\n<p>Annotation values must be compile-time constants.</p>\n<p>Since the value of <code>lineSeparator()</code> changes based on what OS you are running on, it cannot be a compile-time constant.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638288344,"creation_date":1638287855,"answer_id":70172306,"question_id":70172119,"body_markdown":"If you receive that error from an other platform,  the line separator might be different. `System.lineSeparator` differs per platform.\r\n\r\nSolution: Use `\\\\R` which is the regexp for any newline. And RegExp it is!\r\n\r\n    expectedExceptionsMessageRegExp = &quot;File has errors: \\\\RSemicolon is missing at line 45&quot;)\r\n\r\nCompiled Annotations are stored with the code, and require for this compile time constants. Evaluations are only done in annotations processing code.\r\n`&quot;abc&quot; + &quot;def&quot;` would compile to `&quot;abcdef&quot;`, but not with `System.lineSeparator`.","title":"How to use System.lineSeparator() as a constant in Java tests","body":"<p>If you receive that error from an other platform,  the line separator might be different. <code>System.lineSeparator</code> differs per platform.</p>\n<p>Solution: Use <code>\\\\R</code> which is the regexp for any newline. And RegExp it is!</p>\n<pre><code>expectedExceptionsMessageRegExp = &quot;File has errors: \\\\RSemicolon is missing at line 45&quot;)\n</code></pre>\n<p>Compiled Annotations are stored with the code, and require for this compile time constants. Evaluations are only done in annotations processing code.\n<code>&quot;abc&quot; + &quot;def&quot;</code> would compile to <code>&quot;abcdef&quot;</code>, but not with <code>System.lineSeparator</code>.</p>\n"}],"owner":{"account_id":13077933,"reputation":21,"user_id":15854295,"display_name":"Aneesha Fernando"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1638292554,"answer_count":2,"score":0,"last_activity_date":1638288344,"creation_date":1638287139,"question_id":70172119,"body_markdown":"I am trying to use `System.lineSeparator()` in a Java testng test case to build the `expectedExceptionsMessageRegExp` as below. \r\n```java\r\n@Test(description = &quot;When path parameter has given unmatch data type in ballerina&quot;,\r\n            expectedExceptions = BallerinaOpenApiException.class,\r\n            expectedExceptionsMessageRegExp = &quot;File has errors: &quot; + System.lineSeparator() + &quot;Semicolon is missing at line 45&quot;)\r\npublic void testMissionSemicolon() throws IOException, BallerinaOpenApiException {\r\n  // test implementation\r\n}\r\n```\r\nI am getting below error at `expectedExceptionsMessageRegExp`.\r\n\r\n```\r\nAttribute value must be constant\r\n```\r\n\r\nWhat is the reason for this error? How can I achieve my purpose ?\r\n","title":"How to use System.lineSeparator() as a constant in Java tests","body":"<p>I am trying to use <code>System.lineSeparator()</code> in a Java testng test case to build the <code>expectedExceptionsMessageRegExp</code> as below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(description = &quot;When path parameter has given unmatch data type in ballerina&quot;,\n            expectedExceptions = BallerinaOpenApiException.class,\n            expectedExceptionsMessageRegExp = &quot;File has errors: &quot; + System.lineSeparator() + &quot;Semicolon is missing at line 45&quot;)\npublic void testMissionSemicolon() throws IOException, BallerinaOpenApiException {\n  // test implementation\n}\n</code></pre>\n<p>I am getting below error at <code>expectedExceptionsMessageRegExp</code>.</p>\n<pre><code>Attribute value must be constant\n</code></pre>\n<p>What is the reason for this error? How can I achieve my purpose ?</p>\n"},{"tags":["java","anylogic","agent-based-modeling","dynamic-delivery","parking"],"comments":[{"owner":{"account_id":12969774,"reputation":1616,"user_id":9375979,"display_name":"Yashar Ahmadov"},"score":0,"creation_date":1637062500,"post_id":69988163,"comment_id":123719709,"body_markdown":"How do you create the `pop_orders` agents? At the beginning you create 22 of them?","body":"How do you create the <code>pop_orders</code> agents? At the beginning you create 22 of them?"},{"owner":{"account_id":22368010,"reputation":21,"user_id":16583487,"display_name":"Yu LIU"},"score":0,"creation_date":1637062688,"post_id":69988163,"comment_id":123719787,"body_markdown":"I created 100 orders and first assigned the parking to 22 orders of them.","body":"I created 100 orders and first assigned the parking to 22 orders of them."},{"owner":{"account_id":12969774,"reputation":1616,"user_id":9375979,"display_name":"Yashar Ahmadov"},"score":0,"creation_date":1637062855,"post_id":69988163,"comment_id":123719851,"body_markdown":"And when do you run those loops? At the start?","body":"And when do you run those loops? At the start?"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":1,"creation_date":1637063025,"post_id":69988163,"comment_id":123719907,"body_markdown":"You say &quot;There are 22 orders in arr_assignedOrderSet, like this:&quot; but the code clearly shows only 11 :)","body":"You say &quot;There are 22 orders in arr_assignedOrderSet, like this:&quot; but the code clearly shows only 11 :)"},{"owner":{"account_id":22368010,"reputation":21,"user_id":16583487,"display_name":"Yu LIU"},"score":0,"creation_date":1637063444,"post_id":69988163,"comment_id":123720064,"body_markdown":"Yes, you are right!! When I commented the loop of &quot;order.col_parking&quot; and just print out the loop of &quot;arr_assignedOrderSet.size()&quot;, I can get 22 orders. But I don&#39;t know why if I put the loop back and the result was halved...","body":"Yes, you are right!! When I commented the loop of &quot;order.col_parking&quot; and just print out the loop of &quot;arr_assignedOrderSet.size()&quot;, I can get 22 orders. But I don&#39;t know why if I put the loop back and the result was halved..."},{"owner":{"account_id":22368010,"reputation":21,"user_id":16583487,"display_name":"Yu LIU"},"score":0,"creation_date":1637064706,"post_id":69988163,"comment_id":123720556,"body_markdown":"Hello Benhamin, there are definitely 22 orders in the arr_assignedOrderSet. And when I printed it out, it works well. But when I need to nest with another loop, it can only iterate half times. I am not sure if you can get my problem, or I need to add more codes and explanation. Thanks a lot~","body":"Hello Benhamin, there are definitely 22 orders in the arr_assignedOrderSet. And when I printed it out, it works well. But when I need to nest with another loop, it can only iterate half times. I am not sure if you can get my problem, or I need to add more codes and explanation. Thanks a lot~"}],"answers":[{"tags":[],"owner":{"account_id":2011537,"reputation":816,"user_id":1799849,"display_name":"Artem P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637064220,"creation_date":1637064220,"answer_id":69988838,"question_id":69988163,"body_markdown":"Without fully understanding your model, it seems suspicious that 11 is exactly one half of 22, which would mean that this statement: `p.orderSet.remove(order);` is shrinking the same `orderSet` being iterated in `pop_parkings.get(index).orderSet` via `arr_assignedOrderSet` variable. When this assignment happens `arr_assignedOrderSet = pop_parkings.get(index).orderSet;` Java isn&#39;t actually copying the content of the collection, only the reference to it. If that is the case then the fix is to replace this line:\r\n\r\n`arr_assignedOrderSet = pop_parkings.get(index).orderSet;`\r\n\r\nwith this line:\r\n\r\n`arr_assignedOrderSet.addAll(pop_parkings.get(index).orderSet);`","title":"How to solve &quot;java.lang.IndexOutOfBoundsException&quot; problem via Agent-based modeling in Anylogic?","body":"<p>Without fully understanding your model, it seems suspicious that 11 is exactly one half of 22, which would mean that this statement: <code>p.orderSet.remove(order);</code> is shrinking the same <code>orderSet</code> being iterated in <code>pop_parkings.get(index).orderSet</code> via <code>arr_assignedOrderSet</code> variable. When this assignment happens <code>arr_assignedOrderSet = pop_parkings.get(index).orderSet;</code> Java isn't actually copying the content of the collection, only the reference to it. If that is the case then the fix is to replace this line:</p>\n<p><code>arr_assignedOrderSet = pop_parkings.get(index).orderSet;</code></p>\n<p>with this line:</p>\n<p><code>arr_assignedOrderSet.addAll(pop_parkings.get(index).orderSet);</code></p>\n"}],"owner":{"account_id":22368010,"reputation":21,"user_id":16583487,"display_name":"Yu LIU"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":760,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1638288062,"creation_date":1637061543,"question_id":69988163,"body_markdown":"I met a problem when I want to assign the parking to each order, and then remove the parking-assined order from other parkings&#39; order sets. This array list *arr_assignedOrderSet* has a size of 22, so it was supposed to iterate 22 times. But I have no idea why it stoped after 11 times. If I replace the iterated times *arr_assignedOrderSet.size()* with *22*, it will show me an error of &quot;java.lang.IndexOutOfBoundsException: Index 11 out of bounds for length 11&quot;. The codes are as following:\r\n\r\n\r\n    ArrayList&lt;Order&gt; arr_assignedOrderSet = new ArrayList&lt;Order&gt;();\r\n    arr_assignedOrderSet = pop_parkings.get(index).orderSet;\r\n\r\n    for(int i=0; i&lt;arr_assignedOrderSet.size(); i++){\r\n    \tOrder order = arr_assignedOrderSet.get(i);\r\n    \tfor(int j=0; j&lt;order.col_parking.size(); j++){\r\n    \t\tParking p = order.col_parking.get(j);\r\n    \t\tp.orderSet.remove(order);\r\n    \t}\r\n \r\n    }\r\n\r\nThanks a lot for your help~ ;-)\r\n\r\n","title":"How to solve &quot;java.lang.IndexOutOfBoundsException&quot; problem via Agent-based modeling in Anylogic?","body":"<p>I met a problem when I want to assign the parking to each order, and then remove the parking-assined order from other parkings' order sets. This array list <em>arr_assignedOrderSet</em> has a size of 22, so it was supposed to iterate 22 times. But I have no idea why it stoped after 11 times. If I replace the iterated times <em>arr_assignedOrderSet.size()</em> with <em>22</em>, it will show me an error of &quot;java.lang.IndexOutOfBoundsException: Index 11 out of bounds for length 11&quot;. The codes are as following:</p>\n<pre><code>ArrayList&lt;Order&gt; arr_assignedOrderSet = new ArrayList&lt;Order&gt;();\narr_assignedOrderSet = pop_parkings.get(index).orderSet;\n\nfor(int i=0; i&lt;arr_assignedOrderSet.size(); i++){\n    Order order = arr_assignedOrderSet.get(i);\n    for(int j=0; j&lt;order.col_parking.size(); j++){\n        Parking p = order.col_parking.get(j);\n        p.orderSet.remove(order);\n    }\n\n}\n</code></pre>\n<p>Thanks a lot for your help~ ;-)</p>\n"},{"tags":["java","string","validation","servlets","string-comparison"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1638287821,"post_id":70172247,"comment_id":124045774,"body_markdown":"Can you provide a sample of what your properties file looks like? Specifically, what the &quot;userId&quot; property should return/","body":"Can you provide a sample of what your properties file looks like? Specifically, what the &quot;userId&quot; property should return/"}],"answers":[{"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638288008,"creation_date":1638288008,"answer_id":70172343,"question_id":70172247,"body_markdown":"You can always, read the user ids, split them and keep it as a list. \r\nSee an approach below:\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \r\n    \tString userAttUids = (String)myApp.properties.getProperty(“userId”);\r\n    \t// Split configured IDs to a list\r\n    \tList&lt;String&gt; userAttrIds = Arrays.asList(userAttUids.toLowerCase().split(&quot;,&quot;))\r\n    \r\n    \tString loggedUser = (String)request.getAttribute(“attuid”);\r\n    \t//check if the user id is present in the list\r\n    \tif(userAttrIds.contains(loggedUser.toLowerCase())) {\r\n    \r\n    \t\tforwardToClient(“/Settings.jsp”,request,response);\r\n    \t}\r\n    \telse {\r\n    \r\n    \t\tthrow new exception();//any suitable exception\r\n    \r\n    \t}\r\n    }","title":"How to validate if the logged user is in present in list of userids in properties file","body":"<p>You can always, read the user ids, split them and keep it as a list.\nSee an approach below:</p>\n<pre><code>public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    String userAttUids = (String)myApp.properties.getProperty(“userId”);\n    // Split configured IDs to a list\n    List&lt;String&gt; userAttrIds = Arrays.asList(userAttUids.toLowerCase().split(&quot;,&quot;))\n\n    String loggedUser = (String)request.getAttribute(“attuid”);\n    //check if the user id is present in the list\n    if(userAttrIds.contains(loggedUser.toLowerCase())) {\n\n        forwardToClient(“/Settings.jsp”,request,response);\n    }\n    else {\n\n        throw new exception();//any suitable exception\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23308251,"reputation":1,"user_id":17387892,"display_name":"sneha dalve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638288008,"creation_date":1638287610,"question_id":70172247,"body_markdown":"I have mentioned a multiple user ids in external properties file (eg: userId=ab123c, bv111y,…). I want to validate the logged user with this list and allow access to certain jsp, if the logged user’s id matches the id mentioned in properties file. I figured out how to validate when there is only one userId in properties file. Not sure how to dod it with multiple users. I am new to development and coding so I request you to explain me what needs to be done in detail. \r\n\r\nCode:\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n    String userAttuid = (String)myApp.properties.getProperty(“userId”);\r\n\r\n    String loggedUser = (String)request.getAttribute(“attuid”);\r\n\r\n    //I need help here to validate for multiple users \r\n    // I have written code for one user \r\n\r\n    If(loggedUser.equalsIgnoreCase(userAttuid) {\r\n\r\n    forwardToClient(“/Settings.jsp”,request,response);\r\n    }\r\n    else {\r\n\r\n    throw new exception();//any suitable exception\r\n\r\n    }\r\n\r\nYour help is appreciated, thanks in advance","title":"How to validate if the logged user is in present in list of userids in properties file","body":"<p>I have mentioned a multiple user ids in external properties file (eg: userId=ab123c, bv111y,…). I want to validate the logged user with this list and allow access to certain jsp, if the logged user’s id matches the id mentioned in properties file. I figured out how to validate when there is only one userId in properties file. Not sure how to dod it with multiple users. I am new to development and coding so I request you to explain me what needs to be done in detail.</p>\n<p>Code:</p>\n<pre><code>public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\nString userAttuid = (String)myApp.properties.getProperty(“userId”);\n\nString loggedUser = (String)request.getAttribute(“attuid”);\n\n//I need help here to validate for multiple users \n// I have written code for one user \n\nIf(loggedUser.equalsIgnoreCase(userAttuid) {\n\nforwardToClient(“/Settings.jsp”,request,response);\n}\nelse {\n\nthrow new exception();//any suitable exception\n\n}\n</code></pre>\n<p>Your help is appreciated, thanks in advance</p>\n"},{"tags":["java","google-play"],"answers":[{"tags":[],"owner":{"account_id":422603,"reputation":4344,"user_id":801466,"accept_rate":40,"display_name":"Artem Oboturov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1339085378,"creation_date":1339085378,"answer_id":10935641,"question_id":10868037,"body_markdown":"There&#39;s a project called android-market-api [http://code.google.com/p/android-market-api](http://code.google.com/p/android-market-api). Start from there.\r\n\r\n[http://code.google.com/p/android-market-api/source/browse/trunk/AndroidMarketApi/proto/market.proto](http://code.google.com/p/android-market-api/source/browse/trunk/AndroidMarketApi/proto/market.proto). Look at App definition there to get idea of what you could extract.\r\n\r\nYou can ask the guy who wrote it how he reverse-engineered the protocol of Android market.\r\n\r\nUsing it you can make searches and then get info per application.","title":"Extract statistics from google play","body":"<p>There's a project called android-market-api <a href=\"http://code.google.com/p/android-market-api\">http://code.google.com/p/android-market-api</a>. Start from there.</p>\n\n<p><a href=\"http://code.google.com/p/android-market-api/source/browse/trunk/AndroidMarketApi/proto/market.proto\">http://code.google.com/p/android-market-api/source/browse/trunk/AndroidMarketApi/proto/market.proto</a>. Look at App definition there to get idea of what you could extract.</p>\n\n<p>You can ask the guy who wrote it how he reverse-engineered the protocol of Android market.</p>\n\n<p>Using it you can make searches and then get info per application.</p>\n"}],"owner":{"account_id":44769,"reputation":4101,"user_id":131560,"accept_rate":85,"display_name":"Brian Hvarregaard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2400,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":10935641,"answer_count":1,"score":7,"last_activity_date":1638287852,"creation_date":1338699886,"question_id":10868037,"body_markdown":"I&#39;m building some statistics and would like to have the statistics from google play (the app store) as well. Information like most popular, downloads, price, etc.\r\n\r\nDoes anyone know if there is an API for this or do I have to scrape it myself?","title":"Extract statistics from google play","body":"<p>I'm building some statistics and would like to have the statistics from google play (the app store) as well. Information like most popular, downloads, price, etc.</p>\n\n<p>Does anyone know if there is an API for this or do I have to scrape it myself?</p>\n"},{"tags":["java","amazon-s3","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638280664,"creation_date":1638280664,"answer_id":70170557,"question_id":70165565,"body_markdown":"Looks like [this is a bug][1].  \r\n\r\n&gt; problems caused by AWS SDK classes from the localstack-utils-fat.jar overriding classes defined in the actual Lambda jar/zip itself. \r\n\r\nHere&#39;s the version you need [with the fix][2].  It sounds like there is a work around:\r\n\r\n&gt; implemented a partial fix for this that moved the localstack-utils-fat.jar later on the classpath, but this fix only applied to lambdas being run using the docker executor.\r\n\r\nBasically, it&#39;s not your fault.  It&#39;s a code issue with dependencies overwriting each others function signatures.  You need to use the latest localstack-utils-fat.jar and it should fix your issue.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/localstack/localstack/issues/952\r\n  [2]: https://github.com/localstack/localstack/pull/2378","title":"Error while uploading to S3 from Hadoop using s3a","body":"<p>Looks like <a href=\"https://github.com/localstack/localstack/issues/952\" rel=\"nofollow noreferrer\">this is a bug</a>.</p>\n<blockquote>\n<p>problems caused by AWS SDK classes from the localstack-utils-fat.jar overriding classes defined in the actual Lambda jar/zip itself.</p>\n</blockquote>\n<p>Here's the version you need <a href=\"https://github.com/localstack/localstack/pull/2378\" rel=\"nofollow noreferrer\">with the fix</a>.  It sounds like there is a work around:</p>\n<blockquote>\n<p>implemented a partial fix for this that moved the localstack-utils-fat.jar later on the classpath, but this fix only applied to lambdas being run using the docker executor.</p>\n</blockquote>\n<p>Basically, it's not your fault.  It's a code issue with dependencies overwriting each others function signatures.  You need to use the latest localstack-utils-fat.jar and it should fix your issue.</p>\n"}],"owner":{"account_id":11072849,"reputation":45,"user_id":8130455,"display_name":"Ritwik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1455,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70170557,"answer_count":1,"score":2,"last_activity_date":1638287838,"creation_date":1638256298,"question_id":70165565,"body_markdown":"I am running a java application on kubernetes which upload multiple files from local container to s3 bucket using s3a, but I am getting the below exception in logs and files are not getting uploaded to s3.\r\n\r\nPartial files are getting uploaded to s3\r\n\r\n \r\n\r\n       2021-11-30 12:28:44,529 614982 [secor-threadpool-1] ERROR c.pinterest.secor.uploader.Uploader - Error while uploading to S3 : java.lang.RuntimeException: org.apache.hadoop.fs.s3a.AWSClientIOException: copyFromLocalFile(/tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate, s3a://prod-dataplatform-hive/orc_secor_test/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate) on /tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\r\n        java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.apache.hadoop.fs.s3a.AWSClientIOException: copyFromLocalFile(/tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate, s3a://prod-dataplatform-hive/orc_secor_test/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate) on /tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\r\n        \tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        \tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n        \tat com.pinterest.secor.uploader.FutureHandle.get(FutureHandle.java:34)\r\n        \tat com.pinterest.secor.uploader.Uploader.uploadFiles(Uploader.java:117)\r\n        \tat com.pinterest.secor.uploader.Uploader.checkTopicPartition(Uploader.java:244)\r\n        \tat com.pinterest.secor.uploader.Uploader.applyPolicy(Uploader.java:284)\r\n        \tat com.pinterest.secor.consumer.Consumer.checkUploadPolicy(Consumer.java:141)\r\n        \tat com.pinterest.secor.consumer.Consumer.run(Consumer.java:133)\r\n        \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n        \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        \tat java.lang.Thread.run(Thread.java:748)\r\n        Caused by: java.lang.RuntimeException: org.apache.hadoop.fs.s3a.AWSClientIOException: copyFromLocalFile(/tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate, s3a://prod-dataplatform-hive/orc_secor_test/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate) on /tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\r\n        \tat com.pinterest.secor.uploader.HadoopS3UploadManager$1.run(HadoopS3UploadManager.java:63)\r\n        \t... 5 more\r\n        Caused by: org.apache.hadoop.fs.s3a.AWSClientIOException: copyFromLocalFile(/tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate, s3a://prod-dataplatform-hive/orc_secor_test/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate) on /tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\r\n        \tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:144)\r\n        \tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:117)\r\n        \tat org.apache.hadoop.fs.s3a.S3AFileSystem.copyFromLocalFile(S3AFileSystem.java:2039)\r\n        \tat org.apache.hadoop.fs.FileSystem.copyFromLocalFile(FileSystem.java:2320)\r\n        \tat org.apache.hadoop.fs.FileSystem.moveFromLocalFile(FileSystem.java:2307)\r\n        \tat com.pinterest.secor.util.FileUtil.moveToCloud(FileUtil.java:206)\r\n        \tat com.pinterest.secor.uploader.HadoopS3UploadManager$1.run(HadoopS3UploadManager.java:61)\r\n        \t... 5 more\r\n        Caused by: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\r\n        \tat com.amazonaws.services.s3.transfer.internal.AbstractTransfer.unwrapExecutionException(AbstractTransfer.java:286)\r\n        \tat com.amazonaws.services.s3.transfer.internal.AbstractTransfer.rethrowExecutionException(AbstractTransfer.java:265)\r\n        \tat com.amazonaws.services.s3.transfer.internal.UploadImpl.waitForUploadResult(UploadImpl.java:66)\r\n        \tat org.apache.hadoop.fs.s3a.S3AFileSystem.innerCopyFromLocalFile(S3AFileSystem.java:2099)\r\n        \tat org.apache.hadoop.fs.s3a.S3AFileSystem.copyFromLocalFile(S3AFileSystem.java:2037)\r\n        \t... 9 more\r\n        Caused by: java.lang.NoSuchMethodError: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\r\n        \tat com.amazonaws.services.s3.model.S3DataSource$Utils.cleanupDataSource(S3DataSource.java:48)\r\n        \tat com.amazonaws.services.s3.AmazonS3Client.uploadObject(AmazonS3Client.java:1863)\r\n        \tat com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1817)\r\n        \tat com.amazonaws.services.s3.transfer.internal.UploadCallable.uploadInOneChunk(UploadCallable.java:169)\r\n        \tat com.amazonaws.services.s3.transfer.internal.UploadCallable.call(UploadCallable.java:149)\r\n        \tat com.amazonaws.services.s3.transfer.internal.UploadMonitor.call(UploadMonitor.java:115)\r\n        \tat com.amazonaws.services.s3.transfer.internal.UploadMonitor.call(UploadMonitor.java:45)\r\n        \t... 4 more","title":"Error while uploading to S3 from Hadoop using s3a","body":"<p>I am running a java application on kubernetes which upload multiple files from local container to s3 bucket using s3a, but I am getting the below exception in logs and files are not getting uploaded to s3.</p>\n<p>Partial files are getting uploaded to s3</p>\n<pre><code>   2021-11-30 12:28:44,529 614982 [secor-threadpool-1] ERROR c.pinterest.secor.uploader.Uploader - Error while uploading to S3 : java.lang.RuntimeException: org.apache.hadoop.fs.s3a.AWSClientIOException: copyFromLocalFile(/tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate, s3a://prod-dataplatform-hive/orc_secor_test/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate) on /tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\n    java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.apache.hadoop.fs.s3a.AWSClientIOException: copyFromLocalFile(/tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate, s3a://prod-dataplatform-hive/orc_secor_test/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate) on /tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\n        at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n        at com.pinterest.secor.uploader.FutureHandle.get(FutureHandle.java:34)\n        at com.pinterest.secor.uploader.Uploader.uploadFiles(Uploader.java:117)\n        at com.pinterest.secor.uploader.Uploader.checkTopicPartition(Uploader.java:244)\n        at com.pinterest.secor.uploader.Uploader.applyPolicy(Uploader.java:284)\n        at com.pinterest.secor.consumer.Consumer.checkUploadPolicy(Consumer.java:141)\n        at com.pinterest.secor.consumer.Consumer.run(Consumer.java:133)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n    Caused by: java.lang.RuntimeException: org.apache.hadoop.fs.s3a.AWSClientIOException: copyFromLocalFile(/tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate, s3a://prod-dataplatform-hive/orc_secor_test/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate) on /tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\n        at com.pinterest.secor.uploader.HadoopS3UploadManager$1.run(HadoopS3UploadManager.java:63)\n        ... 5 more\n    Caused by: org.apache.hadoop.fs.s3a.AWSClientIOException: copyFromLocalFile(/tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate, s3a://prod-dataplatform-hive/orc_secor_test/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate) on /tmp/secor_data/message_logs/backup/7_22/DAPI_UNICAST_BOOKING_ACTION/driverapi_transactional_ha/dapi_unicast_booking_action/dt=2021-11-29/hr=12/pk_1_1_00000000000000101414.deflate: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\n        at org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:144)\n        at org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:117)\n        at org.apache.hadoop.fs.s3a.S3AFileSystem.copyFromLocalFile(S3AFileSystem.java:2039)\n        at org.apache.hadoop.fs.FileSystem.copyFromLocalFile(FileSystem.java:2320)\n        at org.apache.hadoop.fs.FileSystem.moveFromLocalFile(FileSystem.java:2307)\n        at com.pinterest.secor.util.FileUtil.moveToCloud(FileUtil.java:206)\n        at com.pinterest.secor.uploader.HadoopS3UploadManager$1.run(HadoopS3UploadManager.java:61)\n        ... 5 more\n    Caused by: com.amazonaws.AmazonClientException: Unable to complete transfer: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\n        at com.amazonaws.services.s3.transfer.internal.AbstractTransfer.unwrapExecutionException(AbstractTransfer.java:286)\n        at com.amazonaws.services.s3.transfer.internal.AbstractTransfer.rethrowExecutionException(AbstractTransfer.java:265)\n        at com.amazonaws.services.s3.transfer.internal.UploadImpl.waitForUploadResult(UploadImpl.java:66)\n        at org.apache.hadoop.fs.s3a.S3AFileSystem.innerCopyFromLocalFile(S3AFileSystem.java:2099)\n        at org.apache.hadoop.fs.s3a.S3AFileSystem.copyFromLocalFile(S3AFileSystem.java:2037)\n        ... 9 more\n    Caused by: java.lang.NoSuchMethodError: com.amazonaws.util.IOUtils.release(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V\n        at com.amazonaws.services.s3.model.S3DataSource$Utils.cleanupDataSource(S3DataSource.java:48)\n        at com.amazonaws.services.s3.AmazonS3Client.uploadObject(AmazonS3Client.java:1863)\n        at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1817)\n        at com.amazonaws.services.s3.transfer.internal.UploadCallable.uploadInOneChunk(UploadCallable.java:169)\n        at com.amazonaws.services.s3.transfer.internal.UploadCallable.call(UploadCallable.java:149)\n        at com.amazonaws.services.s3.transfer.internal.UploadMonitor.call(UploadMonitor.java:115)\n        at com.amazonaws.services.s3.transfer.internal.UploadMonitor.call(UploadMonitor.java:45)\n        ... 4 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":3,"creation_date":1638254799,"post_id":70165315,"comment_id":124032932,"body_markdown":"Can you give an example what exactly you expect to be the output?","body":"Can you give an example what exactly you expect to be the output?"},{"owner":{"account_id":23136497,"reputation":150,"user_id":17240662,"display_name":"Batek&#39;S"},"score":0,"creation_date":1638254990,"post_id":70165315,"comment_id":124032982,"body_markdown":"please add expected output","body":"please add expected output"},{"owner":{"account_id":23499274,"reputation":7,"user_id":17549338,"display_name":"Klaus Hargreeves"},"score":0,"creation_date":1638259978,"post_id":70165315,"comment_id":124034420,"body_markdown":"its okay now guys i appreciate the help of all of you thank you","body":"its okay now guys i appreciate the help of all of you thank you"}],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638256109,"creation_date":1638255375,"answer_id":70165416,"question_id":70165315,"body_markdown":"The for loop needs a bit of work. \r\n\r\nA for loop has three parts to it:\r\n- initialization\r\n- condition\r\n- what to execute after each iteration\r\n\r\nSo to get the number, its square and its cube for all numbers from 2 to 5 included, you can write\r\n\r\n    System.out.println(&quot;\\nNumber\\tSquare\\tcube\\n&quot;);\r\n    for (int n = 2; n &lt;= 5; n++) {\r\n        int sq = n * n;\r\n        int cube = sq * n;\r\n        System.out.println(n + &quot;\\t&quot; + sq + &quot;\\t&quot; + cube);\r\n    }\r\n\r\nWhat happens is the following:\r\n\r\n- initialization: in the first block, `int n = 2` is the integer variable `n`, which is initialized to 2. - condition: next, in the second block (the condition), check if `n` is less than or equal to 5. If it is, enter into the body of the loop\r\n- block of code in loop: define an integer for the square of n, which is n * n; define an integer for the cube of n in the same way; print the values\r\n- end of loop: execute whatever is in the execution block, in this case `n++` to increment `n`.\r\n\r\nBuilding on this, if you need the sum of everything, or the sum of all cubes, or the sum of all squares, you can add the variables as appropriate above the loop:\r\n\r\n\r\n    int sumN = 0;\r\n    int sumSq = 0;\r\n    int sumCube = 0;\r\n    System.out.println(&quot;\\nNumber\\tSquare\\tcube\\n&quot;);\r\n    for (int n = 2; n &lt;= 5; n++) {\r\n        int sq = n * n;\r\n        int cube = sq * n;\r\n        sumN += n;\r\n        sumSq += sq;\r\n        sumCube += cube;\r\n        System.out.println(n + &quot;\\t&quot; + sq + &quot;\\t&quot; + cube);\r\n    }\r\n    System.out.println(&quot;sumN\\t&quot; + sumN);\r\n    System.out.println(&quot;sumSq\\t&quot; + sumSq);\r\n    System.out.println(&quot;sumCube\\t&quot; + sumCube);\r\n    // or the sum of everything, adding these three sums, if you need it\r\n    ","title":"how to add all the numbers in a columns using for loop in java?","body":"<p>The for loop needs a bit of work.</p>\n<p>A for loop has three parts to it:</p>\n<ul>\n<li>initialization</li>\n<li>condition</li>\n<li>what to execute after each iteration</li>\n</ul>\n<p>So to get the number, its square and its cube for all numbers from 2 to 5 included, you can write</p>\n<pre><code>System.out.println(&quot;\\nNumber\\tSquare\\tcube\\n&quot;);\nfor (int n = 2; n &lt;= 5; n++) {\n    int sq = n * n;\n    int cube = sq * n;\n    System.out.println(n + &quot;\\t&quot; + sq + &quot;\\t&quot; + cube);\n}\n</code></pre>\n<p>What happens is the following:</p>\n<ul>\n<li>initialization: in the first block, <code>int n = 2</code> is the integer variable <code>n</code>, which is initialized to 2. - condition: next, in the second block (the condition), check if <code>n</code> is less than or equal to 5. If it is, enter into the body of the loop</li>\n<li>block of code in loop: define an integer for the square of n, which is n * n; define an integer for the cube of n in the same way; print the values</li>\n<li>end of loop: execute whatever is in the execution block, in this case <code>n++</code> to increment <code>n</code>.</li>\n</ul>\n<p>Building on this, if you need the sum of everything, or the sum of all cubes, or the sum of all squares, you can add the variables as appropriate above the loop:</p>\n<pre><code>int sumN = 0;\nint sumSq = 0;\nint sumCube = 0;\nSystem.out.println(&quot;\\nNumber\\tSquare\\tcube\\n&quot;);\nfor (int n = 2; n &lt;= 5; n++) {\n    int sq = n * n;\n    int cube = sq * n;\n    sumN += n;\n    sumSq += sq;\n    sumCube += cube;\n    System.out.println(n + &quot;\\t&quot; + sq + &quot;\\t&quot; + cube);\n}\nSystem.out.println(&quot;sumN\\t&quot; + sumN);\nSystem.out.println(&quot;sumSq\\t&quot; + sumSq);\nSystem.out.println(&quot;sumCube\\t&quot; + sumCube);\n// or the sum of everything, adding these three sums, if you need it\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19669184,"reputation":513,"user_id":14398771,"display_name":"Noor Ahmed Natali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638256146,"creation_date":1638256146,"answer_id":70165536,"question_id":70165315,"body_markdown":"The loop in java has 3 parts\r\n\r\n1-&gt; initialization (from where the loop should start)\r\n\r\n2-&gt; condition (when should loop stop its execution)\r\n\r\n3-&gt; iteration (how many steps should initializer takes)\r\n\r\n    int sum=0;\r\n    for(int i=0; i&lt;4; i++) {\r\n       System.out.println(i);\r\n       // if want to add 0+1+2+3+4\r\n       sum += i; // sum=sum + i\r\n    }\r\nhope this will help you work with loops in future\r\n\r\n\r\n\r\n  ","title":"how to add all the numbers in a columns using for loop in java?","body":"<p>The loop in java has 3 parts</p>\n<p>1-&gt; initialization (from where the loop should start)</p>\n<p>2-&gt; condition (when should loop stop its execution)</p>\n<p>3-&gt; iteration (how many steps should initializer takes)</p>\n<pre><code>int sum=0;\nfor(int i=0; i&lt;4; i++) {\n   System.out.println(i);\n   // if want to add 0+1+2+3+4\n   sum += i; // sum=sum + i\n}\n</code></pre>\n<p>hope this will help you work with loops in future</p>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638287058,"creation_date":1638256614,"answer_id":70165617,"question_id":70165315,"body_markdown":"I am not sure I 100% understand what you are asking. Here is a version of what I think you are asking with perfect squares only. You can use the same ideas to do the perfect cubes. Comments are in the code.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int totalSquare = 0;//Start the sum of the perfect squares at zero!\r\n\r\n        System.out.println(&quot;\\nNumber\\tSquare\\tTotal\\n&quot;);\r\n\r\n        for (int i = 2; i &lt;= 5; i++){//loop from 2 to 5\r\n           int currentSquare = i * i;//get the square of i.\r\n           totalSquare = totalSquare + currentSquare;//add the square of i to the totalSquare variable.        \r\n           System.out.println(i + &quot;\\t&quot; + currentSquare + &quot;\\t&quot; + totalSquare);\r\n        }\r\n        System.out.println(&quot;\\nTotal:\\t&quot; + totalSquare);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nNumber\tSquare\tTotal\r\n\r\n2\t    4\t    4\r\n3\t    9\t    13\r\n4\t    16\t    29\r\n5\t    25\t    54\r\n\r\nTotal:\t54\r\n```","title":"how to add all the numbers in a columns using for loop in java?","body":"<p>I am not sure I 100% understand what you are asking. Here is a version of what I think you are asking with perfect squares only. You can use the same ideas to do the perfect cubes. Comments are in the code.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int totalSquare = 0;//Start the sum of the perfect squares at zero!\n\n        System.out.println(&quot;\\nNumber\\tSquare\\tTotal\\n&quot;);\n\n        for (int i = 2; i &lt;= 5; i++){//loop from 2 to 5\n           int currentSquare = i * i;//get the square of i.\n           totalSquare = totalSquare + currentSquare;//add the square of i to the totalSquare variable.        \n           System.out.println(i + &quot;\\t&quot; + currentSquare + &quot;\\t&quot; + totalSquare);\n        }\n        System.out.println(&quot;\\nTotal:\\t&quot; + totalSquare);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Number  Square  Total\n\n2       4       4\n3       9       13\n4       16      29\n5       25      54\n\nTotal:  54\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638257201,"creation_date":1638257201,"answer_id":70165712,"question_id":70165315,"body_markdown":"    public static void main(String[] args) {\r\n    \r\n    \t\tint ctr = 1;\r\n            int number = 2, square = 2, cube;\r\n            System.out.println(&quot;\\n\\tNumber\\tSquare\\tcube\\n&quot;);\r\n            int numberTotal=0, squareTotal=0, cubeTotal=0;\r\n            for (int n = 2; ctr &lt;= 5; ctr++){\r\n    \r\n                number = ctr * n;\r\n                numberTotal+=number;\r\n                \r\n                square = number * number;\r\n                squareTotal+=square;\r\n                \r\n                cube = square * number;\r\n                cubeTotal+=cube;\r\n    \r\n                System.out.println(&quot;\\t&quot;+number + &quot;\\t&quot; + square + &quot;\\t&quot; + cube);\r\n            }\r\n            System.out.println(&quot;\\nTotal\\t&quot;+numberTotal + &quot;\\t&quot; + squareTotal + &quot;\\t&quot; + cubeTotal);\r\n            \r\n    \t}\r\n\r\nOUTPUT:\r\n\r\n    \tNumber\tSquare\tcube\r\n\r\n    \t2\t4\t8\r\n    \t4\t16\t64\r\n    \t6\t36\t216\r\n    \t8\t64\t512\r\n    \t10\t100\t1000\r\n\r\n    Total\t30\t220\t1800","title":"how to add all the numbers in a columns using for loop in java?","body":"<pre><code>public static void main(String[] args) {\n\n        int ctr = 1;\n        int number = 2, square = 2, cube;\n        System.out.println(&quot;\\n\\tNumber\\tSquare\\tcube\\n&quot;);\n        int numberTotal=0, squareTotal=0, cubeTotal=0;\n        for (int n = 2; ctr &lt;= 5; ctr++){\n\n            number = ctr * n;\n            numberTotal+=number;\n            \n            square = number * number;\n            squareTotal+=square;\n            \n            cube = square * number;\n            cubeTotal+=cube;\n\n            System.out.println(&quot;\\t&quot;+number + &quot;\\t&quot; + square + &quot;\\t&quot; + cube);\n        }\n        System.out.println(&quot;\\nTotal\\t&quot;+numberTotal + &quot;\\t&quot; + squareTotal + &quot;\\t&quot; + cubeTotal);\n        \n    }\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>    Number  Square  cube\n\n    2   4   8\n    4   16  64\n    6   36  216\n    8   64  512\n    10  100 1000\n\nTotal   30  220 1800\n</code></pre>\n"}],"owner":{"account_id":23499274,"reputation":7,"user_id":17549338,"display_name":"Klaus Hargreeves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655740872,"answer_count":4,"score":0,"last_activity_date":1638287058,"creation_date":1638254604,"question_id":70165315,"body_markdown":"I&#39;m confused about the for loops in java i have trouble adding all the numbers in my columns\r\nlike i want to put the sum of all squares in my total same as the cube like `4+16+36+64+100 = 220` same with the cube but I can&#39;t add them this is my work as for now\r\n\r\n\r\n```java \r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        int ctr = 1;\r\n        int number = 2, square = 2, cube;\r\n        System.out.println(&quot;\\nNumber\\tSquare\\tcube\\n&quot;);\r\n\r\n        for (int n = 2; ctr &lt;= 5; ctr++){\r\n\r\n            number = ctr * n;\r\n            square = number * number;\r\n            cube = square * number;\r\n\r\n            System.out.println(number + &quot;\\t&quot; + square + &quot;\\t&quot; + cube);\r\n        }\r\n        System.out.println(&quot;\\nTotal\\t&quot;);\r\n    }\r\n}\r\n```","title":"how to add all the numbers in a columns using for loop in java?","body":"<p>I'm confused about the for loops in java i have trouble adding all the numbers in my columns\nlike i want to put the sum of all squares in my total same as the cube like <code>4+16+36+64+100 = 220</code> same with the cube but I can't add them this is my work as for now</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n\n        int ctr = 1;\n        int number = 2, square = 2, cube;\n        System.out.println(&quot;\\nNumber\\tSquare\\tcube\\n&quot;);\n\n        for (int n = 2; ctr &lt;= 5; ctr++){\n\n            number = ctr * n;\n            square = number * number;\n            cube = square * number;\n\n            System.out.println(number + &quot;\\t&quot; + square + &quot;\\t&quot; + cube);\n        }\n        System.out.println(&quot;\\nTotal\\t&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1638252061,"post_id":70164971,"comment_id":124032223,"body_markdown":"You initialize `driver` after constructing `LoginPage`.","body":"You initialize <code>driver</code> after constructing <code>LoginPage</code>."},{"owner":{"account_id":20724956,"reputation":3,"user_id":15218498,"display_name":"Varun"},"score":0,"creation_date":1638253190,"post_id":70164971,"comment_id":124032482,"body_markdown":"yes I tried but still I am getting the same NPE","body":"yes I tried but still I am getting the same NPE"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1638255235,"post_id":70164971,"comment_id":124033034,"body_markdown":"You tried what?","body":"You tried what?"},{"owner":{"account_id":20724956,"reputation":3,"user_id":15218498,"display_name":"Varun"},"score":0,"creation_date":1638256455,"post_id":70164971,"comment_id":124033362,"body_markdown":"public LoginPage(WebDriver driver) {\n    \n    this.driver = driver;\n \n}\n\nPublic WebDriver driver;\n\nLike this ?","body":"public LoginPage(WebDriver driver) {          this.driver = driver;   }  Public WebDriver driver;  Like this ?"},{"owner":{"account_id":6331293,"reputation":1295,"user_id":4916156,"accept_rate":50,"display_name":"DDovzhenko"},"score":1,"creation_date":1638260516,"post_id":70164971,"comment_id":124034615,"body_markdown":"driver=initializeDriver();\nlp = new LoginPage(driver);\n...\nverifyPage();","body":"driver=initializeDriver(); lp = new LoginPage(driver); ... verifyPage();"},{"owner":{"account_id":20724956,"reputation":3,"user_id":15218498,"display_name":"Varun"},"score":0,"creation_date":1638267047,"post_id":70164971,"comment_id":124037034,"body_markdown":"Hi DDovzhenko, I have mentioned like this \npublic WebDriver driver;\nLoginPage lp = new LoginPage(driver);\n\t\n\t@Test\n\tpublic void loginDetails() throws IOException, InterruptedException\n\t{\n\t\t\n\t\tdriver=initializeDriver();\n\t\tverifyPage();","body":"Hi DDovzhenko, I have mentioned like this  public WebDriver driver; LoginPage lp = new LoginPage(driver); \t \t@Test \tpublic void loginDetails() throws IOException, InterruptedException \t{ \t\t \t\tdriver=initializeDriver(); \t\tverifyPage();"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638286623,"creation_date":1638286623,"answer_id":70171997,"question_id":70164971,"body_markdown":"You need to `initializeDriver()` before creating `LoginPage` object:\r\n```java\r\npublic class homePage extends base{\r\n    public WebDriver driver = initializeDriver();\r\n    LoginPage lp = new LoginPage(driver);\r\n\r\n    @Test\r\n    public void loginDetails() throws IOException, InterruptedException {\r\n        verifyPage();\r\n        \r\n        WebElement aadharNo = lp.user();\r\n        aadharNo.sendKeys(&quot;111111111111&quot;);\r\n        \r\n        WebElement password = lp.pass();\r\n        password.sendKeys(&quot;21102021&quot;);\r\n        \r\n        WebElement submit = lp.signIn();\r\n        submit.click();\r\n        \r\n        \r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \r\n        wait.until(ExpectedConditions.visibilityOf(lp.pro())).click();\r\n        \r\n        WebDriverWait wait1 = new WebDriverWait(driver, Duration.ofSeconds(10)); \r\n        wait1.until(ExpectedConditions.visibilityOf(lp.signOut())).click();      \r\n    }\r\n\r\n    (...)\r\n}\r\n```","title":"I am getting null pointer exception in page object class why I am getting NPE","body":"<p>You need to <code>initializeDriver()</code> before creating <code>LoginPage</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class homePage extends base{\n    public WebDriver driver = initializeDriver();\n    LoginPage lp = new LoginPage(driver);\n\n    @Test\n    public void loginDetails() throws IOException, InterruptedException {\n        verifyPage();\n        \n        WebElement aadharNo = lp.user();\n        aadharNo.sendKeys(&quot;111111111111&quot;);\n        \n        WebElement password = lp.pass();\n        password.sendKeys(&quot;21102021&quot;);\n        \n        WebElement submit = lp.signIn();\n        submit.click();\n        \n        \n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \n        wait.until(ExpectedConditions.visibilityOf(lp.pro())).click();\n        \n        WebDriverWait wait1 = new WebDriverWait(driver, Duration.ofSeconds(10)); \n        wait1.until(ExpectedConditions.visibilityOf(lp.signOut())).click();      \n    }\n\n    (...)\n}\n</code></pre>\n"}],"owner":{"account_id":20724956,"reputation":3,"user_id":15218498,"display_name":"Varun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70171997,"answer_count":1,"score":0,"last_activity_date":1638286623,"creation_date":1638251968,"question_id":70164971,"body_markdown":"    Base class\r\n    package resources;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.time.Duration;\r\n    import java.util.Properties;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.testng.Assert;\r\n    \r\n    \r\n    public class base {\r\n    \r\n    public WebDriver driver;\r\n    public Properties property;\r\n    public String url= &quot;qwerty&quot;; \r\n    \r\n    \r\n    public WebDriver initializeDriver() throws IOException {\r\n        \r\n        \r\n        property = new Properties();\r\n        FileInputStream file = new FileInputStream(&quot;D:\\\\qwe\\\\rty\\\\src\\\\main\\\\java\\\\resources\\\\data.properties&quot;);\r\n        \r\n        property.load(file);\r\n        String BrowserName = property.getProperty(&quot;browser&quot;);\r\n         \r\n        if(BrowserName.equals(&quot;chrome&quot;)) \r\n        {\r\n         System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\qwe\\\\rty\\\\chromedriver.exe&quot;);   \r\n            driver = new ChromeDriver();\r\n            \r\n        }\r\n        else if(BrowserName.equals(&quot;firefox&quot;)) \r\n        {\r\n            driver = new FirefoxDriver();\r\n        }\r\n        else if(BrowserName.equals(&quot;IE&quot;)) \r\n        {\r\n            //Executes IE\r\n        }\r\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\r\n        return driver;\r\n    }\r\n    \r\n    public WebDriver verifyPage() {\r\n        \r\n        driver.get(url);\r\n        String Expected = driver.findElement(By.cssSelector(&quot;p[class=&#39;login-box-msg&#39;]&quot;)).getText();\r\n        String Actual = &quot;Sign in to start your session&quot;;\r\n        Assert.assertEquals(Actual, Expected);\r\n        System.out.println(&quot;Homepage is displayed&quot;);\r\n        return driver;\r\n    }\r\n    }\r\n    \r\n    Page Object class\r\n   I am getting NPE in user() method in this line  return driver.findElement(username);\r\n\r\n    package pageObjects;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    \r\n    public class LoginPage {\r\n    \r\n    public WebDriver driver;\r\n    \r\n    By username = By.xpath(&quot;//input[@type=&#39;text&#39;]&quot;);\r\n    By password = By.xpath(&quot;//input[@type=&#39;password&#39;]&quot;);\r\n    By login = By.xpath(&quot;//button[@type=&#39;submit&#39;]&quot;);\r\n    By profile = By.xpath(&quot;//li[contains(@class,&#39;nav-item dropdown user-menu&#39;)]/a[1]/img&quot;);\r\n    By logout = By.xpath(&quot;//li[@class=&#39;user-footer&#39;]/a[1]&quot;);\r\n     \r\n    \r\n    \r\n    \r\n    public LoginPage(WebDriver driver) {\r\n        \r\n        this.driver = driver;\r\n     \r\n    }\r\n    \r\n    \r\n    public WebElement user() {\r\n    \r\n        return driver.findElement(username);\r\n    }\r\n    \r\n    public WebElement pass() {\r\n    \r\n        return driver.findElement(password);\r\n    }\r\n    \r\n    public WebElement signIn() {\r\n    \r\n        return driver.findElement(login);\r\n    }\r\n    \r\n    public WebElement pro() {\r\n    \r\n        return driver.findElement(profile);\r\n    }\r\n    \r\n    public WebElement signOut() {\r\n    \r\n        return driver.findElement(logout);\r\n    } \r\n    }\r\n    \r\n    Testcase\r\nWhen I run testcase when I call lp.user() geeting NPE error in page object class    \r\n\r\n    package Admission;\r\n    \r\n    import java.io.IOException;\r\n    import java.time.Duration;\r\n    \r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import pageObjects.LoginPage;\r\n    import resources.base;\r\n    \r\n    \r\n    public class homePage extends base{\r\n    \r\n    \r\n    public WebDriver driver;\r\n    LoginPage lp = new LoginPage(driver);\r\n    \r\n    @Test\r\n    public void loginDetails() throws IOException, InterruptedException\r\n    {\r\n        \r\n        driver=initializeDriver();\r\n        verifyPage();\r\n        \r\n        \r\n        WebElement aadharNo = lp.user();\r\n        aadharNo.sendKeys(&quot;111111111111&quot;);\r\n        \r\n        WebElement password = lp.pass();\r\n        password.sendKeys(&quot;21102021&quot;);\r\n        \r\n        WebElement submit = lp.signIn();\r\n        submit.click();\r\n        \r\n        \r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \r\n        wait.until(ExpectedConditions.visibilityOf(lp.pro())).click();\r\n        \r\n        WebDriverWait wait1 = new WebDriverWait(driver, Duration.ofSeconds(10)); \r\n        wait1.until(ExpectedConditions.visibilityOf(lp.signOut())).click();\r\n        \r\n    }\r\n    \r\n        @Test\r\n        public void testCase() {\r\n            \r\n        WebElement aadharNo = lp.user();\r\n        WebDriverWait wait2 = new WebDriverWait(driver, Duration.ofSeconds(30)); \r\n        wait2.until(ExpectedConditions.visibilityOf(aadharNo));\r\n        aadharNo.sendKeys(&quot;111111111111&quot;);\r\n        \r\n        WebElement password = lp.pass();\r\n        WebDriverWait wait3 = new WebDriverWait(driver, Duration.ofSeconds(20)); \r\n        wait3.until(ExpectedConditions.elementToBeSelected(password));\r\n        password.sendKeys(&quot;hgfhg&quot;);\r\n        lp.signIn();\r\n    }\r\n    }\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\r\n\tat pageObjects.LoginPage.user(LoginPage.java:31)\r\n\tat Admission.homePage.testCase(homePage.java:52)","title":"I am getting null pointer exception in page object class why I am getting NPE","body":"<pre><code>Base class\npackage resources;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.Properties;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\n\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.testng.Assert;\n\n\npublic class base {\n\npublic WebDriver driver;\npublic Properties property;\npublic String url= &quot;qwerty&quot;; \n\n\npublic WebDriver initializeDriver() throws IOException {\n    \n    \n    property = new Properties();\n    FileInputStream file = new FileInputStream(&quot;D:\\\\qwe\\\\rty\\\\src\\\\main\\\\java\\\\resources\\\\data.properties&quot;);\n    \n    property.load(file);\n    String BrowserName = property.getProperty(&quot;browser&quot;);\n     \n    if(BrowserName.equals(&quot;chrome&quot;)) \n    {\n     System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\qwe\\\\rty\\\\chromedriver.exe&quot;);   \n        driver = new ChromeDriver();\n        \n    }\n    else if(BrowserName.equals(&quot;firefox&quot;)) \n    {\n        driver = new FirefoxDriver();\n    }\n    else if(BrowserName.equals(&quot;IE&quot;)) \n    {\n        //Executes IE\n    }\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\n    return driver;\n}\n\npublic WebDriver verifyPage() {\n    \n    driver.get(url);\n    String Expected = driver.findElement(By.cssSelector(&quot;p[class='login-box-msg']&quot;)).getText();\n    String Actual = &quot;Sign in to start your session&quot;;\n    Assert.assertEquals(Actual, Expected);\n    System.out.println(&quot;Homepage is displayed&quot;);\n    return driver;\n}\n}\n\nPage Object class\n</code></pre>\n<p>I am getting NPE in user() method in this line  return driver.findElement(username);</p>\n<pre><code>package pageObjects;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\n\npublic class LoginPage {\n\npublic WebDriver driver;\n\nBy username = By.xpath(&quot;//input[@type='text']&quot;);\nBy password = By.xpath(&quot;//input[@type='password']&quot;);\nBy login = By.xpath(&quot;//button[@type='submit']&quot;);\nBy profile = By.xpath(&quot;//li[contains(@class,'nav-item dropdown user-menu')]/a[1]/img&quot;);\nBy logout = By.xpath(&quot;//li[@class='user-footer']/a[1]&quot;);\n \n\n\n\npublic LoginPage(WebDriver driver) {\n    \n    this.driver = driver;\n \n}\n\n\npublic WebElement user() {\n\n    return driver.findElement(username);\n}\n\npublic WebElement pass() {\n\n    return driver.findElement(password);\n}\n\npublic WebElement signIn() {\n\n    return driver.findElement(login);\n}\n\npublic WebElement pro() {\n\n    return driver.findElement(profile);\n}\n\npublic WebElement signOut() {\n\n    return driver.findElement(logout);\n} \n}\n\nTestcase\n</code></pre>\n<p>When I run testcase when I call lp.user() geeting NPE error in page object class</p>\n<pre><code>package Admission;\n\nimport java.io.IOException;\nimport java.time.Duration;\n\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.annotations.Test;\n\nimport pageObjects.LoginPage;\nimport resources.base;\n\n\npublic class homePage extends base{\n\n\npublic WebDriver driver;\nLoginPage lp = new LoginPage(driver);\n\n@Test\npublic void loginDetails() throws IOException, InterruptedException\n{\n    \n    driver=initializeDriver();\n    verifyPage();\n    \n    \n    WebElement aadharNo = lp.user();\n    aadharNo.sendKeys(&quot;111111111111&quot;);\n    \n    WebElement password = lp.pass();\n    password.sendKeys(&quot;21102021&quot;);\n    \n    WebElement submit = lp.signIn();\n    submit.click();\n    \n    \n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10)); \n    wait.until(ExpectedConditions.visibilityOf(lp.pro())).click();\n    \n    WebDriverWait wait1 = new WebDriverWait(driver, Duration.ofSeconds(10)); \n    wait1.until(ExpectedConditions.visibilityOf(lp.signOut())).click();\n    \n}\n\n    @Test\n    public void testCase() {\n        \n    WebElement aadharNo = lp.user();\n    WebDriverWait wait2 = new WebDriverWait(driver, Duration.ofSeconds(30)); \n    wait2.until(ExpectedConditions.visibilityOf(aadharNo));\n    aadharNo.sendKeys(&quot;111111111111&quot;);\n    \n    WebElement password = lp.pass();\n    WebDriverWait wait3 = new WebDriverWait(driver, Duration.ofSeconds(20)); \n    wait3.until(ExpectedConditions.elementToBeSelected(password));\n    password.sendKeys(&quot;hgfhg&quot;);\n    lp.signIn();\n}\n}\n</code></pre>\n<p>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\nat pageObjects.LoginPage.user(LoginPage.java:31)\nat Admission.homePage.testCase(homePage.java:52)</p>\n"},{"tags":["java","devops","database-migration","cloud-foundry","flyway"],"answers":[{"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1623071612,"creation_date":1623071309,"answer_id":67872218,"question_id":67865826,"body_markdown":"&gt;I was recommended to use cf run-task. After checking, my understanding is that, cf run-task is a &quot;SSH client&quot; interface to the cf space since we can even run &quot;echo 1&quot; as a cf task.\r\n\r\nThat&#39;s not quite right. A task is a resource that is attached to an app. It triggers the creation of a separate container based on the droplet used for your app wherein the command you set will be executed. A task is expected to have a finite lifetime (i.e. it&#39;ll run, then exit), as opposed to an app that is expected to run and continue running forever.\r\n\r\nThe task will run in a container configured exactly like the app, this also includes having environment variables set and services bound just like your app.\r\n\r\n&gt;1. Does the rail environment need to be setup manually and how? I know we can run something like sudo apt install xxx via SSH, but I think it&#39;s kinda weird in production. Can we do it in a more elegant way like with cf push or another cf task maybe?\r\n\r\nThe first step is that you need to `cf push` your Rails app. When you `cf push` the app, the Ruby buildpack will run and install everything required to run your app. The resulting droplet will then be available for use to run your app or other tasks.\r\n\r\nIt is a little trickier if you want to ensure that your task runs before your app starts, which is generally what you want for database migrations.\r\n\r\nHere&#39;s how you&#39;d do that:\r\n\r\n1. Run `cf push --no-start`. That argument ensures your app won&#39;t start. Unfortunately, it also means the app doesn&#39;t stage so we can&#39;t run a task yet.\r\n2. Run `cf v3-packages my-cool-app` (v6 cf cli) or `cf packages my-cool-app` (v7 cf cli). Copy the most recent package guid, if it&#39;s your first push there will only be one.\r\n3. Run `cf v3-stage my-cool-app --package-guid &lt;package-guid&gt;` (v6 cf cli) or `cf stage my-cool-app --package-guid &lt;package-guid&gt;` (v7 cf cli). You&#39;ll see output that&#39;s similar to `cf push`, it&#39;s the buildpack running and a droplet being created. The output will say `Packaged staged` and have a `droplet guid: &lt;guid&gt;` listing. Copy that guid.\r\n4. Then run `cf v3-set-droplet my-cool-app -d &lt;droplet-guid&gt;` (v6 cf cli) or `cf set-droplet my-cool-app -d &lt;droplet-guid&gt;` (v7 cf cli). This will set the droplet created as the currently active droplet.\r\n5. You can now `cf run-task`.\r\n\r\n&gt;2. So I need to use flyway db migration but how we can upload a script (as a file) or save .sql files to CF space? SSH?\r\n\r\nYou&#39;d start by pushing your app, as mentioned previously. After the app is staged, you can then run a task which can be any command. In your case, you&#39;d specify the command to run your migration.\r\n\r\nThe current working directory from which the command will run will be the root of your application (i.e. what you `cf push`&#39;d or the `-p` argument to `cf push`).\r\n\r\n&gt;3. I tested on my cf space. I can only run java because it comes with a java build pack. so the problem becomes: how I can run a java script (same problem as Problem 2) or\r\n\r\nYou can only run something that is present in the [base image](https://hub.docker.com/r/cloudfoundry/cflinuxfs3) or that has been installed by a buildpack. If you&#39;re running the Java buildpack you&#39;ll have java (a JRE specifically) available. It is not on the $PATH by default, but you can run `.java-buildpack/open_jdk_jre/bin/java`.\r\n\r\nFor example: `cf run-task my-cool-app &#39;.java-buildpack/open_jdk_jre/bin/java -version&#39;`\r\n\r\nIf you need other tools, then you can have multiple buildpacks run. For example, if you need to execute Javascript code you could have Node.js buildpack run. There is also an [apt-buildpack](https://github.com/cloudfoundry/apt-buildpack) which can be used to install additional packages available through apt or `.deb` files.\r\n\r\nNote that the Java buildpack *must* be the last buildpack listed. It only works as the final buildpack.\r\n\r\n&gt; a java class inside my pushed jar to run the db migration?\r\n\r\nAs mentioned, the current working directory is the root of what you push (with Java, it&#39;s the root of your JAR/WAR). So you can do `java -cp . com.example.Main` where `-cp .` sets the classpath to include the current directory, where your class files exist. If you look at the command generated by the Java buildpack to run your app, it&#39;ll be similar. It has `$PWD/.`, which is basically the same.\n","title":"Does cf run-task need env/script uploaded befrore running? An elegant way?","body":"<blockquote>\n<p>I was recommended to use cf run-task. After checking, my understanding is that, cf run-task is a &quot;SSH client&quot; interface to the cf space since we can even run &quot;echo 1&quot; as a cf task.</p>\n</blockquote>\n<p>That's not quite right. A task is a resource that is attached to an app. It triggers the creation of a separate container based on the droplet used for your app wherein the command you set will be executed. A task is expected to have a finite lifetime (i.e. it'll run, then exit), as opposed to an app that is expected to run and continue running forever.</p>\n<p>The task will run in a container configured exactly like the app, this also includes having environment variables set and services bound just like your app.</p>\n<blockquote>\n<ol>\n<li>Does the rail environment need to be setup manually and how? I know we can run something like sudo apt install xxx via SSH, but I think it's kinda weird in production. Can we do it in a more elegant way like with cf push or another cf task maybe?</li>\n</ol>\n</blockquote>\n<p>The first step is that you need to <code>cf push</code> your Rails app. When you <code>cf push</code> the app, the Ruby buildpack will run and install everything required to run your app. The resulting droplet will then be available for use to run your app or other tasks.</p>\n<p>It is a little trickier if you want to ensure that your task runs before your app starts, which is generally what you want for database migrations.</p>\n<p>Here's how you'd do that:</p>\n<ol>\n<li>Run <code>cf push --no-start</code>. That argument ensures your app won't start. Unfortunately, it also means the app doesn't stage so we can't run a task yet.</li>\n<li>Run <code>cf v3-packages my-cool-app</code> (v6 cf cli) or <code>cf packages my-cool-app</code> (v7 cf cli). Copy the most recent package guid, if it's your first push there will only be one.</li>\n<li>Run <code>cf v3-stage my-cool-app --package-guid &lt;package-guid&gt;</code> (v6 cf cli) or <code>cf stage my-cool-app --package-guid &lt;package-guid&gt;</code> (v7 cf cli). You'll see output that's similar to <code>cf push</code>, it's the buildpack running and a droplet being created. The output will say <code>Packaged staged</code> and have a <code>droplet guid: &lt;guid&gt;</code> listing. Copy that guid.</li>\n<li>Then run <code>cf v3-set-droplet my-cool-app -d &lt;droplet-guid&gt;</code> (v6 cf cli) or <code>cf set-droplet my-cool-app -d &lt;droplet-guid&gt;</code> (v7 cf cli). This will set the droplet created as the currently active droplet.</li>\n<li>You can now <code>cf run-task</code>.</li>\n</ol>\n<blockquote>\n<ol start=\"2\">\n<li>So I need to use flyway db migration but how we can upload a script (as a file) or save .sql files to CF space? SSH?</li>\n</ol>\n</blockquote>\n<p>You'd start by pushing your app, as mentioned previously. After the app is staged, you can then run a task which can be any command. In your case, you'd specify the command to run your migration.</p>\n<p>The current working directory from which the command will run will be the root of your application (i.e. what you <code>cf push</code>'d or the <code>-p</code> argument to <code>cf push</code>).</p>\n<blockquote>\n<ol start=\"3\">\n<li>I tested on my cf space. I can only run java because it comes with a java build pack. so the problem becomes: how I can run a java script (same problem as Problem 2) or</li>\n</ol>\n</blockquote>\n<p>You can only run something that is present in the <a href=\"https://hub.docker.com/r/cloudfoundry/cflinuxfs3\" rel=\"nofollow noreferrer\">base image</a> or that has been installed by a buildpack. If you're running the Java buildpack you'll have java (a JRE specifically) available. It is not on the $PATH by default, but you can run <code>.java-buildpack/open_jdk_jre/bin/java</code>.</p>\n<p>For example: <code>cf run-task my-cool-app '.java-buildpack/open_jdk_jre/bin/java -version'</code></p>\n<p>If you need other tools, then you can have multiple buildpacks run. For example, if you need to execute Javascript code you could have Node.js buildpack run. There is also an <a href=\"https://github.com/cloudfoundry/apt-buildpack\" rel=\"nofollow noreferrer\">apt-buildpack</a> which can be used to install additional packages available through apt or <code>.deb</code> files.</p>\n<p>Note that the Java buildpack <em>must</em> be the last buildpack listed. It only works as the final buildpack.</p>\n<blockquote>\n<p>a java class inside my pushed jar to run the db migration?</p>\n</blockquote>\n<p>As mentioned, the current working directory is the root of what you push (with Java, it's the root of your JAR/WAR). So you can do <code>java -cp . com.example.Main</code> where <code>-cp .</code> sets the classpath to include the current directory, where your class files exist. If you look at the command generated by the Java buildpack to run your app, it'll be similar. It has <code>$PWD/.</code>, which is basically the same.</p>\n"}],"owner":{"account_id":12160378,"reputation":25,"user_id":8878100,"display_name":"Spen1210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67872218,"answer_count":1,"score":0,"last_activity_date":1638286338,"creation_date":1623038832,"question_id":67865826,"body_markdown":"I&#39;m working with cloud foundry. **My need** is to run a database migration aside from my application so that I can trigger the migration in some way (cf command, api call, etc) when I need.\r\n\r\nI was recommended to use `cf run-task`. After checking, my understanding is that, cf run-task is a &quot;SSH client&quot; interface to the cf space since we can even run `&quot;echo 1&quot;` as a cf task. I see examples on the official cf CLI docs or some online guides saying that `cf run-task my-app &quot;bin/rails db:migrate&quot; --name my-task`. \r\n\r\nBut I&#39;m still confused. My questions are:\r\n\r\n1. Does the rail environment need to be setup manually and how? I know we can run something like `sudo apt install xxx` via SSH, but I think it&#39;s kinda weird in production. Can we do it in a more elegant way like with `cf push` or another cf task maybe? \r\n\r\n2. So I need to use flyway db migration but how we can upload a script (as a file) or save .sql files to CF space? SSH? \r\n\r\n3. I tested on my cf space. I can only run java because it comes with a java build pack. so the problem becomes: how I can run a java script (same problem as Problem 2) or a java class inside my pushed jar to run the db migration?\r\n\r\n\r\nI&#39;m new to CF and this might be a really stupid but I&#39;ve spent days on it and have not got a proper answer yet. My temporary solution is to expose a &quot;/dbmigration&quot; api in the controller. Then implement the db migration in the service. Then I can run `cf run-task APP_NAME -c &quot;curl https://xxxxx.xxx.xxx/dbmigration&quot; ` to trigger a db migration when needed. But I still need to handle dbname, user, password, etc in the application service which it&#39;s not preferred.\r\n Thanks ahead. ","title":"Does cf run-task need env/script uploaded befrore running? An elegant way?","body":"<p>I'm working with cloud foundry. <strong>My need</strong> is to run a database migration aside from my application so that I can trigger the migration in some way (cf command, api call, etc) when I need.</p>\n<p>I was recommended to use <code>cf run-task</code>. After checking, my understanding is that, cf run-task is a &quot;SSH client&quot; interface to the cf space since we can even run <code>&quot;echo 1&quot;</code> as a cf task. I see examples on the official cf CLI docs or some online guides saying that <code>cf run-task my-app &quot;bin/rails db:migrate&quot; --name my-task</code>.</p>\n<p>But I'm still confused. My questions are:</p>\n<ol>\n<li><p>Does the rail environment need to be setup manually and how? I know we can run something like <code>sudo apt install xxx</code> via SSH, but I think it's kinda weird in production. Can we do it in a more elegant way like with <code>cf push</code> or another cf task maybe?</p>\n</li>\n<li><p>So I need to use flyway db migration but how we can upload a script (as a file) or save .sql files to CF space? SSH?</p>\n</li>\n<li><p>I tested on my cf space. I can only run java because it comes with a java build pack. so the problem becomes: how I can run a java script (same problem as Problem 2) or a java class inside my pushed jar to run the db migration?</p>\n</li>\n</ol>\n<p>I'm new to CF and this might be a really stupid but I've spent days on it and have not got a proper answer yet. My temporary solution is to expose a &quot;/dbmigration&quot; api in the controller. Then implement the db migration in the service. Then I can run <code>cf run-task APP_NAME -c &quot;curl https://xxxxx.xxx.xxx/dbmigration&quot; </code> to trigger a db migration when needed. But I still need to handle dbname, user, password, etc in the application service which it's not preferred.\nThanks ahead.</p>\n"},{"tags":["java","ssl","ldap","jndi","jsse"],"answers":[{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1329928124,"creation_date":1329915969,"answer_id":9395353,"question_id":9394864,"body_markdown":"You should pass the name of own `SSLSocketFactory` subclass and pass its fully qualified named into the `&quot;java.naming.ldap.factory.socket&quot;` env property, as described in the [&quot;*Using Custom Sockets*&quot; section of the Java LDAP/SSL guide][1]:\r\n\r\n    env.put(&quot;java.naming.ldap.factory.socket&quot;, &quot;example.CustomSocketFactory&quot;);\r\n\r\nYou can&#39;t pass any specific argument to this class, see instantiation in [`com.sun.jndi.ldap.Connection.createSocket(...)`][2]:\r\n\r\n    Class socketFactoryClass = Obj.helper.loadClass(socketFactory);\r\n    Method getDefault =\r\n        socketFactoryClass.getMethod(&quot;getDefault&quot;, new Class[]{});\r\n    Object factory = getDefault.invoke(null, new Object[]{});\r\n\r\nIf you want additional parameters, you may have to use static members or JNDI perhaps (usually not ideal).\r\n\r\nAs far as I can tell, there doesn&#39;t seem to be any hostname verification when using `ldaps://` in this implementation unfortunately. If you only trust one explicit certificate in your trust manager, this should compensate for the lack of hostname verification anyway.\r\n\r\n  [1]: http://docs.oracle.com/javase/jndi/tutorial/ldap/security/ssl.html\r\n  [2]: http://www.docjar.com/html/api/com/sun/jndi/ldap/Connection.java.html","title":"jndi LDAPS custom HostnameVerifier and TrustManager","body":"<p>You should pass the name of own <code>SSLSocketFactory</code> subclass and pass its fully qualified named into the <code>\"java.naming.ldap.factory.socket\"</code> env property, as described in the <a href=\"http://docs.oracle.com/javase/jndi/tutorial/ldap/security/ssl.html\" rel=\"nofollow\">\"<em>Using Custom Sockets</em>\" section of the Java LDAP/SSL guide</a>:</p>\n\n<pre><code>env.put(\"java.naming.ldap.factory.socket\", \"example.CustomSocketFactory\");\n</code></pre>\n\n<p>You can't pass any specific argument to this class, see instantiation in <a href=\"http://www.docjar.com/html/api/com/sun/jndi/ldap/Connection.java.html\" rel=\"nofollow\"><code>com.sun.jndi.ldap.Connection.createSocket(...)</code></a>:</p>\n\n<pre><code>Class socketFactoryClass = Obj.helper.loadClass(socketFactory);\nMethod getDefault =\n    socketFactoryClass.getMethod(\"getDefault\", new Class[]{});\nObject factory = getDefault.invoke(null, new Object[]{});\n</code></pre>\n\n<p>If you want additional parameters, you may have to use static members or JNDI perhaps (usually not ideal).</p>\n\n<p>As far as I can tell, there doesn't seem to be any hostname verification when using <code>ldaps://</code> in this implementation unfortunately. If you only trust one explicit certificate in your trust manager, this should compensate for the lack of hostname verification anyway.</p>\n"},{"tags":[],"owner":{"account_id":21009,"reputation":4296,"user_id":50750,"accept_rate":58,"display_name":"Steffen Heil"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1331813282,"creation_date":1331813282,"answer_id":9719354,"question_id":9394864,"body_markdown":"For others have the same problem: I found a very ugly solution for my case:\r\n\r\n    import javax.net.SocketFactory;\r\n\r\n    public abstract class ThreadLocalSocketFactory\r\n      extends SocketFactory\r\n    {\r\n\r\n      static ThreadLocal&lt;SocketFactory&gt; local = new ThreadLocal&lt;SocketFactory&gt;();\r\n    \r\n      public static SocketFactory getDefault()\r\n      {\r\n        SocketFactory result = local.get();\r\n        if ( result == null )\r\n          throw new IllegalStateException();\r\n        return result;\r\n      }\r\n\r\n      public static void set( SocketFactory factory )\r\n      {\r\n        local.set( factory );\r\n      }\r\n\r\n      public static void remove()\r\n      {\r\n        local.remove();\r\n      }\r\n\r\n    }\r\n\r\nUsing it like this:\r\n\r\n    env.put( &quot;java.naming.ldap.factory.socket&quot;, ThreadLocalSocketFactory.class.getName() );\r\n    ThreadLocalSocketFactory.set( sslContext.getSocketFactory() );\r\n    try {\r\n      ctx = new InitialLdapContext( env, null );\r\n    } finally {\r\n      ThreadLocalSocketFactory.remove();\r\n    }\r\n\r\nNot nice, but it works.\r\nJNDI should be more flexible here...","title":"jndi LDAPS custom HostnameVerifier and TrustManager","body":"<p>For others have the same problem: I found a very ugly solution for my case:</p>\n\n<pre><code>import javax.net.SocketFactory;\n\npublic abstract class ThreadLocalSocketFactory\n  extends SocketFactory\n{\n\n  static ThreadLocal&lt;SocketFactory&gt; local = new ThreadLocal&lt;SocketFactory&gt;();\n\n  public static SocketFactory getDefault()\n  {\n    SocketFactory result = local.get();\n    if ( result == null )\n      throw new IllegalStateException();\n    return result;\n  }\n\n  public static void set( SocketFactory factory )\n  {\n    local.set( factory );\n  }\n\n  public static void remove()\n  {\n    local.remove();\n  }\n\n}\n</code></pre>\n\n<p>Using it like this:</p>\n\n<pre><code>env.put( \"java.naming.ldap.factory.socket\", ThreadLocalSocketFactory.class.getName() );\nThreadLocalSocketFactory.set( sslContext.getSocketFactory() );\ntry {\n  ctx = new InitialLdapContext( env, null );\n} finally {\n  ThreadLocalSocketFactory.remove();\n}\n</code></pre>\n\n<p>Not nice, but it works.\nJNDI should be more flexible here...</p>\n"},{"tags":[],"owner":{"account_id":4307573,"reputation":1270,"user_id":3519572,"display_name":"tomorrow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638286329,"creation_date":1638286329,"answer_id":70171917,"question_id":9394864,"body_markdown":"I&#39;ve built my own solution that works for me but it&#39;s far from perfect. I&#39;m actually afraid there&#39;s no perfect solution due to the unfortunate implementation in `javax.naming`.\r\n\r\nMy `SelectiveLdapSslSocketFactory` contains a static Map mapping hosts to different SSLSocketFactories. When any of the `createSocket(...)` methods is called, the call is delegated to the corresponding `SSLSocketFactory`. It also contains a `defaultSslSocketFactory` used for hosts without any mapping and also in the `getDefaultCipherSuites()` and `getSupportedCipherSuites()` methods. I&#39;m not sure, if it&#39;s correct but it works fine in my case so test it if you like:\r\n\r\n    public class SelectiveLdapSslSocketFactory extends SSLSocketFactory {\r\n    \r\n        private static SSLSocketFactory defaultSslSocketFactory;\r\n        private static final Map&lt;String, SSLSocketFactory&gt; hostToSslSocketFactoryMap = new HashMap&lt;&gt;();\r\n        \r\n        {\r\n            try {\r\n                defaultSslSocketFactory = &lt;yourOwnDefaultSslSocketFactory&gt;;\r\n            } catch (Exception ex) {\r\n                Logger.warn(ex, &quot;Couldn&#39;t initialize a defaultSslSocketFactory for LDAP connections!&quot;);\r\n            }\r\n        }\r\n    \r\n        public static SSLSocketFactory getRegisteredSslSocketFactory(String host) {\r\n            return hostToSslSocketFactoryMap.get(host);\r\n        }\r\n    \r\n        public static void registerSslSocketFactory(String host, SSLSocketFactory sslSocketFactory) {\r\n            hostToSslSocketFactoryMap.put(host, sslSocketFactory);\r\n        }\r\n    \r\n        public static void deregisterSslSocketFactory(String host) {\r\n            hostToSslSocketFactoryMap.remove(host);\r\n        }\r\n    \r\n        public SelectiveLdapSslSocketFactory() {\r\n        }\r\n    \r\n        public static SocketFactory getDefault() {\r\n            return new SelectiveLdapSslSocketFactory();\r\n        }\r\n    \r\n        @Override\r\n        public String[] getDefaultCipherSuites() {\r\n            return defaultSslSocketFactory.getDefaultCipherSuites();\r\n        }\r\n    \r\n        @Override\r\n        public String[] getSupportedCipherSuites() {\r\n            return defaultSslSocketFactory.getSupportedCipherSuites();\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(Socket s, String host, int port, boolean autoClose) throws IOException {\r\n            SSLSocketFactory sslSocketFactory = Objects.requireNonNullElse(hostToSslSocketFactoryMap.get(host), defaultSslSocketFactory);\r\n            return sslSocketFactory.createSocket(s, host, port, autoClose);\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(String host, int port) throws IOException, UnknownHostException {\r\n            SSLSocketFactory sslSocketFactory = Objects.requireNonNullElse(hostToSslSocketFactoryMap.get(host), defaultSslSocketFactory);\r\n            return sslSocketFactory.createSocket(host, port);\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(String host, int port, InetAddress localHost, int localPort) throws IOException, UnknownHostException {\r\n            SSLSocketFactory sslSocketFactory = Objects.requireNonNullElse(hostToSslSocketFactoryMap.get(host), defaultSslSocketFactory);\r\n            return sslSocketFactory.createSocket(host, port, localHost, localPort);\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(InetAddress host, int port) throws IOException {\r\n            SSLSocketFactory sslSocketFactory = getSslSocketFactory(host);\r\n            return sslSocketFactory.createSocket(host, port);\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(InetAddress address, int port, InetAddress localAddress, int localPort) throws IOException {\r\n            SSLSocketFactory sslSocketFactory = getSslSocketFactory(address);\r\n            return sslSocketFactory.createSocket(address, port, localAddress, localPort);\r\n        }\r\n    \r\n        private SSLSocketFactory getSslSocketFactory(InetAddress inetAddress) {\r\n            SSLSocketFactory sslSocketFactory = hostToSslSocketFactoryMap.get(Objects.requireNonNullElse(inetAddress.getCanonicalHostName(), &quot;&quot;));\r\n            if (sslSocketFactory == null) {\r\n                sslSocketFactory = hostToSslSocketFactoryMap.get(Objects.requireNonNullElse(inetAddress.getHostName(), &quot;&quot;));\r\n                if (sslSocketFactory == null) {\r\n                    sslSocketFactory = hostToSslSocketFactoryMap.get(Objects.requireNonNullElse(inetAddress.getHostAddress(), &quot;&quot;));\r\n                    if (sslSocketFactory == null) {\r\n                        sslSocketFactory = defaultSslSocketFactory;\r\n                    }\r\n                }\r\n            }\r\n            return sslSocketFactory;\r\n        }\r\n    }\r\n\r\n\r\nYou can then use it like:\r\n\r\n    ...\r\n    SelectiveLdapSslSocketFactory.registerSslSocketFactory(host01, sslSocketFactory01);\r\n    SelectiveLdapSslSocketFactory.registerSslSocketFactory(host02, sslSocketFactory02);\r\n    SelectiveLdapSslSocketFactory.registerSslSocketFactory(host03, sslSocketFactory03);\r\n\r\n    props.put(&quot;java.naming.ldap.factory.socket&quot;, SelectiveLdapSslSocketFactory.class.getName());\r\n","title":"jndi LDAPS custom HostnameVerifier and TrustManager","body":"<p>I've built my own solution that works for me but it's far from perfect. I'm actually afraid there's no perfect solution due to the unfortunate implementation in <code>javax.naming</code>.</p>\n<p>My <code>SelectiveLdapSslSocketFactory</code> contains a static Map mapping hosts to different SSLSocketFactories. When any of the <code>createSocket(...)</code> methods is called, the call is delegated to the corresponding <code>SSLSocketFactory</code>. It also contains a <code>defaultSslSocketFactory</code> used for hosts without any mapping and also in the <code>getDefaultCipherSuites()</code> and <code>getSupportedCipherSuites()</code> methods. I'm not sure, if it's correct but it works fine in my case so test it if you like:</p>\n<pre><code>public class SelectiveLdapSslSocketFactory extends SSLSocketFactory {\n\n    private static SSLSocketFactory defaultSslSocketFactory;\n    private static final Map&lt;String, SSLSocketFactory&gt; hostToSslSocketFactoryMap = new HashMap&lt;&gt;();\n    \n    {\n        try {\n            defaultSslSocketFactory = &lt;yourOwnDefaultSslSocketFactory&gt;;\n        } catch (Exception ex) {\n            Logger.warn(ex, &quot;Couldn't initialize a defaultSslSocketFactory for LDAP connections!&quot;);\n        }\n    }\n\n    public static SSLSocketFactory getRegisteredSslSocketFactory(String host) {\n        return hostToSslSocketFactoryMap.get(host);\n    }\n\n    public static void registerSslSocketFactory(String host, SSLSocketFactory sslSocketFactory) {\n        hostToSslSocketFactoryMap.put(host, sslSocketFactory);\n    }\n\n    public static void deregisterSslSocketFactory(String host) {\n        hostToSslSocketFactoryMap.remove(host);\n    }\n\n    public SelectiveLdapSslSocketFactory() {\n    }\n\n    public static SocketFactory getDefault() {\n        return new SelectiveLdapSslSocketFactory();\n    }\n\n    @Override\n    public String[] getDefaultCipherSuites() {\n        return defaultSslSocketFactory.getDefaultCipherSuites();\n    }\n\n    @Override\n    public String[] getSupportedCipherSuites() {\n        return defaultSslSocketFactory.getSupportedCipherSuites();\n    }\n\n    @Override\n    public Socket createSocket(Socket s, String host, int port, boolean autoClose) throws IOException {\n        SSLSocketFactory sslSocketFactory = Objects.requireNonNullElse(hostToSslSocketFactoryMap.get(host), defaultSslSocketFactory);\n        return sslSocketFactory.createSocket(s, host, port, autoClose);\n    }\n\n    @Override\n    public Socket createSocket(String host, int port) throws IOException, UnknownHostException {\n        SSLSocketFactory sslSocketFactory = Objects.requireNonNullElse(hostToSslSocketFactoryMap.get(host), defaultSslSocketFactory);\n        return sslSocketFactory.createSocket(host, port);\n    }\n\n    @Override\n    public Socket createSocket(String host, int port, InetAddress localHost, int localPort) throws IOException, UnknownHostException {\n        SSLSocketFactory sslSocketFactory = Objects.requireNonNullElse(hostToSslSocketFactoryMap.get(host), defaultSslSocketFactory);\n        return sslSocketFactory.createSocket(host, port, localHost, localPort);\n    }\n\n    @Override\n    public Socket createSocket(InetAddress host, int port) throws IOException {\n        SSLSocketFactory sslSocketFactory = getSslSocketFactory(host);\n        return sslSocketFactory.createSocket(host, port);\n    }\n\n    @Override\n    public Socket createSocket(InetAddress address, int port, InetAddress localAddress, int localPort) throws IOException {\n        SSLSocketFactory sslSocketFactory = getSslSocketFactory(address);\n        return sslSocketFactory.createSocket(address, port, localAddress, localPort);\n    }\n\n    private SSLSocketFactory getSslSocketFactory(InetAddress inetAddress) {\n        SSLSocketFactory sslSocketFactory = hostToSslSocketFactoryMap.get(Objects.requireNonNullElse(inetAddress.getCanonicalHostName(), &quot;&quot;));\n        if (sslSocketFactory == null) {\n            sslSocketFactory = hostToSslSocketFactoryMap.get(Objects.requireNonNullElse(inetAddress.getHostName(), &quot;&quot;));\n            if (sslSocketFactory == null) {\n                sslSocketFactory = hostToSslSocketFactoryMap.get(Objects.requireNonNullElse(inetAddress.getHostAddress(), &quot;&quot;));\n                if (sslSocketFactory == null) {\n                    sslSocketFactory = defaultSslSocketFactory;\n                }\n            }\n        }\n        return sslSocketFactory;\n    }\n}\n</code></pre>\n<p>You can then use it like:</p>\n<pre><code>...\nSelectiveLdapSslSocketFactory.registerSslSocketFactory(host01, sslSocketFactory01);\nSelectiveLdapSslSocketFactory.registerSslSocketFactory(host02, sslSocketFactory02);\nSelectiveLdapSslSocketFactory.registerSslSocketFactory(host03, sslSocketFactory03);\n\nprops.put(&quot;java.naming.ldap.factory.socket&quot;, SelectiveLdapSslSocketFactory.class.getName());\n</code></pre>\n"}],"owner":{"account_id":21009,"reputation":4296,"user_id":50750,"accept_rate":58,"display_name":"Steffen Heil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6409,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":9719354,"answer_count":3,"score":6,"last_activity_date":1638286329,"creation_date":1329914149,"question_id":9394864,"body_markdown":"We are writing an application that shall connect to different LDAP servers. For each server we may only accept a certain certificate. The hostname in that certificate shall not matter. This is easy, when we use LDAP and STARTTLS, because we can use `StartTlsResponse.setHostnameVerifier(..-)` and use `StartTlsResponse.negotiate(...)` with a matching `SSLSocketFactory`. However we also need to support LDAPS connections. Java supports this natively, but only if the server certificate is trusted by the default java keystore. While we could replace that, we still cannot use different keystores for different servers.\r\n\r\nThe existing connection code is as follows:\r\n\r\n\tHashtable&lt;String,String&gt; env = new Hashtable&lt;String,String&gt;();\r\n\tenv.put( Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot; );\r\n\tenv.put( Context.PROVIDER_URL, ( encryption == SSL ? &quot;ldaps://&quot; : &quot;ldap://&quot; ) + host + &quot;:&quot; + port );\r\n\tif ( encryption == SSL ) {\r\n\t\t// env.put( &quot;java.naming.ldap.factory.socket&quot;, &quot;CustomSocketFactory&quot; );\r\n\t}\r\n\tctx = new InitialLdapContext( env, null );\r\n\tif ( encryption != START_TLS )\r\n\t\ttls = null;\r\n\telse {\r\n\t\ttls = (StartTlsResponse) ctx.extendedOperation( new StartTlsRequest() );\r\n\t\ttls.setHostnameVerifier( hostnameVerifier );\r\n\t\ttls.negotiate( sslContext.getSocketFactory() );\r\n\t}\r\n\r\nWe could add out own `CustomSocketFactory`, but how to pass information to that?","title":"jndi LDAPS custom HostnameVerifier and TrustManager","body":"<p>We are writing an application that shall connect to different LDAP servers. For each server we may only accept a certain certificate. The hostname in that certificate shall not matter. This is easy, when we use LDAP and STARTTLS, because we can use <code>StartTlsResponse.setHostnameVerifier(..-)</code> and use <code>StartTlsResponse.negotiate(...)</code> with a matching <code>SSLSocketFactory</code>. However we also need to support LDAPS connections. Java supports this natively, but only if the server certificate is trusted by the default java keystore. While we could replace that, we still cannot use different keystores for different servers.</p>\n\n<p>The existing connection code is as follows:</p>\n\n<pre><code>Hashtable&lt;String,String&gt; env = new Hashtable&lt;String,String&gt;();\nenv.put( Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.ldap.LdapCtxFactory\" );\nenv.put( Context.PROVIDER_URL, ( encryption == SSL ? \"ldaps://\" : \"ldap://\" ) + host + \":\" + port );\nif ( encryption == SSL ) {\n    // env.put( \"java.naming.ldap.factory.socket\", \"CustomSocketFactory\" );\n}\nctx = new InitialLdapContext( env, null );\nif ( encryption != START_TLS )\n    tls = null;\nelse {\n    tls = (StartTlsResponse) ctx.extendedOperation( new StartTlsRequest() );\n    tls.setHostnameVerifier( hostnameVerifier );\n    tls.negotiate( sslContext.getSocketFactory() );\n}\n</code></pre>\n\n<p>We could add out own <code>CustomSocketFactory</code>, but how to pass information to that?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8188,"page":1804,"page_size":100}
