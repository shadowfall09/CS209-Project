{"items":[{"tags":["java","junit","mockito","junit5","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":25084421,"reputation":141,"user_id":18936800,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650909052,"creation_date":1650888229,"answer_id":71999250,"question_id":71998936,"body_markdown":"Send console output of `arrayTest()`.\r\nI think that it&#39;s because you use Integer.MAX_VALUE and it has value **2147483647**. So last value in-work is **2147483000** and next **2147484000** is already out of int type size. So *index* variable just cannot be assigned to this value.\r\n\r\nSo\r\n\r\n - Do not use iteration step 1000, any value in iteration shouldn&#39;t be greater then Integer.MAX_VALUE.\r\n- Use any other max value less or equals **2147483000**\r\n\r\nEdit after adding OutOfMemoryException trace in the question:\r\n\r\nYou have no RAM memory resources to allocate array of this size. 2147483647 * 4 bytes = 8.6 GB RAM memory","title":"Why does Mockito skip tests when I use a large array?","body":"<p>Send console output of <code>arrayTest()</code>.\nI think that it's because you use Integer.MAX_VALUE and it has value <strong>2147483647</strong>. So last value in-work is <strong>2147483000</strong> and next <strong>2147484000</strong> is already out of int type size. So <em>index</em> variable just cannot be assigned to this value.</p>\n<p>So</p>\n<ul>\n<li>Do not use iteration step 1000, any value in iteration shouldn't be greater then Integer.MAX_VALUE.</li>\n<li>Use any other max value less or equals <strong>2147483000</strong></li>\n</ul>\n<p>Edit after adding OutOfMemoryException trace in the question:</p>\n<p>You have no RAM memory resources to allocate array of this size. 2147483647 * 4 bytes = 8.6 GB RAM memory</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650909052,"creation_date":1650886751,"question_id":71998936,"body_markdown":"I have the following test which I am trying to run through Mockito(in a Spring Boot Project):\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class TestClass {\r\n    \r\n        @Test\r\n        void arrayTest() {\r\n            int arrSize = Integer.MAX_VALUE;\r\n            Integer[] arr = new Integer[arrSize];\r\n    \r\n            for (int index = 0; index &lt; arr.length; index += 1000) {\r\n                for (int j = index; j &lt; Math.min(index + 1000, arr.length); j++) {\r\n                    arr[j] = 500;\r\n                }\r\n            }\r\n    \r\n            Assertions.assertEquals(arrSize, arr.length);\r\n        }\r\n    }\r\n\r\nPretty simple test just takes an array and sets its values to an integer number.\r\n\r\nBut when I run this test though **IntelliJ** I get the following output in the GUI:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I change `arrSize` to lets say `10`. The test works as its suppose to.\r\n\r\nWhat is going on here ?\r\n\r\nWhy is Mockito skipping the test ? **It should give me an OOM error correct ? Not skip the test.**\r\n\r\nIs anyone else getting the same behaviour with a similar test ?\r\n\r\nThanks\r\n\r\nIt seems to be an OOM issue looking at the verbose logs:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe problem still happens with different objects:\r\n\r\n    @Test\r\n        void arrayTest() {\r\n            int arrSize = 1_00_00_000;\r\n            Map[] arr = new Map[arrSize];\r\n    \r\n            for (int index = 0; index &lt; arr.length; index += 1000) {\r\n                for (int j = index; j &lt; Math.min(index + 1000, arr.length); j++) {\r\n                    arr[j] = new HashMap();\r\n                }\r\n            }\r\n            Assertions.assertEquals(arrSize, arr.length);\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/Hofnj.png\r\n  [2]: https://i.stack.imgur.com/QxANf.png\r\n","title":"Why does Mockito skip tests when I use a large array?","body":"<p>I have the following test which I am trying to run through Mockito(in a Spring Boot Project):</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class TestClass {\n\n    @Test\n    void arrayTest() {\n        int arrSize = Integer.MAX_VALUE;\n        Integer[] arr = new Integer[arrSize];\n\n        for (int index = 0; index &lt; arr.length; index += 1000) {\n            for (int j = index; j &lt; Math.min(index + 1000, arr.length); j++) {\n                arr[j] = 500;\n            }\n        }\n\n        Assertions.assertEquals(arrSize, arr.length);\n    }\n}\n</code></pre>\n<p>Pretty simple test just takes an array and sets its values to an integer number.</p>\n<p>But when I run this test though <strong>IntelliJ</strong> I get the following output in the GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/Hofnj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hofnj.png\" alt=\"enter image description here\" /></a></p>\n<p>When I change <code>arrSize</code> to lets say <code>10</code>. The test works as its suppose to.</p>\n<p>What is going on here ?</p>\n<p>Why is Mockito skipping the test ? <strong>It should give me an OOM error correct ? Not skip the test.</strong></p>\n<p>Is anyone else getting the same behaviour with a similar test ?</p>\n<p>Thanks</p>\n<p>It seems to be an OOM issue looking at the verbose logs:</p>\n<p><a href=\"https://i.stack.imgur.com/QxANf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxANf.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem still happens with different objects:</p>\n<pre><code>@Test\n    void arrayTest() {\n        int arrSize = 1_00_00_000;\n        Map[] arr = new Map[arrSize];\n\n        for (int index = 0; index &lt; arr.length; index += 1000) {\n            for (int j = index; j &lt; Math.min(index + 1000, arr.length); j++) {\n                arr[j] = new HashMap();\n            }\n        }\n        Assertions.assertEquals(arrSize, arr.length);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","netflix-feign"],"comments":[{"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"score":0,"creation_date":1555084221,"post_id":55531602,"comment_id":97999418,"body_markdown":"Is it a Spring boot application?","body":"Is it a Spring boot application?"},{"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"score":0,"creation_date":1555091653,"post_id":55531602,"comment_id":98002959,"body_markdown":"Yes it is - Added the Tag to indicate that.","body":"Yes it is - Added the Tag to indicate that."}],"answers":[{"tags":[],"owner":{"account_id":3418535,"reputation":856,"user_id":2866793,"display_name":"Tomasz Jagiełło"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1555140731,"creation_date":1555140731,"answer_id":55663112,"question_id":55531602,"body_markdown":"Maybe you could try using custom feign InvocationHandlerFactory.\r\n\r\nI&#39;ve managed to log RequestInterceptor using code like this:\r\n\r\n- change EnableFeignClients and add defaultConfiguration\r\n\r\n        @EnableFeignClients(defaultConfiguration = FeignConfig.class)\r\n\r\n- add default feign config\r\n\r\n        @Configuration\r\n        public class FeignConfig {\r\n  \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public Retryer feignRetryer() {\r\n            return Retryer.NEVER_RETRY;\r\n        }\r\n  \r\n        @Bean\r\n        @Scope(&quot;prototype&quot;)\r\n        @ConditionalOnMissingBean\r\n        public Feign.Builder feignBuilder(Retryer retryer) {\r\n            return Feign.builder()\r\n                    .retryer(retryer)\r\n                    .invocationHandlerFactory((target, dispatch) -&gt; new CountingFeignInvocationHandler(target, dispatch));\r\n        }\r\n  \r\n        }\r\n- create your invocation handler (code based on feign.ReflectiveFeign.FeignInvocationHandler)\r\n\r\n\r\n        public class CountingFeignInvocationHandler implements InvocationHandler {\r\n        \r\n            private final Target target;\r\n            private final Map&lt;Method, MethodHandler&gt; dispatch;\r\n        \r\n            public CountingFeignInvocationHandler(Target target, Map&lt;Method, MethodHandler&gt; dispatch) {\r\n                this.target = checkNotNull(target, &quot;target&quot;);\r\n                this.dispatch = checkNotNull(dispatch, &quot;dispatch for %s&quot;, target);\r\n            }\r\n        \r\n            @Override\r\n            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n                if (&quot;equals&quot;.equals(method.getName())) {\r\n                    try {\r\n                        Object otherHandler =\r\n                                args.length &gt; 0 &amp;&amp; args[0] != null ? Proxy.getInvocationHandler(args[0]) : null;\r\n                        return equals(otherHandler);\r\n                    } catch (IllegalArgumentException e) {\r\n                        return false;\r\n                    }\r\n                } else if (&quot;hashCode&quot;.equals(method.getName())) {\r\n                    return hashCode();\r\n                } else if (&quot;toString&quot;.equals(method.getName())) {\r\n                    return toString();\r\n                }\r\n        \r\n                RequestLine requestLine = method.getAnnotation(RequestLine.class);\r\n                addStatistics(requestLine.value());\r\n        \r\n                return dispatch.get(method).invoke(args);\r\n            }\r\n        \r\n            @Override\r\n            public boolean equals(Object obj) {\r\n                if (obj instanceof CountingFeignInvocationHandler) {\r\n                    CountingFeignInvocationHandler other = (CountingFeignInvocationHandler) obj;\r\n                    return target.equals(other.target);\r\n                }\r\n                return false;\r\n            }\r\n        \r\n            @Override\r\n            public int hashCode() {\r\n                return target.hashCode();\r\n            }\r\n        \r\n            @Override\r\n            public String toString() {\r\n                return target.toString();\r\n            }\r\n        }\r\n        \r\nBe careful and check if you feign configuration wasn&#39;t more complex and in that case extend classes as needed.","title":"Access URITemplate or RequestLine value in Feign RequestInterceptor / RequestTemplate","body":"<p>Maybe you could try using custom feign InvocationHandlerFactory.</p>\n\n<p>I've managed to log RequestInterceptor using code like this:</p>\n\n<ul>\n<li><p>change EnableFeignClients and add defaultConfiguration</p>\n\n<pre><code>@EnableFeignClients(defaultConfiguration = FeignConfig.class)\n</code></pre></li>\n<li><p>add default feign config</p>\n\n<pre><code>@Configuration\npublic class FeignConfig {\n\n@Bean\n@ConditionalOnMissingBean\npublic Retryer feignRetryer() {\n    return Retryer.NEVER_RETRY;\n}\n\n@Bean\n@Scope(\"prototype\")\n@ConditionalOnMissingBean\npublic Feign.Builder feignBuilder(Retryer retryer) {\n    return Feign.builder()\n            .retryer(retryer)\n            .invocationHandlerFactory((target, dispatch) -&gt; new CountingFeignInvocationHandler(target, dispatch));\n}\n\n}\n</code></pre></li>\n<li><p>create your invocation handler (code based on feign.ReflectiveFeign.FeignInvocationHandler)</p>\n\n<pre><code>public class CountingFeignInvocationHandler implements InvocationHandler {\n\n    private final Target target;\n    private final Map&lt;Method, MethodHandler&gt; dispatch;\n\n    public CountingFeignInvocationHandler(Target target, Map&lt;Method, MethodHandler&gt; dispatch) {\n        this.target = checkNotNull(target, \"target\");\n        this.dispatch = checkNotNull(dispatch, \"dispatch for %s\", target);\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        if (\"equals\".equals(method.getName())) {\n            try {\n                Object otherHandler =\n                        args.length &gt; 0 &amp;&amp; args[0] != null ? Proxy.getInvocationHandler(args[0]) : null;\n                return equals(otherHandler);\n            } catch (IllegalArgumentException e) {\n                return false;\n            }\n        } else if (\"hashCode\".equals(method.getName())) {\n            return hashCode();\n        } else if (\"toString\".equals(method.getName())) {\n            return toString();\n        }\n\n        RequestLine requestLine = method.getAnnotation(RequestLine.class);\n        addStatistics(requestLine.value());\n\n        return dispatch.get(method).invoke(args);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof CountingFeignInvocationHandler) {\n            CountingFeignInvocationHandler other = (CountingFeignInvocationHandler) obj;\n            return target.equals(other.target);\n        }\n        return false;\n    }\n\n    @Override\n    public int hashCode() {\n        return target.hashCode();\n    }\n\n    @Override\n    public String toString() {\n        return target.toString();\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>Be careful and check if you feign configuration wasn't more complex and in that case extend classes as needed.</p>\n"},{"tags":[],"owner":{"account_id":20340219,"reputation":11,"user_id":14919734,"display_name":"Pradeep Palaniswamy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609445525,"creation_date":1609445525,"answer_id":65525190,"question_id":55531602,"body_markdown":"        If you are using spring-cloud-starter-openfeign ,  You could do something like below \r\n        \r\n        add the a primary contract bean \r\n        @Bean(&quot;YourContract&quot;)\r\n        @Primary\r\n        \tpublic Contract springpringContract() {\r\n        \t\treturn (targetType) -&gt; {\r\n        \r\n        \t\t\tList&lt;MethodMetadata&gt; parseAndValidatateMetadata = new SpringMvcContract().parseAndValidatateMetadata(targetType);\r\n        \t\t\tparseAndValidatateMetadata.forEach(metadata -&gt; {\r\n        \t\t\t\tRequestTemplate template = metadata.template();\r\n        \t\t\t\ttemplate.header(&quot;unresolved_uri&quot;, template.path().replace(&quot;{&quot;, &quot;[&quot;).replace(&quot;}&quot;, &quot;]&quot;));\r\n        \r\n        \t\t\t});\r\n        \t\t\treturn parseAndValidatateMetadata;\r\n        \t\t};\r\n        \t}\r\n        \r\n        Add the contract to the feign client builder \r\n        @Bean\r\n         public &lt;T&gt; T feignBuilder(Class&lt;T&gt; feignInterface, String targetURL) {\r\n        \t\treturn Feign.builder().client(getClient())\r\n        \t\t\t\t.contract(contract)\r\n        \t\t\t\t.\r\n                        .\r\n        }\r\n        \r\n        Once you are done with the above you should be able to access the unresolved path in the RequestTemplate\r\n\r\n    @component\r\n    public class FeignRequestFilter  implements RequestInterceptor {\r\n        @Override\r\n            public void apply(RequestTemplate template) {\r\n            \tString unresolvedUri = template.headers().getOrDefault(&quot;unresolved_uri&quot;, Collections.singleton(template.path()))\r\n        \t\t\t\t.iterator().next();\r\n        }\r\n    }","title":"Access URITemplate or RequestLine value in Feign RequestInterceptor / RequestTemplate","body":"<pre><code>    If you are using spring-cloud-starter-openfeign ,  You could do something like below \n    \n    add the a primary contract bean \n    @Bean(&quot;YourContract&quot;)\n    @Primary\n        public Contract springpringContract() {\n            return (targetType) -&gt; {\n    \n                List&lt;MethodMetadata&gt; parseAndValidatateMetadata = new SpringMvcContract().parseAndValidatateMetadata(targetType);\n                parseAndValidatateMetadata.forEach(metadata -&gt; {\n                    RequestTemplate template = metadata.template();\n                    template.header(&quot;unresolved_uri&quot;, template.path().replace(&quot;{&quot;, &quot;[&quot;).replace(&quot;}&quot;, &quot;]&quot;));\n    \n                });\n                return parseAndValidatateMetadata;\n            };\n        }\n    \n    Add the contract to the feign client builder \n    @Bean\n     public &lt;T&gt; T feignBuilder(Class&lt;T&gt; feignInterface, String targetURL) {\n            return Feign.builder().client(getClient())\n                    .contract(contract)\n                    .\n                    .\n    }\n    \n    Once you are done with the above you should be able to access the unresolved path in the RequestTemplate\n\n@component\npublic class FeignRequestFilter  implements RequestInterceptor {\n    @Override\n        public void apply(RequestTemplate template) {\n            String unresolvedUri = template.headers().getOrDefault(&quot;unresolved_uri&quot;, Collections.singleton(template.path()))\n                    .iterator().next();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16746466,"reputation":1,"user_id":12104548,"display_name":"oooh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650909031,"creation_date":1650536449,"answer_id":71952816,"question_id":55531602,"body_markdown":"Maybe you could try overwriting feign Logger.\r\n\r\nSuppose we have a feign client,\r\n\r\n    @FeignClient(name = &quot;demo-client&quot;, url = &quot;http://localhost:8080/api&quot;, configuration = FeignConfig.class)\r\n    public interface DemoClient {\r\n    \r\n        @GetMapping(value = &quot;/test/{id}&quot;)\r\n        void test(@PathVariable(name = &quot;id&quot;) Integer id) {\r\n        }\r\n    }\r\n\r\n\r\n    import feign.Logger;\r\n    import feign.Request;\r\n    import feign.Response;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CustomFeignRequestLogging extends Logger {\r\n        @Override\r\n        protected void logRequest(String configKey, Level logLevel, Request request) {\r\n            super.logRequest(configKey, logLevel, request);\r\n            // targetUrl = http://localhost:8080/api\r\n            String targetUrl = request.requestTemplate().feignTarget().url();\r\n            // path = /test/{id}\r\n            String path = request.requestTemplate().methodMetadata().template().path();\r\n        }\r\n    }","title":"Access URITemplate or RequestLine value in Feign RequestInterceptor / RequestTemplate","body":"<p>Maybe you could try overwriting feign Logger.</p>\n<p>Suppose we have a feign client,</p>\n<pre><code>@FeignClient(name = &quot;demo-client&quot;, url = &quot;http://localhost:8080/api&quot;, configuration = FeignConfig.class)\npublic interface DemoClient {\n\n    @GetMapping(value = &quot;/test/{id}&quot;)\n    void test(@PathVariable(name = &quot;id&quot;) Integer id) {\n    }\n}\n\n\nimport feign.Logger;\nimport feign.Request;\nimport feign.Response;\n\nimport java.io.IOException;\n\npublic class CustomFeignRequestLogging extends Logger {\n    @Override\n    protected void logRequest(String configKey, Level logLevel, Request request) {\n        super.logRequest(configKey, logLevel, request);\n        // targetUrl = http://localhost:8080/api\n        String targetUrl = request.requestTemplate().feignTarget().url();\n        // path = /test/{id}\n        String path = request.requestTemplate().methodMetadata().template().path();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2152,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":55663112,"answer_count":3,"score":9,"last_activity_date":1650909031,"creation_date":1554454306,"question_id":55531602,"body_markdown":"I&#39;m developing an app against a cloud application that has hard api rate limits in place. In order to have my team get a feeling for how close we are in regards to those limits I want to count all API calls made from our app in a meaningful way.\r\n\r\nWe use Feign as access layer, and I was hoping to be able to use the `RequestInterceptor` to count the different API endpoints we call:\r\n\r\n    RequestInterceptor ri = rq -&gt; addStatistics(rq.url());\r\n\r\nNow this does not work, as the resulting URLs almost always count &quot;1&quot; afterwards, as they already contain all resolved path variables, so I get counts for\r\n\r\n    1 - /something/id1valueverycryptic/get\r\n    1 - /something/anothercrypticidkey/get\r\n\r\nand so on.\r\n\r\nI was hoping to somehow get access to either the `@ResuqestLine` mapping value (`GET /something/{id}/get`) or at least the uri template pre-resolve (`/somethine/{id}/get`)\r\n\r\nIs there a way to do this?\r\n\r\nThanks!\r\n\t\t","title":"Access URITemplate or RequestLine value in Feign RequestInterceptor / RequestTemplate","body":"<p>I'm developing an app against a cloud application that has hard api rate limits in place. In order to have my team get a feeling for how close we are in regards to those limits I want to count all API calls made from our app in a meaningful way.</p>\n\n<p>We use Feign as access layer, and I was hoping to be able to use the <code>RequestInterceptor</code> to count the different API endpoints we call:</p>\n\n<pre><code>RequestInterceptor ri = rq -&gt; addStatistics(rq.url());\n</code></pre>\n\n<p>Now this does not work, as the resulting URLs almost always count \"1\" afterwards, as they already contain all resolved path variables, so I get counts for</p>\n\n<pre><code>1 - /something/id1valueverycryptic/get\n1 - /something/anothercrypticidkey/get\n</code></pre>\n\n<p>and so on.</p>\n\n<p>I was hoping to somehow get access to either the <code>@ResuqestLine</code> mapping value (<code>GET /something/{id}/get</code>) or at least the uri template pre-resolve (<code>/somethine/{id}/get</code>)</p>\n\n<p>Is there a way to do this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","maven","ballerina"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1546953696,"post_id":54092517,"comment_id":95017326,"body_markdown":"Does it build if you check out one of the other release tags?","body":"Does it build if you check out one of the other release tags?"},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1546954198,"post_id":54092517,"comment_id":95017652,"body_markdown":"What is the actual error if you run the build with debug `-X`, there should be more information why `spotbugs-maven-plugin` failed.","body":"What is the actual error if you run the build with debug <code>-X</code>, there should be more information why <code>spotbugs-maven-plugin</code> failed."},{"owner":{"account_id":6912606,"reputation":61,"user_id":5307917,"display_name":"menuka"},"score":0,"creation_date":1546967066,"post_id":54092517,"comment_id":95025518,"body_markdown":"@Kerry: No. It fails with the same error.","body":"@Kerry: No. It fails with the same error."},{"owner":{"account_id":6912606,"reputation":61,"user_id":5307917,"display_name":"menuka"},"score":0,"creation_date":1546967185,"post_id":54092517,"comment_id":95025581,"body_markdown":"@KarolDowbecki: This is what I get when run with `-X`. https://pastebin.com/9ZazMawu","body":"@KarolDowbecki: This is what I get when run with <code>-X</code>. <a href=\"https://pastebin.com/9ZazMawu\" rel=\"nofollow noreferrer\">pastebin.com/9ZazMawu</a>"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1546976509,"post_id":54092517,"comment_id":95030042,"body_markdown":"You&#39;re going to have to give some details of your build environment e.g. OS, java version, maven version etc","body":"You&#39;re going to have to give some details of your build environment e.g. OS, java version, maven version etc"},{"owner":{"account_id":2213172,"reputation":534,"user_id":3101980,"display_name":"Manuri Perera"},"score":0,"creation_date":1547008415,"post_id":54092517,"comment_id":95039118,"body_markdown":"Can you provide the information Kerry has mentioned above? (OS, JDK version, Maven version)","body":"Can you provide the information Kerry has mentioned above? (OS, JDK version, Maven version)"},{"owner":{"account_id":6912606,"reputation":61,"user_id":5307917,"display_name":"menuka"},"score":0,"creation_date":1547008523,"post_id":54092517,"comment_id":95039155,"body_markdown":"I edited the question and described the build environment. Thanks.","body":"I edited the question and described the build environment. Thanks."},{"owner":{"account_id":6912606,"reputation":61,"user_id":5307917,"display_name":"menuka"},"score":0,"creation_date":1547014178,"post_id":54092517,"comment_id":95040593,"body_markdown":"Turns out it successfully builds with Java 8.","body":"Turns out it successfully builds with Java 8."}],"answers":[{"tags":[],"owner":{"account_id":6912606,"reputation":61,"user_id":5307917,"display_name":"menuka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1547016522,"creation_date":1547016042,"answer_id":54104475,"question_id":54092517,"body_markdown":"As it turns out, Ballerina does not support Java 11 yet, which is the reason for the stated issue. Thanks @Kerry, @Karol Dowbecki, @Manuri.","title":"Ballerina Maven Build Fails - toml parser","body":"<p>As it turns out, Ballerina does not support Java 11 yet, which is the reason for the stated issue. Thanks @Kerry, @Karol Dowbecki, @Manuri.</p>\n"}],"owner":{"account_id":6912606,"reputation":61,"user_id":5307917,"display_name":"menuka"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54104475,"answer_count":1,"score":0,"last_activity_date":1650908817,"creation_date":1546952871,"question_id":54092517,"body_markdown":"I checked out [Ballerina][1] and built using `mvn clean install`. I get the following error.\r\n\r\n\r\n&gt;[ERROR] Failed to execute goal com.github.spotbugs:spotbugs-maven-&gt;plugin:3.1.1:spotbugs (spotbugs) on project toml-parser: Execution spotbugs &gt;of goal com.github.spotbugs:spotbugs-maven-plugin:3.1.1:spotbugs failed: Java &gt;returned: 1 -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute &gt;?goal com.github.spotbugs:spotbugs-maven-plugin:3.1.1:spotbugs (spotbugs) on project toml-parser: Execution spotbugs of goal com.github.spotbugs:spotbugs-maven-plugin:3.1.1:spotbugs failed: Java returned: 1\r\n\r\n\r\nBuild Environment:\r\n\r\n - macOS High Sierra (Version 10.13.6)\r\n - Java 11.0.1 2018-10-16 LTS\r\n - Java(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)\r\n - Apache Maven 3.6.0\r\n\r\nHow do I fix this?\r\n\r\n\r\n  [1]: https://github.com/ballerina-platform/ballerina-lang/","title":"Ballerina Maven Build Fails - toml parser","body":"<p>I checked out <a href=\"https://github.com/ballerina-platform/ballerina-lang/\" rel=\"nofollow noreferrer\">Ballerina</a> and built using <code>mvn clean install</code>. I get the following error.</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal com.github.spotbugs:spotbugs-maven-&gt;plugin:3.1.1:spotbugs (spotbugs) on project toml-parser: Execution spotbugs &gt;of goal com.github.spotbugs:spotbugs-maven-plugin:3.1.1:spotbugs failed: Java &gt;returned: 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute &gt;?goal com.github.spotbugs:spotbugs-maven-plugin:3.1.1:spotbugs (spotbugs) on project toml-parser: Execution spotbugs of goal com.github.spotbugs:spotbugs-maven-plugin:3.1.1:spotbugs failed: Java returned: 1</p>\n</blockquote>\n<p>Build Environment:</p>\n<ul>\n<li>macOS High Sierra (Version 10.13.6)</li>\n<li>Java 11.0.1 2018-10-16 LTS</li>\n<li>Java(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)</li>\n<li>Apache Maven 3.6.0</li>\n</ul>\n<p>How do I fix this?</p>\n"},{"tags":["java","arrays","string","byte","large-data"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650908739,"post_id":72003572,"comment_id":127230079,"body_markdown":"The maximum size of an array is `Integer.MAX_VALUE`. What are you really trying to do - why do you need a byte array from a string?","body":"The maximum size of an array is <code>Integer.MAX_VALUE</code>. What are you really trying to do - why do you need a byte array from a string?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650909219,"post_id":72003572,"comment_id":127230200,"body_markdown":"Any effects might be mitigated by specifying an economical encoding to `getBytes`","body":"Any effects might be mitigated by specifying an economical encoding to <code>getBytes</code>"},{"owner":{"account_id":7988880,"reputation":1070,"user_id":9528658,"display_name":"Vladimir.V.Bvn"},"score":0,"creation_date":1650909383,"post_id":72003572,"comment_id":127230252,"body_markdown":"1M of lines, 1400 chars pro line, 2 bytes in char = 2,8 billion bytes. Integer.MAX_VALUE is about 2 billion. So, if you divide your array to two arrays, you probably will get it. But such amount of data must be kept in a database and all manipulations must be done in a database.","body":"1M of lines, 1400 chars pro line, 2 bytes in char = 2,8 billion bytes. Integer.MAX_VALUE is about 2 billion. So, if you divide your array to two arrays, you probably will get it. But such amount of data must be kept in a database and all manipulations must be done in a database."},{"owner":{"account_id":3784660,"reputation":1471,"user_id":3143009,"accept_rate":4,"display_name":"soung"},"score":0,"creation_date":1650910795,"post_id":72003572,"comment_id":127230709,"body_markdown":"I m trying to generate a zipfile for testing purpose (like in this link https://stackoverflow.com/a/1091817/3143009). I don&#39;t wanna store the file before creating the zip (because creating the file take some time).","body":"I m trying to generate a zipfile for testing purpose (like in this link <a href=\"https://stackoverflow.com/a/1091817/3143009\">stackoverflow.com/a/1091817/3143009</a>). I don&#39;t wanna store the file before creating the zip (because creating the file take some time)."},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1650910822,"post_id":72003572,"comment_id":127230718,"body_markdown":"I suggest you re-design the method into a class that extends `OutputStream` and accepts an `InputStream`. that way you can process the values in chunks instead of trying to store everything in memory.","body":"I suggest you re-design the method into a class that extends <code>OutputStream</code> and accepts an <code>InputStream</code>. that way you can process the values in chunks instead of trying to store everything in memory."}],"owner":{"account_id":3784660,"reputation":1471,"user_id":3143009,"accept_rate":4,"display_name":"soung"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650908348,"creation_date":1650908348,"question_id":72003572,"body_markdown":"I d like to get byte from very large string. \r\nA string containing around a million of lines. Each line has 1400 characters. \r\n\r\nThe large String is successfuly generated using stringBuilder. But when I call getByte from the large string i get the exception  : \r\n\r\n    java.lang.NegativeArraySizeException: -1574300626\r\n    \tat java.base/java.lang.StringCoding.encodeUTF8_UTF16(StringCoding.java:923) ~[na:na]\r\n    \tat java.base/java.lang.StringCoding.encodeUTF8(StringCoding.java:898) ~[na:na]\r\n    \tat java.base/java.lang.StringCoding.encode(StringCoding.java:449) ~[na:na]\r\n    \tat java.base/java.lang.String.getBytes(String.java:964) ~[na:na]\r\n\r\n\r\n\r\n\r\nThe code I&#39;m using : \r\n\r\n    byte[] getByteArray() {\r\n            int nbLine = 1_000_000;\r\n            StringBuilder sb = new StringBuilder();\r\n            char[] fakeArray = new char[1400];\r\n            Arrays.fill(fakeArray, &#39;A&#39;);\r\n            String oneLine = String.valueOf(fakeArray.toString()) + &quot;\\n&quot;;\r\n            for (int i = 0; i &lt; nbLine; i++) {\r\n                sb.append(oneLine);\r\n            }\r\n            String contentString = sb.toString();\r\n    \r\n            return contentString.getBytes();\r\n        }\r\n\r\n\r\nIs there a way to make getbytes working with very large string ? Is there any alternative ? ","title":"get byte array from very large StringBuilder","body":"<p>I d like to get byte from very large string.\nA string containing around a million of lines. Each line has 1400 characters.</p>\n<p>The large String is successfuly generated using stringBuilder. But when I call getByte from the large string i get the exception  :</p>\n<pre><code>java.lang.NegativeArraySizeException: -1574300626\n    at java.base/java.lang.StringCoding.encodeUTF8_UTF16(StringCoding.java:923) ~[na:na]\n    at java.base/java.lang.StringCoding.encodeUTF8(StringCoding.java:898) ~[na:na]\n    at java.base/java.lang.StringCoding.encode(StringCoding.java:449) ~[na:na]\n    at java.base/java.lang.String.getBytes(String.java:964) ~[na:na]\n</code></pre>\n<p>The code I'm using :</p>\n<pre><code>byte[] getByteArray() {\n        int nbLine = 1_000_000;\n        StringBuilder sb = new StringBuilder();\n        char[] fakeArray = new char[1400];\n        Arrays.fill(fakeArray, 'A');\n        String oneLine = String.valueOf(fakeArray.toString()) + &quot;\\n&quot;;\n        for (int i = 0; i &lt; nbLine; i++) {\n            sb.append(oneLine);\n        }\n        String contentString = sb.toString();\n\n        return contentString.getBytes();\n    }\n</code></pre>\n<p>Is there a way to make getbytes working with very large string ? Is there any alternative ?</p>\n"},{"tags":["java","interface","api-design"],"answers":[{"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1397808385,"creation_date":1397808385,"answer_id":23150025,"question_id":23149977,"body_markdown":"It would be bad for client code that uses an interface to depend on an implementation detail that is not documented on the interface.\r\n\r\nIn your example, the `Set` and `Map` interfaces make no guarantees about the order of the elements inside them, so it would be bad for the client to make assumptions about them.\r\n\r\nBut this is not a problem in your case, as there are more specific sub-interfaces of `Set` and `Map` that do make guarantees about order. They are `java.util.SortedSet` and `java.util.SortedMap`. If your client code uses these interfaces, then they *are allowed* to make assumptions about order.\r\n\r\n`TreeSet` and `TreeMap` implement these interfaces, respectively.\r\n\r\nFrom the Javadoc for `SortedMap`:\r\n\r\n&gt; A `Map` that further provides a &lt;em&gt;total ordering&lt;/em&gt; on its\r\n&gt; keys.\r\n\r\n","title":"Should callers of an interface (need to) make assumptions about the underlying implementation?","body":"<p>It would be bad for client code that uses an interface to depend on an implementation detail that is not documented on the interface.</p>\n\n<p>In your example, the <code>Set</code> and <code>Map</code> interfaces make no guarantees about the order of the elements inside them, so it would be bad for the client to make assumptions about them.</p>\n\n<p>But this is not a problem in your case, as there are more specific sub-interfaces of <code>Set</code> and <code>Map</code> that do make guarantees about order. They are <code>java.util.SortedSet</code> and <code>java.util.SortedMap</code>. If your client code uses these interfaces, then they <em>are allowed</em> to make assumptions about order.</p>\n\n<p><code>TreeSet</code> and <code>TreeMap</code> implement these interfaces, respectively.</p>\n\n<p>From the Javadoc for <code>SortedMap</code>:</p>\n\n<blockquote>\n  <p>A <code>Map</code> that further provides a <em>total ordering</em> on its\n  keys.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3344799,"reputation":37214,"user_id":2810305,"accept_rate":69,"display_name":"Lutz Prechelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650908136,"creation_date":1650908136,"answer_id":72003542,"question_id":23149977,"body_markdown":"## The tradeoff\r\n\r\nYour example is a case of trading off the method designer&#39;s freedom against the method user&#39;s freedom.\r\n\r\nFor the method designer, it is nicer to return `Map`, so that she can change her mind later with respect to the implementation if a better approach comes up.\r\n\r\nFor the method caller, it is nicer to receive a `SortedMap`, so she can rely on the contents to be sorted rather than having to sort them herself.\r\n\r\n## How to make it\r\n\r\nThe proper way to think about the situation (for the method designer) is to try and foresee the future:\r\n\r\n - Will I likely want to later change my implementation to use a _non-sorted_ `Map`?\r\n - Will my caller likely want to receive a _sorted_ result?\r\n\r\nIf the answer to the latter question is yes, this is likely the more important of the two, because data structures of implementations are changed only rarely in practice -- but inconvenience to the callers is, um, inconvenient.\r\n\r\n## How to break it\r\n\r\nThe worst possible outcome is that both participants go their preferred way at the same time: The designer only guarantees `Map`, but the caller _still_ relies on receiving a `SortedMap`. Modularization is broken.\r\n\r\nDo this in enough spots in a large system and you will have lots of trouble when you _really_ need to change an implementation.\r\n\r\nMoral: As a designer, make as many guarantees to your users as you can -- but no more.","title":"Should callers of an interface (need to) make assumptions about the underlying implementation?","body":"<h2>The tradeoff</h2>\n<p>Your example is a case of trading off the method designer's freedom against the method user's freedom.</p>\n<p>For the method designer, it is nicer to return <code>Map</code>, so that she can change her mind later with respect to the implementation if a better approach comes up.</p>\n<p>For the method caller, it is nicer to receive a <code>SortedMap</code>, so she can rely on the contents to be sorted rather than having to sort them herself.</p>\n<h2>How to make it</h2>\n<p>The proper way to think about the situation (for the method designer) is to try and foresee the future:</p>\n<ul>\n<li>Will I likely want to later change my implementation to use a <em>non-sorted</em> <code>Map</code>?</li>\n<li>Will my caller likely want to receive a <em>sorted</em> result?</li>\n</ul>\n<p>If the answer to the latter question is yes, this is likely the more important of the two, because data structures of implementations are changed only rarely in practice -- but inconvenience to the callers is, um, inconvenient.</p>\n<h2>How to break it</h2>\n<p>The worst possible outcome is that both participants go their preferred way at the same time: The designer only guarantees <code>Map</code>, but the caller <em>still</em> relies on receiving a <code>SortedMap</code>. Modularization is broken.</p>\n<p>Do this in enough spots in a large system and you will have lots of trouble when you <em>really</em> need to change an implementation.</p>\n<p>Moral: As a designer, make as many guarantees to your users as you can -- but no more.</p>\n"}],"owner":{"account_id":207180,"reputation":3295,"user_id":456903,"display_name":"tracer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23150025,"answer_count":2,"score":0,"last_activity_date":1650908268,"creation_date":1397808118,"question_id":23149977,"body_markdown":"I understand the benefit of Programming to an Interface and the benefit of using an Interface for the return type of a method:\r\n    \r\n    public List&lt;Integer&gt; getUserIds() {\r\n        return Arrays.asList(1, 2, 3);\r\n    }\r\n\r\nI wonder if this is still applicable when the method callers rely on a particular implementation to function correctly? For example,\r\n\r\n    public static void main(final String args[]) {\r\n        final Map&lt;Integer, String&gt; map = getUserIdMap();\r\n        Set&lt;Map.Entry&lt;Integer, String&gt;&gt; entrySet = map.entrySet();\r\n        \r\n        // print user name in the order of their Ids\r\n        for (final Map.Entry&lt;Integer, String&gt; entry : entrySet) {\r\n            System.out.println(entry.getKey() + &quot;, &quot; + entry.getValue());\r\n        }\r\n    }\r\n\r\n    public static Map&lt;Integer, String&gt; getUserIdMap() {\r\n        final Map&lt;Integer, String&gt; s = new TreeMap&lt;&gt;();\r\n        s.put(3, &quot;Tracer&quot;);\r\n        s.put(2, &quot;John&quot;);\r\n        s.put(5, &quot;Jane&quot;);\r\n        s.put(6, &quot;Jenny&quot;);\r\n        s.put(1, &quot;Rob&quot;);\r\n        return s;\r\n    }\r\n\r\nIn this case, is it better for getUserIdMap() to return a SortedMap&lt;Integer, String&gt; instead of Map&lt;Integer, String&gt; so that the method caller does not need to guess the map&#39;s underlying implementation? Or is it generally better to return a Map&lt;String, String&gt; because the method entrySet() belongs to Map? ","title":"Should callers of an interface (need to) make assumptions about the underlying implementation?","body":"<p>I understand the benefit of Programming to an Interface and the benefit of using an Interface for the return type of a method:</p>\n\n<pre><code>public List&lt;Integer&gt; getUserIds() {\n    return Arrays.asList(1, 2, 3);\n}\n</code></pre>\n\n<p>I wonder if this is still applicable when the method callers rely on a particular implementation to function correctly? For example,</p>\n\n<pre><code>public static void main(final String args[]) {\n    final Map&lt;Integer, String&gt; map = getUserIdMap();\n    Set&lt;Map.Entry&lt;Integer, String&gt;&gt; entrySet = map.entrySet();\n\n    // print user name in the order of their Ids\n    for (final Map.Entry&lt;Integer, String&gt; entry : entrySet) {\n        System.out.println(entry.getKey() + \", \" + entry.getValue());\n    }\n}\n\npublic static Map&lt;Integer, String&gt; getUserIdMap() {\n    final Map&lt;Integer, String&gt; s = new TreeMap&lt;&gt;();\n    s.put(3, \"Tracer\");\n    s.put(2, \"John\");\n    s.put(5, \"Jane\");\n    s.put(6, \"Jenny\");\n    s.put(1, \"Rob\");\n    return s;\n}\n</code></pre>\n\n<p>In this case, is it better for getUserIdMap() to return a SortedMap instead of Map so that the method caller does not need to guess the map's underlying implementation? Or is it generally better to return a Map because the method entrySet() belongs to Map? </p>\n"},{"tags":["java","maven","gstreamer"],"comments":[{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1530732699,"post_id":51179840,"comment_id":89342174,"body_markdown":"are you using gradle?","body":"are you using gradle?"},{"owner":{"account_id":9300679,"reputation":1,"user_id":6906261,"display_name":"Berk g"},"score":0,"creation_date":1530733444,"post_id":51179840,"comment_id":89342413,"body_markdown":"Im using Maven to add JAR files to my project.","body":"Im using Maven to add JAR files to my project."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1530759051,"post_id":51179840,"comment_id":89347637,"body_markdown":"I don&#39;t know where I saw this error but I definitely have. Are you using Java 10 by any chance? Downgrade to the one that is supported by org.freedesktop.gstreamer.*","body":"I don&#39;t know where I saw this error but I definitely have. Are you using Java 10 by any chance? Downgrade to the one that is supported by org.freedesktop.gstreamer.*"},{"owner":{"account_id":9300679,"reputation":1,"user_id":6906261,"display_name":"Berk g"},"score":0,"creation_date":1530793762,"post_id":51179840,"comment_id":89364247,"body_markdown":"Still I get the same error.","body":"Still I get the same error."},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1613555215,"post_id":51179840,"comment_id":117107747,"body_markdown":"This means the Windows native gstreamer libraries could not be located. They are either not installed, or set up incorrectly.","body":"This means the Windows native gstreamer libraries could not be located. They are either not installed, or set up incorrectly."}],"answers":[{"tags":[],"owner":{"account_id":25090768,"reputation":1,"user_id":18942430,"display_name":"user7013"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650908068,"creation_date":1650908068,"answer_id":72003523,"question_id":51179840,"body_markdown":"Include directory for gstreamer library in the user environmental variable named &#39;Path&#39;","title":"java.lang.UnsatisfiedLinkError: Could not load library gstreamer-0.10","body":"<p>Include directory for gstreamer library in the user environmental variable named 'Path'</p>\n"}],"owner":{"account_id":9300679,"reputation":1,"user_id":6906261,"display_name":"Berk g"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650908068,"creation_date":1530732267,"question_id":51179840,"body_markdown":"I&#39;m getting this issue while compiling the code below. I installed gstreamer for Windows and added development jar file to my IDE but I couldn&#39;t solve this problem, please help me. \r\n   \r\n   \r\n\r\n    import org.freedesktop.gstreamer.ElementFactory;\r\n       import org.freedesktop.gstreamer.Gst;\r\n       import org.freedesktop.gstreamer.State;\r\n       import org.freedesktop.gstreamer.elements.PlayBin;  \r\n       import org.freedesktop.gstreamer.lowlevel.GstNative;\r\n    \r\n       import java.io.File;\r\n    \r\n       public class Main {\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            try {\r\n    \r\n                Gst.init(&quot;MyMediaPlayer&quot;, args);\r\n    \r\n                PlayBin playbin = new PlayBin(&quot;AudioPlayer&quot;);\r\n                playbin.setVideoSink(ElementFactory.make(&quot;fakesink&quot;, &quot;videosink&quot;));\r\n                playbin.setInputFile(new File(&quot;good.mp3&quot;));\r\n    \r\n                playbin.setState(State.PLAYING);\r\n                Gst.main();\r\n                playbin.setState(State.NULL);\r\n            }\r\n            catch(UnsatisfiedLinkError t)\r\n            {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n","title":"java.lang.UnsatisfiedLinkError: Could not load library gstreamer-0.10","body":"<p>I'm getting this issue while compiling the code below. I installed gstreamer for Windows and added development jar file to my IDE but I couldn't solve this problem, please help me. </p>\n\n<pre><code>import org.freedesktop.gstreamer.ElementFactory;\n   import org.freedesktop.gstreamer.Gst;\n   import org.freedesktop.gstreamer.State;\n   import org.freedesktop.gstreamer.elements.PlayBin;  \n   import org.freedesktop.gstreamer.lowlevel.GstNative;\n\n   import java.io.File;\n\n   public class Main {\n\n    public static void main(String[] args)\n    {\n        try {\n\n            Gst.init(\"MyMediaPlayer\", args);\n\n            PlayBin playbin = new PlayBin(\"AudioPlayer\");\n            playbin.setVideoSink(ElementFactory.make(\"fakesink\", \"videosink\"));\n            playbin.setInputFile(new File(\"good.mp3\"));\n\n            playbin.setState(State.PLAYING);\n            Gst.main();\n            playbin.setState(State.NULL);\n        }\n        catch(UnsatisfiedLinkError t)\n        {\n            t.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase","download"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1650910538,"post_id":72003509,"comment_id":127230618,"body_markdown":"Yes that is path of `request.setDestinationInExternalFilesDir()`. Use a different more apropiate destination. Android Studio will suggest some. Choose the right one.","body":"Yes that is path of <code>request.setDestinationInExternalFilesDir()</code>. Use a different more apropiate destination. Android Studio will suggest some. Choose the right one."},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1650971957,"post_id":72003509,"comment_id":127245356,"body_markdown":"try this `request.setDestinationInExternalPublicDir(\n                        Environment.DIRECTORY_DOWNLOADS, nameOfFile);`","body":"try this <code>request.setDestinationInExternalPublicDir(                         Environment.DIRECTORY_DOWNLOADS, nameOfFile);</code>"}],"owner":{"account_id":12102141,"reputation":93,"user_id":8842546,"display_name":"Aymen Mellah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650907982,"creation_date":1650907982,"question_id":72003509,"body_markdown":"i&#39;m trying to download some files from firebase so i created this methode \r\n\r\n    private void downloadFile(String url, String destination,String fileName,String fileExtension)\r\n    {\r\n        DownloadManager downloadManager = (DownloadManager) context.getSystemService(context.DOWNLOAD_SERVICE);\r\n        Uri uri = Uri.parse(url);\r\n        DownloadManager.Request request = new DownloadManager.Request(uri);\r\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n        request.setDestinationInExternalFilesDir(context,destination,fileName+&quot;.&quot;+fileExtension);\r\n        downloadManager.enqueue(request);\r\n    }\r\n\r\nbut the files isn&#39;t saved in the public download folder it saved in Android/data/appPackageName/files/storage/emulated/0/Download\r\n ","title":"Acessing public download folder with download manager","body":"<p>i'm trying to download some files from firebase so i created this methode</p>\n<pre><code>private void downloadFile(String url, String destination,String fileName,String fileExtension)\n{\n    DownloadManager downloadManager = (DownloadManager) context.getSystemService(context.DOWNLOAD_SERVICE);\n    Uri uri = Uri.parse(url);\n    DownloadManager.Request request = new DownloadManager.Request(uri);\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n    request.setDestinationInExternalFilesDir(context,destination,fileName+&quot;.&quot;+fileExtension);\n    downloadManager.enqueue(request);\n}\n</code></pre>\n<p>but the files isn't saved in the public download folder it saved in Android/data/appPackageName/files/storage/emulated/0/Download</p>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650906943,"creation_date":1650906943,"answer_id":72003318,"question_id":71976674,"body_markdown":"You can&#39;t. You need to do this yourself by creating a mapping function that returns a `Queue` object matching a given String name.\r\n\r\nSelect all queue objects in your model, right-click on one and create a collection from them all.\r\n\r\nNow, write a function that loops through all entries and returns the `Queue` element that has the same name as your input, something like\r\n\r\n    for (Queue currentQueue : collectionOfAllQueues) {\r\n        if (currentQueue.getName().equals(requiredDbaseName){\r\n            return currentQueue;\r\n        }\r\n    }","title":"How to represent a string retrieved from the AnyLogic model database as a variable name?","body":"<p>You can't. You need to do this yourself by creating a mapping function that returns a <code>Queue</code> object matching a given String name.</p>\n<p>Select all queue objects in your model, right-click on one and create a collection from them all.</p>\n<p>Now, write a function that loops through all entries and returns the <code>Queue</code> element that has the same name as your input, something like</p>\n<pre><code>for (Queue currentQueue : collectionOfAllQueues) {\n    if (currentQueue.getName().equals(requiredDbaseName){\n        return currentQueue;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25059675,"reputation":3,"user_id":18914688,"display_name":"Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72003318,"answer_count":1,"score":0,"last_activity_date":1650906943,"creation_date":1650685850,"question_id":71976674,"body_markdown":"I am building an AnyLogic model of a large storage facility (like a container terminal) that has hundreds of storage locations over a number of areas.  The items being stored are stacked on top of each and need to be retrieved in a LIFO fashion.  The model loads the current inventory at start-up as an agent population including a parameter that identifies the location of each agent.  \r\n\r\nThe model also has database table that links the unique name of each location (String value) with the *name of a Queue object* representing the location in the model. At start-up the model needs to create a collection (LinkedHashMap) that will map the location name (Key) (String) with its Queue name (Value).  However as the database stores values as strings I need to convert the queue name value retrieved from the database query (String) to an object *variable name*.  \r\n\r\nHere&#39;s a sample of the offending function.  You&#39;ll notice the second line of the &#39;for&#39; loop tries to populate the q variable (Queue) with the value from the &quot;loc_q&quot; column in the database (String).  Of course this results in a type mismatch error.  How do I convert the String value into a Queue name?\r\n\r\n     Queue q = null;\r\n     String str = null;\r\n\r\n     List&lt;Tuple&gt; s = selectFrom(storage_locations)\r\n\t\t.orderBy(storage_locations.loc_id.asc())\r\n \t\t.list(storage_locations.loc_id, storage_locations.loc_q);\r\n\t\r\n     for (Tuple sl : s) {\r\n\t     str = sl.get(storage_locations.loc_id);\r\n\t     q = sl.get(storage_locations.loc_q);\r\n\t     colMapQ.put(str, q);\r\n     }\r\n\r\nI confess I&#39;m not a Java guru so I&#39;m likely missing a basic step here.  I&#39;ve spent 3 days searching stack overflow and gitHub without much success.  Has anyone come across this problem before? I&#39;d appreciate your help.  \r\n ","title":"How to represent a string retrieved from the AnyLogic model database as a variable name?","body":"<p>I am building an AnyLogic model of a large storage facility (like a container terminal) that has hundreds of storage locations over a number of areas.  The items being stored are stacked on top of each and need to be retrieved in a LIFO fashion.  The model loads the current inventory at start-up as an agent population including a parameter that identifies the location of each agent.</p>\n<p>The model also has database table that links the unique name of each location (String value) with the <em>name of a Queue object</em> representing the location in the model. At start-up the model needs to create a collection (LinkedHashMap) that will map the location name (Key) (String) with its Queue name (Value).  However as the database stores values as strings I need to convert the queue name value retrieved from the database query (String) to an object <em>variable name</em>.</p>\n<p>Here's a sample of the offending function.  You'll notice the second line of the 'for' loop tries to populate the q variable (Queue) with the value from the &quot;loc_q&quot; column in the database (String).  Of course this results in a type mismatch error.  How do I convert the String value into a Queue name?</p>\n<pre><code> Queue q = null;\n String str = null;\n\n List&lt;Tuple&gt; s = selectFrom(storage_locations)\n    .orderBy(storage_locations.loc_id.asc())\n    .list(storage_locations.loc_id, storage_locations.loc_q);\n\n for (Tuple sl : s) {\n     str = sl.get(storage_locations.loc_id);\n     q = sl.get(storage_locations.loc_q);\n     colMapQ.put(str, q);\n }\n</code></pre>\n<p>I confess I'm not a Java guru so I'm likely missing a basic step here.  I've spent 3 days searching stack overflow and gitHub without much success.  Has anyone come across this problem before? I'd appreciate your help.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1650646304,"post_id":71971864,"comment_id":127176604,"body_markdown":"First approach is wrong, but shouldn&#39;t get the behaviour you see without there being a lot more to it. Save should only see the one address, so you are doing something to get it in the EntityManager context (transaction) twice that you haven&#39;t shown after this save call - maybe look at using what Save returns if you are going to continue processing with this new Address instance. The second way is the more correct way of dealing with the relationship, so you&#39;ll want look at the statement causing the exception - show the SQL generated and we can help figure out where/why it is occurring.","body":"First approach is wrong, but shouldn&#39;t get the behaviour you see without there being a lot more to it. Save should only see the one address, so you are doing something to get it in the EntityManager context (transaction) twice that you haven&#39;t shown after this save call - maybe look at using what Save returns if you are going to continue processing with this new Address instance. The second way is the more correct way of dealing with the relationship, so you&#39;ll want look at the statement causing the exception - show the SQL generated and we can help figure out where/why it is occurring."}],"answers":[{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1650647546,"creation_date":1650646331,"answer_id":71972196,"question_id":71971864,"body_markdown":"You and Thomas Edison have a lot in common ...\r\n\r\n        User user = userRepository.findById(1L).get();\r\n        user.getAddress().setSomething(&quot;YYY&quot;);\r\n        addressRepository.save(user.getAddress());\r\n\r\nReally though, you should not make problems for yourself. If you do, print the SQL to see what&#39;s going on.\r\n\r\n        User user = userRepository.findById(1L).get();\r\n        addressRepository.delete(user.getAddress());\r\n        user = userRepository.save(user);\r\n        addressRepository.save(Address.builder().something(&quot;YYY&quot;).user(user).build());\r\n\r\n\r\nI would do this differently.\r\n\r\n    // Address\r\n    @OneToOne(mappedBy = &quot;address&quot;)\r\n    private User user;\r\n\r\n    // User\r\n    @OneToOne\r\n    private Address address;\r\n\r\nand\r\n\r\n        User user = userRepository.findById(2L).get();\r\n        user.setAddress(addressRepository.save(Address.builder().something(&quot;YYY&quot;).user(user).build()));\r\n        userRepository.save(user);\r\n\r\n","title":"How do I update a new reference in a OneToOne bidirectional relationship?","body":"<p>You and Thomas Edison have a lot in common ...</p>\n<pre><code>    User user = userRepository.findById(1L).get();\n    user.getAddress().setSomething(&quot;YYY&quot;);\n    addressRepository.save(user.getAddress());\n</code></pre>\n<p>Really though, you should not make problems for yourself. If you do, print the SQL to see what's going on.</p>\n<pre><code>    User user = userRepository.findById(1L).get();\n    addressRepository.delete(user.getAddress());\n    user = userRepository.save(user);\n    addressRepository.save(Address.builder().something(&quot;YYY&quot;).user(user).build());\n</code></pre>\n<p>I would do this differently.</p>\n<pre><code>// Address\n@OneToOne(mappedBy = &quot;address&quot;)\nprivate User user;\n\n// User\n@OneToOne\nprivate Address address;\n</code></pre>\n<p>and</p>\n<pre><code>    User user = userRepository.findById(2L).get();\n    user.setAddress(addressRepository.save(Address.builder().something(&quot;YYY&quot;).user(user).build()));\n    userRepository.save(user);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650666090,"creation_date":1650652905,"answer_id":71973317,"question_id":71971864,"body_markdown":"&gt; //Address @Entity     \r\n&gt; \r\n&gt;     @OneToOne(fetch = FetchType.EAGER, orphanRemoval = true)\r\n&gt;     @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n&gt;     private User user;\r\n&gt; \r\n&gt; and\r\n&gt; \r\n&gt;     //User @Entity\r\n&gt;     @OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n&gt;     Address address;\r\n\r\nAccording to the above code, you have declared that the entity `Address` will be the one that has the mapping for the relevant `User`. So your `Address` table in database has an extra field `user_id` that maps this address with the relevant user.\r\n\r\nCheck your 1st approach\r\n\r\n    Address address = new Address();                         &lt;--- new address entity created\r\n    User user = userRepository.findByUsername(&quot;someemail&quot;);  &lt;--- user retrieved from DB\r\n    address.setUser(user);                                   &lt;----New address record in address table is set up to have the relevant user\r\n    addressRepository.save(address);\r\n\r\nYou should do it the other way around\r\n\r\nAlso add **@Transactional** to the method that executed the following code\r\n\r\n    Address address = new Address();                        \r\n    User user = userRepository.findByUsername(&quot;someemail&quot;);  \r\n    if (user.getAddress() != null) {\r\n        Address oldAddress = user.getAddress();\r\n        oldAddress.setUser(null);\r\n    }\r\n    user.setAddress(address);                                 \r\n    userRepository.save(user);\r\n\r\nFor this to work you have to modify in your `User` entity the \r\n\r\n     @OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\r\n     Address address;\r\n\r\nNow when you execute the above code, the previous address entity will be updated to have a `null` reference for a `user` and this way the `orphanRemoval` will do it&#39;s job and remove it from database while the new address will be persisted and linked with the relative user.","title":"How do I update a new reference in a OneToOne bidirectional relationship?","body":"<blockquote>\n<p>//Address @Entity</p>\n<pre><code>@OneToOne(fetch = FetchType.EAGER, orphanRemoval = true)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false)\nprivate User user;\n</code></pre>\n<p>and</p>\n<pre><code>//User @Entity\n@OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true)\nAddress address;\n</code></pre>\n</blockquote>\n<p>According to the above code, you have declared that the entity <code>Address</code> will be the one that has the mapping for the relevant <code>User</code>. So your <code>Address</code> table in database has an extra field <code>user_id</code> that maps this address with the relevant user.</p>\n<p>Check your 1st approach</p>\n<pre><code>Address address = new Address();                         &lt;--- new address entity created\nUser user = userRepository.findByUsername(&quot;someemail&quot;);  &lt;--- user retrieved from DB\naddress.setUser(user);                                   &lt;----New address record in address table is set up to have the relevant user\naddressRepository.save(address);\n</code></pre>\n<p>You should do it the other way around</p>\n<p>Also add <strong>@Transactional</strong> to the method that executed the following code</p>\n<pre><code>Address address = new Address();                        \nUser user = userRepository.findByUsername(&quot;someemail&quot;);  \nif (user.getAddress() != null) {\n    Address oldAddress = user.getAddress();\n    oldAddress.setUser(null);\n}\nuser.setAddress(address);                                 \nuserRepository.save(user);\n</code></pre>\n<p>For this to work you have to modify in your <code>User</code> entity the</p>\n<pre><code> @OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\n Address address;\n</code></pre>\n<p>Now when you execute the above code, the previous address entity will be updated to have a <code>null</code> reference for a <code>user</code> and this way the <code>orphanRemoval</code> will do it's job and remove it from database while the new address will be persisted and linked with the relative user.</p>\n"},{"tags":[],"owner":{"account_id":22901,"reputation":14459,"user_id":56952,"accept_rate":66,"display_name":"erotsppa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650669259,"creation_date":1650669259,"answer_id":71975526,"question_id":71971864,"body_markdown":"This is the final working answer\r\n\r\n    //address entity, no cascade non sense\r\n        @JoinColumn(name = &quot;user_id&quot;, nullable = false, unique=true)\r\n        private User user;\r\n\r\nand\r\n\r\n     //User @Entity\r\n    @OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n    Address address;\r\n\r\nAnd then update reference by \r\n\r\n      if (user.getAddress() != null) {\r\n            user.setAddress(null);\r\n            userRepository.save(user);\r\n        }\r\n        address.setUser(user);\r\n        addressRepository.save(address);","title":"How do I update a new reference in a OneToOne bidirectional relationship?","body":"<p>This is the final working answer</p>\n<pre><code>//address entity, no cascade non sense\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, unique=true)\n    private User user;\n</code></pre>\n<p>and</p>\n<pre><code> //User @Entity\n@OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true)\nAddress address;\n</code></pre>\n<p>And then update reference by</p>\n<pre><code>  if (user.getAddress() != null) {\n        user.setAddress(null);\n        userRepository.save(user);\n    }\n    address.setUser(user);\n    addressRepository.save(address);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650906654,"creation_date":1650906654,"answer_id":72003258,"question_id":71971864,"body_markdown":"Let&#39;s suppose we have this:\r\n    \r\n    @Entity\r\n    public class User {\r\n     @OneToOne(orphanRemoval = true)\r\n     Address address;\r\n    }\r\n\r\nWhen you put the orphanRemoval on the @OneToOne ,the User table in the database will have a field created as a FK with PK of the adress table,so that hibernate can keep track of changes. When you try to save a User ,even without changing the adress value ,a select query will be triggered to CHECK if there&#39;s any difference between the selected adress fields and the adress object contained in the user object that you passed to the save method.If there&#39;s any change ,a select will be triggered on the adress table to see if that record is still there ,and if so ,after updating the user table , a delete query will be issued to delete that orphan adress. \r\nhope this helps.","title":"How do I update a new reference in a OneToOne bidirectional relationship?","body":"<p>Let's suppose we have this:</p>\n<pre><code>@Entity\npublic class User {\n @OneToOne(orphanRemoval = true)\n Address address;\n}\n</code></pre>\n<p>When you put the orphanRemoval on the @OneToOne ,the User table in the database will have a field created as a FK with PK of the adress table,so that hibernate can keep track of changes. When you try to save a User ,even without changing the adress value ,a select query will be triggered to CHECK if there's any difference between the selected adress fields and the adress object contained in the user object that you passed to the save method.If there's any change ,a select will be triggered on the adress table to see if that record is still there ,and if so ,after updating the user table , a delete query will be issued to delete that orphan adress.\nhope this helps.</p>\n"}],"owner":{"account_id":22901,"reputation":14459,"user_id":56952,"accept_rate":66,"display_name":"erotsppa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1650906654,"creation_date":1650644672,"question_id":71971864,"body_markdown":"I have two simple entities\r\n\r\n    //Address @Entity     \r\n    @OneToOne(fetch = FetchType.EAGER, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private User user;\r\n\r\nand\r\n\r\n    //User @Entity\r\n    @OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n    Address address;\r\n\r\nBut I am unable to update the user with a new address.\r\n\r\n**First approach:**\r\n     \r\n        Address address = new Address();\r\n        User user = userRepository.findByUsername(&quot;someemail&quot;);\r\n        address.setUser(user);\r\n        addressRepository.save(address);\r\n\r\nthe code runs fine but an insert statement is done and now I have two address records in the database which causes future exceptions.\r\n\r\n**Second approach**\r\n\r\n    Address address = new Address();\r\n        User user = userRepository.findByUsername(&quot;someemail&quot;);\r\n        address.setUser(user);\r\n        user.setAddress(address);   //added this line\r\n        addressRepository.save(address);\r\n\r\nNow it throws exception \r\n\r\n    org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\r\n\r\n**Third approach**\r\n\r\n    Address address = new Address();\r\n    User user = userRepository.findByUsername(&quot;someemail&quot;);\r\n    address.setUser(user);\r\n    user.setAddress(address); \r\n    userRepository.save(user);  //added this\r\n    addressRepository.save(address);\r\n\r\nNew exception:\r\n\r\n    org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing \r\n\r\n\r\n---- \r\n**Temp solution**\r\n\r\nThis solution works, but it&#39;s the most ugly code I&#39;ve written and also I have no idea why it works. If someone has a better answer I will mark as solution.\r\n\r\n**First add cascade to the entity**\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\r\n    Address address;\r\n\r\nAnd then update using this:\r\n\r\n    User user = userRepository.findByUsername(&quot;someemail&quot;);\r\n        if (user.getAddress() != null) {\r\n            addressRepository.delete(user.getAddress());\r\n            user.setAddress(address);\r\n            address.setUser(user);\r\n            userRepository.save(user);\r\n        } else {\r\n            address.setUser(user);\r\n            addressRepository.save(address);\r\n        }","title":"How do I update a new reference in a OneToOne bidirectional relationship?","body":"<p>I have two simple entities</p>\n<pre><code>//Address @Entity     \n@OneToOne(fetch = FetchType.EAGER, orphanRemoval = true)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false)\nprivate User user;\n</code></pre>\n<p>and</p>\n<pre><code>//User @Entity\n@OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true)\nAddress address;\n</code></pre>\n<p>But I am unable to update the user with a new address.</p>\n<p><strong>First approach:</strong></p>\n<pre><code>    Address address = new Address();\n    User user = userRepository.findByUsername(&quot;someemail&quot;);\n    address.setUser(user);\n    addressRepository.save(address);\n</code></pre>\n<p>the code runs fine but an insert statement is done and now I have two address records in the database which causes future exceptions.</p>\n<p><strong>Second approach</strong></p>\n<pre><code>Address address = new Address();\n    User user = userRepository.findByUsername(&quot;someemail&quot;);\n    address.setUser(user);\n    user.setAddress(address);   //added this line\n    addressRepository.save(address);\n</code></pre>\n<p>Now it throws exception</p>\n<pre><code>org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\n</code></pre>\n<p><strong>Third approach</strong></p>\n<pre><code>Address address = new Address();\nUser user = userRepository.findByUsername(&quot;someemail&quot;);\naddress.setUser(user);\nuser.setAddress(address); \nuserRepository.save(user);  //added this\naddressRepository.save(address);\n</code></pre>\n<p>New exception:</p>\n<pre><code>org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing \n</code></pre>\n<hr />\n<p><strong>Temp solution</strong></p>\n<p>This solution works, but it's the most ugly code I've written and also I have no idea why it works. If someone has a better answer I will mark as solution.</p>\n<p><strong>First add cascade to the entity</strong></p>\n<pre><code>@OneToOne(mappedBy = &quot;user&quot;, orphanRemoval = true, cascade = CascadeType.ALL)\nAddress address;\n</code></pre>\n<p>And then update using this:</p>\n<pre><code>User user = userRepository.findByUsername(&quot;someemail&quot;);\n    if (user.getAddress() != null) {\n        addressRepository.delete(user.getAddress());\n        user.setAddress(address);\n        address.setUser(user);\n        userRepository.save(user);\n    } else {\n        address.setUser(user);\n        addressRepository.save(address);\n    }\n</code></pre>\n"},{"tags":["javascript","java","knockout.js","radio-button"],"comments":[{"owner":{"account_id":1895917,"reputation":17514,"user_id":1712905,"accept_rate":84,"display_name":"john Smith"},"score":0,"creation_date":1650874317,"post_id":71994745,"comment_id":127217455,"body_markdown":"AFAIS you are double-assigning `self.litho_layer_exposure` it cannot be an observable and a computed at the same time which may lead to unexpected behaviour, also i dont understand this `value=&quot;$parent.layer_name+$data&quot;`  should have no effect","body":"AFAIS you are double-assigning <code>self.litho_layer_exposure</code> it cannot be an observable and a computed at the same time which may lead to unexpected behaviour, also i dont understand this <code>value=&quot;$parent.layer_name+$data&quot;</code>  should have no effect"},{"owner":{"account_id":3291485,"reputation":149,"user_id":2769707,"accept_rate":57,"display_name":"Pavan Sky"},"score":0,"creation_date":1650883474,"post_id":71994745,"comment_id":127220592,"body_markdown":"Thank you, @johnSmith. The actual array comes from the server end, should I should show the radio buttons based on a number of elements in that array. The issue is that there should be a call on the selection of the radio button and it is also getting cleared.  I wanted to make each of the radio buttons unique, which is why i thought the data can be layer+radio button text","body":"Thank you, @johnSmith. The actual array comes from the server end, should I should show the radio buttons based on a number of elements in that array. The issue is that there should be a call on the selection of the radio button and it is also getting cleared.  I wanted to make each of the radio buttons unique, which is why i thought the data can be layer+radio button text"}],"answers":[{"tags":[],"owner":{"account_id":1895917,"reputation":17514,"user_id":1712905,"accept_rate":84,"display_name":"john Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650906625,"creation_date":1650906625,"answer_id":72003247,"question_id":71994745,"body_markdown":"I&#180;m pretty sure the initial error is\r\n\r\n    value=&quot;$parent.layer_name+$data&quot;\r\n\r\nwhich should lead to all inputs have literally `&quot;$parent.layer_name+$data&quot;` as value\r\n\r\nyou probably wanted to use a databinding to fill the attribute\r\n\r\n    data-bind=&quot;attr:{value: $parent.layer_name+$data}, checked: ...&quot; ","title":"Knockout JS radio button binding in a for each loop","body":"<p>I´m pretty sure the initial error is</p>\n<pre><code>value=&quot;$parent.layer_name+$data&quot;\n</code></pre>\n<p>which should lead to all inputs have literally <code>&quot;$parent.layer_name+$data&quot;</code> as value</p>\n<p>you probably wanted to use a databinding to fill the attribute</p>\n<pre><code>data-bind=&quot;attr:{value: $parent.layer_name+$data}, checked: ...&quot; \n</code></pre>\n"}],"owner":{"account_id":3291485,"reputation":149,"user_id":2769707,"accept_rate":57,"display_name":"Pavan Sky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650906625,"creation_date":1650863563,"question_id":71994745,"body_markdown":"I&#39;m unable to get the radio button checked even with the text matching the radio button value.\r\n ` ` `\r\n&lt;!-- ko foreach: litho_layer_name_selected_definitions --&gt;\r\n      &lt;div class=&quot;well pull-left clearfix&quot; style=&quot;margin:5px;width:90px;padding:5px;&quot; data-bind=&quot;click: $root.select_litho_layer_definition, css: {&#39;background-highlight&#39;: $root.current_litho_layer_definition() === $data}&quot;&gt;\r\n        &lt;p class=&quot;text-center tight-padding no-margin&quot;&gt;&lt;strong data-bind=&quot;text: layer_name&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\r\n        &lt;div class=&quot;btn-group&quot; style=&quot;width:90px&quot;&gt;\r\n          &lt;button class=&quot;btn btn-mini dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; style=&quot;width:90px&quot;&gt;\r\n            &lt;span data-bind=&quot;text: &#39;Rev.&#39; + revision&quot;&gt;&lt;/span&gt;\r\n            &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;\r\n          &lt;/button&gt;\r\n          &lt;ul class=&quot;dropdown-menu small-list&quot; data-bind=&quot;foreach: $root.litho_layer_name_definitions()[_.indexOf($root.litho_layer_names(), layer_name)]&quot; style=&quot;width:90px&quot;&gt;\r\n            &lt;li&gt;&lt;a data-bind=&quot;text: &#39;Rev.&#39; + revision, click: $root.litho_layer_name_select_revision&quot;&gt;&lt;/a&gt;&lt;/li&gt;\r\n          &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n          \r\n          &lt;!-- ko foreach: exposure_array_names--&gt;\r\n        \r\n        &lt;input type=&quot;radio&quot; name=&quot;ExposureGroup&quot; value=&quot;$parent.layer_name+$data&quot; data-bind=&quot;click: $root.litho_layer_name_select_exposure,  checked:$root.litho_layer_exposure&quot;/&gt;\r\n        &lt;span data-bind=&quot;text: $data&quot;&gt;&lt;/span&gt;&lt;br&gt;\r\n        &lt;!--/ko--&gt;\r\n      &lt;/div&gt;\r\n    &lt;!-- /ko --&gt;\r\n ` ` `\r\n\r\nEach of the `litho_layer_name_selected_definitions` has an array of exposures called  `exposure_array_names`\r\n\r\nNow object structure looks like this.\r\n\r\n    {\r\n        &quot;litho_layer_definition_sk&quot;: 90000026426,\r\n        &quot;exposure_array_names&quot;: [\r\n            &quot;IF1_EDGE&quot;,\r\n            &quot;Combined&quot;\r\n        ],\r\n        &quot;layer_name&quot;: &quot;3HG&quot;,\r\n        &quot;revision&quot;: 0\r\n    }\r\nIn the js, I have created an observable object of `litho_layer_exposure`\r\n\r\n    self.litho_layer_exposure = ko.observable(true);\r\n    self.litho_layer_exposure = ko.computed(function() {\r\n          var maskset = self.maskset();\r\n          if (!maskset) return [];\r\n    \r\n          var defs = maskset.litho_layer_definitions;\r\n          if (_.isEmpty(defs)) return [];\r\n    \r\n          var name = self.current_litho_layer_name();\r\n          if (!name) return [];\r\n    \r\n    \t var revision = self.current_litho_layer_revision();\r\n          if (!_.isNumber(revision)) return;\r\n    \r\n    \r\n    _.reduce(defs, function(memo, d) {\r\n            if (d.layer_name === name &amp;&amp; d.revision === revision){\r\n    \t\tmemo.push(_.last(d.exposure_array_names));\r\n    \t}\r\n            return memo;\r\n          }, []);\r\n        });\r\n    \tself.litho_layer_exposure.subscribe(function(exposure) {\r\n          if (!_.isEmpty(exposure)) self.current_litho_layer_exposure(_.last(exposure));\r\n        });\r\n\r\n\r\n[![Radio Buttons][1]][1]\r\n\r\n\r\nI tried making the below change, which didn&#39;t work either\r\n\r\n    self.litho_layer_exposure = ko.computed({\r\n    \tread: function () {\r\n           \r\n          var maskset = self.maskset();\r\n          if (!maskset) return [];\r\n    \r\n          var defs = maskset.litho_layer_definitions;\r\n          if (_.isEmpty(defs)) return [];\r\n    \r\n          var name = self.current_litho_layer_name();\r\n          if (!name) return [];\r\n    \r\n    \t var revision = self.current_litho_layer_revision();\r\n          if (!_.isNumber(revision)) return;\r\n    \r\n     \t/*var exposure = self.current_litho_layer_exposure();\r\n          if (!exposure) return [];*/\r\n    \r\n     return _.reduce(defs, function(memo, d) {\r\n            if (d.layer_name === name &amp;&amp;  d.revision === revision) memo.push(d.default_exposure_name);\r\n            return memo;\r\n          }, []);\r\n        },\r\n        write: function (value) {\r\n            //update your self.chosenAge().population value here\r\n    self.current_litho_layer_exposure(value);\r\n    self.litho_layer_exposure(value);\r\n        },\r\n    \r\n        owner: self\r\n    });\r\n    \tself.litho_layer_exposure.subscribe(function(exposure) {\r\n          if (!_.isEmpty(exposure)) self.current_litho_layer_exposure(_.last(exposure));\r\n        });\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sy2iX.png","title":"Knockout JS radio button binding in a for each loop","body":"<p>I'm unable to get the radio button checked even with the text matching the radio button value.\n<code> </code> `</p>\n\n<pre><code>  &lt;div class=&quot;well pull-left clearfix&quot; style=&quot;margin:5px;width:90px;padding:5px;&quot; data-bind=&quot;click: $root.select_litho_layer_definition, css: {'background-highlight': $root.current_litho_layer_definition() === $data}&quot;&gt;\n    &lt;p class=&quot;text-center tight-padding no-margin&quot;&gt;&lt;strong data-bind=&quot;text: layer_name&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\n    &lt;div class=&quot;btn-group&quot; style=&quot;width:90px&quot;&gt;\n      &lt;button class=&quot;btn btn-mini dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; style=&quot;width:90px&quot;&gt;\n        &lt;span data-bind=&quot;text: 'Rev.' + revision&quot;&gt;&lt;/span&gt;\n        &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;\n      &lt;/button&gt;\n      &lt;ul class=&quot;dropdown-menu small-list&quot; data-bind=&quot;foreach: $root.litho_layer_name_definitions()[_.indexOf($root.litho_layer_names(), layer_name)]&quot; style=&quot;width:90px&quot;&gt;\n        &lt;li&gt;&lt;a data-bind=&quot;text: 'Rev.' + revision, click: $root.litho_layer_name_select_revision&quot;&gt;&lt;/a&gt;&lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n      \n      &lt;!-- ko foreach: exposure_array_names--&gt;\n    \n    &lt;input type=&quot;radio&quot; name=&quot;ExposureGroup&quot; value=&quot;$parent.layer_name+$data&quot; data-bind=&quot;click: $root.litho_layer_name_select_exposure,  checked:$root.litho_layer_exposure&quot;/&gt;\n    &lt;span data-bind=&quot;text: $data&quot;&gt;&lt;/span&gt;&lt;br&gt;\n    &lt;!--/ko--&gt;\n  &lt;/div&gt;\n&lt;!-- /ko --&gt;\n</code></pre>\n<p><code> </code> `</p>\n<p>Each of the <code>litho_layer_name_selected_definitions</code> has an array of exposures called  <code>exposure_array_names</code></p>\n<p>Now object structure looks like this.</p>\n<pre><code>{\n    &quot;litho_layer_definition_sk&quot;: 90000026426,\n    &quot;exposure_array_names&quot;: [\n        &quot;IF1_EDGE&quot;,\n        &quot;Combined&quot;\n    ],\n    &quot;layer_name&quot;: &quot;3HG&quot;,\n    &quot;revision&quot;: 0\n}\n</code></pre>\n<p>In the js, I have created an observable object of <code>litho_layer_exposure</code></p>\n<pre><code>self.litho_layer_exposure = ko.observable(true);\nself.litho_layer_exposure = ko.computed(function() {\n      var maskset = self.maskset();\n      if (!maskset) return [];\n\n      var defs = maskset.litho_layer_definitions;\n      if (_.isEmpty(defs)) return [];\n\n      var name = self.current_litho_layer_name();\n      if (!name) return [];\n\n     var revision = self.current_litho_layer_revision();\n      if (!_.isNumber(revision)) return;\n\n\n_.reduce(defs, function(memo, d) {\n        if (d.layer_name === name &amp;&amp; d.revision === revision){\n        memo.push(_.last(d.exposure_array_names));\n    }\n        return memo;\n      }, []);\n    });\n    self.litho_layer_exposure.subscribe(function(exposure) {\n      if (!_.isEmpty(exposure)) self.current_litho_layer_exposure(_.last(exposure));\n    });\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sy2iX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sy2iX.png\" alt=\"Radio Buttons\" /></a></p>\n<p>I tried making the below change, which didn't work either</p>\n<pre><code>self.litho_layer_exposure = ko.computed({\n    read: function () {\n       \n      var maskset = self.maskset();\n      if (!maskset) return [];\n\n      var defs = maskset.litho_layer_definitions;\n      if (_.isEmpty(defs)) return [];\n\n      var name = self.current_litho_layer_name();\n      if (!name) return [];\n\n     var revision = self.current_litho_layer_revision();\n      if (!_.isNumber(revision)) return;\n\n    /*var exposure = self.current_litho_layer_exposure();\n      if (!exposure) return [];*/\n\n return _.reduce(defs, function(memo, d) {\n        if (d.layer_name === name &amp;&amp;  d.revision === revision) memo.push(d.default_exposure_name);\n        return memo;\n      }, []);\n    },\n    write: function (value) {\n        //update your self.chosenAge().population value here\nself.current_litho_layer_exposure(value);\nself.litho_layer_exposure(value);\n    },\n\n    owner: self\n});\n    self.litho_layer_exposure.subscribe(function(exposure) {\n      if (!_.isEmpty(exposure)) self.current_litho_layer_exposure(_.last(exposure));\n    });\n</code></pre>\n"},{"tags":["java","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":14328583,"reputation":2316,"user_id":10349960,"display_name":"druskacik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650906607,"creation_date":1650876955,"answer_id":71996852,"question_id":71994820,"body_markdown":"As per Telegram docs, [Message][1] object received in an Update will contain `reply_to_message` field if the message was sent as a reply to a previous message. The `reply_to_message` is of type `Message` as well, so you can get its text and ID the usual way (via `getText` and `getMessageID`).\r\n\r\nI am not sure how this would be done in java (I guess by simple `getReplyToMessage`), this is how I would handle it in javascript.\r\n\r\n```\r\nconst update = req.body;\r\nconst message = update.message || update.edited_message;\r\n\r\nif (message.reply_to_message) {\r\n    // this means message was a reply to a previous message\r\n    const previousMessageID = message.reply_to_message.message_id;\r\n    const previousMessageText = message.reply_to_message.text;\r\n    ...\r\n}\r\n\r\n```\r\n\r\n  [1]: https://core.telegram.org/bots/api#message","title":"How can Telegram Bot get the message text of if you have the message ID?","body":"<p>As per Telegram docs, <a href=\"https://core.telegram.org/bots/api#message\" rel=\"nofollow noreferrer\">Message</a> object received in an Update will contain <code>reply_to_message</code> field if the message was sent as a reply to a previous message. The <code>reply_to_message</code> is of type <code>Message</code> as well, so you can get its text and ID the usual way (via <code>getText</code> and <code>getMessageID</code>).</p>\n<p>I am not sure how this would be done in java (I guess by simple <code>getReplyToMessage</code>), this is how I would handle it in javascript.</p>\n<pre><code>const update = req.body;\nconst message = update.message || update.edited_message;\n\nif (message.reply_to_message) {\n    // this means message was a reply to a previous message\n    const previousMessageID = message.reply_to_message.message_id;\n    const previousMessageText = message.reply_to_message.text;\n    ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":8115094,"reputation":3418,"user_id":6130540,"accept_rate":52,"display_name":"Clone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3787,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1650906607,"creation_date":1650864482,"question_id":71994820,"body_markdown":"So the thought is that a user A replies to a post in a chat from user B using a command `/command`. **How can we get the contents of the message (of user B)?**\r\n\r\nLike, we get an `Update update` and I can do \r\n\r\n    String messageText = update.getMessage().getText(); // what user A sent aka &quot;\\command&quot; string\r\n    long messageId = update.getMessage().getMessageId();\r\n\r\nBut what commands do I use to get the message of user B which is technically inside `update`, right?","title":"How can Telegram Bot get the message text of if you have the message ID?","body":"<p>So the thought is that a user A replies to a post in a chat from user B using a command <code>/command</code>. <strong>How can we get the contents of the message (of user B)?</strong></p>\n<p>Like, we get an <code>Update update</code> and I can do</p>\n<pre><code>String messageText = update.getMessage().getText(); // what user A sent aka &quot;\\command&quot; string\nlong messageId = update.getMessage().getMessageId();\n</code></pre>\n<p>But what commands do I use to get the message of user B which is technically inside <code>update</code>, right?</p>\n"},{"tags":["java","spring","spring-boot","tomcat9"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1650306874,"post_id":71915626,"comment_id":127079201,"body_markdown":"share the code where you create your `ThreadPoolTaskScheduler`","body":"share the code where you create your <code>ThreadPoolTaskScheduler</code>"},{"owner":{"account_id":12260786,"reputation":215,"user_id":8948544,"display_name":"Karthik Sankaran"},"score":0,"creation_date":1650309425,"post_id":71915626,"comment_id":127079934,"body_markdown":"I have added this code as an update to my question above.","body":"I have added this code as an update to my question above."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1650895263,"post_id":71915626,"comment_id":127224846,"body_markdown":"Your code is wrong. Your `ThreadPoolTaskScheduler` should be a bean, so that it can be shutdown by Spring when the application stops. Currently it cannot shut it down and thus those threads and class will never cleanup after itself. Or even better, ditch that configuration class and use the Spring Boot auto-configured `TaskScheduler`. Add `spring.task.scheduling.pool.size=10` to have the pool size you want.","body":"Your code is wrong. Your <code>ThreadPoolTaskScheduler</code> should be a bean, so that it can be shutdown by Spring when the application stops. Currently it cannot shut it down and thus those threads and class will never cleanup after itself. Or even better, ditch that configuration class and use the Spring Boot auto-configured <code>TaskScheduler</code>. Add <code>spring.task.scheduling.pool.size=10</code> to have the pool size you want."}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650358221,"creation_date":1650358221,"answer_id":71922164,"question_id":71915626,"body_markdown":"Apparently (likely during some initialization), you&#39;re providing a component that creates threads (e.g. `ThreadPoolTaskScheduler`). If these threads are non-daemon threads, Tomcat rightfully can&#39;t stop before they end.\r\n\r\nAs you&#39;re creating this scheduler yourself, assume responsibility to clean up after yourself, and shut it down when the webapplication goes down (or find a way to delegate this responsibility to spring - I&#39;d assume that this would be delegating creation *and* teardown). ","title":"Spring Boot 2 preventing Tomcat 9 from shutting down","body":"<p>Apparently (likely during some initialization), you're providing a component that creates threads (e.g. <code>ThreadPoolTaskScheduler</code>). If these threads are non-daemon threads, Tomcat rightfully can't stop before they end.</p>\n<p>As you're creating this scheduler yourself, assume responsibility to clean up after yourself, and shut it down when the webapplication goes down (or find a way to delegate this responsibility to spring - I'd assume that this would be delegating creation <em>and</em> teardown).</p>\n"}],"owner":{"account_id":12260786,"reputation":215,"user_id":8948544,"display_name":"Karthik Sankaran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650906462,"creation_date":1650306374,"question_id":71915626,"body_markdown":"I am having an issue where a Tomcat server fails to shut down correctly when it has a Spring Boot web application. This causes issues with scheduled tasks and batch scripts.\r\n\r\nConfiguration details:\r\n\r\n - Tomcat version: 9.0.62.0 \r\n - Java version: 17.0.2+8-LTS-86 \r\n - Spring boot version: 2.5.12\r\n - Operating System (development): Windows 10\r\n\r\nThe Spring Boot application has several dependencies, including security, jdbc (with 2 data sources, one from Oracle and the other from MS SQL), cache and mail.\r\n\r\nThis is a brand new Tomcat installation. i.e. I just downloaded it from the website, unzipped it and placed the web application in the ```webapps``` folder\r\n\r\nAs a sanity check, I ran the tomcat server without the Spring Boot application and the shutdown runs correctly.\r\n\r\nWhen I run ```catalina start```, a new tomcat window opens with output from the tomcat server (i.e. startup, logs etc.)\r\n\r\nWhen I run ```catalina stop```, the tomcat window shows the following **but does not close** :\r\nNOTE: test17 is the name of my Spring Boot web application\r\n```\r\n18-Apr-2022 14:10:10.960 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.\r\n18-Apr-2022 14:10:10.961 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n18-Apr-2022 14:10:10.975 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\r\n2022-04-18 14:10:10.988  INFO 9220 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...\r\n2022-04-18 14:10:10.988  INFO 9220 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69609372]]\r\n2022-04-18 14:10:10.989  INFO 9220 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.\r\n2022-04-18 14:10:10.996  INFO 9220 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-04-18 14:10:10.996  INFO 9220 --- [           main] c.z.h.HikariDataSource                   : HikariPool-2 - Shutdown initiated...\r\n2022-04-18 14:10:11.011  INFO 9220 --- [           main] c.z.h.HikariDataSource                   : HikariPool-2 - Shutdown completed.\r\n2022-04-18 14:10:11.012  INFO 9220 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-04-18 14:10:11.012  INFO 9220 --- [           main] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown initiated...\r\n2022-04-18 14:10:11.014  INFO 9220 --- [           main] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown completed.\r\n18-Apr-2022 14:10:11.047 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.048 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.053 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-3] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.054 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-4] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.055 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-5] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.055 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-6] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.056 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-7] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.056 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-8] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\r\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.057 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-9] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.057 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-10] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\r\n18-Apr-2022 14:10:11.058 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp17] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@265c741]) and a value of type [java.lang.Class] (value [class oracle.sql.AnyDataFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n18-Apr-2022 14:10:11.058 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp17] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@20d8d02d]) and a value of type [java.lang.Class] (value [class oracle.sql.TypeDescriptorFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n18-Apr-2022 14:10:11.067 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\r\n18-Apr-2022 14:10:11.080 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n\r\n```\r\n\r\nAny ideas what may be preventing Tomcat from properly shutting down? Does it have something to do with all these memory leak warnings?\r\n\r\n## UPDATE 1 ##\r\n\r\nHere is the code where I create my ```ThreadPoolTaskScheduler```\r\n\r\n```\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.scheduling.annotation.SchedulingConfigurer;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\r\nimport org.springframework.scheduling.config.ScheduledTaskRegistrar;\r\n\r\n@Configuration\r\npublic class SchedulingConfigurerConfiguration implements SchedulingConfigurer {\r\n\r\n    @Override\r\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n        ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\r\n        taskScheduler.setPoolSize(10);\r\n        taskScheduler.initialize();\r\n        taskRegistrar.setTaskScheduler(taskScheduler);\r\n    }\r\n}\r\n```\r\n\r\n## UPDATE 2 ##\r\nI have cleared some unused dependencies, removed all my scheduled tasks and upgraded the JDBC drivers to the latest versions without any success.\r\nHere is a Thread Dump (Taken using ```jstack```) after the server has shut down but the server window remains open.\r\n```\r\n2022-04-25 09:45:43\r\nFull thread dump Java HotSpot(TM) 64-Bit Server VM (17.0.2+8-LTS-86 mixed mode, sharing):\r\n\r\nThreads class SMR info:\r\n_java_thread_list=0x000001df031609d0, length=15, elements={\r\n0x000001df7f0590c0, 0x000001df7f059e40, 0x000001df7fbeb090, 0x000001df7fbee970,\r\n0x000001df7fbf0240, 0x000001df7fbf4000, 0x000001df7fbf4ca0, 0x000001df7fbfda60,\r\n0x000001df7fc0bb60, 0x000001df7fd48110, 0x000001df7fd48c10, 0x000001df7fdd8950,\r\n0x000001df0285a4a0, 0x000001df08ebead0, 0x000001df07475cb0\r\n}\r\n\r\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=2 cpu=0.00ms elapsed=170.00s tid=0x000001df7f0590c0 nid=0x12c8 waiting on condition  [0x0000001b491ff000]\r\n   java.lang.Thread.State: RUNNABLE\r\n        at java.lang.ref.Reference.waitForReferencePendingList(java.base@17.0.2/Native Method)\r\n        at java.lang.ref.Reference.processPendingReferences(java.base@17.0.2/Reference.java:253)\r\n        at java.lang.ref.Reference$ReferenceHandler.run(java.base@17.0.2/Reference.java:215)\r\n\r\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=1 cpu=0.00ms elapsed=170.00s tid=0x000001df7f059e40 nid=0x2bc8 in Object.wait()  [0x0000001b492ff000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(java.base@17.0.2/Native Method)\r\n        - waiting on &lt;0x0000000402800be0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(java.base@17.0.2/ReferenceQueue.java:155)\r\n        - locked &lt;0x0000000402800be0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(java.base@17.0.2/ReferenceQueue.java:176)\r\n        at java.lang.ref.Finalizer$FinalizerThread.run(java.base@17.0.2/Finalizer.java:172)\r\n\r\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=2 cpu=0.00ms elapsed=169.99s tid=0x000001df7fbeb090 nid=0x50e0 waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Attach Listener&quot; #5 daemon prio=5 os_prio=2 cpu=0.00ms elapsed=169.99s tid=0x000001df7fbee970 nid=0x6734 waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Service Thread&quot; #6 daemon prio=9 os_prio=0 cpu=0.00ms elapsed=169.99s tid=0x000001df7fbf0240 nid=0x6b68 runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Monitor Deflation Thread&quot; #7 daemon prio=9 os_prio=0 cpu=0.00ms elapsed=169.99s tid=0x000001df7fbf4000 nid=0x4188 runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C2 CompilerThread0&quot; #8 daemon prio=9 os_prio=2 cpu=8578.12ms elapsed=169.99s tid=0x000001df7fbf4ca0 nid=0x7724 waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   No compile task\r\n\r\n&quot;C1 CompilerThread0&quot; #16 daemon prio=9 os_prio=2 cpu=1265.62ms elapsed=169.99s tid=0x000001df7fbfda60 nid=0x2248 waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n   No compile task\r\n\r\n&quot;Sweeper thread&quot; #20 daemon prio=9 os_prio=2 cpu=187.50ms elapsed=169.99s tid=0x000001df7fc0bb60 nid=0x8c8 runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Common-Cleaner&quot; #21 daemon prio=8 os_prio=1 cpu=0.00ms elapsed=169.98s tid=0x000001df7fd48110 nid=0x5f34 in Object.wait()  [0x0000001b49dfe000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(java.base@17.0.2/Native Method)\r\n        - waiting on &lt;0x0000000402800f50&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(java.base@17.0.2/ReferenceQueue.java:155)\r\n        - locked &lt;0x0000000402800f50&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at jdk.internal.ref.CleanerImpl.run(java.base@17.0.2/CleanerImpl.java:140)\r\n        at java.lang.Thread.run(java.base@17.0.2/Thread.java:833)\r\n        at jdk.internal.misc.InnocuousThread.run(java.base@17.0.2/InnocuousThread.java:162)\r\n\r\n&quot;Notification Thread&quot; #22 daemon prio=9 os_prio=0 cpu=15.62ms elapsed=169.97s tid=0x000001df7fd48c10 nid=0x6ac runnable  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;AsyncFileHandlerWriter-1028214719&quot; #25 daemon prio=5 os_prio=0 cpu=31.25ms elapsed=169.94s tid=0x000001df7fdd8950 nid=0x11a0 waiting on condition  [0x0000001b4a0fe000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at jdk.internal.misc.Unsafe.park(java.base@17.0.2/Native Method)\r\n        - parking to wait for  &lt;0x00000004028015a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.park(java.base@17.0.2/LockSupport.java:341)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(java.base@17.0.2/AbstractQueuedSynchronizer.java:506)\r\n        at java.util.concurrent.ForkJoinPool.unmanagedBlock(java.base@17.0.2/ForkJoinPool.java:3463)\r\n        at java.util.concurrent.ForkJoinPool.managedBlock(java.base@17.0.2/ForkJoinPool.java:3434)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@17.0.2/AbstractQueuedSynchronizer.java:1623)\r\n        at java.util.concurrent.LinkedBlockingDeque.takeFirst(java.base@17.0.2/LinkedBlockingDeque.java:485)\r\n        at java.util.concurrent.LinkedBlockingDeque.take(java.base@17.0.2/LinkedBlockingDeque.java:673)\r\n        at org.apache.juli.AsyncFileHandler$LoggerThread.run(AsyncFileHandler.java:204)\r\n\r\n&quot;FileHandlerLogFilesCleaner-1&quot; #26 daemon prio=5 os_prio=0 cpu=15.62ms elapsed=169.91s tid=0x000001df0285a4a0 nid=0x5058 waiting on condition  [0x0000001b4a1ff000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at jdk.internal.misc.Unsafe.park(java.base@17.0.2/Native Method)\r\n        - parking to wait for  &lt;0x0000000402803c38&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.park(java.base@17.0.2/LockSupport.java:341)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(java.base@17.0.2/AbstractQueuedSynchronizer.java:506)\r\n        at java.util.concurrent.ForkJoinPool.unmanagedBlock(java.base@17.0.2/ForkJoinPool.java:3463)\r\n        at java.util.concurrent.ForkJoinPool.managedBlock(java.base@17.0.2/ForkJoinPool.java:3434)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@17.0.2/AbstractQueuedSynchronizer.java:1623)\r\n        at java.util.concurrent.LinkedBlockingQueue.take(java.base@17.0.2/LinkedBlockingQueue.java:435)\r\n        at java.util.concurrent.ThreadPoolExecutor.getTask(java.base@17.0.2/ThreadPoolExecutor.java:1062)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@17.0.2/ThreadPoolExecutor.java:1122)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@17.0.2/ThreadPoolExecutor.java:635)\r\n        at java.lang.Thread.run(java.base@17.0.2/Thread.java:833)\r\n\r\n&quot;ThreadPoolTaskScheduler-1&quot; #37 prio=5 os_prio=0 cpu=0.00ms elapsed=153.76s tid=0x000001df08ebead0 nid=0x5030 waiting on condition  [0x0000001b4baff000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n        at jdk.internal.misc.Unsafe.park(java.base@17.0.2/Native Method)\r\n        - parking to wait for  &lt;0x00000004078110c8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.park(java.base@17.0.2/LockSupport.java:341)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(java.base@17.0.2/AbstractQueuedSynchronizer.java:506)\r\n        at java.util.concurrent.ForkJoinPool.unmanagedBlock(java.base@17.0.2/ForkJoinPool.java:3463)\r\n        at java.util.concurrent.ForkJoinPool.managedBlock(java.base@17.0.2/ForkJoinPool.java:3434)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@17.0.2/AbstractQueuedSynchronizer.java:1623)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@17.0.2/ScheduledThreadPoolExecutor.java:1170)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@17.0.2/ScheduledThreadPoolExecutor.java:899)\r\n        at java.util.concurrent.ThreadPoolExecutor.getTask(java.base@17.0.2/ThreadPoolExecutor.java:1062)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@17.0.2/ThreadPoolExecutor.java:1122)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@17.0.2/ThreadPoolExecutor.java:635)\r\n        at java.lang.Thread.run(java.base@17.0.2/Thread.java:833)\r\n\r\n&quot;DestroyJavaVM&quot; #59 prio=5 os_prio=0 cpu=14281.25ms elapsed=113.68s tid=0x000001df07475cb0 nid=0x6f08 waiting on condition  [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;VM Thread&quot; os_prio=2 cpu=15.62ms elapsed=170.00s tid=0x000001df7f053cf0 nid=0x7260 runnable\r\n\r\n&quot;GC Thread#0&quot; os_prio=2 cpu=15.62ms elapsed=170.01s tid=0x000001df41c61fb0 nid=0x7258 runnable\r\n\r\n&quot;GC Thread#1&quot; os_prio=2 cpu=15.62ms elapsed=168.95s tid=0x000001df0555b580 nid=0x297c runnable\r\n\r\n&quot;GC Thread#2&quot; os_prio=2 cpu=46.88ms elapsed=168.95s tid=0x000001df04aa3c40 nid=0x7248 runnable\r\n\r\n&quot;GC Thread#3&quot; os_prio=2 cpu=62.50ms elapsed=168.95s tid=0x000001df04aa3ef0 nid=0x3678 runnable\r\n\r\n&quot;GC Thread#4&quot; os_prio=2 cpu=31.25ms elapsed=168.95s tid=0x000001df04aa41a0 nid=0x7510 runnable\r\n\r\n&quot;GC Thread#5&quot; os_prio=2 cpu=46.88ms elapsed=168.95s tid=0x000001df04aa4860 nid=0x2548 runnable\r\n\r\n&quot;GC Thread#6&quot; os_prio=2 cpu=31.25ms elapsed=168.95s tid=0x000001df04aa4b10 nid=0x35ec runnable\r\n\r\n&quot;GC Thread#7&quot; os_prio=2 cpu=31.25ms elapsed=168.95s tid=0x000001df04aa4dc0 nid=0x3a28 runnable\r\n\r\n&quot;GC Thread#8&quot; os_prio=2 cpu=31.25ms elapsed=168.95s tid=0x000001df0320b550 nid=0x6af4 runnable\r\n\r\n&quot;GC Thread#9&quot; os_prio=2 cpu=15.62ms elapsed=168.94s tid=0x000001df0320b800 nid=0x7604 runnable\r\n\r\n&quot;GC Thread#10&quot; os_prio=2 cpu=31.25ms elapsed=168.94s tid=0x000001df0372d060 nid=0x4db4 runnable\r\n\r\n&quot;GC Thread#11&quot; os_prio=2 cpu=15.62ms elapsed=168.94s tid=0x000001df0372d310 nid=0x206c runnable\r\n\r\n&quot;GC Thread#12&quot; os_prio=2 cpu=78.12ms elapsed=168.94s tid=0x000001df0372ddd0 nid=0x6470 runnable\r\n\r\n&quot;G1 Main Marker&quot; os_prio=2 cpu=0.00ms elapsed=170.01s tid=0x000001df41c72d50 nid=0x5cfc runnable\r\n\r\n&quot;G1 Conc#0&quot; os_prio=2 cpu=78.12ms elapsed=170.01s tid=0x000001df41c74e20 nid=0x158 runnable\r\n\r\n&quot;G1 Conc#1&quot; os_prio=2 cpu=62.50ms elapsed=164.05s tid=0x000001df0372d5c0 nid=0x2104 runnable\r\n\r\n&quot;G1 Conc#2&quot; os_prio=2 cpu=93.75ms elapsed=164.05s tid=0x000001df0372d870 nid=0x2468 runnable\r\n\r\n&quot;G1 Refine#0&quot; os_prio=2 cpu=15.62ms elapsed=170.01s tid=0x000001df7efe9020 nid=0x39d0 runnable\r\n\r\n&quot;G1 Service&quot; os_prio=2 cpu=0.00ms elapsed=170.01s tid=0x000001df7efe9950 nid=0xbc4 runnable\r\n\r\n&quot;VM Periodic Task Thread&quot; os_prio=2 cpu=78.12ms elapsed=169.97s tid=0x000001df7ee768a0 nid=0xc4 waiting on condition\r\n\r\nJNI global refs: 30, weak refs: 0\r\n```\r\n\r\n## UPDATE 3 ##\r\n- Removing the following properties resolved my issue:\r\n```\r\nspring.datasource.testOnBorrow\r\nspring.datasource.validationQuery\r\nspring.datasource.hikari.maximumPoolSize\r\n```\r\n","title":"Spring Boot 2 preventing Tomcat 9 from shutting down","body":"<p>I am having an issue where a Tomcat server fails to shut down correctly when it has a Spring Boot web application. This causes issues with scheduled tasks and batch scripts.</p>\n<p>Configuration details:</p>\n<ul>\n<li>Tomcat version: 9.0.62.0</li>\n<li>Java version: 17.0.2+8-LTS-86</li>\n<li>Spring boot version: 2.5.12</li>\n<li>Operating System (development): Windows 10</li>\n</ul>\n<p>The Spring Boot application has several dependencies, including security, jdbc (with 2 data sources, one from Oracle and the other from MS SQL), cache and mail.</p>\n<p>This is a brand new Tomcat installation. i.e. I just downloaded it from the website, unzipped it and placed the web application in the <code>webapps</code> folder</p>\n<p>As a sanity check, I ran the tomcat server without the Spring Boot application and the shutdown runs correctly.</p>\n<p>When I run <code>catalina start</code>, a new tomcat window opens with output from the tomcat server (i.e. startup, logs etc.)</p>\n<p>When I run <code>catalina stop</code>, the tomcat window shows the following <strong>but does not close</strong> :\nNOTE: test17 is the name of my Spring Boot web application</p>\n<pre><code>18-Apr-2022 14:10:10.960 INFO [main] org.apache.catalina.core.StandardServer.await A valid shutdown command was received via the shutdown port. Stopping the Server instance.\n18-Apr-2022 14:10:10.961 INFO [main] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\n18-Apr-2022 14:10:10.975 INFO [main] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\n2022-04-18 14:10:10.988  INFO 9220 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...\n2022-04-18 14:10:10.988  INFO 9220 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@69609372]]\n2022-04-18 14:10:10.989  INFO 9220 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.\n2022-04-18 14:10:10.996  INFO 9220 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-04-18 14:10:10.996  INFO 9220 --- [           main] c.z.h.HikariDataSource                   : HikariPool-2 - Shutdown initiated...\n2022-04-18 14:10:11.011  INFO 9220 --- [           main] c.z.h.HikariDataSource                   : HikariPool-2 - Shutdown completed.\n2022-04-18 14:10:11.012  INFO 9220 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-04-18 14:10:11.012  INFO 9220 --- [           main] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown initiated...\n2022-04-18 14:10:11.014  INFO 9220 --- [           main] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown completed.\n18-Apr-2022 14:10:11.047 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.048 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.053 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-3] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.054 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-4] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.055 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-5] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.055 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-6] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.056 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-7] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.056 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-8] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.park(LockSupport.java:341)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(AbstractQueuedSynchronizer.java:506)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.unmanagedBlock(ForkJoinPool.java:3463)\n java.base@17.0.2/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3434)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1623)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1177)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.057 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-9] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.057 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [myapp17] appears to have started a thread named [ThreadPoolTaskScheduler-10] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.2/java.lang.Thread.run(Thread.java:833)\n18-Apr-2022 14:10:11.058 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp17] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@265c741]) and a value of type [java.lang.Class] (value [class oracle.sql.AnyDataFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n18-Apr-2022 14:10:11.058 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [myapp17] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@20d8d02d]) and a value of type [java.lang.Class] (value [class oracle.sql.TypeDescriptorFactory]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n18-Apr-2022 14:10:11.067 INFO [main] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\n18-Apr-2022 14:10:11.080 INFO [main] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\n\n</code></pre>\n<p>Any ideas what may be preventing Tomcat from properly shutting down? Does it have something to do with all these memory leak warnings?</p>\n<h2>UPDATE 1</h2>\n<p>Here is the code where I create my <code>ThreadPoolTaskScheduler</code></p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.scheduling.annotation.SchedulingConfigurer;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\nimport org.springframework.scheduling.config.ScheduledTaskRegistrar;\n\n@Configuration\npublic class SchedulingConfigurerConfiguration implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\n        taskScheduler.setPoolSize(10);\n        taskScheduler.initialize();\n        taskRegistrar.setTaskScheduler(taskScheduler);\n    }\n}\n</code></pre>\n<h2>UPDATE 2</h2>\n<p>I have cleared some unused dependencies, removed all my scheduled tasks and upgraded the JDBC drivers to the latest versions without any success.\nHere is a Thread Dump (Taken using <code>jstack</code>) after the server has shut down but the server window remains open.</p>\n<pre><code>2022-04-25 09:45:43\nFull thread dump Java HotSpot(TM) 64-Bit Server VM (17.0.2+8-LTS-86 mixed mode, sharing):\n\nThreads class SMR info:\n_java_thread_list=0x000001df031609d0, length=15, elements={\n0x000001df7f0590c0, 0x000001df7f059e40, 0x000001df7fbeb090, 0x000001df7fbee970,\n0x000001df7fbf0240, 0x000001df7fbf4000, 0x000001df7fbf4ca0, 0x000001df7fbfda60,\n0x000001df7fc0bb60, 0x000001df7fd48110, 0x000001df7fd48c10, 0x000001df7fdd8950,\n0x000001df0285a4a0, 0x000001df08ebead0, 0x000001df07475cb0\n}\n\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=2 cpu=0.00ms elapsed=170.00s tid=0x000001df7f0590c0 nid=0x12c8 waiting on condition  [0x0000001b491ff000]\n   java.lang.Thread.State: RUNNABLE\n        at java.lang.ref.Reference.waitForReferencePendingList(java.base@17.0.2/Native Method)\n        at java.lang.ref.Reference.processPendingReferences(java.base@17.0.2/Reference.java:253)\n        at java.lang.ref.Reference$ReferenceHandler.run(java.base@17.0.2/Reference.java:215)\n\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=1 cpu=0.00ms elapsed=170.00s tid=0x000001df7f059e40 nid=0x2bc8 in Object.wait()  [0x0000001b492ff000]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@17.0.2/Native Method)\n        - waiting on &lt;0x0000000402800be0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(java.base@17.0.2/ReferenceQueue.java:155)\n        - locked &lt;0x0000000402800be0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(java.base@17.0.2/ReferenceQueue.java:176)\n        at java.lang.ref.Finalizer$FinalizerThread.run(java.base@17.0.2/Finalizer.java:172)\n\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=2 cpu=0.00ms elapsed=169.99s tid=0x000001df7fbeb090 nid=0x50e0 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Attach Listener&quot; #5 daemon prio=5 os_prio=2 cpu=0.00ms elapsed=169.99s tid=0x000001df7fbee970 nid=0x6734 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Service Thread&quot; #6 daemon prio=9 os_prio=0 cpu=0.00ms elapsed=169.99s tid=0x000001df7fbf0240 nid=0x6b68 runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Monitor Deflation Thread&quot; #7 daemon prio=9 os_prio=0 cpu=0.00ms elapsed=169.99s tid=0x000001df7fbf4000 nid=0x4188 runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; #8 daemon prio=9 os_prio=2 cpu=8578.12ms elapsed=169.99s tid=0x000001df7fbf4ca0 nid=0x7724 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n\n&quot;C1 CompilerThread0&quot; #16 daemon prio=9 os_prio=2 cpu=1265.62ms elapsed=169.99s tid=0x000001df7fbfda60 nid=0x2248 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n\n&quot;Sweeper thread&quot; #20 daemon prio=9 os_prio=2 cpu=187.50ms elapsed=169.99s tid=0x000001df7fc0bb60 nid=0x8c8 runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Common-Cleaner&quot; #21 daemon prio=8 os_prio=1 cpu=0.00ms elapsed=169.98s tid=0x000001df7fd48110 nid=0x5f34 in Object.wait()  [0x0000001b49dfe000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@17.0.2/Native Method)\n        - waiting on &lt;0x0000000402800f50&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(java.base@17.0.2/ReferenceQueue.java:155)\n        - locked &lt;0x0000000402800f50&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at jdk.internal.ref.CleanerImpl.run(java.base@17.0.2/CleanerImpl.java:140)\n        at java.lang.Thread.run(java.base@17.0.2/Thread.java:833)\n        at jdk.internal.misc.InnocuousThread.run(java.base@17.0.2/InnocuousThread.java:162)\n\n&quot;Notification Thread&quot; #22 daemon prio=9 os_prio=0 cpu=15.62ms elapsed=169.97s tid=0x000001df7fd48c10 nid=0x6ac runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;AsyncFileHandlerWriter-1028214719&quot; #25 daemon prio=5 os_prio=0 cpu=31.25ms elapsed=169.94s tid=0x000001df7fdd8950 nid=0x11a0 waiting on condition  [0x0000001b4a0fe000]\n   java.lang.Thread.State: WAITING (parking)\n        at jdk.internal.misc.Unsafe.park(java.base@17.0.2/Native Method)\n        - parking to wait for  &lt;0x00000004028015a8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(java.base@17.0.2/LockSupport.java:341)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(java.base@17.0.2/AbstractQueuedSynchronizer.java:506)\n        at java.util.concurrent.ForkJoinPool.unmanagedBlock(java.base@17.0.2/ForkJoinPool.java:3463)\n        at java.util.concurrent.ForkJoinPool.managedBlock(java.base@17.0.2/ForkJoinPool.java:3434)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@17.0.2/AbstractQueuedSynchronizer.java:1623)\n        at java.util.concurrent.LinkedBlockingDeque.takeFirst(java.base@17.0.2/LinkedBlockingDeque.java:485)\n        at java.util.concurrent.LinkedBlockingDeque.take(java.base@17.0.2/LinkedBlockingDeque.java:673)\n        at org.apache.juli.AsyncFileHandler$LoggerThread.run(AsyncFileHandler.java:204)\n\n&quot;FileHandlerLogFilesCleaner-1&quot; #26 daemon prio=5 os_prio=0 cpu=15.62ms elapsed=169.91s tid=0x000001df0285a4a0 nid=0x5058 waiting on condition  [0x0000001b4a1ff000]\n   java.lang.Thread.State: WAITING (parking)\n        at jdk.internal.misc.Unsafe.park(java.base@17.0.2/Native Method)\n        - parking to wait for  &lt;0x0000000402803c38&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(java.base@17.0.2/LockSupport.java:341)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(java.base@17.0.2/AbstractQueuedSynchronizer.java:506)\n        at java.util.concurrent.ForkJoinPool.unmanagedBlock(java.base@17.0.2/ForkJoinPool.java:3463)\n        at java.util.concurrent.ForkJoinPool.managedBlock(java.base@17.0.2/ForkJoinPool.java:3434)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@17.0.2/AbstractQueuedSynchronizer.java:1623)\n        at java.util.concurrent.LinkedBlockingQueue.take(java.base@17.0.2/LinkedBlockingQueue.java:435)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(java.base@17.0.2/ThreadPoolExecutor.java:1062)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@17.0.2/ThreadPoolExecutor.java:1122)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@17.0.2/ThreadPoolExecutor.java:635)\n        at java.lang.Thread.run(java.base@17.0.2/Thread.java:833)\n\n&quot;ThreadPoolTaskScheduler-1&quot; #37 prio=5 os_prio=0 cpu=0.00ms elapsed=153.76s tid=0x000001df08ebead0 nid=0x5030 waiting on condition  [0x0000001b4baff000]\n   java.lang.Thread.State: WAITING (parking)\n        at jdk.internal.misc.Unsafe.park(java.base@17.0.2/Native Method)\n        - parking to wait for  &lt;0x00000004078110c8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(java.base@17.0.2/LockSupport.java:341)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionNode.block(java.base@17.0.2/AbstractQueuedSynchronizer.java:506)\n        at java.util.concurrent.ForkJoinPool.unmanagedBlock(java.base@17.0.2/ForkJoinPool.java:3463)\n        at java.util.concurrent.ForkJoinPool.managedBlock(java.base@17.0.2/ForkJoinPool.java:3434)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@17.0.2/AbstractQueuedSynchronizer.java:1623)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@17.0.2/ScheduledThreadPoolExecutor.java:1170)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@17.0.2/ScheduledThreadPoolExecutor.java:899)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(java.base@17.0.2/ThreadPoolExecutor.java:1062)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@17.0.2/ThreadPoolExecutor.java:1122)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@17.0.2/ThreadPoolExecutor.java:635)\n        at java.lang.Thread.run(java.base@17.0.2/Thread.java:833)\n\n&quot;DestroyJavaVM&quot; #59 prio=5 os_prio=0 cpu=14281.25ms elapsed=113.68s tid=0x000001df07475cb0 nid=0x6f08 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;VM Thread&quot; os_prio=2 cpu=15.62ms elapsed=170.00s tid=0x000001df7f053cf0 nid=0x7260 runnable\n\n&quot;GC Thread#0&quot; os_prio=2 cpu=15.62ms elapsed=170.01s tid=0x000001df41c61fb0 nid=0x7258 runnable\n\n&quot;GC Thread#1&quot; os_prio=2 cpu=15.62ms elapsed=168.95s tid=0x000001df0555b580 nid=0x297c runnable\n\n&quot;GC Thread#2&quot; os_prio=2 cpu=46.88ms elapsed=168.95s tid=0x000001df04aa3c40 nid=0x7248 runnable\n\n&quot;GC Thread#3&quot; os_prio=2 cpu=62.50ms elapsed=168.95s tid=0x000001df04aa3ef0 nid=0x3678 runnable\n\n&quot;GC Thread#4&quot; os_prio=2 cpu=31.25ms elapsed=168.95s tid=0x000001df04aa41a0 nid=0x7510 runnable\n\n&quot;GC Thread#5&quot; os_prio=2 cpu=46.88ms elapsed=168.95s tid=0x000001df04aa4860 nid=0x2548 runnable\n\n&quot;GC Thread#6&quot; os_prio=2 cpu=31.25ms elapsed=168.95s tid=0x000001df04aa4b10 nid=0x35ec runnable\n\n&quot;GC Thread#7&quot; os_prio=2 cpu=31.25ms elapsed=168.95s tid=0x000001df04aa4dc0 nid=0x3a28 runnable\n\n&quot;GC Thread#8&quot; os_prio=2 cpu=31.25ms elapsed=168.95s tid=0x000001df0320b550 nid=0x6af4 runnable\n\n&quot;GC Thread#9&quot; os_prio=2 cpu=15.62ms elapsed=168.94s tid=0x000001df0320b800 nid=0x7604 runnable\n\n&quot;GC Thread#10&quot; os_prio=2 cpu=31.25ms elapsed=168.94s tid=0x000001df0372d060 nid=0x4db4 runnable\n\n&quot;GC Thread#11&quot; os_prio=2 cpu=15.62ms elapsed=168.94s tid=0x000001df0372d310 nid=0x206c runnable\n\n&quot;GC Thread#12&quot; os_prio=2 cpu=78.12ms elapsed=168.94s tid=0x000001df0372ddd0 nid=0x6470 runnable\n\n&quot;G1 Main Marker&quot; os_prio=2 cpu=0.00ms elapsed=170.01s tid=0x000001df41c72d50 nid=0x5cfc runnable\n\n&quot;G1 Conc#0&quot; os_prio=2 cpu=78.12ms elapsed=170.01s tid=0x000001df41c74e20 nid=0x158 runnable\n\n&quot;G1 Conc#1&quot; os_prio=2 cpu=62.50ms elapsed=164.05s tid=0x000001df0372d5c0 nid=0x2104 runnable\n\n&quot;G1 Conc#2&quot; os_prio=2 cpu=93.75ms elapsed=164.05s tid=0x000001df0372d870 nid=0x2468 runnable\n\n&quot;G1 Refine#0&quot; os_prio=2 cpu=15.62ms elapsed=170.01s tid=0x000001df7efe9020 nid=0x39d0 runnable\n\n&quot;G1 Service&quot; os_prio=2 cpu=0.00ms elapsed=170.01s tid=0x000001df7efe9950 nid=0xbc4 runnable\n\n&quot;VM Periodic Task Thread&quot; os_prio=2 cpu=78.12ms elapsed=169.97s tid=0x000001df7ee768a0 nid=0xc4 waiting on condition\n\nJNI global refs: 30, weak refs: 0\n</code></pre>\n<h2>UPDATE 3</h2>\n<ul>\n<li>Removing the following properties resolved my issue:</li>\n</ul>\n<pre><code>spring.datasource.testOnBorrow\nspring.datasource.validationQuery\nspring.datasource.hikari.maximumPoolSize\n</code></pre>\n"},{"tags":["java","filereader","filenotfoundexception"],"comments":[{"owner":{"account_id":16680467,"reputation":1,"user_id":12055688,"display_name":"jajaja234"},"score":0,"creation_date":1650906355,"post_id":72003148,"comment_id":127229296,"body_markdown":"I think it might be a JUnit issue as I tried making another class worked completely fine","body":"I think it might be a JUnit issue as I tried making another class worked completely fine"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1650914943,"post_id":72003148,"comment_id":127231915,"body_markdown":"I&#39;d recommend refactoring this code. Unit tests should not depend on the file system, much less on relative paths. Make the code under test accept a `Reader` so that real life code can pass a `FileReader` and tests can pass any other `Reader` to have the code under test read from a memory location.","body":"I&#39;d recommend refactoring this code. Unit tests should not depend on the file system, much less on relative paths. Make the code under test accept a <code>Reader</code> so that real life code can pass a <code>FileReader</code> and tests can pass any other <code>Reader</code> to have the code under test read from a memory location."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650906348,"creation_date":1650906348,"answer_id":72003187,"question_id":72003148,"body_markdown":"It seems that the compiler is not able to find the file that you have specified. You can try sharing the absolute path of the file from the src folder of the project. \r\n\r\nin this line. \r\n\r\n    Map jsonFile = new Gson().fromJson(new FileReader(&quot;Metro_Transit_Bus_Stops.geojson&quot;), Map.class);\r\n\r\n\r\n","title":"FileNotFoundException in JUnit testing","body":"<p>It seems that the compiler is not able to find the file that you have specified. You can try sharing the absolute path of the file from the src folder of the project.</p>\n<p>in this line.</p>\n<pre><code>Map jsonFile = new Gson().fromJson(new FileReader(&quot;Metro_Transit_Bus_Stops.geojson&quot;), Map.class);\n</code></pre>\n"}],"owner":{"account_id":16680467,"reputation":1,"user_id":12055688,"display_name":"jajaja234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650906348,"creation_date":1650906128,"question_id":72003148,"body_markdown":"I have this line of code in my program\r\n\r\n    Map jsonFile = new Gson().fromJson(new FileReader(&quot;Metro_Transit_Bus_Stops.geojson&quot;), Map.class);\r\n\r\nWhen I run it from the main of the class I get no errors, it is able to read and parse through the json file.\r\n\r\n   \r\n\r\n     public static void main(String[] args) {\r\n    &#160; &#160; &#160; &#160; BSSDataWrangler dw = new BSSDataWrangler();\r\n    &#160; &#160; &#160; &#160; List&lt;Object&gt; busStops = dw.createBusStop();\r\n    &#160; &#160; &#160; &#160; System.out.println(busStops.size());\r\n    &#160; &#160; }\r\n\r\nHowever, when I call the method from my JUnit test method,&#160;\r\n\r\n    @Test\r\n    public void test1() {\r\n    &#160; &#160; &#160; &#160; \r\n    BSSDataWrangler dw = new BSSDataWrangler();\r\n    &#160; &#160; &#160; &#160; List&lt;Object&gt; busStops = dw.createBusStop();\r\n    &#160; &#160; &#160; &#160; assertEquals(25, busStops.size());\r\n    \r\n    &#160; &#160; }\r\n\r\nit gives me this error. Any idea why? Thank you!\r\n\r\n    java.io.FileNotFoundException: Metro_Transit_Bus_Stops.geojson (The system cannot find the file specified)\r\n\r\n","title":"FileNotFoundException in JUnit testing","body":"<p>I have this line of code in my program</p>\n<pre><code>Map jsonFile = new Gson().fromJson(new FileReader(&quot;Metro_Transit_Bus_Stops.geojson&quot;), Map.class);\n</code></pre>\n<p>When I run it from the main of the class I get no errors, it is able to read and parse through the json file.</p>\n<pre><code> public static void main(String[] args) {\n        BSSDataWrangler dw = new BSSDataWrangler();\n        List&lt;Object&gt; busStops = dw.createBusStop();\n        System.out.println(busStops.size());\n    }\n</code></pre>\n<p>However, when I call the method from my JUnit test method, </p>\n<pre><code>@Test\npublic void test1() {\n        \nBSSDataWrangler dw = new BSSDataWrangler();\n        List&lt;Object&gt; busStops = dw.createBusStop();\n        assertEquals(25, busStops.size());\n\n    }\n</code></pre>\n<p>it gives me this error. Any idea why? Thank you!</p>\n<pre><code>java.io.FileNotFoundException: Metro_Transit_Bus_Stops.geojson (The system cannot find the file specified)\n</code></pre>\n"},{"tags":["java","spring-boot","maven","cloud-foundry"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650908376,"post_id":72003176,"comment_id":127229969,"body_markdown":"You could try setting source to 1.8 and target to 1.8 in your compiler and rebuild","body":"You could try setting source to 1.8 and target to 1.8 in your compiler and rebuild"},{"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"score":2,"creation_date":1650921437,"post_id":72003176,"comment_id":127233683,"body_markdown":"Seems it&#39;s more or less answered here: https://stackoverflow.com/questions/43533252/specify-jdks-version-in-pom-xml-or-manifest-yml","body":"Seems it&#39;s more or less answered here: <a href=\"https://stackoverflow.com/questions/43533252/specify-jdks-version-in-pom-xml-or-manifest-yml\" title=\"specify jdks version in pom xml or manifest yml\">stackoverflow.com/questions/43533252/&hellip;</a>"},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1650983278,"post_id":72003176,"comment_id":127249967,"body_markdown":"Agree with @JockX, that&#39;s the answer.","body":"Agree with @JockX, that&#39;s the answer."},{"owner":{"account_id":15681853,"reputation":377,"user_id":11377572,"display_name":"Henry Bai"},"score":0,"creation_date":1650987067,"post_id":72003176,"comment_id":127251607,"body_markdown":"Thank you guys. But I&#39;m required to using java 11 with my project. I cannot downgrade it to 1.8","body":"Thank you guys. But I&#39;m required to using java 11 with my project. I cannot downgrade it to 1.8"},{"owner":{"account_id":15681853,"reputation":377,"user_id":11377572,"display_name":"Henry Bai"},"score":0,"creation_date":1650989397,"post_id":72003176,"comment_id":127252564,"body_markdown":"@JockX Thanks! I followed one of the answer using &#39;$ cf set-env &lt;app-name&gt; JBP_CONFIG_OPEN_JDK_JRE &#39;{ jre: { version: 11.0.6_10 } }&#39; command and it works.","body":"@JockX Thanks! I followed one of the answer using &#39;$ cf set-env &lt;app-name&gt; JBP_CONFIG_OPEN_JDK_JRE &#39;{ jre: { version: 11.0.6_10 } }&#39; command and it works."}],"owner":{"account_id":15681853,"reputation":377,"user_id":11377572,"display_name":"Henry Bai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650987156,"answer_count":0,"score":0,"last_activity_date":1650906285,"creation_date":1650906285,"question_id":72003176,"body_markdown":"I recently updated java version of a springboot project from 8 to 11. \r\n\r\nThen I navigate to the subproject folder main_project/event_producer, login to PCF, then pushed it to PCF with following command (cf8 push event-producer -m 2G -b java_buildpack -p target\\event-producer-2.0.5-SNAPSHOT.jar). \r\n\r\nHowever, the deployed app crashed with error:\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/gm/cca/kafka/EventProducerApplication has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nThis is my first time deploy on PCF. Is there anyway to solve this error?\r\n ","title":"java.lang.UnsupportedClassVersionError when deploy on PCF","body":"<p>I recently updated java version of a springboot project from 8 to 11.</p>\n<p>Then I navigate to the subproject folder main_project/event_producer, login to PCF, then pushed it to PCF with following command (cf8 push event-producer -m 2G -b java_buildpack -p target\\event-producer-2.0.5-SNAPSHOT.jar).</p>\n<p>However, the deployed app crashed with error:\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/gm/cca/kafka/EventProducerApplication has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n<p>This is my first time deploy on PCF. Is there anyway to solve this error?</p>\n"},{"tags":["java","spring","flyway"],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650906183,"creation_date":1650899530,"answer_id":72001793,"question_id":71998768,"body_markdown":"First thing which is needed to be clarified is that maven flyway plugin and Spring Boot datasource properties are not related in terms of moment of usage:\r\n1. Maven plugin is run at some point of application build process\r\n2. SpringBoot reads datasource properties after application was started.\r\nSee https://stackoverflow.com/questions/64174158/what-is-the-difference-between-flyway-core-and-flyway-maven-plugin\r\n  \r\nSecond thing:\r\n1. SpringBoot uses in-memory database which accessible via this `url: jdbc:h2:mem...`.\r\n2. Maven Flyway plugin runs scripts (if any) against another DB `url: jdbc:mysql...`.\r\n\r\nThat is why flyway configures another database, not the one used in the tests.\r\n\r\nThird thing:\r\n\r\nSpringBoot seems to not &quot;see&quot; datasource properties and/or driver `url: &lt;no value&gt;`. How do you run tests? Do you set correct spring-profile?","title":"SQLException returned null for URL:&lt;no value&gt; while injecting JDBC connection URL with flywaydb plugin","body":"<p>First thing which is needed to be clarified is that maven flyway plugin and Spring Boot datasource properties are not related in terms of moment of usage:</p>\n<ol>\n<li>Maven plugin is run at some point of application build process</li>\n<li>SpringBoot reads datasource properties after application was started.\nSee <a href=\"https://stackoverflow.com/questions/64174158/what-is-the-difference-between-flyway-core-and-flyway-maven-plugin\">What is the difference between Flyway Core and Flyway Maven Plugin?</a></li>\n</ol>\n<p>Second thing:</p>\n<ol>\n<li>SpringBoot uses in-memory database which accessible via this <code>url: jdbc:h2:mem...</code>.</li>\n<li>Maven Flyway plugin runs scripts (if any) against another DB <code>url: jdbc:mysql...</code>.</li>\n</ol>\n<p>That is why flyway configures another database, not the one used in the tests.</p>\n<p>Third thing:</p>\n<p>SpringBoot seems to not &quot;see&quot; datasource properties and/or driver <code>url: &lt;no value&gt;</code>. How do you run tests? Do you set correct spring-profile?</p>\n"}],"owner":{"account_id":3002807,"reputation":541,"user_id":3809543,"accept_rate":50,"display_name":"satish123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650906183,"creation_date":1650885905,"question_id":71998768,"body_markdown":"I am getting below exception while running integration tests for my service:\r\n\r\n```\r\nERROR o.a.tomcat.jdbc.pool.ConnectionPool: Unable to create initial connections of pool.\r\n\r\nCaused By: java.sql.SQLException: Driver:com.mysql.jdbc.Driver@xxxxx returned null for URL:&lt;no value&gt;\r\n\r\nat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:326)\r\n```\r\n\r\nI am using org.flywaydb plugin and is defined in pom.xml as following:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n  &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.2.1&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;url&gt;jdbc:mysql://localhost:3306/mydb&lt;/url&gt;\r\n    &lt;user&gt;admin&lt;/user&gt;\r\n    &lt;password&gt;pwd&lt;/password&gt;\r\n    &lt;validateOnMigrate&gt;false&lt;/validateOnMigrate&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIn application.yaml, I have defined the properties for integration-tests as following:\r\n```\r\nspring:\r\n    profiles:integration-tests\r\n    datasource:\r\n        driverClassName: org.h2.Driver\r\n        url: jdbc:h2:mem:mydb;MODE=MySQL;DB_CLOSE_ON_EXIT=FALSE;INIT=RUNSCRIPT FROM &#39;classpath:/path/schema.sql&#39;\r\n        username: root\r\n        password: \r\n        show_sql: false\r\n\r\n```","title":"SQLException returned null for URL:&lt;no value&gt; while injecting JDBC connection URL with flywaydb plugin","body":"<p>I am getting below exception while running integration tests for my service:</p>\n<pre><code>ERROR o.a.tomcat.jdbc.pool.ConnectionPool: Unable to create initial connections of pool.\n\nCaused By: java.sql.SQLException: Driver:com.mysql.jdbc.Driver@xxxxx returned null for URL:&lt;no value&gt;\n\nat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:326)\n</code></pre>\n<p>I am using org.flywaydb plugin and is defined in pom.xml as following:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n  &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.2.1&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;url&gt;jdbc:mysql://localhost:3306/mydb&lt;/url&gt;\n    &lt;user&gt;admin&lt;/user&gt;\n    &lt;password&gt;pwd&lt;/password&gt;\n    &lt;validateOnMigrate&gt;false&lt;/validateOnMigrate&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>In application.yaml, I have defined the properties for integration-tests as following:</p>\n<pre><code>spring:\n    profiles:integration-tests\n    datasource:\n        driverClassName: org.h2.Driver\n        url: jdbc:h2:mem:mydb;MODE=MySQL;DB_CLOSE_ON_EXIT=FALSE;INIT=RUNSCRIPT FROM 'classpath:/path/schema.sql'\n        username: root\n        password: \n        show_sql: false\n\n</code></pre>\n"},{"tags":["java","json","coldfusion"],"comments":[{"owner":{"account_id":2054462,"reputation":20774,"user_id":1832636,"accept_rate":67,"display_name":"Dan Bracuk"},"score":0,"creation_date":1650904917,"post_id":72002830,"comment_id":127228763,"body_markdown":"Try a `cfdump` of WebstoreClient to verify that the method exists.","body":"Try a <code>cfdump</code> of WebstoreClient to verify that the method exists."},{"owner":{"account_id":25089782,"reputation":23,"user_id":18941559,"display_name":"Paul Callahan"},"score":0,"creation_date":1650905726,"post_id":72002830,"comment_id":127229066,"body_markdown":"Hi Dan, I had already checked this, but I have edited the question and pasted the dump from the WebstoreClient, just in case you spot something I didn&#39;t.","body":"Hi Dan, I had already checked this, but I have edited the question and pasted the dump from the WebstoreClient, just in case you spot something I didn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":1597865,"reputation":15787,"user_id":1479535,"accept_rate":100,"display_name":"rrk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1650905853,"creation_date":1650905853,"answer_id":72003092,"question_id":72002830,"body_markdown":"I think you are supposed to pass a java [`JSONObject`][1] type variable [refer][2]. So the following should theoretically work. \r\n\r\n\r\n    &lt;cfset theJsonString = &#39;{&quot;webCheckoutDetails&quot;:{&quot;checkoutResultReturnUrl&quot;:&quot;XXXXXX&quot;},&quot;paymentDetails&quot;:{&quot;paymentIntent&quot;:&quot;AuthorizeWithCapture&quot;,&quot;canHandlePendingAuthorization&quot;:false,&quot;softDescriptor&quot;:&quot;Descriptor&quot;,&quot;chargeAmount&quot;:{&quot;amount&quot;:&quot;#orderTotal#&quot;,&quot;currencyCode&quot;:&quot;GBP&quot;}},&quot;merchantMetadata&quot;:{&quot;merchantReferenceId&quot;:&quot;XXXXXX&quot;,&quot;merchantStoreName&quot;:&quot;XXXXXX&quot;}}&#39;&gt;\r\n    &lt;cfset theJsonObject = createObject(&#39;java&#39;, &#39;org.json.JSONObject&#39;).init(theJsonString)&gt;\r\n    &lt;cfset updateResponse = WebstoreClient.updateCheckoutSession(amzSessionId, theJsonObject)&gt;\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\r\n  [2]: https://github.com/amzn/amazon-pay-api-sdk-java/blob/7135fcd4e0826dffdc29ddffdd17bb6bfefb4cde/src/com/amazon/pay/api/WebstoreClient.java#L125","title":"JSON format not recognised using Amazon Java SDK","body":"<p>I think you are supposed to pass a java <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\" rel=\"nofollow noreferrer\"><code>JSONObject</code></a> type variable <a href=\"https://github.com/amzn/amazon-pay-api-sdk-java/blob/7135fcd4e0826dffdc29ddffdd17bb6bfefb4cde/src/com/amazon/pay/api/WebstoreClient.java#L125\" rel=\"nofollow noreferrer\">refer</a>. So the following should theoretically work.</p>\n<pre><code>&lt;cfset theJsonString = '{&quot;webCheckoutDetails&quot;:{&quot;checkoutResultReturnUrl&quot;:&quot;XXXXXX&quot;},&quot;paymentDetails&quot;:{&quot;paymentIntent&quot;:&quot;AuthorizeWithCapture&quot;,&quot;canHandlePendingAuthorization&quot;:false,&quot;softDescriptor&quot;:&quot;Descriptor&quot;,&quot;chargeAmount&quot;:{&quot;amount&quot;:&quot;#orderTotal#&quot;,&quot;currencyCode&quot;:&quot;GBP&quot;}},&quot;merchantMetadata&quot;:{&quot;merchantReferenceId&quot;:&quot;XXXXXX&quot;,&quot;merchantStoreName&quot;:&quot;XXXXXX&quot;}}'&gt;\n&lt;cfset theJsonObject = createObject('java', 'org.json.JSONObject').init(theJsonString)&gt;\n&lt;cfset updateResponse = WebstoreClient.updateCheckoutSession(amzSessionId, theJsonObject)&gt;\n</code></pre>\n"}],"owner":{"account_id":25089782,"reputation":23,"user_id":18941559,"display_name":"Paul Callahan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72003092,"answer_count":1,"score":2,"last_activity_date":1650905853,"creation_date":1650904275,"question_id":72002830,"body_markdown":"I am using the Amazon Pay SDK with Coldfusion and I have nearly got it over the line. However, I am trying to use the updateCheckoutSession method and it doesn&#39;t recognize the arguments for that method. When I call the method I get the following error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI have tried creating and formatting the JSON as many different ways as I can think of and I just keep getting the same error (error above).\r\n\r\nMy call to the method:\r\n\r\n    &lt;!-- Gets the Session ID from the URL --&gt;\r\n    &lt;cfset amzSessionId = url.amazonCheckoutSessionId&gt;          \r\n    &lt;cfobject action=&quot;create&quot; type=&quot;java&quot; class=&quot;com.amazon.pay.api.WebstoreClient&quot; name=&quot;WebstoreClient&quot;&gt;\r\n    &lt;cfset theJson = &#39;{&quot;webCheckoutDetails&quot;:{&quot;checkoutResultReturnUrl&quot;:&quot;XXXXXX&quot;},&quot;paymentDetails&quot;:{&quot;paymentIntent&quot;:&quot;AuthorizeWithCapture&quot;,&quot;canHandlePendingAuthorization&quot;:false,&quot;softDescriptor&quot;:&quot;Descriptor&quot;,&quot;chargeAmount&quot;:{&quot;amount&quot;:&quot;#orderTotal#&quot;,&quot;currencyCode&quot;:&quot;GBP&quot;}},&quot;merchantMetadata&quot;:{&quot;merchantReferenceId&quot;:&quot;XXXXXX&quot;,&quot;merchantStoreName&quot;:&quot;XXXXXX&quot;}}&#39;&gt;\r\n    &lt;cfset updateResponse = WebstoreClient.updateCheckoutSession(amzSessionId,theJson)&gt;\r\n\r\nBelow is a CFDUMP of the WebstoreClient and the update method is shown at the bottom.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you need any additional information I will be glad to provide it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4D4Qu.png\r\n  [2]: https://i.stack.imgur.com/B5DbN.png","title":"JSON format not recognised using Amazon Java SDK","body":"<p>I am using the Amazon Pay SDK with Coldfusion and I have nearly got it over the line. However, I am trying to use the updateCheckoutSession method and it doesn't recognize the arguments for that method. When I call the method I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/4D4Qu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4D4Qu.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried creating and formatting the JSON as many different ways as I can think of and I just keep getting the same error (error above).</p>\n<p>My call to the method:</p>\n<pre><code>&lt;!-- Gets the Session ID from the URL --&gt;\n&lt;cfset amzSessionId = url.amazonCheckoutSessionId&gt;          \n&lt;cfobject action=&quot;create&quot; type=&quot;java&quot; class=&quot;com.amazon.pay.api.WebstoreClient&quot; name=&quot;WebstoreClient&quot;&gt;\n&lt;cfset theJson = '{&quot;webCheckoutDetails&quot;:{&quot;checkoutResultReturnUrl&quot;:&quot;XXXXXX&quot;},&quot;paymentDetails&quot;:{&quot;paymentIntent&quot;:&quot;AuthorizeWithCapture&quot;,&quot;canHandlePendingAuthorization&quot;:false,&quot;softDescriptor&quot;:&quot;Descriptor&quot;,&quot;chargeAmount&quot;:{&quot;amount&quot;:&quot;#orderTotal#&quot;,&quot;currencyCode&quot;:&quot;GBP&quot;}},&quot;merchantMetadata&quot;:{&quot;merchantReferenceId&quot;:&quot;XXXXXX&quot;,&quot;merchantStoreName&quot;:&quot;XXXXXX&quot;}}'&gt;\n&lt;cfset updateResponse = WebstoreClient.updateCheckoutSession(amzSessionId,theJson)&gt;\n</code></pre>\n<p>Below is a CFDUMP of the WebstoreClient and the update method is shown at the bottom.</p>\n<p><a href=\"https://i.stack.imgur.com/B5DbN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5DbN.png\" alt=\"enter image description here\" /></a></p>\n<p>If you need any additional information I will be glad to provide it.</p>\n"},{"tags":["java","enums","switch-statement","enumerate"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":3,"creation_date":1650900177,"post_id":72001876,"comment_id":127226938,"body_markdown":"`[&quot;A&quot;]` is not a valid Java expression. What are you trying to do?","body":"<code>[&quot;A&quot;]</code> is not a valid Java expression. What are you trying to do?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1650900311,"post_id":72001876,"comment_id":127226999,"body_markdown":"Additionally ... I am not understanding what your code and your shown JSON snippet have to do in common.","body":"Additionally ... I am not understanding what your code and your shown JSON snippet have to do in common."},{"owner":{"account_id":13377386,"reputation":305,"user_id":9653879,"display_name":"aki"},"score":0,"creation_date":1650900438,"post_id":72001876,"comment_id":127227068,"body_markdown":"statusCode is enum. its values can be A, T or U. I need to check for these values and return the enum with corresponding values.","body":"statusCode is enum. its values can be A, T or U. I need to check for these values and return the enum with corresponding values."}],"answers":[{"tags":[],"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650901016,"creation_date":1650900520,"answer_id":72002014,"question_id":72001876,"body_markdown":"You seem confused about how enumerations works in Java. An `enum` is basically a list of well-known values that can be assigned to an instance of the enum class. It encompasses the methods to convert from/to String as frequently required. `Enum` is the superclass of them all, but you usually don&#39;t need to use it directly.\r\n\r\nFor instance, let&#39;s say I&#39;ve got the following definition:\r\n```lang-java\r\nenum StatusCode {\r\n A,\r\n T,\r\n U\r\n}\r\n```\r\nThis means that an object of the class `StatusCode` can only have the values `A`, `T` or `U`.\r\nAnd to convert, I&#39;d use :\r\n```lang-java\r\nString fromString = &quot;A&quot;;\r\nStatusCode sc = StatusCode.valueOf(fromString); //gives sc = StatusCode.A\r\nString backToString = sc.name(); //gives backToString = &quot;A&quot;\r\n```\r\n\r\nLearn more here: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"how to check enum values and return corresponding enum","body":"<p>You seem confused about how enumerations works in Java. An <code>enum</code> is basically a list of well-known values that can be assigned to an instance of the enum class. It encompasses the methods to convert from/to String as frequently required. <code>Enum</code> is the superclass of them all, but you usually don't need to use it directly.</p>\n<p>For instance, let's say I've got the following definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum StatusCode {\n A,\n T,\n U\n}\n</code></pre>\n<p>This means that an object of the class <code>StatusCode</code> can only have the values <code>A</code>, <code>T</code> or <code>U</code>.\nAnd to convert, I'd use :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fromString = &quot;A&quot;;\nStatusCode sc = StatusCode.valueOf(fromString); //gives sc = StatusCode.A\nString backToString = sc.name(); //gives backToString = &quot;A&quot;\n</code></pre>\n<p>Learn more here: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a></p>\n"},{"tags":[],"owner":{"account_id":19642463,"reputation":125,"user_id":14378221,"display_name":"Yaphet17"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650905593,"creation_date":1650904705,"answer_id":72002907,"question_id":72001876,"body_markdown":"I don&#39;t know what you are trying to do here but you misunderstood the concept of enum. In the comment you said statusCode is an enum but it isn&#39;t an enum it&#39;s in a json format and not a real Java expression.As I said I don&#39;t know what you are trying to achieve but you can modify your code like below .\r\n\r\nfirst create an enum\r\n``` \r\nenum StatusCode{\r\n   A,\r\n   B,\r\n   U\r\n\r\n}\r\n```\r\nif you want to get the string equivalent of the enum values you use the following code\r\n```\r\nenum StatusCode{\r\n   A(&quot;A&quot;),\r\n   T(&quot;T&quot;),\r\n   U(&quot;U&quot;);\r\n   String code;\r\n   public StatusCode(String code){\r\n     this.code=code;\r\n   }\r\n   String getCode(){\r\n     return code;\r\n   }\r\n  }\r\n\r\n ```\r\nand then modify your method like this\r\n```\r\nprivate void updateStatusCode(Event event) {\r\n        StatusCode code;\r\n        switch(event.getStatusCode()) {\r\n            case A:\r\n            code = StatusCode.A;\r\n            break;\r\n            case T:\r\n            code = StatusCode.T;\r\n            break;\r\n            case U:\r\n            code = StatusCode.U;\r\n            break;\r\n        }\r\n         return code;\r\n\r\n    }\r\n```\r\nyou can get the string value of an enum as\r\n```\r\nStatusCode code=StatusCode.A;\r\nString strCode=code.getCode();\r\n\r\n ```","title":"how to check enum values and return corresponding enum","body":"<p>I don't know what you are trying to do here but you misunderstood the concept of enum. In the comment you said statusCode is an enum but it isn't an enum it's in a json format and not a real Java expression.As I said I don't know what you are trying to achieve but you can modify your code like below .</p>\n<p>first create an enum</p>\n<pre><code>enum StatusCode{\n   A,\n   B,\n   U\n\n}\n</code></pre>\n<p>if you want to get the string equivalent of the enum values you use the following code</p>\n<pre><code>enum StatusCode{\n   A(&quot;A&quot;),\n   T(&quot;T&quot;),\n   U(&quot;U&quot;);\n   String code;\n   public StatusCode(String code){\n     this.code=code;\n   }\n   String getCode(){\n     return code;\n   }\n  }\n\n</code></pre>\n<p>and then modify your method like this</p>\n<pre><code>private void updateStatusCode(Event event) {\n        StatusCode code;\n        switch(event.getStatusCode()) {\n            case A:\n            code = StatusCode.A;\n            break;\n            case T:\n            code = StatusCode.T;\n            break;\n            case U:\n            code = StatusCode.U;\n            break;\n        }\n         return code;\n\n    }\n</code></pre>\n<p>you can get the string value of an enum as</p>\n<pre><code>StatusCode code=StatusCode.A;\nString strCode=code.getCode();\n\n</code></pre>\n"}],"owner":{"account_id":13377386,"reputation":305,"user_id":9653879,"display_name":"aki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72002907,"answer_count":2,"score":0,"last_activity_date":1650905593,"creation_date":1650899854,"question_id":72001876,"body_markdown":"my schema is as below \r\n\r\n```\r\n&quot;statusCode&quot;: {  \r\n\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t&quot;enum&quot;: [&quot;A&quot;, &quot;T&quot;, &quot;U&quot;]\r\n\t\t}\r\n```\r\n\r\nI am trying to write a method which would check for the code and return corresponding enum. \r\n\r\n```\r\nprivate void updateStatusCode(Event event) {\r\n        Enum code = null;\r\n        switch(event.getStatusCode()) {\r\n            case A:\r\n            code = [&quot;A&quot;];\r\n            break;\r\n            case T:\r\n            break;\r\n            case U:\r\n            break;\r\n            default:\r\n\r\n        }\r\n         return code;\r\n\r\n    }\r\n```\r\n\r\nevent.getStatusCode valid values are: A , T , U. Now I need to check for these codes and return enum based on the codes. I tried the above but it gives me error on code = [&quot;A&quot;]. error states below.\r\n\r\n```\r\nSyntax error on token &quot;=&quot;, Expression expected after this token\r\n```\r\n\r\nHow do i fix this ? I am new to java. any help is appreciated, Thanks","title":"how to check enum values and return corresponding enum","body":"<p>my schema is as below</p>\n<pre><code>&quot;statusCode&quot;: {  \n            &quot;type&quot;: &quot;string&quot;,\n            &quot;enum&quot;: [&quot;A&quot;, &quot;T&quot;, &quot;U&quot;]\n        }\n</code></pre>\n<p>I am trying to write a method which would check for the code and return corresponding enum.</p>\n<pre><code>private void updateStatusCode(Event event) {\n        Enum code = null;\n        switch(event.getStatusCode()) {\n            case A:\n            code = [&quot;A&quot;];\n            break;\n            case T:\n            break;\n            case U:\n            break;\n            default:\n\n        }\n         return code;\n\n    }\n</code></pre>\n<p>event.getStatusCode valid values are: A , T , U. Now I need to check for these codes and return enum based on the codes. I tried the above but it gives me error on code = [&quot;A&quot;]. error states below.</p>\n<pre><code>Syntax error on token &quot;=&quot;, Expression expected after this token\n</code></pre>\n<p>How do i fix this ? I am new to java. any help is appreciated, Thanks</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1650436918,"post_id":71926262,"comment_id":127112253,"body_markdown":"Please add your Log4j configuration and JSON template to your question.","body":"Please add your Log4j configuration and JSON template to your question."},{"owner":{"account_id":18829895,"reputation":35,"user_id":13733941,"display_name":"007_programmer"},"score":0,"creation_date":1650458191,"post_id":71926262,"comment_id":127120216,"body_markdown":"Not sure about Json template in my application.","body":"Not sure about Json template in my application."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1650458329,"post_id":71926262,"comment_id":127120285,"body_markdown":"I thought you were using the _&quot;JSON template layout&quot;_, the deprecated _&quot;JSON layout&quot;_ has a fixed template.","body":"I thought you were using the <i>&quot;JSON template layout&quot;</i>, the deprecated <i>&quot;JSON layout&quot;</i> has a fixed template."},{"owner":{"account_id":18829895,"reputation":35,"user_id":13733941,"display_name":"007_programmer"},"score":0,"creation_date":1650864718,"post_id":71926262,"comment_id":127214839,"body_markdown":"sorry my bad. I had used JsonTemplateLayout in my properties file. I have updated the properties file.","body":"sorry my bad. I had used JsonTemplateLayout in my properties file. I have updated the properties file."}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650905443,"creation_date":1650458248,"answer_id":71939772,"question_id":71926262,"body_markdown":"**Remark**: [`JsonLayout`](https://logging.apache.org/log4j/2.x/manual/layouts.html#JSONLayout) is considered deprecated. You should use [`JsonTemplateLayout`](https://logging.apache.org/log4j/2.x/manual/json-template-layout.html) instead. The latter is the equivalent of `PatternLayout` for JSON-based layouts.\r\n\r\nIf you are referring to the missing location info (the equivalent of the `%C`, `%M` and `%L` patterns, cf. [documentation](https://logging.apache.org/log4j/2.x/manual/layouts.html#JSONLayout)), it is an expensive operation and it is not generated by default, because it decreases logging performance considerably.\r\n\r\nTo enable it use:\r\n\r\n```\r\nappender.rolling.layout.type = JsonLayout\r\nappender.rolling.layout.locationInfo = true\r\n```\r\n\r\n**Edit**: If you switch to `JsonTemplateLayout`, you need to set `locationInfoEnabled` to true:\r\n\r\n```\r\nappender.rolling.layout.type = JsonTemplateLayout\r\nappender.rolling.layout.locationInfoEnabled = true\r\n```\r\n\r\nMoreover the [default template](https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-layout-template-json/src/main/resources/EcsLayout.json) does not contain any location information, so you need to add it using `EventTemplateAdditionalField`s:\r\n\r\n```\r\nappender.rolling.layout.0.type = EventTemplateAdditionalField\r\nappender.rolling.layout.0.key = log.origin.file.name\r\nappender.rolling.layout.0.value = {&quot;$resolver&quot;: &quot;source&quot;, &quot;field&quot;: &quot;fileName&quot;}\r\nappender.rolling.layout.0.format = JSON\r\nappender.rolling.layout.1.type = EventTemplateAdditionalField\r\nappender.rolling.layout.1.key = log.origin.function\r\nappender.rolling.layout.1.value = {&quot;$resolver&quot;: &quot;source&quot;, &quot;field&quot;: &quot;methodName&quot;}\r\nappender.rolling.layout.1.format = JSON\r\nappender.rolling.layout.2.type = EventTemplateAdditionalField\r\nappender.rolling.layout.2.key = log.origin.file.line\r\nappender.rolling.layout.2.value = {&quot;$resolver&quot;: &quot;source&quot;, &quot;field&quot;: &quot;lineNumber&quot;}\r\nappender.rolling.layout.2.format = JSON\r\n```","title":"Used Json Layout template but getting parameters missing in logs [log4j2]","body":"<p><strong>Remark</strong>: <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#JSONLayout\" rel=\"nofollow noreferrer\"><code>JsonLayout</code></a> is considered deprecated. You should use <a href=\"https://logging.apache.org/log4j/2.x/manual/json-template-layout.html\" rel=\"nofollow noreferrer\"><code>JsonTemplateLayout</code></a> instead. The latter is the equivalent of <code>PatternLayout</code> for JSON-based layouts.</p>\n<p>If you are referring to the missing location info (the equivalent of the <code>%C</code>, <code>%M</code> and <code>%L</code> patterns, cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#JSONLayout\" rel=\"nofollow noreferrer\">documentation</a>), it is an expensive operation and it is not generated by default, because it decreases logging performance considerably.</p>\n<p>To enable it use:</p>\n<pre><code>appender.rolling.layout.type = JsonLayout\nappender.rolling.layout.locationInfo = true\n</code></pre>\n<p><strong>Edit</strong>: If you switch to <code>JsonTemplateLayout</code>, you need to set <code>locationInfoEnabled</code> to true:</p>\n<pre><code>appender.rolling.layout.type = JsonTemplateLayout\nappender.rolling.layout.locationInfoEnabled = true\n</code></pre>\n<p>Moreover the <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-layout-template-json/src/main/resources/EcsLayout.json\" rel=\"nofollow noreferrer\">default template</a> does not contain any location information, so you need to add it using <code>EventTemplateAdditionalField</code>s:</p>\n<pre><code>appender.rolling.layout.0.type = EventTemplateAdditionalField\nappender.rolling.layout.0.key = log.origin.file.name\nappender.rolling.layout.0.value = {&quot;$resolver&quot;: &quot;source&quot;, &quot;field&quot;: &quot;fileName&quot;}\nappender.rolling.layout.0.format = JSON\nappender.rolling.layout.1.type = EventTemplateAdditionalField\nappender.rolling.layout.1.key = log.origin.function\nappender.rolling.layout.1.value = {&quot;$resolver&quot;: &quot;source&quot;, &quot;field&quot;: &quot;methodName&quot;}\nappender.rolling.layout.1.format = JSON\nappender.rolling.layout.2.type = EventTemplateAdditionalField\nappender.rolling.layout.2.key = log.origin.file.line\nappender.rolling.layout.2.value = {&quot;$resolver&quot;: &quot;source&quot;, &quot;field&quot;: &quot;lineNumber&quot;}\nappender.rolling.layout.2.format = JSON\n</code></pre>\n"}],"owner":{"account_id":18829895,"reputation":35,"user_id":13733941,"display_name":"007_programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71939772,"answer_count":1,"score":0,"last_activity_date":1650905443,"creation_date":1650376886,"question_id":71926262,"body_markdown":"I used Json layout template in my project but I am getting the logs with few parameters missing. I have tried to mention those missing parameters in pattern itself but I guess that was not a right approach to get those parameters in my logs. Any suggestion on that?\r\n\r\n\r\n    rootLogger.level = info\r\n    rootLogger.appenderRef.stdout.ref = STDOUT\r\n    \r\n    \r\n    logger.rolling.name = SD\r\n    logger.rolling.level = debug\r\n    logger.rolling.additivity = false\r\n    logger.rolling.appenderRef.rolling.ref = RALLog\r\n    \r\n    status = error\r\n    dest = err\r\n    \r\n    filter.threshold.type = ThresholdFilter\r\n    filter.threshold.level = trace\r\n    \r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern =%C{0}.%M:(%L) - %m%n\r\n    appender.console.filter.threshold.type = ThresholdFilter\r\n    appender.console.filter.threshold.level = error\r\n    \r\n    #File Appender for JSON log file.\r\n    appender.rolling.type = RollingFile\r\n    appender.rolling.name = RALLog\r\n    appender.rolling.fileName = SD/sac.log\r\n    appender.rolling.filePattern = SD/sac/sac-{yyyyMMdd}.log.gz\r\n    appender.rolling.layout.type = JsonTemplateLayout\r\n    appender.rolling.policies.type = Policies\r\n    appender.rolling.policies.time.type = TimeBasedTriggeringPolicy","title":"Used Json Layout template but getting parameters missing in logs [log4j2]","body":"<p>I used Json layout template in my project but I am getting the logs with few parameters missing. I have tried to mention those missing parameters in pattern itself but I guess that was not a right approach to get those parameters in my logs. Any suggestion on that?</p>\n<pre><code>rootLogger.level = info\nrootLogger.appenderRef.stdout.ref = STDOUT\n\n\nlogger.rolling.name = SD\nlogger.rolling.level = debug\nlogger.rolling.additivity = false\nlogger.rolling.appenderRef.rolling.ref = RALLog\n\nstatus = error\ndest = err\n\nfilter.threshold.type = ThresholdFilter\nfilter.threshold.level = trace\n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern =%C{0}.%M:(%L) - %m%n\nappender.console.filter.threshold.type = ThresholdFilter\nappender.console.filter.threshold.level = error\n\n#File Appender for JSON log file.\nappender.rolling.type = RollingFile\nappender.rolling.name = RALLog\nappender.rolling.fileName = SD/sac.log\nappender.rolling.filePattern = SD/sac/sac-{yyyyMMdd}.log.gz\nappender.rolling.layout.type = JsonTemplateLayout\nappender.rolling.policies.type = Policies\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3695702,"reputation":12519,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"score":0,"creation_date":1509898542,"post_id":47123713,"comment_id":81197435,"body_markdown":"please post stack trace","body":"please post stack trace"},{"owner":{"account_id":12177264,"reputation":1,"user_id":8889966,"display_name":"Kiraii"},"score":0,"creation_date":1509900645,"post_id":47123713,"comment_id":81198223,"body_markdown":"Problem is that Android Studio doesnt show up any error when compiling it\nhttp://prntscr.com/h6jzji","body":"Problem is that Android Studio doesnt show up any error when compiling it <a href=\"http://prntscr.com/h6jzji\" rel=\"nofollow noreferrer\">prntscr.com/h6jzji</a>"},{"owner":{"account_id":10875653,"reputation":1701,"user_id":7996129,"display_name":"Valentun"},"score":0,"creation_date":1509902100,"post_id":47123713,"comment_id":81198761,"body_markdown":"@Kiraii look at Android monitor tab","body":"@Kiraii look at Android monitor tab"},{"owner":{"account_id":12177264,"reputation":1,"user_id":8889966,"display_name":"Kiraii"},"score":0,"creation_date":1509930349,"post_id":47123713,"comment_id":81206692,"body_markdown":"https://pastebin.com/vbDideZg","body":"<a href=\"https://pastebin.com/vbDideZg\" rel=\"nofollow noreferrer\">pastebin.com/vbDideZg</a>"}],"answers":[{"tags":[],"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650902782,"creation_date":1650902782,"answer_id":72002489,"question_id":47123713,"body_markdown":"```\r\npackage com.example.usuario.firebase;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    DatabaseReference myRef = database.getReference(&quot;message&quot;);\r\n\r\n    Button enviar = (Button) findViewById(R.id.button2);\r\n    EditText editar = (EditText)findViewById(R.id.editText);\r\n    TextView ver = (TextView) findViewById(R.id.textView);\r\n        myRef.setValue(&quot;test&quot;);\r\n\r\n        enviar.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                myRef.setValue(editar.getText().toString());\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Trying to connect to Firebase but crashes when adding button","body":"<pre><code>package com.example.usuario.firebase;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference myRef = database.getReference(&quot;message&quot;);\n\n    Button enviar = (Button) findViewById(R.id.button2);\n    EditText editar = (EditText)findViewById(R.id.editText);\n    TextView ver = (TextView) findViewById(R.id.textView);\n        myRef.setValue(&quot;test&quot;);\n\n        enviar.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                myRef.setValue(editar.getText().toString());\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20841047,"reputation":115,"user_id":16129812,"display_name":"MAMO EMIRU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650905313,"creation_date":1650905313,"answer_id":72003013,"question_id":47123713,"body_markdown":"First remove this `myRef.setValue(&quot;test&quot;);`\r\nAnd replace this `myRef.setValue(editar.getText().toString());` with this `myRef.child(&quot;test&quot;).setValue(editar.getText().toString());`.","title":"Trying to connect to Firebase but crashes when adding button","body":"<p>First remove this <code>myRef.setValue(&quot;test&quot;);</code>\nAnd replace this <code>myRef.setValue(editar.getText().toString());</code> with this <code>myRef.child(&quot;test&quot;).setValue(editar.getText().toString());</code>.</p>\n"}],"owner":{"account_id":12177264,"reputation":1,"user_id":8889966,"display_name":"Kiraii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650905313,"creation_date":1509898211,"question_id":47123713,"body_markdown":"I&#39;m trying to set an app to just enter something on the textEdit and change it in real time in the Firebase database. The app works just fine if I just do `myRef = database.getReference(&quot;&quot;);` but when I try to add the editing feature it just crashes the app.\r\n\r\nThis is the code:\r\n\r\n    package com.example.usuario.firebase;\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference myRef = database.getReference(&quot;message&quot;);\r\n\r\n        Button enviar = (Button) findViewById(R.id.button2);\r\n        EditText editar = (EditText)findViewById(R.id.editText);\r\n        TextView ver = (TextView) findViewById(R.id.textView);\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            myRef.setValue(&quot;test&quot;);\r\n    \r\n            enviar.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    myRef.setValue(editar.getText().toString());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n```none\r\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.usuario.firebase/com.example.usuario.firebase.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.Window$Callback android.view.Window.getCallback()&#39; on a null object reference\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2626)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2785)\r\n\tat android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1532)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\tat android.os.Looper.loop(Looper.java:163)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:6326)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:880)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:770)\r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.Window$Callback android.view.Window.getCallback()&#39; on a null object reference\r\n\tat android.support.v7.app.AppCompatDelegateImplBase.&lt;init&gt;(AppCompatDelegateImplBase.java:117)\r\n\tat android.support.v7.app.AppCompatDelegateImplV9.&lt;init&gt;(AppCompatDelegateImplV9.java:149)\r\n\tat android.support.v7.app.AppCompatDelegateImplV11.&lt;init&gt;(AppCompatDelegateImplV11.java:29)\r\n\tat android.support.v7.app.AppCompatDelegateImplV14.&lt;init&gt;(AppCompatDelegateImplV14.java:54)\r\n\tat android.support.v7.app.AppCompatDelegateImplV23.&lt;init&gt;(AppCompatDelegateImplV23.java:31)\r\n\tat android.support.v7.app.AppCompatDelegateImplN.&lt;init&gt;(AppCompatDelegateImplN.java:31)\r\n\tat android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:198)\r\n\tat android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:183)\r\n\tat android.support.v7.app.AppCompatActivity.getDelegate(AppCompatActivity.java:519)\r\n\tat android.support.v7.app.AppCompatActivity.findViewById(AppCompatActivity.java:190)\r\n\tat com.example.usuario.firebase.MainActivity.&lt;init&gt;(MainActivity.java:18)\r\n\tat java.lang.Class.newInstance(Native Method)\r\n\tat android.app.Instrumentation.newActivity(Instrumentation.java:1079)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2616)\r\n\t... 9 more\r\n```","title":"Trying to connect to Firebase but crashes when adding button","body":"<p>I'm trying to set an app to just enter something on the textEdit and change it in real time in the Firebase database. The app works just fine if I just do <code>myRef = database.getReference(&quot;&quot;);</code> but when I try to add the editing feature it just crashes the app.</p>\n<p>This is the code:</p>\n<pre><code>package com.example.usuario.firebase;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class MainActivity extends AppCompatActivity {\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference myRef = database.getReference(&quot;message&quot;);\n\n    Button enviar = (Button) findViewById(R.id.button2);\n    EditText editar = (EditText)findViewById(R.id.editText);\n    TextView ver = (TextView) findViewById(R.id.textView);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        myRef.setValue(&quot;test&quot;);\n\n        enviar.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                myRef.setValue(editar.getText().toString());\n            }\n        });\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.usuario.firebase/com.example.usuario.firebase.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.Window$Callback android.view.Window.getCallback()' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2626)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2785)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1532)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:163)\n    at android.app.ActivityThread.main(ActivityThread.java:6326)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:880)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:770)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.Window$Callback android.view.Window.getCallback()' on a null object reference\n    at android.support.v7.app.AppCompatDelegateImplBase.&lt;init&gt;(AppCompatDelegateImplBase.java:117)\n    at android.support.v7.app.AppCompatDelegateImplV9.&lt;init&gt;(AppCompatDelegateImplV9.java:149)\n    at android.support.v7.app.AppCompatDelegateImplV11.&lt;init&gt;(AppCompatDelegateImplV11.java:29)\n    at android.support.v7.app.AppCompatDelegateImplV14.&lt;init&gt;(AppCompatDelegateImplV14.java:54)\n    at android.support.v7.app.AppCompatDelegateImplV23.&lt;init&gt;(AppCompatDelegateImplV23.java:31)\n    at android.support.v7.app.AppCompatDelegateImplN.&lt;init&gt;(AppCompatDelegateImplN.java:31)\n    at android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:198)\n    at android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:183)\n    at android.support.v7.app.AppCompatActivity.getDelegate(AppCompatActivity.java:519)\n    at android.support.v7.app.AppCompatActivity.findViewById(AppCompatActivity.java:190)\n    at com.example.usuario.firebase.MainActivity.&lt;init&gt;(MainActivity.java:18)\n    at java.lang.Class.newInstance(Native Method)\n    at android.app.Instrumentation.newActivity(Instrumentation.java:1079)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2616)\n    ... 9 more\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1650867541,"post_id":71995190,"comment_id":127215446,"body_markdown":"With that `Collection`&#39;s `add` method, like any other. What problem are you having, exactly?","body":"With that <code>Collection</code>&#39;s <code>add</code> method, like any other. What problem are you having, exactly?"}],"answers":[{"tags":[],"owner":{"account_id":24520317,"reputation":103,"user_id":18433459,"display_name":"ilanfriedman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650904830,"creation_date":1650904830,"answer_id":72002936,"question_id":71995190,"body_markdown":"All you have to do is use `Collection.add()` like you would with any other collection item. There isn&#39;t anything truly different between adding a String to an ArrayList and adding a Map to another type of Collection. The thing that&#39;s probably throwing you off is the extra angle brackets (`&lt;&gt;`). However, you do need to choose a type of Collection to declare. You can&#39;t really just declare a `new Collection&lt;&gt;()`. I&#39;d recommend either an ArrayList or a HashSet. \r\n\r\nEither declare a map first then add it to the collection:\r\n```java\r\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\nCollection&lt;Map&lt;String, String&gt;&gt; collection = new HashSet&lt;&gt;();\r\ncollection.add(map);\r\n```\r\nOr just declare it once you want to add it:\r\n```java\r\nCollection&lt;Map&lt;String, String&gt;&gt; collection = new HashSet&lt;&gt;();\r\ncollection.add(new HashMap&lt;&gt;());\r\n```\r\n\r\nP.S. Don&#39;t forget to import everything:\r\n```java\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\n```","title":"How to add Map&lt;String,String&gt; in Collection&lt;Map&lt;String,String&gt;&gt;","body":"<p>All you have to do is use <code>Collection.add()</code> like you would with any other collection item. There isn't anything truly different between adding a String to an ArrayList and adding a Map to another type of Collection. The thing that's probably throwing you off is the extra angle brackets (<code>&lt;&gt;</code>). However, you do need to choose a type of Collection to declare. You can't really just declare a <code>new Collection&lt;&gt;()</code>. I'd recommend either an ArrayList or a HashSet.</p>\n<p>Either declare a map first then add it to the collection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nCollection&lt;Map&lt;String, String&gt;&gt; collection = new HashSet&lt;&gt;();\ncollection.add(map);\n</code></pre>\n<p>Or just declare it once you want to add it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;Map&lt;String, String&gt;&gt; collection = new HashSet&lt;&gt;();\ncollection.add(new HashMap&lt;&gt;());\n</code></pre>\n<p>P.S. Don't forget to import everything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.HashMap;\nimport java.util.HashSet;\n</code></pre>\n"}],"owner":{"account_id":24366173,"reputation":47,"user_id":18299890,"display_name":"amber_coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651033688,"accepted_answer_id":72002936,"answer_count":1,"score":0,"last_activity_date":1650904830,"creation_date":1650867459,"question_id":71995190,"body_markdown":"I want to add `Map&lt;String,String&gt;` to a `Collection&lt;Map&lt;String,String&gt;&gt;` can anyone guide me how we can do this ?\r\n","title":"How to add Map&lt;String,String&gt; in Collection&lt;Map&lt;String,String&gt;&gt;","body":"<p>I want to add <code>Map&lt;String,String&gt;</code> to a <code>Collection&lt;Map&lt;String,String&gt;&gt;</code> can anyone guide me how we can do this ?</p>\n"},{"tags":["java","swing","jbutton","mouselistener","rollover"],"comments":[{"owner":{"account_id":4221721,"reputation":252,"user_id":3456343,"accept_rate":65,"display_name":"user3456343"},"score":0,"creation_date":1395761766,"post_id":22638926,"comment_id":34479062,"body_markdown":"@peeskillet can u tell me how can i make jbutton as a rounded rectangel","body":"@peeskillet can u tell me how can i make jbutton as a rounded rectangel"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1395762161,"post_id":22638926,"comment_id":34479361,"body_markdown":"Honestly, I would just look into changing the look and feel. I don&#39;t like messing with component appearance. See [this post](http://stackoverflow.com/a/22166047/2587435) and see [Modifying the Look and Feel](http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html)","body":"Honestly, I would just look into changing the look and feel. I don&#39;t like messing with component appearance. See <a href=\"http://stackoverflow.com/a/22166047/2587435\">this post</a> and see <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html\" rel=\"nofollow noreferrer\">Modifying the Look and Feel</a>"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1395782383,"post_id":22638926,"comment_id":34492281,"body_markdown":"all attempts about mouse listener are wrong, with side effect, to ignore those answers","body":"all attempts about mouse listener are wrong, with side effect, to ignore those answers"},{"owner":{"account_id":11695031,"reputation":3614,"user_id":8561957,"display_name":"fountainhead"},"score":0,"creation_date":1573463955,"post_id":22638926,"comment_id":103877494,"body_markdown":"@mKorbel -- Could you please point me to some more learning on why (or when) it&#39;s not good to use mouse listeners, and what is the preferred alternative approach? (not necessarily in the context of OP&#39;s question) Thanks.Fifteen minutes of Googling didn&#39;t yield anything for me.","body":"@mKorbel -- Could you please point me to some more learning on why (or when) it&#39;s not good to use mouse listeners, and what is the preferred alternative approach? (not necessarily in the context of OP&#39;s question) Thanks.Fifteen minutes of Googling didn&#39;t yield anything for me."}],"answers":[{"tags":[],"owner":{"account_id":2744625,"reputation":8577,"user_id":2365297,"accept_rate":36,"display_name":"Salah"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1395761123,"creation_date":1395761123,"answer_id":22639054,"question_id":22638926,"body_markdown":"You can use moused `Entered` and `Exited` the `JButton`, and do what ever you want.\r\n\r\nFor Example:\r\n\r\n    jButton1.addMouseListener(new java.awt.event.MouseAdapter() {\r\n        public void mouseEntered(java.awt.event.MouseEvent evt) {\r\n            jButton1.setBackground(Color.GREEN);\r\n        }\r\n\r\n        public void mouseExited(java.awt.event.MouseEvent evt) {\r\n            jButton1.setBackground(UIManager.getColor(&quot;control&quot;));\r\n        }\r\n    });","title":"How to put Hover effect on jbutton?","body":"<p>You can use moused <code>Entered</code> and <code>Exited</code> the <code>JButton</code>, and do what ever you want.</p>\n\n<p>For Example:</p>\n\n<pre><code>jButton1.addMouseListener(new java.awt.event.MouseAdapter() {\n    public void mouseEntered(java.awt.event.MouseEvent evt) {\n        jButton1.setBackground(Color.GREEN);\n    }\n\n    public void mouseExited(java.awt.event.MouseEvent evt) {\n        jButton1.setBackground(UIManager.getColor(\"control\"));\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3059307,"reputation":2983,"user_id":2592326,"display_name":"Aman Agnihotri"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1395761833,"creation_date":1395761833,"answer_id":22639355,"question_id":22638926,"body_markdown":"I once wrote a custom JButton which used to change its transparency level when the mouse was hovered over it through animation. Here&#39;s the code for that button:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    public class HoverButton extends JButton\r\n    {\r\n      float alpha = 0.5f;\r\n    \r\n      public HoverButton(String text)\r\n      {\r\n        super(text);\r\n        setFocusPainted(false);\r\n        setBorderPainted(false);\r\n        setContentAreaFilled(false);\r\n        addMouseListener(new ML());\r\n      }\r\n    \r\n      public float getAlpha()\r\n      {\r\n        return alpha;\r\n      }\r\n    \r\n      public void setAlpha(float alpha)\r\n      {\r\n        this.alpha = alpha;\r\n        repaint();\r\n      }\r\n    \r\n      public void paintComponent(java.awt.Graphics g)\r\n      {\r\n        java.awt.Graphics2D g2 = (java.awt.Graphics2D) g;\r\n        g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, alpha));\r\n        super.paintComponent(g2);\r\n      }\r\n    \r\n      public class ML extends MouseAdapter\r\n      {\r\n        public void mouseExited(MouseEvent me)\r\n        {\r\n          new Thread(new Runnable()\r\n          {\r\n            public void run()\r\n            {\r\n              for (float i = 1f; i &gt;= .5f; i -= .03f)\r\n              {\r\n                setAlpha(i);\r\n                try\r\n                {\r\n                  Thread.sleep(10);\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                }\r\n              }\r\n            }\r\n          }).start();\r\n        }\r\n    \r\n        public void mouseEntered(MouseEvent me)\r\n        {\r\n          new Thread(new Runnable()\r\n          {\r\n            public void run()\r\n            {\r\n              for (float i = .5f; i &lt;= 1f; i += .03f)\r\n              {\r\n                setAlpha(i);\r\n                try\r\n                {\r\n                  Thread.sleep(10);\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                }\r\n              }\r\n            }\r\n          }).start();\r\n        }\r\n    \r\n        public void mousePressed(MouseEvent me)\r\n        {\r\n          new Thread(new Runnable()\r\n          {\r\n            public void run()\r\n            {\r\n              for (float i = 1f; i &gt;= 0.6f; i -= .1f)\r\n              {\r\n                setAlpha(i);\r\n                try\r\n                {\r\n                  Thread.sleep(1);\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                }\r\n              }\r\n            }\r\n          }).start();\r\n        }\r\n      }\r\n    }\r\n\r\nAnd here&#39;s a quick demonstration of the `HoverButton`:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class Demonstration\r\n    {\r\n      public Demonstration()\r\n      {\r\n        JFrame frame = new JFrame(&quot;Hover Button Demonstration&quot;);\r\n        frame.setLayout(new GridBagLayout());\r\n        frame.add(new HoverButton(&quot;Hover Button!!&quot;));\r\n    \r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      public static void main(String args[])\r\n      {\r\n        SwingUtilities.invokeLater(new Runnable()\r\n        {\r\n          @Override\r\n          public void run()\r\n          {\r\n            new Demonstration();\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\nGood thing is that you can tweak the code to change the background color of the button as well, and that too, in an animated way.","title":"How to put Hover effect on jbutton?","body":"<p>I once wrote a custom JButton which used to change its transparency level when the mouse was hovered over it through animation. Here's the code for that button:</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class HoverButton extends JButton\n{\n  float alpha = 0.5f;\n\n  public HoverButton(String text)\n  {\n    super(text);\n    setFocusPainted(false);\n    setBorderPainted(false);\n    setContentAreaFilled(false);\n    addMouseListener(new ML());\n  }\n\n  public float getAlpha()\n  {\n    return alpha;\n  }\n\n  public void setAlpha(float alpha)\n  {\n    this.alpha = alpha;\n    repaint();\n  }\n\n  public void paintComponent(java.awt.Graphics g)\n  {\n    java.awt.Graphics2D g2 = (java.awt.Graphics2D) g;\n    g2.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, alpha));\n    super.paintComponent(g2);\n  }\n\n  public class ML extends MouseAdapter\n  {\n    public void mouseExited(MouseEvent me)\n    {\n      new Thread(new Runnable()\n      {\n        public void run()\n        {\n          for (float i = 1f; i &gt;= .5f; i -= .03f)\n          {\n            setAlpha(i);\n            try\n            {\n              Thread.sleep(10);\n            }\n            catch (Exception e)\n            {\n            }\n          }\n        }\n      }).start();\n    }\n\n    public void mouseEntered(MouseEvent me)\n    {\n      new Thread(new Runnable()\n      {\n        public void run()\n        {\n          for (float i = .5f; i &lt;= 1f; i += .03f)\n          {\n            setAlpha(i);\n            try\n            {\n              Thread.sleep(10);\n            }\n            catch (Exception e)\n            {\n            }\n          }\n        }\n      }).start();\n    }\n\n    public void mousePressed(MouseEvent me)\n    {\n      new Thread(new Runnable()\n      {\n        public void run()\n        {\n          for (float i = 1f; i &gt;= 0.6f; i -= .1f)\n          {\n            setAlpha(i);\n            try\n            {\n              Thread.sleep(1);\n            }\n            catch (Exception e)\n            {\n            }\n          }\n        }\n      }).start();\n    }\n  }\n}\n</code></pre>\n\n<p>And here's a quick demonstration of the <code>HoverButton</code>:</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Demonstration\n{\n  public Demonstration()\n  {\n    JFrame frame = new JFrame(\"Hover Button Demonstration\");\n    frame.setLayout(new GridBagLayout());\n    frame.add(new HoverButton(\"Hover Button!!\"));\n\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  public static void main(String args[])\n  {\n    SwingUtilities.invokeLater(new Runnable()\n    {\n      @Override\n      public void run()\n      {\n        new Demonstration();\n      }\n    });\n  }\n}\n</code></pre>\n\n<p>Good thing is that you can tweak the code to change the background color of the button as well, and that too, in an animated way.</p>\n"},{"tags":[],"owner":{"account_id":10340125,"reputation":21,"user_id":7626799,"display_name":"Kevin Donaldson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498783723,"creation_date":1498783723,"answer_id":44837029,"question_id":22638926,"body_markdown":"Wow. Old question, I know, but...\r\n\r\nTo change the background, use:\r\n\r\n    b1.setBackground(new java.awt.Color(r, g, b));\r\n\r\nin the actionListener.\r\n\r\nFor a rollover effect, you can use:\r\n\r\n    b1.setRolloverEnabled(true);\r\n\r\nbut you will need to supply icons for your buttons to flip between.\r\n\r\nOtherwise, for other hover effects, you do need to use a mouseListener.","title":"How to put Hover effect on jbutton?","body":"<p>Wow. Old question, I know, but...</p>\n\n<p>To change the background, use:</p>\n\n<pre><code>b1.setBackground(new java.awt.Color(r, g, b));\n</code></pre>\n\n<p>in the actionListener.</p>\n\n<p>For a rollover effect, you can use:</p>\n\n<pre><code>b1.setRolloverEnabled(true);\n</code></pre>\n\n<p>but you will need to supply icons for your buttons to flip between.</p>\n\n<p>Otherwise, for other hover effects, you do need to use a mouseListener.</p>\n"},{"tags":[],"owner":{"account_id":17049867,"reputation":2224,"user_id":12335762,"display_name":"Jasperan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650904366,"creation_date":1650904366,"answer_id":72002845,"question_id":22638926,"body_markdown":"@Salah&#39;s answer didn&#39;t work for me at first, but it did after I disabled my button&#39;s rollover effect using\r\n\r\n```\r\nbutton1.setRolloverEnabled(false);\r\n```\r\n\r\nThe rollover effect was automatically setting my button&#39;s hover color, which was overriding the color I set in `mouseEntered()`.","title":"How to put Hover effect on jbutton?","body":"<p>@Salah's answer didn't work for me at first, but it did after I disabled my button's rollover effect using</p>\n<pre><code>button1.setRolloverEnabled(false);\n</code></pre>\n<p>The rollover effect was automatically setting my button's hover color, which was overriding the color I set in <code>mouseEntered()</code>.</p>\n"}],"owner":{"account_id":4221721,"reputation":252,"user_id":3456343,"accept_rate":65,"display_name":"user3456343"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76114,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":22639054,"answer_count":4,"score":14,"last_activity_date":1650904366,"creation_date":1395760841,"question_id":22638926,"body_markdown":"I am trying to create a Java Desktop application where I am using two buttons. I want to add hover effect in those buttons. I want: When I click any button it should change its background color.\r\n\r\nHow can I achieve it?\r\n\r\nHere is my code:\r\n\r\n    public class Party1Party2 extends JFrame\r\n    {\r\n        JButton b1;\r\n        JButton b2;\r\n        Container pane;\r\n    \r\n        public Party1Party2()\r\n        {\r\n            getContentPane().setBackground(new java.awt.Color(255, 255, 255));\r\n    \r\n        b2.addActionListener(new ActionListener()\r\n        {\r\n            public void actionPerformed(ActionEvent ae)\r\n            {\r\n                JOptionPane.showMessageDialog(frame, &quot;Welcome to allhabad High Court&quot;);\r\n            }\r\n        });\r\n    \r\n        b1.addActionListener(new ActionListener()\r\n        {\r\n            public void actionPerformed(ActionEvent ae)\r\n            {\r\n                JOptionPane.showMessageDialog(frame, &quot;Welcome to allhabad High Court&quot;);\r\n    \r\n            }\r\n        });\r\n      }\r\n    }","title":"How to put Hover effect on jbutton?","body":"<p>I am trying to create a Java Desktop application where I am using two buttons. I want to add hover effect in those buttons. I want: When I click any button it should change its background color.</p>\n\n<p>How can I achieve it?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class Party1Party2 extends JFrame\n{\n    JButton b1;\n    JButton b2;\n    Container pane;\n\n    public Party1Party2()\n    {\n        getContentPane().setBackground(new java.awt.Color(255, 255, 255));\n\n    b2.addActionListener(new ActionListener()\n    {\n        public void actionPerformed(ActionEvent ae)\n        {\n            JOptionPane.showMessageDialog(frame, \"Welcome to allhabad High Court\");\n        }\n    });\n\n    b1.addActionListener(new ActionListener()\n    {\n        public void actionPerformed(ActionEvent ae)\n        {\n            JOptionPane.showMessageDialog(frame, \"Welcome to allhabad High Court\");\n\n        }\n    });\n  }\n}\n</code></pre>\n"},{"tags":["java","c-strings","project-panama"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1649019293,"post_id":71729585,"comment_id":126764080,"body_markdown":"Decode the String manually and put the `byte[]` to the address? From the docs of `setUTF8String`: _The CharsetDecoder class should be used when more control over the decoding process is required._","body":"Decode the String manually and put the <code>byte[]</code> to the address? From the docs of <code>setUTF8String</code>: <i>The CharsetDecoder class should be used when more control over the decoding process is required.</i>"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":3,"creation_date":1649030929,"post_id":71729585,"comment_id":126765870,"body_markdown":"The overload with the `Charset` was removed since it&#39;s hard to correctly support any arbitrary charset. The old implementation in Java 16 was buggy. Also, encoding is only part of the story, the other part is decoding, for which the length of the string must be determined, which is again hard to do for any arbitrary charset. See: https://github.com/openjdk/panama-foreign/pull/554#issuecomment-861596490 and related discussion.","body":"The overload with the <code>Charset</code> was removed since it&#39;s hard to correctly support any arbitrary charset. The old implementation in Java 16 was buggy. Also, encoding is only part of the story, the other part is decoding, for which the length of the string must be determined, which is again hard to do for any arbitrary charset. See: <a href=\"https://github.com/openjdk/panama-foreign/pull/554#issuecomment-861596490\" rel=\"nofollow noreferrer\">github.com/openjdk/panama-foreign/pull/&hellip;</a> and related discussion."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1649033101,"post_id":71729585,"comment_id":126766162,"body_markdown":"@JornVernee Yeah, I get that it is hard and why. OTOH, calling the win32api is best done by using the *W functions - as they always take a null-terminated UTF_16LE string.","body":"@JornVernee Yeah, I get that it is hard and why. OTOH, calling the win32api is best done by using the *W functions - as they always take a null-terminated UTF_16LE string."}],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649023501,"creation_date":1649023501,"answer_id":71730201,"question_id":71729585,"body_markdown":"I use this snippet to convert strings to UTF-16:\r\n\r\n\tprivate static MemoryAddress string(String s, ResourceScope scope) {\r\n\t\tif (s == null) {\r\n\t\t\treturn MemoryAddress.NULL;\r\n\t\t}\r\n\t\tbyte[] data = s.getBytes(StandardCharsets.UTF_16LE);\r\n\t\tMemorySegment seg = MemorySegment.allocateNative(data.length + 2, scope);\r\n\t\tseg.copyFrom(MemorySegment.ofArray(data));\r\n\t\treturn seg.address();\r\n\t}\r\n\r\nNote that the tailing null character takes 2 bytes in UTF-16 - if you use a different encoding, you may need to modify the string before (`s + &#39;\\000&#39;`).\r\n\r\nUTF-16 is good enough for my purposes - calling the Windows API.","title":"CLinker.toCString replacement in Java 18","body":"<p>I use this snippet to convert strings to UTF-16:</p>\n<pre><code>private static MemoryAddress string(String s, ResourceScope scope) {\n    if (s == null) {\n        return MemoryAddress.NULL;\n    }\n    byte[] data = s.getBytes(StandardCharsets.UTF_16LE);\n    MemorySegment seg = MemorySegment.allocateNative(data.length + 2, scope);\n    seg.copyFrom(MemorySegment.ofArray(data));\n    return seg.address();\n}\n</code></pre>\n<p>Note that the tailing null character takes 2 bytes in UTF-16 - if you use a different encoding, you may need to modify the string before (<code>s + '\\000'</code>).</p>\n<p>UTF-16 is good enough for my purposes - calling the Windows API.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650903734,"creation_date":1650903734,"answer_id":72002702,"question_id":71729585,"body_markdown":"On JDK18 I use a conversion of `(s+&quot;\\0&quot;)` which typically adds 1, 2 or 4 bytes as null termination to the end of the `MemorySegment` for the C string - depending on the character set used:\r\n\r\n    static MemorySegment toCString(SegmentAllocator allocator, String s, Charset charset) {\r\n        // &quot;==&quot; is OK here as StandardCharsets.UTF_8 == Charset.forName(&quot;UTF8&quot;)\r\n        if (StandardCharsets.UTF_8 == charset)\r\n            return allocator.allocateUtf8String(s);\r\n\r\n        return allocator.allocateArray(ValueLayout.JAVA_BYTE, (s+&quot;\\0&quot;).getBytes(charset));\r\n    }\r\n\r\nWindows Java -&gt; Wide string is then: `toCString(allocator, s, StandardCharsets.UTF_16LE)` \r\n\r\nHopefully someone can offer a more efficient / robust way to convert. The above works for round-trip tests I&#39;ve done on a small group of character sets (Windows + WSL), but I&#39;m not confident it is reliable in all situations. \r\n","title":"CLinker.toCString replacement in Java 18","body":"<p>On JDK18 I use a conversion of <code>(s+&quot;\\0&quot;)</code> which typically adds 1, 2 or 4 bytes as null termination to the end of the <code>MemorySegment</code> for the C string - depending on the character set used:</p>\n<pre><code>static MemorySegment toCString(SegmentAllocator allocator, String s, Charset charset) {\n    // &quot;==&quot; is OK here as StandardCharsets.UTF_8 == Charset.forName(&quot;UTF8&quot;)\n    if (StandardCharsets.UTF_8 == charset)\n        return allocator.allocateUtf8String(s);\n\n    return allocator.allocateArray(ValueLayout.JAVA_BYTE, (s+&quot;\\0&quot;).getBytes(charset));\n}\n</code></pre>\n<p>Windows Java -&gt; Wide string is then: <code>toCString(allocator, s, StandardCharsets.UTF_16LE)</code></p>\n<p>Hopefully someone can offer a more efficient / robust way to convert. The above works for round-trip tests I've done on a small group of character sets (Windows + WSL), but I'm not confident it is reliable in all situations.</p>\n"}],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1650903734,"creation_date":1649017471,"question_id":71729585,"body_markdown":"Java 16, as part of incubating package `jdk.incubator.foreign`, used to provide convenient way to convert Java `String`s to C strings of arbitrary Charset using [`MemorySegment CLingker.toCString​(String str, Charset charset, NativeScope scope)`][1]. That method was removed since Java 17. Is there currently a convenient method to convert Java `String` to C string of selected Charset?\r\n\r\nJava 18 has [`void MemorySegment.setUtf8String(long offset, String str)`][2]. However that obviously only supports UTF8.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/16/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/CLinker.html#toCString(java.lang.String,java.nio.charset.Charset,jdk.incubator.foreign.NativeScope)\r\n[2]: https://docs.oracle.com/en/java/javase/18/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemorySegment.html#setUtf8String(long,java.lang.String)","title":"CLinker.toCString replacement in Java 18","body":"<p>Java 16, as part of incubating package <code>jdk.incubator.foreign</code>, used to provide convenient way to convert Java <code>String</code>s to C strings of arbitrary Charset using <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/CLinker.html#toCString(java.lang.String,java.nio.charset.Charset,jdk.incubator.foreign.NativeScope)\" rel=\"nofollow noreferrer\"><code>MemorySegment CLingker.toCString​(String str, Charset charset, NativeScope scope)</code></a>. That method was removed since Java 17. Is there currently a convenient method to convert Java <code>String</code> to C string of selected Charset?</p>\n<p>Java 18 has <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemorySegment.html#setUtf8String(long,java.lang.String)\" rel=\"nofollow noreferrer\"><code>void MemorySegment.setUtf8String(long offset, String str)</code></a>. However that obviously only supports UTF8.</p>\n"},{"tags":["java","android","firebase-realtime-database","alarmmanager","smsmanager"],"comments":[{"owner":{"account_id":2458292,"reputation":962,"user_id":2160074,"accept_rate":100,"display_name":"Karan Modi"},"score":0,"creation_date":1528530277,"post_id":50771782,"comment_id":88551550,"body_markdown":"If I understand your question correctly, you need a function to execute periodically on a server that checks if a customer has &#39;dateto&#39; value at 7 days from the current date and if true, sends them an SMS using a service like Twilio.","body":"If I understand your question correctly, you need a function to execute periodically on a server that checks if a customer has &#39;dateto&#39; value at 7 days from the current date and if true, sends them an SMS using a service like Twilio."},{"owner":{"account_id":13199084,"reputation":23,"user_id":9532828,"display_name":"user9532828"},"score":0,"creation_date":1528548092,"post_id":50771782,"comment_id":88555641,"body_markdown":"No reply anyone","body":"No reply anyone"},{"owner":{"account_id":13199084,"reputation":23,"user_id":9532828,"display_name":"user9532828"},"score":0,"creation_date":1528567618,"post_id":50771782,"comment_id":88561242,"body_markdown":"Please give me some example.","body":"Please give me some example."}],"owner":{"account_id":13199084,"reputation":23,"user_id":9532828,"display_name":"user9532828"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650903697,"creation_date":1528527919,"question_id":50771782,"body_markdown":"[Firebase database screenshot][1]\r\n\r\n\r\n  [![enter image description here][1]][1]\r\n\r\nI&#39;m a beginner at android and firebase and am developing a driving school app.\r\nI am to successfully add customer details to a firebase database (&#39;name&#39;, &#39;phone&#39;, &#39;fromdate&#39; and &#39;todate&#39;). I want to send an sms alert to the customer e.g. (&quot;your licence is expiry soon.&quot;) using &#39;phone&#39; and &#39;date&#39; from the firebase database. The sms should be sent 7 days before the expiry date (I mean &#39;todate&#39; in the firebase database). Here I&#39;ve attached my firebase database screenshot. Please give me an example of how to do this.\r\n\r\n**Update customer details**\r\n \r\n\r\n    public class Updatecustomer extends AppCompatActivity {\r\n\r\n\r\n    private EditText edtname, edtpho;\r\n    private Button btnsubmit;\r\n    private EditText datepickerto, datepickerfr;\r\n    private Calendar mcurrentDate, mlateDate;\r\n\r\n    int day, month, year;\r\n\r\n    private DatabaseReference childref;\r\n    private DatabaseReference listref;\r\n    private DatabaseReference noderef;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_updatecustomer);\r\n\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.setTitle(&quot;Update your Customer Details&quot;);\r\n\r\n        actionBar.setDisplayHomeAsUpEnabled(true);\r\n        actionBar.setDisplayShowHomeEnabled(true);\r\n\r\n\r\n        datepickerto = (EditText)findViewById(R.id.datepickerto);\r\n        datepickerfr = (EditText)findViewById(R.id.datepickerfr);\r\n\r\n        edtname = (EditText)findViewById(R.id.edtname);\r\n        edtpho = (EditText)findViewById(R.id.edtpho);\r\n\r\n        btnsubmit = (Button)findViewById(R.id.btnsubmit);\r\n\r\n\r\n        mcurrentDate = Calendar.getInstance();\r\n\r\n        day = mcurrentDate.get(Calendar.DAY_OF_MONTH);\r\n        month = mcurrentDate.get(Calendar.MONTH);\r\n        year = mcurrentDate.get(Calendar.YEAR);\r\n\r\n        day = day+1;\r\n\r\n        datepickerto.setText(day+&quot;-&quot;+month+&quot;-&quot;+year);\r\n\r\n        datepickerto.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                DatePickerDialog datePickerDialog = new \r\n      DatePickerDialog(Updateproduction.this, new \r\n      DatePickerDialog.OnDateSetListener() {\r\n                    @Override\r\n                    public void onDateSet(DatePicker view, int year, int \r\n      monthOfYear, int dayOfMonth) {\r\n                        monthOfYear =monthOfYear+1;\r\n                        datepickerto.setText(dayOfMonth+&quot;-&quot;+monthOfYear+&quot;- \r\n      &quot;+year);\r\n                    }\r\n                }, year, month, day);\r\n                datePickerDialog.show();\r\n            }\r\n         });\r\n\r\n        mlateDate = Calendar.getInstance();\r\n\r\n        day = mlateDate.get(Calendar.DAY_OF_MONTH);\r\n        month = mlateDate.get(Calendar.MONTH);\r\n        year = mlateDate.get(Calendar.YEAR);\r\n\r\n        month = month+1;\r\n\r\n        datepickerfr.setText(day+&quot;-&quot;+month+&quot;-&quot;+year);\r\n\r\n        datepickerfr.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                DatePickerDialog datePickerDialog = new \r\n      DatePickerDialog(Updatecustomer.this, new \r\n      DatePickerDialog.OnDateSetListener() {\r\n                    @Override\r\n                    public void onDateSet(DatePicker view, int year, int \r\n      monthOfYear, int dayOfMonth) {\r\n                        monthOfYear =monthOfYear+1;\r\n                        datepickerfr.setText(dayOfMonth+&quot;-&quot;+monthOfYear+&quot;- \r\n      &quot;+year);\r\n                    }\r\n                }, year, month, day);\r\n                datePickerDialog.show();\r\n            }\r\n        });\r\n\r\n\r\n        final FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        final DatabaseReference table_user = database.getReference();\r\n\r\n        childref = table_user.child(&quot;Rajadriving&quot;);\r\n\r\n\r\n        btnsubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               final ProgressDialog mDiaglog = new \r\n      ProgressDialog(Updateproduction.this);\r\n               mDiaglog.setMessage(&quot;Please Waiting...&quot;);\r\n               mDiaglog.show();\r\n\r\n                table_user.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        \r\n        //if(dataSnapshot.child(spinnershift.getSelectedItem()\r\n       .toString()).exists())\r\n                        //  {\r\n                        //     mDiaglog.dismiss();\r\n                        //    Toast.makeText(Updatecustomer.this, &quot;Data \r\n     already Stored&quot;, Toast.LENGTH_SHORT).show();\r\n                        // }\r\n                        //  else\r\n                        {\r\n                            mDiaglog.dismiss();\r\n                            Datastore user = new \r\n   \r\n   \r\n      Datastore(datepickerfr.getText().toString(),datepickerto.getText()\r\n     .toString(),\r\n                                    edtpho.getText().toString().trim(), \r\n      edtname.getText().toString().trim());\r\n\r\n\r\n                            listref = \r\n     childref.child(datepickerfr.getText().toString());\r\n                            noderef =  \r\n     listref.child(edtname.getText().toString());\r\n                            noderef.setValue(user);\r\n\r\n                            //Intent addintent = new \r\n    Intent(MainActivity.this,Paid.class);\r\n                            // startActivity(addintent);\r\n                            Toast.makeText(Updatecustomer.this, &quot;Data saved \r\n    successfully !&quot;, Toast.LENGTH_SHORT).show();\r\n                            finish();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n     }\r\n\r\n\r\n     @Override\r\n     public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n\r\n        if (id == android.R.id.home){\r\n            this.finish();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n     }\r\n     }\r\n    \r\n\r\n**activity_update_customer.xml**\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.udayaj.rajadriving.Updatecustomer&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Raja Driving School&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;#f05&quot;\r\n        android:textSize=&quot;25dp&quot;\r\n        android:fontFamily=&quot;sans-serif&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:id=&quot;@+id/textView&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edtname&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/datepickerfr&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;35dp&quot;\r\n        android:hint=&quot;Enter Customer Name&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:textSize=&quot;16dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edtpho&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignStart=&quot;@+id/edtname&quot;\r\n        android:layout_below=&quot;@+id/edtname&quot;\r\n        android:layout_marginTop=&quot;19dp&quot;\r\n        android:hint=&quot;Enter Phone No.&quot;\r\n        android:inputType=&quot;number&quot;\r\n        android:minLines=&quot;10&quot;/&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnsubmit&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:layout_below=&quot;@+id/edtpho&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;96dp&quot;\r\n        android:background=&quot;@drawable/sty_submit&quot;\r\n        android:text=&quot;Submit&quot;\r\n        android:textColor=&quot;@android:color/white&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/datepickerfr&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/textView5&quot;\r\n        android:layout_marginEnd=&quot;19dp&quot;\r\n        android:layout_toStartOf=&quot;@+id/datepickerto&quot;\r\n        android:hint=&quot;Enter From Date&quot;\r\n        android:inputType=&quot;date&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/datepickerto&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_below=&quot;@+id/textView5&quot;\r\n        android:layout_marginEnd=&quot;42dp&quot;\r\n        android:hint=&quot;Enter Expire Date&quot;\r\n        android:inputType=&quot;date&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/textView&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;23dp&quot;\r\n        android:text=&quot;Date use this format eg:6-6-2018.&quot;\r\n        android:id=&quot;@+id/textView5&quot; /&gt;\r\n\r\n     &lt;/RelativeLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snykO.jpg","title":"send sms automatically using firebase database given phone number and date","body":"<p><a href=\"https://i.stack.imgur.com/snykO.jpg\" rel=\"nofollow noreferrer\">Firebase database screenshot</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/snykO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snykO.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I'm a beginner at android and firebase and am developing a driving school app.\nI am to successfully add customer details to a firebase database ('name', 'phone', 'fromdate' and 'todate'). I want to send an sms alert to the customer e.g. (\"your licence is expiry soon.\") using 'phone' and 'date' from the firebase database. The sms should be sent 7 days before the expiry date (I mean 'todate' in the firebase database). Here I've attached my firebase database screenshot. Please give me an example of how to do this.</p>\n\n<p><strong>Update customer details</strong></p>\n\n<pre><code>public class Updatecustomer extends AppCompatActivity {\n\n\nprivate EditText edtname, edtpho;\nprivate Button btnsubmit;\nprivate EditText datepickerto, datepickerfr;\nprivate Calendar mcurrentDate, mlateDate;\n\nint day, month, year;\n\nprivate DatabaseReference childref;\nprivate DatabaseReference listref;\nprivate DatabaseReference noderef;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_updatecustomer);\n\n    getSupportActionBar().setDisplayShowHomeEnabled(true);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n\n    ActionBar actionBar = getSupportActionBar();\n    actionBar.setTitle(\"Update your Customer Details\");\n\n    actionBar.setDisplayHomeAsUpEnabled(true);\n    actionBar.setDisplayShowHomeEnabled(true);\n\n\n    datepickerto = (EditText)findViewById(R.id.datepickerto);\n    datepickerfr = (EditText)findViewById(R.id.datepickerfr);\n\n    edtname = (EditText)findViewById(R.id.edtname);\n    edtpho = (EditText)findViewById(R.id.edtpho);\n\n    btnsubmit = (Button)findViewById(R.id.btnsubmit);\n\n\n    mcurrentDate = Calendar.getInstance();\n\n    day = mcurrentDate.get(Calendar.DAY_OF_MONTH);\n    month = mcurrentDate.get(Calendar.MONTH);\n    year = mcurrentDate.get(Calendar.YEAR);\n\n    day = day+1;\n\n    datepickerto.setText(day+\"-\"+month+\"-\"+year);\n\n    datepickerto.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            DatePickerDialog datePickerDialog = new \n  DatePickerDialog(Updateproduction.this, new \n  DatePickerDialog.OnDateSetListener() {\n                @Override\n                public void onDateSet(DatePicker view, int year, int \n  monthOfYear, int dayOfMonth) {\n                    monthOfYear =monthOfYear+1;\n                    datepickerto.setText(dayOfMonth+\"-\"+monthOfYear+\"- \n  \"+year);\n                }\n            }, year, month, day);\n            datePickerDialog.show();\n        }\n     });\n\n    mlateDate = Calendar.getInstance();\n\n    day = mlateDate.get(Calendar.DAY_OF_MONTH);\n    month = mlateDate.get(Calendar.MONTH);\n    year = mlateDate.get(Calendar.YEAR);\n\n    month = month+1;\n\n    datepickerfr.setText(day+\"-\"+month+\"-\"+year);\n\n    datepickerfr.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            DatePickerDialog datePickerDialog = new \n  DatePickerDialog(Updatecustomer.this, new \n  DatePickerDialog.OnDateSetListener() {\n                @Override\n                public void onDateSet(DatePicker view, int year, int \n  monthOfYear, int dayOfMonth) {\n                    monthOfYear =monthOfYear+1;\n                    datepickerfr.setText(dayOfMonth+\"-\"+monthOfYear+\"- \n  \"+year);\n                }\n            }, year, month, day);\n            datePickerDialog.show();\n        }\n    });\n\n\n    final FirebaseDatabase database = FirebaseDatabase.getInstance();\n    final DatabaseReference table_user = database.getReference();\n\n    childref = table_user.child(\"Rajadriving\");\n\n\n    btnsubmit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n           final ProgressDialog mDiaglog = new \n  ProgressDialog(Updateproduction.this);\n           mDiaglog.setMessage(\"Please Waiting...\");\n           mDiaglog.show();\n\n            table_user.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(DataSnapshot dataSnapshot) {\n\n    //if(dataSnapshot.child(spinnershift.getSelectedItem()\n   .toString()).exists())\n                    //  {\n                    //     mDiaglog.dismiss();\n                    //    Toast.makeText(Updatecustomer.this, \"Data \n already Stored\", Toast.LENGTH_SHORT).show();\n                    // }\n                    //  else\n                    {\n                        mDiaglog.dismiss();\n                        Datastore user = new \n\n\n  Datastore(datepickerfr.getText().toString(),datepickerto.getText()\n .toString(),\n                                edtpho.getText().toString().trim(), \n  edtname.getText().toString().trim());\n\n\n                        listref = \n childref.child(datepickerfr.getText().toString());\n                        noderef =  \n listref.child(edtname.getText().toString());\n                        noderef.setValue(user);\n\n                        //Intent addintent = new \nIntent(MainActivity.this,Paid.class);\n                        // startActivity(addintent);\n                        Toast.makeText(Updatecustomer.this, \"Data saved \nsuccessfully !\", Toast.LENGTH_SHORT).show();\n                        finish();\n                    }\n                }\n\n                @Override\n                public void onCancelled(DatabaseError databaseError) {\n\n                }\n            });\n        }\n    });\n\n\n }\n\n\n @Override\n public boolean onOptionsItemSelected(MenuItem item) {\n    int id = item.getItemId();\n\n    if (id == android.R.id.home){\n        this.finish();\n    }\n    return super.onOptionsItemSelected(item);\n }\n }\n</code></pre>\n\n<p><strong>activity_update_customer.xml</strong></p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.udayaj.rajadriving.Updatecustomer\"&gt;\n\n&lt;TextView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Raja Driving School\"\n    android:textStyle=\"bold\"\n    android:textColor=\"#f05\"\n    android:textSize=\"25dp\"\n    android:fontFamily=\"sans-serif\"\n    android:gravity=\"center\"\n    android:id=\"@+id/textView\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/edtname\"\n    android:layout_width=\"250dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/datepickerfr\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"35dp\"\n    android:hint=\"Enter Customer Name\"\n    android:inputType=\"textPersonName\"\n    android:textSize=\"16dp\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/edtpho\"\n    android:layout_width=\"250dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignStart=\"@+id/edtname\"\n    android:layout_below=\"@+id/edtname\"\n    android:layout_marginTop=\"19dp\"\n    android:hint=\"Enter Phone No.\"\n    android:inputType=\"number\"\n    android:minLines=\"10\"/&gt;\n\n\n&lt;Button\n    android:id=\"@+id/btnsubmit\"\n    android:layout_width=\"150dp\"\n    android:layout_height=\"55dp\"\n    android:layout_below=\"@+id/edtpho\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"96dp\"\n    android:background=\"@drawable/sty_submit\"\n    android:text=\"Submit\"\n    android:textColor=\"@android:color/white\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/datepickerfr\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/textView5\"\n    android:layout_marginEnd=\"19dp\"\n    android:layout_toStartOf=\"@+id/datepickerto\"\n    android:hint=\"Enter From Date\"\n    android:inputType=\"date\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/datepickerto\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentEnd=\"true\"\n    android:layout_below=\"@+id/textView5\"\n    android:layout_marginEnd=\"42dp\"\n    android:hint=\"Enter Expire Date\"\n    android:inputType=\"date\" /&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/textView\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"23dp\"\n    android:text=\"Date use this format eg:6-6-2018.\"\n    android:id=\"@+id/textView5\" /&gt;\n\n &lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","maven","struts-1"],"comments":[{"owner":{"account_id":2549572,"reputation":818,"user_id":2213646,"display_name":"ben rhouma moez"},"score":1,"creation_date":1408620685,"post_id":25424814,"comment_id":39663545,"body_markdown":"Best practice: make your `servlet-api` provided in pom.xml","body":"Best practice: make your <code>servlet-api</code> provided in pom.xml"},{"owner":{"account_id":1104899,"reputation":3144,"user_id":1096516,"accept_rate":40,"display_name":"Md. Arafat Al Mahmud"},"score":0,"creation_date":1408620834,"post_id":25424814,"comment_id":39663641,"body_markdown":"@benrhoumamoez this is provided in my pom.xml as dependency.","body":"@benrhoumamoez this is provided in my pom.xml as dependency."},{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1408623950,"post_id":25424814,"comment_id":39665606,"body_markdown":"@Md. Arafat AlMahmud, ben was emphasizing that you add a provided scope on your `servlet-api`, i.e., `&lt;scope&gt;provided&lt;/scope&gt;` inside your `&lt;dependency&gt;` tag for `servlet-api`. Do a `mvn clean` and `mvn install` then deploy and see if this issue persists. Also, what web/servlet container are you running this application?","body":"@Md. Arafat AlMahmud, ben was emphasizing that you add a provided scope on your <code>servlet-api</code>, i.e., <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code> inside your <code>&lt;dependency&gt;</code> tag for <code>servlet-api</code>. Do a <code>mvn clean</code> and <code>mvn install</code> then deploy and see if this issue persists. Also, what web/servlet container are you running this application?"}],"answers":[{"tags":[],"owner":{"account_id":10925495,"reputation":11,"user_id":8030345,"display_name":"Varma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499932744,"creation_date":1499932744,"answer_id":45074732,"question_id":25424814,"body_markdown":"check the versions of tld file in your WEB-INF and corresponding jar file in library.\r\n\r\nI had struts-tiles-1.3.10.jar  in lib folder and older version struts-tiles.tld in WEB-INF. It throws me the same error. Once I replace the struts-tiles.tld file with the one I get inside the struts-tiles-1.3.10.jar (by extracting the jar file) in the WEB-INF folder, It worked fine.\r\n","title":"Failed to load or instantiate TagExtraInfo class: org.apache.struts.taglib.bean.CookieTei","body":"<p>check the versions of tld file in your WEB-INF and corresponding jar file in library.</p>\n\n<p>I had struts-tiles-1.3.10.jar  in lib folder and older version struts-tiles.tld in WEB-INF. It throws me the same error. Once I replace the struts-tiles.tld file with the one I get inside the struts-tiles-1.3.10.jar (by extracting the jar file) in the WEB-INF folder, It worked fine.</p>\n"}],"owner":{"account_id":1104899,"reputation":3144,"user_id":1096516,"accept_rate":40,"display_name":"Md. Arafat Al Mahmud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8279,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650902525,"creation_date":1408619334,"question_id":25424814,"body_markdown":"I am trying to build struts 1 web project using maven in eclipse. I am getting the following error:\r\n![enter image description here][1]\r\n\r\nMy **`pom.xml`** is below:\r\n\r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.maven.practice&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-practice&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;maven-practice Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n          &lt;artifactId&gt;struts-core&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n          &lt;artifactId&gt;struts-taglib&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n          &lt;artifactId&gt;struts-el&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n          &lt;artifactId&gt;struts-tiles&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n          &lt;artifactId&gt;struts-faces&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n          &lt;artifactId&gt;struts-scripting&lt;/artifactId&gt;\r\n          &lt;version&gt;1.3.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n          &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;maven-practice&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**`struts-config.xml`:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    \r\n    &lt;!DOCTYPE struts-config PUBLIC\r\n              &quot;-//Apache Software Foundation//DTD Struts Configuration 1.2//EN&quot;\r\n              &quot;http://struts.apache.org/dtds/struts-config_1_2.dtd&quot;&gt;\r\n    \r\n    \r\n    &lt;struts-config&gt;\r\n    \t&lt;form-beans&gt;\r\n    \t\t  &lt;form-bean name=&quot;HelloWorldForm&quot; type=&quot;vanila.HelloWorldForm&quot; /&gt;\r\n    \t\t  &lt;form-bean name=&quot;SignUpForm&quot; type=&quot;vanila.SignUpForm&quot; /&gt;\r\n    \t&lt;/form-beans&gt;\r\n    \r\n    \t&lt;global-exceptions&gt;\r\n    \r\n    \t&lt;/global-exceptions&gt;\r\n    \r\n    \t&lt;global-forwards&gt;\r\n    \t\t&lt;forward name=&quot;welcome&quot; path=&quot;/Welcome.do&quot; /&gt;\r\n    \t&lt;/global-forwards&gt;\r\n    \r\n    \t&lt;action-mappings&gt;\r\n    \t   \r\n    \t\t&lt;action name=&quot;HelloWorldForm&quot; path=&quot;/HelloWorld&quot; type=&quot;vanila.HelloWorldAction&quot; validate=&quot;true&quot; input=&quot;/home/index.jsp&quot; scope=&quot;request&quot;&gt;\r\n    \t\t\t&lt;forward name=&quot;success&quot; path=&quot;/home/helloWorld.jsp&quot; /&gt;\r\n    \t\t\t&lt;forward name=&quot;error&quot;   path=&quot;/home/error.jsp&quot; /&gt;\r\n    \t\t\t&lt;forward name=&quot;signup&quot;   path=&quot;/home/signUp.jsp&quot; /&gt;\r\n    \t\t&lt;/action&gt;\r\n    \t\t\r\n    \t\t&lt;action name=&quot;SignUpForm&quot; path=&quot;/SignUp&quot; type=&quot;vanila.SignUpAction&quot; validate=&quot;true&quot; input=&quot;/home/signUp.jsp&quot; scope=&quot;request&quot;&gt;\r\n    \t\t\t&lt;forward name=&quot;success&quot; path=&quot;/home/success.jsp&quot; /&gt;\r\n    \t\t\t&lt;forward name=&quot;error&quot;   path=&quot;/home/error.jsp&quot; /&gt;\r\n    \t\t&lt;/action&gt;\r\n    \t\t\r\n    \t&lt;/action-mappings&gt;\r\n    \r\n    \t&lt;controller processorClass=&quot;org.apache.struts.tiles.TilesRequestProcessor&quot; /&gt;\r\n    \r\n    \t&lt;message-resources parameter=&quot;com/vaannila/ApplicationResource&quot; /&gt;\r\n    \r\n    \t\r\n    \t&lt;plug-in className=&quot;org.apache.struts.tiles.TilesPlugin&quot;&gt;\r\n    \t\t&lt;set-property property=&quot;definitions-config&quot; value=&quot;/WEB-INF/tiles-defs.xml&quot; /&gt;\r\n    \t\t&lt;set-property property=&quot;moduleAware&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;/plug-in&gt;\r\n    \r\n    \t&lt;!-- ========================= Validator plugin ================================= --&gt;\r\n    \t&lt;plug-in className=&quot;org.apache.struts.validator.ValidatorPlugIn&quot;&gt;\r\n    \t\t&lt;set-property property=&quot;pathnames&quot;\r\n    \t\t\tvalue=&quot;/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml&quot; /&gt;\r\n    \t&lt;/plug-in&gt;\r\n    \r\n    &lt;/struts-config&gt;\r\n\r\nand finally the **web.xml** is below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE web-app\r\n      PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN&quot;\r\n      &quot;http://java.sun.com/j2ee/dtds/web-app_2_2.dtd&quot;&gt;\r\n      \r\n    &lt;web-app&gt;\t\r\n    &lt;display-name&gt;\r\n    \tmaven-struts-practice&lt;/display-name&gt;\r\n    \t&lt;servlet&gt;\r\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;application&lt;/param-name&gt;\r\n          &lt;param-value&gt;livechat&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;config&lt;/param-name&gt;\r\n          &lt;param-value&gt;/WEB-INF/struts-config.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;debug&lt;/param-name&gt;\r\n          &lt;param-value&gt;2&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;detail&lt;/param-name&gt;\r\n          &lt;param-value&gt;2&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;listings&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n    \t&lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      \r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    \t&lt;session-config&gt;\r\n        &lt;session-timeout&gt;60&lt;/session-timeout&gt;\r\n      &lt;/session-config&gt;\r\n      \r\n      \r\n    \t&lt;welcome-file-list&gt;\r\n    \t\t&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    \t&lt;/welcome-file-list&gt;\r\n    \t\r\n    \t\r\n      &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/tags/struts-bean&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/struts-bean.tld&lt;/taglib-location&gt;\r\n      &lt;/taglib&gt;\r\n    \r\n      &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/tags/struts-html&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/struts-html.tld&lt;/taglib-location&gt;\r\n      &lt;/taglib&gt;\r\n    \r\n      &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/tags/struts-logic&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/struts-logic.tld&lt;/taglib-location&gt;\r\n      &lt;/taglib&gt;\r\n    \r\n      &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/tags/struts-nested&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/struts-nested.tld&lt;/taglib-location&gt;\r\n      &lt;/taglib&gt;\r\n    \r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\nTo be more specific, this is my project structure:\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/peNXc.png\r\n  [2]: http://i.stack.imgur.com/5OLFl.jpg\r\n\r\nHelp me to fix this.","title":"Failed to load or instantiate TagExtraInfo class: org.apache.struts.taglib.bean.CookieTei","body":"<p>I am trying to build struts 1 web project using maven in eclipse. I am getting the following error:\n<img src=\"https://i.stack.imgur.com/peNXc.png\" alt=\"enter image description here\"></p>\n\n<p>My <strong><code>pom.xml</code></strong> is below:</p>\n\n<pre><code> &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.maven.practice&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-practice&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;maven-practice Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n      &lt;artifactId&gt;struts-core&lt;/artifactId&gt;\n      &lt;version&gt;1.3.10&lt;/version&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n      &lt;artifactId&gt;struts-taglib&lt;/artifactId&gt;\n      &lt;version&gt;1.3.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n      &lt;artifactId&gt;struts-el&lt;/artifactId&gt;\n      &lt;version&gt;1.3.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n      &lt;artifactId&gt;struts-tiles&lt;/artifactId&gt;\n      &lt;version&gt;1.3.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n      &lt;artifactId&gt;struts-faces&lt;/artifactId&gt;\n      &lt;version&gt;1.3.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n      &lt;artifactId&gt;struts-scripting&lt;/artifactId&gt;\n      &lt;version&gt;1.3.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n      &lt;version&gt;1.2.14&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;maven-practice&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong><code>struts-config.xml</code>:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n\n&lt;!DOCTYPE struts-config PUBLIC\n          \"-//Apache Software Foundation//DTD Struts Configuration 1.2//EN\"\n          \"http://struts.apache.org/dtds/struts-config_1_2.dtd\"&gt;\n\n\n&lt;struts-config&gt;\n    &lt;form-beans&gt;\n          &lt;form-bean name=\"HelloWorldForm\" type=\"vanila.HelloWorldForm\" /&gt;\n          &lt;form-bean name=\"SignUpForm\" type=\"vanila.SignUpForm\" /&gt;\n    &lt;/form-beans&gt;\n\n    &lt;global-exceptions&gt;\n\n    &lt;/global-exceptions&gt;\n\n    &lt;global-forwards&gt;\n        &lt;forward name=\"welcome\" path=\"/Welcome.do\" /&gt;\n    &lt;/global-forwards&gt;\n\n    &lt;action-mappings&gt;\n\n        &lt;action name=\"HelloWorldForm\" path=\"/HelloWorld\" type=\"vanila.HelloWorldAction\" validate=\"true\" input=\"/home/index.jsp\" scope=\"request\"&gt;\n            &lt;forward name=\"success\" path=\"/home/helloWorld.jsp\" /&gt;\n            &lt;forward name=\"error\"   path=\"/home/error.jsp\" /&gt;\n            &lt;forward name=\"signup\"   path=\"/home/signUp.jsp\" /&gt;\n        &lt;/action&gt;\n\n        &lt;action name=\"SignUpForm\" path=\"/SignUp\" type=\"vanila.SignUpAction\" validate=\"true\" input=\"/home/signUp.jsp\" scope=\"request\"&gt;\n            &lt;forward name=\"success\" path=\"/home/success.jsp\" /&gt;\n            &lt;forward name=\"error\"   path=\"/home/error.jsp\" /&gt;\n        &lt;/action&gt;\n\n    &lt;/action-mappings&gt;\n\n    &lt;controller processorClass=\"org.apache.struts.tiles.TilesRequestProcessor\" /&gt;\n\n    &lt;message-resources parameter=\"com/vaannila/ApplicationResource\" /&gt;\n\n\n    &lt;plug-in className=\"org.apache.struts.tiles.TilesPlugin\"&gt;\n        &lt;set-property property=\"definitions-config\" value=\"/WEB-INF/tiles-defs.xml\" /&gt;\n        &lt;set-property property=\"moduleAware\" value=\"true\" /&gt;\n    &lt;/plug-in&gt;\n\n    &lt;!-- ========================= Validator plugin ================================= --&gt;\n    &lt;plug-in className=\"org.apache.struts.validator.ValidatorPlugIn\"&gt;\n        &lt;set-property property=\"pathnames\"\n            value=\"/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml\" /&gt;\n    &lt;/plug-in&gt;\n\n&lt;/struts-config&gt;\n</code></pre>\n\n<p>and finally the <strong>web.xml</strong> is below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;!DOCTYPE web-app\n  PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN\"\n  \"http://java.sun.com/j2ee/dtds/web-app_2_2.dtd\"&gt;\n\n&lt;web-app&gt;   \n&lt;display-name&gt;\n    maven-struts-practice&lt;/display-name&gt;\n    &lt;servlet&gt;\n    &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;application&lt;/param-name&gt;\n      &lt;param-value&gt;livechat&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;config&lt;/param-name&gt;\n      &lt;param-value&gt;/WEB-INF/struts-config.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;debug&lt;/param-name&gt;\n      &lt;param-value&gt;2&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;detail&lt;/param-name&gt;\n      &lt;param-value&gt;2&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;listings&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n    &lt;session-timeout&gt;60&lt;/session-timeout&gt;\n  &lt;/session-config&gt;\n\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n\n  &lt;taglib&gt;\n    &lt;taglib-uri&gt;/tags/struts-bean&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/struts-bean.tld&lt;/taglib-location&gt;\n  &lt;/taglib&gt;\n\n  &lt;taglib&gt;\n    &lt;taglib-uri&gt;/tags/struts-html&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/struts-html.tld&lt;/taglib-location&gt;\n  &lt;/taglib&gt;\n\n  &lt;taglib&gt;\n    &lt;taglib-uri&gt;/tags/struts-logic&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/struts-logic.tld&lt;/taglib-location&gt;\n  &lt;/taglib&gt;\n\n  &lt;taglib&gt;\n    &lt;taglib-uri&gt;/tags/struts-nested&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/struts-nested.tld&lt;/taglib-location&gt;\n  &lt;/taglib&gt;\n\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>To be more specific, this is my project structure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/5OLFl.jpg\" alt=\"enter image description here\"></p>\n\n<p>Help me to fix this.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","linechart"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1650895227,"post_id":72000695,"comment_id":127224829,"body_markdown":"&quot;it is not working&quot; is really hard to help with. When you set breakpoints on all important lines in this code and then run in the debugger, which is the first line that doesn&#39;t do what you expect it to do? --- Also: never ignore errors. At its least `onCancelled` should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`.","body":"&quot;it is not working&quot; is really hard to help with. When you set breakpoints on all important lines in this code and then run in the debugger, which is the first line that doesn&#39;t do what you expect it to do? --- Also: never ignore errors. At its least <code>onCancelled</code> should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":19374257,"reputation":35,"user_id":14166900,"display_name":"Yeury De los Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650902501,"creation_date":1650902501,"answer_id":72002427,"question_id":72000695,"body_markdown":"I finally got the expected result.\r\n\r\nI post the snipet for future inquiries.\r\n\r\n    private void retrieveChartData() {\r\n\r\n        final Calendar c = Calendar.getInstance();\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy&quot;);\r\n        String year = dateFormat.format(c.getTime());\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                days.clear();\r\n\r\n                ArrayList&lt;Entry&gt; data = new ArrayList&lt;&gt;();\r\n                int count = 0;\r\n                if (snapshot.hasChildren()) {\r\n\r\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                        Expense expense = dataSnapshot.getValue(Expense.class);\r\n\r\n                        assert expense != null;\r\n                        if (expense.getDate().substring(6, 10).equals(year)) {\r\n                            boolean exists = false;\r\n                            for (int i = 0; i &lt; days.size(); i++) {\r\n                                count = i;\r\n                                exists = days.get(i).getDate().substring(0, 2).equalsIgnoreCase(expense.getDate().substring(0, 2));\r\n                                if (exists) break;\r\n                            }\r\n                            if (exists) {\r\n                                days.get(count).setAmount(days.get(count).getAmount() + expense.getAmount());\r\n                            } else {\r\n                                days.add(expense);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    for (int i = 0; i &lt; days.size(); i++) {\r\n                        data.add(new Entry(Integer.parseInt(days.get(i).getDate().substring(0, 2)), days.get(i).getAmount()));\r\n                    }\r\n                    showChart(data);\r\n\r\n                } else {\r\n                    lineChart.clear();\r\n                    lineChart.invalidate();\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                throw error.toException();\r\n            }\r\n        });\r\n    }","title":"How can I properly get total amounts in my MPAndroid LineChart with Firebase data","body":"<p>I finally got the expected result.</p>\n<p>I post the snipet for future inquiries.</p>\n<pre><code>private void retrieveChartData() {\n\n    final Calendar c = Calendar.getInstance();\n    @SuppressLint(&quot;SimpleDateFormat&quot;) DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy&quot;);\n    String year = dateFormat.format(c.getTime());\n\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            days.clear();\n\n            ArrayList&lt;Entry&gt; data = new ArrayList&lt;&gt;();\n            int count = 0;\n            if (snapshot.hasChildren()) {\n\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                    Expense expense = dataSnapshot.getValue(Expense.class);\n\n                    assert expense != null;\n                    if (expense.getDate().substring(6, 10).equals(year)) {\n                        boolean exists = false;\n                        for (int i = 0; i &lt; days.size(); i++) {\n                            count = i;\n                            exists = days.get(i).getDate().substring(0, 2).equalsIgnoreCase(expense.getDate().substring(0, 2));\n                            if (exists) break;\n                        }\n                        if (exists) {\n                            days.get(count).setAmount(days.get(count).getAmount() + expense.getAmount());\n                        } else {\n                            days.add(expense);\n                        }\n                    }\n                }\n\n                for (int i = 0; i &lt; days.size(); i++) {\n                    data.add(new Entry(Integer.parseInt(days.get(i).getDate().substring(0, 2)), days.get(i).getAmount()));\n                }\n                showChart(data);\n\n            } else {\n                lineChart.clear();\n                lineChart.invalidate();\n            }\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            throw error.toException();\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":19374257,"reputation":35,"user_id":14166900,"display_name":"Yeury De los Santos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650902501,"creation_date":1650894779,"question_id":72000695,"body_markdown":"I am building a MPAndroid LineChart in Android Studio using Java and I need some assistance, I need the following;\r\n\r\n1. Format my x values so I can get to see values as &quot;MMM, dd&quot;\r\n2. I get to show amounts daily but if there is more than 1 item on a day I need to totalize, example, if on april 2 I have 2 items 20,000 and 10,000 I want my chart to show April, 2 30,000.\r\n\r\nthis is my LineChart;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nthis is the code where I am trying to do the total based on the day but it is not working.\r\n\r\n\r\n    private void retrieveChartData() {\r\n\r\n        final Calendar c = Calendar.getInstance();\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy&quot;);\r\n        String year = dateFormat.format(c.getTime());\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                days.clear();\r\n\r\n                ArrayList&lt;Entry&gt; data = new ArrayList&lt;&gt;();\r\n\r\n                if (snapshot.hasChildren()) {\r\n\r\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                        Expense expense = dataSnapshot.getValue(Expense.class);\r\n\r\n                        assert expense != null;\r\n                        if (expense.getDate().substring(6, 10).equals(year)) {\r\n                            boolean exists = false;\r\n                            int count = 0;\r\n                            for (int i = 0; i &lt; days.size(); i++) {\r\n                                count = i;\r\n                                exists = days.get(i).getDate().substring(0, 2).equalsIgnoreCase(expense.getDate().substring(0, 2));\r\n                                if (exists) break;\r\n                            }\r\n                            if (exists) {\r\n                                days.get(count).setAmount(days.get(count).getAmount() + expense.getAmount());\r\n                            } else {\r\n                                days.add(expense);\r\n                            }\r\n                        }\r\n\r\n                        data.add(new Entry(Integer.parseInt(expense.getDate().substring(0, 2)), expense.getAmount()));\r\n                    }\r\n                    showChart(data);\r\n\r\n                } else {\r\n                    lineChart.clear();\r\n                    lineChart.invalidate();\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nthis is my realtime data base in firebase.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m4zUi.png\r\n  [2]: https://i.stack.imgur.com/B9Eu3.png","title":"How can I properly get total amounts in my MPAndroid LineChart with Firebase data","body":"<p>I am building a MPAndroid LineChart in Android Studio using Java and I need some assistance, I need the following;</p>\n<ol>\n<li>Format my x values so I can get to see values as &quot;MMM, dd&quot;</li>\n<li>I get to show amounts daily but if there is more than 1 item on a day I need to totalize, example, if on april 2 I have 2 items 20,000 and 10,000 I want my chart to show April, 2 30,000.</li>\n</ol>\n<p>this is my LineChart;</p>\n<p><a href=\"https://i.stack.imgur.com/m4zUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m4zUi.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the code where I am trying to do the total based on the day but it is not working.</p>\n<pre><code>private void retrieveChartData() {\n\n    final Calendar c = Calendar.getInstance();\n    @SuppressLint(&quot;SimpleDateFormat&quot;) DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy&quot;);\n    String year = dateFormat.format(c.getTime());\n\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            days.clear();\n\n            ArrayList&lt;Entry&gt; data = new ArrayList&lt;&gt;();\n\n            if (snapshot.hasChildren()) {\n\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                    Expense expense = dataSnapshot.getValue(Expense.class);\n\n                    assert expense != null;\n                    if (expense.getDate().substring(6, 10).equals(year)) {\n                        boolean exists = false;\n                        int count = 0;\n                        for (int i = 0; i &lt; days.size(); i++) {\n                            count = i;\n                            exists = days.get(i).getDate().substring(0, 2).equalsIgnoreCase(expense.getDate().substring(0, 2));\n                            if (exists) break;\n                        }\n                        if (exists) {\n                            days.get(count).setAmount(days.get(count).getAmount() + expense.getAmount());\n                        } else {\n                            days.add(expense);\n                        }\n                    }\n\n                    data.add(new Entry(Integer.parseInt(expense.getDate().substring(0, 2)), expense.getAmount()));\n                }\n                showChart(data);\n\n            } else {\n                lineChart.clear();\n                lineChart.invalidate();\n            }\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n</code></pre>\n<p>this is my realtime data base in firebase.</p>\n<p><a href=\"https://i.stack.imgur.com/B9Eu3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B9Eu3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","opengl","glsl","shader","lwjgl"],"comments":[{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":0,"creation_date":1417738581,"post_id":27306638,"comment_id":43075707,"body_markdown":"can you print the whole shader source after you read  it? (or inspect it with the debugger)","body":"can you print the whole shader source after you read  it? (or inspect it with the debugger)"},{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":1,"creation_date":1417738713,"post_id":27306638,"comment_id":43075743,"body_markdown":"shouldn&#39;t it be #version... instead of @version?","body":"shouldn&#39;t it be #version... instead of @version?"},{"owner":{"account_id":2430534,"reputation":45,"user_id":2121546,"accept_rate":50,"display_name":"Andrew Graham"},"score":1,"creation_date":1417739774,"post_id":27306638,"comment_id":43076051,"body_markdown":"you know what... I think your right... I hope not because then I&#39;m the idiot... Holy crap... that was It... to think it was a preprocessor tag I screwed up... *facepalm*... thanks a ton","body":"you know what... I think your right... I hope not because then I&#39;m the idiot... Holy crap... that was It... to think it was a preprocessor tag I screwed up... <i>facepalm</i>... thanks a ton"}],"answers":[{"tags":[],"owner":{"account_id":2430534,"reputation":45,"user_id":2121546,"accept_rate":50,"display_name":"Andrew Graham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417739853,"creation_date":1417739853,"answer_id":27306871,"question_id":27306638,"body_markdown":"And the answer is....... It&#39;s # not @ when declaring version in the shader code... ","title":"GLSL Shader does not compile, Java and LWJGL shader error","body":"<p>And the answer is....... It's # not @ when declaring version in the shader code... </p>\n"}],"owner":{"account_id":2430534,"reputation":45,"user_id":2121546,"accept_rate":50,"display_name":"Andrew Graham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650902379,"creation_date":1417738311,"question_id":27306638,"body_markdown":"I&#39;ve encountered this error a few times now when compiling my shaders. \r\n\r\nHere is the infoLog/Error\r\n\r\n```none\r\nVertex shader failed to compile with the following errors:\r\nERROR: 0:1: error(#132) Syntax error: &quot;&lt;&quot; parse error\r\nERROR: error(#273) 1 compilation errors.  No code generated\r\n```\r\n\r\nThis occurs on the fragment shader aswell. Here is my very very basic test vertex and frag shader code:\r\n\r\n    @version 330\r\n\r\n    layout (location = 0) in vec3 position;\r\n\r\n    void main(){\r\n\t\r\n\t    gl_Position = vec4(position, 1.0);\r\n    }\r\n\r\nAnd Here&#39;s the frag:\r\n\r\n    @version 330\r\n\r\n    out vec4 fragColor;\r\n\r\n    void main(){\r\n\r\n\t    fragColor = vec4(1.0, 0.0, 0.0, 1.0);\r\n    }\r\n\r\nHere is the Shader class that has all the load/compile/link methods:\r\n\r\n\r\n\r\n    public  abstract class Shader {\r\n\t\r\n\t    private int program;\r\n\t\r\n\t    public Shader(){\r\n\t\t\r\n\t\t\r\n\t\t    program = glCreateProgram();\r\n\t\t\r\n\t\t    if(program == 0){\r\n\t\t\t    System.err.println(&quot;Shader creation failed: Could not find valid memory location&quot;);     \r\n\t\t\t    System.exit(1);\r\n\t\t    }\r\n\t    }\r\n\t\r\n\t\r\n\t\r\n\t    public void bind(){\r\n\t\t\r\n\t\t     glUseProgram(program);\r\n\r\n\t    }\r\n\r\n\t    public void addProgram(String text, int type){\r\n\t\t\r\n\t\t    int shader = glCreateShader(type);\r\n\t\t\r\n\t\t    if(shader == 0)\r\n\t\t    {\r\n\t\t\t    System.err.println(&quot;Shader creation failed: Could not find valid memory location&quot;);      \r\n\t\t\t    System.exit(1);\r\n\t\t    }\r\n\t\t\r\n\t\t    glShaderSource(shader, text);\r\n\t\t    glCompileShader(shader);             \r\n\t\t\r\n\t\t    if(glGetShaderi(shader, GL_COMPILE_STATUS) == 0){\r\n\t\t\t    System.err.println(&quot;Shader compilation failed&quot;);\r\n\t\t\t    System.err.println(glGetShaderInfoLog(shader, 1024));\r\n\t\t\t    System.exit(1);\r\n\t\t    }\r\n\t\t\r\n\t\t    glAttachShader(program, shader);\r\n\t    }\r\n\r\n\t\r\n\t    public String loadShader(String fileName){\r\n\t\t\r\n\t\t\r\n\t\t    StringBuilder shaderSource = new StringBuilder();\r\n\t\t    BufferedReader shaderReader = null;\r\n\t\t\r\n\t\t    try{\r\n\t\t\t\r\n\t\t\t    shaderReader = new BufferedReader(new FileReader(&quot;./res/shaders/&quot; + fileName));\r\n\t\t\t\r\n\t\t\t    String line;\r\n\t\t\t    while((line = shaderReader.readLine()) != null){\r\n\t\t\t\t\r\n\t\t\t\t    shaderSource.append(line).append(&quot;\\n&quot;);\r\n\t\t\t    }\r\n\t\t\t\r\n\t\t\t    shaderReader.close();\r\n\t\t\t\r\n\t\t\t\r\n\t\t    }catch(Exception e){\r\n\t\t\t    e.printStackTrace();\r\n\t\t\t    System.out.println(&quot;HERE IT IS!!!!&quot;);\r\n\t\t\t    System.exit(1);\r\n\t\t    }\r\n\t\t\r\n\t\t    return shaderSource.toString();\r\n\t\t\r\n\t    }\r\n\r\n\t    public void compileShader(){\r\n\t\t\r\n\t\t    glLinkProgram(program);\r\n\t\t\r\n\t\t    if(glGetProgrami(program, GL_LINK_STATUS) == 0){\r\n\t\t\t    System.err.println(glGetShaderInfoLog(program, 1024));\r\n\t\t\t    System.exit(1);\r\n\t\t    }\r\n\t\t\r\n\t\t    glValidateProgram(program);\r\n\t\t\r\n\t\t    if(glGetProgrami(program, GL_VALIDATE_STATUS) == 0){\r\n\t\t\t    System.err.println(glGetShaderInfoLog(program, 1024));\r\n\t\t\t    System.exit(1);\r\n\t\t    }\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nIve done a lot of experimenting to seee where the problem is and I&#39;ve narrowed it down to one of two things.(A) somehow loading in the text from the file in the loadShader() method is returning a bunch of random symbols(notice in the infoLog up top the parse error indicates the character was &quot;&lt;&quot; which is clearly not even in either of the shaders. Or (B) the error is with the glCompileShader(shader) call in the addProgram() method. I think option A is more likely, but as I said, the fileLoader has never done that before.","title":"GLSL Shader does not compile, Java and LWJGL shader error","body":"<p>I've encountered this error a few times now when compiling my shaders.</p>\n<p>Here is the infoLog/Error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Vertex shader failed to compile with the following errors:\nERROR: 0:1: error(#132) Syntax error: &quot;&lt;&quot; parse error\nERROR: error(#273) 1 compilation errors.  No code generated\n</code></pre>\n<p>This occurs on the fragment shader aswell. Here is my very very basic test vertex and frag shader code:</p>\n<pre><code>@version 330\n\nlayout (location = 0) in vec3 position;\n\nvoid main(){\n\n    gl_Position = vec4(position, 1.0);\n}\n</code></pre>\n<p>And Here's the frag:</p>\n<pre><code>@version 330\n\nout vec4 fragColor;\n\nvoid main(){\n\n    fragColor = vec4(1.0, 0.0, 0.0, 1.0);\n}\n</code></pre>\n<p>Here is the Shader class that has all the load/compile/link methods:</p>\n<pre><code>public  abstract class Shader {\n\n    private int program;\n\n    public Shader(){\n    \n    \n        program = glCreateProgram();\n    \n        if(program == 0){\n            System.err.println(&quot;Shader creation failed: Could not find valid memory location&quot;);     \n            System.exit(1);\n        }\n    }\n\n\n\n    public void bind(){\n    \n         glUseProgram(program);\n\n    }\n\n    public void addProgram(String text, int type){\n    \n        int shader = glCreateShader(type);\n    \n        if(shader == 0)\n        {\n            System.err.println(&quot;Shader creation failed: Could not find valid memory location&quot;);      \n            System.exit(1);\n        }\n    \n        glShaderSource(shader, text);\n        glCompileShader(shader);             \n    \n        if(glGetShaderi(shader, GL_COMPILE_STATUS) == 0){\n            System.err.println(&quot;Shader compilation failed&quot;);\n            System.err.println(glGetShaderInfoLog(shader, 1024));\n            System.exit(1);\n        }\n    \n        glAttachShader(program, shader);\n    }\n\n\n    public String loadShader(String fileName){\n    \n    \n        StringBuilder shaderSource = new StringBuilder();\n        BufferedReader shaderReader = null;\n    \n        try{\n        \n            shaderReader = new BufferedReader(new FileReader(&quot;./res/shaders/&quot; + fileName));\n        \n            String line;\n            while((line = shaderReader.readLine()) != null){\n            \n                shaderSource.append(line).append(&quot;\\n&quot;);\n            }\n        \n            shaderReader.close();\n        \n        \n        }catch(Exception e){\n            e.printStackTrace();\n            System.out.println(&quot;HERE IT IS!!!!&quot;);\n            System.exit(1);\n        }\n    \n        return shaderSource.toString();\n    \n    }\n\n    public void compileShader(){\n    \n        glLinkProgram(program);\n    \n        if(glGetProgrami(program, GL_LINK_STATUS) == 0){\n            System.err.println(glGetShaderInfoLog(program, 1024));\n            System.exit(1);\n        }\n    \n        glValidateProgram(program);\n    \n        if(glGetProgrami(program, GL_VALIDATE_STATUS) == 0){\n            System.err.println(glGetShaderInfoLog(program, 1024));\n            System.exit(1);\n        }\n    \n    }\n}\n</code></pre>\n<p>Ive done a lot of experimenting to seee where the problem is and I've narrowed it down to one of two things.(A) somehow loading in the text from the file in the loadShader() method is returning a bunch of random symbols(notice in the infoLog up top the parse error indicates the character was &quot;&lt;&quot; which is clearly not even in either of the shaders. Or (B) the error is with the glCompileShader(shader) call in the addProgram() method. I think option A is more likely, but as I said, the fileLoader has never done that before.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650964110,"post_id":72001921,"comment_id":127242498,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":25086469,"reputation":1,"user_id":18938603,"display_name":"laert"},"score":0,"creation_date":1650972213,"post_id":72001921,"comment_id":127245447,"body_markdown":"@AlexMamo when I&#39;m deleting a movie from the favorite list other movies duplicate","body":"@AlexMamo when I&#39;m deleting a movie from the favorite list other movies duplicate"}],"owner":{"account_id":25086469,"reputation":1,"user_id":18938603,"display_name":"laert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650901764,"creation_date":1650900068,"question_id":72001921,"body_markdown":"RecyclerView duplicates other items after deleting an item.\r\nTried to clear ArrayList but it&#39;s not working\r\n\r\nI&#39;m a newbie so some information got from the internet.\r\n\r\nAlso in the firebase item deleting multiple times.\r\n\r\nplease help me\r\n\r\nThere&#39;s my code and firebase picture:\r\n\r\nAdapter\r\n```\r\npublic class MovieFavAdapter extends RecyclerView.Adapter&lt;FavViewHolder&gt; {\r\n        private Activity activity;\r\n        private List&lt;MovieDetail&gt; results;\r\n        int id;\r\n        FirebaseAuth auth;\r\n        String uid;\r\n        private ImageView deleteItem;\r\n        DatabaseReference db;\r\n        MovieDetail result;\r\n        FavViewHolder favViewHolder;\r\n        int i;\r\n        Intent intent;\r\n        @Override\r\n        public void setHasStableIds(boolean hasStableIds) {\r\n            super.setHasStableIds(hasStableIds);\r\n        }\r\n\r\n        public MovieFavAdapter(Activity activity, List&lt;MovieDetail&gt; results) {\r\n            this.activity = activity;\r\n            this.results = results;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public FavViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(activity.getApplicationContext()).inflate(R.layout.fav_items,parent, false);\r\n            favViewHolder = new FavViewHolder(view);\r\n            return favViewHolder;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull FavViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n            result = results.get(position);\r\n            auth = FirebaseAuth.getInstance();\r\n            holder.setPosterImageView(activity, result.getPoster_path());\r\n            String title = result.getTitle();\r\n            holder.poster_title_movie.setText(title);\r\n            i = holder.getAdapterPosition();\r\n            if (title != null) {\r\n                holder.poster_title_movie.setVisibility(View.VISIBLE);\r\n                holder.poster_title_movie.setText(title);\r\n            } else {\r\n                holder.poster_title_movie.setVisibility(View.GONE);\r\n            }\r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    id = result.getId();\r\n                    Intent intent = new Intent(view.getContext(), MovieDetailActivity.class);\r\n                    intent.putExtra(&quot;id&quot;, String.valueOf(id));\r\n                    activity.startActivity(intent);\r\n                    activity.onBackPressed();\r\n                }\r\n            });\r\n           \r\n            holder.imageView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    id = results.get(i).getId();\r\n                    uid = auth.getCurrentUser().getUid();\r\n                    db = FirebaseDatabase.getInstance().getReference();\r\n                    db.child(&quot;MovieId&quot;).child(uid).child(String.valueOf(id)).removeValue();\r\n                    results.remove(i);\r\n                    notifyItemRemoved(i);\r\n                    notifyItemRangeChanged(i, results.size());\r\n                    Toast.makeText(activity.getApplicationContext(), &quot;Delete &quot;+ i, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return results.size();\r\n        }\r\n    }\r\n```\r\n\r\nFragment\r\n```\r\n@Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;MovieId&quot;);\r\n        results=new ArrayList&lt;&gt;();\r\n        auth = FirebaseAuth.getInstance();\r\n        uid = auth.getUid();\r\n        retrofitService = RetrofitClient.getClient().create(RetrofitService.class);\r\n        if (!results.isEmpty()){\r\n            results.clear();\r\n        }\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        v = inflater.inflate(R.layout.fav_movie_layout, container, false);\r\n        favRecycler = v.findViewById(R.id.fav_movie_list);\r\n        favRecycler.setHasFixedSize(true);\r\n        favRecycler.setItemAnimator(null);\r\n        favRecycler.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        movieFavAdapter = new MovieFavAdapter(getActivity(), results);\r\n        movieFavAdapter.notifyDataSetChanged();\r\n        movieFavAdapter.setHasStableIds(true);\r\n        databaseReference.child(uid).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot dataSnapshot: snapshot.getChildren()){\r\n                    results.clear();\r\n                    Call&lt;MovieDetail&gt; movieDetailCall = retrofitService.getMovieDetailsById(Integer.parseInt(dataSnapshot.getKey()), BuildConfig.Api_Key);\r\n                    movieDetailCall.enqueue(new Callback&lt;MovieDetail&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;MovieDetail&gt; call, Response&lt;MovieDetail&gt; response) {\r\n                            MovieDetail movieDetail = response.body();\r\n                            results.add(movieDetail);\r\n                            movieFavAdapter.notifyDataSetChanged();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Call&lt;MovieDetail&gt; call, Throwable t) {\r\n\r\n                        }\r\n\r\n                    });\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n        favRecycler.setAdapter(movieFavAdapter);\r\n        return v;\r\n\r\n    }\r\n}\r\n```\r\n\r\nFirebase\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0NC8E.png","title":"RecyclerView duplicates other items after delete item","body":"<p>RecyclerView duplicates other items after deleting an item.\nTried to clear ArrayList but it's not working</p>\n<p>I'm a newbie so some information got from the internet.</p>\n<p>Also in the firebase item deleting multiple times.</p>\n<p>please help me</p>\n<p>There's my code and firebase picture:</p>\n<p>Adapter</p>\n<pre><code>public class MovieFavAdapter extends RecyclerView.Adapter&lt;FavViewHolder&gt; {\n        private Activity activity;\n        private List&lt;MovieDetail&gt; results;\n        int id;\n        FirebaseAuth auth;\n        String uid;\n        private ImageView deleteItem;\n        DatabaseReference db;\n        MovieDetail result;\n        FavViewHolder favViewHolder;\n        int i;\n        Intent intent;\n        @Override\n        public void setHasStableIds(boolean hasStableIds) {\n            super.setHasStableIds(hasStableIds);\n        }\n\n        public MovieFavAdapter(Activity activity, List&lt;MovieDetail&gt; results) {\n            this.activity = activity;\n            this.results = results;\n        }\n\n        @NonNull\n        @Override\n        public FavViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(activity.getApplicationContext()).inflate(R.layout.fav_items,parent, false);\n            favViewHolder = new FavViewHolder(view);\n            return favViewHolder;\n        }\n\n        @Override\n        public void onBindViewHolder(@NonNull FavViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n            result = results.get(position);\n            auth = FirebaseAuth.getInstance();\n            holder.setPosterImageView(activity, result.getPoster_path());\n            String title = result.getTitle();\n            holder.poster_title_movie.setText(title);\n            i = holder.getAdapterPosition();\n            if (title != null) {\n                holder.poster_title_movie.setVisibility(View.VISIBLE);\n                holder.poster_title_movie.setText(title);\n            } else {\n                holder.poster_title_movie.setVisibility(View.GONE);\n            }\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    id = result.getId();\n                    Intent intent = new Intent(view.getContext(), MovieDetailActivity.class);\n                    intent.putExtra(&quot;id&quot;, String.valueOf(id));\n                    activity.startActivity(intent);\n                    activity.onBackPressed();\n                }\n            });\n           \n            holder.imageView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    id = results.get(i).getId();\n                    uid = auth.getCurrentUser().getUid();\n                    db = FirebaseDatabase.getInstance().getReference();\n                    db.child(&quot;MovieId&quot;).child(uid).child(String.valueOf(id)).removeValue();\n                    results.remove(i);\n                    notifyItemRemoved(i);\n                    notifyItemRangeChanged(i, results.size());\n                    Toast.makeText(activity.getApplicationContext(), &quot;Delete &quot;+ i, Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n\n\n        @Override\n        public int getItemCount() {\n            return results.size();\n        }\n    }\n</code></pre>\n<p>Fragment</p>\n<pre><code>@Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n\n\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;MovieId&quot;);\n        results=new ArrayList&lt;&gt;();\n        auth = FirebaseAuth.getInstance();\n        uid = auth.getUid();\n        retrofitService = RetrofitClient.getClient().create(RetrofitService.class);\n        if (!results.isEmpty()){\n            results.clear();\n        }\n        super.onCreate(savedInstanceState);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        v = inflater.inflate(R.layout.fav_movie_layout, container, false);\n        favRecycler = v.findViewById(R.id.fav_movie_list);\n        favRecycler.setHasFixedSize(true);\n        favRecycler.setItemAnimator(null);\n        favRecycler.setLayoutManager(new LinearLayoutManager(getContext()));\n        movieFavAdapter = new MovieFavAdapter(getActivity(), results);\n        movieFavAdapter.notifyDataSetChanged();\n        movieFavAdapter.setHasStableIds(true);\n        databaseReference.child(uid).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot: snapshot.getChildren()){\n                    results.clear();\n                    Call&lt;MovieDetail&gt; movieDetailCall = retrofitService.getMovieDetailsById(Integer.parseInt(dataSnapshot.getKey()), BuildConfig.Api_Key);\n                    movieDetailCall.enqueue(new Callback&lt;MovieDetail&gt;() {\n                        @Override\n                        public void onResponse(Call&lt;MovieDetail&gt; call, Response&lt;MovieDetail&gt; response) {\n                            MovieDetail movieDetail = response.body();\n                            results.add(movieDetail);\n                            movieFavAdapter.notifyDataSetChanged();\n                        }\n\n                        @Override\n                        public void onFailure(Call&lt;MovieDetail&gt; call, Throwable t) {\n\n                        }\n\n                    });\n                }\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n        favRecycler.setAdapter(movieFavAdapter);\n        return v;\n\n    }\n}\n</code></pre>\n<p>Firebase\n<a href=\"https://i.stack.imgur.com/0NC8E.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","php"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1650901891,"post_id":72002271,"comment_id":127227647,"body_markdown":"Why use a SAML library in a language you don&#39;t use? Find a SAML library for Java.","body":"Why use a SAML library in a language you don&#39;t use? Find a SAML library for Java."},{"owner":{"account_id":1633614,"reputation":7209,"user_id":1507691,"accept_rate":83,"display_name":"Zak"},"score":0,"creation_date":1650901971,"post_id":72002271,"comment_id":127227671,"body_markdown":"Why not keep it in it&#39;s native language it was built on, and just program in Java?  --  Else you&#39;ll most likely need to build an API to talk between the two languages to send auth tokens etc etc .. Just sounds -- messy ..","body":"Why not keep it in it&#39;s native language it was built on, and just program in Java?  --  Else you&#39;ll most likely need to build an API to talk between the two languages to send auth tokens etc etc .. Just sounds -- messy .."},{"owner":{"account_id":17110199,"reputation":3,"user_id":14107901,"display_name":"Eduardo"},"score":0,"creation_date":1650902302,"post_id":72002271,"comment_id":127227786,"body_markdown":"The previous developer did not respect the requirements of the project and now I have inherited this mess. It is the client&#39;s requirement to use their own sso, and this is from SimpleSAMLphp","body":"The previous developer did not respect the requirements of the project and now I have inherited this mess. It is the client&#39;s requirement to use their own sso, and this is from SimpleSAMLphp"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1650903322,"post_id":72002271,"comment_id":127228167,"body_markdown":"SAML is a standard. SimpleSAML.php is merely an implementation of SAML in PHP. If the client&#39;s own SSO is SAML based, you should be able to use it with any SAML library.","body":"SAML is a standard. SimpleSAML.php is merely an implementation of SAML in PHP. If the client&#39;s own SSO is SAML based, you should be able to use it with any SAML library."},{"owner":{"account_id":17110199,"reputation":3,"user_id":14107901,"display_name":"Eduardo"},"score":0,"creation_date":1650919298,"post_id":72002271,"comment_id":127233115,"body_markdown":"Ah, ok. This was much easier than how I was determined to do it. Solved all my doubts then. Thnk u.","body":"Ah, ok. This was much easier than how I was determined to do it. Solved all my doubts then. Thnk u."}],"owner":{"account_id":17110199,"reputation":3,"user_id":14107901,"display_name":"Eduardo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650901722,"creation_date":1650901722,"question_id":72002271,"body_markdown":"I have recived an app builded in a Wildfly 17 server, java and angularJs. \r\n\r\nMy problem is i need to implement a SSO with SimpleSMALphp and i cant find the way to do it without rebuild all the app. \r\n\r\nIve found an Apache module that can parse auth cookies from php to other languages, but nothing like that i can use in wildfly. \r\n\r\nIf anyone knows of a guide or something similar, I would be very grateful.\r\n","title":"I need to implement SimpleSMALPHP in java app","body":"<p>I have recived an app builded in a Wildfly 17 server, java and angularJs.</p>\n<p>My problem is i need to implement a SSO with SimpleSMALphp and i cant find the way to do it without rebuild all the app.</p>\n<p>Ive found an Apache module that can parse auth cookies from php to other languages, but nothing like that i can use in wildfly.</p>\n<p>If anyone knows of a guide or something similar, I would be very grateful.</p>\n"},{"tags":["java","spring-boot","oracle11g"],"answers":[{"tags":[],"owner":{"account_id":1577966,"reputation":602,"user_id":1463974,"accept_rate":50,"display_name":"DS."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586861833,"creation_date":1586861833,"answer_id":61206081,"question_id":61118813,"body_markdown":"I don&#39;t think this is possible (or neccessary). The easiest way is to unwrap() a connection object, which has already  connected to the dB:\r\n\r\n    Connection conn =  this.jdbcTemplate.getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);","title":"Obtain an OracleDataSource in SpringBoot 2","body":"<p>I don't think this is possible (or neccessary). The easiest way is to unwrap() a connection object, which has already  connected to the dB:</p>\n\n<pre><code>Connection conn =  this.jdbcTemplate.getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21405345,"reputation":11,"user_id":15766671,"display_name":"Rock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650901604,"creation_date":1650901604,"answer_id":72002249,"question_id":61118813,"body_markdown":"Just a query like, how are you able to get OracleConnection.class, because in my case I get squiggly line underneath OracleConnection.class and there are no packages available to import.","title":"Obtain an OracleDataSource in SpringBoot 2","body":"<p>Just a query like, how are you able to get OracleConnection.class, because in my case I get squiggly line underneath OracleConnection.class and there are no packages available to import.</p>\n"}],"owner":{"account_id":1577966,"reputation":602,"user_id":1463974,"accept_rate":50,"display_name":"DS."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61206081,"answer_count":2,"score":0,"last_activity_date":1650901604,"creation_date":1586427179,"question_id":61118813,"body_markdown":"Is it possible to retrieve a OracleDataSource from the default SpringBoot 2 Hikari connection pool using a NamedParameterJdbcTemplate object?\r\nUsing Java 8, Oracle 11g (ojdbc6-11.2.0.1.jar) and gradle\r\nThis is what i&#39;ve tried.\r\n\r\n    @Repository\r\n    public class MyClass{\r\n\r\n\t@Autowired\r\n\tNamedParameterJdbcTemplate  jdbcTemplate;\r\n\r\n\tpublic void myMethod(){\r\n\ttry{\r\n\t\t//OracleDataSource ods = new OracleDataSource();\t\t\t\t\t\t\t\t\t\t\t// This works but is obviously not Spring\r\n\t\tOracleDataSource ods = (OracleDataSource) jdbcTemplate.getJdbcTemplate().getDataSource();   // This fails\r\n\t\t\t\t\r\n\t\tods.setURL(url);\r\n\t\tods.setUser(user);\r\n\t\tods.setPassword(pass);\r\n\r\n\t\t...\r\n\t\tcatch(Exception e){\r\n\t\t\t\tSystem.out.println(&quot;In Exception&quot;);\r\n\t\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nApplication.properties:\r\n\r\n    spring.datasource.url=jdbc:oracle:thin:@//${ORA_HOST}:${ORA_PORT}/${ORA_SID}\r\n    spring.datasource.username=${USER}\r\n    spring.datasource.password=${PASS}\t\r\n\r\nError message:\r\n\r\n\tIn Exception\r\n\tjava.lang.ClassCastException: com.zaxxer.hikari.HikariDataSource cannot be cast to oracle.jdbc.pool.OracleDataSource","title":"Obtain an OracleDataSource in SpringBoot 2","body":"<p>Is it possible to retrieve a OracleDataSource from the default SpringBoot 2 Hikari connection pool using a NamedParameterJdbcTemplate object?\nUsing Java 8, Oracle 11g (ojdbc6-11.2.0.1.jar) and gradle\nThis is what i've tried.</p>\n\n<pre><code>@Repository\npublic class MyClass{\n\n@Autowired\nNamedParameterJdbcTemplate  jdbcTemplate;\n\npublic void myMethod(){\ntry{\n    //OracleDataSource ods = new OracleDataSource();                                            // This works but is obviously not Spring\n    OracleDataSource ods = (OracleDataSource) jdbcTemplate.getJdbcTemplate().getDataSource();   // This fails\n\n    ods.setURL(url);\n    ods.setUser(user);\n    ods.setPassword(pass);\n\n    ...\n    catch(Exception e){\n            System.out.println(\"In Exception\");\n            e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Application.properties:</p>\n\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@//${ORA_HOST}:${ORA_PORT}/${ORA_SID}\nspring.datasource.username=${USER}\nspring.datasource.password=${PASS}  \n</code></pre>\n\n<p>Error message:</p>\n\n<pre><code>In Exception\njava.lang.ClassCastException: com.zaxxer.hikari.HikariDataSource cannot be cast to oracle.jdbc.pool.OracleDataSource\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650673100,"creation_date":1650673100,"answer_id":71975836,"question_id":71975805,"body_markdown":"You need to call loadLibrary in your Java code to load the .so file.  Until you do that, the library is unavailable.  You also need to make sure the signatures of your Java native functions and the C JNI functions line up properly.  Failure to do either will lead to that error.  Which you didn&#39;t do I can&#39;t tell, as you didn&#39;t post your C or Java side code.","title":"Module .so not loaded in apk, but is built","body":"<p>You need to call loadLibrary in your Java code to load the .so file.  Until you do that, the library is unavailable.  You also need to make sure the signatures of your Java native functions and the C JNI functions line up properly.  Failure to do either will lead to that error.  Which you didn't do I can't tell, as you didn't post your C or Java side code.</p>\n"}],"owner":{"account_id":2216369,"reputation":961,"user_id":1956840,"accept_rate":81,"display_name":"Zock77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650901572,"creation_date":1650672704,"question_id":71975805,"body_markdown":"I have a project that has an app, and a module that is a library. Both have native c++ code compiled with Cmake.\r\n\r\nThe app works fine, with all four of the native .so libraries compiling and showing up in the .apk file, but the module is being compiled (it has a .so file in \\build\\intermediates\\cmake\\debug\\obj), but the .so is not being moved into the .apk with the rest of the libraries. This gives me a java.lang.UnsatisfiedLinkError when I try to run any module code from the app.\r\n\r\nDo any of you have any idea what I need to fix for the build to package the .so file from the module?\r\n\r\napp build.gradle\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n\r\n    apply plugin: &#39;kotlin-android-extensions&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n\r\n    android {\r\n        compileSdk 32\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.example.nyota&quot;\r\n            minSdk 24\r\n            targetSdk 32\r\n            versionCode 2\r\n            versionName &#39;1.0.1&#39;\r\n\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            externalNativeBuild {\r\n                cmake {\r\n                    cppFlags &#39;&#39;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        externalNativeBuild {\r\n            cmake {\r\n                path file(&#39;src/main/cpp/CMakeLists.txt&#39;)\r\n                version &#39;3.10.2&#39;\r\n            }\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation project(path: &#39;:JavaRTP&#39;)\r\n        def nav_version = &quot;2.4.1&quot;\r\n        def acraVersion = &#39;5.8.4&#39;\r\n\r\n        implementation &quot;ch.acra:acra-mail:$acraVersion&quot;\r\n        implementation &quot;ch.acra:acra-toast:$acraVersion&quot;\r\n\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n\r\n        // Java language implementation\r\n        implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n\r\n        // Feature module Support\r\n        implementation &quot;androidx.navigation:navigation-dynamic-features-fragment:$nav_version&quot;\r\n\r\n        // Testing Navigation\r\n        androidTestImplementation &quot;androidx.navigation:navigation-testing:$nav_version&quot;\r\n\r\n        // Jetpack Compose Integration\r\n        implementation &quot;androidx.navigation:navigation-compose:$nav_version&quot;\r\n\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        implementation &quot;androidx.core:core-ktx:+&quot;\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39;\r\n        implementation &quot;android.arch.lifecycle:extensions:1.1.1&quot;\r\n        annotationProcessor &quot;android.arch.lifecycle:compiler:1.1.1&quot;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nmodule library build.gradle:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    plugins {\r\n        id &#39;com.android.library&#39;\r\n    }\r\n\r\n\r\n\r\n    android {\r\n        compileSdk 32\r\n\r\n        defaultConfig {\r\n            minSdk 24\r\n            targetSdk 32\r\n\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            consumerProguardFiles &quot;consumer-rules.pro&quot;\r\n            externalNativeBuild {\r\n                cmake {\r\n                    cppFlags &#39;&#39;\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        externalNativeBuild {\r\n            cmake {\r\n                path file(&#39;src/main/cpp/CMakeLists.txt&#39;)\r\n                version &#39;3.10.2&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy Java class:\r\n\r\n    package com.active.javartp;\r\n    \r\n    public class RTPPacket {\r\n    \r\n        static {\r\n            System.loadLibrary(&quot;javartp&quot;);\r\n        }\r\n    \r\n        public RTPPacket(long handle) {\r\n            nativeHandle = handle;\r\n        }\r\n    \r\n        public RTPPacket(byte[] data, int size) {\r\n            nativeHandle = nativeConstructor(data, size);\r\n        }\r\n    \r\n        private native long nativeConstructor(byte[] data, int size);\r\n    \r\n        private long nativeHandle;\r\n    }\r\n\r\n","title":"Module .so not loaded in apk, but is built","body":"<p>I have a project that has an app, and a module that is a library. Both have native c++ code compiled with Cmake.</p>\n<p>The app works fine, with all four of the native .so libraries compiling and showing up in the .apk file, but the module is being compiled (it has a .so file in \\build\\intermediates\\cmake\\debug\\obj), but the .so is not being moved into the .apk with the rest of the libraries. This gives me a java.lang.UnsatisfiedLinkError when I try to run any module code from the app.</p>\n<p>Do any of you have any idea what I need to fix for the build to package the .so file from the module?</p>\n<p>app build.gradle\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>plugins {\n    id 'com.android.application'\n}\n\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId \"com.example.nyota\"\n        minSdk 24\n        targetSdk 32\n        versionCode 2\n        versionName '1.0.1'\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        externalNativeBuild {\n            cmake {\n                cppFlags ''\n            }\n        }\n    }\n\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    externalNativeBuild {\n        cmake {\n            path file('src/main/cpp/CMakeLists.txt')\n            version '3.10.2'\n        }\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation project(path: ':JavaRTP')\n    def nav_version = \"2.4.1\"\n    def acraVersion = '5.8.4'\n\n    implementation \"ch.acra:acra-mail:$acraVersion\"\n    implementation \"ch.acra:acra-toast:$acraVersion\"\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    // Java language implementation\n    implementation \"androidx.navigation:navigation-fragment:$nav_version\"\n    implementation \"androidx.navigation:navigation-ui:$nav_version\"\n\n    // Feature module Support\n    implementation \"androidx.navigation:navigation-dynamic-features-fragment:$nav_version\"\n\n    // Testing Navigation\n    androidTestImplementation \"androidx.navigation:navigation-testing:$nav_version\"\n\n    // Jetpack Compose Integration\n    implementation \"androidx.navigation:navigation-compose:$nav_version\"\n\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation \"androidx.core:core-ktx:+\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n    implementation \"android.arch.lifecycle:extensions:1.1.1\"\n    annotationProcessor \"android.arch.lifecycle:compiler:1.1.1\"\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>module library build.gradle:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>plugins {\n    id 'com.android.library'\n}\n\n\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        minSdk 24\n        targetSdk 32\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        consumerProguardFiles \"consumer-rules.pro\"\n        externalNativeBuild {\n            cmake {\n                cppFlags ''\n            }\n        }\n\n\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    externalNativeBuild {\n        cmake {\n            path file('src/main/cpp/CMakeLists.txt')\n            version '3.10.2'\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My Java class:</p>\n<pre><code>package com.active.javartp;\n\npublic class RTPPacket {\n\n    static {\n        System.loadLibrary(&quot;javartp&quot;);\n    }\n\n    public RTPPacket(long handle) {\n        nativeHandle = handle;\n    }\n\n    public RTPPacket(byte[] data, int size) {\n        nativeHandle = nativeConstructor(data, size);\n    }\n\n    private native long nativeConstructor(byte[] data, int size);\n\n    private long nativeHandle;\n}\n</code></pre>\n"},{"tags":["java","android","data-binding","kotlin","lombok"],"comments":[{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":1,"creation_date":1509010839,"post_id":46950837,"comment_id":80848815,"body_markdown":"Why do you want to use lombok on kotlin anyway? There&#39;s nothing which enhance the code using lombok while using kotlin","body":"Why do you want to use lombok on kotlin anyway? There&#39;s nothing which enhance the code using lombok while using kotlin"},{"owner":{"account_id":1763647,"reputation":126,"user_id":1610059,"display_name":"Pepa Novotn&#253;"},"score":0,"creation_date":1509014145,"post_id":46950837,"comment_id":80851101,"body_markdown":"It is actually Java/Kotlin module with a lot of classes still written in Java where Lombok is still used. I of course do not plan to use Lombok when whole project is migrated to Kotlin (which i hope will be soon, but scope is huge).","body":"It is actually Java/Kotlin module with a lot of classes still written in Java where Lombok is still used. I of course do not plan to use Lombok when whole project is migrated to Kotlin (which i hope will be soon, but scope is huge)."},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1509014184,"post_id":46950837,"comment_id":80851132,"body_markdown":"A &quot;big&quot; project can&#39;t be big if there&#39;s no time to convert bad patterns/code into good one :)","body":"A &quot;big&quot; project can&#39;t be big if there&#39;s no time to convert bad patterns/code into good one :)"},{"owner":{"account_id":1763647,"reputation":126,"user_id":1610059,"display_name":"Pepa Novotn&#253;"},"score":0,"creation_date":1509014439,"post_id":46950837,"comment_id":80851294,"body_markdown":"All new code is written in kotlin and old code is being migrated on demand as we can&#39;t afford to migrate whole project at once (tons of conflicts, maybe some misbehavior). It is better to convert it step by step. Also it is not solely up to me to do such a huge change, there is also rest of the team :)\n\nIf it were one of possibilities, i would not even ask such question in the first place :)","body":"All new code is written in kotlin and old code is being migrated on demand as we can&#39;t afford to migrate whole project at once (tons of conflicts, maybe some misbehavior). It is better to convert it step by step. Also it is not solely up to me to do such a huge change, there is also rest of the team :)  If it were one of possibilities, i would not even ask such question in the first place :)"},{"owner":{"account_id":2315338,"reputation":8067,"user_id":2032539,"accept_rate":7,"display_name":"Emanuel"},"score":0,"creation_date":1509014568,"post_id":46950837,"comment_id":80851391,"body_markdown":"Lombok is usually used to reduce the boilerplate, that means for models.  Using other annotatons can be &quot;faked&quot; if you create them self and use them as proxy for an extension method (like @Log). Models can easy be converted to data classes. Parcels shouldnt be used anyway. But yes, i know what you mean. Anyway, it&#39;s better to do that now, then doing that step by step. Had the same sh** in a very large project before :)","body":"Lombok is usually used to reduce the boilerplate, that means for models.  Using other annotatons can be &quot;faked&quot; if you create them self and use them as proxy for an extension method (like @Log). Models can easy be converted to data classes. Parcels shouldnt be used anyway. But yes, i know what you mean. Anyway, it&#39;s better to do that now, then doing that step by step. Had the same sh** in a very large project before :)"},{"owner":{"account_id":1763647,"reputation":126,"user_id":1610059,"display_name":"Pepa Novotn&#253;"},"score":0,"creation_date":1509014824,"post_id":46950837,"comment_id":80851547,"body_markdown":"There are, for example, also various view holders nested in java classes which are also utilizing lombok or other nested wrapper classes which would require me to also convert parent class or extract them into new class which i do not want. I deffinitely hope that this conversion will happen fast. There are already few modules which are 100% converted and it works perfectly.\nUntil then, I would like to resolve this issue somehow.","body":"There are, for example, also various view holders nested in java classes which are also utilizing lombok or other nested wrapper classes which would require me to also convert parent class or extract them into new class which i do not want. I deffinitely hope that this conversion will happen fast. There are already few modules which are 100% converted and it works perfectly. Until then, I would like to resolve this issue somehow."},{"owner":{"account_id":4177453,"reputation":1101,"user_id":3423539,"display_name":"yanex"},"score":2,"creation_date":1510547838,"post_id":46950837,"comment_id":81465130,"body_markdown":"Unfortunately, Kotlin is incompatible with Lombok because it uses the private javac API do to its job. Although kapt3 is built on top of the Java compiler, kapt generates Java stubs for Kotlin classes so what can Lombok process is the stubs, not the original classes.\n\nBy the way, the original kapt is deprecated and will be removed soon after the Kotlin 1.2 release. So you have some time to migrate to Kotlin &amp; kapt3.","body":"Unfortunately, Kotlin is incompatible with Lombok because it uses the private javac API do to its job. Although kapt3 is built on top of the Java compiler, kapt generates Java stubs for Kotlin classes so what can Lombok process is the stubs, not the original classes.  By the way, the original kapt is deprecated and will be removed soon after the Kotlin 1.2 release. So you have some time to migrate to Kotlin &amp; kapt3."},{"owner":{"account_id":1763647,"reputation":126,"user_id":1610059,"display_name":"Pepa Novotn&#253;"},"score":0,"creation_date":1510561728,"post_id":46950837,"comment_id":81470500,"body_markdown":"@yanex Thanks for explanation! Can you please convert this comment to answer so i can accept it and not steal the credit? :)","body":"@yanex Thanks for explanation! Can you please convert this comment to answer so i can accept it and not steal the credit? :)"}],"answers":[{"tags":[],"owner":{"account_id":1763647,"reputation":126,"user_id":1610059,"display_name":"Pepa Novotn&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1514972232,"creation_date":1514972232,"answer_id":48074721,"question_id":46950837,"body_markdown":"As was explained by @yanex in comments:\r\n\r\n&gt; \t\r\nUnfortunately, Kotlin is incompatible with Lombok because it uses the private javac API do to its job. Although kapt3 is built on top of the Java compiler, kapt generates Java stubs for Kotlin classes so what can Lombok process is the stubs, not the original classes. By the way, the original kapt is deprecated and will be removed soon after the Kotlin 1.2 release. So you have some time to migrate to Kotlin &amp; kapt3. ","title":"How to use lombok with Kapt3","body":"<p>As was explained by @yanex in comments:</p>\n\n<blockquote>\n  <p>Unfortunately, Kotlin is incompatible with Lombok because it uses the private javac API do to its job. Although kapt3 is built on top of the Java compiler, kapt generates Java stubs for Kotlin classes so what can Lombok process is the stubs, not the original classes. By the way, the original kapt is deprecated and will be removed soon after the Kotlin 1.2 release. So you have some time to migrate to Kotlin &amp; kapt3. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8829631,"reputation":367,"user_id":6741772,"display_name":"korri123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650901181,"creation_date":1650901181,"answer_id":72002154,"question_id":46950837,"body_markdown":"In your `build.gradle`, add this:\r\n\r\n```kotlin\r\nkapt {\r\n    keepJavacAnnotationProcessors = true\r\n}\r\n```\r\n\r\nFor more info check the [JetBrains Kotlin documentation][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/lombok.html#using-with-kapt","title":"How to use lombok with Kapt3","body":"<p>In your <code>build.gradle</code>, add this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kapt {\n    keepJavacAnnotationProcessors = true\n}\n</code></pre>\n<p>For more info check the <a href=\"https://kotlinlang.org/docs/lombok.html#using-with-kapt\" rel=\"nofollow noreferrer\">JetBrains Kotlin documentation</a></p>\n"}],"owner":{"account_id":1763647,"reputation":126,"user_id":1610059,"display_name":"Pepa Novotn&#253;"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48074721,"answer_count":2,"score":3,"last_activity_date":1650901181,"creation_date":1509010647,"question_id":46950837,"body_markdown":"When I try to run Java/Kotlin android application with Lombok while using Kapt3:\r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n\r\n\r\njavac compilation fails with numerous\r\n\r\n    error: cannot find symbol\r\nfor generated methods.\r\n\r\nIt is probably caused by inability of kapt to generate stubs:\r\n\r\n      &#39;kapt.generateStubs&#39; is not used by the &#39;kotlin-kapt&#39; plugin\r\n\r\n\r\nAll aforementioned forces me to use older kapt where I can use:\r\n\r\n    compileOnly &quot;org.projectlombok:lombok:$lombokVer&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok:$lombokVer&quot;\r\n    kapt &quot;org.projectlombok:lombok:$lombokVer&quot;\r\n\r\n    kapt {\r\n        generateStubs = true\r\n    }\r\n\r\nThis however results in fail during test compilation, because I am also using databinding library:\r\n\r\n&gt;  What went wrong:\r\nExecution failed for task &#39;:app:compileXDebugUnitTestJavaWithJavac&#39;.\r\n&gt; java.lang.RuntimeException: Failed to parse data binding compiler options. Params:\r\n  kapt.annotations : ...\\app\\build\\tmp\\kapt\\xDebugUnitTest\\wrappers\\annotations.bscplayDebugUnitTest.txt\r\n  kapt.kotlin.generated : ...\\app\\build\\tmp\\kapt\\xDebugUnitTest\\kotlinGenerated\r\n\r\nThis, on the other hand, forces me to use Kapt3 as described here:\r\n[android databinding unit test error Failed to parse data binding compiler options.][1]\r\n\r\n\r\n**Does anyone know how to resolve this issue with Lombok?** All I was a hint to use my first solution, but it leads to the databinding problem (as per [Kotlin Support &#183; Issue #1169 &#183; rzwitserloot/lombok &#183; GitHub][2])\r\n\r\nNote: Situation is same in Android studio 2.3.3 and in Android Studio 3 (with gradle build tools 3.0.0).\r\n\r\n  [1]: https://stackoverflow.com/questions/42692556/android-databinding-unit-test-error-failed-to-parse-data-binding-compiler-option\r\n  [2]: https://github.com/rzwitserloot/lombok/issues/1169","title":"How to use lombok with Kapt3","body":"<p>When I try to run Java/Kotlin android application with Lombok while using Kapt3:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>javac compilation fails with numerous</p>\n\n<pre><code>error: cannot find symbol\n</code></pre>\n\n<p>for generated methods.</p>\n\n<p>It is probably caused by inability of kapt to generate stubs:</p>\n\n<pre><code>  'kapt.generateStubs' is not used by the 'kotlin-kapt' plugin\n</code></pre>\n\n<p>All aforementioned forces me to use older kapt where I can use:</p>\n\n<pre><code>compileOnly \"org.projectlombok:lombok:$lombokVer\"\nannotationProcessor \"org.projectlombok:lombok:$lombokVer\"\nkapt \"org.projectlombok:lombok:$lombokVer\"\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>This however results in fail during test compilation, because I am also using databinding library:</p>\n\n<blockquote>\n  <p>What went wrong:\n  Execution failed for task ':app:compileXDebugUnitTestJavaWithJavac'.\n  java.lang.RuntimeException: Failed to parse data binding compiler options. Params:\n    kapt.annotations : ...\\app\\build\\tmp\\kapt\\xDebugUnitTest\\wrappers\\annotations.bscplayDebugUnitTest.txt\n    kapt.kotlin.generated : ...\\app\\build\\tmp\\kapt\\xDebugUnitTest\\kotlinGenerated</p>\n</blockquote>\n\n<p>This, on the other hand, forces me to use Kapt3 as described here:\n<a href=\"https://stackoverflow.com/questions/42692556/android-databinding-unit-test-error-failed-to-parse-data-binding-compiler-option\">android databinding unit test error Failed to parse data binding compiler options.</a></p>\n\n<p><strong>Does anyone know how to resolve this issue with Lombok?</strong> All I was a hint to use my first solution, but it leads to the databinding problem (as per <a href=\"https://github.com/rzwitserloot/lombok/issues/1169\" rel=\"nofollow noreferrer\">Kotlin Support · Issue #1169 · rzwitserloot/lombok · GitHub</a>)</p>\n\n<p>Note: Situation is same in Android studio 2.3.3 and in Android Studio 3 (with gradle build tools 3.0.0).</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","nullpointerexception"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1650895554,"post_id":72000706,"comment_id":127224988,"body_markdown":"Please add the related XML layout file.","body":"Please add the related XML layout file."},{"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"score":1,"creation_date":1650897491,"post_id":72000706,"comment_id":127225718,"body_markdown":"@SujalKumar I have edited the post with the respective layouts.","body":"@SujalKumar I have edited the post with the respective layouts."},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1650898197,"post_id":72000706,"comment_id":127226009,"body_markdown":"Which List is being used in the adapter class to keep the contacts? I think if you update the contents of that object in the first scenario, it should work. Updating the database alone won&#39;t a direct effect. Please share the Adapter class code.","body":"Which List is being used in the adapter class to keep the contacts? I think if you update the contents of that object in the first scenario, it should work. Updating the database alone won&#39;t a direct effect. Please share the Adapter class code."},{"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"score":1,"creation_date":1650898867,"post_id":72000706,"comment_id":127226336,"body_markdown":"@SujalKumar I currently have three arraylists for the id, name and number of the contacts. I also updated the post with the customadapter class. Apologies if I misunderstood your quesetion.","body":"@SujalKumar I currently have three arraylists for the id, name and number of the contacts. I also updated the post with the customadapter class. Apologies if I misunderstood your quesetion."},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1650899177,"post_id":72000706,"comment_id":127226484,"body_markdown":"Got it and no worries. I am writing an answer but it might not be perfect as I am not sure how those lists are inter-related or so.","body":"Got it and no worries. I am writing an answer but it might not be perfect as I am not sure how those lists are inter-related or so."}],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650899704,"creation_date":1650899704,"answer_id":72001831,"question_id":72000706,"body_markdown":"I am not really sure but updating the **ArrayList(s)** should do it.\r\n\r\n     mDelete.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                         //int id= Integer.parseInt(Contact_id.getText.toString());\r\n                         int contactId = Integer.parseInt(Contact_id_txt.getText().toString());\r\n                         Toast.makeText(context, &quot;int id =&quot;+contactId+&quot;Contact id =&quot;+Contact_id, Toast.LENGTH_SHORT).show();\r\n                         DatabaseHelper databaseHelper = new DatabaseHelper(context);\r\n                         boolean success = databaseHelper.deleteOne(contactId);\r\n                         Contact_id.remove(Integer.valueOf(contactId));\r\n                         Toast.makeText(context, &quot;Contact Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                         notifyDataSetChanged();\r\n                    }\r\n\r\n*Contact_Name* and *Contact_number* might need to be updated too I think but it will depend on how the *MainActivity* code will deal with it.\r\n","title":"cardview button onclicklistener in mainactivity to delete a specific contact giving null pointer exception","body":"<p>I am not really sure but updating the <strong>ArrayList(s)</strong> should do it.</p>\n<pre><code> mDelete.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                     //int id= Integer.parseInt(Contact_id.getText.toString());\n                     int contactId = Integer.parseInt(Contact_id_txt.getText().toString());\n                     Toast.makeText(context, &quot;int id =&quot;+contactId+&quot;Contact id =&quot;+Contact_id, Toast.LENGTH_SHORT).show();\n                     DatabaseHelper databaseHelper = new DatabaseHelper(context);\n                     boolean success = databaseHelper.deleteOne(contactId);\n                     Contact_id.remove(Integer.valueOf(contactId));\n                     Toast.makeText(context, &quot;Contact Deleted&quot;, Toast.LENGTH_SHORT).show();\n                     notifyDataSetChanged();\n                }\n</code></pre>\n<p><em>Contact_Name</em> and <em>Contact_number</em> might need to be updated too I think but it will depend on how the <em>MainActivity</em> code will deal with it.</p>\n"}],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72001831,"answer_count":1,"score":0,"last_activity_date":1650900919,"creation_date":1650894842,"question_id":72000706,"body_markdown":"While I am capable of deleteing a selected contact from sqlite database I can&#39;t seem to properly update the recyclerview when I do it. I tried using the `notifyDataSetChanged()` command in the `custom adapter` but it does not give any results.\r\nThis is the `customAdapter`.\r\n\r\n\r\n\r\n        public class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\r\n            private Context context;\r\n            public ArrayList Contact_id, Contact_Name, Contact_number;\r\n            public ImageView mDelete, mMakeCall, mSendText;\r\n            public String Latitude=&quot;0&quot;,Longitude=&quot;0&quot;;\r\n            DatabaseHelper myDB;\r\n            public interface OnItemClickListener {\r\n                void onDeleteClick(int position);\r\n            }\r\n\r\n\r\n            CustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, ArrayList Contact_number,String mLatitude,String mLongitude) {\r\n                this.context = context;\r\n                this.Contact_id = Contact_id;\r\n                this.Contact_Name = Contact_Name;\r\n                this.Contact_number = Contact_number;\r\n                this.Latitude= mLatitude;\r\n                this.Longitude=mLongitude;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n                LayoutInflater inflater = LayoutInflater.from(context);\r\n                View view = inflater.inflate(R.layout.cardview_contact_item, parent, false);\r\n                return new MyViewHolder(view);\r\n            }\r\n\r\n            @Override\r\n            public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n                holder.Contact_id_txt.setText(String.valueOf(Contact_id.get(position)));\r\n                holder.Contact_Name_txt.setText(String.valueOf(Contact_Name.get(position)));\r\n                holder.Contact_Number_txt.setText(String.valueOf(Contact_number.get(position)));\r\n            }\r\n\r\n            @Override\r\n            public int getItemCount() {\r\n                return Contact_id.size();\r\n            }\r\n\r\n            public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n                TextView Contact_id_txt, Contact_Name_txt, Contact_Number_txt;\r\n\r\n                public MyViewHolder(@NonNull View itemView) {\r\n                    super(itemView);\r\n                    mDelete = itemView.findViewById(R.id.Cardview_delete);\r\n                    mMakeCall = itemView.findViewById(R.id.Cardview_MakeCall);\r\n                    mSendText = itemView.findViewById(R.id.Cardview_MakeText);\r\n                    Contact_Name_txt = itemView.findViewById(R.id.CardView_Name);\r\n                    Contact_Number_txt = itemView.findViewById(R.id.CardView_Number);\r\n                    Contact_id_txt = itemView.findViewById(R.id.cardview_Contact_Id);\r\n                    SharedPreferences mPreference = PreferenceManager.getDefaultSharedPreferences(context);\r\n                    SharedPreferences.Editor editor = mPreference.edit();\r\n\r\n\r\n                    mDelete.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                         //int id= Integer.parseInt(Contact_id.getText.toString());\r\n                         int contactId = Integer.parseInt(Contact_id_txt.getText().toString());\r\n                         Toast.makeText(context, &quot;int id =&quot;+contactId+&quot;Contact id =&quot;+Contact_id, Toast.LENGTH_SHORT).show();\r\n                         DatabaseHelper databaseHelper = new DatabaseHelper(context);\r\n                         boolean success = databaseHelper.deleteOne(contactId);\r\n                         Toast.makeText(context, &quot;Contact Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                         notifyDataSetChanged();\r\n                        }\r\n\r\n                    });\r\n                    mMakeCall.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            Toast.makeText(context, &quot;Calling Contact&quot;, Toast.LENGTH_SHORT).show();\r\n                            Intent callIntent = new Intent(Intent.ACTION_CALL);\r\n                            String phonenumber = Contact_Number_txt.getText().toString();\r\n                            callIntent.setData(Uri.parse(&quot;tel:&quot; + phonenumber));\r\n                            try {\r\n                                context.startActivity(callIntent);\r\n                            } catch (Exception ex) {\r\n                                Toast.makeText(context, &quot;Call Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                                ex.printStackTrace();\r\n                        }\r\n                        }\r\n\r\n                    });\r\n                    mSendText.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            //\r\n                            Intent smsIntent = new Intent(Intent.ACTION_SENDTO);\r\n                            String phonenumber = Contact_Number_txt.getText().toString();\r\n                            try {\r\n                                SmsManager mySmsManager = SmsManager.getDefault();\r\n                                mySmsManager.sendTextMessage(phonenumber, null, &quot;I NEED HELP AT LATITUDE:&quot; + Latitude + &quot;LONGITUDE&quot; + Longitude+&quot; https://www.google.com/maps/search/?api=1&amp;query=&quot;+Latitude+&quot;,&quot;+Longitude, null, null);\r\n                                Toast.makeText(context, &quot;Alert Message Sent&quot;, Toast.LENGTH_SHORT).show();\r\n                                Toast.makeText(context, &quot;LATITUDE:&quot; + Latitude, Toast.LENGTH_SHORT).show();\r\n                                Toast.makeText(context, &quot;LONGITUDE:&quot; + Longitude, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            catch (Exception e)\r\n                            {\r\n                                Toast.makeText(context, &quot;Something went wrong/Fields are Empty&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            //Toast.makeText(context,&quot;The number is &quot;+phonenumber, Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    });\r\n\r\n\r\n                }//End of OnCreate\r\n\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n                }\r\n            }\r\n            //public void removeItem(int position){}\r\n\r\n        }\r\n\r\nIt works fine but only updates after I exit and enter the `mainActivity` one time. \r\nI tried implementing the `notifyDataSetChanged()` method in the mainactivity itself however I get a `nullpointerexception` when I do it.\r\n\r\n            ImageView mDelete;\r\n        mDelete = findViewById(R.id.Cardview_delete);\r\n        mDelete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //int id= Integer.parseInt(Contact_id.getText.toString());\r\n                customAdapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n\r\nThis is the error code\r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.rakshakmk1/com.example.rakshakmk1.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at com.example.rakshakmk1.MainActivity.onCreate(MainActivity.java:150)\r\n        at android.app.Activity.performCreate(Activity.java:7802)\r\n        at android.app.Activity.performCreate(Activity.java:7791)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n\r\nXML Layout : RecyclerView/Cardview\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_margin=&quot;5dp&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;102dp&quot;\r\n        &gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/Cardview_bg&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:srcCompat=&quot;@drawable/dialog_rounded_bg&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;0dp&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/Cardview_MakeText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n            app:srcCompat=&quot;@drawable/ic_location_icon_final&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/Cardview_delete&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.981&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.05&quot;\r\n            app:srcCompat=&quot;@drawable/ic_delete_circle_icon_final&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/CardView_Name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Emergency Contact&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.101&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.259&quot;\r\n            android:paddingRight=&quot;50sp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/CardView_Number&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Number&quot;\r\n            android:textColor=&quot;#858585&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.079&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.794&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/Cardview_MakeCall&quot;\r\n            android:layout_width=&quot;37dp&quot;\r\n            android:layout_height=&quot;36dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/Cardview_MakeText&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/Cardview_MakeText&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.974&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/Cardview_MakeText&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.444&quot;\r\n            app:srcCompat=&quot;@drawable/ic_call_icon_final&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/cardview_Contact_Id&quot;\r\n            android:layout_width=&quot;23dp&quot;\r\n            android:layout_height=&quot;15dp&quot;\r\n            android:text=&quot;TextView&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/CardView_Name&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/Cardview_delete&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.469&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n     &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n  \r\nXML Layout : MainActivity \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n       &lt;androidx.constraintlayout.widget.ConstraintLayout        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/gradient_background&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/activity_rounded_bg&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/RecyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:clipToPadding=&quot;true&quot;\r\n            android:paddingHorizontal=&quot;0dp&quot;\r\n            android:paddingTop=&quot;10dp&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;67dp&quot;\r\n            tools:listitem=&quot;@layout/cardview_contact_item&quot;&gt;\r\n\r\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/btnAddContact&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#00FFFFFF&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n        app:srcCompat=&quot;@drawable/ic_add_icon&quot; /&gt;\r\n       &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nThis is the `MainActivity` where the arraylist were created.\r\n\r\n            public class MainActivity extends AppCompatActivity {\r\n            private static final String TAG = &quot;MainActivity&quot;;\r\n            //widgets\r\n            public ImageButton eAddContact;\r\n            RecyclerView recyclerView;\r\n        \r\n            DatabaseHelper myDB;\r\n            ArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\r\n            CustomAdapter customAdapter;\r\n            Button btnEnterContact;\r\n        \r\n            private FusedLocationProviderClient fusedLocationProviderClient;\r\n            //Google&#39;s api for location services.\r\n        \r\n            //private final int REQUEST_CHECK_CODE=8989;\r\n            private LocationSettingsRequest.Builder builder;\r\n            private String mLatitude,mLongitude;\r\n            private static final int REQUEST_SMS = 0;\r\n            private static final int REQUEST_LOCATION = 1;\r\n            private static final int REQUEST_CALL =2;\r\n            Intent mIntent;\r\n            LocationManager locationManager;\r\n        \r\n            LocationRequest locationRequest;\r\n            LocationCallback locationCallback;\r\n        \r\n        \r\n        \r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n        \r\n        \r\n                //permissions\r\n        \r\n                if(ContextCompat.checkSelfPermission(this,Manifest.permission.SEND_SMS)!=PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    //if permission is not granted then check if user has denied\r\n                    if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.SEND_SMS)){\r\n        \r\n                    }else\r\n                    {\r\n                        //popup for asking permission\r\n                        ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.SEND_SMS},REQUEST_SMS);\r\n                    }\r\n                }\r\n                if(ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    //if permission is not granted then check if user has denied\r\n                    if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.ACCESS_FINE_LOCATION)){\r\n        \r\n                    }else\r\n                    {\r\n                        //popup for asking permission\r\n                        ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.ACCESS_FINE_LOCATION},REQUEST_LOCATION);\r\n                    }\r\n                }\r\n                if(ContextCompat.checkSelfPermission(this,Manifest.permission.CALL_PHONE)!=PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    //if permission is not granted then check if user has denied\r\n                    if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.CALL_PHONE)){\r\n        \r\n                    }else\r\n                    {\r\n                        //popup for asking permission\r\n                        ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.CALL_PHONE},REQUEST_CALL);\r\n                    }\r\n                }\r\n        \r\n                eAddContact = findViewById(R.id.btnAddContact);\r\n                eAddContact.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        Log.d(TAG, &quot;onClick:opening dialog&quot;);\r\n                        Dialog_AddContact dialog = new Dialog_AddContact();\r\n                        dialog.show(getSupportFragmentManager(), &quot;Add Contact Dialog&quot;);\r\n                    }\r\n                });\r\n                //Toast.makeText(getApplicationContext(),&quot;@#&quot;,Toast.LENGTH_SHORT).show();\r\n                myDB = new DatabaseHelper(MainActivity.this);\r\n                Contact_id = new ArrayList&lt;&gt;();\r\n                Contact_Name = new ArrayList&lt;&gt;();\r\n                Contact_Number = new ArrayList&lt;&gt;();\r\n                recyclerView = findViewById(R.id.RecyclerView);\r\n                Cursor cursor= myDB.getEveryone();\r\n                customAdapter = new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude);\r\n        \r\n                //set all the properties of LocationRequest\r\n                locationRequest = new LocationRequest();\r\n                //how often does location check occur\r\n                locationRequest.setInterval(1000*30);\r\n                locationRequest.setFastestInterval(1000*50);\r\n                locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n                //Display cardview data\r\n                recyclerView.setAdapter(customAdapter);\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\r\n                customAdapter.notifyDataSetChanged();\r\n                //update gps data\r\n                updateGPS();\r\n                storeDataInArrays();\r\n                /*\r\n                ImageView mDelete;\r\n                mDelete = findViewById(R.id.Cardview_delete);\r\n                mDelete.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        //int id= Integer.parseInt(Contact_id.getText.toString());\r\n                        customAdapter.notifyDataSetChanged();\r\n                    }\r\n                });\r\n                 */\r\n            }\r\n        \r\n            @Override\r\n            public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n                //will check requestCode\r\n                switch(requestCode)\r\n                {\r\n                    case REQUEST_SMS:\r\n                    {\r\n                        //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\r\n                        if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\r\n                        {\r\n                            Toast.makeText(this,&quot;SMS Permission Granted&quot;,Toast.LENGTH_LONG).show();\r\n                        }\r\n                        else\r\n                        {\r\n                            Toast.makeText(this,&quot;SMS Permission Denied&quot;,Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                    case REQUEST_LOCATION:\r\n                    {\r\n                        //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\r\n                        if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\r\n                        {\r\n                            Toast.makeText(this,&quot;Location Permission Granted&quot;,Toast.LENGTH_LONG).show();\r\n                            updateGPS();\r\n                        }\r\n                        else\r\n                        {\r\n                            Toast.makeText(this,&quot;Location Permission Denied&quot;,Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                    case REQUEST_CALL:\r\n                    {\r\n                        //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\r\n                        if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\r\n                        {\r\n                            Toast.makeText(this,&quot;Call Permission Granted&quot;,Toast.LENGTH_LONG).show();\r\n                            updateGPS();\r\n                        }\r\n                        else\r\n                        {\r\n                            Toast.makeText(this,&quot;Call Permission Denied&quot;,Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                }//switch\r\n            }\r\n        \r\n            private void updateGPS(){\r\n                //get permissions from the user to track GPS\r\n                //get current location\r\n                //update string\r\n                fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n                if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)== PackageManager.PERMISSION_GRANTED){\r\n                    //user gave the permissions\r\n                    fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Location location) {\r\n                            //we got permissions. put the values of location.\r\n                            updateLocation(location);\r\n                        }\r\n                    });\r\n                }\r\n                else{\r\n                    if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\r\n                        requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION},REQUEST_LOCATION);\r\n                    }\r\n                }\r\n        \r\n            }\r\n        \r\n            private void updateLocation(Location location) {\r\n                //update the location of the person\r\n                 mLatitude = String.valueOf(location.getLatitude());\r\n                 mLongitude = String.valueOf(location.getLongitude());\r\n                Toast.makeText(this,&quot;Latitude = &quot;+mLatitude,Toast.LENGTH_SHORT).show();\r\n                Toast.makeText(this,&quot;Longitude = &quot;+mLongitude,Toast.LENGTH_SHORT).show();\r\n                Cursor cursor= myDB.getEveryone();\r\n                recyclerView.setAdapter(new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude));\r\n                recyclerView.invalidate();\r\n            }\r\n        \r\n        \r\n        \r\n            void storeDataInArrays() {\r\n                customAdapter.notifyDataSetChanged();\r\n                Contact_id.clear();\r\n                Contact_Name.clear();\r\n                Contact_Number.clear();\r\n                Cursor cursor = myDB.getEveryone();\r\n                if (cursor.getCount() == 0) {\r\n                    //Add blank page\r\n                } else {\r\n                    while (cursor.moveToNext()) {\r\n                        Contact_id.add(cursor.getString(0));\r\n                        Contact_Name.add(cursor.getString(1));\r\n                        Contact_Number.add(cursor.getString(2));\r\n                    }\r\n                }\r\n                recyclerView.setAdapter(new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude));\r\n                customAdapter.notifyDataSetChanged();\r\n            }\r\n            public void removeItem(int position){\r\n                Contact_id.remove(true);\r\n                storeDataInArrays();\r\n                customAdapter.notifyDataSetChanged();\r\n            }\r\n        \r\n            //public void onRequestPermissionResult(int requestCOde,String permissions[],int[] grantResults){}//method\r\n            public void onLocationChanged(Location location) {\r\n        \r\n            }\r\n        \r\n        \r\n            public void onProviderDisabled(String provider) {\r\n                Log.d(&quot;Latitude&quot;,&quot;disable&quot;);\r\n            }\r\n        \r\n        \r\n            public void onProviderEnabled(String provider) {\r\n                Log.d(&quot;Latitude&quot;,&quot;enable&quot;);\r\n            }\r\n        \r\n            public void onStatusChanged(String provider, int status, Bundle extras) {\r\n                Log.d(&quot;Latitude&quot;,&quot;status&quot;);\r\n            }\r\n        }\r\n\r\nWhat do I seem to be doing wrong here ?\r\nWould appreciate any and all help.","title":"cardview button onclicklistener in mainactivity to delete a specific contact giving null pointer exception","body":"<p>While I am capable of deleteing a selected contact from sqlite database I can't seem to properly update the recyclerview when I do it. I tried using the <code>notifyDataSetChanged()</code> command in the <code>custom adapter</code> but it does not give any results.\nThis is the <code>customAdapter</code>.</p>\n<pre><code>    public class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\n        private Context context;\n        public ArrayList Contact_id, Contact_Name, Contact_number;\n        public ImageView mDelete, mMakeCall, mSendText;\n        public String Latitude=&quot;0&quot;,Longitude=&quot;0&quot;;\n        DatabaseHelper myDB;\n        public interface OnItemClickListener {\n            void onDeleteClick(int position);\n        }\n\n\n        CustomAdapter(Context context, ArrayList Contact_id, ArrayList Contact_Name, ArrayList Contact_number,String mLatitude,String mLongitude) {\n            this.context = context;\n            this.Contact_id = Contact_id;\n            this.Contact_Name = Contact_Name;\n            this.Contact_number = Contact_number;\n            this.Latitude= mLatitude;\n            this.Longitude=mLongitude;\n        }\n\n        @NonNull\n        @Override\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n            LayoutInflater inflater = LayoutInflater.from(context);\n            View view = inflater.inflate(R.layout.cardview_contact_item, parent, false);\n            return new MyViewHolder(view);\n        }\n\n        @Override\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n            holder.Contact_id_txt.setText(String.valueOf(Contact_id.get(position)));\n            holder.Contact_Name_txt.setText(String.valueOf(Contact_Name.get(position)));\n            holder.Contact_Number_txt.setText(String.valueOf(Contact_number.get(position)));\n        }\n\n        @Override\n        public int getItemCount() {\n            return Contact_id.size();\n        }\n\n        public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n            TextView Contact_id_txt, Contact_Name_txt, Contact_Number_txt;\n\n            public MyViewHolder(@NonNull View itemView) {\n                super(itemView);\n                mDelete = itemView.findViewById(R.id.Cardview_delete);\n                mMakeCall = itemView.findViewById(R.id.Cardview_MakeCall);\n                mSendText = itemView.findViewById(R.id.Cardview_MakeText);\n                Contact_Name_txt = itemView.findViewById(R.id.CardView_Name);\n                Contact_Number_txt = itemView.findViewById(R.id.CardView_Number);\n                Contact_id_txt = itemView.findViewById(R.id.cardview_Contact_Id);\n                SharedPreferences mPreference = PreferenceManager.getDefaultSharedPreferences(context);\n                SharedPreferences.Editor editor = mPreference.edit();\n\n\n                mDelete.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                     //int id= Integer.parseInt(Contact_id.getText.toString());\n                     int contactId = Integer.parseInt(Contact_id_txt.getText().toString());\n                     Toast.makeText(context, &quot;int id =&quot;+contactId+&quot;Contact id =&quot;+Contact_id, Toast.LENGTH_SHORT).show();\n                     DatabaseHelper databaseHelper = new DatabaseHelper(context);\n                     boolean success = databaseHelper.deleteOne(contactId);\n                     Toast.makeText(context, &quot;Contact Deleted&quot;, Toast.LENGTH_SHORT).show();\n                     notifyDataSetChanged();\n                    }\n\n                });\n                mMakeCall.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        Toast.makeText(context, &quot;Calling Contact&quot;, Toast.LENGTH_SHORT).show();\n                        Intent callIntent = new Intent(Intent.ACTION_CALL);\n                        String phonenumber = Contact_Number_txt.getText().toString();\n                        callIntent.setData(Uri.parse(&quot;tel:&quot; + phonenumber));\n                        try {\n                            context.startActivity(callIntent);\n                        } catch (Exception ex) {\n                            Toast.makeText(context, &quot;Call Failed&quot;, Toast.LENGTH_SHORT).show();\n                            ex.printStackTrace();\n                    }\n                    }\n\n                });\n                mSendText.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        //\n                        Intent smsIntent = new Intent(Intent.ACTION_SENDTO);\n                        String phonenumber = Contact_Number_txt.getText().toString();\n                        try {\n                            SmsManager mySmsManager = SmsManager.getDefault();\n                            mySmsManager.sendTextMessage(phonenumber, null, &quot;I NEED HELP AT LATITUDE:&quot; + Latitude + &quot;LONGITUDE&quot; + Longitude+&quot; https://www.google.com/maps/search/?api=1&amp;query=&quot;+Latitude+&quot;,&quot;+Longitude, null, null);\n                            Toast.makeText(context, &quot;Alert Message Sent&quot;, Toast.LENGTH_SHORT).show();\n                            Toast.makeText(context, &quot;LATITUDE:&quot; + Latitude, Toast.LENGTH_SHORT).show();\n                            Toast.makeText(context, &quot;LONGITUDE:&quot; + Longitude, Toast.LENGTH_SHORT).show();\n                        }\n                        catch (Exception e)\n                        {\n                            Toast.makeText(context, &quot;Something went wrong/Fields are Empty&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                        //Toast.makeText(context,&quot;The number is &quot;+phonenumber, Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n\n\n            }//End of OnCreate\n\n            @Override\n            public void onClick(View view) {\n\n            }\n        }\n        //public void removeItem(int position){}\n\n    }\n</code></pre>\n<p>It works fine but only updates after I exit and enter the <code>mainActivity</code> one time.\nI tried implementing the <code>notifyDataSetChanged()</code> method in the mainactivity itself however I get a <code>nullpointerexception</code> when I do it.</p>\n<pre><code>        ImageView mDelete;\n    mDelete = findViewById(R.id.Cardview_delete);\n    mDelete.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            //int id= Integer.parseInt(Contact_id.getText.toString());\n            customAdapter.notifyDataSetChanged();\n        }\n    });\n</code></pre>\n<p>This is the error code</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.rakshakmk1/com.example.rakshakmk1.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ImageView.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n    at android.os.Handler.dispatchMessage(Handler.java:107)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ImageView.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n    at com.example.rakshakmk1.MainActivity.onCreate(MainActivity.java:150)\n    at android.app.Activity.performCreate(Activity.java:7802)\n    at android.app.Activity.performCreate(Activity.java:7791)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n    at android.os.Handler.dispatchMessage(Handler.java:107) \n    at android.os.Looper.loop(Looper.java:214) \n    at android.app.ActivityThread.main(ActivityThread.java:7356) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n</code></pre>\n<p>XML Layout : RecyclerView/Cardview</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_margin=&quot;5dp&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;102dp&quot;\n    &gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/Cardview_bg&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:srcCompat=&quot;@drawable/dialog_rounded_bg&quot;\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\n        tools:layout_editor_absoluteY=&quot;0dp&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/Cardview_MakeText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\n        app:srcCompat=&quot;@drawable/ic_location_icon_final&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/Cardview_delete&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.981&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.05&quot;\n        app:srcCompat=&quot;@drawable/ic_delete_circle_icon_final&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/CardView_Name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Emergency Contact&quot;\n        android:textColor=&quot;#000000&quot;\n        android:textSize=&quot;30sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.101&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.259&quot;\n        android:paddingRight=&quot;50sp&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/CardView_Number&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Number&quot;\n        android:textColor=&quot;#858585&quot;\n        android:textSize=&quot;18sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.079&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.794&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/Cardview_MakeCall&quot;\n        android:layout_width=&quot;37dp&quot;\n        android:layout_height=&quot;36dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/Cardview_MakeText&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/Cardview_MakeText&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.974&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/Cardview_MakeText&quot;\n        app:layout_constraintVertical_bias=&quot;0.444&quot;\n        app:srcCompat=&quot;@drawable/ic_call_icon_final&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/cardview_Contact_Id&quot;\n        android:layout_width=&quot;23dp&quot;\n        android:layout_height=&quot;15dp&quot;\n        android:text=&quot;TextView&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/CardView_Name&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/Cardview_delete&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.469&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>XML Layout : MainActivity</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n   &lt;androidx.constraintlayout.widget.ConstraintLayout        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@drawable/gradient_background&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n&lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/activity_rounded_bg&quot;\n    android:layout_marginTop=&quot;50dp&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/RecyclerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:clipToPadding=&quot;true&quot;\n        android:paddingHorizontal=&quot;0dp&quot;\n        android:paddingTop=&quot;10dp&quot;\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\n        tools:layout_editor_absoluteY=&quot;67dp&quot;\n        tools:listitem=&quot;@layout/cardview_contact_item&quot;&gt;\n\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;/RelativeLayout&gt;\n&lt;ImageButton\n    android:id=&quot;@+id/btnAddContact&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#00FFFFFF&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;1.0&quot;\n    app:srcCompat=&quot;@drawable/ic_add_icon&quot; /&gt;\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>This is the <code>MainActivity</code> where the arraylist were created.</p>\n<pre><code>        public class MainActivity extends AppCompatActivity {\n        private static final String TAG = &quot;MainActivity&quot;;\n        //widgets\n        public ImageButton eAddContact;\n        RecyclerView recyclerView;\n    \n        DatabaseHelper myDB;\n        ArrayList&lt;String&gt; Contact_id, Contact_Name, Contact_Number;\n        CustomAdapter customAdapter;\n        Button btnEnterContact;\n    \n        private FusedLocationProviderClient fusedLocationProviderClient;\n        //Google's api for location services.\n    \n        //private final int REQUEST_CHECK_CODE=8989;\n        private LocationSettingsRequest.Builder builder;\n        private String mLatitude,mLongitude;\n        private static final int REQUEST_SMS = 0;\n        private static final int REQUEST_LOCATION = 1;\n        private static final int REQUEST_CALL =2;\n        Intent mIntent;\n        LocationManager locationManager;\n    \n        LocationRequest locationRequest;\n        LocationCallback locationCallback;\n    \n    \n    \n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n    \n            //permissions\n    \n            if(ContextCompat.checkSelfPermission(this,Manifest.permission.SEND_SMS)!=PackageManager.PERMISSION_GRANTED)\n            {\n                //if permission is not granted then check if user has denied\n                if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.SEND_SMS)){\n    \n                }else\n                {\n                    //popup for asking permission\n                    ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.SEND_SMS},REQUEST_SMS);\n                }\n            }\n            if(ContextCompat.checkSelfPermission(this,Manifest.permission.ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED)\n            {\n                //if permission is not granted then check if user has denied\n                if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.ACCESS_FINE_LOCATION)){\n    \n                }else\n                {\n                    //popup for asking permission\n                    ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.ACCESS_FINE_LOCATION},REQUEST_LOCATION);\n                }\n            }\n            if(ContextCompat.checkSelfPermission(this,Manifest.permission.CALL_PHONE)!=PackageManager.PERMISSION_GRANTED)\n            {\n                //if permission is not granted then check if user has denied\n                if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.CALL_PHONE)){\n    \n                }else\n                {\n                    //popup for asking permission\n                    ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.CALL_PHONE},REQUEST_CALL);\n                }\n            }\n    \n            eAddContact = findViewById(R.id.btnAddContact);\n            eAddContact.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    Log.d(TAG, &quot;onClick:opening dialog&quot;);\n                    Dialog_AddContact dialog = new Dialog_AddContact();\n                    dialog.show(getSupportFragmentManager(), &quot;Add Contact Dialog&quot;);\n                }\n            });\n            //Toast.makeText(getApplicationContext(),&quot;@#&quot;,Toast.LENGTH_SHORT).show();\n            myDB = new DatabaseHelper(MainActivity.this);\n            Contact_id = new ArrayList&lt;&gt;();\n            Contact_Name = new ArrayList&lt;&gt;();\n            Contact_Number = new ArrayList&lt;&gt;();\n            recyclerView = findViewById(R.id.RecyclerView);\n            Cursor cursor= myDB.getEveryone();\n            customAdapter = new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude);\n    \n            //set all the properties of LocationRequest\n            locationRequest = new LocationRequest();\n            //how often does location check occur\n            locationRequest.setInterval(1000*30);\n            locationRequest.setFastestInterval(1000*50);\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n            locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n            //Display cardview data\n            recyclerView.setAdapter(customAdapter);\n            recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\n            customAdapter.notifyDataSetChanged();\n            //update gps data\n            updateGPS();\n            storeDataInArrays();\n            /*\n            ImageView mDelete;\n            mDelete = findViewById(R.id.Cardview_delete);\n            mDelete.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    //int id= Integer.parseInt(Contact_id.getText.toString());\n                    customAdapter.notifyDataSetChanged();\n                }\n            });\n             */\n        }\n    \n        @Override\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n            //will check requestCode\n            switch(requestCode)\n            {\n                case REQUEST_SMS:\n                {\n                    //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\n                    if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\n                    {\n                        Toast.makeText(this,&quot;SMS Permission Granted&quot;,Toast.LENGTH_LONG).show();\n                    }\n                    else\n                    {\n                        Toast.makeText(this,&quot;SMS Permission Denied&quot;,Toast.LENGTH_LONG).show();\n                    }\n                }\n                case REQUEST_LOCATION:\n                {\n                    //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\n                    if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\n                    {\n                        Toast.makeText(this,&quot;Location Permission Granted&quot;,Toast.LENGTH_LONG).show();\n                        updateGPS();\n                    }\n                    else\n                    {\n                        Toast.makeText(this,&quot;Location Permission Denied&quot;,Toast.LENGTH_LONG).show();\n                    }\n                }\n                case REQUEST_CALL:\n                {\n                    //check if length of grantResults is greater than 0 and equal to PERMISSION_GRANTED\n                    if(grantResults.length&gt;0&amp;&amp;grantResults[0]==PackageManager.PERMISSION_GRANTED)\n                    {\n                        Toast.makeText(this,&quot;Call Permission Granted&quot;,Toast.LENGTH_LONG).show();\n                        updateGPS();\n                    }\n                    else\n                    {\n                        Toast.makeText(this,&quot;Call Permission Denied&quot;,Toast.LENGTH_LONG).show();\n                    }\n                }\n            }//switch\n        }\n    \n        private void updateGPS(){\n            //get permissions from the user to track GPS\n            //get current location\n            //update string\n            fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n            if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)== PackageManager.PERMISSION_GRANTED){\n                //user gave the permissions\n                fusedLocationProviderClient.getLastLocation().addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\n                    @Override\n                    public void onSuccess(Location location) {\n                        //we got permissions. put the values of location.\n                        updateLocation(location);\n                    }\n                });\n            }\n            else{\n                if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\n                    requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION},REQUEST_LOCATION);\n                }\n            }\n    \n        }\n    \n        private void updateLocation(Location location) {\n            //update the location of the person\n             mLatitude = String.valueOf(location.getLatitude());\n             mLongitude = String.valueOf(location.getLongitude());\n            Toast.makeText(this,&quot;Latitude = &quot;+mLatitude,Toast.LENGTH_SHORT).show();\n            Toast.makeText(this,&quot;Longitude = &quot;+mLongitude,Toast.LENGTH_SHORT).show();\n            Cursor cursor= myDB.getEveryone();\n            recyclerView.setAdapter(new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude));\n            recyclerView.invalidate();\n        }\n    \n    \n    \n        void storeDataInArrays() {\n            customAdapter.notifyDataSetChanged();\n            Contact_id.clear();\n            Contact_Name.clear();\n            Contact_Number.clear();\n            Cursor cursor = myDB.getEveryone();\n            if (cursor.getCount() == 0) {\n                //Add blank page\n            } else {\n                while (cursor.moveToNext()) {\n                    Contact_id.add(cursor.getString(0));\n                    Contact_Name.add(cursor.getString(1));\n                    Contact_Number.add(cursor.getString(2));\n                }\n            }\n            recyclerView.setAdapter(new CustomAdapter(MainActivity.this, Contact_id, Contact_Name, Contact_Number,mLatitude,mLongitude));\n            customAdapter.notifyDataSetChanged();\n        }\n        public void removeItem(int position){\n            Contact_id.remove(true);\n            storeDataInArrays();\n            customAdapter.notifyDataSetChanged();\n        }\n    \n        //public void onRequestPermissionResult(int requestCOde,String permissions[],int[] grantResults){}//method\n        public void onLocationChanged(Location location) {\n    \n        }\n    \n    \n        public void onProviderDisabled(String provider) {\n            Log.d(&quot;Latitude&quot;,&quot;disable&quot;);\n        }\n    \n    \n        public void onProviderEnabled(String provider) {\n            Log.d(&quot;Latitude&quot;,&quot;enable&quot;);\n        }\n    \n        public void onStatusChanged(String provider, int status, Bundle extras) {\n            Log.d(&quot;Latitude&quot;,&quot;status&quot;);\n        }\n    }\n</code></pre>\n<p>What do I seem to be doing wrong here ?\nWould appreciate any and all help.</p>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650864544,"creation_date":1650864544,"answer_id":71994825,"question_id":71994738,"body_markdown":"Note that you have 2 arrays in different sizes, so you should take it into consideration and your loop can&#39;t be always on `a` size, since it might be bigger than `b` size and then you try to access elements that aren&#39;t exist.\r\nSomething you can do is to loop over elements which are exist in both arrays, and then complete the rest. Suggestion:\r\n\r\n      public static ArrayList&lt;Integer&gt; sum(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b) {\r\n        ArrayList result = new ArrayList();\r\n        int aSize = a.size();\r\n        int bSize = b.size();\r\n    \r\n        for (int i = 0; i &lt; Math.min(aSize, bSize); i++) { // Loop over elements that exist in both arrays\r\n          result.add(a.get(i) + b.get(i));\r\n        }\r\n    \r\n        if (aSize &gt; bSize) { // Complete missing from a\r\n          for (int i = aSize - bSize + 1; i &lt; aSize; i++) {\r\n            result.add(a.get(i));\r\n          }\r\n        } else if (bSize &gt; aSize) { // Complete missing from b\r\n          for (int i = bSize - aSize + 1; i &lt; bSize; i++) {\r\n            result.add(b.get(i));\r\n          }\r\n        }\r\n        return result;\r\n      }","title":"How do I add two arraylists with an uneven amount of elements","body":"<p>Note that you have 2 arrays in different sizes, so you should take it into consideration and your loop can't be always on <code>a</code> size, since it might be bigger than <code>b</code> size and then you try to access elements that aren't exist.\nSomething you can do is to loop over elements which are exist in both arrays, and then complete the rest. Suggestion:</p>\n<pre><code>  public static ArrayList&lt;Integer&gt; sum(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b) {\n    ArrayList result = new ArrayList();\n    int aSize = a.size();\n    int bSize = b.size();\n\n    for (int i = 0; i &lt; Math.min(aSize, bSize); i++) { // Loop over elements that exist in both arrays\n      result.add(a.get(i) + b.get(i));\n    }\n\n    if (aSize &gt; bSize) { // Complete missing from a\n      for (int i = aSize - bSize + 1; i &lt; aSize; i++) {\n        result.add(a.get(i));\n      }\n    } else if (bSize &gt; aSize) { // Complete missing from b\n      for (int i = bSize - aSize + 1; i &lt; bSize; i++) {\n        result.add(b.get(i));\n      }\n    }\n    return result;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650865957,"creation_date":1650865615,"answer_id":71994946,"question_id":71994738,"body_markdown":"Take two lists add each elements one by one and store there **sum** in **new list** if there is no more element in any of the list take the remaining elements from the **larger list** and **append** at the end of the **new list**.\r\n\r\n    import java.util.*;\r\n    \r\n    public class MainSum{\r\n    \tpublic static void main(String ... $){\r\n    \t\tvar out = System.out;\r\n    \t\tList&lt;Integer&gt; a = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\r\n    \t\tList&lt;Integer&gt; b = new ArrayList&lt;&gt;(List.of(2, 3, 1));\r\n    \r\n    \t\tList&lt;Integer&gt; result = MainSum.sum(a, b);\r\n    \r\n    \t\tout.println(result);\r\n    \t}\r\n    \tpublic static List&lt;Integer&gt; sum(List&lt;Integer&gt; a, List&lt;Integer&gt; b){\r\n    \t\tList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    \t\tfor(int index =0 ;index&lt;a.size() &amp;&amp; index&lt; b.size();index++)\r\n    \t\t\tresult.add(a.get(index) + b.get(index));\r\n    \t\tif( a.size() != b.size())\r\n    \t\t\tresult.addAll(a.size()&gt;b.size()?a.subList(b.size(), a.size()):b.subList(a.size(), b.size()));\r\n    \t       return result;\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n=======\r\n\r\n    [3, 5, 4, 4, 5]","title":"How do I add two arraylists with an uneven amount of elements","body":"<p>Take two lists add each elements one by one and store there <strong>sum</strong> in <strong>new list</strong> if there is no more element in any of the list take the remaining elements from the <strong>larger list</strong> and <strong>append</strong> at the end of the <strong>new list</strong>.</p>\n<pre><code>import java.util.*;\n\npublic class MainSum{\n    public static void main(String ... $){\n        var out = System.out;\n        List&lt;Integer&gt; a = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\n        List&lt;Integer&gt; b = new ArrayList&lt;&gt;(List.of(2, 3, 1));\n\n        List&lt;Integer&gt; result = MainSum.sum(a, b);\n\n        out.println(result);\n    }\n    public static List&lt;Integer&gt; sum(List&lt;Integer&gt; a, List&lt;Integer&gt; b){\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n        for(int index =0 ;index&lt;a.size() &amp;&amp; index&lt; b.size();index++)\n            result.add(a.get(index) + b.get(index));\n        if( a.size() != b.size())\n            result.addAll(a.size()&gt;b.size()?a.subList(b.size(), a.size()):b.subList(a.size(), b.size()));\n           return result;\n    }\n}\n</code></pre>\n<h1>Output:</h1>\n<pre><code>[3, 5, 4, 4, 5]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650874688,"creation_date":1650865998,"answer_id":71994992,"question_id":71994738,"body_markdown":"You have to make sure to iterate to the higher index, and make sure you don&#39;t run into a problem with a non existing index.\r\n\r\n```\r\nBiFunction&lt;ArrayList&lt;Integer&gt;, Integer, Integer&gt; getSafe =\r\n   (l, i ) -&gt; i &lt; l.size() ? l.get(i) : 0;\r\nfor (int i = 0; i &lt; Math.max(list1.size(), list2.size(); i++) {\r\n  result.add(getSafe.apply(list1) + getSafe.apply(list1));\r\n}\r\n```\r\n\r\nOr with an `Iterator` if you want to overengineer\r\n\r\n```\r\nIterator&lt;Integer&gt; bothIterator = new Iterator&lt;&gt;() {\r\n Iterator&lt;Integer&gt; it1 = list1.iterator();\r\n Iterator&lt;Integer&gt; it2 = list2.iterator();\r\n public boolean hasNext() {\r\n  return it1.hasNext() || it2.hasNext();\r\n }\r\n public Integer next() {\r\n  int result = it1.hasNext() ? it1.next();\r\n  result += it2.hasNext() ? it2.next() : 0;\r\n  return result;\r\n }\r\n}\r\nint result = 0;\r\nwhile (bothIterator.hasNext()) {\r\n result += bothIterator.next();\r\n}\r\n```","title":"How do I add two arraylists with an uneven amount of elements","body":"<p>You have to make sure to iterate to the higher index, and make sure you don't run into a problem with a non existing index.</p>\n<pre><code>BiFunction&lt;ArrayList&lt;Integer&gt;, Integer, Integer&gt; getSafe =\n   (l, i ) -&gt; i &lt; l.size() ? l.get(i) : 0;\nfor (int i = 0; i &lt; Math.max(list1.size(), list2.size(); i++) {\n  result.add(getSafe.apply(list1) + getSafe.apply(list1));\n}\n</code></pre>\n<p>Or with an <code>Iterator</code> if you want to overengineer</p>\n<pre><code>Iterator&lt;Integer&gt; bothIterator = new Iterator&lt;&gt;() {\n Iterator&lt;Integer&gt; it1 = list1.iterator();\n Iterator&lt;Integer&gt; it2 = list2.iterator();\n public boolean hasNext() {\n  return it1.hasNext() || it2.hasNext();\n }\n public Integer next() {\n  int result = it1.hasNext() ? it1.next();\n  result += it2.hasNext() ? it2.next() : 0;\n  return result;\n }\n}\nint result = 0;\nwhile (bothIterator.hasNext()) {\n result += bothIterator.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15159660,"reputation":1770,"user_id":10939204,"display_name":"Traian GEICU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650882984,"creation_date":1650867748,"answer_id":71995222,"question_id":71994738,"body_markdown":"Another approach can be based on customizing each list return values.\r\n\r\n    public class TestArrSum {\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tList&lt;Integer&gt; a = List.of(1,2,3,4,5); \r\n    \t\tList&lt;Integer&gt; b = List.of(2,3,1);\r\n    \t\tList&lt;Integer&gt; result = sum(a,b);\r\n    \t\tresult.forEach(System.out::println);\r\n    \r\n    \t}\r\n    \tpublic static List&lt;Integer&gt; sum(List&lt;Integer&gt; a, List&lt;Integer&gt; b)\r\n    \t{\r\n    \t\t List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n             for(int i=0;i&lt;a.size() || i&lt;b.size();i++)\r\n             {\r\n            \t result.add(getValue(a,i)+getValue(b,i));\r\n             }\r\n             \r\n    \t\t return result;\r\n    \t}\r\n    \t\r\n    \tpublic static int getValue(List&lt;Integer&gt; l,int i)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\treturn l.get(i);\r\n    \t\t}\r\n    \t\tcatch(ArrayIndexOutOfBoundsException e)\r\n    \t\t{\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nNote: One advantage can be in terms of verbosity in case if need that method signature to contain more lists to be sum. \r\n \r\nThe same result can be obtained also with an intermediary data structure which latter will be transformed to List.\r\n\r\n    static class MyMap extends HashMap&lt;Integer,Integer&gt;\r\n    {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tMyMap()\r\n    \t{\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic void putKV(Integer key,Integer value)\r\n    \t{\r\n    \t\tInteger old = this.get(key);\r\n    \t\tif(old==null)\r\n    \t\t{\r\n    \t\t\tthis.put(key, value);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tthis.put(key, old+value);\r\n    \t\t}\r\n    \t\tSystem.out.println(key+&quot;:&quot;+value+&quot;:&quot;+this.get(key));\r\n    \t\t\r\n    \t}\r\n    \tpublic List&lt;Integer&gt; toList()\r\n    \t{\r\n    \t\tList&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\r\n    \t\tfor(int i=0; i&lt;this.size();i++)\r\n    \t\t{\r\n    \t\t\tl.add(this.get(i));\r\n    \t\t}\r\n    \t\treturn l;\r\n    \t}\r\n    }\r\n    \t\t\r\n\r\nCan be used as:\r\n\r\n    MyMap m = new MyMap();\r\n    for(int i=0;i&lt;a.size();i++)\r\n    {\r\n    \tm.putKV(i, a.get(i));\r\n    }\r\n    for(int i=0;i&lt;b.size();i++)\r\n    {\r\n    \t\r\n    \tm.putKV(i, b.get(i));\r\n    }\r\n    \r\n    List&lt;Integer&gt; resultM = m.toList();\r\n    resultM.forEach(k-&gt;System.out.println(k));\r\n\r\n","title":"How do I add two arraylists with an uneven amount of elements","body":"<p>Another approach can be based on customizing each list return values.</p>\n<pre><code>public class TestArrSum {\n\n    public static void main(String[] args) \n    {\n        List&lt;Integer&gt; a = List.of(1,2,3,4,5); \n        List&lt;Integer&gt; b = List.of(2,3,1);\n        List&lt;Integer&gt; result = sum(a,b);\n        result.forEach(System.out::println);\n\n    }\n    public static List&lt;Integer&gt; sum(List&lt;Integer&gt; a, List&lt;Integer&gt; b)\n    {\n         List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n         for(int i=0;i&lt;a.size() || i&lt;b.size();i++)\n         {\n             result.add(getValue(a,i)+getValue(b,i));\n         }\n         \n         return result;\n    }\n    \n    public static int getValue(List&lt;Integer&gt; l,int i)\n    {\n        try\n        {\n            return l.get(i);\n        }\n        catch(ArrayIndexOutOfBoundsException e)\n        {\n            return 0;\n        }\n    }\n}\n</code></pre>\n<p>Note: One advantage can be in terms of verbosity in case if need that method signature to contain more lists to be sum.</p>\n<p>The same result can be obtained also with an intermediary data structure which latter will be transformed to List.</p>\n<pre><code>static class MyMap extends HashMap&lt;Integer,Integer&gt;\n{\n    private static final long serialVersionUID = 1L;\n    MyMap()\n    {\n        super();\n    }\n\n    public void putKV(Integer key,Integer value)\n    {\n        Integer old = this.get(key);\n        if(old==null)\n        {\n            this.put(key, value);\n        }\n        else\n        {\n            this.put(key, old+value);\n        }\n        System.out.println(key+&quot;:&quot;+value+&quot;:&quot;+this.get(key));\n        \n    }\n    public List&lt;Integer&gt; toList()\n    {\n        List&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\n        for(int i=0; i&lt;this.size();i++)\n        {\n            l.add(this.get(i));\n        }\n        return l;\n    }\n}\n        \n</code></pre>\n<p>Can be used as:</p>\n<pre><code>MyMap m = new MyMap();\nfor(int i=0;i&lt;a.size();i++)\n{\n    m.putKV(i, a.get(i));\n}\nfor(int i=0;i&lt;b.size();i++)\n{\n    \n    m.putKV(i, b.get(i));\n}\n\nList&lt;Integer&gt; resultM = m.toList();\nresultM.forEach(k-&gt;System.out.println(k));\n</code></pre>\n"}],"owner":{"account_id":25083249,"reputation":23,"user_id":18935759,"display_name":"baconeater4521"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71994946,"answer_count":4,"score":0,"last_activity_date":1650900899,"creation_date":1650863490,"question_id":71994738,"body_markdown":"I am trying to get the sum of two array lists elements with a different amount of elements in each one is a method. So far, I have been able to get the elements to add, but when the results print, it leaves out numbers because the array lists have different elements. Let&#39;s say array list a has 5 elements and array list b has 3 elements. The missing amounts in the array are supposed to be 0. So if `a` has `{1, 2, 3, 4, 5}` and `b` has `{2, 3, 1}`. The result should be `{3, 5, 4, 4, 5}`.\r\n\r\n     public static ArrayList&lt;Integer&gt; sum(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b)\r\n      {\r\n        ArrayList &lt;Integer&gt; result = new ArrayList &lt;Integer&gt; ();\r\n        \r\n         for(int i = 0; i &lt; a.size(); i++) {\r\n           result.add(a.get(i) + b.get(i));\r\n         }\r\n         return result;\r\n      }  \r\n\r\n   ","title":"How do I add two arraylists with an uneven amount of elements","body":"<p>I am trying to get the sum of two array lists elements with a different amount of elements in each one is a method. So far, I have been able to get the elements to add, but when the results print, it leaves out numbers because the array lists have different elements. Let's say array list a has 5 elements and array list b has 3 elements. The missing amounts in the array are supposed to be 0. So if <code>a</code> has <code>{1, 2, 3, 4, 5}</code> and <code>b</code> has <code>{2, 3, 1}</code>. The result should be <code>{3, 5, 4, 4, 5}</code>.</p>\n<pre><code> public static ArrayList&lt;Integer&gt; sum(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b)\n  {\n    ArrayList &lt;Integer&gt; result = new ArrayList &lt;Integer&gt; ();\n    \n     for(int i = 0; i &lt; a.size(); i++) {\n       result.add(a.get(i) + b.get(i));\n     }\n     return result;\n  }  \n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mockito"],"comments":[{"owner":{"account_id":8810272,"reputation":1846,"user_id":6583529,"display_name":"Chai"},"score":1,"creation_date":1650896748,"post_id":72000835,"comment_id":127225411,"body_markdown":"If  you have a answer that would be appreciated more than a snarky comment. Anyways, not sure if you are referring to the `ExtendsWith` annotation. In case you do I also tried: `@ExtendWith(SpringExtension.class)`. That gives me a truck load of debug lines and the test fails just the same. So yeah, any suggestions are welcome.","body":"If  you have a answer that would be appreciated more than a snarky comment. Anyways, not sure if you are referring to the <code>ExtendsWith</code> annotation. In case you do I also tried: <code>@ExtendWith(SpringExtension.class)</code>. That gives me a truck load of debug lines and the test fails just the same. So yeah, any suggestions are welcome."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650898843,"post_id":72000835,"comment_id":127226329,"body_markdown":"Well you are using Spring features but not using any of those in running your test, so that simply won&#39;t work. You are only using Mockito not Spring, also expecting to have Spring features on a Mockito managed instance isn&#39;t going to work either. So you need the `SpringExtension` and some configuration to test this. I actually do wonder what you want to test with this test in the first place.","body":"Well you are using Spring features but not using any of those in running your test, so that simply won&#39;t work. You are only using Mockito not Spring, also expecting to have Spring features on a Mockito managed instance isn&#39;t going to work either. So you need the <code>SpringExtension</code> and some configuration to test this. I actually do wonder what you want to test with this test in the first place."},{"owner":{"account_id":8810272,"reputation":1846,"user_id":6583529,"display_name":"Chai"},"score":0,"creation_date":1650902458,"post_id":72000835,"comment_id":127227841,"body_markdown":"Right, well obviously this is not the actual test, but a minimal example of what is going wrong.","body":"Right, well obviously this is not the actual test, but a minimal example of what is going wrong."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650950906,"post_id":72000835,"comment_id":127238519,"body_markdown":"That is not so obvious imho, nonetheless the solution depends on what you want to test. With your current question it looks like you want to test the `@Value` resolution from Spring and not some functional part of your application. So the way you ask a question and the code you provide is heavily influencing the answer you will get.","body":"That is not so obvious imho, nonetheless the solution depends on what you want to test. With your current question it looks like you want to test the <code>@Value</code> resolution from Spring and not some functional part of your application. So the way you ask a question and the code you provide is heavily influencing the answer you will get."}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650900528,"creation_date":1650899625,"answer_id":72001813,"question_id":72000835,"body_markdown":"I recommend you to try this approach. Just need a slightly refactoring and add a package-private constructor to your `FeatureFlagService`.\r\n\r\n**FeatureFlagService.java**\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class FeatureFlagService {\r\n\r\n    private final RestTemplate restTemplate;\r\n    private final String URL_FEATURE_FLAGS;\r\n\r\n    // package-private constructor. test-only\r\n    FeatureFlagService(RestTemplate restTemplate, @Value(&quot;${url.feature_flags}&quot;) String flag) {\r\n        this.restTemplate = restTemplate;\r\n        this.URL_FEATURE_FLAGS = flag;\r\n    }\r\n\r\n    // do stuff\r\n}\r\n```\r\n\r\nThen prepare your mocks and url, and inject them by the `constructor-injection`.\r\n\r\n **FeatureFlagServiceTests.java**\r\n\r\n```java\r\npublic class FeatureFlagServiceTests {\r\n\r\n    private FeatureFlagService featureFlagService;\r\n\r\n    @Before\r\n    public void setup() {\r\n        RestTemplate restTemplate = mock(RestTemplate.class);\r\n        // when(restTemplate)...then...\r\n        String URL_FEATURE_FLAGS = &quot;http://endpoint&quot;;\r\n        featureFlagService = new FeatureFlagService(restTemplate, URL_FEATURE_FLAGS);\r\n    }\r\n\r\n    @Test\r\n    public void propertyTest(){\r\n        Assertions.assertEquals(featureFlasgService.getUrlFeatureFlags(), \r\n        &quot;http://endpoint&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe significant advantage is, your `FeatureFlagServiceTests` becomes very simple to read and trivial to test. You don&#39;t need magic annotation of Mockito anymore.","title":"Mock @Value in SpringBoot unit test not working","body":"<p>I recommend you to try this approach. Just need a slightly refactoring and add a package-private constructor to your <code>FeatureFlagService</code>.</p>\n<p><strong>FeatureFlagService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class FeatureFlagService {\n\n    private final RestTemplate restTemplate;\n    private final String URL_FEATURE_FLAGS;\n\n    // package-private constructor. test-only\n    FeatureFlagService(RestTemplate restTemplate, @Value(&quot;${url.feature_flags}&quot;) String flag) {\n        this.restTemplate = restTemplate;\n        this.URL_FEATURE_FLAGS = flag;\n    }\n\n    // do stuff\n}\n</code></pre>\n<p>Then prepare your mocks and url, and inject them by the <code>constructor-injection</code>.</p>\n<p><strong>FeatureFlagServiceTests.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FeatureFlagServiceTests {\n\n    private FeatureFlagService featureFlagService;\n\n    @Before\n    public void setup() {\n        RestTemplate restTemplate = mock(RestTemplate.class);\n        // when(restTemplate)...then...\n        String URL_FEATURE_FLAGS = &quot;http://endpoint&quot;;\n        featureFlagService = new FeatureFlagService(restTemplate, URL_FEATURE_FLAGS);\n    }\n\n    @Test\n    public void propertyTest(){\n        Assertions.assertEquals(featureFlasgService.getUrlFeatureFlags(), \n        &quot;http://endpoint&quot;);\n    }\n}\n</code></pre>\n<p>The significant advantage is, your <code>FeatureFlagServiceTests</code> becomes very simple to read and trivial to test. You don't need magic annotation of Mockito anymore.</p>\n"},{"tags":[],"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650900785,"creation_date":1650900785,"answer_id":72002073,"question_id":72000835,"body_markdown":"You can use `@SpringBootTest` without running the whole application by passing it the class that contains the `@Value` but you have to use Spring&#39;s extension `@ExtendWith({SpringExtension.class})` which is included inside `@SpringBootTest` and by that using Spring&#39;s `MockBean` instead of `@Mock` and `@Autowired` for autowiring the bean like this:\r\n\r\n```\r\n@SpringBootTest(classes = FeatureFlagService.class)\r\nclass FeatureFlagServiceTests {\r\n\r\n  @MockBean\r\n  RestTemplate restTemplate;\r\n\r\n  @Autowired\r\n  FeatureFlagService featureFlasgService;\r\n\r\n  @Test\r\n  void propertyTest(){\r\n    Assertions.assertEquals(featureFlasgService.URL_FEATURE_FLAGS, &quot;http://endpoint&quot;);\r\n  }\r\n```","title":"Mock @Value in SpringBoot unit test not working","body":"<p>You can use <code>@SpringBootTest</code> without running the whole application by passing it the class that contains the <code>@Value</code> but you have to use Spring's extension <code>@ExtendWith({SpringExtension.class})</code> which is included inside <code>@SpringBootTest</code> and by that using Spring's <code>MockBean</code> instead of <code>@Mock</code> and <code>@Autowired</code> for autowiring the bean like this:</p>\n<pre><code>@SpringBootTest(classes = FeatureFlagService.class)\nclass FeatureFlagServiceTests {\n\n  @MockBean\n  RestTemplate restTemplate;\n\n  @Autowired\n  FeatureFlagService featureFlasgService;\n\n  @Test\n  void propertyTest(){\n    Assertions.assertEquals(featureFlasgService.URL_FEATURE_FLAGS, &quot;http://endpoint&quot;);\n  }\n</code></pre>\n"}],"owner":{"account_id":8810272,"reputation":1846,"user_id":6583529,"display_name":"Chai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5054,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72002073,"answer_count":2,"score":3,"last_activity_date":1650900785,"creation_date":1650895455,"question_id":72000835,"body_markdown":"I am trying to get some junit tests with Mockito to work in a SprinBoot application.\r\n\r\nNow my Service has some variable that gets filled from the `application.properties` by means of `@Value` annotation:\r\n\r\n```\r\n@Component\r\n@Slf4j\r\npublic class FeatureFlagService {\r\n\r\n  @Autowired\r\n  RestTemplate restTemplate;\r\n\r\n  @Value(&quot;${url.feature_flags}&quot;)\r\n  String URL_FEATURE_FLAGS;\r\n\r\n// do stuff\r\n}\r\n```\r\n\r\nI am trying to test this by using `TestPropertySource` like so:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@TestPropertySource(properties = { &quot;${url.feature_flags} = http://endpoint&quot; })\r\nclass FeatureFlagServiceTests {\r\n\r\n  @Mock\r\n  RestTemplate restTemplate;\r\n\r\n  @InjectMocks\r\n  FeatureFlagService featureFlasgService;\r\n\r\n  @Test\r\n  void propertyTest(){\r\n    Assertions.assertEquals(featureFlasgService.URL_FEATURE_FLAGS, &quot;http://endpoint&quot;);\r\n  }\r\n\r\n```\r\nHowever the property does not get filled and remains `null`.\r\n\r\nThere are a bunch of tpoics on this, but I have not been able to piece together a solution. I saw solutions suggesting `@SpringBootTest`, but then it seems to want to do an integration test, spinning up the service, which fails because it can not connect to DB. So that is not what I am looking for.\r\n\r\nI also saw solutions suggesting I make a `PropertySourcesPlaceholderConfigurer` bean.\r\nI tried that by putting :\r\n\r\n```\r\n  @Bean\r\n    public static PropertySourcesPlaceholderConfigurer propertiesResolver() {\r\n    return new PropertySourcesPlaceholderConfigurer();\r\n  }\r\n\r\n```\r\nIn my `Application.java`. But that is not working / not enough. I am not sure if I was supposed to do that differently, or if there is more there that I do not know.\r\n\r\nPlease advice.","title":"Mock @Value in SpringBoot unit test not working","body":"<p>I am trying to get some junit tests with Mockito to work in a SprinBoot application.</p>\n<p>Now my Service has some variable that gets filled from the <code>application.properties</code> by means of <code>@Value</code> annotation:</p>\n<pre><code>@Component\n@Slf4j\npublic class FeatureFlagService {\n\n  @Autowired\n  RestTemplate restTemplate;\n\n  @Value(&quot;${url.feature_flags}&quot;)\n  String URL_FEATURE_FLAGS;\n\n// do stuff\n}\n</code></pre>\n<p>I am trying to test this by using <code>TestPropertySource</code> like so:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@TestPropertySource(properties = { &quot;${url.feature_flags} = http://endpoint&quot; })\nclass FeatureFlagServiceTests {\n\n  @Mock\n  RestTemplate restTemplate;\n\n  @InjectMocks\n  FeatureFlagService featureFlasgService;\n\n  @Test\n  void propertyTest(){\n    Assertions.assertEquals(featureFlasgService.URL_FEATURE_FLAGS, &quot;http://endpoint&quot;);\n  }\n\n</code></pre>\n<p>However the property does not get filled and remains <code>null</code>.</p>\n<p>There are a bunch of tpoics on this, but I have not been able to piece together a solution. I saw solutions suggesting <code>@SpringBootTest</code>, but then it seems to want to do an integration test, spinning up the service, which fails because it can not connect to DB. So that is not what I am looking for.</p>\n<p>I also saw solutions suggesting I make a <code>PropertySourcesPlaceholderConfigurer</code> bean.\nI tried that by putting :</p>\n<pre><code>  @Bean\n    public static PropertySourcesPlaceholderConfigurer propertiesResolver() {\n    return new PropertySourcesPlaceholderConfigurer();\n  }\n\n</code></pre>\n<p>In my <code>Application.java</code>. But that is not working / not enough. I am not sure if I was supposed to do that differently, or if there is more there that I do not know.</p>\n<p>Please advice.</p>\n"},{"tags":["java","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1560790576,"creation_date":1560790576,"answer_id":56635781,"question_id":56633684,"body_markdown":"If each record contributes to exactly one count, I would recommend to `branch()` the stream and count per sub-stream:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    KStream stream = builder.stream(...)\r\n    KStream[] subStreams = stream.branch(...);\r\n\r\n    // each record of `stream` will be contained in exactly _one_ `substream`\r\n    subStream[0].grouByKey().count(); // or aggregate() instead of count()\r\n    subStream[1].grouByKey().count();\r\n    // ...\r\n\r\nIf branching does not work, because a single record needs to go into multiple counts, you can &quot;broadcast&quot; and filter:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    KStream stream = builder.stream(...)\r\n\r\n    // each record in `stream` will be &quot;duplicated&quot; and sent to all `filters`\r\n    stream.filter(...).grouByKey().count(); // or aggregate() instead of count()\r\n    stream.filter(...).grouByKey().count();\r\n    // ...\r\n\r\nUsing the same `KStream` object multiple time and apply multiple operators (in our case `filter()`, each record will be &quot;broadcasted&quot; to all operators). Note, that record (ie, objects) are not physically copied for this case, but the same input record object is used to call each `filter()`.","title":"Complex aggregation","body":"<p>If each record contributes to exactly one count, I would recommend to <code>branch()</code> the stream and count per sub-stream:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>KStream stream = builder.stream(...)\nKStream[] subStreams = stream.branch(...);\n\n// each record of `stream` will be contained in exactly _one_ `substream`\nsubStream[0].grouByKey().count(); // or aggregate() instead of count()\nsubStream[1].grouByKey().count();\n// ...\n</code></pre>\n\n<p>If branching does not work, because a single record needs to go into multiple counts, you can \"broadcast\" and filter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>KStream stream = builder.stream(...)\n\n// each record in `stream` will be \"duplicated\" and sent to all `filters`\nstream.filter(...).grouByKey().count(); // or aggregate() instead of count()\nstream.filter(...).grouByKey().count();\n// ...\n</code></pre>\n\n<p>Using the same <code>KStream</code> object multiple time and apply multiple operators (in our case <code>filter()</code>, each record will be \"broadcasted\" to all operators). Note, that record (ie, objects) are not physically copied for this case, but the same input record object is used to call each <code>filter()</code>.</p>\n"},{"tags":[],"owner":{"account_id":5273386,"reputation":158,"user_id":4210998,"display_name":"turkogluc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650900261,"creation_date":1650853021,"answer_id":71993874,"question_id":56633684,"body_markdown":"You could keep the field values in a set and get the count per key with the Set#size method.\r\n\r\n\r\n    import com.google.gson.Gson;\r\n    import org.apache.kafka.common.serialization.Deserializer;\r\n    import org.apache.kafka.common.serialization.Serde;\r\n    import org.apache.kafka.common.serialization.Serdes;\r\n    import org.apache.kafka.common.serialization.Serializer;\r\n    import org.apache.kafka.common.utils.Bytes;\r\n    import org.apache.kafka.streams.*;\r\n    import org.apache.kafka.streams.kstream.Consumed;\r\n    import org.apache.kafka.streams.kstream.Grouped;\r\n    import org.apache.kafka.streams.kstream.Materialized;\r\n    import org.apache.kafka.streams.state.KeyValueStore;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.HashSet;\r\n    import java.util.Properties;\r\n    import java.util.Set;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n    public class SomeTest {\r\n    \r\n        public static class VisitorDetails {\r\n            public long serial;\r\n            public String country;\r\n            public long date;\r\n            public String state;\r\n            public String city;\r\n            public long visitors;\r\n        }\r\n    \r\n        public static class Aggregate {\r\n            public Set &lt;String&gt; countrySet = new HashSet &lt;&gt;();\r\n            public long countryCounter;\r\n    \r\n            public Set &lt;String&gt; citySet = new HashSet &lt;&gt;();\r\n            public long cityCounter;\r\n    \r\n            public long totalVisitorCounter = 0;\r\n        }\r\n    \r\n        public static class CustomSerializer&lt;T&gt; implements Serializer &lt;T&gt; {\r\n            private static final Charset CHARSET = StandardCharsets.UTF_8;\r\n            static private final Gson gson = new Gson();\r\n    \r\n    \r\n            @Override\r\n            public byte[] serialize(String topic, T data) {\r\n                String line = gson.toJson(data);\r\n                return line.getBytes(CHARSET);\r\n            }\r\n        }\r\n    \r\n        public static class CustomDeserializer&lt;T&gt; implements Deserializer &lt;T&gt; {\r\n            private static final Charset CHARSET = StandardCharsets.UTF_8;\r\n            static private final Gson gson = new Gson();\r\n    \r\n            private final Class &lt;T&gt; tClass;\r\n    \r\n            public CustomDeserializer(Class &lt;T&gt; tClass) {\r\n                this.tClass = tClass;\r\n            }\r\n    \r\n            @Override\r\n            public T deserialize(String topic, byte[] data) {\r\n                try {\r\n                    String person = new String(data, CHARSET);\r\n                    return gson.fromJson(person, tClass);\r\n                } catch (Exception e) {\r\n                    throw new IllegalArgumentException(&quot;Deserialization failed:&quot;, e);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static class AggregateSerde implements Serde &lt;Aggregate&gt; {\r\n    \r\n            @Override\r\n            public Serializer &lt;Aggregate&gt; serializer() {\r\n                return new CustomSerializer &lt;Aggregate&gt;();\r\n            }\r\n    \r\n            @Override\r\n            public Deserializer &lt;Aggregate&gt; deserializer() {\r\n                return new CustomDeserializer &lt;Aggregate&gt;(Aggregate.class);\r\n            }\r\n        }\r\n    \r\n        public static class VisitorDetailsSerde implements Serde &lt;VisitorDetails&gt; {\r\n    \r\n            @Override\r\n            public Serializer &lt;VisitorDetails&gt; serializer() {\r\n                return new CustomSerializer &lt;VisitorDetails&gt;();\r\n            }\r\n    \r\n            @Override\r\n            public Deserializer &lt;VisitorDetails&gt; deserializer() {\r\n                return new CustomDeserializer &lt;VisitorDetails&gt;(VisitorDetails.class);\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        void test() {\r\n    \r\n            StreamsBuilder builder = new StreamsBuilder();\r\n            builder.stream(&quot;input&quot;, Consumed.with(Serdes.Long(), new VisitorDetailsSerde()))\r\n                    .groupByKey(Grouped.with(Serdes.Long(), new VisitorDetailsSerde()))\r\n                    .aggregate(\r\n                            Aggregate::new,\r\n                            (key, value, agg) -&gt; {\r\n    \r\n                                agg.countrySet.add(value.country);\r\n                                agg.countryCounter = agg.countrySet.size();\r\n    \r\n                                agg.citySet.add(value.city);\r\n                                agg.cityCounter = agg.citySet.size();\r\n    \r\n                                agg.totalVisitorCounter += value.visitors;\r\n                                return agg;\r\n    \r\n                            },\r\n                            Materialized. &lt;Long, Aggregate, KeyValueStore &lt;Bytes, byte[]&gt;&gt;as(&quot;store-name-2&quot;)\r\n                                    .withKeySerde(Serdes.Long())\r\n                                    .withValueSerde(new AggregateSerde())\r\n                                    .withLoggingDisabled() // only for testing,\r\n                                    // recommended to not disable on prod as it provides fault tolerance\r\n    \r\n                    );\r\n    \r\n            Topology topology = builder.build();\r\n            \r\n            Properties properties = new Properties();\r\n            properties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;test&quot;);\r\n            properties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;dummy:1234&quot;);\r\n    \r\n            TopologyTestDriver testDriver = new TopologyTestDriver(topology, properties);\r\n    \r\n            TestInputTopic &lt;Long, VisitorDetails&gt; inputTopic = testDriver.createInputTopic(&quot;input&quot;,\r\n                    Serdes.Long().serializer(), new CustomSerializer &lt;VisitorDetails&gt;());\r\n    \r\n            inputTopic.pipeInput(123L, visitorDetail(123L, &quot;usa&quot;, &quot;ny&quot;, 10L));\r\n            inputTopic.pipeInput(123L, visitorDetail(123L, &quot;usa&quot;, &quot;la&quot;, 20L));\r\n            inputTopic.pipeInput(123L, visitorDetail(123L, &quot;pl&quot;, &quot;krk&quot;, 30L));\r\n            inputTopic.pipeInput(123L, visitorDetail(123L, &quot;pl&quot;, &quot;wrs&quot;, 40L));\r\n            inputTopic.pipeInput(123L, visitorDetail(123L, &quot;pl&quot;, &quot;krk&quot;, 50L));\r\n    \r\n            testDriver.getAllStateStores();\r\n            KeyValueStore &lt;Long, Aggregate&gt; keyValueStore = testDriver. &lt;Long, Aggregate&gt;getKeyValueStore(&quot;store-name-2&quot;);\r\n    \r\n            assertThat(keyValueStore.get(123L).cityCounter).isEqualTo(4);\r\n            assertThat(keyValueStore.get(123L).countryCounter).isEqualTo(2);\r\n            assertThat(keyValueStore.get(123L).totalVisitorCounter).isEqualTo(150);\r\n    \r\n            testDriver.close();\r\n    \r\n        }\r\n    \r\n        private VisitorDetails visitorDetail(long serial, String country, String city, long visitors) {\r\n            VisitorDetails visitorDetails = new VisitorDetails();\r\n            visitorDetails.serial = serial;\r\n            visitorDetails.country = country;\r\n            visitorDetails.city = city;\r\n            visitorDetails.visitors = visitors;\r\n            return visitorDetails;\r\n        }\r\n    }\r\n\r\n","title":"Complex aggregation","body":"<p>You could keep the field values in a set and get the count per key with the Set#size method.</p>\n<pre><code>import com.google.gson.Gson;\nimport org.apache.kafka.common.serialization.Deserializer;\nimport org.apache.kafka.common.serialization.Serde;\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.common.serialization.Serializer;\nimport org.apache.kafka.common.utils.Bytes;\nimport org.apache.kafka.streams.*;\nimport org.apache.kafka.streams.kstream.Consumed;\nimport org.apache.kafka.streams.kstream.Grouped;\nimport org.apache.kafka.streams.kstream.Materialized;\nimport org.apache.kafka.streams.state.KeyValueStore;\nimport org.junit.jupiter.api.Test;\n\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.util.HashSet;\nimport java.util.Properties;\nimport java.util.Set;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class SomeTest {\n\n    public static class VisitorDetails {\n        public long serial;\n        public String country;\n        public long date;\n        public String state;\n        public String city;\n        public long visitors;\n    }\n\n    public static class Aggregate {\n        public Set &lt;String&gt; countrySet = new HashSet &lt;&gt;();\n        public long countryCounter;\n\n        public Set &lt;String&gt; citySet = new HashSet &lt;&gt;();\n        public long cityCounter;\n\n        public long totalVisitorCounter = 0;\n    }\n\n    public static class CustomSerializer&lt;T&gt; implements Serializer &lt;T&gt; {\n        private static final Charset CHARSET = StandardCharsets.UTF_8;\n        static private final Gson gson = new Gson();\n\n\n        @Override\n        public byte[] serialize(String topic, T data) {\n            String line = gson.toJson(data);\n            return line.getBytes(CHARSET);\n        }\n    }\n\n    public static class CustomDeserializer&lt;T&gt; implements Deserializer &lt;T&gt; {\n        private static final Charset CHARSET = StandardCharsets.UTF_8;\n        static private final Gson gson = new Gson();\n\n        private final Class &lt;T&gt; tClass;\n\n        public CustomDeserializer(Class &lt;T&gt; tClass) {\n            this.tClass = tClass;\n        }\n\n        @Override\n        public T deserialize(String topic, byte[] data) {\n            try {\n                String person = new String(data, CHARSET);\n                return gson.fromJson(person, tClass);\n            } catch (Exception e) {\n                throw new IllegalArgumentException(&quot;Deserialization failed:&quot;, e);\n            }\n        }\n    }\n\n    public static class AggregateSerde implements Serde &lt;Aggregate&gt; {\n\n        @Override\n        public Serializer &lt;Aggregate&gt; serializer() {\n            return new CustomSerializer &lt;Aggregate&gt;();\n        }\n\n        @Override\n        public Deserializer &lt;Aggregate&gt; deserializer() {\n            return new CustomDeserializer &lt;Aggregate&gt;(Aggregate.class);\n        }\n    }\n\n    public static class VisitorDetailsSerde implements Serde &lt;VisitorDetails&gt; {\n\n        @Override\n        public Serializer &lt;VisitorDetails&gt; serializer() {\n            return new CustomSerializer &lt;VisitorDetails&gt;();\n        }\n\n        @Override\n        public Deserializer &lt;VisitorDetails&gt; deserializer() {\n            return new CustomDeserializer &lt;VisitorDetails&gt;(VisitorDetails.class);\n        }\n    }\n\n    @Test\n    void test() {\n\n        StreamsBuilder builder = new StreamsBuilder();\n        builder.stream(&quot;input&quot;, Consumed.with(Serdes.Long(), new VisitorDetailsSerde()))\n                .groupByKey(Grouped.with(Serdes.Long(), new VisitorDetailsSerde()))\n                .aggregate(\n                        Aggregate::new,\n                        (key, value, agg) -&gt; {\n\n                            agg.countrySet.add(value.country);\n                            agg.countryCounter = agg.countrySet.size();\n\n                            agg.citySet.add(value.city);\n                            agg.cityCounter = agg.citySet.size();\n\n                            agg.totalVisitorCounter += value.visitors;\n                            return agg;\n\n                        },\n                        Materialized. &lt;Long, Aggregate, KeyValueStore &lt;Bytes, byte[]&gt;&gt;as(&quot;store-name-2&quot;)\n                                .withKeySerde(Serdes.Long())\n                                .withValueSerde(new AggregateSerde())\n                                .withLoggingDisabled() // only for testing,\n                                // recommended to not disable on prod as it provides fault tolerance\n\n                );\n\n        Topology topology = builder.build();\n        \n        Properties properties = new Properties();\n        properties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;test&quot;);\n        properties.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;dummy:1234&quot;);\n\n        TopologyTestDriver testDriver = new TopologyTestDriver(topology, properties);\n\n        TestInputTopic &lt;Long, VisitorDetails&gt; inputTopic = testDriver.createInputTopic(&quot;input&quot;,\n                Serdes.Long().serializer(), new CustomSerializer &lt;VisitorDetails&gt;());\n\n        inputTopic.pipeInput(123L, visitorDetail(123L, &quot;usa&quot;, &quot;ny&quot;, 10L));\n        inputTopic.pipeInput(123L, visitorDetail(123L, &quot;usa&quot;, &quot;la&quot;, 20L));\n        inputTopic.pipeInput(123L, visitorDetail(123L, &quot;pl&quot;, &quot;krk&quot;, 30L));\n        inputTopic.pipeInput(123L, visitorDetail(123L, &quot;pl&quot;, &quot;wrs&quot;, 40L));\n        inputTopic.pipeInput(123L, visitorDetail(123L, &quot;pl&quot;, &quot;krk&quot;, 50L));\n\n        testDriver.getAllStateStores();\n        KeyValueStore &lt;Long, Aggregate&gt; keyValueStore = testDriver. &lt;Long, Aggregate&gt;getKeyValueStore(&quot;store-name-2&quot;);\n\n        assertThat(keyValueStore.get(123L).cityCounter).isEqualTo(4);\n        assertThat(keyValueStore.get(123L).countryCounter).isEqualTo(2);\n        assertThat(keyValueStore.get(123L).totalVisitorCounter).isEqualTo(150);\n\n        testDriver.close();\n\n    }\n\n    private VisitorDetails visitorDetail(long serial, String country, String city, long visitors) {\n        VisitorDetails visitorDetails = new VisitorDetails();\n        visitorDetails.serial = serial;\n        visitorDetails.country = country;\n        visitorDetails.city = city;\n        visitorDetails.visitors = visitors;\n        return visitorDetails;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2139147,"reputation":99,"user_id":1898248,"display_name":"user1898248"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56635781,"answer_count":2,"score":1,"last_activity_date":1650900261,"creation_date":1560782734,"question_id":56633684,"body_markdown":"I have data in a topic that needs to be counted at multiple levels and all code and articles only mention the word count example. \r\n\r\nAn example of the data would be:\r\n\r\nserial: 123\r\ncountry: us\r\ndate: 01/05/2018\r\nstate: new york\r\ncity: nyc\r\nvisitors: 5\r\n\r\nserial: 123\r\ncountry: us\r\ndate: 01/06/2018\r\nstate: new york\r\ncity: queens\r\nvisitors: 10\r\n\r\nserial: 456\r\ndate: 01/06/2018\r\ncountry: us\r\nstate: new york\r\ncity: queens\r\nvisitors: 27\r\n\r\nserial: 123\r\ndate: 01/06/2018\r\ncountry: us\r\nstate: new york\r\ncity: nyc\r\nvisitors: 867\r\n\r\nI have done the filter, groupBy but the aggregate ?\r\nSorry for the Java 8 and &amp; mix , i prefer 8 but learning it at the same time\r\n\r\n```\r\nKTable&lt;String, CountryVisitorModel&gt; countryStream1 = inStream\r\n\t.filter((key, value) -&gt; value.status.equalsIgnoreCase(&quot;TEST_DATA&quot;))\r\n\t.groupBy((key, value) -&gt; value.serial)\r\n\t.aggregate(\r\n\t\t\tnew Initializer&lt;CountryVisitorModel&gt;() {\r\n\t\t\t\t    \t\r\n\t\t\tpublic CountryVisitorModelapply() {\r\n\t\t\t\treturn new CountryVisitorModel();\r\n\t\t\t}\r\n\t\t},\r\n\t\tnew Aggregator&lt;String, InputModel, CountryVisitorModel&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic CountryVisitorModelapply(String key, InputModel value, CountryVisitorModel aggregate) {\r\n\t\t\t\t            \r\n\taggregate.serial = value.serial;\r\n\taggregate.country_name = value.country_name;\r\n\taggregate.city_name = value.city_name;\r\n\t\t\t\t    \t\t\r\n\taggregate.country_count++;\r\n\taggregate.city_count++;\r\n\taggregate.ip_count++;\r\n\t\t\t\t    \t\t\t\r\n        //\r\n\treturn aggregate;\r\n       }\r\n},\r\nMaterialized.with(stringSerde, visitorSerde));\r\n\r\n```\r\n\r\nFor all equal serial_id (this would be the group by) \r\ncount total number of visitors per this:\r\n\r\nserial country state city total_num_visitors","title":"Complex aggregation","body":"<p>I have data in a topic that needs to be counted at multiple levels and all code and articles only mention the word count example. </p>\n\n<p>An example of the data would be:</p>\n\n<p>serial: 123\ncountry: us\ndate: 01/05/2018\nstate: new york\ncity: nyc\nvisitors: 5</p>\n\n<p>serial: 123\ncountry: us\ndate: 01/06/2018\nstate: new york\ncity: queens\nvisitors: 10</p>\n\n<p>serial: 456\ndate: 01/06/2018\ncountry: us\nstate: new york\ncity: queens\nvisitors: 27</p>\n\n<p>serial: 123\ndate: 01/06/2018\ncountry: us\nstate: new york\ncity: nyc\nvisitors: 867</p>\n\n<p>I have done the filter, groupBy but the aggregate ?\nSorry for the Java 8 and &amp; mix , i prefer 8 but learning it at the same time</p>\n\n<pre><code>KTable&lt;String, CountryVisitorModel&gt; countryStream1 = inStream\n    .filter((key, value) -&gt; value.status.equalsIgnoreCase(\"TEST_DATA\"))\n    .groupBy((key, value) -&gt; value.serial)\n    .aggregate(\n            new Initializer&lt;CountryVisitorModel&gt;() {\n\n            public CountryVisitorModelapply() {\n                return new CountryVisitorModel();\n            }\n        },\n        new Aggregator&lt;String, InputModel, CountryVisitorModel&gt;() {\n\n            @Override\n            public CountryVisitorModelapply(String key, InputModel value, CountryVisitorModel aggregate) {\n\n    aggregate.serial = value.serial;\n    aggregate.country_name = value.country_name;\n    aggregate.city_name = value.city_name;\n\n    aggregate.country_count++;\n    aggregate.city_count++;\n    aggregate.ip_count++;\n\n        //\n    return aggregate;\n       }\n},\nMaterialized.with(stringSerde, visitorSerde));\n\n</code></pre>\n\n<p>For all equal serial_id (this would be the group by) \ncount total number of visitors per this:</p>\n\n<p>serial country state city total_num_visitors</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650899873,"creation_date":1650899873,"answer_id":72001880,"question_id":71991755,"body_markdown":"I suggest sticking to a one-thread one-client approach. It is a much simpler solution requiring the creation of the protocol according to which users will send the messages. Say, your game is chess. Mike opens the application:\r\n\r\n 1. You create a separate thread for Mike and give him some UUID\r\n 2. You assign this UUID to the specific room\r\n 3. You keep UUID as a key and Room as the value in the ```ConcurrentHashMap```\r\n 4. Room has an array of UUIDs and potentially whose the next turn\r\n\r\nIn the Server thread, you assign to Mike UUID 5 and room 3. Now when Mike wants to move his bishop to D5, he sends for example ```5BD5```. Then:\r\n\r\n 1. You parse this message according to your protocol, so you extract UUID from the first character of the message -- 5, chess piece -- B, being bishop and square of the chessboard -- D5. \r\n 2. Having UUID extracted you immediately have a room and from the room you have the second player whom potentially you&#39;d like to pass the messages from Mike.\r\n\r\nThis way you have perfectly separated rooms from one another. The server will convey the messages between the users only within the same room.\r\n\r\nYou can have several threads in one socket using [Java NIO Selector][1], however, for your purpose above solution seems to be simpler.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-nio-selector","title":"Connect two client Sockets into one GameHandler","body":"<p>I suggest sticking to a one-thread one-client approach. It is a much simpler solution requiring the creation of the protocol according to which users will send the messages. Say, your game is chess. Mike opens the application:</p>\n<ol>\n<li>You create a separate thread for Mike and give him some UUID</li>\n<li>You assign this UUID to the specific room</li>\n<li>You keep UUID as a key and Room as the value in the <code>ConcurrentHashMap</code></li>\n<li>Room has an array of UUIDs and potentially whose the next turn</li>\n</ol>\n<p>In the Server thread, you assign to Mike UUID 5 and room 3. Now when Mike wants to move his bishop to D5, he sends for example <code>5BD5</code>. Then:</p>\n<ol>\n<li>You parse this message according to your protocol, so you extract UUID from the first character of the message -- 5, chess piece -- B, being bishop and square of the chessboard -- D5.</li>\n<li>Having UUID extracted you immediately have a room and from the room you have the second player whom potentially you'd like to pass the messages from Mike.</li>\n</ol>\n<p>This way you have perfectly separated rooms from one another. The server will convey the messages between the users only within the same room.</p>\n<p>You can have several threads in one socket using <a href=\"https://www.baeldung.com/java-nio-selector\" rel=\"nofollow noreferrer\">Java NIO Selector</a>, however, for your purpose above solution seems to be simpler.</p>\n"}],"owner":{"account_id":23054855,"reputation":61,"user_id":17171049,"display_name":"Batman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1650899873,"creation_date":1650829128,"question_id":71991755,"body_markdown":"Hello I am creating a server for the turn based game. I achieved connecting people to the server in the separated threads and they can send messages to server and recieve answer from server. However, now I need to connect two people to one room and make them communicate with each other (I do not know if through server or just somehow connect them with each other. These people connect to server and can communicate with it when every of them has one clientHandler. However, when I make a clientHandler which handles two sockets it does not work. Does somebody know how to make handler (room on a server) in which the pair of clients could send message to each other?\r\n\r\n    public void handlePVPGame(Socket playerWhite, Socket playerBlack, int pointerId) throws IOException {\r\n        int firstPlayerId = pointerId;\r\n        pointerId +=1;\r\n        int secondPlayerId = pointerId;\r\n\r\n        ClientHandler clientHandlerWhite = new ClientHandler(playerWhite);\r\n        ClientHandler clientHandlerBlack = new ClientHandler(playerBlack);\r\n        new Thread(clientHandlerWhite).start();\r\n        new Thread(clientHandlerBlack).start();\r\n    //        This does not work\r\n    //        TwoClientsHandler twoClientsHandler = new TwoClientsHandler(playerWhite, playerBlack);\r\n    //        new Thread(twoClientsHandler).start();\r\n\r\n        \r\n     //       ClientHandlerClass\r\n    public class ClientHandler implements Runnable {\r\n        private final Socket clientSocket;\r\n        private PrintWriter printWriter;\r\n        private BufferedReader bufferedReader;\r\n    \r\n        private InputStreamReader inputStreamReader;\r\n    \r\n        public ClientHandler(Socket socket)\r\n        {\r\n            this.clientSocket = socket;\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n        try {\r\n            printWriter = new PrintWriter(clientSocket.getOutputStream());\r\n            inputStreamReader = new InputStreamReader(clientSocket.getInputStream());\r\n            bufferedReader = new BufferedReader(inputStreamReader);\r\n    \r\n            String receivedMessage;\r\n            while ((receivedMessage = bufferedReader.readLine())!= null){\r\n                System.out.printf(\r\n                        &quot; Sent from the client: %s\\n&quot;,\r\n                        receivedMessage);\r\n                printWriter.println(&quot;Welcome to server&quot;);\r\n                printWriter.flush();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    //       Class which does not work\r\n    public class TwoClientsHandler implements Runnable{\r\n        private final Socket playerWhite;\r\n        private PrintWriter printWriterWhite;\r\n        private InputStreamReader inputStreamReaderWhite;\r\n        private BufferedReader bufferedReaderWhite;\r\n    \r\n        private final Socket playerBlack;\r\n        private PrintWriter printWriterBlack;\r\n        private InputStreamReader inputStreamReaderBlack;\r\n        private BufferedReader bufferedReaderBlack;\r\n    \r\n    \r\n    \r\n        public TwoClientsHandler(Socket playerWhite,Socket playerBlack) {\r\n            this.playerWhite = playerWhite;\r\n            this.playerBlack = playerBlack;\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                printWriterWhite = new PrintWriter(playerWhite.getOutputStream());\r\n                inputStreamReaderWhite = new InputStreamReader(playerWhite.getInputStream());\r\n                bufferedReaderWhite = new BufferedReader(inputStreamReaderWhite);\r\n    \r\n                printWriterBlack = new PrintWriter(playerBlack.getOutputStream());\r\n                inputStreamReaderWhite = new InputStreamReader(playerBlack.getInputStream());\r\n                bufferedReaderWhite = new BufferedReader(inputStreamReaderWhite);\r\n    \r\n                String receivedMessage;\r\n                while ((receivedMessage = bufferedReaderWhite.readLine())!= null){\r\n                    System.out.printf(\r\n                            &quot; Sent from the client: %s\\n&quot;,\r\n                            receivedMessage);\r\n                    printWriterWhite.println(&quot;Welcome to server&quot;);\r\n                    printWriterWhite.flush();\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n     \r\n\r\n\r\n","title":"Connect two client Sockets into one GameHandler","body":"<p>Hello I am creating a server for the turn based game. I achieved connecting people to the server in the separated threads and they can send messages to server and recieve answer from server. However, now I need to connect two people to one room and make them communicate with each other (I do not know if through server or just somehow connect them with each other. These people connect to server and can communicate with it when every of them has one clientHandler. However, when I make a clientHandler which handles two sockets it does not work. Does somebody know how to make handler (room on a server) in which the pair of clients could send message to each other?</p>\n<pre><code>public void handlePVPGame(Socket playerWhite, Socket playerBlack, int pointerId) throws IOException {\n    int firstPlayerId = pointerId;\n    pointerId +=1;\n    int secondPlayerId = pointerId;\n\n    ClientHandler clientHandlerWhite = new ClientHandler(playerWhite);\n    ClientHandler clientHandlerBlack = new ClientHandler(playerBlack);\n    new Thread(clientHandlerWhite).start();\n    new Thread(clientHandlerBlack).start();\n//        This does not work\n//        TwoClientsHandler twoClientsHandler = new TwoClientsHandler(playerWhite, playerBlack);\n//        new Thread(twoClientsHandler).start();\n\n    \n //       ClientHandlerClass\npublic class ClientHandler implements Runnable {\n    private final Socket clientSocket;\n    private PrintWriter printWriter;\n    private BufferedReader bufferedReader;\n\n    private InputStreamReader inputStreamReader;\n\n    public ClientHandler(Socket socket)\n    {\n        this.clientSocket = socket;\n    }\n\n\n\n    @Override\n    public void run() {\n\n    try {\n        printWriter = new PrintWriter(clientSocket.getOutputStream());\n        inputStreamReader = new InputStreamReader(clientSocket.getInputStream());\n        bufferedReader = new BufferedReader(inputStreamReader);\n\n        String receivedMessage;\n        while ((receivedMessage = bufferedReader.readLine())!= null){\n            System.out.printf(\n                    &quot; Sent from the client: %s\\n&quot;,\n                    receivedMessage);\n            printWriter.println(&quot;Welcome to server&quot;);\n            printWriter.flush();\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    }\n\n}\n\n\n//       Class which does not work\npublic class TwoClientsHandler implements Runnable{\n    private final Socket playerWhite;\n    private PrintWriter printWriterWhite;\n    private InputStreamReader inputStreamReaderWhite;\n    private BufferedReader bufferedReaderWhite;\n\n    private final Socket playerBlack;\n    private PrintWriter printWriterBlack;\n    private InputStreamReader inputStreamReaderBlack;\n    private BufferedReader bufferedReaderBlack;\n\n\n\n    public TwoClientsHandler(Socket playerWhite,Socket playerBlack) {\n        this.playerWhite = playerWhite;\n        this.playerBlack = playerBlack;\n\n    }\n\n    @Override\n    public void run() {\n        try {\n            printWriterWhite = new PrintWriter(playerWhite.getOutputStream());\n            inputStreamReaderWhite = new InputStreamReader(playerWhite.getInputStream());\n            bufferedReaderWhite = new BufferedReader(inputStreamReaderWhite);\n\n            printWriterBlack = new PrintWriter(playerBlack.getOutputStream());\n            inputStreamReaderWhite = new InputStreamReader(playerBlack.getInputStream());\n            bufferedReaderWhite = new BufferedReader(inputStreamReaderWhite);\n\n            String receivedMessage;\n            while ((receivedMessage = bufferedReaderWhite.readLine())!= null){\n                System.out.printf(\n                        &quot; Sent from the client: %s\\n&quot;,\n                        receivedMessage);\n                printWriterWhite.println(&quot;Welcome to server&quot;);\n                printWriterWhite.flush();\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n    }\n}\n\n\n \n</code></pre>\n"},{"tags":["java","intellij-idea","abstract-class","member","intellij-14"],"answers":[{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650899837,"creation_date":1650899837,"answer_id":72001872,"question_id":38237725,"body_markdown":"Pull members up in  intellij with\r\n\r\n**1.Click Refactor**\r\n\r\n**2.Click pull members up**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P1Amm.png","title":"Pull members up one time intellij?","body":"<p>Pull members up in  intellij with</p>\n<p><strong>1.Click Refactor</strong></p>\n<p><strong>2.Click pull members up</strong></p>\n<p><a href=\"https://i.stack.imgur.com/P1Amm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P1Amm.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650899837,"creation_date":1467867011,"question_id":38237725,"body_markdown":"Suppose I have an abstract class called Data:\r\n\r\n    public abstract class Data{\r\n    \r\n    }\r\n\r\nAnd 2 derived classes Data1 and Data2.\r\n\r\n    public Data1 extends Data{\r\n        private int id;\r\n        private String name;\r\n        private int value;\r\n    }\r\n\r\n And\r\n\r\n    public Data2 extends Data{\r\n            private int id;\r\n            private String name;\r\n            private String category;\r\n    }\r\n\r\nIs there  a way in intellij to pull **id, name** members up from both Data1, Data2 classes into Data class in one time operation without going into each class?","title":"Pull members up one time intellij?","body":"<p>Suppose I have an abstract class called Data:</p>\n\n<pre><code>public abstract class Data{\n\n}\n</code></pre>\n\n<p>And 2 derived classes Data1 and Data2.</p>\n\n<pre><code>public Data1 extends Data{\n    private int id;\n    private String name;\n    private int value;\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>public Data2 extends Data{\n        private int id;\n        private String name;\n        private String category;\n}\n</code></pre>\n\n<p>Is there  a way in intellij to pull <strong>id, name</strong> members up from both Data1, Data2 classes into Data class in one time operation without going into each class?</p>\n"},{"tags":["java","svn"],"comments":[{"owner":{"account_id":397129,"reputation":30060,"user_id":761095,"accept_rate":91,"display_name":"bahrep"},"score":1,"creation_date":1348140438,"post_id":12511606,"comment_id":16839561,"body_markdown":"I strongly advise you to consider reading SVNBook http://svnbook.red-bean.com/en/1.7/index.html","body":"I strongly advise you to consider reading SVNBook <a href=\"http://svnbook.red-bean.com/en/1.7/index.html\" rel=\"nofollow noreferrer\">svnbook.red-bean.com/en/1.7/index.html</a>"},{"owner":{"account_id":1834287,"reputation":25,"user_id":1664960,"display_name":"FDem"},"score":0,"creation_date":1348141107,"post_id":12511606,"comment_id":16839855,"body_markdown":"I know that but I&#39;m trying to explain that the source files already there aren&#39;t they. So I&#39;m wondering is there a way to compile/build and run the project from my IDE which is already connected to that svn for code sharing purposes. I hope that this is clear enough.","body":"I know that but I&#39;m trying to explain that the source files already there aren&#39;t they. So I&#39;m wondering is there a way to compile/build and run the project from my IDE which is already connected to that svn for code sharing purposes. I hope that this is clear enough."}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348140330,"creation_date":1348140330,"answer_id":12511643,"question_id":12511606,"body_markdown":"You&#39;re thinking about it the wrong way - when a developer works on a project they download what&#39;s called a &quot;working copy&quot; of that repository, then run it and make changes / test it on their local computer. When they&#39;re done, they then &quot;commit&quot; the changes to the repository, where they become available to everyone else.\r\n\r\nYou don&#39;t run the project in the repository directly.","title":"Running a project in svn repository","body":"<p>You're thinking about it the wrong way - when a developer works on a project they download what's called a \"working copy\" of that repository, then run it and make changes / test it on their local computer. When they're done, they then \"commit\" the changes to the repository, where they become available to everyone else.</p>\n\n<p>You don't run the project in the repository directly.</p>\n"},{"tags":[],"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348140439,"creation_date":1348140439,"answer_id":12511663,"question_id":12511606,"body_markdown":"In major IDE&#39;s such as Eclipse, Jdeveloper, Netbeans, there is build in functionality for version control. \r\n\r\nSo you use your ide to build your app or make changes to it, and using update/commit functionality of the versioning  system you have the desired outcome.","title":"Running a project in svn repository","body":"<p>In major IDE's such as Eclipse, Jdeveloper, Netbeans, there is build in functionality for version control. </p>\n\n<p>So you use your ide to build your app or make changes to it, and using update/commit functionality of the versioning  system you have the desired outcome.</p>\n"},{"tags":[],"owner":{"account_id":25812,"reputation":1185,"user_id":66654,"accept_rate":50,"display_name":"Makis Arvanitis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1348140898,"creation_date":1348140898,"answer_id":12511761,"question_id":12511606,"body_markdown":"The repository only stores your code you cannot run the code from the repository. \r\n\r\nIf you want to build/test the code centrally then you need a Continuous Integration Server (CI) like Jenkins ([http://jenkins-ci.org/][1]) \r\n\r\nThis server can extract the project from svn build it, run the tests (if any) and even deploy it on a server. \r\n\r\n\r\n  [1]: http://jenkins-ci.org/","title":"Running a project in svn repository","body":"<p>The repository only stores your code you cannot run the code from the repository. </p>\n\n<p>If you want to build/test the code centrally then you need a Continuous Integration Server (CI) like Jenkins (<a href=\"http://jenkins-ci.org/\" rel=\"nofollow\">http://jenkins-ci.org/</a>) </p>\n\n<p>This server can extract the project from svn build it, run the tests (if any) and even deploy it on a server. </p>\n"}],"owner":{"account_id":1834287,"reputation":25,"user_id":1664960,"display_name":"FDem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12511761,"answer_count":3,"score":0,"last_activity_date":1650899804,"creation_date":1348140209,"question_id":12511606,"body_markdown":"I just wonder when developing a big java project we always use a svn repository for code sharing but is it possible to run the project in that repository? \r\n\r\nOr is there any system for java that allows more than one user to develop and test same project in one place?\r\n","title":"Running a project in svn repository","body":"<p>I just wonder when developing a big java project we always use a svn repository for code sharing but is it possible to run the project in that repository?</p>\n<p>Or is there any system for java that allows more than one user to develop and test same project in one place?</p>\n"},{"tags":["java","android-studio","android-fragments"],"owner":{"account_id":25079530,"reputation":11,"user_id":18932480,"display_name":"AndroidMaster123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650899729,"creation_date":1650832696,"question_id":71992157,"body_markdown":"I&#39;m using bottomNavigationView with fragments. On bottomViewNavigation there are 3 menu items. For one fragment I want to implement animation, where page comes from bottom and covers everything (bottomNavigationView , fab, actionbar). This page should be completely hidden when it is being dragged down.\r\n\r\nI tried using: `app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior`, but I don&#39;t know how to make the best use of it.\r\n\r\nAn example of what I&#39;m trying to achieve: this navigation can be seen in &quot;Todoist&quot; application, but I want that for only one fragment.\r\n\r\nI&#39;ve posted some code from my application as well:\r\n\r\nFragment XML, where I want to implement bottomsheet\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/fragment_menu&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/dialog_bottom&quot;\r\n        app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot;\r\n        app:behavior_hideable=&quot;true&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TEST&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textSize=&quot;30dp&quot; /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\nMainAcitvity.java\r\n```\r\npackage com.example.planner10;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.fragment.NavHostFragment;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getSupportActionBar().setElevation(0);\r\n\r\n        BottomNavigationView navView = findViewById(R.id.bottomNavigationView);\r\n\r\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.navigation_menu, R.id.navigation_profile, R.id.navigation_notifications)\r\n                .build();\r\n        final NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment_activity_main);\r\n        final NavController navController = navHostFragment.getNavController();\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n        NavigationUI.setupWithNavController(navView, navController);\r\n\r\n    }\r\n}\r\n```\r\nPictures of current state:\r\n\r\n[On profile page][1]\r\n\r\n[current situation on menu page][2]\r\n\r\n\r\nWhat I want to achieve:\r\n[Example of desired navigation][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/STpSx.jpg\r\n  [2]: https://i.stack.imgur.com/31GUE.jpg\r\n  [3]: https://i.stack.imgur.com/onctB.jpg","title":"Draggable bottom sheet in front of everything when navigated from bottomNavigatioVview","body":"<p>I'm using bottomNavigationView with fragments. On bottomViewNavigation there are 3 menu items. For one fragment I want to implement animation, where page comes from bottom and covers everything (bottomNavigationView , fab, actionbar). This page should be completely hidden when it is being dragged down.</p>\n<p>I tried using: <code>app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior</code>, but I don't know how to make the best use of it.</p>\n<p>An example of what I'm trying to achieve: this navigation can be seen in &quot;Todoist&quot; application, but I want that for only one fragment.</p>\n<p>I've posted some code from my application as well:</p>\n<p>Fragment XML, where I want to implement bottomsheet</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/fragment_menu&quot;&gt;\n\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@drawable/dialog_bottom&quot;\n        app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot;\n        app:behavior_hideable=&quot;true&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;TEST&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;30dp&quot; /&gt;\n\n    &lt;/FrameLayout&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>MainAcitvity.java</p>\n<pre><code>package com.example.planner10;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.navigation.NavController;\nimport androidx.navigation.fragment.NavHostFragment;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getSupportActionBar().setElevation(0);\n\n        BottomNavigationView navView = findViewById(R.id.bottomNavigationView);\n\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.navigation_menu, R.id.navigation_profile, R.id.navigation_notifications)\n                .build();\n        final NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment_activity_main);\n        final NavController navController = navHostFragment.getNavController();\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n        NavigationUI.setupWithNavController(navView, navController);\n\n    }\n}\n</code></pre>\n<p>Pictures of current state:</p>\n<p><a href=\"https://i.stack.imgur.com/STpSx.jpg\" rel=\"nofollow noreferrer\">On profile page</a></p>\n<p><a href=\"https://i.stack.imgur.com/31GUE.jpg\" rel=\"nofollow noreferrer\">current situation on menu page</a></p>\n<p>What I want to achieve:\n<a href=\"https://i.stack.imgur.com/onctB.jpg\" rel=\"nofollow noreferrer\">Example of desired navigation</a></p>\n"},{"tags":["java","apache-flink","maven-archetype"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1650716072,"post_id":71973010,"comment_id":127188836,"body_markdown":"If you follow these instructions -- https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/project-configuration/#maven-quickstart -- it should work.","body":"If you follow these instructions -- <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/datastream/project-configuration/#maven-quickstart\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/&zwnj;&#8203;&hellip;</a> -- it should work."},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1650728486,"post_id":71973010,"comment_id":127191678,"body_markdown":"Thanks for pointing to docs Project Configuration - Maven Quickstart section. And that is exactly problem, and that project, which come with maven `flink-quickstart-java` archetype use, is in fact not runnable.\nI went with Fraud Detection with the DataStream API example https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/try-flink/datastream/ using `flink-walkthrough-datastream-java` and it just worked. See P.S. in the question now.","body":"Thanks for pointing to docs Project Configuration - Maven Quickstart section. And that is exactly problem, and that project, which come with maven <code>flink-quickstart-java</code> archetype use, is in fact not runnable. I went with Fraud Detection with the DataStream API example <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/try-flink/datastream/\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.14/docs/&hellip;</a> using <code>flink-walkthrough-datastream-java</code> and it just worked. See P.S. in the question now."}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650899691,"creation_date":1650733772,"answer_id":71981900,"question_id":71973010,"body_markdown":"The maven quickstart does provide a properly setup skeleton project. However, the supplied applications aren&#39;t complete and don&#39;t run out of the box because they lack sources and sinks.\r\n\r\nIf you define a simple pipeline such as\r\n\r\n```\r\nenv.fromElements(1, 2, 3).print();\r\n```\r\n\r\nthen they will work.","title":"flink-quickstart-java Exception in thread &quot;main&quot; java.lang.RuntimeException: No data sinks have been created yet","body":"<p>The maven quickstart does provide a properly setup skeleton project. However, the supplied applications aren't complete and don't run out of the box because they lack sources and sinks.</p>\n<p>If you define a simple pipeline such as</p>\n<pre><code>env.fromElements(1, 2, 3).print();\n</code></pre>\n<p>then they will work.</p>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71981900,"answer_count":1,"score":0,"last_activity_date":1650899691,"creation_date":1650651046,"question_id":71973010,"body_markdown":"I have just created new Flink project using maven archetype (i.e. template)\r\n(Looking at [this](https://medium.com/big-data-processing/apache-flink-getting-started-part-1-3ac2206ccc96) article)\r\n\r\n```\r\nmvn archetype:generate                               \\\r\n      -DarchetypeGroupId=org.apache.flink              \\\r\n      -DarchetypeArtifactId=flink-quickstart-java\r\n```    \r\n\r\n1.14.4 is current version. The project can compile. \r\nBut when running either `BatchJob` or `StreamingJob`\r\n\r\n```\r\npublic class BatchJob {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// set up the batch execution environment\r\n\t\tfinal ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\r\n```\r\n\r\n\r\nThe first Exception NoClassDefFoundError: org/apache/flink/streaming/api/environment/StreamExecutionEnvironment\r\ncan be solved as in https://stackoverflow.com/questions/60809568/java-lang-noclassdeffounderror-org-apache-flink-streaming-api-scala-streamexecu\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/flink/streaming/api/environment/StreamExecutionEnvironment\r\n\tat com.example.flink.StreamingJob.main(StreamingJob.java:39)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.flink.streaming.api.environment.StreamExecutionEnvironment\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n```\r\n\r\nBut then I get\r\n`Exception in thread &quot;main&quot; java.lang.RuntimeException: No data sinks have been created yet.`\r\n\r\nP.S. All links to documentation https://flink.apache.org/docs/latest from these 2 Java classes are 404 Not Found,  \r\nso I guess this maven archetype was in fact abandoned and not updated for some time.\r\n\r\n```\r\n\t\t * Have a look at the programming guide for the Java API:\r\n\t\t *\r\n\t\t * https://flink.apache.org/docs/latest/apis/batch/index.html\r\n\t\t *\r\n\t\t * and the examples\r\n\t\t *\r\n\t\t * https://flink.apache.org/docs/latest/apis/batch/examples.html\r\n```","title":"flink-quickstart-java Exception in thread &quot;main&quot; java.lang.RuntimeException: No data sinks have been created yet","body":"<p>I have just created new Flink project using maven archetype (i.e. template)\n(Looking at <a href=\"https://medium.com/big-data-processing/apache-flink-getting-started-part-1-3ac2206ccc96\" rel=\"nofollow noreferrer\">this</a> article)</p>\n<pre><code>mvn archetype:generate                               \\\n      -DarchetypeGroupId=org.apache.flink              \\\n      -DarchetypeArtifactId=flink-quickstart-java\n</code></pre>\n<p>1.14.4 is current version. The project can compile.\nBut when running either <code>BatchJob</code> or <code>StreamingJob</code></p>\n<pre><code>public class BatchJob {\n\n    public static void main(String[] args) throws Exception {\n        // set up the batch execution environment\n        final ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\n</code></pre>\n<p>The first Exception NoClassDefFoundError: org/apache/flink/streaming/api/environment/StreamExecutionEnvironment\ncan be solved as in <a href=\"https://stackoverflow.com/questions/60809568/java-lang-noclassdeffounderror-org-apache-flink-streaming-api-scala-streamexecu\">java.lang.NoClassDefFoundError: org/apache/flink/streaming/api/scala/StreamExecutionEnvironment</a></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/flink/streaming/api/environment/StreamExecutionEnvironment\n    at com.example.flink.StreamingJob.main(StreamingJob.java:39)\nCaused by: java.lang.ClassNotFoundException: org.apache.flink.streaming.api.environment.StreamExecutionEnvironment\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 1 more\n</code></pre>\n<p>But then I get\n<code>Exception in thread &quot;main&quot; java.lang.RuntimeException: No data sinks have been created yet.</code></p>\n<p>P.S. All links to documentation <a href=\"https://flink.apache.org/docs/latest\" rel=\"nofollow noreferrer\">https://flink.apache.org/docs/latest</a> from these 2 Java classes are 404 Not Found,<br />\nso I guess this maven archetype was in fact abandoned and not updated for some time.</p>\n<pre><code>         * Have a look at the programming guide for the Java API:\n         *\n         * https://flink.apache.org/docs/latest/apis/batch/index.html\n         *\n         * and the examples\n         *\n         * https://flink.apache.org/docs/latest/apis/batch/examples.html\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1650898659,"post_id":72001209,"comment_id":127226234,"body_markdown":"Sorry i missed the next step in the thread logic.","body":"Sorry i missed the next step in the thread logic."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1650898747,"post_id":72001209,"comment_id":127226285,"body_markdown":"Why do you want your threads to run forever? That&#39;s dangerous","body":"Why do you want your threads to run forever? That&#39;s dangerous"},{"owner":{"account_id":18175403,"reputation":187,"user_id":13224253,"display_name":"GoldNova"},"score":0,"creation_date":1650899172,"post_id":72001209,"comment_id":127226478,"body_markdown":"@RAZ_Muh_Taz It won&#39;t run forever because I stop it after a couple iterarions. It is an example program","body":"@RAZ_Muh_Taz It won&#39;t run forever because I stop it after a couple iterarions. It is an example program"}],"answers":[{"tags":[],"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650899648,"creation_date":1650899262,"answer_id":72001729,"question_id":72001209,"body_markdown":"Your counter should be a value shared by all threads, so that incrementing it from one thread affects all concurrent threads.\r\n\r\nSimplest way to do that is to use a `static` field. Then use some kind of synchronization to avoid threads incrementing / reading counter concurrently.\r\n\r\n```lang-java\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n\tint logicalCores = Runtime.getRuntime().availableProcessors();\r\n\tint startFrom = 0;\r\n\tstartCalc(logicalCores, startFrom);\r\n  }\r\n\r\n  public static void startCalc(int threadCount, int startFrom) {\r\n\tPrimeCalculator.startAt(startFrom); //Set this for all threads\r\n\tfor (int i = 0; i &lt; threadCount; i++) {\r\n\t  PrimeCalculator calculator = new PrimeCalculator(i);\r\n\t  Thread thread = new Thread(calculator);\r\n\t  thread.start();\r\n\t}\r\n  }\r\n}\r\n```\r\n\r\n```lang-java\r\nimport static java.lang.Thread.sleep;\r\n\r\npublic class PrimeCalculator implements Runnable {\r\n\r\n  static int counter; //Use static variable\r\n  int id;\r\n\r\n  public static void startAt(int counterStart) { //Set start once for all threads\r\n\tcounter = counterStart;\r\n  }\r\n\r\n  public PrimeCalculator(int id) {\r\n\tthis.id = id;\r\n  }\r\n\r\n  @Override\r\n  public void run() {\r\n\twhile (true) {\r\n\t  int current = incrementAndGetCounter();\r\n\r\n\t  if (isPrime((current))) {\r\n\t\tSystem.out.printf(&quot;Thread with ID %d found that %d is a prime! \\n&quot;, id, current);\r\n\r\n\t\ttry {\r\n\t\t  sleep(1000);\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t  }\r\n\t}\r\n  }\r\n\r\n  public static boolean isPrime(int n) {\r\n\tif (n == 2 || n == 3 || n == 5)\r\n\t  return true;\r\n\tif (n &lt;= 1 || (n &amp; 1) == 0)\r\n\t  return false;\r\n\tfor (int i = 3; i * i &lt;= n; i += 2)\r\n\t  if (n % i == 0)\r\n\t\treturn false;\r\n\treturn true;\r\n  }\r\n\r\n  //Use synchronized method to increment and get value\r\n  //to prevent one thread incrementing it while another one is reading it\r\n  private static synchronized int incrementAndGetCounter() {\r\n\treturn counter++;\r\n  }\r\n}\r\n```","title":"Multithreaded Prime finder Java","body":"<p>Your counter should be a value shared by all threads, so that incrementing it from one thread affects all concurrent threads.</p>\n<p>Simplest way to do that is to use a <code>static</code> field. Then use some kind of synchronization to avoid threads incrementing / reading counter concurrently.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n  public static void main(String[] args) {\n    int logicalCores = Runtime.getRuntime().availableProcessors();\n    int startFrom = 0;\n    startCalc(logicalCores, startFrom);\n  }\n\n  public static void startCalc(int threadCount, int startFrom) {\n    PrimeCalculator.startAt(startFrom); //Set this for all threads\n    for (int i = 0; i &lt; threadCount; i++) {\n      PrimeCalculator calculator = new PrimeCalculator(i);\n      Thread thread = new Thread(calculator);\n      thread.start();\n    }\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.Thread.sleep;\n\npublic class PrimeCalculator implements Runnable {\n\n  static int counter; //Use static variable\n  int id;\n\n  public static void startAt(int counterStart) { //Set start once for all threads\n    counter = counterStart;\n  }\n\n  public PrimeCalculator(int id) {\n    this.id = id;\n  }\n\n  @Override\n  public void run() {\n    while (true) {\n      int current = incrementAndGetCounter();\n\n      if (isPrime((current))) {\n        System.out.printf(&quot;Thread with ID %d found that %d is a prime! \\n&quot;, id, current);\n\n        try {\n          sleep(1000);\n        } catch (Exception e) {\n        }\n      }\n    }\n  }\n\n  public static boolean isPrime(int n) {\n    if (n == 2 || n == 3 || n == 5)\n      return true;\n    if (n &lt;= 1 || (n &amp; 1) == 0)\n      return false;\n    for (int i = 3; i * i &lt;= n; i += 2)\n      if (n % i == 0)\n        return false;\n    return true;\n  }\n\n  //Use synchronized method to increment and get value\n  //to prevent one thread incrementing it while another one is reading it\n  private static synchronized int incrementAndGetCounter() {\n    return counter++;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18175403,"reputation":187,"user_id":13224253,"display_name":"GoldNova"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72001729,"answer_count":1,"score":0,"last_activity_date":1650899648,"creation_date":1650897064,"question_id":72001209,"body_markdown":"Currently I&#39;m trying to implement a prime finder using threads in java. Unfortunately it does not seem to work the way I intend it to.\r\n\r\nWhat I basically want is that I have a while(true) loop to generate numbers indefinitely. After a number is generated,a thread should grab that number and check if it is a prime number. While the first thread is still checking for prime, the second thread already grabbed the next number to check for prime and so on.\r\n\r\nRight now the number generating does work but all threads seem to use the same number, which makes no sense for my implementation. \r\n\r\nThis is the current state of my project:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int logicalCores = Runtime.getRuntime().availableProcessors();\r\n            int startFrom = 0;\r\n            startCalc(logicalCores, startFrom);\r\n        }\r\n    \r\n        public static void startCalc(int threadCount, int startFrom){\r\n            for (int i = 0; i &lt; threadCount; i++ ){\r\n                PrimeCalculator calculator = new PrimeCalculator(startFrom, i);\r\n                Thread thread = new Thread(calculator);\r\n                thread.start();\r\n            }    \r\n        }\r\n    }\r\n    \r\n---\r\n    import static java.lang.Thread.sleep;\r\n    \r\n    public class PrimeCalculator implements Runnable{    \r\n        int startingCounter;\r\n        int id;\r\n        public PrimeCalculator(int counter, int id){\r\n        this.startingCounter = counter;\r\n        this.id = id;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            Integer counter = startingCounter;\r\n    \r\n            while(true){                \r\n                if (isPrime((counter))){\r\n                    System.out.printf(&quot;Thread with ID %d found that %d is a prime! \\n&quot;, id, counter );\r\n    \r\n                    try{\r\n                        sleep(10000);\r\n                    } catch (Exception e){    \r\n                    }    \r\n                }\r\n    \r\n                synchronized (counter){\r\n                    counter++;\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static boolean isPrime(int n)\r\n        {\r\n            if (n == 2 || n == 3 || n == 5) return true;\r\n            if (n &lt;= 1 || (n&amp;1) == 0) return false;\r\n            for (int i = 3; i*i &lt;= n; i += 2)\r\n                if (n % i == 0) return false;\r\n            return true;\r\n        }    \r\n    }\r\n\r\n\r\nThe problem is that all threads seem to keep checking the same number. E.g the number is 2, but all 16 Threads of my CPU check for prime while in reality a thread like Thread0 should check the number 2 for prime while others are already checking an increment of the counter (e.g Thread15 is already at 16) etc.\r\n\r\nEDIT:\r\n\r\nI think I need to give a better example of the expected behaviour.\r\n\r\nLet&#39;s say I have a computer with 4 cores and 4 threads. This would make the logicalCores variable in my main method 4 and create 4 threads in the function &quot;startCalc&quot;.\r\n\r\nNow a loop should generate numbers from a defined starting point. Let&#39;s just say that point is 0.\r\nWhat should happen now is that a thread, let&#39;s just call it thread0 is taking that number and checks if it is a prime. In the meantime the loop generated an increment of the counter and sits at &quot;1&quot; now. Now, because thread0 is still checking if 0 is a prime, a second thread, thread1, grabbed the current counter with the value &quot;1&quot; and is checking if &quot;1&quot; is a prime.\r\n\r\nThe goal here is that each thread is checking a number for prime in a way which prevents double checking. e.g (we DO NOT want thread0 to check if 1 is a prime because thread1 already did)","title":"Multithreaded Prime finder Java","body":"<p>Currently I'm trying to implement a prime finder using threads in java. Unfortunately it does not seem to work the way I intend it to.</p>\n<p>What I basically want is that I have a while(true) loop to generate numbers indefinitely. After a number is generated,a thread should grab that number and check if it is a prime number. While the first thread is still checking for prime, the second thread already grabbed the next number to check for prime and so on.</p>\n<p>Right now the number generating does work but all threads seem to use the same number, which makes no sense for my implementation.</p>\n<p>This is the current state of my project:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int logicalCores = Runtime.getRuntime().availableProcessors();\n        int startFrom = 0;\n        startCalc(logicalCores, startFrom);\n    }\n\n    public static void startCalc(int threadCount, int startFrom){\n        for (int i = 0; i &lt; threadCount; i++ ){\n            PrimeCalculator calculator = new PrimeCalculator(startFrom, i);\n            Thread thread = new Thread(calculator);\n            thread.start();\n        }    \n    }\n}\n</code></pre>\n<hr />\n<pre><code>import static java.lang.Thread.sleep;\n\npublic class PrimeCalculator implements Runnable{    \n    int startingCounter;\n    int id;\n    public PrimeCalculator(int counter, int id){\n    this.startingCounter = counter;\n    this.id = id;\n    }\n\n    @Override\n    public void run() {\n        Integer counter = startingCounter;\n\n        while(true){                \n            if (isPrime((counter))){\n                System.out.printf(&quot;Thread with ID %d found that %d is a prime! \\n&quot;, id, counter );\n\n                try{\n                    sleep(10000);\n                } catch (Exception e){    \n                }    \n            }\n\n            synchronized (counter){\n                counter++;\n            }\n        }\n    }\n\n    public static boolean isPrime(int n)\n    {\n        if (n == 2 || n == 3 || n == 5) return true;\n        if (n &lt;= 1 || (n&amp;1) == 0) return false;\n        for (int i = 3; i*i &lt;= n; i += 2)\n            if (n % i == 0) return false;\n        return true;\n    }    \n}\n</code></pre>\n<p>The problem is that all threads seem to keep checking the same number. E.g the number is 2, but all 16 Threads of my CPU check for prime while in reality a thread like Thread0 should check the number 2 for prime while others are already checking an increment of the counter (e.g Thread15 is already at 16) etc.</p>\n<p>EDIT:</p>\n<p>I think I need to give a better example of the expected behaviour.</p>\n<p>Let's say I have a computer with 4 cores and 4 threads. This would make the logicalCores variable in my main method 4 and create 4 threads in the function &quot;startCalc&quot;.</p>\n<p>Now a loop should generate numbers from a defined starting point. Let's just say that point is 0.\nWhat should happen now is that a thread, let's just call it thread0 is taking that number and checks if it is a prime. In the meantime the loop generated an increment of the counter and sits at &quot;1&quot; now. Now, because thread0 is still checking if 0 is a prime, a second thread, thread1, grabbed the current counter with the value &quot;1&quot; and is checking if &quot;1&quot; is a prime.</p>\n<p>The goal here is that each thread is checking a number for prime in a way which prevents double checking. e.g (we DO NOT want thread0 to check if 1 is a prime because thread1 already did)</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1650809010,"post_id":71988949,"comment_id":127204999,"body_markdown":"If there is no votes how can it be vote date there?","body":"If there is no votes how can it be vote date there?"}],"answers":[{"tags":[],"owner":{"account_id":24000983,"reputation":11,"user_id":17985903,"display_name":"Nerale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650899593,"creation_date":1650899593,"answer_id":72001810,"question_id":71988949,"body_markdown":"Problem is solved.\r\nSolution:\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@Table(name = &quot;restaurant&quot;, uniqueConstraints = @UniqueConstraint(columnNames = &quot;name&quot;))\r\n@NamedEntityGraph(name = &quot;graph.Parent.children&quot;, attributeNodes = @NamedAttributeNode(&quot;votes&quot;)) // added this\r\npublic class Restaurant extends NamedEntity implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @OneToMany(mappedBy = &quot;restaurant&quot;,\r\n            fetch = FetchType.EAGER,\r\n            cascade = CascadeType.ALL)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonManagedReference\r\n    private Set&lt;Vote&gt; votes = new HashSet&lt;&gt;();\r\n\r\n    public Restaurant(Integer id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\nAnd repo&#39;s method\r\n```\r\n@Query(&quot;select distinct r from Restaurant r left join r.votes v on v.date=current_date&quot;)\r\n    @EntityGraph(value = &quot;graph.Parent.children&quot;) // added this\r\n    Set&lt;Restaurant&gt; findAllForCurrentDate();\r\n```","title":"Spring data one-to-many select query","body":"<p>Problem is solved.\nSolution:</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter\n@Setter\n@AllArgsConstructor\n@Table(name = &quot;restaurant&quot;, uniqueConstraints = @UniqueConstraint(columnNames = &quot;name&quot;))\n@NamedEntityGraph(name = &quot;graph.Parent.children&quot;, attributeNodes = @NamedAttributeNode(&quot;votes&quot;)) // added this\npublic class Restaurant extends NamedEntity implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 1L;\n\n    @OneToMany(mappedBy = &quot;restaurant&quot;,\n            fetch = FetchType.EAGER,\n            cascade = CascadeType.ALL)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonManagedReference\n    private Set&lt;Vote&gt; votes = new HashSet&lt;&gt;();\n\n    public Restaurant(Integer id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n<p>And repo's method</p>\n<pre><code>@Query(&quot;select distinct r from Restaurant r left join r.votes v on v.date=current_date&quot;)\n    @EntityGraph(value = &quot;graph.Parent.children&quot;) // added this\n    Set&lt;Restaurant&gt; findAllForCurrentDate();\n</code></pre>\n"}],"owner":{"account_id":24000983,"reputation":11,"user_id":17985903,"display_name":"Nerale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72001810,"answer_count":1,"score":0,"last_activity_date":1650899593,"creation_date":1650807401,"question_id":71988949,"body_markdown":"I&#39;m trying to configure out hql for many-to-one relationship and facing next issue: spring data doesn&#39;t select restaurant if votes count for today is less than 1. In database everything&#39;s ok\r\n\r\n\r\n\r\nResult should be\r\n```\r\n  {\r\n    &quot;id&quot;: 3,\r\n    &quot;name&quot;: &quot;Kroger&quot;,\r\n    &quot;votes&quot;: 2\r\n  },\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;Fridays&quot;,\r\n    &quot;votes&quot;: 1\r\n  },\r\n  {\r\n    &quot;id&quot;: 4,\r\n    &quot;name&quot;: &quot;Wingstop&quot;,\r\n    &quot;votes&quot;: 1\r\n  },\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;Macdonalds&quot;,\r\n    &quot;votes&quot;: 0\r\n  }\r\n```\r\nBut it is\r\n```\r\n  {\r\n    &quot;id&quot;: 3,\r\n    &quot;name&quot;: &quot;Kroger&quot;,\r\n    &quot;votes&quot;: 2\r\n  },\r\n  {\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;Fridays&quot;,\r\n    &quot;votes&quot;: 1\r\n  },\r\n  {\r\n    &quot;id&quot;: 4,\r\n    &quot;name&quot;: &quot;Wingstop&quot;,\r\n    &quot;votes&quot;: 1\r\n  }\r\n```\r\n\r\nRestaurant entity\r\n``` \r\n@Entity\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;restaurant&quot;, uniqueConstraints = @UniqueConstraint(columnNames = &quot;name&quot;))\r\npublic class Restaurant extends NamedEntity {\r\n    @OneToMany(mappedBy = &quot;restaurant&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonManagedReference\r\n    private Set&lt;Vote&gt; votes;\r\n\r\n    public Restaurant(Integer id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\nVote entity\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(name = &quot;votes&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;user_id&quot;, &quot;date&quot;}, name = &quot;unique_user_id_per_date_idx&quot;)})\r\npublic class Vote extends BaseEntity {\r\n    @Column(name = &quot;date&quot;)\r\n    @CreationTimestamp\r\n    private LocalDate date;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private User user;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;restaurant_id&quot;)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private Restaurant restaurant;\r\n\r\n    public Vote(Integer id, LocalDate date, User user, Restaurant restaurant) {\r\n        super(id);\r\n        this.date = date;\r\n        this.user = user;\r\n        this.restaurant = restaurant;\r\n    }\r\n}\r\n```\r\nRestaurant repository\r\n```\r\n@Transactional(readOnly = true)\r\npublic interface RestaurantRepository extends BaseRepository&lt;Restaurant&gt; {\r\n\r\n//    @Query(&quot;select r from Restaurant r join r.votes v where v.date=current_date&quot;)\r\n//    @Query(&quot;from Restaurant r left join  r.votes v where v.date=current_date&quot;)\r\n//    @Query(&quot;select r from Restaurant r join fetch Vote v on v.date=current_date&quot;)\r\n//    Set&lt;Restaurant&gt; findAllForCurrentDate();\r\n\r\n//    @Query(&quot;from Restaurant r left join fetch r.votes as v on v.date=current_date&quot;)\r\n\r\n    @Query(&quot;from Restaurant r left outer join fetch r.votes as v where v.date=current_date&quot;)\r\n    Set&lt;Restaurant&gt; findAllForCurrentDate();\r\n}\r\n```\r\n**If you need additional info please let me know.**","title":"Spring data one-to-many select query","body":"<p>I'm trying to configure out hql for many-to-one relationship and facing next issue: spring data doesn't select restaurant if votes count for today is less than 1. In database everything's ok</p>\n<p>Result should be</p>\n<pre><code>  {\n    &quot;id&quot;: 3,\n    &quot;name&quot;: &quot;Kroger&quot;,\n    &quot;votes&quot;: 2\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;Fridays&quot;,\n    &quot;votes&quot;: 1\n  },\n  {\n    &quot;id&quot;: 4,\n    &quot;name&quot;: &quot;Wingstop&quot;,\n    &quot;votes&quot;: 1\n  },\n  {\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Macdonalds&quot;,\n    &quot;votes&quot;: 0\n  }\n</code></pre>\n<p>But it is</p>\n<pre><code>  {\n    &quot;id&quot;: 3,\n    &quot;name&quot;: &quot;Kroger&quot;,\n    &quot;votes&quot;: 2\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;Fridays&quot;,\n    &quot;votes&quot;: 1\n  },\n  {\n    &quot;id&quot;: 4,\n    &quot;name&quot;: &quot;Wingstop&quot;,\n    &quot;votes&quot;: 1\n  }\n</code></pre>\n<p>Restaurant entity</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter\n@Setter\n@Table(name = &quot;restaurant&quot;, uniqueConstraints = @UniqueConstraint(columnNames = &quot;name&quot;))\npublic class Restaurant extends NamedEntity {\n    @OneToMany(mappedBy = &quot;restaurant&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonManagedReference\n    private Set&lt;Vote&gt; votes;\n\n    public Restaurant(Integer id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n<p>Vote entity</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;votes&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;user_id&quot;, &quot;date&quot;}, name = &quot;unique_user_id_per_date_idx&quot;)})\npublic class Vote extends BaseEntity {\n    @Column(name = &quot;date&quot;)\n    @CreationTimestamp\n    private LocalDate date;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private User user;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;restaurant_id&quot;)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private Restaurant restaurant;\n\n    public Vote(Integer id, LocalDate date, User user, Restaurant restaurant) {\n        super(id);\n        this.date = date;\n        this.user = user;\n        this.restaurant = restaurant;\n    }\n}\n</code></pre>\n<p>Restaurant repository</p>\n<pre><code>@Transactional(readOnly = true)\npublic interface RestaurantRepository extends BaseRepository&lt;Restaurant&gt; {\n\n//    @Query(&quot;select r from Restaurant r join r.votes v where v.date=current_date&quot;)\n//    @Query(&quot;from Restaurant r left join  r.votes v where v.date=current_date&quot;)\n//    @Query(&quot;select r from Restaurant r join fetch Vote v on v.date=current_date&quot;)\n//    Set&lt;Restaurant&gt; findAllForCurrentDate();\n\n//    @Query(&quot;from Restaurant r left join fetch r.votes as v on v.date=current_date&quot;)\n\n    @Query(&quot;from Restaurant r left outer join fetch r.votes as v where v.date=current_date&quot;)\n    Set&lt;Restaurant&gt; findAllForCurrentDate();\n}\n</code></pre>\n<p><strong>If you need additional info please let me know.</strong></p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650886439,"creation_date":1650886439,"answer_id":71998892,"question_id":71998749,"body_markdown":"You change the version number of the library to something like `1.2.3-patched-SNAPSHOT`.\r\n\r\nThen you build it with `mvn clean install`.\r\n\r\nNow the application can use it.","title":"How to publish libraries locally on your computer with Maven","body":"<p>You change the version number of the library to something like <code>1.2.3-patched-SNAPSHOT</code>.</p>\n<p>Then you build it with <code>mvn clean install</code>.</p>\n<p>Now the application can use it.</p>\n"}],"owner":{"account_id":973884,"reputation":1114,"user_id":2072202,"accept_rate":50,"display_name":"Ababneh A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650898879,"creation_date":1650885804,"question_id":71998749,"body_markdown":"I have maven application which uses a library. I have the source code of both the application and the library.\r\n\r\nI made a change locally on my machine in the library, and would like to test it the changes with my application. \r\n\r\nWhat are the steps/step to do in order to use the modified version of the library in my application locally?\r\n\r\nBoth the application and the library use Java 8, Spring, Maven 3","title":"How to publish libraries locally on your computer with Maven","body":"<p>I have maven application which uses a library. I have the source code of both the application and the library.</p>\n<p>I made a change locally on my machine in the library, and would like to test it the changes with my application.</p>\n<p>What are the steps/step to do in order to use the modified version of the library in my application locally?</p>\n<p>Both the application and the library use Java 8, Spring, Maven 3</p>\n"},{"tags":["java","bytecode","jvm-bytecode","ijvm"],"answers":[{"tags":[],"owner":{"account_id":977224,"reputation":7453,"user_id":997958,"display_name":"Kraylog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650898584,"creation_date":1650898584,"answer_id":72001548,"question_id":72001439,"body_markdown":"IJVM contains a subset of the JVM instruction set, so you could claim it is possible, theoretically, to automatically convert a *set* of programs that would be compiled only to that particular instruction subset.\r\n\r\nI don&#39;t know of anything that would actually do it, though. The point of IJVM is to teach assembly, so I suppose that would be counterproductive.","title":"Is it possible to automatically translate Java bytecode to IJVM?","body":"<p>IJVM contains a subset of the JVM instruction set, so you could claim it is possible, theoretically, to automatically convert a <em>set</em> of programs that would be compiled only to that particular instruction subset.</p>\n<p>I don't know of anything that would actually do it, though. The point of IJVM is to teach assembly, so I suppose that would be counterproductive.</p>\n"}],"owner":{"account_id":25088925,"reputation":1,"user_id":18940800,"display_name":"bigboss0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650898584,"creation_date":1650898073,"question_id":72001439,"body_markdown":"Is it possible to automatically translate Java bytecode to IJVM? Is there any possibility you know?","title":"Is it possible to automatically translate Java bytecode to IJVM?","body":"<p>Is it possible to automatically translate Java bytecode to IJVM? Is there any possibility you know?</p>\n"},{"tags":["java","heroku"],"comments":[{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1650898494,"post_id":72001427,"comment_id":127226157,"body_markdown":"Welcome to Stack Overflow. [Please don&#39;t post screenshots of text](https://meta.stackoverflow.com/a/285557/354577). They can&#39;t be searched or copied, or even consumed by users of adaptive technologies like screen readers. Instead, paste the code as text directly into your question. If you select it and click the `{}` button or Ctrl+K the code block will be indented by four spaces, which will cause it to be rendered as code.","body":"Welcome to Stack Overflow. <a href=\"https://meta.stackoverflow.com/a/285557/354577\">Please don&#39;t post screenshots of text</a>. They can&#39;t be searched or copied, or even consumed by users of adaptive technologies like screen readers. Instead, paste the code as text directly into your question. If you select it and click the <code>{}</code> button or Ctrl+K the code block will be indented by four spaces, which will cause it to be rendered as code."},{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1650898610,"post_id":72001427,"comment_id":127226210,"body_markdown":"Have you tried scaling up your web processes, e.g. by doing [`heroku ps:scale web=1`](https://devcenter.heroku.com/articles/heroku-cli-commands#heroku-ps-scale)?","body":"Have you tried scaling up your web processes, e.g. by doing <a href=\"https://devcenter.heroku.com/articles/heroku-cli-commands#heroku-ps-scale\" rel=\"nofollow noreferrer\"><code>heroku ps:scale web=1</code></a>?"}],"owner":{"account_id":25088715,"reputation":1,"user_id":18940612,"display_name":"marek.vidlak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650898709,"answer_count":0,"score":0,"last_activity_date":1650898537,"creation_date":1650898034,"question_id":72001427,"body_markdown":"I have problem with doployment to heroku, I used Heroku CLI, but I can&#180;t get even get it started as Dyno. I always get this error message:\r\n\r\n[![][1]][1]\r\n\r\nI&#180;m using Spring Boot 2.4.0.\r\nWith theese dependencies:\r\n\r\n - spring-boot-starter-actuator\r\n - spring-boot-starter-data-jpa\r\n - spring-boot-starter-web\r\n - spring-boot-starter-web-services\r\n - spring-boot-devtools\r\n - h2 for db\r\n - lombok\r\n - spring-boot-starter-test\r\n - springfox-swagger2\r\n - springfox-swagger-ui\r\n - spring-boot-starter-validation\r\n - junit\r\n - webapp-runner\r\n\r\nI also have setted up Procfile with following:\r\n\r\n    web: java -Dserver.port=$PORT $JAVA_OPTS -jar target/springBootExrcise-0.0.1-SNAPSHOT.jar\r\n\r\n\r\nI have tried using the Heroku webapp-runner plugin, still nothing.\r\nWhen I run the app locally, everything works. Could someone shed some light ? Thanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vFngb.png","title":"No web processes running on Heroku with Sprint Boot","body":"<p>I have problem with doployment to heroku, I used Heroku CLI, but I can´t get even get it started as Dyno. I always get this error message:</p>\n<p><a href=\"https://i.stack.imgur.com/vFngb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vFngb.png\" alt=\"\" /></a></p>\n<p>I´m using Spring Boot 2.4.0.\nWith theese dependencies:</p>\n<ul>\n<li>spring-boot-starter-actuator</li>\n<li>spring-boot-starter-data-jpa</li>\n<li>spring-boot-starter-web</li>\n<li>spring-boot-starter-web-services</li>\n<li>spring-boot-devtools</li>\n<li>h2 for db</li>\n<li>lombok</li>\n<li>spring-boot-starter-test</li>\n<li>springfox-swagger2</li>\n<li>springfox-swagger-ui</li>\n<li>spring-boot-starter-validation</li>\n<li>junit</li>\n<li>webapp-runner</li>\n</ul>\n<p>I also have setted up Procfile with following:</p>\n<pre><code>web: java -Dserver.port=$PORT $JAVA_OPTS -jar target/springBootExrcise-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>I have tried using the Heroku webapp-runner plugin, still nothing.\nWhen I run the app locally, everything works. Could someone shed some light ? Thanks</p>\n"},{"tags":["java","android","android-studio","android-intent","oppo"],"answers":[{"tags":[],"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650651619,"creation_date":1650651619,"answer_id":71973102,"question_id":71971013,"body_markdown":"Your activity needs to be exported in order for other applications to launch it.\r\n\r\n    &lt;activity\r\n            ...\r\n            android:exported=&quot;true&quot;&gt;","title":"How to launch my app (not in google play) in disconnect mode from a QR Code like myApp://open on my OPPO that use google Lens online app?","body":"<p>Your activity needs to be exported in order for other applications to launch it.</p>\n<pre><code>&lt;activity\n        ...\n        android:exported=&quot;true&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12669241,"reputation":34,"user_id":9207341,"display_name":"Ramazan Akbal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650652599,"creation_date":1650652599,"answer_id":71973266,"question_id":71971013,"body_markdown":"There is no problem with your code. However, you may be having problems due to the new &quot;exported&quot; logic. \r\n\r\n&gt; If this element is set to &quot;false&quot; and an app tries to start the activity, the system throws an ActivityNotFoundException.\r\n\r\n[more information][1]\r\n\r\n\r\n\r\nOr, there may be a problem with the QR code you simply made. Try to create from [this][2] address.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/activity-element\r\n  [2]: https://www.the-qrcode-generator.com/\r\n\r\n","title":"How to launch my app (not in google play) in disconnect mode from a QR Code like myApp://open on my OPPO that use google Lens online app?","body":"<p>There is no problem with your code. However, you may be having problems due to the new &quot;exported&quot; logic.</p>\n<blockquote>\n<p>If this element is set to &quot;false&quot; and an app tries to start the activity, the system throws an ActivityNotFoundException.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/guide/topics/manifest/activity-element\" rel=\"nofollow noreferrer\">more information</a></p>\n<p>Or, there may be a problem with the QR code you simply made. Try to create from <a href=\"https://www.the-qrcode-generator.com/\" rel=\"nofollow noreferrer\">this</a> address.</p>\n"}],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650898130,"creation_date":1650640493,"question_id":71971013,"body_markdown":"I try to open my app with a QR Code generated : myApp://open   \r\nWhen I scan it, it send me an error message : &quot;Sorry the application requested could not be launched. The content of the barcode may be invalid&quot;.\r\n\r\n    &lt;activity\r\n                android:name=&quot;com.myCompany.LoginActivity&quot;\r\n                android:configChanges=&quot;orientation&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;data android:scheme=&quot;myApp&quot; android:host=&quot;open&quot;/&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;data android:scheme=&quot;myApp&quot;/&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n\r\n\r\nI try this [ticket][1] with no success.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2958701/launch-custom-android-application-from-android-browser","title":"How to launch my app (not in google play) in disconnect mode from a QR Code like myApp://open on my OPPO that use google Lens online app?","body":"<p>I try to open my app with a QR Code generated : myApp://open<br />\nWhen I scan it, it send me an error message : &quot;Sorry the application requested could not be launched. The content of the barcode may be invalid&quot;.</p>\n<pre><code>&lt;activity\n            android:name=&quot;com.myCompany.LoginActivity&quot;\n            android:configChanges=&quot;orientation&quot;\n            android:screenOrientation=&quot;portrait&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;data android:scheme=&quot;myApp&quot; android:host=&quot;open&quot;/&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;data android:scheme=&quot;myApp&quot;/&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>I try this <a href=\"https://stackoverflow.com/questions/2958701/launch-custom-android-application-from-android-browser\">ticket</a> with no success.</p>\n<p>Thanks</p>\n"},{"tags":["javascript","java","graalvm"],"answers":[{"tags":[],"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1650820258,"creation_date":1650812566,"answer_id":71989641,"question_id":71989259,"body_markdown":"For js functions, you can define a file, say `globals.js`, where globals are initialized and added to the JavaScript global object :\r\n\r\n```lang-js\r\nglobalThis.someFunction = function() {...}\r\n```\r\n\r\nand set the option [`js.commonjs-global-properties`][1] to load this file at context creation time :\r\n\r\n```lang-java\r\nContext context = Context.newBuilder(&quot;js&quot;)\r\n                         .option(&quot;js.commonjs-global-properties&quot;, &quot;./globals.js&quot;)\r\n                         .build();\r\n```\r\n\r\n----------\r\n\r\nIn order to bind java options to JS, you need to enable `polyglot.js.allowHostAccess` via `Bindings` :\r\n\r\n```lang-java\r\nBindings bindings = engine.getBindings(ScriptContext.ENGINE_SCOPE);\r\nbindings.put(&quot;polyglot.js.allowHostAccess&quot;, true);\r\nbindings.put(&quot;polyglot.js.allowHostClassLookup&quot;, (Predicate&lt;String&gt;) s -&gt; true);\r\nbindings.put(&quot;javaObj&quot;, new Object());\r\n```\r\n\r\nor with Context :\r\n\r\n```lang-java\r\nContext context = Context.newBuilder(&quot;js&quot;)\r\n                         .allowHostAccess(true)\r\n                         .build();\r\n\r\ncontext.getBindings(&quot;js&quot;).putMember(&quot;a&quot;, GlobalMethods.a);\r\n```\r\n\r\nOr you can use the [`@HostAccess.Export`][2] decorator in the class definition :\r\n\r\n```lang-java\r\n  @HostAccess.Export\r\n  public void a() {...}\r\n```\r\n\r\nThough I&#39;m not sure you can access a static method like `GlobalMethods.a()` without referencing the classname at least one time, maybe passing the function output directly is sufficient to suit your needs, or passing the class definition, followed by an eval `globalThis.a = GlobalMethods.a` (not tested).\r\n\r\n\r\n  [1]: https://www.graalvm.org/22.0/reference-manual/js/Modules/#global-symbols-pre-initialization\r\n  [2]: https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/HostAccess.Export.html","title":"Adding global functions/variables to GraalVM JavaScript engine","body":"<p>For js functions, you can define a file, say <code>globals.js</code>, where globals are initialized and added to the JavaScript global object :</p>\n<pre class=\"lang-js prettyprint-override\"><code>globalThis.someFunction = function() {...}\n</code></pre>\n<p>and set the option <a href=\"https://www.graalvm.org/22.0/reference-manual/js/Modules/#global-symbols-pre-initialization\" rel=\"nofollow noreferrer\"><code>js.commonjs-global-properties</code></a> to load this file at context creation time :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Context context = Context.newBuilder(&quot;js&quot;)\n                         .option(&quot;js.commonjs-global-properties&quot;, &quot;./globals.js&quot;)\n                         .build();\n</code></pre>\n<hr />\n<p>In order to bind java options to JS, you need to enable <code>polyglot.js.allowHostAccess</code> via <code>Bindings</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bindings bindings = engine.getBindings(ScriptContext.ENGINE_SCOPE);\nbindings.put(&quot;polyglot.js.allowHostAccess&quot;, true);\nbindings.put(&quot;polyglot.js.allowHostClassLookup&quot;, (Predicate&lt;String&gt;) s -&gt; true);\nbindings.put(&quot;javaObj&quot;, new Object());\n</code></pre>\n<p>or with Context :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Context context = Context.newBuilder(&quot;js&quot;)\n                         .allowHostAccess(true)\n                         .build();\n\ncontext.getBindings(&quot;js&quot;).putMember(&quot;a&quot;, GlobalMethods.a);\n</code></pre>\n<p>Or you can use the <a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/HostAccess.Export.html\" rel=\"nofollow noreferrer\"><code>@HostAccess.Export</code></a> decorator in the class definition :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @HostAccess.Export\n  public void a() {...}\n</code></pre>\n<p>Though I'm not sure you can access a static method like <code>GlobalMethods.a()</code> without referencing the classname at least one time, maybe passing the function output directly is sufficient to suit your needs, or passing the class definition, followed by an eval <code>globalThis.a = GlobalMethods.a</code> (not tested).</p>\n"},{"tags":[],"owner":{"account_id":70109,"reputation":113,"user_id":203633,"display_name":"Lester"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650897935,"creation_date":1650897935,"answer_id":72001408,"question_id":71989259,"body_markdown":"Eric&#39;s answer that uses a global.js works if the methods are not overloaded. In addition, the complete setup for the Context object looks like this with a few additional required options:\r\n\r\n```\r\ncontext = Context.newBuilder(&quot;js&quot;)\r\n          .allowHostAccess(true)\r\n          .allowExperimentalOptions(true)\r\n          .allowAllAccess(true)\r\n          .allowIO(true)                                            // required\r\n          .option(&quot;js.nashorn-compat&quot;, &quot;false&quot;)                     // Must be false\r\n          .option(&quot;js.commonjs-require&quot;, &quot;true&quot;)                    // required\r\n          .option(&quot;js.commonjs-require-cwd&quot;, &quot;/path/to/globals.js&quot;) // required\r\n          .option(&quot;js.commonjs-global-properties&quot;, &quot;./globals.js&quot;)\r\n          .build();\r\n```","title":"Adding global functions/variables to GraalVM JavaScript engine","body":"<p>Eric's answer that uses a global.js works if the methods are not overloaded. In addition, the complete setup for the Context object looks like this with a few additional required options:</p>\n<pre><code>context = Context.newBuilder(&quot;js&quot;)\n          .allowHostAccess(true)\n          .allowExperimentalOptions(true)\n          .allowAllAccess(true)\n          .allowIO(true)                                            // required\n          .option(&quot;js.nashorn-compat&quot;, &quot;false&quot;)                     // Must be false\n          .option(&quot;js.commonjs-require&quot;, &quot;true&quot;)                    // required\n          .option(&quot;js.commonjs-require-cwd&quot;, &quot;/path/to/globals.js&quot;) // required\n          .option(&quot;js.commonjs-global-properties&quot;, &quot;./globals.js&quot;)\n          .build();\n</code></pre>\n"}],"owner":{"account_id":70109,"reputation":113,"user_id":203633,"display_name":"Lester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1314,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1650897935,"creation_date":1650809775,"question_id":71989259,"body_markdown":"How do I add custom global functions to GraalVM&#39;s JavaScript &#39;this&#39; object **without** using Nashorn compatibility mode via the Object.bindProperties() method (see this: https://stackoverflow.com/questions/31236550/defining-a-default-global-java-object-to-nashorn-script-engine) ? I could not find a way using the Context methods and reflection of the Context object does not show a similar bindProperties() method I can use.\r\n\r\nExample:\r\n\r\nI have these methods:\r\n```\r\nclass GlobalMethods\r\n{\r\npublic void a() {...}\r\npublic void b() {...}\r\npublic void c() {...}\r\n}\r\n```\r\n\r\nand I want a(), b() and c() to be callable in JavaScript without scope/qualification:\r\n```\r\ncontext.eval(&quot;js&quot;, &quot;a()&quot;);\r\n```\r\n\r\nThanks in advance!","title":"Adding global functions/variables to GraalVM JavaScript engine","body":"<p>How do I add custom global functions to GraalVM's JavaScript 'this' object <strong>without</strong> using Nashorn compatibility mode via the Object.bindProperties() method (see this: <a href=\"https://stackoverflow.com/questions/31236550/defining-a-default-global-java-object-to-nashorn-script-engine\">Defining a default/global Java object to Nashorn script engine?</a>) ? I could not find a way using the Context methods and reflection of the Context object does not show a similar bindProperties() method I can use.</p>\n<p>Example:</p>\n<p>I have these methods:</p>\n<pre><code>class GlobalMethods\n{\npublic void a() {...}\npublic void b() {...}\npublic void c() {...}\n}\n</code></pre>\n<p>and I want a(), b() and c() to be callable in JavaScript without scope/qualification:</p>\n<pre><code>context.eval(&quot;js&quot;, &quot;a()&quot;);\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","kotlin","redis"],"answers":[{"tags":[],"owner":{"account_id":11747028,"reputation":545,"user_id":8597481,"accept_rate":75,"display_name":"Behrooz Fard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650897816,"creation_date":1650897816,"answer_id":72001371,"question_id":71986925,"body_markdown":"Just need to annotate the class as a component and primary.\r\n\r\n    @Primary\r\n    @Component\r\n    class SafeDeserializationRepository&lt;S : Session?&gt;(\r\n        private val delegate: SessionRepository&lt;S&gt;,\r\n        private val redisTemplate: RedisTemplate&lt;String, String&gt;\r\n    ) : SessionRepository&lt;S&gt; {\r\n\r\n        ....\r\n\r\n    }","title":"How to customize SessionRepository in Spring Boot Redis","body":"<p>Just need to annotate the class as a component and primary.</p>\n<pre><code>@Primary\n@Component\nclass SafeDeserializationRepository&lt;S : Session?&gt;(\n    private val delegate: SessionRepository&lt;S&gt;,\n    private val redisTemplate: RedisTemplate&lt;String, String&gt;\n) : SessionRepository&lt;S&gt; {\n\n    ....\n\n}\n</code></pre>\n"}],"owner":{"account_id":11747028,"reputation":545,"user_id":8597481,"accept_rate":75,"display_name":"Behrooz Fard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650897816,"creation_date":1650790986,"question_id":71986925,"body_markdown":"SafeDeserializationRepository is a class that I extended from SessionRepository. I&#39;d like Redis to use this class rather than its SessionRepository. How can I implement it?\r\n\r\n    class SafeDeserializationRepository&lt;S : Session?&gt;(\r\n        private val delegate: SessionRepository&lt;S&gt;,\r\n        private val redisTemplate: RedisTemplate&lt;String, String&gt;\r\n    ) : SessionRepository&lt;S&gt; {\r\n\r\n        override fun createSession(): S {\r\n            return delegate.createSession()\r\n        }\r\n\r\n        override fun save(session: S) {\r\n            delegate.save(session)\r\n        }\r\n\r\n        override fun findById(p0: String?): S? {\r\n            return try {\r\n                delegate.findById(p0)\r\n            } catch (e: Exception) {\r\n                println(&quot;Deleting non-deserializable session with key $p0&quot;)\r\n                redisTemplate.delete(BOUNDED_HASH_KEY_PREFIX + p0)\r\n                null\r\n            }\r\n        }\r\n\r\n        override fun deleteById(p0: String?) {\r\n            delegate.deleteById(p0)\r\n        }\r\n\r\n        companion object {\r\n            private const val BOUNDED_HASH_KEY_PREFIX = &quot;spring:session:sessions:&quot;\r\n        }\r\n    }","title":"How to customize SessionRepository in Spring Boot Redis","body":"<p>SafeDeserializationRepository is a class that I extended from SessionRepository. I'd like Redis to use this class rather than its SessionRepository. How can I implement it?</p>\n<pre><code>class SafeDeserializationRepository&lt;S : Session?&gt;(\n    private val delegate: SessionRepository&lt;S&gt;,\n    private val redisTemplate: RedisTemplate&lt;String, String&gt;\n) : SessionRepository&lt;S&gt; {\n\n    override fun createSession(): S {\n        return delegate.createSession()\n    }\n\n    override fun save(session: S) {\n        delegate.save(session)\n    }\n\n    override fun findById(p0: String?): S? {\n        return try {\n            delegate.findById(p0)\n        } catch (e: Exception) {\n            println(&quot;Deleting non-deserializable session with key $p0&quot;)\n            redisTemplate.delete(BOUNDED_HASH_KEY_PREFIX + p0)\n            null\n        }\n    }\n\n    override fun deleteById(p0: String?) {\n        delegate.deleteById(p0)\n    }\n\n    companion object {\n        private const val BOUNDED_HASH_KEY_PREFIX = &quot;spring:session:sessions:&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","upgrade","rundeck"],"comments":[{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1650555125,"post_id":71956698,"comment_id":127150933,"body_markdown":"Hi! Could you elaborate? Are you using some database as a backend?","body":"Hi! Could you elaborate? Are you using some database as a backend?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1650555445,"post_id":71956698,"comment_id":127151038,"body_markdown":"I would think the 1st thing is to contact rundeck tech support, no?","body":"I would think the 1st thing is to contact rundeck tech support, no?"},{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1650555748,"post_id":71956698,"comment_id":127151170,"body_markdown":"Hi OldProgrammer, the dedicated tech support is for Process Automation On Prem (Formely Rundeck Enterprise).","body":"Hi OldProgrammer, the dedicated tech support is for Process Automation On Prem (Formely Rundeck Enterprise)."},{"owner":{"account_id":25038213,"reputation":35,"user_id":18895377,"display_name":"Rajesh V"},"score":0,"creation_date":1650556413,"post_id":71956698,"comment_id":127151409,"body_markdown":"Hi MehaDrive68k, I have followed below link for database migration steps..\n\nhttps://docs.rundeck.com/docs/upgrading/upgrading-to-rundeck-3.4.html#package-repositories\n\nStill i am facing the same issue. Please suggest if anything i am missing here.","body":"Hi MehaDrive68k, I have followed below link for database migration steps..  <a href=\"https://docs.rundeck.com/docs/upgrading/upgrading-to-rundeck-3.4.html#package-repositories\" rel=\"nofollow noreferrer\">docs.rundeck.com/docs/upgrading/&hellip;</a>  Still i am facing the same issue. Please suggest if anything i am missing here."},{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1650557131,"post_id":71956698,"comment_id":127151704,"body_markdown":"Hi Rajesh, Which database and version are you using? Could you share (at the question) the full stack trace?","body":"Hi Rajesh, Which database and version are you using? Could you share (at the question) the full stack trace?"},{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1650558711,"post_id":71956698,"comment_id":127152288,"body_markdown":"Rajesh, the database migration process isn&#39;t needed for Rundeck 3.3.5 or above. Could you try again in a non-prod environment? (without the DB migration process)","body":"Rajesh, the database migration process isn&#39;t needed for Rundeck 3.3.5 or above. Could you try again in a non-prod environment? (without the DB migration process)"},{"owner":{"account_id":25038213,"reputation":35,"user_id":18895377,"display_name":"Rajesh V"},"score":0,"creation_date":1650559451,"post_id":71956698,"comment_id":127152612,"body_markdown":"Yeah, I am trying in non-prod only.. Initially i have tried without DB migration but its issue occurs then i have seen few blogs and i have followed.","body":"Yeah, I am trying in non-prod only.. Initially i have tried without DB migration but its issue occurs then i have seen few blogs and i have followed."},{"owner":{"account_id":25038213,"reputation":35,"user_id":18895377,"display_name":"Rajesh V"},"score":0,"creation_date":1650597748,"post_id":71956698,"comment_id":127161377,"body_markdown":"Existing data base is h2.  Updating Full stack trace in the description,","body":"Existing data base is h2.  Updating Full stack trace in the description,"}],"answers":[{"tags":[],"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650897787,"creation_date":1650649920,"answer_id":71972830,"question_id":71956698,"body_markdown":"**Problem context**\r\n\r\nRundeck versions before 4.1.0 use the H2v1 database as the default testing backend, 4.1.0 and above use H2v2, H2v2 fixes a lot of issues but the bad news here is that doesn&#39;t exist a way to upgrade this H2v1 to h2v2 automatically (because H2v2 breaks the compatibility with H2v1 drivers).\r\n\r\nYou can read more about this [here][1].\r\n\r\n**So, you have two alternatives**\r\n\r\n1) Start your previous instance, [backup][2] all projects and keys, run 4.1.0 against a real database backend like MySQL or PostgreSQL and then [import][3] your projects and keys. [Here][4] you can see how to configure against a &quot;real&quot; backend.\r\n\r\n2) Migrate your old H2v1 (Rundeck 3.4.3) database to H2v2 (Rundeck 4.1.0) using [this][5] script following [these][6] steps.\r\n\r\nDefinitely, the recommended option is the **first one**, H2 is a database **only** for testing purposes, not for production environments. \r\n\r\nYou can read more about it [here][7].\r\n\r\n*&quot;Don&#39;t use the H2 embedded database for anything except testing and non-production.&quot;*\r\n\r\n**UPDATE 04/25/2022:**\r\n\r\nSome steps to move to a &quot;real database&quot; latest Rundeck instance:\r\n\r\n1. Upgrade all your server data.\r\n2. Start your old instance and follow [this][8] to backup your projects and [this][9] to backup your keys. Also, make sure to backup your model sources (`resources.xml` or `resources.yaml` files).\r\n3. Stop the old instance.\r\n4. Upgrade your instance following [this][10] and remove the `{RUNDECK_HOME}/server/config/bootstrap.yml` file (or `/etc/rundeck/bootstrap.yml` file).\r\n5. Create a new database following [this][4], make sure to configure Rundeck correctly. Check the MySQL [example][11].\r\n6. Start the 4.1.0 instance and import your projects following [this][12] (using the files exported in the second step).\r\n\r\n\r\n  [1]: https://docs.rundeck.com/docs/upgrading/upgrading-to-4.1.html#h2-database-upgrade\r\n  [2]: https://docs.rundeck.com/docs/administration/maintenance/backup.html#backup-and-recovery\r\n  [3]: https://docs.rundeck.com/docs/administration/maintenance/backup.html#project-import-and-export\r\n  [4]: https://docs.rundeck.com/docs/administration/configuration/database/#database-overview\r\n  [5]: https://github.com/rundeck-plugins/h2-v2-migration\r\n  [6]: https://github.com/rundeck-plugins/h2-v2-migration#preparation\r\n  [7]: https://docs.rundeck.com/docs/administration/configuration/database/#default-database\r\n  [8]: https://docs.rundeck.com/docs/administration/maintenance/backup.html#export-an-archive\r\n  [9]: https://docs.rundeck.com/docs/administration/maintenance/backup.html#export-import-keys\r\n  [10]: https://docs.rundeck.com/docs/upgrading/\r\n  [11]: https://docs.rundeck.com/docs/administration/configuration/database/mysql.html#configuring-rundeck\r\n  [12]: https://docs.rundeck.com/docs/administration/maintenance/backup.html#import-an-archive","title":"Rundeck Runtime issue","body":"<p><strong>Problem context</strong></p>\n<p>Rundeck versions before 4.1.0 use the H2v1 database as the default testing backend, 4.1.0 and above use H2v2, H2v2 fixes a lot of issues but the bad news here is that doesn't exist a way to upgrade this H2v1 to h2v2 automatically (because H2v2 breaks the compatibility with H2v1 drivers).</p>\n<p>You can read more about this <a href=\"https://docs.rundeck.com/docs/upgrading/upgrading-to-4.1.html#h2-database-upgrade\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>So, you have two alternatives</strong></p>\n<ol>\n<li><p>Start your previous instance, <a href=\"https://docs.rundeck.com/docs/administration/maintenance/backup.html#backup-and-recovery\" rel=\"nofollow noreferrer\">backup</a> all projects and keys, run 4.1.0 against a real database backend like MySQL or PostgreSQL and then <a href=\"https://docs.rundeck.com/docs/administration/maintenance/backup.html#project-import-and-export\" rel=\"nofollow noreferrer\">import</a> your projects and keys. <a href=\"https://docs.rundeck.com/docs/administration/configuration/database/#database-overview\" rel=\"nofollow noreferrer\">Here</a> you can see how to configure against a &quot;real&quot; backend.</p>\n</li>\n<li><p>Migrate your old H2v1 (Rundeck 3.4.3) database to H2v2 (Rundeck 4.1.0) using <a href=\"https://github.com/rundeck-plugins/h2-v2-migration\" rel=\"nofollow noreferrer\">this</a> script following <a href=\"https://github.com/rundeck-plugins/h2-v2-migration#preparation\" rel=\"nofollow noreferrer\">these</a> steps.</p>\n</li>\n</ol>\n<p>Definitely, the recommended option is the <strong>first one</strong>, H2 is a database <strong>only</strong> for testing purposes, not for production environments.</p>\n<p>You can read more about it <a href=\"https://docs.rundeck.com/docs/administration/configuration/database/#default-database\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><em>&quot;Don't use the H2 embedded database for anything except testing and non-production.&quot;</em></p>\n<p><strong>UPDATE 04/25/2022:</strong></p>\n<p>Some steps to move to a &quot;real database&quot; latest Rundeck instance:</p>\n<ol>\n<li>Upgrade all your server data.</li>\n<li>Start your old instance and follow <a href=\"https://docs.rundeck.com/docs/administration/maintenance/backup.html#export-an-archive\" rel=\"nofollow noreferrer\">this</a> to backup your projects and <a href=\"https://docs.rundeck.com/docs/administration/maintenance/backup.html#export-import-keys\" rel=\"nofollow noreferrer\">this</a> to backup your keys. Also, make sure to backup your model sources (<code>resources.xml</code> or <code>resources.yaml</code> files).</li>\n<li>Stop the old instance.</li>\n<li>Upgrade your instance following <a href=\"https://docs.rundeck.com/docs/upgrading/\" rel=\"nofollow noreferrer\">this</a> and remove the <code>{RUNDECK_HOME}/server/config/bootstrap.yml</code> file (or <code>/etc/rundeck/bootstrap.yml</code> file).</li>\n<li>Create a new database following <a href=\"https://docs.rundeck.com/docs/administration/configuration/database/#database-overview\" rel=\"nofollow noreferrer\">this</a>, make sure to configure Rundeck correctly. Check the MySQL <a href=\"https://docs.rundeck.com/docs/administration/configuration/database/mysql.html#configuring-rundeck\" rel=\"nofollow noreferrer\">example</a>.</li>\n<li>Start the 4.1.0 instance and import your projects following <a href=\"https://docs.rundeck.com/docs/administration/maintenance/backup.html#import-an-archive\" rel=\"nofollow noreferrer\">this</a> (using the files exported in the second step).</li>\n</ol>\n"}],"owner":{"account_id":25038213,"reputation":35,"user_id":18895377,"display_name":"Rajesh V"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1518,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1650897787,"creation_date":1650553389,"question_id":71956698,"body_markdown":"I am trying to upgrade Rundeck war file from rundeck-3.4.3-20210823.war to rundeck-4.1.0-20220420.war and getting SQL statement errors can some please help us from this issue.\r\n\r\nUpgrade steps followed by below URL:\r\n\r\nhttps://docs.rundeck.com/docs/upgrading/upgrading.html#runnable-war\r\n\r\nError:\r\n\r\n```\r\n[2022-04-21T15:42:31,978] WARN  internal.JdbcEnvironmentInitiator - HHH000339: Could not obtain connection metadata: org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;The write format 1 is smaller than the supported format 2 [2.1.210/5]&quot; [50000-210]\r\n[2022-04-21T15:42:33,130] ERROR pool.ConnectionPool - Unable to create initial connections of pool.\r\norg.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;The write format 1 is smaller than the supported format 2 [2.1.210/5]&quot; [50000-210]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:573) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:496) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.message.DbException.get(DbException.java:216) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.mvstore.db.Store.convertMVStoreException(Store.java:166) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.mvstore.db.Store.&lt;init&gt;(Store.java:140) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.engine.Database.&lt;init&gt;(Database.java:324) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.engine.Engine.openSession(Engine.java:92) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.engine.Engine.openSession(Engine.java:222) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.engine.Engine.createSession(Engine.java:201) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:122) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.Driver.connect(Driver.java:59) ~[h2-2.1.210.jar!/:?]\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[tomcat-jdbc-9.0.44.jar!/:?]\r\n\tat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[tomcat-jdbc-9.0.44.jar!/:?]\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:744) ~[tomcat-jdbc-9.0.44.jar!/:?]\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:676) ~[tomcat-jdbc-9.0.44.jar!/:?]\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:483) ~[tomcat-jdbc-9.0.44.jar!/:?]\r\n\tat org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:154) ~[tomcat-jdbc-9.0.44.jar!/:?]\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-9.0.44.jar!/:?]\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-9.0.44.jar!/:?]\r\n\tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-9.0.44.jar!/:?]\r\n\tat org.springframework.jdbc.datasource.LazyConnectionDataSourceProxy$LazyConnectionInvocationHandler.getTargetConnection(LazyConnectionDataSourceProxy.java:405) ~[spring-jdbc-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.jdbc.datasource.LazyConnectionDataSourceProxy$LazyConnectionInvocationHandler.invoke(LazyConnectionDataSourceProxy.java:378) ~[spring-jdbc-5.3.18.jar!/:5.3.18]\r\n\tat com.sun.proxy.$Proxy161.getMetaData(Unknown Source) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat org.springframework.jdbc.datasource.TransactionAwareDataSourceProxy$TransactionAwareInvocationHandler.invoke(TransactionAwareDataSourceProxy.java:238) ~[spring-jdbc-5.3.18.jar!/:5.3.18]\r\n\tat com.sun.proxy.$Proxy161.getMetaData(Unknown Source) ~[?:?]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:70) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:473) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:84) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:689) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\r\n\tat org.grails.orm.hibernate.cfg.HibernateMappingContextConfiguration.buildSessionFactory(HibernateMappingContextConfiguration.java:287) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\r\n\tat org.grails.orm.hibernate.connections.HibernateConnectionSourceFactory.create(HibernateConnectionSourceFactory.java:86) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\r\n\tat org.grails.orm.hibernate.connections.AbstractHibernateConnectionSourceFactory.create(AbstractHibernateConnectionSourceFactory.java:39) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\r\n\tat org.grails.orm.hibernate.connections.AbstractHibernateConnectionSourceFactory.create(AbstractHibernateConnectionSourceFactory.java:23) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\r\n\tat org.grails.datastore.mapping.core.connections.AbstractConnectionSourceFactory.create(AbstractConnectionSourceFactory.java:64) ~[grails-datastore-core-7.2.1.jar!/:?]\r\n\tat org.grails.datastore.mapping.core.connections.AbstractConnectionSourceFactory.create(AbstractConnectionSourceFactory.java:52) ~[grails-datastore-core-7.2.1.jar!/:?]\r\n\tat org.grails.datastore.mapping.core.connections.ConnectionSourcesInitializer.create(ConnectionSourcesInitializer.groovy:24) ~[grails-datastore-core-7.2.1.jar!/:?]\r\n\tat org.grails.orm.hibernate.HibernateDatastore.&lt;init&gt;(HibernateDatastore.java:212) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\r\n\tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1607) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1571) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1437) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1347) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:719) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:428) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:173) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:707) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:198) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:203) ~[spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:97) ~[spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.embedded.jetty.ServletContextInitializerConfiguration.callInitializers(ServletContextInitializerConfiguration.java:65) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.embedded.jetty.ServletContextInitializerConfiguration.configure(ServletContextInitializerConfiguration.java:54) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.eclipse.jetty.webapp.WebAppContext.configure(WebAppContext.java:498) [jetty-webapp-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1409) [jetty-webapp-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:910) [jetty-server-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288) [jetty-servlet-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524) [jetty-webapp-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) [jetty-util-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) [jetty-util-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:423) [jetty-server-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110) [jetty-util-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) [jetty-server-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:387) [jetty-server-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) [jetty-util-9.4.44.v20210927.jar!/:9.4.44.v20210927]\r\n\tat org.springframework.boot.web.embedded.jetty.JettyWebServer.initialize(JettyWebServer.java:123) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.embedded.jetty.JettyWebServer.&lt;init&gt;(JettyWebServer.java:90) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory.getJettyWebServer(JettyServletWebServerFactory.java:447) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory.getWebServer(JettyServletWebServerFactory.java:181) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.2.jar!/:2.6.2]\r\n\tat grails.boot.GrailsApp.run(GrailsApp.groovy:99) [grails-core-5.1.6.jar!/:5.1.6]\r\n\tat grails.boot.GrailsApp.run(GrailsApp.groovy:485) [grails-core-5.1.6.jar!/:5.1.6]\r\n\tat grails.boot.GrailsApp.run(GrailsApp.groovy:472) [grails-core-5.1.6.jar!/:5.1.6]\r\n\tat grails.boot.GrailsApp$run.call(Unknown Source) [grails-core-5.1.6.jar!/:?]\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47) [groovy-3.0.9.jar!/:3.0.9]\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125) [groovy-3.0.9.jar!/:3.0.9]\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148) [groovy-3.0.9.jar!/:3.0.9]\r\n\tat rundeckapp.Application.main(Application.groovy:32) [classes!/:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [rundeck-4.1.0-20220420.war:?]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [rundeck-4.1.0-20220420.war:?]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [rundeck-4.1.0-20220420.war:?]\r\n\tat org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59) [rundeck-4.1.0-20220420.war:?]\r\nCaused by: org.h2.mvstore.MVStoreException: The write format 1 is smaller than the supported format 2 [2.1.210/5]\r\n\tat org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.mvstore.MVStore.getUnsupportedWriteFormatException(MVStore.java:1059) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.mvstore.MVStore.readStoreHeader(MVStore.java:878) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.mvstore.MVStore.&lt;init&gt;(MVStore.java:455) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.mvstore.MVStore$Builder.open(MVStore.java:4056) ~[h2-2.1.210.jar!/:?]\r\n\tat org.h2.mvstore.db.Store.&lt;init&gt;(Store.java:129) ~[h2-2.1.210.jar!/:?]\r\n\t... 173 more\r\n[2022-04-21T15:42:33,134] WARN  internal.JdbcEnvironmentInitiator - HHH000339: Could not obtain connection metadata: org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;The write format 1 is smaller than the supported format 2 [2.1.210/5]&quot; [50000-210]\r\n[2022-04-21T15:42:33,135] WARN  webapp.WebAppContext - Failed startup of context o.s.b.w.e.j.JettyEmbeddedWebAppContext@3467d540{application,/,[org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory$LoaderHidingResource@67710b92, jar:file:/ngs/app/dcf5d/rundeck/rundeck-4.1.0-20220420.war!/WEB-INF/lib/jquery-3.5.1.jar!/META-INF/resources],UNAVAILABLE}\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;rundeckPreauthFilterDeReg&#39;: Cannot resolve reference to bean &#39;rundeckPreauthFilter&#39; while setting bean property &#39;filter&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;rundeckPreauthFilter&#39;: Cannot resolve reference to bean &#39;authenticationManager&#39; while setting bean property &#39;authenticationManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;authenticationManager&#39;: Cannot resolve reference to bean &#39;daoAuthenticationProvider&#39; while setting constructor argument with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;daoAuthenticationProvider&#39;: Cannot resolve reference to bean &#39;userDetailsService&#39; while setting bean property &#39;userDetailsService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userDetailsService&#39;: Unsatisfied dependency expressed through method &#39;setTargetDatastore&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hibernateDatastore&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.grails.orm.hibernate.HibernateDatastore]: Constructor threw exception; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n```","title":"Rundeck Runtime issue","body":"<p>I am trying to upgrade Rundeck war file from rundeck-3.4.3-20210823.war to rundeck-4.1.0-20220420.war and getting SQL statement errors can some please help us from this issue.</p>\n<p>Upgrade steps followed by below URL:</p>\n<p><a href=\"https://docs.rundeck.com/docs/upgrading/upgrading.html#runnable-war\" rel=\"nofollow noreferrer\">https://docs.rundeck.com/docs/upgrading/upgrading.html#runnable-war</a></p>\n<p>Error:</p>\n<pre><code>[2022-04-21T15:42:31,978] WARN  internal.JdbcEnvironmentInitiator - HHH000339: Could not obtain connection metadata: org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;The write format 1 is smaller than the supported format 2 [2.1.210/5]&quot; [50000-210]\n[2022-04-21T15:42:33,130] ERROR pool.ConnectionPool - Unable to create initial connections of pool.\norg.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;The write format 1 is smaller than the supported format 2 [2.1.210/5]&quot; [50000-210]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:573) ~[h2-2.1.210.jar!/:?]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:496) ~[h2-2.1.210.jar!/:?]\n    at org.h2.message.DbException.get(DbException.java:216) ~[h2-2.1.210.jar!/:?]\n    at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:166) ~[h2-2.1.210.jar!/:?]\n    at org.h2.mvstore.db.Store.&lt;init&gt;(Store.java:140) ~[h2-2.1.210.jar!/:?]\n    at org.h2.engine.Database.&lt;init&gt;(Database.java:324) ~[h2-2.1.210.jar!/:?]\n    at org.h2.engine.Engine.openSession(Engine.java:92) ~[h2-2.1.210.jar!/:?]\n    at org.h2.engine.Engine.openSession(Engine.java:222) ~[h2-2.1.210.jar!/:?]\n    at org.h2.engine.Engine.createSession(Engine.java:201) ~[h2-2.1.210.jar!/:?]\n    at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338) ~[h2-2.1.210.jar!/:?]\n    at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:122) ~[h2-2.1.210.jar!/:?]\n    at org.h2.Driver.connect(Driver.java:59) ~[h2-2.1.210.jar!/:?]\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[tomcat-jdbc-9.0.44.jar!/:?]\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[tomcat-jdbc-9.0.44.jar!/:?]\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:744) ~[tomcat-jdbc-9.0.44.jar!/:?]\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:676) ~[tomcat-jdbc-9.0.44.jar!/:?]\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:483) ~[tomcat-jdbc-9.0.44.jar!/:?]\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.&lt;init&gt;(ConnectionPool.java:154) ~[tomcat-jdbc-9.0.44.jar!/:?]\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-9.0.44.jar!/:?]\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-9.0.44.jar!/:?]\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-9.0.44.jar!/:?]\n    at org.springframework.jdbc.datasource.LazyConnectionDataSourceProxy$LazyConnectionInvocationHandler.getTargetConnection(LazyConnectionDataSourceProxy.java:405) ~[spring-jdbc-5.3.18.jar!/:5.3.18]\n    at org.springframework.jdbc.datasource.LazyConnectionDataSourceProxy$LazyConnectionInvocationHandler.invoke(LazyConnectionDataSourceProxy.java:378) ~[spring-jdbc-5.3.18.jar!/:5.3.18]\n    at com.sun.proxy.$Proxy161.getMetaData(Unknown Source) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.jdbc.datasource.TransactionAwareDataSourceProxy$TransactionAwareInvocationHandler.invoke(TransactionAwareDataSourceProxy.java:238) ~[spring-jdbc-5.3.18.jar!/:5.3.18]\n    at com.sun.proxy.$Proxy161.getMetaData(Unknown Source) ~[?:?]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:70) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:473) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:84) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:689) ~[hibernate-core-5.4.24.Final.jar!/:5.4.24.Final]\n    at org.grails.orm.hibernate.cfg.HibernateMappingContextConfiguration.buildSessionFactory(HibernateMappingContextConfiguration.java:287) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\n    at org.grails.orm.hibernate.connections.HibernateConnectionSourceFactory.create(HibernateConnectionSourceFactory.java:86) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\n    at org.grails.orm.hibernate.connections.AbstractHibernateConnectionSourceFactory.create(AbstractHibernateConnectionSourceFactory.java:39) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\n    at org.grails.orm.hibernate.connections.AbstractHibernateConnectionSourceFactory.create(AbstractHibernateConnectionSourceFactory.java:23) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\n    at org.grails.datastore.mapping.core.connections.AbstractConnectionSourceFactory.create(AbstractConnectionSourceFactory.java:64) ~[grails-datastore-core-7.2.1.jar!/:?]\n    at org.grails.datastore.mapping.core.connections.AbstractConnectionSourceFactory.create(AbstractConnectionSourceFactory.java:52) ~[grails-datastore-core-7.2.1.jar!/:?]\n    at org.grails.datastore.mapping.core.connections.ConnectionSourcesInitializer.create(ConnectionSourcesInitializer.groovy:24) ~[grails-datastore-core-7.2.1.jar!/:?]\n    at org.grails.orm.hibernate.HibernateDatastore.&lt;init&gt;(HibernateDatastore.java:212) ~[grails-datastore-gorm-hibernate5-7.2.2.jar!/:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1607) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1571) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1437) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1347) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:719) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:428) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:173) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:707) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:198) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.18.jar!/:5.3.18]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:203) ~[spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:97) ~[spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.embedded.jetty.ServletContextInitializerConfiguration.callInitializers(ServletContextInitializerConfiguration.java:65) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.embedded.jetty.ServletContextInitializerConfiguration.configure(ServletContextInitializerConfiguration.java:54) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.eclipse.jetty.webapp.WebAppContext.configure(WebAppContext.java:498) [jetty-webapp-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1409) [jetty-webapp-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:910) [jetty-server-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288) [jetty-servlet-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524) [jetty-webapp-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) [jetty-util-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) [jetty-util-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.server.Server.start(Server.java:423) [jetty-server-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110) [jetty-util-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) [jetty-server-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.server.Server.doStart(Server.java:387) [jetty-server-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) [jetty-util-9.4.44.v20210927.jar!/:9.4.44.v20210927]\n    at org.springframework.boot.web.embedded.jetty.JettyWebServer.initialize(JettyWebServer.java:123) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.embedded.jetty.JettyWebServer.&lt;init&gt;(JettyWebServer.java:90) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory.getJettyWebServer(JettyServletWebServerFactory.java:447) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory.getWebServer(JettyServletWebServerFactory.java:181) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.18.jar!/:5.3.18]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.6.2.jar!/:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.2.jar!/:2.6.2]\n    at grails.boot.GrailsApp.run(GrailsApp.groovy:99) [grails-core-5.1.6.jar!/:5.1.6]\n    at grails.boot.GrailsApp.run(GrailsApp.groovy:485) [grails-core-5.1.6.jar!/:5.1.6]\n    at grails.boot.GrailsApp.run(GrailsApp.groovy:472) [grails-core-5.1.6.jar!/:5.1.6]\n    at grails.boot.GrailsApp$run.call(Unknown Source) [grails-core-5.1.6.jar!/:?]\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47) [groovy-3.0.9.jar!/:3.0.9]\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125) [groovy-3.0.9.jar!/:3.0.9]\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148) [groovy-3.0.9.jar!/:3.0.9]\n    at rundeckapp.Application.main(Application.groovy:32) [classes!/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [rundeck-4.1.0-20220420.war:?]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [rundeck-4.1.0-20220420.war:?]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [rundeck-4.1.0-20220420.war:?]\n    at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59) [rundeck-4.1.0-20220420.war:?]\nCaused by: org.h2.mvstore.MVStoreException: The write format 1 is smaller than the supported format 2 [2.1.210/5]\n    at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004) ~[h2-2.1.210.jar!/:?]\n    at org.h2.mvstore.MVStore.getUnsupportedWriteFormatException(MVStore.java:1059) ~[h2-2.1.210.jar!/:?]\n    at org.h2.mvstore.MVStore.readStoreHeader(MVStore.java:878) ~[h2-2.1.210.jar!/:?]\n    at org.h2.mvstore.MVStore.&lt;init&gt;(MVStore.java:455) ~[h2-2.1.210.jar!/:?]\n    at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4056) ~[h2-2.1.210.jar!/:?]\n    at org.h2.mvstore.db.Store.&lt;init&gt;(Store.java:129) ~[h2-2.1.210.jar!/:?]\n    ... 173 more\n[2022-04-21T15:42:33,134] WARN  internal.JdbcEnvironmentInitiator - HHH000339: Could not obtain connection metadata: org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;The write format 1 is smaller than the supported format 2 [2.1.210/5]&quot; [50000-210]\n[2022-04-21T15:42:33,135] WARN  webapp.WebAppContext - Failed startup of context o.s.b.w.e.j.JettyEmbeddedWebAppContext@3467d540{application,/,[org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory$LoaderHidingResource@67710b92, jar:file:/ngs/app/dcf5d/rundeck/rundeck-4.1.0-20220420.war!/WEB-INF/lib/jquery-3.5.1.jar!/META-INF/resources],UNAVAILABLE}\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'rundeckPreauthFilterDeReg': Cannot resolve reference to bean 'rundeckPreauthFilter' while setting bean property 'filter'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'rundeckPreauthFilter': Cannot resolve reference to bean 'authenticationManager' while setting bean property 'authenticationManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager': Cannot resolve reference to bean 'daoAuthenticationProvider' while setting constructor argument with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'daoAuthenticationProvider': Cannot resolve reference to bean 'userDetailsService' while setting bean property 'userDetailsService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsService': Unsatisfied dependency expressed through method 'setTargetDatastore' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hibernateDatastore': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.grails.orm.hibernate.HibernateDatastore]: Constructor threw exception; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n</code></pre>\n"},{"tags":["java","sql","oracle","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1650882221,"post_id":71997087,"comment_id":127220165,"body_markdown":"Nice to see SQL Server&#39;s `FOR JSON` syntax usage with Oracle. What&#39;s the rationale? Are you supporting both RDBMS, or do you find that syntax to be easier than the Oracle/standard SQL one?","body":"Nice to see SQL Server&#39;s <code>FOR JSON</code> syntax usage with Oracle. What&#39;s the rationale? Are you supporting both RDBMS, or do you find that syntax to be easier than the Oracle/standard SQL one?"},{"owner":{"account_id":1726799,"reputation":185,"user_id":1581276,"display_name":"bollin"},"score":0,"creation_date":1650896121,"post_id":71997087,"comment_id":127225191,"body_markdown":"To be honest – I haven&#39;t tried anything else so far.","body":"To be honest – I haven&#39;t tried anything else so far."},{"owner":{"account_id":1726799,"reputation":185,"user_id":1581276,"display_name":"bollin"},"score":0,"creation_date":1650897090,"post_id":71997087,"comment_id":127225553,"body_markdown":"This one seems to work but has the same LocalDateTime issue. But the markdown does not seem to work.\n\n```\n    final var jsonEntries = Stream.of(ACCOUNT.fields())\n            .map(field -&gt; jsonEntry(field.getName().toLowerCase(), field))\n            .collect(toUnmodifiableList());\n    final var oracle = dc.select(jsonObject(jsonEntries))\n            .from(ACCOUNT)\n            .limit(1)\n            .fetchOneInto(Account.class);\n```","body":"This one seems to work but has the same LocalDateTime issue. But the markdown does not seem to work.  ```     final var jsonEntries = Stream.of(ACCOUNT.fields())             .map(field -&gt; jsonEntry(field.getName().toLowerCase(), field))             .collect(toUnmodifiableList());     final var oracle = dc.select(jsonObject(jsonEntries))             .from(ACCOUNT)             .limit(1)             .fetchOneInto(Account.class); ```"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650897507,"creation_date":1650882360,"answer_id":71998049,"question_id":71997087,"body_markdown":"### Fixing the Jackson mapping use-case\r\n\r\nIn your particular query, you could auto-alias all columns to their lower case equivalent, e.g.:\r\n\r\n```java\r\nfinal var account = \r\n    dc.select(Stream\r\n          .of(ACCOUNT.fields())\r\n          .map(f -&gt; f.as(f.getName().toLowerCase()))\r\n          .toList())\r\n      .from(ACCOUNT)\r\n      .limit(1)\r\n      .forJSON().path().withoutArrayWrapper()\r\n      .fetchOneInto(Account.class);\r\n```\r\n\r\n### Avoiding the use-case entirely\r\n\r\nHowever, given your particular query, I don&#39;t really see the point of passing through the JSON serialisation only to benefit from a third party mapper. Why not use jOOQ for that as well?\r\n\r\n```java\r\nfinal var account = \r\n    dc.selectFrom(ACCOUNT)\r\n      .limit(1)\r\n      .fetchOneInto(Account.class);\r\n```\r\n\r\nOr, if `Account` is an immutable class (e.g. a Java record), why not use type safe mapping like this:\r\n\r\n```java\r\nfinal var account = \r\n    dc.selectFrom(ACCOUNT)\r\n      .limit(1)\r\n      .fetchOne(Records.mapping(Account::new));\r\n```","title":"jooq + jackson fails to convert json to pojo due to case sensitivity","body":"<h3>Fixing the Jackson mapping use-case</h3>\n<p>In your particular query, you could auto-alias all columns to their lower case equivalent, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var account = \n    dc.select(Stream\n          .of(ACCOUNT.fields())\n          .map(f -&gt; f.as(f.getName().toLowerCase()))\n          .toList())\n      .from(ACCOUNT)\n      .limit(1)\n      .forJSON().path().withoutArrayWrapper()\n      .fetchOneInto(Account.class);\n</code></pre>\n<h3>Avoiding the use-case entirely</h3>\n<p>However, given your particular query, I don't really see the point of passing through the JSON serialisation only to benefit from a third party mapper. Why not use jOOQ for that as well?</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var account = \n    dc.selectFrom(ACCOUNT)\n      .limit(1)\n      .fetchOneInto(Account.class);\n</code></pre>\n<p>Or, if <code>Account</code> is an immutable class (e.g. a Java record), why not use type safe mapping like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var account = \n    dc.selectFrom(ACCOUNT)\n      .limit(1)\n      .fetchOne(Records.mapping(Account::new));\n</code></pre>\n"}],"owner":{"account_id":1726799,"reputation":185,"user_id":1581276,"display_name":"bollin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71998049,"answer_count":1,"score":2,"last_activity_date":1650897507,"creation_date":1650877989,"question_id":71997087,"body_markdown":"The following code fails:\r\n\r\n        final var account = dc.select(ACCOUNT.asterisk())\r\n                .from(ACCOUNT)\r\n                .limit(1)\r\n                .forJSON().path().withoutArrayWrapper()\r\n                .fetchOneInto(Account.class);\r\n\r\nThe error message is like:\r\n\r\n&gt; Caused by:\r\n&gt; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:\r\n&gt; Unrecognized field &quot;FIRSTNAME&quot; ... known properties: ... &quot;firstname&quot;\r\n&gt; ...\r\n\r\nJackson seems to have problems mapping the upper case column FIRSTNAME into the pojo&#39;s lowercase field &quot;firstname&quot; (and similar for all other fields). I am using the generated classes. How can I fix it while still using json?\r\n\r\nThe jooq version is 3.16 and the database is oracle.","title":"jooq + jackson fails to convert json to pojo due to case sensitivity","body":"<p>The following code fails:</p>\n<pre><code>    final var account = dc.select(ACCOUNT.asterisk())\n            .from(ACCOUNT)\n            .limit(1)\n            .forJSON().path().withoutArrayWrapper()\n            .fetchOneInto(Account.class);\n</code></pre>\n<p>The error message is like:</p>\n<blockquote>\n<p>Caused by:\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:\nUnrecognized field &quot;FIRSTNAME&quot; ... known properties: ... &quot;firstname&quot;\n...</p>\n</blockquote>\n<p>Jackson seems to have problems mapping the upper case column FIRSTNAME into the pojo's lowercase field &quot;firstname&quot; (and similar for all other fields). I am using the generated classes. How can I fix it while still using json?</p>\n<p>The jooq version is 3.16 and the database is oracle.</p>\n"},{"tags":["java","intellij-idea","javafx","java-11","javafx-11"],"comments":[{"owner":{"account_id":7142362,"reputation":5191,"user_id":5459467,"display_name":"Cukic0d"},"score":1,"creation_date":1544898161,"post_id":53795661,"comment_id":94441690,"body_markdown":"Hi &amp; welcome to StackOverflow ! Please post code rather than images: it is easier to read and more self-explicit :/","body":"Hi &amp; welcome to StackOverflow ! Please post code rather than images: it is easier to read and more self-explicit :/"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1544966884,"post_id":53795661,"comment_id":94453880,"body_markdown":"One strange part there in the command line is presence of `--module-\n-path=~/Documents/JavaTools/javafx-sdk-11.0.1/lib` and `-p` with module path as well, both of which are essentially the same thing. I would have chosen the `-p` specified path not to be there. Along with all this **at the same time all your jars are present in the `-classpath`** which would result in resolving them in an unnamed module. Do check [what all modules are resolved at your application startup](https://stackoverflow.com/questions/48339598/list-the-modules-resolved-during-the-application-startup)","body":"One strange part there in the command line is presence of <code>--module- -path=~&#47;Documents&#47;JavaTools&#47;javafx-sdk-11.0.1&#47;lib</code> and <code>-p</code> with module path as well, both of which are essentially the same thing. I would have chosen the <code>-p</code> specified path not to be there. Along with all this <b>at the same time all your jars are present in the <code>-classpath</code></b> which would result in resolving them in an unnamed module. Do check <a href=\"https://stackoverflow.com/questions/48339598/list-the-modules-resolved-during-the-application-startup\">what all modules are resolved at your application startup</a>"},{"owner":{"account_id":12966074,"reputation":167,"user_id":9373556,"display_name":"rizky ramadhan"},"score":0,"creation_date":1545223922,"post_id":53795661,"comment_id":94550572,"body_markdown":"I&#39;ve read the link that you provided to me, but to be honest, I have no idea what should I do right now, I just... don&#39;t get it. but, thank you.","body":"I&#39;ve read the link that you provided to me, but to be honest, I have no idea what should I do right now, I just... don&#39;t get it. but, thank you."},{"owner":{"account_id":12966074,"reputation":167,"user_id":9373556,"display_name":"rizky ramadhan"},"score":0,"creation_date":1545231538,"post_id":53795661,"comment_id":94555088,"body_markdown":"@nullpointer Nevermind, I switch to Java 1.8 and it works! thank you.","body":"@nullpointer Nevermind, I switch to Java 1.8 and it works! thank you."},{"owner":{"account_id":22752227,"reputation":11,"user_id":16912238,"display_name":"Daniel Pinto S"},"score":0,"creation_date":1631722593,"post_id":53795661,"comment_id":122303229,"body_markdown":"This problem is produced because VM can&#39;t find the directory with files required. You can watch this video to correctly configure Java Fx. https://youtu.be/sW4Qlinb0Es","body":"This problem is produced because VM can&#39;t find the directory with files required. You can watch this video to correctly configure Java Fx. <a href=\"https://youtu.be/sW4Qlinb0Es\" rel=\"nofollow noreferrer\">youtu.be/sW4Qlinb0Es</a>"},{"owner":{"account_id":1065843,"reputation":157,"user_id":1101680,"display_name":"TheGeeko61"},"score":0,"creation_date":1674648072,"post_id":53795661,"comment_id":132758095,"body_markdown":"@DanielPintoS Is there an English version of this vid?","body":"@DanielPintoS Is there an English version of this vid?"}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1544896225,"creation_date":1544896225,"answer_id":53795765,"question_id":53795661,"body_markdown":"Since you&#39;re running as a *Non-Modular application from IntelliJ*, you would need to ensure adding the VM argument as :\r\n\r\n\r\n    --module-path /path/to/javafx-sdk-11.0.1/lib --add-modules=javafx.controls,javafx.fxml\r\n\r\nYou can follow the [documentation link](https://openjfx.io/openjfx-docs/#introduction) as *JavaFX and IntelliJ* and then *Non-modular from IDE* for complete setup details.","title":"JavaFX Modular Application, java.lang.module.FindException: Module javafx.controls not found (Java 11, Intellij)","body":"<p>Since you're running as a <em>Non-Modular application from IntelliJ</em>, you would need to ensure adding the VM argument as :</p>\n\n<pre><code>--module-path /path/to/javafx-sdk-11.0.1/lib --add-modules=javafx.controls,javafx.fxml\n</code></pre>\n\n<p>You can follow the <a href=\"https://openjfx.io/openjfx-docs/#introduction\" rel=\"noreferrer\">documentation link</a> as <em>JavaFX and IntelliJ</em> and then <em>Non-modular from IDE</em> for complete setup details.</p>\n"},{"tags":[],"owner":{"account_id":17096336,"reputation":560,"user_id":12371243,"display_name":"Diaf Badreddine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617195211,"creation_date":1617195211,"answer_id":66888292,"question_id":53795661,"body_markdown":"i had the same issue with netbeans, i added the VM options correctly, but i got this error, the solution for my case was to disable **Compile on save** from **project properties** -&gt; **Build** -&gt; **Compiling**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8S510.png\r\n\r\nHope this will help you in intellij or anyone having the same problem in netbeans.","title":"JavaFX Modular Application, java.lang.module.FindException: Module javafx.controls not found (Java 11, Intellij)","body":"<p>i had the same issue with netbeans, i added the VM options correctly, but i got this error, the solution for my case was to disable <strong>Compile on save</strong> from <strong>project properties</strong> -&gt; <strong>Build</strong> -&gt; <strong>Compiling</strong></p>\n<p><a href=\"https://i.stack.imgur.com/8S510.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8S510.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this will help you in intellij or anyone having the same problem in netbeans.</p>\n"},{"tags":[],"owner":{"account_id":17055966,"reputation":101,"user_id":12340495,"display_name":"Eddie T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630424268,"creation_date":1630424268,"answer_id":69001603,"question_id":53795661,"body_markdown":"In IntelliJ, when creating your project, when you do the New &gt; Project wizard, select the &quot;BootstrapFX&quot; dependency.\r\n\r\nThis adds requires &quot;org.kordamp.bootstrapfx.core;&quot; to your modules-info.java and solved the problem for me in IntelliJ 2021.2.1.","title":"JavaFX Modular Application, java.lang.module.FindException: Module javafx.controls not found (Java 11, Intellij)","body":"<p>In IntelliJ, when creating your project, when you do the New &gt; Project wizard, select the &quot;BootstrapFX&quot; dependency.</p>\n<p>This adds requires &quot;org.kordamp.bootstrapfx.core;&quot; to your modules-info.java and solved the problem for me in IntelliJ 2021.2.1.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642970731,"creation_date":1642970731,"answer_id":70826416,"question_id":53795661,"body_markdown":"**Advice: Use the new project wizard instead of the JavaFX SDK**\r\n\r\nDon’t use a downloaded JavaFX SDK. Use a build tool, e.g., Maven, to add JavaFX and other dependencies. Use the [Create new JavaFX project wizard][1] to generate your project.\r\n\r\nThe wizard will configure a modular project based on a build tool (maven or gradle).\r\n\r\nIMO this is a much easier and better way to create a new project. A project created this way is easier to use, more useful and future-proof as:\r\n\r\n 1. The IDE will be able to run the project without having to manually specify command line arguments for the module system. This is because:\r\n\r\n    * The IDE can automatically find the required modules from the maven dependencies, so you don&#39;t need to specify a `--module-path` manually.\r\n    * The project contains a `module-info.java` file so you don&#39;t need to `--add-modules` manually.\r\n\r\n 2. The project is self-contained and easier to share:\r\n\r\n    * If somebody else wants to use it, they just need to have a standard Java+Maven or Gradle install rather than also finding and downloading a JavaFX SDK.\r\n\r\n 3. The project can be easily built using a continuous integration build tool like Jenkins:\r\n\r\n    * With a manual SDK dependency setting up Jenkins to build the project would be tricky.\r\n\r\n 4. The project can be linked to a runtime using jpackage or jlink.\r\n\r\n    * This is because it is a modular application.\r\n\r\n 5. You can use the dependency mechanism to add dependencies on other software libraries.\r\n\r\n    * Any non-trivial application will need additional dependencies; it is best to manage the JavaFX dependencies and other dependencies the same way IMO.\r\n\r\n----\r\n\r\n**Troubleshooting steps for using the JavaFX SDK**\r\n\r\nYou have an environmental issue so I can&#39;t give a definitive answer, just provide troubleshooting steps so you can repair your environment.\r\n\r\n 1. Follow the [OpenJFX IO Getting Started steps for Intellij][2].\r\n\r\n    * If you follow the steps exactly, it should work.\r\n\r\n 2. If you want to continue using the sdk, put it in a location without spaces, or quote the path when using it. \r\n\r\n 3. The Idea UI for VM args is extremely confusing, ensure that you have actually set VM args and not program args. To do that, see this answer to:\r\n\r\n    * [How to set JVM arguments in IntelliJ IDEA?][3]\r\n\r\n 4. Expand the Java execution command which Idea puts in the console pane on execution and copy it as text to add to your question formatted as code. \r\n\r\n 5. When you look at the Java execution command, ensure that the module arguments are before your main class name, not after. \r\n\r\n 6. Copy the execution command to a command line and try running it there.\r\n\r\n 7. When supplying the module path, try using the actual path (properly quoted if that is required), rather than an environment variable.\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/javafx.html\r\n  [2]: https://openjfx.io/openjfx-docs/#IDE-Intellij\r\n  [3]: https://stackoverflow.com/a/67960821/1155209","title":"JavaFX Modular Application, java.lang.module.FindException: Module javafx.controls not found (Java 11, Intellij)","body":"<p><strong>Advice: Use the new project wizard instead of the JavaFX SDK</strong></p>\n<p>Don’t use a downloaded JavaFX SDK. Use a build tool, e.g., Maven, to add JavaFX and other dependencies. Use the <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">Create new JavaFX project wizard</a> to generate your project.</p>\n<p>The wizard will configure a modular project based on a build tool (maven or gradle).</p>\n<p>IMO this is a much easier and better way to create a new project. A project created this way is easier to use, more useful and future-proof as:</p>\n<ol>\n<li><p>The IDE will be able to run the project without having to manually specify command line arguments for the module system. This is because:</p>\n<ul>\n<li>The IDE can automatically find the required modules from the maven dependencies, so you don't need to specify a <code>--module-path</code> manually.</li>\n<li>The project contains a <code>module-info.java</code> file so you don't need to <code>--add-modules</code> manually.</li>\n</ul>\n</li>\n<li><p>The project is self-contained and easier to share:</p>\n<ul>\n<li>If somebody else wants to use it, they just need to have a standard Java+Maven or Gradle install rather than also finding and downloading a JavaFX SDK.</li>\n</ul>\n</li>\n<li><p>The project can be easily built using a continuous integration build tool like Jenkins:</p>\n<ul>\n<li>With a manual SDK dependency setting up Jenkins to build the project would be tricky.</li>\n</ul>\n</li>\n<li><p>The project can be linked to a runtime using jpackage or jlink.</p>\n<ul>\n<li>This is because it is a modular application.</li>\n</ul>\n</li>\n<li><p>You can use the dependency mechanism to add dependencies on other software libraries.</p>\n<ul>\n<li>Any non-trivial application will need additional dependencies; it is best to manage the JavaFX dependencies and other dependencies the same way IMO.</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p><strong>Troubleshooting steps for using the JavaFX SDK</strong></p>\n<p>You have an environmental issue so I can't give a definitive answer, just provide troubleshooting steps so you can repair your environment.</p>\n<ol>\n<li><p>Follow the <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">OpenJFX IO Getting Started steps for Intellij</a>.</p>\n<ul>\n<li>If you follow the steps exactly, it should work.</li>\n</ul>\n</li>\n<li><p>If you want to continue using the sdk, put it in a location without spaces, or quote the path when using it.</p>\n</li>\n<li><p>The Idea UI for VM args is extremely confusing, ensure that you have actually set VM args and not program args. To do that, see this answer to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/67960821/1155209\">How to set JVM arguments in IntelliJ IDEA?</a></li>\n</ul>\n</li>\n<li><p>Expand the Java execution command which Idea puts in the console pane on execution and copy it as text to add to your question formatted as code.</p>\n</li>\n<li><p>When you look at the Java execution command, ensure that the module arguments are before your main class name, not after.</p>\n</li>\n<li><p>Copy the execution command to a command line and try running it there.</p>\n</li>\n<li><p>When supplying the module path, try using the actual path (properly quoted if that is required), rather than an environment variable.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":12966074,"reputation":167,"user_id":9373556,"display_name":"rizky ramadhan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49747,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1650897473,"creation_date":1544895568,"question_id":53795661,"body_markdown":"I have a problem with my modular JavaFX application. I created a JavaFX project and added the JavaFX lib and JavaFX modules get recognized. However, I keep getting these error message: \r\n\r\n&gt;     Error occurred during initialization of boot layer\r\n&gt;     java.lang.module.FindException: Module javafx.controls not found\r\n\r\nImage for the complete setup is attached hereby:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nedit:\r\n\r\nthis is all the errors messages:\r\n\r\n    /usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java -Djava.library.path=\r\n    /home/thenekolite/Documents/JavaTools/javafx-sdk-11.0.1/lib --module-\r\n    -path=~/Documents/JavaTools/javafx-sdk-11.0.1/lib \r\n    --add-modules=javafx.controls,javafx.fxml\r\n    --add-modules javafx.base,javafx.graphics --add-reads\r\n    -javaagent:/home/thenekolite/idea-IU-183.4588.61/\r\n    lib/idea_rt.jar=35937:/home/thenekolite/idea-IU-183.4588.61/bin\r\n    -Dfile.encoding=UTF-8 -classpath /home/thenekolite/IdeaProjects/\r\n    Latihan1/out/production/Latihan1:/home thenekolite/Documents/JavaTools/\r\n    javafx-sdk-11.0.1/lib/src.zip:/home/thenekolite/Documents/JavaTools/\r\n    javafx-sdk-11.0.1/lib/javafx-swt.jar:/homehome/thenekolite/Documents\r\n    /JavaTools/javafx-sdk-11.0.1/lib/javafx.fxml.jar:/home/thenekolite/\r\n    Documents/JavaTools/javafx-sdk-11.0.1/libjavafx.media.jar:\r\n    /home/thenekolite/Documents/JavaTools/javafx-sdk-11.0.1/lib/\r\n    /javafx.swing.jar:/home/thenekolite/Documents/JavaTools/javafx\r\n    sdk-11.0.1/lib/javafx.controls.jar:/home/thenekolite/\r\n    Documents/JavaTools/javafx-sdk-11.0.1/lib/javafx.graphics.jar\r\n    -p /home/thenekolite/Documents/JavaTools/javafx-sdk-11.0.1/lib/\r\n    /javafx.base.jar:/home/thenekolite/Documents/\r\n    JavaTools/javafx-sdk-11.0.1/lib/javafx.graphics.jar sample.Main\r\n\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module javafx.controls not found\r\n\r\nI also add the vm options:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut still, i got this error messages. \r\n\r\n  [1]: https://i.stack.imgur.com/qGSLf.png\r\n  [2]: https://i.stack.imgur.com/B3qUC.png","title":"JavaFX Modular Application, java.lang.module.FindException: Module javafx.controls not found (Java 11, Intellij)","body":"<p>I have a problem with my modular JavaFX application. I created a JavaFX project and added the JavaFX lib and JavaFX modules get recognized. However, I keep getting these error message: </p>\n\n<blockquote>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found\n</code></pre>\n</blockquote>\n\n<p>Image for the complete setup is attached hereby:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qGSLf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qGSLf.png\" alt=\"enter image description here\"></a></p>\n\n<p>edit:</p>\n\n<p>this is all the errors messages:</p>\n\n<pre><code>/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java -Djava.library.path=\n/home/thenekolite/Documents/JavaTools/javafx-sdk-11.0.1/lib --module-\n-path=~/Documents/JavaTools/javafx-sdk-11.0.1/lib \n--add-modules=javafx.controls,javafx.fxml\n--add-modules javafx.base,javafx.graphics --add-reads\n-javaagent:/home/thenekolite/idea-IU-183.4588.61/\nlib/idea_rt.jar=35937:/home/thenekolite/idea-IU-183.4588.61/bin\n-Dfile.encoding=UTF-8 -classpath /home/thenekolite/IdeaProjects/\nLatihan1/out/production/Latihan1:/home thenekolite/Documents/JavaTools/\njavafx-sdk-11.0.1/lib/src.zip:/home/thenekolite/Documents/JavaTools/\njavafx-sdk-11.0.1/lib/javafx-swt.jar:/homehome/thenekolite/Documents\n/JavaTools/javafx-sdk-11.0.1/lib/javafx.fxml.jar:/home/thenekolite/\nDocuments/JavaTools/javafx-sdk-11.0.1/libjavafx.media.jar:\n/home/thenekolite/Documents/JavaTools/javafx-sdk-11.0.1/lib/\n/javafx.swing.jar:/home/thenekolite/Documents/JavaTools/javafx\nsdk-11.0.1/lib/javafx.controls.jar:/home/thenekolite/\nDocuments/JavaTools/javafx-sdk-11.0.1/lib/javafx.graphics.jar\n-p /home/thenekolite/Documents/JavaTools/javafx-sdk-11.0.1/lib/\n/javafx.base.jar:/home/thenekolite/Documents/\nJavaTools/javafx-sdk-11.0.1/lib/javafx.graphics.jar sample.Main\n\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found\n</code></pre>\n\n<p>I also add the vm options:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B3qUC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/B3qUC.png\" alt=\"enter image description here\"></a></p>\n\n<p>but still, i got this error messages. </p>\n"},{"tags":["java","testng"],"answers":[{"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650547752,"creation_date":1650547752,"answer_id":71955351,"question_id":71861534,"body_markdown":"Well if you rule out all available options, there is not much you can do...\r\n\r\nI think the best option would be to use the `ThreadLocal` approach. If the only concern you have with `ThreadLocal` is that you need to call `get()` all the time, simply wrap this call in small function:\r\n\r\n```\r\nprivate final ThreadLocal&lt;AppiumDriver&gt; driver = new ThreadLocal&lt;&gt;();\r\n\r\n@BeforeTest\r\nvoid initDriver() {\r\n  final AppiumDriver driver = ...;\r\n  ...\r\n  return this.driver.set(driver);\r\n}\r\n\r\nprivate AppiumDriver driver() {\r\n  this.driver.get();\r\n}\r\n\r\n@Test\r\npublic void testLogin() {\r\n  // example\r\n  driver().findElementByAccessibilityId(&quot;username&quot;).sendKeys(&quot;foo&quot;);\r\n  driver().findElementByAccessibilityId(&quot;password&quot;).sendKeys(&quot;bar&quot;);\r\n  // etc...\r\n}\r\n```\r\n","title":"TestNG - Test fixture in the style of pytest","body":"<p>Well if you rule out all available options, there is not much you can do...</p>\n<p>I think the best option would be to use the <code>ThreadLocal</code> approach. If the only concern you have with <code>ThreadLocal</code> is that you need to call <code>get()</code> all the time, simply wrap this call in small function:</p>\n<pre><code>private final ThreadLocal&lt;AppiumDriver&gt; driver = new ThreadLocal&lt;&gt;();\n\n@BeforeTest\nvoid initDriver() {\n  final AppiumDriver driver = ...;\n  ...\n  return this.driver.set(driver);\n}\n\nprivate AppiumDriver driver() {\n  this.driver.get();\n}\n\n@Test\npublic void testLogin() {\n  // example\n  driver().findElementByAccessibilityId(&quot;username&quot;).sendKeys(&quot;foo&quot;);\n  driver().findElementByAccessibilityId(&quot;password&quot;).sendKeys(&quot;bar&quot;);\n  // etc...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650897290,"creation_date":1650897290,"answer_id":72001263,"question_id":71861534,"body_markdown":"If you can use Junit 5.0 then you can use @[Parameterizedtest][1] with @[MethodSource][2].\r\n\r\n    private static AppiumDriver driver() {\r\n      //get driver.\r\n    }\r\n    \r\n    private static Stream&lt;Arguments&gt; getDriver(){\r\n      return Stream.of(Arguments.of(driver())); // return driver obtained from `driver()` method.\r\n    }\r\n    \r\n    // use driver from `getDriver()`. \r\n    @ParameterizedTest\r\n    @MethodSource({&quot;getDriver&quot;})\r\n    void testLogin(AppiumDriver driver){\r\n    // use driver for your tests.\r\n    }\r\n\r\n\r\n\r\nSuppose if some of your tests don&#39;t need this driver, you can still use normal `@Test` methods instead of using `@ParameterizedTest`. \r\nAlso, you can have as many arguments in `getDriver` if your tests required so. \r\n\r\n  [1]: https://junit.org/junit5/docs/5.0.2/api/org/junit/jupiter/params/ParameterizedTest.html\r\n  [2]: https://junit.org/junit5/docs/5.0.2/api/org/junit/jupiter/params/provider/MethodSource.html","title":"TestNG - Test fixture in the style of pytest","body":"<p>If you can use Junit 5.0 then you can use @<a href=\"https://junit.org/junit5/docs/5.0.2/api/org/junit/jupiter/params/ParameterizedTest.html\" rel=\"nofollow noreferrer\">Parameterizedtest</a> with @<a href=\"https://junit.org/junit5/docs/5.0.2/api/org/junit/jupiter/params/provider/MethodSource.html\" rel=\"nofollow noreferrer\">MethodSource</a>.</p>\n<pre><code>private static AppiumDriver driver() {\n  //get driver.\n}\n\nprivate static Stream&lt;Arguments&gt; getDriver(){\n  return Stream.of(Arguments.of(driver())); // return driver obtained from `driver()` method.\n}\n\n// use driver from `getDriver()`. \n@ParameterizedTest\n@MethodSource({&quot;getDriver&quot;})\nvoid testLogin(AppiumDriver driver){\n// use driver for your tests.\n}\n</code></pre>\n<p>Suppose if some of your tests don't need this driver, you can still use normal <code>@Test</code> methods instead of using <code>@ParameterizedTest</code>.\nAlso, you can have as many arguments in <code>getDriver</code> if your tests required so.</p>\n"}],"owner":{"account_id":3235552,"reputation":929,"user_id":2729876,"accept_rate":100,"display_name":"SIGSTACKFAULT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71955351,"answer_count":2,"score":0,"last_activity_date":1650897290,"creation_date":1649870423,"question_id":71861534,"body_markdown":"Writing Appium tests with TestNG. I&#39;d like to pass the `AppiumDriver` to my test methods as an argument, so I don&#39;t have to remember to get it in every test. For example:\r\n\r\n\r\n```java\r\nclass FooTest {\r\n    @BeforeTest\r\n    public void initDriver(){\r\n        AppiumDriver driver = ...\r\n        // do some black magic to add the driver as an argument for all tests in this class\r\n    }\r\n    \r\n    @Test\r\n    public void testLogin(AppiumDriver driver){\r\n        // example\r\n        driver.findElementByAccessibilityId(&quot;username&quot;).sendKeys(&quot;foo&quot;);\r\n        driver.findElementByAccessibilityId(&quot;password&quot;).sendKeys(&quot;bar&quot;);\r\n        // etc...\r\n    }\r\n}\r\n```\r\n - I can&#39;t use a TestNG parameter because they can only be strings.\r\n - I don&#39;t want to use a `DataProvider` for this because I want to use them for other stuff\r\n - I don&#39;t want to put it in the `ITestContext`, because then I have to remember to get it. (This is what I&#39;m currently doing)\r\n - I can&#39;t put it as a class property, because I plan to do `parallel=&quot;methods&quot;`\r\n - I don&#39;t want to put it in a class property as a ThreadLocal, because then I have to do `.get()` constantly.\r\n - I would *prefer* to not have to specify it in the @Test decorator for every single test.","title":"TestNG - Test fixture in the style of pytest","body":"<p>Writing Appium tests with TestNG. I'd like to pass the <code>AppiumDriver</code> to my test methods as an argument, so I don't have to remember to get it in every test. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FooTest {\n    @BeforeTest\n    public void initDriver(){\n        AppiumDriver driver = ...\n        // do some black magic to add the driver as an argument for all tests in this class\n    }\n    \n    @Test\n    public void testLogin(AppiumDriver driver){\n        // example\n        driver.findElementByAccessibilityId(&quot;username&quot;).sendKeys(&quot;foo&quot;);\n        driver.findElementByAccessibilityId(&quot;password&quot;).sendKeys(&quot;bar&quot;);\n        // etc...\n    }\n}\n</code></pre>\n<ul>\n<li>I can't use a TestNG parameter because they can only be strings.</li>\n<li>I don't want to use a <code>DataProvider</code> for this because I want to use them for other stuff</li>\n<li>I don't want to put it in the <code>ITestContext</code>, because then I have to remember to get it. (This is what I'm currently doing)</li>\n<li>I can't put it as a class property, because I plan to do <code>parallel=&quot;methods&quot;</code></li>\n<li>I don't want to put it in a class property as a ThreadLocal, because then I have to do <code>.get()</code> constantly.</li>\n<li>I would <em>prefer</em> to not have to specify it in the @Test decorator for every single test.</li>\n</ul>\n"},{"tags":["java","google-cloud-platform","gmail-api"],"comments":[{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1650737938,"post_id":71982143,"comment_id":127193951,"body_markdown":"1) Why are you using Domain Wide Delegation to send emails? Don&#39;t use a chain saw to slice steak. Use application credentials for the account. 2) You cannot specify the email address of the sender. When the credentials impersonate a specific user, that user&#39;s identity is the sender as configured in their account,","body":"1) Why are you using Domain Wide Delegation to send emails? Don&#39;t use a chain saw to slice steak. Use application credentials for the account. 2) You cannot specify the email address of the sender. When the credentials impersonate a specific user, that user&#39;s identity is the sender as configured in their account,"}],"answers":[{"tags":[],"owner":{"account_id":16071429,"reputation":26112,"user_id":11599789,"display_name":"ziganotschka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650897133,"creation_date":1650897133,"answer_id":72001231,"question_id":71982143,"body_markdown":"To implement impersonation with `GoogleCredentials` use [createDelegated(String user)](https://cloud.google.com/java/docs/reference/google-auth-library/latest/com.google.auth.oauth2.GoogleCredentials#com_google_auth_oauth2_GoogleCredentials_createDelegated_java_lang_String_):\r\n------------------------------------------------------------------------\r\n\r\n\r\n```lang-java\r\nfinal GoogleCredentials creds = ServiceAccountCredentials.fromStream(new FileInputStream(&quot;resources/credentials.json&quot;))\r\n     .createScoped(GmailScopes.GMAIL_SEND, GmailScopes.GMAIL_COMPOSE, GmailScopes.GMAIL_MODIFY, GmailScopes.MAIL_GOOGLE_COM);\r\nfinal GoogleCredentials delegatedCreds = creds.createDelegated(userEmail);\r\nHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(delegatedCreds);\r\nHttpTransport transport = new NetHttpTransport.Builder().build();\r\n// Construct the gmail object.\r\nGmail gm = new Gmail.Builder(transport, JSON_FACTORY, requestInitializer)\r\n      .setApplicationName(APPLICATION_NAME)\r\n      .build();\r\n\r\n```\r\n\r\n\r\n+ Thereby, the sender of the email will be the user impersonated by the service account `userEmail`. \r\n+ The owner of the GCP project / creator of the service account is not relevant and does not need to be specified, every [Service Account User](https://cloud.google.com/iam/docs/service-accounts#user-role) with the respective permisisons can use the service account for his domain.","title":"Create service account credentials for gmail API","body":"<h2>To implement impersonation with <code>GoogleCredentials</code> use <a href=\"https://cloud.google.com/java/docs/reference/google-auth-library/latest/com.google.auth.oauth2.GoogleCredentials#com_google_auth_oauth2_GoogleCredentials_createDelegated_java_lang_String_\" rel=\"nofollow noreferrer\">createDelegated(String user)</a>:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>final GoogleCredentials creds = ServiceAccountCredentials.fromStream(new FileInputStream(&quot;resources/credentials.json&quot;))\n     .createScoped(GmailScopes.GMAIL_SEND, GmailScopes.GMAIL_COMPOSE, GmailScopes.GMAIL_MODIFY, GmailScopes.MAIL_GOOGLE_COM);\nfinal GoogleCredentials delegatedCreds = creds.createDelegated(userEmail);\nHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(delegatedCreds);\nHttpTransport transport = new NetHttpTransport.Builder().build();\n// Construct the gmail object.\nGmail gm = new Gmail.Builder(transport, JSON_FACTORY, requestInitializer)\n      .setApplicationName(APPLICATION_NAME)\n      .build();\n\n</code></pre>\n<ul>\n<li>Thereby, the sender of the email will be the user impersonated by the service account <code>userEmail</code>.</li>\n<li>The owner of the GCP project / creator of the service account is not relevant and does not need to be specified, every <a href=\"https://cloud.google.com/iam/docs/service-accounts#user-role\" rel=\"nofollow noreferrer\">Service Account User</a> with the respective permisisons can use the service account for his domain.</li>\n</ul>\n"}],"owner":{"account_id":1114546,"reputation":575,"user_id":1104214,"accept_rate":57,"display_name":"quasar66"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72001231,"answer_count":1,"score":0,"last_activity_date":1650897133,"creation_date":1650735464,"question_id":71982143,"body_markdown":"I have read [this][1], [this][2] (PHP but to get any help), [this][3], [this][4] and then the deprecated related changes [here][5] and the reply to the last one that points to the github where the credentials process has been explained. But am having no success with getting the sample code [here][6] to work.\r\n\r\nThe steps that I have taken :\r\n1. Was already working on a GCP cloud project which needs to send out this email, as a service account.\r\n2. Had created an additional service account just to handle email API and authorized it by adding API access and domainwide delegation to the service account [here][7].\r\n\r\nThe error &quot;code 400, FAILED_PRECONDITION persisted.\r\n\r\n3. Then I added the domainwide authorization to the main service account for the entire GP project, downloaded those credentials (using the .json file) and have had no luck\r\n\r\nTwo specific issues :\r\n1. Where do I add the email address of the sender during credential creation - I think, in my limited knowledge, that the actual email (the GCP Project owner email) needs to be added somewhere. It is used during create message call, of course, but it needs to be added to the credential process as well.\r\n2. Similarly, where do I add serviceAccountUserEmail - it was there in deprecated GoogleCredential, but not there in GoogleCredentials (the new class ends in &#39;s&#39;).\r\n\r\nThe code is here :\r\n```\r\npublic class Main {\r\n\tprivate static final String APPLICATION_NAME = &quot;Gmail mail server&quot;;\r\n\tprivate static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n\r\n\tpublic static void main(String[] args) throws IOException, MessagingException {\r\n\t\tfinal GoogleCredentials creds = ServiceAccountCredentials.fromStream(new FileInputStream(&quot;resources/credentials.json&quot;))\r\n\t\t\t\t.createScoped(GmailScopes.GMAIL_SEND, GmailScopes.GMAIL_COMPOSE, GmailScopes.GMAIL_MODIFY, GmailScopes.MAIL_GOOGLE_COM);\r\n\t\tHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(creds);\r\n\t\tHttpTransport transport = new NetHttpTransport.Builder().build();\r\n\t\t// Construct the gmail object.\r\n\t\tGmail gm = new Gmail.Builder(transport, JSON_FACTORY, requestInitializer)\r\n\t\t\t\t.setApplicationName(APPLICATION_NAME)\r\n\t\t\t\t.build();\r\n\r\n\t\t//create the message\r\n\t\tString to = &quot;&lt;a real email id&gt;&quot;;      //actual email address used, is masked for privacy\r\n\t\tString from = &quot;&lt;GCP Project Owner email ID&gt;&quot;;         //actual email address that owns the GCP project\r\n\t\tString subject = &quot;Test...&quot;;\r\n\t\tString bodytext = &quot;\\nHello ..  first test email ...&quot;;\r\n\r\n\t\tMimeMessage an_email = createEmail(to, from, subject, bodytext);\r\n\t\tMessage ret_val = sendMessage(gm, &quot;&lt;actual email of GCP Project Owner, not string me&quot;, an_email);\r\n\t}\r\n}\r\n```\r\n\r\nThe rest of the code is an actual copy paste of what has been provided in the GCP Gmail API so am not reproducing it all over again.\r\n\r\nAll guidance is welcome. My proficiency in Java is average, so please help with a little more detailed guidance.\r\n\r\nThanks\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33272021/gmail-and-service-accounts\r\n  [2]: https://stackoverflow.com/questions/62261228/reading-gmail-inbox-using-gmail-api-and-service-account-credentials\r\n  [3]: https://stackoverflow.com/questions/29327846/gmail-rest-api-400-bad-request-failed-precondition\r\n  [4]: https://stackoverflow.com/questions/62181785/failed-precondition-response-in-gmail-restful-api\r\n  [5]: https://stackoverflow.com/questions/57972607/what-is-the-alternative-to-the-deprecated-googlecredential\r\n  [6]: https://developers.google.com/gmail/api/guides/sending#sending_messages\r\n  [7]: https://admin.google.com/ac/owl/domainwidedelegation","title":"Create service account credentials for gmail API","body":"<p>I have read <a href=\"https://stackoverflow.com/questions/33272021/gmail-and-service-accounts\">this</a>, <a href=\"https://stackoverflow.com/questions/62261228/reading-gmail-inbox-using-gmail-api-and-service-account-credentials\">this</a> (PHP but to get any help), <a href=\"https://stackoverflow.com/questions/29327846/gmail-rest-api-400-bad-request-failed-precondition\">this</a>, <a href=\"https://stackoverflow.com/questions/62181785/failed-precondition-response-in-gmail-restful-api\">this</a> and then the deprecated related changes <a href=\"https://stackoverflow.com/questions/57972607/what-is-the-alternative-to-the-deprecated-googlecredential\">here</a> and the reply to the last one that points to the github where the credentials process has been explained. But am having no success with getting the sample code <a href=\"https://developers.google.com/gmail/api/guides/sending#sending_messages\" rel=\"nofollow noreferrer\">here</a> to work.</p>\n<p>The steps that I have taken :</p>\n<ol>\n<li>Was already working on a GCP cloud project which needs to send out this email, as a service account.</li>\n<li>Had created an additional service account just to handle email API and authorized it by adding API access and domainwide delegation to the service account <a href=\"https://admin.google.com/ac/owl/domainwidedelegation\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ol>\n<p>The error &quot;code 400, FAILED_PRECONDITION persisted.</p>\n<ol start=\"3\">\n<li>Then I added the domainwide authorization to the main service account for the entire GP project, downloaded those credentials (using the .json file) and have had no luck</li>\n</ol>\n<p>Two specific issues :</p>\n<ol>\n<li>Where do I add the email address of the sender during credential creation - I think, in my limited knowledge, that the actual email (the GCP Project owner email) needs to be added somewhere. It is used during create message call, of course, but it needs to be added to the credential process as well.</li>\n<li>Similarly, where do I add serviceAccountUserEmail - it was there in deprecated GoogleCredential, but not there in GoogleCredentials (the new class ends in 's').</li>\n</ol>\n<p>The code is here :</p>\n<pre><code>public class Main {\n    private static final String APPLICATION_NAME = &quot;Gmail mail server&quot;;\n    private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n\n    public static void main(String[] args) throws IOException, MessagingException {\n        final GoogleCredentials creds = ServiceAccountCredentials.fromStream(new FileInputStream(&quot;resources/credentials.json&quot;))\n                .createScoped(GmailScopes.GMAIL_SEND, GmailScopes.GMAIL_COMPOSE, GmailScopes.GMAIL_MODIFY, GmailScopes.MAIL_GOOGLE_COM);\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(creds);\n        HttpTransport transport = new NetHttpTransport.Builder().build();\n        // Construct the gmail object.\n        Gmail gm = new Gmail.Builder(transport, JSON_FACTORY, requestInitializer)\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n\n        //create the message\n        String to = &quot;&lt;a real email id&gt;&quot;;      //actual email address used, is masked for privacy\n        String from = &quot;&lt;GCP Project Owner email ID&gt;&quot;;         //actual email address that owns the GCP project\n        String subject = &quot;Test...&quot;;\n        String bodytext = &quot;\\nHello ..  first test email ...&quot;;\n\n        MimeMessage an_email = createEmail(to, from, subject, bodytext);\n        Message ret_val = sendMessage(gm, &quot;&lt;actual email of GCP Project Owner, not string me&quot;, an_email);\n    }\n}\n</code></pre>\n<p>The rest of the code is an actual copy paste of what has been provided in the GCP Gmail API so am not reproducing it all over again.</p>\n<p>All guidance is welcome. My proficiency in Java is average, so please help with a little more detailed guidance.</p>\n<p>Thanks</p>\n"},{"tags":["java","xpath","xpath-2.0","xpath-1.0"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1650884069,"post_id":71998056,"comment_id":127220786,"body_markdown":"Wouldn&#39;t e.g. `Level1/TITLE[. = &#39;INFORMATION&#39;]/following-sibling::*` give you the three elements you show as the wanted result?","body":"Wouldn&#39;t e.g. <code>Level1&#47;TITLE[. = &#39;INFORMATION&#39;]&#47;following-sibling::*</code> give you the three elements you show as the wanted result?"},{"owner":{"account_id":15262126,"reputation":141,"user_id":11011846,"display_name":"BADS"},"score":0,"creation_date":1650886230,"post_id":71998056,"comment_id":127221464,"body_markdown":"following-sibling::*  selects the next chapter sibling of the context node, it&#39;s not the requested result","body":"following-sibling::*  selects the next chapter sibling of the context node, it&#39;s not the requested result"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1650886986,"post_id":71998056,"comment_id":127221710,"body_markdown":"I had misspelled the first element&#39;s name but `level1/TITLE[. = &#39;INFORMATION&#39;]/following-sibling::*` would select the `level11` elements and the `Empty` elements.","body":"I had misspelled the first element&#39;s name but <code>level1&#47;TITLE[. = &#39;INFORMATION&#39;]&#47;following-sibling::*</code> would select the <code>level11</code> elements and the <code>Empty</code> elements."},{"owner":{"account_id":15262126,"reputation":141,"user_id":11011846,"display_name":"BADS"},"score":0,"creation_date":1650887834,"post_id":71998056,"comment_id":127221991,"body_markdown":"yes but just the second level11 element and not the first and the second together","body":"yes but just the second level11 element and not the first and the second together"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1650889948,"post_id":71998056,"comment_id":127222744,"body_markdown":"In your &quot;exemple&quot; [sic] both `level11` are sibling elements following the `TITLE` elements so of course, in terms of XPath, the expression `level1/TITLE[. = &#39;INFORMATION&#39;]/following-sibling::*` selects both `level11` elements.","body":"In your &quot;exemple&quot; [sic] both <code>level11</code> are sibling elements following the <code>TITLE</code> elements so of course, in terms of XPath, the expression <code>level1&#47;TITLE[. = &#39;INFORMATION&#39;]&#47;following-sibling::*</code> selects both <code>level11</code> elements."},{"owner":{"account_id":15262126,"reputation":141,"user_id":11011846,"display_name":"BADS"},"score":0,"creation_date":1650895213,"post_id":71998056,"comment_id":127224826,"body_markdown":"using just descendant:: we will get only the content of children nodes only not concatanated to the node itself content","body":"using just descendant:: we will get only the content of children nodes only not concatanated to the node itself content"}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650896900,"creation_date":1650896900,"answer_id":72001166,"question_id":71998056,"body_markdown":"This XPath gets nodes as requested and per the provided sample\r\n\r\n`//level1[./TITLE[text()=&#39;INFORMATION&#39;]]/*[not(name()=&#39;TITLE&#39;)]`\r\n\r\nResult:\r\n\r\n    &lt;level11&gt;\r\n            &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;: contains &lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt; Vendor (V) &lt;SBR&gt;21&lt;/SBR&gt; for terms.&lt;/level11&gt;\r\n    &lt;level11&gt;\r\n            &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;: No provided.&lt;/level11&gt;\r\n    &lt;Empty/&gt;\r\n\r\n","title":"is there a way to get self-or-descendant in an xpath expression without using the [not(self::sub-element)] proprety","body":"<p>This XPath gets nodes as requested and per the provided sample</p>\n<p><code>//level1[./TITLE[text()='INFORMATION']]/*[not(name()='TITLE')]</code></p>\n<p>Result:</p>\n<pre><code>&lt;level11&gt;\n        &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;: contains &lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt; Vendor (V) &lt;SBR&gt;21&lt;/SBR&gt; for terms.&lt;/level11&gt;\n&lt;level11&gt;\n        &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;: No provided.&lt;/level11&gt;\n&lt;Empty/&gt;\n</code></pre>\n"}],"owner":{"account_id":15262126,"reputation":141,"user_id":11011846,"display_name":"BADS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650896900,"creation_date":1650882393,"question_id":71998056,"body_markdown":"I&#39;m trying to deal with xml files to get the NodeList in a special xpath expression but also the Nodes in its sub-elements(all childrens) in all levels. we can have several depths in all provided xml files. \r\nI used an xpath like :\r\n\r\n    .//level1/*[preceding-sibling::TITLE[text()=&#39;INFORMATION&#39;]]/descendant-or-self::*\r\n\r\nissue with that is I also get redundancy at the end with just the Node of some sub-elements(descendants).\r\n\r\nI tried to use the [not(self::sub-element)] property like :\r\n\r\n    .//level1/*[preceding-sibling::TITLE[text()=&#39;INFORMATION&#39;]]/descendant-or-self::*[[not(self::sub-element2 or self::sub-element2)]\r\n\r\n but the issue is that i dont have the list of all this redundancy sub-element to include them in the property, so I&#39;m looking for another way to delete this in the returned NodeList.\r\n\r\nTaking for exemple the following element :\r\n\r\n    &lt;level1&gt;\r\n         &lt;TITLE&gt;INFORMATION&lt;/TITLE&gt;\r\n         &lt;level11&gt;\r\n         \t&lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;: contains &lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt; Vendor (V) &lt;SBR&gt;21&lt;/SBR&gt; for terms.&lt;/level11&gt;\r\n         &lt;level11&gt;\r\n         \t&lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;: No provided.&lt;/level11&gt;\r\n         &lt;Empty&gt;&lt;/Empty&gt;\r\n    &lt;/level1&gt;\r\n\r\nI got the following NodeList : \r\n\r\n    &lt;level11&gt; &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;: contains &lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt; Vendor (V) &lt;SBR&gt;21&lt;/SBR&gt; for terms.&lt;/level11&gt;\r\n    &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;\r\n    &lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt;\r\n    &lt;SBR&gt;21&lt;/SBR&gt;\r\n    &lt;level11&gt; &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;: No provided.&lt;/level11&gt;\r\n    &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;\r\n    &lt;Empty/&gt;\r\nBut i need to got only nodes with all the nodes children and its text without getting cildren nodes alones. there is also other exemples with greater depth.\r\n\r\n        &lt;level11&gt; &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;: contains &lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt; Vendor (V)&lt;SBR&gt;21&lt;/SBR&gt;for terms.&lt;/level11&gt; \r\n        &lt;level11&gt; &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;: No provided.&lt;/level11&gt;\r\n        &lt;Empty/&gt;\r\n\r\n**MINDER : without using the [not(self::sub-element)] property**\r\n","title":"is there a way to get self-or-descendant in an xpath expression without using the [not(self::sub-element)] proprety","body":"<p>I'm trying to deal with xml files to get the NodeList in a special xpath expression but also the Nodes in its sub-elements(all childrens) in all levels. we can have several depths in all provided xml files.\nI used an xpath like :</p>\n<pre><code>.//level1/*[preceding-sibling::TITLE[text()='INFORMATION']]/descendant-or-self::*\n</code></pre>\n<p>issue with that is I also get redundancy at the end with just the Node of some sub-elements(descendants).</p>\n<p>I tried to use the [not(self::sub-element)] property like :</p>\n<pre><code>.//level1/*[preceding-sibling::TITLE[text()='INFORMATION']]/descendant-or-self::*[[not(self::sub-element2 or self::sub-element2)]\n</code></pre>\n<p>but the issue is that i dont have the list of all this redundancy sub-element to include them in the property, so I'm looking for another way to delete this in the returned NodeList.</p>\n<p>Taking for exemple the following element :</p>\n<pre><code>&lt;level1&gt;\n     &lt;TITLE&gt;INFORMATION&lt;/TITLE&gt;\n     &lt;level11&gt;\n        &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;: contains &lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt; Vendor (V) &lt;SBR&gt;21&lt;/SBR&gt; for terms.&lt;/level11&gt;\n     &lt;level11&gt;\n        &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;: No provided.&lt;/level11&gt;\n     &lt;Empty&gt;&lt;/Empty&gt;\n&lt;/level1&gt;\n</code></pre>\n<p>I got the following NodeList :</p>\n<pre><code>&lt;level11&gt; &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;: contains &lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt; Vendor (V) &lt;SBR&gt;21&lt;/SBR&gt; for terms.&lt;/level11&gt;\n&lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;\n&lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt;\n&lt;SBR&gt;21&lt;/SBR&gt;\n&lt;level11&gt; &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;: No provided.&lt;/level11&gt;\n&lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;\n&lt;Empty/&gt;\n</code></pre>\n<p>But i need to got only nodes with all the nodes children and its text without getting cildren nodes alones. there is also other exemples with greater depth.</p>\n<pre><code>    &lt;level11&gt; &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A01&lt;/level12&gt;: contains &lt;VEAM&gt;NORD and SUD&lt;/VEAM&gt; Vendor (V)&lt;SBR&gt;21&lt;/SBR&gt;for terms.&lt;/level11&gt; \n    &lt;level11&gt; &lt;level12 NAME=&quot;A&quot; TYPE=&quot;Z&quot;&gt;A02&lt;/level12&gt;: No provided.&lt;/level11&gt;\n    &lt;Empty/&gt;\n</code></pre>\n<p><strong>MINDER : without using the [not(self::sub-element)] property</strong></p>\n"},{"tags":["java","json","windows-subsystem-for-linux","windows-defender","trivy"],"comments":[{"owner":{"account_id":16352934,"reputation":16766,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1650897212,"post_id":71996655,"comment_id":127225603,"body_markdown":"I see that someone has cast a close-vote for &quot;Needs debugging details&quot;.  I think you&#39;ll probably need to share at least a minimal version of a JSON file that&#39;s causing the problem.  If you can get it to an [MRE](https://stackoverflow.com/help/minimal-reproducible-example) all the better.","body":"I see that someone has cast a close-vote for &quot;Needs debugging details&quot;.  I think you&#39;ll probably need to share at least a minimal version of a JSON file that&#39;s causing the problem.  If you can get it to an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a> all the better."},{"owner":{"account_id":25084906,"reputation":11,"user_id":18937236,"display_name":"&#198;vangelist"},"score":0,"creation_date":1650898608,"post_id":71996655,"comment_id":127226209,"body_markdown":"Thank you for your answer, sadly I can&#39;t really do an MRE or anything of this sort because the said files are 5000 lines long and I have no clue which part of it is actually causing the problem.","body":"Thank you for your answer, sadly I can&#39;t really do an MRE or anything of this sort because the said files are 5000 lines long and I have no clue which part of it is actually causing the problem."}],"owner":{"account_id":25084906,"reputation":11,"user_id":18937236,"display_name":"&#198;vangelist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650896683,"creation_date":1650875801,"question_id":71996655,"body_markdown":"I&#39;m working on a project where I parse some YAML configuration files in Java, then forge a command to send to a processbuilder which calls Trivy, performs the required scans and then print out two files, one in JSON and one in HTML.\r\n\r\nWith most of the config files it works great, but with one of them, multiple JSON output files are flagged as Backdoor:PHP/Remoteshell.V by Windows Defender, so it puts them in quarantine and it stops the execution of the rest of my program because the paths don&#39;t exist anymore.\r\n\r\nSadly, I can&#39;t share the exact Trivy call because it is done on private Docker images that require access, but I can share some of the flagged JSON files if needed.\r\n\r\nI tried scanning it with other malware detection software such as Gridinsoft and Zemana, but they don&#39;t detect anything.\r\n\r\nI&#39;m using IntelliJ IDE for this project and running it with Quarkus on a Windows computer, but I execute the Java program on WSL on a 20.04 Ubuntu because Trivy can&#39;t run on Windows.\r\n\r\nI hope someone can help me on this issue as it is blocking me on my project, obviously I could just manually exclude the project file from the scan, but this is not a viable long term solution.","title":"Windows Defender flag some JSON output file from Trivy as Backdoor:PHP/Remoteshell.V","body":"<p>I'm working on a project where I parse some YAML configuration files in Java, then forge a command to send to a processbuilder which calls Trivy, performs the required scans and then print out two files, one in JSON and one in HTML.</p>\n<p>With most of the config files it works great, but with one of them, multiple JSON output files are flagged as Backdoor:PHP/Remoteshell.V by Windows Defender, so it puts them in quarantine and it stops the execution of the rest of my program because the paths don't exist anymore.</p>\n<p>Sadly, I can't share the exact Trivy call because it is done on private Docker images that require access, but I can share some of the flagged JSON files if needed.</p>\n<p>I tried scanning it with other malware detection software such as Gridinsoft and Zemana, but they don't detect anything.</p>\n<p>I'm using IntelliJ IDE for this project and running it with Quarkus on a Windows computer, but I execute the Java program on WSL on a 20.04 Ubuntu because Trivy can't run on Windows.</p>\n<p>I hope someone can help me on this issue as it is blocking me on my project, obviously I could just manually exclude the project file from the scan, but this is not a viable long term solution.</p>\n"},{"tags":["java","spring-boot","apache-camel","hawtio"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1650894186,"post_id":71999547,"comment_id":127224389,"body_markdown":"Have you tried with Java 11? According to the documentation newer versions are not [officially supported](https://camel.apache.org/manual/what-are-the-dependencies.html) yet so you might run in to issues with them.","body":"Have you tried with Java 11? According to the documentation newer versions are not <a href=\"https://camel.apache.org/manual/what-are-the-dependencies.html\" rel=\"nofollow noreferrer\">officially supported</a> yet so you might run in to issues with them."},{"owner":{"account_id":20508755,"reputation":1,"user_id":15050973,"display_name":"cebra"},"score":0,"creation_date":1650896025,"post_id":71999547,"comment_id":127225150,"body_markdown":"Yes, the IllegalThreadStateException occurs with Java 11, 14 and 17.","body":"Yes, the IllegalThreadStateException occurs with Java 11, 14 and 17."}],"owner":{"account_id":20508755,"reputation":1,"user_id":15050973,"display_name":"cebra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650896072,"creation_date":1650889711,"question_id":71999547,"body_markdown":"We have an application with several camel routes and would like to be able to stop and start (or rather pause/suspend and resume) the route processing in some situations with Jolokia/hawtio. The application works as it should and we can see the context and the routes in hawtio. Stopping and starting the routes works fine, but we&#39;d also like to suspend/resume the whole context, which doesn&#39;t work. \r\n\r\nWhen all routes and the context are started and we call `camelContext.suspend();` or click &#39;Suspend&#39; in hawtio, the context is shown as &#39;Suspended&#39; in hawtio, same for the routes.\r\n\r\nNow, if we try to start/resume the context in hawtio (or call `camelContext.resume();` in code) we get an IllegalThreadStateException and afterwards the context is in state &#39;stopped&#39; and there seems to be no way to restart it other than restarting the whole application.\r\n\r\nWe&#39;ve tried this with our actual application and couldn&#39;t find a solution.\r\n\r\n - Java 14.0.2 \r\n - Camel 3.7.1 \r\n - Spring Boot 2.4.2 \r\n - Jolokia 1.6.2 \r\n - hawtio 2.13.3\r\n\r\nWe&#39;ve also tried this with a little test application with newer dependency versions and only a simple test route, the result was the same.\r\n - Java 17.0.1 (also tried with 11.0.6 and 14.0.2)\r\n - Camel 3.16.0 \r\n - Spring Boot 2.6.6 \r\n - Jolokia 1.7.1 \r\n - hawtio 2.14.5\r\n\r\n**The stacktrace:**\r\n\r\n    o.a.camel.support.service.BaseService    : Error while resuming service: SpringCamelContext(CamelTestContext) with spring id application\r\n    \r\n    java.lang.IllegalThreadStateException: null\r\n    \tat java.base/java.lang.Thread.start(Thread.java:793) ~[na:na]\r\n    \tat org.apache.camel.spring.boot.CamelMainRunController.start(CamelMainRunController.java:40) ~[camel-spring-boot-3.16.0.jar:3.16.0]\r\n    \tat org.apache.camel.spring.boot.CamelSpringBootApplicationListener$1.onCamelContextStarted(CamelSpringBootApplicationListener.java:148) ~[camel-spring-boot-3.16.0.jar:3.16.0]\r\n    \tat org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:196) ~[camel-base-engine-3.16.0.jar:3.16.0]\r\n    \tat org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147) ~[camel-base-engine-3.16.0.jar:3.16.0]\r\n    \tat org.apache.camel.impl.engine.AbstractCamelContext.doResume(AbstractCamelContext.java:2585) ~[camel-base-engine-3.16.0.jar:3.16.0]\r\n    \tat org.apache.camel.support.service.BaseService.resume(BaseService.java:214) ~[camel-api-3.16.0.jar:3.16.0]\r\n    \tat org.apache.camel.management.mbean.ManagedCamelContext.start(ManagedCamelContext.java:292) ~[camel-management-3.16.0.jar:3.16.0]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72) ~[na:na]\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor43.invoke(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat java.base/sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:262) ~[na:na]\r\n    \tat java.management/javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1178) ~[na:na]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399) ~[na:na]\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86) ~[na:na]\r\n    \tat java.management/javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1172) ~[na:na]\r\n    \tat java.management/javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1016) ~[na:na]\r\n    \tat org.apache.camel.support.management.MixinRequiredModelMBean.invoke(MixinRequiredModelMBean.java:72) ~[camel-support-3.16.0.jar:3.16.0]\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814) ~[na:na]\r\n    \tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802) ~[na:na]\r\n    \tat org.jolokia.handler.ExecHandler.doHandleRequest(ExecHandler.java:98) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.handler.ExecHandler.doHandleRequest(ExecHandler.java:40) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.handler.JsonRequestHandler.handleRequest(JsonRequestHandler.java:89) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.backend.MBeanServerExecutorLocal.handleRequest(MBeanServerExecutorLocal.java:109) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.backend.MBeanServerHandler.dispatchRequest(MBeanServerHandler.java:161) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.backend.LocalRequestDispatcher.dispatchRequest(LocalRequestDispatcher.java:99) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.backend.BackendManager.callRequestDispatcher(BackendManager.java:429) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.backend.BackendManager.handleRequest(BackendManager.java:158) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.http.HttpRequestHandler.executeRequest(HttpRequestHandler.java:197) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.http.HttpRequestHandler.handlePostRequest(HttpRequestHandler.java:131) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.http.AgentServlet$3.handleRequest(AgentServlet.java:493) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.http.AgentServlet.handleSecurely(AgentServlet.java:383) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.http.AgentServlet.handle(AgentServlet.java:354) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat org.jolokia.http.AgentServlet.doPost(AgentServlet.java:317) ~[jolokia-core-1.7.1.jar:na]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n**Dependencies:**\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;jolokia-core.version&gt;1.7.1&lt;/jolokia-core.version&gt;\r\n    \t&lt;camel-version&gt;3.16.0&lt;/camel-version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.16.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;camel-file-starter&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${camel-version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;camel-management&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${camel-version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.jolokia&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${jolokia-core.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**The test route:**\r\n\r\n    public class MyRouteBuilder extends RouteBuilder {\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n            from(&quot;file:src/data?noop=true&quot;)\r\n                    .routeId(&quot;ROUTE1&quot;)\r\n                    .log(LoggingLevel.INFO, &quot;ROUTE1 entered&quot;)\r\n    \t\t\t\t.to(&quot;file://target/test&quot;);\r\n        }\r\n    }\r\n\r\nCan anyone suggest what we are doing wrong here?\r\n\r\nThanks in advance.\r\n","title":"IllegalThreadStateException when trying to resume suspended Camel context","body":"<p>We have an application with several camel routes and would like to be able to stop and start (or rather pause/suspend and resume) the route processing in some situations with Jolokia/hawtio. The application works as it should and we can see the context and the routes in hawtio. Stopping and starting the routes works fine, but we'd also like to suspend/resume the whole context, which doesn't work.</p>\n<p>When all routes and the context are started and we call <code>camelContext.suspend();</code> or click 'Suspend' in hawtio, the context is shown as 'Suspended' in hawtio, same for the routes.</p>\n<p>Now, if we try to start/resume the context in hawtio (or call <code>camelContext.resume();</code> in code) we get an IllegalThreadStateException and afterwards the context is in state 'stopped' and there seems to be no way to restart it other than restarting the whole application.</p>\n<p>We've tried this with our actual application and couldn't find a solution.</p>\n<ul>\n<li>Java 14.0.2</li>\n<li>Camel 3.7.1</li>\n<li>Spring Boot 2.4.2</li>\n<li>Jolokia 1.6.2</li>\n<li>hawtio 2.13.3</li>\n</ul>\n<p>We've also tried this with a little test application with newer dependency versions and only a simple test route, the result was the same.</p>\n<ul>\n<li>Java 17.0.1 (also tried with 11.0.6 and 14.0.2)</li>\n<li>Camel 3.16.0</li>\n<li>Spring Boot 2.6.6</li>\n<li>Jolokia 1.7.1</li>\n<li>hawtio 2.14.5</li>\n</ul>\n<p><strong>The stacktrace:</strong></p>\n<pre><code>o.a.camel.support.service.BaseService    : Error while resuming service: SpringCamelContext(CamelTestContext) with spring id application\n\njava.lang.IllegalThreadStateException: null\n    at java.base/java.lang.Thread.start(Thread.java:793) ~[na:na]\n    at org.apache.camel.spring.boot.CamelMainRunController.start(CamelMainRunController.java:40) ~[camel-spring-boot-3.16.0.jar:3.16.0]\n    at org.apache.camel.spring.boot.CamelSpringBootApplicationListener$1.onCamelContextStarted(CamelSpringBootApplicationListener.java:148) ~[camel-spring-boot-3.16.0.jar:3.16.0]\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:196) ~[camel-base-engine-3.16.0.jar:3.16.0]\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147) ~[camel-base-engine-3.16.0.jar:3.16.0]\n    at org.apache.camel.impl.engine.AbstractCamelContext.doResume(AbstractCamelContext.java:2585) ~[camel-base-engine-3.16.0.jar:3.16.0]\n    at org.apache.camel.support.service.BaseService.resume(BaseService.java:214) ~[camel-api-3.16.0.jar:3.16.0]\n    at org.apache.camel.management.mbean.ManagedCamelContext.start(ManagedCamelContext.java:292) ~[camel-management-3.16.0.jar:3.16.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor43.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at java.base/sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:262) ~[na:na]\n    at java.management/javax.management.modelmbean.RequiredModelMBean$4.run(RequiredModelMBean.java:1178) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399) ~[na:na]\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86) ~[na:na]\n    at java.management/javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1172) ~[na:na]\n    at java.management/javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1016) ~[na:na]\n    at org.apache.camel.support.management.MixinRequiredModelMBean.invoke(MixinRequiredModelMBean.java:72) ~[camel-support-3.16.0.jar:3.16.0]\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814) ~[na:na]\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802) ~[na:na]\n    at org.jolokia.handler.ExecHandler.doHandleRequest(ExecHandler.java:98) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.handler.ExecHandler.doHandleRequest(ExecHandler.java:40) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.handler.JsonRequestHandler.handleRequest(JsonRequestHandler.java:89) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.backend.MBeanServerExecutorLocal.handleRequest(MBeanServerExecutorLocal.java:109) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.backend.MBeanServerHandler.dispatchRequest(MBeanServerHandler.java:161) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.backend.LocalRequestDispatcher.dispatchRequest(LocalRequestDispatcher.java:99) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.backend.BackendManager.callRequestDispatcher(BackendManager.java:429) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.backend.BackendManager.handleRequest(BackendManager.java:158) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.http.HttpRequestHandler.executeRequest(HttpRequestHandler.java:197) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.http.HttpRequestHandler.handlePostRequest(HttpRequestHandler.java:131) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.http.AgentServlet$3.handleRequest(AgentServlet.java:493) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.http.AgentServlet.handleSecurely(AgentServlet.java:383) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.http.AgentServlet.handle(AgentServlet.java:354) ~[jolokia-core-1.7.1.jar:na]\n    at org.jolokia.http.AgentServlet.doPost(AgentServlet.java:317) ~[jolokia-core-1.7.1.jar:na]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.6.jar:2.6.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p><strong>Dependencies:</strong></p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;jolokia-core.version&gt;1.7.1&lt;/jolokia-core.version&gt;\n    &lt;camel-version&gt;3.16.0&lt;/camel-version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.16.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-file-starter&lt;/artifactId&gt;\n        &lt;version&gt;${camel-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-management&lt;/artifactId&gt;\n        &lt;version&gt;${camel-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jolokia&lt;/groupId&gt;\n        &lt;artifactId&gt;jolokia-core&lt;/artifactId&gt;\n        &lt;version&gt;${jolokia-core.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>The test route:</strong></p>\n<pre><code>public class MyRouteBuilder extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n        from(&quot;file:src/data?noop=true&quot;)\n                .routeId(&quot;ROUTE1&quot;)\n                .log(LoggingLevel.INFO, &quot;ROUTE1 entered&quot;)\n                .to(&quot;file://target/test&quot;);\n    }\n}\n</code></pre>\n<p>Can anyone suggest what we are doing wrong here?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1650881060,"post_id":71997116,"comment_id":127219759,"body_markdown":"Because it wasn&#39;t sent multiple times, and because the network is a serial medium, and because `HttpServletRequest` is not infiniitely buffered.","body":"Because it wasn&#39;t sent multiple times, and because the network is a serial medium, and because <code>HttpServletRequest</code> is not infiniitely buffered."},{"owner":{"account_id":14780319,"reputation":205,"user_id":10673982,"display_name":"Sampurna"},"score":1,"creation_date":1650949742,"post_id":71997116,"comment_id":127238286,"body_markdown":"Insightful, my teammate was facing a similar issue","body":"Insightful, my teammate was facing a similar issue"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1650896032,"creation_date":1650881182,"answer_id":71997806,"question_id":71997116,"body_markdown":"&gt; Why can the body of the HttpServletRequest not be read multiple times?\r\n\r\nBecause that would require the servlet stack to buffer the entire request body ... in case the servlet decides to re-read it.  That is going to be a performance and/or memory utilization hit for all requests.   And it won&#39;t work unless there is enough memory to buffer multiple instances (for multiple simultaneous requests) of the largest anticipated request body.\r\n\r\nNote that there is no way to get the client to resend the data, short of failing the HTTP request.  Even then, the client may not be able to resend it ... because it may not have been able to buffer the data itself.\r\n\r\nIn short: rereading the request body is not supported by the servlet APIs because it doesn&#39;t scale.  If a servlet wants to reread the data, it needs to buffer it *itself*.\r\n","title":"Why can the body of the HttpServletRequest not be read multiple times?","body":"<blockquote>\n<p>Why can the body of the HttpServletRequest not be read multiple times?</p>\n</blockquote>\n<p>Because that would require the servlet stack to buffer the entire request body ... in case the servlet decides to re-read it.  That is going to be a performance and/or memory utilization hit for all requests.   And it won't work unless there is enough memory to buffer multiple instances (for multiple simultaneous requests) of the largest anticipated request body.</p>\n<p>Note that there is no way to get the client to resend the data, short of failing the HTTP request.  Even then, the client may not be able to resend it ... because it may not have been able to buffer the data itself.</p>\n<p>In short: rereading the request body is not supported by the servlet APIs because it doesn't scale.  If a servlet wants to reread the data, it needs to buffer it <em>itself</em>.</p>\n"}],"owner":{"account_id":23672489,"reputation":53,"user_id":17699065,"display_name":"Himanshu Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1942,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71997806,"answer_count":1,"score":4,"last_activity_date":1650896032,"creation_date":1650878118,"question_id":71997116,"body_markdown":"I was facing this issue, where I was reading the request using `javax.servlet.http.HttpServletRequest.getReader()` and it was clearing the request after that. So when I was passing it forward in the filter chain, it was passing request as **null**\r\n\r\nI was able to resolve this by following similar solution:\r\n\r\nhttps://stackoverflow.com/questions/34804205/how-can-i-read-request-body-multiple-times-in-spring-handlermethodargumentresol\r\n\r\nMy question is why are we not allowed to read the request multiple times? ","title":"Why can the body of the HttpServletRequest not be read multiple times?","body":"<p>I was facing this issue, where I was reading the request using <code>javax.servlet.http.HttpServletRequest.getReader()</code> and it was clearing the request after that. So when I was passing it forward in the filter chain, it was passing request as <strong>null</strong></p>\n<p>I was able to resolve this by following similar solution:</p>\n<p><a href=\"https://stackoverflow.com/questions/34804205/how-can-i-read-request-body-multiple-times-in-spring-handlermethodargumentresol\">How can I read request body multiple times in Spring &#39;HandlerMethodArgumentResolver&#39;?</a></p>\n<p>My question is why are we not allowed to read the request multiple times?</p>\n"},{"tags":["java","firefox","selenium-webdriver","firefox-addon-sdk","selenium-grid"],"comments":[{"owner":{"account_id":3820254,"reputation":148,"user_id":3168501,"display_name":"Vishal"},"score":0,"creation_date":1407994996,"post_id":25300690,"comment_id":39433061,"body_markdown":"you can refer the link here for the answer - http://stackoverflow.com/questions/20897368/selenium-webdriver-not-working-with-firefox-26-0","body":"you can refer the link here for the answer - <a href=\"http://stackoverflow.com/questions/20897368/selenium-webdriver-not-working-with-firefox-26-0\" title=\"selenium webdriver not working with firefox 26 0\">stackoverflow.com/questions/20897368/&hellip;</a>"},{"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"score":0,"creation_date":1503489230,"post_id":25300690,"comment_id":78635071,"body_markdown":"Possible duplicate of [Selenium webdriver not working with Firefox 26.0](https://stackoverflow.com/questions/20897368/selenium-webdriver-not-working-with-firefox-26-0)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/20897368/selenium-webdriver-not-working-with-firefox-26-0\">Selenium webdriver not working with Firefox 26.0</a>"}],"answers":[{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1650896000,"creation_date":1410866659,"answer_id":25867491,"question_id":25300690,"body_markdown":"Update your selenium jars.\r\nThe new version of firefox(Or different browser) is not supporting old jars of selenium.\r\n\r\nDownload both\r\nSelenium Server (formerly the Selenium RC Server)\r\nSelenium Client &amp; WebDriver Language Bindings\r\n\r\nReplace them with old jars you are using. Update your Mozilla also so you can get the updated results\r\n\r\nsource:- http://docs.seleniumhq.org/download/","title":"Unable to connect to host 127.0.0.1 on port 7055 after 45000 ms. with FF version 26.0 and selenium standalone jar 2.39","body":"<p>Update your selenium jars.\nThe new version of firefox(Or different browser) is not supporting old jars of selenium.</p>\n<p>Download both\nSelenium Server (formerly the Selenium RC Server)\nSelenium Client &amp; WebDriver Language Bindings</p>\n<p>Replace them with old jars you are using. Update your Mozilla also so you can get the updated results</p>\n<p>source:- <a href=\"http://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">http://docs.seleniumhq.org/download/</a></p>\n"},{"tags":[],"owner":{"account_id":20341,"reputation":230150,"user_id":48523,"accept_rate":68,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1419999076,"creation_date":1419999076,"answer_id":27716016,"question_id":25300690,"body_markdown":"It looks like you have two different errors going on:\r\n\r\n1. `Unable to connect to host 127.0.0.1 on port 7055`\r\n2. `Error: no display specified`\r\n\r\nThe reason for the `Unable to connect` error is that the version of Selenium Server does not know how to work with the newer version of Firefox. You need to download a newer version of the Selenium Server that supports the newer version of Firefox.\r\n\r\nThe reason for the `Error: no display specified` error is that Firefox is being launched, but there is no X server (GUI) running on the remote host. You can use X11 forwarding to run Firefox on the remote host, but display it on your local host. On Mac OS X, you will need to download [XQuartz](http://xquartz.macosforge.org) in order to use X11 forwarding.","title":"Unable to connect to host 127.0.0.1 on port 7055 after 45000 ms. with FF version 26.0 and selenium standalone jar 2.39","body":"<p>It looks like you have two different errors going on:</p>\n\n<ol>\n<li><code>Unable to connect to host 127.0.0.1 on port 7055</code></li>\n<li><code>Error: no display specified</code></li>\n</ol>\n\n<p>The reason for the <code>Unable to connect</code> error is that the version of Selenium Server does not know how to work with the newer version of Firefox. You need to download a newer version of the Selenium Server that supports the newer version of Firefox.</p>\n\n<p>The reason for the <code>Error: no display specified</code> error is that Firefox is being launched, but there is no X server (GUI) running on the remote host. You can use X11 forwarding to run Firefox on the remote host, but display it on your local host. On Mac OS X, you will need to download <a href=\"http://xquartz.macosforge.org\" rel=\"nofollow\">XQuartz</a> in order to use X11 forwarding.</p>\n"},{"tags":[],"owner":{"account_id":5100378,"reputation":528,"user_id":4090167,"display_name":"Mayur Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442850839,"creation_date":1442850346,"answer_id":32699402,"question_id":25300690,"body_markdown":"Can you try upgrading your firefox and give it a try.\r\n\r\nYour firefox should be latest and selenium version should be 2.44. Let us know how it works","title":"Unable to connect to host 127.0.0.1 on port 7055 after 45000 ms. with FF version 26.0 and selenium standalone jar 2.39","body":"<p>Can you try upgrading your firefox and give it a try.</p>\n\n<p>Your firefox should be latest and selenium version should be 2.44. Let us know how it works</p>\n"},{"tags":[],"owner":{"account_id":5983446,"reputation":375,"user_id":4701628,"accept_rate":67,"display_name":"Sagar Chapagain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480482275,"creation_date":1480482275,"answer_id":40880698,"question_id":25300690,"body_markdown":"This is browser compatibility issue. I was finally successful after 3 days of full try. I first tried latest version of selenium server , firefox browser and latest webdriver , But I got the same error. I finally successed after downgrading my firefox from 50.0 t0 34.0 with latest php [webdriver][1] v.(0.9.1) by Lukasz Kolczynski and [selenium server 2.45.0][2].\r\nPlease check browser compatibiliy with selenium server from \r\n[here][3] and workout similarly.\r\n\r\n\r\n  [1]: https://code.google.com/archive/p/php-webdriver-bindings/downloads\r\n  [2]: https://selenium-release.storage.googleapis.com/index.html?path=2.45/\r\n  [3]: https://camo.githubusercontent.com/2bb1d1a9ab8cacc21418b54e7e0ab080ae9daa31/68747470733a2f2f7777772e657665726e6f74652e636f6d2f6c2f41434d4a64747a315343394e39614e595f647762673639414649695171613876746738422f696d6167652e706e67","title":"Unable to connect to host 127.0.0.1 on port 7055 after 45000 ms. with FF version 26.0 and selenium standalone jar 2.39","body":"<p>This is browser compatibility issue. I was finally successful after 3 days of full try. I first tried latest version of selenium server , firefox browser and latest webdriver , But I got the same error. I finally successed after downgrading my firefox from 50.0 t0 34.0 with latest php <a href=\"https://code.google.com/archive/p/php-webdriver-bindings/downloads\" rel=\"nofollow noreferrer\">webdriver</a> v.(0.9.1) by Lukasz Kolczynski and <a href=\"https://selenium-release.storage.googleapis.com/index.html?path=2.45/\" rel=\"nofollow noreferrer\">selenium server 2.45.0</a>.\nPlease check browser compatibiliy with selenium server from \n<a href=\"https://camo.githubusercontent.com/2bb1d1a9ab8cacc21418b54e7e0ab080ae9daa31/68747470733a2f2f7777772e657665726e6f74652e636f6d2f6c2f41434d4a64747a315343394e39614e595f647762673639414649695171613876746738422f696d6167652e706e67\" rel=\"nofollow noreferrer\">here</a> and workout similarly.</p>\n"},{"tags":[],"owner":{"account_id":6981562,"reputation":51,"user_id":5354276,"display_name":"Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511148679,"creation_date":1511147597,"answer_id":47384565,"question_id":25300690,"body_markdown":"I resolved the issue with Only\r\n\r\n`export DISPLAY=IP:DisplayNum` or `export DISPLAY=:DisplayNum` for localhost; So that can vnc connect and see the vnc desktop :1 if `$DISPLAY` is not :1. \r\n\r\n    export DISPLAY=:1","title":"Unable to connect to host 127.0.0.1 on port 7055 after 45000 ms. with FF version 26.0 and selenium standalone jar 2.39","body":"<p>I resolved the issue with Only</p>\n\n<p><code>export DISPLAY=IP:DisplayNum</code> or <code>export DISPLAY=:DisplayNum</code> for localhost; So that can vnc connect and see the vnc desktop :1 if <code>$DISPLAY</code> is not :1. </p>\n\n<pre><code>export DISPLAY=:1\n</code></pre>\n"}],"owner":{"account_id":1150032,"reputation":955,"user_id":1131940,"accept_rate":46,"display_name":"AngryJS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31617,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1650896000,"creation_date":1407994328,"question_id":25300690,"body_markdown":"I am trying to connect to selenium 2.30 with FF version 26.0 installed in my AWS unix machine but I am getting below error when I start both my client which access selenium.\r\n\r\nAlso, when I try the same with selenium standalone jar 2.38.0, it works fine but suddenely after some time in a day or two, it starts giving below error with 2.38.0 as well. Not sure why this is happening? Any idea??\r\n\r\nproject is I have a multithreadin app wherein client keeps executing some threads which pings some URLS and all, it keeps on happening unless some issue like below occurs.\r\n\r\n\r\n    Caused by: org.openqa.selenium.remote.ErrorHandler$UnknownServerException: Unable to connect to host 127.0.0.1     on port 7055 after 45000 ms. Firefox console output:\r\n    Error: no display specified\r\n    Error: no display specified\r\n\r\n    Build info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\n    System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;3.4.76-65.111.amzn1.x86_64&#39;, java.version:  &#39;1.7.0_51&#39;\r\n     Driver info: driver.version: FirefoxDriver\r\n        at      org.openqa.selenium.firefox.internal.NewProfileExtensionConnection.start(NewProfileExtensionConnection.java:118)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.startClient(FirefoxDriver.java:250)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:110)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:197)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:190)\r\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:108)\r\n","title":"Unable to connect to host 127.0.0.1 on port 7055 after 45000 ms. with FF version 26.0 and selenium standalone jar 2.39","body":"<p>I am trying to connect to selenium 2.30 with FF version 26.0 installed in my AWS unix machine but I am getting below error when I start both my client which access selenium.</p>\n\n<p>Also, when I try the same with selenium standalone jar 2.38.0, it works fine but suddenely after some time in a day or two, it starts giving below error with 2.38.0 as well. Not sure why this is happening? Any idea??</p>\n\n<p>project is I have a multithreadin app wherein client keeps executing some threads which pings some URLS and all, it keeps on happening unless some issue like below occurs.</p>\n\n<pre><code>Caused by: org.openqa.selenium.remote.ErrorHandler$UnknownServerException: Unable to connect to host 127.0.0.1     on port 7055 after 45000 ms. Firefox console output:\nError: no display specified\nError: no display specified\n\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '3.4.76-65.111.amzn1.x86_64', java.version:  '1.7.0_51'\n Driver info: driver.version: FirefoxDriver\n    at      org.openqa.selenium.firefox.internal.NewProfileExtensionConnection.start(NewProfileExtensionConnection.java:118)\n    at org.openqa.selenium.firefox.FirefoxDriver.startClient(FirefoxDriver.java:250)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:110)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:197)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:190)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:108)\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1414948062,"post_id":26678208,"comment_id":41997377,"body_markdown":"You are registering the listener after the context is created, basically rendering it useless. If you want it to participate you need to register it as a bean in your application context like any other bean.","body":"You are registering the listener after the context is created, basically rendering it useless. If you want it to participate you need to register it as a bean in your application context like any other bean."},{"owner":{"account_id":6797655,"reputation":975,"user_id":5232255,"display_name":"Jason Law"},"score":0,"creation_date":1602657620,"post_id":26678208,"comment_id":113786327,"body_markdown":"Does this answer your question? [Does spring have a shutdown process to put cleanup code?](https://stackoverflow.com/questions/8585350/does-spring-have-a-shutdown-process-to-put-cleanup-code)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8585350/does-spring-have-a-shutdown-process-to-put-cleanup-code\">Does spring have a shutdown process to put cleanup code?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1627289687,"creation_date":1414770592,"answer_id":26678606,"question_id":26678208,"body_markdown":"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#features.spring-application.application-exit\r\n\r\n&gt; Each SpringApplication will register a shutdown hook with the JVM to ensure that the ApplicationContext is closed gracefully on exit. All the standard Spring lifecycle callbacks (such as the DisposableBean interface, or the @PreDestroy annotation) can be used.\r\n&gt;\r\n&gt; In addition, beans may implement the org.springframework.boot.ExitCodeGenerator interface if they wish to return a specific exit code when the application ends.\r\n","title":"Spring Boot shutdown hook","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#features.spring-application.application-exit\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#features.spring-application.application-exit</a></p>\n<blockquote>\n<p>Each SpringApplication will register a shutdown hook with the JVM to ensure that the ApplicationContext is closed gracefully on exit. All the standard Spring lifecycle callbacks (such as the DisposableBean interface, or the @PreDestroy annotation) can be used.</p>\n<p>In addition, beans may implement the org.springframework.boot.ExitCodeGenerator interface if they wish to return a specific exit code when the application ends.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1414843635,"creation_date":1414843635,"answer_id":26689150,"question_id":26678208,"body_markdown":"Your listener is registered too late (that line will never be reached until the context has already closed). It should suffice to make it a `@Bean`.","title":"Spring Boot shutdown hook","body":"<p>Your listener is registered too late (that line will never be reached until the context has already closed). It should suffice to make it a <code>@Bean</code>.</p>\n"},{"tags":[],"owner":{"account_id":3846782,"reputation":785,"user_id":3188057,"display_name":"harsh tibrewal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650895941,"creation_date":1515565210,"answer_id":48181392,"question_id":26678208,"body_markdown":"    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.servlet.ServletListenerRegistrationBean;\r\n    import org.springframework.boot.web.support.SpringBootServletInitializer;\r\n    import org.springframework.context.annotation.Bean;\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @NotNull\r\n        @Bean\r\n        ServletListenerRegistrationBean&lt;ServletContextListener&gt; myServletListener() {\r\n            ServletListenerRegistrationBean&lt;ServletContextListener&gt; srb =\r\n                    new ServletListenerRegistrationBean&lt;&gt;();\r\n            srb.setListener(new ExampleServletContextListener());\r\n            return srb;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n\r\n    public class ExampleServletContextListener implements ServletContextListener {\r\n        @Override\r\n        public void contextInitialized(\r\n            ServletContextEvent sce) {\r\n        // Context Initialised\r\n        }\r\n\r\n        @Override\r\n        public void contextDestroyed(\r\n            ServletContextEvent sce) {\r\n           // Here - what you want to do that context shutdown    \r\n       }\r\n    }","title":"Spring Boot shutdown hook","body":"<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.ServletListenerRegistrationBean;\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\n@EnableAutoConfiguration\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @NotNull\n    @Bean\n    ServletListenerRegistrationBean&lt;ServletContextListener&gt; myServletListener() {\n        ServletListenerRegistrationBean&lt;ServletContextListener&gt; srb =\n                new ServletListenerRegistrationBean&lt;&gt;();\n        srb.setListener(new ExampleServletContextListener());\n        return srb;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>import javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\n\npublic class ExampleServletContextListener implements ServletContextListener {\n    @Override\n    public void contextInitialized(\n        ServletContextEvent sce) {\n    // Context Initialised\n    }\n\n    @Override\n    public void contextDestroyed(\n        ServletContextEvent sce) {\n       // Here - what you want to do that context shutdown    \n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1514077,"reputation":691,"user_id":1415511,"display_name":"lizhipeng"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1542611807,"creation_date":1542611807,"answer_id":53369917,"question_id":26678208,"body_markdown":"have you tried this as mentioned by @cfrick ?\r\n\r\n    @SpringBootApplication\r\n    @Slf4j\r\n    public class SpringBootShutdownHookApplication {\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(SpringBootShutdownHookApplication.class, args);\r\n      }\r\n    \r\n      @PreDestroy\r\n      public void onExit() {\r\n        log.info(&quot;###STOPing###&quot;);\r\n        try {\r\n          Thread.sleep(5 * 1000);\r\n        } catch (InterruptedException e) {\r\n          log.error(&quot;&quot;, e);;\r\n        }\r\n        log.info(&quot;###STOP FROM THE LIFECYCLE###&quot;);\r\n      }\r\n    }","title":"Spring Boot shutdown hook","body":"<p>have you tried this as mentioned by @cfrick ?</p>\n\n<pre><code>@SpringBootApplication\n@Slf4j\npublic class SpringBootShutdownHookApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SpringBootShutdownHookApplication.class, args);\n  }\n\n  @PreDestroy\n  public void onExit() {\n    log.info(\"###STOPing###\");\n    try {\n      Thread.sleep(5 * 1000);\n    } catch (InterruptedException e) {\n      log.error(\"\", e);;\n    }\n    log.info(\"###STOP FROM THE LIFECYCLE###\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1650895880,"creation_date":1612862220,"answer_id":66116016,"question_id":26678208,"body_markdown":"I have a similar use case, where I have to hold the server&#39;s shutdown process for some minutes, I have used the same approach mentioned in the question, the only change is instead of adding the listener after booting the service, I have added the listener (`ContextClosedEvent`) before running the application\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication application = new SpringApplication(Application.class);\r\n        application.addListeners((ApplicationListener&lt;ContextClosedEvent&gt;) event -&gt; {\r\n            log.info(&quot;Shutdown process initiated...&quot;);\r\n            try {\r\n                Thread.sleep(TimeUnit.MINUTES.toMillis(5));\r\n            } catch (InterruptedException e) {\r\n                log.error(&quot;Exception is thrown during the ContextClosedEvent&quot;, e);\r\n            }\r\n            log.info(&quot;Graceful Shutdown is processed successfully&quot;);\r\n        });\r\n        application.run(args);\r\n    }\r\n}\r\n```","title":"Spring Boot shutdown hook","body":"<p>I have a similar use case, where I have to hold the server's shutdown process for some minutes, I have used the same approach mentioned in the question, the only change is instead of adding the listener after booting the service, I have added the listener (<code>ContextClosedEvent</code>) before running the application</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication application = new SpringApplication(Application.class);\n        application.addListeners((ApplicationListener&lt;ContextClosedEvent&gt;) event -&gt; {\n            log.info(&quot;Shutdown process initiated...&quot;);\n            try {\n                Thread.sleep(TimeUnit.MINUTES.toMillis(5));\n            } catch (InterruptedException e) {\n                log.error(&quot;Exception is thrown during the ContextClosedEvent&quot;, e);\n            }\n            log.info(&quot;Graceful Shutdown is processed successfully&quot;);\n        });\n        application.run(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128549,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"answer_count":5,"score":67,"last_activity_date":1650895941,"creation_date":1414769393,"question_id":26678208,"body_markdown":"How can I register/add a custom shutdown routine that shall fire when my Spring Boot application shuts down?\r\n\r\nScenario: I deploy my Spring Boot application to a Jetty servlet container (i.e., no embedded Jetty). My application uses Logback for logging, and I want to change logging levels during runtime using Logback&#39;s MBean JMX configurator. [Its documentation states that to avoid memory leaks, on shutdown a specific LoggerContext shutdown method has to be called](http://logback.qos.ch/manual/jmxConfig.html#leak).\r\n\r\nWhat are good ways to listen on Spring Boot shutdown events?\r\n\r\nI have tried: \r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ConfigurableApplicationContext cac = SpringApplication.run(Example.class, args);\r\n\r\n        cac.addApplicationListener(new ApplicationListener&lt;ContextClosedEvent&gt;() {\r\n\r\n            @Override\r\n            public void onApplicationEvent(ContextClosedEvent event) {\r\n                logger.info(&quot;Do something&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\nbut this registered listener does not get called when the application shuts down.","title":"Spring Boot shutdown hook","body":"<p>How can I register/add a custom shutdown routine that shall fire when my Spring Boot application shuts down?</p>\n\n<p>Scenario: I deploy my Spring Boot application to a Jetty servlet container (i.e., no embedded Jetty). My application uses Logback for logging, and I want to change logging levels during runtime using Logback's MBean JMX configurator. <a href=\"http://logback.qos.ch/manual/jmxConfig.html#leak\" rel=\"noreferrer\">Its documentation states that to avoid memory leaks, on shutdown a specific LoggerContext shutdown method has to be called</a>.</p>\n\n<p>What are good ways to listen on Spring Boot shutdown events?</p>\n\n<p>I have tried: </p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    ConfigurableApplicationContext cac = SpringApplication.run(Example.class, args);\n\n    cac.addApplicationListener(new ApplicationListener&lt;ContextClosedEvent&gt;() {\n\n        @Override\n        public void onApplicationEvent(ContextClosedEvent event) {\n            logger.info(\"Do something\");\n        }\n    });\n}\n</code></pre>\n\n<p>but this registered listener does not get called when the application shuts down.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":2,"creation_date":1650808564,"post_id":71989019,"comment_id":127204912,"body_markdown":"Yes, it&#39;s nothing to do with interface.","body":"Yes, it&#39;s nothing to do with interface."},{"owner":{"account_id":25069381,"reputation":19,"user_id":18923358,"display_name":"Fahin Miah"},"score":0,"creation_date":1650809187,"post_id":71989019,"comment_id":127205033,"body_markdown":"That&#39;s mean  CheakId cheakid = Mockito.mock(CreateAccount.class)   and                Night night = Mockito.mock(Night.class) both are correct.","body":"That&#39;s mean  CheakId cheakid = Mockito.mock(CreateAccount.class)   and                Night night = Mockito.mock(Night.class) both are correct."}],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650895760,"creation_date":1650886596,"answer_id":71998917,"question_id":71989019,"body_markdown":"In a distant past, people used Java&#39;s dynamic proxy feature to generate mocks, and that only worked for interfaces. See https://www.baeldung.com/java-dynamic-proxies\r\n\r\nAn alternative way to generate mocks is to use bytecode generators like cglib and bytebuddy, and that also works for classes without interfaces. This is supported since Mockito 1.0, IIRC.\r\n\r\nSome limitations apply. E.g. you cannot stub a method that&#39;s declared as final in the class, or stub the equals and hashCode methods.\r\n\r\nWith classes, you can also use &#39;spy&#39; instead of &#39;mock&#39; if you want to keep the class&#39;s implementation, and use mockito just for verification.\r\n\r\nSo basically: your code should work.\r\n\r\n    CheakId cheakid = Mockito.mock(CreateAccount.class);\r\n    Night night = Mockito.mock(Night.class);\r\n","title":"How to create mock object of classes without interface","body":"<p>In a distant past, people used Java's dynamic proxy feature to generate mocks, and that only worked for interfaces. See <a href=\"https://www.baeldung.com/java-dynamic-proxies\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-dynamic-proxies</a></p>\n<p>An alternative way to generate mocks is to use bytecode generators like cglib and bytebuddy, and that also works for classes without interfaces. This is supported since Mockito 1.0, IIRC.</p>\n<p>Some limitations apply. E.g. you cannot stub a method that's declared as final in the class, or stub the equals and hashCode methods.</p>\n<p>With classes, you can also use 'spy' instead of 'mock' if you want to keep the class's implementation, and use mockito just for verification.</p>\n<p>So basically: your code should work.</p>\n<pre><code>CheakId cheakid = Mockito.mock(CreateAccount.class);\nNight night = Mockito.mock(Night.class);\n</code></pre>\n"}],"owner":{"account_id":25069381,"reputation":19,"user_id":18923358,"display_name":"Fahin Miah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71998917,"answer_count":1,"score":1,"last_activity_date":1650895760,"creation_date":1650807975,"question_id":71989019,"body_markdown":"```\r\ninterface CheakeId {\r\n\r\n     public void verify();\r\n\r\n}\r\n\r\nclass CreateAccount implements CheakeId {\r\n\r\n       public String gmail(){\r\n\r\n            return &quot;abc@gmail.com&quot;;\r\n       }\r\n\r\n      @Override\r\n      public void verify() {\r\n\r\n             System.out.println(&quot;verify&quot;);\r\n      }\r\n\r\n}\r\n\r\nCheakId cheakid = Mockito.mock(CreateAccount.class);\r\n```\r\nQuestion: Can we store the reference of child class in a reference variable of parent class If we create the mock objects of child class?\r\n\r\n```\r\nclass Night {\r\n\r\n     public void sleep() {\r\n\r\n         System.out.println(&quot;sleep&quot;);\r\n     }\r\n\r\n}\r\n\r\nNight night = Mockito.mock(Night.class);\r\n```\r\nQuestion: Can we create only mock objects of interfaces or we also can create mock objects of classes without interfaces? ","title":"How to create mock object of classes without interface","body":"<pre><code>interface CheakeId {\n\n     public void verify();\n\n}\n\nclass CreateAccount implements CheakeId {\n\n       public String gmail(){\n\n            return &quot;abc@gmail.com&quot;;\n       }\n\n      @Override\n      public void verify() {\n\n             System.out.println(&quot;verify&quot;);\n      }\n\n}\n\nCheakId cheakid = Mockito.mock(CreateAccount.class);\n</code></pre>\n<p>Question: Can we store the reference of child class in a reference variable of parent class If we create the mock objects of child class?</p>\n<pre><code>class Night {\n\n     public void sleep() {\n\n         System.out.println(&quot;sleep&quot;);\n     }\n\n}\n\nNight night = Mockito.mock(Night.class);\n</code></pre>\n<p>Question: Can we create only mock objects of interfaces or we also can create mock objects of classes without interfaces?</p>\n"},{"tags":["java","vector"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1404485288,"post_id":24576693,"comment_id":38070494,"body_markdown":"What type are you trying to store in the Vector? If you&#39;re looking for the syntax of a multi-dimensional array, it&#39;s `int[][] array = new int[5][6];`","body":"What type are you trying to store in the Vector? If you&#39;re looking for the syntax of a multi-dimensional array, it&#39;s <code>int[][] array = new int[5][6];</code>"},{"owner":{"account_id":2622340,"reputation":37,"user_id":2270113,"accept_rate":80,"display_name":"Ally Bitebo"},"score":0,"creation_date":1404485640,"post_id":24576693,"comment_id":38070691,"body_markdown":"i know how to work with multi-dimentional array. What i need is to g&#180;creat matrix above using 2D vector and how to assign values in sppecific index.","body":"i know how to work with multi-dimentional array. What i need is to g&#180;creat matrix above using 2D vector and how to assign values in sppecific index."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1404485684,"post_id":24576693,"comment_id":38070723,"body_markdown":"You assign new values using `array[2][3] = 6;` for example. Please note that arrays in Java are indexed from zero (so in case of an [5][6] array, the valid indices are [0..4][0..5])","body":"You assign new values using <code>array[2][3] = 6;</code> for example. Please note that arrays in Java are indexed from zero (so in case of an [5][6] array, the valid indices are [0..4][0..5])"},{"owner":{"account_id":2622340,"reputation":37,"user_id":2270113,"accept_rate":80,"display_name":"Ally Bitebo"},"score":0,"creation_date":1404486420,"post_id":24576693,"comment_id":38071091,"body_markdown":"i know in array i want to implement in vector.","body":"i know in array i want to implement in vector."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1404499719,"post_id":24576693,"comment_id":38075778,"body_markdown":"oh you mean THAT kind of Vector. The lack of capital letters on the class name really confused me! In that case, http://stackoverflow.com/questions/24526019/how-to-make-arraylist-that-work-as-two-dimentional-array-in-java/24526104#24526104","body":"oh you mean THAT kind of Vector. The lack of capital letters on the class name really confused me! In that case, <a href=\"http://stackoverflow.com/questions/24526019/how-to-make-arraylist-that-work-as-two-dimentional-array-in-java/24526104#24526104\" title=\"how to make arraylist that work as two dimentional array in java\">stackoverflow.com/questions/24526019/&hellip;</a>"},{"owner":{"account_id":2622340,"reputation":37,"user_id":2270113,"accept_rate":80,"display_name":"Ally Bitebo"},"score":0,"creation_date":1404500525,"post_id":24576693,"comment_id":38076014,"body_markdown":"Yes i meant Vector...sorry for the confusion. And your suggestion link is ArrayList but my problem is to use Vector of Vectors or in other words 2D vectors please help.","body":"Yes i meant Vector...sorry for the confusion. And your suggestion link is ArrayList but my problem is to use Vector of Vectors or in other words 2D vectors please help."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1404501838,"post_id":24576693,"comment_id":38076450,"body_markdown":"Vectors work pretty much exactly the same way as ArrayLists, so eh.","body":"Vectors work pretty much exactly the same way as ArrayLists, so eh."}],"answers":[{"tags":[],"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404488950,"creation_date":1404487754,"answer_id":24577433,"question_id":24576693,"body_markdown":"You can create a 2D Vector using the following:\r\n\r\n    Vector&lt;Vector&lt;Integer&gt;&gt; vector2D = new Vector&lt;Vector&lt;Integer&gt;&gt;(10);\r\n\r\nThis will create a Vector of size 10 which will contain Vectors with Integer(Vector&lt;Integer&gt;) values.\r\nBefore setting a value at a particular index, you need to create a Vector of Integer and set at the row position(2 in your case).\r\n\r\n    vector2D.add(2, new Vector&lt;Integer&gt;(10));\r\n\r\nYou can then set a value at the column index using the following syntax:\r\n\r\n    Vector&lt;Integer&gt; rowVector = vector2D.get(2);\r\n    rowVector.add(3, 5);\r\n\r\nHere we first get the Vector of Integers (Vector&lt;Integer&gt;) at index 2. Then add the value at the index 3 in the Vector of Integers(Vector&lt;Integer&gt;).\r\n\r\nHope this explains.","title":"How to create matrix from java vector of vectors (Multidimentional Vector)","body":"<p>You can create a 2D Vector using the following:</p>\n\n<pre><code>Vector&lt;Vector&lt;Integer&gt;&gt; vector2D = new Vector&lt;Vector&lt;Integer&gt;&gt;(10);\n</code></pre>\n\n<p>This will create a Vector of size 10 which will contain Vectors with Integer(Vector) values.\nBefore setting a value at a particular index, you need to create a Vector of Integer and set at the row position(2 in your case).</p>\n\n<pre><code>vector2D.add(2, new Vector&lt;Integer&gt;(10));\n</code></pre>\n\n<p>You can then set a value at the column index using the following syntax:</p>\n\n<pre><code>Vector&lt;Integer&gt; rowVector = vector2D.get(2);\nrowVector.add(3, 5);\n</code></pre>\n\n<p>Here we first get the Vector of Integers (Vector) at index 2. Then add the value at the index 3 in the Vector of Integers(Vector).</p>\n\n<p>Hope this explains.</p>\n"},{"tags":[],"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616935738,"creation_date":1616935738,"answer_id":66841613,"question_id":24576693,"body_markdown":"For whatever reasons, [SO](https://stackoverflow.com/users/-1/community) bumped your question just a couple minutes ago. In 2021 you probably would not use `Vector` any more, but `List`. Actually both of them have [`subList(start,end)`](https://docs.oracle.com/javase/7/docs/api/java/util/Vector.html#subList(int,%20int)) method (even in Java 7 what the link points to), so practically you would just loop over vector/list in row-sized steps and use this method.  \r\nAlso, you might fancy using streams so instead of initializing the result variable in a separate line, the stream collector does that for you:\r\n\r\n    List&lt;Integer&gt; vector=Arrays.asList(1,2,3,4,5,6,7,8);\r\n    int rowSize=4;\r\n    List&lt;List&lt;Integer&gt;&gt; matrix=IntStream.range(0, vector.size()/rowSize)\r\n            .mapToObj(row-&gt;vector.subList(row*rowSize, (row+1)*rowSize))\r\n            .collect(Collectors.toList());\r\n    System.out.println(matrix);\r\n\r\nwill output `[[1, 2, 3, 4], [5, 6, 7, 8]]`.\r\n\r\nAlso, as `Vector` can be constructed from `List`, after all you can do that too:\r\n\r\n    Vector&lt;Integer&gt; vector=new Vector&lt;Integer&gt;(Arrays.asList(1,2,3,4,5,6,7,8));\r\n    int rowSize=4;\r\n    Vector&lt;Vector&lt;Integer&gt;&gt; matrix=new Vector&lt;Vector&lt;Integer&gt;&gt;(\r\n            IntStream.range(0, vector.size()/rowSize)\r\n            .mapToObj(row-&gt;new Vector&lt;Integer&gt;(vector.subList(row*rowSize, (row+1)*rowSize)))\r\n            .collect(Collectors.toList()));\r\n    System.out.println(matrix);\r\n\r\nAnd of course in the background both of them do pretty much the same as a `for` loop would have done:\r\n\r\n    Vector&lt;Integer&gt; vector=new Vector&lt;Integer&gt;(Arrays.asList(1,2,3,4,5,6,7,8));\r\n    int rowSize=4;\r\n    Vector&lt;Vector&lt;Integer&gt;&gt; matrix=new Vector&lt;Vector&lt;Integer&gt;&gt;();\r\n    for(int row=0;row&lt;vector.size()/rowSize;row++)\r\n        matrix.add(new Vector&lt;Integer&gt;(vector.subList(row*rowSize, (row+1)*rowSize)));\r\n    System.out.println(matrix);","title":"How to create matrix from java vector of vectors (Multidimentional Vector)","body":"<p>For whatever reasons, <a href=\"https://stackoverflow.com/users/-1/community\">SO</a> bumped your question just a couple minutes ago. In 2021 you probably would not use <code>Vector</code> any more, but <code>List</code>. Actually both of them have <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Vector.html#subList(int,%20int)\" rel=\"nofollow noreferrer\"><code>subList(start,end)</code></a> method (even in Java 7 what the link points to), so practically you would just loop over vector/list in row-sized steps and use this method.<br />\nAlso, you might fancy using streams so instead of initializing the result variable in a separate line, the stream collector does that for you:</p>\n<pre><code>List&lt;Integer&gt; vector=Arrays.asList(1,2,3,4,5,6,7,8);\nint rowSize=4;\nList&lt;List&lt;Integer&gt;&gt; matrix=IntStream.range(0, vector.size()/rowSize)\n        .mapToObj(row-&gt;vector.subList(row*rowSize, (row+1)*rowSize))\n        .collect(Collectors.toList());\nSystem.out.println(matrix);\n</code></pre>\n<p>will output <code>[[1, 2, 3, 4], [5, 6, 7, 8]]</code>.</p>\n<p>Also, as <code>Vector</code> can be constructed from <code>List</code>, after all you can do that too:</p>\n<pre><code>Vector&lt;Integer&gt; vector=new Vector&lt;Integer&gt;(Arrays.asList(1,2,3,4,5,6,7,8));\nint rowSize=4;\nVector&lt;Vector&lt;Integer&gt;&gt; matrix=new Vector&lt;Vector&lt;Integer&gt;&gt;(\n        IntStream.range(0, vector.size()/rowSize)\n        .mapToObj(row-&gt;new Vector&lt;Integer&gt;(vector.subList(row*rowSize, (row+1)*rowSize)))\n        .collect(Collectors.toList()));\nSystem.out.println(matrix);\n</code></pre>\n<p>And of course in the background both of them do pretty much the same as a <code>for</code> loop would have done:</p>\n<pre><code>Vector&lt;Integer&gt; vector=new Vector&lt;Integer&gt;(Arrays.asList(1,2,3,4,5,6,7,8));\nint rowSize=4;\nVector&lt;Vector&lt;Integer&gt;&gt; matrix=new Vector&lt;Vector&lt;Integer&gt;&gt;();\nfor(int row=0;row&lt;vector.size()/rowSize;row++)\n    matrix.add(new Vector&lt;Integer&gt;(vector.subList(row*rowSize, (row+1)*rowSize)));\nSystem.out.println(matrix);\n</code></pre>\n"}],"owner":{"account_id":2622340,"reputation":37,"user_id":2270113,"accept_rate":80,"display_name":"Ally Bitebo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14913,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1650895575,"creation_date":1404484916,"question_id":24576693,"body_markdown":"am trying to create vector of Vectors(2d) in java like multidimensional array. then to assign values to specific position in that matrix like what we do using matrix[i][j] in 2D array\r\nAny help.\r\n\r\nMy data in one Vector: \r\n\r\n`n = [a, b, c, d, e, f, g , h]`\r\n\r\nI want to create 2D Vector to represent \r\nvector m = \r\n\r\n - a b c d \r\n - e f g h","title":"How to create matrix from java vector of vectors (Multidimentional Vector)","body":"<p>am trying to create vector of Vectors(2d) in java like multidimensional array. then to assign values to specific position in that matrix like what we do using matrix[i][j] in 2D array\nAny help.</p>\n<p>My data in one Vector:</p>\n<p><code>n = [a, b, c, d, e, f, g , h]</code></p>\n<p>I want to create 2D Vector to represent\nvector m =</p>\n<ul>\n<li>a b c d</li>\n<li>e f g h</li>\n</ul>\n"},{"tags":["java","coldfusion","lucee"],"comments":[{"owner":{"account_id":25004166,"reputation":1,"user_id":18864293,"display_name":"simone"},"score":0,"creation_date":1650805685,"post_id":71988699,"comment_id":127204273,"body_markdown":"and if i pass port 80, i get `301 moved permanently `","body":"and if i pass port 80, i get <code>301 moved permanently </code>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650808379,"creation_date":1650808021,"answer_id":71989025,"question_id":71988699,"body_markdown":"There are a few problems.  But they can be summed up as follows:\r\n\r\n&gt; Don&#39;t attempt to use a `Socket` to talk to an HTTP / HTTPS server.  \r\n\r\nA modern Java SE class library includes a perfectly serviceable HTTP client class that can handle all of the intricacies of talking to an HTTP 1.0, 1.1, 2.0, etc server.  Use it.  Or use a 3rd party client library if you prefer.\r\n\r\nThis will solve most, if not all of your problems.  And a whole bunch more problems that you might encounter.\r\n\r\n-------------\r\n\r\nNow to the specifics:\r\n\r\n1.  When you connect to an HTTPS server (on port 433), you need to establish an SSL/TLS connection.  The plain `Socket` implementation doesn&#39;t know how to do that.  You need to use `SSLSocket` instead.\r\n\r\n2.  A 3xx response is a redirect.  In the case of a 301, the response should should include a header that gives the URI to redirect to.  Your code needs to retrieve the URI and send a new request ... to there.\r\n\r\n3.  Since you got the 301 when you changed port 443 to port 80, my guess is that it is a redirect to port 443!  A lot of web services no longer accept requests on port 80, because traffic can be easily snooped, and credentials and other private information can be stolen.\r\n\r\nI notice that you **are** sending `Basic-Auth` headers ... containing credentials.  Doing that to an HTTP port is just asking to be hacked.\r\n\r\n---------------\r\n\r\nIt also looks like your code is mangled.  You seem to have changed `+` to `&amp;` or something like that.  And `&lt;=` to `lte` too. And you are using `and` and `not` as operators.  And you are catching `Object`. That ain&#39;t Java.","title":"http error saying unable to make an https connection","body":"<p>There are a few problems.  But they can be summed up as follows:</p>\n<blockquote>\n<p>Don't attempt to use a <code>Socket</code> to talk to an HTTP / HTTPS server.</p>\n</blockquote>\n<p>A modern Java SE class library includes a perfectly serviceable HTTP client class that can handle all of the intricacies of talking to an HTTP 1.0, 1.1, 2.0, etc server.  Use it.  Or use a 3rd party client library if you prefer.</p>\n<p>This will solve most, if not all of your problems.  And a whole bunch more problems that you might encounter.</p>\n<hr />\n<p>Now to the specifics:</p>\n<ol>\n<li><p>When you connect to an HTTPS server (on port 433), you need to establish an SSL/TLS connection.  The plain <code>Socket</code> implementation doesn't know how to do that.  You need to use <code>SSLSocket</code> instead.</p>\n</li>\n<li><p>A 3xx response is a redirect.  In the case of a 301, the response should should include a header that gives the URI to redirect to.  Your code needs to retrieve the URI and send a new request ... to there.</p>\n</li>\n<li><p>Since you got the 301 when you changed port 443 to port 80, my guess is that it is a redirect to port 443!  A lot of web services no longer accept requests on port 80, because traffic can be easily snooped, and credentials and other private information can be stolen.</p>\n</li>\n</ol>\n<p>I notice that you <strong>are</strong> sending <code>Basic-Auth</code> headers ... containing credentials.  Doing that to an HTTP port is just asking to be hacked.</p>\n<hr />\n<p>It also looks like your code is mangled.  You seem to have changed <code>+</code> to <code>&amp;</code> or something like that.  And <code>&lt;=</code> to <code>lte</code> too. And you are using <code>and</code> and <code>not</code> as operators.  And you are catching <code>Object</code>. That ain't Java.</p>\n"}],"owner":{"account_id":25004166,"reputation":1,"user_id":18864293,"display_name":"simone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650895436,"creation_date":1650805580,"question_id":71988699,"body_markdown":"I have this Java code but when i run it, it says the https connection cannot be made to https \r\n\r\nsomething is wrong in this i am trying to use this because of webdav functionality \r\n\r\n    try{\r\n\t\tsocket.init(this.host, this.port);\r\n\t}\r\n\tcatch(Object e){\r\n\t\treturn { error=&quot;Could not connect to host.&quot; };\r\n\t}\r\n\r\n\tif( socket.isConnected() ){\r\n\t\r\n\r\n\t\t// send a request\r\n\t\toutput = createObject(&quot;java&quot;, &quot;java.io.PrintWriter&quot;).init(socket.getOutputStream());\r\n\t\toutput.println(arguments.method &amp; &quot; &quot; &amp; this.path &amp; arguments.appendUrl &amp; &quot; HTTP/1.1&quot;);\r\n\t\toutput.println(&quot;Authorization: Basic &quot;&amp; ToBase64(this.username &amp;&quot;:&quot;&amp; this.password) );\r\n\t\toutput.println(&quot;Host: &quot;&amp; this.host &amp;&quot;:&quot;&amp; this.port );\r\n\r\n\t\tif(isDefined(&quot;arguments.headers&quot;)){\r\n\t\t\tfor(i=1; i lte ArrayLen(arguments.headers); i++){\r\n\t\t\t\toutput.println(arguments.headers[i].name &amp;&quot;: &quot;&amp; arguments.headers[i].value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\toutput.println(&quot;Content-Type: &quot;&amp; arguments.contentType );\r\n\t\toutput.println(&quot;User-Agent: &quot;&amp; this.userAgent);\r\n\t\toutput.println(&quot;Content-Length: &quot;&amp; Len(arguments.data) );\r\n\t\toutput.println(&quot;Connection: close&quot; );\r\n\t\toutput.println();\r\n\t\toutput.println(arguments.data);\r\n\t\toutput.flush();\r\n\r\n    \t\t\t\t\r\n    \t\t\t\t\t\t\t\r\n    \r\n    \t\t\t\t// read back the response\r\n    \t\t\t\tinput = createObject( &quot;java&quot;, &quot;java.io.BufferedReader&quot;).init(createObject( &quot;java&quot;, &quot;java.io.InputStreamReader&quot;).init(socket.getInputStream()) );\r\n    \t\t\t\t\r\n    \t\t\t\twhile(true){\r\n    \t\t\t\t\tline = input.readLine();\r\n    \t\t\t\t\tif(not isDefined(&#39;line&#39;) or line eq -1)\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tresult.raw &amp;= line &amp; newLine;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\toutput.close();\r\n    \t\t\t\tinput.close();\r\n    \t\t\t\tsocket.close();\r\n\r\neven for https, i dump the socket and it returns me true and after that it just fails with an error code, i tried it on lucee but unable to make it work \r\n\r\nthe port i am passing is 443\r\n\r\nany guidance \r\n\r\n    HTTP/1.1 400 Bad Request Server: ZGS Date: Sun, 24 Apr 2022 13:05:20 GMT Content-Type: text/html Content-Length: 220 Connection: close &lt;html&gt; &lt;head&gt;&lt;title&gt;400 The plain HTTP request was sent to HTTPS port&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;center&gt;&lt;h1&gt;400 Bad Request&lt;/h1&gt;&lt;/center&gt; &lt;center&gt;The plain HTTP request was sent to HTTPS port&lt;/center&gt; &lt;/body&gt; &lt;/html&gt;\r\n","title":"http error saying unable to make an https connection","body":"<p>I have this Java code but when i run it, it says the https connection cannot be made to https</p>\n<p>something is wrong in this i am trying to use this because of webdav functionality</p>\n<pre><code>try{\n    socket.init(this.host, this.port);\n}\ncatch(Object e){\n    return { error=&quot;Could not connect to host.&quot; };\n}\n\nif( socket.isConnected() ){\n\n\n    // send a request\n    output = createObject(&quot;java&quot;, &quot;java.io.PrintWriter&quot;).init(socket.getOutputStream());\n    output.println(arguments.method &amp; &quot; &quot; &amp; this.path &amp; arguments.appendUrl &amp; &quot; HTTP/1.1&quot;);\n    output.println(&quot;Authorization: Basic &quot;&amp; ToBase64(this.username &amp;&quot;:&quot;&amp; this.password) );\n    output.println(&quot;Host: &quot;&amp; this.host &amp;&quot;:&quot;&amp; this.port );\n\n    if(isDefined(&quot;arguments.headers&quot;)){\n        for(i=1; i lte ArrayLen(arguments.headers); i++){\n            output.println(arguments.headers[i].name &amp;&quot;: &quot;&amp; arguments.headers[i].value);\n        }\n    }\n\n    output.println(&quot;Content-Type: &quot;&amp; arguments.contentType );\n    output.println(&quot;User-Agent: &quot;&amp; this.userAgent);\n    output.println(&quot;Content-Length: &quot;&amp; Len(arguments.data) );\n    output.println(&quot;Connection: close&quot; );\n    output.println();\n    output.println(arguments.data);\n    output.flush();\n\n                \n                            \n\n                // read back the response\n                input = createObject( &quot;java&quot;, &quot;java.io.BufferedReader&quot;).init(createObject( &quot;java&quot;, &quot;java.io.InputStreamReader&quot;).init(socket.getInputStream()) );\n                \n                while(true){\n                    line = input.readLine();\n                    if(not isDefined('line') or line eq -1)\n                        break;\n                    result.raw &amp;= line &amp; newLine;\n                }\n\n                output.close();\n                input.close();\n                socket.close();\n</code></pre>\n<p>even for https, i dump the socket and it returns me true and after that it just fails with an error code, i tried it on lucee but unable to make it work</p>\n<p>the port i am passing is 443</p>\n<p>any guidance</p>\n<pre><code>HTTP/1.1 400 Bad Request Server: ZGS Date: Sun, 24 Apr 2022 13:05:20 GMT Content-Type: text/html Content-Length: 220 Connection: close &lt;html&gt; &lt;head&gt;&lt;title&gt;400 The plain HTTP request was sent to HTTPS port&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;center&gt;&lt;h1&gt;400 Bad Request&lt;/h1&gt;&lt;/center&gt; &lt;center&gt;The plain HTTP request was sent to HTTPS port&lt;/center&gt; &lt;/body&gt; &lt;/html&gt;\n</code></pre>\n"},{"tags":["java","android","gson","android-volley"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1650893997,"post_id":72000421,"comment_id":127224316,"body_markdown":"It isn&#39;t working because you aren&#39;t overriding the correct toString method - in your song class, you have ToString method instead of toString","body":"It isn&#39;t working because you aren&#39;t overriding the correct toString method - in your song class, you have ToString method instead of toString"},{"owner":{"account_id":11396596,"reputation":110,"user_id":8354763,"display_name":"mazen amr"},"score":0,"creation_date":1650894073,"post_id":72000421,"comment_id":127224348,"body_markdown":"My doubts is this you miss parse response inside json , my suggestion is to add break point after reviving response and then try to manipulate with it in the debugger console, hope it helps","body":"My doubts is this you miss parse response inside json , my suggestion is to add break point after reviving response and then try to manipulate with it in the debugger console, hope it helps"}],"answers":[{"tags":[],"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650895106,"creation_date":1650895106,"answer_id":72000767,"question_id":72000421,"body_markdown":"Based on the output you&#39;re seeing, it shows that the toString() is not implemented correctly in your Song class since the Object.toString() is being called, and that is the case for you:\r\n\r\nSong.class\r\n```\r\n...\r\npublic String ToString()  //Should be toString()\r\n{\r\n    String toReturn = &quot;ID: &quot; + Integer.toString(ID) + &quot;\\nArtist: &quot; + Integer.toString(ArtistID)\r\n            +&quot;\\nLength: &quot; + Length + &quot;\\nGenre: &quot; + Genre;\r\n    return toReturn;\r\n}\r\n```\r\n\r\nYou are overriding the wrong toString method, change `ToString` to `toString` and it should fix your problem. \r\n\r\nIn the future use @Override to catch such errors.","title":"Andoid/Java/Volley/GSON: GET request to API not returning correctly","body":"<p>Based on the output you're seeing, it shows that the toString() is not implemented correctly in your Song class since the Object.toString() is being called, and that is the case for you:</p>\n<p>Song.class</p>\n<pre><code>...\npublic String ToString()  //Should be toString()\n{\n    String toReturn = &quot;ID: &quot; + Integer.toString(ID) + &quot;\\nArtist: &quot; + Integer.toString(ArtistID)\n            +&quot;\\nLength: &quot; + Length + &quot;\\nGenre: &quot; + Genre;\n    return toReturn;\n}\n</code></pre>\n<p>You are overriding the wrong toString method, change <code>ToString</code> to <code>toString</code> and it should fix your problem.</p>\n<p>In the future use @Override to catch such errors.</p>\n"},{"tags":[],"owner":{"account_id":15291832,"reputation":155,"user_id":11033122,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650895281,"creation_date":1650895281,"answer_id":72000798,"question_id":72000421,"body_markdown":"I found my error. I did have a typo in the toString() function signature, but also I could return the data correctly when I renamed the variables in the `Artist` and `Song` class to exactly the same as in the JSON response. ","title":"Andoid/Java/Volley/GSON: GET request to API not returning correctly","body":"<p>I found my error. I did have a typo in the toString() function signature, but also I could return the data correctly when I renamed the variables in the <code>Artist</code> and <code>Song</code> class to exactly the same as in the JSON response.</p>\n"}],"owner":{"account_id":15291832,"reputation":155,"user_id":11033122,"display_name":"Luke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650895281,"creation_date":1650893526,"question_id":72000421,"body_markdown":"I&#39;m quite a noob to the android and java world so I&#39;m not quite sure what I&#39;m doing wrong here. I have an `Artist` and `Song` class like this:\r\n\r\n`Artist.java`\r\n\r\n    public class Artist {\r\n    private int ID;\r\n\r\n    private String Name;\r\n\r\n    private String Bio;\r\n\r\n    private int YearFormed;\r\n\r\n    @Override\r\n    public String toString()\r\n    {\r\n        return Name;\r\n    } }\r\n\r\n`Song.java` \r\n\r\n    public class Song {\r\n    private int ID;\r\n    private String Name;\r\n    private String Length;\r\n    private String Genre;\r\n    private String Lyrics;\r\n\r\n    private int ArtistID;\r\n\r\n    public String printName()\r\n    {\r\n        return Name;\r\n    }\r\n\r\n    public String ToString()\r\n    {\r\n        String toReturn = &quot;ID: &quot; + Integer.toString(ID) + &quot;\\nArtist: &quot; + Integer.toString(ArtistID)\r\n                +&quot;\\nLength: &quot; + Length + &quot;\\nGenre: &quot; + Genre;\r\n        return toReturn;\r\n    } }\r\n\r\nIn my `MainActivity.java` file I gave a function to GET request to `api/artists` and `api/songs`. The URI is correct and when I visit the API in the browser I can see that it works fine, so it must be a small issue that I&#39;m missing. \r\n\r\nWhen I click the Get Songs button in my app, it seems as though my toString() function in the Song class isn&#39;t working, and when I click the Get Artists button the app crashes completely.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is the functions to make the requests:\r\n\r\n     public void getArtists(View v)\r\n    {\r\n        final TextView outputTextView = (TextView) findViewById(R.id.outputTextView);\r\n\r\n        try\r\n        {\r\n            RequestQueue queue = Volley.newRequestQueue(this);\r\n            Log.d(TAG, &quot;Making request to /api/artists/&quot;);\r\n            try\r\n            {\r\n                StringRequest strObjRequest = new StringRequest(Request.Method.GET, SERVICE_URI + &quot;/artists&quot;,\r\n                        new Response.Listener&lt;String&gt;()\r\n                        {\r\n                            @Override\r\n                            public void onResponse(String response)\r\n                            {\r\n                                Gson gson = new Gson();\r\n                                Artist[] artists = gson.fromJson(response, Artist[].class);\r\n                                for(Artist a: artists)\r\n                                {\r\n                                    outputTextView.setText(a.toString());\r\n                                    Log.d(TAG, &quot;Data: &quot; + a.toString());\r\n\r\n                                }\r\n                            }\r\n                        },\r\n                        new Response.ErrorListener()\r\n                        {\r\n                            @Override\r\n                            public void onErrorResponse(VolleyError error)\r\n                            {\r\n                                outputTextView.setText(error.toString());\r\n                                Log.d(TAG, &quot;Error&quot; + error.toString());\r\n                            }\r\n                        });\r\n                queue.add(strObjRequest);\r\n            }\r\n            catch (Exception e2)\r\n            {\r\n                Log.d(TAG, e2.toString());\r\n                outputTextView.setText(e2.toString());\r\n            }\r\n        }\r\n        catch (Exception e1)\r\n        {\r\n            Log.d(TAG, e1.toString());\r\n            outputTextView.setText(e1.toString());\r\n        }\r\n    }\r\n\r\n    public void getSongs(View v)\r\n    {\r\n        final TextView outputTextView = (TextView) findViewById(R.id.outputTextView);\r\n\r\n        try\r\n        {\r\n            RequestQueue queue = Volley.newRequestQueue(this);\r\n            Log.d(TAG, &quot;Making request to /api/songs/&quot;);\r\n            try\r\n            {\r\n                StringRequest strObjRequest = new StringRequest(Request.Method.GET, SERVICE_URI + &quot;/songs&quot;,\r\n                        new Response.Listener&lt;String&gt;()\r\n                        {\r\n                            @Override\r\n                            public void onResponse(String response) {\r\n                                Gson gson = new Gson();\r\n                                Song[] songs = gson.fromJson(response, Song[].class);\r\n                                for (Song s : songs) {\r\n                                    outputTextView.append(&quot;\\n&quot; + s.toString());\r\n                                    Log.d(TAG, &quot;Data: &quot; + s.toString());\r\n\r\n                                }\r\n                            }\r\n                        },\r\n                        new Response.ErrorListener()\r\n                        {\r\n                            @Override\r\n                            public void onErrorResponse(VolleyError error)\r\n                            {\r\n                                outputTextView.setText(error.toString());\r\n                                Log.d(TAG, &quot;Error&quot; + error.toString());\r\n                            }\r\n                        });\r\n                queue.add(strObjRequest);\r\n\r\n            }\r\n            catch (Exception e2)\r\n            {\r\n                Log.d(TAG, e2.toString());\r\n                outputTextView.setText(e2.toString());\r\n            }\r\n        }\r\n        catch (Exception e1)\r\n        {\r\n            Log.d(TAG, e1.toString());\r\n            outputTextView.setText(e1.toString());\r\n        }\r\n    }\r\n\r\nAnd finally in the `onCreate()` function in the app.\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        Button getArtistButton = (Button) findViewById(R.id.getArtistsButton);\r\n        getArtistButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                getArtists(view);\r\n            }\r\n        });\r\n\r\n        Button getSongsButton = (Button) findViewById(R.id.getSongsButton);\r\n        getSongsButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                getSongs(view);\r\n            }\r\n        });\r\n    }\r\n\r\nApologies for the walls of code, any help is appreciated! :)\r\n\r\nAlso, here is the api response from inside the browser:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DfxbV.png\r\n  [2]: https://i.stack.imgur.com/TTE2c.png\r\n  [3]: https://i.stack.imgur.com/hq4sl.png","title":"Andoid/Java/Volley/GSON: GET request to API not returning correctly","body":"<p>I'm quite a noob to the android and java world so I'm not quite sure what I'm doing wrong here. I have an <code>Artist</code> and <code>Song</code> class like this:</p>\n<p><code>Artist.java</code></p>\n<pre><code>public class Artist {\nprivate int ID;\n\nprivate String Name;\n\nprivate String Bio;\n\nprivate int YearFormed;\n\n@Override\npublic String toString()\n{\n    return Name;\n} }\n</code></pre>\n<p><code>Song.java</code></p>\n<pre><code>public class Song {\nprivate int ID;\nprivate String Name;\nprivate String Length;\nprivate String Genre;\nprivate String Lyrics;\n\nprivate int ArtistID;\n\npublic String printName()\n{\n    return Name;\n}\n\npublic String ToString()\n{\n    String toReturn = &quot;ID: &quot; + Integer.toString(ID) + &quot;\\nArtist: &quot; + Integer.toString(ArtistID)\n            +&quot;\\nLength: &quot; + Length + &quot;\\nGenre: &quot; + Genre;\n    return toReturn;\n} }\n</code></pre>\n<p>In my <code>MainActivity.java</code> file I gave a function to GET request to <code>api/artists</code> and <code>api/songs</code>. The URI is correct and when I visit the API in the browser I can see that it works fine, so it must be a small issue that I'm missing.</p>\n<p>When I click the Get Songs button in my app, it seems as though my toString() function in the Song class isn't working, and when I click the Get Artists button the app crashes completely.</p>\n<p><a href=\"https://i.stack.imgur.com/DfxbV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DfxbV.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the functions to make the requests:</p>\n<pre><code> public void getArtists(View v)\n{\n    final TextView outputTextView = (TextView) findViewById(R.id.outputTextView);\n\n    try\n    {\n        RequestQueue queue = Volley.newRequestQueue(this);\n        Log.d(TAG, &quot;Making request to /api/artists/&quot;);\n        try\n        {\n            StringRequest strObjRequest = new StringRequest(Request.Method.GET, SERVICE_URI + &quot;/artists&quot;,\n                    new Response.Listener&lt;String&gt;()\n                    {\n                        @Override\n                        public void onResponse(String response)\n                        {\n                            Gson gson = new Gson();\n                            Artist[] artists = gson.fromJson(response, Artist[].class);\n                            for(Artist a: artists)\n                            {\n                                outputTextView.setText(a.toString());\n                                Log.d(TAG, &quot;Data: &quot; + a.toString());\n\n                            }\n                        }\n                    },\n                    new Response.ErrorListener()\n                    {\n                        @Override\n                        public void onErrorResponse(VolleyError error)\n                        {\n                            outputTextView.setText(error.toString());\n                            Log.d(TAG, &quot;Error&quot; + error.toString());\n                        }\n                    });\n            queue.add(strObjRequest);\n        }\n        catch (Exception e2)\n        {\n            Log.d(TAG, e2.toString());\n            outputTextView.setText(e2.toString());\n        }\n    }\n    catch (Exception e1)\n    {\n        Log.d(TAG, e1.toString());\n        outputTextView.setText(e1.toString());\n    }\n}\n\npublic void getSongs(View v)\n{\n    final TextView outputTextView = (TextView) findViewById(R.id.outputTextView);\n\n    try\n    {\n        RequestQueue queue = Volley.newRequestQueue(this);\n        Log.d(TAG, &quot;Making request to /api/songs/&quot;);\n        try\n        {\n            StringRequest strObjRequest = new StringRequest(Request.Method.GET, SERVICE_URI + &quot;/songs&quot;,\n                    new Response.Listener&lt;String&gt;()\n                    {\n                        @Override\n                        public void onResponse(String response) {\n                            Gson gson = new Gson();\n                            Song[] songs = gson.fromJson(response, Song[].class);\n                            for (Song s : songs) {\n                                outputTextView.append(&quot;\\n&quot; + s.toString());\n                                Log.d(TAG, &quot;Data: &quot; + s.toString());\n\n                            }\n                        }\n                    },\n                    new Response.ErrorListener()\n                    {\n                        @Override\n                        public void onErrorResponse(VolleyError error)\n                        {\n                            outputTextView.setText(error.toString());\n                            Log.d(TAG, &quot;Error&quot; + error.toString());\n                        }\n                    });\n            queue.add(strObjRequest);\n\n        }\n        catch (Exception e2)\n        {\n            Log.d(TAG, e2.toString());\n            outputTextView.setText(e2.toString());\n        }\n    }\n    catch (Exception e1)\n    {\n        Log.d(TAG, e1.toString());\n        outputTextView.setText(e1.toString());\n    }\n}\n</code></pre>\n<p>And finally in the <code>onCreate()</code> function in the app.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    Button getArtistButton = (Button) findViewById(R.id.getArtistsButton);\n    getArtistButton.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n            getArtists(view);\n        }\n    });\n\n    Button getSongsButton = (Button) findViewById(R.id.getSongsButton);\n    getSongsButton.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n            getSongs(view);\n        }\n    });\n}\n</code></pre>\n<p>Apologies for the walls of code, any help is appreciated! :)</p>\n<p>Also, here is the api response from inside the browser:\n<a href=\"https://i.stack.imgur.com/TTE2c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TTE2c.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hq4sl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hq4sl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650895276,"creation_date":1650874034,"answer_id":71996328,"question_id":71942133,"body_markdown":"The schemas in the main branch are for the upcoming version v5, in which some columns have been removed/added, etc.\r\n\r\nYou need to use the DDL script with the same schema as your spring batch version (4.3.5) in your case:\r\n\r\nhttps://github.com/spring-projects/spring-batch/blob/4.3.5/spring-batch-core/src/main/resources/org/springframework/batch/core/schema-oracle10g.sql","title":"Issue with Spring batch metadata tables","body":"<p>The schemas in the main branch are for the upcoming version v5, in which some columns have been removed/added, etc.</p>\n<p>You need to use the DDL script with the same schema as your spring batch version (4.3.5) in your case:</p>\n<p><a href=\"https://github.com/spring-projects/spring-batch/blob/4.3.5/spring-batch-core/src/main/resources/org/springframework/batch/core/schema-oracle10g.sql\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/blob/4.3.5/spring-batch-core/src/main/resources/org/springframework/batch/core/schema-oracle10g.sql</a></p>\n"}],"owner":{"account_id":7209016,"reputation":1,"user_id":5503747,"display_name":"JavaCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650895276,"creation_date":1650467597,"question_id":71942133,"body_markdown":"I created the spring batch metadata tables using the following link in my own oracle database\r\n\r\nhttps://github.com/spring-projects/spring-batch/tree/main/spring-batch-core/src/main/resources/org/springframework/batch/core\r\n\r\nBut when I run my spring batch, it throws me error:\r\n```\r\nERROR org.springframework.batch.core.job.AbstractJob - Encountered fatal error executing job\r\norg.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0\r\n\tat org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:880) ~[spring-jdbc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:906) ~[spring-jdbc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.synchronizeStatus(JdbcJobExecutionDao.java:307) ~[spring-batch-core-4.3.5.jar:4.3.5]\r\n\tat org.springframework.batch.core.repository.support.SimpleJobRepository.update(SimpleJobRepository.java:174) ~[spring-batch-core-4.3.5.jar:4.3.5]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_121]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_121]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_121]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_121]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat com.sun.proxy.$Proxy113.update(Unknown Source) ~[?:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_121]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_121]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_121]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_121]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.5.jar:4.3.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat com.sun.proxy.$Proxy113.update(Unknown Source) ~[?:?]\r\n\tat org.springframework.batch.core.job.AbstractJob.updateStatus(AbstractJob.java:443) ~[spring-batch-core-4.3.5.jar:4.3.5]\r\n\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:315) [spring-batch-core-4.3.5.jar:4.3.5]\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) [spring-batch-core-4.3.5.jar:4.3.5]\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-5.3.18.jar:5.3.18]\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) [spring-batch-core-4.3.5.jar:4.3.5]\r\n```\r\n\r\n\r\n\r\n\r\nCurrently I am using spring boot - 2.5.12 and Spring batch - 4.3.5\r\n\r\nDo I need to make manual entries in the spring batch tables?\r\n\r\nMany thanks for your feedback !!","title":"Issue with Spring batch metadata tables","body":"<p>I created the spring batch metadata tables using the following link in my own oracle database</p>\n<p><a href=\"https://github.com/spring-projects/spring-batch/tree/main/spring-batch-core/src/main/resources/org/springframework/batch/core\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/tree/main/spring-batch-core/src/main/resources/org/springframework/batch/core</a></p>\n<p>But when I run my spring batch, it throws me error:</p>\n<pre><code>ERROR org.springframework.batch.core.job.AbstractJob - Encountered fatal error executing job\norg.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0\n    at org.springframework.dao.support.DataAccessUtils.nullableSingleResult(DataAccessUtils.java:97) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:880) ~[spring-jdbc-5.3.18.jar:5.3.18]\n    at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:906) ~[spring-jdbc-5.3.18.jar:5.3.18]\n    at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.synchronizeStatus(JdbcJobExecutionDao.java:307) ~[spring-batch-core-4.3.5.jar:4.3.5]\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.update(SimpleJobRepository.java:174) ~[spring-batch-core-4.3.5.jar:4.3.5]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_121]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_121]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_121]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_121]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.18.jar:5.3.18]\n    at com.sun.proxy.$Proxy113.update(Unknown Source) ~[?:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_121]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_121]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_121]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_121]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.5.jar:4.3.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.18.jar:5.3.18]\n    at com.sun.proxy.$Proxy113.update(Unknown Source) ~[?:?]\n    at org.springframework.batch.core.job.AbstractJob.updateStatus(AbstractJob.java:443) ~[spring-batch-core-4.3.5.jar:4.3.5]\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:315) [spring-batch-core-4.3.5.jar:4.3.5]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) [spring-batch-core-4.3.5.jar:4.3.5]\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-5.3.18.jar:5.3.18]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) [spring-batch-core-4.3.5.jar:4.3.5]\n</code></pre>\n<p>Currently I am using spring boot - 2.5.12 and Spring batch - 4.3.5</p>\n<p>Do I need to make manual entries in the spring batch tables?</p>\n<p>Many thanks for your feedback !!</p>\n"},{"tags":["java","android","android-viewbinding"],"comments":[{"owner":{"account_id":17921829,"reputation":572,"user_id":13021452,"display_name":"Ivan Garza"},"score":0,"creation_date":1638820664,"post_id":70250295,"comment_id":124184938,"body_markdown":"So, why do we think that this error &quot;is wrong.&quot; exactly?","body":"So, why do we think that this error &quot;is wrong.&quot; exactly?"},{"owner":{"account_id":10294509,"reputation":97,"user_id":7595172,"display_name":"prosp"},"score":0,"creation_date":1638821581,"post_id":70250295,"comment_id":124185235,"body_markdown":"I&#39;ve encountered information many times that you should not import R. For example, [this article](https://medium.com/@nitinkumargove/how-to-resolve-r-cannot-be-resolved-error-in-android-5729970e6fba) states: &quot;Eclipse sometimes likes to add an “import android.R” statement at the top of your files that use resources, especially when you ask Eclipse to sort or otherwise manage imports. This will cause your make to break. Look out for these erroneous import statements and delete them.&quot;","body":"I&#39;ve encountered information many times that you should not import R. For example, <a href=\"https://medium.com/@nitinkumargove/how-to-resolve-r-cannot-be-resolved-error-in-android-5729970e6fba\" rel=\"nofollow noreferrer\">this article</a> states: &quot;Eclipse sometimes likes to add an “import android.R” statement at the top of your files that use resources, especially when you ask Eclipse to sort or otherwise manage imports. This will cause your make to break. Look out for these erroneous import statements and delete them.&quot;"},{"owner":{"account_id":10294509,"reputation":97,"user_id":7595172,"display_name":"prosp"},"score":0,"creation_date":1638821684,"post_id":70250295,"comment_id":124185261,"body_markdown":"And the error doesn&#39;t appear when I don&#39;t use View binding. Plus in the Activity the error doesn&#39;t arise even with View binding. I don&#39;t understand that","body":"And the error doesn&#39;t appear when I don&#39;t use View binding. Plus in the Activity the error doesn&#39;t arise even with View binding. I don&#39;t understand that"},{"owner":{"account_id":3822526,"reputation":310,"user_id":3170251,"accept_rate":75,"display_name":"user3170251"},"score":0,"creation_date":1638823875,"post_id":70250295,"comment_id":124185986,"body_markdown":"you need to import `R` for your specific project. The article says that you should avoid importing `android.R`, so as long as you don&#39;t import that you should be able to do something like `import &lt;your.project.path&gt;.R`","body":"you need to import <code>R</code> for your specific project. The article says that you should avoid importing <code>android.R</code>, so as long as you don&#39;t import that you should be able to do something like <code>import &lt;your.project.path&gt;.R</code>"},{"owner":{"account_id":10294509,"reputation":97,"user_id":7595172,"display_name":"prosp"},"score":0,"creation_date":1638825320,"post_id":70250295,"comment_id":124186411,"body_markdown":"@user3170251 &quot;you need to import R for your specific project&quot; In fact, it&#39;s the first time I encounter this. Please see my edit","body":"@user3170251 &quot;you need to import R for your specific project&quot; In fact, it&#39;s the first time I encounter this. Please see my edit"}],"answers":[{"tags":[],"owner":{"account_id":10294509,"reputation":97,"user_id":7595172,"display_name":"prosp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638829711,"creation_date":1638829063,"answer_id":70252646,"question_id":70250295,"body_markdown":"I&#39;ve found out that the error with R resolving begins when the Java file is located in a subfolder of the package (for example, the ui folder). \r\nThen Android Studio starts to import `package.R`.\r\n\r\nFor example, in this case:\r\n\r\n    package com.example.test3;\r\n\r\nthere is no R error. But in this one:\r\n\r\n    package com.example.test3.ui;\r\n\r\nR is not resolved and gets autoimported.\r\n\r\nMaybe this is the expected behaviour.","title":"Error &quot;Cannot resolve symbol R&quot; only in one file","body":"<p>I've found out that the error with R resolving begins when the Java file is located in a subfolder of the package (for example, the ui folder).\nThen Android Studio starts to import <code>package.R</code>.</p>\n<p>For example, in this case:</p>\n<pre><code>package com.example.test3;\n</code></pre>\n<p>there is no R error. But in this one:</p>\n<pre><code>package com.example.test3.ui;\n</code></pre>\n<p>R is not resolved and gets autoimported.</p>\n<p>Maybe this is the expected behaviour.</p>\n"}],"owner":{"account_id":10294509,"reputation":97,"user_id":7595172,"display_name":"prosp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70252646,"answer_count":1,"score":1,"last_activity_date":1650895198,"creation_date":1638815896,"question_id":70250295,"body_markdown":"When enabling View binding, I cannot reference the resource files in custom RecyclerView Adapter anymore. I get an error &quot;cannot resolve symbol R&quot; and it attempts to automatically import R, which is wrong. This doesn&#39;t happen in the Activity, anyway.\r\n(I&#39;ve already tried checking all xml files, cleaning and rebuilding the project.)\r\n\r\nWhy is this happening?\r\n\r\n**Screenshot of Activity (everything is fine):**\r\n\r\n[![Screenshot of Activity (everything is fine)][1]][1]\r\n\r\n**The custom adapter - can&#39;t resolve symbol R:**\r\n[![The custom adapter - can&#39;t resolve symbol R][2]][2]\r\n\r\n**Edit:**\r\n\r\nWhat I don&#39;t understand is why there is no such error when I create a project without View binding? Below is an example of a custom adapter in another test app, where no problems with R are seen:\r\n\r\n[![no problems with R][3]][3]\r\n\r\nThe question is, in which cases is it required to import a package.R? \r\nWhy isn&#39;t it always needed and how do I know that everything is correct when suddenly R doesn&#39;t get resolved in a particular file and Android Studio attempts to import the package.R?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PyvbX.png\r\n  [2]: https://i.stack.imgur.com/tQk1t.png\r\n  [3]: https://i.stack.imgur.com/Fsgpg.png","title":"Error &quot;Cannot resolve symbol R&quot; only in one file","body":"<p>When enabling View binding, I cannot reference the resource files in custom RecyclerView Adapter anymore. I get an error &quot;cannot resolve symbol R&quot; and it attempts to automatically import R, which is wrong. This doesn't happen in the Activity, anyway.\n(I've already tried checking all xml files, cleaning and rebuilding the project.)</p>\n<p>Why is this happening?</p>\n<p><strong>Screenshot of Activity (everything is fine):</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PyvbX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PyvbX.png\" alt=\"Screenshot of Activity (everything is fine)\" /></a></p>\n<p><strong>The custom adapter - can't resolve symbol R:</strong>\n<a href=\"https://i.stack.imgur.com/tQk1t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tQk1t.png\" alt=\"The custom adapter - can't resolve symbol R\" /></a></p>\n<p><strong>Edit:</strong></p>\n<p>What I don't understand is why there is no such error when I create a project without View binding? Below is an example of a custom adapter in another test app, where no problems with R are seen:</p>\n<p><a href=\"https://i.stack.imgur.com/Fsgpg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fsgpg.png\" alt=\"no problems with R\" /></a></p>\n<p>The question is, in which cases is it required to import a package.R?\nWhy isn't it always needed and how do I know that everything is correct when suddenly R doesn't get resolved in a particular file and Android Studio attempts to import the package.R?</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":15701001,"reputation":176,"user_id":11329126,"display_name":"Ujwal Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650878866,"creation_date":1650878866,"answer_id":71997298,"question_id":71996081,"body_markdown":"I will try to answer some of the questions that you have asked:\r\n\r\n**How many tests should I write for this method?:** Essentially while writing test cases for a function or piece of code, there is no limit on how many test cases you should write. Generally you try to test atleast 1 positive flow and 1 negative flow. If your piece of code has many edge cases, then probably check those as well.\r\n\r\n**Do I need to test stream(I don&#39;t even know how)? :** No. Stream is inbuilt java feature, you don&#39;t test inbuilt features. You just test your logic.\r\n\r\n**How can you decide what to test in a method?:** As I mentioned earlier, you generally test positive flows and negative flows including any edge cases. For the above function it seems you have 1 positive and 1 negative flow. Your positive scenario could be where you expect value to not be present in your database and successfully store the data and your negative scenario can be when that data is already present you throw an exception. These are two minimum test cases you should write.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Writing unit test with JUnit and Mockito","body":"<p>I will try to answer some of the questions that you have asked:</p>\n<p><strong>How many tests should I write for this method?:</strong> Essentially while writing test cases for a function or piece of code, there is no limit on how many test cases you should write. Generally you try to test atleast 1 positive flow and 1 negative flow. If your piece of code has many edge cases, then probably check those as well.</p>\n<p><strong>Do I need to test stream(I don't even know how)? :</strong> No. Stream is inbuilt java feature, you don't test inbuilt features. You just test your logic.</p>\n<p><strong>How can you decide what to test in a method?:</strong> As I mentioned earlier, you generally test positive flows and negative flows including any edge cases. For the above function it seems you have 1 positive and 1 negative flow. Your positive scenario could be where you expect value to not be present in your database and successfully store the data and your negative scenario can be when that data is already present you throw an exception. These are two minimum test cases you should write.</p>\n"}],"owner":{"account_id":19772966,"reputation":43,"user_id":14479596,"display_name":"Erdem Kara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71997298,"answer_count":1,"score":3,"last_activity_date":1650894969,"creation_date":1650872733,"question_id":71996081,"body_markdown":"I have a method in service layer for saving an item to database. This method first checks if there is an item with the same name in database. If there is, then it throws an exception with a message, if there is not then it just saves the new item. Here is the code;\r\n\r\n    public TodoList saveTodoList(TodoList todoList) {\r\n        List&lt;TodoList&gt; match = StreamSupport.stream(getAllTodoLists().spliterator(), false)\r\n                .filter(list -&gt; list.getName().equals(todoList.getName()))\r\n                .collect(Collectors.toList());\r\n\r\n        if (match.size() &gt; 0)\r\n            throw new ExistingDataException(&quot;Todo List already exists!&quot;);\r\n        else\r\n            return todoListRepository.save(todoList);\r\n    }\r\n\r\nI am trying to learn testing with JUnit 5 and Mockito and I am a bit confused about what to test in general. How many tests should I write for this method? Do I need to test stream(I don&#39;t even know how)? How can you decide what to test in a method?\r\n\r\nEdit: Here is my test class and test methods for the save method;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TodoListServiceTest {\r\n        @Mock\r\n        private ITodoListRepository todoListRepository;\r\n\r\n        @InjectMocks\r\n        private TodoListService todoListService;\r\n    \r\n        @Test\r\n        @DisplayName(&quot;Should save the list to the repository&quot;)\r\n        public void whenGivenTodoListDoesNotExistInDatabase_ThenSaveNewList() {\r\n            TodoList mockList = mock(TodoList.class);\r\n            mockList.setId(1);\r\n            mockList.setName(&quot;List 1&quot;);\r\n\r\n            when(todoListRepository.save(any(TodoList.class))).thenReturn(mockList);\r\n\r\n            TodoList actual = todoListService.saveTodoList(mockList);\r\n\r\n            assertEquals(mockList.getId(), actual.getId());\r\n            assertEquals(mockList.getName(), actual.getName());\r\n        }\r\n\r\n        @Test\r\n        @DisplayName(&quot;Should throw exception if there is a list with given item&#39;s name&quot;)\r\n        public void shouldThrowExistingDataException_IfThereIsAList_WithTheSameName() {\r\n            TodoList mockList = mock(TodoList.class);\r\n            mockList.setId(1);\r\n            mockList.setName(&quot;List 1&quot;);\r\n\r\n            Throwable actualException = assertThrows(ExistingDataException.class,\r\n            () -&gt; {\r\n                todoListService.saveTodoList(mockList);\r\n            });\r\n\r\n            assertTrue(actualException.getMessage().contains(&quot;Todo List already exists!&quot;));\r\n        }\r\n\r\n","title":"Writing unit test with JUnit and Mockito","body":"<p>I have a method in service layer for saving an item to database. This method first checks if there is an item with the same name in database. If there is, then it throws an exception with a message, if there is not then it just saves the new item. Here is the code;</p>\n<pre><code>public TodoList saveTodoList(TodoList todoList) {\n    List&lt;TodoList&gt; match = StreamSupport.stream(getAllTodoLists().spliterator(), false)\n            .filter(list -&gt; list.getName().equals(todoList.getName()))\n            .collect(Collectors.toList());\n\n    if (match.size() &gt; 0)\n        throw new ExistingDataException(&quot;Todo List already exists!&quot;);\n    else\n        return todoListRepository.save(todoList);\n}\n</code></pre>\n<p>I am trying to learn testing with JUnit 5 and Mockito and I am a bit confused about what to test in general. How many tests should I write for this method? Do I need to test stream(I don't even know how)? How can you decide what to test in a method?</p>\n<p>Edit: Here is my test class and test methods for the save method;</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TodoListServiceTest {\n    @Mock\n    private ITodoListRepository todoListRepository;\n\n    @InjectMocks\n    private TodoListService todoListService;\n\n    @Test\n    @DisplayName(&quot;Should save the list to the repository&quot;)\n    public void whenGivenTodoListDoesNotExistInDatabase_ThenSaveNewList() {\n        TodoList mockList = mock(TodoList.class);\n        mockList.setId(1);\n        mockList.setName(&quot;List 1&quot;);\n\n        when(todoListRepository.save(any(TodoList.class))).thenReturn(mockList);\n\n        TodoList actual = todoListService.saveTodoList(mockList);\n\n        assertEquals(mockList.getId(), actual.getId());\n        assertEquals(mockList.getName(), actual.getName());\n    }\n\n    @Test\n    @DisplayName(&quot;Should throw exception if there is a list with given item's name&quot;)\n    public void shouldThrowExistingDataException_IfThereIsAList_WithTheSameName() {\n        TodoList mockList = mock(TodoList.class);\n        mockList.setId(1);\n        mockList.setName(&quot;List 1&quot;);\n\n        Throwable actualException = assertThrows(ExistingDataException.class,\n        () -&gt; {\n            todoListService.saveTodoList(mockList);\n        });\n\n        assertTrue(actualException.getMessage().contains(&quot;Todo List already exists!&quot;));\n    }\n</code></pre>\n"},{"tags":["java","classpath","logback","filenotfoundexception"],"comments":[{"owner":{"account_id":296083,"reputation":129350,"user_id":6277151,"display_name":"tony19"},"score":0,"creation_date":1480594771,"post_id":40909955,"comment_id":69033199,"body_markdown":"That to me indicates that your resource directory is not being picked up by your build system (perhaps due to misconfiguration). This isn&#39;t the solution, but try using `/main/resources/logback_pattern.xml` as the path, assuming `Application` is at the root of `src/`.","body":"That to me indicates that your resource directory is not being picked up by your build system (perhaps due to misconfiguration). This isn&#39;t the solution, but try using <code>&#47;main&#47;resources&#47;logback_pattern.xml</code> as the path, assuming <code>Application</code> is at the root of <code>src&#47;</code>."},{"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"score":0,"creation_date":1480596126,"post_id":40909955,"comment_id":69034059,"body_markdown":"I am using gradle to build jar. I have updated my question and provided a build.gradle file. The same error I get with &quot;/main/resources/logback_pattern.xml&quot; ...","body":"I am using gradle to build jar. I have updated my question and provided a build.gradle file. The same error I get with &quot;/main/resources/logback_pattern.xml&quot; ..."}],"answers":[{"tags":[],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650894402,"creation_date":1480947688,"answer_id":40976431,"question_id":40909955,"body_markdown":"It works if I load a configuration file (resource) as a stream. So, here is a method for logback configuration:\r\n\r\n    private static void configureLogger(String logDir, String logLevel, String logbackConfigResource){\r\n        LoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n        try {\r\n            JoranConfigurator configurator = new JoranConfigurator();\r\n            configurator.setContext(context);\r\n            context.reset();\r\n            context.putProperty(&quot;LOG_DIR&quot;, logDir);\r\n            context.putProperty(&quot;LOG_LEVEL&quot;, logLevel);\r\n            ClassLoader classloader = Thread.currentThread().getContextClassLoader();\r\n            InputStream is = classloader.getResourceAsStream(logbackConfigResource);\r\n            configurator.doConfigure(is);\r\n        } catch (JoranException je) {\r\n            LOG.warn(&quot;Can not configure logger. Continue to execute the command.&quot;, je);\r\n        }\r\n        StatusPrinter.printInCaseOfErrorsOrWarnings(context);\r\n    }\r\n\r\n`logbackConfigResource` - is the resource file name like `myLogbackConfig.xml`","title":"Logback cannot find a custom configuration file (FileNotFoundException)","body":"<p>It works if I load a configuration file (resource) as a stream. So, here is a method for logback configuration:</p>\n<pre><code>private static void configureLogger(String logDir, String logLevel, String logbackConfigResource){\n    LoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\n    try {\n        JoranConfigurator configurator = new JoranConfigurator();\n        configurator.setContext(context);\n        context.reset();\n        context.putProperty(&quot;LOG_DIR&quot;, logDir);\n        context.putProperty(&quot;LOG_LEVEL&quot;, logLevel);\n        ClassLoader classloader = Thread.currentThread().getContextClassLoader();\n        InputStream is = classloader.getResourceAsStream(logbackConfigResource);\n        configurator.doConfigure(is);\n    } catch (JoranException je) {\n        LOG.warn(&quot;Can not configure logger. Continue to execute the command.&quot;, je);\n    }\n    StatusPrinter.printInCaseOfErrorsOrWarnings(context);\n}\n</code></pre>\n<p><code>logbackConfigResource</code> - is the resource file name like <code>myLogbackConfig.xml</code></p>\n"}],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1940,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40976431,"answer_count":1,"score":0,"last_activity_date":1650894402,"creation_date":1480593006,"question_id":40909955,"body_markdown":"I can&#39;t force logback to use my custom configuration file because it doesn&#39;t see it.\r\n\r\nHere is my project structure:\r\n\r\n    src\r\n    --main\r\n    ----java\r\n    ----resources\r\n    ------logback_pattern.xml\r\n\r\nIf I call my file as &quot;logback.xml&quot; it can download it but I need to have a different file name because when application starts the file miss some properties (i.e. filename and root level is appended after application is started).\r\n\r\nHere is a method which I use to reset logback with the correct file:\r\n\r\n    private static void configureLogger(String logDir, String logLevel, String logbackConf){\r\n        LoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n        try {\r\n            JoranConfigurator configurator = new JoranConfigurator();\r\n            configurator.setContext(context);\r\n            context.reset();\r\n            context.putProperty(&quot;LOG_DIR&quot;, logDir);\r\n            context.putProperty(&quot;LOG_LEVEL&quot;, logLevel);\r\n            configurator.doConfigure(logbackConf);\r\n        } catch (JoranException je) {\r\n            LOG.warn(&quot;Can not configure logger. Continue to execute the command.&quot;, je);\r\n        }\r\n        StatusPrinter.printInCaseOfErrorsOrWarnings(context);\r\n    }\r\n\r\nHere is a samples which I tried to use:&lt;br&gt;\r\n**1)**\r\n\r\n    configureLogger(logDir, isDebug()?&quot;INFO&quot;:&quot;WARN&quot;, &quot;logback_pattern.xml&quot;);\r\n\r\n**2)**\r\n\r\n    ClassLoader classLoader = Application.class.getClassLoader();\r\n    configureLogger(logDir, isDebug()?&quot;INFO&quot;:&quot;WARN&quot;, classLoader.getResource(&quot;logback_pattern.xml&quot;).getFile());\r\n\r\n**3)**\r\n\r\n    configureLogger(logDir, isDebug()?&quot;INFO&quot;:&quot;WARN&quot;, &quot;classpath:logback_pattern.xml&quot;);\r\n\r\n**4)**\r\n\r\n    configureLogger(logDir, isDebug()?&quot;INFO&quot;:&quot;WARN&quot;, &quot;src/main/resources/logback_pattern.xml&quot;);\r\n\r\nI always get the same error:\r\n\r\n    13:39:49,267 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]\r\n    13:39:49,267 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\r\n    13:39:49,267 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]\r\n    13:39:49,271 |-INFO in ch.qos.logback.classic.BasicConfigurator@67117f44 - Setting up default configuration.\r\n    13:39:49,458 |-ERROR in ch.qos.logback.classic.joran.JoranConfigurator@5d3411d - Could not open [logback_pattern.xml]. java.io.FileNotFoundException: logback_pattern.xml (No such file or directory)\r\n            at java.io.FileNotFoundException: logback_pattern.xml (No such file or directory)\r\n            at      at java.io.FileInputStream.open0(Native Method)\r\n            at      at java.io.FileInputStream.open(FileInputStream.java:195)\r\n            at      at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n            at      at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:79)\r\n            at      at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:72)\r\n            at      at com.jblur.acme_client.Application.configureLogger(Application.java:38)\r\n            at      at com.jblur.acme_client.Application.main(Application.java:92)\r\n    13:39:49,464 |-WARN in Logger[com.jblur.acme_client.Application] - No appenders present in context [default] for logger [com.jblur.acme_client.Application].\r\n\r\n\r\nI am using gradle to build jar.\r\nHere is my build.gradle file:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;application&#39;\r\n    \r\n    mainClassName = &quot;com.jblur.acme_client.Application&quot;\r\n    \r\n    jar {\r\n        baseName = &#39;acme_client&#39;\r\n        version =  &#39;0.1.0&#39;\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;$mainClassName&quot;\r\n        }\r\n    \r\n        doFirst {\r\n            from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.SF&#39;,&#39;META-INF/*.DSA&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    dependencies {\r\n        compile group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.1.7&#39;\r\n        compile group: &#39;org.shredzone.acme4j&#39;, name: &#39;acme4j-client&#39;, version: &#39;0.8&#39;\r\n        compile group: &#39;org.shredzone.acme4j&#39;, name: &#39;acme4j-utils&#39;, version: &#39;0.8&#39;\r\n        compile group: &#39;org.bouncycastle&#39;, name: &#39;bcprov-jdk15on&#39;, version: &#39;1.55&#39;\r\n        compile group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.8.0&#39;\r\n        compile group: &#39;com.beust&#39;, name: &#39;jcommander&#39;, version: &#39;1.48&#39;\r\n    }\r\n\r\nAm I missing something?\r\n\r\n\r\n\r\n","title":"Logback cannot find a custom configuration file (FileNotFoundException)","body":"<p>I can't force logback to use my custom configuration file because it doesn't see it.</p>\n\n<p>Here is my project structure:</p>\n\n<pre><code>src\n--main\n----java\n----resources\n------logback_pattern.xml\n</code></pre>\n\n<p>If I call my file as \"logback.xml\" it can download it but I need to have a different file name because when application starts the file miss some properties (i.e. filename and root level is appended after application is started).</p>\n\n<p>Here is a method which I use to reset logback with the correct file:</p>\n\n<pre><code>private static void configureLogger(String logDir, String logLevel, String logbackConf){\n    LoggerContext context = (LoggerContext) LoggerFactory.getILoggerFactory();\n    try {\n        JoranConfigurator configurator = new JoranConfigurator();\n        configurator.setContext(context);\n        context.reset();\n        context.putProperty(\"LOG_DIR\", logDir);\n        context.putProperty(\"LOG_LEVEL\", logLevel);\n        configurator.doConfigure(logbackConf);\n    } catch (JoranException je) {\n        LOG.warn(\"Can not configure logger. Continue to execute the command.\", je);\n    }\n    StatusPrinter.printInCaseOfErrorsOrWarnings(context);\n}\n</code></pre>\n\n<p>Here is a samples which I tried to use:<br>\n<strong>1)</strong></p>\n\n<pre><code>configureLogger(logDir, isDebug()?\"INFO\":\"WARN\", \"logback_pattern.xml\");\n</code></pre>\n\n<p><strong>2)</strong></p>\n\n<pre><code>ClassLoader classLoader = Application.class.getClassLoader();\nconfigureLogger(logDir, isDebug()?\"INFO\":\"WARN\", classLoader.getResource(\"logback_pattern.xml\").getFile());\n</code></pre>\n\n<p><strong>3)</strong></p>\n\n<pre><code>configureLogger(logDir, isDebug()?\"INFO\":\"WARN\", \"classpath:logback_pattern.xml\");\n</code></pre>\n\n<p><strong>4)</strong></p>\n\n<pre><code>configureLogger(logDir, isDebug()?\"INFO\":\"WARN\", \"src/main/resources/logback_pattern.xml\");\n</code></pre>\n\n<p>I always get the same error:</p>\n\n<pre><code>13:39:49,267 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]\n13:39:49,267 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\n13:39:49,267 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]\n13:39:49,271 |-INFO in ch.qos.logback.classic.BasicConfigurator@67117f44 - Setting up default configuration.\n13:39:49,458 |-ERROR in ch.qos.logback.classic.joran.JoranConfigurator@5d3411d - Could not open [logback_pattern.xml]. java.io.FileNotFoundException: logback_pattern.xml (No such file or directory)\n        at java.io.FileNotFoundException: logback_pattern.xml (No such file or directory)\n        at      at java.io.FileInputStream.open0(Native Method)\n        at      at java.io.FileInputStream.open(FileInputStream.java:195)\n        at      at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n        at      at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:79)\n        at      at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:72)\n        at      at com.jblur.acme_client.Application.configureLogger(Application.java:38)\n        at      at com.jblur.acme_client.Application.main(Application.java:92)\n13:39:49,464 |-WARN in Logger[com.jblur.acme_client.Application] - No appenders present in context [default] for logger [com.jblur.acme_client.Application].\n</code></pre>\n\n<p>I am using gradle to build jar.\nHere is my build.gradle file:</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'application'\n\nmainClassName = \"com.jblur.acme_client.Application\"\n\njar {\n    baseName = 'acme_client'\n    version =  '0.1.0'\n    manifest {\n        attributes \"Main-Class\": \"$mainClassName\"\n    }\n\n    doFirst {\n        from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    }\n    exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'\n}\n\nrepositories {\n    mavenCentral()\n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\n    compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.1.7'\n    compile group: 'org.shredzone.acme4j', name: 'acme4j-client', version: '0.8'\n    compile group: 'org.shredzone.acme4j', name: 'acme4j-utils', version: '0.8'\n    compile group: 'org.bouncycastle', name: 'bcprov-jdk15on', version: '1.55'\n    compile group: 'com.google.code.gson', name: 'gson', version: '2.8.0'\n    compile group: 'com.beust', name: 'jcommander', version: '1.48'\n}\n</code></pre>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650894126,"creation_date":1650894126,"answer_id":72000549,"question_id":72000521,"body_markdown":"You&#39;re calling `getView()` too early in your `initRecyclerView()`.\r\n\r\n`getView()` returns whatever `onCreateView()` returned and your `onCreateView()` has not yet completed. Hence `getView()` returns null and attempting to call a method on that return value will NPE.\r\n\r\nYou can move the `initRecyclerView()` to `onViewCreated()` to fix that issue.","title":"Why is my app crashing when using a recycler view inside a fragment?","body":"<p>You're calling <code>getView()</code> too early in your <code>initRecyclerView()</code>.</p>\n<p><code>getView()</code> returns whatever <code>onCreateView()</code> returned and your <code>onCreateView()</code> has not yet completed. Hence <code>getView()</code> returns null and attempting to call a method on that return value will NPE.</p>\n<p>You can move the <code>initRecyclerView()</code> to <code>onViewCreated()</code> to fix that issue.</p>\n"}],"owner":{"account_id":20730484,"reputation":3,"user_id":15222620,"display_name":"JamilB4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72000549,"answer_count":1,"score":0,"last_activity_date":1650894126,"creation_date":1650893981,"question_id":72000521,"body_markdown":"Code for fragment:\r\n\r\n```package com.jamdev.handmedown;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ListingsActivity extends Fragment {\r\n\r\n    RecyclerView recyclerView;\r\n    LinearLayoutManager layoutManager;\r\n    List&lt;ModelClass&gt; itemList = new ArrayList&lt;&gt;();\r\n    Adapter adapter;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        // Initialize recycler view\r\n        initData();\r\n        initRecyclerView();\r\n        return inflater.inflate(R.layout.activity_listings, container, false);\r\n    }\r\n\r\n    // Add and remove data\r\n    private void initData() {\r\n        itemList.add(new ModelClass(R.drawable.placeholder2, &quot;Bottle&quot;,&quot;Gently used bottle with replaceable nib&quot;, &quot;$10&quot;, &quot;Abdallah&quot;, &quot;24/05/2002&quot;,R.drawable.seperator_line));\r\n        itemList.add(new ModelClass(R.drawable.placeholder2, &quot;Bottle&quot;,&quot;Gently used bottle with replaceable nib&quot;, &quot;$10&quot;, &quot;Abdallah&quot;, &quot;24/05/2002&quot;, R.drawable.seperator_line));\r\n        itemList.add(new ModelClass(R.drawable.placeholder2, &quot;Bottle&quot;,&quot;Gently used bottle with replaceable nib&quot;, &quot;$10&quot;, &quot;Abdallah&quot;, &quot;24/05/2002&quot;, R.drawable.seperator_line));\r\n    }\r\n\r\n    // Initialize recyclerView function\r\n    private void initRecyclerView() {\r\n        recyclerView = (RecyclerView) getView().findViewById(R.id.listings_container);\r\n        layoutManager = new LinearLayoutManager(getActivity());\r\n        layoutManager.setOrientation(LinearLayoutManager.VERTICAL);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        adapter = new Adapter(itemList);\r\n        recyclerView.setAdapter(adapter);\r\n        adapter.notifyDataSetChanged();\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nCode for adapter:\r\n\r\n```\r\npackage com.jamdev.handmedown;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {\r\n\r\n    private List&lt;ModelClass&gt; itemList = new ArrayList&lt;&gt;();\r\n\r\n    public Adapter(List&lt;ModelClass&gt; itemList){\r\n        this.itemList = itemList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Adapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.listing_design, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull Adapter.ViewHolder holder, int position) {\r\n\r\n        int resource = itemList.get(position).getListing_pic();\r\n        String title = itemList.get(position).getListing_title();\r\n        String description = itemList.get(position).getListing_description();\r\n        String price = itemList.get(position).getListing_price();\r\n        String owner = itemList.get(position).getListing_owner();\r\n        String date = itemList.get(position).getListing_date();\r\n        int divider = itemList.get(position).getSeperator();\r\n\r\n        holder.setData(resource,title,description,price,owner,date,divider);\r\n\r\n    }\r\n    @Override\r\n    public int getItemCount() {\r\n        return itemList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        private ImageView listing_pic;\r\n        private TextView listing_title;\r\n        private TextView listing_description;\r\n        private TextView listing_price;\r\n        private TextView listing_owner;\r\n        private TextView listing_date;\r\n        private ImageView seperator;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            listing_pic = itemView.findViewById(R.id.listing_pic);\r\n            listing_title = itemView.findViewById(R.id.listing_title);\r\n            listing_description = itemView.findViewById(R.id.listing_description);\r\n            listing_price = itemView.findViewById(R.id.listing_price);\r\n            listing_owner = itemView.findViewById(R.id.listing_owner);\r\n            listing_date = itemView.findViewById(R.id.listing_date);\r\n            seperator = itemView.findViewById(R.id.seperator);\r\n\r\n        }\r\n\r\n        public void setData(int resource, String title, String description, String price, String owner, String date, int divider) {\r\n            listing_pic.setImageResource(resource);\r\n            listing_title.setText(title);\r\n            listing_description.setText(description);\r\n            listing_price.setText(price);\r\n            listing_owner.setText(owner);\r\n            listing_date.setText(date);\r\n            seperator.setImageResource(divider);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCommenting the initRecyclerView() out won&#39;t make it crash, and opening the layout alone without commenting out initRecyclerView without the use of a fragment won&#39;t make it crash, but no items are displayed. So i have the issue of 1. Crashing when used with fragments 2. Not displaying the items when not used in a fragment\r\n\r\nWould greatly appreciate your help","title":"Why is my app crashing when using a recycler view inside a fragment?","body":"<p>Code for fragment:</p>\n<pre><code>\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ListingsActivity extends Fragment {\n\n    RecyclerView recyclerView;\n    LinearLayoutManager layoutManager;\n    List&lt;ModelClass&gt; itemList = new ArrayList&lt;&gt;();\n    Adapter adapter;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        // Initialize recycler view\n        initData();\n        initRecyclerView();\n        return inflater.inflate(R.layout.activity_listings, container, false);\n    }\n\n    // Add and remove data\n    private void initData() {\n        itemList.add(new ModelClass(R.drawable.placeholder2, &quot;Bottle&quot;,&quot;Gently used bottle with replaceable nib&quot;, &quot;$10&quot;, &quot;Abdallah&quot;, &quot;24/05/2002&quot;,R.drawable.seperator_line));\n        itemList.add(new ModelClass(R.drawable.placeholder2, &quot;Bottle&quot;,&quot;Gently used bottle with replaceable nib&quot;, &quot;$10&quot;, &quot;Abdallah&quot;, &quot;24/05/2002&quot;, R.drawable.seperator_line));\n        itemList.add(new ModelClass(R.drawable.placeholder2, &quot;Bottle&quot;,&quot;Gently used bottle with replaceable nib&quot;, &quot;$10&quot;, &quot;Abdallah&quot;, &quot;24/05/2002&quot;, R.drawable.seperator_line));\n    }\n\n    // Initialize recyclerView function\n    private void initRecyclerView() {\n        recyclerView = (RecyclerView) getView().findViewById(R.id.listings_container);\n        layoutManager = new LinearLayoutManager(getActivity());\n        layoutManager.setOrientation(LinearLayoutManager.VERTICAL);\n        recyclerView.setLayoutManager(layoutManager);\n        adapter = new Adapter(itemList);\n        recyclerView.setAdapter(adapter);\n        adapter.notifyDataSetChanged();\n\n    }\n\n\n}\n</code></pre>\n<p>Code for adapter:</p>\n<pre><code>package com.jamdev.handmedown;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {\n\n    private List&lt;ModelClass&gt; itemList = new ArrayList&lt;&gt;();\n\n    public Adapter(List&lt;ModelClass&gt; itemList){\n        this.itemList = itemList;\n    }\n\n    @NonNull\n    @Override\n    public Adapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.listing_design, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull Adapter.ViewHolder holder, int position) {\n\n        int resource = itemList.get(position).getListing_pic();\n        String title = itemList.get(position).getListing_title();\n        String description = itemList.get(position).getListing_description();\n        String price = itemList.get(position).getListing_price();\n        String owner = itemList.get(position).getListing_owner();\n        String date = itemList.get(position).getListing_date();\n        int divider = itemList.get(position).getSeperator();\n\n        holder.setData(resource,title,description,price,owner,date,divider);\n\n    }\n    @Override\n    public int getItemCount() {\n        return itemList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        private ImageView listing_pic;\n        private TextView listing_title;\n        private TextView listing_description;\n        private TextView listing_price;\n        private TextView listing_owner;\n        private TextView listing_date;\n        private ImageView seperator;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            listing_pic = itemView.findViewById(R.id.listing_pic);\n            listing_title = itemView.findViewById(R.id.listing_title);\n            listing_description = itemView.findViewById(R.id.listing_description);\n            listing_price = itemView.findViewById(R.id.listing_price);\n            listing_owner = itemView.findViewById(R.id.listing_owner);\n            listing_date = itemView.findViewById(R.id.listing_date);\n            seperator = itemView.findViewById(R.id.seperator);\n\n        }\n\n        public void setData(int resource, String title, String description, String price, String owner, String date, int divider) {\n            listing_pic.setImageResource(resource);\n            listing_title.setText(title);\n            listing_description.setText(description);\n            listing_price.setText(price);\n            listing_owner.setText(owner);\n            listing_date.setText(date);\n            seperator.setImageResource(divider);\n        }\n    }\n}\n</code></pre>\n<p>Commenting the initRecyclerView() out won't make it crash, and opening the layout alone without commenting out initRecyclerView without the use of a fragment won't make it crash, but no items are displayed. So i have the issue of 1. Crashing when used with fragments 2. Not displaying the items when not used in a fragment</p>\n<p>Would greatly appreciate your help</p>\n"},{"tags":["java","google-cloud-storage","google-cloud-dataflow","dataflow","google-dataflow"],"comments":[{"owner":{"account_id":11833808,"reputation":1152,"user_id":8659747,"display_name":"Kitswas"},"score":0,"creation_date":1650894407,"post_id":72000541,"comment_id":127224485,"body_markdown":"What do you mean by &quot;read a json file and map to Gson object on *(sic)* fly&quot;?","body":"What do you mean by &quot;read a json file and map to Gson object on <i>(sic)</i> fly&quot;?"},{"owner":{"account_id":6852853,"reputation":13,"user_id":5269482,"display_name":"Ashok"},"score":0,"creation_date":1650894560,"post_id":72000541,"comment_id":127224559,"body_markdown":"Gson maps the josn into pojo classes","body":"Gson maps the josn into pojo classes"},{"owner":{"account_id":6852853,"reputation":13,"user_id":5269482,"display_name":"Ashok"},"score":0,"creation_date":1650894608,"post_id":72000541,"comment_id":127224578,"body_markdown":"Reading json file form gcp bucket using java should be sufficient","body":"Reading json file form gcp bucket using java should be sufficient"},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":1,"creation_date":1650907352,"post_id":72000541,"comment_id":127229639,"body_markdown":"Use the google cloud JAVA libraries for GCS to download the file and then read it from the local location","body":"Use the google cloud JAVA libraries for GCS to download the file and then read it from the local location"}],"owner":{"account_id":6852853,"reputation":13,"user_id":5269482,"display_name":"Ashok"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650894088,"creation_date":1650894088,"question_id":72000541,"body_markdown":"I am trying to read a json file and map to Gson object on fly, tired reading using FileReader which is not working, also tried multiple ways but no luck.. can someone help me in reading from gcp bucket\r\n\r\n``` \r\npublic static Response[] getJsonData() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tJsonReader reader = new JsonReader(new FileReader(&quot;gs://01test_dataflow/data_schema.json&quot;));\r\n\t\t\tResponse[] response = new Gson().fromJson(reader, Response[].class);\r\n\r\n\t\t\treturn response;\r\n\r\n\t\t} catch (NullPointerException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\r\n\t\t} catch (FileNotFoundException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n```","title":"How to read a json file from GCP bucket using java","body":"<p>I am trying to read a json file and map to Gson object on fly, tired reading using FileReader which is not working, also tried multiple ways but no luck.. can someone help me in reading from gcp bucket</p>\n<pre><code>public static Response[] getJsonData() {\n\n        try {\n\n            JsonReader reader = new JsonReader(new FileReader(&quot;gs://01test_dataflow/data_schema.json&quot;));\n            Response[] response = new Gson().fromJson(reader, Response[].class);\n\n            return response;\n\n        } catch (NullPointerException e) {\n\n            e.printStackTrace();\n            return null;\n\n        } catch (FileNotFoundException e) {\n\n            e.printStackTrace();\n            return null;\n\n        } catch (Exception e) {\n\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","javafx","treeview"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1650894202,"post_id":72000502,"comment_id":127224402,"body_markdown":"Don&#39;t use the same controller class for different FXML files. There is no element in `hello-view.fxml` with `fx:id=&quot;treeView&quot;`, so when `initialize()` is invoked on the controller created when you load that FXML file, `treeView` is `null`, and you get a null pointer exception.","body":"Don&#39;t use the same controller class for different FXML files. There is no element in <code>hello-view.fxml</code> with <code>fx:id=&quot;treeView&quot;</code>, so when <code>initialize()</code> is invoked on the controller created when you load that FXML file, <code>treeView</code> is <code>null</code>, and you get a null pointer exception."},{"owner":{"account_id":25074662,"reputation":23,"user_id":18928200,"display_name":"Madarra"},"score":0,"creation_date":1650894324,"post_id":72000502,"comment_id":127224455,"body_markdown":"Oh ok thanks you James, im so dumb i didn&#39;t know about that.","body":"Oh ok thanks you James, im so dumb i didn&#39;t know about that."}],"owner":{"account_id":25074662,"reputation":23,"user_id":18928200,"display_name":"Madarra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650895625,"answer_count":0,"score":0,"last_activity_date":1650893880,"creation_date":1650893880,"question_id":72000502,"body_markdown":"i juste begin to use JavaFx for a MediaPlayer projet for school, and I need to do a VideoLibrary for movies or series + a media Player. \r\n\r\nI am following a tutorial on treeView with Javafx and when im trying to compile my code I have this exception. &quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TreeView.setRoot(javafx.scene.control.TreeItem)&quot; because &quot;this.treeView&quot; is null&quot;, and one the tutorial everything is working well for him. \r\n\r\nHope someone could have a look one this.\r\n\r\nThanks you in advance for your help. \r\n\r\nMy code is working great before I implement this code \r\n\r\n``` \r\n@FXML\r\n    private TreeView treeView;\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n\r\n        TreeItem&lt;String&gt; rootItem = new TreeItem&lt;&gt;(&quot;Movies&quot;);\r\n\r\n        treeView.setRoot(rootItem);\r\n    }\r\n```\r\n\r\n\r\nThis my Main class. \r\n```\r\npackage com.example.mediaplayer;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        scene.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent mouseEvent) {\r\n                if (mouseEvent.getClickCount()==2){\r\n                    stage.setFullScreen(true);\r\n                }\r\n            }\r\n        });//FullScreen quand c&#39;est cliqu&#233; deux fois\r\n        stage.setTitle(&quot;MediaPlayer&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nThis my controller class. \r\n```\r\npackage com.example.mediaplayer;\r\n\r\nimport javafx.beans.InvalidationListener;\r\nimport javafx.beans.Observable;\r\nimport javafx.beans.binding.Binding;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.chart.ValueAxis;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.control.TreeItem;\r\nimport javafx.scene.control.TreeView;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.scene.media.MediaView;\r\nimport javafx.stage.FileChooser;\r\nimport javafx.scene.media.Media;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class HelloController implements Initializable {\r\n\r\n    private String pathFile;\r\n    private MediaPlayer mediaPlayer;\r\n\r\n\r\n    @FXML\r\n    private MediaView mediaView;\r\n\r\n    @FXML\r\n    private Slider progressBar;\r\n\r\n    @FXML\r\n    private Slider volumeBar;\r\n\r\n    public void choosFileMethode(ActionEvent event){\r\n        FileChooser fileChooser = new FileChooser();\r\n        FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(&quot;Select a File (&#39;.mp4&#39;) (&#39;.avi&#39;)&quot;,&quot;*.mp4&quot;,&quot;*.avi&quot;);\r\n        fileChooser.getExtensionFilters().add(filter);\r\n        File file = fileChooser.showOpenDialog(null);\r\n        pathFile = file.toURI().toString();\r\n\r\n        if (pathFile !=null){\r\n            Media media = new Media(pathFile);\r\n            mediaPlayer = new MediaPlayer(media);\r\n            mediaView.setMediaPlayer(mediaPlayer);\r\n\r\n\r\n\r\n            DoubleProperty widthProp = mediaView.fitWidthProperty();\r\n            DoubleProperty heightProp = mediaView.fitHeightProperty();\r\n\r\n            //Ajuste la taille de la fen&#234;tre\r\n            widthProp.bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;width&quot;));\r\n            heightProp.bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;height&quot;));\r\n\r\n            mediaPlayer.currentTimeProperty().addListener(new ChangeListener&lt;Duration&gt;() {\r\n                @Override\r\n                public void changed(ObservableValue&lt;? extends Duration&gt; observableValue, Duration oldValue, Duration newValue) {\r\n\r\n                    progressBar.setValue(newValue.toSeconds());\r\n                }\r\n            });\r\n\r\n            progressBar.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\r\n                @Override\r\n                public void handle(MouseEvent mouseEvent) {\r\n                    mediaPlayer.seek(Duration.seconds(progressBar.getValue()));\r\n                }\r\n            });\r\n\r\n            progressBar.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n                @Override\r\n                public void handle(MouseEvent mouseEvent) {\r\n                    mediaPlayer.seek(Duration.seconds(progressBar.getValue()));\r\n                }\r\n            });\r\n\r\n            mediaPlayer.setOnReady(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Duration  total = media.getDuration();\r\n                    progressBar.setMax(total.toSeconds());\r\n                }\r\n            });\r\n\r\n            volumeBar.setValue(mediaPlayer.getVolume()*100);\r\n            volumeBar.valueProperty().addListener(new InvalidationListener() {\r\n                @Override\r\n                public void invalidated(Observable observable) {\r\n                    mediaPlayer.setVolume(volumeBar.getValue()/100);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n        }\r\n\r\n    public void playMethode(ActionEvent event){\r\n\r\n        mediaPlayer.play();\r\n        mediaPlayer.setRate(1);\r\n    }\r\n    public void pauseMethode(ActionEvent event){\r\n\r\n        mediaPlayer.pause();\r\n    }\r\n    public void stopMethode(ActionEvent event){\r\n\r\n        mediaPlayer.stop();\r\n    }\r\n    public void slowRateMethode(ActionEvent event){\r\n\r\n        mediaPlayer.setRate(0.5);\r\n    }\r\n    public void fastRateMethode(ActionEvent event){\r\n\r\n        mediaPlayer.setRate(2);\r\n    }\r\n\r\n    public void forward10second(ActionEvent event){\r\n        mediaPlayer.seek(mediaPlayer.getCurrentTime().add(Duration.seconds(10)));\r\n    }\r\n    public void downward10second(ActionEvent event){\r\n        mediaPlayer.seek(mediaPlayer.getCurrentTime().add(Duration.seconds(-10)));\r\n    }\r\n    public void exit(ActionEvent event){\r\n        System.exit(0);\r\n    }\r\n    public void ouvirListeDeLecture(ActionEvent event) throws Exception{\r\n        try{\r\n\r\n            FXMLLoader listeDeLecture = new FXMLLoader(HelloApplication.class.getResource(&quot;liste-de-lecture.fxml&quot;));\r\n            Stage stage = new Stage();\r\n            Scene sceneListeLecture = new Scene(listeDeLecture.load(),320,240);\r\n            stage.setScene(sceneListeLecture);\r\n            stage.show();\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    //Liste de lecture methode\r\n\r\n    @FXML\r\n    private TreeView treeView;\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n\r\n        TreeItem&lt;String&gt; rootItem = new TreeItem&lt;&gt;(&quot;Movies&quot;);\r\n\r\n        treeView.setRoot(rootItem);\r\n    }\r\n\r\n\r\n    public void selectItem(ActionEvent event){\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\nThis is my Main windows with the FXML \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Menu?&gt;\r\n&lt;?import javafx.scene.control.MenuBar?&gt;\r\n&lt;?import javafx.scene.control.MenuItem?&gt;\r\n&lt;?import javafx.scene.control.Slider?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.media.MediaView?&gt;\r\n\r\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.mediaplayer.HelloController&quot;&gt;\r\n   &lt;center&gt;\r\n      &lt;StackPane prefHeight=&quot;150.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;MediaView fx:id=&quot;mediaView&quot; fitHeight=&quot;200.0&quot; fitWidth=&quot;200.0&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/StackPane&gt;\r\n   &lt;/center&gt;\r\n   &lt;top&gt;\r\n      &lt;MenuBar BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n        &lt;menus&gt;\r\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Media&quot;&gt;\r\n            &lt;items&gt;\r\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#choosFileMethode&quot; text=&quot;Open a file&quot; /&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#exit&quot; text=&quot;Quitter&quot; /&gt;\r\n            &lt;/items&gt;\r\n          &lt;/Menu&gt;\r\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Lecture&quot;&gt;\r\n            &lt;items&gt;\r\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Avancer&quot; /&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Reculer&quot; /&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Lecture&quot; /&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Pause&quot; /&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Arreter&quot; /&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Pr&#233;cedent&quot; /&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Suivant&quot; /&gt;\r\n            &lt;/items&gt;\r\n          &lt;/Menu&gt;\r\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Audio&quot;&gt;\r\n            &lt;items&gt;\r\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Augmenter le volume&quot; /&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;R&#233;duire le volume&quot; /&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Couper son&quot; /&gt;\r\n            &lt;/items&gt;\r\n          &lt;/Menu&gt;\r\n            &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Vid&#233;o&quot;&gt;\r\n              &lt;items&gt;\r\n                &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Plein &#233;cran&quot; /&gt;\r\n              &lt;/items&gt;\r\n            &lt;/Menu&gt;\r\n            &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Sous-titres&quot;&gt;\r\n              &lt;items&gt;\r\n                &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Ajouter un fichier sous-titre&quot; /&gt;\r\n              &lt;/items&gt;\r\n            &lt;/Menu&gt;\r\n            &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Vue&quot;&gt;\r\n               &lt;items&gt;\r\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#ouvirListeDeLecture&quot; text=&quot;Liste de lecture&quot; /&gt;\r\n               &lt;/items&gt;\r\n            &lt;/Menu&gt;\r\n        &lt;/menus&gt;\r\n      &lt;/MenuBar&gt;\r\n   &lt;/top&gt;\r\n   &lt;bottom&gt;\r\n      &lt;VBox alignment=&quot;BOTTOM_CENTER&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Slider fx:id=&quot;progressBar&quot; majorTickUnit=&quot;60.0&quot; prefHeight=&quot;0.0&quot; prefWidth=&quot;606.0&quot; showTickMarks=&quot;true&quot; /&gt;\r\n            &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#playMethode&quot; text=&quot;Play&quot;&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#pauseMethode&quot; text=&quot;Pause&quot;&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button layoutX=&quot;51.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#slowRateMethode&quot; text=&quot;&amp;lt;&amp;lt;&amp;lt;&quot;&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button layoutX=&quot;143.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#stopMethode&quot; text=&quot;Stop&quot;&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button layoutX=&quot;102.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#fastRateMethode&quot; text=&quot;&amp;gt;&amp;gt;&amp;gt;&quot;&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button layoutX=&quot;186.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#downward10second&quot; text=&quot;-10s&quot;&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button layoutX=&quot;227.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#forward10second&quot; text=&quot;+10s&quot;&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Slider fx:id=&quot;volumeBar&quot;&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Slider&gt;\r\n               &lt;/children&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/HBox&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n   &lt;/bottom&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\nThis my second windows when your press the button &quot;Liste de lecture&quot; in the menu bar menu &quot;Vue&quot; in the menu item &quot;Liste de lecture&quot;.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Menu?&gt;\r\n&lt;?import javafx.scene.control.MenuBar?&gt;\r\n&lt;?import javafx.scene.control.MenuItem?&gt;\r\n&lt;?import javafx.scene.control.TreeView?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n\r\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;532.0&quot; prefWidth=&quot;747.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.mediaplayer.HelloController&quot;&gt;\r\n   &lt;top&gt;\r\n      &lt;MenuBar BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n        &lt;menus&gt;\r\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\r\n            &lt;items&gt;\r\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\r\n            &lt;/items&gt;\r\n          &lt;/Menu&gt;\r\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Edit&quot;&gt;\r\n            &lt;items&gt;\r\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Delete&quot; /&gt;\r\n            &lt;/items&gt;\r\n          &lt;/Menu&gt;\r\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\r\n            &lt;items&gt;\r\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\r\n            &lt;/items&gt;\r\n          &lt;/Menu&gt;\r\n        &lt;/menus&gt;\r\n      &lt;/MenuBar&gt;\r\n   &lt;/top&gt;\r\n   &lt;left&gt;\r\n      &lt;TreeView fx:id=&quot;treeView&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n   &lt;/left&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\nAnd the compiler throws:\r\n```\r\n/Users/jul/Library/Java/JavaVirtualMachines/openjdk-18.0.1/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=55822:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/jul/.m2/repository/org/openjfx/javafx-controls/18-ea+6/javafx-controls-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-graphics/18-ea+6/javafx-graphics-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-base/18-ea+6/javafx-base-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-fxml/18-ea+6/javafx-fxml-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-web/18-ea+6/javafx-web-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-media/18-ea+6/javafx-media-18-ea+6.jar:/Users/jul/.m2/repository/org/jetbrains/annotations/13.0/annotations-13.0.jar:/Users/jul/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-common/1.5.32/kotlin-stdlib-common-1.5.32.jar -p /Users/jul/.m2/repository/org/kordamp/bootstrapfx/bootstrapfx-core/0.4.0/bootstrapfx-core-0.4.0.jar:/Users/jul/.m2/repository/org/controlsfx/controlsfx/11.1.1/controlsfx-11.1.1.jar:/Users/jul/.m2/repository/eu/hansolo/tilesfx/11.48/tilesfx-11.48.jar:/Users/jul/.m2/repository/org/openjfx/javafx-controls/18-ea+6/javafx-controls-18-ea+6-mac.jar:/Users/jul/.m2/repository/net/synedra/validatorfx/0.2.1/validatorfx-0.2.1.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl/17/fxgl-17.jar:/Users/jul/.m2/repository/org/kordamp/ikonli/ikonli-core/12.3.0/ikonli-core-12.3.0.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-scene/17/fxgl-scene-17.jar:/Users/jul/Desktop/MediaPlayer/target/classes:/Users/jul/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.12.1/jackson-annotations-2.12.1.jar:/Users/jul/.m2/repository/org/openjfx/javafx-media/18-ea+6/javafx-media-18-ea+6-mac.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-gameplay/17/fxgl-gameplay-17.jar:/Users/jul/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.12.1/jackson-core-2.12.1.jar:/Users/jul/.m2/repository/com/gluonhq/attach/audio/4.0.9/audio-4.0.9.jar:/Users/jul/.m2/repository/org/kordamp/ikonli/ikonli-javafx/12.3.0/ikonli-javafx-12.3.0.jar:/Users/jul/.m2/repository/com/gluonhq/attach/lifecycle/4.0.9/lifecycle-4.0.9.jar:/Users/jul/.m2/repository/com/dlsc/formsfx/formsfx-core/11.3.2/formsfx-core-11.3.2.jar:/Users/jul/.m2/repository/org/openjfx/javafx-base/18-ea+6/javafx-base-18-ea+6-mac.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-entity/17/fxgl-entity-17.jar:/Users/jul/.m2/repository/com/gluonhq/attach/storage/4.0.9/storage-4.0.9.jar:/Users/jul/.m2/repository/org/openjfx/javafx-web/18-ea+6/javafx-web-18-ea+6-mac.jar:/Users/jul/.m2/repository/com/gluonhq/attach/util/4.0.9/util-4.0.9.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-io/17/fxgl-io-17.jar:/Users/jul/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib/1.5.32/kotlin-stdlib-1.5.32-modular.jar:/Users/jul/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.12.1/jackson-databind-2.12.1.jar:/Users/jul/.m2/repository/org/openjfx/javafx-fxml/18-ea+6/javafx-fxml-18-ea+6-mac.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-core/17/fxgl-core-17.jar:/Users/jul/.m2/repository/org/openjfx/javafx-graphics/18-ea+6/javafx-graphics-18-ea+6-mac.jar -m com.example.mediaplayer/com.example.mediaplayer.HelloApplication\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: javafx.fxml.LoadException: \r\n/Users/jul/Desktop/MediaPlayer/target/classes/com/example/mediaplayer/hello-view.fxml\r\n\r\n\tat javafx.fxml@18-ea/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml@18-ea/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\r\n\tat javafx.fxml@18-ea/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml@18-ea/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n\tat com.example.mediaplayer/com.example.mediaplayer.HelloApplication.start(HelloApplication.java:16)\r\n\tat javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@18-ea/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@18-ea/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@18-ea/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@18-ea/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TreeView.setRoot(javafx.scene.control.TreeItem)&quot; because &quot;this.treeView&quot; is null\r\n\tat com.example.mediaplayer/com.example.mediaplayer.HelloController.initialize(HelloController.java:168)\r\n\tat javafx.fxml@18-ea/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2655)\r\n\t... 9 more\r\nException running application com.example.mediaplayer.HelloApplication\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n","title":"Javafx TreeView setRoot I have a exception Cannot invoke &quot;javafx.scene.control.TreeView.setRoot(javafx.scene.control.TreeItem)","body":"<p>i juste begin to use JavaFx for a MediaPlayer projet for school, and I need to do a VideoLibrary for movies or series + a media Player.</p>\n<p>I am following a tutorial on treeView with Javafx and when im trying to compile my code I have this exception. &quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TreeView.setRoot(javafx.scene.control.TreeItem)&quot; because &quot;this.treeView&quot; is null&quot;, and one the tutorial everything is working well for him.</p>\n<p>Hope someone could have a look one this.</p>\n<p>Thanks you in advance for your help.</p>\n<p>My code is working great before I implement this code</p>\n<pre><code>@FXML\n    private TreeView treeView;\n\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n        TreeItem&lt;String&gt; rootItem = new TreeItem&lt;&gt;(&quot;Movies&quot;);\n\n        treeView.setRoot(rootItem);\n    }\n</code></pre>\n<p>This my Main class.</p>\n<pre><code>package com.example.mediaplayer;\n\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        scene.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent mouseEvent) {\n                if (mouseEvent.getClickCount()==2){\n                    stage.setFullScreen(true);\n                }\n            }\n        });//FullScreen quand c'est cliqué deux fois\n        stage.setTitle(&quot;MediaPlayer&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This my controller class.</p>\n<pre><code>package com.example.mediaplayer;\n\nimport javafx.beans.InvalidationListener;\nimport javafx.beans.Observable;\nimport javafx.beans.binding.Binding;\nimport javafx.beans.binding.Bindings;\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.ValueAxis;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Slider;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.stage.FileChooser;\nimport javafx.scene.media.Media;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.io.File;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class HelloController implements Initializable {\n\n    private String pathFile;\n    private MediaPlayer mediaPlayer;\n\n\n    @FXML\n    private MediaView mediaView;\n\n    @FXML\n    private Slider progressBar;\n\n    @FXML\n    private Slider volumeBar;\n\n    public void choosFileMethode(ActionEvent event){\n        FileChooser fileChooser = new FileChooser();\n        FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(&quot;Select a File ('.mp4') ('.avi')&quot;,&quot;*.mp4&quot;,&quot;*.avi&quot;);\n        fileChooser.getExtensionFilters().add(filter);\n        File file = fileChooser.showOpenDialog(null);\n        pathFile = file.toURI().toString();\n\n        if (pathFile !=null){\n            Media media = new Media(pathFile);\n            mediaPlayer = new MediaPlayer(media);\n            mediaView.setMediaPlayer(mediaPlayer);\n\n\n\n            DoubleProperty widthProp = mediaView.fitWidthProperty();\n            DoubleProperty heightProp = mediaView.fitHeightProperty();\n\n            //Ajuste la taille de la fenêtre\n            widthProp.bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;width&quot;));\n            heightProp.bind(Bindings.selectDouble(mediaView.sceneProperty(),&quot;height&quot;));\n\n            mediaPlayer.currentTimeProperty().addListener(new ChangeListener&lt;Duration&gt;() {\n                @Override\n                public void changed(ObservableValue&lt;? extends Duration&gt; observableValue, Duration oldValue, Duration newValue) {\n\n                    progressBar.setValue(newValue.toSeconds());\n                }\n            });\n\n            progressBar.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\n                @Override\n                public void handle(MouseEvent mouseEvent) {\n                    mediaPlayer.seek(Duration.seconds(progressBar.getValue()));\n                }\n            });\n\n            progressBar.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n                @Override\n                public void handle(MouseEvent mouseEvent) {\n                    mediaPlayer.seek(Duration.seconds(progressBar.getValue()));\n                }\n            });\n\n            mediaPlayer.setOnReady(new Runnable() {\n                @Override\n                public void run() {\n                    Duration  total = media.getDuration();\n                    progressBar.setMax(total.toSeconds());\n                }\n            });\n\n            volumeBar.setValue(mediaPlayer.getVolume()*100);\n            volumeBar.valueProperty().addListener(new InvalidationListener() {\n                @Override\n                public void invalidated(Observable observable) {\n                    mediaPlayer.setVolume(volumeBar.getValue()/100);\n                }\n            });\n        }\n\n\n\n        }\n\n    public void playMethode(ActionEvent event){\n\n        mediaPlayer.play();\n        mediaPlayer.setRate(1);\n    }\n    public void pauseMethode(ActionEvent event){\n\n        mediaPlayer.pause();\n    }\n    public void stopMethode(ActionEvent event){\n\n        mediaPlayer.stop();\n    }\n    public void slowRateMethode(ActionEvent event){\n\n        mediaPlayer.setRate(0.5);\n    }\n    public void fastRateMethode(ActionEvent event){\n\n        mediaPlayer.setRate(2);\n    }\n\n    public void forward10second(ActionEvent event){\n        mediaPlayer.seek(mediaPlayer.getCurrentTime().add(Duration.seconds(10)));\n    }\n    public void downward10second(ActionEvent event){\n        mediaPlayer.seek(mediaPlayer.getCurrentTime().add(Duration.seconds(-10)));\n    }\n    public void exit(ActionEvent event){\n        System.exit(0);\n    }\n    public void ouvirListeDeLecture(ActionEvent event) throws Exception{\n        try{\n\n            FXMLLoader listeDeLecture = new FXMLLoader(HelloApplication.class.getResource(&quot;liste-de-lecture.fxml&quot;));\n            Stage stage = new Stage();\n            Scene sceneListeLecture = new Scene(listeDeLecture.load(),320,240);\n            stage.setScene(sceneListeLecture);\n            stage.show();\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n\n    }\n\n    //Liste de lecture methode\n\n    @FXML\n    private TreeView treeView;\n\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n        TreeItem&lt;String&gt; rootItem = new TreeItem&lt;&gt;(&quot;Movies&quot;);\n\n        treeView.setRoot(rootItem);\n    }\n\n\n    public void selectItem(ActionEvent event){\n\n    }\n\n\n\n}\n\n</code></pre>\n<p>This is my Main windows with the FXML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Menu?&gt;\n&lt;?import javafx.scene.control.MenuBar?&gt;\n&lt;?import javafx.scene.control.MenuItem?&gt;\n&lt;?import javafx.scene.control.Slider?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.media.MediaView?&gt;\n\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.mediaplayer.HelloController&quot;&gt;\n   &lt;center&gt;\n      &lt;StackPane prefHeight=&quot;150.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;MediaView fx:id=&quot;mediaView&quot; fitHeight=&quot;200.0&quot; fitWidth=&quot;200.0&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/StackPane&gt;\n   &lt;/center&gt;\n   &lt;top&gt;\n      &lt;MenuBar BorderPane.alignment=&quot;CENTER&quot;&gt;\n        &lt;menus&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Media&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#choosFileMethode&quot; text=&quot;Open a file&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#exit&quot; text=&quot;Quitter&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Lecture&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Avancer&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Reculer&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Lecture&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Pause&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Arreter&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Précedent&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Suivant&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Audio&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Augmenter le volume&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Réduire le volume&quot; /&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Couper son&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n            &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Vidéo&quot;&gt;\n              &lt;items&gt;\n                &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Plein écran&quot; /&gt;\n              &lt;/items&gt;\n            &lt;/Menu&gt;\n            &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Sous-titres&quot;&gt;\n              &lt;items&gt;\n                &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Ajouter un fichier sous-titre&quot; /&gt;\n              &lt;/items&gt;\n            &lt;/Menu&gt;\n            &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Vue&quot;&gt;\n               &lt;items&gt;\n                  &lt;MenuItem mnemonicParsing=&quot;false&quot; onAction=&quot;#ouvirListeDeLecture&quot; text=&quot;Liste de lecture&quot; /&gt;\n               &lt;/items&gt;\n            &lt;/Menu&gt;\n        &lt;/menus&gt;\n      &lt;/MenuBar&gt;\n   &lt;/top&gt;\n   &lt;bottom&gt;\n      &lt;VBox alignment=&quot;BOTTOM_CENTER&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;Slider fx:id=&quot;progressBar&quot; majorTickUnit=&quot;60.0&quot; prefHeight=&quot;0.0&quot; prefWidth=&quot;606.0&quot; showTickMarks=&quot;true&quot; /&gt;\n            &lt;HBox alignment=&quot;CENTER_LEFT&quot; prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#playMethode&quot; text=&quot;Play&quot;&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#pauseMethode&quot; text=&quot;Pause&quot;&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button layoutX=&quot;51.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#slowRateMethode&quot; text=&quot;&amp;lt;&amp;lt;&amp;lt;&quot;&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button layoutX=&quot;143.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#stopMethode&quot; text=&quot;Stop&quot;&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button layoutX=&quot;102.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#fastRateMethode&quot; text=&quot;&amp;gt;&amp;gt;&amp;gt;&quot;&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button layoutX=&quot;186.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#downward10second&quot; text=&quot;-10s&quot;&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button layoutX=&quot;227.0&quot; layoutY=&quot;47.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#forward10second&quot; text=&quot;+10s&quot;&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Slider fx:id=&quot;volumeBar&quot;&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;7.0&quot; right=&quot;7.0&quot; top=&quot;40.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Slider&gt;\n               &lt;/children&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/HBox&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n   &lt;/bottom&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>This my second windows when your press the button &quot;Liste de lecture&quot; in the menu bar menu &quot;Vue&quot; in the menu item &quot;Liste de lecture&quot;.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Menu?&gt;\n&lt;?import javafx.scene.control.MenuBar?&gt;\n&lt;?import javafx.scene.control.MenuItem?&gt;\n&lt;?import javafx.scene.control.TreeView?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n\n&lt;BorderPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;532.0&quot; prefWidth=&quot;747.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.mediaplayer.HelloController&quot;&gt;\n   &lt;top&gt;\n      &lt;MenuBar BorderPane.alignment=&quot;CENTER&quot;&gt;\n        &lt;menus&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;File&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Close&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Edit&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;Delete&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n          &lt;Menu mnemonicParsing=&quot;false&quot; text=&quot;Help&quot;&gt;\n            &lt;items&gt;\n              &lt;MenuItem mnemonicParsing=&quot;false&quot; text=&quot;About&quot; /&gt;\n            &lt;/items&gt;\n          &lt;/Menu&gt;\n        &lt;/menus&gt;\n      &lt;/MenuBar&gt;\n   &lt;/top&gt;\n   &lt;left&gt;\n      &lt;TreeView fx:id=&quot;treeView&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n   &lt;/left&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>And the compiler throws:</p>\n<pre><code>/Users/jul/Library/Java/JavaVirtualMachines/openjdk-18.0.1/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=55822:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/jul/.m2/repository/org/openjfx/javafx-controls/18-ea+6/javafx-controls-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-graphics/18-ea+6/javafx-graphics-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-base/18-ea+6/javafx-base-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-fxml/18-ea+6/javafx-fxml-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-web/18-ea+6/javafx-web-18-ea+6.jar:/Users/jul/.m2/repository/org/openjfx/javafx-media/18-ea+6/javafx-media-18-ea+6.jar:/Users/jul/.m2/repository/org/jetbrains/annotations/13.0/annotations-13.0.jar:/Users/jul/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-common/1.5.32/kotlin-stdlib-common-1.5.32.jar -p /Users/jul/.m2/repository/org/kordamp/bootstrapfx/bootstrapfx-core/0.4.0/bootstrapfx-core-0.4.0.jar:/Users/jul/.m2/repository/org/controlsfx/controlsfx/11.1.1/controlsfx-11.1.1.jar:/Users/jul/.m2/repository/eu/hansolo/tilesfx/11.48/tilesfx-11.48.jar:/Users/jul/.m2/repository/org/openjfx/javafx-controls/18-ea+6/javafx-controls-18-ea+6-mac.jar:/Users/jul/.m2/repository/net/synedra/validatorfx/0.2.1/validatorfx-0.2.1.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl/17/fxgl-17.jar:/Users/jul/.m2/repository/org/kordamp/ikonli/ikonli-core/12.3.0/ikonli-core-12.3.0.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-scene/17/fxgl-scene-17.jar:/Users/jul/Desktop/MediaPlayer/target/classes:/Users/jul/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.12.1/jackson-annotations-2.12.1.jar:/Users/jul/.m2/repository/org/openjfx/javafx-media/18-ea+6/javafx-media-18-ea+6-mac.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-gameplay/17/fxgl-gameplay-17.jar:/Users/jul/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.12.1/jackson-core-2.12.1.jar:/Users/jul/.m2/repository/com/gluonhq/attach/audio/4.0.9/audio-4.0.9.jar:/Users/jul/.m2/repository/org/kordamp/ikonli/ikonli-javafx/12.3.0/ikonli-javafx-12.3.0.jar:/Users/jul/.m2/repository/com/gluonhq/attach/lifecycle/4.0.9/lifecycle-4.0.9.jar:/Users/jul/.m2/repository/com/dlsc/formsfx/formsfx-core/11.3.2/formsfx-core-11.3.2.jar:/Users/jul/.m2/repository/org/openjfx/javafx-base/18-ea+6/javafx-base-18-ea+6-mac.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-entity/17/fxgl-entity-17.jar:/Users/jul/.m2/repository/com/gluonhq/attach/storage/4.0.9/storage-4.0.9.jar:/Users/jul/.m2/repository/org/openjfx/javafx-web/18-ea+6/javafx-web-18-ea+6-mac.jar:/Users/jul/.m2/repository/com/gluonhq/attach/util/4.0.9/util-4.0.9.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-io/17/fxgl-io-17.jar:/Users/jul/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib/1.5.32/kotlin-stdlib-1.5.32-modular.jar:/Users/jul/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.12.1/jackson-databind-2.12.1.jar:/Users/jul/.m2/repository/org/openjfx/javafx-fxml/18-ea+6/javafx-fxml-18-ea+6-mac.jar:/Users/jul/.m2/repository/com/github/almasb/fxgl-core/17/fxgl-core-17.jar:/Users/jul/.m2/repository/org/openjfx/javafx-graphics/18-ea+6/javafx-graphics-18-ea+6-mac.jar -m com.example.mediaplayer/com.example.mediaplayer.HelloApplication\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javafx.fxml.LoadException: \n/Users/jul/Desktop/MediaPlayer/target/classes/com/example/mediaplayer/hello-view.fxml\n\n    at javafx.fxml@18-ea/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n    at javafx.fxml@18-ea/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\n    at javafx.fxml@18-ea/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml@18-ea/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n    at com.example.mediaplayer/com.example.mediaplayer.HelloApplication.start(HelloApplication.java:16)\n    at javafx.graphics@18-ea/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@18-ea/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@18-ea/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18-ea/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@18-ea/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TreeView.setRoot(javafx.scene.control.TreeItem)&quot; because &quot;this.treeView&quot; is null\n    at com.example.mediaplayer/com.example.mediaplayer.HelloController.initialize(HelloController.java:168)\n    at javafx.fxml@18-ea/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2655)\n    ... 9 more\nException running application com.example.mediaplayer.HelloApplication\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","php","code-coverage"],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1338568082,"creation_date":1338567647,"answer_id":10853965,"question_id":10853747,"body_markdown":"PHP interperts the code, which means it runs over the source each time you run the program.  This has the benefit of blowing up as the code is read (which makes line number printouts trivial); however, it often is expensive in other ways, as you cannot optimize deeply (or do any pre-runtime error checking).\r\n\r\n[Java compiles its code into a JVM assembly language called &quot;bytecode.&quot;][1]  This means that what is running doesn&#39;t generally have access to (or even use) the source code.  That said, there are techniques.  A compiled Java class has the ability to add &quot;extra data&quot; and one of those &quot;extra data elements&quot; is [a line number table][2], which is an index allowing someone running the assembly to &quot;look up&quot; the line number _as the compiler recorded it_.  \r\n\r\nThis generally works ok, with the considerations that: compilers often don&#39;t mark up every instruction, the source code may not be available, optimization might make certain inner chunks of code not function in ways that facilitate pointing to the input code text.\r\n\r\nHow code coverage tools &quot;fix&quot; this is that they generally insert into the code (at the assembly level) a large number of commands that effectively act as logging statements to a format that allows the tool to determine which path through the code was actually followed.  This is then mapped back through the line number table as best as possible and then used to highlight lines within the original source file.\r\n\r\nIf you want something with finer resolution (something that can process which portion of a line was executed) then you need to dig deeper.  Eventually you might even consider writing your own compiler (or compiler extension) which will store your own custom line number table that overcomes the shortcomings of the current solutions.  \r\n\r\nTricks like throwing exceptions (as Shiven has mentioned) and parsing out the line number do work; however, they pollute your code with odd exception processing for items that really _aren&#39;t_ exceptional, just to &quot;get the line number&quot;.  Due to the code clutter and the generally poorer runtime performance of exceptions, I tend to avoid such solutions (but they do work).\r\n\r\nAnyway, hopefully this will give you a view as to why it doesn&#39;t always work exactly the same way as PHP.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se5.0/html/ClassFile.doc.html\r\n  [2]: http://docs.oracle.com/javase/specs/jvms/se5.0/html/ClassFile.doc.html#22856","title":"Log line numbers of executed java code","body":"<p>PHP interperts the code, which means it runs over the source each time you run the program.  This has the benefit of blowing up as the code is read (which makes line number printouts trivial); however, it often is expensive in other ways, as you cannot optimize deeply (or do any pre-runtime error checking).</p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jvms/se5.0/html/ClassFile.doc.html\" rel=\"nofollow\">Java compiles its code into a JVM assembly language called \"bytecode.\"</a>  This means that what is running doesn't generally have access to (or even use) the source code.  That said, there are techniques.  A compiled Java class has the ability to add \"extra data\" and one of those \"extra data elements\" is <a href=\"http://docs.oracle.com/javase/specs/jvms/se5.0/html/ClassFile.doc.html#22856\" rel=\"nofollow\">a line number table</a>, which is an index allowing someone running the assembly to \"look up\" the line number <em>as the compiler recorded it</em>.  </p>\n\n<p>This generally works ok, with the considerations that: compilers often don't mark up every instruction, the source code may not be available, optimization might make certain inner chunks of code not function in ways that facilitate pointing to the input code text.</p>\n\n<p>How code coverage tools \"fix\" this is that they generally insert into the code (at the assembly level) a large number of commands that effectively act as logging statements to a format that allows the tool to determine which path through the code was actually followed.  This is then mapped back through the line number table as best as possible and then used to highlight lines within the original source file.</p>\n\n<p>If you want something with finer resolution (something that can process which portion of a line was executed) then you need to dig deeper.  Eventually you might even consider writing your own compiler (or compiler extension) which will store your own custom line number table that overcomes the shortcomings of the current solutions.  </p>\n\n<p>Tricks like throwing exceptions (as Shiven has mentioned) and parsing out the line number do work; however, they pollute your code with odd exception processing for items that really <em>aren't</em> exceptional, just to \"get the line number\".  Due to the code clutter and the generally poorer runtime performance of exceptions, I tend to avoid such solutions (but they do work).</p>\n\n<p>Anyway, hopefully this will give you a view as to why it doesn't always work exactly the same way as PHP.</p>\n"},{"tags":[],"owner":{"account_id":1095084,"reputation":2277,"user_id":1088846,"accept_rate":100,"display_name":"Jochen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1338568063,"creation_date":1338568063,"answer_id":10854074,"question_id":10853747,"body_markdown":"Take a look at Cobertura. It computes coverage and stuff like that, and if it doesn&#39;t already do it, it should be relatively easy to add the line number collecting to it.\r\nThere&#39;s a very hackish attempt to do that, but that&#39;s so slow that you may not be able to use it in production https://bitbucket.org/jowu/myriapod/wiki/Home\r\n","title":"Log line numbers of executed java code","body":"<p>Take a look at Cobertura. It computes coverage and stuff like that, and if it doesn't already do it, it should be relatively easy to add the line number collecting to it.\nThere's a very hackish attempt to do that, but that's so slow that you may not be able to use it in production <a href=\"https://bitbucket.org/jowu/myriapod/wiki/Home\" rel=\"nofollow\">https://bitbucket.org/jowu/myriapod/wiki/Home</a></p>\n"},{"tags":[],"owner":{"account_id":1264454,"reputation":10883,"user_id":1222076,"accept_rate":85,"display_name":"Matt Dodge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338568122,"creation_date":1338568122,"answer_id":10854088,"question_id":10853747,"body_markdown":"I have never done or seen anything like this but it does seem like an interesting problem. My thought would be to use [the java debugger (jdb)](http://docs.oracle.com/javase/1.3/docs/tooldocs/solaris/jdb.html) to run the code, rather than just the `java` command. \r\n\r\nYou can step through the code line by line (via the `step` command in jdb) and each time a line executes its line number is spit out. This would require a little help from the PHP side (it would have to parse the line number as well as execute the next step command) but the line numbers are there. Here is a sample output from a very basic java program.\r\n\r\n**Java (TestClass.java)**\r\n\r\n    public class TestClass {\r\n       public static void main(String[] args) {\r\n          System.out.println(&quot;foo&quot;);\r\n          System.out.println(&quot;bar&quot;);\r\n       }\r\n    }\r\n\r\n**jdb (jdb TestClass after running `javac TestClass.java`)**\r\n\r\n    Initializing jdb ...\r\n    &gt; stop at TestClass:3\r\n    Deferring breakpoint TestClass:3.\r\n    It will be set after the class is loaded.\r\n    &gt; run\r\n    run TestClass\r\n    Set uncaught java.lang.Throwable\r\n    Set deferred uncaught java.lang.Throwable\r\n    &gt; \r\n    VM Started: Set deferred breakpoint TestClass:3\r\n    \r\n    Breakpoint hit: &quot;thread=main&quot;, TestClass.main(), line=3 bci=0\r\n    3          System.out.println(&quot;foo&quot;);\r\n    \r\n    main[1] step\r\n    &gt; foo\r\n    \r\n    Step completed: &quot;thread=main&quot;, TestClass.main(), line=4 bci=8\r\n    4          System.out.println(&quot;bar&quot;);\r\n    \r\n    main[1] step\r\n    &gt; bar\r\n    \r\n    Step completed: &quot;thread=main&quot;, TestClass.main(), line=5 bci=16\r\n    5        }\r\n    \r\n    main[1] step\r\n    &gt; \r\n    The application exited","title":"Log line numbers of executed java code","body":"<p>I have never done or seen anything like this but it does seem like an interesting problem. My thought would be to use <a href=\"http://docs.oracle.com/javase/1.3/docs/tooldocs/solaris/jdb.html\" rel=\"nofollow\">the java debugger (jdb)</a> to run the code, rather than just the <code>java</code> command. </p>\n\n<p>You can step through the code line by line (via the <code>step</code> command in jdb) and each time a line executes its line number is spit out. This would require a little help from the PHP side (it would have to parse the line number as well as execute the next step command) but the line numbers are there. Here is a sample output from a very basic java program.</p>\n\n<p><strong>Java (TestClass.java)</strong></p>\n\n<pre><code>public class TestClass {\n   public static void main(String[] args) {\n      System.out.println(\"foo\");\n      System.out.println(\"bar\");\n   }\n}\n</code></pre>\n\n<p><strong>jdb (jdb TestClass after running <code>javac TestClass.java</code>)</strong></p>\n\n<pre><code>Initializing jdb ...\n&gt; stop at TestClass:3\nDeferring breakpoint TestClass:3.\nIt will be set after the class is loaded.\n&gt; run\nrun TestClass\nSet uncaught java.lang.Throwable\nSet deferred uncaught java.lang.Throwable\n&gt; \nVM Started: Set deferred breakpoint TestClass:3\n\nBreakpoint hit: \"thread=main\", TestClass.main(), line=3 bci=0\n3          System.out.println(\"foo\");\n\nmain[1] step\n&gt; foo\n\nStep completed: \"thread=main\", TestClass.main(), line=4 bci=8\n4          System.out.println(\"bar\");\n\nmain[1] step\n&gt; bar\n\nStep completed: \"thread=main\", TestClass.main(), line=5 bci=16\n5        }\n\nmain[1] step\n&gt; \nThe application exited\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1796603,"reputation":1061,"user_id":1635886,"accept_rate":89,"display_name":"Daanish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346668367,"creation_date":1346668367,"answer_id":12246140,"question_id":10853747,"body_markdown":"Try referring to this link [JVMDI][1]\n\nYou can try accessing the values of the program counter and then map it onto the lineNumberTable . \nOR\nI think JVMDI has a method which can access the line number of the executing code.I&#39;m not sure of the latter,refer the to the link above and hope it helps.\n\n  [1]: http://jvmdicover.sourceforge.net/","title":"Log line numbers of executed java code","body":"<p>Try referring to this link <a href=\"http://jvmdicover.sourceforge.net/\" rel=\"nofollow noreferrer\">JVMDI</a></p>\n<p>You can try accessing the values of the program counter and then map it onto the lineNumberTable .\nOR\nI think JVMDI has a method which can access the line number of the executing code.I'm not sure of the latter,refer the to the link above and hope it helps.</p>\n"}],"owner":{"account_id":1534721,"reputation":1409,"user_id":1431074,"accept_rate":59,"display_name":"DanB91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1494,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1650893818,"creation_date":1338566732,"question_id":10853747,"body_markdown":"I am writing part of a PHP web application (which will be used in a high school bug finding contest) where the user must find bugs in a given Java program.  As a part of this, when the Java program executes, we want to highlight the lines of the source of the Java program where the code has executed.  To do this, all we need are the line numbers of the source that have been executed, that is, the code path (or is it called code coverage?).  We will highlight the lines in the source file using the line numbers.\r\n\r\nWe will be using PHP&#39;s shell-exec() to execute the Java program and the tool to get the code path (whatever that will be).  What is the easiest way of getting the line numbers of code path?\r\n\r\nThank you very much!\r\n\r\nHere is a picture that describes what we would like\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GzBoU.png","title":"Log line numbers of executed java code","body":"<p>I am writing part of a PHP web application (which will be used in a high school bug finding contest) where the user must find bugs in a given Java program.  As a part of this, when the Java program executes, we want to highlight the lines of the source of the Java program where the code has executed.  To do this, all we need are the line numbers of the source that have been executed, that is, the code path (or is it called code coverage?).  We will highlight the lines in the source file using the line numbers.</p>\n\n<p>We will be using PHP's shell-exec() to execute the Java program and the tool to get the code path (whatever that will be).  What is the easiest way of getting the line numbers of code path?</p>\n\n<p>Thank you very much!</p>\n\n<p>Here is a picture that describes what we would like</p>\n\n<p><img src=\"https://i.stack.imgur.com/GzBoU.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650893709,"creation_date":1650893709,"answer_id":72000463,"question_id":71996035,"body_markdown":"`payload.getHeaders().get(failCount) =&gt; 2` \r\n\r\nThere is no such method `getHeaders()` (unless your payload has one). The root for evaluation is `Message&lt;?&gt;` which has `payload` and `headers` properties.\r\n\r\nTry `headers.get(&#39;failCount&#39;) &gt;= 2`.","title":"Spring integration router with condition","body":"<p><code>payload.getHeaders().get(failCount) =&gt; 2</code></p>\n<p>There is no such method <code>getHeaders()</code> (unless your payload has one). The root for evaluation is <code>Message&lt;?&gt;</code> which has <code>payload</code> and <code>headers</code> properties.</p>\n<p>Try <code>headers.get('failCount') &gt;= 2</code>.</p>\n"}],"owner":{"account_id":23631174,"reputation":27,"user_id":17662885,"display_name":"AlchemistAction"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72000463,"answer_count":1,"score":0,"last_activity_date":1650893709,"creation_date":1650872526,"question_id":71996035,"body_markdown":"I have a header witch is incremented during flow, than message goes to a loop, where I route it based on this header value. I cant find a way to config this router.\r\n\r\nI found this question \r\nhttps://stackoverflow.com/questions/25393767/routing-to-a-different-channels-based-on-condition\r\n\r\nbut it uses payload instead of headers: &lt;expression=&quot;payload.score == 100&quot;&gt;\r\n\r\nI tried using Java config like this:\r\n\r\n    public ExpressionEvaluatingRouter router() {\r\n            var router = new ExpressionEvaluatingRouter(&quot;payload.getHeaders().get(failCount) =&gt; 2&quot;);\r\n            router.setChannelMapping(&quot;true&quot;, &quot;logFailedChannel&quot;);\r\n            router.setChannelMapping(&quot;false&quot;, &quot;retryChannel&quot;);\r\n            return router;\r\n        }\r\n\r\nBut it fails as it can not parse this &quot;payload.getHeaders().get(failCount) =&gt; 5&quot;\r\n\r\nI also tried using HeaderRouner, but it wasn&#39;t good for me, because I had to hardcode every option for my conditions like this:\r\n\r\n    router.setChannelMapping(&quot;1&quot;, &quot;retryChannel&quot;);\r\n    router.setChannelMapping(&quot;2&quot;, &quot;retryChannel&quot;);\r\n    router.setChannelMapping(&quot;3&quot;, &quot;logFailedChannel&quot;);\r\n    router.setChannelMapping(&quot;4&quot;, &quot;logFailedChannel&quot;);\r\n\r\netc. \r\n\r\n\r\nIs there any other way to config router?\r\n","title":"Spring integration router with condition","body":"<p>I have a header witch is incremented during flow, than message goes to a loop, where I route it based on this header value. I cant find a way to config this router.</p>\n<p>I found this question\n<a href=\"https://stackoverflow.com/questions/25393767/routing-to-a-different-channels-based-on-condition\">Routing to a different channels based on condition</a></p>\n<p>but it uses payload instead of headers: &lt;expression=&quot;payload.score == 100&quot;&gt;</p>\n<p>I tried using Java config like this:</p>\n<pre><code>public ExpressionEvaluatingRouter router() {\n        var router = new ExpressionEvaluatingRouter(&quot;payload.getHeaders().get(failCount) =&gt; 2&quot;);\n        router.setChannelMapping(&quot;true&quot;, &quot;logFailedChannel&quot;);\n        router.setChannelMapping(&quot;false&quot;, &quot;retryChannel&quot;);\n        return router;\n    }\n</code></pre>\n<p>But it fails as it can not parse this &quot;payload.getHeaders().get(failCount) =&gt; 5&quot;</p>\n<p>I also tried using HeaderRouner, but it wasn't good for me, because I had to hardcode every option for my conditions like this:</p>\n<pre><code>router.setChannelMapping(&quot;1&quot;, &quot;retryChannel&quot;);\nrouter.setChannelMapping(&quot;2&quot;, &quot;retryChannel&quot;);\nrouter.setChannelMapping(&quot;3&quot;, &quot;logFailedChannel&quot;);\nrouter.setChannelMapping(&quot;4&quot;, &quot;logFailedChannel&quot;);\n</code></pre>\n<p>etc.</p>\n<p>Is there any other way to config router?</p>\n"},{"tags":["java","windows","maven","ssl-certificate"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1650558713,"post_id":71956693,"comment_id":127152290,"body_markdown":"Sounds like you are adding the site certificate to your trust store, and when it expires every few months, you have to do it again. Instead, make sure that the root CA certificate is in your trust store (DigiCert Global Root CA). If not, better find out why and solve from there.","body":"Sounds like you are adding the site certificate to your trust store, and when it expires every few months, you have to do it again. Instead, make sure that the root CA certificate is in your trust store (DigiCert Global Root CA). If not, better find out why and solve from there."},{"owner":{"account_id":11389764,"reputation":147,"user_id":8350245,"display_name":"Milan"},"score":0,"creation_date":1650603587,"post_id":71956693,"comment_id":127162216,"body_markdown":"@erickson Yes I am loading certificates, I need to check  (DigiCert Global Root CA) I have not done that yet.","body":"@erickson Yes I am loading certificates, I need to check  (DigiCert Global Root CA) I have not done that yet."},{"owner":{"account_id":11389764,"reputation":147,"user_id":8350245,"display_name":"Milan"},"score":0,"creation_date":1650624537,"post_id":71956693,"comment_id":127168602,"body_markdown":"@all I have tried to replace cacert of `Eclipse Adoptium\\jdk-17.0.1.12-hotspot`\nwith `\\Eclipse Adoptium\\jre-8.0.312.7-hotspot` and taken backup of the original one to fix repetitive loading issue. Will update here If this works for longer than a week.","body":"@all I have tried to replace cacert of <code>Eclipse Adoptium\\jdk-17.0.1.12-hotspot</code> with <code>\\Eclipse Adoptium\\jre-8.0.312.7-hotspot</code> and taken backup of the original one to fix repetitive loading issue. Will update here If this works for longer than a week."}],"answers":[{"tags":[],"owner":{"account_id":11389764,"reputation":147,"user_id":8350245,"display_name":"Milan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650893482,"creation_date":1650893482,"answer_id":72000411,"question_id":71956693,"body_markdown":"I am able to resolve this issue by replacing the `cacert` file. To be more precise I have replace `cacert` of `Eclipse Adoptium\\jdk-17.0.1.12-hotspot` with `Eclipse Adoptium\\jre-8.0.312.7-hotspot` to fix it.\r\n\r\nThings to my surprises is that, After replacing new cacaert file I did not had to use keytool to load certificate manually. It&#39;s still mystery why old cacert file was causing trouble. \r\n\r\nNOTE: Take backup of original cacert file before you replace with new one.\r\n\r\ntry this [solution][1] if still not resolved.\r\n\r\n  [1]: https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ#answer-46195965","title":"Repeatedly getting &quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I am able to resolve this issue by replacing the <code>cacert</code> file. To be more precise I have replace <code>cacert</code> of <code>Eclipse Adoptium\\jdk-17.0.1.12-hotspot</code> with <code>Eclipse Adoptium\\jre-8.0.312.7-hotspot</code> to fix it.</p>\n<p>Things to my surprises is that, After replacing new cacaert file I did not had to use keytool to load certificate manually. It's still mystery why old cacert file was causing trouble.</p>\n<p>NOTE: Take backup of original cacert file before you replace with new one.</p>\n<p>try this <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ#answer-46195965\">solution</a> if still not resolved.</p>\n"}],"owner":{"account_id":11389764,"reputation":147,"user_id":8350245,"display_name":"Milan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72000411,"answer_count":1,"score":0,"last_activity_date":1650893482,"creation_date":1650553366,"question_id":71956693,"body_markdown":"I have been facing this annoying issue of certificate during `mvn clean install` execution.\r\n\r\n```\r\nPS C:\\Users\\milan\\service&gt; mvn clean install\r\n[INFO] Scanning for projects...\r\nDownloading from spring-milestones: https://repo.spring.io/milestone/org/springframework/boot/spring-boot-starter-parent/2.2.0.M6/spring-boot-starter-parent-2.2.0.M6.pom\r\nDownloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.2.0.M6/spring-boot-starter-parent-2.2.0.M6.pom\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[FATAL] Non-resolvable parent POM for com.demo.microservices:service:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.2.0.M6 from/to spring-milestones (https://repo.spring.io/milestone): transfer failed for https://repo.spring.io/milestone/org/springframework/boot/spring-boot-starter-parent/2.2.0.M6/spring-boot-starter-parent-2.2.0.M6.pom and &#39;parent.relativePath&#39; points at no local POM @ line 4, column 11\r\n @\r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR]   The project com.demo.microservices:service:0.0.1-SNAPSHOT (C:\\Users\\milan\\service\\pom.xml) has 1 error\r\n[ERROR]     Non-resolvable parent POM for com.demo.microservices:service:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.2.0.M6 from/to spring-milestones (https://repo.spring.io/milestone): transfer failed for https://repo.spring.io/milestone/org/springframework/boot/spring-boot-starter-parent/2.2.0.M6/spring-boot-starter-parent-2.2.0.M6.pom and &#39;parent.relativePath&#39; points at no local POM @ line 4, column 11: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target -&gt; [Help 2]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n```\r\n\r\nI have found [solution][1] which is working fine.\r\n\r\n - The way it works now is I have to vising (i.e. https://repo.spring.io/milestone or https://repo.maven.apache.org/maven2/) the site mention in error via browser and then have to export certificate from there (as shown in image below) and load into `lib\\security\\cacert` using `keytool` every time I get this `PKIX build errors.\r\n - Some times I have to visit the same site again https://repo.maven.apache.org/maven2/ and need to redownload the certificate and insert into `lib\\security\\cacert` using `keytool` as described in [solution][1].\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIs there any solution, That can resolve this issue once and for all ?\r\n\r\n\r\n**System** :\r\n```\r\nApache Maven 3.8.4 \r\nMaven home: C:\\apache-maven-3.8.4\r\nJava version: 17.0.1, vendor: Eclipse Adoptium, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.1.12-hotspot\r\nDefault locale: en_IN, platform encoding: Cp1252\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ#answer-46195965\r\n  [2]: https://i.stack.imgur.com/sG3mh.png","title":"Repeatedly getting &quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I have been facing this annoying issue of certificate during <code>mvn clean install</code> execution.</p>\n<pre><code>PS C:\\Users\\milan\\service&gt; mvn clean install\n[INFO] Scanning for projects...\nDownloading from spring-milestones: https://repo.spring.io/milestone/org/springframework/boot/spring-boot-starter-parent/2.2.0.M6/spring-boot-starter-parent-2.2.0.M6.pom\nDownloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.2.0.M6/spring-boot-starter-parent-2.2.0.M6.pom\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[FATAL] Non-resolvable parent POM for com.demo.microservices:service:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.2.0.M6 from/to spring-milestones (https://repo.spring.io/milestone): transfer failed for https://repo.spring.io/milestone/org/springframework/boot/spring-boot-starter-parent/2.2.0.M6/spring-boot-starter-parent-2.2.0.M6.pom and 'parent.relativePath' points at no local POM @ line 4, column 11\n @\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]\n[ERROR]   The project com.demo.microservices:service:0.0.1-SNAPSHOT (C:\\Users\\milan\\service\\pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for com.demo.microservices:service:0.0.1-SNAPSHOT: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.2.0.M6 from/to spring-milestones (https://repo.spring.io/milestone): transfer failed for https://repo.spring.io/milestone/org/springframework/boot/spring-boot-starter-parent/2.2.0.M6/spring-boot-starter-parent-2.2.0.M6.pom and 'parent.relativePath' points at no local POM @ line 4, column 11: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target -&gt; [Help 2]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\n</code></pre>\n<p>I have found <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ#answer-46195965\">solution</a> which is working fine.</p>\n<ul>\n<li>The way it works now is I have to vising (i.e. <a href=\"https://repo.spring.io/milestone\" rel=\"nofollow noreferrer\">https://repo.spring.io/milestone</a> or <a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/</a>) the site mention in error via browser and then have to export certificate from there (as shown in image below) and load into <code>lib\\security\\cacert</code> using <code>keytool</code> every time I get this `PKIX build errors.</li>\n<li>Some times I have to visit the same site again <a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/</a> and need to redownload the certificate and insert into <code>lib\\security\\cacert</code> using <code>keytool</code> as described in <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ#answer-46195965\">solution</a>.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/sG3mh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sG3mh.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any solution, That can resolve this issue once and for all ?</p>\n<p><strong>System</strong> :</p>\n<pre><code>Apache Maven 3.8.4 \nMaven home: C:\\apache-maven-3.8.4\nJava version: 17.0.1, vendor: Eclipse Adoptium, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.1.12-hotspot\nDefault locale: en_IN, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n"},{"tags":["java","minio"],"answers":[{"tags":[],"owner":{"account_id":8461045,"reputation":345,"user_id":6346785,"display_name":"Jafar Amini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650893405,"creation_date":1650396673,"answer_id":71930345,"question_id":67527550,"body_markdown":"If you want to create an empty directory with minio and java you can do as below:\r\n\r\n    minioClient.putObject(\r\n                PutObjectArgs.builder()\r\n                        .bucket(bucketName)\r\n                        .object(&quot;dir1/dir2/dir3/&quot;)\r\n                        .stream(new ByteArrayInputStream(new byte[]{}), 0, -1)\r\n                        .build());\r\n\r\nwhich creates an empty `dir3`, and be aware to end your given path with `&quot;/&quot;`.\r\n","title":"How to create empty folder/object or new file in new folder (not upload) in Minio using Java Api","body":"<p>If you want to create an empty directory with minio and java you can do as below:</p>\n<pre><code>minioClient.putObject(\n            PutObjectArgs.builder()\n                    .bucket(bucketName)\n                    .object(&quot;dir1/dir2/dir3/&quot;)\n                    .stream(new ByteArrayInputStream(new byte[]{}), 0, -1)\n                    .build());\n</code></pre>\n<p>which creates an empty <code>dir3</code>, and be aware to end your given path with <code>&quot;/&quot;</code>.</p>\n"}],"owner":{"account_id":3816358,"reputation":553,"user_id":3165644,"accept_rate":0,"display_name":"Mihir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1650893405,"creation_date":1620950291,"question_id":67527550,"body_markdown":"I am using Java API (https://docs.min.io/docs/java-client-api-reference.html) to use Minio Client.\r\n\r\nI want to create a new folder and a new file (empty or sample text) in existing bucket. How do I do it?\r\nPlease note that I do not want to upload any existing file from local.\r\n\r\nI am aware of below command:\r\n\r\n    minioClient.putObject(bucketName,objectName, &quot;/path/to/file/object.txt&quot;);\r\n\r\nBut unlike above, **I do not have** &quot;/path/to/file/object.txt&quot; i.e. I want to create the new file directly in minio.\r\n\r\nI saw some example in Python SDK:\r\n\r\n    client.put_object(\r\n    &quot;my-bucket&quot;, &quot;my-object&quot;, io.BytesIO(b&quot;hello&quot;), 5,\r\n    )\r\n\r\nI would be fine with above but I need it in Java API? What does putObject (in Java) expects for above example?","title":"How to create empty folder/object or new file in new folder (not upload) in Minio using Java Api","body":"<p>I am using Java API (<a href=\"https://docs.min.io/docs/java-client-api-reference.html\" rel=\"nofollow noreferrer\">https://docs.min.io/docs/java-client-api-reference.html</a>) to use Minio Client.</p>\n<p>I want to create a new folder and a new file (empty or sample text) in existing bucket. How do I do it?\nPlease note that I do not want to upload any existing file from local.</p>\n<p>I am aware of below command:</p>\n<pre><code>minioClient.putObject(bucketName,objectName, &quot;/path/to/file/object.txt&quot;);\n</code></pre>\n<p>But unlike above, <strong>I do not have</strong> &quot;/path/to/file/object.txt&quot; i.e. I want to create the new file directly in minio.</p>\n<p>I saw some example in Python SDK:</p>\n<pre><code>client.put_object(\n&quot;my-bucket&quot;, &quot;my-object&quot;, io.BytesIO(b&quot;hello&quot;), 5,\n)\n</code></pre>\n<p>I would be fine with above but I need it in Java API? What does putObject (in Java) expects for above example?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","singleton"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1650893155,"post_id":72000223,"comment_id":127223948,"body_markdown":"they are singletons. only one instance that is reused","body":"they are singletons. only one instance that is reused"},{"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"score":0,"creation_date":1650894079,"post_id":72000223,"comment_id":127224351,"body_markdown":"Thanks @Stultuske, I know the `Adaptor` is singleton, but the `Manager` bean is not. So you mean even though the `Manager` bean is prototype, only one instance will be created?","body":"Thanks @Stultuske, I know the <code>Adaptor</code> is singleton, but the <code>Manager</code> bean is not. So you mean even though the <code>Manager</code> bean is prototype, only one instance will be created?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1650952438,"post_id":72000223,"comment_id":127238840,"body_markdown":"Prototypes should indeed return a different instance. haven&#39;t used it myself, personally, since the need never has come up to do so","body":"Prototypes should indeed return a different instance. haven&#39;t used it myself, personally, since the need never has come up to do so"}],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650892984,"creation_date":1650892984,"answer_id":72000301,"question_id":72000223,"body_markdown":"If you don&#39;t have any other injection points, where you inject a Manager instance, then you will only have one instance in the application context, that&#39;s correct. ","title":"How many instance(s) of @Autowired &quot;prototype&quot; bean is(are) created during the usage of a @Component","body":"<p>If you don't have any other injection points, where you inject a Manager instance, then you will only have one instance in the application context, that's correct.</p>\n"},{"tags":[],"owner":{"account_id":25084421,"reputation":141,"user_id":18936800,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650893259,"creation_date":1650893259,"answer_id":72000364,"question_id":72000223,"body_markdown":"@Autowire behaves in the same way as ApplicationContext.getBean\r\n\r\nIt creates a prototype bean for each autowired instance. you can see that the prototype object in two singletons has a different identifier[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iEKU3.png\r\n\r\nSo each singleton has its own prototype instance. It doesn&#39;t have any difference if you do it with @Autowire in the constructor or field.\r\nDo Autowire on constructor is just more convenient way to avoid annotation duplication.\r\n\r\nP.S. To define scope is better to use\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Scope(BeanDefinition.SCOPE_PROTOTYPE)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How many instance(s) of @Autowired &quot;prototype&quot; bean is(are) created during the usage of a @Component","body":"<p>@Autowire behaves in the same way as ApplicationContext.getBean</p>\n<p>It creates a prototype bean for each autowired instance. you can see that the prototype object in two singletons has a different identifier<a href=\"https://i.stack.imgur.com/iEKU3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iEKU3.png\" alt=\"enter image description here\" /></a></p>\n<p>So each singleton has its own prototype instance. It doesn't have any difference if you do it with @Autowire in the constructor or field.\nDo Autowire on constructor is just more convenient way to avoid annotation duplication.</p>\n<p>P.S. To define scope is better to use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scope(BeanDefinition.SCOPE_PROTOTYPE)\n</code></pre>\n\n"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72000364,"answer_count":2,"score":0,"last_activity_date":1650893259,"creation_date":1650892607,"question_id":72000223,"body_markdown":"I have a `Manager`class annotated with `@Component`  and `@Scope`\r\n\r\n    @Component     \r\n    @Scope(value = &quot;prototype&quot;)     \r\n    public class Manager {\r\n       ...\r\n    }\r\nSo I expect a new instance of the `Manager` bean will be created each time the bean is requested.\r\n\r\nThen I have an `Adapter` class which uses this `Manager` bean. To use it, I have two ways of Autowire: 1. on the property or 2. on the constructor:\r\n\r\n    @Component     \r\n    public class Adapter {\r\n        @Autowired     \r\n        Manager m_Manager;\r\n    \r\n        ...\r\n    }\r\n\r\nOr\r\n\r\n    @Component     \r\n    public class Adapter {\r\n        Manager m_manager;\r\n\r\n        @Autowired     \r\n        public Adapter(Manager manager) {\r\n            m_manager = manager;\r\n        }\r\n    \r\n        ...\r\n    }\r\nSince the `Adaptor` class is a singleton bean, so both `@Autowire` the `Manager`on the property or on the constructor will only create one instance of the `Manager`? Meaning `Manager`bean is actually used as a singleton bean instead of prototype bean, right?\r\n","title":"How many instance(s) of @Autowired &quot;prototype&quot; bean is(are) created during the usage of a @Component","body":"<p>I have a <code>Manager</code>class annotated with <code>@Component</code>  and <code>@Scope</code></p>\n<pre><code>@Component     \n@Scope(value = &quot;prototype&quot;)     \npublic class Manager {\n   ...\n}\n</code></pre>\n<p>So I expect a new instance of the <code>Manager</code> bean will be created each time the bean is requested.</p>\n<p>Then I have an <code>Adapter</code> class which uses this <code>Manager</code> bean. To use it, I have two ways of Autowire: 1. on the property or 2. on the constructor:</p>\n<pre><code>@Component     \npublic class Adapter {\n    @Autowired     \n    Manager m_Manager;\n\n    ...\n}\n</code></pre>\n<p>Or</p>\n<pre><code>@Component     \npublic class Adapter {\n    Manager m_manager;\n\n    @Autowired     \n    public Adapter(Manager manager) {\n        m_manager = manager;\n    }\n\n    ...\n}\n</code></pre>\n<p>Since the <code>Adaptor</code> class is a singleton bean, so both <code>@Autowire</code> the <code>Manager</code>on the property or on the constructor will only create one instance of the <code>Manager</code>? Meaning <code>Manager</code>bean is actually used as a singleton bean instead of prototype bean, right?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1650882723,"post_id":71993665,"comment_id":127220332,"body_markdown":"Why do you have all this custom code when all this functionality is already built into spring security?","body":"Why do you have all this custom code when all this functionality is already built into spring security?"}],"answers":[{"tags":[],"owner":{"account_id":3578864,"reputation":474,"user_id":2987525,"display_name":"RichieK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650893115,"creation_date":1650893115,"answer_id":72000326,"question_id":71993665,"body_markdown":"Im not quite sure if this is what you are looking for, but If you want to somehow customize the messages from failed authentication have a look on `AuthenticationEntryPoint` like in https://www.baeldung.com/spring-security-basic-authentication. There you can react on the thrown exception and customize what message and codes to return.","title":"Authorization failure in Springboot returns empty body with 403 status message","body":"<p>Im not quite sure if this is what you are looking for, but If you want to somehow customize the messages from failed authentication have a look on <code>AuthenticationEntryPoint</code> like in <a href=\"https://www.baeldung.com/spring-security-basic-authentication\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-basic-authentication</a>. There you can react on the thrown exception and customize what message and codes to return.</p>\n"}],"owner":{"account_id":6531376,"reputation":1209,"user_id":5052406,"accept_rate":20,"display_name":"Shahid Sarwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650893115,"creation_date":1650850461,"question_id":71993665,"body_markdown":"I have implemented a custom exception handler that handles all the exception that I am throwing:\r\n\r\n    @ControllerAdvice\r\n    public class AppExceptionHandler {\r\n    \t\r\n    \r\n    \t@ExceptionHandler(value = {UserServiceException.class})\r\n    \tpublic ResponseEntity&lt;Object&gt;handleUserServiceException(\r\n    \t\t\t\t\t\t\tUserServiceException ex, WebRequest request){\r\n    \t\t\r\n    \t\tErrorMessage errorMessage = new ErrorMessage(new Date(), ex.getMessage());\r\n    \t\t\r\n    \t\treturn new ResponseEntity&lt;&gt;(errorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR );\r\n    \t}\r\n    \t\r\n    \t//A universal exception handling method\r\n    \t@ExceptionHandler(value = {Exception.class})\r\n    \tpublic ResponseEntity&lt;Object&gt;handleUserOtherExceptions(Exception ex, WebRequest request){\r\n    \t\t\r\n    \t\tErrorMessage errorMessage = new ErrorMessage(new Date(), ex.getMessage());\r\n    \t\t\r\n    \t\treturn new ResponseEntity&lt;&gt;(errorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR );\r\n    \t}\r\n    \r\n    }\r\n\r\nThe Universal exception handler method doesn&#39;t gets called for 403 status response, the response body is empty but I want to see a response body.\r\n\r\nBelow is my Security class:\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurity extends WebSecurityConfigurerAdapter{\r\n    \t\r\n    \tprivate final UserService userService;\r\n    \tprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    //\t@Autowired\r\n    //\tAuthenticationFailureHandler authenticationFailureHandler;\r\n    \t\r\n    \tpublic WebSecurity(UserService userService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n    \t\tthis.userService = userService;\r\n    \t\tthis.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.csrf().disable().authorizeRequests()\r\n    \t\t.antMatchers(HttpMethod.POST, SecurityConstants.SIGN_UP_URL)\r\n    \t\t.permitAll()\r\n    \t\t.anyRequest()\r\n    \t\t.authenticated()\r\n    \t\t.and()\r\n    \t\t.addFilter(getAuthenticationFilter())\r\n    \t\t.addFilter(new AuthorizationFilter(authenticationManager()))\r\n    \t\t.sessionManagement()\r\n    \t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \t\tauth.userDetailsService(userService)\r\n    \t\t.passwordEncoder(bCryptPasswordEncoder);\r\n    \t}\t\r\n    \t\r\n    \tpublic AuthenticationFilter getAuthenticationFilter() throws Exception{\r\n    \t\tfinal AuthenticationFilter filter = new AuthenticationFilter(authenticationManager());\r\n    \t\tfilter.setFilterProcessesUrl(&quot;/users/login&quot;);\r\n    \t\treturn filter;\r\n    \t}\r\n\r\n\r\nBelow is my AuthenticationFilter:\r\n\r\n\r\n    public class AuthenticationFilter extends UsernamePasswordAuthenticationFilter{\r\n    \t\r\n    \tprivate final AuthenticationManager authenticationManager;\r\n    \t\r\n    \tpublic AuthenticationFilter(AuthenticationManager authenticationManager) {\r\n    \t\tthis.authenticationManager = authenticationManager;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Authentication attemptAuthentication(HttpServletRequest req, HttpServletResponse res)\r\n    \t\t\tthrows AuthenticationException {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tUserLoginRequestModel creds = new ObjectMapper()\r\n    \t\t\t\t\t.readValue(req.getInputStream(), UserLoginRequestModel.class);\r\n    \t\t\t\r\n    \t\t\treturn authenticationManager.authenticate(\r\n    \t\t\t\t\tnew UsernamePasswordAuthenticationToken(\r\n    \t\t\t\t\t\t\tcreds.getEmail(), creds.getPassword(), new ArrayList&lt;&gt;()));\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tcatch (IOException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void successfulAuthentication(HttpServletRequest req\r\n    \t\t\t, HttpServletResponse res\r\n    \t\t\t, FilterChain chain\r\n    \t\t\t, Authentication auth)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\t\r\n    \t\tString userName = ((User) auth.getPrincipal()).getUsername();\r\n    \t\tString token = Jwts.builder()\r\n    \t\t\t\t.setSubject(userName)\r\n    \t\t\t\t.setExpiration(new Date(System.currentTimeMillis() + SecurityConstants.EXPIRATION_TIME))\r\n    \t\t\t\t.signWith(SignatureAlgorithm.HS512, SecurityConstants.getTokenSecret())\r\n    \t\t\t\t.compact();\r\n    \t\t\r\n    \t\tUserService userService = (UserService) SpringApplicationContext.getBean(&quot;userServiceImpl&quot;);\r\n    \t\tUserDto userDto = userService.getUser(userName);\r\n    \t\t\r\n    \t\tres.addHeader(SecurityConstants.HEADER_STRING, SecurityConstants.TOKEN_PREFIX + token);\r\n    \t\tres.addHeader(SecurityConstants.USER_ID, userDto.getUserId());\r\n    \t}\r\n    }\r\n\r\nBelow is my AuthorizationFilter:\r\n\r\n\r\n    public class AuthorizationFilter extends BasicAuthenticationFilter {\r\n    \r\n    \tpublic AuthorizationFilter(AuthenticationManager authenticationManager) {\r\n    \t\tsuper(authenticationManager);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\tString header = request.getHeader(SecurityConstants.HEADER_STRING);\r\n    \t\t\r\n    \t\tif(header == null || !header.startsWith(SecurityConstants.TOKEN_PREFIX)) {\r\n    \t\t\tchain.doFilter(request, response);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tUsernamePasswordAuthenticationToken authentication = getAuthentication(request);\r\n    \t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n    \t\tchain.doFilter(request, response);\r\n    \t}\r\n    \t\r\n    \tprivate UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest request) {\r\n    \t\tString token = request.getHeader(SecurityConstants.HEADER_STRING);\r\n    \t\t\r\n    \t\tif(token != null) {\r\n    \t\t\ttoken = token.replace(SecurityConstants.TOKEN_PREFIX, &quot;&quot;);\r\n    \t\t\t\r\n    \t\t\tString user = Jwts.parser()\r\n    \t\t\t\t\t.setSigningKey(SecurityConstants.getTokenSecret())\r\n    \t\t\t\t\t.parseClaimsJws(token)\r\n    \t\t\t\t\t.getBody()\r\n    \t\t\t\t\t.getSubject();\r\n    \t\t\t\r\n    \t\t\tif(user != null) {\r\n    \t\t\t\treturn new UsernamePasswordAuthenticationToken(user, null, new ArrayList&lt;&gt;());\r\n    \t\t\t}\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nBelow is my postman response (As you can see the body is empty[![enter image description here][1]][1]\r\n\r\n\r\n\r\nI want Spring to handle all other exceptions by calling the overriding `@ExceptionHandler` I have written in the above `AppExceptionHandler` class.\r\n\r\nAs you can see the response body is empty. How do I return the default or custom object for response body?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YDOm4.png","title":"Authorization failure in Springboot returns empty body with 403 status message","body":"<p>I have implemented a custom exception handler that handles all the exception that I am throwing:</p>\n<pre><code>@ControllerAdvice\npublic class AppExceptionHandler {\n    \n\n    @ExceptionHandler(value = {UserServiceException.class})\n    public ResponseEntity&lt;Object&gt;handleUserServiceException(\n                            UserServiceException ex, WebRequest request){\n        \n        ErrorMessage errorMessage = new ErrorMessage(new Date(), ex.getMessage());\n        \n        return new ResponseEntity&lt;&gt;(errorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR );\n    }\n    \n    //A universal exception handling method\n    @ExceptionHandler(value = {Exception.class})\n    public ResponseEntity&lt;Object&gt;handleUserOtherExceptions(Exception ex, WebRequest request){\n        \n        ErrorMessage errorMessage = new ErrorMessage(new Date(), ex.getMessage());\n        \n        return new ResponseEntity&lt;&gt;(errorMessage, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR );\n    }\n\n}\n</code></pre>\n<p>The Universal exception handler method doesn't gets called for 403 status response, the response body is empty but I want to see a response body.</p>\n<p>Below is my Security class:</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter{\n    \n    private final UserService userService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n//  @Autowired\n//  AuthenticationFailureHandler authenticationFailureHandler;\n    \n    public WebSecurity(UserService userService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.userService = userService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests()\n        .antMatchers(HttpMethod.POST, SecurityConstants.SIGN_UP_URL)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .addFilter(getAuthenticationFilter())\n        .addFilter(new AuthorizationFilter(authenticationManager()))\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n    \n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService)\n        .passwordEncoder(bCryptPasswordEncoder);\n    }   \n    \n    public AuthenticationFilter getAuthenticationFilter() throws Exception{\n        final AuthenticationFilter filter = new AuthenticationFilter(authenticationManager());\n        filter.setFilterProcessesUrl(&quot;/users/login&quot;);\n        return filter;\n    }\n</code></pre>\n<p>Below is my AuthenticationFilter:</p>\n<pre><code>public class AuthenticationFilter extends UsernamePasswordAuthenticationFilter{\n    \n    private final AuthenticationManager authenticationManager;\n    \n    public AuthenticationFilter(AuthenticationManager authenticationManager) {\n        this.authenticationManager = authenticationManager;\n    }\n    \n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest req, HttpServletResponse res)\n            throws AuthenticationException {\n        \n        try {\n            UserLoginRequestModel creds = new ObjectMapper()\n                    .readValue(req.getInputStream(), UserLoginRequestModel.class);\n            \n            return authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(\n                            creds.getEmail(), creds.getPassword(), new ArrayList&lt;&gt;()));\n            \n        }\n        catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        \n    }\n    \n    @Override\n    protected void successfulAuthentication(HttpServletRequest req\n            , HttpServletResponse res\n            , FilterChain chain\n            , Authentication auth)\n            throws IOException, ServletException {\n        \n        String userName = ((User) auth.getPrincipal()).getUsername();\n        String token = Jwts.builder()\n                .setSubject(userName)\n                .setExpiration(new Date(System.currentTimeMillis() + SecurityConstants.EXPIRATION_TIME))\n                .signWith(SignatureAlgorithm.HS512, SecurityConstants.getTokenSecret())\n                .compact();\n        \n        UserService userService = (UserService) SpringApplicationContext.getBean(&quot;userServiceImpl&quot;);\n        UserDto userDto = userService.getUser(userName);\n        \n        res.addHeader(SecurityConstants.HEADER_STRING, SecurityConstants.TOKEN_PREFIX + token);\n        res.addHeader(SecurityConstants.USER_ID, userDto.getUserId());\n    }\n}\n</code></pre>\n<p>Below is my AuthorizationFilter:</p>\n<pre><code>public class AuthorizationFilter extends BasicAuthenticationFilter {\n\n    public AuthorizationFilter(AuthenticationManager authenticationManager) {\n        super(authenticationManager);\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        String header = request.getHeader(SecurityConstants.HEADER_STRING);\n        \n        if(header == null || !header.startsWith(SecurityConstants.TOKEN_PREFIX)) {\n            chain.doFilter(request, response);\n            return;\n        }\n        \n        UsernamePasswordAuthenticationToken authentication = getAuthentication(request);\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        chain.doFilter(request, response);\n    }\n    \n    private UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest request) {\n        String token = request.getHeader(SecurityConstants.HEADER_STRING);\n        \n        if(token != null) {\n            token = token.replace(SecurityConstants.TOKEN_PREFIX, &quot;&quot;);\n            \n            String user = Jwts.parser()\n                    .setSigningKey(SecurityConstants.getTokenSecret())\n                    .parseClaimsJws(token)\n                    .getBody()\n                    .getSubject();\n            \n            if(user != null) {\n                return new UsernamePasswordAuthenticationToken(user, null, new ArrayList&lt;&gt;());\n            }       \n        }\n        \n        return null;\n    }\n}\n</code></pre>\n<p>Below is my postman response (As you can see the body is empty<a href=\"https://i.stack.imgur.com/YDOm4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YDOm4.png\" alt=\"enter image description here\" /></a></p>\n<p>I want Spring to handle all other exceptions by calling the overriding <code>@ExceptionHandler</code> I have written in the above <code>AppExceptionHandler</code> class.</p>\n<p>As you can see the response body is empty. How do I return the default or custom object for response body?</p>\n"},{"tags":["java","json","token"],"comments":[{"owner":{"account_id":2747887,"reputation":1764,"user_id":2367906,"accept_rate":73,"display_name":"adnan_e"},"score":0,"creation_date":1650893028,"post_id":72000152,"comment_id":127223892,"body_markdown":"Iterate through the keys.","body":"Iterate through the keys."}],"answers":[{"tags":[],"owner":{"account_id":18824026,"reputation":219,"user_id":13729386,"display_name":"Navneet agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650892651,"creation_date":1650892651,"answer_id":72000227,"question_id":72000152,"body_markdown":"Convert this JSON to  a Map&lt;String,Object&gt;.\r\nThen you can easily do a getKey() to get the strange(UUId) key, and map.get(key) will give you the value for the key.\r\n","title":"Extract a value from unstructured JSON response","body":"<p>Convert this JSON to  a Map&lt;String,Object&gt;.\nThen you can easily do a getKey() to get the strange(UUId) key, and map.get(key) will give you the value for the key.</p>\n"}],"owner":{"account_id":25087793,"reputation":3,"user_id":18939792,"display_name":"Shimi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72000227,"answer_count":1,"score":0,"last_activity_date":1650892851,"creation_date":1650892385,"question_id":72000152,"body_markdown":"My JSON response contains the token in a strange way as marked with the red line in the picture\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow we can extract it without converting it to string and parsing the text? we want to extract it as is in this JSON format \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QEZ9g.png","title":"Extract a value from unstructured JSON response","body":"<p>My JSON response contains the token in a strange way as marked with the red line in the picture</p>\n<p><a href=\"https://i.stack.imgur.com/QEZ9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QEZ9g.png\" alt=\"enter image description here\" /></a></p>\n<p>How we can extract it without converting it to string and parsing the text? we want to extract it as is in this JSON format</p>\n"},{"tags":["java","android","compiler-errors","dex"],"answers":[{"tags":[],"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"down_vote_count":0,"up_vote_count":280,"is_accepted":true,"score":280,"last_activity_date":1650892792,"creation_date":1531589024,"answer_id":51341735,"question_id":51341627,"body_markdown":"In root `build.gradle` file do something like:\r\n```groovy\r\ndependencies {\r\n\r\n    // ...\r\n\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n}\r\n\r\nandroid {\r\n    defaultConfig {\r\n\r\n        // ...\r\n\r\n        multiDexEnabled true\r\n    }\r\n}\r\n```\r\n\r\nMore details here: https://stackoverflow.com/questions/48249633/errorcannot-fit-requested-classes-in-a-single-dex-file-try-supplying-a-main-dex","title":"Android gives error &quot;Cannot fit requested classes in a single dex file&quot;","body":"<p>In root <code>build.gradle</code> file do something like:</p>\n<pre><code>dependencies {\n\n    // ...\n\n    implementation 'androidx.multidex:multidex:2.0.1'\n}\n\nandroid {\n    defaultConfig {\n\n        // ...\n\n        multiDexEnabled true\n    }\n}\n</code></pre>\n<p>More details here: <a href=\"https://stackoverflow.com/questions/48249633/errorcannot-fit-requested-classes-in-a-single-dex-file-try-supplying-a-main-dex\">Error:Cannot fit requested classes in a single dex file.Try supplying a main-dex list. # methods: 72477 &gt; 65536</a></p>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1615209944,"creation_date":1577718369,"answer_id":59532889,"question_id":51341627,"body_markdown":"Multidex is not always the solution to the problem, is true that it will generate more dex files to fit your method count, but be sure to not import more methods that you need because this in long term will make your builds slower than before.\r\n\r\nFor example, if you just need to use the location library from play services, you have two options\r\n\r\nFirst one is implementing the whole play-services libraries that will come with location\r\n\r\n    implementation &#39;com.google.android.gms:play-services:11.8.0&#39;\r\n\r\nThese whole libraries could have more than 40.000+ methods (is only an estimative, I don&#39;t really know the total count), being close to reaching the 65536 limit methods.\r\n\r\nInstead you should be targeting only the libraries you will use instead of the whole bundle of libraries\r\n\r\nin this case\r\n\r\n    implementation &#39;com.google.android.gms:play-services-location:11.8.0&#39;\r\n\r\ncould have just 50 - 100 methods to work with, which will be better at build time than loading a whole bunch of methods from the whole library package that you won&#39;t ever use.\r\n\r\nthis is just a tip to avoid getting\r\n\r\n&gt; Cannot fit requested classes in a single dex file.\r\n\r\nFor minSdkVersion above android 5.0 API 20 +\r\n--------------------------------------------\r\n\r\n&gt; Android 5.0 and higher uses a runtime called ART which natively\r\n&gt; supports loading multiple dex files from application APK files. ART\r\n&gt; performs pre-compilation at application install time which scans for\r\n&gt; classes(..N).dex files and compiles them into a single .oat file for\r\n&gt; execution by the Android device. For more information on the Android\r\n&gt; 5.0 runtime, see Introducing ART.\r\n \r\n\r\nIf you are targeting lower devices (Android 4.1 API 16) or before Android 5 (API 20)\r\n------------------------------------------------------------------------\r\n\r\n&gt; Versions of the platform prior to Android 5.0 use the Dalvik runtime\r\n&gt; for executing app code. By default, Dalvik limits apps to a single\r\n&gt; classes.dex bytecode file per APK. In order to get around this\r\n&gt; limitation, you can use the multidex support library, which becomes\r\n&gt; part of the primary DEX file of your app and then manages access to\r\n&gt; the additional DEX files and the code they contain.\r\n\r\nYou will need to use multidex in this last case\r\n\r\n","title":"Android gives error &quot;Cannot fit requested classes in a single dex file&quot;","body":"<p>Multidex is not always the solution to the problem, is true that it will generate more dex files to fit your method count, but be sure to not import more methods that you need because this in long term will make your builds slower than before.</p>\n<p>For example, if you just need to use the location library from play services, you have two options</p>\n<p>First one is implementing the whole play-services libraries that will come with location</p>\n<pre><code>implementation 'com.google.android.gms:play-services:11.8.0'\n</code></pre>\n<p>These whole libraries could have more than 40.000+ methods (is only an estimative, I don't really know the total count), being close to reaching the 65536 limit methods.</p>\n<p>Instead you should be targeting only the libraries you will use instead of the whole bundle of libraries</p>\n<p>in this case</p>\n<pre><code>implementation 'com.google.android.gms:play-services-location:11.8.0'\n</code></pre>\n<p>could have just 50 - 100 methods to work with, which will be better at build time than loading a whole bunch of methods from the whole library package that you won't ever use.</p>\n<p>this is just a tip to avoid getting</p>\n<blockquote>\n<p>Cannot fit requested classes in a single dex file.</p>\n</blockquote>\n<h2>For minSdkVersion above android 5.0 API 20 +</h2>\n<blockquote>\n<p>Android 5.0 and higher uses a runtime called ART which natively\nsupports loading multiple dex files from application APK files. ART\nperforms pre-compilation at application install time which scans for\nclasses(..N).dex files and compiles them into a single .oat file for\nexecution by the Android device. For more information on the Android\n5.0 runtime, see Introducing ART.</p>\n</blockquote>\n<h2>If you are targeting lower devices (Android 4.1 API 16) or before Android 5 (API 20)</h2>\n<blockquote>\n<p>Versions of the platform prior to Android 5.0 use the Dalvik runtime\nfor executing app code. By default, Dalvik limits apps to a single\nclasses.dex bytecode file per APK. In order to get around this\nlimitation, you can use the multidex support library, which becomes\npart of the primary DEX file of your app and then manages access to\nthe additional DEX files and the code they contain.</p>\n</blockquote>\n<p>You will need to use multidex in this last case</p>\n"},{"tags":[],"owner":{"account_id":16512027,"reputation":335,"user_id":11930485,"display_name":"Anthony"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1597847597,"creation_date":1590497378,"answer_id":62022541,"question_id":51341627,"body_markdown":"In build.gradle(app) file:\r\nAdd the following in the dependencies:\r\n\r\n     implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n\r\nAnd add the following in the defaultConfig,\r\n\r\n    multiDexEnabled true\r\n\r\nHope you will find the solution.","title":"Android gives error &quot;Cannot fit requested classes in a single dex file&quot;","body":"<p>In build.gradle(app) file:\nAdd the following in the dependencies:</p>\n<pre><code> implementation 'com.android.support:multidex:1.0.3'\n</code></pre>\n<p>And add the following in the defaultConfig,</p>\n<pre><code>multiDexEnabled true\n</code></pre>\n<p>Hope you will find the solution.</p>\n"},{"tags":[],"owner":{"account_id":984639,"reputation":4560,"user_id":1003942,"display_name":"Gajen Sunthara"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1592514714,"creation_date":1592514714,"answer_id":62459483,"question_id":51341627,"body_markdown":"Running RN 0.62 and this worked for me with successful build. \r\n\r\n**Update build.gradle**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n`classpath(&#39;com.android.support:multidex:1.0.3&#39;)`\r\n\r\n\r\n**Update defaultConfig**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n`multiDexEnabled true`\r\n\r\nAfter those 2 changes, restart the gradle build again. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R6GFg.png\r\n  [2]: https://i.stack.imgur.com/FXK6A.png","title":"Android gives error &quot;Cannot fit requested classes in a single dex file&quot;","body":"<p>Running RN 0.62 and this worked for me with successful build. </p>\n\n<p><strong>Update build.gradle</strong>\n<a href=\"https://i.stack.imgur.com/R6GFg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R6GFg.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>classpath('com.android.support:multidex:1.0.3')</code></p>\n\n<p><strong>Update defaultConfig</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/FXK6A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FXK6A.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>multiDexEnabled true</code></p>\n\n<p>After those 2 changes, restart the gradle build again. </p>\n"},{"tags":[],"owner":{"account_id":15617631,"reputation":173,"user_id":11267417,"display_name":"kamasuPaul"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1598588000,"creation_date":1598588000,"answer_id":63627360,"question_id":51341627,"body_markdown":"\r\n## Recommended solution for android x\r\n\r\n### why the error\r\nWhen your app and the libraries it references exceed 65,536 methods, you encounter a build error that indicates your app has reached the limit of the Android build architecture [more information here][1]\r\n\r\n### solution\r\njust add the multi dex support library to your dependencies in the `buid.gradle (Module: app)` file\r\n\r\n```  \r\ndependencies {\r\n    def multidex_version = &quot;2.0.1&quot;\r\n    implementation &#39;androidx.multidex:multidex:$multidex_version&#39;\r\n}\r\n   \r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/studio/build/multidex","title":"Android gives error &quot;Cannot fit requested classes in a single dex file&quot;","body":"<h2>Recommended solution for android x</h2>\n<h3>why the error</h3>\n<p>When your app and the libraries it references exceed 65,536 methods, you encounter a build error that indicates your app has reached the limit of the Android build architecture <a href=\"https://developer.android.com/studio/build/multidex\" rel=\"nofollow noreferrer\">more information here</a></p>\n<h3>solution</h3>\n<p>just add the multi dex support library to your dependencies in the <code>buid.gradle (Module: app)</code> file</p>\n<pre><code>dependencies {\n    def multidex_version = &quot;2.0.1&quot;\n    implementation 'androidx.multidex:multidex:$multidex_version'\n}\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20059624,"reputation":79,"user_id":14706624,"display_name":"Raghuvansh mani mishra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1607024718,"creation_date":1606988814,"answer_id":65123465,"question_id":51341627,"body_markdown":"This error is comes when you use `deprecated npm` as well as `correct npm` for same purpose","title":"Android gives error &quot;Cannot fit requested classes in a single dex file&quot;","body":"<p>This error is comes when you use <code>deprecated npm</code> as well as <code>correct npm</code> for same purpose</p>\n"},{"tags":[],"owner":{"account_id":2599209,"reputation":42707,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1618752045,"creation_date":1618752045,"answer_id":67149046,"question_id":51341627,"body_markdown":"Update 2021 Android-X and Android Studio 4.XX:\r\n------------\r\n\r\nAdding multiDexEnabled in the default config of your app-level Build.Gradle is enough\r\n\r\n**multiDexEnabled true**\r\n\r\nSee image for reference\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mFL0Z.png\r\n","title":"Android gives error &quot;Cannot fit requested classes in a single dex file&quot;","body":"<h2>Update 2021 Android-X and Android Studio 4.XX:</h2>\n<p>Adding multiDexEnabled in the default config of your app-level Build.Gradle is enough</p>\n<p><strong>multiDexEnabled true</strong></p>\n<p>See image for reference</p>\n<p><a href=\"https://i.stack.imgur.com/mFL0Z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mFL0Z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19324543,"reputation":144,"user_id":14127518,"display_name":"Tawhid Monowar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645011705,"creation_date":1645011705,"answer_id":71141202,"question_id":51341627,"body_markdown":"You can fix this problem by following these steps.\r\n\r\n**Step 1:** Migrate to AndroidX\r\n\r\nRefactor &gt; Migrate to AndroidX\r\n\r\n**Step 2:** Add this dependency in build.gradle file:\r\n\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n\r\n**Step 3:** In build.gradle&#39;s defaultConfig section add:\r\n\r\n    multiDexEnabled true\r\n\r\n","title":"Android gives error &quot;Cannot fit requested classes in a single dex file&quot;","body":"<p>You can fix this problem by following these steps.</p>\n<p><strong>Step 1:</strong> Migrate to AndroidX</p>\n<p>Refactor &gt; Migrate to AndroidX</p>\n<p><strong>Step 2:</strong> Add this dependency in build.gradle file:</p>\n<pre><code>implementation 'androidx.multidex:multidex:2.0.1'\n</code></pre>\n<p><strong>Step 3:</strong> In build.gradle's defaultConfig section add:</p>\n<pre><code>multiDexEnabled true\n</code></pre>\n"}],"owner":{"account_id":10133805,"reputation":2464,"user_id":7486140,"accept_rate":47,"display_name":"KevinB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116980,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":51341735,"answer_count":8,"score":95,"last_activity_date":1650892792,"creation_date":1531588160,"question_id":51341627,"body_markdown":"I don&#39;t know why but it&#39;s impossible to launch my app on my mobile this morning. I get this error message:\n\n&gt; Cannot fit requested classes in a single dex file. Try supplying a\n&gt; main-dex list.\n&gt;\n&gt; \\# methods: 68061 &gt; 65536 Message{kind=ERROR, text=Cannot fit requested classes in a single dex file. Try supplying a main-dex list.\n&gt;\n&gt; \\# methods: 68061 &gt; 65536, sources=[Unknown source file], tool\n\nI&#39;m really new to Android and I don&#39;t understand the problem and what I need to do? And why I get this problem now and not before?\n","title":"Android gives error &quot;Cannot fit requested classes in a single dex file&quot;","body":"<p>I don't know why but it's impossible to launch my app on my mobile this morning. I get this error message:</p>\n<blockquote>\n<p>Cannot fit requested classes in a single dex file. Try supplying a\nmain-dex list.</p>\n<p># methods: 68061 &gt; 65536 Message{kind=ERROR, text=Cannot fit requested classes in a single dex file. Try supplying a main-dex list.</p>\n<p># methods: 68061 &gt; 65536, sources=[Unknown source file], tool</p>\n</blockquote>\n<p>I'm really new to Android and I don't understand the problem and what I need to do? And why I get this problem now and not before?</p>\n"},{"tags":["java","for-loop","java-stream"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1650866154,"post_id":71995000,"comment_id":127215162,"body_markdown":"just check what it does. That should already show you how to convert it.","body":"just check what it does. That should already show you how to convert it."}],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650866653,"creation_date":1650866415,"answer_id":71995042,"question_id":71995000,"body_markdown":"It will something like this:\r\n\r\n    public Optional&lt;Flight&gt; getFlightByFlightNumber(String flightNumber) {\r\n        Flight flightByFlightNumber = null;\r\n        for (Flight flight : flights) {\r\n            //You might want to add a null check here before calling equals method, to avoid NullPointerException\r\n            if (flight.getFlightNumber().equals(flightNumber)) {\r\n                flightByFlightNumber = flight;\r\n                // breaking the loop as we found first match\r\n                break;\r\n            }\r\n        }\r\n        return Optional.ofNullable(flightByFlightNumber);\r\n    }","title":"Convert stream into a for loop java","body":"<p>It will something like this:</p>\n<pre><code>public Optional&lt;Flight&gt; getFlightByFlightNumber(String flightNumber) {\n    Flight flightByFlightNumber = null;\n    for (Flight flight : flights) {\n        //You might want to add a null check here before calling equals method, to avoid NullPointerException\n        if (flight.getFlightNumber().equals(flightNumber)) {\n            flightByFlightNumber = flight;\n            // breaking the loop as we found first match\n            break;\n        }\n    }\n    return Optional.ofNullable(flightByFlightNumber);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650892564,"creation_date":1650892564,"answer_id":72000205,"question_id":71995000,"body_markdown":"Here is one way.\r\n- just iterate over the list until the flight is found and return directly  in an Optional.\r\n- otherwise, return an empty optional when the loop finishes.\r\n```\r\npublic Optional&lt;Flight&gt; getFlightByFlightNumber(String flightNumber) {\r\n\tfor (Flight flight : flights) {\r\n\t\tif (flight.getFlightNumber.equals(flightNumber)) {\r\n\t\t\treturn Optional.of(flight);\r\n\t\t}\r\n\t}\r\n\treturn Optional.empty();\r\n}","title":"Convert stream into a for loop java","body":"<p>Here is one way.</p>\n<ul>\n<li>just iterate over the list until the flight is found and return directly  in an Optional.</li>\n<li>otherwise, return an empty optional when the loop finishes.</li>\n</ul>\n<pre><code>public Optional&lt;Flight&gt; getFlightByFlightNumber(String flightNumber) {\n    for (Flight flight : flights) {\n        if (flight.getFlightNumber.equals(flightNumber)) {\n            return Optional.of(flight);\n        }\n    }\n    return Optional.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":23194895,"reputation":11,"user_id":17290698,"display_name":"Zenkai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1650892564,"creation_date":1650866087,"question_id":71995000,"body_markdown":"I kind of need this stream reverse engineered into a for loop. How would it look?\r\n\r\n    public Optional&lt;Flight&gt; getFlightByFlightNumber(String flightNumber) {\r\n        return flights.stream()\r\n                .filter(flt -&gt; flt.getFlightNumber().equals(flightNumber))\r\n                .findFirst();\r\n    }","title":"Convert stream into a for loop java","body":"<p>I kind of need this stream reverse engineered into a for loop. How would it look?</p>\n<pre><code>public Optional&lt;Flight&gt; getFlightByFlightNumber(String flightNumber) {\n    return flights.stream()\n            .filter(flt -&gt; flt.getFlightNumber().equals(flightNumber))\n            .findFirst();\n}\n</code></pre>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1650891751,"post_id":71999956,"comment_id":127223390,"body_markdown":"you are only returning &quot;&quot; you&#39;ll need to build that String, not print those symbols in that method","body":"you are only returning &quot;&quot; you&#39;ll need to build that String, not print those symbols in that method"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1650891807,"post_id":71999956,"comment_id":127223406,"body_markdown":"you should be checking the modulo of `i` not `length`","body":"you should be checking the modulo of <code>i</code> not <code>length</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650891902,"post_id":71999956,"comment_id":127223444,"body_markdown":"@Stultuske is right. @Bentaye is right too. Check out `StringBuilder.append`","body":"@Stultuske is right. @Bentaye is right too. Check out <code>StringBuilder.append</code>"},{"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"score":0,"creation_date":1650892216,"post_id":71999956,"comment_id":127223577,"body_markdown":"Hi @Stultuske =), I made same thing in my previous task, where I had to return rectangle, it worked fine, please check the following code","body":"Hi @Stultuske =), I made same thing in my previous task, where I had to return rectangle, it worked fine, please check the following code"},{"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"score":0,"creation_date":1650892255,"post_id":71999956,"comment_id":127223594,"body_markdown":"public String drawQuad(int n) {\n\n\t\t\tint i = 0;\n\n\t\t\twhile (i++ &lt; n) {\n\t\t\t\tint j = 0;\n\n\t\t\t\twhile (j++ &lt; n) {\n\t\t\t\t\tSystem.out.print(&quot;*&quot;);\n\t\t\t\t}\n\t\t\t\tSystem.out.println();\n\t\t\t}\n\t\t\treturn new String(&quot;&quot;);\n\n    public static void main(String[] args) {\n        ArlanHelper helper = new ArlanHelper();\n        //Should be:\n        //XX\n        //XX\n        //XX\n        System.out.println(helper.drawRect(2, 3, &#39;X&#39;));\n    }\n}","body":"public String drawQuad(int n) {  \t\t\tint i = 0;  \t\t\twhile (i++ &lt; n) { \t\t\t\tint j = 0;  \t\t\t\twhile (j++ &lt; n) { \t\t\t\t\tSystem.out.print(&quot;*&quot;); \t\t\t\t} \t\t\t\tSystem.out.println(); \t\t\t} \t\t\treturn new String(&quot;&quot;);      public static void main(String[] args) {         ArlanHelper helper = new ArlanHelper();         //Should be:         //XX         //XX         //XX         System.out.println(helper.drawRect(2, 3, &#39;X&#39;));     } }"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1650892386,"post_id":71999956,"comment_id":127223660,"body_markdown":"@OrestDymarchuk if I were your teacher, you would have failed big time, since that code doesn&#39;t do what it should do. All it returns is an empty String","body":"@OrestDymarchuk if I were your teacher, you would have failed big time, since that code doesn&#39;t do what it should do. All it returns is an empty String"},{"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"score":0,"creation_date":1650892627,"post_id":71999956,"comment_id":127223740,"body_markdown":"I will try to solve the previous task using different methods, thanks for the mentioned mistake @Stultuske","body":"I will try to solve the previous task using different methods, thanks for the mentioned mistake @Stultuske"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1650892933,"post_id":71999956,"comment_id":127223847,"body_markdown":"it&#39;s not as much your method you need to change. Instead of printing those symbols, add them to the builder. and return builder.toString(); at the end of the method","body":"it&#39;s not as much your method you need to change. Instead of printing those symbols, add them to the builder. and return builder.toString(); at the end of the method"},{"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"score":0,"creation_date":1650893091,"post_id":71999956,"comment_id":127223923,"body_markdown":"I will check the info regarding the builder.toString(); \nNever use it before. @Stultuske","body":"I will check the info regarding the builder.toString();  Never use it before. @Stultuske"}],"answers":[{"tags":[],"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650892368,"creation_date":1650892368,"answer_id":72000149,"question_id":71999956,"body_markdown":"First of all we&#39;ve two address two issues here as some have already pointed out in the comments beneath your questions.\r\n\r\nYou define in your question that your task is to **return** the final string instead of printing it directly. For such things you can either use a `StringBuiler` (see my example below) or simply concatenate in any other way ( e.g. `&quot;A&quot; + &quot;B&quot; -&gt; &quot;AB&quot;`)\r\n\r\nThe second issue is the iteration itself. You use mod 2 to determine if the value you test is even or not. This part is correct. However you&#39;re always comparing the desired length `length % 2 == 0` instead of the current position `i` of the character to print. Therefore you&#39;ll only ever print `@` or `#` `length`-times depending on the desired length being even (leading to `@`) or odd (leading to `#`).\r\n\r\nBelow you can find my example on how to properly solve your task. Simply exchange `length` within the `if` clause with `i` and concatenate the result and return it.\r\n\r\n     public String drawLine(int length)\r\n    {\r\n        int i = 0;\r\n\r\n        StringBuilder builder = new StringBuilder();\r\n        while ( i &lt; length )\r\n        {\r\n            //I know that the following code will take only the int length, it&#39;s just an idea\r\n            if( i % 2 == 0 )\r\n            {\r\n                i++;\r\n                builder.append( &quot;@&quot; );\r\n            } else\r\n            {\r\n                i++;\r\n                builder.append( &quot;#&quot; );\r\n            }\r\n        }\r\n        return builder.toString();\r\n    }","title":"Return a string with characters that come one after the other using while loop Java","body":"<p>First of all we've two address two issues here as some have already pointed out in the comments beneath your questions.</p>\n<p>You define in your question that your task is to <strong>return</strong> the final string instead of printing it directly. For such things you can either use a <code>StringBuiler</code> (see my example below) or simply concatenate in any other way ( e.g. <code>&quot;A&quot; + &quot;B&quot; -&gt; &quot;AB&quot;</code>)</p>\n<p>The second issue is the iteration itself. You use mod 2 to determine if the value you test is even or not. This part is correct. However you're always comparing the desired length <code>length % 2 == 0</code> instead of the current position <code>i</code> of the character to print. Therefore you'll only ever print <code>@</code> or <code>#</code> <code>length</code>-times depending on the desired length being even (leading to <code>@</code>) or odd (leading to <code>#</code>).</p>\n<p>Below you can find my example on how to properly solve your task. Simply exchange <code>length</code> within the <code>if</code> clause with <code>i</code> and concatenate the result and return it.</p>\n<pre><code> public String drawLine(int length)\n{\n    int i = 0;\n\n    StringBuilder builder = new StringBuilder();\n    while ( i &lt; length )\n    {\n        //I know that the following code will take only the int length, it's just an idea\n        if( i % 2 == 0 )\n        {\n            i++;\n            builder.append( &quot;@&quot; );\n        } else\n        {\n            i++;\n            builder.append( &quot;#&quot; );\n        }\n    }\n    return builder.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72000149,"answer_count":1,"score":0,"last_activity_date":1650892368,"creation_date":1650891654,"question_id":71999956,"body_markdown":"How are you =)\r\n\r\n\r\nI have task to return string with characters &quot;@&quot; &quot;#&quot; one after another with string length of 5 using While loop.\r\n\r\nI have an idea to assign &quot;@&quot; to odd numbers, &quot;#&quot; to even numbers.\r\n\r\nWhere &quot;@&quot; is 0, &quot;#&quot; is 1, &quot;@&quot; is 2, and so on until the end of the length of the line.\r\nUnfortunately, I can&#39;t find information how I can do this.\r\n\r\nPlease check the following code, I hope it will be more clear what I am talking about.\r\n\r\nI will be glad for any hint or advice, thank you :)\r\n\r\n\tpublic String drawLine(int length) {\r\n\t\tint i = 0;\r\n\t\t\r\n\t\t\twhile (i &lt; length) {\r\n\t\t\t\r\n\t\t\t\t//I know that the following code will take only the int length, it&#39;s just an idea\r\n\t\t\t\tif(length % 2 == 0) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tSystem.out.print(&quot;@&quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tSystem.out.print(&quot;#&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\treturn new String(&quot;&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tJustATest helper = new JustATest();\r\n  \r\n        //The result should be @#@#@\r\n\t\tSystem.out.println(helper.drawLine(5));\r\n\t}\r\n","title":"Return a string with characters that come one after the other using while loop Java","body":"<p>How are you =)</p>\n<p>I have task to return string with characters &quot;@&quot; &quot;#&quot; one after another with string length of 5 using While loop.</p>\n<p>I have an idea to assign &quot;@&quot; to odd numbers, &quot;#&quot; to even numbers.</p>\n<p>Where &quot;@&quot; is 0, &quot;#&quot; is 1, &quot;@&quot; is 2, and so on until the end of the length of the line.\nUnfortunately, I can't find information how I can do this.</p>\n<p>Please check the following code, I hope it will be more clear what I am talking about.</p>\n<p>I will be glad for any hint or advice, thank you :)</p>\n<pre><code>public String drawLine(int length) {\n    int i = 0;\n    \n        while (i &lt; length) {\n        \n            //I know that the following code will take only the int length, it's just an idea\n            if(length % 2 == 0) {\n                i++;\n                System.out.print(&quot;@&quot;);\n            }\n            else {\n                i++;\n                System.out.print(&quot;#&quot;);\n            }\n        }\n        \n    return new String(&quot;&quot;);\n}\n\npublic static void main(String[] args) {\n    JustATest helper = new JustATest();\n\n    //The result should be @#@#@\n    System.out.println(helper.drawLine(5));\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1352816955,"creation_date":1352816955,"answer_id":13362504,"question_id":13362427,"body_markdown":"Yes.  \r\n`AtomicReference` guarantees publication.\r\n\r\nHowever, there is no guarantee that a different thread won&#39;t set it a millisecond later.\r\n\r\nNote that if you aren&#39;t calling `compareAndSet()`, an `AtomicReference` is no better than a `volatile` field.","title":"Guarantees of AtomicReference","body":"<p>Yes.<br>\n<code>AtomicReference</code> guarantees publication.</p>\n\n<p>However, there is no guarantee that a different thread won't set it a millisecond later.</p>\n\n<p>Note that if you aren't calling <code>compareAndSet()</code>, an <code>AtomicReference</code> is no better than a <code>volatile</code> field.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1352817051,"creation_date":1352817051,"answer_id":13362526,"question_id":13362427,"body_markdown":"Reading [JavaDoc of `java.util.concurrent.atomic`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/package-summary.html):\n\n&gt; * `get` has the memory effects of reading a `volatile` variable. \n&gt;\n&gt; * `set` has the memory effects of writing (assigning) a `volatile` variable.\n\nSo the guarantees are: `get()` *always* returns the last value passed to `set()`. It doesn&#39;t matter what you do in the meantime, what kind of locks you use, etc. Modifying `volatile` variable (which you effectively do) is guaranteed to be visible by all other threads reading that value.","title":"Guarantees of AtomicReference","body":"<p>Reading <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">JavaDoc of <code>java.util.concurrent.atomic</code></a>:</p>\n<blockquote>\n<ul>\n<li><p><code>get</code> has the memory effects of reading a <code>volatile</code> variable.</p>\n</li>\n<li><p><code>set</code> has the memory effects of writing (assigning) a <code>volatile</code> variable.</p>\n</li>\n</ul>\n</blockquote>\n<p>So the guarantees are: <code>get()</code> <em>always</em> returns the last value passed to <code>set()</code>. It doesn't matter what you do in the meantime, what kind of locks you use, etc. Modifying <code>volatile</code> variable (which you effectively do) is guaranteed to be visible by all other threads reading that value.</p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650892319,"creation_date":1352817162,"answer_id":13362556,"question_id":13362427,"body_markdown":"Actually, your code has a race condition which could cause new data to be lost:\r\n\r\n1. first caller goes into loadNewData and starts loading new data (has semaphore)\r\n2. second caller cannot get semaphore and waits at acquire\r\n3. first caller finishes loading and releases semaphore (but doesn&#39;t return new data yet)\r\n4. second caller acquires semaphore, calls `ref.get()` and gets _old_ data\r\n5. first caller returns new data which is passed to `ref.set()`\r\n6. second caller return _old_ data which overwrites new data when passed to `ref.set()`\r\n\r\nSince `someMethod()` is _always_ loading new data and you _always_ want callers to wait while new data is loading, all this extra stuff is useless.  just use a simple synchronized block (or Lock) around the whole block and ditch the atomic reference.  according to the linked post, it seems like you only ever want to do this once, so use an initialized flag.\r\n\r\n    private boolean _initialized;\r\n\r\n    public synchronized void loadLatestData() {\r\n      if(!_initialized) {\r\n          // load latest data ...\r\n          _initialized = true;\r\n      }\r\n    }\r\n","title":"Guarantees of AtomicReference","body":"<p>Actually, your code has a race condition which could cause new data to be lost:</p>\n<ol>\n<li>first caller goes into loadNewData and starts loading new data (has semaphore)</li>\n<li>second caller cannot get semaphore and waits at acquire</li>\n<li>first caller finishes loading and releases semaphore (but doesn't return new data yet)</li>\n<li>second caller acquires semaphore, calls <code>ref.get()</code> and gets <em>old</em> data</li>\n<li>first caller returns new data which is passed to <code>ref.set()</code></li>\n<li>second caller return <em>old</em> data which overwrites new data when passed to <code>ref.set()</code></li>\n</ol>\n<p>Since <code>someMethod()</code> is <em>always</em> loading new data and you <em>always</em> want callers to wait while new data is loading, all this extra stuff is useless.  just use a simple synchronized block (or Lock) around the whole block and ditch the atomic reference.  according to the linked post, it seems like you only ever want to do this once, so use an initialized flag.</p>\n<pre><code>private boolean _initialized;\n\npublic synchronized void loadLatestData() {\n  if(!_initialized) {\n      // load latest data ...\n      _initialized = true;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352818570,"creation_date":1352817838,"answer_id":13362766,"question_id":13362427,"body_markdown":"Atomic variables (including `AtomicReference`) have the same properties as `volatile` fields, in that they establish a happens-before relation across threads.  If one thread _A_ writes a value to a volatile field (or atomic variable) and another thread _B_ reads from that same variable then you can&#39;t necessarily guarantee whether _B_ will or will not see _A_&#39;s change, but you can guarantee that\r\n\r\n - **IF** _B_ sees the value written by _A_\r\n - **THEN** _B_ will also see the results of any writes to _other_ fields (volatile and non-volatile) that _A_ did before it wrote the volatile field.\r\n\r\n","title":"Guarantees of AtomicReference","body":"<p>Atomic variables (including <code>AtomicReference</code>) have the same properties as <code>volatile</code> fields, in that they establish a happens-before relation across threads.  If one thread <em>A</em> writes a value to a volatile field (or atomic variable) and another thread <em>B</em> reads from that same variable then you can't necessarily guarantee whether <em>B</em> will or will not see <em>A</em>'s change, but you can guarantee that</p>\n\n<ul>\n<li><strong>IF</strong> <em>B</em> sees the value written by <em>A</em></li>\n<li><strong>THEN</strong> <em>B</em> will also see the results of any writes to <em>other</em> fields (volatile and non-volatile) that <em>A</em> did before it wrote the volatile field.</li>\n</ul>\n"}],"owner":{"account_id":1136549,"reputation":18926,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2932,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13362556,"answer_count":4,"score":2,"last_activity_date":1650892319,"creation_date":1352816640,"question_id":13362427,"body_markdown":"What are the semantics of an `AtomicReference`?  \r\nIf I do:  \r\n\r\n`AtomicReference&lt;CustomObject&gt; ref = new AtomicReference&lt;CustomObject&gt;();`  \r\n\r\nand then I do:  \r\n\r\n    public void someMethod(){  \r\n     //do something  \r\n    \r\n     ref.set(loadNewData());  \r\n    \r\n    }  \r\n    \r\n    private final Sempahore updatePermit = new Sempahore(1);  \r\n\r\n    private CustomObject loadNewData(){  \r\n         CustomObject obj = null;  \r\n         if (updatePermit.tryAcquire()) {  \r\n            obj = ...; //do the loading and create Object  \r\n            updatePermit.release();  \r\n        } else {  \r\n            //update already running, wait  \r\n            updatePermit.acquire();  \r\n            //release the permit immediately  \r\n            updatePermit.release();  \r\n            obj = ref.get(); //????\r\n        }  \r\n        return obj;    \r\n    }    \r\n\r\nIs there a **guarantee** that on line `obj = ref.get(); //????` the `get` will return the **most** fresh version of `CustomObject`?  \r\nThis is related to the answer of assylias for [post][1]: \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13356702/how-can-i-make-sure-a-method-is-only-called-once-by-multiple-threads","title":"Guarantees of AtomicReference","body":"<p>What are the semantics of an <code>AtomicReference</code>?<br>\nIf I do:  </p>\n\n<p><code>AtomicReference&lt;CustomObject&gt; ref = new AtomicReference&lt;CustomObject&gt;();</code>  </p>\n\n<p>and then I do:  </p>\n\n<pre><code>public void someMethod(){  \n //do something  \n\n ref.set(loadNewData());  \n\n}  \n\nprivate final Sempahore updatePermit = new Sempahore(1);  \n\nprivate CustomObject loadNewData(){  \n     CustomObject obj = null;  \n     if (updatePermit.tryAcquire()) {  \n        obj = ...; //do the loading and create Object  \n        updatePermit.release();  \n    } else {  \n        //update already running, wait  \n        updatePermit.acquire();  \n        //release the permit immediately  \n        updatePermit.release();  \n        obj = ref.get(); //????\n    }  \n    return obj;    \n}    \n</code></pre>\n\n<p>Is there a <strong>guarantee</strong> that on line <code>obj = ref.get(); //????</code> the <code>get</code> will return the <strong>most</strong> fresh version of <code>CustomObject</code>?<br>\nThis is related to the answer of assylias for <a href=\"https://stackoverflow.com/questions/13356702/how-can-i-make-sure-a-method-is-only-called-once-by-multiple-threads\">post</a>: </p>\n"},{"tags":["java","spring","spring-boot","spring-el"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650892117,"creation_date":1650892117,"answer_id":72000085,"question_id":71949161,"body_markdown":"Boot 2.3.x is no longer supported https://spring.io/projects/spring-boot#support the last release was 2.3.12 last summer.\r\n\r\nIn any case, Boot 2.3.x uses spring-data-commons 2.3.x (2.3.9 pulls in 2.3.7).\r\n\r\n`ExpressionDependencies` was not added to spring-data-commons until 2.4, so you have some mismatched dependencies somehow.","title":"Trying to create dynamic ES Index facing java.lang.ClassNotFoundException: org.springframework.data.spel.ExpressionDependencies","body":"<p>Boot 2.3.x is no longer supported <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-boot#support</a> the last release was 2.3.12 last summer.</p>\n<p>In any case, Boot 2.3.x uses spring-data-commons 2.3.x (2.3.9 pulls in 2.3.7).</p>\n<p><code>ExpressionDependencies</code> was not added to spring-data-commons until 2.4, so you have some mismatched dependencies somehow.</p>\n"}],"owner":{"account_id":21753158,"reputation":5,"user_id":16058872,"display_name":"Vaibhav Meenakshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72000085,"answer_count":1,"score":0,"last_activity_date":1650892163,"creation_date":1650517224,"question_id":71949161,"body_markdown":"Using &lt;spring-boot.version&gt;2.3.9.RELEASE&lt;/spring-boot.version&gt;\r\nadded following dependencies :\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nTrying to create dynamic ES Index\r\n\r\n    @Document(indexName = &quot;test_#{@commonConfig.getEnv()}_v1&quot;)\r\n\r\n```java\r\n@Component(&quot;commonConfig&quot;)\r\npublic class CommonConfig {\r\n\r\n    @Value(&quot;${spring.profiles.active}&quot;)\r\n    private String env;\r\n\r\n    public String getEnv() {\r\n        return env.toLowerCase(Locale.ROOT);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Trying to create dynamic ES Index facing java.lang.ClassNotFoundException: org.springframework.data.spel.ExpressionDependencies","body":"<p>Using &lt;spring-boot.version&gt;2.3.9.RELEASE&lt;/spring-boot.version&gt;\nadded following dependencies :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Trying to create dynamic ES Index</p>\n<pre><code>@Document(indexName = &quot;test_#{@commonConfig.getEnv()}_v1&quot;)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component(&quot;commonConfig&quot;)\npublic class CommonConfig {\n\n    @Value(&quot;${spring.profiles.active}&quot;)\n    private String env;\n\n    public String getEnv() {\n        return env.toLowerCase(Locale.ROOT);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1650892110,"post_id":72000074,"comment_id":127223531,"body_markdown":"the default is package scope, public is open for every class, not only those in the same package","body":"the default is package scope, public is open for every class, not only those in the same package"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1650892159,"post_id":72000074,"comment_id":127223558,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.ht&zwnj;&#8203;ml</a>"}],"owner":{"account_id":24466712,"reputation":1,"user_id":18386978,"display_name":"Ryo Richie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650892183,"answer_count":0,"score":0,"last_activity_date":1650892077,"creation_date":1650892077,"question_id":72000074,"body_markdown":"    public class Contoh {\r\n        public static String publicStatic = &quot;This is static and public&quot;;\r\n        static String justStatic = &quot;This is static&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(publicStatic);\r\n            System.out.println(justStatic);\r\n        }\r\n    }\r\n\r\nCan anyone explain to me what different between publicStatic and justStatic","title":"what different between public static and just static in java","body":"<pre><code>public class Contoh {\n    public static String publicStatic = &quot;This is static and public&quot;;\n    static String justStatic = &quot;This is static&quot;;\n\n    public static void main(String[] args) {\n        System.out.println(publicStatic);\n        System.out.println(justStatic);\n    }\n}\n</code></pre>\n<p>Can anyone explain to me what different between publicStatic and justStatic</p>\n"},{"tags":["java","scala","jwt","keycloak","verify"],"comments":[{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1650912511,"post_id":72000061,"comment_id":127231227,"body_markdown":"You&#39;re using https for your localhost connection, and you&#39;re getting an invalid ssl error. try http://localhost/...","body":"You&#39;re using https for your localhost connection, and you&#39;re getting an invalid ssl error. try <a href=\"http://localhost/\" rel=\"nofollow noreferrer\">localhost</a>..."},{"owner":{"account_id":22442718,"reputation":153,"user_id":16646993,"display_name":"Aman Verma"},"score":0,"creation_date":1650947008,"post_id":72000061,"comment_id":127237833,"body_markdown":"how to set it using the code?","body":"how to set it using the code?"},{"owner":{"account_id":22442718,"reputation":153,"user_id":16646993,"display_name":"Aman Verma"},"score":0,"creation_date":1650947440,"post_id":72000061,"comment_id":127237900,"body_markdown":"I changed the connection to http. Now it shows the following error-\n\nINFO: Loaded URLs from http://localhost:8080/realms/Knolx/.well-known/openid-configuration\norg.keycloak.common.VerificationException: Expected audience not available in the token","body":"I changed the connection to http. Now it shows the following error-  INFO: Loaded URLs from <a href=\"http://localhost:8080/realms/Knolx/.well-known/openid-configuration\" rel=\"nofollow noreferrer\">localhost:8080/realms/Knolx/.well-known/openid-configuration</a> org.keycloak.common.VerificationException: Expected audience not available in the token"},{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1650952521,"post_id":72000061,"comment_id":127238861,"body_markdown":"that’s not an error, it’s just an INFO log. Everything is ok","body":"that’s not an error, it’s just an INFO log. Everything is ok"},{"owner":{"account_id":22442718,"reputation":153,"user_id":16646993,"display_name":"Aman Verma"},"score":0,"creation_date":1650952773,"post_id":72000061,"comment_id":127238920,"body_markdown":"But I don&#39;t see the required output which is the username. It says audience is not availabe","body":"But I don&#39;t see the required output which is the username. It says audience is not availabe"},{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1650952964,"post_id":72000061,"comment_id":127238961,"body_markdown":"That’s another issue, your probably using the wrong token. Google this: expected audience not available in token. Also, staxkoverflow just converted my text to a link, put http before localhost :D","body":"That’s another issue, your probably using the wrong token. Google this: expected audience not available in token. Also, staxkoverflow just converted my text to a link, put http before localhost :D"},{"owner":{"account_id":22442718,"reputation":153,"user_id":16646993,"display_name":"Aman Verma"},"score":0,"creation_date":1650953980,"post_id":72000061,"comment_id":127239206,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/244210/discussion-between-aman-verma-and-aminmal).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/244210/discussion-between-aman-verma-and-aminmal\">continue this discussion in chat</a>."}],"owner":{"account_id":22442718,"reputation":153,"user_id":16646993,"display_name":"Aman Verma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650892021,"creation_date":1650892021,"question_id":72000061,"body_markdown":"I am trying to verify the JWT token using KeyCloak but I see the following error when I run the code below.\r\nIs this the right way or is there any other way to install the oidc client in keycloak to verify the jwt token? \r\nCan anyone help with this?\r\n\r\nThis is the code that I am trying to execute. It is using keycloak to verify the jwt token. i have created a client and a user in keycloak.\r\n\r\n**Code** \r\n\r\n      val adapterConfig = new AdapterConfig\r\n      adapterConfig.setRealm(&quot;Knolx&quot;)\r\n      adapterConfig.setResource(&quot;client-01&quot;)\r\n      adapterConfig.setAuthServerUrl(&quot;https://localhost:8080/&quot;)\r\n      adapterConfig.setSslRequired(&quot;external&quot;)\r\n      adapterConfig.setVerifyTokenAudience(true)\r\n      val credentialMap:Map[String,AnyRef] = Map(&quot;secret&quot;-&gt;&quot;secret&quot;)\r\n      adapterConfig.setCredentials(credentialMap.asJava)\r\n      adapterConfig.setUseResourceRoleMappings(true)\r\n      adapterConfig.setConfidentialPort(0)\r\n      val depl = KeycloakDeploymentBuilder.build(adapterConfig)\r\n      val tokenToVerify = &quot;token&quot;\r\n    \r\n      try{\r\n        val tok = AdapterTokenVerifier.verifyToken(tokenToVerify, depl);\r\n        println(tok.getPreferredUsername)\r\n        println(tok.getSubject)\r\n      }\r\n      catch{\r\n        case e: VerificationException =&gt; println(e)\r\n    \r\n      }\r\n\r\n**Error**\r\n\r\n    org.keycloak.adapters.KeycloakDeployment resolveUrls\r\n    WARN: Failed to load URLs from https://localhost:8080/realms/Knolx/.well-known/openid-configuration\r\n    javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.createLayeredSocket(SSLSocketFactory.java:570)\r\n    \tat org.keycloak.adapters.SniSSLSocketFactory.createLayeredSocket(SniSSLSocketFactory.java:119)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:554)\r\n    \tat org.keycloak.adapters.SniSSLSocketFactory.connectSocket(SniSSLSocketFactory.java:114)\r\n    \tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:415)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n    \tat org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144)\r\n    \tat org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n    \tat org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:230)\r\n    \tat org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182)\r\n    \tat org.keycloak.adapters.KeycloakDeployment.getRealmInfoUrl(KeycloakDeployment.java:246)\r\n    \tat org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:107)\r\n    \tat org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47)\r\n    \tat Playground$.delayedEndpoint$Playground$1(Playground.scala:55)\r\n    \tat Playground$delayedInit$body.apply(Playground.scala:11)\r\n    \tat scala.Function0.apply$mcV$sp(Function0.scala:39)\r\n    \tat scala.Function0.apply$mcV$sp$(Function0.scala:39)\r\n    \tat scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\r\n    \tat scala.App.$anonfun$main$1(App.scala:76)\r\n    \tat scala.App.$anonfun$main$1$adapted(App.scala:76)\r\n    \tat scala.collection.IterableOnceOps.foreach(IterableOnce.scala:563)\r\n    \tat scala.collection.IterableOnceOps.foreach$(IterableOnce.scala:561)\r\n    \tat scala.collection.AbstractIterable.foreach(Iterable.scala:926)\r\n    \tat scala.App.main(App.scala:76)\r\n    \tat scala.App.main$(App.scala:74)\r\n    \tat Playground$.main(Playground.scala:11)\r\n    \tat Playground.main(Playground.scala)\r\n    \r\n    org.keycloak.adapters.KeycloakDeployment resolveUrls\r\n    WARN: Failed to load URLs from https://localhost:8080/realms/Knolx/.well-known/openid-configuration\r\n    javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\r\n","title":"WARN: Failed to load URLs from https://localhost:8080/realms/Knolx/.well-known/openid-configuration","body":"<p>I am trying to verify the JWT token using KeyCloak but I see the following error when I run the code below.\nIs this the right way or is there any other way to install the oidc client in keycloak to verify the jwt token?\nCan anyone help with this?</p>\n<p>This is the code that I am trying to execute. It is using keycloak to verify the jwt token. i have created a client and a user in keycloak.</p>\n<p><strong>Code</strong></p>\n<pre><code>  val adapterConfig = new AdapterConfig\n  adapterConfig.setRealm(&quot;Knolx&quot;)\n  adapterConfig.setResource(&quot;client-01&quot;)\n  adapterConfig.setAuthServerUrl(&quot;https://localhost:8080/&quot;)\n  adapterConfig.setSslRequired(&quot;external&quot;)\n  adapterConfig.setVerifyTokenAudience(true)\n  val credentialMap:Map[String,AnyRef] = Map(&quot;secret&quot;-&gt;&quot;secret&quot;)\n  adapterConfig.setCredentials(credentialMap.asJava)\n  adapterConfig.setUseResourceRoleMappings(true)\n  adapterConfig.setConfidentialPort(0)\n  val depl = KeycloakDeploymentBuilder.build(adapterConfig)\n  val tokenToVerify = &quot;token&quot;\n\n  try{\n    val tok = AdapterTokenVerifier.verifyToken(tokenToVerify, depl);\n    println(tok.getPreferredUsername)\n    println(tok.getSubject)\n  }\n  catch{\n    case e: VerificationException =&gt; println(e)\n\n  }\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>org.keycloak.adapters.KeycloakDeployment resolveUrls\nWARN: Failed to load URLs from https://localhost:8080/realms/Knolx/.well-known/openid-configuration\njavax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n    at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421)\n    at org.apache.http.conn.ssl.SSLSocketFactory.createLayeredSocket(SSLSocketFactory.java:570)\n    at org.keycloak.adapters.SniSSLSocketFactory.createLayeredSocket(SniSSLSocketFactory.java:119)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:554)\n    at org.keycloak.adapters.SniSSLSocketFactory.connectSocket(SniSSLSocketFactory.java:114)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:415)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n    at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144)\n    at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\n    at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:230)\n    at org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182)\n    at org.keycloak.adapters.KeycloakDeployment.getRealmInfoUrl(KeycloakDeployment.java:246)\n    at org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:107)\n    at org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47)\n    at Playground$.delayedEndpoint$Playground$1(Playground.scala:55)\n    at Playground$delayedInit$body.apply(Playground.scala:11)\n    at scala.Function0.apply$mcV$sp(Function0.scala:39)\n    at scala.Function0.apply$mcV$sp$(Function0.scala:39)\n    at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\n    at scala.App.$anonfun$main$1(App.scala:76)\n    at scala.App.$anonfun$main$1$adapted(App.scala:76)\n    at scala.collection.IterableOnceOps.foreach(IterableOnce.scala:563)\n    at scala.collection.IterableOnceOps.foreach$(IterableOnce.scala:561)\n    at scala.collection.AbstractIterable.foreach(Iterable.scala:926)\n    at scala.App.main(App.scala:76)\n    at scala.App.main$(App.scala:74)\n    at Playground$.main(Playground.scala:11)\n    at Playground.main(Playground.scala)\n\norg.keycloak.adapters.KeycloakDeployment resolveUrls\nWARN: Failed to load URLs from https://localhost:8080/realms/Knolx/.well-known/openid-configuration\njavax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n    at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\n</code></pre>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650886575,"post_id":71998790,"comment_id":127221573,"body_markdown":"*Is there any way to know what the size of the unencrypted file will be without having to load it all into memory?* I&#39;m still not clear why you think it&#39;s necessary to know that?","body":"<i>Is there any way to know what the size of the unencrypted file will be without having to load it all into memory?</i> I&#39;m still not clear why you think it&#39;s necessary to know that?"},{"owner":{"account_id":17270907,"reputation":147,"user_id":12506649,"display_name":"zeval"},"score":0,"creation_date":1650886819,"post_id":71998790,"comment_id":127221646,"body_markdown":"I need to know that because I&#39;m sending the filesize before I start the transfer. If I send the size of the encrypted file, the receiver will be expecting more bytes than those which will actually be sent, so I need to know exactly how many I&#39;m going to send.","body":"I need to know that because I&#39;m sending the filesize before I start the transfer. If I send the size of the encrypted file, the receiver will be expecting more bytes than those which will actually be sent, so I need to know exactly how many I&#39;m going to send."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650887239,"post_id":71998790,"comment_id":127221790,"body_markdown":"No. The receiver needs to know the actual size of what is being sent, so you need to find the encrypted size. That&#39;s easy if it&#39;s small enough to fit the ciphertext result in memory","body":"No. The receiver needs to know the actual size of what is being sent, so you need to find the encrypted size. That&#39;s easy if it&#39;s small enough to fit the ciphertext result in memory"},{"owner":{"account_id":17270907,"reputation":147,"user_id":12506649,"display_name":"zeval"},"score":0,"creation_date":1650887441,"post_id":71998790,"comment_id":127221862,"body_markdown":"@PresidentJamesK.Polk, please read the question. What&#39;s present in the disk is the encrypted file, I need to know the size after decryption.","body":"@PresidentJamesK.Polk, please read the question. What&#39;s present in the disk is the encrypted file, I need to know the size after decryption."},{"owner":{"account_id":17270907,"reputation":147,"user_id":12506649,"display_name":"zeval"},"score":0,"creation_date":1650887507,"post_id":71998790,"comment_id":127221880,"body_markdown":"@g00se That&#39;s true, but the entire point of my implementation is not to load anything entirely into memory.","body":"@g00se That&#39;s true, but the entire point of my implementation is not to load anything entirely into memory."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650888018,"post_id":71998790,"comment_id":127222060,"body_markdown":"What sbout calculating the length by allowing for algo/padding? `cipherLen = (clearLen/16 + 1) * 16;`","body":"What sbout calculating the length by allowing for algo/padding? <code>cipherLen = (clearLen&#47;16 + 1) * 16;</code>"},{"owner":{"account_id":17270907,"reputation":147,"user_id":12506649,"display_name":"zeval"},"score":0,"creation_date":1650888183,"post_id":71998790,"comment_id":127222127,"body_markdown":"Can you specify? Though if you&#39;re saying what I think you&#39;re saying, it just causes the receiver to hang when expecting size-of-encrypted-file bytes, since the CipherInputStream will only yield as many bytes as the decrypted file has.","body":"Can you specify? Though if you&#39;re saying what I think you&#39;re saying, it just causes the receiver to hang when expecting size-of-encrypted-file bytes, since the CipherInputStream will only yield as many bytes as the decrypted file has."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650888849,"post_id":71998790,"comment_id":127222371,"body_markdown":"I&#39;m not sure what you&#39;re asking. But in your case, is the plaintext a file?","body":"I&#39;m not sure what you&#39;re asking. But in your case, is the plaintext a file?"},{"owner":{"account_id":17270907,"reputation":147,"user_id":12506649,"display_name":"zeval"},"score":0,"creation_date":1650889255,"post_id":71998790,"comment_id":127222504,"body_markdown":"I have a stored encrypted file, I&#39;m decrypting it with a CipherInputStream as I read it, and sending it over the socket chunk by chunk. I&#39;m not starting with plaintext, I&#39;m starting with ciphertext, and I need to know the size of the plaintext before I even start decrypting it, because I need to tell the receiver how many bytes he should expect to receive.","body":"I have a stored encrypted file, I&#39;m decrypting it with a CipherInputStream as I read it, and sending it over the socket chunk by chunk. I&#39;m not starting with plaintext, I&#39;m starting with ciphertext, and I need to know the size of the plaintext before I even start decrypting it, because I need to tell the receiver how many bytes he should expect to receive."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650889859,"post_id":71998790,"comment_id":127222708,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/244184/discussion-between-g00se-and-zeval).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/244184/discussion-between-g00se-and-zeval\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650891692,"creation_date":1650891692,"answer_id":71999964,"question_id":71998790,"body_markdown":"&gt; I&#39;m sending files between two machines using the common practice of sending the dimension of the file first, in bytes, and then having the other side read the stream until it has received the exact amount of bytes\r\n\r\nThis &#39;common practice&#39; cannot be used with crypto as you&#39;ve found out. Padding is theoretically predictable, but it&#39;s a detail that most crypto libraries intentionally do not expose. So it&#39;s hacky to say the least and requires that you pick up some fairly deep understanding of the AES algorithm (or rather, the padding/IV algorithm you specify). Given that you&#39;re now writing code specifically geared at the exact padding algorithm you picked out, you&#39;ve now also hamstrung yourself: If you ever want to modify the algorithm in use, its now more complicated than simply replacing the call that sets up the cipher stream: You also need to adjust your &#39;padding size calculator&#39; code which is non-trivial.\r\n\r\nBad idea, in other words.\r\n\r\n## General note\r\n\r\nYour snippet to &#39;copy&#39; bytes from one stream to another is problematic.  You aren&#39;t using try-with, so any crash halfway leaks resources, and you&#39;re not using either `.transferTo` or `readAllBytes`/`readNBytes`. You are doing buffering, __and__ using a BufferedOutputStream - creating 2 buffers for no good reason.\r\n\r\nKeep that in mind for the snippets in the rest of this answer as I&#39;m fixing those oversights on the fly.\r\n\r\n## Solution 1: The bad one\r\n\r\nYou can of course just crypt the whole thing to disk or memory first, and THEN you can trivially send the size of the encrypted data first, and then the encrypted bytes. But this requires either disk space or memory space and you want to avoid that.\r\n\r\n## Solution 2: The simple one\r\n\r\nWhy _are_ you sending the size first? If the stream just ends, as it seems to, as you close/flush, there is just no need to that. TCP/IP streams are perfectly capable of signalling that they are closed. Your server should:\r\n\r\n* Create an InputStream for the file to be sent.\r\n* Wrap that in a cipherstream\r\n* Open an OutputStream on a socket. Or web connection - they can signal &#39;close&#39; out of band just as well.\r\n* Just transferTo it all, then close all streams.\r\n\r\nAnd your client does the same, pretty much. Looks like this:\r\n\r\n```\r\ntry (var fileOut = new FileOutputStream(&quot;receivedFile&quot;);\r\n  var cipher = new CipherInputStream(fromSocket, decryptionCipher)) {\r\n\r\n  cipher.transferTo(fileOut);\r\n}\r\n```\r\n\r\nLook at that beauty. So small, so simple. It hands off all that messy business with buffers and counting to the transferTo method. You don&#39;t _have_ to use transferto - adopting it to your obsolete code, instead of counting out how many bytes you&#39;ve processed, you simply loop forever, until `in.read(buffer);` returns `-1`, then you break out: You&#39;ve transfered it all. That&#39;s exactly what `.transferTo` does, in fact.\r\n\r\n## Solution 3: Chunking\r\n\r\nPerhaps you have a need to keep the streams open: It&#39;s a complex protocol where you are sending many different concepts across the line; you cannot rely on `close()` to be a signal.\r\n\r\nIn that case it gets harder. Now you really do need to develop a little protocol of sorts. A simple one is to interleave sizes with a special sentinel value that indicates done.\r\n\r\nTo send:\r\n\r\n```\r\n// SERVER CODE:\r\n// You have a &#39;socketOutputStream&#39; from somewhere.\r\n\r\ntry (var fileIn = new FileInputStream(&quot;toSend&quot;);\r\n  var cipherOut = new CipherOutputStream(socketOutputStream, crypto)) {\r\n\r\n  byte[] buffer = new byte[65537];\r\n  while (true) {\r\n    int r = in.read(buffer, 2, 65535);\r\n    if (r == -1) break;\r\n    buffer[0] = (byte) (r &gt;&gt; 8);\r\n    buffer[1] = (byte) r;\r\n    cipherOut.write(buffer, 0, r + 2);\r\n  }\r\n  buffer[0] = 0; buffer[1] = 0;\r\n  cipherOut.write(buffer, 0, 2);\r\n  cipherOut.flush();\r\n}\r\n```\r\n\r\nThis code keeps sticking the size of the read data as an unsigned 2-byte value at the front, sending size = 0 at the very end which tells the client: We&#39;re done now. This system can be used to encrypt files many GBs in size without needing lots of memory or disk space.\r\n\r\nThe client does a similar task in reverse:\r\n\r\n```\r\n// CLIENT CODE:\r\n// You have a &#39;socketInputStream&#39; from somewhere.\r\n\r\ntry (var fileOut = new FileOutputStream(&quot;toReceive&quot;);\r\n  var cipherIn = new CipherInputStream(socketInputStream, crypto)) {\r\n  byte[] sizeBuffer = new byte[2];\r\n  byte[] dataBuffer = new byte[65535];\r\n  while (true) {\r\n    cipherIn.readNBytes(sizeBuffer, 0, 2);\r\n    int r = ((sizeBuffer[0] &amp; 0xFF) &lt;&lt; 8) | (sizeBuffer[1] &amp; 0xFF);\r\n    if (r == 0) break;\r\n    cipherIn.readNBytes(dataBuffer, 0, r);\r\n    fileOut.write(dataBuffer, 0, r);\r\n  }\r\n}\r\n```\r\n\r\nBut, I repeat: __This is pointlessly complicating matters if the stream is closed immediately afterwards anyway!__\r\n\r\n## Solution 4: Multi-connection\r\n\r\nThis one too is only relevant if you need to do multiple tasks within a single &#39;session&#39;.\r\n\r\nA final option is to have a &#39;command&#39; line and a &#39;data&#39; line: You never send big data across the command line, you merely send simple text messages (encrypted or not - but because they are small, you don&#39;t need to worry about having to stream all this stuff, it can all be done in memory). One text message that the client sends to the server might be &#39;DOWNLOAD fileToSend&#39;.\r\n\r\nThe server doesn&#39;t respond with the encrypted file. No, it responds with something like &#39;READY 91584145104981234098124&#39;, where that number is a randomly generated ID. The client is now supposed to open a second connection; if it&#39;s raw TCP/IP, to the same port, but it now sends &#39;FETCH 91584145104981234098124&#39;, at which point the server sends the file, encrypted, and then closes the connection (thus letting you use the simple `.transferTo` code). If it&#39;s the web, then your client opens `https://myserver.com/fetch/91584145104981234098124` for a similar effect - though if its web, https is already encrypting things, not sure why you need to also encrypt it.\r\n","title":"Using CipherInputStream with Sockets, finding size of unencrypted file","body":"<blockquote>\n<p>I'm sending files between two machines using the common practice of sending the dimension of the file first, in bytes, and then having the other side read the stream until it has received the exact amount of bytes</p>\n</blockquote>\n<p>This 'common practice' cannot be used with crypto as you've found out. Padding is theoretically predictable, but it's a detail that most crypto libraries intentionally do not expose. So it's hacky to say the least and requires that you pick up some fairly deep understanding of the AES algorithm (or rather, the padding/IV algorithm you specify). Given that you're now writing code specifically geared at the exact padding algorithm you picked out, you've now also hamstrung yourself: If you ever want to modify the algorithm in use, its now more complicated than simply replacing the call that sets up the cipher stream: You also need to adjust your 'padding size calculator' code which is non-trivial.</p>\n<p>Bad idea, in other words.</p>\n<h2>General note</h2>\n<p>Your snippet to 'copy' bytes from one stream to another is problematic.  You aren't using try-with, so any crash halfway leaks resources, and you're not using either <code>.transferTo</code> or <code>readAllBytes</code>/<code>readNBytes</code>. You are doing buffering, <strong>and</strong> using a BufferedOutputStream - creating 2 buffers for no good reason.</p>\n<p>Keep that in mind for the snippets in the rest of this answer as I'm fixing those oversights on the fly.</p>\n<h2>Solution 1: The bad one</h2>\n<p>You can of course just crypt the whole thing to disk or memory first, and THEN you can trivially send the size of the encrypted data first, and then the encrypted bytes. But this requires either disk space or memory space and you want to avoid that.</p>\n<h2>Solution 2: The simple one</h2>\n<p>Why <em>are</em> you sending the size first? If the stream just ends, as it seems to, as you close/flush, there is just no need to that. TCP/IP streams are perfectly capable of signalling that they are closed. Your server should:</p>\n<ul>\n<li>Create an InputStream for the file to be sent.</li>\n<li>Wrap that in a cipherstream</li>\n<li>Open an OutputStream on a socket. Or web connection - they can signal 'close' out of band just as well.</li>\n<li>Just transferTo it all, then close all streams.</li>\n</ul>\n<p>And your client does the same, pretty much. Looks like this:</p>\n<pre><code>try (var fileOut = new FileOutputStream(&quot;receivedFile&quot;);\n  var cipher = new CipherInputStream(fromSocket, decryptionCipher)) {\n\n  cipher.transferTo(fileOut);\n}\n</code></pre>\n<p>Look at that beauty. So small, so simple. It hands off all that messy business with buffers and counting to the transferTo method. You don't <em>have</em> to use transferto - adopting it to your obsolete code, instead of counting out how many bytes you've processed, you simply loop forever, until <code>in.read(buffer);</code> returns <code>-1</code>, then you break out: You've transfered it all. That's exactly what <code>.transferTo</code> does, in fact.</p>\n<h2>Solution 3: Chunking</h2>\n<p>Perhaps you have a need to keep the streams open: It's a complex protocol where you are sending many different concepts across the line; you cannot rely on <code>close()</code> to be a signal.</p>\n<p>In that case it gets harder. Now you really do need to develop a little protocol of sorts. A simple one is to interleave sizes with a special sentinel value that indicates done.</p>\n<p>To send:</p>\n<pre><code>// SERVER CODE:\n// You have a 'socketOutputStream' from somewhere.\n\ntry (var fileIn = new FileInputStream(&quot;toSend&quot;);\n  var cipherOut = new CipherOutputStream(socketOutputStream, crypto)) {\n\n  byte[] buffer = new byte[65537];\n  while (true) {\n    int r = in.read(buffer, 2, 65535);\n    if (r == -1) break;\n    buffer[0] = (byte) (r &gt;&gt; 8);\n    buffer[1] = (byte) r;\n    cipherOut.write(buffer, 0, r + 2);\n  }\n  buffer[0] = 0; buffer[1] = 0;\n  cipherOut.write(buffer, 0, 2);\n  cipherOut.flush();\n}\n</code></pre>\n<p>This code keeps sticking the size of the read data as an unsigned 2-byte value at the front, sending size = 0 at the very end which tells the client: We're done now. This system can be used to encrypt files many GBs in size without needing lots of memory or disk space.</p>\n<p>The client does a similar task in reverse:</p>\n<pre><code>// CLIENT CODE:\n// You have a 'socketInputStream' from somewhere.\n\ntry (var fileOut = new FileOutputStream(&quot;toReceive&quot;);\n  var cipherIn = new CipherInputStream(socketInputStream, crypto)) {\n  byte[] sizeBuffer = new byte[2];\n  byte[] dataBuffer = new byte[65535];\n  while (true) {\n    cipherIn.readNBytes(sizeBuffer, 0, 2);\n    int r = ((sizeBuffer[0] &amp; 0xFF) &lt;&lt; 8) | (sizeBuffer[1] &amp; 0xFF);\n    if (r == 0) break;\n    cipherIn.readNBytes(dataBuffer, 0, r);\n    fileOut.write(dataBuffer, 0, r);\n  }\n}\n</code></pre>\n<p>But, I repeat: <strong>This is pointlessly complicating matters if the stream is closed immediately afterwards anyway!</strong></p>\n<h2>Solution 4: Multi-connection</h2>\n<p>This one too is only relevant if you need to do multiple tasks within a single 'session'.</p>\n<p>A final option is to have a 'command' line and a 'data' line: You never send big data across the command line, you merely send simple text messages (encrypted or not - but because they are small, you don't need to worry about having to stream all this stuff, it can all be done in memory). One text message that the client sends to the server might be 'DOWNLOAD fileToSend'.</p>\n<p>The server doesn't respond with the encrypted file. No, it responds with something like 'READY 91584145104981234098124', where that number is a randomly generated ID. The client is now supposed to open a second connection; if it's raw TCP/IP, to the same port, but it now sends 'FETCH 91584145104981234098124', at which point the server sends the file, encrypted, and then closes the connection (thus letting you use the simple <code>.transferTo</code> code). If it's the web, then your client opens <code>https://myserver.com/fetch/91584145104981234098124</code> for a similar effect - though if its web, https is already encrypting things, not sure why you need to also encrypt it.</p>\n"}],"owner":{"account_id":17270907,"reputation":147,"user_id":12506649,"display_name":"zeval"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71999964,"answer_count":1,"score":0,"last_activity_date":1650891692,"creation_date":1650886003,"question_id":71998790,"body_markdown":"I&#39;m sending files between two machines using the common practice of sending the dimension of the file first, in bytes, and then having the other side read the stream until it has received the exact amount of bytes, which it writes into a `BufferedFileOutputStream`.\r\nSomething like this (receiving-end):\r\n\r\n    long dimension = (long) inStream.readObject();\r\n    BufferedOutputStream receivedFileBuffer = new BufferedOutputStream(new FileOutputStream(&quot;receivedFile&quot;));\r\n    \r\n    byte[] buffer = new byte[1024];\r\n    \r\n    long count = 0;\r\n    int bytesRead;\r\n    while (count &lt; dimension) {\r\n        bytesRead = inStream.read(buffer, 0, (int) Math.min(dimension - count, 1024));\r\n    \r\n        receivedFileBuffer.write(buffer, 0, bytesRead);\r\n    \r\n        count += bytesRead;\r\n    \r\n    }\r\n    \r\n    receivedFileBuffer.flush();\r\n    receivedFileBuffer.close();\r\n\r\nHowever, the file I&#39;m sending is actually encrypted with AES, and on the sending-end I&#39;m reading the data through a `CipherInputStream` which decrypts it before sending it through the socket, such as:\r\n\r\n    // Previously created AES Cipher, BufferedFileInputStream, etc\r\n    CipherInputStream decryptionStream = new CipherInputStream(fileInputStream, decryptionCipher);\r\n    \r\n    byte[] buffer = new byte[1024];\r\n    \r\n    int bytesRead;\r\n    while ((bytesRead = decryptionStream.read(buffer, 0, 1024)) &gt; 0) {\r\n        outStream.write(buffer, 0, bytesRead);\r\n    }\r\n    \r\n    decryptionStream.close();\r\n    fileInputStream.close();\r\n    outStream.flush();\r\n\r\nMy issue here is with padding. Since my implementation requires me to send the filesize before the transfer, I&#39;m running into an issue in which it will send the size of the encrypted file, which can be anywhere from 1-16 bytes larger because of AES padding.\r\n\r\nSo what happens is that the receiving-end expects to receive size-of-encrypted-file bytes, while in reality the `CipherInputStream` will only ever yield size-of-unencrypted-file bytes. Is there any way to know what the size of the unencrypted file will be without having to load it all into memory?\r\n\r\nI&#39;m not looking to change my implementation to use an AES mode which requires no padding, as I&#39;m not looking to store an IV. Thanks in advance.","title":"Using CipherInputStream with Sockets, finding size of unencrypted file","body":"<p>I'm sending files between two machines using the common practice of sending the dimension of the file first, in bytes, and then having the other side read the stream until it has received the exact amount of bytes, which it writes into a <code>BufferedFileOutputStream</code>.\nSomething like this (receiving-end):</p>\n<pre><code>long dimension = (long) inStream.readObject();\nBufferedOutputStream receivedFileBuffer = new BufferedOutputStream(new FileOutputStream(&quot;receivedFile&quot;));\n\nbyte[] buffer = new byte[1024];\n\nlong count = 0;\nint bytesRead;\nwhile (count &lt; dimension) {\n    bytesRead = inStream.read(buffer, 0, (int) Math.min(dimension - count, 1024));\n\n    receivedFileBuffer.write(buffer, 0, bytesRead);\n\n    count += bytesRead;\n\n}\n\nreceivedFileBuffer.flush();\nreceivedFileBuffer.close();\n</code></pre>\n<p>However, the file I'm sending is actually encrypted with AES, and on the sending-end I'm reading the data through a <code>CipherInputStream</code> which decrypts it before sending it through the socket, such as:</p>\n<pre><code>// Previously created AES Cipher, BufferedFileInputStream, etc\nCipherInputStream decryptionStream = new CipherInputStream(fileInputStream, decryptionCipher);\n\nbyte[] buffer = new byte[1024];\n\nint bytesRead;\nwhile ((bytesRead = decryptionStream.read(buffer, 0, 1024)) &gt; 0) {\n    outStream.write(buffer, 0, bytesRead);\n}\n\ndecryptionStream.close();\nfileInputStream.close();\noutStream.flush();\n</code></pre>\n<p>My issue here is with padding. Since my implementation requires me to send the filesize before the transfer, I'm running into an issue in which it will send the size of the encrypted file, which can be anywhere from 1-16 bytes larger because of AES padding.</p>\n<p>So what happens is that the receiving-end expects to receive size-of-encrypted-file bytes, while in reality the <code>CipherInputStream</code> will only ever yield size-of-unencrypted-file bytes. Is there any way to know what the size of the unencrypted file will be without having to load it all into memory?</p>\n<p>I'm not looking to change my implementation to use an AES mode which requires no padding, as I'm not looking to store an IV. Thanks in advance.</p>\n"},{"tags":["java","oop","class","object","reference"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1328860920,"post_id":9224517,"comment_id":11615639,"body_markdown":"Start here: http://docs.oracle.com/javase/tutorial/java/index.html.","body":"Start here: <a href=\"http://docs.oracle.com/javase/tutorial/java/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/index.html</a>."},{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":3,"creation_date":1328863662,"post_id":9224517,"comment_id":11616313,"body_markdown":"If you have C experience (or some procedural language) you can think of objects as structs with methods. So *class* would be de struct declaration (with associated methods), *objects* would be the concrete structs given (this struct is one object, that struct is another object) and *references* are pointers to that structs.","body":"If you have C experience (or some procedural language) you can think of objects as structs with methods. So <i>class</i> would be de struct declaration (with associated methods), <i>objects</i> would be the concrete structs given (this struct is one object, that struct is another object) and <i>references</i> are pointers to that structs."}],"answers":[{"tags":[],"owner":{"account_id":1090282,"reputation":4580,"user_id":1167210,"accept_rate":93,"display_name":"Marcelo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1328863377,"creation_date":1328860965,"answer_id":9224547,"question_id":9224517,"body_markdown":"When you code, you build an \r\n\r\n&gt; Instance (occurrence, copy)\r\n\r\nof an \r\n\r\n&gt; Object \r\n \r\nof a said \r\n\r\n&gt; Class\r\n\r\n and keep a\r\n\r\n&gt;reference\r\n\r\nto it, so you can call its methods.\r\n\r\nAlso, some [OOP][1] basics: [Classes][2], [Object][3], [Instance][4], and [Reference][5].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [2]: http://en.wikipedia.org/wiki/Class_%28computer_science%29\r\n  [3]: http://en.wikipedia.org/wiki/Object_%28computer_science%29\r\n  [4]: http://en.wikipedia.org/wiki/Instance_%28computer_science%29\r\n  [5]: http://en.wikipedia.org/wiki/Reference_%28computer_science%29","title":"What are classes, references, and objects?","body":"<p>When you code, you build an </p>\n\n<blockquote>\n  <p>Instance (occurrence, copy)</p>\n</blockquote>\n\n<p>of an </p>\n\n<blockquote>\n  <p>Object </p>\n</blockquote>\n\n<p>of a said </p>\n\n<blockquote>\n  <p>Class</p>\n</blockquote>\n\n<p>and keep a</p>\n\n<blockquote>\n  <p>reference</p>\n</blockquote>\n\n<p>to it, so you can call its methods.</p>\n\n<p>Also, some <a href=\"http://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"noreferrer\">OOP</a> basics: <a href=\"http://en.wikipedia.org/wiki/Class_%28computer_science%29\" rel=\"noreferrer\">Classes</a>, <a href=\"http://en.wikipedia.org/wiki/Object_%28computer_science%29\" rel=\"noreferrer\">Object</a>, <a href=\"http://en.wikipedia.org/wiki/Instance_%28computer_science%29\" rel=\"noreferrer\">Instance</a>, and <a href=\"http://en.wikipedia.org/wiki/Reference_%28computer_science%29\" rel=\"noreferrer\">Reference</a>.</p>\n"},{"tags":[],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328861206,"creation_date":1328861206,"answer_id":9224595,"question_id":9224517,"body_markdown":"Class is a template, you are right. It is some knowledge about data structure. Object is that structure instance in memory. Reference is a memory address of that instance.\r\n\r\nIf by `Object` you meant the java identifier, then `Object` is the basic class for all complex Java classes.","title":"What are classes, references, and objects?","body":"<p>Class is a template, you are right. It is some knowledge about data structure. Object is that structure instance in memory. Reference is a memory address of that instance.</p>\n\n<p>If by <code>Object</code> you meant the java identifier, then <code>Object</code> is the basic class for all complex Java classes.</p>\n"},{"tags":[],"owner":{"account_id":1123316,"reputation":6969,"user_id":1111130,"accept_rate":65,"display_name":"Sunny Gupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328861699,"creation_date":1328861699,"answer_id":9224688,"question_id":9224517,"body_markdown":"Suppose you write there two lines of code:\r\n\r\n    Engine app1 = new Engine(); //LINE 1\r\n\r\n    Engine app2  = app1; //LINE 2\r\nIn line 1, Engine is a **class**, its a blue-print basically.\r\n\r\nnew Engine() is the **instance** that is made on the heap.\r\n\r\nYou are refering that **instance** by using app1 and app2 in your code.\r\n\r\nSo app1 and app2 are the **references**.\r\n\r\n","title":"What are classes, references, and objects?","body":"<p>Suppose you write there two lines of code:</p>\n\n<pre><code>Engine app1 = new Engine(); //LINE 1\n\nEngine app2  = app1; //LINE 2\n</code></pre>\n\n<p>In line 1, Engine is a <strong>class</strong>, its a blue-print basically.</p>\n\n<p>new Engine() is the <strong>instance</strong> that is made on the heap.</p>\n\n<p>You are refering that <strong>instance</strong> by using app1 and app2 in your code.</p>\n\n<p>So app1 and app2 are the <strong>references</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1200234,"reputation":18702,"user_id":1171043,"display_name":"Supr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328863002,"creation_date":1328863002,"answer_id":9224933,"question_id":9224517,"body_markdown":"When you create an object, what happens behind the scene is that a piece of memory is reserved for containing that object. This could be anywhere in the great big memory landscape; it&#39;s up to the operating system and the compiler, and you don&#39;t really have any control or knowledge of where it ends up.\r\n\r\nAsk yourself, then, how do you use that object if you don&#39;t know where in memory it is? How can you read a value from it if you don&#39;t know where that value is stored? This is what references do for you. They are a way of keeping in touch with the object. It&#39;s a little string attached to the balloon that is a reference.\r\n\r\nYou use the reference to say that &quot;I want to touch _this_ object now!&quot;, or &quot;I want to read a value from _this_ object!&quot;.\r\n\r\n","title":"What are classes, references, and objects?","body":"<p>When you create an object, what happens behind the scene is that a piece of memory is reserved for containing that object. This could be anywhere in the great big memory landscape; it's up to the operating system and the compiler, and you don't really have any control or knowledge of where it ends up.</p>\n\n<p>Ask yourself, then, how do you use that object if you don't know where in memory it is? How can you read a value from it if you don't know where that value is stored? This is what references do for you. They are a way of keeping in touch with the object. It's a little string attached to the balloon that is a reference.</p>\n\n<p>You use the reference to say that \"I want to touch <em>this</em> object now!\", or \"I want to read a value from <em>this</em> object!\".</p>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":149,"is_accepted":true,"score":149,"last_activity_date":1539153774,"creation_date":1328863189,"answer_id":9224971,"question_id":9224517,"body_markdown":"If you like housing metaphors:\r\n\r\n* a **class** is like the blueprint for a house. Using this blueprint, you can build as many houses as you like.\r\n* each house you build (or instantiate, in OO lingo) is an **object**, also known as an **instance**.\r\n* each house also has an address, of course. If you want to tell someone where the house is, you give them a card with the address written on it. That card is the object&#39;s **reference**.\r\n* If you want to visit the house, you look at the address written on the card. This is called **dereferencing**.\r\n\r\nYou can copy that reference as much as you like, but there&#39;s just one house -- you&#39;re just copying the card that has the address on it, not the house itself.\r\n\r\nIn Java, you can not access objects directly, you can only use references. Java does not copy or assign objects to each other. But you can copy and assign references to variables so they refer to the same object. Java methods are always pass-by-value, but the value could be an object&#39;s reference. So, if I have:\r\n\r\n    Foo myFoo = new Foo();     // 1\r\n    callBar(myFoo);            // 2\r\n    myFoo.doSomething()        // 4\r\n    \r\n    void callBar(Foo foo) {\r\n        foo = new Foo();       // 3\r\n    }\r\n\r\nThen let&#39;s see what&#39;s happening.\r\n\r\n1. Several things are happening in line 1. `new Foo()` tells the JVM to build a new house using the `Foo` blueprint. The JVM does so, and returns a reference to the house. You then copy this reference to `myFoo`. This is basically like asking a contractor to build you a house. He does, then tells you the house&#39;s address; you write this address down.\r\n2. In line 2, you give this address to another method, `callBar`. Let&#39;s jump to that method next.\r\n3. Here, we have a reference `Foo foo`. Java is pass-by-value, so the `foo` in `callBar` is a *copy* of the `myFoo` reference. Think of it like giving `callBar` its very own card with the house&#39;s address on it. What does `callBar` do with this card? It asks for a new house to be built, and then uses the card you gave it to write that new house&#39;s address. Note that `callBar` now can&#39;t get to the first house (the one we built in line 1), but that house is unchanged by the fact that a card that used to have its address on it, now has some other house&#39;s address on it.\r\n4. Back in the first method, we dereference `myFoo` to call a method on it (`doSomething()`). This is like looking at the card, going to the house whose address is on the card, and then doing something in that house. Note that our card with `myFoo`&#39;s address is unchanged by the `callBar` method -- remember, we gave `callBar` a *copy* of our reference.\r\n\r\nThe whole sequence would be something like:\r\n\r\n1. Ask JVM to build a house. It does, and gives us the address. We copy this address to a card named `myFoo`.\r\n2. We invoke `callBar`. Before we do, we copy the address written on `myfoo` to a new card, which we give to `callBar`. It calls that card `foo`.\r\n3. `callBar` asks the JVM for another house. It creates it, and returns the new house&#39;s address. `callBar` copies this address to the card we gave it.\r\n4. Back in the first method, we look at our original, unchanged card; go to the house whose address is on our card; and do something there.","title":"What are classes, references, and objects?","body":"<p>If you like housing metaphors:</p>\n\n<ul>\n<li>a <strong>class</strong> is like the blueprint for a house. Using this blueprint, you can build as many houses as you like.</li>\n<li>each house you build (or instantiate, in OO lingo) is an <strong>object</strong>, also known as an <strong>instance</strong>.</li>\n<li>each house also has an address, of course. If you want to tell someone where the house is, you give them a card with the address written on it. That card is the object's <strong>reference</strong>.</li>\n<li>If you want to visit the house, you look at the address written on the card. This is called <strong>dereferencing</strong>.</li>\n</ul>\n\n<p>You can copy that reference as much as you like, but there's just one house -- you're just copying the card that has the address on it, not the house itself.</p>\n\n<p>In Java, you can not access objects directly, you can only use references. Java does not copy or assign objects to each other. But you can copy and assign references to variables so they refer to the same object. Java methods are always pass-by-value, but the value could be an object's reference. So, if I have:</p>\n\n<pre><code>Foo myFoo = new Foo();     // 1\ncallBar(myFoo);            // 2\nmyFoo.doSomething()        // 4\n\nvoid callBar(Foo foo) {\n    foo = new Foo();       // 3\n}\n</code></pre>\n\n<p>Then let's see what's happening.</p>\n\n<ol>\n<li>Several things are happening in line 1. <code>new Foo()</code> tells the JVM to build a new house using the <code>Foo</code> blueprint. The JVM does so, and returns a reference to the house. You then copy this reference to <code>myFoo</code>. This is basically like asking a contractor to build you a house. He does, then tells you the house's address; you write this address down.</li>\n<li>In line 2, you give this address to another method, <code>callBar</code>. Let's jump to that method next.</li>\n<li>Here, we have a reference <code>Foo foo</code>. Java is pass-by-value, so the <code>foo</code> in <code>callBar</code> is a <em>copy</em> of the <code>myFoo</code> reference. Think of it like giving <code>callBar</code> its very own card with the house's address on it. What does <code>callBar</code> do with this card? It asks for a new house to be built, and then uses the card you gave it to write that new house's address. Note that <code>callBar</code> now can't get to the first house (the one we built in line 1), but that house is unchanged by the fact that a card that used to have its address on it, now has some other house's address on it.</li>\n<li>Back in the first method, we dereference <code>myFoo</code> to call a method on it (<code>doSomething()</code>). This is like looking at the card, going to the house whose address is on the card, and then doing something in that house. Note that our card with <code>myFoo</code>'s address is unchanged by the <code>callBar</code> method -- remember, we gave <code>callBar</code> a <em>copy</em> of our reference.</li>\n</ol>\n\n<p>The whole sequence would be something like:</p>\n\n<ol>\n<li>Ask JVM to build a house. It does, and gives us the address. We copy this address to a card named <code>myFoo</code>.</li>\n<li>We invoke <code>callBar</code>. Before we do, we copy the address written on <code>myfoo</code> to a new card, which we give to <code>callBar</code>. It calls that card <code>foo</code>.</li>\n<li><code>callBar</code> asks the JVM for another house. It creates it, and returns the new house's address. <code>callBar</code> copies this address to the card we gave it.</li>\n<li>Back in the first method, we look at our original, unchanged card; go to the house whose address is on our card; and do something there.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6832,"reputation":6763,"user_id":11614,"accept_rate":67,"display_name":"Nrj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328863763,"creation_date":1328863763,"answer_id":9225061,"question_id":9224517,"body_markdown":"`Object` is the run time representation of the `Class`definition. And the **name with which you use the object** is called the `reference` (as it references the actual object location in memory )\r\n\r\nexample\r\n\r\n    MyClass ref = new MyClass();\r\n\r\nHere, **MyClass** is (contains) the **class** definition.\r\n\r\n**new MyClass()** creates an **object** for this class (done only during execution, hence runtime representsion)\r\n\r\n**ref** is the name you use to work on the class object, is the **reference**.\r\n","title":"What are classes, references, and objects?","body":"<p><code>Object</code> is the run time representation of the <code>Class</code>definition. And the <strong>name with which you use the object</strong> is called the <code>reference</code> (as it references the actual object location in memory )</p>\n\n<p>example</p>\n\n<pre><code>MyClass ref = new MyClass();\n</code></pre>\n\n<p>Here, <strong>MyClass</strong> is (contains) the <strong>class</strong> definition.</p>\n\n<p><strong>new MyClass()</strong> creates an <strong>object</strong> for this class (done only during execution, hence runtime representsion)</p>\n\n<p><strong>ref</strong> is the name you use to work on the class object, is the <strong>reference</strong>.</p>\n"},{"tags":[],"owner":{"account_id":4475073,"reputation":111,"user_id":3640393,"display_name":"Tsasaa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400151702,"creation_date":1400151702,"answer_id":23676366,"question_id":9224517,"body_markdown":"========= Class and Object ===========\r\n\r\nClass =&gt; ex: Person (More like imagination)\r\n\r\nObject =&gt; ex: John, Mike (Real person)\r\n\r\n=========== Reference ============\r\n\r\nex:\r\n\r\n**Television tv1;** - (Television is a class, tv1 is a remote controller without Television)\r\n\r\n**Television tv2 = new Television();** - (Now tv2 remote controller has a Television)\r\n\r\n**tv1 = tv2;** - (Now tv1 and tv2 can control same Television)\r\n\r\n**Television tv3 = new Television();** - (tv3 is a new remote controller with new Television)\r\n","title":"What are classes, references, and objects?","body":"<p>========= Class and Object ===========</p>\n\n<p>Class => ex: Person (More like imagination)</p>\n\n<p>Object => ex: John, Mike (Real person)</p>\n\n<p>=========== Reference ============</p>\n\n<p>ex:</p>\n\n<p><strong>Television tv1;</strong> - (Television is a class, tv1 is a remote controller without Television)</p>\n\n<p><strong>Television tv2 = new Television();</strong> - (Now tv2 remote controller has a Television)</p>\n\n<p><strong>tv1 = tv2;</strong> - (Now tv1 and tv2 can control same Television)</p>\n\n<p><strong>Television tv3 = new Television();</strong> - (tv3 is a new remote controller with new Television)</p>\n"},{"tags":[],"owner":{"account_id":4369712,"reputation":907,"user_id":3564447,"display_name":"Farbod"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1423151796,"creation_date":1423151796,"answer_id":28348417,"question_id":9224517,"body_markdown":"In the book &quot;Thinking in Java&quot; from Bruce Eckel it has been described perfectly:\r\n\r\n&quot;You might imagine a television (the object) and a remote control (the reference). As long as you’re holding this reference, you have a connection to the television, but when someone says, “Change the channel” or “Lower the volume,” what you’re manipulating is the reference, which in turn modifies the object. If you want to move around the room and still control the television, you take the remote/reference with you, not the television.\r\n\r\nAlso, the remote control can stand on its own, with no television. That is, just because you have a reference doesn&#39;t mean there’s necessarily an object connected to it. So if you want to hold a word or sentence, you create a String reference:\r\n\r\n    String s;\r\n\r\nBut here you’ve created only the reference, not an object. If you decided to send a message to s at this point, you’ll get an error because `s` isn’t actually attached to anything (there’s no television). A safer practice, then, is always to initialize a reference when you create it:\r\n\r\n    String s = &quot;asdf&quot;;\r\n\r\nHowever, this uses a special Java feature: Strings can be initialized with quoted text. Normally, you must use a more general type of initialization for objects.\r\n\r\nWhen you create a reference, you want to connect it with a new object. You do so, in general, with the new operator. The keyword new says, “Make me a new one of these objects.” So in the preceding example, you can say:\r\n\r\n    String s = new String(&quot;asdf&quot;);\r\n\r\nNot only does this mean “Make me a new String,” but it also gives information about how to make the String by supplying an initial character string.\r\nOf course, Java comes with a plethora of ready-made types in addition to String. What’s more important is that you can create your own types. In fact, creating new types is the fundamental activity in Java programming.&quot;","title":"What are classes, references, and objects?","body":"<p>In the book \"Thinking in Java\" from Bruce Eckel it has been described perfectly:</p>\n\n<p>\"You might imagine a television (the object) and a remote control (the reference). As long as you’re holding this reference, you have a connection to the television, but when someone says, “Change the channel” or “Lower the volume,” what you’re manipulating is the reference, which in turn modifies the object. If you want to move around the room and still control the television, you take the remote/reference with you, not the television.</p>\n\n<p>Also, the remote control can stand on its own, with no television. That is, just because you have a reference doesn't mean there’s necessarily an object connected to it. So if you want to hold a word or sentence, you create a String reference:</p>\n\n<pre><code>String s;\n</code></pre>\n\n<p>But here you’ve created only the reference, not an object. If you decided to send a message to s at this point, you’ll get an error because <code>s</code> isn’t actually attached to anything (there’s no television). A safer practice, then, is always to initialize a reference when you create it:</p>\n\n<pre><code>String s = \"asdf\";\n</code></pre>\n\n<p>However, this uses a special Java feature: Strings can be initialized with quoted text. Normally, you must use a more general type of initialization for objects.</p>\n\n<p>When you create a reference, you want to connect it with a new object. You do so, in general, with the new operator. The keyword new says, “Make me a new one of these objects.” So in the preceding example, you can say:</p>\n\n<pre><code>String s = new String(\"asdf\");\n</code></pre>\n\n<p>Not only does this mean “Make me a new String,” but it also gives information about how to make the String by supplying an initial character string.\nOf course, Java comes with a plethora of ready-made types in addition to String. What’s more important is that you can create your own types. In fact, creating new types is the fundamental activity in Java programming.\"</p>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517903051,"creation_date":1517901904,"answer_id":48637581,"question_id":9224517,"body_markdown":"&gt; ***Class : Used to define a real life entity into a programming environment.***\r\n\r\n Any real life entity having at least one `property` and a corresponding `behaviour` can be considered as a class. Lets take an example of a **Car**, it is having a property `accelerator` which helps the car to move and to control its speed. The corresponding behaviour is `acceleration`, which is directly proportional to the push applied to the accelerator.\r\n\r\n    class Car {\r\n        private String tier;\r\n        private String tierFriction;\r\n        private double weight;\r\n        private double gasFedToEngine;\r\n    }\r\n\r\nThe above class shows some properties of a Car, on which its acceleration depends. Behaviour (`method in the class`) always depends on the property(s) (`global attribute(s) of the class`). Now if you want more details you can define `Tier` as another entity, then the definition will look like\r\n\r\n\r\n    class Tier {\r\n        private String tierMaterial;\r\n        private String tierFriction;\r\n        private double weight;\r\n        private double tierDiameter;\r\n    }\r\n\r\n    class Car {\r\n        private Tier tier;  // getting all properties of Tier here itself\r\n        private double weight;\r\n        private double gasFedToEngine;\r\n    }\r\n\r\n\r\n&gt; ***Object : Used to define various flavours of an Entity and to perform data manipulations on them separately.***\r\n\r\nNow we have defined an entity to our program, say we are having a showroom of used cars, having cars of different companies. So each car becomes an `object` of our entity. Objects can be Audi, Nissan, Ferrari etc. So after opening the showroom we add cars to it like this\r\n\r\n    static List&lt;Car&gt; showroomCars = new ArrayList&lt;Car&gt;();\r\n    public boolean addCarToShowroom() {\r\n        Car carNissan = new Car();  // always creates a new objects and allocates some memory in heap\r\n        carNissan.setName(&quot;Nissan&quot;);\r\n        carNissan.setColor(RED);\r\n        carNissan.setWeight(300);\r\n        showroomCars.add(carNissan);\r\n\r\n        Car carAudi = new Car();\r\n        carAudi.setName(&quot;Audi&quot;);\r\n        carAudi.setColor(BLACK);\r\n        carAudi.setWeight(270);\r\n        showroomCars.add(carAudi);\r\n    }\r\n\r\nSo now two new cars are added to the Showroom, one of Nissan and another one of Audi, each having their own specific attribute values. \r\n\r\n`Class` only gives definition, manipulation is done on `Object`, for doing manipulation on any Class, object should be created. Every time an object is created to a class all its non-satic(instance) variables will load into memory with their respective default values.\r\n\r\n&gt; ***Reference : Used to address an object***\r\n\r\nWhen we say `Car carAudi = new Car();` we define a new object to Car and a memory location is assigned for that object. The reference variable `carAudi` holds the memory address of that object. Object is never accessed directly by user, neither its memory location. That&#39;s where reference variable has significance, its stores the `hexadecimal` format of memory location. If we want to do modifications on an object do with the help of reference not directly.\r\n\r\n***An object can have any number of reference, but a reference can point only to one object at a time.***\r\n\r\n    class Car {\r\n        void test() {\r\n            Car car1 = new Car();  // (1)\r\n            Car car2 = new Car();  // (2)\r\n            car2 = car1;\r\n            /** \r\n             Says that car2 should point to where car1 points, so now both points to first object of Car\r\n             But for this car2 has to loose its current object-(2), making it an Abandoned object (An object with no active reference from the stack).\r\n            **/\r\n        }\r\n    }","title":"What are classes, references, and objects?","body":"<blockquote>\n  <p><strong><em>Class : Used to define a real life entity into a programming environment.</em></strong></p>\n</blockquote>\n\n<p>Any real life entity having at least one <code>property</code> and a corresponding <code>behaviour</code> can be considered as a class. Lets take an example of a <strong>Car</strong>, it is having a property <code>accelerator</code> which helps the car to move and to control its speed. The corresponding behaviour is <code>acceleration</code>, which is directly proportional to the push applied to the accelerator.</p>\n\n<pre><code>class Car {\n    private String tier;\n    private String tierFriction;\n    private double weight;\n    private double gasFedToEngine;\n}\n</code></pre>\n\n<p>The above class shows some properties of a Car, on which its acceleration depends. Behaviour (<code>method in the class</code>) always depends on the property(s) (<code>global attribute(s) of the class</code>). Now if you want more details you can define <code>Tier</code> as another entity, then the definition will look like</p>\n\n<pre><code>class Tier {\n    private String tierMaterial;\n    private String tierFriction;\n    private double weight;\n    private double tierDiameter;\n}\n\nclass Car {\n    private Tier tier;  // getting all properties of Tier here itself\n    private double weight;\n    private double gasFedToEngine;\n}\n</code></pre>\n\n<blockquote>\n  <p><strong><em>Object : Used to define various flavours of an Entity and to perform data manipulations on them separately.</em></strong></p>\n</blockquote>\n\n<p>Now we have defined an entity to our program, say we are having a showroom of used cars, having cars of different companies. So each car becomes an <code>object</code> of our entity. Objects can be Audi, Nissan, Ferrari etc. So after opening the showroom we add cars to it like this</p>\n\n<pre><code>static List&lt;Car&gt; showroomCars = new ArrayList&lt;Car&gt;();\npublic boolean addCarToShowroom() {\n    Car carNissan = new Car();  // always creates a new objects and allocates some memory in heap\n    carNissan.setName(\"Nissan\");\n    carNissan.setColor(RED);\n    carNissan.setWeight(300);\n    showroomCars.add(carNissan);\n\n    Car carAudi = new Car();\n    carAudi.setName(\"Audi\");\n    carAudi.setColor(BLACK);\n    carAudi.setWeight(270);\n    showroomCars.add(carAudi);\n}\n</code></pre>\n\n<p>So now two new cars are added to the Showroom, one of Nissan and another one of Audi, each having their own specific attribute values. </p>\n\n<p><code>Class</code> only gives definition, manipulation is done on <code>Object</code>, for doing manipulation on any Class, object should be created. Every time an object is created to a class all its non-satic(instance) variables will load into memory with their respective default values.</p>\n\n<blockquote>\n  <p><strong><em>Reference : Used to address an object</em></strong></p>\n</blockquote>\n\n<p>When we say <code>Car carAudi = new Car();</code> we define a new object to Car and a memory location is assigned for that object. The reference variable <code>carAudi</code> holds the memory address of that object. Object is never accessed directly by user, neither its memory location. That's where reference variable has significance, its stores the <code>hexadecimal</code> format of memory location. If we want to do modifications on an object do with the help of reference not directly.</p>\n\n<p><strong><em>An object can have any number of reference, but a reference can point only to one object at a time.</em></strong></p>\n\n<pre><code>class Car {\n    void test() {\n        Car car1 = new Car();  // (1)\n        Car car2 = new Car();  // (2)\n        car2 = car1;\n        /** \n         Says that car2 should point to where car1 points, so now both points to first object of Car\n         But for this car2 has to loose its current object-(2), making it an Abandoned object (An object with no active reference from the stack).\n        **/\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15015361,"reputation":71,"user_id":10838535,"display_name":"Abishek M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560417873,"creation_date":1560416497,"answer_id":56576971,"question_id":9224517,"body_markdown":"**Class:** \r\nStructure or BluePrint\r\n\r\n**Object:** \r\nPhysical Manifestation\r\n\r\n**Reference:** \r\nAddress of Object","title":"What are classes, references, and objects?","body":"<p><strong>Class:</strong> \nStructure or BluePrint</p>\n\n<p><strong>Object:</strong> \nPhysical Manifestation</p>\n\n<p><strong>Reference:</strong> \nAddress of Object</p>\n"},{"tags":[],"owner":{"account_id":10837160,"reputation":21,"user_id":7969767,"display_name":"Vivek Redhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577369098,"creation_date":1577360344,"answer_id":59487924,"question_id":9224517,"body_markdown":" - In Real world, Object is a material thing that can be seen and touched in this universe.\r\n - In Programming, Objects are same but those are stored or trapped inside a memory like when any object is being created. it will create in the RAM(Memory). So, As a human we will not be able to see it or touch it but it do exist in the memory somewhere.\r\n - So, we don&#39;t care about how system is creating or destroying objects, rather we will see how to handle it using programming.\r\n - In order to create an object, Programming language provide&#39;s us syntax format&#39;s which we can use handle these objects.\r\n - Now, How you will define what object you want to create like if you want to create a customize new car then you have to provide your requirements to the manufacturer right?.\r\n - Same way in programming, class is used. The class is a blueprint which will define how object should look like/what all data it will store and what all operation it will do. It doesn&#39;t exist in the memory and just used to define the requirements for creating an object.\r\n\r\nLet&#39;s take an example of student:\r\n```\r\n//We have a Student class. Below are some attributes which we will use:\r\n    class Student\r\n    {\r\n        string Name;\r\n        int Age;\r\n        string Address;\r\n    }\r\n```\r\n\r\nNow, Above Student doesn&#39;t really exist. This is only a blue print of how student will be. If we need to create a student then we call it creating a object and below is the format to create one student.\r\n```\r\nStudent student=new Student();\r\n```\r\n\r\nNow, 1 student object has been created in the memory which can be used to set any name/age/address and get the same information as shown below:\r\n```\r\n        static void Main(string[] args)\r\n        {\r\n            Student student = new Student();\r\n            student.Name = &quot;Vivek&quot;;\r\n            student.Age = 24;\r\n            student.Address = &quot;Address&quot;;\r\n            Console.Write(&quot;Student Name is &quot; + student.Name + &quot; whose age is &quot; + student.Age + &quot; and he/she stays at &quot; + student.Address);\r\n        }\r\n```\r\n\r\n\r\n\r\n \r\n\r\nNow, Assume you want to provide some work to Student, How will you do it?\r\n```\r\n//By writing a function/method and write the code which student should handle as below:\r\n    class Student\r\n    {\r\n        public string Name;\r\n        public int Age;\r\n        public string Address;\r\n\r\n        public void Run()\r\n        {\r\n            //Write some code\r\n        }\r\n\r\n        public void Walk()\r\n        {\r\n            //Write some code\r\n        }\r\n    }\r\n```\r\nAbove one is just an example as student will not run in the memory, So, Code which you have to write is C# code only or whatever programming language which you are using to write code. Like do some operation with C#.\r\n\r\nNow, I would like to highlight that:\r\n\r\n - if you see in the real world. Student does not only contain Name/Address/Age but student also have other attributes like Mother Name/Father Name/Passport etc. In addition to normal attributes, We can also add body parts like Brain/Heart/Legs etc.\r\n - So, Class Student can be more complex if you add all attributes to it.\r\n\r\n\r\nExample: Your customize car will not customize all parts of your car. You have to use exisiting parts like wheels/tier/Air conditioner etc. So, Classes can use exisiting classes/struct/methods/fields etc. in order to achieve the requirement. As you can see below that class is using other classes/struct/methods/fields etc. in order to achieve the requirements:\r\n```\r\n        //String is also class which represents text as a sequence of UTF-16 code units\r\n        public string Name;\r\n\r\n        //Integer is a struct which represents a 32-bit signed integer\r\n        public int Age;\r\n\r\n        //String is also class which represents text as a sequence of UTF-16 code units\r\n        public string Address;\r\n```","title":"What are classes, references, and objects?","body":"<ul>\n<li>In Real world, Object is a material thing that can be seen and touched in this universe.</li>\n<li>In Programming, Objects are same but those are stored or trapped inside a memory like when any object is being created. it will create in the RAM(Memory). So, As a human we will not be able to see it or touch it but it do exist in the memory somewhere.</li>\n<li>So, we don't care about how system is creating or destroying objects, rather we will see how to handle it using programming.</li>\n<li>In order to create an object, Programming language provide's us syntax format's which we can use handle these objects.</li>\n<li>Now, How you will define what object you want to create like if you want to create a customize new car then you have to provide your requirements to the manufacturer right?.</li>\n<li>Same way in programming, class is used. The class is a blueprint which will define how object should look like/what all data it will store and what all operation it will do. It doesn't exist in the memory and just used to define the requirements for creating an object.</li>\n</ul>\n\n<p>Let's take an example of student:</p>\n\n<pre><code>//We have a Student class. Below are some attributes which we will use:\n    class Student\n    {\n        string Name;\n        int Age;\n        string Address;\n    }\n</code></pre>\n\n<p>Now, Above Student doesn't really exist. This is only a blue print of how student will be. If we need to create a student then we call it creating a object and below is the format to create one student.</p>\n\n<pre><code>Student student=new Student();\n</code></pre>\n\n<p>Now, 1 student object has been created in the memory which can be used to set any name/age/address and get the same information as shown below:</p>\n\n<pre><code>        static void Main(string[] args)\n        {\n            Student student = new Student();\n            student.Name = \"Vivek\";\n            student.Age = 24;\n            student.Address = \"Address\";\n            Console.Write(\"Student Name is \" + student.Name + \" whose age is \" + student.Age + \" and he/she stays at \" + student.Address);\n        }\n</code></pre>\n\n<p>Now, Assume you want to provide some work to Student, How will you do it?</p>\n\n<pre><code>//By writing a function/method and write the code which student should handle as below:\n    class Student\n    {\n        public string Name;\n        public int Age;\n        public string Address;\n\n        public void Run()\n        {\n            //Write some code\n        }\n\n        public void Walk()\n        {\n            //Write some code\n        }\n    }\n</code></pre>\n\n<p>Above one is just an example as student will not run in the memory, So, Code which you have to write is C# code only or whatever programming language which you are using to write code. Like do some operation with C#.</p>\n\n<p>Now, I would like to highlight that:</p>\n\n<ul>\n<li>if you see in the real world. Student does not only contain Name/Address/Age but student also have other attributes like Mother Name/Father Name/Passport etc. In addition to normal attributes, We can also add body parts like Brain/Heart/Legs etc.</li>\n<li>So, Class Student can be more complex if you add all attributes to it.</li>\n</ul>\n\n<p>Example: Your customize car will not customize all parts of your car. You have to use exisiting parts like wheels/tier/Air conditioner etc. So, Classes can use exisiting classes/struct/methods/fields etc. in order to achieve the requirement. As you can see below that class is using other classes/struct/methods/fields etc. in order to achieve the requirements:</p>\n\n<pre><code>        //String is also class which represents text as a sequence of UTF-16 code units\n        public string Name;\n\n        //Integer is a struct which represents a 32-bit signed integer\n        public int Age;\n\n        //String is also class which represents text as a sequence of UTF-16 code units\n        public string Address;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21804216,"reputation":1,"user_id":16102619,"display_name":"John Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622614329,"creation_date":1622614329,"answer_id":67799809,"question_id":9224517,"body_markdown":"Everything in Java is associated with class objects and classes, including attributes and methods. Ex:  a car is an object in real life. The car has attributes, such as weight and color, and methods, such as drive and brake. A Class is like an object constructor or a &quot;blueprint&quot; for creating objects.\r\n\r\nA reference is an address that indicates where an object&#39;s variables and methods are stored. You aren&#39;t actually using objects when you assign an object to a variable or pass an object to a method as an argument.","title":"What are classes, references, and objects?","body":"<p>Everything in Java is associated with class objects and classes, including attributes and methods. Ex:  a car is an object in real life. The car has attributes, such as weight and color, and methods, such as drive and brake. A Class is like an object constructor or a &quot;blueprint&quot; for creating objects.</p>\n<p>A reference is an address that indicates where an object's variables and methods are stored. You aren't actually using objects when you assign an object to a variable or pass an object to a method as an argument.</p>\n"}],"owner":{"account_id":932671,"reputation":15737,"user_id":962206,"accept_rate":61,"display_name":"user962206"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76356,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":9224971,"answer_count":12,"score":53,"last_activity_date":1650891599,"creation_date":1328860790,"question_id":9224517,"body_markdown":"I&#39;ve been programming Java for 2 years now, and I have encountered a problem where I couldn&#39;t understand and differentiate class, reference, and an object. \r\n\r\nI am not sure if a class or reference are the same, though I have an idea of what an object is. \r\n\r\nCan someone differentiate in a complete manner what classes, references, and objects are?\r\n\r\nAll I know is that a class is more like a template for an object (blueprint to a house where the class is the blueprint and the house is an object).","title":"What are classes, references, and objects?","body":"<p>I've been programming Java for 2 years now, and I have encountered a problem where I couldn't understand and differentiate class, reference, and an object.</p>\n<p>I am not sure if a class or reference are the same, though I have an idea of what an object is.</p>\n<p>Can someone differentiate in a complete manner what classes, references, and objects are?</p>\n<p>All I know is that a class is more like a template for an object (blueprint to a house where the class is the blueprint and the house is an object).</p>\n"},{"tags":["java","http","urlconnection"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1281281938,"post_id":3432263,"comment_id":3578079,"body_markdown":"Do you have control on the server ? What errors are happening there ? Have you tried a debugger with remote debugging, or running inside your IDE ?","body":"Do you have control on the server ? What errors are happening there ? Have you tried a debugger with remote debugging, or running inside your IDE ?"},{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1630402657,"post_id":3432263,"comment_id":121940060,"body_markdown":"i experiencing the same problem here....\nsomewhere after 2000 lines of code. Is that caching problem or something?","body":"i experiencing the same problem here.... somewhere after 2000 lines of code. Is that caching problem or something?"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1281220007,"creation_date":1281220007,"answer_id":3432279,"question_id":3432263,"body_markdown":"[HTTP status code 500][1] usually means that the webserver code has crashed. You need to determine the status code beforehand using [`HttpURLConnection#getResponseCode()`][2] and in case of errors, read the [`HttpURLConnection#getErrorStream()`][3] instead. It may namely contain information about the problem.\n\nIf the host has blocked you, you would rather have gotten a 4nn status code like 401 or 403.\n### See also:\n\n- [How to use URLConnection to fire and handle HTTP requests?][4]\n\n\n  [1]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1\n  [2]: http://download.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html#getResponseCode%28%29\n  [3]: http://download.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html#getErrorStream%28%29\n  [4]: https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests","title":"java.io.IOException: Server returned HTTP response code: 500","body":"<p><a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1\" rel=\"noreferrer\">HTTP status code 500</a> usually means that the webserver code has crashed. You need to determine the status code beforehand using <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html#getResponseCode%28%29\" rel=\"noreferrer\"><code>HttpURLConnection#getResponseCode()</code></a> and in case of errors, read the <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html#getErrorStream%28%29\" rel=\"noreferrer\"><code>HttpURLConnection#getErrorStream()</code></a> instead. It may namely contain information about the problem.</p>\n<p>If the host has blocked you, you would rather have gotten a 4nn status code like 401 or 403.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\">How to use URLConnection to fire and handle HTTP requests?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":393510,"reputation":3285,"user_id":755401,"accept_rate":82,"display_name":"arthur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1311449191,"creation_date":1311449191,"answer_id":6802762,"question_id":3432263,"body_markdown":"This Status Code 500 is an Internal Server Error. This code indicates that a part of the server (for example, a CGI program) has crashed or encountered a configuration error.\r\n\r\ni think the problem does&#39;nt lie on your side, but rather on the side of the Http server.\r\nthe resources you used to access may have been moved or get corrupted, or its configuration just may have altered or spoiled\r\n\r\n","title":"java.io.IOException: Server returned HTTP response code: 500","body":"<p>This Status Code 500 is an Internal Server Error. This code indicates that a part of the server (for example, a CGI program) has crashed or encountered a configuration error.</p>\n\n<p>i think the problem does'nt lie on your side, but rather on the side of the Http server.\nthe resources you used to access may have been moved or get corrupted, or its configuration just may have altered or spoiled</p>\n"},{"tags":[],"owner":{"account_id":4167458,"reputation":46,"user_id":3416120,"display_name":"AMIL.Y"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646124843,"creation_date":1412295377,"answer_id":26171565,"question_id":3432263,"body_markdown":"You may look within the first server response and see if the server sent you a cookie.\r\n\r\nTo check if the server sent you a cookie, you can use HttpURLConnection#getHeaderFields() and look for headers named &quot;Set-Cookie&quot;.\r\n\r\nIf existing, [here&#39;s the solution for your problem.][1] 100% Working for this case!\r\n\r\n  [1]: http://www.hccp.org/java-net-cookie-how-to.html","title":"java.io.IOException: Server returned HTTP response code: 500","body":"<p>You may look within the first server response and see if the server sent you a cookie.</p>\n<p>To check if the server sent you a cookie, you can use HttpURLConnection#getHeaderFields() and look for headers named &quot;Set-Cookie&quot;.</p>\n<p>If existing, <a href=\"http://www.hccp.org/java-net-cookie-how-to.html\" rel=\"nofollow noreferrer\">here's the solution for your problem.</a> 100% Working for this case!</p>\n"},{"tags":[],"owner":{"account_id":1298216,"reputation":406,"user_id":1248703,"accept_rate":50,"display_name":"GarethReid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447890901,"creation_date":1447890901,"answer_id":33792814,"question_id":3432263,"body_markdown":"I had this problem i.e. works fine when pasted into browser but 505s when done through java. It was simply the spaces that needed to be escaped/encoded.","title":"java.io.IOException: Server returned HTTP response code: 500","body":"<p>I had this problem i.e. works fine when pasted into browser but 505s when done through java. It was simply the spaces that needed to be escaped/encoded.</p>\n"},{"tags":[],"owner":{"account_id":9259688,"reputation":11,"user_id":6877229,"display_name":"hongjunzhan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1474792401,"creation_date":1474792401,"answer_id":39684880,"question_id":3432263,"body_markdown":"Change the content-type to &quot;application/x-www-form-urlencoded&quot;, i solved the problem. ","title":"java.io.IOException: Server returned HTTP response code: 500","body":"<p>Change the content-type to \"application/x-www-form-urlencoded\", i solved the problem. </p>\n"},{"tags":[],"owner":{"account_id":4777056,"reputation":11,"user_id":4140464,"display_name":"Prem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550055099,"creation_date":1550055099,"answer_id":54668436,"question_id":3432263,"body_markdown":"The problem must be with the parameters you are passing(You must be passing blank parameters). For example : http://www.myurl.com?id=5&amp;name=\r\nCheck if you are handling this at the server you are calling.","title":"java.io.IOException: Server returned HTTP response code: 500","body":"<p>The problem must be with the parameters you are passing(You must be passing blank parameters). For example : <a href=\"http://www.myurl.com?id=5&amp;name=\" rel=\"nofollow noreferrer\">http://www.myurl.com?id=5&amp;name=</a>\nCheck if you are handling this at the server you are calling.</p>\n"},{"tags":[],"owner":{"account_id":3994569,"reputation":603,"user_id":3292585,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650891267,"creation_date":1650891267,"answer_id":71999874,"question_id":3432263,"body_markdown":"In my case, I had changed the **Content-Type** to **Accept** and it resolved the issue.\r\n\r\n        URL url = new URL(GET_URL);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json; charset=utf-8&quot;);","title":"java.io.IOException: Server returned HTTP response code: 500","body":"<p>In my case, I had changed the <strong>Content-Type</strong> to <strong>Accept</strong> and it resolved the issue.</p>\n<pre><code>    URL url = new URL(GET_URL);\n    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n    con.setRequestMethod(&quot;GET&quot;);\n    con.setRequestProperty(&quot;Accept&quot;, &quot;application/json; charset=utf-8&quot;);\n</code></pre>\n"}],"owner":{"account_id":120968,"reputation":5879,"user_id":313721,"accept_rate":93,"display_name":"rlc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228898,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":3432279,"answer_count":7,"score":19,"last_activity_date":1650891267,"creation_date":1281219696,"question_id":3432263,"body_markdown":" \r\nI&#39;m facing this problem with Java. I want to get some HTML informations from a URL. This code was working for so long, but suddenly, it stopped working.\r\n\r\nWhen I access this URL using the browser, it opens with no problem.\r\n\r\nThe code:\r\n\r\n    URL site = new URL(this.url);\r\n    java.net.URLConnection yc = site.openConnection();\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(yc.getInputStream()));\r\n    String inputLine;\r\n    String objetivo = &quot;&lt;td height=\\&quot;28\\&quot; colspan=\\&quot;2\\&quot;&quot;;\r\n    while ((inputLine = in.readLine()) != null &amp;&amp; !inputLine.contains(objetivo)) {\r\n    }\r\n    inputLine = in.readLine();\r\n\r\nThe Exception:\r\n\r\n    java.io.IOException: Server returned HTTP response code: 500 for URL: http://www.myurl.com\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n    \tat Sites.websites.Site1.getData(Site1.java:53)\r\n    \tat util.Util.lerArquivo(Util.java:278)\r\n    \tat util.Util.main(Util.java:983)\r\n\r\n\r\nWhat&#39;s wrong? Did the host block me?","title":"java.io.IOException: Server returned HTTP response code: 500","body":"<p>I'm facing this problem with Java. I want to get some HTML informations from a URL. This code was working for so long, but suddenly, it stopped working.</p>\n\n<p>When I access this URL using the browser, it opens with no problem.</p>\n\n<p>The code:</p>\n\n<pre><code>URL site = new URL(this.url);\njava.net.URLConnection yc = site.openConnection();\nBufferedReader in = new BufferedReader(new InputStreamReader(yc.getInputStream()));\nString inputLine;\nString objetivo = \"&lt;td height=\\\"28\\\" colspan=\\\"2\\\"\";\nwhile ((inputLine = in.readLine()) != null &amp;&amp; !inputLine.contains(objetivo)) {\n}\ninputLine = in.readLine();\n</code></pre>\n\n<p>The Exception:</p>\n\n<pre><code>java.io.IOException: Server returned HTTP response code: 500 for URL: http://www.myurl.com\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at Sites.websites.Site1.getData(Site1.java:53)\n    at util.Util.lerArquivo(Util.java:278)\n    at util.Util.main(Util.java:983)\n</code></pre>\n\n<p>What's wrong? Did the host block me?</p>\n"},{"tags":["java","spring","maven","exception","feign"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650888894,"post_id":71999334,"comment_id":127222383,"body_markdown":"Why create an interface with `@FeignClient` and next implement it... That doesn&#39;t make sense. Your service implementation isn&#39;t the beist either, why are you execution a query 3 times in the `findAll` and twice in the `findCarById`.","body":"Why create an interface with <code>@FeignClient</code> and next implement it... That doesn&#39;t make sense. Your service implementation isn&#39;t the beist either, why are you execution a query 3 times in the <code>findAll</code> and twice in the <code>findCarById</code>."},{"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"score":0,"creation_date":1650889671,"post_id":71999334,"comment_id":127222646,"body_markdown":"Oh is the @FeignClient(&quot;cars&quot;) not needed?","body":"Oh is the @FeignClient(&quot;cars&quot;) not needed?"},{"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"score":0,"creation_date":1650889763,"post_id":71999334,"comment_id":127222677,"body_markdown":"The Service implementation doesn&#39;t matter rn. I can improve it later. What I was wondering if how to implement the exception handling.","body":"The Service implementation doesn&#39;t matter rn. I can improve it later. What I was wondering if how to implement the exception handling."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650889963,"post_id":71999334,"comment_id":127222749,"body_markdown":"Again your interface + implementation doesn&#39;t make any sense... An interface with `@FeignClient` doesn&#39;t need an implementation, it is an interface and proxy for a remote system. So what you show here doesn&#39;t make sense. Regarding the exception handling that is what `@ExceptionHandler` is for.","body":"Again your interface + implementation doesn&#39;t make any sense... An interface with <code>@FeignClient</code> doesn&#39;t need an implementation, it is an interface and proxy for a remote system. So what you show here doesn&#39;t make sense. Regarding the exception handling that is what <code>@ExceptionHandler</code> is for."},{"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"score":0,"creation_date":1650890307,"post_id":71999334,"comment_id":127222858,"body_markdown":"The interface makes sense to me and works. Guess should try looking into @ExceptionHanlder more","body":"The interface makes sense to me and works. Guess should try looking into @ExceptionHanlder more"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650890558,"post_id":71999334,"comment_id":127222942,"body_markdown":"I&#39;m not saying it won&#39;t work, the combination of `@FeignClient` and an implemented interface doesn&#39;t make sense. Generally a controller with an interface is more trouble then it is worth.","body":"I&#39;m not saying it won&#39;t work, the combination of <code>@FeignClient</code> and an implemented interface doesn&#39;t make sense. Generally a controller with an interface is more trouble then it is worth."}],"answers":[{"tags":[],"owner":{"account_id":25084421,"reputation":141,"user_id":18936800,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650891113,"creation_date":1650890706,"answer_id":71999757,"question_id":71999334,"body_markdown":"You want to mix up duties.\r\n\r\nFeign Client CarClient provides you with a simple client class that executes CarController. It is just much more convenient than implementing it manually + includes support of load balancer paths.\r\n\r\nError handling is the responsibility of the controller. The controller accepts the request and returns an answer. Error handling is needed here to provide answers in depends on your logic execution status.\r\n\r\nIf you just want to make error handling more readable you can do smth like: \r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Slf4j\r\n    @RestController\r\n    public class CarController implements CarClient {\r\n\r\n        @Autowired\r\n        private CarService carService;\r\n\r\n        public List&lt;Car&gt; getAllCars() throws EmptyDb {\r\n             log.info(&quot;Returning a list of the cars.&quot;);\r\n             return carService.getAllCars();\r\n        }\r\n        \r\n        public Car findByCarId(Long carId, Car car) throws NotExist {\r\n             log.info(&quot;Returning the carId.&quot;);\r\n             return carService.findCarById(carId);\r\n        }\r\n        \r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        @ExceptionHandler(EmptyDb.class)\r\n        public ResponseStatusException handle(EmptyDb ex) {\r\n            return new ResponseStatusException(&quot;The database is empty.&quot;);\r\n        }\r\n        \r\n        @ResponseStatus(HttpStNotExistatus.NOT_FOUND)\r\n        @ExceptionHandler(NotExist.class)\r\n        public ResponseStatusException handle(NotExist ex) {\r\n            return new ResponseStatusException(&quot;Sorry, this ID was not exists&quot;)\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n@ExceptionHandler will return ResponseStatusException with a status of @ResponseStatus if your controller methods will throw NotExist or EmptyDb exceptions.\r\n\r\nP.S. Consider that in general, your code needs more refactoring and work.\r\n","title":"Trouble implementing Error Exceptions in Java Spring","body":"<p>You want to mix up duties.</p>\n<p>Feign Client CarClient provides you with a simple client class that executes CarController. It is just much more convenient than implementing it manually + includes support of load balancer paths.</p>\n<p>Error handling is the responsibility of the controller. The controller accepts the request and returns an answer. Error handling is needed here to provide answers in depends on your logic execution status.</p>\n<p>If you just want to make error handling more readable you can do smth like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\npublic class CarController implements CarClient {\n\n    @Autowired\n    private CarService carService;\n\n    public List&lt;Car&gt; getAllCars() throws EmptyDb {\n         log.info(&quot;Returning a list of the cars.&quot;);\n         return carService.getAllCars();\n    }\n    \n    public Car findByCarId(Long carId, Car car) throws NotExist {\n         log.info(&quot;Returning the carId.&quot;);\n         return carService.findCarById(carId);\n    }\n    \n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    @ExceptionHandler(EmptyDb.class)\n    public ResponseStatusException handle(EmptyDb ex) {\n        return new ResponseStatusException(&quot;The database is empty.&quot;);\n    }\n    \n    @ResponseStatus(HttpStNotExistatus.NOT_FOUND)\n    @ExceptionHandler(NotExist.class)\n    public ResponseStatusException handle(NotExist ex) {\n        return new ResponseStatusException(&quot;Sorry, this ID was not exists&quot;)\n    }\n}\n</code></pre>\n\n<p>@ExceptionHandler will return ResponseStatusException with a status of @ResponseStatus if your controller methods will throw NotExist or EmptyDb exceptions.</p>\n<p>P.S. Consider that in general, your code needs more refactoring and work.</p>\n"}],"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650891113,"creation_date":1650888636,"question_id":71999334,"body_markdown":"I&#39;m new to using SpringBoot. \r\nI have implemented a FeignClient for my microservice &quot;cars&quot; for the RequestMapping and now I need to do the same for the Exception handling.\r\n\r\n**CarClient.java**\r\n\r\n    @FeignClient(&quot;cars&quot;)\r\n    public interface CarClient {\r\n        String api = &quot;cars&quot;;\r\n        \r\n        @RequestMapping(method = RequestMethod.GET, value = api + &quot;/&quot;, produces = &quot;application/JSON&quot;)\r\n        ResponseEntity&lt;List&lt;Car&gt;&gt; getAllCars();\r\n    \r\n        @RequestMapping(method = RequestMethod.GET, value = api + &quot;/{id}&quot;, produces = &quot;application/JSON&quot;)\r\n        ResponseEntity&lt;Car&gt; findByCarId(@PathVariable(&quot;id&quot;) Long carId, Car car);\r\n    }\r\n\r\n\r\n**CarController.java**\r\n\r\n    @Slf4j\r\n    @RestController\r\n    public class CarController implements CarClient {\r\n    \r\n        @Autowired\r\n        private CarService carService;\r\n    \r\n        public ResponseEntity&lt;List&lt;Car&gt;&gt; getAllCars() {\r\n            try {\r\n                log.info(&quot;Returning a list of the cars.&quot;);\r\n                return new ResponseEntity&lt;List&lt;Car&gt;&gt;(carService.getAllCars(), HttpStatus.OK);\r\n            }\r\n            catch (NotExist ex) {\r\n                throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;The database is empty.&quot;, ex);\r\n            }\r\n        }\r\n    \r\n        public ResponseEntity&lt;Car&gt; findByCarId(Long carId, Car car) {\r\n            try {\r\n                log.info(&quot;Returning the carId.&quot;);\r\n                return new ResponseEntity&lt;Car&gt;(carService.findCarById(carId), HttpStatus.OK);\r\n            }\r\n            catch (NotExist ex) {\r\n                throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Sorry, this ID was not found.&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\n**CarService.java**\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class CarService {\r\n    \r\n        @Autowired\r\n        private CarRepository carRepository;\r\n    \r\n        public List&lt;Car&gt; getAllCars() throws NotExist{\r\n            if (carRepository.findAll().isEmpty()) throw new NotExist(&quot;There are no cars in the database.&quot;);\r\n    \r\n            log.info(&quot;Success! Retrieving all {} cars.&quot;, carRepository.findAll().size());\r\n            return carRepository.findAll();\r\n        }\r\n    \r\n        public Car findCarById(long carId) throws NotExist {\r\n            Car existingCar = carRepository.findById(carId)\r\n                    .orElseThrow(() -&gt; new NotExist(&quot;Sorry, the car was not found.&quot;));\r\n    \r\n            log.info(&quot;Success! The car {} was fetched.&quot;, existingCar.getLicensePlateNum());\r\n            return carRepository.findByCarId(carId);\r\n        }\r\n    }\r\n\r\n\r\nI wish to move the exception handling from the **CarsController** to the **CarClient**.\r\nHow can I correct implement the code? Any help is appreciated, thank you.","title":"Trouble implementing Error Exceptions in Java Spring","body":"<p>I'm new to using SpringBoot.\nI have implemented a FeignClient for my microservice &quot;cars&quot; for the RequestMapping and now I need to do the same for the Exception handling.</p>\n<p><strong>CarClient.java</strong></p>\n<pre><code>@FeignClient(&quot;cars&quot;)\npublic interface CarClient {\n    String api = &quot;cars&quot;;\n    \n    @RequestMapping(method = RequestMethod.GET, value = api + &quot;/&quot;, produces = &quot;application/JSON&quot;)\n    ResponseEntity&lt;List&lt;Car&gt;&gt; getAllCars();\n\n    @RequestMapping(method = RequestMethod.GET, value = api + &quot;/{id}&quot;, produces = &quot;application/JSON&quot;)\n    ResponseEntity&lt;Car&gt; findByCarId(@PathVariable(&quot;id&quot;) Long carId, Car car);\n}\n</code></pre>\n<p><strong>CarController.java</strong></p>\n<pre><code>@Slf4j\n@RestController\npublic class CarController implements CarClient {\n\n    @Autowired\n    private CarService carService;\n\n    public ResponseEntity&lt;List&lt;Car&gt;&gt; getAllCars() {\n        try {\n            log.info(&quot;Returning a list of the cars.&quot;);\n            return new ResponseEntity&lt;List&lt;Car&gt;&gt;(carService.getAllCars(), HttpStatus.OK);\n        }\n        catch (NotExist ex) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;The database is empty.&quot;, ex);\n        }\n    }\n\n    public ResponseEntity&lt;Car&gt; findByCarId(Long carId, Car car) {\n        try {\n            log.info(&quot;Returning the carId.&quot;);\n            return new ResponseEntity&lt;Car&gt;(carService.findCarById(carId), HttpStatus.OK);\n        }\n        catch (NotExist ex) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Sorry, this ID was not found.&quot;, ex);\n        }\n    }\n}\n</code></pre>\n<p><strong>CarService.java</strong></p>\n<pre><code>@Slf4j\n@Service\npublic class CarService {\n\n    @Autowired\n    private CarRepository carRepository;\n\n    public List&lt;Car&gt; getAllCars() throws NotExist{\n        if (carRepository.findAll().isEmpty()) throw new NotExist(&quot;There are no cars in the database.&quot;);\n\n        log.info(&quot;Success! Retrieving all {} cars.&quot;, carRepository.findAll().size());\n        return carRepository.findAll();\n    }\n\n    public Car findCarById(long carId) throws NotExist {\n        Car existingCar = carRepository.findById(carId)\n                .orElseThrow(() -&gt; new NotExist(&quot;Sorry, the car was not found.&quot;));\n\n        log.info(&quot;Success! The car {} was fetched.&quot;, existingCar.getLicensePlateNum());\n        return carRepository.findByCarId(carId);\n    }\n}\n</code></pre>\n<p>I wish to move the exception handling from the <strong>CarsController</strong> to the <strong>CarClient</strong>.\nHow can I correct implement the code? Any help is appreciated, thank you.</p>\n"},{"tags":["java","android","android-studio","kotlin","aar"],"owner":{"account_id":455586,"reputation":32079,"user_id":853836,"accept_rate":84,"display_name":"Addev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1650890466,"creation_date":1650890466,"question_id":71999710,"body_markdown":"I&#39;m developing a library for android, using AndroidStudio and distributed as an .aar\r\n\r\nThe library also interacts with another 3rd party library (thats optional)\r\n\r\nSo, until now, I was using a wrapper class, that checks for the 3rd party classes and implements a fallback behaviour if those are missing.\r\n\r\nBut recently that library introduced a new version with breaking API changes. I&#39;d like to maintain the support compatibility with both versions of the 3rd party library.\r\nBut I can&#39;t compile against both libraries at the same time.\r\n\r\nLets see a simplified example:\r\n\r\nI was using the class com.thirdparty.Foo that way:\r\n\r\n    new Foo(context).run();\r\n\r\nthe new version of the library requires a call like this:\r\n\r\n    Foo.create(context).run();\r\n\r\nBy the way my best approach is to create two submodules in my project, one for the old dependency and one for the new one (declaring the 3rd party depenedencies inside the corresponding submodule&#39;s build.gradle)\r\n\r\nAnd deciding in runtime what classes to call\r\n\r\nBut I don&#39;t know how to merge those submodules to be included inside the .aar.\r\n\r\nShould I keep trying this way or should I implement another solution?","title":"How to support multiple versions of a dependency (with breaking API changes)","body":"<p>I'm developing a library for android, using AndroidStudio and distributed as an .aar</p>\n<p>The library also interacts with another 3rd party library (thats optional)</p>\n<p>So, until now, I was using a wrapper class, that checks for the 3rd party classes and implements a fallback behaviour if those are missing.</p>\n<p>But recently that library introduced a new version with breaking API changes. I'd like to maintain the support compatibility with both versions of the 3rd party library.\nBut I can't compile against both libraries at the same time.</p>\n<p>Lets see a simplified example:</p>\n<p>I was using the class com.thirdparty.Foo that way:</p>\n<pre><code>new Foo(context).run();\n</code></pre>\n<p>the new version of the library requires a call like this:</p>\n<pre><code>Foo.create(context).run();\n</code></pre>\n<p>By the way my best approach is to create two submodules in my project, one for the old dependency and one for the new one (declaring the 3rd party depenedencies inside the corresponding submodule's build.gradle)</p>\n<p>And deciding in runtime what classes to call</p>\n<p>But I don't know how to merge those submodules to be included inside the .aar.</p>\n<p>Should I keep trying this way or should I implement another solution?</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":2,"creation_date":1650886940,"post_id":71998928,"comment_id":127221697,"body_markdown":"No, not possible. You need to reconsider the approach.","body":"No, not possible. You need to reconsider the approach."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1650887092,"post_id":71998928,"comment_id":127221744,"body_markdown":"Static methods are not inherited. The fact that you can call `ChildClass.printClass()` is just syntactic sugar. It actually always calls `ParentClass.printClass()`. So you can&#39;t do something like that with a static method, only an inheritable non-static one.","body":"Static methods are not inherited. The fact that you can call <code>ChildClass.printClass()</code> is just syntactic sugar. It actually always calls <code>ParentClass.printClass()</code>. So you can&#39;t do something like that with a static method, only an inheritable non-static one."}],"answers":[{"tags":[],"owner":{"account_id":20502764,"reputation":155,"user_id":15046317,"display_name":"DevTaube"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650888280,"creation_date":1650888280,"answer_id":71999261,"question_id":71998928,"body_markdown":"Quoting [@RealSkeptic][1]:\r\n\r\n&gt; Static methods are not inherited. The fact that you can call ChildClass.printClass() is just syntactic sugar. It actually always calls ParentClass.printClass(). So you can&#39;t do something like that with a static method, only an inheritable non-static one.\r\n\r\n[1]: https://stackoverflow.com/questions/71998928/getting-child-class-from-static-method-of-parent-class-in-java?noredirect=1#comment127221744_71998928","title":"getting child class from static method of parent class in Java","body":"<p>Quoting <a href=\"https://stackoverflow.com/questions/71998928/getting-child-class-from-static-method-of-parent-class-in-java?noredirect=1#comment127221744_71998928\">@RealSkeptic</a>:</p>\n<blockquote>\n<p>Static methods are not inherited. The fact that you can call ChildClass.printClass() is just syntactic sugar. It actually always calls ParentClass.printClass(). So you can't do something like that with a static method, only an inheritable non-static one.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650890276,"creation_date":1650890276,"answer_id":71999670,"question_id":71998928,"body_markdown":"static methods are best thought of as living entirely outside of the class itself. The reason they do show up in classes is because of the design of java (the language) itself: Types aren&#39;t just types with a hierarchy, they also serve as the primary vehicle for java&#39;s namespacing system.\r\n\r\nTypes live in packages, packages are the top level namespace concept for types. So how do you refer to a method? There&#39;s only one way: Via the type system. Hence, static methods do have to be placed inside a type. But that&#39;s about where it ends.\r\n\r\nThey do not inherit, at all. When you write:\r\n\r\n```\r\nChildClass.lookupClass()\r\n```\r\n\r\nThe compiler just figures out: Right, well, you are clearly referring to the `lookupClass()` method in `ParentClass` so _that_ is what I will compile. You can see this in action yourself by running `javap -c -p MyExample`. The same principle applies to non-static methods, even.\r\n\r\nFor __instance__ methods, the __runtime__ undoes this maneuvre: Whenever you invoke a method on any object, the runtime system will always perform dynamic dispatch; you can&#39;t opt out of this. You may write:\r\n\r\n```\r\nAbstractList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.sort(someComparator);\r\n```\r\n\r\nand you can use `javap` to verify that this will end up writing into the class file that the method AbstractList::sort is invoked. But, at runtime the JVM will always check what `list` is actually pointing at - it&#39;s an instance of ArrayList, not AbstractList (that&#39;s obvious: AbstractList is abstract; no object can ever be directly instantiated as `new AbstractList). If ArrayList has its own take on the sort method, then _that_ will be called.\r\n\r\nThe key takeaway of all that is: Static methods do not inherit, therefore, this dynamic dispatch system is not available to them, therefore, what you want cannot be done in that fashion.\r\n\r\n## So what to do?\r\n\r\nIt feels like what you&#39;re doing is attempting to associate a hierarchy to properties that apply to the class itself. In other words, that you want there to be a hierarchical relationship between the notion of &#39;ParentClass&#39;s `lookupClass` method and ChildClass&#39;s `lookupClass` method - lookupClass is not a thing you ask an instance of ChildClass or ParentClass - you ask it at the notion of the these types themselves.\r\n\r\nIf you think about it for a moment, constructors are the same way. You don&#39;t &#39;ask&#39; an instance of ArrayList for a new arraylist. You ask ArrayList, the concept. Both &#39;do not really do&#39; inheritance and cannot be abstracted into a type hierarchy.\r\n\r\n__This is where factory classes come in__.\r\n\r\nFactory classes as a concept are just &#39;hierarchicalizing&#39; staticness, by removing `static` from it: Create a sibling type to your class hierarchy (`ParentClassFactory` for example):\r\n\r\n```\r\nabstract class ParentClassFactory {\r\n  abstract ParentClass create();\r\n  abstract void printClass();\r\n}\r\n```\r\n\r\nand then, in tandem with writing `ChildClass`, you also write `ChildClassFactory`. Generally factories have just one instance - you may want to employ the singleton pattern for this. Now you can do it just fine:\r\n\r\n```\r\nclass ChildClassFactory extends ParentClassFactory {\r\n  private static final ChildClassFactory INSTANCE = new ChildClassFactory();\r\n  public static ChildClassFactory instance() { return INSTANCE; }\r\n  public ParentClass create() { return new ChildClass(); }\r\n  public void printClass() { System.out.println(ChildClass.class); }\r\n}\r\n\r\n// elsewhere:\r\n\r\n// actually gets the ChildClassFactory singleton:\r\nParentClassFactory factory = ....;\r\nfactory.printClass(); // will print ChildClass!\r\n```\r\n","title":"getting child class from static method of parent class in Java","body":"<p>static methods are best thought of as living entirely outside of the class itself. The reason they do show up in classes is because of the design of java (the language) itself: Types aren't just types with a hierarchy, they also serve as the primary vehicle for java's namespacing system.</p>\n<p>Types live in packages, packages are the top level namespace concept for types. So how do you refer to a method? There's only one way: Via the type system. Hence, static methods do have to be placed inside a type. But that's about where it ends.</p>\n<p>They do not inherit, at all. When you write:</p>\n<pre><code>ChildClass.lookupClass()\n</code></pre>\n<p>The compiler just figures out: Right, well, you are clearly referring to the <code>lookupClass()</code> method in <code>ParentClass</code> so <em>that</em> is what I will compile. You can see this in action yourself by running <code>javap -c -p MyExample</code>. The same principle applies to non-static methods, even.</p>\n<p>For <strong>instance</strong> methods, the <strong>runtime</strong> undoes this maneuvre: Whenever you invoke a method on any object, the runtime system will always perform dynamic dispatch; you can't opt out of this. You may write:</p>\n<pre><code>AbstractList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.sort(someComparator);\n</code></pre>\n<p>and you can use <code>javap</code> to verify that this will end up writing into the class file that the method AbstractList::sort is invoked. But, at runtime the JVM will always check what <code>list</code> is actually pointing at - it's an instance of ArrayList, not AbstractList (that's obvious: AbstractList is abstract; no object can ever be directly instantiated as `new AbstractList). If ArrayList has its own take on the sort method, then <em>that</em> will be called.</p>\n<p>The key takeaway of all that is: Static methods do not inherit, therefore, this dynamic dispatch system is not available to them, therefore, what you want cannot be done in that fashion.</p>\n<h2>So what to do?</h2>\n<p>It feels like what you're doing is attempting to associate a hierarchy to properties that apply to the class itself. In other words, that you want there to be a hierarchical relationship between the notion of 'ParentClass's <code>lookupClass</code> method and ChildClass's <code>lookupClass</code> method - lookupClass is not a thing you ask an instance of ChildClass or ParentClass - you ask it at the notion of the these types themselves.</p>\n<p>If you think about it for a moment, constructors are the same way. You don't 'ask' an instance of ArrayList for a new arraylist. You ask ArrayList, the concept. Both 'do not really do' inheritance and cannot be abstracted into a type hierarchy.</p>\n<p><strong>This is where factory classes come in</strong>.</p>\n<p>Factory classes as a concept are just 'hierarchicalizing' staticness, by removing <code>static</code> from it: Create a sibling type to your class hierarchy (<code>ParentClassFactory</code> for example):</p>\n<pre><code>abstract class ParentClassFactory {\n  abstract ParentClass create();\n  abstract void printClass();\n}\n</code></pre>\n<p>and then, in tandem with writing <code>ChildClass</code>, you also write <code>ChildClassFactory</code>. Generally factories have just one instance - you may want to employ the singleton pattern for this. Now you can do it just fine:</p>\n<pre><code>class ChildClassFactory extends ParentClassFactory {\n  private static final ChildClassFactory INSTANCE = new ChildClassFactory();\n  public static ChildClassFactory instance() { return INSTANCE; }\n  public ParentClass create() { return new ChildClass(); }\n  public void printClass() { System.out.println(ChildClass.class); }\n}\n\n// elsewhere:\n\n// actually gets the ChildClassFactory singleton:\nParentClassFactory factory = ....;\nfactory.printClass(); // will print ChildClass!\n</code></pre>\n"}],"owner":{"account_id":20502764,"reputation":155,"user_id":15046317,"display_name":"DevTaube"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71999670,"answer_count":2,"score":0,"last_activity_date":1650890276,"creation_date":1650886655,"question_id":71998928,"body_markdown":"Suppose I have these classes:\r\n\r\n    public class ChildClass extends ParentClass\r\n    {\r\n        // some class definition here\r\n    }\r\n\r\n\r\n    public abstract class ParentClass\r\n    {\r\n        public static void printClass()\r\n        {\r\n            // get the class that extends this one (and for example, print it)\r\n        }\r\n    \r\n        // some class definition here\r\n    }\r\n\r\nLets say when calling `ParentClass.printClass()` I want to print the name of the class (like doing `System.out.println(ParentClass.class)`). When then extending `ParentClass` (for example like in `ChildClass`) and calling `ChildClass.printClass()`, I want it to print the name of the extending class (like doing `System.out.println(ChildClass.class)`). Is this somehow possible?\r\n\r\nI&#39;ve found a way to get the class from inside a static method by using `MethodHandles.lookup().lookupClass()`, but when using it inside of `ParentClass.printClass` and extending ParentClass, then calling `printClass` on the extending Class, I always get the class of `ParentClass`.","title":"getting child class from static method of parent class in Java","body":"<p>Suppose I have these classes:</p>\n<pre><code>public class ChildClass extends ParentClass\n{\n    // some class definition here\n}\n\n\npublic abstract class ParentClass\n{\n    public static void printClass()\n    {\n        // get the class that extends this one (and for example, print it)\n    }\n\n    // some class definition here\n}\n</code></pre>\n<p>Lets say when calling <code>ParentClass.printClass()</code> I want to print the name of the class (like doing <code>System.out.println(ParentClass.class)</code>). When then extending <code>ParentClass</code> (for example like in <code>ChildClass</code>) and calling <code>ChildClass.printClass()</code>, I want it to print the name of the extending class (like doing <code>System.out.println(ChildClass.class)</code>). Is this somehow possible?</p>\n<p>I've found a way to get the class from inside a static method by using <code>MethodHandles.lookup().lookupClass()</code>, but when using it inside of <code>ParentClass.printClass</code> and extending ParentClass, then calling <code>printClass</code> on the extending Class, I always get the class of <code>ParentClass</code>.</p>\n"},{"tags":["java","generics","type-erasure"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1650889925,"post_id":71999534,"comment_id":127222738,"body_markdown":"`public T &lt;T&gt; getInstance() { return new T(); }` and then calling it via `String s = getInstance();` will not work if you just return `new Object()` at runtime because the calling code expects a `String` but gets an `Object`.","body":"<code>public T &lt;T&gt; getInstance() { return new T(); }</code> and then calling it via <code>String s = getInstance();</code> will not work if you just return <code>new Object()</code> at runtime because the calling code expects a <code>String</code> but gets an <code>Object</code>."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1650891980,"post_id":71999534,"comment_id":127223480,"body_markdown":"&#39;perimeter&#39;? &#39;peimeter&#39;? Do you mean &#39;parameter&#39; as in &#39;type parameter&#39;? If you want to instantiate a Class into an Object at runtime and be somewhat generic, you have to supply the actual class, hardcoded or dynamically loaded. You could also use Annotations to store those infos. Then you&#39;d have to find the class&#39; proper Constructor definition to actually instantiate a Class. But relying on a classes &lt;T&gt; generic type parameter alone will not work: first the compiler checks for validity of the code. This is not the case, because `new T()` cannot be resolved later on. So it won&#39;t even compile","body":"&#39;perimeter&#39;? &#39;peimeter&#39;? Do you mean &#39;parameter&#39; as in &#39;type parameter&#39;? If you want to instantiate a Class into an Object at runtime and be somewhat generic, you have to supply the actual class, hardcoded or dynamically loaded. You could also use Annotations to store those infos. Then you&#39;d have to find the class&#39; proper Constructor definition to actually instantiate a Class. But relying on a classes &lt;T&gt; generic type parameter alone will not work: first the compiler checks for validity of the code. This is not the case, because <code>new T()</code> cannot be resolved later on. So it won&#39;t even compile"}],"answers":[{"tags":[],"owner":{"account_id":3595528,"reputation":3527,"user_id":3000387,"accept_rate":92,"display_name":"Marv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650890236,"creation_date":1650890236,"answer_id":71999661,"question_id":71999534,"body_markdown":"When you call `new T()`, `T` cannot be considered type information. What it is is a constructor, but since `T` is not a real type, there is no constructor. \r\n\r\nAt runtime, T will have some real type, but assigning an object of type `Object` might lead to a conflict.\r\n\r\nThink about the method\r\n\r\n```java\r\nT &lt;T&gt; getT() {\r\n    return new T();\r\n}\r\n```\r\n\r\nand then calling it\r\n\r\n```java\r\n&lt;String&gt;getT() \r\n```\r\n\r\nNow if `new T()` were to be replaced with `new Object()`, the method would return an `Object` when a `String` was expected. \r\n\r\nAs for why `new T()` is not replaced by `new String()`: A class is not guaranteed to have a public no args constructor, so such a constructor might not exist for a concrete class.","title":"Generics type erasure","body":"<p>When you call <code>new T()</code>, <code>T</code> cannot be considered type information. What it is is a constructor, but since <code>T</code> is not a real type, there is no constructor.</p>\n<p>At runtime, T will have some real type, but assigning an object of type <code>Object</code> might lead to a conflict.</p>\n<p>Think about the method</p>\n<pre class=\"lang-java prettyprint-override\"><code>T &lt;T&gt; getT() {\n    return new T();\n}\n</code></pre>\n<p>and then calling it</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;String&gt;getT() \n</code></pre>\n<p>Now if <code>new T()</code> were to be replaced with <code>new Object()</code>, the method would return an <code>Object</code> when a <code>String</code> was expected.</p>\n<p>As for why <code>new T()</code> is not replaced by <code>new String()</code>: A class is not guaranteed to have a public no args constructor, so such a constructor might not exist for a concrete class.</p>\n"}],"owner":{"account_id":24945622,"reputation":101,"user_id":18810982,"display_name":"Wahab Khaddim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650890236,"creation_date":1650889682,"question_id":71999534,"body_markdown":"I have the concept that in generics the type perimeter&#39;s type is decided at run time and since the data type of an object has to be decided at compile time that is why an error is given:\r\n\r\n    T obj = new T(); // error : unexpected Type  \r\n\r\nbasically it says i don&#39;t know the or i cannot decide the type of T currently(compile-time). \r\nNow in generics, i read in the book that whenever a generic file/class compiles, all the type perimeter information is erased and replaced by Object like this:\r\n\r\n    T obj = new T();\r\nis replaced by :\r\n\r\n    Object obj = new Object();\r\nNow if all the type peimeter information or type perimeter is replaced by Object then why the compiler does not compile the file and gave an error of unexpected type ? \r\nAlso if T is replaced by Object at compile time, does this Object gets replaced by our Type Pertimeter&#39;s type which is decided at runtime time ? I don&#39;t think this happens(the Object class erasure) but still if that is not happening then what actually is happening during compile time and runtime in generics ?","title":"Generics type erasure","body":"<p>I have the concept that in generics the type perimeter's type is decided at run time and since the data type of an object has to be decided at compile time that is why an error is given:</p>\n<pre><code>T obj = new T(); // error : unexpected Type  \n</code></pre>\n<p>basically it says i don't know the or i cannot decide the type of T currently(compile-time).\nNow in generics, i read in the book that whenever a generic file/class compiles, all the type perimeter information is erased and replaced by Object like this:</p>\n<pre><code>T obj = new T();\n</code></pre>\n<p>is replaced by :</p>\n<pre><code>Object obj = new Object();\n</code></pre>\n<p>Now if all the type peimeter information or type perimeter is replaced by Object then why the compiler does not compile the file and gave an error of unexpected type ?\nAlso if T is replaced by Object at compile time, does this Object gets replaced by our Type Pertimeter's type which is decided at runtime time ? I don't think this happens(the Object class erasure) but still if that is not happening then what actually is happening during compile time and runtime in generics ?</p>\n"},{"tags":["java","android","csv","kotlin"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":1,"creation_date":1650883528,"post_id":71996935,"comment_id":127220610,"body_markdown":"You are probably trying to write it to somewhere you don&#39;t have permission to write, it is unclear from both code examples where exactly you are trying to write the file and especially on later versions of Android, there is less scope to use File objects.","body":"You are probably trying to write it to somewhere you don&#39;t have permission to write, it is unclear from both code examples where exactly you are trying to write the file and especially on later versions of Android, there is less scope to use File objects."},{"owner":{"account_id":24145886,"reputation":25,"user_id":18111492,"display_name":"aizenlol"},"score":0,"creation_date":1650887851,"post_id":71996935,"comment_id":127221996,"body_markdown":"Yes, i put this on my fragment : ```binding.btnExport.setOnClickListener {\n            val path = requireContext().getExternalFilesDir(&quot;lists&quot;)\n            viewModel.export(path)\n        }```","body":"Yes, i put this on my fragment : <code>binding.btnExport.setOnClickListener {             val path = requireContext().getExternalFilesDir(&quot;lists&quot;)             viewModel.export(path)         }</code>"}],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650890202,"creation_date":1650890202,"answer_id":71999648,"question_id":71996935,"body_markdown":"The problem is you are not trying to create the file in the same location in each example.\r\n\r\nWhen you wrote the file yourself you append the &quot;name.csv&quot; to the path returned by `getExternalFilesDir(&quot;lists&quot;)`\r\n\r\nIn the apache csv example you do not use the value of `getExternalFilesDir(&quot;lists&quot;)` at all you are trying to write to the current working directory of the process which is a different location to `getExternalFilesDir(&quot;lists&quot;)`\r\n\r\nI&#39;m not a kotlin expert but try replacing\r\n\r\n```\r\nval file = &quot;${it.name}.csv&quot;\r\nval writer = Files.newBufferedWriter(Paths.get(file))\r\n```\r\n\r\nwith\r\n\r\n```\r\nval file = File(path, &quot;${it.name}.csv&quot;)\r\nfile.bufferedWriter().use {\r\n   val csvPrinter .... // rest of writing code here\r\n }\r\n\r\n```\r\n\r\nThis way the location you are opening the buffered writer at has the value of `path` prepended to it as in the first example\r\n\r\n","title":"Kotlin format CSV with header","body":"<p>The problem is you are not trying to create the file in the same location in each example.</p>\n<p>When you wrote the file yourself you append the &quot;name.csv&quot; to the path returned by <code>getExternalFilesDir(&quot;lists&quot;)</code></p>\n<p>In the apache csv example you do not use the value of <code>getExternalFilesDir(&quot;lists&quot;)</code> at all you are trying to write to the current working directory of the process which is a different location to <code>getExternalFilesDir(&quot;lists&quot;)</code></p>\n<p>I'm not a kotlin expert but try replacing</p>\n<pre><code>val file = &quot;${it.name}.csv&quot;\nval writer = Files.newBufferedWriter(Paths.get(file))\n</code></pre>\n<p>with</p>\n<pre><code>val file = File(path, &quot;${it.name}.csv&quot;)\nfile.bufferedWriter().use {\n   val csvPrinter .... // rest of writing code here\n }\n\n</code></pre>\n<p>This way the location you are opening the buffered writer at has the value of <code>path</code> prepended to it as in the first example</p>\n"}],"owner":{"account_id":24145886,"reputation":25,"user_id":18111492,"display_name":"aizenlol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71999648,"answer_count":1,"score":2,"last_activity_date":1650890202,"creation_date":1650877297,"question_id":71996935,"body_markdown":"I want to change my CSV format file **by adding a header with his list of names and date**\r\n\r\nhere is what I tried and it looks like this : \r\n![test.png][1]\r\n\r\n\r\n```\r\nfun export(path: File?) {\r\n        CoroutineScope(Dispatchers.IO).launch {\r\n            selected?.let { it -&gt;\r\n                val file = File(path, &quot;${it.name}.csv&quot;)\r\n                val tags = repository.getTagsOfList(it.id.toInt())\r\n                val tagsCSV = &quot;TAG: ${tags.map { it.name }}; DATE: ${tags.map { it.date }}&quot;\r\n                file.writeText(\r\n                    &quot;LIST NAME: ${it.name}; &quot; +\r\n                            tagsCSV)\r\n                val csv = file.readText()\r\n                println(csv)\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nbut I want this format: \r\n\r\n![version2.png][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0c6OG.png\r\n  [2]: https://i.stack.imgur.com/d7cmA.png\r\n\r\n**EDIT:** \r\nI used apache-commons.csv, it&#39;s easier but i have an exception : \r\n\r\n```fun export(path: File?) {\r\n        CoroutineScope(Dispatchers.IO).launch {\r\n            selected?.let { it -&gt;\r\n                val file = &quot;${it.name}.csv&quot;\r\n                val writer = Files.newBufferedWriter(Paths.get(file))\r\n                val csvPrinter =\r\n                    CSVPrinter(writer, CSVFormat.DEFAULT.withHeader(&quot;LIST NAME;TAGS;DATE&quot;))\r\n                val tags = repository.getTagsOfList(it.id.toInt())\r\n\r\n                // push the values into the file.\r\n                csvPrinter.printRecord(\r\n                    &quot;${it.name};${tags.map { it.name }};${tags.map { it.date }}&quot;)\r\n\r\n                //pushes the file and its content into the local system\r\n                csvPrinter.flush()\r\n                csvPrinter.close()\r\n                println(csvPrinter)\r\n            }\r\n        }\r\n    }\r\n\r\n    FATAL EXCEPTION: DefaultDispatcher-worker-1\r\n        Process: fr.pageup.techcare.readapp.debug, PID: 11435\r\n        java.nio.file.FileSystemException: yuyu.csv: Read-only file system\r\n            at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\r\n            at java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:434)\r\n\r\n```","title":"Kotlin format CSV with header","body":"<p>I want to change my CSV format file <strong>by adding a header with his list of names and date</strong></p>\n<p>here is what I tried and it looks like this :\n<img src=\"https://i.stack.imgur.com/0c6OG.png\" alt=\"test.png\" /></p>\n<pre><code>fun export(path: File?) {\n        CoroutineScope(Dispatchers.IO).launch {\n            selected?.let { it -&gt;\n                val file = File(path, &quot;${it.name}.csv&quot;)\n                val tags = repository.getTagsOfList(it.id.toInt())\n                val tagsCSV = &quot;TAG: ${tags.map { it.name }}; DATE: ${tags.map { it.date }}&quot;\n                file.writeText(\n                    &quot;LIST NAME: ${it.name}; &quot; +\n                            tagsCSV)\n                val csv = file.readText()\n                println(csv)\n            }\n        }\n    }\n</code></pre>\n<p>but I want this format:</p>\n<p><img src=\"https://i.stack.imgur.com/d7cmA.png\" alt=\"version2.png\" /></p>\n<p><strong>EDIT:</strong>\nI used apache-commons.csv, it's easier but i have an exception :</p>\n<pre><code>        CoroutineScope(Dispatchers.IO).launch {\n            selected?.let { it -&gt;\n                val file = &quot;${it.name}.csv&quot;\n                val writer = Files.newBufferedWriter(Paths.get(file))\n                val csvPrinter =\n                    CSVPrinter(writer, CSVFormat.DEFAULT.withHeader(&quot;LIST NAME;TAGS;DATE&quot;))\n                val tags = repository.getTagsOfList(it.id.toInt())\n\n                // push the values into the file.\n                csvPrinter.printRecord(\n                    &quot;${it.name};${tags.map { it.name }};${tags.map { it.date }}&quot;)\n\n                //pushes the file and its content into the local system\n                csvPrinter.flush()\n                csvPrinter.close()\n                println(csvPrinter)\n            }\n        }\n    }\n\n    FATAL EXCEPTION: DefaultDispatcher-worker-1\n        Process: fr.pageup.techcare.readapp.debug, PID: 11435\n        java.nio.file.FileSystemException: yuyu.csv: Read-only file system\n            at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\n            at java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:434)\n\n</code></pre>\n"},{"tags":["java","docker","ubuntu","tomcat7","github-actions"],"comments":[{"owner":{"account_id":405965,"reputation":39021,"user_id":775184,"display_name":"bryanmac"},"score":0,"creation_date":1650657217,"post_id":71972631,"comment_id":127179875,"body_markdown":"You might want to add steps in the last job to inspect the machine (ls -la some dirs and make sure the state is what you expect).  remember the workflow is also a good debugging tool.","body":"You might want to add steps in the last job to inspect the machine (ls -la some dirs and make sure the state is what you expect).  remember the workflow is also a good debugging tool."},{"owner":{"account_id":405965,"reputation":39021,"user_id":775184,"display_name":"bryanmac"},"score":0,"creation_date":1650657306,"post_id":71972631,"comment_id":127179897,"body_markdown":"also, is there just one runner?  each job can go to another runner.   so you&#39;re copying from target dir to webapps but what if target isn&#39;t there?  what it should probably be doing is downloading the artifact that was uploaded in the previous job not assuming it&#39;s on disk.","body":"also, is there just one runner?  each job can go to another runner.   so you&#39;re copying from target dir to webapps but what if target isn&#39;t there?  what it should probably be doing is downloading the artifact that was uploaded in the previous job not assuming it&#39;s on disk."},{"owner":{"account_id":23300838,"reputation":11,"user_id":17381505,"display_name":"Christian Dopico"},"score":0,"creation_date":1650658650,"post_id":71972631,"comment_id":127180237,"body_markdown":"Hi bryanmac, thanks for respond. Yeah the copy from target to webapps is done. Actually when I run &quot;$ sh /usr/local/tomcat/bin/catalina.sh start&quot; in the container after the pipeline the application starts on port 8080 in my browser. But I lose all the database variables from the pipeline so, I cannot send data to the database.","body":"Hi bryanmac, thanks for respond. Yeah the copy from target to webapps is done. Actually when I run &quot;$ sh /usr/local/tomcat/bin/catalina.sh start&quot; in the container after the pipeline the application starts on port 8080 in my browser. But I lose all the database variables from the pipeline so, I cannot send data to the database."},{"owner":{"account_id":405965,"reputation":39021,"user_id":775184,"display_name":"bryanmac"},"score":0,"creation_date":1650659648,"post_id":71972631,"comment_id":127180492,"body_markdown":"Also each step in actions is isolated out of proc and run out of proc so the way you&#39;re doing an export per step might be problematic.  If it was me, I would put all those steps in one shell script.  Validate it locally and then run the same thing in the workflow.","body":"Also each step in actions is isolated out of proc and run out of proc so the way you&#39;re doing an export per step might be problematic.  If it was me, I would put all those steps in one shell script.  Validate it locally and then run the same thing in the workflow."},{"owner":{"account_id":23300838,"reputation":11,"user_id":17381505,"display_name":"Christian Dopico"},"score":0,"creation_date":1650661448,"post_id":71972631,"comment_id":127180983,"body_markdown":"yeah, if I run the script on the container, everything works fine, the database is working with the application. But when I use it on gitlab runner, the tomcat does not work properly.","body":"yeah, if I run the script on the container, everything works fine, the database is working with the application. But when I use it on gitlab runner, the tomcat does not work properly."},{"owner":{"account_id":17867155,"reputation":442,"user_id":12979271,"display_name":"siiraaj"},"score":0,"creation_date":1650710646,"post_id":71972631,"comment_id":127187817,"body_markdown":"Try to stop tomcat before running the app","body":"Try to stop tomcat before running the app"}],"owner":{"account_id":23300838,"reputation":11,"user_id":17381505,"display_name":"Christian Dopico"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650890072,"creation_date":1650648797,"question_id":71972631,"body_markdown":"I&#39;m using a self-hosted GitHub Actions Runner to deploy a small Java application.\r\n\r\nThe runner is inside a Docker container, that I created using a Dockerfile:\r\n\r\n```\r\nFROM ubuntu:18.04\r\nLABEL Author=&quot;***&quot;\r\n\r\nARG GH_ACTIONS_RUNNER_VERSION=2.290.1\r\n\r\nRUN apt-get -y update &amp;&amp; \\\r\n    apt-get install -y wget &amp;&amp; \\\r\n    apt-get install -y curl &amp;&amp; \\\r\n    apt-get install -y git &amp;&amp; \\\r\n    apt-get install -y sudo &amp;&amp; \\\r\n    apt-get install -y net-tools &amp;&amp; \\\r\n    apt-get install -y maven\r\n\r\n# GITHUB ACTIONS RUNNER\r\nRUN curl -o actions-runner-linux-x64.tar.gz -L &quot;https://github.com/actions/runner/releases/download/v${GH_ACTIONS_RUNNER_VERSION}/actions-runner-linux-x64-${GH_ACTIONS_RUNNER_VERSION}.tar.gz&quot; \\\r\n    &amp;&amp; tar xzf ./actions-runner-linux-x64.tar.gz \\\r\n    &amp;&amp; rm -f actions-runner-linux-x64.tar.gz\r\n\r\n# TOMCAT\r\nEXPOSE 8080\r\nRUN cd tmp &amp;&amp; \\\r\n    wget &quot;http://apache.uvigo.es/tomcat/tomcat-9/v9.0.62/bin/apache-tomcat-9.0.62.tar.gz&quot; &amp;&amp; \\\r\n    tar -zxvf /tmp/apache-tomcat-9.0.62.tar.gz -C /usr/local &amp;&amp; \\\r\n    cd /usr/local &amp;&amp; mv apache-tomcat-9.0.62 tomcat &amp;&amp; \\\r\n    cd /tmp &amp;&amp; rm -rf *\r\n\r\n# MYSQL\r\nEXPOSE 3306\r\nRUN sudo DEBIAN_FRONTEND=noninteractive apt-get install -y mysql-server\r\n\r\n# PHANTOMJS\r\nRUN cd tmp &amp;&amp; \\\r\n    wget &quot;https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2&quot; &amp;&amp; \\\r\n    tar xvjf /tmp/phantomjs-2.1.1-linux-x86_64.tar.bz2 &amp;&amp; \\\r\n    mv /tmp/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/bin &amp;&amp; \\\r\n    rm -rf *\r\n\r\n\r\nCMD  sudo usermod -d /var/lib/mysql/ mysql &amp;&amp; sudo service mysql start &amp;&amp; sh /usr/local/tomcat/bin/catalina.sh start &amp;&amp; /bin/bash\r\n````\r\n\r\nAnd I&#39;m using the following main.yaml file to execute the pipelines:\r\n```\r\nname: CI\r\n\r\non:\r\n\r\n  push:\r\n    branches: [ main ]\r\n  pull_request:\r\n    branches: [ main ]\r\n\r\njobs:\r\n   \r\n  pruebas-unitarias:\r\n    runs-on: self-hosted\r\n    steps:\r\n      - name: Checkout repository\r\n        uses: actions/checkout@v2.3.3\r\n      - name: Unit Tests\r\n        run: mvn test\r\n\r\n  empaquetar:\r\n    runs-on: self-hosted\r\n    needs: pruebas-unitarias\r\n    steps:\r\n      - name: build\r\n        run: mvn package -DskipTests=true\r\n      - name: upload-artifact\r\n        uses: actions/upload-artifact@v3\r\n        with:\r\n          name: baloncesto\r\n          path: target/\r\n\r\n  pruebas-funcionales:\r\n    runs-on: self-hosted\r\n    needs: empaquetar\r\n    steps:\r\n      - run: cp -r target/Baloncesto /usr/local/tomcat/webapps\r\n      - run: mysql -u root &lt; db/baloncesto.sql\r\n      - run: export DATABASE_HOST=&quot;jdbc:mysql://localhost&quot;\r\n      - run: export DATABASE_PORT=&quot;3306&quot;\r\n      - run: export DATABASE_NAME=&quot;baloncesto&quot;\r\n      - run: export DATABASE_USER=&quot;usuario&quot;\r\n      - run: export DATABASE_PASS=&quot;clave&quot;\r\n      - run: sh /usr/local/tomcat/bin/catalina.sh stop\r\n      - run: sh /usr/local/tomcat/bin/catalina.sh start\r\n\r\n```\r\nHowever, after the pipeline executes, it is supposed to run the tomcat server on port 8080,but it&#39;s not.\r\n\r\nInside the pipeline when I stop the tomcat server with &quot;sh /usr/local/tomcat/bin/catalina.sh stop&quot; the ports look like this:\r\n\r\n```\r\nProto Recv-Q Send-Q Local Address           Foreign Address         State      \r\ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN     \r\ntcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN     \r\ntcp        0      0 172.17.0.3:42844        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42882        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42804        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42814        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42822        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42858        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42852        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 127.0.0.1:52434         127.0.0.1:8005          TIME_WAIT\r\n```\r\n\r\nAnd when I start it with &quot;sh /usr/local/tomcat/bin/catalina.sh start&quot; the ports looks like this:\r\n\r\n```\r\nActive Internet connections (servers and established)\r\nProto Recv-Q Send-Q Local Address           Foreign Address         State      \r\ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN     \r\ntcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN     \r\ntcp        0      0 172.17.0.3:42844        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42882        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42934        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42914        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42918        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42836        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42872        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 172.17.0.3:42840        13.107.42.16:443        TIME_WAIT  \r\ntcp        0      0 127.0.0.1:52434         127.0.0.1:8005          TIME_WAIT\r\n```\r\n\r\nAnd then, on the container, after the pipeline is executed, the ports are like this:\r\n\r\n```\r\nActive Internet connections (servers and established)\r\nProto Recv-Q Send-Q Local Address           Foreign Address         State\r\ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN\r\ntcp6       0      0 172.17.0.3:42322        13.107.42.16:443        ESTABLISHED\r\n```\r\nOnly the Mysql server is running. I don&#39;t know what is happening...\r\n\r\n\r\nPd: The tomcat server was already started before the pipeline. We need to stop and start the server again in order to set the Database variables.","title":"Tomcat Is not Starting after Github Actions pipeline","body":"<p>I'm using a self-hosted GitHub Actions Runner to deploy a small Java application.</p>\n<p>The runner is inside a Docker container, that I created using a Dockerfile:</p>\n<pre><code>FROM ubuntu:18.04\nLABEL Author=&quot;***&quot;\n\nARG GH_ACTIONS_RUNNER_VERSION=2.290.1\n\nRUN apt-get -y update &amp;&amp; \\\n    apt-get install -y wget &amp;&amp; \\\n    apt-get install -y curl &amp;&amp; \\\n    apt-get install -y git &amp;&amp; \\\n    apt-get install -y sudo &amp;&amp; \\\n    apt-get install -y net-tools &amp;&amp; \\\n    apt-get install -y maven\n\n# GITHUB ACTIONS RUNNER\nRUN curl -o actions-runner-linux-x64.tar.gz -L &quot;https://github.com/actions/runner/releases/download/v${GH_ACTIONS_RUNNER_VERSION}/actions-runner-linux-x64-${GH_ACTIONS_RUNNER_VERSION}.tar.gz&quot; \\\n    &amp;&amp; tar xzf ./actions-runner-linux-x64.tar.gz \\\n    &amp;&amp; rm -f actions-runner-linux-x64.tar.gz\n\n# TOMCAT\nEXPOSE 8080\nRUN cd tmp &amp;&amp; \\\n    wget &quot;http://apache.uvigo.es/tomcat/tomcat-9/v9.0.62/bin/apache-tomcat-9.0.62.tar.gz&quot; &amp;&amp; \\\n    tar -zxvf /tmp/apache-tomcat-9.0.62.tar.gz -C /usr/local &amp;&amp; \\\n    cd /usr/local &amp;&amp; mv apache-tomcat-9.0.62 tomcat &amp;&amp; \\\n    cd /tmp &amp;&amp; rm -rf *\n\n# MYSQL\nEXPOSE 3306\nRUN sudo DEBIAN_FRONTEND=noninteractive apt-get install -y mysql-server\n\n# PHANTOMJS\nRUN cd tmp &amp;&amp; \\\n    wget &quot;https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2&quot; &amp;&amp; \\\n    tar xvjf /tmp/phantomjs-2.1.1-linux-x86_64.tar.bz2 &amp;&amp; \\\n    mv /tmp/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/bin &amp;&amp; \\\n    rm -rf *\n\n\nCMD  sudo usermod -d /var/lib/mysql/ mysql &amp;&amp; sudo service mysql start &amp;&amp; sh /usr/local/tomcat/bin/catalina.sh start &amp;&amp; /bin/bash\n</code></pre>\n<p>And I'm using the following main.yaml file to execute the pipelines:</p>\n<pre><code>name: CI\n\non:\n\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n   \n  pruebas-unitarias:\n    runs-on: self-hosted\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2.3.3\n      - name: Unit Tests\n        run: mvn test\n\n  empaquetar:\n    runs-on: self-hosted\n    needs: pruebas-unitarias\n    steps:\n      - name: build\n        run: mvn package -DskipTests=true\n      - name: upload-artifact\n        uses: actions/upload-artifact@v3\n        with:\n          name: baloncesto\n          path: target/\n\n  pruebas-funcionales:\n    runs-on: self-hosted\n    needs: empaquetar\n    steps:\n      - run: cp -r target/Baloncesto /usr/local/tomcat/webapps\n      - run: mysql -u root &lt; db/baloncesto.sql\n      - run: export DATABASE_HOST=&quot;jdbc:mysql://localhost&quot;\n      - run: export DATABASE_PORT=&quot;3306&quot;\n      - run: export DATABASE_NAME=&quot;baloncesto&quot;\n      - run: export DATABASE_USER=&quot;usuario&quot;\n      - run: export DATABASE_PASS=&quot;clave&quot;\n      - run: sh /usr/local/tomcat/bin/catalina.sh stop\n      - run: sh /usr/local/tomcat/bin/catalina.sh start\n\n</code></pre>\n<p>However, after the pipeline executes, it is supposed to run the tomcat server on port 8080,but it's not.</p>\n<p>Inside the pipeline when I stop the tomcat server with &quot;sh /usr/local/tomcat/bin/catalina.sh stop&quot; the ports look like this:</p>\n<pre><code>Proto Recv-Q Send-Q Local Address           Foreign Address         State      \ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN     \ntcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN     \ntcp        0      0 172.17.0.3:42844        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42882        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42804        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42814        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42822        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42858        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42852        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 127.0.0.1:52434         127.0.0.1:8005          TIME_WAIT\n</code></pre>\n<p>And when I start it with &quot;sh /usr/local/tomcat/bin/catalina.sh start&quot; the ports looks like this:</p>\n<pre><code>Active Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State      \ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN     \ntcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN     \ntcp        0      0 172.17.0.3:42844        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42882        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42934        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42914        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42918        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42836        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42872        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 172.17.0.3:42840        13.107.42.16:443        TIME_WAIT  \ntcp        0      0 127.0.0.1:52434         127.0.0.1:8005          TIME_WAIT\n</code></pre>\n<p>And then, on the container, after the pipeline is executed, the ports are like this:</p>\n<pre><code>Active Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State\ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN\ntcp6       0      0 172.17.0.3:42322        13.107.42.16:443        ESTABLISHED\n</code></pre>\n<p>Only the Mysql server is running. I don't know what is happening...</p>\n<p>Pd: The tomcat server was already started before the pipeline. We need to stop and start the server again in order to set the Database variables.</p>\n"},{"tags":["java","akka","workflow","actor"],"comments":[{"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"score":1,"creation_date":1650907883,"post_id":71999593,"comment_id":127229822,"body_markdown":"This isn&#39;t really a good StackOverflow question. It&#39;s way to broad and opinion focused. But, while the question is open, Akka isn&#39;t a workflow engine but is a *great* framework to build a workflow system upon. (Because of how it manages state.)","body":"This isn&#39;t really a good StackOverflow question. It&#39;s way to broad and opinion focused. But, while the question is open, Akka isn&#39;t a workflow engine but is a <i>great</i> framework to build a workflow system upon. (Because of how it manages state.)"},{"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"score":0,"creation_date":1650907938,"post_id":71999593,"comment_id":127229839,"body_markdown":"The wikipedia page for Actor Systems lists lots of implementations, including many for Java. Akka is almost certainly the most mature though.","body":"The wikipedia page for Actor Systems lists lots of implementations, including many for Java. Akka is almost certainly the most mature though."},{"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"score":1,"creation_date":1650908153,"post_id":71999593,"comment_id":127229902,"body_markdown":"Vert.x isn&#39;t a complete actor system, but it&#39;s similar functionality and you could certainly build a workflow/scheduler on Vert.x as well. Both Vert.x and Akka are blazing fast: it&#39;s hard to compare their performance apples to apples but both have very low overhead. Performance for both is much higher than you will need it to be and you should choose between them based on their APIs/functionality rather than performance.","body":"Vert.x isn&#39;t a complete actor system, but it&#39;s similar functionality and you could certainly build a workflow/scheduler on Vert.x as well. Both Vert.x and Akka are blazing fast: it&#39;s hard to compare their performance apples to apples but both have very low overhead. Performance for both is much higher than you will need it to be and you should choose between them based on their APIs/functionality rather than performance."}],"owner":{"account_id":3761893,"reputation":193,"user_id":3126580,"display_name":"hehe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650889975,"creation_date":1650889975,"question_id":71999593,"body_markdown":"someone say Akka is not the best choice for handling workflows. it is right?\r\n\r\nis there any other mature distributed actor model support java?\r\n\r\nis the vertx more suitable for this scenario? How is the performance of akka compared to vertx?","title":"I want to implement a distributed workflow system like Dophin scheduler with actor model, is there any mature actor model support java? only akka?","body":"<p>someone say Akka is not the best choice for handling workflows. it is right?</p>\n<p>is there any other mature distributed actor model support java?</p>\n<p>is the vertx more suitable for this scenario? How is the performance of akka compared to vertx?</p>\n"},{"tags":["java","scala","sbt","ivy"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":4,"creation_date":1650889332,"post_id":71999464,"comment_id":127222527,"body_markdown":"**Scala** versions are not binary compatible between them, so no you can&#39;t use a class from another module if such module is not compiled to the same **Scala** version.","body":"<b>Scala</b> versions are not binary compatible between them, so no you can&#39;t use a class from another module if such module is not compiled to the same <b>Scala</b> version."},{"owner":{"account_id":1421881,"reputation":307,"user_id":1346346,"accept_rate":50,"display_name":"user1346346"},"score":0,"creation_date":1650981795,"post_id":71999464,"comment_id":127249357,"body_markdown":"What I should do, if each module depends on different version of Scala library","body":"What I should do, if each module depends on different version of Scala library"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1650982290,"post_id":71999464,"comment_id":127249551,"body_markdown":"Nothing, you simply can&#39;t do anything. You need to migrate all modules to the same **Scala** version or don&#39;t interact between modules. - Another option may be to create a third module that can be cross-compiled across all **Scala** versions and all other modules will depend on this third one instead of between them.","body":"Nothing, you simply can&#39;t do anything. You need to migrate all modules to the same <b>Scala</b> version or don&#39;t interact between modules. - Another option may be to create a third module that can be cross-compiled across all <b>Scala</b> versions and all other modules will depend on this third one instead of between them."}],"owner":{"account_id":1421881,"reputation":307,"user_id":1346346,"accept_rate":50,"display_name":"user1346346"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650889491,"creation_date":1650889247,"question_id":71999464,"body_markdown":"I have 2 modules. API and Calculator\r\n\r\nAPI is depend on scala version 2.12.8 and calculator depend on scala version 2.13.8\r\n\r\nAPI is using one of the class in Calculator. This is my build.sbt\r\n\r\n    name := &quot;sbt-getting-started&quot;\r\n    \r\n    ThisBuild / version := &quot;1.0&quot;\r\n    \r\n    ThisBuild / scalaVersion := &quot;2.13.8&quot;\r\n    \r\n    publish/skip := true\r\n    \r\n    lazy val api = project\r\n      .dependsOn(calculators)\r\n      .enablePlugins(JavaAppPackaging)\r\n      .settings(\r\n        libraryDependencies ++= Dependencies.apiDependencies\r\n      )\r\n      .settings(scalaVersion := &quot;2.12.8&quot;)\r\n    \r\n    lazy val calculators = project\r\n      .enablePlugins(JavaAppPackaging)\r\n      .enablePlugins(DockerPlugin)\r\n      .settings(\r\n        scalaVersion := &quot;2.13.8&quot;,\r\n        libraryDependencies ++= Dependencies.calculatorDependencies,\r\n     )\r\n\r\nAs Compiled, I am getting the below error. Help me to resolve the issue.\r\n\r\n    ←[0m[←[0m←[0minfo←[0m] ←[0m←[0mExecuting in batch mode. For better performance use sbt&#39;s shell←[0m\r\n    ←[0m[←[0m←[0minfo←[0m] ←[0m←[0mUpdating api...←[0m\r\n    ←[0m[←[0m←[31merror←[0m] ←[0m←[0mSERVER ERROR: Bad Gateway **url=https://dl.bintray.com/bala/maven/calculators/calculators_2.12/1.0/calculators_2.12-1.0.pom←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        module not found: calculators#calculators_2.12;1.0←[0m**\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m==== local: tried←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m  C:\\Users\\Balachandar.S\\.ivy2\\local\\calculators\\calculators_2.12\\1.0\\ivys\\ivy.xml←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m==== public: tried←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m  https://repo1.maven.org/maven2/calculators/calculators_2.12/1.0/calculators_2.12-1.0.pom←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m==== bintray-bala-maven: tried←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m  **https://dl.bintray.com/bala/maven/calculators/calculators_2.12/1.0/calculators_2.12-1.0.pom←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        ::::::::::::::::::::::::::::::::::::::::::::::←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        ::          UNRESOLVED DEPENDENCIES         ::←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        ::::::::::::::::::::::::::::::::::::::::::::::←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        :: calculators#calculators_2.12;1.0: not found←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        ::::::::::::::::::::::::::::::::::::::::::::::←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        Note: Unresolved dependencies path:←[0m**\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m                calculators:calculators_2.12:1.0←[0m\r\n    ←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m                  +- api:api_2.12:1.0←[0m\r\n    ←[0m[←[0m←[31merror←[0m] ←[0m←[0msbt.librarymanagement.ResolveException: unresolved dependency: calculators#calculators_2.12;1.0: not found←[0m\r\n    ←[0m[←[0m←[31merror←[0m] ←[0m←[0m       at sbt.internal.librarymanagement.IvyActions$.resolveAndRetrieve(IvyActions.scala:332)←[0m","title":"Refering other modules class which has other scala version","body":"<p>I have 2 modules. API and Calculator</p>\n<p>API is depend on scala version 2.12.8 and calculator depend on scala version 2.13.8</p>\n<p>API is using one of the class in Calculator. This is my build.sbt</p>\n<pre><code>name := &quot;sbt-getting-started&quot;\n\nThisBuild / version := &quot;1.0&quot;\n\nThisBuild / scalaVersion := &quot;2.13.8&quot;\n\npublish/skip := true\n\nlazy val api = project\n  .dependsOn(calculators)\n  .enablePlugins(JavaAppPackaging)\n  .settings(\n    libraryDependencies ++= Dependencies.apiDependencies\n  )\n  .settings(scalaVersion := &quot;2.12.8&quot;)\n\nlazy val calculators = project\n  .enablePlugins(JavaAppPackaging)\n  .enablePlugins(DockerPlugin)\n  .settings(\n    scalaVersion := &quot;2.13.8&quot;,\n    libraryDependencies ++= Dependencies.calculatorDependencies,\n )\n</code></pre>\n<p>As Compiled, I am getting the below error. Help me to resolve the issue.</p>\n<pre><code>←[0m[←[0m←[0minfo←[0m] ←[0m←[0mExecuting in batch mode. For better performance use sbt's shell←[0m\n←[0m[←[0m←[0minfo←[0m] ←[0m←[0mUpdating api...←[0m\n←[0m[←[0m←[31merror←[0m] ←[0m←[0mSERVER ERROR: Bad Gateway **url=https://dl.bintray.com/bala/maven/calculators/calculators_2.12/1.0/calculators_2.12-1.0.pom←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        module not found: calculators#calculators_2.12;1.0←[0m**\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m==== local: tried←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m  C:\\Users\\Balachandar.S\\.ivy2\\local\\calculators\\calculators_2.12\\1.0\\ivys\\ivy.xml←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m==== public: tried←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m  https://repo1.maven.org/maven2/calculators/calculators_2.12/1.0/calculators_2.12-1.0.pom←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m==== bintray-bala-maven: tried←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m  **https://dl.bintray.com/bala/maven/calculators/calculators_2.12/1.0/calculators_2.12-1.0.pom←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        ::::::::::::::::::::::::::::::::::::::::::::::←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        ::          UNRESOLVED DEPENDENCIES         ::←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        ::::::::::::::::::::::::::::::::::::::::::::::←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        :: calculators#calculators_2.12;1.0: not found←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        ::::::::::::::::::::::::::::::::::::::::::::::←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m        Note: Unresolved dependencies path:←[0m**\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m                calculators:calculators_2.12:1.0←[0m\n←[0m[←[0m←[33mwarn←[0m] ←[0m←[0m                  +- api:api_2.12:1.0←[0m\n←[0m[←[0m←[31merror←[0m] ←[0m←[0msbt.librarymanagement.ResolveException: unresolved dependency: calculators#calculators_2.12;1.0: not found←[0m\n←[0m[←[0m←[31merror←[0m] ←[0m←[0m       at sbt.internal.librarymanagement.IvyActions$.resolveAndRetrieve(IvyActions.scala:332)←[0m\n</code></pre>\n"},{"tags":["python","java","sqlalchemy","mybatis"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650442449,"post_id":71929445,"comment_id":127114188,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":13782947,"reputation":1,"user_id":9947648,"display_name":"adarsh s"},"score":0,"creation_date":1650889220,"post_id":71929445,"comment_id":127222489,"body_markdown":"Edited with a sample example","body":"Edited with a sample example"}],"owner":{"account_id":13782947,"reputation":1,"user_id":9947648,"display_name":"adarsh s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650889450,"creation_date":1650391775,"question_id":71929445,"body_markdown":"Say we have a select query like \r\n\r\n```\r\nselect a.col1,a.col2,a.col3,b.col1,b,col2,c.col1\r\nfrom a, b, c\r\nwhere a.col1(+)=b.col2 and b.col3(+)=c.col2\r\n```\r\n\r\n\r\nIn mybatis xml we have mapper defined which could include associations and collection result mapped to Mybatis &quot;resultMap&quot;. \r\n    Mybatis maps respective columns from SQL query to result objects without duplication of objects when we use &quot;resultMap&quot;\r\n    \r\nIs there something similar in SQLAlchemy? \r\n\r\n```\r\n&lt;resultMap id=&quot;example&quot; type=&quot;ExampleClass1&quot;&gt;\r\n  &lt;id property=&quot;attribute1&quot; column = &quot;a.col1&quot;/&gt;\r\n  &lt;result property=&quot;attribute2&quot; column = &quot;a.col2&quot;/&gt;\r\n  &lt;result property=&quot;attribute3&quot; column = &quot;a.col2&quot;/&gt;\r\n  &lt;association property = &quot;assocattribute&quot; javaType=&quot;ExampleClass2&quot; \r\n             resultMap = &quot;assocMap&quot;&gt;\r\n  &lt;collection property = &quot;listattribute&quot; &quot;ofType&quot; = &quot;ExampleClass3&quot; \r\n               resultMap = &quot;collectMap&quot;&gt;\r\n&lt;/resultMap&gt;\r\n            \r\n&lt;resultMap id=&quot;assocMap&quot;&gt;\r\n  &lt;result property = &quot;assocattribute1&quot; column = &quot;b.col1&quot;&gt;\r\n  &lt;result property = &quot;assocattribute2&quot; column = &quot;b.col2&quot;&gt;\r\n&lt;/resultMap&gt;\r\n            \r\n&lt;resultMap id=&quot;collectMap&quot;&gt;\r\n  &lt;result poperty = &quot;collectattribute1&quot; column = &quot;c.col1&quot;&gt;\r\n&lt;/resultMap&gt;          \r\n```\r\n\r\n In the above example. joins are handled and duplicates are removed by mybatis. similar solution is needed in sqlalchemy if possible.\r\n\r\n    |a.col1 |a.col2|a.col3|b.col1|b.col2|c.col1|\r\n    |-------|------|------|------|------|------|\r\n    | a     | b    |   c  |d     |e     |f     |\r\n    | a     | b    |   c  |d     |e     |g     |\r\n    | a     | b    |   c  |d     |e     |j     |\r\n    | a     | b    |   c  |d     |e     |k     |\r\n\r\n         \r\nrequired java object is\r\nAbstract representation \r\n\r\n```\r\nExampleClass1 {\r\n   attribute1:a,\r\n   attribute2:b,\r\n   attribute3:c,\r\n   assocattribute=&gt; ExampleClass2 {\r\n                assocattribute1:d,\r\n                assocattribute2:e\r\n              }\r\n   collectattribute=&gt; List( ExampleClass3{collectattribute1:f }\r\n                             ,ExampleClass3{collectattribute1:g }\r\n                              ,ExampleClass3{collectattribute1:J }\r\n                              ,ExampleClass3{collectattribute1:K }\r\n}\r\n```\r\n\r\n We tried few things like sqlalchemysession.query(a,b,c).join() with conditions etc.. where objects from a, b, c are duplicated on join conditions. But in Mybatis &quot;resultMap&quot; removes duplicates and maps to proper output object.","title":"Java Mybatis to Python SQL Alchemy - is there resultMap mybatis equivalent in SQLAlchemy python. which logically maps join queries removing duplicates","body":"<p>Say we have a select query like</p>\n<pre><code>select a.col1,a.col2,a.col3,b.col1,b,col2,c.col1\nfrom a, b, c\nwhere a.col1(+)=b.col2 and b.col3(+)=c.col2\n</code></pre>\n<p>In mybatis xml we have mapper defined which could include associations and collection result mapped to Mybatis &quot;resultMap&quot;.\nMybatis maps respective columns from SQL query to result objects without duplication of objects when we use &quot;resultMap&quot;</p>\n<p>Is there something similar in SQLAlchemy?</p>\n<pre><code>&lt;resultMap id=&quot;example&quot; type=&quot;ExampleClass1&quot;&gt;\n  &lt;id property=&quot;attribute1&quot; column = &quot;a.col1&quot;/&gt;\n  &lt;result property=&quot;attribute2&quot; column = &quot;a.col2&quot;/&gt;\n  &lt;result property=&quot;attribute3&quot; column = &quot;a.col2&quot;/&gt;\n  &lt;association property = &quot;assocattribute&quot; javaType=&quot;ExampleClass2&quot; \n             resultMap = &quot;assocMap&quot;&gt;\n  &lt;collection property = &quot;listattribute&quot; &quot;ofType&quot; = &quot;ExampleClass3&quot; \n               resultMap = &quot;collectMap&quot;&gt;\n&lt;/resultMap&gt;\n            \n&lt;resultMap id=&quot;assocMap&quot;&gt;\n  &lt;result property = &quot;assocattribute1&quot; column = &quot;b.col1&quot;&gt;\n  &lt;result property = &quot;assocattribute2&quot; column = &quot;b.col2&quot;&gt;\n&lt;/resultMap&gt;\n            \n&lt;resultMap id=&quot;collectMap&quot;&gt;\n  &lt;result poperty = &quot;collectattribute1&quot; column = &quot;c.col1&quot;&gt;\n&lt;/resultMap&gt;          \n</code></pre>\n<p>In the above example. joins are handled and duplicates are removed by mybatis. similar solution is needed in sqlalchemy if possible.</p>\n<pre><code>|a.col1 |a.col2|a.col3|b.col1|b.col2|c.col1|\n|-------|------|------|------|------|------|\n| a     | b    |   c  |d     |e     |f     |\n| a     | b    |   c  |d     |e     |g     |\n| a     | b    |   c  |d     |e     |j     |\n| a     | b    |   c  |d     |e     |k     |\n\n     \n</code></pre>\n<p>required java object is\nAbstract representation</p>\n<pre><code>ExampleClass1 {\n   attribute1:a,\n   attribute2:b,\n   attribute3:c,\n   assocattribute=&gt; ExampleClass2 {\n                assocattribute1:d,\n                assocattribute2:e\n              }\n   collectattribute=&gt; List( ExampleClass3{collectattribute1:f }\n                             ,ExampleClass3{collectattribute1:g }\n                              ,ExampleClass3{collectattribute1:J }\n                              ,ExampleClass3{collectattribute1:K }\n}\n</code></pre>\n<p>We tried few things like sqlalchemysession.query(a,b,c).join() with conditions etc.. where objects from a, b, c are duplicated on join conditions. But in Mybatis &quot;resultMap&quot; removes duplicates and maps to proper output object.</p>\n"},{"tags":["java","android","kotlin","google-maps","fusedlocationproviderapi"],"owner":{"account_id":23477658,"reputation":428,"user_id":17530237,"display_name":"kamal douma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650888823,"creation_date":1650888823,"question_id":71999377,"body_markdown":"my app uses the fusedlocationprovider api to retrieve the user current location and showing a marker on the map every second using the following code\r\n  \r\n\r\n    locationRequest = LocationRequest.create().apply {\r\n                interval = 1000\r\n                fastestInterval = 1000\r\n                priority = LocationRequest.PRIORITY_HIGH_ACCURACY\r\n            }\r\n\r\n\r\nthe problem is that the location I am getting , just not that accurate so the marker keeps  moving even the phone is not. so after looking on the internet I find out that google says that there api accuracy is about 6 - 10 meters . so now what I want to accomplish is to get a stable location update , it does not matter if it is only estimated . what&#39;s important is to show the marker  a little bit steady on the map.","title":"how to get more stable locations rather than more accurate ones","body":"<p>my app uses the fusedlocationprovider api to retrieve the user current location and showing a marker on the map every second using the following code</p>\n<pre><code>locationRequest = LocationRequest.create().apply {\n            interval = 1000\n            fastestInterval = 1000\n            priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n        }\n</code></pre>\n<p>the problem is that the location I am getting , just not that accurate so the marker keeps  moving even the phone is not. so after looking on the internet I find out that google says that there api accuracy is about 6 - 10 meters . so now what I want to accomplish is to get a stable location update , it does not matter if it is only estimated . what's important is to show the marker  a little bit steady on the map.</p>\n"},{"tags":["java","formatting","printf","decimal-point"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":216,"is_accepted":false,"score":216,"last_activity_date":1361462712,"creation_date":1269873997,"answer_id":2538798,"question_id":2538787,"body_markdown":"You can use &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/text/DecimalFormat.html&quot;&gt;`DecimalFormat`&lt;/a&gt;. One way to use it:\r\n \r\n    DecimalFormat df = new DecimalFormat();\r\n    df.setMaximumFractionDigits(2);\r\n    System.out.println(df.format(decimalNumber));\r\n\r\nAnother one is to construct it using the `#.##` format.\r\n\r\nI find all formatting options less readable than calling the formatting methods, but that&#39;s a matter of preference.","title":"How to print a float with 2 decimal places in Java?","body":"<p>You can use <a href=\"http://java.sun.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\"><code>DecimalFormat</code></a>. One way to use it:</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat();\ndf.setMaximumFractionDigits(2);\nSystem.out.println(df.format(decimalNumber));\n</code></pre>\n\n<p>Another one is to construct it using the <code>#.##</code> format.</p>\n\n<p>I find all formatting options less readable than calling the formatting methods, but that's a matter of preference.</p>\n"},{"tags":[],"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"down_vote_count":0,"up_vote_count":338,"is_accepted":true,"score":338,"last_activity_date":1519130501,"creation_date":1269874026,"answer_id":2538803,"question_id":2538787,"body_markdown":"You can use the [`printf`](http://java.sun.com/j2se/1.5.0/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29) method, like so:\r\n\r\n    System.out.printf(&quot;%.2f&quot;, val);\r\n\r\nIn short, the `%.2f` syntax tells Java to return your variable (`val`) with 2 decimal places (`.2`) in decimal representation of a floating-point number (`f`) from the start of the format specifier (`%`).\r\n\r\nThere are other conversion characters you can use besides `f`:\r\n\r\n - `d`: decimal integer\r\n - `o`: octal integer\r\n - `e`: floating-point in scientific notation\r\n","title":"How to print a float with 2 decimal places in Java?","body":"<p>You can use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>printf</code></a> method, like so:</p>\n\n<pre><code>System.out.printf(\"%.2f\", val);\n</code></pre>\n\n<p>In short, the <code>%.2f</code> syntax tells Java to return your variable (<code>val</code>) with 2 decimal places (<code>.2</code>) in decimal representation of a floating-point number (<code>f</code>) from the start of the format specifier (<code>%</code>).</p>\n\n<p>There are other conversion characters you can use besides <code>f</code>:</p>\n\n<ul>\n<li><code>d</code>: decimal integer</li>\n<li><code>o</code>: octal integer</li>\n<li><code>e</code>: floating-point in scientific notation</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":95424,"reputation":37497,"user_id":259900,"accept_rate":96,"display_name":"Kevin Sylvestre"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1269874026,"creation_date":1269874026,"answer_id":2538804,"question_id":2538787,"body_markdown":"    double d = 1.234567;\r\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    System.out.print(df.format(d));","title":"How to print a float with 2 decimal places in Java?","body":"<pre><code>double d = 1.234567;\nDecimalFormat df = new DecimalFormat(\"#.##\");\nSystem.out.print(df.format(d));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1269874054,"creation_date":1269874054,"answer_id":2538807,"question_id":2538787,"body_markdown":"Look at [DecimalFormat][1]\r\n\r\nHere is an example from the tutorial:\r\n\r\n      DecimalFormat myFormatter = new DecimalFormat(pattern);\r\n      String output = myFormatter.format(value);\r\n      System.out.println(value + &quot;  &quot; + pattern + &quot;  &quot; + output);\r\n\r\nIf you choose a pattern like &quot;###.##&quot;, you will get two decimal places, and I think that the values are rounded up. You will want to look at the link to get the exact format you want (e.g., whether you want trailing zeros)\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/i18n/format/decimalFormat.html\r\n","title":"How to print a float with 2 decimal places in Java?","body":"<p>Look at <a href=\"http://java.sun.com/docs/books/tutorial/i18n/format/decimalFormat.html\" rel=\"noreferrer\">DecimalFormat</a></p>\n\n<p>Here is an example from the tutorial:</p>\n\n<pre><code>  DecimalFormat myFormatter = new DecimalFormat(pattern);\n  String output = myFormatter.format(value);\n  System.out.println(value + \"  \" + pattern + \"  \" + output);\n</code></pre>\n\n<p>If you choose a pattern like \"###.##\", you will get two decimal places, and I think that the values are rounded up. You will want to look at the link to get the exact format you want (e.g., whether you want trailing zeros)</p>\n"},{"tags":[],"owner":{"account_id":5022,"reputation":13852,"user_id":7867,"accept_rate":70,"display_name":"Mr. Shiny and New 安宇"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1269875166,"creation_date":1269874493,"answer_id":2538863,"question_id":2538787,"body_markdown":"Many people have mentioned `DecimalFormat`.  But you can also use `printf` if you have a recent version of Java:\r\n\r\n    System.out.printf(&quot;%1.2f&quot;, 3.14159D);\r\n\r\n[See the docs on the Formatter for more information about the printf format string][1].\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html","title":"How to print a float with 2 decimal places in Java?","body":"<p>Many people have mentioned <code>DecimalFormat</code>.  But you can also use <code>printf</code> if you have a recent version of Java:</p>\n\n<pre><code>System.out.printf(\"%1.2f\", 3.14159D);\n</code></pre>\n\n<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">See the docs on the Formatter for more information about the printf format string</a>.</p>\n"},{"tags":[],"owner":{"account_id":1375291,"reputation":4368,"user_id":1309401,"accept_rate":91,"display_name":"John P."},"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1423175040,"creation_date":1336171711,"answer_id":10457088,"question_id":2538787,"body_markdown":"I would suggest using [String.format()][1] if you need the value as a `String` in your code.  \r\n\r\nFor example, you can use `String.format()` in the following way:\r\n\r\n    float myFloat = 2.001f;\r\n\r\n    String formattedString = String.format(&quot;%.02f&quot;, myFloat);\r\n     \r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)","title":"How to print a float with 2 decimal places in Java?","body":"<p>I would suggest using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)\">String.format()</a> if you need the value as a <code>String</code> in your code.  </p>\n\n<p>For example, you can use <code>String.format()</code> in the following way:</p>\n\n<pre><code>float myFloat = 2.001f;\n\nString formattedString = String.format(\"%.02f\", myFloat);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user285594"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338905741,"creation_date":1338905741,"answer_id":10899018,"question_id":2538787,"body_markdown":"OK - str to float.\r\n\r\n    package test;\r\n    \r\n    import java.text.DecimalFormat;\r\n    \r\n    public class TestPtz {\r\n      public static void main(String[] args) {\r\n        String preset0 = &quot;0.09,0.20,0.09,0.07&quot;;\r\n        String[] thisto = preset0.split(&quot;,&quot;);    \r\n        float a = (Float.valueOf(thisto[0])).floatValue();\r\n        System.out.println(&quot;[Original]: &quot; + a);   \r\n        a = (float) (a + 0.01);\r\n        \r\n        // Part 1 - for display / debug\r\n        System.out.printf(&quot;[Local]: %.2f \\n&quot;, a);\r\n        // Part 2 - when value requires to be send as it is\r\n        DecimalFormat df = new DecimalFormat();\r\n        df.setMinimumFractionDigits(2);\r\n        df.setMaximumFractionDigits(2);\r\n        System.out.println(&quot;[Remote]: &quot; + df.format(a));\r\n        \r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    run:\r\n    [Original]: 0.09\r\n    [Local]: 0.10 \r\n    [Remote]: 0.10\r\n    BUILD SUCCESSFUL (total time: 0 seconds)","title":"How to print a float with 2 decimal places in Java?","body":"<p>OK - str to float.</p>\n\n<pre><code>package test;\n\nimport java.text.DecimalFormat;\n\npublic class TestPtz {\n  public static void main(String[] args) {\n    String preset0 = \"0.09,0.20,0.09,0.07\";\n    String[] thisto = preset0.split(\",\");    \n    float a = (Float.valueOf(thisto[0])).floatValue();\n    System.out.println(\"[Original]: \" + a);   \n    a = (float) (a + 0.01);\n\n    // Part 1 - for display / debug\n    System.out.printf(\"[Local]: %.2f \\n\", a);\n    // Part 2 - when value requires to be send as it is\n    DecimalFormat df = new DecimalFormat();\n    df.setMinimumFractionDigits(2);\n    df.setMaximumFractionDigits(2);\n    System.out.println(\"[Remote]: \" + df.format(a));\n\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>run:\n[Original]: 0.09\n[Local]: 0.10 \n[Remote]: 0.10\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4874288,"reputation":109,"user_id":3929875,"display_name":"Birk"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1429797444,"creation_date":1407765030,"answer_id":25244895,"question_id":2538787,"body_markdown":"A simple trick is to generate a shorter version of your variable  by multiplying it with e.g. `100`, rounding it and dividing it by `100.0` again. This way you generate a variable, with **2  decimal places**:\r\n\r\n    double new_variable = Math.round(old_variable*100) / 100.0;\r\n\r\nThis &quot;cheap trick&quot; was always good enough for me, and works in any language (I am not a Java person, just learning it).","title":"How to print a float with 2 decimal places in Java?","body":"<p>A simple trick is to generate a shorter version of your variable  by multiplying it with e.g. <code>100</code>, rounding it and dividing it by <code>100.0</code> again. This way you generate a variable, with <strong>2  decimal places</strong>:</p>\n\n<pre><code>double new_variable = Math.round(old_variable*100) / 100.0;\n</code></pre>\n\n<p>This \"cheap trick\" was always good enough for me, and works in any language (I am not a Java person, just learning it).</p>\n"},{"tags":[],"owner":{"account_id":5191807,"reputation":349,"user_id":4154511,"display_name":"Aldin Philo"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1413566483,"creation_date":1413565233,"answer_id":26429953,"question_id":2538787,"body_markdown":"    float floatValue=22.34555f;\r\n    System.out.print(String.format(&quot;%.2f&quot;, floatValue));\r\n\r\nOutput is 22.35.\r\nIf you need 3 decimal points change it to &quot;%.3f&quot;.","title":"How to print a float with 2 decimal places in Java?","body":"<pre><code>float floatValue=22.34555f;\nSystem.out.print(String.format(\"%.2f\", floatValue));\n</code></pre>\n\n<p>Output is 22.35.\nIf you need 3 decimal points change it to \"%.3f\".</p>\n"},{"tags":[],"owner":{"account_id":7137359,"reputation":11,"user_id":5456437,"display_name":"Pavan vadrevu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464381463,"creation_date":1464379381,"answer_id":37491445,"question_id":2538787,"body_markdown":"small simple program for demonstration:\r\n\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class twovalues {\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n    \t    float a,b;\r\n    \t    Scanner sc=new Scanner(System.in);\r\n    \t    System.out.println(&quot;Enter Values For Calculation&quot;);\r\n\r\n    \t\ta=sc.nextFloat();\r\n    \t\tb=sc.nextFloat();\r\n\r\n    \t    float c=a/b;\r\n    \t\tSystem.out.printf(&quot;%.2f&quot;,c);\r\n    \t}\r\n    }\r\n\r\n","title":"How to print a float with 2 decimal places in Java?","body":"<p>small simple program for demonstration:</p>\n\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class twovalues {\n\n    public static void main(String args[]) {\n\n        float a,b;\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"Enter Values For Calculation\");\n\n        a=sc.nextFloat();\n        b=sc.nextFloat();\n\n        float c=a/b;\n        System.out.printf(\"%.2f\",c);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1481793901,"creation_date":1481793901,"answer_id":41160564,"question_id":2538787,"body_markdown":"    float f = 102.236569f; \r\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;#.##&quot;);\r\n    float twoDigitsF = Float.valueOf(decimalFormat.format(f)); // output is 102.24","title":"How to print a float with 2 decimal places in Java?","body":"<pre><code>float f = 102.236569f; \nDecimalFormat decimalFormat = new DecimalFormat(\"#.##\");\nfloat twoDigitsF = Float.valueOf(decimalFormat.format(f)); // output is 102.24\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10281228,"reputation":261,"user_id":7586301,"display_name":"Paul Efford"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523383055,"creation_date":1523383055,"answer_id":49760182,"question_id":2538787,"body_markdown":"Just do `String str = System.out.printf(&quot;%.2f&quot;, val).replace(&quot;,&quot;, &quot;.&quot;);` if you want to ensure that independently of the Locale of the user, you will always get / display a &quot;.&quot; as decimal separator. This is a must if you don&#39;t want to make your program crash if you later do some kind of conversion like `float f = Float.parseFloat(str);`","title":"How to print a float with 2 decimal places in Java?","body":"<p>Just do <code>String str = System.out.printf(\"%.2f\", val).replace(\",\", \".\");</code> if you want to ensure that independently of the Locale of the user, you will always get / display a \".\" as decimal separator. This is a must if you don't want to make your program crash if you later do some kind of conversion like <code>float f = Float.parseFloat(str);</code></p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1540976469,"creation_date":1540969053,"answer_id":53077885,"question_id":2538787,"body_markdown":"Below is code how you can display an output of float data with 2 decimal places in Java:\r\n\r\n    float ratingValue = 52.98929821f; \r\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;#.##&quot;);\r\n    float twoDigitsFR = Float.valueOf(decimalFormat.format(ratingValue)); // output is 52.98","title":"How to print a float with 2 decimal places in Java?","body":"<p>Below is code how you can display an output of float data with 2 decimal places in Java:</p>\n\n<pre><code>float ratingValue = 52.98929821f; \nDecimalFormat decimalFormat = new DecimalFormat(\"#.##\");\nfloat twoDigitsFR = Float.valueOf(decimalFormat.format(ratingValue)); // output is 52.98\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3574957,"reputation":49,"user_id":2984447,"display_name":"user2984447"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1557924058,"creation_date":1557916022,"answer_id":56147120,"question_id":2538787,"body_markdown":"One issue that had me for an hour or more, on `DecimalFormat`- It handles double and float inputs differently. Even change of [RoundingMode][1] did not help. I am no expert but thought it may help someone like me. Ended up using `Math.round` instead. \r\nSee below:\r\n\r\n        DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n\t\tdouble d = 0.7750;\r\n        System.out.println(&quot; Double 0.7750 -&gt; &quot; +Double.valueOf(df.format(d)));\r\n        float f = 0.7750f;\r\n        System.out.println(&quot; Float 0.7750f -&gt; &quot;+Float.valueOf(df.format(f)));\r\n        // change the RoundingMode\r\n        df.setRoundingMode(RoundingMode.HALF_UP);\r\n        System.out.println(&quot; Rounding Up Double 0.7750 -&gt; &quot; +Double.valueOf(df.format(d)));\r\n        System.out.println(&quot; Rounding Up Float 0.7750f -&gt; &quot; +Float.valueOf(df.format(f)));\r\n\r\nOutput:\r\n\r\n    Double 0.7750 -&gt; 0.78\r\n    Float 0.7750f -&gt; 0.77\r\n\r\n    Rounding Up Double 0.7750 -&gt; 0.78\r\n    Rounding Up Float 0.7750f -&gt; 0.77\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html","title":"How to print a float with 2 decimal places in Java?","body":"<p>One issue that had me for an hour or more, on <code>DecimalFormat</code>- It handles double and float inputs differently. Even change of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\">RoundingMode</a> did not help. I am no expert but thought it may help someone like me. Ended up using <code>Math.round</code> instead. \nSee below:</p>\n\n<pre><code>    DecimalFormat df = new DecimalFormat(\"#.##\");\n    double d = 0.7750;\n    System.out.println(\" Double 0.7750 -&gt; \" +Double.valueOf(df.format(d)));\n    float f = 0.7750f;\n    System.out.println(\" Float 0.7750f -&gt; \"+Float.valueOf(df.format(f)));\n    // change the RoundingMode\n    df.setRoundingMode(RoundingMode.HALF_UP);\n    System.out.println(\" Rounding Up Double 0.7750 -&gt; \" +Double.valueOf(df.format(d)));\n    System.out.println(\" Rounding Up Float 0.7750f -&gt; \" +Float.valueOf(df.format(f)));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Double 0.7750 -&gt; 0.78\nFloat 0.7750f -&gt; 0.77\n\nRounding Up Double 0.7750 -&gt; 0.78\nRounding Up Float 0.7750f -&gt; 0.77\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836453,"reputation":111,"user_id":7969293,"display_name":"Nathani Software"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566038112,"creation_date":1566038112,"answer_id":57535483,"question_id":2538787,"body_markdown":"Try this:-\r\n\r\n    private static String getDecimalFormat(double value) {\r\n\r\n        String getValue = String.valueOf(value).split(&quot;[.]&quot;)[1];\r\n\r\n          if (getValue.length() == 1) {\r\n              return String.valueOf(value).split(&quot;[.]&quot;)[0] +\r\n                    &quot;.&quot;+ getValue.substring(0, 1) + \r\n                    String.format(&quot;%0&quot;+1+&quot;d&quot;, 0);\r\n           } else {\r\n              return String.valueOf(value).split(&quot;[.]&quot;)[0]\r\n                +&quot;.&quot; + getValue.substring(0, 2);\r\n          }\r\n\r\n\r\n     }","title":"How to print a float with 2 decimal places in Java?","body":"<p>Try this:-</p>\n\n<pre><code>private static String getDecimalFormat(double value) {\n\n    String getValue = String.valueOf(value).split(\"[.]\")[1];\n\n      if (getValue.length() == 1) {\n          return String.valueOf(value).split(\"[.]\")[0] +\n                \".\"+ getValue.substring(0, 1) + \n                String.format(\"%0\"+1+\"d\", 0);\n       } else {\n          return String.valueOf(value).split(\"[.]\")[0]\n            +\".\" + getValue.substring(0, 2);\n      }\n\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3277754,"reputation":477,"user_id":2759236,"display_name":"Bay"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1572001013,"creation_date":1568558038,"answer_id":57945111,"question_id":2538787,"body_markdown":"You may use this quick codes below that changed itself at the end. Add how many zeros as refers to after the point\r\n\r\n    float y1 = 0.123456789;\r\n    DecimalFormat df = new DecimalFormat(&quot;#.00&quot;);  \r\n    y1 = Float.valueOf(df.format(y1));\r\n\r\n\r\n&gt; The variable y1 was equals to **0.123456789** before. After the code it turns into **0.12** only.","title":"How to print a float with 2 decimal places in Java?","body":"<p>You may use this quick codes below that changed itself at the end. Add how many zeros as refers to after the point</p>\n\n<pre><code>float y1 = 0.123456789;\nDecimalFormat df = new DecimalFormat(\"#.00\");  \ny1 = Float.valueOf(df.format(y1));\n</code></pre>\n\n<blockquote>\n  <p>The variable y1 was equals to <strong>0.123456789</strong> before. After the code it turns into <strong>0.12</strong> only.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16401606,"reputation":211,"user_id":11847375,"display_name":"Ayush Aryan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1613023013,"creation_date":1613023013,"answer_id":66149473,"question_id":2538787,"body_markdown":"To print a float up to 2 decimal places in Java:\r\n\r\n    \tfloat f = (float)11/3;\r\n\t\tSystem.out.print(String.format(&quot;%.2f&quot;,f));\r\n\r\n&gt; OUTPUT: 3.67\r\n\r\n*&gt; use **%.3f** for up to three decimal places.*","title":"How to print a float with 2 decimal places in Java?","body":"<p>To print a float up to 2 decimal places in Java:</p>\n<pre><code>    float f = (float)11/3;\n    System.out.print(String.format(&quot;%.2f&quot;,f));\n</code></pre>\n<blockquote>\n<p>OUTPUT: 3.67</p>\n</blockquote>\n<p><em>&gt; use <strong>%.3f</strong> for up to three decimal places.</em></p>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650888308,"creation_date":1650888308,"answer_id":71999268,"question_id":2538787,"body_markdown":"```\r\npublic String getDecimalNumber(String number) {\r\n\t\tDouble d=Double.parseDouble(number);\r\n\t\treturn String.format(&quot;%.5f&quot;, d);\r\n}\r\n```\r\n\r\nTake care of ```NumberFormatException``` as well","title":"How to print a float with 2 decimal places in Java?","body":"<pre><code>public String getDecimalNumber(String number) {\n        Double d=Double.parseDouble(number);\n        return String.format(&quot;%.5f&quot;, d);\n}\n</code></pre>\n<p>Take care of <code>NumberFormatException</code> as well</p>\n"}],"owner":{"account_id":110369,"reputation":2643,"user_id":292065,"accept_rate":83,"display_name":"via_point"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1064095,"favorite_count":0,"down_vote_count":0,"up_vote_count":249,"accepted_answer_id":2538803,"answer_count":18,"score":249,"last_activity_date":1650888308,"creation_date":1269873934,"question_id":2538787,"body_markdown":"Can I do it with `System.out.print`?","title":"How to print a float with 2 decimal places in Java?","body":"<p>Can I do it with <code>System.out.print</code>?</p>\n"},{"tags":["java","image","swing","netbeans","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1363229970,"post_id":15400371,"comment_id":21772014,"body_markdown":"Did you create the code by hand or via the form editor? You may also want to take a look at [How to use labels](http://docs.oracle.com/javase/tutorial/uiswing/components/label.html)","body":"Did you create the code by hand or via the form editor? You may also want to take a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/label.html\" rel=\"nofollow noreferrer\">How to use labels</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1363230057,"post_id":15400371,"comment_id":21772039,"body_markdown":"*&quot;How can I do to import some image (JPG,PNG,etc...) from my PC into the same JFrame?&quot;*  Did you miss the 3 posts about using images in desktop apps that were posted earlier ***today***?  Please search on these things first!  E.G. [this answer](http://stackoverflow.com/a/8958814/418556), [this answer](http://stackoverflow.com/a/14037856/418556) or [this answer](http://stackoverflow.com/a/5752471/418556)..","body":"<i>&quot;How can I do to import some image (JPG,PNG,etc...) from my PC into the same JFrame?&quot;</i>  Did you miss the 3 posts about using images in desktop apps that were posted earlier <b><i>today</i></b>?  Please search on these things first!  E.G. <a href=\"http://stackoverflow.com/a/8958814/418556\">this answer</a>, <a href=\"http://stackoverflow.com/a/14037856/418556\">this answer</a> or <a href=\"http://stackoverflow.com/a/5752471/418556\">this answer</a>.."},{"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"score":0,"creation_date":1363230058,"post_id":15400371,"comment_id":21772040,"body_markdown":"@MadProgrammer Via form editor","body":"@MadProgrammer Via form editor"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1363230287,"post_id":15400371,"comment_id":21772080,"body_markdown":"possible duplicate of [Use animated GIF in desktop application](http://stackoverflow.com/questions/8958808/use-animated-gif-in-desktop-application)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/8958808/use-animated-gif-in-desktop-application\">Use animated GIF in desktop application</a>"},{"owner":{"account_id":25231621,"reputation":1,"user_id":19066703,"display_name":"Patrick Lee"},"score":0,"creation_date":1651995857,"post_id":15400371,"comment_id":127495070,"body_markdown":"https://stackoverflow.com/questions/72159010/problem-using-icon-in-java-swing-netbeans could you assist me in resolving t issue?","body":"<a href=\"https://stackoverflow.com/questions/72159010/problem-using-icon-in-java-swing-netbeans\" title=\"problem using icon in java swing netbeans\">stackoverflow.com/questions/72159010/&hellip;</a> could you assist me in resolving t issue?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1650887378,"creation_date":1363230299,"answer_id":15400437,"question_id":15400371,"body_markdown":" 1. Open the form in NetBeans form editor.\r\n 2. Add a `JLabel` from the pallete to the form\r\n 3. Select the label you just added and click the &quot;...&quot; button next to the `icon` property\r\n 4. Fill out the properties.\r\n\r\nIt&#39;s normally best that the images reside within the project folder, makes deployment easier in the long run.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/92E6g.png","title":"Adding images on Java JFrame - Netbeans","body":"<ol>\n<li>Open the form in NetBeans form editor.</li>\n<li>Add a <code>JLabel</code> from the pallete to the form</li>\n<li>Select the label you just added and click the &quot;...&quot; button next to the <code>icon</code> property</li>\n<li>Fill out the properties.</li>\n</ol>\n<p>It's normally best that the images reside within the project folder, makes deployment easier in the long run.</p>\n<p><a href=\"https://i.stack.imgur.com/92E6g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/92E6g.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10534770,"reputation":11,"user_id":7763028,"display_name":"Michael.Abadir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490728295,"creation_date":1490728295,"answer_id":43078002,"question_id":15400371,"body_markdown":"Make sure when you add the JLabel to use it from Swing Controls not AWT.","title":"Adding images on Java JFrame - Netbeans","body":"<p>Make sure when you add the JLabel to use it from Swing Controls not AWT.</p>\n"},{"tags":[],"owner":{"account_id":1820446,"reputation":3830,"user_id":1654631,"accept_rate":0,"display_name":"Shiv Buyya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542876721,"creation_date":1542876721,"answer_id":53427043,"question_id":15400371,"body_markdown":"1. Copy Image to your Netbeans project.\r\n2. Add new label to the frame.\r\n3. Select the label and Right click-&gt;Go to Properties.\r\n4. In Icon property select image by down arrow as shown in image.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ZWHn.png","title":"Adding images on Java JFrame - Netbeans","body":"<ol>\n<li>Copy Image to your Netbeans project.</li>\n<li>Add new label to the frame.</li>\n<li>Select the label and Right click->Go to Properties.</li>\n<li>In Icon property select image by down arrow as shown in image.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/4ZWHn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ZWHn.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72999,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":15400437,"answer_count":3,"score":1,"last_activity_date":1650887378,"creation_date":1363229813,"question_id":15400371,"body_markdown":"I&#39;m using **NetBeans 7.1** to code in Java. I have already created a `JFrame` filled with some `labels, textbox and buttons`. How can I do to import some image `(JPG,PNG,etc...)` from my PC into the same `JFrame`? On an specific location of the frame.","title":"Adding images on Java JFrame - Netbeans","body":"<p>I'm using <strong>NetBeans 7.1</strong> to code in Java. I have already created a <code>JFrame</code> filled with some <code>labels, textbox and buttons</code>. How can I do to import some image <code>(JPG,PNG,etc...)</code> from my PC into the same <code>JFrame</code>? On an specific location of the frame.</p>\n"},{"tags":["java","swing","fonts","awt"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1650886662,"post_id":71998881,"comment_id":127221601,"body_markdown":"Perhaps rename your custom font to something more unique?","body":"Perhaps rename your custom font to something more unique?"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650887351,"creation_date":1650887351,"answer_id":71999059,"question_id":71998881,"body_markdown":"Make the Font object itself available through a public method.  Change your code to use that object, rather than creating new Font objects using the family name.\r\n\r\nFor instance:\r\n\r\n    public class Fonts {\r\n        private static Font robotoFont;\r\n\r\n        public static Font getRobotoFont(int style,\r\n                                         float size) {\r\n            if (robotFont == null)  {\r\n                final GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n                robotoFont = Font.createFont(Font.TRUETYPE_FONT, resourceClass.getResourceAsStream(font));\r\n            }\r\n\r\n            return robotoFont.deriveFont(style, size);\r\n        }\r\n    }\r\n\r\nOnce you have that, you will want to replace every `new Font(&quot;Roboto&quot;…` occurrence in the application.  For instance, change this:\r\n\r\n    label.setFont(new Font(&quot;Roboto&quot;, Font.PLAIN, 12));\r\n\r\nto this:\r\n\r\n    label.setFont(Fonts.getRobotoFont(Font.PLAIN, 12));\r\n","title":"Replace existing font definition in Swing","body":"<p>Make the Font object itself available through a public method.  Change your code to use that object, rather than creating new Font objects using the family name.</p>\n<p>For instance:</p>\n<pre><code>public class Fonts {\n    private static Font robotoFont;\n\n    public static Font getRobotoFont(int style,\n                                     float size) {\n        if (robotFont == null)  {\n            final GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n            robotoFont = Font.createFont(Font.TRUETYPE_FONT, resourceClass.getResourceAsStream(font));\n        }\n\n        return robotoFont.deriveFont(style, size);\n    }\n}\n</code></pre>\n<p>Once you have that, you will want to replace every <code>new Font(&quot;Roboto&quot;…</code> occurrence in the application.  For instance, change this:</p>\n<pre><code>label.setFont(new Font(&quot;Roboto&quot;, Font.PLAIN, 12));\n</code></pre>\n<p>to this:</p>\n<pre><code>label.setFont(Fonts.getRobotoFont(Font.PLAIN, 12));\n</code></pre>\n"}],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650887351,"creation_date":1650886392,"question_id":71998881,"body_markdown":"Our application use the custom font &quot;Roboto&quot;. This font is stored in our jar and goes installed via following code:\r\n\r\n    final GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, resourceClass.getResourceAsStream(font)));\r\n\r\nLast time some our customers report a painting issue (some texts in tables are cut). After research we&#39;v found that these customers got a software update that includes the Roboto font. When we delete this installed font all works fine. It looks like the existing (and probably unsuitable for us) font will not be replaced with our font (I&#39;ve decompiled the class `SunFontManager` and it looks that&#39;s true). Have somebody an idea how to replace an existing font?","title":"Replace existing font definition in Swing","body":"<p>Our application use the custom font &quot;Roboto&quot;. This font is stored in our jar and goes installed via following code:</p>\n<pre><code>final GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\nge.registerFont(Font.createFont(Font.TRUETYPE_FONT, resourceClass.getResourceAsStream(font)));\n</code></pre>\n<p>Last time some our customers report a painting issue (some texts in tables are cut). After research we'v found that these customers got a software update that includes the Roboto font. When we delete this installed font all works fine. It looks like the existing (and probably unsuitable for us) font will not be replaced with our font (I've decompiled the class <code>SunFontManager</code> and it looks that's true). Have somebody an idea how to replace an existing font?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8590,"page":1402,"page_size":100}
