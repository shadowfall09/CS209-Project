{"items":[{"tags":["java","arrays","for-loop","arraylist"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655379225,"post_id":72645120,"comment_id":128321312,"body_markdown":"You are removing elements from the collection you are iterating over, which leads to errors. You could use descending index iteration instead when going over `result`. You are also overwriting `result` with `re`, not making a copy of `re`.","body":"You are removing elements from the collection you are iterating over, which leads to errors. You could use descending index iteration instead when going over <code>result</code>. You are also overwriting <code>result</code> with <code>re</code>, not making a copy of <code>re</code>."},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1655380198,"post_id":72645120,"comment_id":128321601,"body_markdown":"Unless you&#39;ve defined a method named `euqals`, it looks like this won&#39;t compile.","body":"Unless you&#39;ve defined a method named <code>euqals</code>, it looks like this won&#39;t compile."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1655380537,"post_id":72645120,"comment_id":128321698,"body_markdown":"Can you share your `Event` class?","body":"Can you share your <code>Event</code> class?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1655380789,"post_id":72645120,"comment_id":128321786,"body_markdown":"I think you need to iterate through `re` twice. First time to find the maximum `startTime` and second time to extract all elements in the list whose `startTime` matches the maximum.","body":"I think you need to iterate through <code>re</code> twice. First time to find the maximum <code>startTime</code> and second time to extract all elements in the list whose <code>startTime</code> matches the maximum."},{"owner":{"account_id":21390018,"reputation":29,"user_id":15754268,"display_name":"user15754268"},"score":0,"creation_date":1655380859,"post_id":72645120,"comment_id":128321810,"body_markdown":"@Eritrean This is fine but, the list I am having is updated dynamically so i want to compare object with previous one so that previous object will remove and latest will be added.","body":"@Eritrean This is fine but, the list I am having is updated dynamically so i want to compare object with previous one so that previous object will remove and latest will be added."},{"owner":{"account_id":21390018,"reputation":29,"user_id":15754268,"display_name":"user15754268"},"score":0,"creation_date":1655380902,"post_id":72645120,"comment_id":128321822,"body_markdown":"public class Event {\nString Id;\nString status;\n\n\n\npublic String  getId(){\nreturn Id;\n\n}","body":"public class Event { String Id; String status;    public String  getId(){ return Id;  }"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1655380982,"post_id":72645120,"comment_id":128321843,"body_markdown":"Are all `id` , `status` and `starttime` Strings?","body":"Are all <code>id</code> , <code>status</code> and <code>starttime</code> Strings?"},{"owner":{"account_id":21390018,"reputation":29,"user_id":15754268,"display_name":"user15754268"},"score":0,"creation_date":1655381075,"post_id":72645120,"comment_id":128321873,"body_markdown":"@Eritrean    yes it is of strings","body":"@Eritrean    yes it is of strings"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1655381451,"post_id":72645120,"comment_id":128321995,"body_markdown":"_the list I am having is updated dynamically_ Are you saying that the list is changing while you are iterating over it (apart from the `remove` you are calling)? That would imply that your code is multi-threaded and that another thread is modifying the list while you are iterating over it in method `removeduplicates`. If that is not the case, then in method `removeduplicates` you are working with a list whose contents will not change during the execution of the method. Hence no problem to iterate the list twice.","body":"<i>the list I am having is updated dynamically</i> Are you saying that the list is changing while you are iterating over it (apart from the <code>remove</code> you are calling)? That would imply that your code is multi-threaded and that another thread is modifying the list while you are iterating over it in method <code>removeduplicates</code>. If that is not the case, then in method <code>removeduplicates</code> you are working with a list whose contents will not change during the execution of the method. Hence no problem to iterate the list twice."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655382132,"creation_date":1655382132,"answer_id":72645793,"question_id":72645120,"body_markdown":"This might be a good case where using streams might be very handy instead of a classic for-loop, because the method names will make it obvious what is going on in the method, i.e. grouping by `id + status` and and maping to the object having the max `starttime`. Example: assuming a class `Event` which looks something like :\r\n\r\n    class Event {\r\n        String id;\r\n        String status;\r\n        String startTime;\r\n    }\r\n\r\nAnd a sample input list:\r\n\r\n    List&lt;Event&gt; result = List.of(\r\n            new Event(&quot;ace-453&quot;, &quot;Inprogress&quot;,  &quot;2020-04-20 07:05:28&quot;),\r\n            new Event(&quot;ace-453&quot;, &quot;Inprogress&quot;,  &quot;2020-04-20 07:07:28&quot;),\r\n            new Event(&quot;ace-453&quot;, &quot;Inprogress&quot;,  &quot;2020-04-20 09:07:28&quot;),\r\n            new Event(&quot;ace-453&quot;, &quot;Inprogress&quot;,  &quot;2020-04-20 07:07:34&quot;)\r\n    );\r\n\r\nthen your method could look like \r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.function.BinaryOperator;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n\r\n\r\n    ....\r\n\r\n\r\n    public List&lt;Event&gt; removeduplicates(List&lt;Event&gt; result){\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        return new ArrayList&lt;&gt;(\r\n                result.stream()\r\n                        .collect(Collectors.toMap(\r\n                                event -&gt; event.getId() + event.getStatus(),\r\n                                Function.identity(),\r\n                                BinaryOperator.maxBy(\r\n                                        Comparator.comparing(event -&gt; LocalDateTime.parse(event.getStartTime(),formatter)))))\r\n                        .values());\r\n    }","title":"Remove objects having same ID and its Status","body":"<p>This might be a good case where using streams might be very handy instead of a classic for-loop, because the method names will make it obvious what is going on in the method, i.e. grouping by <code>id + status</code> and and maping to the object having the max <code>starttime</code>. Example: assuming a class <code>Event</code> which looks something like :</p>\n<pre><code>class Event {\n    String id;\n    String status;\n    String startTime;\n}\n</code></pre>\n<p>And a sample input list:</p>\n<pre><code>List&lt;Event&gt; result = List.of(\n        new Event(&quot;ace-453&quot;, &quot;Inprogress&quot;,  &quot;2020-04-20 07:05:28&quot;),\n        new Event(&quot;ace-453&quot;, &quot;Inprogress&quot;,  &quot;2020-04-20 07:07:28&quot;),\n        new Event(&quot;ace-453&quot;, &quot;Inprogress&quot;,  &quot;2020-04-20 09:07:28&quot;),\n        new Event(&quot;ace-453&quot;, &quot;Inprogress&quot;,  &quot;2020-04-20 07:07:34&quot;)\n);\n</code></pre>\n<p>then your method could look like</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.function.BinaryOperator;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\n\n....\n\n\npublic List&lt;Event&gt; removeduplicates(List&lt;Event&gt; result){\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    return new ArrayList&lt;&gt;(\n            result.stream()\n                    .collect(Collectors.toMap(\n                            event -&gt; event.getId() + event.getStatus(),\n                            Function.identity(),\n                            BinaryOperator.maxBy(\n                                    Comparator.comparing(event -&gt; LocalDateTime.parse(event.getStartTime(),formatter)))))\n                    .values());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655384223,"creation_date":1655382303,"answer_id":72645830,"question_id":72645120,"body_markdown":"If I understood you correctly, your goal is to remove *duplicated events* having the same `id` and `status` and retain only one of them having the latest time.\r\n\r\nThe issues with your code:\r\n\r\n* You&#39;re using identity comparison for strings `strings e.getStatus() == &quot;InProgress&quot;` instead of `equals()`.\r\n* It would be much cleaner if `startTime` would be of type `LocalDateTime` and not a `String` in the first place.\r\n* It&#39;s not clear do you want to modify the existing list or generate a new one as result of the method execution (because in the code you are creating a new list and then immediately reassigning the variable). In case if you need to modify the existing list, it would more performant not to remove elements one by one, but instead generate a `HashSet` of events that should be retained and then remove all other events in one go using `retainAll()`. It will turn the worst case quadratic time instead into a linear.\r\n* Method name `removeduplicates()` and parameter name `re` are not aligned with [*Java naming conventions*](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html).\r\n\r\nAssuming that equality of *events* according to the `equals/hashCode` implementation isn&#39;t based solely on `id` and `status`. We can generate a map with *keys* created by concatenating `id` and `status`. And then generate a resulting list from based on the values of this map.\r\n\r\nThe code below generates a *new list*, if you need to modify the one that was passed to a method, then replace `Collectors.toList()` with `Collectors.toSet()` and apply `retainAll()` on the initial list of events.\r\n\r\n    public List&lt;Event&gt; removeDuplicates(List&lt;Event&gt; events) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-mm-dd HH:mm:ss&quot;);\r\n        \r\n        return events.stream()\r\n            .filter(e -&gt; e.getId() != null &amp;&amp; !e.getId().isEmpty() &amp;&amp; e.getStatus().equals(&quot;InProgress&quot;))\r\n            .collect(Collectors.groupingBy(\r\n                e -&gt; e.getId() + &quot;:&quot; + e.getStatus(),\r\n                Collectors.maxBy(Comparator.comparing(e -&gt; LocalDateTime.parse(e.getStartTime(), formatter)))\r\n            ))\r\n            .values().stream()\r\n            .filter(Optional::isPresent)\r\n            .map(Optional::get)\r\n            .collect(Collectors.toList());\r\n    }","title":"Remove objects having same ID and its Status","body":"<p>If I understood you correctly, your goal is to remove <em>duplicated events</em> having the same <code>id</code> and <code>status</code> and retain only one of them having the latest time.</p>\n<p>The issues with your code:</p>\n<ul>\n<li>You're using identity comparison for strings <code>strings e.getStatus() == &quot;InProgress&quot;</code> instead of <code>equals()</code>.</li>\n<li>It would be much cleaner if <code>startTime</code> would be of type <code>LocalDateTime</code> and not a <code>String</code> in the first place.</li>\n<li>It's not clear do you want to modify the existing list or generate a new one as result of the method execution (because in the code you are creating a new list and then immediately reassigning the variable). In case if you need to modify the existing list, it would more performant not to remove elements one by one, but instead generate a <code>HashSet</code> of events that should be retained and then remove all other events in one go using <code>retainAll()</code>. It will turn the worst case quadratic time instead into a linear.</li>\n<li>Method name <code>removeduplicates()</code> and parameter name <code>re</code> are not aligned with <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\"><em>Java naming conventions</em></a>.</li>\n</ul>\n<p>Assuming that equality of <em>events</em> according to the <code>equals/hashCode</code> implementation isn't based solely on <code>id</code> and <code>status</code>. We can generate a map with <em>keys</em> created by concatenating <code>id</code> and <code>status</code>. And then generate a resulting list from based on the values of this map.</p>\n<p>The code below generates a <em>new list</em>, if you need to modify the one that was passed to a method, then replace <code>Collectors.toList()</code> with <code>Collectors.toSet()</code> and apply <code>retainAll()</code> on the initial list of events.</p>\n<pre><code>public List&lt;Event&gt; removeDuplicates(List&lt;Event&gt; events) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-mm-dd HH:mm:ss&quot;);\n    \n    return events.stream()\n        .filter(e -&gt; e.getId() != null &amp;&amp; !e.getId().isEmpty() &amp;&amp; e.getStatus().equals(&quot;InProgress&quot;))\n        .collect(Collectors.groupingBy(\n            e -&gt; e.getId() + &quot;:&quot; + e.getStatus(),\n            Collectors.maxBy(Comparator.comparing(e -&gt; LocalDateTime.parse(e.getStartTime(), formatter)))\n        ))\n        .values().stream()\n        .filter(Optional::isPresent)\n        .map(Optional::get)\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":21390018,"reputation":29,"user_id":15754268,"display_name":"user15754268"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1655384223,"creation_date":1655378952,"question_id":72645120,"body_markdown":"I have a array list results which is having bellow objects.\r\n\r\n```\r\nResults[Event[ID=ace-453, status=Inprogress , startTime= &quot;2020-04-20 07:05:28&quot;], \r\n        Event[ID=ace-453, status=Inprogress , startTime= &quot;2020-04-20 07:07:28&quot;],\r\n        Event[ID=ace-453, status=Inprogress , startTime= &quot;2020-04-20 09:07:28&quot;],\r\n        Event[ID=ace-453, status=Inprogress , startTime= &quot;2020-04-20 07:07:34&quot;] \r\n        \r\n       ]\r\n```\r\nI am trying to fetch a single record  which is having maximum start time and remove the other object from the list.\r\nThe following list is updated on runtime so I want to compare the object and only get the object with maximum time at last.\r\n\r\nI tried \r\n``` \r\npublic List&lt;Event&gt; removeduplicates(List&lt;Event&gt; re){\r\nList&lt;Event&gt; results = new Arraylist&lt;Events&gt;();\r\nresults = re;\r\nfor(Event e : re){\r\n   if(e.getId() != null &amp;&amp; !e.getid().isEmpty() &amp;&amp; e.getStatus() == &quot;InProgress&quot;){\r\n     for(Event e1 : results){\r\n        if(e.getId().euqals(e1.getId()) &amp;&amp; (e.getStatus().equals(e1.getStatus()))){\r\n           DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-mm-dd HH:mm:ss&quot;);\r\n           LocalDateTime dt1 = LocalDateTime.parse(e.getStarttime(),formatter);\r\n           LocalDateTime dt2 = LocalDateTime.parse(e1.getStarttime(),formatter);\r\n          if(dt1.isBefore(dt2)){\r\n            result.remove(e);\r\n           }\r\n\r\n      }\r\n   }\r\n\r\n }\r\n\r\n}\r\n\r\n```\r\nbut I am getting null list at the end.\r\nalso i am not able to use **.remove()** here.","title":"Remove objects having same ID and its Status","body":"<p>I have a array list results which is having bellow objects.</p>\n<pre><code>Results[Event[ID=ace-453, status=Inprogress , startTime= &quot;2020-04-20 07:05:28&quot;], \n        Event[ID=ace-453, status=Inprogress , startTime= &quot;2020-04-20 07:07:28&quot;],\n        Event[ID=ace-453, status=Inprogress , startTime= &quot;2020-04-20 09:07:28&quot;],\n        Event[ID=ace-453, status=Inprogress , startTime= &quot;2020-04-20 07:07:34&quot;] \n        \n       ]\n</code></pre>\n<p>I am trying to fetch a single record  which is having maximum start time and remove the other object from the list.\nThe following list is updated on runtime so I want to compare the object and only get the object with maximum time at last.</p>\n<p>I tried</p>\n<pre><code>public List&lt;Event&gt; removeduplicates(List&lt;Event&gt; re){\nList&lt;Event&gt; results = new Arraylist&lt;Events&gt;();\nresults = re;\nfor(Event e : re){\n   if(e.getId() != null &amp;&amp; !e.getid().isEmpty() &amp;&amp; e.getStatus() == &quot;InProgress&quot;){\n     for(Event e1 : results){\n        if(e.getId().euqals(e1.getId()) &amp;&amp; (e.getStatus().equals(e1.getStatus()))){\n           DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-mm-dd HH:mm:ss&quot;);\n           LocalDateTime dt1 = LocalDateTime.parse(e.getStarttime(),formatter);\n           LocalDateTime dt2 = LocalDateTime.parse(e1.getStarttime(),formatter);\n          if(dt1.isBefore(dt2)){\n            result.remove(e);\n           }\n\n      }\n   }\n\n }\n\n}\n\n</code></pre>\n<p>but I am getting null list at the end.\nalso i am not able to use <strong>.remove()</strong> here.</p>\n"},{"tags":["java","rx-java"],"comments":[{"owner":{"account_id":31746,"reputation":29259,"user_id":87427,"accept_rate":78,"display_name":"James World"},"score":0,"creation_date":1423473431,"post_id":28402689,"comment_id":45146794,"body_markdown":"I notice you are using [system.reactive] for non Rx.NET questions... bear in mind this is for .NET Rx questions. Questions specifically targeting RxJava should not use it.","body":"I notice you are using [system.reactive] for non Rx.NET questions... bear in mind this is for .NET Rx questions. Questions specifically targeting RxJava should not use it."},{"owner":{"account_id":31746,"reputation":29259,"user_id":87427,"accept_rate":78,"display_name":"James World"},"score":1,"creation_date":1423474353,"post_id":28402689,"comment_id":45147278,"body_markdown":"I noticed that `rx` is a synonym for `system.reactive` - trying to get this addressed on meta, so that it&#39;s a separate more general tag.","body":"I noticed that <code>rx</code> is a synonym for <code>system.reactive</code> - trying to get this addressed on meta, so that it&#39;s a separate more general tag."}],"answers":[{"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"down_vote_count":0,"up_vote_count":108,"is_accepted":true,"score":108,"last_activity_date":1423469464,"creation_date":1423469464,"answer_id":28405340,"question_id":28402689,"body_markdown":"`doOnNext` is for side-effects: you want to react (eg. log) to item emissions in an intermediate step of your stream, for example before the stream is filtered, for transverse behavior like logging, but you still want the value to propagate down the stream.\r\n\r\n`onNext` is more final, it consumes the value.","title":"What is the purpose of doOnNext(...) in RxJava","body":"<p><code>doOnNext</code> is for side-effects: you want to react (eg. log) to item emissions in an intermediate step of your stream, for example before the stream is filtered, for transverse behavior like logging, but you still want the value to propagate down the stream.</p>\n\n<p><code>onNext</code> is more final, it consumes the value.</p>\n"},{"tags":[],"owner":{"account_id":6011496,"reputation":2617,"user_id":4721831,"accept_rate":100,"display_name":"trocchietto"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1560973444,"creation_date":1502053222,"answer_id":45536590,"question_id":28402689,"body_markdown":"*IMPORTANT EDIT*: -in bold characters immediately below-\r\n\r\n*** Once one grasps the concept,\r\nI warmly suggest you to have a look at this [link][2], is a lifechanger, not  only because we use different observable as  `Observable`, `Single`, `Maybe` that could be need a different tool as `doOnEvent()` for `Single` and `doOnEach()` for `Observable` but because if you want to debug, there are some reasons why doOnNext() could often even not be the ideal choice, because we could ignore other events that are relevant to resolve the problem***\r\n\r\nORIGINAL REPLY: -partially modified-\r\n\r\nFirst of all `doOnNext()` can be called **even more times** in the chain of operators between Observable and Subscribe, this gives to you greater possibilities to debug your code. Because of its &quot;stream&quot; nature, is not easy to do debugging in RXJava, `doOnNext()` instead makes debugging easier. At this purpose you may consider also to combine it with the`doOnError()` operator. Why not using a simple `onNext()`? Because debugging is not strictly related to the logic of the code, in theory you could also eliminate the `doOnNext()` before to go in production.\r\n\r\nA really essential thing to understand is that given an Observable to subscribe long chain, you can use the doOnNext in a particular point, to see what an operator is giving back to another one:\r\n\r\nFor instance :\r\n\r\n    Observable.just(&quot;Donald&quot;, &quot;Duck&quot;, &quot;Mickey&quot;, &quot;Goofy&quot;,\r\n                    &quot;Uncle&quot;)\r\n                    .doOnNext{System.out.println(&quot;Here ou will get the strings above:$it &quot;)}\r\n                     .map{it.length}\r\n                     .subscribe { println(&quot;Here you will get the numbers of how every string is long: $it&quot;) }}\r\n\r\n\r\nA typical use case to employ `doOnNext()` could for example occur when you want to cache a response from a server, so for instance you could use `map()` but [also][1] `doOnNext()`, because it allows you to make your code more readable as instead you would put a simple `onNext()` that ideally could have been structured to follow other instructions. (This is arguable, as all the architectural thoughts)\r\n\r\n\r\nEqually to `doOnNext()` and for the same debugging purposes\r\nyou could use others self-explanatory operators:\r\n\r\n&gt; doOnSubscribe(), doOnUnsubscribe(), doOnCompleted(), doOnError(),\r\n&gt; doOnTerminate(),finallyDo(), doOnEach(), doOnRequest()\r\n\r\n`doOnNext()` allow you to see what is going on into the Observable (often really long) chains, what is really important is that **you can kinda spying what is going on trough the chain, without affecting any operation, without making any transformation( let&#39;s say not properly a kind of `Log.d` we use in imperative, not reactive code).** This is is the reason why is called a ***side*** effect.\r\n\r\nEDIT(because of the question in the comments):\r\n\r\n`doOnNext()` and the method above are just callbacks, please refer to [that][3], `doOnNext()` as the official documentation says \r\n\r\n&gt; just modifies an Observable so that it invokes an action when it calls\r\n&gt; onNext.\r\n\r\nReally simple, this is why is called sometimes to upload the progress bar, but also is really used in the repository pattern, for instance if you want to store data to the db/or caching after a call to retrofit for instance.\r\n\r\nIf you are really curious under the hood the doSomethingReactive methods just call the method `call()` ( a callback from the Interface Action) inside the &quot;real&quot; method SomethingReactive\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30149692/rxjava-alternative-for-map-operator-to-save-emitted-items?noredirect=1&amp;lq=1\r\n  [2]: https://proandroiddev.com/briefly-about-rxjava-logging-20308b013e6d\r\n  [3]: http://reactivex.io/documentation/operators/do.html","title":"What is the purpose of doOnNext(...) in RxJava","body":"<p><em>IMPORTANT EDIT</em>: -in bold characters immediately below-</p>\n\n<p><strong>* Once one grasps the concept,\nI warmly suggest you to have a look at this <a href=\"https://proandroiddev.com/briefly-about-rxjava-logging-20308b013e6d\" rel=\"noreferrer\">link</a>, is a lifechanger, not  only because we use different observable as  <code>Observable</code>, <code>Single</code>, <code>Maybe</code> that could be need a different tool as <code>doOnEvent()</code> for <code>Single</code> and <code>doOnEach()</code> for <code>Observable</code> but because if you want to debug, there are some reasons why doOnNext() could often even not be the ideal choice, because we could ignore other events that are relevant to resolve the problem*</strong></p>\n\n<p>ORIGINAL REPLY: -partially modified-</p>\n\n<p>First of all <code>doOnNext()</code> can be called <strong>even more times</strong> in the chain of operators between Observable and Subscribe, this gives to you greater possibilities to debug your code. Because of its \"stream\" nature, is not easy to do debugging in RXJava, <code>doOnNext()</code> instead makes debugging easier. At this purpose you may consider also to combine it with the<code>doOnError()</code> operator. Why not using a simple <code>onNext()</code>? Because debugging is not strictly related to the logic of the code, in theory you could also eliminate the <code>doOnNext()</code> before to go in production.</p>\n\n<p>A really essential thing to understand is that given an Observable to subscribe long chain, you can use the doOnNext in a particular point, to see what an operator is giving back to another one:</p>\n\n<p>For instance :</p>\n\n<pre><code>Observable.just(\"Donald\", \"Duck\", \"Mickey\", \"Goofy\",\n                \"Uncle\")\n                .doOnNext{System.out.println(\"Here ou will get the strings above:$it \")}\n                 .map{it.length}\n                 .subscribe { println(\"Here you will get the numbers of how every string is long: $it\") }}\n</code></pre>\n\n<p>A typical use case to employ <code>doOnNext()</code> could for example occur when you want to cache a response from a server, so for instance you could use <code>map()</code> but <a href=\"https://stackoverflow.com/questions/30149692/rxjava-alternative-for-map-operator-to-save-emitted-items?noredirect=1&amp;lq=1\">also</a> <code>doOnNext()</code>, because it allows you to make your code more readable as instead you would put a simple <code>onNext()</code> that ideally could have been structured to follow other instructions. (This is arguable, as all the architectural thoughts)</p>\n\n<p>Equally to <code>doOnNext()</code> and for the same debugging purposes\nyou could use others self-explanatory operators:</p>\n\n<blockquote>\n  <p>doOnSubscribe(), doOnUnsubscribe(), doOnCompleted(), doOnError(),\n  doOnTerminate(),finallyDo(), doOnEach(), doOnRequest()</p>\n</blockquote>\n\n<p><code>doOnNext()</code> allow you to see what is going on into the Observable (often really long) chains, what is really important is that <strong>you can kinda spying what is going on trough the chain, without affecting any operation, without making any transformation( let's say not properly a kind of <code>Log.d</code> we use in imperative, not reactive code).</strong> This is is the reason why is called a <strong><em>side</em></strong> effect.</p>\n\n<p>EDIT(because of the question in the comments):</p>\n\n<p><code>doOnNext()</code> and the method above are just callbacks, please refer to <a href=\"http://reactivex.io/documentation/operators/do.html\" rel=\"noreferrer\">that</a>, <code>doOnNext()</code> as the official documentation says </p>\n\n<blockquote>\n  <p>just modifies an Observable so that it invokes an action when it calls\n  onNext.</p>\n</blockquote>\n\n<p>Really simple, this is why is called sometimes to upload the progress bar, but also is really used in the repository pattern, for instance if you want to store data to the db/or caching after a call to retrofit for instance.</p>\n\n<p>If you are really curious under the hood the doSomethingReactive methods just call the method <code>call()</code> ( a callback from the Interface Action) inside the \"real\" method SomethingReactive</p>\n"},{"tags":[],"owner":{"account_id":18833582,"reputation":69,"user_id":13736807,"display_name":"Arto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655383940,"creation_date":1655163075,"answer_id":72610071,"question_id":28402689,"body_markdown":"`doOnNext()` allows us to add some extra action that happens every time we get a new data item.\r\n\r\ndoOnError does not handle the error, in the sense that it does not consume one. He just does something with it, like records it. (The same is true for doOnNext - it doesn&#39;t consume the element either, and the element still ends up in the onNext Subscriber).\r\n```\r\n\r\nObservable.just(&quot;Some data...&quot;)\r\n                .doOnNext(System.out::println)\r\n                .doOnNext(value -&gt; System.out.println(&quot;before transform: &quot; + value+&quot; You can add something here but it dont affect in data&quot;))\r\n                .map(value -&gt; value + &quot;| adding some new data&quot;)\r\n                .doOnNext(value -&gt; System.out.println(&quot;after transform: &quot; + value))\r\n                .subscribe(onNext -&gt; {\r\n            System.out.println(&quot;onNext: &quot;+onNext); // print out the remaining numbers\r\n        });\r\n```\r\nResult:\r\n\r\n&gt; Some data...\r\n&gt; \r\n&gt; before transform: Some data...You can add something here but it dont\r\n&gt; affect in data\r\n&gt; \r\n&gt; after transform: Some data...| adding some new data\r\n&gt; \r\n&gt; onNext: Some data...| adding some new data\r\n\r\n","title":"What is the purpose of doOnNext(...) in RxJava","body":"<p><code>doOnNext()</code> allows us to add some extra action that happens every time we get a new data item.</p>\n<p>doOnError does not handle the error, in the sense that it does not consume one. He just does something with it, like records it. (The same is true for doOnNext - it doesn't consume the element either, and the element still ends up in the onNext Subscriber).</p>\n<pre><code>\nObservable.just(&quot;Some data...&quot;)\n                .doOnNext(System.out::println)\n                .doOnNext(value -&gt; System.out.println(&quot;before transform: &quot; + value+&quot; You can add something here but it dont affect in data&quot;))\n                .map(value -&gt; value + &quot;| adding some new data&quot;)\n                .doOnNext(value -&gt; System.out.println(&quot;after transform: &quot; + value))\n                .subscribe(onNext -&gt; {\n            System.out.println(&quot;onNext: &quot;+onNext); // print out the remaining numbers\n        });\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>Some data...</p>\n<p>before transform: Some data...You can add something here but it dont\naffect in data</p>\n<p>after transform: Some data...| adding some new data</p>\n<p>onNext: Some data...| adding some new data</p>\n</blockquote>\n"}],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61003,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":28405340,"answer_count":3,"score":75,"last_activity_date":1655383940,"creation_date":1423454875,"question_id":28402689,"body_markdown":"When should we use [doOnNext()][1] from Observable instead of just onNext()?\r\n\r\n\r\n  [1]: http://reactivex.io/RxJava/javadoc/rx/Observable.html#doOnNext-rx.functions.Action1-","title":"What is the purpose of doOnNext(...) in RxJava","body":"<p>When should we use <a href=\"http://reactivex.io/RxJava/javadoc/rx/Observable.html#doOnNext-rx.functions.Action1-\" rel=\"noreferrer\">doOnNext()</a> from Observable instead of just onNext()?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1655306931,"post_id":72634012,"comment_id":128302854,"body_markdown":"You are not doing anything with the value that is `return`ed from `shouldWakeUp`. So you are just calling the method and nothing will happen - you won&#39;t see anything. You should do something with the value like make a decision based on it or print it.","body":"You are not doing anything with the value that is <code>return</code>ed from <code>shouldWakeUp</code>. So you are just calling the method and nothing will happen - you won&#39;t see anything. You should do something with the value like make a decision based on it or print it."},{"owner":{"account_id":16001561,"reputation":3061,"user_id":11548057,"display_name":"joshmeranda"},"score":0,"creation_date":1655306941,"post_id":72634012,"comment_id":128302860,"body_markdown":"It just means that the method `shouldWakeUp` is returning a `boolean`  but you aren&#39;t using it. To quiet the error, you can either set a variable to the return type or use the value insome way","body":"It just means that the method <code>shouldWakeUp</code> is returning a <code>boolean</code>  but you aren&#39;t using it. To quiet the error, you can either set a variable to the return type or use the value insome way"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655307613,"post_id":72634012,"comment_id":128303135,"body_markdown":"BTW that is most probably just a warning - it *can* be ignored, the program is still executable, but eventually with some bug","body":"BTW that is most probably just a warning - it <i>can</i> be ignored, the program is still executable, but eventually with some bug"}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655313245,"creation_date":1655312894,"answer_id":72635304,"question_id":72634012,"body_markdown":"Well, there is nothing technically wrong with your code. IntelliJIdea just tries to help you and says that your code might be pointless and not do what you really want. I also do not understand this code:\r\n\r\n    public static void main(String[] args) {\r\n        barkingDog.shouldWakeUp(true, 1);\r\n    }\r\n\r\nIt looks like you are asking a question and do not care about the answer :) I&#39;ve slightly changed your code (I also allowed myself to fix the naming according to the Sun convention and remove unnecessary qualified reference):\r\n\r\n    public class BarkingDog {\r\n    \r\n        public static void main(String[] args) {\r\n            boolean shouldI = shouldWakeUp(true, 1);\r\n            if (shouldI) {\r\n                System.out.println(&quot;Ok, ok. I&#39;m almost wake :))))&quot;);\r\n            } else {\r\n                System.out.println(&quot;Damn dog, shut up!!!&quot;);\r\n            }\r\n        }\r\n    \r\n        public static boolean shouldWakeUp(boolean barking, int hourOfDay) {\r\n            if (barking &amp;&amp; (hourOfDay &lt; 8 || hourOfDay &gt; 22)) {\r\n                return true;\r\n            } else if (!barking &amp;&amp; hourOfDay &lt; 0 || hourOfDay &gt; 23) {\r\n                return false;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\nSee the difference? In my code I&#39;m asking &quot;Should I wake up or not?&quot;, then I take the response (the value that method `shouldWakeUp` returned to me) and according to it I behave: in this example, depending on the answer I output different messages to the console.","title":"&quot;Result of method is ignored&quot; - How to resolve this problem","body":"<p>Well, there is nothing technically wrong with your code. IntelliJIdea just tries to help you and says that your code might be pointless and not do what you really want. I also do not understand this code:</p>\n<pre><code>public static void main(String[] args) {\n    barkingDog.shouldWakeUp(true, 1);\n}\n</code></pre>\n<p>It looks like you are asking a question and do not care about the answer :) I've slightly changed your code (I also allowed myself to fix the naming according to the Sun convention and remove unnecessary qualified reference):</p>\n<pre><code>public class BarkingDog {\n\n    public static void main(String[] args) {\n        boolean shouldI = shouldWakeUp(true, 1);\n        if (shouldI) {\n            System.out.println(&quot;Ok, ok. I'm almost wake :))))&quot;);\n        } else {\n            System.out.println(&quot;Damn dog, shut up!!!&quot;);\n        }\n    }\n\n    public static boolean shouldWakeUp(boolean barking, int hourOfDay) {\n        if (barking &amp;&amp; (hourOfDay &lt; 8 || hourOfDay &gt; 22)) {\n            return true;\n        } else if (!barking &amp;&amp; hourOfDay &lt; 0 || hourOfDay &gt; 23) {\n            return false;\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>See the difference? In my code I'm asking &quot;Should I wake up or not?&quot;, then I take the response (the value that method <code>shouldWakeUp</code> returned to me) and according to it I behave: in this example, depending on the answer I output different messages to the console.</p>\n"}],"owner":{"account_id":18182813,"reputation":1,"user_id":13230208,"display_name":"Krishna Agarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655383882,"creation_date":1655306703,"question_id":72634012,"body_markdown":"How can I fix &quot;Result of [function call] is ignored&quot; and &quot;Return value of the method is never used&quot; in the following?\r\n\r\n\r\n~~~Java\r\npublic class barkingDog {\r\n    public static void main(String[] args) {\r\n        barkingDog.shouldWakeUp(true, 1);\r\n    }\r\n\r\n    public static boolean shouldWakeUp (boolean barking, int hourOfDay) {\r\n        if (barking &amp;&amp; (hourOfDay &lt; 8 || hourOfDay &gt;22)){\r\n            return true;\r\n        }\r\n        else if (!barking &amp;&amp; hourOfDay&lt;0 || hourOfDay&gt;23){\r\n            return false;\r\n        }\r\n        return false;\r\n\r\n    }\r\n}\r\n~~~\r\n        \r\nProblem1: Result of &#39;barkingDog.shouldWakeUp()&#39; is ignored\r\n\r\nProblem2 : Return value of the method is never used\r\n\r\nWhat does it mean? What should I do to resolve this problem?             ","title":"&quot;Result of method is ignored&quot; - How to resolve this problem","body":"<p>How can I fix &quot;Result of [function call] is ignored&quot; and &quot;Return value of the method is never used&quot; in the following?</p>\n<pre><code>public class barkingDog {\n    public static void main(String[] args) {\n        barkingDog.shouldWakeUp(true, 1);\n    }\n\n    public static boolean shouldWakeUp (boolean barking, int hourOfDay) {\n        if (barking &amp;&amp; (hourOfDay &lt; 8 || hourOfDay &gt;22)){\n            return true;\n        }\n        else if (!barking &amp;&amp; hourOfDay&lt;0 || hourOfDay&gt;23){\n            return false;\n        }\n        return false;\n\n    }\n}\n</code></pre>\n<p>Problem1: Result of 'barkingDog.shouldWakeUp()' is ignored</p>\n<p>Problem2 : Return value of the method is never used</p>\n<p>What does it mean? What should I do to resolve this problem?</p>\n"},{"tags":["java","wsdl","content-type","soap-client","http-status-code-415"],"comments":[{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1595564406,"post_id":63064892,"comment_id":111524486,"body_markdown":"have you tried to remove the charset part on the content type just in case... Also you can try with &quot;application/xml&quot; as the Content-Type header. If still the issue I recommend enabling logging to check the actual request that is being sent ... https://stackoverflow.com/questions/1445919/how-to-enable-wire-logging-for-a-java-httpurlconnection-traffic","body":"have you tried to remove the charset part on the content type just in case... Also you can try with &quot;application/xml&quot; as the Content-Type header. If still the issue I recommend enabling logging to check the actual request that is being sent ... <a href=\"https://stackoverflow.com/questions/1445919/how-to-enable-wire-logging-for-a-java-httpurlconnection-traffic\" title=\"how to enable wire logging for a java httpurlconnection traffic\">stackoverflow.com/questions/1445919/&hellip;</a>"},{"owner":{"account_id":1346293,"reputation":187,"user_id":2551662,"display_name":"AcidRod75"},"score":0,"creation_date":1595625191,"post_id":63064892,"comment_id":111550509,"body_markdown":"No luck at all, just the same error over and over... i can&#39;t do anything about the WS it self since it does not belongs to me, so not a single chance to enabling logging.","body":"No luck at all, just the same error over and over... i can&#39;t do anything about the WS it self since it does not belongs to me, so not a single chance to enabling logging."},{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1595626771,"post_id":63064892,"comment_id":111550947,"body_markdown":"you can always enable logging on the client side to check what you are sending","body":"you can always enable logging on the client side to check what you are sending"}],"answers":[{"tags":[],"owner":{"account_id":1346293,"reputation":187,"user_id":2551662,"display_name":"AcidRod75"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595627466,"creation_date":1595627466,"answer_id":63081925,"question_id":63064892,"body_markdown":"Okay, so after investigating for quite some time I discovered that this error had something to do with the webservice it self, i swapped it with another and it worked with no issue. Lesson learned: NOT all webservices out there work as they should.","title":"Error 415 for WSDL SOAP Webservice Java client","body":"<p>Okay, so after investigating for quite some time I discovered that this error had something to do with the webservice it self, i swapped it with another and it worked with no issue. Lesson learned: NOT all webservices out there work as they should.</p>\n"},{"tags":[],"owner":{"account_id":20263289,"reputation":21,"user_id":14861139,"display_name":"Squiggy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655383541,"creation_date":1655383541,"answer_id":72646099,"question_id":63064892,"body_markdown":"I ran into the same issue using Postman and was able to resolve. Change the Content-Type header from application/xml to text/xml","title":"Error 415 for WSDL SOAP Webservice Java client","body":"<p>I ran into the same issue using Postman and was able to resolve. Change the Content-Type header from application/xml to text/xml</p>\n"}],"owner":{"account_id":1346293,"reputation":187,"user_id":2551662,"display_name":"AcidRod75"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1069,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655383541,"creation_date":1595549159,"question_id":63064892,"body_markdown":"this time i will be needing some help with an error that i can&#39;t find where is the problem.\r\n\r\nI developed a very simple java code to consume a web service but when I run it i&#39;m getting this nasty error: &quot;Caused by: java.io.IOException: Server returned HTTP response code: 415 for URL: http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords&quot;\r\n\r\nInvestigating about this error it said that this has something to do with the Content-Type not been supported, so downloaded SoapUI 5.6.0 to see what the WS was waiting for and it seems correct to me.\r\n\r\nHere is my code:\r\n\r\n    package principal;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.io.StringReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.NodeList;\r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.SAXException;\r\n    \r\n    public class PruebaWS {\r\n        public void getNumber(int number){\r\n            String wsURL = &quot;http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords&quot;;\r\n            URL url = null;\r\n            URLConnection connection = null;\r\n            HttpURLConnection httpConn = null;\r\n            String responseString = null;\r\n            String outputString = null;\r\n            ByteArrayOutputStream bout = null;\r\n            OutputStream out = null;\r\n            InputStreamReader isr = null;\r\n            BufferedReader in = null;\r\n            \r\n            String xmlInput = \r\n                    &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:web=\\&quot;http://www.dataaccess.com/webservicesserver/\\&quot;&gt;&quot; +\r\n                    &quot;   &lt;soapenv:Header/&gt;&quot; +\r\n                    &quot;   &lt;soapenv:Body&gt;&quot; +\r\n                    &quot;      &lt;web:NumberToWords&gt;&quot; +\r\n                    &quot;         &lt;web:ubiNum&gt;&quot; + number +&quot;&lt;/web:ubiNum&gt;&quot; +\r\n                    &quot;      &lt;/web:NumberToWords&gt;&quot; +\r\n                    &quot;   &lt;/soapenv:Body&gt;&quot; +\r\n                    &quot;&lt;/soapenv:Envelope&gt;&quot;;\r\n            \r\n            try {\r\n                url = new URL(wsURL);\r\n                connection = url.openConnection();\r\n                httpConn = (HttpURLConnection) connection;\r\n                \r\n                byte[] buffer = new byte[xmlInput.length()];\r\n                buffer = xmlInput.getBytes();\r\n                \r\n                String SOAPAction = &quot;&quot;;\r\n                httpConn.setRequestMethod(&quot;POST&quot;);\r\n                httpConn.setRequestProperty(&quot;SOAPAction&quot;, SOAPAction);\r\n                httpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(buffer.length));\r\n                httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml;charset=utf-8&quot;);\r\n                httpConn.setRequestProperty(&quot;Accept&quot;, &quot;*/xml&quot;);\r\n                httpConn.setDoInput(true);\r\n                httpConn.setDoOutput(true);\r\n                httpConn.setUseCaches(false);\r\n                \r\n                out = httpConn.getOutputStream();\r\n                out.write(buffer);\r\n                out.close();\r\n                \r\n                // Lee la respuesta y escribe a un output est&#225;ndard\r\n                isr = new InputStreamReader(httpConn.getInputStream());\r\n                in = new BufferedReader(isr);\r\n                \r\n                while ((responseString = in.readLine()) != null)\r\n                    outputString = outputString + responseString;\r\n                \r\n                System.out.println(outputString);\r\n                System.out.println(&quot;&quot;);\r\n                \r\n                // Obtiene la respuesta desde la llamada al webService\r\n                Document document = parseXmlFile(outputString);\r\n                \r\n                NodeList nodeList = document.getElementsByTagName(&quot;m:NumberToWordsResponse&quot;);\r\n                String webServiceResponse = nodeList.item(0).getTextContent();\r\n                System.out.println(&quot;La respuesta del web service es: &quot; + webServiceResponse);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        \r\n        private Document parseXmlFile(String in){\r\n            try {\r\n                DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n                DocumentBuilder db = dbf.newDocumentBuilder();\r\n                InputSource is = new InputSource(new StringReader(in));\r\n                return db.parse(is);\r\n            } catch (ParserConfigurationException | SAXException | IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd this is the error during Runtime:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.RuntimeException:\r\n&gt; java.io.IOException: Server returned HTTP response code: 415 for URL:\r\n&gt; http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords\r\n&gt; \tat principal.PruebaWS.getNumber(PruebaWS.java:83) \tat\r\n&gt; principal.Main.main(Main.java:6) Caused by: java.io.IOException:\r\n&gt; Server returned HTTP response code: 415 for URL:\r\n&gt; http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords\r\n&gt; \tat\r\n&gt; java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1919)\r\n&gt; \tat\r\n&gt; java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1515)\r\n&gt; \tat principal.PruebaWS.getNumber(PruebaWS.java:67) \t... 1 more\r\n&gt; C:\\Local\\NetBeans\\Cache\\11.1\\executor-snippets\\run.xml:111: The\r\n&gt; following error occurred while executing this line:\r\n&gt; C:\\Local\\NetBeans\\Cache\\11.1\\executor-snippets\\run.xml:68: Java\r\n&gt; returned: 1 BUILD FAILED (total time: 2 seconds)\r\n\r\nAny help will be valuable.","title":"Error 415 for WSDL SOAP Webservice Java client","body":"<p>this time i will be needing some help with an error that i can't find where is the problem.</p>\n<p>I developed a very simple java code to consume a web service but when I run it i'm getting this nasty error: &quot;Caused by: java.io.IOException: Server returned HTTP response code: 415 for URL: <a href=\"http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords%22\" rel=\"nofollow noreferrer\">http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords&quot;</a></p>\n<p>Investigating about this error it said that this has something to do with the Content-Type not been supported, so downloaded SoapUI 5.6.0 to see what the WS was waiting for and it seems correct to me.</p>\n<p>Here is my code:</p>\n<pre><code>package principal;\n\nimport java.io.BufferedReader;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.StringReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\n\npublic class PruebaWS {\n    public void getNumber(int number){\n        String wsURL = &quot;http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords&quot;;\n        URL url = null;\n        URLConnection connection = null;\n        HttpURLConnection httpConn = null;\n        String responseString = null;\n        String outputString = null;\n        ByteArrayOutputStream bout = null;\n        OutputStream out = null;\n        InputStreamReader isr = null;\n        BufferedReader in = null;\n        \n        String xmlInput = \n                &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:web=\\&quot;http://www.dataaccess.com/webservicesserver/\\&quot;&gt;&quot; +\n                &quot;   &lt;soapenv:Header/&gt;&quot; +\n                &quot;   &lt;soapenv:Body&gt;&quot; +\n                &quot;      &lt;web:NumberToWords&gt;&quot; +\n                &quot;         &lt;web:ubiNum&gt;&quot; + number +&quot;&lt;/web:ubiNum&gt;&quot; +\n                &quot;      &lt;/web:NumberToWords&gt;&quot; +\n                &quot;   &lt;/soapenv:Body&gt;&quot; +\n                &quot;&lt;/soapenv:Envelope&gt;&quot;;\n        \n        try {\n            url = new URL(wsURL);\n            connection = url.openConnection();\n            httpConn = (HttpURLConnection) connection;\n            \n            byte[] buffer = new byte[xmlInput.length()];\n            buffer = xmlInput.getBytes();\n            \n            String SOAPAction = &quot;&quot;;\n            httpConn.setRequestMethod(&quot;POST&quot;);\n            httpConn.setRequestProperty(&quot;SOAPAction&quot;, SOAPAction);\n            httpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(buffer.length));\n            httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml;charset=utf-8&quot;);\n            httpConn.setRequestProperty(&quot;Accept&quot;, &quot;*/xml&quot;);\n            httpConn.setDoInput(true);\n            httpConn.setDoOutput(true);\n            httpConn.setUseCaches(false);\n            \n            out = httpConn.getOutputStream();\n            out.write(buffer);\n            out.close();\n            \n            // Lee la respuesta y escribe a un output estándard\n            isr = new InputStreamReader(httpConn.getInputStream());\n            in = new BufferedReader(isr);\n            \n            while ((responseString = in.readLine()) != null)\n                outputString = outputString + responseString;\n            \n            System.out.println(outputString);\n            System.out.println(&quot;&quot;);\n            \n            // Obtiene la respuesta desde la llamada al webService\n            Document document = parseXmlFile(outputString);\n            \n            NodeList nodeList = document.getElementsByTagName(&quot;m:NumberToWordsResponse&quot;);\n            String webServiceResponse = nodeList.item(0).getTextContent();\n            System.out.println(&quot;La respuesta del web service es: &quot; + webServiceResponse);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    \n    private Document parseXmlFile(String in){\n        try {\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n            DocumentBuilder db = dbf.newDocumentBuilder();\n            InputSource is = new InputSource(new StringReader(in));\n            return db.parse(is);\n        } catch (ParserConfigurationException | SAXException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>And this is the error during Runtime:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException:\njava.io.IOException: Server returned HTTP response code: 415 for URL:\n<a href=\"http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords\" rel=\"nofollow noreferrer\">http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords</a>\nat principal.PruebaWS.getNumber(PruebaWS.java:83)   at\nprincipal.Main.main(Main.java:6) Caused by: java.io.IOException:\nServer returned HTTP response code: 415 for URL:\n<a href=\"http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords\" rel=\"nofollow noreferrer\">http://www.dataaccess.com/webservicesserver/numberconversion.wso/NumberToWords</a>\nat\njava.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1919)\nat\njava.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1515)\nat principal.PruebaWS.getNumber(PruebaWS.java:67)   ... 1 more\nC:\\Local\\NetBeans\\Cache\\11.1\\executor-snippets\\run.xml:111: The\nfollowing error occurred while executing this line:\nC:\\Local\\NetBeans\\Cache\\11.1\\executor-snippets\\run.xml:68: Java\nreturned: 1 BUILD FAILED (total time: 2 seconds)</p>\n</blockquote>\n<p>Any help will be valuable.</p>\n"},{"tags":["java","windows","eclipse","opencv"],"answers":[{"tags":[],"owner":{"account_id":13333326,"reputation":475,"user_id":9623925,"display_name":"Abdelsalam Hamdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563155829,"creation_date":1563155829,"answer_id":57032501,"question_id":56768953,"body_markdown":"I solve this problem by uninstalling everything, java and also eclibs and install them again. Then just follow the same mentioned tutorial.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/opencv/core/Core","body":"<p>I solve this problem by uninstalling everything, java and also eclibs and install them again. Then just follow the same mentioned tutorial.</p>\n"},{"tags":[],"owner":{"account_id":17131155,"reputation":11,"user_id":12397232,"display_name":"Mervetafrali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581183901,"creation_date":1581183901,"answer_id":60129441,"question_id":56768953,"body_markdown":"I had this error in version 3.4 or 4.2 of OpenCV and I solved the error by uninstall OpenCv 4.2 and install 3.2.0. The problem was solved.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/opencv/core/Core","body":"<p>I had this error in version 3.4 or 4.2 of OpenCV and I solved the error by uninstall OpenCv 4.2 and install 3.2.0. The problem was solved.</p>\n"}],"owner":{"account_id":13333326,"reputation":475,"user_id":9623925,"display_name":"Abdelsalam Hamdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1655383374,"creation_date":1561539481,"question_id":56768953,"body_markdown":"I have been working with OpenCV for quite a long time. But this is my first time using with java in eclipse. I followed this [tutorial](https://opencv-java-tutorials.readthedocs.io/en/latest/01-installing-opencv-for-java.html)\r\n\r\nTo import `OpenCV 4.1.0` in eclipse. I even search a lot of websites and they have the exact same steps. Every time I run the code I will get this **error*\r\n~~~\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/opencv/core/Core\r\n    \tat abss123.Openc_importing.main(Openc_importing.java:18)\r\n    Caused by: java.lang.ClassNotFoundException: org.opencv.core.Core\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 1 more\r\n~~~\r\nSome people were talking about changing the POM file or something but I didn&#39;t really understand. I found the POM file in the source file in opencv but not in the build which means need to build from source. I tried to load the `&quot;opencv_java410.dll&quot;` using `System.load(...)` command still didn&#39;t work  \r\n\r\n**I also tried** to add the Lib folder and the bin folder to my windows environment. But still, none of it worked. I will post my code and some command was commented to indicate that I tried it. I hope you can help me coz I&#39;m stuck in this problem since yesterday.  \r\n\r\n```JAVA\r\npackage abss123;\r\nimport org.opencv.imgproc.Imgproc;\r\nimport org.opencv.video.*;\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.core.CvType;\r\nimport org.opencv.imgcodecs.*;\r\nimport org.opencv.highgui.HighGui;\r\nimport java.io.*;\r\n        \r\npublic class Openc_importing {\r\n        \r\n        public static void main(String args[]) {\r\n        //LoadOpencv() ; \r\n        //nu.pattern.OpenCV.loadShared();\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME); \r\n        Mat image = new Mat(); \r\n        image = Imgcodecs.imread(&quot;MYPT000001.jpg&quot;); \r\n        HighGui.imshow(&quot;First time&quot;, image);\r\n    \r\n    }\r\n    \r\n    static void LoadOpencv() {\t\t\r\n        System.load(&quot;C:\\\\opencv\\\\build\\\\java\\\\x64\\\\opencv_java410.dll&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/opencv/core/Core","body":"<p>I have been working with OpenCV for quite a long time. But this is my first time using with java in eclipse. I followed this <a href=\"https://opencv-java-tutorials.readthedocs.io/en/latest/01-installing-opencv-for-java.html\" rel=\"nofollow noreferrer\">tutorial</a></p>\n\n<p>To import <code>OpenCV 4.1.0</code> in eclipse. I even search a lot of websites and they have the exact same steps. Every time I run the code I will get this **error*</p>\n\n<pre><code>    Exception in thread \"main\" java.lang.NoClassDefFoundError: org/opencv/core/Core\n        at abss123.Openc_importing.main(Openc_importing.java:18)\n    Caused by: java.lang.ClassNotFoundException: org.opencv.core.Core\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 1 more\n</code></pre>\n\n<p>Some people were talking about changing the POM file or something but I didn't really understand. I found the POM file in the source file in opencv but not in the build which means need to build from source. I tried to load the <code>\"opencv_java410.dll\"</code> using <code>System.load(...)</code> command still didn't work  </p>\n\n<p><strong>I also tried</strong> to add the Lib folder and the bin folder to my windows environment. But still, none of it worked. I will post my code and some command was commented to indicate that I tried it. I hope you can help me coz I'm stuck in this problem since yesterday.  </p>\n\n<pre><code>package abss123;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.video.*;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.CvType;\nimport org.opencv.imgcodecs.*;\nimport org.opencv.highgui.HighGui;\nimport java.io.*;\n\npublic class Openc_importing {\n\n        public static void main(String args[]) {\n        //LoadOpencv() ; \n        //nu.pattern.OpenCV.loadShared();\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME); \n        Mat image = new Mat(); \n        image = Imgcodecs.imread(\"MYPT000001.jpg\"); \n        HighGui.imshow(\"First time\", image);\n\n    }\n\n    static void LoadOpencv() {      \n        System.load(\"C:\\\\opencv\\\\build\\\\java\\\\x64\\\\opencv_java410.dll\");\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1655362434,"post_id":72641565,"comment_id":128315723,"body_markdown":"You told it to run on port 5433 and configure spring boot for port 5432...","body":"You told it to run on port 5433 and configure spring boot for port 5432..."},{"owner":{"account_id":22234078,"reputation":1,"user_id":16469755,"display_name":"Art Chawakorn"},"score":0,"creation_date":1655362993,"post_id":72641565,"comment_id":128315863,"body_markdown":"I tried to change the port number, and now it works. Thank you for your help.","body":"I tried to change the port number, and now it works. Thank you for your help."}],"answers":[{"tags":[],"owner":{"account_id":12639462,"reputation":36,"user_id":9187517,"display_name":"Durgesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655362736,"creation_date":1655362736,"answer_id":72641669,"question_id":72641565,"body_markdown":"There is a port mismatch on 5433 and 5432. Please check.","title":"Spring boot - org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;","body":"<p>There is a port mismatch on 5433 and 5432. Please check.</p>\n"}],"owner":{"account_id":22234078,"reputation":1,"user_id":16469755,"display_name":"Art Chawakorn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5112,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655383224,"accepted_answer_id":72641669,"answer_count":1,"score":-1,"last_activity_date":1655383209,"creation_date":1655362052,"question_id":72641565,"body_markdown":"I watched [Amigos spring boot tutorial course][1], and I tried to follow along in Windows. Everything seems to work perfectly, until the unit Creating and Connecting to Database, at 36:15.\r\n\r\nIn my SQL shell:\r\n\r\n    Server [localhost]:\r\n    Database [postgres]:\r\n    Port [5433]:\r\n    Username [postgres]:\r\n    Password for user postgres:\r\n    psql (10.21)\r\n    WARNING: Console code page (437) differs from Windows code page (1252)\r\n             8-bit characters might not work correctly. See psql reference\r\n             page &quot;Notes for Windows users&quot; for details.\r\n    Type &quot;help&quot; for help.\r\n    \r\n    postgres=#\r\n\r\nIn IntelliJ, inside `application.properties`.\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/student\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\nAfter I run the program, I encounter the following error in my stack trace.\r\n\r\n    2565-06-16 12:53:38.388  INFO 13668 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2565-06-16 12:53:39.469 ERROR 13668 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646) ~[postgresql-42.3.5.jar:42.3.5]\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.5.jar:42.3.5]\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.5.jar:42.3.5]\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.5.jar:42.3.5]\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.5.jar:42.3.5]\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.5.jar:42.3.5]\r\n    \tat org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.5.jar:42.3.5]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\n    \r\n    2565-06-16 12:53:39.470  WARN 13668 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\nThis is what I&#39;ve tried\r\n\r\n1. Ensure that the input in the username field and the password field is the exact same as when I first installed PostgreSQL, with no additional space or other blank characters\r\n\r\n2. In `application.properties`, I tried removing the spring.datasource.username field and the spring.datasource.password field, then I got a different error.\r\n\r\n    org.postgresql.util.PSQLException: The server requested password-based authentication, but no password was provided by plugin null\r\n\r\n3. I&#39;ve read [the answer to a similar question][2]. So I changed the configuration in `pg_hba.conf`, from the following property `host all all all md5`, to `host all all all trust`. Apart from the fact that I don&#39;t have to provide a password when running psql anymore, nothing else seems to work.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=9SGDpanrc8U&amp;t=2420s\r\n  [2]: https://stackoverflow.com/a/71854235/16469755\r\n\r\nI&#39;m now struggling to run this program correctly; what else should I do.\r\n\r\nAny kind of help will be appreciated.","title":"Spring boot - org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;","body":"<p>I watched <a href=\"https://www.youtube.com/watch?v=9SGDpanrc8U&amp;t=2420s\" rel=\"nofollow noreferrer\">Amigos spring boot tutorial course</a>, and I tried to follow along in Windows. Everything seems to work perfectly, until the unit Creating and Connecting to Database, at 36:15.</p>\n<p>In my SQL shell:</p>\n<pre><code>Server [localhost]:\nDatabase [postgres]:\nPort [5433]:\nUsername [postgres]:\nPassword for user postgres:\npsql (10.21)\nWARNING: Console code page (437) differs from Windows code page (1252)\n         8-bit characters might not work correctly. See psql reference\n         page &quot;Notes for Windows users&quot; for details.\nType &quot;help&quot; for help.\n\npostgres=#\n</code></pre>\n<p>In IntelliJ, inside <code>application.properties</code>.</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/student\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>After I run the program, I encounter the following error in my stack trace.</p>\n<pre><code>2565-06-16 12:53:38.388  INFO 13668 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2565-06-16 12:53:39.469 ERROR 13668 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646) ~[postgresql-42.3.5.jar:42.3.5]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.5.jar:42.3.5]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.5.jar:42.3.5]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.5.jar:42.3.5]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.5.jar:42.3.5]\n    at org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.5.jar:42.3.5]\n    at org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.5.jar:42.3.5]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\n\n2565-06-16 12:53:39.470  WARN 13668 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n</code></pre>\n<p>This is what I've tried</p>\n<ol>\n<li><p>Ensure that the input in the username field and the password field is the exact same as when I first installed PostgreSQL, with no additional space or other blank characters</p>\n</li>\n<li><p>In <code>application.properties</code>, I tried removing the spring.datasource.username field and the spring.datasource.password field, then I got a different error.</p>\n<p>org.postgresql.util.PSQLException: The server requested password-based authentication, but no password was provided by plugin null</p>\n</li>\n<li><p>I've read <a href=\"https://stackoverflow.com/a/71854235/16469755\">the answer to a similar question</a>. So I changed the configuration in <code>pg_hba.conf</code>, from the following property <code>host all all all md5</code>, to <code>host all all all trust</code>. Apart from the fact that I don't have to provide a password when running psql anymore, nothing else seems to work.</p>\n</li>\n</ol>\n<p>I'm now struggling to run this program correctly; what else should I do.</p>\n<p>Any kind of help will be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10574825,"reputation":1169,"user_id":7790438,"display_name":"Fady Saad"},"score":0,"creation_date":1496196046,"post_id":44274406,"comment_id":75556514,"body_markdown":"I think because most of java objects implements java.lang.Object class, you could want to extend this sub classes. But in case you have a new java type with different implementation you could implement it.","body":"I think because most of java objects implements java.lang.Object class, you could want to extend this sub classes. But in case you have a new java type with different implementation you could implement it."},{"owner":{"account_id":10161074,"reputation":1528,"user_id":7504523,"display_name":"Headline"},"score":0,"creation_date":1496196183,"post_id":44274406,"comment_id":75556543,"body_markdown":"@user7790438 Every object created in Java inherit from the Object class, it&#39;s impossible to avoid it. However Java&#39;s default implementations of these methods are basically useless. Almost every class you make will have a &quot;different implementation.&quot;","body":"@user7790438 Every object created in Java inherit from the Object class, it&#39;s impossible to avoid it. However Java&#39;s default implementations of these methods are basically useless. Almost every class you make will have a &quot;different implementation.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10161074,"reputation":1528,"user_id":7504523,"display_name":"Headline"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1496196032,"creation_date":1496196032,"answer_id":44274470,"question_id":44274406,"body_markdown":"Generally I follow the following principle: *Always override at least `equals()` and `toString()` (maybe even `clone()`, too) if the software you&#39;re creating will be used by others (like an API or something).*\r\n\r\nIf it&#39;s just for personal small things I would at least make a `toString()` since they can be very handy, but it&#39;s all up to you: the programmer.","title":"When should I be overriding java.lang.Object methods?","body":"<p>Generally I follow the following principle: <em>Always override at least <code>equals()</code> and <code>toString()</code> (maybe even <code>clone()</code>, too) if the software you're creating will be used by others (like an API or something).</em></p>\n\n<p>If it's just for personal small things I would at least make a <code>toString()</code> since they can be very handy, but it's all up to you: the programmer.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1496197327,"creation_date":1496197011,"answer_id":44274588,"question_id":44274406,"body_markdown":"**`clone()`**\r\n\r\nImplement if you want an easy way to copy the object.\r\n\r\nMany people discourage use of `clone()` and suggest using a copy-constructor instead. E.g. see [Clone() vs Copy constructor- which is recommended in java](https://stackoverflow.com/q/2427883/5221149).\r\n\r\n---\r\n\r\n**`equals()`**\r\n\r\nImplement if you need to compare two instances for equality.\r\n\r\nRequired if object will be used as key in a `HashMap` (or similar), or inserted into a `HashSet` (or similar). Highly recommended of used in the `TreeXxx` variants, for compatibility with `compareTo()`, i.e. if class implements [`Comparable`][1].\r\n\r\n---\r\n\r\n**`hashCode()`**\r\n\r\nImplement if object will be used as key in a `HashMap` (or similar), or inserted into a `HashSet` (or similar).\r\n\r\nGenerally a good idea to always implement if you implement `equals()`.\r\n\r\n---\r\n\r\n**`toString()`**\r\n\r\nGenerally implement to make debugging easier, especially if object will be inserted into a collection.\r\n\r\nImplement if object has a simple textual representation, and you want to be able to output it without calling a method (e.g. `getName()` or `getDescription()`).\r\n\r\n---\r\n\r\n**`finalize()`**\r\n\r\nNever. No code should rely on `finalize()` for resource clean-up, since there is no guarantee when, or even if, it will be called.\r\n\r\nResource-owning classes should implement [`AutoCloseable`][2] instead.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html","title":"When should I be overriding java.lang.Object methods?","body":"<p><strong><code>clone()</code></strong></p>\n\n<p>Implement if you want an easy way to copy the object.</p>\n\n<p>Many people discourage use of <code>clone()</code> and suggest using a copy-constructor instead. E.g. see <a href=\"https://stackoverflow.com/q/2427883/5221149\">Clone() vs Copy constructor- which is recommended in java</a>.</p>\n\n<hr>\n\n<p><strong><code>equals()</code></strong></p>\n\n<p>Implement if you need to compare two instances for equality.</p>\n\n<p>Required if object will be used as key in a <code>HashMap</code> (or similar), or inserted into a <code>HashSet</code> (or similar). Highly recommended of used in the <code>TreeXxx</code> variants, for compatibility with <code>compareTo()</code>, i.e. if class implements <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>.</p>\n\n<hr>\n\n<p><strong><code>hashCode()</code></strong></p>\n\n<p>Implement if object will be used as key in a <code>HashMap</code> (or similar), or inserted into a <code>HashSet</code> (or similar).</p>\n\n<p>Generally a good idea to always implement if you implement <code>equals()</code>.</p>\n\n<hr>\n\n<p><strong><code>toString()</code></strong></p>\n\n<p>Generally implement to make debugging easier, especially if object will be inserted into a collection.</p>\n\n<p>Implement if object has a simple textual representation, and you want to be able to output it without calling a method (e.g. <code>getName()</code> or <code>getDescription()</code>).</p>\n\n<hr>\n\n<p><strong><code>finalize()</code></strong></p>\n\n<p>Never. No code should rely on <code>finalize()</code> for resource clean-up, since there is no guarantee when, or even if, it will be called.</p>\n\n<p>Resource-owning classes should implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> instead.</p>\n"}],"owner":{"account_id":6449937,"reputation":469,"user_id":4997194,"accept_rate":53,"display_name":"Trevor Sears"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":44274588,"answer_count":2,"score":2,"last_activity_date":1655383130,"creation_date":1496195502,"question_id":44274406,"body_markdown":"Under what circumstances should I begin to consider overriding any of the following methods?\r\n\r\n - `clone()`\r\n - `equals()`\r\n - `finalize()`\r\n - `hashCode()`\r\n - `toString()`\r\n\r\nSome of these have some obvious, somewhat specific answers, but I&#39;m wondering more so about general conditions under which it would considered good practice to implement them.","title":"When should I be overriding java.lang.Object methods?","body":"<p>Under what circumstances should I begin to consider overriding any of the following methods?</p>\n<ul>\n<li><code>clone()</code></li>\n<li><code>equals()</code></li>\n<li><code>finalize()</code></li>\n<li><code>hashCode()</code></li>\n<li><code>toString()</code></li>\n</ul>\n<p>Some of these have some obvious, somewhat specific answers, but I'm wondering more so about general conditions under which it would considered good practice to implement them.</p>\n"},{"tags":["java","java-home"],"comments":[{"owner":{"account_id":4503019,"reputation":401,"user_id":3661130,"accept_rate":33,"display_name":"tmanion"},"score":0,"creation_date":1403184549,"post_id":24307782,"comment_id":37567205,"body_markdown":"What are you trying to do with it? You do need to restart any processes that would be referencing your variable (i.e. cmd).","body":"What are you trying to do with it? You do need to restart any processes that would be referencing your variable (i.e. cmd)."},{"owner":{"account_id":1622045,"reputation":5098,"user_id":1498389,"accept_rate":75,"display_name":"NiziL"},"score":0,"creation_date":1403184563,"post_id":24307782,"comment_id":37567214,"body_markdown":"No need to restart your computer, but need to restart your shell ;)","body":"No need to restart your computer, but need to restart your shell ;)"},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1476817714,"post_id":24307782,"comment_id":67503787,"body_markdown":"@Nizil what is a shell?","body":"@Nizil what is a shell?"},{"owner":{"account_id":1622045,"reputation":5098,"user_id":1498389,"accept_rate":75,"display_name":"NiziL"},"score":0,"creation_date":1477664325,"post_id":24307782,"comment_id":67871325,"body_markdown":"@Adrian Well, strictly speaking it&#39;s an interface to the kernel (see [Wikipedia](https://en.wikipedia.org/wiki/Shell_(computing)#Unix-like_systems)), but it&#39;s often used as an umbrella term that refers to the command line interpreter or even the terminal.","body":"@Adrian Well, strictly speaking it&#39;s an interface to the kernel (see <a href=\"https://en.wikipedia.org/wiki/Shell_(computing)#Unix-like_systems\" rel=\"nofollow noreferrer\">Wikipedia</a>), but it&#39;s often used as an umbrella term that refers to the command line interpreter or even the terminal."},{"owner":{"account_id":385858,"reputation":1389,"user_id":743263,"display_name":"malkia"},"score":0,"creation_date":1701217995,"post_id":24307782,"comment_id":136747639,"body_markdown":"Same here, not typical java person (did most of my java using Blaze at Google), so no actual experience with gradle/etc. But on my Windows machine I had to go to my c:\\Users\\&lt;user&gt;\\.gradle folder and delete everything before running again (to compile some project I was learning something else from it). Seems like it caches it really baddly :)","body":"Same here, not typical java person (did most of my java using Blaze at Google), so no actual experience with gradle/etc. But on my Windows machine I had to go to my c:\\Users\\&lt;user&gt;\\.gradle folder and delete everything before running again (to compile some project I was learning something else from it). Seems like it caches it really baddly :)"}],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1403184552,"creation_date":1403184552,"answer_id":24307815,"question_id":24307782,"body_markdown":"No, but you will need to close and recreate any `cmd` windows, running java programs, or the like.\r\n\r\nTo check it&#39;s correct, open a new `cmd` window and type `set` -&gt; review the information for `PATH` and `JAVA_HOME`.","title":"Do I need to restart my system after setting JAVA in system environment&#39;s path variable?","body":"<p>No, but you will need to close and recreate any <code>cmd</code> windows, running java programs, or the like.</p>\n\n<p>To check it's correct, open a new <code>cmd</code> window and type <code>set</code> -> review the information for <code>PATH</code> and <code>JAVA_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648060951,"creation_date":1403185091,"answer_id":24307997,"question_id":24307782,"body_markdown":"Not necessary. Quit and Open the command prompt again (if any) that runs the java process and type `java -version` to check if it installed successfully.\r\n\r\nIf you are using mac, `source ~/.bashrc` or `source ~/.zshrc` should refresh your environmental variable. No need to re-start the terminal even.","title":"Do I need to restart my system after setting JAVA in system environment&#39;s path variable?","body":"<p>Not necessary. Quit and Open the command prompt again (if any) that runs the java process and type <code>java -version</code> to check if it installed successfully.</p>\n<p>If you are using mac, <code>source ~/.bashrc</code> or <code>source ~/.zshrc</code> should refresh your environmental variable. No need to re-start the terminal even.</p>\n"},{"tags":[],"owner":{"account_id":2031219,"reputation":2191,"user_id":1814867,"accept_rate":50,"display_name":"Mandar Pandit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403185420,"creation_date":1403185420,"answer_id":24308109,"question_id":24307782,"body_markdown":"NO.&lt;br/&gt;\r\nYou don&#39;t need to restart the system, but just the application like `cmd` or any IDE you are using for java development (i.e Eclipse) need to restart.\r\n\r\nAnd to confirm that the java path is set that you have mentioned in JAVA_HOME environment variable, you can open `cmd` and you can check with commands `echo %JAVA_HOME%` or `echo %PATH%`.","title":"Do I need to restart my system after setting JAVA in system environment&#39;s path variable?","body":"<p>NO.<br/>\nYou don't need to restart the system, but just the application like <code>cmd</code> or any IDE you are using for java development (i.e Eclipse) need to restart.</p>\n\n<p>And to confirm that the java path is set that you have mentioned in JAVA_HOME environment variable, you can open <code>cmd</code> and you can check with commands <code>echo %JAVA_HOME%</code> or <code>echo %PATH%</code>.</p>\n"},{"tags":[],"owner":{"account_id":4631198,"reputation":2017,"user_id":3753671,"display_name":"Mike Elofson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1403185749,"creation_date":1403185749,"answer_id":24308240,"question_id":24307782,"body_markdown":"You should set two things:\r\n\r\n 1. JAVA_HOME\r\n 2. PATH \r\n\r\nThe first lies under the &quot;User variables for [your user name]&quot; section. Add the JAVA_HOME variable and set it to where your jdk is installed. i.e. C:\\Program Files\\Java\\jdk1.7.0_51\\\r\n\r\nThe second lies under the &quot;System variables&quot; section. You should find the &quot;path&quot; variable, and edit it. Then, append &quot;;%JAVA_HOME%\\bin&quot; (minus the quotes) to the end of the path variable.\r\n\r\nAfter you have done this, save the variables and close that window clicking the &quot;ok&quot; button. Close down all instances of the command prompt (and any IDE you may be developing with such as Eclipse or NetBeans), and reopen one command prompt. Then, if you would like to test whether or not your changes worked and are in effect, try the following:\r\n\r\n    echo %JAVA_HOME%\r\nThis should output where you set your java home variable to.\r\n\r\n    echo %PATH%\r\nAt the end of what is output, you should see your java home\\bin addition to the path variable\r\n\r\n    java -version\r\nIf you can run this command from the command line, it means that your environment was set up correctly and java is now in your path.","title":"Do I need to restart my system after setting JAVA in system environment&#39;s path variable?","body":"<p>You should set two things:</p>\n\n<ol>\n<li>JAVA_HOME</li>\n<li>PATH </li>\n</ol>\n\n<p>The first lies under the \"User variables for [your user name]\" section. Add the JAVA_HOME variable and set it to where your jdk is installed. i.e. C:\\Program Files\\Java\\jdk1.7.0_51\\</p>\n\n<p>The second lies under the \"System variables\" section. You should find the \"path\" variable, and edit it. Then, append \";%JAVA_HOME%\\bin\" (minus the quotes) to the end of the path variable.</p>\n\n<p>After you have done this, save the variables and close that window clicking the \"ok\" button. Close down all instances of the command prompt (and any IDE you may be developing with such as Eclipse or NetBeans), and reopen one command prompt. Then, if you would like to test whether or not your changes worked and are in effect, try the following:</p>\n\n<pre><code>echo %JAVA_HOME%\n</code></pre>\n\n<p>This should output where you set your java home variable to.</p>\n\n<pre><code>echo %PATH%\n</code></pre>\n\n<p>At the end of what is output, you should see your java home\\bin addition to the path variable</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>If you can run this command from the command line, it means that your environment was set up correctly and java is now in your path.</p>\n"},{"tags":[],"owner":{"account_id":2069414,"reputation":1060,"user_id":1844202,"accept_rate":84,"display_name":"Sandeep vashisth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533219672,"creation_date":1403238083,"answer_id":24319895,"question_id":24307782,"body_markdown":"I reinstall the `JDK` and set the `JAVA_HOME` and `PATH` variable again. now it&#39;s working.","title":"Do I need to restart my system after setting JAVA in system environment&#39;s path variable?","body":"<p>I reinstall the <code>JDK</code> and set the <code>JAVA_HOME</code> and <code>PATH</code> variable again. now it's working.</p>\n"},{"tags":[],"owner":{"account_id":12943326,"reputation":351,"user_id":9358403,"display_name":"navedrizv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518596025,"creation_date":1518593485,"answer_id":48781829,"question_id":24307782,"body_markdown":"No, you don&#39;t need to restart your system.\r\nHowever, you have to restart your command prompt application to update the changes done on Environment variables.","title":"Do I need to restart my system after setting JAVA in system environment&#39;s path variable?","body":"<p>No, you don't need to restart your system.\nHowever, you have to restart your command prompt application to update the changes done on Environment variables.</p>\n"},{"tags":[],"owner":{"account_id":15402169,"reputation":1,"user_id":11111262,"display_name":"user11111262"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551058398,"creation_date":1551058398,"answer_id":54858368,"question_id":24307782,"body_markdown":"In my case under user variable section(for particularuser) JAVA_HOME set to jre not jdk path . I change it to JDK path , It worked for me\r\n\r\n","title":"Do I need to restart my system after setting JAVA in system environment&#39;s path variable?","body":"<p>In my case under user variable section(for particularuser) JAVA_HOME set to jre not jdk path . I change it to JDK path , It worked for me</p>\n"},{"tags":[],"owner":{"account_id":4281907,"reputation":307,"user_id":3501003,"display_name":"Umesh Bhutada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655382919,"creation_date":1655382919,"answer_id":72645971,"question_id":24307782,"body_markdown":"yes need to restart cmd prompt after env variable change\r\n","title":"Do I need to restart my system after setting JAVA in system environment&#39;s path variable?","body":"<p>yes need to restart cmd prompt after env variable change</p>\n"}],"owner":{"account_id":2069414,"reputation":1060,"user_id":1844202,"accept_rate":84,"display_name":"Sandeep vashisth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89516,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"accepted_answer_id":24307815,"answer_count":8,"score":26,"last_activity_date":1655382919,"creation_date":1403184445,"question_id":24307782,"body_markdown":"   I did the following steps but java does not seem to be working for me, do I need to restart my system if yes then why?\r\n \r\n\r\n    1. Right click My Computer-&gt;Advence Option-&gt;Environment Varibles-&gt;System Variables \r\n        2. variable : Path-&gt;Edit\r\n        3. Copy your jdk bin directory i.e.C:\\Program Files\\Java\\jdk1.7.0_51\\bin\r\n        4. Paste it after putting a semi-colon(;) in value section \r\n\r\ni am getting below error while running java in cmd\r\n\r\n         \r\n    C:\\Users\\User&gt;java -version\r\n    Error: opening registry key &#39;Software\\JavaSoft\\Java Runtime Environment&#39;\r\n    Error: could not find java.dll\r\n    Error: Could not find Java SE Runtime Environment.\r\n\r\n","title":"Do I need to restart my system after setting JAVA in system environment&#39;s path variable?","body":"<p>I did the following steps but java does not seem to be working for me, do I need to restart my system if yes then why?</p>\n\n<pre><code>1. Right click My Computer-&gt;Advence Option-&gt;Environment Varibles-&gt;System Variables \n    2. variable : Path-&gt;Edit\n    3. Copy your jdk bin directory i.e.C:\\Program Files\\Java\\jdk1.7.0_51\\bin\n    4. Paste it after putting a semi-colon(;) in value section \n</code></pre>\n\n<p>i am getting below error while running java in cmd</p>\n\n<pre><code>C:\\Users\\User&gt;java -version\nError: opening registry key 'Software\\JavaSoft\\Java Runtime Environment'\nError: could not find java.dll\nError: Could not find Java SE Runtime Environment.\n</code></pre>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1655276575,"post_id":72626925,"comment_id":128291257,"body_markdown":"I dont see you have the annotation `@Provider` on top of your custom requestfilter","body":"I dont see you have the annotation <code>@Provider</code> on top of your custom requestfilter"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1655278563,"post_id":72626925,"comment_id":128291910,"body_markdown":"Have you indexed you the `runtime` part of your extension? See for more details: https://stackoverflow.com/a/55513723/2504224","body":"Have you indexed you the <code>runtime</code> part of your extension? See for more details: <a href=\"https://stackoverflow.com/a/55513723/2504224\">stackoverflow.com/a/55513723/2504224</a>"},{"owner":{"account_id":12260593,"reputation":1,"user_id":8948419,"display_name":"Crilofer"},"score":0,"creation_date":1655280556,"post_id":72626925,"comment_id":128292511,"body_markdown":"@JCompetence I just added (I forgot to add it here)","body":"@JCompetence I just added (I forgot to add it here)"},{"owner":{"account_id":12260593,"reputation":1,"user_id":8948419,"display_name":"Crilofer"},"score":0,"creation_date":1655280807,"post_id":72626925,"comment_id":128292599,"body_markdown":"@geoand yes, I added the Jandex plugin into my runtime pom file","body":"@geoand yes, I added the Jandex plugin into my runtime pom file"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1655281398,"post_id":72626925,"comment_id":128292810,"body_markdown":"Which resteasy extensions are you using?","body":"Which resteasy extensions are you using?"},{"owner":{"account_id":12260593,"reputation":1,"user_id":8948419,"display_name":"Crilofer"},"score":0,"creation_date":1655284730,"post_id":72626925,"comment_id":128293907,"body_markdown":"@geoand `quarkus-resteasy-jackson`","body":"@geoand <code>quarkus-resteasy-jackson</code>"}],"answers":[{"tags":[],"owner":{"account_id":12260593,"reputation":1,"user_id":8948419,"display_name":"Crilofer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655382903,"creation_date":1655382903,"answer_id":72645965,"question_id":72626925,"body_markdown":"Finally, I got a solution.\r\n\r\nI am using the `quarkus-resteasy-reactive-jackson` library that provided `@ServerRequestFilter` and you can build a `CustomContainerRequestFilterBuildItem` that is used to register classes that are annotated with `@ServerRequestFilter`:\r\n\r\n```\r\npublic class RequestInterceptor {\r\n\r\n    private static final Logger logger = Logger.getLogger(RequestInterceptor.class.getName());\r\n\r\n    @ServerRequestFilter(preMatching = true)\r\n    public void filter(ContainerRequestContext requestContext) {\r\n        logger.info(&quot;Testing extension interceptor&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass LoggingExtensionProcessor {\r\n\r\n    private static final Logger logger = Logger.getLogger(LoggingExtensionProcessor.class.getName());\r\n\r\n    private static final String FEATURE = &quot;logging-extension&quot;;\r\n\r\n    @BuildStep\r\n    FeatureBuildItem feature() {\r\n        return new FeatureBuildItem(FEATURE);\r\n    }\r\n\r\n    @BuildStep\r\n    ServletBuildItem createServlet() {\r\n        logger.info(&quot;createServlet&quot;);\r\n        return ServletBuildItem.builder(FEATURE, GreetingExtensionServlet.class.getName())\r\n                .addMapping(&quot;/greeting&quot;)\r\n                .build();\r\n    }\r\n\r\n    @BuildStep\r\n    CustomContainerRequestFilterBuildItem buildContainerRequestFilter() {\r\n        return new CustomContainerRequestFilterBuildItem(RequestInterceptor.class.getName());\r\n    }\r\n}\r\n```","title":"ContainerRequestFilter being ignored in my Quarkus extension","body":"<p>Finally, I got a solution.</p>\n<p>I am using the <code>quarkus-resteasy-reactive-jackson</code> library that provided <code>@ServerRequestFilter</code> and you can build a <code>CustomContainerRequestFilterBuildItem</code> that is used to register classes that are annotated with <code>@ServerRequestFilter</code>:</p>\n<pre><code>public class RequestInterceptor {\n\n    private static final Logger logger = Logger.getLogger(RequestInterceptor.class.getName());\n\n    @ServerRequestFilter(preMatching = true)\n    public void filter(ContainerRequestContext requestContext) {\n        logger.info(&quot;Testing extension interceptor&quot;);\n    }\n}\n</code></pre>\n<pre><code>class LoggingExtensionProcessor {\n\n    private static final Logger logger = Logger.getLogger(LoggingExtensionProcessor.class.getName());\n\n    private static final String FEATURE = &quot;logging-extension&quot;;\n\n    @BuildStep\n    FeatureBuildItem feature() {\n        return new FeatureBuildItem(FEATURE);\n    }\n\n    @BuildStep\n    ServletBuildItem createServlet() {\n        logger.info(&quot;createServlet&quot;);\n        return ServletBuildItem.builder(FEATURE, GreetingExtensionServlet.class.getName())\n                .addMapping(&quot;/greeting&quot;)\n                .build();\n    }\n\n    @BuildStep\n    CustomContainerRequestFilterBuildItem buildContainerRequestFilter() {\n        return new CustomContainerRequestFilterBuildItem(RequestInterceptor.class.getName());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12260593,"reputation":1,"user_id":8948419,"display_name":"Crilofer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72645965,"answer_count":1,"score":0,"last_activity_date":1655382903,"creation_date":1655275300,"question_id":72626925,"body_markdown":"I want to implement a custom extension to be used in my services. One of the key features is to filter all the incoming requests:\r\n\r\n```\r\n@Provider\r\npublic class RequestInterceptor implements ContainerRequestFilter {\r\n\r\n    private static final Logger logger = Logger.getLogger(RequestInterceptor.class.getName());\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext) {\r\n        logger.info(&quot;Testing extension interceptor&quot;);\r\n    }\r\n}\r\n```\r\nAnd it&#39;s being declared in that way:\r\n\r\n````\r\nclass LoggingExtensionProcessor {\r\n\r\n    private static final Logger logger = Logger.getLogger(LoggingExtensionProcessor.class.getName());\r\n\r\n    private static final String FEATURE = &quot;logging-extension&quot;;\r\n\r\n    @BuildStep\r\n    FeatureBuildItem feature() {\r\n        return new FeatureBuildItem(FEATURE);\r\n    }\r\n\r\n    @BuildStep\r\n    ServletBuildItem createServlet() {\r\n        logger.info(&quot;createServlet&quot;);\r\n        return ServletBuildItem.builder(FEATURE, GreetingExtensionServlet.class.getName())\r\n                .addMapping(&quot;/greeting&quot;)\r\n                .build();\r\n    }\r\n\r\n    @BuildStep\r\n    AdditionalBeanBuildItem registerAdditionalBeans() {\r\n        logger.info(&quot;registerAdditionalBeans&quot;);\r\n        return AdditionalBeanBuildItem.builder()\r\n                .setUnremovable()\r\n                .addBeanClass(RequestInterceptor.class)\r\n                .build();\r\n\r\n    }\r\n\r\n    @BuildStep\r\n    ResteasyJaxrsProviderBuildItem registerConfiguration() {\r\n        logger.info(&quot;registerConfiguration&quot;);\r\n        return new ResteasyJaxrsProviderBuildItem(RequestInterceptor.class.getName());\r\n    }\r\n}\r\n````\r\nI also tried adding the Jandex plugin in the runtime pom\r\n\r\n````\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-index&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jandex&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n````\r\n\r\nBut it&#39;s not being called.\r\n\r\nI saw a similar scenario [here][1] but the solution doesn&#39;t work for me.\r\n\r\nAny suggestion? thanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72013405/quarkus-extension-filter-doesnt-work-when-registers-via-additionalbeanbuilditem","title":"ContainerRequestFilter being ignored in my Quarkus extension","body":"<p>I want to implement a custom extension to be used in my services. One of the key features is to filter all the incoming requests:</p>\n<pre><code>@Provider\npublic class RequestInterceptor implements ContainerRequestFilter {\n\n    private static final Logger logger = Logger.getLogger(RequestInterceptor.class.getName());\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) {\n        logger.info(&quot;Testing extension interceptor&quot;);\n    }\n}\n</code></pre>\n<p>And it's being declared in that way:</p>\n<pre><code>class LoggingExtensionProcessor {\n\n    private static final Logger logger = Logger.getLogger(LoggingExtensionProcessor.class.getName());\n\n    private static final String FEATURE = &quot;logging-extension&quot;;\n\n    @BuildStep\n    FeatureBuildItem feature() {\n        return new FeatureBuildItem(FEATURE);\n    }\n\n    @BuildStep\n    ServletBuildItem createServlet() {\n        logger.info(&quot;createServlet&quot;);\n        return ServletBuildItem.builder(FEATURE, GreetingExtensionServlet.class.getName())\n                .addMapping(&quot;/greeting&quot;)\n                .build();\n    }\n\n    @BuildStep\n    AdditionalBeanBuildItem registerAdditionalBeans() {\n        logger.info(&quot;registerAdditionalBeans&quot;);\n        return AdditionalBeanBuildItem.builder()\n                .setUnremovable()\n                .addBeanClass(RequestInterceptor.class)\n                .build();\n\n    }\n\n    @BuildStep\n    ResteasyJaxrsProviderBuildItem registerConfiguration() {\n        logger.info(&quot;registerConfiguration&quot;);\n        return new ResteasyJaxrsProviderBuildItem(RequestInterceptor.class.getName());\n    }\n}\n</code></pre>\n<p>I also tried adding the Jandex plugin in the runtime pom</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-index&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jandex&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>But it's not being called.</p>\n<p>I saw a similar scenario <a href=\"https://stackoverflow.com/questions/72013405/quarkus-extension-filter-doesnt-work-when-registers-via-additionalbeanbuilditem\">here</a> but the solution doesn't work for me.</p>\n<p>Any suggestion? thanks in advance.</p>\n"},{"tags":["java","firebase","google-cloud-platform","google-cloud-firestore","arraylist"],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655225695,"creation_date":1655225695,"answer_id":72620756,"question_id":72620678,"body_markdown":"Your code is printing the value returned by `myStringList.add()`. I suspect that&#39;s not what you intended.  Printing the result of `add()` doesn&#39;t seem very useful for debugging purposes.\r\n\r\nMaybe what you wanted to do is **first** add the item to the list first, **then** print the contents of the list.\r\n\r\n```\r\nmyStringList.add(myString);\r\nlog.debug(&quot;Result is ::&quot;,myStringList); // print the list\r\n```\r\n\r\nYou probably also want to print the list **after** the loop completes, not every iteration.","title":"ArrayList add() method returns empty or blank firebase java","body":"<p>Your code is printing the value returned by <code>myStringList.add()</code>. I suspect that's not what you intended.  Printing the result of <code>add()</code> doesn't seem very useful for debugging purposes.</p>\n<p>Maybe what you wanted to do is <strong>first</strong> add the item to the list first, <strong>then</strong> print the contents of the list.</p>\n<pre><code>myStringList.add(myString);\nlog.debug(&quot;Result is ::&quot;,myStringList); // print the list\n</code></pre>\n<p>You probably also want to print the list <strong>after</strong> the loop completes, not every iteration.</p>\n"}],"owner":{"account_id":3252649,"reputation":230,"user_id":2742526,"accept_rate":100,"display_name":"aarav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655382743,"creation_date":1655225288,"question_id":72620678,"body_markdown":"I am facing a strange situation. Believe me. New to using Firestore database. I have a collection as follow,\r\n\r\n\r\n    List&lt;String&gt; myStringList = new ArrayList&lt;String&gt;(); \r\n    ApiFuture&lt;QuerySnapshot&gt; apiFutureResults = query.get();\r\n    QuerySnapshot querySnapshot = apiFutureResults.get();\r\n    List&lt;QueryDocumentSnapshot&gt; documents = querySnapshot.getDocuments();\r\n    for(QueryDocumentSnapshot document: documents)\r\n    {\r\n         log.debug(document.getString(&quot;myColumnName&quot;)); //prints value successfully\r\n         String myString = document.getString(&quot;myColumnName&quot;); // Same value assigned to String type.\r\n         log.debug(&quot;Value of myString&quot;, myString);  //prints value successfully\r\n         log.debug(&quot;Result is ::&quot;,myStringList.add(myString)); // prints empty or blank.\r\n         log.debug(&quot;Arraylist size::&quot;, myStringList.size()); // Returns empty or blank.\r\n         log.debug(&quot;Arraylist content::&quot;, myStringList); // Returns empty or blank  }\r\n\r\nI was expecting **true** after addition.  In my case I am getting `myStringList.add(myString);` \r\nreturns **empty**.  String is fetched from QueryDocumentSnapshot (com.google.cloud.firestore).  In What scenarios ArrayList.add() method *returns empty.*  Or Is there any issue with this approach to fetch records from `Firestore`. This is not android application. Just a Java product. \r\n\r\n","title":"ArrayList add() method returns empty or blank firebase java","body":"<p>I am facing a strange situation. Believe me. New to using Firestore database. I have a collection as follow,</p>\n<pre><code>List&lt;String&gt; myStringList = new ArrayList&lt;String&gt;(); \nApiFuture&lt;QuerySnapshot&gt; apiFutureResults = query.get();\nQuerySnapshot querySnapshot = apiFutureResults.get();\nList&lt;QueryDocumentSnapshot&gt; documents = querySnapshot.getDocuments();\nfor(QueryDocumentSnapshot document: documents)\n{\n     log.debug(document.getString(&quot;myColumnName&quot;)); //prints value successfully\n     String myString = document.getString(&quot;myColumnName&quot;); // Same value assigned to String type.\n     log.debug(&quot;Value of myString&quot;, myString);  //prints value successfully\n     log.debug(&quot;Result is ::&quot;,myStringList.add(myString)); // prints empty or blank.\n     log.debug(&quot;Arraylist size::&quot;, myStringList.size()); // Returns empty or blank.\n     log.debug(&quot;Arraylist content::&quot;, myStringList); // Returns empty or blank  }\n</code></pre>\n<p>I was expecting <strong>true</strong> after addition.  In my case I am getting <code>myStringList.add(myString);</code>\nreturns <strong>empty</strong>.  String is fetched from QueryDocumentSnapshot (com.google.cloud.firestore).  In What scenarios ArrayList.add() method <em>returns empty.</em>  Or Is there any issue with this approach to fetch records from <code>Firestore</code>. This is not android application. Just a Java product.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1546585,"reputation":4397,"user_id":1440005,"display_name":"Octavian Mărculescu"},"score":2,"creation_date":1655381234,"post_id":72645520,"comment_id":128321915,"body_markdown":"It&#39;s most likely the second variant. It translates the pagination related data to SQL query (limit, offset, etc) and only selects the rows that it should, given the pagination context. You can actually see that for yourself if you use a profiler on your database and examine the queries that it generates.","body":"It&#39;s most likely the second variant. It translates the pagination related data to SQL query (limit, offset, etc) and only selects the rows that it should, given the pagination context. You can actually see that for yourself if you use a profiler on your database and examine the queries that it generates."},{"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"score":0,"creation_date":1665648878,"post_id":72645520,"comment_id":130750533,"body_markdown":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like.","body":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like."}],"answers":[{"tags":[],"owner":{"account_id":3089836,"reputation":479,"user_id":2616203,"accept_rate":100,"display_name":"Nikola Lošić"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655381307,"creation_date":1655381307,"answer_id":72645591,"question_id":72645520,"body_markdown":"It takes chunks of data from database. \r\nIt does not fetch all of the data from database.\r\n\r\nGenerated query is using limit and offset with select query to fetch chunk of the data.","title":"Spring data JPA pagination happens at db level or at application level","body":"<p>It takes chunks of data from database.\nIt does not fetch all of the data from database.</p>\n<p>Generated query is using limit and offset with select query to fetch chunk of the data.</p>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655382297,"creation_date":1655382297,"answer_id":72645828,"question_id":72645520,"body_markdown":"The purpose of pagination is precisely to select exactly the page you want to retrieve.\r\nThis avoids retrieving all the data in the DB, which can be a lot and can cause a performance problem for the application.\r\n\r\nIn fact, by passing the `Pageable` object to the method of a Spring Data Jpa repository, the pagination is applied on top of the query using the functionality of the database being used (such as `limit` and `offset`).","title":"Spring data JPA pagination happens at db level or at application level","body":"<p>The purpose of pagination is precisely to select exactly the page you want to retrieve.\nThis avoids retrieving all the data in the DB, which can be a lot and can cause a performance problem for the application.</p>\n<p>In fact, by passing the <code>Pageable</code> object to the method of a Spring Data Jpa repository, the pagination is applied on top of the query using the functionality of the database being used (such as <code>limit</code> and <code>offset</code>).</p>\n"}],"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1655382297,"creation_date":1655381007,"question_id":72645520,"body_markdown":"Spring Data JPA supports pagination, but how does it work?\r\n1. Does JPA repository fetches all the data from database and deliver the chunks from application? (or)\r\n2. Does take chunks of data from database and deliver the data to client?","title":"Spring data JPA pagination happens at db level or at application level","body":"<p>Spring Data JPA supports pagination, but how does it work?</p>\n<ol>\n<li>Does JPA repository fetches all the data from database and deliver the chunks from application? (or)</li>\n<li>Does take chunks of data from database and deliver the data to client?</li>\n</ol>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3893718,"reputation":1128,"user_id":3223300,"accept_rate":69,"display_name":"skapral"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1522831794,"creation_date":1522831794,"answer_id":49646635,"question_id":49561374,"body_markdown":"Solved that in a bit dirty way by writing a wrapper around `MessageSource`. It is not exactly what was requested: the fallback locale will be used if the token for requested one is absent (which is close but not the same as &quot;config was absent&quot;). Also, it swallows exceptions and uses them for flow control, which is not good.\r\n\r\n    final class FallbackMessageSource implements MessageSource {\r\n        private final MessageSource delegate;\r\n        private final Locale fallbackLocale;\r\n    \r\n        public FallbackMessageSource(MessageSource delegate, Locale fallbackLocale) {\r\n            this.delegate = delegate;\r\n            this.fallbackLocale = fallbackLocale;\r\n        }\r\n    \r\n        @Override\r\n        public String getMessage(String code, Object[] args, String defaultMessage, Locale locale) {\r\n            try {\r\n                return delegate.getMessage(code, args, defaultMessage, locale);\r\n            } catch(NoSuchMessageException ex) {\r\n                return delegate.getMessage(code, args, defaultMessage, fallbackLocale);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String getMessage(String code, Object[] args, Locale locale) throws NoSuchMessageException {\r\n            try {\r\n                return delegate.getMessage(code, args, locale);\r\n            } catch(NoSuchMessageException ex) {\r\n                return delegate.getMessage(code, args, fallbackLocale);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String getMessage(MessageSourceResolvable resolvable, Locale locale) throws NoSuchMessageException {\r\n            try {\r\n                return delegate.getMessage(resolvable, locale);\r\n            } catch(NoSuchMessageException ex) {\r\n                return delegate.getMessage(resolvable, fallbackLocale);\r\n            }\r\n        }\r\n    }","title":"Spring MessageSource fallback to explicit locale","body":"<p>Solved that in a bit dirty way by writing a wrapper around <code>MessageSource</code>. It is not exactly what was requested: the fallback locale will be used if the token for requested one is absent (which is close but not the same as \"config was absent\"). Also, it swallows exceptions and uses them for flow control, which is not good.</p>\n\n<pre><code>final class FallbackMessageSource implements MessageSource {\n    private final MessageSource delegate;\n    private final Locale fallbackLocale;\n\n    public FallbackMessageSource(MessageSource delegate, Locale fallbackLocale) {\n        this.delegate = delegate;\n        this.fallbackLocale = fallbackLocale;\n    }\n\n    @Override\n    public String getMessage(String code, Object[] args, String defaultMessage, Locale locale) {\n        try {\n            return delegate.getMessage(code, args, defaultMessage, locale);\n        } catch(NoSuchMessageException ex) {\n            return delegate.getMessage(code, args, defaultMessage, fallbackLocale);\n        }\n    }\n\n    @Override\n    public String getMessage(String code, Object[] args, Locale locale) throws NoSuchMessageException {\n        try {\n            return delegate.getMessage(code, args, locale);\n        } catch(NoSuchMessageException ex) {\n            return delegate.getMessage(code, args, fallbackLocale);\n        }\n    }\n\n    @Override\n    public String getMessage(MessageSourceResolvable resolvable, Locale locale) throws NoSuchMessageException {\n        try {\n            return delegate.getMessage(resolvable, locale);\n        } catch(NoSuchMessageException ex) {\n            return delegate.getMessage(resolvable, fallbackLocale);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1706859,"reputation":1320,"user_id":1565759,"accept_rate":83,"display_name":"sonOfRa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573722341,"creation_date":1573722341,"answer_id":58852950,"question_id":49561374,"body_markdown":"Starting with Spring 5.2.2, this will be possible, see [This spring-framework commit][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/commit/f61d728db9437cf689f942e624a47b4c4c256db0","title":"Spring MessageSource fallback to explicit locale","body":"<p>Starting with Spring 5.2.2, this will be possible, see <a href=\"https://github.com/spring-projects/spring-framework/commit/f61d728db9437cf689f942e624a47b4c4c256db0\" rel=\"nofollow noreferrer\">This spring-framework commit</a></p>\n"},{"tags":[],"owner":{"account_id":2852249,"reputation":7603,"user_id":2449199,"display_name":"Cassio Seffrin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655382296,"creation_date":1655326880,"answer_id":72637779,"question_id":49561374,"body_markdown":"There is an useful config **spring.messages.use-code-as-default-message**. When it&#39;s true case the code message cannot be found: **&lt;spring:message code=&quot;not_found_label&quot;/&gt;** the tag will render the code as default message.\r\n\r\nWhether to fall back to the system Locale if no files for a specific Locale have been found. if this is turned off, the only fallback will be the default file (e.g. &quot;messages.properties&quot; for basename &quot;messages&quot;).\r\n\r\n[Here is the official complete core properties that can be used with spring application][1] \r\n\r\n[Here the official docs about &lt;spring:message code=&quot;code&quot; text=&quot;fallback text&quot;/&gt;][2] It&#39;s also possible define a fallback text on text param. \r\n\r\nin properties - **application.properties**\r\n\r\n    spring.messages.use-code-as-default-message=true\r\n\r\nin YML format - **application.yml**\r\n\r\n    spring:  \r\n      messages:\r\n        use-code-as-default-message: true\r\n\r\nOr a configuration bean:\r\n\r\n    @Bean\r\n    public MessageSource messageSource() {\r\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n        messageSource.setUseCodeAsDefaultMessage(true);\r\n        return messageSource;\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/1.2.x/taglib/tag/MessageTag.html","title":"Spring MessageSource fallback to explicit locale","body":"<p>There is an useful config <strong>spring.messages.use-code-as-default-message</strong>. When it's true case the code message cannot be found: <strong>&lt;spring:message code=&quot;not_found_label&quot;/&gt;</strong> the tag will render the code as default message.</p>\n<p>Whether to fall back to the system Locale if no files for a specific Locale have been found. if this is turned off, the only fallback will be the default file (e.g. &quot;messages.properties&quot; for basename &quot;messages&quot;).</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">Here is the official complete core properties that can be used with spring application</a></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/1.2.x/taglib/tag/MessageTag.html\" rel=\"nofollow noreferrer\">Here the official docs about &lt;spring:message code=&quot;code&quot; text=&quot;fallback text&quot;/&gt;</a> It's also possible define a fallback text on text param.</p>\n<p>in properties - <strong>application.properties</strong></p>\n<pre><code>spring.messages.use-code-as-default-message=true\n</code></pre>\n<p>in YML format - <strong>application.yml</strong></p>\n<pre><code>spring:  \n  messages:\n    use-code-as-default-message: true\n</code></pre>\n<p>Or a configuration bean:</p>\n<pre><code>@Bean\npublic MessageSource messageSource() {\n    ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n    messageSource.setUseCodeAsDefaultMessage(true);\n    return messageSource;\n}\n</code></pre>\n"}],"owner":{"account_id":3893718,"reputation":1128,"user_id":3223300,"accept_rate":69,"display_name":"skapral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4201,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49646635,"answer_count":3,"score":3,"last_activity_date":1655382296,"creation_date":1522342317,"question_id":49561374,"body_markdown":"    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nIn some spring boot application, i18n is used. Here is the config:\r\n\r\n\r\n    @Bean\r\n    public MessageSource messageSource() {\r\n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n        messageSource.setBasename(translationsPath);\r\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n        messageSource.setFallbackToSystemLocale(false);\r\n        messageSource.setCacheSeconds(5);\r\n        return messageSource;\r\n    }\r\n\r\n    @Bean\r\n    public LocaleResolver localeResolver() {\r\n        AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver();\r\n        localeResolver.setDefaultLocale(Locale.ENGLISH);\r\n        return localeResolver;\r\n    }\r\nThere is a requirement to obtain a locale from header `Accept-language`, falling back to &quot;en&quot; if:\r\n\r\n- the header is missing,\r\n- the header has wrong value,\r\n- the config is missing for the locale.\r\n\r\nTwo first points are resolved by provided `LocaleResolver` (see config). However, I don&#39;t know how to implement point 3: the reloadable list of translation configs is encapsulated in `ReloadableResourceBundleMessageSource`, and I see no way how to make it fall back to &quot;en&quot; locale on some absent config.\r\n\r\nThere is `setFallbackToSystemLocale` option, but system locale != &quot;en&quot; locale. Moreover, `MessageSource` uses system locale only to resolve the token from translation config, not for localizing the message itself, which causes discrepancies with localizing the numbers.\r\n\r\nI might try to limit the list of supported locales by using `setSupportedLocales` on `LocaleResolver`, but it is not suitable solution in my case, since the list of translation configs is supposed to change in runtime.\r\n\r\nIs there a way to make `ReloadableResourceBundleMessageSource` fallback to explicit locale?\r\n","title":"Spring MessageSource fallback to explicit locale","body":"<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>In some spring boot application, i18n is used. Here is the config:</p>\n\n<pre><code>@Bean\npublic MessageSource messageSource() {\n    ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n    messageSource.setBasename(translationsPath);\n    messageSource.setDefaultEncoding(\"UTF-8\");\n    messageSource.setFallbackToSystemLocale(false);\n    messageSource.setCacheSeconds(5);\n    return messageSource;\n}\n\n@Bean\npublic LocaleResolver localeResolver() {\n    AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver();\n    localeResolver.setDefaultLocale(Locale.ENGLISH);\n    return localeResolver;\n}\n</code></pre>\n\n<p>There is a requirement to obtain a locale from header <code>Accept-language</code>, falling back to \"en\" if:</p>\n\n<ul>\n<li>the header is missing,</li>\n<li>the header has wrong value,</li>\n<li>the config is missing for the locale.</li>\n</ul>\n\n<p>Two first points are resolved by provided <code>LocaleResolver</code> (see config). However, I don't know how to implement point 3: the reloadable list of translation configs is encapsulated in <code>ReloadableResourceBundleMessageSource</code>, and I see no way how to make it fall back to \"en\" locale on some absent config.</p>\n\n<p>There is <code>setFallbackToSystemLocale</code> option, but system locale != \"en\" locale. Moreover, <code>MessageSource</code> uses system locale only to resolve the token from translation config, not for localizing the message itself, which causes discrepancies with localizing the numbers.</p>\n\n<p>I might try to limit the list of supported locales by using <code>setSupportedLocales</code> on <code>LocaleResolver</code>, but it is not suitable solution in my case, since the list of translation configs is supposed to change in runtime.</p>\n\n<p>Is there a way to make <code>ReloadableResourceBundleMessageSource</code> fallback to explicit locale?</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin","junit5"],"comments":[{"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1531833796,"post_id":51382356,"comment_id":89736824,"body_markdown":"Show your maven configuration. Maybe, you didn&#39;t configure the maven-surefire-plugin as it should. Please show also your imports in the test class.","body":"Show your maven configuration. Maybe, you didn&#39;t configure the maven-surefire-plugin as it should. Please show also your imports in the test class."},{"owner":{"account_id":13779935,"reputation":300,"user_id":9945287,"display_name":"Luca"},"score":0,"creation_date":1531834767,"post_id":51382356,"comment_id":89737569,"body_markdown":"Added every thing you said, but did not spesificly configure the surefile plugin","body":"Added every thing you said, but did not spesificly configure the surefile plugin"},{"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1531835467,"post_id":51382356,"comment_id":89738117,"body_markdown":"So the problem is there. Check out that : https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven","body":"So the problem is there. Check out that : <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"},{"owner":{"account_id":422404,"reputation":140,"user_id":801153,"display_name":"Geert-Jan Hut"},"score":1,"creation_date":1554098369,"post_id":51382356,"comment_id":97612104,"body_markdown":"The surefire plugin will still not pickup the `@BeforeEach` annotated methods when you forget to add the `junit-jupiter-engine` artifact as a dependency. IDE&#39;s are content when you have the `junit-jupiter-api` artifact added, but the surefire plugin will revert back to a junit3 runner when you don&#39;t specify the engine also. Surefire will still run your tests, even if the `@Test` annotation is from the `org.junit.jupiter.api` package. However, the `@BeforeEach` (and  `@AfterEach` etc.) annotated methods will not be executed.","body":"The surefire plugin will still not pickup the <code>@BeforeEach</code> annotated methods when you forget to add the <code>junit-jupiter-engine</code> artifact as a dependency. IDE&#39;s are content when you have the <code>junit-jupiter-api</code> artifact added, but the surefire plugin will revert back to a junit3 runner when you don&#39;t specify the engine also. Surefire will still run your tests, even if the <code>@Test</code> annotation is from the <code>org.junit.jupiter.api</code> package. However, the <code>@BeforeEach</code> (and  <code>@AfterEach</code> etc.) annotated methods will not be executed."}],"answers":[{"tags":[],"owner":{"account_id":7233893,"reputation":111,"user_id":5519813,"display_name":"Serghei Motpan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531834169,"creation_date":1531834169,"answer_id":51382670,"question_id":51382356,"body_markdown":"maven-surefire-plugin by default takes all test classes which have the pattern *Test.java, in your case you should rename the class SomethingTest and it should be OK\r\n\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html","title":"Maven does not run @BeforeEach Methods while running","body":"<p>maven-surefire-plugin by default takes all test classes which have the pattern *Test.java, in your case you should rename the class SomethingTest and it should be OK</p>\n\n<p><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html</a></p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1603918596,"creation_date":1531835570,"answer_id":51383197,"question_id":51382356,"body_markdown":"By default Maven will not run the test with the Jupiter engine as \r\n\r\n&gt; In order to have Maven Surefire run any tests at all, a TestEngine\r\n&gt; implementation must be added to the runtime classpath.\r\n\r\nAnd this is not present by default.   \r\nSo to enable it you have to configure the maven-surefire-plugin that runs the unit tests as documented in the [Jupiter documentation][1] :\r\n\r\nUPDATE (28.10.2020):\r\n\r\n**Since version 2.22.0**, you only have to specify a test dependency on the desired junit engine. Failing to do so, will also result in the behavior described in the question.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nKeeping the original answer as a reference, **before version 2.22.0** the solution was:\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.21.0&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.2.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.2.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n----------\r\n\r\nWhatever the issue is not necessarily easy to spot because Maven uses a runner that is able to run the Jupiter tests but didn&#39;t manage to execute the hook methods...\r\n\r\nAs a hint : to know whether the JUnit 5 runner is launched you can execute the tests with the verbose flag such as : `mvn test -X`.  \r\nIf the Jupiter runner is used, you should find lines that look like :\r\n\r\n&gt; [DEBUG] Surefire report directory: ...\\target\\surefire-reports\r\n&gt; \r\n&gt; [DEBUG] Using configured provider\r\n&gt; org.junit.platform.surefire.provider.JUnitPlatformProvider\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven","title":"Maven does not run @BeforeEach Methods while running","body":"<p>By default Maven will not run the test with the Jupiter engine as</p>\n<blockquote>\n<p>In order to have Maven Surefire run any tests at all, a TestEngine\nimplementation must be added to the runtime classpath.</p>\n</blockquote>\n<p>And this is not present by default.<br />\nSo to enable it you have to configure the maven-surefire-plugin that runs the unit tests as documented in the <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build-maven\" rel=\"noreferrer\">Jupiter documentation</a> :</p>\n<p>UPDATE (28.10.2020):</p>\n<p><strong>Since version 2.22.0</strong>, you only have to specify a test dependency on the desired junit engine. Failing to do so, will also result in the behavior described in the question.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Keeping the original answer as a reference, <strong>before version 2.22.0</strong> the solution was:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n            &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                &lt;version&gt;1.2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                &lt;version&gt;5.2.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<hr />\n<p>Whatever the issue is not necessarily easy to spot because Maven uses a runner that is able to run the Jupiter tests but didn't manage to execute the hook methods...</p>\n<p>As a hint : to know whether the JUnit 5 runner is launched you can execute the tests with the verbose flag such as : <code>mvn test -X</code>.<br />\nIf the Jupiter runner is used, you should find lines that look like :</p>\n<blockquote>\n<p>[DEBUG] Surefire report directory: ...\\target\\surefire-reports</p>\n<p>[DEBUG] Using configured provider\norg.junit.platform.surefire.provider.JUnitPlatformProvider</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1655382293,"creation_date":1531908917,"answer_id":51399402,"question_id":51382356,"body_markdown":"The first you need to do is to add a dependency like this:\r\n\r\n&lt;!-- language: language-xml --&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        [...]\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        [...]\r\n    &lt;/dependencies&gt;\r\n\r\nThe next thing is to use the most recent version of [maven-surefire-plugin/maven-failsafe-plugin like this][1]:\r\n\r\n\r\n&lt;!-- language: language-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            ...\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;some test to exclude here&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nStarting with version 2.22.2 surefire supports JUnit 5...\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\r\n\r\nUpdate:\r\n * Use most recent version of maven-surefire/failsafe-plugin","title":"Maven does not run @BeforeEach Methods while running","body":"<p>The first you need to do is to add a dependency like this:</p>\n<pre><code>&lt;dependencies&gt;\n    [...]\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    [...]\n&lt;/dependencies&gt;\n</code></pre>\n<p>The next thing is to use the most recent version of <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"noreferrer\">maven-surefire-plugin/maven-failsafe-plugin like this</a>:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;some test to exclude here&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Starting with version 2.22.2 surefire supports JUnit 5...</p>\n<p>Update:</p>\n<ul>\n<li>Use most recent version of maven-surefire/failsafe-plugin</li>\n</ul>\n"}],"owner":{"account_id":13779935,"reputation":300,"user_id":9945287,"display_name":"Luca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10681,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":51383197,"answer_count":3,"score":19,"last_activity_date":1655382293,"creation_date":1531833287,"question_id":51382356,"body_markdown":"i have a test Class lets call it `TestSomething`, and a Test Object lets call this one `SomeObject`. \r\n\r\nNow i need this Object in every Single Test new this means that i have in my Code a `@BeforeEach` that loads this Object in a Field:\r\n\r\n    import me.test.SomeObject;\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class TestSomething {\r\n        private SomeObject someObject;\r\n        \r\n        @BeforeEach\r\n        public void load() {\r\n            someObject = new SomeObject();\r\n        }\r\n        \r\n        @Test\r\n        public void test1() {\r\n            boolean result = someObject.checkForSomething();\r\n            Assertions.assertEquals(true, result);\r\n        }\r\n        \r\n        @Test\r\n        public void test2() {\r\n            boolean result = someObject.checkForSomethingElse();\r\n            Assertions.assertEquals(false, result);\r\n        }\r\n\r\npom.xml from the Test Module:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n        &lt;groupId&gt;me.test&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \r\n      &lt;properties&gt;\r\n        &lt;projectVersion&gt;1.0.0&lt;/projectVersion&gt;\r\n        &lt;maven.deploy.skip&gt;false&lt;/maven.deploy.skip&gt;\r\n      &lt;/properties&gt;\r\n    \r\n    \r\n      &lt;artifactId&gt;Tests&lt;/artifactId&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.3&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;me.test&lt;/groupId&gt;\r\n          &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nnot sure if it is relevant, but the Object `SomeObject` is in a separate Module, and the Test Module has a Dependency on that Module with Scope `test`. (i also tried `provided` and `compile`) \r\n\r\n\r\nSo now if i Run this Tests in InteliJ they Work just Fine. but now if i try to Build my Project the Tests Fail, with NullPointerExceptions because `someObject` is `null`.\r\n\r\nNow the Test work of i call the Method `load()` in every Test, but that is not exactly what i want. ","title":"Maven does not run @BeforeEach Methods while running","body":"<p>i have a test Class lets call it <code>TestSomething</code>, and a Test Object lets call this one <code>SomeObject</code>. </p>\n\n<p>Now i need this Object in every Single Test new this means that i have in my Code a <code>@BeforeEach</code> that loads this Object in a Field:</p>\n\n<pre><code>import me.test.SomeObject;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\npublic class TestSomething {\n    private SomeObject someObject;\n\n    @BeforeEach\n    public void load() {\n        someObject = new SomeObject();\n    }\n\n    @Test\n    public void test1() {\n        boolean result = someObject.checkForSomething();\n        Assertions.assertEquals(true, result);\n    }\n\n    @Test\n    public void test2() {\n        boolean result = someObject.checkForSomethingElse();\n        Assertions.assertEquals(false, result);\n    }\n</code></pre>\n\n<p>pom.xml from the Test Module:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n  &lt;parent&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;groupId&gt;me.test&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n\n  &lt;properties&gt;\n    &lt;projectVersion&gt;1.0.0&lt;/projectVersion&gt;\n    &lt;maven.deploy.skip&gt;false&lt;/maven.deploy.skip&gt;\n  &lt;/properties&gt;\n\n\n  &lt;artifactId&gt;Tests&lt;/artifactId&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;5.0.3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;me.test&lt;/groupId&gt;\n      &lt;artifactId&gt;project&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>not sure if it is relevant, but the Object <code>SomeObject</code> is in a separate Module, and the Test Module has a Dependency on that Module with Scope <code>test</code>. (i also tried <code>provided</code> and <code>compile</code>) </p>\n\n<p>So now if i Run this Tests in InteliJ they Work just Fine. but now if i try to Build my Project the Tests Fail, with NullPointerExceptions because <code>someObject</code> is <code>null</code>.</p>\n\n<p>Now the Test work of i call the Method <code>load()</code> in every Test, but that is not exactly what i want. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19711883,"reputation":90,"user_id":14432226,"display_name":"eskiltb"},"score":0,"creation_date":1654082600,"post_id":72460891,"comment_id":128006072,"body_markdown":"What do you mean by not size? What is the factor","body":"What do you mean by not size? What is the factor"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1654084168,"post_id":72460891,"comment_id":128006603,"body_markdown":"These are not arrays they are lists.  And what if you wanted to compare two of `List&lt;Integer&gt;` or two of `List&lt;SomeClass&gt;`?","body":"These are not arrays they are lists.  And what if you wanted to compare two of <code>List&lt;Integer&gt;</code> or two of <code>List&lt;SomeClass&gt;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":24565816,"reputation":244,"user_id":18472980,"display_name":"Dheeraj Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654084278,"creation_date":1654082734,"answer_id":72461024,"question_id":72460891,"body_markdown":"    public List&lt;String&gt; largerArray (List firstName, List lastName) {\r\n        return firstName.size() &gt; lastName.size() ? firstName : lastName;\r\n    }\r\n\r\nAlthough your use case is not very clear. If firstName is a list then ideally it must be named as firstNames, if its not the case then i am not sure what exactly you’re trying to do there\r\n","title":"How to compare the size of two lists and return a larger list?","body":"<pre><code>public List&lt;String&gt; largerArray (List firstName, List lastName) {\n    return firstName.size() &gt; lastName.size() ? firstName : lastName;\n}\n</code></pre>\n<p>Although your use case is not very clear. If firstName is a list then ideally it must be named as firstNames, if its not the case then i am not sure what exactly you’re trying to do there</p>\n"},{"tags":[],"owner":{"account_id":8643772,"reputation":211,"user_id":6471637,"display_name":"Sportalcraft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654083558,"creation_date":1654083049,"answer_id":72461106,"question_id":72460891,"body_markdown":"You can compare the sizes, and then choose which list to return.\r\nAlso, don&#39;t forget to check that the list is not null, before accessing an instance method (```.size()```)\r\n\r\n    public List&lt;?&gt; largerArray (List&lt;?&gt; l1, List&lt;?&gt; l2) {\r\n        int lengthOfL1 = l1 == null ? 0 : l1.size();\r\n        int lengthOfL2 = l2 == null ? 0 : l2.size();\r\n\r\n        return (lengthOfL1 &gt; lengthOfL2) ? l1 : l2;\r\n    }\r\n\r\nnote: by using a wildcard (```?```) you can accept ANY two lists, so you will be able to compare a list of strings with a list of Integers, if this is something that you want","title":"How to compare the size of two lists and return a larger list?","body":"<p>You can compare the sizes, and then choose which list to return.\nAlso, don't forget to check that the list is not null, before accessing an instance method (<code>.size()</code>)</p>\n<pre><code>public List&lt;?&gt; largerArray (List&lt;?&gt; l1, List&lt;?&gt; l2) {\n    int lengthOfL1 = l1 == null ? 0 : l1.size();\n    int lengthOfL2 = l2 == null ? 0 : l2.size();\n\n    return (lengthOfL1 &gt; lengthOfL2) ? l1 : l2;\n}\n</code></pre>\n<p>note: by using a wildcard (<code>?</code>) you can accept ANY two lists, so you will be able to compare a list of strings with a list of Integers, if this is something that you want</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654084389,"creation_date":1654083842,"answer_id":72461292,"question_id":72460891,"body_markdown":"Write a static generic method to compare two lists of the same type.\r\n```\r\nList&lt;Integer&gt; list1 = List.of(1,2,3,4);\r\nList&lt;Integer&gt; list2 = List.of(1,2,3,4,5);\r\n\t\r\nList&lt;Integer&gt; result = getLargest(list1,list2);\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\n[1, 2, 3, 4, 5]\r\n```\r\n- uses the ternary operator to do the compare\r\n- if they are equal in size, returns `list2`.\r\n```\r\npublic static &lt;T&gt; List&lt;T&gt; getLargest(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n     Objects.requireNonNull(list1);\r\n\t Objects.requireNonNull(list2);\r\n\t return list1.size() &gt; list2.size() ? list1 : list2;\r\n}","title":"How to compare the size of two lists and return a larger list?","body":"<p>Write a static generic method to compare two lists of the same type.</p>\n<pre><code>List&lt;Integer&gt; list1 = List.of(1,2,3,4);\nList&lt;Integer&gt; list2 = List.of(1,2,3,4,5);\n    \nList&lt;Integer&gt; result = getLargest(list1,list2);\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2, 3, 4, 5]\n</code></pre>\n<ul>\n<li>uses the ternary operator to do the compare</li>\n<li>if they are equal in size, returns <code>list2</code>.</li>\n</ul>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; getLargest(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n     Objects.requireNonNull(list1);\n     Objects.requireNonNull(list2);\n     return list1.size() &gt; list2.size() ? list1 : list2;\n}\n</code></pre>\n"}],"owner":{"account_id":17076039,"reputation":3,"user_id":12531289,"display_name":"Mark Hartman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72461024,"answer_count":3,"score":-1,"last_activity_date":1655382283,"creation_date":1654082091,"question_id":72460891,"body_markdown":"I&#39;m trying to write a method that will return the larger of the two lists.\r\n```\r\nList&lt;String&gt; firstNames = new ArrayList&lt;String&gt;(); // size 50\r\nList&lt;String&gt; lastNames = new ArrayList&lt;String&gt;(); // size 1000\r\n```\r\nI want to compare their size and return a larger list. Something like this.\r\n```\r\npublic List&lt;String&gt; largerList (List firstNames, List lastNames) {\r\nreturn max.size(firstNames, lastNames);\r\n}\r\n```","title":"How to compare the size of two lists and return a larger list?","body":"<p>I'm trying to write a method that will return the larger of the two lists.</p>\n<pre><code>List&lt;String&gt; firstNames = new ArrayList&lt;String&gt;(); // size 50\nList&lt;String&gt; lastNames = new ArrayList&lt;String&gt;(); // size 1000\n</code></pre>\n<p>I want to compare their size and return a larger list. Something like this.</p>\n<pre><code>public List&lt;String&gt; largerList (List firstNames, List lastNames) {\nreturn max.size(firstNames, lastNames);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1655380800,"post_id":72645377,"comment_id":128321787,"body_markdown":"`OneToOne`? You mean every genre is tied to one single book? Are you sure about that?","body":"<code>OneToOne</code>? You mean every genre is tied to one single book? Are you sure about that?"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655382093,"creation_date":1655382093,"answer_id":72645786,"question_id":72645377,"body_markdown":"One to one means that a Book has a single genre and that a single genre can only be used for a book. You have also specified `unique=true`, meaning that in the column `genre_id` you cannot have the same id twice.\r\n\r\nYour description is not clear but I&#39;m assuming multiple books can have the same genre.\r\n\r\nThe mapping in this case changes to a many-to-one:\r\n```\r\n@Entity\r\n@Table(name = &quot;books&quot;)\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    private String name;\r\n    private String author;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;genre_id&quot;)\r\n    private Genre genre;\r\n}\r\n```\r\n\r\n\r\nIt also seems weird there books cannot have multiple genres (what about horror comedy stories?). In that case you will need [a bidirectional one-to-many][1].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many","title":"How to link my primary key to to another table as a foreign key?","body":"<p>One to one means that a Book has a single genre and that a single genre can only be used for a book. You have also specified <code>unique=true</code>, meaning that in the column <code>genre_id</code> you cannot have the same id twice.</p>\n<p>Your description is not clear but I'm assuming multiple books can have the same genre.</p>\n<p>The mapping in this case changes to a many-to-one:</p>\n<pre><code>@Entity\n@Table(name = &quot;books&quot;)\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String name;\n    private String author;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;genre_id&quot;)\n    private Genre genre;\n}\n</code></pre>\n<p>It also seems weird there books cannot have multiple genres (what about horror comedy stories?). In that case you will need <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-many\" rel=\"nofollow noreferrer\">a bidirectional one-to-many</a>.</p>\n"}],"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72645786,"answer_count":1,"score":0,"last_activity_date":1655382093,"creation_date":1655380173,"question_id":72645377,"body_markdown":"I am making a small project with a DB of a &quot;book_store&quot;. I am planning to have a two tables :\r\n\r\nBooks -&gt; table(It consists of `id` as a Primary Key, and `genre_id` as a Foreign_key of genre).\r\nGenre table will have multiple genres(comedy, horror with its unique id)\r\nGenre -&gt; table(id as a Primary Key, and yes this column will link to `Books` table as a primary Key)\r\nHere is the implementation of `Book table`\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;books&quot;)\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    private String name;\r\n    private String author;\r\n\r\n    @JoinColumn(name = &quot;genre_id&quot;, unique = true)\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    private Genre genre;\r\n```\r\nAnd here is my `Genres ` table\r\n```\r\n@Entity\r\n@Table(name = &quot;genres&quot;)\r\npublic class Genre {\r\n    @Id\r\n    @Column(name = &quot;genre_id&quot;)\r\n    private int id;\r\n    private String genre;\r\n```\r\n\r\nSo result of `Book` table i am getting is like this: \r\n[I am using PostgresQL][1]\r\n\r\n\r\nand table of `Genre`\r\n[Genre][2]\r\n\r\n\r\n[enter image description here][2]\r\n\r\nSo my question is like this , while i am adding a new book ,and putting a genre 2 -&gt; that means comedy, the `Error is occured , that is telling that repeating of Unique key  genres_pkey`?\r\nThanks for feedback!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e5ms7.png\r\n  [2]: https://i.stack.imgur.com/XAb1R.png","title":"How to link my primary key to to another table as a foreign key?","body":"<p>I am making a small project with a DB of a &quot;book_store&quot;. I am planning to have a two tables :</p>\n<p>Books -&gt; table(It consists of <code>id</code> as a Primary Key, and <code>genre_id</code> as a Foreign_key of genre).\nGenre table will have multiple genres(comedy, horror with its unique id)\nGenre -&gt; table(id as a Primary Key, and yes this column will link to <code>Books</code> table as a primary Key)\nHere is the implementation of <code>Book table</code></p>\n<pre><code>@Entity\n@Table(name = &quot;books&quot;)\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String name;\n    private String author;\n\n    @JoinColumn(name = &quot;genre_id&quot;, unique = true)\n    @OneToOne(cascade = CascadeType.ALL)\n    private Genre genre;\n</code></pre>\n<p>And here is my <code>Genres </code> table</p>\n<pre><code>@Entity\n@Table(name = &quot;genres&quot;)\npublic class Genre {\n    @Id\n    @Column(name = &quot;genre_id&quot;)\n    private int id;\n    private String genre;\n</code></pre>\n<p>So result of <code>Book</code> table i am getting is like this:\n<a href=\"https://i.stack.imgur.com/e5ms7.png\" rel=\"nofollow noreferrer\">I am using PostgresQL</a></p>\n<p>and table of <code>Genre</code>\n<a href=\"https://i.stack.imgur.com/XAb1R.png\" rel=\"nofollow noreferrer\">Genre</a></p>\n<p><a href=\"https://i.stack.imgur.com/XAb1R.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>So my question is like this , while i am adding a new book ,and putting a genre 2 -&gt; that means comedy, the <code>Error is occured , that is telling that repeating of Unique key  genres_pkey</code>?\nThanks for feedback!</p>\n"},{"tags":["java","solr","solrj","solrcloud"],"comments":[{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1655382297,"post_id":72645764,"comment_id":128322304,"body_markdown":"you can use apache tika to extract the content of the documents and index it using solr...currently it seems a very vague question...","body":"you can use apache tika to extract the content of the documents and index it using solr...currently it seems a very vague question..."},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1655382374,"post_id":72645764,"comment_id":128322341,"body_markdown":"check this link for more help https://lucidworks.com/post/indexing-with-solrj/","body":"check this link for more help <a href=\"https://lucidworks.com/post/indexing-with-solrj/\" rel=\"nofollow noreferrer\">lucidworks.com/post/indexing-with-solrj</a>"},{"owner":{"account_id":21966688,"reputation":1,"user_id":16243817,"display_name":"Second One"},"score":0,"creation_date":1655382584,"post_id":72645764,"comment_id":128322439,"body_markdown":"My data gets in the format of folders i mean 1 xml and 1 pdf in a single folder and then 2 xmls and 2 pdfs in other folder how can i index these those above folders are at one place","body":"My data gets in the format of folders i mean 1 xml and 1 pdf in a single folder and then 2 xmls and 2 pdfs in other folder how can i index these those above folders are at one place"}],"owner":{"account_id":21966688,"reputation":1,"user_id":16243817,"display_name":"Second One"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655382089,"creation_date":1655382009,"question_id":72645764,"body_markdown":"I am trying to use solr API to index all documents of xmls and pdfs(xmls and pdfs all in one folder again like there are many folders) using java in a certain folder may be vary in count , I need basic idea and java code for this please &#128591;\r\n\r\n\r\n    import org.apache.solr.client.solrj.SolrClient;\r\n    import org.apache.solr.client.solrj.SolrServerException;\r\n    import org.apache.solr.client.solrj.impl.HttpSolrClient;\r\n    import org.apache.solr.common.SolrInputDocument;\r\n\r\n    import java.io.IOException;\r\n\r\n    public class SolrjPopulator {\r\n    public static void main(String[] args) \r\n    throws IOException, \r\n    SolrServerException {\r\n    SolrClient client = new HttpSolrClient.Builder(&quot;http://localhost:8983/solr/collection1&quot;).build();\r\n    for(int i=0;i&lt;1000;++i) {\r\n      SolrInputDocument doc = new SolrInputDocument();\r\n      doc.addField(&quot;cat&quot;, &quot;book&quot;);\r\n      doc.addField(&quot;id&quot;, &quot;book-&quot; + i);\r\n      doc.addField(&quot;name&quot;, &quot;The Legend of the Hobbit part &quot; + i);\r\n      client.add(doc);\r\n      if(i%100==0) client.commit();  // periodically flush\r\n    }\r\n    client.commit(); \r\n      }\r\n    }","title":"Solr API using Java","body":"<p>I am trying to use solr API to index all documents of xmls and pdfs(xmls and pdfs all in one folder again like there are many folders) using java in a certain folder may be vary in count , I need basic idea and java code for this please 🙏</p>\n<pre><code>import org.apache.solr.client.solrj.SolrClient;\nimport org.apache.solr.client.solrj.SolrServerException;\nimport org.apache.solr.client.solrj.impl.HttpSolrClient;\nimport org.apache.solr.common.SolrInputDocument;\n\nimport java.io.IOException;\n\npublic class SolrjPopulator {\npublic static void main(String[] args) \nthrows IOException, \nSolrServerException {\nSolrClient client = new HttpSolrClient.Builder(&quot;http://localhost:8983/solr/collection1&quot;).build();\nfor(int i=0;i&lt;1000;++i) {\n  SolrInputDocument doc = new SolrInputDocument();\n  doc.addField(&quot;cat&quot;, &quot;book&quot;);\n  doc.addField(&quot;id&quot;, &quot;book-&quot; + i);\n  doc.addField(&quot;name&quot;, &quot;The Legend of the Hobbit part &quot; + i);\n  client.add(doc);\n  if(i%100==0) client.commit();  // periodically flush\n}\nclient.commit(); \n  }\n}\n</code></pre>\n"},{"tags":["java","image","jsp","servlets","base64"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1422830049,"post_id":28268511,"comment_id":44893541,"body_markdown":"http://stackoverflow.com/a/25109418/1178016","body":"<a href=\"http://stackoverflow.com/a/25109418/1178016\">stackoverflow.com/a/25109418/1178016</a>"},{"owner":{"display_name":"user12550812"},"score":0,"creation_date":1581414920,"post_id":28268511,"comment_id":106416274,"body_markdown":"Does this answer your question? [Java - Convert image to Base64](https://stackoverflow.com/questions/10226046/java-convert-image-to-base64)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10226046/java-convert-image-to-base64\">Java - Convert image to Base64</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1581423651,"post_id":28268511,"comment_id":106420876,"body_markdown":"@wowo That question has an entirely different problem.","body":"@wowo That question has an entirely different problem."}],"answers":[{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1422829694,"creation_date":1422828953,"answer_id":28268557,"question_id":28268511,"body_markdown":" * write using ImageIO.write().\r\n * ByteArrayOutputStream wraps the byte array so it can be used as an output stream.\r\n * convert the byte array to a a base64 string using DatatypeConverter, in core Java since 6, no extra libraries required\r\n\r\nExample\r\n\r\n\tByteArrayOutputStream output = new ByteArrayOutputStream();\r\n\tImageIO.write(image, &quot;png&quot;, output);\r\n\tDatatypeConverter.printBase64Binary(output.toByteArray());","title":"convert image to base64 with java","body":"<ul>\n<li>write using ImageIO.write().</li>\n<li>ByteArrayOutputStream wraps the byte array so it can be used as an output stream.</li>\n<li>convert the byte array to a a base64 string using DatatypeConverter, in core Java since 6, no extra libraries required</li>\n</ul>\n\n<p>Example</p>\n\n<pre><code>ByteArrayOutputStream output = new ByteArrayOutputStream();\nImageIO.write(image, \"png\", output);\nDatatypeConverter.printBase64Binary(output.toByteArray());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1466081267,"creation_date":1422829194,"answer_id":28268599,"question_id":28268511,"body_markdown":"Using Apache [``IOUtils``][1] and [``Base64``][2]:\r\n\r\n    byte[] imageBytes = IOUtils.toByteArray(new URL(&quot;...&quot;)));\r\n\tString base64 = Base64.getEncoder().encodeToString(imageBytes);\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html\r\n  [2]: http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html","title":"convert image to base64 with java","body":"<p>Using Apache <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html\" rel=\"noreferrer\"><code>IOUtils</code></a> and <a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html\" rel=\"noreferrer\"><code>Base64</code></a>:</p>\n\n<pre><code>byte[] imageBytes = IOUtils.toByteArray(new URL(\"...\")));\nString base64 = Base64.getEncoder().encodeToString(imageBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017184,"reputation":2902,"user_id":5832518,"display_name":"Raju"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531777120,"creation_date":1531777120,"answer_id":51370438,"question_id":28268511,"body_markdown":"[Accepted answer][1] reads the file from URL, if any one looking for image to Base64 encoding by reading the image from file system, below snippet can be used.\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.util.Base64;\r\n    import org.apache.commons.io.IOUtils;\r\n\r\n\tpublic String img2Text(){\r\n\t\tString base64=&quot;&quot;;\r\n\t\ttry{\r\n\t\t\tInputStream iSteamReader = new FileInputStream(&quot;featured-700x467.png&quot;);\r\n\t\t\tbyte[] imageBytes = IOUtils.toByteArray(iSteamReader);\r\n\t\t\tbase64 = Base64.getEncoder().encodeToString(imageBytes);\r\n\t\t\tSystem.out.println(base64);\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn &quot;data:image/png;base64,&quot;+base64;\r\n\t}\r\n\r\nReturned base64 text can be used in HTML pages like below example\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAfDSURBVFhHrZihb2NHEMatKpUCAgIMQgMOFIZUKg3oH9F/oaCwqo4GFAREVRUdMDWwTgcCopOB6VNlEFXRySDgUUtxKoMAA1+0N7/Z/db7Xl5in64rjd++3X0z3347M7vr3tFxL7wmlLIewjI9N+1lf3c9ftNu/xrZCahKu+8xYV6tHvNY6i6P89zfVehr63tNtgKVqOh9sVjn9rt6Fh7uFw6O+v39nb8j9Tyi5anx0gHTqm+TnYCqLB8jGKSezxzUp093Lv/8Ow3T6dilqqb5/XY2DpPpxL+f3S1cx+O6zquwq+y89CjGAGwBAnAA+vhxGkajSRi8G4fhYBAGw2G4fHdp76MwHI28j/GT6kO4ub0Nd3frMK+Xzjb6umx2yVagAFyuo+Kb6W1m0IEMqnB+NgwHe8eh1+uFvb4ptGdbzs/OHfzV1VWYjG+d2ewuyae7bJfyIlApYNZSWk1m4f37q/D27a/hKIE6trHz+WH4HH4Mi6WtwOfvQ1j3wyrs+fPh4SSPPdzrhYvz38L15MwZhl30Il0YStkKtJ5XziRLPLgYukGYq5enxvQbC9++A3KAyGMCW9T/e/ouPD29CfPlz4nlvjM8uqpCXdc7gXUnpFI+xSQg3b8mdbj86w83cmQiYBhvgxOTq5U9aSvrJnwDs+hi4tX1PMxmU7eFi6mUIJGIzIpAUvhAEY1fESgoZnkdzKrJ4Gp5EMGnCTiwBFAg1eb1EF0CnX+e/e5uUNcGOGUFsVumL196ip6wyUAi06N5cOYKUZ7BYWxh4/WeADizCWDuM3kGNgPec/9ltQhMwJJVKM+AeqsVADIbOvFJAoelIaKlvAGgNCggJfjkDnKFsg0hAGmHWVzhengTAywFbjt19QCnFxK5+8ts4dENk8emhGBwAy2DgMAdMCYAZb+CSN/7RAi+cqzpxA5yff23k9QJFDbbQBlMCiK6G4zY0/1RdevDAMtX1z/kfsDRx5P+/gEpLK6MpzD0IabH9YdTH+f+aruYWO0Eyt6NfyiZu3FLQZp52+9gSdG7AROXE+P0q2/f0hFj6/l+BqvJaHwIv/hYVhKywCNsDpQfnWSYCdsijs1HnicFDgZs2VCKiC0JQMQSIAm+dj9t+p5x2bftnUkyDtvX47GTVp6wcsKn4JskYbZFdpxnydxE/lgyJiDOTmE89m0Aa7KlPgkTZ1WwDVAOPWSeBlAiXnmTlESk+zKZUg+EFtgmo31fWuq0+Zg0wcMeLNEX+8WkxjCpsg0/Z8Lkbk5d+CnYMlAKjexCinYl96jUxpRPBCCmlLEAhQ2fnPVhnGVmF9NEtPTumwXrToR0m070ceoiqBpAHaUVIh7/5JjGYB0wcpQnlvResnp8uIlqB5GeAAMgAiDGK+r1Tt0l6UQfOyErzNI3GAU5zstBV0DLWboSDCcmfL+nHwGUAcrvZbtttQDSpKhHZhOjhU59E4F2MKqlF1BONQ40AZS4cmvDYAOo+uyZc2TRJ9EKaQORPo3Xtw50eBGqG9v/7aBCaSw9QEn0YhRlMoLS5eo0M6L2LGbAmUkRnVlKPi23IGMs7MlEPVUZ4+1dTUBhk3zayajnUHPkzKgZAiTgaJOgUCy+Kgo+05V93r4juBAAw7DG04d+MFTV0vNoAygN3BJJCaQnBvtMAZsMqb5eHLsB2C1Zpz/7appg7jOBScbzrQeR+tJkGE8/WYJDutITJS395rCKA5OiuOOwhQpIQ3F6ZzKksBKsA3WQG8A8teTuNkwYF0luIt0AxSb7PSmSzQcCKQloLEJPsuU2CZASIPXyGAczjMHPMnsGTMBp9++tjafcB8CAZZJt1unn/Mv1hPSkZc9LT+Hp11kbwIxQzB3HjZpCDxCM6N1YA6wAwxAgfDLOGm2xD8lBqL4EDmFyuk9hm1ghZpAM1FGmwtmUmyFXWm6LfIgSzV4BIeHQcmLbZHW0n8FE4PGagZyfHPkYvkcXu5d2vTjheKZlLGzqOh2XveMqQuGwyvGKgVxpyz06+10SuQFGnK19O231fgrh8MjrtYlp9z58FJDo8e9bjGKDLIDLkctZ8vJAkoHqOMUA+QfXApI/ChpACyPKl4Agzax7By5LM8zT2yxLaDwrILC6IJKfnU1upCnJs+Sw+cxHEdEMqwQWLkCa0DU5s5F8jADxAKPd3gEU/ylhFfpe92BK3zAZr5di7TCODWwRI9yAFe2UZ0BLYSaAhV18hjMiqUO51Y0C2IzlCRQSVyC1p0mVfTxh0kHaqnH+5IiJTf1LiOwMFGEbqyYfPL+hGHa54zTAGOjG4eIFYYIKHMT/3jGQ5G7ZK8GV0gkUoQB4Vlfus35FsCutjHDH0R1JR0DYa+/zmhCiFITf45Mst5ikdOGQvAhUgs+wvfLnAAHGlRZ2BZgrS13HP8nkhxFY3FJpw200nhREdBM4+KSYxBalDKBStgKlEGBEIsxywiKFkJj1t6PSWLf0fWIA5BtYxJ1YKUgAWFm+CaiWhqfSF2zgXxxiCDhOPAhHNAKEOk+AsS3zHXWyCRsLE1dabNujtNu3Ai0FA0pf+h+AOqDFtA42Ek5BHDAAyreAI5nrMNRlp0t2AhqVNncKCkbLDIEAonxHNE6JnO/jksc6pdTdJV/FaJdg8DVhzC5Atsk3A+2S/wNYU3rhC7E8UDjURuIvAAAAAElFTkSuQmCC\r\n    &quot; alt=&quot;Smiley face&quot; width=&quot;42&quot; height=&quot;42&quot;&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28268599/5832518","title":"convert image to base64 with java","body":"<p><a href=\"https://stackoverflow.com/a/28268599/5832518\">Accepted answer</a> reads the file from URL, if any one looking for image to Base64 encoding by reading the image from file system, below snippet can be used.</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.util.Base64;\nimport org.apache.commons.io.IOUtils;\n\npublic String img2Text(){\n    String base64=\"\";\n    try{\n        InputStream iSteamReader = new FileInputStream(\"featured-700x467.png\");\n        byte[] imageBytes = IOUtils.toByteArray(iSteamReader);\n        base64 = Base64.getEncoder().encodeToString(imageBytes);\n        System.out.println(base64);\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n    return \"data:image/png;base64,\"+base64;\n}\n</code></pre>\n\n<p>Returned base64 text can be used in HTML pages like below example</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n\r\n&lt;img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAfDSURBVFhHrZihb2NHEMatKpUCAgIMQgMOFIZUKg3oH9F/oaCwqo4GFAREVRUdMDWwTgcCopOB6VNlEFXRySDgUUtxKoMAA1+0N7/Z/db7Xl5in64rjd++3X0z3347M7vr3tFxL7wmlLIewjI9N+1lf3c9ftNu/xrZCahKu+8xYV6tHvNY6i6P89zfVehr63tNtgKVqOh9sVjn9rt6Fh7uFw6O+v39nb8j9Tyi5anx0gHTqm+TnYCqLB8jGKSezxzUp093Lv/8Ow3T6dilqqb5/XY2DpPpxL+f3S1cx+O6zquwq+y89CjGAGwBAnAA+vhxGkajSRi8G4fhYBAGw2G4fHdp76MwHI28j/GT6kO4ub0Nd3frMK+Xzjb6umx2yVagAFyuo+Kb6W1m0IEMqnB+NgwHe8eh1+uFvb4ptGdbzs/OHfzV1VWYjG+d2ewuyae7bJfyIlApYNZSWk1m4f37q/D27a/hKIE6trHz+WH4HH4Mi6WtwOfvQ1j3wyrs+fPh4SSPPdzrhYvz38L15MwZhl30Il0YStkKtJ5XziRLPLgYukGYq5enxvQbC9++A3KAyGMCW9T/e/ouPD29CfPlz4nlvjM8uqpCXdc7gXUnpFI+xSQg3b8mdbj86w83cmQiYBhvgxOTq5U9aSvrJnwDs+hi4tX1PMxmU7eFi6mUIJGIzIpAUvhAEY1fESgoZnkdzKrJ4Gp5EMGnCTiwBFAg1eb1EF0CnX+e/e5uUNcGOGUFsVumL196ip6wyUAi06N5cOYKUZ7BYWxh4/WeADizCWDuM3kGNgPec/9ltQhMwJJVKM+AeqsVADIbOvFJAoelIaKlvAGgNCggJfjkDnKFsg0hAGmHWVzhengTAywFbjt19QCnFxK5+8ts4dENk8emhGBwAy2DgMAdMCYAZb+CSN/7RAi+cqzpxA5yff23k9QJFDbbQBlMCiK6G4zY0/1RdevDAMtX1z/kfsDRx5P+/gEpLK6MpzD0IabH9YdTH+f+aruYWO0Eyt6NfyiZu3FLQZp52+9gSdG7AROXE+P0q2/f0hFj6/l+BqvJaHwIv/hYVhKywCNsDpQfnWSYCdsijs1HnicFDgZs2VCKiC0JQMQSIAm+dj9t+p5x2bftnUkyDtvX47GTVp6wcsKn4JskYbZFdpxnydxE/lgyJiDOTmE89m0Aa7KlPgkTZ1WwDVAOPWSeBlAiXnmTlESk+zKZUg+EFtgmo31fWuq0+Zg0wcMeLNEX+8WkxjCpsg0/Z8Lkbk5d+CnYMlAKjexCinYl96jUxpRPBCCmlLEAhQ2fnPVhnGVmF9NEtPTumwXrToR0m070ceoiqBpAHaUVIh7/5JjGYB0wcpQnlvResnp8uIlqB5GeAAMgAiDGK+r1Tt0l6UQfOyErzNI3GAU5zstBV0DLWboSDCcmfL+nHwGUAcrvZbtttQDSpKhHZhOjhU59E4F2MKqlF1BONQ40AZS4cmvDYAOo+uyZc2TRJ9EKaQORPo3Xtw50eBGqG9v/7aBCaSw9QEn0YhRlMoLS5eo0M6L2LGbAmUkRnVlKPi23IGMs7MlEPVUZ4+1dTUBhk3zayajnUHPkzKgZAiTgaJOgUCy+Kgo+05V93r4juBAAw7DG04d+MFTV0vNoAygN3BJJCaQnBvtMAZsMqb5eHLsB2C1Zpz/7appg7jOBScbzrQeR+tJkGE8/WYJDutITJS395rCKA5OiuOOwhQpIQ3F6ZzKksBKsA3WQG8A8teTuNkwYF0luIt0AxSb7PSmSzQcCKQloLEJPsuU2CZASIPXyGAczjMHPMnsGTMBp9++tjafcB8CAZZJt1unn/Mv1hPSkZc9LT+Hp11kbwIxQzB3HjZpCDxCM6N1YA6wAwxAgfDLOGm2xD8lBqL4EDmFyuk9hm1ghZpAM1FGmwtmUmyFXWm6LfIgSzV4BIeHQcmLbZHW0n8FE4PGagZyfHPkYvkcXu5d2vTjheKZlLGzqOh2XveMqQuGwyvGKgVxpyz06+10SuQFGnK19O231fgrh8MjrtYlp9z58FJDo8e9bjGKDLIDLkctZ8vJAkoHqOMUA+QfXApI/ChpACyPKl4Agzax7By5LM8zT2yxLaDwrILC6IJKfnU1upCnJs+Sw+cxHEdEMqwQWLkCa0DU5s5F8jADxAKPd3gEU/ylhFfpe92BK3zAZr5di7TCODWwRI9yAFe2UZ0BLYSaAhV18hjMiqUO51Y0C2IzlCRQSVyC1p0mVfTxh0kHaqnH+5IiJTf1LiOwMFGEbqyYfPL+hGHa54zTAGOjG4eIFYYIKHMT/3jGQ5G7ZK8GV0gkUoQB4Vlfus35FsCutjHDH0R1JR0DYa+/zmhCiFITf45Mst5ikdOGQvAhUgs+wvfLnAAHGlRZ2BZgrS13HP8nkhxFY3FJpw200nhREdBM4+KSYxBalDKBStgKlEGBEIsxywiKFkJj1t6PSWLf0fWIA5BtYxJ1YKUgAWFm+CaiWhqfSF2zgXxxiCDhOPAhHNAKEOk+AsS3zHXWyCRsLE1dabNujtNu3Ai0FA0pf+h+AOqDFtA42Ek5BHDAAyreAI5nrMNRlp0t2AhqVNncKCkbLDIEAonxHNE6JnO/jksc6pdTdJV/FaJdg8DVhzC5Atsk3A+2S/wNYU3rhC7E8UDjURuIvAAAAAElFTkSuQmCC\r\n\" alt=\"Smiley face\" width=\"42\" height=\"42\"&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":3629118,"reputation":2463,"user_id":3025852,"accept_rate":56,"display_name":"NoSixties"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33465,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":28268599,"answer_count":3,"score":9,"last_activity_date":1655382030,"creation_date":1422828538,"question_id":28268511,"body_markdown":"I need to convert a image object to a base64 object so I can load it into the &lt;img&gt; tag on my client side.\r\n\r\nHowever I can&#39;t seem to figure out how to pull this off. Is there anyone who has a piece of code for this that I could use easily?\r\n\r\nThis is what I use to turn the external image link into a image object\r\n\r\n    Image image = null;\r\n    URL url = new URL(request.getParameter(&quot;hdn_path&quot;));\r\n    image = ImageIO.read(url);\r\n\r\nnot sure if I&#39;m going about this the correct way.","title":"convert image to base64 with java","body":"<p>I need to convert a image object to a base64 object so I can load it into the  tag on my client side.</p>\n\n<p>However I can't seem to figure out how to pull this off. Is there anyone who has a piece of code for this that I could use easily?</p>\n\n<p>This is what I use to turn the external image link into a image object</p>\n\n<pre><code>Image image = null;\nURL url = new URL(request.getParameter(\"hdn_path\"));\nimage = ImageIO.read(url);\n</code></pre>\n\n<p>not sure if I'm going about this the correct way.</p>\n"},{"tags":["java","design-patterns","listeners"],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1275669359,"creation_date":1275669359,"answer_id":2976057,"question_id":2975935,"body_markdown":"Instead of each `Listener` having specific methods for every event type you can send it, change the interface to accept a generic `Event` class. You can then subclass `Event` to specific subtypes if you need, or have it contain state such as `double intensity`.\r\n\r\nTigerListener and ElephentListener then become\r\n\r\n    interface TigerListener {\r\n        void listen(Event event);\r\n    }\r\n\r\nIn fact, you can then further refactor this interface into a plain `Listener`:\r\n\r\n    interface Listener {\r\n        void listen(Event event);\r\n    }\r\n\r\nYour `Listener` implementations can then contain the logic that they need for the specific events they care about\r\n\r\n    class TigerListener implements Listener {\r\n        @Overrides\r\n        void listen(Event event) {\r\n            if (event instanceof GrowlEvent) {\r\n                //handle growl...\r\n            }\r\n            else if (event instance of MeowEvent) {\r\n                //handle meow\r\n            }\r\n            //we don&#39;t care about any other types of Events\r\n        }\r\n    }\r\n\r\n    class ElephentListener {\r\n        @Overrides\r\n        void listen(Event event) {\r\n            if (event instanceof StompEvent) {\r\n                StompEvent stomp = (StompEvent) event;\r\n                if (&quot;north&quot;.equals(stomp.getLocation()) &amp;&amp; stomp.getDistance() &gt; 10) { \r\n                    ... \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe key relationship between the subscriber and the publisher is that the publisher can send events to the subscribers, it isn&#39;t necessarily that it can send it certain types of events - this type of refactoring pushes that logic from the interface down into the specific implementations.","title":"Java. Correct pattern for implementing listeners","body":"<p>Instead of each <code>Listener</code> having specific methods for every event type you can send it, change the interface to accept a generic <code>Event</code> class. You can then subclass <code>Event</code> to specific subtypes if you need, or have it contain state such as <code>double intensity</code>.</p>\n\n<p>TigerListener and ElephentListener then become</p>\n\n<pre><code>interface TigerListener {\n    void listen(Event event);\n}\n</code></pre>\n\n<p>In fact, you can then further refactor this interface into a plain <code>Listener</code>:</p>\n\n<pre><code>interface Listener {\n    void listen(Event event);\n}\n</code></pre>\n\n<p>Your <code>Listener</code> implementations can then contain the logic that they need for the specific events they care about</p>\n\n<pre><code>class TigerListener implements Listener {\n    @Overrides\n    void listen(Event event) {\n        if (event instanceof GrowlEvent) {\n            //handle growl...\n        }\n        else if (event instance of MeowEvent) {\n            //handle meow\n        }\n        //we don't care about any other types of Events\n    }\n}\n\nclass ElephentListener {\n    @Overrides\n    void listen(Event event) {\n        if (event instanceof StompEvent) {\n            StompEvent stomp = (StompEvent) event;\n            if (\"north\".equals(stomp.getLocation()) &amp;&amp; stomp.getDistance() &gt; 10) { \n                ... \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The key relationship between the subscriber and the publisher is that the publisher can send events to the subscribers, it isn't necessarily that it can send it certain types of events - this type of refactoring pushes that logic from the interface down into the specific implementations.</p>\n"},{"tags":[],"owner":{"account_id":28208,"reputation":14132,"user_id":75126,"accept_rate":100,"display_name":"mhaller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275669421,"creation_date":1275669421,"answer_id":2976068,"question_id":2975935,"body_markdown":"I think you&#39;re doing it correct, since your interfaces have semantic value and express what they are listening to (e.g. growls and meows instead of stomps). With a generic approach, you may be able to reuse the broadcasting code, but you may lose the readability.\r\n\r\nFor example, there is the `java.beans.PropertyChangeSupport` which is a utility for implementing Oberservers listening for value changes. It does the broadcasting, but you still need to implement the method in your domain class and delegate to the PropertyChangeSupport object. The callback methods are meaningless by themselves, and the events broadcasted are String-based:\r\n\r\n    public interface PropertyChangeListener extends java.util.EventListener {\r\n         void propertyChange(PropertyChangeEvent evt);\r\n    }\r\n\r\nAnother one is `java.util.Observable` which provides the broadcasting mechanism, but it&#39;s also not the best thing imho.\r\n\r\nI like `ElephantListener.onStomp()`\r\n","title":"Java. Correct pattern for implementing listeners","body":"<p>I think you're doing it correct, since your interfaces have semantic value and express what they are listening to (e.g. growls and meows instead of stomps). With a generic approach, you may be able to reuse the broadcasting code, but you may lose the readability.</p>\n\n<p>For example, there is the <code>java.beans.PropertyChangeSupport</code> which is a utility for implementing Oberservers listening for value changes. It does the broadcasting, but you still need to implement the method in your domain class and delegate to the PropertyChangeSupport object. The callback methods are meaningless by themselves, and the events broadcasted are String-based:</p>\n\n<pre><code>public interface PropertyChangeListener extends java.util.EventListener {\n     void propertyChange(PropertyChangeEvent evt);\n}\n</code></pre>\n\n<p>Another one is <code>java.util.Observable</code> which provides the broadcasting mechanism, but it's also not the best thing imho.</p>\n\n<p>I like <code>ElephantListener.onStomp()</code></p>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655381639,"creation_date":1275672295,"answer_id":2976370,"question_id":2975935,"body_markdown":"A different options is the [Whiteboard Pattern][1].  This disconnects the publisher and subscriber from each other, and neither will contain any broadcasting code.  They both simply use a messaging mechanism for pub/sub and neither has any direct connection to the other.  \r\n\r\nThis is a common model for messaging in an OSGi platform.\r\n\r\n\r\n  [1]: https://enroute.osgi.org/FAQ/400-patterns.html#whiteboard-pattern","title":"Java. Correct pattern for implementing listeners","body":"<p>A different options is the <a href=\"https://enroute.osgi.org/FAQ/400-patterns.html#whiteboard-pattern\" rel=\"nofollow noreferrer\">Whiteboard Pattern</a>.  This disconnects the publisher and subscriber from each other, and neither will contain any broadcasting code.  They both simply use a messaging mechanism for pub/sub and neither has any direct connection to the other.</p>\n<p>This is a common model for messaging in an OSGi platform.</p>\n"},{"tags":[],"owner":{"account_id":1389951,"reputation":949,"user_id":1321016,"display_name":"Warren MacEvoy"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1537935261,"creation_date":1471070014,"answer_id":38929940,"question_id":2975935,"body_markdown":"Try the [java kiss][1] library and you will get this done faster and more correctly.  \r\n\r\n    import static kiss.API.*;\r\n\r\n    class Elephant {\r\n      void onReceiveStomp(Stomp stomp) { ... }\r\n    }\r\n\r\n    class Tiger {\r\n      void onReceiveMeow(Meow meow) { ... }\r\n      void onReceiveGrowl(Growl growl) { ... }\r\n    }\r\n    \r\n    class TigerMeowGenerator extends Generator&lt;Meow&gt; {\r\n       // to add listeners, you get: \r\n       //    addListener(Object tiger); // anything with onReceiveMeow(Meow m);\r\n       //    addListener(meow-&gt;actions()); // any lambda\r\n       // to send meow&#39;s to all listeners, use \r\n       //    send(meow)\r\n    }\r\n\r\n  The generator is thread-safe and efficient (writing correct generators is the hardest part).  It is an implementation of the ideas in \r\n[Java Dev. Journal - Skilled Listening in Java (local copy)][2]\r\n\r\n\r\n  [1]: https://github.com/wmacevoy/kiss\r\n  [2]: https://org.coloradomesa.edu/~wmacevoy/listen/paper.html","title":"Java. Correct pattern for implementing listeners","body":"<p>Try the <a href=\"https://github.com/wmacevoy/kiss\" rel=\"nofollow noreferrer\">java kiss</a> library and you will get this done faster and more correctly.  </p>\n\n<pre><code>import static kiss.API.*;\n\nclass Elephant {\n  void onReceiveStomp(Stomp stomp) { ... }\n}\n\nclass Tiger {\n  void onReceiveMeow(Meow meow) { ... }\n  void onReceiveGrowl(Growl growl) { ... }\n}\n\nclass TigerMeowGenerator extends Generator&lt;Meow&gt; {\n   // to add listeners, you get: \n   //    addListener(Object tiger); // anything with onReceiveMeow(Meow m);\n   //    addListener(meow-&gt;actions()); // any lambda\n   // to send meow's to all listeners, use \n   //    send(meow)\n}\n</code></pre>\n\n<p>The generator is thread-safe and efficient (writing correct generators is the hardest part).  It is an implementation of the ideas in \n<a href=\"https://org.coloradomesa.edu/~wmacevoy/listen/paper.html\" rel=\"nofollow noreferrer\">Java Dev. Journal - Skilled Listening in Java (local copy)</a></p>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491517,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1509344920,"creation_date":1509343049,"answer_id":47008887,"question_id":2975935,"body_markdown":"This is a more general answer for people who come here just wanting to make a listener. I am summarizing [Creating Custom Listeners][1] from CodePath. Read that article if you need more explanation.\r\n\r\nHere are the steps.\r\n\r\n#1. Define an Interface\r\n\r\nThis is in the child class that needs to communicate with some unknown parent.\r\n\r\n    public class MyClass {\r\n\r\n        // interface\r\n        public interface MyClassListener {\r\n            // add whatever methods you need here\r\n            public void onSomeEvent(String title);\r\n        }\r\n    }\r\n\r\n#2. Create a Listener Setter\r\n\r\nAdd a private listener member variable and a public setter method to the child class.\r\n\r\n    public class MyClass {\r\n\r\n        // add a private listener variable\r\n        private MyClassListener mListener = null;\r\n\t\r\n        // provide a way for another class to set the listener\r\n        public void setMyClassListener(MyClassListener listener) {\r\n            this.mListener = listener;\r\n        }\r\n\r\n\r\n        // interface from Step 1\r\n        public interface MyClassListener {\r\n            public void onSomeEvent(String title);\r\n        }\r\n    }\r\n\r\n#3. Trigger Listener Events\r\n\r\nThe child object can now call methods on the listener interface. Be sure to check for null because there might not be anyone listening. (That is, the parent class might not have called the setter method for our listener.)\r\n\r\n    public class MyClass {\r\n \r\n        public void someMethod() {\r\n            // ...\r\n\r\n            // use the listener in your code to fire some event\r\n            if (mListener != null) \r\n                mListener.onSomeEvent(&quot;hello&quot;);\r\n        }\r\n\r\n        \r\n        // items from Steps 1 and 2\r\n\r\n        private MyClassListener mListener = null;\r\n\r\n        public void setMyClassListener(MyClassListener listener) {\r\n            this.mListener = listener;\r\n        }\r\n\r\n        public interface MyClassListener {\r\n            public void onSomeEvent(String myString);\r\n        }\r\n    }\r\n\r\n#4. Implement the Listener Callbacks in the Parent\r\n\r\nThe parent can now use the listener that we set up in the child class.\r\n\r\n###Example 1\r\n\r\n    public class MyParentClass {\r\n\r\n        private void someMethod() {\r\n\r\n        \tMyClass object = new MyClass();\r\n        \tobject.setMyClassListener(new MyClass.MyClassListener() {\r\n        \t\t@Override\r\n        \t\tpublic void onSomeEvent(String myString) {\r\n        \t\t    // handle event\r\n        \t\t}\r\n        \t});\r\n        }\r\n    }\r\n\r\n###Example 2\r\n\r\n    public class MyParentClass implements MyClass.MyClassListener {\r\n\r\n        public MyParentClass() {\r\n            MyClass object = new MyClass();\r\n        \tobject.setMyClassListener(this);\r\n        }\r\n\r\n        @Override\r\n        public void onSomeEvent(String myString) {\r\n            // handle event\r\n        }\r\n    }\r\n\r\n  [1]: https://guides.codepath.com/android/Creating-Custom-Listeners","title":"Java. Correct pattern for implementing listeners","body":"<p>This is a more general answer for people who come here just wanting to make a listener. I am summarizing <a href=\"https://guides.codepath.com/android/Creating-Custom-Listeners\" rel=\"noreferrer\">Creating Custom Listeners</a> from CodePath. Read that article if you need more explanation.</p>\n\n<p>Here are the steps.</p>\n\n<h1>1. Define an Interface</h1>\n\n<p>This is in the child class that needs to communicate with some unknown parent.</p>\n\n<pre><code>public class MyClass {\n\n    // interface\n    public interface MyClassListener {\n        // add whatever methods you need here\n        public void onSomeEvent(String title);\n    }\n}\n</code></pre>\n\n<h1>2. Create a Listener Setter</h1>\n\n<p>Add a private listener member variable and a public setter method to the child class.</p>\n\n<pre><code>public class MyClass {\n\n    // add a private listener variable\n    private MyClassListener mListener = null;\n\n    // provide a way for another class to set the listener\n    public void setMyClassListener(MyClassListener listener) {\n        this.mListener = listener;\n    }\n\n\n    // interface from Step 1\n    public interface MyClassListener {\n        public void onSomeEvent(String title);\n    }\n}\n</code></pre>\n\n<h1>3. Trigger Listener Events</h1>\n\n<p>The child object can now call methods on the listener interface. Be sure to check for null because there might not be anyone listening. (That is, the parent class might not have called the setter method for our listener.)</p>\n\n<pre><code>public class MyClass {\n\n    public void someMethod() {\n        // ...\n\n        // use the listener in your code to fire some event\n        if (mListener != null) \n            mListener.onSomeEvent(\"hello\");\n    }\n\n\n    // items from Steps 1 and 2\n\n    private MyClassListener mListener = null;\n\n    public void setMyClassListener(MyClassListener listener) {\n        this.mListener = listener;\n    }\n\n    public interface MyClassListener {\n        public void onSomeEvent(String myString);\n    }\n}\n</code></pre>\n\n<h1>4. Implement the Listener Callbacks in the Parent</h1>\n\n<p>The parent can now use the listener that we set up in the child class.</p>\n\n<h3>Example 1</h3>\n\n<pre><code>public class MyParentClass {\n\n    private void someMethod() {\n\n        MyClass object = new MyClass();\n        object.setMyClassListener(new MyClass.MyClassListener() {\n            @Override\n            public void onSomeEvent(String myString) {\n                // handle event\n            }\n        });\n    }\n}\n</code></pre>\n\n<h3>Example 2</h3>\n\n<pre><code>public class MyParentClass implements MyClass.MyClassListener {\n\n    public MyParentClass() {\n        MyClass object = new MyClass();\n        object.setMyClassListener(this);\n    }\n\n    @Override\n    public void onSomeEvent(String myString) {\n        // handle event\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615859824,"creation_date":1615859824,"answer_id":66648088,"question_id":2975935,"body_markdown":"I created a [Signals][1] library just for this purpose. To remove the boiler code involved in &quot;re-implementing the broadcasting mechanism.&quot;\r\n\r\nA Signal is an object created automatically from an interface. It has methods for adding listeners and dispatching/broadcasting events.\r\n\r\nIt looks like this:\r\n\r\n    interface Chat{\r\n        void onNewMessage(String s);    \r\n    }\r\n\r\n    class Foo{\r\n        Signal&lt;Chat&gt; chatSignal = Signals.signal(Chat.class);\r\n        \r\n        void bar(){\r\n            chatSignal.addListener( s-&gt; Log.d(&quot;chat&quot;, s) ); // logs all the messaged to Logcat\r\n        }\r\n    }\r\n    \r\n    class Foo2{\r\n        Signal&lt;Chat&gt; chatSignal = Signals.signal(Chat.class);\r\n        \r\n        void bar2(){\r\n            chatSignal.dispatcher.onNewMessage(&quot;Hello from Foo2&quot;); // dispatches &quot;Hello from Foo2&quot; message to all the listeners\r\n        }\r\n    }\r\n\r\nIn this example, `Foo2` is the broadcaster of new messages over the `Chat` interface. `Foo` then listen to those and log it to logcat.\r\n\r\n - Note that there are no limitations on what interfaces you can use\r\n - You also have some sugar API for registering for only the first broadcast and unregistering from all the signals at once(Via the `SignalsHelper`)\r\n\r\n\r\n  [1]: https://github.com/gazman-sdk/signals\r\n","title":"Java. Correct pattern for implementing listeners","body":"<p>I created a <a href=\"https://github.com/gazman-sdk/signals\" rel=\"nofollow noreferrer\">Signals</a> library just for this purpose. To remove the boiler code involved in &quot;re-implementing the broadcasting mechanism.&quot;</p>\n<p>A Signal is an object created automatically from an interface. It has methods for adding listeners and dispatching/broadcasting events.</p>\n<p>It looks like this:</p>\n<pre><code>interface Chat{\n    void onNewMessage(String s);    \n}\n\nclass Foo{\n    Signal&lt;Chat&gt; chatSignal = Signals.signal(Chat.class);\n    \n    void bar(){\n        chatSignal.addListener( s-&gt; Log.d(&quot;chat&quot;, s) ); // logs all the messaged to Logcat\n    }\n}\n\nclass Foo2{\n    Signal&lt;Chat&gt; chatSignal = Signals.signal(Chat.class);\n    \n    void bar2(){\n        chatSignal.dispatcher.onNewMessage(&quot;Hello from Foo2&quot;); // dispatches &quot;Hello from Foo2&quot; message to all the listeners\n    }\n}\n</code></pre>\n<p>In this example, <code>Foo2</code> is the broadcaster of new messages over the <code>Chat</code> interface. <code>Foo</code> then listen to those and log it to logcat.</p>\n<ul>\n<li>Note that there are no limitations on what interfaces you can use</li>\n<li>You also have some sugar API for registering for only the first broadcast and unregistering from all the signals at once(Via the <code>SignalsHelper</code>)</li>\n</ul>\n"}],"owner":{"account_id":6363,"reputation":15047,"user_id":10675,"accept_rate":77,"display_name":"Jake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52613,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":6,"score":29,"last_activity_date":1655381639,"creation_date":1275668346,"question_id":2975935,"body_markdown":"Very typically I have a situation where a given object will need to have many listeners.  For instance, I might have\r\n\r\n    class Elephant {\r\n      public void addListener( ElephantListener listener ) { ... }\r\n    }\r\n\r\nbut I&#39;ll have many such situations.  That is, I&#39;ll also have a `Tiger` object that&#39;ll have `TigerListener`s.  Now, `TigerListener`s and `ElephantListener`s are quite different:\r\n\r\n    interface TigerListener {\r\n      void listenForGrowl( Growl qrowl );\r\n      void listenForMeow( Meow meow );\r\n    }\r\n\r\nwhile\r\n\r\n    interface ElephantListener {\r\n      void listenForStomp( String location, double intensity );\r\n    }\r\n\r\nI find that I always have to keep re-implementing the broadcasting mechanism in each animal class, and the implementation is always the same.  Is there a preferred pattern?","title":"Java. Correct pattern for implementing listeners","body":"<p>Very typically I have a situation where a given object will need to have many listeners.  For instance, I might have</p>\n\n<pre><code>class Elephant {\n  public void addListener( ElephantListener listener ) { ... }\n}\n</code></pre>\n\n<p>but I'll have many such situations.  That is, I'll also have a <code>Tiger</code> object that'll have <code>TigerListener</code>s.  Now, <code>TigerListener</code>s and <code>ElephantListener</code>s are quite different:</p>\n\n<pre><code>interface TigerListener {\n  void listenForGrowl( Growl qrowl );\n  void listenForMeow( Meow meow );\n}\n</code></pre>\n\n<p>while</p>\n\n<pre><code>interface ElephantListener {\n  void listenForStomp( String location, double intensity );\n}\n</code></pre>\n\n<p>I find that I always have to keep re-implementing the broadcasting mechanism in each animal class, and the implementation is always the same.  Is there a preferred pattern?</p>\n"},{"tags":["java","swing","jdatechooser"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1655364807,"post_id":72641996,"comment_id":128316406,"body_markdown":"`LocalDate.now().plusDays(-1)` will give a `LocalDate` of yesturday","body":"<code>LocalDate.now().plusDays(-1)</code> will give a <code>LocalDate</code> of yesturday"},{"owner":{"account_id":22981416,"reputation":1,"user_id":17108279,"display_name":"xnanx"},"score":0,"creation_date":1655364951,"post_id":72641996,"comment_id":128316451,"body_markdown":"Thanks for replay, I need to go one day back from the selected date in jdate.","body":"Thanks for replay, I need to go one day back from the selected date in jdate."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1655365036,"post_id":72641996,"comment_id":128316481,"body_markdown":"There&#39;s no such thing as `jdate` and the basic concept of using a `LocalDate` and adding/subtract date components to it is your starting point","body":"There&#39;s no such thing as <code>jdate</code> and the basic concept of using a <code>LocalDate</code> and adding/subtract date components to it is your starting point"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1655365132,"post_id":72641996,"comment_id":128316514,"body_markdown":"Don&#39;t use a `java.util.Date`, use a `java.time.LocalDate` and simply subtract a day, e.g. `LocalDate aDayBefore = someSelectedLocalDate.minusDays(1);`.","body":"Don&#39;t use a <code>java.util.Date</code>, use a <code>java.time.LocalDate</code> and simply subtract a day, e.g. <code>LocalDate aDayBefore = someSelectedLocalDate.minusDays(1);</code>."},{"owner":{"account_id":22981416,"reputation":1,"user_id":17108279,"display_name":"xnanx"},"score":0,"creation_date":1655368443,"post_id":72641996,"comment_id":128317584,"body_markdown":"exactly what i&#39;m trying to do, get yesterday instance from jdatechooser","body":"exactly what i&#39;m trying to do, get yesterday instance from jdatechooser"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1655369227,"post_id":72641996,"comment_id":128317854,"body_markdown":"Which library is actually providing the `JDateChooser`?","body":"Which library is actually providing the <code>JDateChooser</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655381632,"creation_date":1655381632,"answer_id":72645678,"question_id":72641996,"body_markdown":"The reason why everyone is telling you to use the new **java.time** package classes like **LocalDate** and **LocalDateTime** etc is because **Date** is quite old and known to be error prone. But hey...if you&#39;re bent on using ***Date*** then I suppose you can do it this way:\r\n\r\n    // Get the date from the JDateChooser\r\n    Date date = jDateChooser1.getDateEditor().getDate();\r\n\r\n    // Subtract one day from the selected JDateChooser date.\r\n    Date oneDayFromSelectedDate = new Date(date.getTime() - Duration.ofDays(1).toMillis());\r\n\r\n    // Define the format you want the Date String;\r\n    SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\r\n    // Dump it into a String variable and...\r\n    String myDateString = sf.format(oneDayFromSelectedDate);\r\n\r\n    //  Display it into the Console Window\r\n    System.out.println(myDateString);\r\n\r\nThe `oneDayFromSelectedDate` is the Date object containing the JDateChooser selected date *less one day*. Do consider changing to the java.time package.","title":"how to get yesterday instance from jdatechooser","body":"<p>The reason why everyone is telling you to use the new <strong>java.time</strong> package classes like <strong>LocalDate</strong> and <strong>LocalDateTime</strong> etc is because <strong>Date</strong> is quite old and known to be error prone. But hey...if you're bent on using <em><strong>Date</strong></em> then I suppose you can do it this way:</p>\n<pre><code>// Get the date from the JDateChooser\nDate date = jDateChooser1.getDateEditor().getDate();\n\n// Subtract one day from the selected JDateChooser date.\nDate oneDayFromSelectedDate = new Date(date.getTime() - Duration.ofDays(1).toMillis());\n\n// Define the format you want the Date String;\nSimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n\n// Dump it into a String variable and...\nString myDateString = sf.format(oneDayFromSelectedDate);\n\n//  Display it into the Console Window\nSystem.out.println(myDateString);\n</code></pre>\n<p>The <code>oneDayFromSelectedDate</code> is the Date object containing the JDateChooser selected date <em>less one day</em>. Do consider changing to the java.time package.</p>\n"}],"owner":{"account_id":22981416,"reputation":1,"user_id":17108279,"display_name":"xnanx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655381632,"creation_date":1655364458,"question_id":72641996,"body_markdown":"The user needs to select any date (Userdate). I need to set another jdate one day behind this date (needdate). Can you help with this?\r\n\r\n    Date date1 = (Userdate.getDate(),-1);\r\n    needdate.setDate(date1)","title":"how to get yesterday instance from jdatechooser","body":"<p>The user needs to select any date (Userdate). I need to set another jdate one day behind this date (needdate). Can you help with this?</p>\n<pre><code>Date date1 = (Userdate.getDate(),-1);\nneeddate.setDate(date1)\n</code></pre>\n"},{"tags":["java","junit","mocking","mockito","junit5"],"comments":[{"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"score":0,"creation_date":1655375467,"post_id":72643767,"comment_id":128320019,"body_markdown":"can&#39;t you just refactor to take `ExternalApiServiceHelper` instead of `String` in your constructor?","body":"can&#39;t you just refactor to take <code>ExternalApiServiceHelper</code> instead of <code>String</code> in your constructor?"},{"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"score":0,"creation_date":1655387276,"post_id":72643767,"comment_id":128324170,"body_markdown":"@dehasi ExternalApiServiceHelper  and ExternalApiServiceWsProxy are provided by external party. They gave a jar file which we can use to access their soap service.","body":"@dehasi ExternalApiServiceHelper  and ExternalApiServiceWsProxy are provided by external party. They gave a jar file which we can use to access their soap service."},{"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"score":0,"creation_date":1655451607,"post_id":72643767,"comment_id":128340118,"body_markdown":"you can create a `@Config` and create it there. \n\n```\n@Bean ExternalApiServiceHelper externalApiServiceHelper(ExternalApiServiceWsProxy proxy) {\nreturn new ExternalApiServiceHelper (externalApiServiceWsProxy );\n}\n```\nand inject this bean.","body":"you can create a <code>@Config</code> and create it there.   ``` @Bean ExternalApiServiceHelper externalApiServiceHelper(ExternalApiServiceWsProxy proxy) { return new ExternalApiServiceHelper (externalApiServiceWsProxy ); } ``` and inject this bean."}],"answers":[{"tags":[],"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655375512,"creation_date":1655375512,"answer_id":72644424,"question_id":72643767,"body_markdown":"    @Test\r\n    public void testConstructor() {\r\n        try (MockedConstruction mocked1 = mockConstruction(ExternalApiServiceWsProxy.class)) {\r\n            try (MockedConstruction mocked2 = mockConstruction(ExternalApiServiceHelper.class)) {\r\n                ExternalApiClientHandler  externalApiClientHandler = new ExternalApiClientHandler(&quot;localhost&quot;);\r\n                assertNotNull(externalApiClientHandler.getExternalApiServiceHelper());\r\n                assertEquals(1, mocked1.constructed().size());\r\n                assertEquals(1, mocked2.constructed().size());\r\n            }\r\n        }\r\n    }\r\n","title":"Mocking constructor using junit 5, mockito","body":"<pre><code>@Test\npublic void testConstructor() {\n    try (MockedConstruction mocked1 = mockConstruction(ExternalApiServiceWsProxy.class)) {\n        try (MockedConstruction mocked2 = mockConstruction(ExternalApiServiceHelper.class)) {\n            ExternalApiClientHandler  externalApiClientHandler = new ExternalApiClientHandler(&quot;localhost&quot;);\n            assertNotNull(externalApiClientHandler.getExternalApiServiceHelper());\n            assertEquals(1, mocked1.constructed().size());\n            assertEquals(1, mocked2.constructed().size());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1373996"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655381515,"creation_date":1655381515,"answer_id":72645644,"question_id":72643767,"body_markdown":"Do not initialise in the constructor. \r\nFollow DI and inject the service instead. Read more about DI and writing testable code would help you to design it better.","title":"Mocking constructor using junit 5, mockito","body":"<p>Do not initialise in the constructor.\nFollow DI and inject the service instead. Read more about DI and writing testable code would help you to design it better.</p>\n"}],"owner":{"account_id":2735749,"reputation":1211,"user_id":2358472,"accept_rate":21,"display_name":"Sammy Pawar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655381515,"creation_date":1655372650,"question_id":72643767,"body_markdown":"How do I write junit 5/Mockito test case for this class. \r\n\r\n\r\n    \r\npublic class ExternalApiClientHandler {\r\n\r\n    private final ExternalApiServiceHelper externalApiServiceHelper;\r\n\r\n    @Autowired\r\n    public ExternalApiClientHandler(String soapUrl) {\r\n        ExternalApiServiceWsProxy externalApiServiceWsProxy = new ExternalApiServiceWsProxy(soapUrl);\r\n        this.externalApiServiceHelper= new ExternalApiServiceHelper (externalApiServiceWsProxy );\r\n    }\r\n\r\n    public ExternalApiServiceHelper getExternalApiServiceHelper() {\r\n        return externalApiServiceHelper;\r\n    }\r\n}\r\n\r\nI don&#39;t want to use PowerMock as no support for junit 5. How do I fit double constructors in my code using mockConstruction provided by Mockito?\r\nhttps://rieckpil.de/mock-java-constructors-and-their-object-creation-with-mockito/\r\n\r\n\r\n \r\n\r\n    class CheckoutServiceTest {\r\n          @Test\r\n          void mockObjectConstruction() {\r\n            try (MockedConstruction&lt;PaymentProcessor&gt; mocked = Mockito.mockConstruction(PaymentProcessor.class,\r\n              (mock, context) -&gt; {\r\n                // further stubbings ...\r\n                when(mock.chargeCustomer(anyString(), any(BigDecimal.class))).thenReturn(BigDecimal.TEN);\r\n              })) {\r\n        \r\n              CheckoutService cut = new CheckoutService();\r\n        \r\n              BigDecimal result = cut.purchaseProduct(&quot;MacBook Pro&quot;, &quot;42&quot;);\r\n        \r\n              assertEquals(BigDecimal.TEN, result);\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"Mocking constructor using junit 5, mockito","body":"<p>How do I write junit 5/Mockito test case for this class.</p>\n<p>public class ExternalApiClientHandler {</p>\n<pre><code>private final ExternalApiServiceHelper externalApiServiceHelper;\n\n@Autowired\npublic ExternalApiClientHandler(String soapUrl) {\n    ExternalApiServiceWsProxy externalApiServiceWsProxy = new ExternalApiServiceWsProxy(soapUrl);\n    this.externalApiServiceHelper= new ExternalApiServiceHelper (externalApiServiceWsProxy );\n}\n\npublic ExternalApiServiceHelper getExternalApiServiceHelper() {\n    return externalApiServiceHelper;\n}\n</code></pre>\n<p>}</p>\n<p>I don't want to use PowerMock as no support for junit 5. How do I fit double constructors in my code using mockConstruction provided by Mockito?\n<a href=\"https://rieckpil.de/mock-java-constructors-and-their-object-creation-with-mockito/\" rel=\"nofollow noreferrer\">https://rieckpil.de/mock-java-constructors-and-their-object-creation-with-mockito/</a></p>\n<pre><code>class CheckoutServiceTest {\n      @Test\n      void mockObjectConstruction() {\n        try (MockedConstruction&lt;PaymentProcessor&gt; mocked = Mockito.mockConstruction(PaymentProcessor.class,\n          (mock, context) -&gt; {\n            // further stubbings ...\n            when(mock.chargeCustomer(anyString(), any(BigDecimal.class))).thenReturn(BigDecimal.TEN);\n          })) {\n    \n          CheckoutService cut = new CheckoutService();\n    \n          BigDecimal result = cut.purchaseProduct(&quot;MacBook Pro&quot;, &quot;42&quot;);\n    \n          assertEquals(BigDecimal.TEN, result);\n        }\n      }\n    }\n</code></pre>\n"},{"tags":["javascript","java","jsp"],"comments":[{"owner":{"account_id":540916,"reputation":85386,"user_id":2827823,"accept_rate":89,"display_name":"Asons"},"score":0,"creation_date":1531146142,"post_id":51247656,"comment_id":89474354,"body_markdown":"You mean dynamically change with the server value? ,,, then that is not possible unless it either gets pushed to the client/browser, or the client asks for it, using e.g. an Ajax call.","body":"You mean dynamically change with the server value? ,,, then that is not possible unless it either gets pushed to the client/browser, or the client asks for it, using e.g. an Ajax call."},{"owner":{"account_id":11868306,"reputation":509,"user_id":8685240,"display_name":"j-money"},"score":0,"creation_date":1531163712,"post_id":51247656,"comment_id":89484002,"body_markdown":"the idea is yes the value will be changing as per a defined refresh rate. I am retrieving statistics about another running application such as memory used and status, and need to draw a progress bar on the screen. I am wondering then what the best way would be to go about this as it sounds like the way I originally wanted is a bit convoluted...","body":"the idea is yes the value will be changing as per a defined refresh rate. I am retrieving statistics about another running application such as memory used and status, and need to draw a progress bar on the screen. I am wondering then what the best way would be to go about this as it sounds like the way I originally wanted is a bit convoluted..."},{"owner":{"account_id":540916,"reputation":85386,"user_id":2827823,"accept_rate":89,"display_name":"Asons"},"score":0,"creation_date":1531163918,"post_id":51247656,"comment_id":89484107,"body_markdown":"Ok, so what I suggested is a couple ways, and yet another is websockets, but again, which is based on how/what your are going to do.","body":"Ok, so what I suggested is a couple ways, and yet another is websockets, but again, which is based on how/what your are going to do."}],"answers":[{"tags":[],"owner":{"account_id":9362005,"reputation":1,"user_id":6948058,"display_name":"Akash Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655381289,"creation_date":1531146313,"answer_id":51247863,"question_id":51247656,"body_markdown":"The best way to do it is to use something like:\r\n\r\n`var status = &#39;${s.status}&#39;;`","title":"Pass jsp variable to javascript","body":"<p>The best way to do it is to use something like:</p>\n<p><code>var status = '${s.status}';</code></p>\n"},{"tags":[],"owner":{"account_id":13764516,"reputation":178,"user_id":9933395,"display_name":"Quang Dat Pham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655381280,"creation_date":1531147088,"answer_id":51248111,"question_id":51247656,"body_markdown":"Another way to do it:\r\n\r\n    &lt;input type=&quot;hidden&quot; value=&quot;${s.status}&quot; id=&quot;status&quot;&gt;\r\n    &lt;script&gt;\r\n       var status = document.getElementById(&#39;status&#39;).value;\r\n    &lt;/script&gt;","title":"Pass jsp variable to javascript","body":"<p>Another way to do it:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; value=&quot;${s.status}&quot; id=&quot;status&quot;&gt;\n&lt;script&gt;\n   var status = document.getElementById('status').value;\n&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9722688,"reputation":1,"user_id":11113445,"display_name":"Mychelrenno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655381335,"creation_date":1655308473,"answer_id":72634389,"question_id":51247656,"body_markdown":"Try this:\r\n\r\n```\r\nvar test = &lt;%=request.getParameter(&quot;test&quot;)%&gt;;\r\n```","title":"Pass jsp variable to javascript","body":"<p>Try this:</p>\n<pre><code>var test = &lt;%=request.getParameter(&quot;test&quot;)%&gt;;\n</code></pre>\n"}],"owner":{"account_id":11868306,"reputation":509,"user_id":8685240,"display_name":"j-money"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51248111,"answer_count":3,"score":0,"last_activity_date":1655381335,"creation_date":1531145533,"question_id":51247656,"body_markdown":"I am curious as to how I should be passing a variable from my .jsp page to my JavaScript file. Currently I have the following...\r\n\r\n\t&lt;c:forEach items=&quot;${stats}&quot; var=&quot;s&quot; &gt;\r\n        \t&lt;script type=&quot;text/javascript&quot;&gt;\r\n        \t\tvar status = &quot;hello&quot;;\r\n        \t&lt;/script&gt;\r\n        \t\t&lt;div class=&#39;memory&#39; id=&#39;memory&#39;&gt;\r\n        \t\t\t&lt;p id=&#39;text&#39;&gt;Memory&lt;p&gt;\r\n        \t\t&lt;/div&gt;\r\n        \t\t&lt;div class=&#39;memory1&#39; id=&#39;memory1&#39;&gt;\r\n        \t\t\t&lt;p id=&#39;text&#39;&gt; Memory 2&lt;/p&gt;\r\n        \t\t&lt;/div&gt;\t\r\n        \t\t &lt;script  src=&quot;js/temp.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n        \t&lt;/c:forEach&gt;\r\n\r\nThis works just fine for `alert(status);` However I am wondering how I should go about passing the field of `{$s.status}` to the javascript file as changing \r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        var status = {$s.status};\r\n    &lt;/script&gt;\r\n\r\ndoes not work","title":"Pass jsp variable to javascript","body":"<p>I am curious as to how I should be passing a variable from my .jsp page to my JavaScript file. Currently I have the following...</p>\n\n<pre><code>&lt;c:forEach items=\"${stats}\" var=\"s\" &gt;\n        &lt;script type=\"text/javascript\"&gt;\n            var status = \"hello\";\n        &lt;/script&gt;\n            &lt;div class='memory' id='memory'&gt;\n                &lt;p id='text'&gt;Memory&lt;p&gt;\n            &lt;/div&gt;\n            &lt;div class='memory1' id='memory1'&gt;\n                &lt;p id='text'&gt; Memory 2&lt;/p&gt;\n            &lt;/div&gt;  \n             &lt;script  src=\"js/temp.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n        &lt;/c:forEach&gt;\n</code></pre>\n\n<p>This works just fine for <code>alert(status);</code> However I am wondering how I should go about passing the field of <code>{$s.status}</code> to the javascript file as changing </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var status = {$s.status};\n&lt;/script&gt;\n</code></pre>\n\n<p>does not work</p>\n"},{"tags":["java","spring","spring-boot","postman"],"answers":[{"tags":[],"owner":{"account_id":24472446,"reputation":43,"user_id":18391983,"display_name":"DarkBot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655380345,"creation_date":1655380345,"answer_id":72645413,"question_id":72645303,"body_markdown":"In postman go to Authorization &gt; API key. enter your credentials and it should work ","title":"how to generate api-key for postman in rest controller spring boot","body":"<p>In postman go to Authorization &gt; API key. enter your credentials and it should work</p>\n"}],"owner":{"account_id":14331277,"reputation":71,"user_id":10351954,"display_name":"J. Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655380944,"creation_date":1655379901,"question_id":72645303,"body_markdown":"I have this `spring boot` build. I want to consume `rest controller` `@GetMapping` API.\r\n\r\nI know the credentials. I can open its dashboard using login page.\r\n\r\nBut I am not able to consume `Rest apis` from postman due authorization setting.\r\n\r\nBelow is the `REST api` that I want to consume in `postman client`\r\n```java\r\n      @GetMapping(&quot;/students&quot;)\r\n        @ApiOperation(value = &quot;&quot;, authorizations = {@Authorization(value = &quot;apiKey&quot;)})\r\n        public Response getAllStudents() {\r\n            return Response\r\n                    .ok()\r\n                    .setPayload(studentService.getStudents());\r\n        }\r\n```\r\nAs I mentioned I know the username/password. How can I generate this `apiKey` field and configure in my `postman` window.","title":"how to generate api-key for postman in rest controller spring boot","body":"<p>I have this <code>spring boot</code> build. I want to consume <code>rest controller</code> <code>@GetMapping</code> API.</p>\n<p>I know the credentials. I can open its dashboard using login page.</p>\n<p>But I am not able to consume <code>Rest apis</code> from postman due authorization setting.</p>\n<p>Below is the <code>REST api</code> that I want to consume in <code>postman client</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>      @GetMapping(&quot;/students&quot;)\n        @ApiOperation(value = &quot;&quot;, authorizations = {@Authorization(value = &quot;apiKey&quot;)})\n        public Response getAllStudents() {\n            return Response\n                    .ok()\n                    .setPayload(studentService.getStudents());\n        }\n</code></pre>\n<p>As I mentioned I know the username/password. How can I generate this <code>apiKey</code> field and configure in my <code>postman</code> window.</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655378086,"post_id":72644899,"comment_id":128320912,"body_markdown":"Where do you instantiate `MyThread`s?","body":"Where do you instantiate <code>MyThread</code>s?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1655378318,"post_id":72644899,"comment_id":128321002,"body_markdown":"`startFlag` should be volatile otherwise java is not obliged to read your `startFlag` field more than once. Synchronized code makes Java re-read your `startFlag`. Also `CollisionSolver.solve` might be crashing out the thread.","body":"<code>startFlag</code> should be volatile otherwise java is not obliged to read your <code>startFlag</code> field more than once. Synchronized code makes Java re-read your <code>startFlag</code>. Also <code>CollisionSolver.solve</code> might be crashing out the thread."}],"owner":{"account_id":25570906,"reputation":1,"user_id":19351281,"display_name":"Kim Andromeda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655379713,"answer_count":0,"score":0,"last_activity_date":1655380806,"creation_date":1655377923,"question_id":72644899,"body_markdown":"Yesterday found a wierd beahaviour while trying to implement daemon threads. If I am not using print() or calling synchronized() inside thread seems they don&#39;t start at all.\r\nCode of a problematic class is below, place with a &quot;fix&quot; is marked with &quot;//////////&quot;:\r\n```java\r\npackage krio.thread;\r\n\r\nimport krio.buffer.GetNeighbours;\r\nimport krio.world.BufferedParticle;\r\nimport krio.world.CollisionSolver;\r\nimport krio.world.World;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\n// wrapper for CollisionSolver\r\npublic class MyThread {\r\n    public boolean startFlag;\r\n    private Thread thread;\r\n\r\n    // public ================================================\r\n    public MyThread(HashMap&lt;Integer, BufferedParticle&gt; particles, GetNeighbours buffer, List&lt;Integer&gt; idSortedList) {\r\n        thread = new Thread(() -&gt; launch(particles, buffer, idSortedList));\r\n        thread.start();\r\n    }\r\n    // private ===============================================\r\n    private void launch(HashMap&lt;Integer, BufferedParticle&gt; particles, GetNeighbours buffer, List&lt;Integer&gt; idSortedList) {\r\n        while (true) {\r\n            ///////////////////////////////////////////////////////\r\n            // idk why it is not working without this\r\n            System.out.checkError();\r\n\r\n            //System.out.print(&quot;+&quot;);                // or this\r\n\r\n            //int a = 0;                            //\r\n            //synchronized ((Object) a) { a = 0; }  // or this\r\n            ///////////////////////////////////////////////////////\r\n\r\n            if (startFlag) {\r\n                CollisionSolver.solve(particles, buffer, idSortedList);\r\n                startFlag = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nCalling it like:\r\n\r\n```java\r\npackage krio.thread;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MyPoolLauncher {\r\n    private ArrayList&lt;MyThread&gt; pool;\r\n\r\n    // public ================================================\r\n    public MyPoolLauncher(ArrayList&lt;MyThread&gt; thrList) {\r\n        pool = thrList;\r\n    }\r\n\r\n    public void launch() {\r\n        for (MyThread thread : pool) thread.startFlag = true;\r\n    }\r\n\r\n    public boolean isReady() {\r\n        boolean allReady = true;\r\n        for (MyThread thread : pool) allReady = allReady &amp;&amp; !thread.startFlag;\r\n        return allReady;\r\n    }\r\n}\r\n```\r\n\r\n**So the question:** \r\nCan someone please explain why this happens and how to prevent those kind of situations in future? I assume I made dumb mistake somewhere, but I can&#39;t find it.\r\n\r\n*I am new to java and will appreciate any advice, thanks.*\r\n\r\n**Solution:** \r\n\r\nuse\r\n\r\n```java\r\npublic volatile boolean startFlag;\r\n```","title":"Why thread not start without internal print or synchronized call?","body":"<p>Yesterday found a wierd beahaviour while trying to implement daemon threads. If I am not using print() or calling synchronized() inside thread seems they don't start at all.\nCode of a problematic class is below, place with a &quot;fix&quot; is marked with &quot;//////////&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package krio.thread;\n\nimport krio.buffer.GetNeighbours;\nimport krio.world.BufferedParticle;\nimport krio.world.CollisionSolver;\nimport krio.world.World;\n\nimport java.util.HashMap;\nimport java.util.List;\n\n// wrapper for CollisionSolver\npublic class MyThread {\n    public boolean startFlag;\n    private Thread thread;\n\n    // public ================================================\n    public MyThread(HashMap&lt;Integer, BufferedParticle&gt; particles, GetNeighbours buffer, List&lt;Integer&gt; idSortedList) {\n        thread = new Thread(() -&gt; launch(particles, buffer, idSortedList));\n        thread.start();\n    }\n    // private ===============================================\n    private void launch(HashMap&lt;Integer, BufferedParticle&gt; particles, GetNeighbours buffer, List&lt;Integer&gt; idSortedList) {\n        while (true) {\n            ///////////////////////////////////////////////////////\n            // idk why it is not working without this\n            System.out.checkError();\n\n            //System.out.print(&quot;+&quot;);                // or this\n\n            //int a = 0;                            //\n            //synchronized ((Object) a) { a = 0; }  // or this\n            ///////////////////////////////////////////////////////\n\n            if (startFlag) {\n                CollisionSolver.solve(particles, buffer, idSortedList);\n                startFlag = false;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Calling it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package krio.thread;\n\nimport java.util.ArrayList;\n\npublic class MyPoolLauncher {\n    private ArrayList&lt;MyThread&gt; pool;\n\n    // public ================================================\n    public MyPoolLauncher(ArrayList&lt;MyThread&gt; thrList) {\n        pool = thrList;\n    }\n\n    public void launch() {\n        for (MyThread thread : pool) thread.startFlag = true;\n    }\n\n    public boolean isReady() {\n        boolean allReady = true;\n        for (MyThread thread : pool) allReady = allReady &amp;&amp; !thread.startFlag;\n        return allReady;\n    }\n}\n</code></pre>\n<p><strong>So the question:</strong>\nCan someone please explain why this happens and how to prevent those kind of situations in future? I assume I made dumb mistake somewhere, but I can't find it.</p>\n<p><em>I am new to java and will appreciate any advice, thanks.</em></p>\n<p><strong>Solution:</strong></p>\n<p>use</p>\n<pre class=\"lang-java prettyprint-override\"><code>public volatile boolean startFlag;\n</code></pre>\n"},{"tags":["java","android","arraylist","stringbuilder"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1655379870,"post_id":72645234,"comment_id":128321512,"body_markdown":"Your code can combine multiple Strings into one, but just imagine what happens if the String contains a `\\n` character? If you later try to parse the data you are unable to reconstruct the original strings as you don&#39;t know if the `\\n` is a separator character or a character of the string. Therefore I strings recommend not to implement such an enoding7decoding yourself unless you are 100% sure that it is impossible that your separator char is contained in the strings (e.g. by applying a whitelist regex scan on them and reject everything if it does not match).","body":"Your code can combine multiple Strings into one, but just imagine what happens if the String contains a <code>\\n</code> character? If you later try to parse the data you are unable to reconstruct the original strings as you don&#39;t know if the <code>\\n</code> is a separator character or a character of the string. Therefore I strings recommend not to implement such an enoding7decoding yourself unless you are 100% sure that it is impossible that your separator char is contained in the strings (e.g. by applying a whitelist regex scan on them and reject everything if it does not match)."},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1655382388,"post_id":72645234,"comment_id":128322350,"body_markdown":"Thank you, got your point , but what if I set the EditText MaxLine to 1 line, does this fix the problem? In case if the user break the line. Is this the only solution?","body":"Thank you, got your point , but what if I set the EditText MaxLine to 1 line, does this fix the problem? In case if the user break the line. Is this the only solution?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1655396984,"post_id":72645234,"comment_id":128328050,"body_markdown":"I would not count o it. So you have three possibilities: test each user input with a regex and reject it when it contains an `\\n`, filter out all `\\n` characters of all input strings or as third possibility escape all `\\n` characters.","body":"I would not count o it. So you have three possibilities: test each user input with a regex and reject it when it contains an <code>\\n</code>, filter out all <code>\\n</code> characters of all input strings or as third possibility escape all <code>\\n</code> characters."},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1655399746,"post_id":72645234,"comment_id":128328923,"body_markdown":"Glad you helped me to know the posibilites regarding reconstructing the origional Sring.&#128077;","body":"Glad you helped me to know the posibilites regarding reconstructing the origional Sring.👍"}],"answers":[{"tags":[],"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655380270,"creation_date":1655379885,"answer_id":72645299,"question_id":72645234,"body_markdown":"If you want to split the `String` at the line breaks, you can try this:\r\n\r\n```java\r\nString[] arraySplit = textArray.split(&quot;\\n&quot;);\r\nArrayList&lt;String&gt; newList = new ArrayList&lt;&gt;(Arrays.asList(arraySplit));\r\n```\r\n\r\n## *Edit*\r\nBe aware of the comment from @Robert, since this will split the given `String` on **every** line break char.\r\n","title":"How to add items back to an ArrayList after appending to StringBuilder?","body":"<p>If you want to split the <code>String</code> at the line breaks, you can try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] arraySplit = textArray.split(&quot;\\n&quot;);\nArrayList&lt;String&gt; newList = new ArrayList&lt;&gt;(Arrays.asList(arraySplit));\n</code></pre>\n<h2><em>Edit</em></h2>\n<p>Be aware of the comment from @Robert, since this will split the given <code>String</code> on <strong>every</strong> line break char.</p>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72645299,"answer_count":1,"score":0,"last_activity_date":1655380754,"creation_date":1655379563,"question_id":72645234,"body_markdown":"```java\r\nArrayList&lt;String&gt; itemslist = new ArrayList&lt;&gt;();\r\nStringBuilder stringBuilder = new StringBuilder();\r\nfor (String item : itemslist) {\r\n     stringBuilder.append(item);\r\n     stringBuilder.append(&quot;\\n&quot;);\r\n}\r\nString textArray = stringBuilder.toString();\r\n```\r\n\r\nWhat is the way to create an ArrayList from textArray again? Because I add the textArray to SQLite since SQLite does not accept an Array, but in this way I can add the items to database, but don&#39;t know how to make an array again when I retrieve them from SQLite.\r\n\r\n\r\n","title":"How to add items back to an ArrayList after appending to StringBuilder?","body":"<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; itemslist = new ArrayList&lt;&gt;();\nStringBuilder stringBuilder = new StringBuilder();\nfor (String item : itemslist) {\n     stringBuilder.append(item);\n     stringBuilder.append(&quot;\\n&quot;);\n}\nString textArray = stringBuilder.toString();\n</code></pre>\n<p>What is the way to create an ArrayList from textArray again? Because I add the textArray to SQLite since SQLite does not accept an Array, but in this way I can add the items to database, but don't know how to make an array again when I retrieve them from SQLite.</p>\n"},{"tags":["java","android","radio-button","radio-group"],"answers":[{"tags":[],"owner":{"account_id":18098441,"reputation":1569,"user_id":13156516,"display_name":"Abdallah A. Odeh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654925772,"creation_date":1654925772,"answer_id":72581988,"question_id":72581958,"body_markdown":"The layout the has the id `@+id/answer1` is not a `RadioGroup` it&#39;s `GravityRadioGroup`  \r\nDoes your class `GravityRadioGroup` extends `RadioGroup`?  \r\nif not, you can solve this by:\r\n\r\n    ImageView pc;\r\n    /*RadioGroup answer1; --&gt; */ GravityRadioGroup answer1;\r\n    TextView result;\r\n    Button enter;","title":"i am trying to make rock paper scissors game in android , and there a error i can not solve , error is coming in java","body":"<p>The layout the has the id <code>@+id/answer1</code> is not a <code>RadioGroup</code> it's <code>GravityRadioGroup</code><br />\nDoes your class <code>GravityRadioGroup</code> extends <code>RadioGroup</code>?<br />\nif not, you can solve this by:</p>\n<pre><code>ImageView pc;\n/*RadioGroup answer1; --&gt; */ GravityRadioGroup answer1;\nTextView result;\nButton enter;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654925904,"creation_date":1654925904,"answer_id":72581996,"question_id":72581958,"body_markdown":"Chnage `RadioGroup answer1;` to `GravityRadioGroup answer1;`.","title":"i am trying to make rock paper scissors game in android , and there a error i can not solve , error is coming in java","body":"<p>Chnage <code>RadioGroup answer1;</code> to <code>GravityRadioGroup answer1;</code>.</p>\n"}],"owner":{"account_id":23070167,"reputation":3,"user_id":17184055,"display_name":"ssojitra62"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72581988,"answer_count":2,"score":0,"last_activity_date":1655380409,"creation_date":1654925374,"question_id":72581958,"body_markdown":"\r\nI am making rock paper scissors app in android studio. I am getting the error in &quot;answer1 = findViewById(R.id.answer1);&quot;. I have used dependency for git for radiogroup.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//////////////////////////////////////////////////////////////////////////////////////////////\r\n    xml code\r\n\r\n     &lt;xyz.teamgravity.imageradiobutton.GravityRadioGroup\r\n                android:id=&quot;@+id/answer1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;xyz.teamgravity.imageradiobutton.GravityImageRadioButton\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:padding=&quot;20dp&quot;\r\n                    app:girbImage=&quot;@drawable/rock&quot;\r\n                    app:girbPressedTextColor=&quot;@color/white&quot;\r\n                    app:girbText=&quot;rock&quot;\r\n                    app:girbUnpressedTextColor=&quot;?attr/colorPrimary&quot;\r\n                    android:clickable=&quot;true&quot;/&gt;\r\n\r\n\r\n                &lt;xyz.teamgravity.imageradiobutton.GravityImageRadioButton\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:padding=&quot;20dp&quot;\r\n                    app:girbImage=&quot;@drawable/paper&quot;\r\n                    app:girbPressedTextColor=&quot;@color/white&quot;\r\n                    app:girbText=&quot;paper&quot;\r\n                    app:girbUnpressedTextColor=&quot;?attr/colorPrimary&quot; /&gt;\r\n\r\n\r\n\r\n                &lt;xyz.teamgravity.imageradiobutton.GravityImageRadioButton\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:padding=&quot;20dp&quot;\r\n                    app:girbImage=&quot;@drawable/scissors&quot;\r\n                    app:girbPressedTextColor=&quot;@color/white&quot;\r\n                    app:girbText=&quot;scissors&quot;\r\n                    app:girbUnpressedTextColor=&quot;?attr/colorPrimary&quot; /&gt;\r\n\r\n            &lt;/xyz.teamgravity.imageradiobutton.GravityRadioGroup&gt;\r\n\r\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////java code\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    ImageView pc;\r\n    RadioGroup answer1;\r\n    TextView result;\r\n    Button enter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        pc = findViewById(R.id.pc);\r\n        result = findViewById(R.id.result);\r\n        answer1 = findViewById(R.id.answer1);\r\n        enter = findViewById(R.id.enter);\r\n\r\n\r\n\r\n\r\n        enter.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                roll();\r\n\r\n                int answer = answer1.getCheckedRadioButtonId();\r\n                RadioButton radiobutton1 = findViewById(answer);\r\n                String radio = radiobutton1.getText().toString();\r\n                result.setText(&quot;&quot;+radio);\r\n\r\n            }\r\n\r\n            private  void roll(){\r\n\r\n                int num = (int)(Math.random() * 3 + 1);\r\n\r\n                int answer = answer1.getCheckedRadioButtonId();\r\n                RadioButton radiobutton1 = findViewById(answer);\r\n                String radio = radiobutton1.getText().toString();\r\n                result.setText(&quot;&quot;+radio);\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n        });\r\n\r\n    }\r\n}\r\n\r\n\r\n///////////////////////////////////////////////////////////////////////////////error\r\n\r\n    Caused by: java.lang.ClassCastException: xyz.teamgravity.imageradiobutton.GravityRadioGroup cannot be cast to android.widget.RadioGroup\r\n        at com.example.rockpapersizer.MainActivity.onCreate(MainActivity.java:28)\r\n        at android.app.Activity.performCreate(Activity.java:7893)\r\n        at android.app.Activity.performCreate(Activity.java:7880)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\r\n    \r\n\r\n\r\n\r\n\r\n","title":"i am trying to make rock paper scissors game in android , and there a error i can not solve , error is coming in java","body":"<p>I am making rock paper scissors app in android studio. I am getting the error in &quot;answer1 = findViewById(R.id.answer1);&quot;. I have used dependency for git for radiogroup.</p>\n<p>//////////////////////////////////////////////////////////////////////////////////////////////\nxml code</p>\n<pre><code> &lt;xyz.teamgravity.imageradiobutton.GravityRadioGroup\n            android:id=&quot;@+id/answer1&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;xyz.teamgravity.imageradiobutton.GravityImageRadioButton\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:padding=&quot;20dp&quot;\n                app:girbImage=&quot;@drawable/rock&quot;\n                app:girbPressedTextColor=&quot;@color/white&quot;\n                app:girbText=&quot;rock&quot;\n                app:girbUnpressedTextColor=&quot;?attr/colorPrimary&quot;\n                android:clickable=&quot;true&quot;/&gt;\n\n\n            &lt;xyz.teamgravity.imageradiobutton.GravityImageRadioButton\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:padding=&quot;20dp&quot;\n                app:girbImage=&quot;@drawable/paper&quot;\n                app:girbPressedTextColor=&quot;@color/white&quot;\n                app:girbText=&quot;paper&quot;\n                app:girbUnpressedTextColor=&quot;?attr/colorPrimary&quot; /&gt;\n\n\n\n            &lt;xyz.teamgravity.imageradiobutton.GravityImageRadioButton\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:padding=&quot;20dp&quot;\n                app:girbImage=&quot;@drawable/scissors&quot;\n                app:girbPressedTextColor=&quot;@color/white&quot;\n                app:girbText=&quot;scissors&quot;\n                app:girbUnpressedTextColor=&quot;?attr/colorPrimary&quot; /&gt;\n\n        &lt;/xyz.teamgravity.imageradiobutton.GravityRadioGroup&gt;\n</code></pre>\n<p>////////////////////////////////////////////////////////////////////////////////////////java code</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nImageView pc;\nRadioGroup answer1;\nTextView result;\nButton enter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    pc = findViewById(R.id.pc);\n    result = findViewById(R.id.result);\n    answer1 = findViewById(R.id.answer1);\n    enter = findViewById(R.id.enter);\n\n\n\n\n    enter.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            roll();\n\n            int answer = answer1.getCheckedRadioButtonId();\n            RadioButton radiobutton1 = findViewById(answer);\n            String radio = radiobutton1.getText().toString();\n            result.setText(&quot;&quot;+radio);\n\n        }\n\n        private  void roll(){\n\n            int num = (int)(Math.random() * 3 + 1);\n\n            int answer = answer1.getCheckedRadioButtonId();\n            RadioButton radiobutton1 = findViewById(answer);\n            String radio = radiobutton1.getText().toString();\n            result.setText(&quot;&quot;+radio);\n\n\n\n\n        }\n\n\n    });\n\n}\n</code></pre>\n<p>}</p>\n<p>///////////////////////////////////////////////////////////////////////////////error</p>\n<pre><code>Caused by: java.lang.ClassCastException: xyz.teamgravity.imageradiobutton.GravityRadioGroup cannot be cast to android.widget.RadioGroup\n    at com.example.rockpapersizer.MainActivity.onCreate(MainActivity.java:28)\n    at android.app.Activity.performCreate(Activity.java:7893)\n    at android.app.Activity.performCreate(Activity.java:7880)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\n</code></pre>\n"},{"tags":["java","spring","log4j2"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1622725479,"post_id":67821772,"comment_id":119878086,"body_markdown":"The ref should be to `MyCustomAppender`.","body":"The ref should be to <code>MyCustomAppender</code>."},{"owner":{"account_id":5608214,"reputation":39,"user_id":4441964,"display_name":"deadcode"},"score":0,"creation_date":1622725715,"post_id":67821772,"comment_id":119878210,"body_markdown":"It is to the name of MyCustomerAppender only","body":"It is to the name of MyCustomerAppender only"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1622729051,"post_id":67821772,"comment_id":119879917,"body_markdown":"The AppenderRef needs a name property of the appender you created in the appenders section. How is your custom appender annotated? There are multiple docs/blogs detailing this process.","body":"The AppenderRef needs a name property of the appender you created in the appenders section. How is your custom appender annotated? There are multiple docs/blogs detailing this process."},{"owner":{"account_id":5608214,"reputation":39,"user_id":4441964,"display_name":"deadcode"},"score":0,"creation_date":1622783697,"post_id":67821772,"comment_id":119895490,"body_markdown":"Actually using same configuration from inside the jar is working fine. but if I include the jar in another project then log4j.xml of that project is not able to use the appender defined in jar file.","body":"Actually using same configuration from inside the jar is working fine. but if I include the jar in another project then log4j.xml of that project is not able to use the appender defined in jar file."}],"answers":[{"tags":[],"owner":{"account_id":94068,"reputation":1538,"user_id":257036,"accept_rate":84,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655380075,"creation_date":1655380075,"answer_id":72645346,"question_id":67821772,"body_markdown":"Did you try adding the &quot;packages&quot; attribute to the Configuration element?\r\n\r\nI am having the same problem loading a custom appender from an external jar file. Curious if you ever figured it out. I&#39;m running on Amazon Corretto on EC2 and wonder if that is related. It works when I test locally. ","title":"Unable to use custom appender defined in external jar","body":"<p>Did you try adding the &quot;packages&quot; attribute to the Configuration element?</p>\n<p>I am having the same problem loading a custom appender from an external jar file. Curious if you ever figured it out. I'm running on Amazon Corretto on EC2 and wonder if that is related. It works when I test locally.</p>\n"}],"owner":{"account_id":5608214,"reputation":39,"user_id":4441964,"display_name":"deadcode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655380075,"creation_date":1622724495,"question_id":67821772,"body_markdown":"I have created a small project which contains an Appender named `MyCustomAppender`. I have created a jar for this project and uploaded it on local repository server.\r\n\r\nIn another project, I am using the jar created above by putting the dependency in `pom.xml` of this project. This project has a `log4j2.xml` file where all logger configurations reside.\r\nIn this `log4j2.xml`, I am trying to use `MyCustomAppender` but it shows following error during server start-up.\r\n\r\n```\r\n2021-06-03 12:10:25,473 RMI TCP Connection(2)-127.0.0.1 ERROR Error processing element MyCustomAppender ([Appenders: null]): CLASS_NOT_FOUND\r\n2021-06-03 12:10:25,802 RMI TCP Connection(2)-127.0.0.1 ERROR Unable to locate appender &quot;customAppender&quot; for logger config &quot;CustomLogger&quot;\r\n\r\n```\r\n\r\n`log4j2.xml` file details:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;error&quot; monitorInterval=&quot;30&quot; &gt;\r\n    &lt;Appenders&gt;\r\n    \t.\r\n\t\t.\r\n\t\t&lt;MyCustomAppender name=&quot;customAppender&quot; &gt;\r\n            &lt;PatternLayout pattern=&quot;serial no: %sn |  Date: %d |  level:%level | class name:%logger | method name:%M() |  line number:%L |  Location: %l | message:%m%n&quot; /&gt;\r\n        &lt;/MyCustomAppender&gt;\r\n        .\r\n        .\r\n    &lt;/Appenders&gt;\r\n \t&lt;Loggers&gt;\r\n        .\r\n        .\r\n        &lt;Logger name=&quot;CustomLogger&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;customAppender&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        .\r\n        .\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nPlease direct on how to proceed.\r\n\r\nP.S. I am able to access the appender class from inside the other project (in which jar is included).","title":"Unable to use custom appender defined in external jar","body":"<p>I have created a small project which contains an Appender named <code>MyCustomAppender</code>. I have created a jar for this project and uploaded it on local repository server.</p>\n<p>In another project, I am using the jar created above by putting the dependency in <code>pom.xml</code> of this project. This project has a <code>log4j2.xml</code> file where all logger configurations reside.\nIn this <code>log4j2.xml</code>, I am trying to use <code>MyCustomAppender</code> but it shows following error during server start-up.</p>\n<pre><code>2021-06-03 12:10:25,473 RMI TCP Connection(2)-127.0.0.1 ERROR Error processing element MyCustomAppender ([Appenders: null]): CLASS_NOT_FOUND\n2021-06-03 12:10:25,802 RMI TCP Connection(2)-127.0.0.1 ERROR Unable to locate appender &quot;customAppender&quot; for logger config &quot;CustomLogger&quot;\n\n</code></pre>\n<p><code>log4j2.xml</code> file details:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;error&quot; monitorInterval=&quot;30&quot; &gt;\n    &lt;Appenders&gt;\n        .\n        .\n        &lt;MyCustomAppender name=&quot;customAppender&quot; &gt;\n            &lt;PatternLayout pattern=&quot;serial no: %sn |  Date: %d |  level:%level | class name:%logger | method name:%M() |  line number:%L |  Location: %l | message:%m%n&quot; /&gt;\n        &lt;/MyCustomAppender&gt;\n        .\n        .\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        .\n        .\n        &lt;Logger name=&quot;CustomLogger&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;customAppender&quot;/&gt;\n        &lt;/Logger&gt;\n        .\n        .\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Please direct on how to proceed.</p>\n<p>P.S. I am able to access the appender class from inside the other project (in which jar is included).</p>\n"},{"tags":["java","apache","ant"],"comments":[{"owner":{"account_id":3713175,"reputation":2875,"user_id":3089950,"accept_rate":0,"display_name":"IRSHAD"},"score":0,"creation_date":1533882679,"post_id":697006,"comment_id":90518177,"body_markdown":"Simple and clean installation check here https://stackoverflow.com/a/51780186/3089950","body":"Simple and clean installation check here <a href=\"https://stackoverflow.com/a/51780186/3089950\">stackoverflow.com/a/51780186/3089950</a>"}],"answers":[{"tags":[],"owner":{"account_id":21298,"reputation":381,"user_id":51633,"accept_rate":62,"display_name":"yottamoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1238417132,"creation_date":1238417132,"answer_id":697037,"question_id":697006,"body_markdown":"Sound&#39;s like you&#39;re using Linux. If so, the easiest way would be to use a package management frontend like Synaptic and install ant in there.\r\n","title":"How to install Apache Ant?","body":"<p>Sound's like you're using Linux. If so, the easiest way would be to use a package management frontend like Synaptic and install ant in there.</p>\n"},{"tags":[],"owner":{"account_id":28750,"reputation":13964,"user_id":77087,"accept_rate":94,"display_name":"Prabhu R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238418188,"creation_date":1238418188,"answer_id":697100,"question_id":697006,"body_markdown":"the installation of ant and smslib is pretty simple. All you need to do is extract it to some directory. Export the path in case of Linux or set the ANT_HOME\\bin to the PATH variable to access it from any directory in the shell. ANT_HOME is the root directory where ant is installed. \r\n\r\nFor SMSLib Download the zip file and this [link][1] should guide you on a step by step basis\r\n\r\n\r\n  [1]: http://blog.dagitab.com/index.php?blog=1&amp;p=38&amp;more=1&amp;c=1&amp;tb=1&amp;pb=1","title":"How to install Apache Ant?","body":"<p>the installation of ant and smslib is pretty simple. All you need to do is extract it to some directory. Export the path in case of Linux or set the ANT_HOME\\bin to the PATH variable to access it from any directory in the shell. ANT_HOME is the root directory where ant is installed. </p>\n\n<p>For SMSLib Download the zip file and this <a href=\"http://blog.dagitab.com/index.php?blog=1&amp;p=38&amp;more=1&amp;c=1&amp;tb=1&amp;pb=1\" rel=\"nofollow noreferrer\">link</a> should guide you on a step by step basis</p>\n"},{"tags":[],"owner":{"account_id":225220,"reputation":1038,"user_id":485583,"accept_rate":25,"display_name":"XZVASFD"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1298405513,"creation_date":1298405513,"answer_id":5083368,"question_id":697006,"body_markdown":"If you&#39;re on Windows, you can use [WinAnt][1], a Windows installer for Apache Ant that I made.\r\n\r\n\r\n  [1]: http://code.google.com/p/winant/","title":"How to install Apache Ant?","body":"<p>If you're on Windows, you can use <a href=\"http://code.google.com/p/winant/\" rel=\"noreferrer\">WinAnt</a>, a Windows installer for Apache Ant that I made.</p>\n"},{"tags":[],"owner":{"account_id":994525,"reputation":4884,"user_id":1010832,"accept_rate":82,"display_name":"salman khalid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322028244,"creation_date":1322028244,"answer_id":8237955,"question_id":697006,"body_markdown":"Its very simple just install Apache ant installer for windows give on [link][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/winant/ and all is set.No need to set Environment variables.It will automatically do every thing for you.","title":"How to install Apache Ant?","body":"<p>Its very simple just install Apache ant installer for windows give on [link][1]</p>\n\n<p>[1]: <a href=\"http://code.google.com/p/winant/\" rel=\"nofollow\">http://code.google.com/p/winant/</a> and all is set.No need to set Environment variables.It will automatically do every thing for you.</p>\n"},{"tags":[],"owner":{"account_id":1999546,"reputation":322,"user_id":1790916,"accept_rate":20,"display_name":"spr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361187011,"creation_date":1361187011,"answer_id":14935260,"question_id":697006,"body_markdown":"1) Download &quot;apache-ant-1.8.4-bin.zip&quot; from &quot;http://ant.apache.org/bindownload.cgi&quot;\r\n\r\n2) Unzip it and copy &quot;apache-ant-1.8.4&quot; in &quot;c:\\Program Files&quot;\r\n\r\n3) Right Click &quot;My Computer&quot; -&gt; properties -&gt; Advanced -&gt; Environment variables -&gt; Edit variable &quot;PATH&quot; and append value &quot;C:\\Program Files\\Java\\jdk 1.7.0_04\\bin;C:\\Program Files\\apache-ant-1.8.4\\bin&quot; and Click &quot;OK&quot;.\r\n\r\n4) open cmd and type &quot;ant&quot; for checking.","title":"How to install Apache Ant?","body":"<p>1) Download \"apache-ant-1.8.4-bin.zip\" from \"<a href=\"http://ant.apache.org/bindownload.cgi\" rel=\"nofollow\">http://ant.apache.org/bindownload.cgi</a>\"</p>\n\n<p>2) Unzip it and copy \"apache-ant-1.8.4\" in \"c:\\Program Files\"</p>\n\n<p>3) Right Click \"My Computer\" -> properties -> Advanced -> Environment variables -> Edit variable \"PATH\" and append value \"C:\\Program Files\\Java\\jdk 1.7.0_04\\bin;C:\\Program Files\\apache-ant-1.8.4\\bin\" and Click \"OK\".</p>\n\n<p>4) open cmd and type \"ant\" for checking.</p>\n"},{"tags":[],"owner":{"account_id":2486976,"reputation":77,"user_id":2165238,"display_name":"Sandeep Gouda"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1369661661,"creation_date":1369660105,"answer_id":16773960,"question_id":697006,"body_markdown":"**Step 1:** Download and install\r\n\r\nDownload Ant. Go to the [Ant homepage][1] and click to download the binary. Because we’re talking about Windows, choose to download the ZIP file rather than any of the others. Scroll down to where it says “Current release of Ant” and click on the ZIP filename.\r\n\r\nOnce downloaded, unzip the file. You’ll now need to choose a permanent home for Ant on the computer. `c:\\java\\ant` is often used, but you can put it wherever you want.\r\n\r\n**Step 2:** Set environment variables\r\n\r\n*For Windows XP:* To set environment variables on Windows XP, right click on My Computer and select Properties. Then go to the Advanced tab and click the Environment Variables button at the bottom.\r\n\r\n*For Windows 7:* To set environment variables on Windows 7, right click on Computer and select Properties. Click on Advanced System Settings and click the Environment Variables button at the bottom.\r\nThe only environment variable that you absolutely need is JAVA_HOME, which tells Ant the location of your JRE.\r\n\r\nIf you’ve installed the JDK, this is likely \r\n\r\n    c:\\Program Files\\Java\\jdk1.x.x\\jre\r\n\r\non Windows XP and\r\n\r\n    c:\\Program Files(x86)\\Java\\jdk1.x.x\\jre\r\n\r\non Windows 7. You’ll note that both have spaces in their paths, which causes a problem. You need to use the mangled name[3] instead of the complete name. So for Windows XP, use C:\\Progra~1\\Java\\jdk1.x.x\\jre and for Windows 7, use C:\\Progra~2\\Java\\jdk1.6.0_26\\jre if it’s installed in the Program Files(x86) folder \r\n\r\nThat alone is enough to get Ant to work, but for convenience, it’s a good idea to add the Ant binary path to the PATH variable.\r\n\r\n This variable is a semicolon-delimited list of directories to search for executables. To be able to run ant in any directory, Windows needs to know both the location for the ant binary and for the java binary. You’ll need to add both of these to the end of the PATH variable. For Windows XP, you’ll likely add something like this:\r\n\r\n    ;c:\\java\\ant\\bin;C:\\Progra~1\\Java\\jdk1.x.x\\jre\\bin\r\n\r\nFor Windows 7, it will look something like this:\r\n\r\n    ;c:\\java\\ant\\bin;C:\\Progra~2\\Java\\jdk1.x.x\\jre\\bin\r\n\r\n**Done**\r\n\r\nOnce you’ve done that and applied the changes, you’ll need to open a new command prompt to see if the variables are set properly. You should be able to simply run ant and see something like this:\r\n\r\n    Buildfile: build.xml does not exist!\r\n    Build failed\r\n\r\nThat means Ant is installed properly and is looking for a build.xml file.\r\n\r\n*Source: http://www.nczonline.net/blog/2012/04/12/how-to-install-apache-ant-on-windows/*\r\n\r\n\r\n  [1]: http://ant.apache.org","title":"How to install Apache Ant?","body":"<p><strong>Step 1:</strong> Download and install</p>\n\n<p>Download Ant. Go to the <a href=\"http://ant.apache.org\">Ant homepage</a> and click to download the binary. Because we’re talking about Windows, choose to download the ZIP file rather than any of the others. Scroll down to where it says “Current release of Ant” and click on the ZIP filename.</p>\n\n<p>Once downloaded, unzip the file. You’ll now need to choose a permanent home for Ant on the computer. <code>c:\\java\\ant</code> is often used, but you can put it wherever you want.</p>\n\n<p><strong>Step 2:</strong> Set environment variables</p>\n\n<p><em>For Windows XP:</em> To set environment variables on Windows XP, right click on My Computer and select Properties. Then go to the Advanced tab and click the Environment Variables button at the bottom.</p>\n\n<p><em>For Windows 7:</em> To set environment variables on Windows 7, right click on Computer and select Properties. Click on Advanced System Settings and click the Environment Variables button at the bottom.\nThe only environment variable that you absolutely need is JAVA_HOME, which tells Ant the location of your JRE.</p>\n\n<p>If you’ve installed the JDK, this is likely </p>\n\n<pre><code>c:\\Program Files\\Java\\jdk1.x.x\\jre\n</code></pre>\n\n<p>on Windows XP and</p>\n\n<pre><code>c:\\Program Files(x86)\\Java\\jdk1.x.x\\jre\n</code></pre>\n\n<p>on Windows 7. You’ll note that both have spaces in their paths, which causes a problem. You need to use the mangled name[3] instead of the complete name. So for Windows XP, use C:\\Progra~1\\Java\\jdk1.x.x\\jre and for Windows 7, use C:\\Progra~2\\Java\\jdk1.6.0_26\\jre if it’s installed in the Program Files(x86) folder </p>\n\n<p>That alone is enough to get Ant to work, but for convenience, it’s a good idea to add the Ant binary path to the PATH variable.</p>\n\n<p>This variable is a semicolon-delimited list of directories to search for executables. To be able to run ant in any directory, Windows needs to know both the location for the ant binary and for the java binary. You’ll need to add both of these to the end of the PATH variable. For Windows XP, you’ll likely add something like this:</p>\n\n<pre><code>;c:\\java\\ant\\bin;C:\\Progra~1\\Java\\jdk1.x.x\\jre\\bin\n</code></pre>\n\n<p>For Windows 7, it will look something like this:</p>\n\n<pre><code>;c:\\java\\ant\\bin;C:\\Progra~2\\Java\\jdk1.x.x\\jre\\bin\n</code></pre>\n\n<p><strong>Done</strong></p>\n\n<p>Once you’ve done that and applied the changes, you’ll need to open a new command prompt to see if the variables are set properly. You should be able to simply run ant and see something like this:</p>\n\n<pre><code>Buildfile: build.xml does not exist!\nBuild failed\n</code></pre>\n\n<p>That means Ant is installed properly and is looking for a build.xml file.</p>\n\n<p><em>Source: <a href=\"http://www.nczonline.net/blog/2012/04/12/how-to-install-apache-ant-on-windows/\">http://www.nczonline.net/blog/2012/04/12/how-to-install-apache-ant-on-windows/</a></em></p>\n"},{"tags":[],"owner":{"account_id":3390881,"reputation":983,"user_id":2845724,"display_name":"Mandeep Singh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1391685162,"creation_date":1391685162,"answer_id":21601284,"question_id":697006,"body_markdown":"You can follow these instrunctions-\r\n\r\n1)Download the latest version of ant from http://ant.apache.org/bindownload.cgi\r\n\r\n2)Unzip and save it to your C:\\ directory as ant.\r\n\r\n3)Add the bin directory to your PATH\tenvironment variable.\r\n\r\n4)Add the ANT_HOME environment variable set to C:\\ant.\r\n \r\nyou can use following commands to set ANT_HOME variable\r\n\r\n&gt; C:\\&gt;set ANT_HOME=C:\\ant\r\n&gt; \r\n&gt; C:\\&gt;set JAVA_HOME=C:\\jdk\r\n&gt; \r\n&gt; C:\\&gt;set PATH=%ANT_HOME%\\bin;%JAVA_HOME%\\bin\r\n&gt; \r\n&gt; C:\\&gt;ant -version\r\n&gt; \r\n&gt; Apache Ant version 1.8.1 compiled on April 30 2010\r\n\r\n\r\nif you have java installed on your machine\r\n\r\n5)Add the ANT_OPTS environment variable set to -Xmx256M.\r\n\r\nThis is all you need to install ant on your machine.","title":"How to install Apache Ant?","body":"<p>You can follow these instrunctions-</p>\n\n<p>1)Download the latest version of ant from <a href=\"http://ant.apache.org/bindownload.cgi\" rel=\"noreferrer\">http://ant.apache.org/bindownload.cgi</a></p>\n\n<p>2)Unzip and save it to your C:\\ directory as ant.</p>\n\n<p>3)Add the bin directory to your PATH    environment variable.</p>\n\n<p>4)Add the ANT_HOME environment variable set to C:\\ant.</p>\n\n<p>you can use following commands to set ANT_HOME variable</p>\n\n<blockquote>\n  <p>C:>set ANT_HOME=C:\\ant</p>\n  \n  <p>C:>set JAVA_HOME=C:\\jdk</p>\n  \n  <p>C:>set PATH=%ANT_HOME%\\bin;%JAVA_HOME%\\bin</p>\n  \n  <p>C:>ant -version</p>\n  \n  <p>Apache Ant version 1.8.1 compiled on April 30 2010</p>\n</blockquote>\n\n<p>if you have java installed on your machine</p>\n\n<p>5)Add the ANT_OPTS environment variable set to -Xmx256M.</p>\n\n<p>This is all you need to install ant on your machine.</p>\n"},{"tags":[],"owner":{"account_id":17029522,"reputation":109,"user_id":12319961,"display_name":"UdayanBKamble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655379908,"creation_date":1655319439,"answer_id":72636561,"question_id":697006,"body_markdown":"You can install Apache Ant with only single command on Ubuntu:\r\n\r\n    sudo apt install ant\r\nCheck the version of ant installed with:\r\n\r\n    ant -version\r\n\r\n ","title":"How to install Apache Ant?","body":"<p>You can install Apache Ant with only single command on Ubuntu:</p>\n<pre><code>sudo apt install ant\n</code></pre>\n<p>Check the version of ant installed with:</p>\n<pre><code>ant -version\n</code></pre>\n"}],"owner":{"display_name":"miaw-miaw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23365,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":8,"score":4,"last_activity_date":1655379908,"creation_date":1238416553,"question_id":697006,"body_markdown":"I want to install SMSlib (http://smslib.org/) in installation instruction (http://code.google.com/p/smslib/wiki/Installation). \r\n\r\nIn here I must install Apache Ant, but I didn&#39;t understand how to do that. \r\nI already download Apache Ant 1.7.1 , read manual (http://ant.apache.org/manual/index.html)\r\n\r\nIn here I must have RPM version from jpackage.org right? I already go to http://www.jpackage.org/ after that what must I do? I already try (http://mirrors.dotsrc.org/jpackage/1.7/generic/free/repodata/) and (http://www.jpackage.org/browser/browse.php?jppversion=1.7) but too many link. I don&#39;t know witch one must I download\r\n","title":"How to install Apache Ant?","body":"<p>I want to install SMSlib (<a href=\"http://smslib.org/\" rel=\"nofollow noreferrer\">http://smslib.org/</a>) in installation instruction (<a href=\"http://code.google.com/p/smslib/wiki/Installation\" rel=\"nofollow noreferrer\">http://code.google.com/p/smslib/wiki/Installation</a>). </p>\n\n<p>In here I must install Apache Ant, but I didn't understand how to do that. \nI already download Apache Ant 1.7.1 , read manual (<a href=\"http://ant.apache.org/manual/index.html\" rel=\"nofollow noreferrer\">http://ant.apache.org/manual/index.html</a>)</p>\n\n<p>In here I must have RPM version from jpackage.org right? I already go to <a href=\"http://www.jpackage.org/\" rel=\"nofollow noreferrer\">http://www.jpackage.org/</a> after that what must I do? I already try (<a href=\"http://mirrors.dotsrc.org/jpackage/1.7/generic/free/repodata/\" rel=\"nofollow noreferrer\">http://mirrors.dotsrc.org/jpackage/1.7/generic/free/repodata/</a>) and (<a href=\"http://www.jpackage.org/browser/browse.php?jppversion=1.7\" rel=\"nofollow noreferrer\">http://www.jpackage.org/browser/browse.php?jppversion=1.7</a>) but too many link. I don't know witch one must I download</p>\n"},{"tags":["java","caching","keycloak","infinispan"],"owner":{"account_id":6090364,"reputation":563,"user_id":4752858,"accept_rate":91,"display_name":"Gorgon_Union"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1724,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":0,"score":10,"last_activity_date":1655379844,"creation_date":1617657979,"question_id":66959976,"body_markdown":"I&#39;m working on switching keycloak (v.3.4.0 final) from using embedded infinispan to a dedicated remote infinispan cluster (v8.2.8.final). I&#39;ve gone through the upgrade process to use infinispan cluster as remote-store in lower environments without issues. In my production setting I am running into a timeout exception on InfinispanCacheInitializer \r\n\r\nWhere error is happening on Keycloak: https://github.com/keycloak/keycloak/blob/3.4.2.Final/model/infinispan/src/main/java/org/keycloak/models/sessions/infinispan/initializer/InfinispanCacheInitializer.java#L117 \r\n\r\n```\r\nERROR [org.keycloak.models.sessions.infinispan.initializer.InfinispanCacheInitializer] (ServerService Thread Pool -- 54) ExecutionException when computed future. Errors: 13: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutExc\r\neption                                                                                                                                                                                                                                                                      \r\n        at org.infinispan.distexec.DefaultExecutorService$DistributedTaskPart.get(DefaultExecutorService.java:850)                                                                                                                                                          \r\n        at org.keycloak.models.sessions.infinispan.initializer.InfinispanCacheInitializer.startLoading(InfinispanCacheInitializer.java:102)                                                                                                                                 \r\n        at org.keycloak.models.sessions.infinispan.initializer.DBLockBasedCacheInitializer.startLoading(DBLockBasedCacheInitializer.java:75)                                                                                                                                \r\n        at org.keycloak.models.sessions.infinispan.initializer.CacheInitializer.loadSessions(CacheInitializer.java:41)                                                                                                                                                      \r\n        at org.keycloak.models.sessions.infinispan.InfinispanUserSessionProviderFactory$2.run(InfinispanUserSessionProviderFactory.java:150)                                                                                                                                \r\n        at org.keycloak.models.utils.KeycloakModelUtils.runJobInTransaction(KeycloakModelUtils.java:227)                                                                                                                                                                    \r\n        at org.keycloak.models.sessions.infinispan.InfinispanUserSessionProviderFactory.loadPersistentSessions(InfinispanUserSessionProviderFactory.java:137)                                                                                                               \r\n        at org.keycloak.models.sessions.infinispan.InfinispanUserSessionProviderFactory$1.onEvent(InfinispanUserSessionProviderFactory.java:108)                                                                                                                            \r\n        at org.keycloak.services.DefaultKeycloakSessionFactory.publish(DefaultKeycloakSessionFactory.java:68)                                                                                                                                                               \r\n        at org.keycloak.services.resources.KeycloakApplication$2.run(KeycloakApplication.java:165)                                                                                                                                                                          \r\n        at org.keycloak.models.utils.KeycloakModelUtils.runJobInTransaction(KeycloakModelUtils.java:227)                                                                                                                                                                    \r\n        at org.keycloak.services.resources.KeycloakApplication.&lt;init&gt;(KeycloakApplication.java:158)                                                                                                                                                                         \r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)                                                                                                                                                                                            \r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)                                                                                                                                                                     \r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)                                                                                                                                                             \r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)                                                                                                                                                                                                  \r\n        at org.jboss.resteasy.core.ConstructorInjectorImpl.construct(ConstructorInjectorImpl.java:150)                                                                                                                                                                      \r\n        at org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2298)                                                                                                                                                         \r\n        at org.jboss.resteasy.spi.ResteasyDeployment.createApplication(ResteasyDeployment.java:340)                                                                                                                                                                         \r\n        at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:253)                                                                                                                                                                                     \r\n        at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:120)                                                                                                                                                   \r\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:36)                                                                                                                                                              \r\n        at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)                                                                                                                                                           \r\n        at org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)                                                                                                                                                        \r\n        at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)                                                                                                                                                           \r\n        at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:250)                                                                                                                                                                   \r\n        at io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:133)                                                                                                                                                                                   \r\n        at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:565)                                                                                                                                                                            \r\n        at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:536)                                                                                                                                                                            \r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)                                                                                                                                           \r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)                                                                                                                                                             \r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)                                                                                                                              \r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)                                                                                                       \r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)                                                                                                       \r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)                                                                                                       \r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)                                                                                                       \r\n        at io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:578)                                                                                                                                                                             \r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:100)                                                                                                                                             \r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)                                                                                                                                                     \r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)                                                                                                                                                                                          \r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)                                                                                                                                                                                                         \r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)                                                                                                                                                                                  \r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)                                                                                                                                                                                  \r\n        at java.lang.Thread.run(Thread.java:748)                                                                                                                                                                                                                            \r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:320)                                                                                                                                                                                                          \r\nCaused by: java.util.concurrent.TimeoutException                                                                                                                                                                                                                            \r\n        at java.util.concurrent.FutureTask.get(FutureTask.java:205)                                                                                                                                                                                                         \r\n        at org.infinispan.commons.util.concurrent.NotifyingFutureImpl.get(NotifyingFutureImpl.java:88)                                                                                                                                                                      \r\n        at org.infinispan.distexec.DefaultExecutorService$LocalDistributedTaskPart.getResult(DefaultExecutorService.java:1083)                                                                                                                                              \r\n        at org.infinispan.distexec.DefaultExecutorService$DistributedTaskPart.innerGet(DefaultExecutorService.java:868)                                                                                                                                                     \r\n        at org.infinispan.distexec.DefaultExecutorService$DistributedTaskPart.get(DefaultExecutorService.java:848)                                                                                                                                                          \r\n        ... 44 more\r\n```\r\n\r\n**Overview**\r\n\r\n* Keycloak version: 3.4.0.final (aware this is an older version - and in use with custom \r\nimplementation -  not easy to upgrade)\r\n    * startup script: `ExecStart={{ keycloak_jboss_home }}/bin/standalone.sh -b` using standalone.xml\r\n* Infinispan version: 8.2.8.final\r\n* Switching from embedded local cache to remote store configuration for the following caches:\r\n    * users (distributed)\r\n    * sessions (replicated)\r\n    * authenticationSessions (replicated)\r\n    * offlineSessions (replicated)\r\n    * loginFailures (replicated)\r\n    * authorization (replicated)\r\n* offline_user_session count: ~3 million\r\n\r\n\r\nIn an attempt to test out this sized cache sync from database, I&#39;ve updated the configuration for timeouts in standalone.xml and standalone.conf files\r\n\r\n**keycloak/keycloak-3.4.0.Final/standalone/configuration/standalone.xml**\r\nUpdated coordinator timeout to be 3 hours and commented out query-timeout\r\n\r\n```\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:transactions:4.0&quot;&gt;                                                                                                                                                                                             \r\n    &lt;core-environment&gt;                                                                                                                                                                                                                            \r\n        &lt;process-id&gt;                                                                                                                                                                                                                              \r\n            &lt;uuid/&gt;                                                                                                                                                                                                                               \r\n         &lt;/process-id&gt;                                                                                                                                                                                                                             \r\n    &lt;/core-environment&gt;                                                                                                                                                                                                                           \r\n    &lt;recovery-environment socket-binding=&quot;txn-recovery-environment&quot; status-socket-binding=&quot;txn-status-manager&quot;/&gt;                                                                                                                                  \r\n    &lt;object-store path=&quot;tx-object-store&quot; relative-to=&quot;jboss.server.data.dir&quot;/&gt;                                                                                                                                                                    \r\n    &lt;coordinator-environment default-timeout=&quot;10800&quot;/&gt;                                                                                                                                                                                            \r\n &lt;/subsystem&gt; \r\n\r\n....\r\n....\r\n..\r\n\r\n&lt;!-- &lt;timeout&gt;                                                                                                                                                                                                                        \r\n    &lt;query-timeout&gt;15&lt;/query-timeout&gt;                                                                                                                                                                                                 \r\n&lt;/timeout&gt;--&gt;   \r\n\r\n```\r\n\r\n**/keycloak/keycloak-3.4.0.Final/bin/standalone.conf**\r\nadd blocking timeout to JAVA_OPTS\r\n\r\n```\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djboss.modules.system.pkgs=$JBOSS_MODULES_SYSTEM_PKGS -Djava.awt.headless=true -Djboss.as.management.blocking.timeout=10800&quot;  \r\n```\r\n \r\n\r\nI&#39;d like to note that after the first few attempts at getting this to work, when reverting back to using the embedded cache on the keycloak nodes, the data synced fine without any timeout errors in around 1.5 hours.\r\n\r\n\r\nAfter startup of keycloak it takes about 60 minutes before it starts to sync offline user sessions. Taking a look at the queries being run by keycloak, I can see that the timeout errors occur about 5-10 minutes after it starts syncing offline_user_session records to offlineSessions cache \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe queries being run before it times out are: \r\n1. `delete from OFFLINE_CLIENT_SESSION where not (exists (select persistent1_.USER_SESSION_ID from OFFLINE_USER_SESSION persistent1_ where persistent1_.USER_SESSION_ID=OFFLINE_CLIENT_SESSION.USER_SESSION_ID))`\r\n\r\n2. `update OFFLINE_USER_SESSION set LAST_SESSION_REFRESH=$1`\r\n\r\n3. `DELETE FROM JGROUPSPING WHERE own_addr=$1 AND cluster_name=$2`\r\n\r\n4. `select count(persistent0_.OFFLINE_FLAG) as col_0_0_ from OFFLINE_USER_SESSION persistent0_ where persistent0_.OFFLINE_FLAG=$1`\r\n5. `select userrolema0_.ROLE_ID as col_0_0_ from USER_ROLE_MAPPING userrolema0_ where userrolema0_.USER_ID=$1`\r\n\r\n6. `select userentity0_.ID as ID1_76_, userentity0_.CREATED_TIMESTAMP as CREATED_2_76_, userentity0_.EMAIL as EMAIL3_76_, userentity0_.EMAIL_CONSTRAINT as EMAIL_CO4_76_, userentity0_.EMAIL_VERIFIED as EMAIL_VE5_76_, userentity0_.ENABLED as ENABLED6_76_, userentity0_.FEDERATION_LINK as FEDERATI7_76_, userentity0_.FIRST_NAME as FIRST_NA8_76_, userentity0_.LAST_NAME as LAST_NAM9_76_, userentity0_.NOT_BEFORE as NOT_BEF10_76_, userentity0_.REALM_ID as REALM_I11_76_, userentity0_.SERVICE_ACCOUNT_CLIENT_LI`\r\n\r\n7. `select attributes0_.USER_ID as USER_ID4_72_0_, attributes0_.ID as ID1_72_0_, attributes0_.ID as ID1_72_1_, attributes0_.NAME as NAME2_72_1_, attributes0_.USER_ID as USER_ID4_72_1_, attributes0_.VALUE as VALUE3_72_1_ from USER_ATTRIBUTE attributes0_ where attributes0_.USER_ID=$1`\r\n\r\n9. `select persistent0_.OFFLINE_FLAG as OFFLINE_1_47_, persistent0_.USER_SESSION_ID as USER_SES2_47_, persistent0_.DATA as DATA3_47_, persistent0_.LAST_SESSION_REFRESH as LAST_SES4_47_, persistent0_.REALM_ID as REALM_ID5_47_, persistent0_.USER_ID as USER_ID6_47_ from OFFLINE_USER_SESSION persistent0_ where persistent0_.OFFLINE_FLAG=$1 order by persistent0_.USER_SESSION_ID limit $2 offset $3`\r\n\r\nI setup Infinispan WebConsole UI so I can see the progress of the cache sync. Every time it gets 15k entries in (out of the ~3 million) \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/awDoV.png\r\n  [2]: https://i.stack.imgur.com/YqkFO.png\r\n\r\n\r\nI am not positive the issue here since the syncing of offline sessions from database works fine for the embedded version, but for the remote infinispan startup it seems to have an issue either with the batching of the queries or there&#39;s another configuration I am missing either on keycloak of infinispan side.\r\n\r\n\r\n--------------------------------------------\r\nUpdate - further testing\r\n\r\nSetup a test environment with snapshot of database with 3.5 million OUS/OCS. The RDS instance was provisioned with 5500 IOPS. Upgrading to keycloak version 5.0, there were timeouts happening but running vacuum analyze on entire database resolved the issue and we were able to successfully standup remote infinispan. However, after successful runs, in our live environment we ran into the same timeouts and vacuum analyze did not fix the issue. \r\n","title":"Keycloak: Persisted Cache Sync Timeouts to Infinispan Cluster on Rebuild From Embedded to Remote Infinispan","body":"<p>I'm working on switching keycloak (v.3.4.0 final) from using embedded infinispan to a dedicated remote infinispan cluster (v8.2.8.final). I've gone through the upgrade process to use infinispan cluster as remote-store in lower environments without issues. In my production setting I am running into a timeout exception on InfinispanCacheInitializer</p>\n<p>Where error is happening on Keycloak: <a href=\"https://github.com/keycloak/keycloak/blob/3.4.2.Final/model/infinispan/src/main/java/org/keycloak/models/sessions/infinispan/initializer/InfinispanCacheInitializer.java#L117\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/blob/3.4.2.Final/model/infinispan/src/main/java/org/keycloak/models/sessions/infinispan/initializer/InfinispanCacheInitializer.java#L117</a></p>\n<pre><code>ERROR [org.keycloak.models.sessions.infinispan.initializer.InfinispanCacheInitializer] (ServerService Thread Pool -- 54) ExecutionException when computed future. Errors: 13: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutExc\neption                                                                                                                                                                                                                                                                      \n        at org.infinispan.distexec.DefaultExecutorService$DistributedTaskPart.get(DefaultExecutorService.java:850)                                                                                                                                                          \n        at org.keycloak.models.sessions.infinispan.initializer.InfinispanCacheInitializer.startLoading(InfinispanCacheInitializer.java:102)                                                                                                                                 \n        at org.keycloak.models.sessions.infinispan.initializer.DBLockBasedCacheInitializer.startLoading(DBLockBasedCacheInitializer.java:75)                                                                                                                                \n        at org.keycloak.models.sessions.infinispan.initializer.CacheInitializer.loadSessions(CacheInitializer.java:41)                                                                                                                                                      \n        at org.keycloak.models.sessions.infinispan.InfinispanUserSessionProviderFactory$2.run(InfinispanUserSessionProviderFactory.java:150)                                                                                                                                \n        at org.keycloak.models.utils.KeycloakModelUtils.runJobInTransaction(KeycloakModelUtils.java:227)                                                                                                                                                                    \n        at org.keycloak.models.sessions.infinispan.InfinispanUserSessionProviderFactory.loadPersistentSessions(InfinispanUserSessionProviderFactory.java:137)                                                                                                               \n        at org.keycloak.models.sessions.infinispan.InfinispanUserSessionProviderFactory$1.onEvent(InfinispanUserSessionProviderFactory.java:108)                                                                                                                            \n        at org.keycloak.services.DefaultKeycloakSessionFactory.publish(DefaultKeycloakSessionFactory.java:68)                                                                                                                                                               \n        at org.keycloak.services.resources.KeycloakApplication$2.run(KeycloakApplication.java:165)                                                                                                                                                                          \n        at org.keycloak.models.utils.KeycloakModelUtils.runJobInTransaction(KeycloakModelUtils.java:227)                                                                                                                                                                    \n        at org.keycloak.services.resources.KeycloakApplication.&lt;init&gt;(KeycloakApplication.java:158)                                                                                                                                                                         \n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)                                                                                                                                                                                            \n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)                                                                                                                                                                     \n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)                                                                                                                                                             \n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)                                                                                                                                                                                                  \n        at org.jboss.resteasy.core.ConstructorInjectorImpl.construct(ConstructorInjectorImpl.java:150)                                                                                                                                                                      \n        at org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2298)                                                                                                                                                         \n        at org.jboss.resteasy.spi.ResteasyDeployment.createApplication(ResteasyDeployment.java:340)                                                                                                                                                                         \n        at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:253)                                                                                                                                                                                     \n        at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:120)                                                                                                                                                   \n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:36)                                                                                                                                                              \n        at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)                                                                                                                                                           \n        at org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)                                                                                                                                                        \n        at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)                                                                                                                                                           \n        at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:250)                                                                                                                                                                   \n        at io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:133)                                                                                                                                                                                   \n        at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:565)                                                                                                                                                                            \n        at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:536)                                                                                                                                                                            \n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)                                                                                                                                           \n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)                                                                                                                                                             \n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)                                                                                                                              \n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)                                                                                                       \n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)                                                                                                       \n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)                                                                                                       \n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1508)                                                                                                       \n        at io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:578)                                                                                                                                                                             \n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:100)                                                                                                                                             \n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)                                                                                                                                                     \n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)                                                                                                                                                                                          \n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)                                                                                                                                                                                                         \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)                                                                                                                                                                                  \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)                                                                                                                                                                                  \n        at java.lang.Thread.run(Thread.java:748)                                                                                                                                                                                                                            \n        at org.jboss.threads.JBossThread.run(JBossThread.java:320)                                                                                                                                                                                                          \nCaused by: java.util.concurrent.TimeoutException                                                                                                                                                                                                                            \n        at java.util.concurrent.FutureTask.get(FutureTask.java:205)                                                                                                                                                                                                         \n        at org.infinispan.commons.util.concurrent.NotifyingFutureImpl.get(NotifyingFutureImpl.java:88)                                                                                                                                                                      \n        at org.infinispan.distexec.DefaultExecutorService$LocalDistributedTaskPart.getResult(DefaultExecutorService.java:1083)                                                                                                                                              \n        at org.infinispan.distexec.DefaultExecutorService$DistributedTaskPart.innerGet(DefaultExecutorService.java:868)                                                                                                                                                     \n        at org.infinispan.distexec.DefaultExecutorService$DistributedTaskPart.get(DefaultExecutorService.java:848)                                                                                                                                                          \n        ... 44 more\n</code></pre>\n<p><strong>Overview</strong></p>\n<ul>\n<li>Keycloak version: 3.4.0.final (aware this is an older version - and in use with custom\nimplementation -  not easy to upgrade)\n<ul>\n<li>startup script: <code>ExecStart={{ keycloak_jboss_home }}/bin/standalone.sh -b</code> using standalone.xml</li>\n</ul>\n</li>\n<li>Infinispan version: 8.2.8.final</li>\n<li>Switching from embedded local cache to remote store configuration for the following caches:\n<ul>\n<li>users (distributed)</li>\n<li>sessions (replicated)</li>\n<li>authenticationSessions (replicated)</li>\n<li>offlineSessions (replicated)</li>\n<li>loginFailures (replicated)</li>\n<li>authorization (replicated)</li>\n</ul>\n</li>\n<li>offline_user_session count: ~3 million</li>\n</ul>\n<p>In an attempt to test out this sized cache sync from database, I've updated the configuration for timeouts in standalone.xml and standalone.conf files</p>\n<p><strong>keycloak/keycloak-3.4.0.Final/standalone/configuration/standalone.xml</strong>\nUpdated coordinator timeout to be 3 hours and commented out query-timeout</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:transactions:4.0&quot;&gt;                                                                                                                                                                                             \n    &lt;core-environment&gt;                                                                                                                                                                                                                            \n        &lt;process-id&gt;                                                                                                                                                                                                                              \n            &lt;uuid/&gt;                                                                                                                                                                                                                               \n         &lt;/process-id&gt;                                                                                                                                                                                                                             \n    &lt;/core-environment&gt;                                                                                                                                                                                                                           \n    &lt;recovery-environment socket-binding=&quot;txn-recovery-environment&quot; status-socket-binding=&quot;txn-status-manager&quot;/&gt;                                                                                                                                  \n    &lt;object-store path=&quot;tx-object-store&quot; relative-to=&quot;jboss.server.data.dir&quot;/&gt;                                                                                                                                                                    \n    &lt;coordinator-environment default-timeout=&quot;10800&quot;/&gt;                                                                                                                                                                                            \n &lt;/subsystem&gt; \n\n....\n....\n..\n\n&lt;!-- &lt;timeout&gt;                                                                                                                                                                                                                        \n    &lt;query-timeout&gt;15&lt;/query-timeout&gt;                                                                                                                                                                                                 \n&lt;/timeout&gt;--&gt;   \n\n</code></pre>\n<p><strong>/keycloak/keycloak-3.4.0.Final/bin/standalone.conf</strong>\nadd blocking timeout to JAVA_OPTS</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djboss.modules.system.pkgs=$JBOSS_MODULES_SYSTEM_PKGS -Djava.awt.headless=true -Djboss.as.management.blocking.timeout=10800&quot;  \n</code></pre>\n<p>I'd like to note that after the first few attempts at getting this to work, when reverting back to using the embedded cache on the keycloak nodes, the data synced fine without any timeout errors in around 1.5 hours.</p>\n<p>After startup of keycloak it takes about 60 minutes before it starts to sync offline user sessions. Taking a look at the queries being run by keycloak, I can see that the timeout errors occur about 5-10 minutes after it starts syncing offline_user_session records to offlineSessions cache</p>\n<p><a href=\"https://i.stack.imgur.com/awDoV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awDoV.png\" alt=\"enter image description here\" /></a></p>\n<p>The queries being run before it times out are:</p>\n<ol>\n<li><p><code>delete from OFFLINE_CLIENT_SESSION where not (exists (select persistent1_.USER_SESSION_ID from OFFLINE_USER_SESSION persistent1_ where persistent1_.USER_SESSION_ID=OFFLINE_CLIENT_SESSION.USER_SESSION_ID))</code></p>\n</li>\n<li><p><code>update OFFLINE_USER_SESSION set LAST_SESSION_REFRESH=$1</code></p>\n</li>\n<li><p><code>DELETE FROM JGROUPSPING WHERE own_addr=$1 AND cluster_name=$2</code></p>\n</li>\n<li><p><code>select count(persistent0_.OFFLINE_FLAG) as col_0_0_ from OFFLINE_USER_SESSION persistent0_ where persistent0_.OFFLINE_FLAG=$1</code></p>\n</li>\n<li><p><code>select userrolema0_.ROLE_ID as col_0_0_ from USER_ROLE_MAPPING userrolema0_ where userrolema0_.USER_ID=$1</code></p>\n</li>\n<li><p><code>select userentity0_.ID as ID1_76_, userentity0_.CREATED_TIMESTAMP as CREATED_2_76_, userentity0_.EMAIL as EMAIL3_76_, userentity0_.EMAIL_CONSTRAINT as EMAIL_CO4_76_, userentity0_.EMAIL_VERIFIED as EMAIL_VE5_76_, userentity0_.ENABLED as ENABLED6_76_, userentity0_.FEDERATION_LINK as FEDERATI7_76_, userentity0_.FIRST_NAME as FIRST_NA8_76_, userentity0_.LAST_NAME as LAST_NAM9_76_, userentity0_.NOT_BEFORE as NOT_BEF10_76_, userentity0_.REALM_ID as REALM_I11_76_, userentity0_.SERVICE_ACCOUNT_CLIENT_LI</code></p>\n</li>\n<li><p><code>select attributes0_.USER_ID as USER_ID4_72_0_, attributes0_.ID as ID1_72_0_, attributes0_.ID as ID1_72_1_, attributes0_.NAME as NAME2_72_1_, attributes0_.USER_ID as USER_ID4_72_1_, attributes0_.VALUE as VALUE3_72_1_ from USER_ATTRIBUTE attributes0_ where attributes0_.USER_ID=$1</code></p>\n</li>\n<li><p><code>select persistent0_.OFFLINE_FLAG as OFFLINE_1_47_, persistent0_.USER_SESSION_ID as USER_SES2_47_, persistent0_.DATA as DATA3_47_, persistent0_.LAST_SESSION_REFRESH as LAST_SES4_47_, persistent0_.REALM_ID as REALM_ID5_47_, persistent0_.USER_ID as USER_ID6_47_ from OFFLINE_USER_SESSION persistent0_ where persistent0_.OFFLINE_FLAG=$1 order by persistent0_.USER_SESSION_ID limit $2 offset $3</code></p>\n</li>\n</ol>\n<p>I setup Infinispan WebConsole UI so I can see the progress of the cache sync. Every time it gets 15k entries in (out of the ~3 million)</p>\n<p><a href=\"https://i.stack.imgur.com/YqkFO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YqkFO.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not positive the issue here since the syncing of offline sessions from database works fine for the embedded version, but for the remote infinispan startup it seems to have an issue either with the batching of the queries or there's another configuration I am missing either on keycloak of infinispan side.</p>\n<hr />\n<p>Update - further testing</p>\n<p>Setup a test environment with snapshot of database with 3.5 million OUS/OCS. The RDS instance was provisioned with 5500 IOPS. Upgrading to keycloak version 5.0, there were timeouts happening but running vacuum analyze on entire database resolved the issue and we were able to successfully standup remote infinispan. However, after successful runs, in our live environment we ran into the same timeouts and vacuum analyze did not fix the issue.</p>\n"},{"tags":["java","bouncycastle"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1655225836,"post_id":72619203,"comment_id":128280236,"body_markdown":"Where did you get the curve parameters from? If this is well-known curve in some standard then that standard will also specify the base point G. Otherwise, just pick your own point G of maximal order. You need to know the order of the curve, or you can compute the order using something like Sage or Pari.","body":"Where did you get the curve parameters from? If this is well-known curve in some standard then that standard will also specify the base point G. Otherwise, just pick your own point G of maximal order. You need to know the order of the curve, or you can compute the order using something like Sage or Pari."}],"answers":[{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655379640,"creation_date":1655379640,"answer_id":72645248,"question_id":72619203,"body_markdown":"These curve parameters are taken from an early draft of RFC 4357 ([draft-popov-cryptopro-cpalgs-01][1]). In that draft you can see they give a base point:\r\n\r\nx 2,\r\ny 401897405659037503335449422937059775635739389905545080690979365213431566280\r\n\r\nHowever this is only test data and it is only used in the BC tests for historical reasons. You would be better off with actual standardized curves. If they specifically have to be from the GOST standards, you could check those provided by the `org.bouncycastle.asn1.cryptopro.ECGOST3410NamedCurves` class.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-popov-cryptopro-cpalgs-01#page-46","title":"How to get G (generator) point from bouncycastle ECCurve in Java","body":"<p>These curve parameters are taken from an early draft of RFC 4357 (<a href=\"https://datatracker.ietf.org/doc/html/draft-popov-cryptopro-cpalgs-01#page-46\" rel=\"nofollow noreferrer\">draft-popov-cryptopro-cpalgs-01</a>). In that draft you can see they give a base point:</p>\n<p>x 2,\ny 401897405659037503335449422937059775635739389905545080690979365213431566280</p>\n<p>However this is only test data and it is only used in the BC tests for historical reasons. You would be better off with actual standardized curves. If they specifically have to be from the GOST standards, you could check those provided by the <code>org.bouncycastle.asn1.cryptopro.ECGOST3410NamedCurves</code> class.</p>\n"}],"owner":{"account_id":24744075,"reputation":1,"user_id":18630463,"display_name":"Ruben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655379640,"creation_date":1655218667,"question_id":72619203,"body_markdown":"Hi i have this curve from bouncycastle: \r\n\r\n```\r\n    BigInteger prime = new BigInteger(&quot;57896044618658097711785492504343953926634992332820282019728792003956564821041&quot;);\r\n    BigInteger A = new BigInteger(&quot;7&quot;);\r\n    BigInteger B = new BigInteger(&quot;43308876546767276905765904595650931995942111794451039583252968842033849580414&quot;);\r\n\r\n    ECCurve curve = new ECCurve.Fp(prime, A, B);\r\n```\r\nI&#39;m looking for the G point to generate other points from the curve but I can&#39;t find a way to get it","title":"How to get G (generator) point from bouncycastle ECCurve in Java","body":"<p>Hi i have this curve from bouncycastle:</p>\n<pre><code>    BigInteger prime = new BigInteger(&quot;57896044618658097711785492504343953926634992332820282019728792003956564821041&quot;);\n    BigInteger A = new BigInteger(&quot;7&quot;);\n    BigInteger B = new BigInteger(&quot;43308876546767276905765904595650931995942111794451039583252968842033849580414&quot;);\n\n    ECCurve curve = new ECCurve.Fp(prime, A, B);\n</code></pre>\n<p>I'm looking for the G point to generate other points from the curve but I can't find a way to get it</p>\n"},{"tags":["java","linux","docker","containers"],"comments":[{"owner":{"account_id":15550785,"reputation":303,"user_id":11218505,"display_name":"Raja Ravindra"},"score":0,"creation_date":1655358466,"post_id":72641036,"comment_id":128314753,"body_markdown":"Can  you show your docker compose/ docker run command as well?","body":"Can  you show your docker compose/ docker run command as well?"},{"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"score":0,"creation_date":1655363351,"post_id":72641036,"comment_id":128315983,"body_markdown":"Already Added...","body":"Already Added..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655363572,"post_id":72641036,"comment_id":128316045,"body_markdown":"Please add the command you use to start your container. Worth adding your Dockerfile too.","body":"Please add the command you use to start your container. Worth adding your Dockerfile too."},{"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"score":0,"creation_date":1655366170,"post_id":72641036,"comment_id":128316854,"body_markdown":"Already Added...","body":"Already Added..."},{"owner":{"account_id":15550785,"reputation":303,"user_id":11218505,"display_name":"Raja Ravindra"},"score":0,"creation_date":1655373527,"post_id":72641036,"comment_id":128319399,"body_markdown":"All this looks fine, by any chance have you tried doing an `exec` into pod and tried `ls /tmp`  inside your pod?","body":"All this looks fine, by any chance have you tried doing an <code>exec</code> into pod and tried <code>ls &#47;tmp</code>  inside your pod?"},{"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"score":0,"creation_date":1655782396,"post_id":72641036,"comment_id":128407005,"body_markdown":"the directory `/tmp` is mounted by volume `tmp-volume`。There are many files in directory `/tmp`","body":"the directory <code>&#47;tmp</code> is mounted by volume <code>tmp-volume</code>。There are many files in directory <code>&#47;tmp</code>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657689908,"post_id":72641036,"comment_id":128867406,"body_markdown":"If there are many files in /tmp already, is there any chance that the file already exists with permissions not writable from your container?","body":"If there are many files in /tmp already, is there any chance that the file already exists with permissions not writable from your container?"}],"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655379153,"creation_date":1655358327,"question_id":72641036,"body_markdown":"I have a java program running in a docker container, and when the program load the Snappy class, it will copies the `.so` file from the Snappy package, to the `/tmp` directory. However, when copying, I got a `FileNotFoundException` exception\r\n\r\n```\r\njava.io.FileNotFoundException: /tmp/snappy-1.1.7-8f76c89c-697a-454d-948c-48d42ab95ffe-libsnappyjava.so (No such file or directory)\r\n        at java.io.FileOutputStream.open0(Native Method)\r\n        at java.io.FileOutputStream.open(FileOutputStream.java:270)\r\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)\r\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:162)\r\n        at org.xerial.snappy.SnappyLoader.extractLibraryFile(SnappyLoader.java:239)\r\n        at org.xerial.snappy.SnappyLoader.findNativeLibrary(SnappyLoader.java:355)\r\n        at org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:176)\r\n        at org.xerial.snappy.SnappyLoader.loadSnappyApi(SnappyLoader.java:154)\r\n        at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:47)\r\n        at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:99)\r\n        at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:91)\r\n        at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:81)\r\n        at org.apache.kafka.common.record.CompressionType$3.wrapForOutput(CompressionType.java:81)\r\n```\r\n\r\nThe strange thing is that this exception happens occasionally. Normally, when copying, if the file doesn&#39;t exist, it will create the file, but now the `FileNotFoundException` error appears, so this means that the output file creation has failed. I don&#39;t understand why it suddenly fails to create a file under directory `/tmp`， because there is enough disk space？\r\n\r\n\r\n\r\nDockerfile\r\n```\r\nFROM nexus.sux.cn/alpine-oraclejdk8-test:8u221v1\r\n\r\nWORKDIR /opt/\r\n\r\nENV WAR=app.war \\\r\n    ENV=test\r\n\r\nCOPY start.sh* build/libs/${WAR} /opt/\r\nRUN chmod +x start.sh\r\n\r\nCMD [&quot;./start.sh&quot;]\r\n```\r\n\r\nstart.sh\r\n```\r\nexec java ${JAVA_OPTS} \\\r\n   ${JVM_OPTS} \\\r\n   -XX:+ExitOnOutOfMemoryError \\\r\n   -XX:+HeapDumpOnOutOfMemoryError \\\r\n   -XX:HeapDumpPath=${LOG_DIR}/ \\=\r\n   -XX:ErrorFile=log.err \\\r\n   -jar ${WAR} 1&gt;/dev/null 2&gt;&gt;log.err\r\n```\r\n\r\nkubernetes deployment yaml\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: app\r\n  namespace: test\r\nspec:\r\n  progressDeadlineSeconds: 600\r\n  replicas: 1\r\n  revisionHistoryLimit: 10\r\n  selector:\r\n    matchLabels:\r\n      app: app\r\n  strategy:\r\n    rollingUpdate:\r\n      maxSurge: 25%\r\n      maxUnavailable: 25%\r\n    type: RollingUpdate\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: app\r\n    spec:\r\n      containers:\r\n        envFrom:\r\n        - configMapRef:\r\n            name: global-config\r\n        image: registry.cn-usa.aliyuncs.com/xsio/app:master\r\n        imagePullPolicy: IfNotPresent\r\n        name: app\r\n        ports:\r\n        - containerPort: 3310\r\n          name: web\r\n          protocol: TCP\r\n        resources:\r\n          limits:\r\n            cpu: &quot;1&quot;\r\n            memory: 4Gi\r\n          requests:\r\n            cpu: 512m\r\n            memory: 1Gi\r\n        volumeMounts:\r\n        - mountPath: /opt/log/stash\r\n          name: log-volume\r\n        - mountPath: /var/tmp\r\n          name: tmp-volume\r\n        - mountPath: /tmp\r\n          name: tmp-volume\r\n      dnsPolicy: ClusterFirst\r\n      restartPolicy: Always\r\n      schedulerName: default-scheduler\r\n      securityContext: {}\r\n      terminationGracePeriodSeconds: 30\r\n      volumes:\r\n      - hostPath:\r\n          path: /opt/log/stash\r\n          type: DirectoryOrCreate\r\n        name: log-volume\r\n      - hostPath:\r\n          path: /opt/tmp\r\n          type: DirectoryOrCreate\r\n        name: tmp-volume\r\n```","title":"Why does the program in container sometimes fail to write data to directory /tmp?","body":"<p>I have a java program running in a docker container, and when the program load the Snappy class, it will copies the <code>.so</code> file from the Snappy package, to the <code>/tmp</code> directory. However, when copying, I got a <code>FileNotFoundException</code> exception</p>\n<pre><code>java.io.FileNotFoundException: /tmp/snappy-1.1.7-8f76c89c-697a-454d-948c-48d42ab95ffe-libsnappyjava.so (No such file or directory)\n        at java.io.FileOutputStream.open0(Native Method)\n        at java.io.FileOutputStream.open(FileOutputStream.java:270)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:162)\n        at org.xerial.snappy.SnappyLoader.extractLibraryFile(SnappyLoader.java:239)\n        at org.xerial.snappy.SnappyLoader.findNativeLibrary(SnappyLoader.java:355)\n        at org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:176)\n        at org.xerial.snappy.SnappyLoader.loadSnappyApi(SnappyLoader.java:154)\n        at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:47)\n        at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:99)\n        at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:91)\n        at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:81)\n        at org.apache.kafka.common.record.CompressionType$3.wrapForOutput(CompressionType.java:81)\n</code></pre>\n<p>The strange thing is that this exception happens occasionally. Normally, when copying, if the file doesn't exist, it will create the file, but now the <code>FileNotFoundException</code> error appears, so this means that the output file creation has failed. I don't understand why it suddenly fails to create a file under directory <code>/tmp</code>， because there is enough disk space？</p>\n<p>Dockerfile</p>\n<pre><code>FROM nexus.sux.cn/alpine-oraclejdk8-test:8u221v1\n\nWORKDIR /opt/\n\nENV WAR=app.war \\\n    ENV=test\n\nCOPY start.sh* build/libs/${WAR} /opt/\nRUN chmod +x start.sh\n\nCMD [&quot;./start.sh&quot;]\n</code></pre>\n<p>start.sh</p>\n<pre><code>exec java ${JAVA_OPTS} \\\n   ${JVM_OPTS} \\\n   -XX:+ExitOnOutOfMemoryError \\\n   -XX:+HeapDumpOnOutOfMemoryError \\\n   -XX:HeapDumpPath=${LOG_DIR}/ \\=\n   -XX:ErrorFile=log.err \\\n   -jar ${WAR} 1&gt;/dev/null 2&gt;&gt;log.err\n</code></pre>\n<p>kubernetes deployment yaml</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app\n  namespace: test\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      app: app\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: app\n    spec:\n      containers:\n        envFrom:\n        - configMapRef:\n            name: global-config\n        image: registry.cn-usa.aliyuncs.com/xsio/app:master\n        imagePullPolicy: IfNotPresent\n        name: app\n        ports:\n        - containerPort: 3310\n          name: web\n          protocol: TCP\n        resources:\n          limits:\n            cpu: &quot;1&quot;\n            memory: 4Gi\n          requests:\n            cpu: 512m\n            memory: 1Gi\n        volumeMounts:\n        - mountPath: /opt/log/stash\n          name: log-volume\n        - mountPath: /var/tmp\n          name: tmp-volume\n        - mountPath: /tmp\n          name: tmp-volume\n      dnsPolicy: ClusterFirst\n      restartPolicy: Always\n      schedulerName: default-scheduler\n      securityContext: {}\n      terminationGracePeriodSeconds: 30\n      volumes:\n      - hostPath:\n          path: /opt/log/stash\n          type: DirectoryOrCreate\n        name: log-volume\n      - hostPath:\n          path: /opt/tmp\n          type: DirectoryOrCreate\n        name: tmp-volume\n</code></pre>\n"},{"tags":["java","smartgit"],"answers":[{"tags":[],"owner":{"account_id":1047481,"reputation":19771,"user_id":1069083,"accept_rate":71,"display_name":"rubo77"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1470875493,"creation_date":1418417453,"answer_id":27451904,"question_id":27451788,"body_markdown":"I found the solution: When you start smartgit on the console:\r\n\r\n    smartgit-start \r\n\r\nyou get a warning:\r\n\r\n&gt; Warning: /usr/lib/jvm/java-7-openjdk-i386/bin/java/bin/java does not exist\r\n\r\nthere is a double `/bin/java` in that path, so you only have to enter the path to the `bin` folder:\r\n\r\n    gedit ~/.smartgit/smartgit.vmoptions\r\n\r\nAnd enter just:\r\n\r\n    jre=/usr/lib/jvm/java-7-openjdk-i386\r\n\r\nThis starts smartgit with that version\r\n\r\n----\r\nSince now you always have to start smartgit on the console now, a smaller file would be handy: create a file `/usr/local/sbin/smg`\r\n\r\n    cd /tmp;\r\n    nohup /usr/share/smartgit/bin/smartgit.sh &amp;\r\n\r\nand give it executable rights:\r\n\r\n    chmod +x /usr/local/sbin/smg\r\n\r\nnow you can start smartgit anywhere with just\r\n\r\n    smg","title":"Start smartgit with another java version","body":"<p>I found the solution: When you start smartgit on the console:</p>\n\n<pre><code>smartgit-start \n</code></pre>\n\n<p>you get a warning:</p>\n\n<blockquote>\n  <p>Warning: /usr/lib/jvm/java-7-openjdk-i386/bin/java/bin/java does not exist</p>\n</blockquote>\n\n<p>there is a double <code>/bin/java</code> in that path, so you only have to enter the path to the <code>bin</code> folder:</p>\n\n<pre><code>gedit ~/.smartgit/smartgit.vmoptions\n</code></pre>\n\n<p>And enter just:</p>\n\n<pre><code>jre=/usr/lib/jvm/java-7-openjdk-i386\n</code></pre>\n\n<p>This starts smartgit with that version</p>\n\n<hr>\n\n<p>Since now you always have to start smartgit on the console now, a smaller file would be handy: create a file <code>/usr/local/sbin/smg</code></p>\n\n<pre><code>cd /tmp;\nnohup /usr/share/smartgit/bin/smartgit.sh &amp;\n</code></pre>\n\n<p>and give it executable rights:</p>\n\n<pre><code>chmod +x /usr/local/sbin/smg\n</code></pre>\n\n<p>now you can start smartgit anywhere with just</p>\n\n<pre><code>smg\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655379054,"creation_date":1655379054,"answer_id":72645131,"question_id":27451788,"body_markdown":"In the meanwhile ...elder versions still require JRE 8:\r\n\r\n    sudo dnf install java-1.8.0-openjdk\r\n\r\nWhich result in these `smartgit.vmoptions`:\r\n\r\n    jre=/usr/lib/jvm/jre-1.8.0-openjdk\r\n","title":"Start smartgit with another java version","body":"<p>In the meanwhile ...elder versions still require JRE 8:</p>\n<pre><code>sudo dnf install java-1.8.0-openjdk\n</code></pre>\n<p>Which result in these <code>smartgit.vmoptions</code>:</p>\n<pre><code>jre=/usr/lib/jvm/jre-1.8.0-openjdk\n</code></pre>\n"}],"owner":{"account_id":1047481,"reputation":19771,"user_id":1069083,"accept_rate":71,"display_name":"rubo77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5193,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":27451904,"answer_count":2,"score":5,"last_activity_date":1655379054,"creation_date":1418416908,"question_id":27451788,"body_markdown":"I tried to start smartgit 6.5 on my Ubuntu 14.10 32bit with another java version.\r\n\r\nin the file `/usr/share/smartgit/bin/smartgit.sh` it sais:\r\n\r\n    # To specify an alternative Java Runtime Environment, set the environment\r\n    # variable SMARTGIT_JAVA_HOME or add a\r\n    #\r\n    # jre=/path/to/jre\r\n    #\r\n    # line to smartgit.vmoptions (see below).\r\n    #\r\n    # To specify additional VM options, add them to smargit.vmoptions\r\n    # or ~/.smartgit/smartgit.vmoptions files.\r\n\r\n[Here][1] I found an answer how to edit the file:\r\n\r\n    gedit ~/.smartgit/smartgit.vmoptions\r\n\r\nSo I entered just:\r\n\r\n    jre=/usr/lib/jvm/java-7-openjdk-i386/bin/java\r\n\r\nI thought, this should change the used java version in smartgit (visible in the menu Help-&gt;Information)\r\n\r\nBut it doesn&#39;t! It&#39;s still on `1.7.0_72-b14 (/usr/lib/jvm/java-7-oracle/jre)`\r\n\r\n\r\nHow does this file have to look like to use another Java engine?\r\n\r\n  [1]: http://www.syntevo.com/doc/display/SG071/VM+options\r\n","title":"Start smartgit with another java version","body":"<p>I tried to start smartgit 6.5 on my Ubuntu 14.10 32bit with another java version.</p>\n\n<p>in the file <code>/usr/share/smartgit/bin/smartgit.sh</code> it sais:</p>\n\n<pre><code># To specify an alternative Java Runtime Environment, set the environment\n# variable SMARTGIT_JAVA_HOME or add a\n#\n# jre=/path/to/jre\n#\n# line to smartgit.vmoptions (see below).\n#\n# To specify additional VM options, add them to smargit.vmoptions\n# or ~/.smartgit/smartgit.vmoptions files.\n</code></pre>\n\n<p><a href=\"http://www.syntevo.com/doc/display/SG071/VM+options\" rel=\"nofollow\">Here</a> I found an answer how to edit the file:</p>\n\n<pre><code>gedit ~/.smartgit/smartgit.vmoptions\n</code></pre>\n\n<p>So I entered just:</p>\n\n<pre><code>jre=/usr/lib/jvm/java-7-openjdk-i386/bin/java\n</code></pre>\n\n<p>I thought, this should change the used java version in smartgit (visible in the menu Help->Information)</p>\n\n<p>But it doesn't! It's still on <code>1.7.0_72-b14 (/usr/lib/jvm/java-7-oracle/jre)</code></p>\n\n<p>How does this file have to look like to use another Java engine?</p>\n"},{"tags":["java","list","java-stream","reduce","minimum"],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655306587,"creation_date":1655306587,"answer_id":72633983,"question_id":72633761,"body_markdown":"Most of the operations you mention are available method-calls on streams.\r\n\r\n- Receive list of Collection&lt;ForecastPerDate&gt; -&gt; `forecasts.stream()`\r\n- Find items that have date &gt;= today -&gt; `.filter()`\r\n- Get the &quot;value&quot; of the item with date closest to today (minimum diff) -&gt; `.min()`, giving an `Optional&lt;ForecastPerDate&gt;`\r\n- Floor it and round it -&gt; `optional.map()`\r\n- If no data has been found it should fallback to 0 with a log message -&gt; `optional.orElseGet()`\r\n\r\nPut together, it would be something like this (I haven&#39;t compiled it, so it probably won&#39;t work on the first try):\r\n\r\n    @Override\r\n    public Long getAvailabilityFromForecastData(final String fuCode,\r\n                                                final String articleCode,\r\n                                                final Collection&lt;ForecastPerDate&gt; forecasts) {\r\n\r\n        var today = LocalDate.now();\r\n\r\n        return forecasts.stream()\r\n            .filter(forecast -&gt; !today.isBefore(LocalDate.parse(forecast.date())))\r\n            .min(Comparator.comparing(forecast -&gt; \r\n                 Duration.between(today, LocalDate.parse(forecast.date()))\r\n            .map(forecast -&gt; availabilityAmountFormatter(forecast.value()))\r\n            .orElseGet(() -&gt; {\r\n                log.info(&quot;No forecasts found&quot;);\r\n                return 0L;\r\n            });\r\n    }\r\n\r\nI would move some of the logic into `ForecastPerDate` to avoid having to parse `forecast.date()` multiple times.","title":"Find the closest value by property with Stream API","body":"<p>Most of the operations you mention are available method-calls on streams.</p>\n<ul>\n<li>Receive list of Collection -&gt; <code>forecasts.stream()</code></li>\n<li>Find items that have date &gt;= today -&gt; <code>.filter()</code></li>\n<li>Get the &quot;value&quot; of the item with date closest to today (minimum diff) -&gt; <code>.min()</code>, giving an <code>Optional&lt;ForecastPerDate&gt;</code></li>\n<li>Floor it and round it -&gt; <code>optional.map()</code></li>\n<li>If no data has been found it should fallback to 0 with a log message -&gt; <code>optional.orElseGet()</code></li>\n</ul>\n<p>Put together, it would be something like this (I haven't compiled it, so it probably won't work on the first try):</p>\n<pre><code>@Override\npublic Long getAvailabilityFromForecastData(final String fuCode,\n                                            final String articleCode,\n                                            final Collection&lt;ForecastPerDate&gt; forecasts) {\n\n    var today = LocalDate.now();\n\n    return forecasts.stream()\n        .filter(forecast -&gt; !today.isBefore(LocalDate.parse(forecast.date())))\n        .min(Comparator.comparing(forecast -&gt; \n             Duration.between(today, LocalDate.parse(forecast.date()))\n        .map(forecast -&gt; availabilityAmountFormatter(forecast.value()))\n        .orElseGet(() -&gt; {\n            log.info(&quot;No forecasts found&quot;);\n            return 0L;\n        });\n}\n</code></pre>\n<p>I would move some of the logic into <code>ForecastPerDate</code> to avoid having to parse <code>forecast.date()</code> multiple times.</p>\n"},{"tags":[],"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655306775,"creation_date":1655306775,"answer_id":72634027,"question_id":72633761,"body_markdown":"If you want to keep a similar flow to what you have, try something like this:\r\n```\r\nfinal LocalDate now = LocalDate.now();\r\nreturn forecasts.stream()\r\n        .map(ForecastPerDate::date)\r\n        .map(LocalDate::parse)\r\n        .filter(fd -&gt; fd.isEqual(now) || fd.isAfter(now))\r\n        .min()\r\n        .map(LocalDate::toString)\r\n        .map(forecastMap::get)\r\n        .map(this::availabilityAmountFormatter)\r\n        .orElseGet(() -&gt; {\r\n            log.info(&quot;Resorting to fallback...&quot;);\r\n            return 0L;\r\n        });\r\n```","title":"Find the closest value by property with Stream API","body":"<p>If you want to keep a similar flow to what you have, try something like this:</p>\n<pre><code>final LocalDate now = LocalDate.now();\nreturn forecasts.stream()\n        .map(ForecastPerDate::date)\n        .map(LocalDate::parse)\n        .filter(fd -&gt; fd.isEqual(now) || fd.isAfter(now))\n        .min()\n        .map(LocalDate::toString)\n        .map(forecastMap::get)\n        .map(this::availabilityAmountFormatter)\n        .orElseGet(() -&gt; {\n            log.info(&quot;Resorting to fallback...&quot;);\n            return 0L;\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1655326572,"creation_date":1655309785,"answer_id":72634672,"question_id":72633761,"body_markdown":"Here is one approach.\r\n- stream the collection of objects\r\n- filter out any dates older than and including today.\r\n- then collect using `Collectors.minBy` and a special comparator.\r\n- then use the result with the rest of your code to either return the value or log the result.\r\n```\r\npublic Long getAvailabilityFromForecastData(final String fuCode,\r\n\t\tfinal String articleCode,\r\n\t\tfinal Collection&lt;ForecastPerDate&gt; forecasts) {\r\n\t\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;);\r\n\t\r\n    Comparator&lt;ForecastPerDate&gt; comp =\r\n\t\t\tComparator.comparing(f -&gt; LocalDate.parse(f.date(), dtf),\r\n\t\t\t\t\t(date1, date2) -&gt; date1.compareTo(date2));\r\n\t\r\n\tOptional&lt;ForecastPerDate&gt; result = forecasts.stream()\r\n\t\t\t.filter(fpd -&gt; LocalDate.parse(fpd.date(),dtf)\r\n\t\t\t\t\t.isAfter(LocalDate.now()))\r\n\t\t\t.collect(Collectors.minBy(comp));\r\n\t\r\n\tif (result.isPresent()) {\r\n\t\treturn availabilityAmountFormatter(result.get().value());\r\n\t}\r\n\tlog.info(\r\n\t\t\t&quot;Resorting to fallback for FU {} articleCode {}, 0 availability for article!  Forecasts: {}&quot;,\r\n\t\t\tfuCode, articleCode, forecasts);\r\n\treturn 0L;\r\n}\r\n```\r\n**Demo**\r\n\r\nNote: for this answer and demo I included in the above method a `DateTimeFormatter` since I don&#39;t know the format of your dates. You will probably need to alter it for your application.\r\n```\r\n\t\tList&lt;ForecastPerDate&gt; list = List.of(\r\n\t\t\t\tnew ForecastPerDate(&quot;6/14/2022&quot;, 112.33),\r\n\t\t\t\tnew ForecastPerDate(&quot;6/19/2022&quot;, 122.33),\r\n\t\t\t\tnew ForecastPerDate(&quot;6/16/2022&quot;, 132.33),\r\n\t\t\t\tnew ForecastPerDate(&quot;6/20/2022&quot;, 142.33));\r\n\t\tlong v = getAvailabilityFromForecastData(&quot;Foo&quot;,&quot;Bar&quot;, list);\r\n\t\tSystem.out.println(v);\r\n```\r\nprints\r\n```\r\n132 (based on current day of 6/15/2022)\r\n```\r\nIf no dates are present after the current day, `0` will be returned and the issue logged.\r\n\r\n**Updated**\r\n\r\nI believe this will be somewhat more efficient since the dates only need to be parsed a single time. \r\n\r\nYou can put date and the actual `ForecastPerDate` object in an `AbstractMap.SimpleEntry` and at the same time parse the `LocalDate`.\r\n- Stream as before.\r\n- create the entry (i.e. `map(fpd -&gt; new SimpleEntry&lt;&gt;(\r\n\t\t\t     \tLocalDate.parse(fpd.date(), dtf), fpd))`\r\n    - this parses the date and stores as the key, the record is the value.\r\n- Now that the date is parsed you can filter as before by getting the key from the entry.\r\n- The `minBy` Comparator is also simpler since there are pre-existing Entry comparators for key and value. So use\r\n     `.collect(Collectors.minBy(Entry.comparingByKey()));`\r\n\r\nPutting it all together.\r\n```\r\nOptional&lt;Entry&lt;LocalDate, ForecastPerDate&gt;&gt; result = forecasts\r\n\t\t.stream()\r\n\t\t.map(fpd -&gt; new SimpleEntry&lt;&gt;(\r\n\t\t\t\tLocalDate.parse(fpd.date(), dtf), fpd))\r\n\t\t.filter(e -&gt; e.getKey().isAfter(LocalDate.now()))\r\n\t\t.collect(Collectors.minBy(Entry.comparingByKey()));\r\n```\r\nTo get the result there is one extra level of indirection. Get the Optional contents followed by the `Entry.value()` and then the `value` from `ForecastPerDate` object.\r\n```\r\nif (result.isPresent()) {\r\n\treturn availabilityAmountFormatter(result.get().getValue().value());\r\n}\r\n```","title":"Find the closest value by property with Stream API","body":"<p>Here is one approach.</p>\n<ul>\n<li>stream the collection of objects</li>\n<li>filter out any dates older than and including today.</li>\n<li>then collect using <code>Collectors.minBy</code> and a special comparator.</li>\n<li>then use the result with the rest of your code to either return the value or log the result.</li>\n</ul>\n<pre><code>public Long getAvailabilityFromForecastData(final String fuCode,\n        final String articleCode,\n        final Collection&lt;ForecastPerDate&gt; forecasts) {\n    \n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;);\n    \n    Comparator&lt;ForecastPerDate&gt; comp =\n            Comparator.comparing(f -&gt; LocalDate.parse(f.date(), dtf),\n                    (date1, date2) -&gt; date1.compareTo(date2));\n    \n    Optional&lt;ForecastPerDate&gt; result = forecasts.stream()\n            .filter(fpd -&gt; LocalDate.parse(fpd.date(),dtf)\n                    .isAfter(LocalDate.now()))\n            .collect(Collectors.minBy(comp));\n    \n    if (result.isPresent()) {\n        return availabilityAmountFormatter(result.get().value());\n    }\n    log.info(\n            &quot;Resorting to fallback for FU {} articleCode {}, 0 availability for article!  Forecasts: {}&quot;,\n            fuCode, articleCode, forecasts);\n    return 0L;\n}\n</code></pre>\n<p><strong>Demo</strong></p>\n<p>Note: for this answer and demo I included in the above method a <code>DateTimeFormatter</code> since I don't know the format of your dates. You will probably need to alter it for your application.</p>\n<pre><code>        List&lt;ForecastPerDate&gt; list = List.of(\n                new ForecastPerDate(&quot;6/14/2022&quot;, 112.33),\n                new ForecastPerDate(&quot;6/19/2022&quot;, 122.33),\n                new ForecastPerDate(&quot;6/16/2022&quot;, 132.33),\n                new ForecastPerDate(&quot;6/20/2022&quot;, 142.33));\n        long v = getAvailabilityFromForecastData(&quot;Foo&quot;,&quot;Bar&quot;, list);\n        System.out.println(v);\n</code></pre>\n<p>prints</p>\n<pre><code>132 (based on current day of 6/15/2022)\n</code></pre>\n<p>If no dates are present after the current day, <code>0</code> will be returned and the issue logged.</p>\n<p><strong>Updated</strong></p>\n<p>I believe this will be somewhat more efficient since the dates only need to be parsed a single time.</p>\n<p>You can put date and the actual <code>ForecastPerDate</code> object in an <code>AbstractMap.SimpleEntry</code> and at the same time parse the <code>LocalDate</code>.</p>\n<ul>\n<li>Stream as before.</li>\n<li>create the entry (i.e. <code>map(fpd -&gt; new SimpleEntry&lt;&gt;( LocalDate.parse(fpd.date(), dtf), fpd))</code>\n<ul>\n<li>this parses the date and stores as the key, the record is the value.</li>\n</ul>\n</li>\n<li>Now that the date is parsed you can filter as before by getting the key from the entry.</li>\n<li>The <code>minBy</code> Comparator is also simpler since there are pre-existing Entry comparators for key and value. So use\n<code>.collect(Collectors.minBy(Entry.comparingByKey()));</code></li>\n</ul>\n<p>Putting it all together.</p>\n<pre><code>Optional&lt;Entry&lt;LocalDate, ForecastPerDate&gt;&gt; result = forecasts\n        .stream()\n        .map(fpd -&gt; new SimpleEntry&lt;&gt;(\n                LocalDate.parse(fpd.date(), dtf), fpd))\n        .filter(e -&gt; e.getKey().isAfter(LocalDate.now()))\n        .collect(Collectors.minBy(Entry.comparingByKey()));\n</code></pre>\n<p>To get the result there is one extra level of indirection. Get the Optional contents followed by the <code>Entry.value()</code> and then the <code>value</code> from <code>ForecastPerDate</code> object.</p>\n<pre><code>if (result.isPresent()) {\n    return availabilityAmountFormatter(result.get().getValue().value());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655371408,"creation_date":1655337919,"answer_id":72639067,"question_id":72633761,"body_markdown":"&gt; I assume this probably can be solved with a `reduce()`\r\n\r\nIt&#39;s a perfectly valid use case for `reduce()`.\r\n\r\nI have one proposal regarding the structure of `ForecastPerDate`. It would be far more convenient to store the date as `LocalDate` and not as `String`. That is the correct way of dealing with dates, because there&#39;s a little you can do with a string representing the date without parsing.\r\n\r\nAnd even if you don&#39;t consider the idea of changing the `ForecastPerDate` as a possible option, it would not be difficult to adopt the following approach.\r\n\r\nI&#39;ll proceed with `ForecastPerDate` record defined as follows:\r\n\r\n```\r\npublic record ForecastPerDate(LocalDate date, Double value) {}\r\n```\r\n\r\n&gt; Find items that have `date &gt;= today`\r\n\r\nWhen we need to compare the two `LocalDate` objects there&#39;s no need to extract day from epoch and manipulate with them manually, basically it&#39;s a violation of the *Information expert principle* because `LocalDate` instances are capable to compare their data. Just let them do that by using `ifAfter()` and `equals()`.\r\n\r\nAnd there&#39;s no need for the intermediate `Map`. We can perform the reduction on the `ForecastPerDate` objects by always picking the one with the closest upcoming date. \r\n\r\nIn the code below, [`reduce()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)) produces the result as an `Optional&lt;ForecastPerDate&gt;` (because *identity* is not provided) which gets transformed into `Optional&lt;Long&gt;`. If optional is empty, then a default value of `0L` will be provided.\r\n\r\nThat&#39;s how it might look like:\r\n\r\n    public static Long getAvailabilityFromForecastData(final String fuCode,\r\n                                                       final String articleCode,\r\n                                                       final Collection&lt;ForecastPerDate&gt; forecasts) {\r\n        // writing a log message\r\n        \r\n        LocalDate now = LocalDate.now();\r\n        \r\n        Long mostClosestForecastValue = forecasts.stream()\r\n            .filter(forecast -&gt; forecast.date().isAfter(now) || forecast.date.equals(now)) // today in the future\r\n            .filter(forecast -&gt; forecast.value() != null)\r\n            .reduce((result, next) -&gt; result.date().isBefore(next.date()) ? result : next) // Optional&lt;ForecastPerDate&gt;\r\n            .map(forecast -&gt; availabilityAmountFormatter(forecast.value())) // Optional&lt;Long&gt;\r\n            .orElse(0L); // extracting Long value from the optional\r\n        \r\n        // writing a log message\r\n        \r\n        return mostClosestForecastValue;\r\n    }\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/sfe)","title":"Find the closest value by property with Stream API","body":"<blockquote>\n<p>I assume this probably can be solved with a <code>reduce()</code></p>\n</blockquote>\n<p>It's a perfectly valid use case for <code>reduce()</code>.</p>\n<p>I have one proposal regarding the structure of <code>ForecastPerDate</code>. It would be far more convenient to store the date as <code>LocalDate</code> and not as <code>String</code>. That is the correct way of dealing with dates, because there's a little you can do with a string representing the date without parsing.</p>\n<p>And even if you don't consider the idea of changing the <code>ForecastPerDate</code> as a possible option, it would not be difficult to adopt the following approach.</p>\n<p>I'll proceed with <code>ForecastPerDate</code> record defined as follows:</p>\n<pre><code>public record ForecastPerDate(LocalDate date, Double value) {}\n</code></pre>\n<blockquote>\n<p>Find items that have <code>date &gt;= today</code></p>\n</blockquote>\n<p>When we need to compare the two <code>LocalDate</code> objects there's no need to extract day from epoch and manipulate with them manually, basically it's a violation of the <em>Information expert principle</em> because <code>LocalDate</code> instances are capable to compare their data. Just let them do that by using <code>ifAfter()</code> and <code>equals()</code>.</p>\n<p>And there's no need for the intermediate <code>Map</code>. We can perform the reduction on the <code>ForecastPerDate</code> objects by always picking the one with the closest upcoming date.</p>\n<p>In the code below, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>reduce()</code></a> produces the result as an <code>Optional&lt;ForecastPerDate&gt;</code> (because <em>identity</em> is not provided) which gets transformed into <code>Optional&lt;Long&gt;</code>. If optional is empty, then a default value of <code>0L</code> will be provided.</p>\n<p>That's how it might look like:</p>\n<pre><code>public static Long getAvailabilityFromForecastData(final String fuCode,\n                                                   final String articleCode,\n                                                   final Collection&lt;ForecastPerDate&gt; forecasts) {\n    // writing a log message\n    \n    LocalDate now = LocalDate.now();\n    \n    Long mostClosestForecastValue = forecasts.stream()\n        .filter(forecast -&gt; forecast.date().isAfter(now) || forecast.date.equals(now)) // today in the future\n        .filter(forecast -&gt; forecast.value() != null)\n        .reduce((result, next) -&gt; result.date().isBefore(next.date()) ? result : next) // Optional&lt;ForecastPerDate&gt;\n        .map(forecast -&gt; availabilityAmountFormatter(forecast.value())) // Optional&lt;Long&gt;\n        .orElse(0L); // extracting Long value from the optional\n    \n    // writing a log message\n    \n    return mostClosestForecastValue;\n}\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/sfe\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":12107389,"reputation":733,"user_id":8845653,"display_name":"Josep Bigorra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72634672,"answer_count":4,"score":1,"last_activity_date":1655378929,"creation_date":1655305651,"question_id":72633761,"body_markdown":"I am currently working on some Java code that has a goal:\r\n\r\n- Receive list of `Collection&lt;ForecastPerDate&gt;` (see below);\r\n- Find items that have `date &gt;= today`;\r\n- Get the `value` of the item with date closest to *today* (minimum `diff`);\r\n- Floor it and round it;\r\n- If no data has been found, it should fallback to `0` with a log message.\r\n\r\n```java\r\npublic record ForecastPerDate(String date, Double value) {}\r\n```\r\n\r\nMy implementation so far seems pretty efficient and sane to me, but I don&#39;t like mutating variables or state (I am becoming more of a Haskell dev lately haha) and always quite liked using the Streams API of Java. \r\n\r\nJust FYI the project uses Java 17 so that helps. I assume this probably can be solved with a `reduce()` function and some accumulator but I am unclear on how to, at least without causing more than one iteration.\r\n\r\nHere is the code:\r\n\r\n```java\r\n @Override\r\n    public Long getAvailabilityFromForecastData(final String fuCode,\r\n                                                final String articleCode,\r\n                                                final Collection&lt;ForecastPerDate&gt; forecasts) {\r\n        if (forecasts == null || forecasts.isEmpty()) {\r\n            log.info(\r\n                    &quot;No forecasts received for FU {} articleCode {}, assuming 0!&quot;,\r\n                    fuCode,\r\n                    articleCode\r\n            );\r\n            return 0L;\r\n        }\r\n\r\n        final long todayEpochDay = LocalDate.now().toEpochDay();\r\n        final Map&lt;String, Double&gt; forecastMap = new HashMap&lt;&gt;();\r\n        long smallestDiff = Integer.MAX_VALUE;\r\n        String smallestDiffDate = null;\r\n\r\n        for (final ForecastPerDate forecast : forecasts) {\r\n            final long forecastEpochDay = LocalDate.parse(forecast.date()).toEpochDay();\r\n            final long diff = forecastEpochDay - todayEpochDay;\r\n\r\n            if (diff &gt;= 0 &amp;&amp; diff &lt; smallestDiff) {\r\n                // we look for values in present or future (&gt;=0)\r\n                smallestDiff = diff;\r\n                smallestDiffDate = forecast.date();\r\n                forecastMap.put(forecast.date(), forecast.value());\r\n            }\r\n        }\r\n\r\n        if (smallestDiffDate != null) {\r\n            final Double wantedForecastValue = forecastMap.get(smallestDiffDate);\r\n            if (wantedForecastValue != null) {\r\n                return availabilityAmountFormatter(wantedForecastValue);\r\n            }\r\n        }\r\n\r\n        log.info(\r\n                &quot;Resorting to fallback for FU {} articleCode {}, 0 availability for article!  Forecasts: {}&quot;,\r\n                fuCode,\r\n                articleCode,\r\n                forecasts\r\n        );\r\n        return 0L;\r\n    }\r\n\r\n    private Long availabilityAmountFormatter(final Double raw) {\r\n        return Math.round(Math.floor(raw));\r\n    }\r\n```\r\n\r\nEDIT: In the end after all suggestions here, a nice little algorithm came out:\r\n\r\n```java\r\n    private static Long toEpochDay(final String date) {\r\n        return LocalDate.parse(date).toEpochDay();\r\n    }\r\n\r\n    @Override\r\n    public Long getAvailabilityFromForecastData(final String fuCode,\r\n                                                final String articleCode,\r\n                                                final Collection&lt;ForecastPerDate&gt; forecasts) {\r\n        final long today = LocalDate.now().toEpochDay();\r\n        final String fallbackMessage = &quot;Resorting to fallback for FU {} articleCode {},&quot;\r\n                + &quot; 0 availability for article! Forecasts: {}&quot;;\r\n\r\n        if (forecasts == null) {\r\n            log.info(fallbackMessage, fuCode, articleCode, null);\r\n            return 0L;\r\n        }\r\n\r\n        final Optional&lt;ForecastPerDate&gt; result = forecasts.stream()\r\n                .filter(fpd -&gt; toEpochDay(fpd.date()) &gt; today)\r\n                .min(Comparator.comparing(fpd -&gt; toEpochDay(fpd.date()) - today));\r\n\r\n        if (result.isPresent()) {\r\n            return availabilityAmountFormatter(result.get().value());\r\n        } else {\r\n            log.info(fallbackMessage, fuCode, articleCode, forecasts);\r\n            return 0L;\r\n        }\r\n    }\r\n\r\n    private Long availabilityAmountFormatter(final Double raw) {\r\n        return Math.round(Math.floor(raw));\r\n    }\r\n```","title":"Find the closest value by property with Stream API","body":"<p>I am currently working on some Java code that has a goal:</p>\n<ul>\n<li>Receive list of <code>Collection&lt;ForecastPerDate&gt;</code> (see below);</li>\n<li>Find items that have <code>date &gt;= today</code>;</li>\n<li>Get the <code>value</code> of the item with date closest to <em>today</em> (minimum <code>diff</code>);</li>\n<li>Floor it and round it;</li>\n<li>If no data has been found, it should fallback to <code>0</code> with a log message.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public record ForecastPerDate(String date, Double value) {}\n</code></pre>\n<p>My implementation so far seems pretty efficient and sane to me, but I don't like mutating variables or state (I am becoming more of a Haskell dev lately haha) and always quite liked using the Streams API of Java.</p>\n<p>Just FYI the project uses Java 17 so that helps. I assume this probably can be solved with a <code>reduce()</code> function and some accumulator but I am unclear on how to, at least without causing more than one iteration.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n    public Long getAvailabilityFromForecastData(final String fuCode,\n                                                final String articleCode,\n                                                final Collection&lt;ForecastPerDate&gt; forecasts) {\n        if (forecasts == null || forecasts.isEmpty()) {\n            log.info(\n                    &quot;No forecasts received for FU {} articleCode {}, assuming 0!&quot;,\n                    fuCode,\n                    articleCode\n            );\n            return 0L;\n        }\n\n        final long todayEpochDay = LocalDate.now().toEpochDay();\n        final Map&lt;String, Double&gt; forecastMap = new HashMap&lt;&gt;();\n        long smallestDiff = Integer.MAX_VALUE;\n        String smallestDiffDate = null;\n\n        for (final ForecastPerDate forecast : forecasts) {\n            final long forecastEpochDay = LocalDate.parse(forecast.date()).toEpochDay();\n            final long diff = forecastEpochDay - todayEpochDay;\n\n            if (diff &gt;= 0 &amp;&amp; diff &lt; smallestDiff) {\n                // we look for values in present or future (&gt;=0)\n                smallestDiff = diff;\n                smallestDiffDate = forecast.date();\n                forecastMap.put(forecast.date(), forecast.value());\n            }\n        }\n\n        if (smallestDiffDate != null) {\n            final Double wantedForecastValue = forecastMap.get(smallestDiffDate);\n            if (wantedForecastValue != null) {\n                return availabilityAmountFormatter(wantedForecastValue);\n            }\n        }\n\n        log.info(\n                &quot;Resorting to fallback for FU {} articleCode {}, 0 availability for article!  Forecasts: {}&quot;,\n                fuCode,\n                articleCode,\n                forecasts\n        );\n        return 0L;\n    }\n\n    private Long availabilityAmountFormatter(final Double raw) {\n        return Math.round(Math.floor(raw));\n    }\n</code></pre>\n<p>EDIT: In the end after all suggestions here, a nice little algorithm came out:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static Long toEpochDay(final String date) {\n        return LocalDate.parse(date).toEpochDay();\n    }\n\n    @Override\n    public Long getAvailabilityFromForecastData(final String fuCode,\n                                                final String articleCode,\n                                                final Collection&lt;ForecastPerDate&gt; forecasts) {\n        final long today = LocalDate.now().toEpochDay();\n        final String fallbackMessage = &quot;Resorting to fallback for FU {} articleCode {},&quot;\n                + &quot; 0 availability for article! Forecasts: {}&quot;;\n\n        if (forecasts == null) {\n            log.info(fallbackMessage, fuCode, articleCode, null);\n            return 0L;\n        }\n\n        final Optional&lt;ForecastPerDate&gt; result = forecasts.stream()\n                .filter(fpd -&gt; toEpochDay(fpd.date()) &gt; today)\n                .min(Comparator.comparing(fpd -&gt; toEpochDay(fpd.date()) - today));\n\n        if (result.isPresent()) {\n            return availabilityAmountFormatter(result.get().value());\n        } else {\n            log.info(fallbackMessage, fuCode, articleCode, forecasts);\n            return 0L;\n        }\n    }\n\n    private Long availabilityAmountFormatter(final Double raw) {\n        return Math.round(Math.floor(raw));\n    }\n</code></pre>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655279980,"creation_date":1655279980,"answer_id":72627771,"question_id":72627564,"body_markdown":"```NotLoginException``` is the inner exception of your ```RuntimeException```. If you want your controller advice to handle it, catch the RuntimeException buildKey and throw its inner exception.","title":"@ControllerAdvice doesn&#39;t handle more specific exception","body":"<p><code>NotLoginException</code> is the inner exception of your <code>RuntimeException</code>. If you want your controller advice to handle it, catch the RuntimeException buildKey and throw its inner exception.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655281699,"creation_date":1655281699,"answer_id":72628140,"question_id":72627564,"body_markdown":"Based on your question, \r\n\r\n    java.lang.RuntimeException: cn.dev33.satoken.exception.NotLoginException: Invalid Token：\r\n\r\nYour exception type is `java.lang.RuntimeException` &amp; cause of exception is `NotLoginException`.\r\n\r\nController advice will invoke respective method when type of exception matches &amp; not cause of exception. \r\n\r\nSo if you really want to invoke `returnNotLoginException`, then you need to throw `NotLoginException` in your logic instead of throwing `RuntimeException`.\r\n\r\nSomething like:\r\n\r\n    ..\r\n    throw new NotLoginException(&quot;exception&quot;); //in your StpUtil.getLoginId();\r\n    ..\r\n\r\n","title":"@ControllerAdvice doesn&#39;t handle more specific exception","body":"<p>Based on your question,</p>\n<pre><code>java.lang.RuntimeException: cn.dev33.satoken.exception.NotLoginException: Invalid Token：\n</code></pre>\n<p>Your exception type is <code>java.lang.RuntimeException</code> &amp; cause of exception is <code>NotLoginException</code>.</p>\n<p>Controller advice will invoke respective method when type of exception matches &amp; not cause of exception.</p>\n<p>So if you really want to invoke <code>returnNotLoginException</code>, then you need to throw <code>NotLoginException</code> in your logic instead of throwing <code>RuntimeException</code>.</p>\n<p>Something like:</p>\n<pre><code>..\nthrow new NotLoginException(&quot;exception&quot;); //in your StpUtil.getLoginId();\n..\n</code></pre>\n"}],"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655378617,"creation_date":1655278890,"question_id":72627564,"body_markdown":"There&#39;s a piece of code that throws a exception:\r\n`java.lang.RuntimeException: cn.dev33.satoken.exception.NotLoginException: Invalid Token：ldxutBDDKBEDa9LjWNTKLFbW7g7B86qU`.\r\nAnd then it goes into `handleRuntimeException` rather than `returnNotLoginException` method.\r\n\r\n```\r\n@Component\r\n@Slf4j\r\n@Primary\r\npublic class MyLockKeyBuilder extends DefaultLockKeyBuilder {\r\n\r\n  @Override\r\n  public String buildKey(MethodInvocation invocation, String[] definitionKeys) {\r\n    String key = super.buildKey(invocation, definitionKeys);\r\n    Object loginId = StpUtil.getLoginId(); // throw a exception\r\n    key = loginId.toString();\r\n    return key;\r\n  }\r\n}\r\n```\r\n\r\n```\r\n    @ControllerAdvice(basePackages = &quot;com.test&quot;)\r\n    @Slf4j\r\n    public class GraceExceptionHandlerApp {\r\n       @ResponseStatus(HttpStatus.UNAUTHORIZED)\r\n       @ExceptionHandler(value = NotLoginException.class)\r\n       @ResponseBody\r\n        public JSONObject returnNotLoginException(NotLoginException e) {\r\n          e.printStackTrace();\r\n          String message = e.getMessage();\r\n          ResponseStatusEnum failed = ResponseStatusEnum.UNAUTHORIZED;\r\n          failed.setMsg(message);\r\n          return ZheliResult.exception(failed);\r\n        }\r\n\r\n       @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n       @ExceptionHandler(RuntimeException.class)\r\n       @ResponseBody\r\n       public JSONObject handleRuntimeException(RuntimeException e, HttpServletRequest request)\r\n       {\r\n         String requestURI = request.getRequestURI();\r\n         return ZheliResult.errorCustom(ResponseStatusEnum.FAILED);\r\n       }\r\n    ...\r\n}\r\n\r\n```\r\nI want it goes into the `returnNotLoginException` method, could anyone tell me how to do it?\r\n\r\n\r\n---\r\nUPDATE\r\n\r\nI&#39;ve made a mistake, really, for I didn&#39;t offer enough info.\r\n\r\nMissed Info:\r\n1. My application was a distributed system and services to invoke another via rpc communication. `MyLockKeyBuilder ` was on the provider service, and `GraceExceptionHandlerApp ` was on the comsumer service.\r\n2. When the provider service throw a exception and before it being passed to the comsumer sevice, it would be filter by a Filter called `ExceptionFilter`, which wrap the exception that the comsumer side doesn&#39;t recognize  to `RuntimeException`, to avoid serialization issue.\r\n\r\nFinally I solved this problem by rewritting the `ExceptionFilter` class to  allow  original `NotLoginException` to be passed to the consumer side.\r\n","title":"@ControllerAdvice doesn&#39;t handle more specific exception","body":"<p>There's a piece of code that throws a exception:\n<code>java.lang.RuntimeException: cn.dev33.satoken.exception.NotLoginException: Invalid Token：ldxutBDDKBEDa9LjWNTKLFbW7g7B86qU</code>.\nAnd then it goes into <code>handleRuntimeException</code> rather than <code>returnNotLoginException</code> method.</p>\n<pre><code>@Component\n@Slf4j\n@Primary\npublic class MyLockKeyBuilder extends DefaultLockKeyBuilder {\n\n  @Override\n  public String buildKey(MethodInvocation invocation, String[] definitionKeys) {\n    String key = super.buildKey(invocation, definitionKeys);\n    Object loginId = StpUtil.getLoginId(); // throw a exception\n    key = loginId.toString();\n    return key;\n  }\n}\n</code></pre>\n<pre><code>    @ControllerAdvice(basePackages = &quot;com.test&quot;)\n    @Slf4j\n    public class GraceExceptionHandlerApp {\n       @ResponseStatus(HttpStatus.UNAUTHORIZED)\n       @ExceptionHandler(value = NotLoginException.class)\n       @ResponseBody\n        public JSONObject returnNotLoginException(NotLoginException e) {\n          e.printStackTrace();\n          String message = e.getMessage();\n          ResponseStatusEnum failed = ResponseStatusEnum.UNAUTHORIZED;\n          failed.setMsg(message);\n          return ZheliResult.exception(failed);\n        }\n\n       @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n       @ExceptionHandler(RuntimeException.class)\n       @ResponseBody\n       public JSONObject handleRuntimeException(RuntimeException e, HttpServletRequest request)\n       {\n         String requestURI = request.getRequestURI();\n         return ZheliResult.errorCustom(ResponseStatusEnum.FAILED);\n       }\n    ...\n}\n\n</code></pre>\n<p>I want it goes into the <code>returnNotLoginException</code> method, could anyone tell me how to do it?</p>\n<hr />\n<p>UPDATE</p>\n<p>I've made a mistake, really, for I didn't offer enough info.</p>\n<p>Missed Info:</p>\n<ol>\n<li>My application was a distributed system and services to invoke another via rpc communication. <code>MyLockKeyBuilder </code> was on the provider service, and <code>GraceExceptionHandlerApp </code> was on the comsumer service.</li>\n<li>When the provider service throw a exception and before it being passed to the comsumer sevice, it would be filter by a Filter called <code>ExceptionFilter</code>, which wrap the exception that the comsumer side doesn't recognize  to <code>RuntimeException</code>, to avoid serialization issue.</li>\n</ol>\n<p>Finally I solved this problem by rewritting the <code>ExceptionFilter</code> class to  allow  original <code>NotLoginException</code> to be passed to the consumer side.</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":1,"creation_date":1655369909,"post_id":72642966,"comment_id":128318104,"body_markdown":"We need to see your `dependencies`, you&#39;re likely missing a Spring Boot dependency. Depending on your needs, the simplest one could be e.g. `dependencies { implementation &#39;org.springframework.boot:spring-boot-starter&#39; }` with many more possibilities (see https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-starters for more Spring Boot Starters). If you have that, maybe just let IntelliJ know you want to refresh by opening the Gradle view and reloading the project from there.","body":"We need to see your <code>dependencies</code>, you&#39;re likely missing a Spring Boot dependency. Depending on your needs, the simplest one could be e.g. <code>dependencies { implementation &#39;org.springframework.boot:spring-boot-starter&#39; }</code> with many more possibilities (see <a href=\"https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-starters\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/tree/main/&hellip;</a> for more Spring Boot Starters). If you have that, maybe just let IntelliJ know you want to refresh by opening the Gradle view and reloading the project from there."}],"answers":[{"tags":[],"owner":{"account_id":24472446,"reputation":43,"user_id":18391983,"display_name":"DarkBot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655373269,"creation_date":1655373269,"answer_id":72643932,"question_id":72642966,"body_markdown":"I found the answer, so it appears that the Gradle settings dependencies were initiated using the key word &quot;compile&quot;, When I changed it to &quot;implementation&quot; it the IDE started to re-download all the Gradle files and it eventually worked ","title":"java: package org.springframework.stereotype does not exist","body":"<p>I found the answer, so it appears that the Gradle settings dependencies were initiated using the key word &quot;compile&quot;, When I changed it to &quot;implementation&quot; it the IDE started to re-download all the Gradle files and it eventually worked</p>\n"}],"owner":{"account_id":24472446,"reputation":43,"user_id":18391983,"display_name":"DarkBot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655378261,"creation_date":1655369164,"question_id":72642966,"body_markdown":"I&#39;m trying to run a project, so I opened the folder from InteliJ, but it seems that all @Annotations are not working and it gives me this error \r\n\r\n&gt; java: package org.springframework.stereotype does not exist\r\n\r\nNote: \r\nIt&#39;s a Gradle project that doesn&#39;t have Pom.xml. Not sure if it requires a certain JDK.\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.5.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    \tid &#39;war&#39;\r\n    }\r\n\r\n","title":"java: package org.springframework.stereotype does not exist","body":"<p>I'm trying to run a project, so I opened the folder from InteliJ, but it seems that all @Annotations are not working and it gives me this error</p>\n<blockquote>\n<p>java: package org.springframework.stereotype does not exist</p>\n</blockquote>\n<p>Note:\nIt's a Gradle project that doesn't have Pom.xml. Not sure if it requires a certain JDK.</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'war'\n}\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":1266843,"reputation":93044,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1375666102,"post_id":9775796,"comment_id":26407765,"body_markdown":"I wonder if this problem could be circumvented by writing to a CSV file and importing to Excel 2007?","body":"I wonder if this problem could be circumvented by writing to a CSV file and importing to Excel 2007?"}],"answers":[{"tags":[],"owner":{"account_id":3645,"reputation":2084,"user_id":5271,"display_name":"Turismo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1332183697,"creation_date":1332183248,"answer_id":9776113,"question_id":9775796,"body_markdown":"You might want to check out what the POI project did recently with the [SXSSF API](http://poi.apache.org/spreadsheet/index.html#SXSSF). There is also a section in the [How-To](http://poi.apache.org/spreadsheet/how-to.html#sxssf).  \r\nFor the example code you provided this would be the perfect fit as you just create data and then forget about it after creation. With the SXSSF extension you can start writing the data to the file immediately. This keeps the memory footprint low.\r\n\r\nPlease note that this feature is not present in Apache POI 3.7 but was added in Apache POI 3.8 beta 3.   \r\nFinal version 3.8 is currently being voted on. So if you have to use a final version it should not be too long before that is released. \r\n","title":"Apache POI 3.7 OutOfMemoryError: Java heap space when writing to large no of rows to xlsx files","body":"<p>You might want to check out what the POI project did recently with the <a href=\"http://poi.apache.org/spreadsheet/index.html#SXSSF\">SXSSF API</a>. There is also a section in the <a href=\"http://poi.apache.org/spreadsheet/how-to.html#sxssf\">How-To</a>.<br>\nFor the example code you provided this would be the perfect fit as you just create data and then forget about it after creation. With the SXSSF extension you can start writing the data to the file immediately. This keeps the memory footprint low.</p>\n\n<p>Please note that this feature is not present in Apache POI 3.7 but was added in Apache POI 3.8 beta 3.<br>\nFinal version 3.8 is currently being voted on. So if you have to use a final version it should not be too long before that is released. </p>\n"},{"tags":[],"owner":{"account_id":1603367,"reputation":1627,"user_id":1483978,"accept_rate":100,"display_name":"Israelm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344271701,"creation_date":1344271701,"answer_id":11832512,"question_id":9775796,"body_markdown":"I am having the same issue, this not a fix but it works, create different excel files and then merge them manually, i know this is not a good solution but since it was urgent for me had no choice.\r\n\r\nYou can do this in two different ways:\r\n\r\n 1.- Create a new file once yoi have reached the 3000 rows:\r\n\r\n    XSSFWorkbook wb = new XSSFWorkbook();\r\n    fileOut = new FileOutputStream(&quot;file1.xlsx&quot;);\r\n    fileOut = new FileOutputStream(&quot;file2.xlsx&quot;);...\r\n\r\nyou can add this into a for statement to create them dinamically, once you have reached the first 3000 records save the file and continue writting on the next one.\r\n\r\n 2.- Delimit the result set or source records to get less than 3000 records, and run again the entire program but with a different query range each time:\r\n\r\n    between recNum = 1 and recNum &lt;=100\r\n\r\nthe next run will be:\r\n\r\n    between recNum &gt; 100 and recNum &lt;= 200\r\n\r\nThis is just an example, hope this can be useful to you.\r\n","title":"Apache POI 3.7 OutOfMemoryError: Java heap space when writing to large no of rows to xlsx files","body":"<p>I am having the same issue, this not a fix but it works, create different excel files and then merge them manually, i know this is not a good solution but since it was urgent for me had no choice.</p>\n\n<p>You can do this in two different ways:</p>\n\n<p>1.- Create a new file once yoi have reached the 3000 rows:</p>\n\n<pre><code>XSSFWorkbook wb = new XSSFWorkbook();\nfileOut = new FileOutputStream(\"file1.xlsx\");\nfileOut = new FileOutputStream(\"file2.xlsx\");...\n</code></pre>\n\n<p>you can add this into a for statement to create them dinamically, once you have reached the first 3000 records save the file and continue writting on the next one.</p>\n\n<p>2.- Delimit the result set or source records to get less than 3000 records, and run again the entire program but with a different query range each time:</p>\n\n<pre><code>between recNum = 1 and recNum &lt;=100\n</code></pre>\n\n<p>the next run will be:</p>\n\n<pre><code>between recNum &gt; 100 and recNum &lt;= 200\n</code></pre>\n\n<p>This is just an example, hope this can be useful to you.</p>\n"}],"owner":{"account_id":1154764,"reputation":165,"user_id":1135674,"accept_rate":17,"display_name":"HungryProgrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10277,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1655378190,"creation_date":1332181818,"question_id":9775796,"body_markdown":"I need to write a result set of more than 65000 rows in xlsx file. So, I am trying to use Apache POI 3.7. I get an OutOfMemoryError: Java heap space. How do I solve this problem besides increasing JVM memory which doesn&#39;t seem to solve the problem.\r\n\r\nSimple sample code:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\tWorkbook wb = new XSSFWorkbook();\r\n\t\tCreationHelper createHelper = wb.getCreationHelper();\r\n\t\tSheet sheet = wb.createSheet(&quot;new sheet&quot;);\r\n\r\n\t\t// Create a row and put some cells in it. Rows are 0 based.\r\n\t\tfor (int i=0;i&lt;65000;i++){\r\n            Row row = sheet.createRow((int) i);\r\n\t\t// Create a cell and put a value in it.\r\n\t\tCell cell = row.createCell(0);\r\n\t\tcell.setCellValue(1);\r\n\r\n\t\t// Or do it on one line.\r\n\t\trow.createCell(1).setCellValue(1.2);\r\n\t\trow.createCell(2).setCellValue(\r\n\t\t\t\tcreateHelper.createRichTextString(&quot;This is a string&quot;));\r\n\t\trow.createCell(3).setCellValue(true);\r\n        }\r\n       \r\n\r\n\t\t// Write the output to a file\r\n\t\tFileOutputStream fileOut = new FileOutputStream(&quot;test1.xls&quot;);\r\n        fileOut.flush();\r\n\t\twb.write(fileOut);\r\n\t\tfileOut.close();\r\n\t}","title":"Apache POI 3.7 OutOfMemoryError: Java heap space when writing to large no of rows to xlsx files","body":"<p>I need to write a result set of more than 65000 rows in xlsx file. So, I am trying to use Apache POI 3.7. I get an OutOfMemoryError: Java heap space. How do I solve this problem besides increasing JVM memory which doesn't seem to solve the problem.</p>\n<p>Simple sample code:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    Workbook wb = new XSSFWorkbook();\n    CreationHelper createHelper = wb.getCreationHelper();\n    Sheet sheet = wb.createSheet(&quot;new sheet&quot;);\n\n    // Create a row and put some cells in it. Rows are 0 based.\n    for (int i=0;i&lt;65000;i++){\n        Row row = sheet.createRow((int) i);\n    // Create a cell and put a value in it.\n    Cell cell = row.createCell(0);\n    cell.setCellValue(1);\n\n    // Or do it on one line.\n    row.createCell(1).setCellValue(1.2);\n    row.createCell(2).setCellValue(\n            createHelper.createRichTextString(&quot;This is a string&quot;));\n    row.createCell(3).setCellValue(true);\n    }\n   \n\n    // Write the output to a file\n    FileOutputStream fileOut = new FileOutputStream(&quot;test1.xls&quot;);\n    fileOut.flush();\n    wb.write(fileOut);\n    fileOut.close();\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655369714,"post_id":72643003,"comment_id":128318038,"body_markdown":"How big are those `rs.getObject(i + 1).toString()` strings? There is overhead associated with each row/cell so 1 million record might need 10 GB heap.","body":"How big are those <code>rs.getObject(i + 1).toString()</code> strings? There is overhead associated with each row/cell so 1 million record might need 10 GB heap."},{"owner":{"account_id":25569891,"reputation":1,"user_id":19350442,"display_name":"matondo_gc"},"score":0,"creation_date":1655370407,"post_id":72643003,"comment_id":128318274,"body_markdown":"Object getObject(int columnIndex) throws SQLException;\n\n    public String toString() {\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\n    }","body":"Object getObject(int columnIndex) throws SQLException;      public String toString() {         return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());     }"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1655370577,"post_id":72643003,"comment_id":128318328,"body_markdown":"POI’s XLSX implementation can be very memory demanding. You may try [POI’s stream API](https://poi.apache.org/components/spreadsheet/how-to.html#sxssf)","body":"POI’s XLSX implementation can be very memory demanding. You may try <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html#sxssf\" rel=\"nofollow noreferrer\">POI’s stream API</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655378086,"post_id":72643003,"comment_id":128320914,"body_markdown":"In general, if `-Xmx1024m` doesn&#39;t work, then you need to specify a higher number, but given POIs memory requirements, that will unlikely save you in this case.","body":"In general, if <code>-Xmx1024m</code> doesn&#39;t work, then you need to specify a higher number, but given POIs memory requirements, that will unlikely save you in this case."}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655371441,"creation_date":1655371441,"answer_id":72643484,"question_id":72643003,"body_markdown":"As mentioned in the comments, there is an alternative to XSSFWorkbook, [SXSSFWorkbook][1]:\r\n\r\nA new workbook can be created where you can specify the number of rows to be kept in memory. If there are more than `100` records, the first record in memory will be flushed and removed from memory, then the second one and so on (when you reach record `101` you will not have access to record `0`):\r\n```\r\nSXSSFWorkbook wb = new SXSSFWorkbook(100);\r\n```\r\n\r\nYou can also keep the records in memory if you pass `-1` as a parameter to the constructor, but you might run into `OutOfMemoryError` again:\r\n```\r\nSXSSFWorkbook wb = new SXSSFWorkbook(-1);\r\n```\r\n\r\n  [1]: https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFWorkbook.html","title":"Java heap space even use -Xmx1024m","body":"<p>As mentioned in the comments, there is an alternative to XSSFWorkbook, <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/streaming/SXSSFWorkbook.html\" rel=\"nofollow noreferrer\">SXSSFWorkbook</a>:</p>\n<p>A new workbook can be created where you can specify the number of rows to be kept in memory. If there are more than <code>100</code> records, the first record in memory will be flushed and removed from memory, then the second one and so on (when you reach record <code>101</code> you will not have access to record <code>0</code>):</p>\n<pre><code>SXSSFWorkbook wb = new SXSSFWorkbook(100);\n</code></pre>\n<p>You can also keep the records in memory if you pass <code>-1</code> as a parameter to the constructor, but you might run into <code>OutOfMemoryError</code> again:</p>\n<pre><code>SXSSFWorkbook wb = new SXSSFWorkbook(-1);\n</code></pre>\n"}],"owner":{"account_id":25569891,"reputation":1,"user_id":19350442,"display_name":"matondo_gc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655378196,"answer_count":1,"score":0,"last_activity_date":1655378035,"creation_date":1655369356,"question_id":72643003,"body_markdown":"In my project, I&#39;m trying to copy a big file in DB2 and convert into Excel xlsx and iIhave a problem with \r\n&gt; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space.\r\n\r\nI tried to use -Xmx1024m, but it doesn&#39;t work. The file has 1000000 record and it stops at record 6043. \r\n\r\n           \r\n\r\n    int index = 1;\r\n\r\n    while (rs.next()) {\r\n        XSSFRow row = sheet.createRow((short) index);\r\n        for (int i = 0; i &lt; columns; i++) {\r\n            System.out.println(rs.getObject(i + 1).toString());\r\n            XSSFCell cell = row.createCell((short) i);\r\n            cell.setCellValue(rs.getObject(i + 1).toString());\r\n            cell.setCellStyle(cellStyle2);\r\n\r\n           // System.out.println(&quot;///// INDEX :  &gt;&gt;  &quot; + index);\r\n        }\r\n\r\n        index++;\r\n        \r\n    }\r\n\r\nMy error:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.resize(Saver.java:1700)\r\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.preEmit(Saver.java:1303)\r\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.emit(Saver.java:1190)\r\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.emitElement(Saver.java:962)\r\n        at org.apache.xmlbeans.impl.store.Saver.processElement(Saver.java:476)\r\n        at org.apache.xmlbeans.impl.store.Saver.process(Saver.java:307)\r\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.saveToString(Saver.java:1864)\r\n        at org.apache.xmlbeans.impl.store.Cursor._xmlText(Cursor.java:546)\r\n        at org.apache.xmlbeans.impl.store.Cursor.xmlText(Cursor.java:2436)\r\n        at org.apache.xmlbeans.impl.values.XmlObjectBase.xmlText(XmlObjectBase.java:1500)\r\n        at org.apache.poi.xssf.model.SharedStringsTable.getKey(SharedStringsTable.java:134)\r\n        at org.apache.poi.xssf.model.SharedStringsTable.addEntry(SharedStringsTable.java:180)\r\n        at org.apache.poi.xssf.usermodel.XSSFCell.setCellValue(XSSFCell.java:350)\r\n        at org.apache.poi.xssf.usermodel.XSSFCell.setCellValue(XSSFCell.java:320)\r\n        at fileconvertorv010.GerarExcel.&lt;init&gt;(GerarExcel.java:121)\r\n        at fileconvertorv011.Main.main(Main.java:33)\r\nJava Result: 1\r\n```","title":"Java heap space even use -Xmx1024m","body":"<p>In my project, I'm trying to copy a big file in DB2 and convert into Excel xlsx and iIhave a problem with</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space.</p>\n</blockquote>\n<p>I tried to use -Xmx1024m, but it doesn't work. The file has 1000000 record and it stops at record 6043.</p>\n<pre><code>int index = 1;\n\nwhile (rs.next()) {\n    XSSFRow row = sheet.createRow((short) index);\n    for (int i = 0; i &lt; columns; i++) {\n        System.out.println(rs.getObject(i + 1).toString());\n        XSSFCell cell = row.createCell((short) i);\n        cell.setCellValue(rs.getObject(i + 1).toString());\n        cell.setCellStyle(cellStyle2);\n\n       // System.out.println(&quot;///// INDEX :  &gt;&gt;  &quot; + index);\n    }\n\n    index++;\n    \n}\n</code></pre>\n<p>My error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.resize(Saver.java:1700)\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.preEmit(Saver.java:1303)\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.emit(Saver.java:1190)\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.emitElement(Saver.java:962)\n        at org.apache.xmlbeans.impl.store.Saver.processElement(Saver.java:476)\n        at org.apache.xmlbeans.impl.store.Saver.process(Saver.java:307)\n        at org.apache.xmlbeans.impl.store.Saver$TextSaver.saveToString(Saver.java:1864)\n        at org.apache.xmlbeans.impl.store.Cursor._xmlText(Cursor.java:546)\n        at org.apache.xmlbeans.impl.store.Cursor.xmlText(Cursor.java:2436)\n        at org.apache.xmlbeans.impl.values.XmlObjectBase.xmlText(XmlObjectBase.java:1500)\n        at org.apache.poi.xssf.model.SharedStringsTable.getKey(SharedStringsTable.java:134)\n        at org.apache.poi.xssf.model.SharedStringsTable.addEntry(SharedStringsTable.java:180)\n        at org.apache.poi.xssf.usermodel.XSSFCell.setCellValue(XSSFCell.java:350)\n        at org.apache.poi.xssf.usermodel.XSSFCell.setCellValue(XSSFCell.java:320)\n        at fileconvertorv010.GerarExcel.&lt;init&gt;(GerarExcel.java:121)\n        at fileconvertorv011.Main.main(Main.java:33)\nJava Result: 1\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka","spring-kafka-test"],"owner":{"account_id":1160958,"reputation":766,"user_id":1140466,"accept_rate":25,"display_name":"Remi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655377834,"creation_date":1650363971,"question_id":71923421,"body_markdown":"According to compatibility matrix &lt;https://spring.io/projects/spring-kafka&gt; kafka-spring-test v2.7.12 should work with kafka-clients 2.7.0 - 2.8.1 but I&#39;m getting runtime exceptions during embedded kafka tests.\r\npom.xml\r\n\r\n    &lt;dependencies&gt;\r\n        ...\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.17&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.17&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nException during runtime:\r\n\r\n    KafkaMsgFlowEmbeddedTest  Time elapsed: 2.005 sec  &lt;&lt;&lt; ERROR!\r\n    java.lang.NoSuchMethodError: org.apache.kafka.common.protocol.ApiKeys.enabledApis()Ljava/util/List;\r\n\r\nWhen I change kafka-clients to 2.7.2 all works fine. The problem is with 2.8.1. We are switching production to 2.8.1 so I need to test with this version of kafka-clients.\r\n\r\nCould anyone advice how should I fix it? ","title":"Embedded kafka-spring-test not working with kafka-clients 2.8.1","body":"<p>According to compatibility matrix <a href=\"https://spring.io/projects/spring-kafka\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-kafka</a> kafka-spring-test v2.7.12 should work with kafka-clients 2.7.0 - 2.8.1 but I'm getting runtime exceptions during embedded kafka tests.\npom.xml</p>\n<pre><code>&lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.17&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;5.3.17&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;version&gt;2.7.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n        &lt;version&gt;2.7.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Exception during runtime:</p>\n<pre><code>KafkaMsgFlowEmbeddedTest  Time elapsed: 2.005 sec  &lt;&lt;&lt; ERROR!\njava.lang.NoSuchMethodError: org.apache.kafka.common.protocol.ApiKeys.enabledApis()Ljava/util/List;\n</code></pre>\n<p>When I change kafka-clients to 2.7.2 all works fine. The problem is with 2.8.1. We are switching production to 2.8.1 so I need to test with this version of kafka-clients.</p>\n<p>Could anyone advice how should I fix it?</p>\n"},{"tags":["java","postgresql","spring-boot","ssl"],"comments":[{"owner":{"account_id":5303668,"reputation":109,"user_id":4232381,"display_name":"JJ Ward"},"score":0,"creation_date":1655309738,"post_id":72630182,"comment_id":128303983,"body_markdown":"Do you have access to the postgresql.conf and pg_hba.conf files?  What client are you using to connect?","body":"Do you have access to the postgresql.conf and pg_hba.conf files?  What client are you using to connect?"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1655310744,"post_id":72630182,"comment_id":128304358,"body_markdown":"What version of Java are you using?","body":"What version of Java are you using?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655329080,"post_id":72630182,"comment_id":128310104,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":5303668,"reputation":109,"user_id":4232381,"display_name":"JJ Ward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655310594,"creation_date":1655309894,"answer_id":72634689,"question_id":72630182,"body_markdown":"Try changing the connection&#39;s driver settings to include the &#39;sslmode&#39; parameter and setting it to &#39;require&#39;.\r\n\r\nYou may also need to add a &#39;sslrootcert&#39; parameter, setting it to the full file path of the root CA certificate on your local machine.\r\n\r\nFor a SpringBoot connection, this usually means specifying these as in-line with the database URI wherever you have it (in application.properties, etc.), i.e. appending the above to the connection URI as such:\r\n\r\n    jdbc:postgresql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?ssl=true&amp;sslmode=require&amp;sslfactory=org.postgresql.ssl.DefaultJavaSSLFactory","title":"Unable to create Springboot connection with Postgres using SSL","body":"<p>Try changing the connection's driver settings to include the 'sslmode' parameter and setting it to 'require'.</p>\n<p>You may also need to add a 'sslrootcert' parameter, setting it to the full file path of the root CA certificate on your local machine.</p>\n<p>For a SpringBoot connection, this usually means specifying these as in-line with the database URI wherever you have it (in application.properties, etc.), i.e. appending the above to the connection URI as such:</p>\n<pre><code>jdbc:postgresql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?ssl=true&amp;sslmode=require&amp;sslfactory=org.postgresql.ssl.DefaultJavaSSLFactory\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18220608,"reputation":1,"user_id":13261450,"display_name":"Priyanshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655377412,"creation_date":1655377412,"answer_id":72644798,"question_id":72630182,"body_markdown":"I was able to fix my problem. We need to convert sslkey to .pk8 format properly.\r\n\r\nConnection string: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    jdbc:postgresql://&lt;host&gt;:&lt;port&gt;/&lt;db&gt;?currentSchema=public&amp;ssl=true&amp;sslmode=verify-full&amp;sslcert=&lt;path&gt;/server.crt&amp;sslkey=&lt;path&gt;/server.pk8&amp;sslrootcert=&lt;path&gt;/ca.crt\r\n\r\nWhere &lt;path&gt; refers to certs location.\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Unable to create Springboot connection with Postgres using SSL","body":"<p>I was able to fix my problem. We need to convert sslkey to .pk8 format properly.</p>\n<p>Connection string:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>jdbc:postgresql://&lt;host&gt;:&lt;port&gt;/&lt;db&gt;?currentSchema=public&amp;ssl=true&amp;sslmode=verify-full&amp;sslcert=&lt;path&gt;/server.crt&amp;sslkey=&lt;path&gt;/server.pk8&amp;sslrootcert=&lt;path&gt;/ca.crt\n\nWhere &lt;path&gt; refers to certs location.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":18220608,"reputation":1,"user_id":13261450,"display_name":"Priyanshu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72644798,"answer_count":2,"score":0,"last_activity_date":1655377412,"creation_date":1655290829,"question_id":72630182,"body_markdown":"**Exception is thrown while making connection to Postgres using SSL.** \r\n\r\n&gt; Caused by: javax.net.ssl.SSLException: Received fatal alert:\r\n&gt; unexpected_message \tat\r\n&gt; sun.security.ssl.Alerts.getSSLException(Alerts.java:208) \tat\r\n&gt; sun.security.ssl.Alerts.getSSLException(Alerts.java:154) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2020) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1127) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1367)\r\n&gt; \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1395)\r\n&gt; \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1379)\r\n&gt; \tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41) \t... 57 common\r\n&gt; frames omitted","title":"Unable to create Springboot connection with Postgres using SSL","body":"<p><strong>Exception is thrown while making connection to Postgres using SSL.</strong></p>\n<blockquote>\n<p>Caused by: javax.net.ssl.SSLException: Received fatal alert:\nunexpected_message    at\nsun.security.ssl.Alerts.getSSLException(Alerts.java:208)  at\nsun.security.ssl.Alerts.getSSLException(Alerts.java:154)  at\nsun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2020)     at\nsun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1127)    at\nsun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1367)\nat\nsun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1395)\nat\nsun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1379)\nat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:41)  ... 57 common\nframes omitted</p>\n</blockquote>\n"},{"tags":["java","eclipse","maven","tycho"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1655378889,"post_id":72644691,"comment_id":128321194,"body_markdown":"That looks like a dirty hack. Which documentation did you follow? Why not using [`tycho-p2-publisher:publish-categories`](https://www.eclipse.org/tycho/sitedocs/tycho-p2/tycho-p2-publisher-plugin/publish-categories-mojo.html)?","body":"That looks like a dirty hack. Which documentation did you follow? Why not using <a href=\"https://www.eclipse.org/tycho/sitedocs/tycho-p2/tycho-p2-publisher-plugin/publish-categories-mojo.html\" rel=\"nofollow noreferrer\"><code>tycho-p2-publisher:publish-categories</code></a>?"},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1655382697,"post_id":72644691,"comment_id":128322476,"body_markdown":"I have packaging `eclipse-target-definition`. As far as I understand `tycho-p2-publisher:publish-categories` only works with packaging `eclipse-plugin`","body":"I have packaging <code>eclipse-target-definition</code>. As far as I understand <code>tycho-p2-publisher:publish-categories</code> only works with packaging <code>eclipse-plugin</code>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1655401497,"post_id":72644691,"comment_id":128329478,"body_markdown":"Not sure what you trying to say. It looks like you try to run the Eclipse Tycho Maven plugin as it would be the Eclipse platform runtime. Could you please tell why you are doing it in this way? Which documentation did you follow?","body":"Not sure what you trying to say. It looks like you try to run the Eclipse Tycho Maven plugin as it would be the Eclipse platform runtime. Could you please tell why you are doing it in this way? Which documentation did you follow?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1655456269,"post_id":72644691,"comment_id":128341740,"body_markdown":"I&#39;m not sure that the Eclipse plug-in stuff in tycho-bundles-external is sufficient to run this. Try pointing to a launcher in a complete Eclipse install.","body":"I&#39;m not sure that the Eclipse plug-in stuff in tycho-bundles-external is sufficient to run this. Try pointing to a launcher in a complete Eclipse install."}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655376885,"creation_date":1655376885,"question_id":72644691,"body_markdown":"I&#39;m trying to publish a `category.xml` with the help of `org.eclipse.equinox.launcher` in a maven tycho build. Unfortunately I keep getting errors about `org.eclipse.core.runtime bundle`.\r\n\r\nI found various posts here on SO about this topic, but they all refer to the eclipse GUI which is not relevant here.\r\n\r\nmaven properties:\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;tycho.version&gt;2.5.0&lt;/tycho.version&gt;\r\n    &lt;equinox.launcher.version&gt;1.6.300.v20210813-1054&lt;/equinox.launcher.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nexec-maven-plugin definition:\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;publish-category&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;executable&gt;java&lt;/executable&gt;\r\n\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t&lt;argument&gt;-jar&lt;/argument&gt;\r\n\t\t\t\t\t&lt;argument&gt;${settings.localRepository}/org/eclipse/tycho/tycho-bundles-external/${tycho.version}/eclipse/plugins/org.eclipse.equinox.launcher_${equinox.launcher.version}.jar&lt;/argument&gt;\r\n\t\t\t\t\t&lt;argument&gt;-consolelog&lt;/argument&gt;\r\n\t\t\t\t\t&lt;argument&gt;-application&lt;/argument&gt;\r\n\t\t\t\t\t&lt;argument&gt;org.eclipse.equinox.p2.publisher.CategoryPublisher&lt;/argument&gt;\r\n\t\t\t\t\t&lt;argument&gt;-categoryDefinition&lt;/argument&gt;\r\n\t\t\t\t\t&lt;argument&gt;file:/${project.basedir}/category.xml&lt;/argument&gt;\r\n\t\t\t\t\t&lt;argument&gt;-metadataRepository&lt;/argument&gt;\r\n\t\t\t\t\t&lt;argument&gt;file:/${project.build.directory}/repository/&lt;/argument&gt;\r\n\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nError message:\r\n```\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n!SESSION 2022-06-16 11:59:58.380 -----------------------------------------------\r\neclipse.buildId=unknown\r\njava.version=11\r\njava.vendor=Oracle Corporation\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_CH\r\nFramework arguments:  -application org.eclipse.equinox.p2.publisher.CategoryPublisher -categoryDefinition file:/C:\\devxxx\\projekte\\yxcz\\yxcz-client\\ch.xxx.yxcz.rcp.target/category.xml -metadataRepository file:/C:\\devxxx\\projekte\\yxcz\\yxcz-client\\ch.xxx.yxcz.rcp.target\\target/repository/\r\nCommand-line arguments:  -consolelog -application org.eclipse.equinox.p2.publisher.CategoryPublisher -categoryDefinition file:/C:\\devxxx\\projekte\\yxcz\\yxcz-client\\ch.xxx.yxcz.rcp.target/category.xml -metadataRepository file:/C:\\devxxx\\projekte\\yxcz\\yxcz-client\\ch.xxx.yxcz.rcp.target\\target/repository/\r\n\r\n!ENTRY org.eclipse.osgi 4 0 2022-06-16 12:00:01.734\r\n!MESSAGE Application error\r\n!STACK 1\r\njava.lang.IllegalStateException: Unable to acquire application service. Ensure that the org.eclipse.core.runtime bundle is resolved and started (see config.ini).\r\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:81)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n        at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\n```\r\n","title":"CategoryPublisher does not find org.eclipse.core.runtime bundle","body":"<p>I'm trying to publish a <code>category.xml</code> with the help of <code>org.eclipse.equinox.launcher</code> in a maven tycho build. Unfortunately I keep getting errors about <code>org.eclipse.core.runtime bundle</code>.</p>\n<p>I found various posts here on SO about this topic, but they all refer to the eclipse GUI which is not relevant here.</p>\n<p>maven properties:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;tycho.version&gt;2.5.0&lt;/tycho.version&gt;\n    &lt;equinox.launcher.version&gt;1.6.300.v20210813-1054&lt;/equinox.launcher.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>exec-maven-plugin definition:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;publish-category&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;java&lt;/executable&gt;\n                &lt;arguments&gt;\n                    &lt;argument&gt;-jar&lt;/argument&gt;\n                    &lt;argument&gt;${settings.localRepository}/org/eclipse/tycho/tycho-bundles-external/${tycho.version}/eclipse/plugins/org.eclipse.equinox.launcher_${equinox.launcher.version}.jar&lt;/argument&gt;\n                    &lt;argument&gt;-consolelog&lt;/argument&gt;\n                    &lt;argument&gt;-application&lt;/argument&gt;\n                    &lt;argument&gt;org.eclipse.equinox.p2.publisher.CategoryPublisher&lt;/argument&gt;\n                    &lt;argument&gt;-categoryDefinition&lt;/argument&gt;\n                    &lt;argument&gt;file:/${project.basedir}/category.xml&lt;/argument&gt;\n                    &lt;argument&gt;-metadataRepository&lt;/argument&gt;\n                    &lt;argument&gt;file:/${project.build.directory}/repository/&lt;/argument&gt;\n                &lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Error message:</p>\n<pre><code>Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n!SESSION 2022-06-16 11:59:58.380 -----------------------------------------------\neclipse.buildId=unknown\njava.version=11\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_CH\nFramework arguments:  -application org.eclipse.equinox.p2.publisher.CategoryPublisher -categoryDefinition file:/C:\\devxxx\\projekte\\yxcz\\yxcz-client\\ch.xxx.yxcz.rcp.target/category.xml -metadataRepository file:/C:\\devxxx\\projekte\\yxcz\\yxcz-client\\ch.xxx.yxcz.rcp.target\\target/repository/\nCommand-line arguments:  -consolelog -application org.eclipse.equinox.p2.publisher.CategoryPublisher -categoryDefinition file:/C:\\devxxx\\projekte\\yxcz\\yxcz-client\\ch.xxx.yxcz.rcp.target/category.xml -metadataRepository file:/C:\\devxxx\\projekte\\yxcz\\yxcz-client\\ch.xxx.yxcz.rcp.target\\target/repository/\n\n!ENTRY org.eclipse.osgi 4 0 2022-06-16 12:00:01.734\n!MESSAGE Application error\n!STACK 1\njava.lang.IllegalStateException: Unable to acquire application service. Ensure that the org.eclipse.core.runtime bundle is resolved and started (see config.ini).\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:81)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n        at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\n</code></pre>\n"},{"tags":["java","android","picasso"],"comments":[{"owner":{"account_id":14406150,"reputation":2150,"user_id":10406163,"display_name":"Ali Ahmed"},"score":0,"creation_date":1538564664,"post_id":52625590,"comment_id":92184462,"body_markdown":"post your complete code where you&#39;re using pIcasso","body":"post your complete code where you&#39;re using pIcasso"},{"owner":{"account_id":10565292,"reputation":2108,"user_id":7783718,"display_name":"Abhay Koradiya"},"score":0,"creation_date":1538565291,"post_id":52625590,"comment_id":92184799,"body_markdown":"Are you load this image from Activity?","body":"Are you load this image from Activity?"},{"owner":{"account_id":7563213,"reputation":197,"user_id":5739861,"accept_rate":44,"display_name":"mp.jpeg"},"score":0,"creation_date":1538565427,"post_id":52625590,"comment_id":92184880,"body_markdown":"My ImageView variables are declared in a seperate Java file, where they are linked to the Layout. I am accessing these through another file. This has been working with setting text of Textviews, just not Picasso image views.","body":"My ImageView variables are declared in a seperate Java file, where they are linked to the Layout. I am accessing these through another file. This has been working with setting text of Textviews, just not Picasso image views."},{"owner":{"account_id":1529599,"reputation":2254,"user_id":1427144,"accept_rate":89,"display_name":"Shoshi"},"score":0,"creation_date":1538633660,"post_id":52625590,"comment_id":92212644,"body_markdown":"Please provide full code of **Tab1Fragment** and **the class** where you are using this `Picasso.get().load(iconUrl).into(Tab1Fragment.weatherIcon);` code.","body":"Please provide full code of <b>Tab1Fragment</b> and <b>the class</b> where you are using this <code>Picasso.get().load(iconUrl).into(Tab1Fragment.weatherIcon);</code> code."}],"answers":[{"tags":[],"owner":{"account_id":13024622,"reputation":1978,"user_id":9412981,"display_name":"Sandeep Parish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538565345,"creation_date":1538565345,"answer_id":52625846,"question_id":52625590,"body_markdown":"Use \r\n\r\n        iconUrl =&quot;http://openweathermap.org/img/w/04n.png&quot;\r\n        Picasso.with(context).load(iconUrl).placeholder(R.drawable.user_image)// Place \r\n            holder image from drawable folder\r\n           .error(R.drawable.user_image).resize(110, 110).centerCrop()\r\n           .into(weatherIcon);","title":"Android - Picasso Not Loading URL Image into Fragment ImageView","body":"<p>Use </p>\n\n<pre><code>    iconUrl =\"http://openweathermap.org/img/w/04n.png\"\n    Picasso.with(context).load(iconUrl).placeholder(R.drawable.user_image)// Place \n        holder image from drawable folder\n       .error(R.drawable.user_image).resize(110, 110).centerCrop()\n       .into(weatherIcon);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7627120,"reputation":613,"user_id":5783253,"accept_rate":43,"display_name":"Vijaya Varma Lanke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538565474,"creation_date":1538565474,"answer_id":52625882,"question_id":52625590,"body_markdown":"for picasso  you have to import the lib, without picasso u can directly populate the imageview with url\r\n\r\n    URL url = new URL(&quot;give_url_here&quot;);\r\n    Bitmap bmp = BitmapFactory.decodeStream(url.openConnection().getInputStream());\r\n    imageView.setImageBitmap(bmp);\r\n\r\nHope it will help","title":"Android - Picasso Not Loading URL Image into Fragment ImageView","body":"<p>for picasso  you have to import the lib, without picasso u can directly populate the imageview with url</p>\n\n<pre><code>URL url = new URL(\"give_url_here\");\nBitmap bmp = BitmapFactory.decodeStream(url.openConnection().getInputStream());\nimageView.setImageBitmap(bmp);\n</code></pre>\n\n<p>Hope it will help</p>\n"},{"tags":[],"owner":{"account_id":13880397,"reputation":631,"user_id":10020910,"display_name":"s.j"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538566491,"creation_date":1538566491,"answer_id":52626167,"question_id":52625590,"body_markdown":"\r\n\r\n      public void uploadimage() {\r\n                    String filePath1 = getRealPathFromURIPath(uri1, AddVehicleFromNavBar.this);\r\n                    String filePath2 = getRealPathFromURIPath(uri2, AddVehicleFromNavBar.this);\r\n                  /*  Log.d(&quot;hanish123456&quot;, &quot;File path-&gt;  &quot; + filePath1);\r\n                    Log.d(&quot;hanish123456&quot;, &quot;File path-&gt;  &quot; + filePath2);*/\r\n                    file1 = new File(filePath1);\r\n                    file2 = new File(filePath2);\r\n                    /*Log.d(&quot;hanish12345&quot;, &quot;Filename &quot; + imgname1);\r\n                    Log.d(&quot;hanish12345&quot;, &quot;Filename &quot; + imgname2);*/\r\n        \r\n                    Bitmap bmp1 = BitmapFactory.decodeFile(file1.getAbsolutePath());\r\n                    ByteArrayOutputStream bos1 = new ByteArrayOutputStream();\r\n                    bmp1.compress(Bitmap.CompressFormat.JPEG, 30, bos1);\r\n        \r\n                    Bitmap bmp2 = BitmapFactory.decodeFile(file2.getAbsolutePath());\r\n                    ByteArrayOutputStream bos2 = new ByteArrayOutputStream();\r\n                    bmp2.compress(Bitmap.CompressFormat.JPEG, 30, bos2);\r\n        \r\n        \r\n                    MultipartBody.Part fileToUpload1 = MultipartBody.Part.createFormData(&quot;image&quot;, imgname1, RequestBody.create(MediaType.parse(&quot;image/*&quot;), bos1.toByteArray()));\r\n                    RequestBody filename1 = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), imgname1);\r\n        \r\n                    MultipartBody.Part fileToUpload2 = MultipartBody.Part.createFormData(&quot;image&quot;, imgname2, RequestBody.create(MediaType.parse(&quot;image/*&quot;), bos2.toByteArray()));\r\n                    RequestBody filename2 = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), imgname2);\r\n        \r\n                    OkHttpClient client = new OkHttpClient.Builder()\r\n                            .connectTimeout(3, TimeUnit.MINUTES)\r\n                            .readTimeout(3, TimeUnit.MINUTES)\r\n                            .writeTimeout(3, TimeUnit.MINUTES).build();\r\n        \r\n                    Retrofit retrofit = new Retrofit.Builder()\r\n                            .baseUrl(SERVER_PATH)\r\n                            .client(client)\r\n                            .addConverterFactory(GsonConverterFactory.create())\r\n                            .build();\r\n        \r\n                    ApiService uploadImage = retrofit.create(ApiService.class);\r\n        \r\n                   /* Log.d(&quot;hanish12345&quot;, fileToUpload1 + &quot;   &quot; + filename1);\r\n                    Log.d(&quot;hanish12345&quot;, fileToUpload2 + &quot;   &quot; + filename2);*/\r\n        \r\n                    Call&lt;ProfileResponse&gt; fileUpload1 = uploadImage.uploadFile(fileToUpload1, filename1);\r\n                    fileUpload1.enqueue(new Callback&lt;ProfileResponse&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;ProfileResponse&gt; call, Response&lt;ProfileResponse&gt; response) {\r\n                            if (response.isSuccessful()) {\r\n                                Toast.makeText(AddVehicleFromNavBar.this, &quot;Bill Uploaded &quot; + response.raw().message(), Toast.LENGTH_LONG).show();\r\n                            } else {\r\n                                Toast.makeText(AddVehicleFromNavBar.this, response.raw().message(), Toast.LENGTH_LONG).show();\r\n                            }\r\n                            // Toast.makeText(MainActivity.this, &quot;Success &quot; + response.body().getSuccess(), Toast.LENGTH_LONG).show();\r\n                           /* Log.d(&quot;hanish12345&quot;, &quot;No Error &quot;);*/\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onFailure(Call&lt;ProfileResponse&gt; call, Throwable t) {\r\n                            if (t instanceof SocketTimeoutException) {\r\n                               /* Log.d(&quot;hanish12345&quot;, &quot;Error hai &quot; + t.getMessage());*/\r\n                                Toast.makeText(getApplicationContext(), &quot;Internet connection not available&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n        \r\n        \r\n                    Call&lt;ProfileResponse&gt; fileUpload2 = uploadImage.uploadFile(fileToUpload2, filename2);\r\n                    fileUpload2.enqueue(new Callback&lt;ProfileResponse&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;ProfileResponse&gt; call, Response&lt;ProfileResponse&gt; response) {\r\n                            if (response.isSuccessful()) {\r\n                                Toast.makeText(AddVehicleFromNavBar.this, &quot;Vehicle Image Uploaded !  &quot; + response.raw().message(), Toast.LENGTH_LONG).show();\r\n                            } else {\r\n                                Toast.makeText(AddVehicleFromNavBar.this, response.raw().message(), Toast.LENGTH_LONG).show();\r\n                            }\r\n                            // Toast.makeText(MainActivity.this, &quot;Success &quot; + response.body().getSuccess(), Toast.LENGTH_LONG).show();\r\n                            /*Log.d(&quot;hanish12345&quot;, &quot;No Error &quot;);*/\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onFailure(Call&lt;ProfileResponse&gt; call, Throwable t) {\r\n                            if (t instanceof SocketTimeoutException) {\r\n                                Toast.makeText(getApplicationContext(), &quot;Internet connection not available&quot;, Toast.LENGTH_SHORT).show();\r\n                                /*Log.d(&quot;hanish12345&quot;, &quot;Error hai &quot; + t.getMessage());*/\r\n                            }\r\n                        }\r\n                    });\r\n        \r\n            }","title":"Android - Picasso Not Loading URL Image into Fragment ImageView","body":"<pre><code>  public void uploadimage() {\n                String filePath1 = getRealPathFromURIPath(uri1, AddVehicleFromNavBar.this);\n                String filePath2 = getRealPathFromURIPath(uri2, AddVehicleFromNavBar.this);\n              /*  Log.d(\"hanish123456\", \"File path-&gt;  \" + filePath1);\n                Log.d(\"hanish123456\", \"File path-&gt;  \" + filePath2);*/\n                file1 = new File(filePath1);\n                file2 = new File(filePath2);\n                /*Log.d(\"hanish12345\", \"Filename \" + imgname1);\n                Log.d(\"hanish12345\", \"Filename \" + imgname2);*/\n\n                Bitmap bmp1 = BitmapFactory.decodeFile(file1.getAbsolutePath());\n                ByteArrayOutputStream bos1 = new ByteArrayOutputStream();\n                bmp1.compress(Bitmap.CompressFormat.JPEG, 30, bos1);\n\n                Bitmap bmp2 = BitmapFactory.decodeFile(file2.getAbsolutePath());\n                ByteArrayOutputStream bos2 = new ByteArrayOutputStream();\n                bmp2.compress(Bitmap.CompressFormat.JPEG, 30, bos2);\n\n\n                MultipartBody.Part fileToUpload1 = MultipartBody.Part.createFormData(\"image\", imgname1, RequestBody.create(MediaType.parse(\"image/*\"), bos1.toByteArray()));\n                RequestBody filename1 = RequestBody.create(MediaType.parse(\"text/plain\"), imgname1);\n\n                MultipartBody.Part fileToUpload2 = MultipartBody.Part.createFormData(\"image\", imgname2, RequestBody.create(MediaType.parse(\"image/*\"), bos2.toByteArray()));\n                RequestBody filename2 = RequestBody.create(MediaType.parse(\"text/plain\"), imgname2);\n\n                OkHttpClient client = new OkHttpClient.Builder()\n                        .connectTimeout(3, TimeUnit.MINUTES)\n                        .readTimeout(3, TimeUnit.MINUTES)\n                        .writeTimeout(3, TimeUnit.MINUTES).build();\n\n                Retrofit retrofit = new Retrofit.Builder()\n                        .baseUrl(SERVER_PATH)\n                        .client(client)\n                        .addConverterFactory(GsonConverterFactory.create())\n                        .build();\n\n                ApiService uploadImage = retrofit.create(ApiService.class);\n\n               /* Log.d(\"hanish12345\", fileToUpload1 + \"   \" + filename1);\n                Log.d(\"hanish12345\", fileToUpload2 + \"   \" + filename2);*/\n\n                Call&lt;ProfileResponse&gt; fileUpload1 = uploadImage.uploadFile(fileToUpload1, filename1);\n                fileUpload1.enqueue(new Callback&lt;ProfileResponse&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;ProfileResponse&gt; call, Response&lt;ProfileResponse&gt; response) {\n                        if (response.isSuccessful()) {\n                            Toast.makeText(AddVehicleFromNavBar.this, \"Bill Uploaded \" + response.raw().message(), Toast.LENGTH_LONG).show();\n                        } else {\n                            Toast.makeText(AddVehicleFromNavBar.this, response.raw().message(), Toast.LENGTH_LONG).show();\n                        }\n                        // Toast.makeText(MainActivity.this, \"Success \" + response.body().getSuccess(), Toast.LENGTH_LONG).show();\n                       /* Log.d(\"hanish12345\", \"No Error \");*/\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;ProfileResponse&gt; call, Throwable t) {\n                        if (t instanceof SocketTimeoutException) {\n                           /* Log.d(\"hanish12345\", \"Error hai \" + t.getMessage());*/\n                            Toast.makeText(getApplicationContext(), \"Internet connection not available\", Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n\n\n                Call&lt;ProfileResponse&gt; fileUpload2 = uploadImage.uploadFile(fileToUpload2, filename2);\n                fileUpload2.enqueue(new Callback&lt;ProfileResponse&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;ProfileResponse&gt; call, Response&lt;ProfileResponse&gt; response) {\n                        if (response.isSuccessful()) {\n                            Toast.makeText(AddVehicleFromNavBar.this, \"Vehicle Image Uploaded !  \" + response.raw().message(), Toast.LENGTH_LONG).show();\n                        } else {\n                            Toast.makeText(AddVehicleFromNavBar.this, response.raw().message(), Toast.LENGTH_LONG).show();\n                        }\n                        // Toast.makeText(MainActivity.this, \"Success \" + response.body().getSuccess(), Toast.LENGTH_LONG).show();\n                        /*Log.d(\"hanish12345\", \"No Error \");*/\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;ProfileResponse&gt; call, Throwable t) {\n                        if (t instanceof SocketTimeoutException) {\n                            Toast.makeText(getApplicationContext(), \"Internet connection not available\", Toast.LENGTH_SHORT).show();\n                            /*Log.d(\"hanish12345\", \"Error hai \" + t.getMessage());*/\n                        }\n                    }\n                });\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18672092,"reputation":1,"user_id":13610592,"display_name":"Mehmet Kaygisiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655376704,"creation_date":1655142054,"answer_id":72606983,"question_id":52625590,"body_markdown":"Make sure that your AndroidManifest includes `INTERNET` permission.\\\r\nIf not, add\\\r\n`&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;\\&gt;.`\\\r\nThat solved the same issue I had before with Picasso.","title":"Android - Picasso Not Loading URL Image into Fragment ImageView","body":"<p>Make sure that your AndroidManifest includes <code>INTERNET</code> permission.<br />\nIf not, add<br />\n<code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;\\&gt;.</code><br />\nThat solved the same issue I had before with Picasso.</p>\n"}],"owner":{"account_id":7563213,"reputation":197,"user_id":5739861,"accept_rate":44,"display_name":"mp.jpeg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1655376704,"creation_date":1538564430,"question_id":52625590,"body_markdown":"My Picasso version is: `implementation &#39;com.squareup.picasso:picasso:2.71828&#39;`\r\n\r\nI am attempting to load the following image into my ImageView **weatherIcon**\r\n\r\n    iconUrl = &quot;http://openweathermap.org/img/w/&quot;+icon+&quot;.png&quot;;\r\n    Picasso.get().load(iconUrl).into(Tab1Fragment.weatherIcon);\r\n\r\nThis is the image I am trying to load\r\n\r\n[![][1]][1]\r\n\r\nURL for the image above\r\n\r\nhttp://openweathermap.org/img/w/04n.png\r\n\r\nMy Tab1Fragment code\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.tab1_fragment, container, false);\r\n\r\n        weatherIcon = (ImageView) rootView.findViewById(R.id.imageView);\r\n\r\n        return rootView;\r\n\r\n    }\r\n\r\nBut, no luck. The Image does not load, and interestingly enough, the Picasso statement STOPS all following statements, such as SetText in TextViews etc..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GohpV.png","title":"Android - Picasso Not Loading URL Image into Fragment ImageView","body":"<p>My Picasso version is: <code>implementation 'com.squareup.picasso:picasso:2.71828'</code></p>\n\n<p>I am attempting to load the following image into my ImageView <strong>weatherIcon</strong></p>\n\n<pre><code>iconUrl = \"http://openweathermap.org/img/w/\"+icon+\".png\";\nPicasso.get().load(iconUrl).into(Tab1Fragment.weatherIcon);\n</code></pre>\n\n<p>This is the image I am trying to load</p>\n\n<p><a href=\"https://i.stack.imgur.com/GohpV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GohpV.png\" alt=\"\"></a></p>\n\n<p>URL for the image above</p>\n\n<p><a href=\"http://openweathermap.org/img/w/04n.png\" rel=\"nofollow noreferrer\">http://openweathermap.org/img/w/04n.png</a></p>\n\n<p>My Tab1Fragment code</p>\n\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View rootView = inflater.inflate(R.layout.tab1_fragment, container, false);\n\n    weatherIcon = (ImageView) rootView.findViewById(R.id.imageView);\n\n    return rootView;\n\n}\n</code></pre>\n\n<p>But, no luck. The Image does not load, and interestingly enough, the Picasso statement STOPS all following statements, such as SetText in TextViews etc..</p>\n"},{"tags":["java","maven","warnings","package","javadoc"],"answers":[{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1622219547,"creation_date":1297097538,"answer_id":4923960,"question_id":4788637,"body_markdown":"*(Updated 10 years after the original answer.)*\r\n\r\nAn old [thread in the Oracle forums][1] discussed this. *(Unfortunately the link is broken now, and I can&#39;t find the same thread in the new Oracle Developer community, nor [in the Wayback machine][2])*.\r\n\r\nAs far as I recall (and could gather from a bit of google-ing), the behavior of javadoc changed between JDK 1.4 and 1.5 so that a package documentation encountered multiple times creates this warning.\r\nThis seems to have happened specifically with older versions of Maven – updating to a newer version of Maven (or the maven-javadoc-plugin) seems to have helped.\r\n\r\n(Of course, that meant a Maven version which was current in 2011, so any version you might have nowadays should be fine.)\r\n\r\n\r\n  [1]: http://forums.oracle.com/forums/thread.jspa?threadID=1521129&amp;tstart=60\r\n  [2]: https://web.archive.org/web/*/http://forums.oracle.com/forums/thread.jspa?threadID=1521129","title":"How to resolve &quot;javadoc: warning - Multiple sources of package comments found for package a.b.c&quot;?","body":"<p><em>(Updated 10 years after the original answer.)</em></p>\n<p>An old <a href=\"http://forums.oracle.com/forums/thread.jspa?threadID=1521129&amp;tstart=60\" rel=\"nofollow noreferrer\">thread in the Oracle forums</a> discussed this. <em>(Unfortunately the link is broken now, and I can't find the same thread in the new Oracle Developer community, nor <a href=\"https://web.archive.org/web/*/http://forums.oracle.com/forums/thread.jspa?threadID=1521129\" rel=\"nofollow noreferrer\">in the Wayback machine</a>)</em>.</p>\n<p>As far as I recall (and could gather from a bit of google-ing), the behavior of javadoc changed between JDK 1.4 and 1.5 so that a package documentation encountered multiple times creates this warning.\nThis seems to have happened specifically with older versions of Maven – updating to a newer version of Maven (or the maven-javadoc-plugin) seems to have helped.</p>\n<p>(Of course, that meant a Maven version which was current in 2011, so any version you might have nowadays should be fine.)</p>\n"}],"owner":{"account_id":26448,"reputation":5911,"user_id":68759,"accept_rate":79,"display_name":"His"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3258,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4923960,"answer_count":1,"score":5,"last_activity_date":1655376483,"creation_date":1295913727,"question_id":4788637,"body_markdown":"I am very much outdated, but I have just upgraded my project to use JDK 1.5 from JDK 1.4, and now when running `mvn javadoc:javadoc`, I encounter the following javadoc warnings:\r\n\r\n    [WARNING] javadoc: warning - Multiple sources of package comments found for package &quot;com.a&quot;\r\n    [WARNING] javadoc: warning - Multiple sources of package comments found for package &quot;com.b&quot;\r\n    [WARNING] javadoc: warning - Multiple sources of package comments found for package &quot;com.c&quot;\r\n    [WARNING] javadoc: warning - Multiple sources of package comments found for package &quot;com.a&quot;\r\n\r\nWhat do I need to do to fix them?  Has anything changed from JDK 1.4 to 1.5?\r\n\r\nThanks!","title":"How to resolve &quot;javadoc: warning - Multiple sources of package comments found for package a.b.c&quot;?","body":"<p>I am very much outdated, but I have just upgraded my project to use JDK 1.5 from JDK 1.4, and now when running <code>mvn javadoc:javadoc</code>, I encounter the following javadoc warnings:</p>\n\n<pre><code>[WARNING] javadoc: warning - Multiple sources of package comments found for package \"com.a\"\n[WARNING] javadoc: warning - Multiple sources of package comments found for package \"com.b\"\n[WARNING] javadoc: warning - Multiple sources of package comments found for package \"com.c\"\n[WARNING] javadoc: warning - Multiple sources of package comments found for package \"com.a\"\n</code></pre>\n\n<p>What do I need to do to fix them?  Has anything changed from JDK 1.4 to 1.5?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","debugging","intellij-idea","dynamic"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1655462050,"post_id":72644583,"comment_id":128343572,"body_markdown":"Where the generated file is located? (Is it in the [project sources](https://www.jetbrains.com/help/idea/content-roots.html#folder-categories)?) Can it be navigated to with &quot;Navigate | Go to Class&quot; action?","body":"Where the generated file is located? (Is it in the <a href=\"https://www.jetbrains.com/help/idea/content-roots.html#folder-categories\" rel=\"nofollow noreferrer\">project sources</a>?) Can it be navigated to with &quot;Navigate | Go to Class&quot; action?"},{"owner":{"account_id":4583119,"reputation":1,"user_id":19351291,"display_name":"NYFinDev"},"score":0,"creation_date":1655523309,"post_id":72644583,"comment_id":128358193,"body_markdown":"Location is src/main/generated-java marked as source dir. After 1st run is over it can be navigated to. During the run - no. I found I can use debug action + refresh. Kinda kludge","body":"Location is src/main/generated-java marked as source dir. After 1st run is over it can be navigated to. During the run - no. I found I can use debug action + refresh. Kinda kludge"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1656999961,"post_id":72644583,"comment_id":128698770,"body_markdown":"Please contact JetBrains support team at https://intellij-support.jetbrains.com/hc/en-us/requests/new and record a short screencast illustrating the issue","body":"Please contact JetBrains support team at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> and record a short screencast illustrating the issue"}],"owner":{"account_id":4583119,"reputation":1,"user_id":19351291,"display_name":"NYFinDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655376336,"creation_date":1655376336,"question_id":72644583,"body_markdown":"At runtime I create a .java source file, invoke compiler and dump .class file. Load this class, create object instance and invoke a method. \r\n\r\nIntellij fails to match stack to generated source or bytecode.\r\nIf I restart, it happily loads java and class from previous run and allows to step through in debugger.\r\n\r\nIs there a way to have these available during original run.\r\n","title":"intellij not able to step into generated java class","body":"<p>At runtime I create a .java source file, invoke compiler and dump .class file. Load this class, create object instance and invoke a method.</p>\n<p>Intellij fails to match stack to generated source or bytecode.\nIf I restart, it happily loads java and class from previous run and allows to step through in debugger.</p>\n<p>Is there a way to have these available during original run.</p>\n"},{"tags":["java","selenium","microsoft-edge","browserstack"],"answers":[{"tags":[],"owner":{"account_id":15924350,"reputation":11775,"user_id":11490347,"display_name":"Yu Zhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655282935,"creation_date":1655282935,"answer_id":72628403,"question_id":72613722,"body_markdown":"I suggest installing the **Selenium Tools for Microsoft Edge** since you&#39;re using Selenium 3.141.59. You can follow the instruction here:\r\nhttps://github.com/microsoft/edge-selenium-tools#java\r\n\r\nTo enable inprivate mode, you can try the following sample code:\r\n\r\n    edgeOptions.addArguments(&quot;-inprivate&quot;)\r\n\r\n \r\n","title":"Run edge in private on browser stack","body":"<p>I suggest installing the <strong>Selenium Tools for Microsoft Edge</strong> since you're using Selenium 3.141.59. You can follow the instruction here:\n<a href=\"https://github.com/microsoft/edge-selenium-tools#java\" rel=\"nofollow noreferrer\">https://github.com/microsoft/edge-selenium-tools#java</a></p>\n<p>To enable inprivate mode, you can try the following sample code:</p>\n<pre><code>edgeOptions.addArguments(&quot;-inprivate&quot;)\n</code></pre>\n"}],"owner":{"account_id":2046663,"reputation":23,"user_id":1826602,"display_name":"user1826602"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72628403,"answer_count":1,"score":0,"last_activity_date":1655375826,"creation_date":1655195100,"question_id":72613722,"body_markdown":"I am new to browser stack and trying to execute edge in private mode on browser stack. I am trying to do it with following code but it&#39;s launching in normal mode whatsoever.\r\n\r\n    caps.setCapability(&quot;os_version&quot;, osVersion);\r\n                caps.setCapability(&quot;os&quot;, os);\r\n                caps.setCapability(&quot;resolution&quot;, &quot;1920x1080&quot;);\r\n                caps.setCapability(&quot;browser&quot;, browser);\r\n                caps.setCapability(&quot;browser_version&quot;, browserVersion);\r\n                if(isPrivate &amp;&amp; browser.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n                    ChromeOptions chromeOptions = new ChromeOptions();\r\n                    chromeOptions.addArguments(&quot;incognito&quot;);\r\n                    caps.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\r\n                }\r\n                else if(isPrivate &amp;&amp; browser.equalsIgnoreCase(&quot;edge&quot;)) {\r\n                    EdgeOptions edgeOptions = new EdgeOptions();\r\n                    edgeOptions.setCapability(&quot;InPrivate&quot;,true);\r\n                    caps.merge(DesiredCapabilities.edge().merge(edgeOptions));\r\n                }\r\n\r\n\r\nI am using the following versions in pom and unfortunately can&#39;t upgrade at the moment:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.141.59&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\nFor anyone looking for a solution. I manage to achieve this by adding \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.edge&lt;/groupId&gt;\r\n            &lt;artifactId&gt;msedge-selenium-tools-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd then \r\n\r\n    import com.microsoft.edge.seleniumtools.EdgeOptions;\r\n\r\n\r\n    EdgeOptions edgeOptions = new EdgeOptions();\r\n    edgeOptions.addArguments(&quot;inprivate&quot;);","title":"Run edge in private on browser stack","body":"<p>I am new to browser stack and trying to execute edge in private mode on browser stack. I am trying to do it with following code but it's launching in normal mode whatsoever.</p>\n<pre><code>caps.setCapability(&quot;os_version&quot;, osVersion);\n            caps.setCapability(&quot;os&quot;, os);\n            caps.setCapability(&quot;resolution&quot;, &quot;1920x1080&quot;);\n            caps.setCapability(&quot;browser&quot;, browser);\n            caps.setCapability(&quot;browser_version&quot;, browserVersion);\n            if(isPrivate &amp;&amp; browser.equalsIgnoreCase(&quot;chrome&quot;)) {\n                ChromeOptions chromeOptions = new ChromeOptions();\n                chromeOptions.addArguments(&quot;incognito&quot;);\n                caps.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\n            }\n            else if(isPrivate &amp;&amp; browser.equalsIgnoreCase(&quot;edge&quot;)) {\n                EdgeOptions edgeOptions = new EdgeOptions();\n                edgeOptions.setCapability(&quot;InPrivate&quot;,true);\n                caps.merge(DesiredCapabilities.edge().merge(edgeOptions));\n            }\n</code></pre>\n<p>I am using the following versions in pom and unfortunately can't upgrade at the moment:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>For anyone looking for a solution. I manage to achieve this by adding</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.edge&lt;/groupId&gt;\n        &lt;artifactId&gt;msedge-selenium-tools-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And then</p>\n<pre><code>import com.microsoft.edge.seleniumtools.EdgeOptions;\n\n\nEdgeOptions edgeOptions = new EdgeOptions();\nedgeOptions.addArguments(&quot;inprivate&quot;);\n</code></pre>\n"},{"tags":["java","android","data-binding"],"comments":[{"owner":{"account_id":24550962,"reputation":625,"user_id":18460115,"display_name":"Aiman Alyosofi"},"score":0,"creation_date":1655375255,"post_id":72640467,"comment_id":128319958,"body_markdown":"Sometime it just need to clean the project form Build\\Clean Project","body":"Sometime it just need to clean the project form Build\\Clean Project"},{"owner":{"account_id":24550962,"reputation":625,"user_id":18460115,"display_name":"Aiman Alyosofi"},"score":0,"creation_date":1655375598,"post_id":72640467,"comment_id":128320062,"body_markdown":"I notice the layout (R.layout.item_row) like it&#39;s not exist, check that first i don&#39;t think the problem with the Binding it is in the layout","body":"I notice the layout (R.layout.item_row) like it&#39;s not exist, check that first i don&#39;t think the problem with the Binding it is in the layout"},{"owner":{"account_id":24318897,"reputation":183,"user_id":18259638,"display_name":"Uncle Roger"},"score":0,"creation_date":1655375679,"post_id":72640467,"comment_id":128320097,"body_markdown":"I know but it won&#39;t change anything.","body":"I know but it won&#39;t change anything."},{"owner":{"account_id":24318897,"reputation":183,"user_id":18259638,"display_name":"Uncle Roger"},"score":0,"creation_date":1655375921,"post_id":72640467,"comment_id":128320171,"body_markdown":"Why I can&#39;t import this - &quot;import com.main.databinding.databinding.ItemRowBinding;&quot;","body":"Why I can&#39;t import this - &quot;import com.main.databinding.databinding.ItemRowBinding;&quot;"}],"answers":[{"tags":[],"owner":{"account_id":25540725,"reputation":11,"user_id":19326826,"display_name":"Chaithra R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655357889,"creation_date":1655354363,"answer_id":72640527,"question_id":72640467,"body_markdown":"Your generated binding class name is RowItemBinding not ItemRowBinding.\r\n\r\n\r\n        &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:layout_margin=&quot;8dp&quot;\r\n            android:background=&quot;@drawable/bg_rect_tv_blue&quot;\r\n            android:paddingBottom=&quot;20dp&quot;&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/layout&gt;\r\n\r\n\r\nViewholder -\r\n\r\n  \r\n\r\n        public class SampleViewHolder extends RecyclerView.ViewHolder{\r\n            RowItemBinding binding;\r\n    \r\n          \r\n            public SampleViewHolder(@NonNull RowItemBinding itemView) {\r\n                super(itemView.getRoot());\r\n                binding = itemView;\r\n    \r\n            }\r\n    }\r\n","title":"ItemRowBinding is missing in package","body":"<p>Your generated binding class name is RowItemBinding not ItemRowBinding.</p>\n<pre><code>    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;5dp&quot;\n        android:layout_margin=&quot;8dp&quot;\n        android:background=&quot;@drawable/bg_rect_tv_blue&quot;\n        android:paddingBottom=&quot;20dp&quot;&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p>Viewholder -</p>\n<pre><code>    public class SampleViewHolder extends RecyclerView.ViewHolder{\n        RowItemBinding binding;\n\n      \n        public SampleViewHolder(@NonNull RowItemBinding itemView) {\n            super(itemView.getRoot());\n            binding = itemView;\n\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":24318897,"reputation":183,"user_id":18259638,"display_name":"Uncle Roger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655375799,"creation_date":1655353705,"question_id":72640467,"body_markdown":"I&#39;m trying to use dataBinding using a recyclerView. But I&#39;m not able to get ItemRowBinding in a package. I have no clue what is the problem. I can&#39;t import this package :\r\n\r\n**import com.main.databinding.databinding.ItemRowBinding;**\r\n\r\n**This is my RecycperAdapter:**\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecylcerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        ItemRowBinding binding = DataBindingUtil.inflate( //ItemRowBinding is missing\r\n                LayoutInflater.from(context),\r\n                R.layout.item_row, parent, false);\r\n        return new ViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        ModelClass modelClass = modelClassList.get(position);\r\n\r\n        holder.bind(modelClass);\r\n        holder.itemRowBinding.setItemClickListener(this);\r\n    }\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public ItemRowBinding itemRowBinding;\r\n\r\n        public ViewHolder(ItemRowBinding itemRowBinding) {\r\n            super(itemRowBinding.getRoot());\r\n            this.itemRowBinding = itemRowBinding;\r\n        }\r\n\r\n        public void bind(Object obj) {\r\n            itemRowBinding.setVariable(BR.modelClass, obj);\r\n            itemRowBinding.executePendingBindings();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**This is my XML file:**\r\n\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/card_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick=&quot;@{() -&gt; itemClickListener.cardClicked(model)}&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@{model.tittle}&quot;\r\n  \r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;data&gt;\r\n\r\n        &lt;variable\r\n            name=&quot;model&quot;\r\n            type=&quot;com.main.bawmlabu.models.Model&quot; /&gt;\r\n\r\n        &lt;variable\r\n            name=&quot;itemClickListener&quot;\r\n            type=&quot;com.main.bawmlabu.models.CustomCliskListener&quot; /&gt;\r\n    &lt;/data&gt;\r\n    &lt;/layout&gt;\r\n\r\n\r\nAll of these seem correct but I don&#39;t know where I&#39;m missing the point.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jOScu.png","title":"ItemRowBinding is missing in package","body":"<p>I'm trying to use dataBinding using a recyclerView. But I'm not able to get ItemRowBinding in a package. I have no clue what is the problem. I can't import this package :</p>\n<p><strong>import com.main.databinding.databinding.ItemRowBinding;</strong></p>\n<p><strong>This is my RecycperAdapter:</strong></p>\n<pre><code>@NonNull\n@Override\npublic RecylcerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    ItemRowBinding binding = DataBindingUtil.inflate( //ItemRowBinding is missing\n            LayoutInflater.from(context),\n            R.layout.item_row, parent, false);\n    return new ViewHolder(binding);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    ModelClass modelClass = modelClassList.get(position);\n\n    holder.bind(modelClass);\n    holder.itemRowBinding.setItemClickListener(this);\n}\npublic class ViewHolder extends RecyclerView.ViewHolder {\n    public ItemRowBinding itemRowBinding;\n\n    public ViewHolder(ItemRowBinding itemRowBinding) {\n        super(itemRowBinding.getRoot());\n        this.itemRowBinding = itemRowBinding;\n    }\n\n    public void bind(Object obj) {\n        itemRowBinding.setVariable(BR.modelClass, obj);\n        itemRowBinding.executePendingBindings();\n    }\n}\n</code></pre>\n<p><strong>This is my XML file:</strong></p>\n<pre><code>&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;androidx.cardview.widget.CardView\n    android:id=&quot;@+id/card_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:onClick=&quot;@{() -&gt; itemClickListener.cardClicked(model)}&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_title&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@{model.tittle}&quot;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;data&gt;\n\n    &lt;variable\n        name=&quot;model&quot;\n        type=&quot;com.main.bawmlabu.models.Model&quot; /&gt;\n\n    &lt;variable\n        name=&quot;itemClickListener&quot;\n        type=&quot;com.main.bawmlabu.models.CustomCliskListener&quot; /&gt;\n&lt;/data&gt;\n&lt;/layout&gt;\n</code></pre>\n<p>All of these seem correct but I don't know where I'm missing the point.</p>\n<p><a href=\"https://i.stack.imgur.com/jOScu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jOScu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","regex","decimal"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655375691,"creation_date":1655375381,"answer_id":72644399,"question_id":72644311,"body_markdown":"You can use:\r\n\r\n```sh\r\nString toPharse = &quot;the. book - cost 7.55 dollars.&quot;;\r\ntoPhrase = toPharse\r\n   .replaceAll(&quot;(?&lt;!\\\\d)\\\\.(?!\\\\d)|[^a-zA-Z\\\\d. ]+&quot;, &quot;&quot;)\r\n   .replaceAll(&quot;\\\\h{2,}&quot;, &quot; &quot;);\r\n\r\n//=&gt; &quot;the book cost 7.55 dollars&quot;\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/jXnnPM/2\r\n\r\n**RegEx Details:**\r\n\r\n- `(?&lt;!\\\\d)`: Previous character is not a digit\r\n- `\\\\.`: Match a dot\r\n- `(?!\\\\d)`: Next character is not a digit\r\n- `|`: OR\r\n- `[^a-zA-Z\\\\d. ]+`: Match 1+ of non-alphanumeric characters that are not space or dot\r\n- `.replaceAll(&quot;\\\\h{2,}&quot;, &quot; &quot;)`: is for replacing 2+ whitespaces with a single space","title":"How to remove all non-alphanumeric characters from a string expect decimal point in Java","body":"<p>You can use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>String toPharse = &quot;the. book - cost 7.55 dollars.&quot;;\ntoPhrase = toPharse\n   .replaceAll(&quot;(?&lt;!\\\\d)\\\\.(?!\\\\d)|[^a-zA-Z\\\\d. ]+&quot;, &quot;&quot;)\n   .replaceAll(&quot;\\\\h{2,}&quot;, &quot; &quot;);\n\n//=&gt; &quot;the book cost 7.55 dollars&quot;\n</code></pre>\n<p><a href=\"https://regex101.com/r/jXnnPM/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>(?&lt;!\\\\d)</code>: Previous character is not a digit</li>\n<li><code>\\\\.</code>: Match a dot</li>\n<li><code>(?!\\\\d)</code>: Next character is not a digit</li>\n<li><code>|</code>: OR</li>\n<li><code>[^a-zA-Z\\\\d. ]+</code>: Match 1+ of non-alphanumeric characters that are not space or dot</li>\n<li><code>.replaceAll(&quot;\\\\h{2,}&quot;, &quot; &quot;)</code>: is for replacing 2+ whitespaces with a single space</li>\n</ul>\n"}],"owner":{"account_id":2061472,"reputation":973,"user_id":1837898,"accept_rate":64,"display_name":"userit1985"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72644399,"answer_count":1,"score":1,"last_activity_date":1655375691,"creation_date":1655374989,"question_id":72644311,"body_markdown":"Having this String with decimal point, I would like to remove all non alphaNumeric expect the decimal point.\r\n\r\n     String toPharse = &quot;the. book - cost 7.55 dollars.&quot;;\r\n\r\n     String newPharse =  toPharse.replaceAll(&quot;[^A-Za-zd.0-9 ]&quot;, &quot; &quot;).replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\r\n\r\nCurrently I get `&quot;the. book cost 7.55 dollars.&quot;`;\r\n\r\nHowever I would like to return `&quot;the book cost 7.55 dollars&quot;`;\r\n\r\n","title":"How to remove all non-alphanumeric characters from a string expect decimal point in Java","body":"<p>Having this String with decimal point, I would like to remove all non alphaNumeric expect the decimal point.</p>\n<pre><code> String toPharse = &quot;the. book - cost 7.55 dollars.&quot;;\n\n String newPharse =  toPharse.replaceAll(&quot;[^A-Za-zd.0-9 ]&quot;, &quot; &quot;).replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\n</code></pre>\n<p>Currently I get <code>&quot;the. book cost 7.55 dollars.&quot;</code>;</p>\n<p>However I would like to return <code>&quot;the book cost 7.55 dollars&quot;</code>;</p>\n"},{"tags":["java","mysql","sql","hibernate","jdbc"],"answers":[{"tags":[],"owner":{"account_id":11099444,"reputation":330,"user_id":8148559,"display_name":"Saar Levy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655122087,"creation_date":1655122087,"answer_id":72602587,"question_id":72602468,"body_markdown":"In your where clause, you will want to have an OR conditions for each month.  \r\nYou can generate it in a loop and then concat or something similar.\r\n\r\nYour final query for input of 1,3,4,7 for example will look as follows:\r\n```\r\nSELECT *\r\nFROM seasons as s\r\nWHERE (1 between start_month and end_month\r\nOR 3 between start_month and end_month\r\nOR 4 between start_month and end_month\r\nOR 7 between start_month and end_month)\r\n```","title":"Check if any value in list satisfies a condition","body":"<p>In your where clause, you will want to have an OR conditions for each month.<br />\nYou can generate it in a loop and then concat or something similar.</p>\n<p>Your final query for input of 1,3,4,7 for example will look as follows:</p>\n<pre><code>SELECT *\nFROM seasons as s\nWHERE (1 between start_month and end_month\nOR 3 between start_month and end_month\nOR 4 between start_month and end_month\nOR 7 between start_month and end_month)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17151936,"reputation":111,"user_id":13802851,"display_name":"Aleksandar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655375050,"creation_date":1655375050,"answer_id":72644328,"question_id":72602468,"body_markdown":"One way to accomplish this is:\r\n```\r\nselect s.* \r\nfrom (select 1 as mn union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8\r\n   union select 9 union select 10 union select 11 union select 12) as a\r\ninner join season s on a.mn between s.start_month and s.end_month\r\nwhere a.mn in (:flexibleTypeMonths);\r\n```","title":"Check if any value in list satisfies a condition","body":"<p>One way to accomplish this is:</p>\n<pre><code>select s.* \nfrom (select 1 as mn union select 2 union select 3 union select 4 union select 5 union select 6 union select 7 union select 8\n   union select 9 union select 10 union select 11 union select 12) as a\ninner join season s on a.mn between s.start_month and s.end_month\nwhere a.mn in (:flexibleTypeMonths);\n</code></pre>\n"}],"owner":{"account_id":17151936,"reputation":111,"user_id":13802851,"display_name":"Aleksandar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72644328,"answer_count":2,"score":0,"last_activity_date":1655375050,"creation_date":1655121606,"question_id":72602468,"body_markdown":"Suppose I have the following table called `Seasons`:\r\n\r\n|...| start_month | end_month |\r\n|---| ----------- | --------- |\r\n|...| 2           | 6         |\r\n|...| 3           | 4         |\r\n|...| ...         | ...       |\r\n\r\nI need to write a query which, for a given list of months, returns all the `Seasons` that satisfy the condition where at least 1 month in the list is: `start_month &lt;= month &lt;= end_month`. \r\n\r\nI&#39;ve written this query as a native query with JDBC, except the where clause.\r\n\r\n```\r\n@Repository\r\npublic class SeasonsRepositoryImpl implements SeasonsRepositoryCustom {\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n    @Override\r\n    public List&lt;SeasonsProjection&gt; findByMonths(List&lt;Integer&gt; months) {\r\n        String query = &quot;select * &quot; +\r\n                       &quot;from seasons as s&quot; +\r\n                       &quot;where ....&quot;\r\n\r\n        try {\r\n            return  em.createNativeQuery(query)\r\n                    .setParameter(&quot;months&quot;, months)\r\n                    .unwrap(org.hibernate.query.NativeQuery.class)\r\n                    .setResultTransformer(Transformers.aliasToBean(SeasonsProjection.class))\r\n                    .getResultList();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Exception with an exception message: {}&quot;, e.getMessage());\r\n            throw e;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have no idea how to write this, I thought of using the ANY operator until I found out that ANY only works with tables and not lists, I thought of writing this as a subquery with converting the list to a table, but I don&#39;t know if that&#39;s possible, I couldn&#39;t find anything in the MySQL documentation.","title":"Check if any value in list satisfies a condition","body":"<p>Suppose I have the following table called <code>Seasons</code>:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>...</th>\n<th>start_month</th>\n<th>end_month</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>...</td>\n<td>2</td>\n<td>6</td>\n</tr>\n<tr>\n<td>...</td>\n<td>3</td>\n<td>4</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I need to write a query which, for a given list of months, returns all the <code>Seasons</code> that satisfy the condition where at least 1 month in the list is: <code>start_month &lt;= month &lt;= end_month</code>.</p>\n<p>I've written this query as a native query with JDBC, except the where clause.</p>\n<pre><code>@Repository\npublic class SeasonsRepositoryImpl implements SeasonsRepositoryCustom {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    @Override\n    public List&lt;SeasonsProjection&gt; findByMonths(List&lt;Integer&gt; months) {\n        String query = &quot;select * &quot; +\n                       &quot;from seasons as s&quot; +\n                       &quot;where ....&quot;\n\n        try {\n            return  em.createNativeQuery(query)\n                    .setParameter(&quot;months&quot;, months)\n                    .unwrap(org.hibernate.query.NativeQuery.class)\n                    .setResultTransformer(Transformers.aliasToBean(SeasonsProjection.class))\n                    .getResultList();\n        } catch (Exception e) {\n            log.error(&quot;Exception with an exception message: {}&quot;, e.getMessage());\n            throw e;\n        }\n    }\n\n}\n</code></pre>\n<p>I have no idea how to write this, I thought of using the ANY operator until I found out that ANY only works with tables and not lists, I thought of writing this as a subquery with converting the list to a table, but I don't know if that's possible, I couldn't find anything in the MySQL documentation.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"score":0,"creation_date":1382004439,"post_id":19423326,"comment_id":28795192,"body_markdown":"The concept of &quot;pressure&quot; on DataBases is a strange one... DBs are usually very well able to handle this &quot;pressure&quot; gracefully.","body":"The concept of &quot;pressure&quot; on DataBases is a strange one... DBs are usually very well able to handle this &quot;pressure&quot; gracefully."}],"answers":[{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1529707602,"creation_date":1382003904,"answer_id":19423561,"question_id":19423326,"body_markdown":"Do something like\r\n\r\n    private static final int PARTITIONS_COUNT = 12;\r\n\r\n    List&lt;Set&lt;Type&gt;&gt; theSets = new ArrayList&lt;Set&lt;Type&gt;&gt;(PARTITIONS_COUNT);\r\n    for (int i = 0; i &lt; PARTITIONS_COUNT; i++) {\r\n        theSets.add(new HashSet&lt;Type&gt;());\r\n    }\r\n\r\n    int index = 0;\r\n    for (Type object : originalSet) {\r\n        theSets.get(index++ % PARTITIONS_COUNT).add(object);\r\n    }\r\n\r\nNow you have partitioned the `originalSet` into 12 other HashSets.\r\n","title":"Partition a Set into smaller Subsets and process as batch","body":"<p>Do something like</p>\n\n<pre><code>private static final int PARTITIONS_COUNT = 12;\n\nList&lt;Set&lt;Type&gt;&gt; theSets = new ArrayList&lt;Set&lt;Type&gt;&gt;(PARTITIONS_COUNT);\nfor (int i = 0; i &lt; PARTITIONS_COUNT; i++) {\n    theSets.add(new HashSet&lt;Type&gt;());\n}\n\nint index = 0;\nfor (Type object : originalSet) {\n    theSets.get(index++ % PARTITIONS_COUNT).add(object);\n}\n</code></pre>\n\n<p>Now you have partitioned the <code>originalSet</code> into 12 other HashSets.</p>\n"},{"tags":[],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382004223,"creation_date":1382004223,"answer_id":19423697,"question_id":19423326,"body_markdown":"A very simple way for your actual problem would be to change your code as follows: \r\n\r\n    Iterator&lt;String&gt; ite = allSymbolsSet.iterator();\r\n    System.out.println(&quot;=======================&quot;);\r\n    int i = 500;\r\n    while ((--i &gt; 0) &amp;&amp; ite.hasNext()) {\r\n\r\nA general method would be to use the iterator to take the elements out one by one in a simple loop:\r\n\r\n    int i = 500;\r\n    while ((--i &gt; 0) &amp;&amp; ite.hasNext()) {\r\n      sublist.add(ite.next());\r\n      ite.remove();\r\n    }","title":"Partition a Set into smaller Subsets and process as batch","body":"<p>A very simple way for your actual problem would be to change your code as follows: </p>\n\n<pre><code>Iterator&lt;String&gt; ite = allSymbolsSet.iterator();\nSystem.out.println(\"=======================\");\nint i = 500;\nwhile ((--i &gt; 0) &amp;&amp; ite.hasNext()) {\n</code></pre>\n\n<p>A general method would be to use the iterator to take the elements out one by one in a simple loop:</p>\n\n<pre><code>int i = 500;\nwhile ((--i &gt; 0) &amp;&amp; ite.hasNext()) {\n  sublist.add(ite.next());\n  ite.remove();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":1,"up_vote_count":88,"is_accepted":false,"score":87,"last_activity_date":1655374646,"creation_date":1382005755,"answer_id":19424229,"question_id":19423326,"body_markdown":"With [Guava][1]:\r\n\r\n    for (List&lt;String&gt; partition : Iterables.partition(yourSet, 500)) {\r\n        // ... handle partition ...\r\n    }\r\n\r\nOr [Apache Commons][2]:\r\n\r\n    for (List&lt;String&gt; partition : ListUtils.partition(yourList, 500)) {\r\n        // ... handle partition ...\r\n    }\r\n\r\n\r\n  [1]: https://guava.dev/releases/20.0/api/docs/com/google/common/collect/Iterables.html#partition-java.lang.Iterable-int-\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-","title":"Partition a Set into smaller Subsets and process as batch","body":"<p>With <a href=\"https://guava.dev/releases/20.0/api/docs/com/google/common/collect/Iterables.html#partition-java.lang.Iterable-int-\" rel=\"noreferrer\">Guava</a>:</p>\n<pre><code>for (List&lt;String&gt; partition : Iterables.partition(yourSet, 500)) {\n    // ... handle partition ...\n}\n</code></pre>\n<p>Or <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-\" rel=\"noreferrer\">Apache Commons</a>:</p>\n<pre><code>for (List&lt;String&gt; partition : ListUtils.partition(yourList, 500)) {\n    // ... handle partition ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384697,"reputation":531,"user_id":2085903,"display_name":"PipoTells"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491503327,"creation_date":1491503327,"answer_id":43263101,"question_id":19423326,"body_markdown":" We can use the following approach to divide a Set.\r\n\r\n We will get the output as \r\n [a, b]\r\n [c, d]\r\n [e]`\r\n    \r\n    \r\n\r\n    private static List&lt;Set&lt;String&gt;&gt; partitionSet(Set&lt;String&gt; set, int     partitionSize)\r\n    {\r\n        List&lt;Set&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n        int setSize = set.size();\r\n        \r\n        Iterator iterator = set.iterator();\r\n        \r\n        while(iterator.hasNext())\r\n        {\r\n            Set newSet = new HashSet();\r\n            for(int j = 0; j &lt; partitionSize &amp;&amp; iterator.hasNext(); j++)\r\n            {\r\n                String s = (String)iterator.next();\r\n                newSet.add(s);\r\n            }\r\n            list.add(newSet);\r\n        }\r\n        return list;\r\n    }\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n        set.add(&quot;a&quot;);\r\n        set.add(&quot;b&quot;);\r\n        set.add(&quot;c&quot;);\r\n        set.add(&quot;d&quot;);\r\n        set.add(&quot;e&quot;);\r\n        \r\n        int size = 2;\r\n        List&lt;Set&lt;String&gt;&gt; list = partitionSet(set, 2);\r\n        \r\n        for(int i = 0; i &lt; list.size(); i++)\r\n        {\r\n            Set&lt;String&gt; s = list.get(i);\r\n            System.out.println(s);\r\n        }\r\n    }","title":"Partition a Set into smaller Subsets and process as batch","body":"<p>We can use the following approach to divide a Set.</p>\n\n<p>We will get the output as \n [a, b]\n [c, d]\n [e]`</p>\n\n<pre><code>private static List&lt;Set&lt;String&gt;&gt; partitionSet(Set&lt;String&gt; set, int     partitionSize)\n{\n    List&lt;Set&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\n    int setSize = set.size();\n\n    Iterator iterator = set.iterator();\n\n    while(iterator.hasNext())\n    {\n        Set newSet = new HashSet();\n        for(int j = 0; j &lt; partitionSize &amp;&amp; iterator.hasNext(); j++)\n        {\n            String s = (String)iterator.next();\n            newSet.add(s);\n        }\n        list.add(newSet);\n    }\n    return list;\n}\n\npublic static void main(String[] args)\n{\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    set.add(\"a\");\n    set.add(\"b\");\n    set.add(\"c\");\n    set.add(\"d\");\n    set.add(\"e\");\n\n    int size = 2;\n    List&lt;Set&lt;String&gt;&gt; list = partitionSet(set, 2);\n\n    for(int i = 0; i &lt; list.size(); i++)\n    {\n        Set&lt;String&gt; s = list.get(i);\n        System.out.println(s);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576500307,"creation_date":1576500307,"answer_id":59356919,"question_id":19423326,"body_markdown":"The Guava solution from @Andrey_chaschev seems the best, but in case it is not possible to use it, I believe the following would help\r\n\r\n    public static List&lt;Set&lt;String&gt;&gt; partition(Set&lt;String&gt; set, int chunk) {\r\n    \t\tif(set == null || set.isEmpty() || chunk &lt; 1)\r\n    \t\t\treturn new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tList&lt;Set&lt;String&gt;&gt; partitionedList = new ArrayList&lt;&gt;();\r\n    \t\tdouble loopsize = Math.ceil((double) set.size() / (double) chunk);\r\n    \t\t\r\n    \t\tfor(int i =0; i &lt; loopsize; i++) {\r\n    \t\t\tpartitionedList.add(set.stream().skip((long)i * chunk).limit(chunk).collect(Collectors.toSet()));\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn partitionedList;\r\n    \t}","title":"Partition a Set into smaller Subsets and process as batch","body":"<p>The Guava solution from @Andrey_chaschev seems the best, but in case it is not possible to use it, I believe the following would help</p>\n\n<pre><code>public static List&lt;Set&lt;String&gt;&gt; partition(Set&lt;String&gt; set, int chunk) {\n        if(set == null || set.isEmpty() || chunk &lt; 1)\n            return new ArrayList&lt;&gt;();\n\n        List&lt;Set&lt;String&gt;&gt; partitionedList = new ArrayList&lt;&gt;();\n        double loopsize = Math.ceil((double) set.size() / (double) chunk);\n\n        for(int i =0; i &lt; loopsize; i++) {\n            partitionedList.add(set.stream().skip((long)i * chunk).limit(chunk).collect(Collectors.toSet()));\n        }\n\n        return partitionedList;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15568682,"reputation":69,"user_id":11231733,"display_name":"Rimjhim Doshi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620638414,"creation_date":1620638414,"answer_id":67467847,"question_id":19423326,"body_markdown":"If you are not worried much about space complexity, you can do like this in a clean way :\r\n\r\n```\r\nList&lt;List&lt;T&gt;&gt; partitionList = Lists.partition(new ArrayList&lt;&gt;(inputSet), PARTITION_SIZE);\r\nList&lt;Set&lt;T&gt;&gt; partitionSet = partitionList.stream().map((Function&lt;List&lt;T&gt;, HashSet&gt;) HashSet::new).collect(Collectors.toList());\r\n\r\n```","title":"Partition a Set into smaller Subsets and process as batch","body":"<p>If you are not worried much about space complexity, you can do like this in a clean way :</p>\n<pre><code>List&lt;List&lt;T&gt;&gt; partitionList = Lists.partition(new ArrayList&lt;&gt;(inputSet), PARTITION_SIZE);\nList&lt;Set&lt;T&gt;&gt; partitionSet = partitionList.stream().map((Function&lt;List&lt;T&gt;, HashSet&gt;) HashSet::new).collect(Collectors.toList());\n\n</code></pre>\n"}],"owner":{"account_id":411865,"reputation":31703,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50113,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":19423561,"answer_count":6,"score":23,"last_activity_date":1655374646,"creation_date":1382003283,"question_id":19423326,"body_markdown":"I have a continuous running thread in my application, which consists of a HashSet to store all the symbols inside the application. As per the design at the time it was written, inside the thread&#39;s while true condition it will iterate the HashSet continuously, and update the database for all the symbols contained inside HashSet.\r\n\r\nThe maximum number of symbols that might be present inside the HashSet will be around 6000. I don&#39;t want to update the DB with all the 6000 symbols at once, but divide this HashSet into different subsets of 500 each (12 sets) and execute each subset individually and have a thread sleep after each subset for 15 minutes, so that I can reduce the pressure on the database.\r\n\r\nThis is my code (sample code snippet)\r\n\r\nHow can I partition a set into smaller subsets and process (I have seen the examples for partitioning ArrayList, TreeSet, but didn&#39;t find any example related to HashSet)\r\n\r\n    package com.ubsc.rewji.threads;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    import java.util.concurrent.PriorityBlockingQueue;\r\n    \r\n    public class TaskerThread extends Thread {\r\n    \tprivate PriorityBlockingQueue&lt;String&gt; priorityBlocking = new PriorityBlockingQueue&lt;String&gt;();\r\n    \tString symbols[] = new String[] { &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot; };\r\n    \tSet&lt;String&gt; allSymbolsSet = Collections\r\n    \t\t\t.synchronizedSet(new HashSet&lt;String&gt;(Arrays.asList(symbols)));\r\n    \r\n    \tpublic void addsymbols(String commaDelimSymbolsList) {\r\n    \t\tif (commaDelimSymbolsList != null) {\r\n    \t\t\tString[] symAr = commaDelimSymbolsList.split(&quot;,&quot;);\r\n    \t\t\tfor (int i = 0; i &lt; symAr.length; i++) {\r\n    \t\t\t\tpriorityBlocking.add(symAr[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \t\twhile (true) {\r\n    \t\t\ttry {\r\n    \t\t\t\twhile (priorityBlocking.peek() != null) {\r\n    \t\t\t\t\tString symbol = priorityBlocking.poll();\r\n    \t\t\t\t\tallSymbolsSet.add(symbol);\r\n    \t\t\t\t}\r\n    \t\t\t\tIterator&lt;String&gt; ite = allSymbolsSet.iterator();\r\n    \t\t\t\tSystem.out.println(&quot;=======================&quot;);\r\n    \t\t\t\twhile (ite.hasNext()) {\r\n    \t\t\t\t\tString symbol = ite.next();\r\n    \t\t\t\t\tif (symbol != null &amp;&amp; symbol.trim().length() &gt; 0) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tupdateDB(symbol);\r\n    \r\n    \t\t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tThread.sleep(2000);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void updateDB(String symbol) {\r\n    \t\tSystem.out.println(&quot;THE SYMBOL BEING UPDATED IS&quot; + &quot;  &quot; + symbol);\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tTaskerThread taskThread = new TaskerThread();\r\n    \t\ttaskThread.start();\r\n    \r\n    \t\tString commaDelimSymbolsList = &quot;ONVO,HJI,HYU,SD,F,SDF,ASA,TRET,TRE,JHG,RWE,XCX,WQE,KLJK,XCZ&quot;;\r\n    \t\ttaskThread.addsymbols(commaDelimSymbolsList);\r\n    \r\n    \t}\r\n    \r\n    }","title":"Partition a Set into smaller Subsets and process as batch","body":"<p>I have a continuous running thread in my application, which consists of a HashSet to store all the symbols inside the application. As per the design at the time it was written, inside the thread's while true condition it will iterate the HashSet continuously, and update the database for all the symbols contained inside HashSet.</p>\n<p>The maximum number of symbols that might be present inside the HashSet will be around 6000. I don't want to update the DB with all the 6000 symbols at once, but divide this HashSet into different subsets of 500 each (12 sets) and execute each subset individually and have a thread sleep after each subset for 15 minutes, so that I can reduce the pressure on the database.</p>\n<p>This is my code (sample code snippet)</p>\n<p>How can I partition a set into smaller subsets and process (I have seen the examples for partitioning ArrayList, TreeSet, but didn't find any example related to HashSet)</p>\n<pre><code>package com.ubsc.rewji.threads;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.concurrent.PriorityBlockingQueue;\n\npublic class TaskerThread extends Thread {\n    private PriorityBlockingQueue&lt;String&gt; priorityBlocking = new PriorityBlockingQueue&lt;String&gt;();\n    String symbols[] = new String[] { &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot; };\n    Set&lt;String&gt; allSymbolsSet = Collections\n            .synchronizedSet(new HashSet&lt;String&gt;(Arrays.asList(symbols)));\n\n    public void addsymbols(String commaDelimSymbolsList) {\n        if (commaDelimSymbolsList != null) {\n            String[] symAr = commaDelimSymbolsList.split(&quot;,&quot;);\n            for (int i = 0; i &lt; symAr.length; i++) {\n                priorityBlocking.add(symAr[i]);\n            }\n        }\n    }\n\n    public void run() {\n        while (true) {\n            try {\n                while (priorityBlocking.peek() != null) {\n                    String symbol = priorityBlocking.poll();\n                    allSymbolsSet.add(symbol);\n                }\n                Iterator&lt;String&gt; ite = allSymbolsSet.iterator();\n                System.out.println(&quot;=======================&quot;);\n                while (ite.hasNext()) {\n                    String symbol = ite.next();\n                    if (symbol != null &amp;&amp; symbol.trim().length() &gt; 0) {\n                        try {\n                            updateDB(symbol);\n\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n                Thread.sleep(2000);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public void updateDB(String symbol) {\n        System.out.println(&quot;THE SYMBOL BEING UPDATED IS&quot; + &quot;  &quot; + symbol);\n    }\n\n    public static void main(String args[]) {\n        TaskerThread taskThread = new TaskerThread();\n        taskThread.start();\n\n        String commaDelimSymbolsList = &quot;ONVO,HJI,HYU,SD,F,SDF,ASA,TRET,TRE,JHG,RWE,XCX,WQE,KLJK,XCZ&quot;;\n        taskThread.addsymbols(commaDelimSymbolsList);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","c","sockets","java-native-interface"],"comments":[{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":1,"creation_date":1655370645,"post_id":72642803,"comment_id":128318351,"body_markdown":"weird, maybe it&#39;s some issue with the function being called `socket` and the class being called `Socket`, what happens if you call it something like `private native int createSocket();` or so instead. edit: oh, nvm, didn&#39;t see that the prinf stuff from the socket function did get printed","body":"weird, maybe it&#39;s some issue with the function being called <code>socket</code> and the class being called <code>Socket</code>, what happens if you call it something like <code>private native int createSocket();</code> or so instead. edit: oh, nvm, didn&#39;t see that the prinf stuff from the socket function did get printed"},{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":1,"creation_date":1655371176,"post_id":72642803,"comment_id":128318556,"body_markdown":"What&#39;s the return value of bind?","body":"What&#39;s the return value of bind?"},{"owner":{"account_id":3969324,"reputation":675,"user_id":3274299,"accept_rate":75,"display_name":"Tipok"},"score":0,"creation_date":1655372238,"post_id":72642803,"comment_id":128318944,"body_markdown":"@PeterT the result of bind() is -1","body":"@PeterT the result of bind() is -1"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1655372303,"post_id":72642803,"comment_id":128318971,"body_markdown":"Why? Why not write it all in Java? What is the point here? And why are you calling `setsockopt()` twice with the same arguments? And why aren&#39;t you calling `perror()` when `bind()` fails? Which would answer the question ...","body":"Why? Why not write it all in Java? What is the point here? And why are you calling <code>setsockopt()</code> twice with the same arguments? And why aren&#39;t you calling <code>perror()</code> when <code>bind()</code> fails? Which would answer the question ..."},{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":1,"creation_date":1655372352,"post_id":72642803,"comment_id":128318990,"body_markdown":"@Tipok oh, of course, I meant to ask what is the return value of `errno()` after bind failed","body":"@Tipok oh, of course, I meant to ask what is the return value of <code>errno()</code> after bind failed"},{"owner":{"account_id":3969324,"reputation":675,"user_id":3274299,"accept_rate":75,"display_name":"Tipok"},"score":0,"creation_date":1655373534,"post_id":72642803,"comment_id":128319404,"body_markdown":"errno is 22 as you see from output, for studying purpose I write http java server which call native Linux methods","body":"errno is 22 as you see from output, for studying purpose I write http java server which call native Linux methods"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1655373739,"post_id":72642803,"comment_id":128319473,"body_markdown":"And what is the text that goes with errno 22? The text that is printed by `perror()`? And, again, why are you calling `setsockopt()` twice? and what is your reason for replacing two lines of Java code with a couple of dozen lines of inferior C code? You need to answer the questions you are asked here. And when you print an `errno` you need to do so *before* calling any other system calls, which can change it. Please do as you are asked here.","body":"And what is the text that goes with errno 22? The text that is printed by <code>perror()</code>? And, again, why are you calling <code>setsockopt()</code> twice? and what is your reason for replacing two lines of Java code with a couple of dozen lines of inferior C code? You need to answer the questions you are asked here. And when you print an <code>errno</code> you need to do so <i>before</i> calling any other system calls, which can change it. Please do as you are asked here."},{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":1,"creation_date":1655374344,"post_id":72642803,"comment_id":128319644,"body_markdown":"22 is EINVAL so &quot;The socket is already bound to an address.&quot; or &quot;addrlen is wrong, or addr is not a valid address for this  socket&#39;s domain.&quot;","body":"22 is EINVAL so &quot;The socket is already bound to an address.&quot; or &quot;addrlen is wrong, or addr is not a valid address for this  socket&#39;s domain.&quot;"},{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":1,"creation_date":1655374591,"post_id":72642803,"comment_id":128319741,"body_markdown":"is a `AF_UNIX`  socket supposed to work with `AF_INET` and `INADDR_ANY` endpoints? I don&#39;t think I&#39;ve seen that before","body":"is a <code>AF_UNIX</code>  socket supposed to work with <code>AF_INET</code> and <code>INADDR_ANY</code> endpoints? I don&#39;t think I&#39;ve seen that before"},{"owner":{"account_id":3969324,"reputation":675,"user_id":3274299,"accept_rate":75,"display_name":"Tipok"},"score":0,"creation_date":1655392393,"post_id":72642803,"comment_id":128326229,"body_markdown":"thanks guys changing it to AF_INET helped me","body":"thanks guys changing it to AF_INET helped me"}],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655374602,"creation_date":1655374602,"answer_id":72644241,"question_id":72642803,"body_markdown":"The issue is that you&#39;re treating `AF_UNIX` socket as `AF_INET` one. You can&#39;t use `sockaddr_in` for `AF_UNIX` socket and also you can&#39;t bind it to an IP address.\r\n\r\nI think that you&#39;ve made a typo in your socket definition code. Instead of\r\n\r\n```c\r\nif ((sockfd = socket(AF_UNIX, SOCK_STREAM, 0)) == -1) {\r\n```\r\n\r\nit should be \r\n\r\n```c\r\nif ((sockfd = socket(AF_INET, SOCK_STREAM, 0)) == -1) {\r\n```","title":"Socket binding through JNI","body":"<p>The issue is that you're treating <code>AF_UNIX</code> socket as <code>AF_INET</code> one. You can't use <code>sockaddr_in</code> for <code>AF_UNIX</code> socket and also you can't bind it to an IP address.</p>\n<p>I think that you've made a typo in your socket definition code. Instead of</p>\n<pre class=\"lang-c prettyprint-override\"><code>if ((sockfd = socket(AF_UNIX, SOCK_STREAM, 0)) == -1) {\n</code></pre>\n<p>it should be</p>\n<pre class=\"lang-c prettyprint-override\"><code>if ((sockfd = socket(AF_INET, SOCK_STREAM, 0)) == -1) {\n</code></pre>\n"}],"owner":{"account_id":3969324,"reputation":675,"user_id":3274299,"accept_rate":75,"display_name":"Tipok"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72644241,"answer_count":1,"score":0,"last_activity_date":1655374602,"creation_date":1655368460,"question_id":72642803,"body_markdown":"I try to open a socket connection on a Linux machine through JNI.\r\nIf I combine Java_Socket_socket and Java_Socket_bind in same C function, the JNI call works perfectly, but it doesn&#39;t work when I run methods sequentially. \r\n\r\nThis is my code\r\n\r\n    #include &lt;jni.h&gt;        // JNI header provided by JDK\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;string.h&gt;\r\n    #include &lt;sys/types.h&gt;\r\n    #include &lt;sys/socket.h&gt;\r\n    #include &lt;netinet/in.h&gt;\r\n    #include &lt;errno.h&gt;\r\n    #include &lt;fcntl.h&gt;\r\n    #include &quot;Socket.h&quot;   // Generated\r\n    \r\n    JNIEXPORT jint JNICALL Java_Socket_socket(JNIEnv *env, jobject thisObj) {\r\n        int sockfd;\r\n    \r\n        if ((sockfd = socket(AF_UNIX, SOCK_STREAM, 0)) == -1) {\r\n            printf(&quot;socket creation failed...\\n&quot;);\r\n            return (jint)-1;\r\n        } else {\r\n            printf(&quot;Socket successfully created..\\n&quot;);\r\n            printf(&quot;Socket descriptor: %d\\n&quot;, sockfd);\r\n            return (jint) sockfd;\r\n        }\r\n    }\r\n    \r\n    JNIEXPORT jint JNICALL Java_Socket_bind(JNIEnv *env, jobject thisObj, jint sockfd, jint port) {\r\n        struct sockaddr_in servaddr;\r\n        bzero(&amp;servaddr, sizeof(servaddr));\r\n    \r\n        int c_sockfd = (int) sockfd;\r\n        short int c_port = (int) port;\r\n    \r\n        printf(&quot;socket binding sockfd - %d, port - %d\\n&quot;, c_sockfd, c_port);\r\n    \r\n        // assign IP, PORT\r\n        servaddr.sin_family = AF_INET;\r\n        servaddr.sin_addr.s_addr = htonl(INADDR_ANY);\r\n        servaddr.sin_port = htons(c_port);\r\n        printf(&quot;htons - %d\\n&quot;, htons(c_port));\r\n    \r\n    \r\n        int one = 1;\r\n        int res = setsockopt(c_sockfd, SOL_SOCKET, SO_REUSEADDR, &amp;one, sizeof(one));\r\n        res = setsockopt(c_sockfd, SOL_SOCKET, SO_REUSEADDR, &amp;one, sizeof(one));\r\n        if (res &lt; 0) {\r\n            perror(&quot;setsockopt&quot;);\r\n        }\r\n    \r\n        printf(&quot;sizeof - %d\\n&quot;, sizeof(servaddr));\r\n    \r\n        if (fcntl(c_sockfd, F_GETFD) != -1 || errno != EBADF) {\r\n            printf(&quot;fd is valid\\n&quot;);\r\n        } else {\r\n            printf(&quot;fd is invalid\\n&quot;);\r\n        }\r\n    \r\n        // Binding newly created socket to given IP and verification\r\n        if ((bind(sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr))) != 0) {\r\n            printf(&quot;socket bind failed...\\n&quot;);\r\n            printf(&quot;Error code: %d\\n&quot;, errno);\r\n            return (jint)-1;\r\n        }\r\n        else {\r\n            printf(&quot;Socket successfully binded..\\n&quot;);\r\n            return (jint)0;\r\n        }\r\n    }\r\n\r\nJava code\r\n\r\n    public class Socket {\r\n        static {\r\n            System.load(&quot;.../libsocket.so&quot;);\r\n        }\r\n    \r\n        private native int socket();\r\n    \r\n        private native int bind(int sockFd, int port);\r\n    \r\n        public static void main(String[] args) {\r\n            var socket = new Socket();\r\n            int sockFd = socket.socket();\r\n            System.out.println(&quot;sockFd &quot; + sockFd);\r\n            int bind = socket.bind(sockFd, 9900);\r\n            System.out.println(&quot;Bind &quot; + bind);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Socket descriptor: 4\r\n    socket binding sockfd - 4, port - 9900\r\n    htons - 44070\r\n    sizeof - 16\r\n    fd is valid\r\n    socket bind failed...\r\n    Error code: 22\r\n\r\nIf I create C program from this code, and as regular C program, `gcc ... &amp;&amp; a.out` -&gt; then no error occurs. What can be reason? \r\n\r\nCan it be because file descriptor is closed?","title":"Socket binding through JNI","body":"<p>I try to open a socket connection on a Linux machine through JNI.\nIf I combine Java_Socket_socket and Java_Socket_bind in same C function, the JNI call works perfectly, but it doesn't work when I run methods sequentially.</p>\n<p>This is my code</p>\n<pre><code>#include &lt;jni.h&gt;        // JNI header provided by JDK\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;netinet/in.h&gt;\n#include &lt;errno.h&gt;\n#include &lt;fcntl.h&gt;\n#include &quot;Socket.h&quot;   // Generated\n\nJNIEXPORT jint JNICALL Java_Socket_socket(JNIEnv *env, jobject thisObj) {\n    int sockfd;\n\n    if ((sockfd = socket(AF_UNIX, SOCK_STREAM, 0)) == -1) {\n        printf(&quot;socket creation failed...\\n&quot;);\n        return (jint)-1;\n    } else {\n        printf(&quot;Socket successfully created..\\n&quot;);\n        printf(&quot;Socket descriptor: %d\\n&quot;, sockfd);\n        return (jint) sockfd;\n    }\n}\n\nJNIEXPORT jint JNICALL Java_Socket_bind(JNIEnv *env, jobject thisObj, jint sockfd, jint port) {\n    struct sockaddr_in servaddr;\n    bzero(&amp;servaddr, sizeof(servaddr));\n\n    int c_sockfd = (int) sockfd;\n    short int c_port = (int) port;\n\n    printf(&quot;socket binding sockfd - %d, port - %d\\n&quot;, c_sockfd, c_port);\n\n    // assign IP, PORT\n    servaddr.sin_family = AF_INET;\n    servaddr.sin_addr.s_addr = htonl(INADDR_ANY);\n    servaddr.sin_port = htons(c_port);\n    printf(&quot;htons - %d\\n&quot;, htons(c_port));\n\n\n    int one = 1;\n    int res = setsockopt(c_sockfd, SOL_SOCKET, SO_REUSEADDR, &amp;one, sizeof(one));\n    res = setsockopt(c_sockfd, SOL_SOCKET, SO_REUSEADDR, &amp;one, sizeof(one));\n    if (res &lt; 0) {\n        perror(&quot;setsockopt&quot;);\n    }\n\n    printf(&quot;sizeof - %d\\n&quot;, sizeof(servaddr));\n\n    if (fcntl(c_sockfd, F_GETFD) != -1 || errno != EBADF) {\n        printf(&quot;fd is valid\\n&quot;);\n    } else {\n        printf(&quot;fd is invalid\\n&quot;);\n    }\n\n    // Binding newly created socket to given IP and verification\n    if ((bind(sockfd, (struct sockaddr*)&amp;servaddr, sizeof(servaddr))) != 0) {\n        printf(&quot;socket bind failed...\\n&quot;);\n        printf(&quot;Error code: %d\\n&quot;, errno);\n        return (jint)-1;\n    }\n    else {\n        printf(&quot;Socket successfully binded..\\n&quot;);\n        return (jint)0;\n    }\n}\n</code></pre>\n<p>Java code</p>\n<pre><code>public class Socket {\n    static {\n        System.load(&quot;.../libsocket.so&quot;);\n    }\n\n    private native int socket();\n\n    private native int bind(int sockFd, int port);\n\n    public static void main(String[] args) {\n        var socket = new Socket();\n        int sockFd = socket.socket();\n        System.out.println(&quot;sockFd &quot; + sockFd);\n        int bind = socket.bind(sockFd, 9900);\n        System.out.println(&quot;Bind &quot; + bind);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Socket descriptor: 4\nsocket binding sockfd - 4, port - 9900\nhtons - 44070\nsizeof - 16\nfd is valid\nsocket bind failed...\nError code: 22\n</code></pre>\n<p>If I create C program from this code, and as regular C program, <code>gcc ... &amp;&amp; a.out</code> -&gt; then no error occurs. What can be reason?</p>\n<p>Can it be because file descriptor is closed?</p>\n"},{"tags":["java","c#","oop","exception"],"comments":[{"owner":{"account_id":1793357,"reputation":10847,"user_id":1633308,"accept_rate":69,"display_name":"DonBoitnott"},"score":0,"creation_date":1375373509,"post_id":17998936,"comment_id":26318649,"body_markdown":"And if you really want to expose something from `Exception`, use its `ToString()` method instead.  It delivers far more and better content.","body":"And if you really want to expose something from <code>Exception</code>, use its <code>ToString()</code> method instead.  It delivers far more and better content."}],"answers":[{"tags":[],"owner":{"account_id":43468,"reputation":37917,"user_id":127084,"accept_rate":80,"display_name":"James Michael Hare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1375372872,"creation_date":1375372872,"answer_id":17999030,"question_id":17998936,"body_markdown":"No, I feel that exception details (Message and StackTrace) are best left to logs at best.  Often times the exception text is too technical for display to the user and may actually give a malicious user information that could be used to hack or otherwise attack the system.\r\n\r\nThus, i would pick appropriate verbiage for different exceptions that is meaningful but not the actual technical details.\r\n\r\nOf course, if this is a technical tool aimed at a particular technical audience, that may change things (like a database tool such as Toad may choose to show details of Oracle exceptions, etc).  But in general, I would avoid it.","title":"Should the Exception.Message property be shown directly to users?","body":"<p>No, I feel that exception details (Message and StackTrace) are best left to logs at best.  Often times the exception text is too technical for display to the user and may actually give a malicious user information that could be used to hack or otherwise attack the system.</p>\n\n<p>Thus, i would pick appropriate verbiage for different exceptions that is meaningful but not the actual technical details.</p>\n\n<p>Of course, if this is a technical tool aimed at a particular technical audience, that may change things (like a database tool such as Toad may choose to show details of Oracle exceptions, etc).  But in general, I would avoid it.</p>\n"},{"tags":[],"owner":{"account_id":3122925,"reputation":19,"user_id":2642357,"display_name":"Bill Kowal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375372958,"creation_date":1375372958,"answer_id":17999057,"question_id":17998936,"body_markdown":"This question really depends on who your audience is and what type of information you want to give them. For most end users, ex.message will be meaningless and confusing. However, if you are writing specifically for programmers or for yourself, it could contain some useful information.","title":"Should the Exception.Message property be shown directly to users?","body":"<p>This question really depends on who your audience is and what type of information you want to give them. For most end users, ex.message will be meaningless and confusing. However, if you are writing specifically for programmers or for yourself, it could contain some useful information.</p>\n"},{"tags":[],"owner":{"account_id":23050,"reputation":22323,"user_id":57475,"accept_rate":100,"display_name":"Tanner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375373419,"creation_date":1375372986,"answer_id":17999069,"question_id":17998936,"body_markdown":"Firstly, users should never see a gritty exception message.\r\n\r\nYou should handle all exceptions you can foresee and give a useful message: `&quot;Unable to load users...&quot;` or something they can understand based on the task they tried to achieve.\r\n\r\nFor all unhandled exceptions you should have a standarised user-friendly message that tells them politely that something went wrong and perhaps display an error code from the method that means nothing to them and something to you.\r\n\r\nOn top of this, if you are logging all exceptions, which you should be doing, you can perhaps present the user with a log number for the error to help you track down the issue.\r\n\r\nIf appropriate, email exception details to yourself / the support team whenever they happen if you don&#39;t have access to the log/site.","title":"Should the Exception.Message property be shown directly to users?","body":"<p>Firstly, users should never see a gritty exception message.</p>\n\n<p>You should handle all exceptions you can foresee and give a useful message: <code>\"Unable to load users...\"</code> or something they can understand based on the task they tried to achieve.</p>\n\n<p>For all unhandled exceptions you should have a standarised user-friendly message that tells them politely that something went wrong and perhaps display an error code from the method that means nothing to them and something to you.</p>\n\n<p>On top of this, if you are logging all exceptions, which you should be doing, you can perhaps present the user with a log number for the error to help you track down the issue.</p>\n\n<p>If appropriate, email exception details to yourself / the support team whenever they happen if you don't have access to the log/site.</p>\n"},{"tags":[],"owner":{"account_id":2674702,"reputation":32103,"user_id":2311360,"display_name":"Ehsan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375373251,"creation_date":1375373251,"answer_id":17999169,"question_id":17998936,"body_markdown":"The question is quite broad to answer. But a short answer is that you should always try to **show user what he understands**. *User friendly* messages are the way to go. And i don&#39;t think exceptions are useful enough for a novice user. So, one should always try to show him custom error messages and keep the exceptions for yourself. They are meant for you to **diagnose the error** and you should have access to them not user.","title":"Should the Exception.Message property be shown directly to users?","body":"<p>The question is quite broad to answer. But a short answer is that you should always try to <strong>show user what he understands</strong>. <em>User friendly</em> messages are the way to go. And i don't think exceptions are useful enough for a novice user. So, one should always try to show him custom error messages and keep the exceptions for yourself. They are meant for you to <strong>diagnose the error</strong> and you should have access to them not user.</p>\n"}],"owner":{"account_id":946346,"reputation":522,"user_id":973539,"accept_rate":88,"display_name":"Jeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1375460949,"accepted_answer_id":17999030,"answer_count":4,"score":3,"last_activity_date":1655373990,"creation_date":1375372661,"question_id":17998936,"body_markdown":"That may sound like a silly question but I&#39;d like to gather some input regarding this. I&#39;m used to see 2 flavors of handling exception messages. First there is the simple pattern where you show the `Message` directly to the user:\r\n\r\n    try\r\n    {\r\n        service.Update();\r\n    }\r\n    catch (Exception ex)\r\n    {\r\n        ShowMessage(ex.Message);\r\n    }\r\n\r\nThe alternative way of treating exceptions is to consider strongly-typed exceptions to mean something that is then interpreted by the &#39;controller&#39; class (or whatever piece of code than handles pushing information to the user):\r\n\r\n    try\r\n    {\r\n        service.Update();\r\n    }\r\n    catch (NetworkException ex)\r\n    {\r\n        ShowMessage(&quot;Network is unavailable.&quot;);\r\n    }\r\n    catch (Exception ex)\r\n    {\r\n        ShowMessage(&quot;Something went wrong with the update.&quot;);\r\n    }\r\n\r\nThe first approach requires that every message used by exceptions (whether passed in the constructor by the calling code or managed inside a strongly-typed exception) be &#39;user-ready&#39; (clean, properly formulated and localized, etc.). The second approach transfers this responsibility to the controller code. Plus it might require having very specific strongly-typed exceptions to make sure that every catch block is able to interpret them correctly.\r\n\r\nSo to whom is aimed the Message property of the Exception class (in C#, Java...)? The end-user or the programmer?\r\n\r\nThank you,\r\n","title":"Should the Exception.Message property be shown directly to users?","body":"<p>That may sound like a silly question but I'd like to gather some input regarding this. I'm used to see 2 flavors of handling exception messages. First there is the simple pattern where you show the <code>Message</code> directly to the user:</p>\n<pre><code>try\n{\n    service.Update();\n}\ncatch (Exception ex)\n{\n    ShowMessage(ex.Message);\n}\n</code></pre>\n<p>The alternative way of treating exceptions is to consider strongly-typed exceptions to mean something that is then interpreted by the 'controller' class (or whatever piece of code than handles pushing information to the user):</p>\n<pre><code>try\n{\n    service.Update();\n}\ncatch (NetworkException ex)\n{\n    ShowMessage(&quot;Network is unavailable.&quot;);\n}\ncatch (Exception ex)\n{\n    ShowMessage(&quot;Something went wrong with the update.&quot;);\n}\n</code></pre>\n<p>The first approach requires that every message used by exceptions (whether passed in the constructor by the calling code or managed inside a strongly-typed exception) be 'user-ready' (clean, properly formulated and localized, etc.). The second approach transfers this responsibility to the controller code. Plus it might require having very specific strongly-typed exceptions to make sure that every catch block is able to interpret them correctly.</p>\n<p>So to whom is aimed the Message property of the Exception class (in C#, Java...)? The end-user or the programmer?</p>\n<p>Thank you,</p>\n"},{"tags":["java","json","fasterxml"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655363517,"post_id":72641796,"comment_id":128316030,"body_markdown":"What&#39;s wrong with it returning an object? And what makes you think this has a performance problem?","body":"What&#39;s wrong with it returning an object? And what makes you think this has a performance problem?"},{"owner":{"account_id":21953091,"reputation":137,"user_id":16232045,"display_name":"Salman"},"score":0,"creation_date":1655363918,"post_id":72641796,"comment_id":128316148,"body_markdown":"There is nothing wrong to return an object. The question is about performance and a better approach for validating JSON file.","body":"There is nothing wrong to return an object. The question is about performance and a better approach for validating JSON file."}],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655373808,"creation_date":1655373808,"answer_id":72644063,"question_id":72641796,"body_markdown":"You could look at using a JSON Schema for validating the content of the file. [networknt/json-schema][1] is Java based and supports Jackson.\r\n\r\n\r\n  [1]: https://github.com/networknt/json-schema-validator","title":"Best way to validate json file in java","body":"<p>You could look at using a JSON Schema for validating the content of the file. <a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">networknt/json-schema</a> is Java based and supports Jackson.</p>\n"}],"owner":{"account_id":21953091,"reputation":137,"user_id":16232045,"display_name":"Salman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655373808,"creation_date":1655363442,"question_id":72641796,"body_markdown":"I want to validate the JSON file. I checked readValue from fasterXML but I see it return object. Is there any to validate JSON files efficiently without compromising performance?\r\n\r\n```\r\npublic &lt;T&gt; T readValue(File src, Class&lt;T&gt; valueType)\r\n```\r\nThank you","title":"Best way to validate json file in java","body":"<p>I want to validate the JSON file. I checked readValue from fasterXML but I see it return object. Is there any to validate JSON files efficiently without compromising performance?</p>\n<pre><code>public &lt;T&gt; T readValue(File src, Class&lt;T&gt; valueType)\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1654365894,"post_id":72501752,"comment_id":128075723,"body_markdown":"Kotlin does a lot of magic to add behavior to Java APIs.","body":"Kotlin does a lot of magic to add behavior to Java APIs."}],"answers":[{"tags":[],"owner":{"account_id":98468,"reputation":1082,"user_id":266523,"display_name":"sidereal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654364026,"creation_date":1654364026,"answer_id":72501820,"question_id":72501752,"body_markdown":"Kotlin supports adding functionality to classes without extending the class, via extensions:\r\nhttps://kotlinlang.org/docs/extensions.html\r\n\r\nYou can see String.toLong is added along with many other extensions to base Java classes via the kotlin.text package here:\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/","title":"Is kotlin.String really a java.lang.String?","body":"<p>Kotlin supports adding functionality to classes without extending the class, via extensions:\n<a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/extensions.html</a></p>\n<p>You can see String.toLong is added along with many other extensions to base Java classes via the kotlin.text package here:\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/</a></p>\n"},{"tags":[],"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655373617,"creation_date":1655299237,"answer_id":72632222,"question_id":72501752,"body_markdown":"To expand on the other comments posted here, it looks like `kotlin.String` is _not_ a `java.lang.String`, but it _does_ compile to one, according to the [java/kotlin type mapping][1]. So even though the runtime class is the same, the compiler treats them differently. Since the [`toLong` extension method is implemented on kotlin.String][2], it is not available for `java.lang.String`.\r\n\r\nYou can pull the same trick in reverse:\r\n\r\n    [71] fun java.lang.String.zero(): Long = 0\r\n    [72] java.lang.String().zero()\r\n    res36: Long = 0\r\n\r\nbut this extension method is not available for a `kotlin.String`, even though it compiles to a `java.lang.String`.\r\n\r\n    [73] &quot;kotlin string&quot;.javaClass\r\n    res37: Class&lt;String&gt; = class java.lang.String\r\n    [74] &quot;kotlin string&quot;.zero()\r\n    ERROR Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \r\n    public final fun String.zero(): Long defined in Line_72 (Line_75.kts:1:17)\r\n\r\nTo further complicate the matter, a `java.lang.String` is normally loaded as a `kotlin.String` unless you give the fully qualified name.\r\n\r\n    [0] java.lang.String(&quot;12345&quot;).toLong()\r\n    ERROR Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \r\n    public inline fun String.toLong(): Long defined in kotlin.text\r\n    public inline fun String.toLong(radix: Int): Long defined in kotlin.text (Line_1.kts:1:27)\r\n\r\n    [1] java.lang.String(&quot;12345&quot;).substring(0).toLong()\r\n    res0: Long = 12345\r\n\r\nSo the answer is no, a `kotlin.String` is not a `java.lang.String`. They are interoperable because they compile to the same class, but the compiler still distinguishes between them.\r\n\r\nRelated question: [does Any == Object][3]\r\n\r\n[1]: https://kotlinlang.org/docs/java-interop.html#mapped-types\r\n[2]: https://github.com/JetBrains/kotlin/blob/92d200e093c693b3c06e53a39e0b0973b84c7ec5/libraries/stdlib/jvm/src/kotlin/text/StringNumberConversionsJVM.kt#L115\r\n[3]: https://stackoverflow.com/questions/38761021/does-any-object","title":"Is kotlin.String really a java.lang.String?","body":"<p>To expand on the other comments posted here, it looks like <code>kotlin.String</code> is <em>not</em> a <code>java.lang.String</code>, but it <em>does</em> compile to one, according to the <a href=\"https://kotlinlang.org/docs/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">java/kotlin type mapping</a>. So even though the runtime class is the same, the compiler treats them differently. Since the <a href=\"https://github.com/JetBrains/kotlin/blob/92d200e093c693b3c06e53a39e0b0973b84c7ec5/libraries/stdlib/jvm/src/kotlin/text/StringNumberConversionsJVM.kt#L115\" rel=\"nofollow noreferrer\"><code>toLong</code> extension method is implemented on kotlin.String</a>, it is not available for <code>java.lang.String</code>.</p>\n<p>You can pull the same trick in reverse:</p>\n<pre><code>[71] fun java.lang.String.zero(): Long = 0\n[72] java.lang.String().zero()\nres36: Long = 0\n</code></pre>\n<p>but this extension method is not available for a <code>kotlin.String</code>, even though it compiles to a <code>java.lang.String</code>.</p>\n<pre><code>[73] &quot;kotlin string&quot;.javaClass\nres37: Class&lt;String&gt; = class java.lang.String\n[74] &quot;kotlin string&quot;.zero()\nERROR Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \npublic final fun String.zero(): Long defined in Line_72 (Line_75.kts:1:17)\n</code></pre>\n<p>To further complicate the matter, a <code>java.lang.String</code> is normally loaded as a <code>kotlin.String</code> unless you give the fully qualified name.</p>\n<pre><code>[0] java.lang.String(&quot;12345&quot;).toLong()\nERROR Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \npublic inline fun String.toLong(): Long defined in kotlin.text\npublic inline fun String.toLong(radix: Int): Long defined in kotlin.text (Line_1.kts:1:27)\n\n[1] java.lang.String(&quot;12345&quot;).substring(0).toLong()\nres0: Long = 12345\n</code></pre>\n<p>So the answer is no, a <code>kotlin.String</code> is not a <code>java.lang.String</code>. They are interoperable because they compile to the same class, but the compiler still distinguishes between them.</p>\n<p>Related question: <a href=\"https://stackoverflow.com/questions/38761021/does-any-object\">does Any == Object</a></p>\n"}],"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655373617,"creation_date":1654363462,"question_id":72501752,"body_markdown":"I&#39;m interested to know how `kotlin.String` is implemented, since it reports itself as a `java.lang.String`, yet has more methods available (according to `ki` autocompletion) even accounting for extension methods:\r\n\r\n    [34] kotlin.String().javaClass\r\n    res17: Class&lt;String&gt; = class java.lang.String\r\n    \r\n    [35] &quot;10&quot;.javaClass\r\n    res18: Class&lt;String&gt; = class java.lang.String\r\n    \r\n    [36] &quot;10&quot;.toLong()\r\n    res19: Long = 10\r\n    \r\n    [37] java.lang.String(&quot;10&quot;).javaClass\r\n    res20: Class&lt;String&gt; = class java.lang.String\r\n    \r\n    [38] java.lang.String(&quot;10&quot;).toLong()\r\n    ERROR Unresolved reference. None of the following candidates is \r\n    applicable because of receiver type mismatch: \r\n    public inline fun String.toLong(): Long defined in kotlin.text\r\n    public inline fun String.toLong(radix: Int): Long defined in \r\n    kotlin.text (Line_39.kts:1:24)\r\n\r\nIs `kotlin.String` really a `java.lang.String`?","title":"Is kotlin.String really a java.lang.String?","body":"<p>I'm interested to know how <code>kotlin.String</code> is implemented, since it reports itself as a <code>java.lang.String</code>, yet has more methods available (according to <code>ki</code> autocompletion) even accounting for extension methods:</p>\n<pre><code>[34] kotlin.String().javaClass\nres17: Class&lt;String&gt; = class java.lang.String\n\n[35] &quot;10&quot;.javaClass\nres18: Class&lt;String&gt; = class java.lang.String\n\n[36] &quot;10&quot;.toLong()\nres19: Long = 10\n\n[37] java.lang.String(&quot;10&quot;).javaClass\nres20: Class&lt;String&gt; = class java.lang.String\n\n[38] java.lang.String(&quot;10&quot;).toLong()\nERROR Unresolved reference. None of the following candidates is \napplicable because of receiver type mismatch: \npublic inline fun String.toLong(): Long defined in kotlin.text\npublic inline fun String.toLong(radix: Int): Long defined in \nkotlin.text (Line_39.kts:1:24)\n</code></pre>\n<p>Is <code>kotlin.String</code> really a <code>java.lang.String</code>?</p>\n"},{"tags":["java","liferay","multilingual"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655373183,"creation_date":1655373183,"answer_id":72643916,"question_id":72637203,"body_markdown":"There are several layers to unfold here:\r\n\r\nLiferay has pulled together almost all of its localization keys into a single module. From a product perspective, this is great, as it allows central handling of overrides, avoids duplicates, and even enables a UI to change those common keys.\r\n\r\nFor custom extensions, centralization is not such a great thing, and you&#39;d rather come with your own translations in your custom modules (or explicitly use the default ones).\r\n\r\nEnter OSGi: With using `LanguageUtil`, my understanding is that you&#39;re using the &quot;current bundle&quot; perspective, and LanguageUtil will only check Liferay&#39;s own central translation repository. What you can (and likely should) do is to utilize ResourceBundleUtil in such a way:\r\n\r\n\r\n\tResourceBundle bundle = ResourceBundleUtil.getBundle(locale, this.getClass().getClassLoader());\r\n\tString result = ResourceBundleUtil.getString(bundle, key, parameter);\r\n\r\nInstead of `this.getClass().getClassLoader()`, you can of course provide any other class&#39; loader, but it should give you a hint. This provides the bundle in which the translation is located. \r\n\r\nEncapsulate this in a method that defaults back to any other localization that you&#39;d like (could be another bundle, or Liferay&#39;s global one), and you&#39;ll find your translation.\r\n\r\nOf course, you can also deploy a plugin that adds to Liferay&#39;s own translations, but personally, I prefer not to go that route. There&#39;s always potential to run into conflicts with other modules that try to translate the same key differently, or for Liferay to introduce the same key at some point in time (and it doesn&#39;t play well with an individual portlet&#39;s translation)","title":"How to read the Language.properties file in Liferay (outside of portlet)?","body":"<p>There are several layers to unfold here:</p>\n<p>Liferay has pulled together almost all of its localization keys into a single module. From a product perspective, this is great, as it allows central handling of overrides, avoids duplicates, and even enables a UI to change those common keys.</p>\n<p>For custom extensions, centralization is not such a great thing, and you'd rather come with your own translations in your custom modules (or explicitly use the default ones).</p>\n<p>Enter OSGi: With using <code>LanguageUtil</code>, my understanding is that you're using the &quot;current bundle&quot; perspective, and LanguageUtil will only check Liferay's own central translation repository. What you can (and likely should) do is to utilize ResourceBundleUtil in such a way:</p>\n<pre><code>ResourceBundle bundle = ResourceBundleUtil.getBundle(locale, this.getClass().getClassLoader());\nString result = ResourceBundleUtil.getString(bundle, key, parameter);\n</code></pre>\n<p>Instead of <code>this.getClass().getClassLoader()</code>, you can of course provide any other class' loader, but it should give you a hint. This provides the bundle in which the translation is located.</p>\n<p>Encapsulate this in a method that defaults back to any other localization that you'd like (could be another bundle, or Liferay's global one), and you'll find your translation.</p>\n<p>Of course, you can also deploy a plugin that adds to Liferay's own translations, but personally, I prefer not to go that route. There's always potential to run into conflicts with other modules that try to translate the same key differently, or for Liferay to introduce the same key at some point in time (and it doesn't play well with an individual portlet's translation)</p>\n"}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72643916,"answer_count":1,"score":0,"last_activity_date":1655373183,"creation_date":1655323249,"question_id":72637203,"body_markdown":"Say I have 3 modules in a Liferay project, ```A```, ```B``` and ```language```. Module ```A``` is a normal module with portlet in it. Module ```B```, however, is a portletless module, it is nothing more than a plain Java utility module. ```language``` module is something like what is described in the &quot;Localizing Your Application&quot; article in Liferay&#39;s Help Center.\r\n\r\nNow, I have one ```Language.properties``` file in each of these modules. ```Language.properties``` file in the ```language``` module contains properties that are to be shared between modules ```A``` and ```B``` and ```Language.properties``` file in modules ```A``` and ```B``` contains properties specific for each module.\r\n\r\nNow, this Help Center&#39;s article has defined what to do to enable reading from those files in a module. However, this article says that it is required to configure a portlet in the module where ```Language.properties``` file is located.\r\n\r\nThat step may work for the module ```A``` in my case, but for module ```B``` I can not do this since module ```B``` is portletless.\r\n\r\nInside the module ```B``` I tried reading the ```Language.properties``` file with the following code:\r\n```com.liferay.portal.kernel.language.LanguageUtil.get(&quot;locale&quot;, &quot;key&quot;);```\r\n\r\nHowever, this does not work. It does not find the keys which I put in the ```B```&#39;s ```Language.properties``` file. However, interestingly enough, **what it finds are keys from the ```language```&#39;s ```Language.properties``` file.**\r\n\r\nSo, surprisingly invoking ```get``` method of the ```LanguageUtil``` class inside the ```B``` module works, just it reads unwanted ```Language.properties``` file.\r\n\r\nMy question here is, how can I configure Language Utilities to read the ```Language.properties``` file from the portletless ```b``` module instead of the ```language``` common language module?","title":"How to read the Language.properties file in Liferay (outside of portlet)?","body":"<p>Say I have 3 modules in a Liferay project, <code>A</code>, <code>B</code> and <code>language</code>. Module <code>A</code> is a normal module with portlet in it. Module <code>B</code>, however, is a portletless module, it is nothing more than a plain Java utility module. <code>language</code> module is something like what is described in the &quot;Localizing Your Application&quot; article in Liferay's Help Center.</p>\n<p>Now, I have one <code>Language.properties</code> file in each of these modules. <code>Language.properties</code> file in the <code>language</code> module contains properties that are to be shared between modules <code>A</code> and <code>B</code> and <code>Language.properties</code> file in modules <code>A</code> and <code>B</code> contains properties specific for each module.</p>\n<p>Now, this Help Center's article has defined what to do to enable reading from those files in a module. However, this article says that it is required to configure a portlet in the module where <code>Language.properties</code> file is located.</p>\n<p>That step may work for the module <code>A</code> in my case, but for module <code>B</code> I can not do this since module <code>B</code> is portletless.</p>\n<p>Inside the module <code>B</code> I tried reading the <code>Language.properties</code> file with the following code:\n<code>com.liferay.portal.kernel.language.LanguageUtil.get(&quot;locale&quot;, &quot;key&quot;);</code></p>\n<p>However, this does not work. It does not find the keys which I put in the <code>B</code>'s <code>Language.properties</code> file. However, interestingly enough, <strong>what it finds are keys from the <code>language</code>'s <code>Language.properties</code> file.</strong></p>\n<p>So, surprisingly invoking <code>get</code> method of the <code>LanguageUtil</code> class inside the <code>B</code> module works, just it reads unwanted <code>Language.properties</code> file.</p>\n<p>My question here is, how can I configure Language Utilities to read the <code>Language.properties</code> file from the portletless <code>b</code> module instead of the <code>language</code> common language module?</p>\n"},{"tags":["java","mysql","database","e-commerce"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":0,"creation_date":1655372975,"post_id":72643778,"comment_id":128319211,"body_markdown":"The size has nothing to do with how many of them you have. Therefore, the information should be stored in different fields. Just as an example I would do something like a table `Inventory`with the fields `ProductID`, `Size` and `Quantity`.","body":"The size has nothing to do with how many of them you have. Therefore, the information should be stored in different fields. Just as an example I would do something like a table <code>Inventory</code>with the fields <code>ProductID</code>, <code>Size</code> and <code>Quantity</code>."},{"owner":{"account_id":24261795,"reputation":21,"user_id":19099686,"display_name":"Nandini Sriavastava"},"score":0,"creation_date":1655373130,"post_id":72643778,"comment_id":128319262,"body_markdown":"seller can have different quantities availability for different sizes . That&#39;s what I wanted to store .","body":"seller can have different quantities availability for different sizes . That&#39;s what I wanted to store ."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655373575,"post_id":72643778,"comment_id":128319417,"body_markdown":"Design is a trade-off between engineering &#39;soundness&#39; and convenience. One &#39;proper&#39; way of doing this would be to have `Product` `Size` and `Product_Size` where products would have a one-to-many relation to size. `Product_Size` would be the intermediary table. That way you wouldn&#39;t have informational redundancy","body":"Design is a trade-off between engineering &#39;soundness&#39; and convenience. One &#39;proper&#39; way of doing this would be to have <code>Product</code> <code>Size</code> and <code>Product_Size</code> where products would have a one-to-many relation to size. <code>Product_Size</code> would be the intermediary table. That way you wouldn&#39;t have informational redundancy"}],"answers":[{"tags":[],"owner":{"account_id":24657838,"reputation":1931,"user_id":18554369,"display_name":"blabla_bingo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655373161,"creation_date":1655373161,"answer_id":72643909,"question_id":72643778,"body_markdown":"You can break the same product into separate lines for each size, which is scalable in case you want to add or remove things in the future. \r\n```\r\nid(pk), product_id, size , quantity\r\n1, 100, xl, 20\r\n2, 100, xxl, 25\r\n3, 100, xxxl ,30 ","title":"How to store the quantity of item for different sizes in the database","body":"<p>You can break the same product into separate lines for each size, which is scalable in case you want to add or remove things in the future.</p>\n<pre><code>id(pk), product_id, size , quantity\n1, 100, xl, 20\n2, 100, xxl, 25\n3, 100, xxxl ,30 \n</code></pre>\n"}],"owner":{"account_id":24261795,"reputation":21,"user_id":19099686,"display_name":"Nandini Sriavastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655373161,"creation_date":1655372685,"question_id":72643778,"body_markdown":"I am creating an ecommerce app. I cannot find a way to store quantity of different sizes of the same product. Suppose I have a t shirt which has 3 sizes available xl,xxl,xxxl with quantity 20 , 25 , 30 . Now how can I store this into the MySQL table ?\r\n\r\nOne way I was thinking to do this as to create a String like xl+20,xxl+25,xxxl+30 and store it into a column and I can break this String at &quot;,&quot; and &quot;+&quot; while retrieving it but I don&#39;t think it is a good idea .\r\n\r\nIs there any other better way to do this ?","title":"How to store the quantity of item for different sizes in the database","body":"<p>I am creating an ecommerce app. I cannot find a way to store quantity of different sizes of the same product. Suppose I have a t shirt which has 3 sizes available xl,xxl,xxxl with quantity 20 , 25 , 30 . Now how can I store this into the MySQL table ?</p>\n<p>One way I was thinking to do this as to create a String like xl+20,xxl+25,xxxl+30 and store it into a column and I can break this String at &quot;,&quot; and &quot;+&quot; while retrieving it but I don't think it is a good idea .</p>\n<p>Is there any other better way to do this ?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"score":0,"creation_date":1655372726,"post_id":72639147,"comment_id":128319112,"body_markdown":"Could you share your `build.gradle` and the `manifest` file for more clarity?]","body":"Could you share your <code>build.gradle</code> and the <code>manifest</code> file for more clarity?]"},{"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"score":0,"creation_date":1655372793,"post_id":72639147,"comment_id":128319145,"body_markdown":"This could be a problem with Build tools version or SDK version, you could be missing something.","body":"This could be a problem with Build tools version or SDK version, you could be missing something."}],"answers":[{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655372902,"creation_date":1655372902,"answer_id":72643837,"question_id":72639147,"body_markdown":"You could be missing something.\r\n\r\nPlease check your `build.gradle` file for the set `compileSdkVersion` and the `targetSdkVersion`. Ensure that those SDKs are downloaded and installed and that you are testing with a device matching the minimum requirements you have defined. \r\n\r\nE.g You could have specified a minimum SDK of 30 and maybe the emulator or other device you are using to test is SDK 28 i.e., lower than your minimum requirements.","title":"Failed trying to run app (Android Studio)","body":"<p>You could be missing something.</p>\n<p>Please check your <code>build.gradle</code> file for the set <code>compileSdkVersion</code> and the <code>targetSdkVersion</code>. Ensure that those SDKs are downloaded and installed and that you are testing with a device matching the minimum requirements you have defined.</p>\n<p>E.g You could have specified a minimum SDK of 30 and maybe the emulator or other device you are using to test is SDK 28 i.e., lower than your minimum requirements.</p>\n"}],"owner":{"account_id":25567328,"reputation":11,"user_id":19348365,"display_name":"Neokido"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655390506,"answer_count":1,"score":0,"last_activity_date":1655372902,"creation_date":1655338842,"question_id":72639147,"body_markdown":"Hey guys i&#39;m new to coding, i&#39;m trying to run my app on android studio but everytime I do I get these errors\r\n\r\n\r\n&gt; What went wrong:\r\nA problem was found with the configuration of task &#39;:app:processDebugManifest&#39; (type &#39;ProcessMultiApkApplicationManifest&#39;).\r\nFile &#39;F:\\Android Studio Code\\Latest Build\\MyApplication\\app\\build\\intermediates\\merged_manifest\\debug\\out\\AndroidManifest.xml&#39; specified for property &#39;mainMergedManifest&#39; does not exist.\r\n\r\n&gt;Caused by: org.gradle.api.InvalidUserDataException: File &#39;F:\\Android Studio Code\\Latest Build\\MyApplication\\app\\build\\intermediates\\merged_manifest\\debug\\out\\AndroidManifest.xml&#39; specified for property &#39;mainMergedManifest&#39; does not exist.\r\n\r\n&gt;Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CompressAssetsWorkAction\r\n\r\n&gt;Caused by: java.nio.file.NoSuchFileException: F:\\Android Studio Code\\Latest Build\\MyApplication\\app\\build\\intermediates\\merged_assets\\debug\\out\r\n\r\n\r\nBear in mind that it is showing no errors in the code.\r\n\r\n","title":"Failed trying to run app (Android Studio)","body":"<p>Hey guys i'm new to coding, i'm trying to run my app on android studio but everytime I do I get these errors</p>\n<blockquote>\n<p>What went wrong:\nA problem was found with the configuration of task ':app:processDebugManifest' (type 'ProcessMultiApkApplicationManifest').\nFile 'F:\\Android Studio Code\\Latest Build\\MyApplication\\app\\build\\intermediates\\merged_manifest\\debug\\out\\AndroidManifest.xml' specified for property 'mainMergedManifest' does not exist.</p>\n</blockquote>\n<blockquote>\n<p>Caused by: org.gradle.api.InvalidUserDataException: File 'F:\\Android Studio Code\\Latest Build\\MyApplication\\app\\build\\intermediates\\merged_manifest\\debug\\out\\AndroidManifest.xml' specified for property 'mainMergedManifest' does not exist.</p>\n</blockquote>\n<blockquote>\n<p>Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CompressAssetsWorkAction</p>\n</blockquote>\n<blockquote>\n<p>Caused by: java.nio.file.NoSuchFileException: F:\\Android Studio Code\\Latest Build\\MyApplication\\app\\build\\intermediates\\merged_assets\\debug\\out</p>\n</blockquote>\n<p>Bear in mind that it is showing no errors in the code.</p>\n"},{"tags":["java","android","android-studio","nullpointerexception","warnings"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1655373118,"post_id":72643791,"comment_id":128319260,"body_markdown":"The warning you get says that the _method invocation_ may produce the NPE. That means, the result of `getActivity()` may be `null`. The warning tells you nothing about the result of `getFragment` (which is regardless nonetheless here).","body":"The warning you get says that the <i>method invocation</i> may produce the NPE. That means, the result of <code>getActivity()</code> may be <code>null</code>. The warning tells you nothing about the result of <code>getFragment</code> (which is regardless nonetheless here)."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1655373177,"post_id":72643791,"comment_id":128319273,"body_markdown":"@Seelenvirtuose is right and an easy fix here is to replace `getActivity()` with `requireActivity()` that either returns a nonnull or throws an exception.","body":"@Seelenvirtuose is right and an easy fix here is to replace <code>getActivity()</code> with <code>requireActivity()</code> that either returns a nonnull or throws an exception."},{"owner":{"account_id":18063815,"reputation":13,"user_id":14318728,"display_name":"Albert Einstien"},"score":0,"creation_date":1655373269,"post_id":72643791,"comment_id":128319306,"body_markdown":"@laalto But the function can return the value and its perfectly ok","body":"@laalto But the function can return the value and its perfectly ok"},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1655373601,"post_id":72643791,"comment_id":128319426,"body_markdown":"It&#39;s not about `getFragment()` but `getActivity()`.","body":"It&#39;s not about <code>getFragment()</code> but <code>getActivity()</code>."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1655374250,"post_id":72643791,"comment_id":128319619,"body_markdown":"@TrueCoder: &quot;But the function can return the value and its perfectly ok&quot; =&gt; If `getActivity()` returns `null`, then you will get a NPE. This is not ok! The method `getFragment` is irrelevant here.","body":"@TrueCoder: &quot;But the function can return the value and its perfectly ok&quot; =&gt; If <code>getActivity()</code> returns <code>null</code>, then you will get a NPE. This is not ok! The method <code>getFragment</code> is irrelevant here."},{"owner":{"account_id":18063815,"reputation":13,"user_id":14318728,"display_name":"Albert Einstien"},"score":0,"creation_date":1655375606,"post_id":72643791,"comment_id":128320067,"body_markdown":"@laalto Oh, I got it. It was a silly mistake. Thanks btw.","body":"@laalto Oh, I got it. It was a silly mistake. Thanks btw."}],"owner":{"account_id":18063815,"reputation":13,"user_id":14318728,"display_name":"Albert Einstien"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655372739,"creation_date":1655372739,"question_id":72643791,"body_markdown":"Android studio gives me warning `Method invocation &#39;getFragment&#39; may produce &#39;NullPointerException&#39;` on the following statement\r\n\r\n```\r\ntoSwitch = ((LoginActivity) getActivity()).getFragment(LoginFragment.class.getName());\r\n```\r\n\r\nI have read other question relating to this they say to use assertion or `Objects.requireNonNull()` but this is not I want.\r\n\r\n**Before Marking this as duplicate**\r\n\r\nThe method `getFragment(String name)` can return null value and it is a required behavior. How can I tell android studio that I need that null value and it is perfectly ok.\r\n","title":"Remove Android Studio &quot;Method invocation &#39;getFragment&#39; may produce &#39;NullPointerException&quot; warning?","body":"<p>Android studio gives me warning <code>Method invocation 'getFragment' may produce 'NullPointerException'</code> on the following statement</p>\n<pre><code>toSwitch = ((LoginActivity) getActivity()).getFragment(LoginFragment.class.getName());\n</code></pre>\n<p>I have read other question relating to this they say to use assertion or <code>Objects.requireNonNull()</code> but this is not I want.</p>\n<p><strong>Before Marking this as duplicate</strong></p>\n<p>The method <code>getFragment(String name)</code> can return null value and it is a required behavior. How can I tell android studio that I need that null value and it is perfectly ok.</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1655372527,"post_id":72643709,"comment_id":128319044,"body_markdown":"Yes, see Vlad Mihalcea&#39;s article on [the best way to map a @OneToOne relationship with JPA and Hibernate](https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/).","body":"Yes, see Vlad Mihalcea&#39;s article on <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">the best way to map a @OneToOne relationship with JPA and Hibernate</a>."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1655376577,"post_id":72643709,"comment_id":128320379,"body_markdown":"The Hibernate documentation also have some examples: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers-derived","body":"The Hibernate documentation also have some examples: <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers-derived\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.6/userguide/html_single/&hellip;</a>"}],"owner":{"account_id":25403999,"reputation":1,"user_id":19213006,"display_name":"顏啟倫"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655372352,"creation_date":1655372352,"question_id":72643709,"body_markdown":"I have two table A and B, and they are OneToOne relationship.\r\n\r\nCan I do like this ?\r\n\r\n1. B table have the FK, like a_id, but A table doesn&#39;t have b_id.\r\n2. when I get A entity, also get B entity. It means one way relationship. when I get B entity, I don&#39;t want it has A entity.\r\n\r\n\r\nsorry for my english ability, thanks for answer\r\n\r\n","title":"can JPA oneToOne relation defind child&#39;s FK in parent Table?","body":"<p>I have two table A and B, and they are OneToOne relationship.</p>\n<p>Can I do like this ?</p>\n<ol>\n<li>B table have the FK, like a_id, but A table doesn't have b_id.</li>\n<li>when I get A entity, also get B entity. It means one way relationship. when I get B entity, I don't want it has A entity.</li>\n</ol>\n<p>sorry for my english ability, thanks for answer</p>\n"},{"tags":["java","themes","vaadin23"],"answers":[{"tags":[],"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655372257,"creation_date":1655372257,"answer_id":72643687,"question_id":72526465,"body_markdown":"This is one of those &quot;I&#39;ve seen it in the past&quot; issues but also one of those &quot;I don&#39;t remember what I exactly did to fix it&quot;.\r\n\r\nThere are some potential causes and try to discard the issues one by one:\r\n\r\n1- Try to make sure that `application.properties` doesn&#39;t contain any UTF-8 character (basically, no accents and try to assert that all characters are a-z 0-9. I&#39;ve had a lot of random issues with this.\r\n\r\n2- Make sure that the theme exists and the project structure is valid and correct. On the root of your project you should have \r\n- `frontend` &gt; `generated` (you can delete this one and will be regenerated at next compilation)\r\n- `frontend` &gt; `themes` &gt; `your_theme_name` and all the contents and `theme.json`. `your_theme_name` should match the text you have annotated with `@Theme(value = &quot;your_theme_name&quot;)` in your `SpringBootServletInitializer` class.\r\n\r\n3 Run `maven clean` goal (this will delete target directory), then `maven compile`. Then clean the frontend with `maven vaadin:clean-frontend` and then compile it `vaadin:compile-frontend`. If compile succeeds for both java and frontend, try to run the `springboot:run` goal.\r\n\r\n- Upgrade to Vaadin `23.1.0` as it&#39;s the latest release and retry.\r\n\r\n\r\nTo make sure that the project structure is fine, download a fresh project from Vaadin Start and compare it.\r\n\r\nIf during the troubleshooting you get another error, post it here as it&#39;ll help.","title":"vaadin cannot find module ./theme","body":"<p>This is one of those &quot;I've seen it in the past&quot; issues but also one of those &quot;I don't remember what I exactly did to fix it&quot;.</p>\n<p>There are some potential causes and try to discard the issues one by one:</p>\n<p>1- Try to make sure that <code>application.properties</code> doesn't contain any UTF-8 character (basically, no accents and try to assert that all characters are a-z 0-9. I've had a lot of random issues with this.</p>\n<p>2- Make sure that the theme exists and the project structure is valid and correct. On the root of your project you should have</p>\n<ul>\n<li><code>frontend</code> &gt; <code>generated</code> (you can delete this one and will be regenerated at next compilation)</li>\n<li><code>frontend</code> &gt; <code>themes</code> &gt; <code>your_theme_name</code> and all the contents and <code>theme.json</code>. <code>your_theme_name</code> should match the text you have annotated with <code>@Theme(value = &quot;your_theme_name&quot;)</code> in your <code>SpringBootServletInitializer</code> class.</li>\n</ul>\n<p>3 Run <code>maven clean</code> goal (this will delete target directory), then <code>maven compile</code>. Then clean the frontend with <code>maven vaadin:clean-frontend</code> and then compile it <code>vaadin:compile-frontend</code>. If compile succeeds for both java and frontend, try to run the <code>springboot:run</code> goal.</p>\n<ul>\n<li>Upgrade to Vaadin <code>23.1.0</code> as it's the latest release and retry.</li>\n</ul>\n<p>To make sure that the project structure is fine, download a fresh project from Vaadin Start and compare it.</p>\n<p>If during the troubleshooting you get another error, post it here as it'll help.</p>\n"}],"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1655372257,"creation_date":1654581189,"question_id":72526465,"body_markdown":"My vaadin 23 project has just started generating a error on startup.\r\n\r\n```\r\nDefaultDeploymentConfiguration.java:158) - \r\nVaadin is running in DEBUG MODE.\r\nWhen deploying application for production, remember to disable debug features. See more from https://vaadin.com/docs/\r\norg.apache.coyote.AbstractProtocol start\r\nStarting ProtocolHandler [&quot;http-nio-8080&quot;]\r\norg.apache.catalina.startup.Catalina start\r\nServer startup in [6,702] milliseconds\r\nDevServerOutputTracker.java:110) - [build-status] : Compiled.\r\n\r\n----------------- Frontend compiled successfully. -----------------\r\n\r\nDefaultDeploymentConfiguration.java:158) - \r\nVaadin is running in DEBUG MODE.\r\nWhen deploying application for production, remember to disable debug features. See more from https://vaadin.com/docs/\r\norg.apache.coyote.AbstractProtocol start\r\nStarting ProtocolHandler [&quot;http-nio-8080&quot;]\r\norg.apache.catalina.startup.Catalina start\r\nServer startup in [6,702] milliseconds\r\nDevServerOutputTracker.java:110) - [build-status] : Compiled.\r\n----------------- Frontend compiled successfully. -----------------\r\n\r\nAbstractDevServerRunner.java:223) - Started Webpack. Time: 5777ms\r\nDevServerOutputTracker.java:110) - ERROR in frontend/generated/vaadin.ts:7:28\r\nDevServerOutputTracker.java:110) - TS2307: Cannot find module &#39;./theme&#39; or its corresponding type declarations.\r\nDevServerOutputTracker.java:110) -     5 | import &#39;@vaadin/flow-frontend/VaadinDevmodeGizmo.js&#39;;\r\nDevServerOutputTracker.java:110) -     6 |\r\nDevServerOutputTracker.java:110) -   &gt; 7 | import { applyTheme } from &#39;./theme&#39;;\r\nDevServerOutputTracker.java:110) -       |                            ^^^^^^^^^\r\nDevServerOutputTracker.java:110) -     8 | applyTheme(document);\r\nDevServerOutputTracker.java:110) -     9 |\r\nDevServerOutputTracker.java:110) - \r\nDevServerOutputTracker.java:110) - \r\nDevServerOutputTracker.java:110) - WARNING in InjectManifest has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.\r\nDevServerOutputTracker.java:110) - [build-status] 1 warning were reported.\r\nDevServerOutputTracker.java:110) - [build-status] : Compiled.\r\n```\r\n\r\nI&#39;ve tried deleting my node_modules directory and the target directory followed by a mvn install.\r\n\r\nI&#39;ve also tried upgrading to the last version of vaadin v23.0.11.\r\n\r\nEdit: since my original post this error randomly went away.\r\n\r\nIt has now re-emerged except now I can&#39;t actually access the web page due to the following error being displayed:\r\n\r\n```\r\n Webpack Error Close\r\n\r\nERROR in frontend/generated/vaadin.ts:7:28\r\nTS2307: Cannot find module &#39;./theme&#39; or its corresponding type declarations.\r\n    5 | import &#39;@vaadin/flow-frontend/VaadinDevmodeGizmo.js&#39;;\r\n    6 |\r\n  &gt; 7 | import { applyTheme } from &#39;./theme&#39;;\r\n      |                            ^^^^^^^^^\r\n    8 | applyTheme(document);\r\n    9 |\r\n\r\n\r\nWARNING in InjectManifest has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.\r\n\r\nERROR in ./generated/index.ts\r\nModule not found: Error: Can&#39;t resolve &#39;../../target/frontend/generated-flow-imports&#39; in &#39;onepub-vaadin/frontend/generated&#39;\r\n [build-status] 1 error and 1 warning were reported.\r\n\r\n\r\n```\r\n","title":"vaadin cannot find module ./theme","body":"<p>My vaadin 23 project has just started generating a error on startup.</p>\n<pre><code>DefaultDeploymentConfiguration.java:158) - \nVaadin is running in DEBUG MODE.\nWhen deploying application for production, remember to disable debug features. See more from https://vaadin.com/docs/\norg.apache.coyote.AbstractProtocol start\nStarting ProtocolHandler [&quot;http-nio-8080&quot;]\norg.apache.catalina.startup.Catalina start\nServer startup in [6,702] milliseconds\nDevServerOutputTracker.java:110) - [build-status] : Compiled.\n\n----------------- Frontend compiled successfully. -----------------\n\nDefaultDeploymentConfiguration.java:158) - \nVaadin is running in DEBUG MODE.\nWhen deploying application for production, remember to disable debug features. See more from https://vaadin.com/docs/\norg.apache.coyote.AbstractProtocol start\nStarting ProtocolHandler [&quot;http-nio-8080&quot;]\norg.apache.catalina.startup.Catalina start\nServer startup in [6,702] milliseconds\nDevServerOutputTracker.java:110) - [build-status] : Compiled.\n----------------- Frontend compiled successfully. -----------------\n\nAbstractDevServerRunner.java:223) - Started Webpack. Time: 5777ms\nDevServerOutputTracker.java:110) - ERROR in frontend/generated/vaadin.ts:7:28\nDevServerOutputTracker.java:110) - TS2307: Cannot find module './theme' or its corresponding type declarations.\nDevServerOutputTracker.java:110) -     5 | import '@vaadin/flow-frontend/VaadinDevmodeGizmo.js';\nDevServerOutputTracker.java:110) -     6 |\nDevServerOutputTracker.java:110) -   &gt; 7 | import { applyTheme } from './theme';\nDevServerOutputTracker.java:110) -       |                            ^^^^^^^^^\nDevServerOutputTracker.java:110) -     8 | applyTheme(document);\nDevServerOutputTracker.java:110) -     9 |\nDevServerOutputTracker.java:110) - \nDevServerOutputTracker.java:110) - \nDevServerOutputTracker.java:110) - WARNING in InjectManifest has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.\nDevServerOutputTracker.java:110) - [build-status] 1 warning were reported.\nDevServerOutputTracker.java:110) - [build-status] : Compiled.\n</code></pre>\n<p>I've tried deleting my node_modules directory and the target directory followed by a mvn install.</p>\n<p>I've also tried upgrading to the last version of vaadin v23.0.11.</p>\n<p>Edit: since my original post this error randomly went away.</p>\n<p>It has now re-emerged except now I can't actually access the web page due to the following error being displayed:</p>\n<pre><code> Webpack Error Close\n\nERROR in frontend/generated/vaadin.ts:7:28\nTS2307: Cannot find module './theme' or its corresponding type declarations.\n    5 | import '@vaadin/flow-frontend/VaadinDevmodeGizmo.js';\n    6 |\n  &gt; 7 | import { applyTheme } from './theme';\n      |                            ^^^^^^^^^\n    8 | applyTheme(document);\n    9 |\n\n\nWARNING in InjectManifest has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.\n\nERROR in ./generated/index.ts\nModule not found: Error: Can't resolve '../../target/frontend/generated-flow-imports' in 'onepub-vaadin/frontend/generated'\n [build-status] 1 error and 1 warning were reported.\n\n\n</code></pre>\n"},{"tags":["java","multithreading","timer","java.util.concurrent","timertask"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1655359149,"post_id":72641084,"comment_id":128314925,"body_markdown":"Why have you made `timerVO` `static`?","body":"Why have you made <code>timerVO</code> <code>static</code>?"},{"owner":{"account_id":7984773,"reputation":457,"user_id":6024683,"accept_rate":0,"display_name":"WILLIAM"},"score":0,"creation_date":1655365883,"post_id":72641084,"comment_id":128316757,"body_markdown":"@tgdavies Actually the code above is extracted from my project and `timerVo` is for holding different variable needed for running the scheduled task in `TimerConstructor`.","body":"@tgdavies Actually the code above is extracted from my project and <code>timerVo</code> is for holding different variable needed for running the scheduled task in <code>TimerConstructor</code>."},{"owner":{"account_id":7984773,"reputation":457,"user_id":6024683,"accept_rate":0,"display_name":"WILLIAM"},"score":0,"creation_date":1655366613,"post_id":72641084,"comment_id":128317005,"body_markdown":"@tgdavies indeed the variable can be put in the `TimerConstructor` but the constructor would be so bulky since those variables have to be passed to different class in bulk, not only to the `TimerConstructor`. Or it has better way in Java to handle that? I am not experienced in Java. Welcome to give me some insight! Thanks!","body":"@tgdavies indeed the variable can be put in the <code>TimerConstructor</code> but the constructor would be so bulky since those variables have to be passed to different class in bulk, not only to the <code>TimerConstructor</code>. Or it has better way in Java to handle that? I am not experienced in Java. Welcome to give me some insight! Thanks!"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655372087,"post_id":72641084,"comment_id":128318887,"body_markdown":"You haven&#39;t answered the question you were asked by @tgdavies","body":"You haven&#39;t answered the question you were asked by @tgdavies"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655370332,"creation_date":1655368193,"answer_id":72642738,"question_id":72641084,"body_markdown":"As commented, your main problem seems to be making your variable `timerVO` `static`. \r\n\r\nThe `static` keyword means you want only one such value rather than each instance having its own value known by that name. In other words, `static` is *not* object-oriented.\r\n\r\nSo each time you execute `timerVO = obj;`, you replace the previously stored value with the current one. You have only a single `timerVO` in your entire app, because you marked it `static`. That `timerVO` can contain only a single value, the value last assigned.\r\n\r\nYou said:\r\n\r\n&gt; I already initiate each timer as new instance but still cannot solve the issue. \r\n\r\nBut… all those timer objects you instantiated share the same single `static` `timerVO` object.\r\n\r\n\r\n----------\r\n\r\n\r\nMinor issue: Class names start with an uppercase letter. So `public class varObjectvo` should be `public class VarObjectvo`.\r\n\r\nAnother minor issue: Naming a method “…Constructor” is confusing. That word has a very specific crucial meaning in Java. A constructor in Java is always named the same as the class name.\r\n\r\nBigger picture: You are not taking advantage of modern Java. If you read carefully the Javadoc of `Timer` and `TimerTask` classes, you’ll see they were supplanted years ago by the Executors framework.\r\n\r\nTo use executors, define your tasks as implementing either `Runnable` or `Callable`. Then establish a `ScheduledExecutorService`. Submit instances of your tasks to that service for repeated execution. \r\n\r\nSearch Stack Overflow to learn more. Scheduled executor service has been covered many many times already. \r\n\r\nSome rough untested code follows.\r\n\r\n    class Counter implements Runnable {\r\n        private final AtomicInteger count = new AtomicInteger( 0 ) ;\r\n\r\n        void run() { this.count.incrementAndGet() ; }\r\n\r\n        int getCount() { return this.count.get() ; }\r\n    }\r\n\r\nInstantiate.\r\n\r\n    Counter countEvery5Seconds = new Counter() ;\r\n    Counter countEvery42Seconds = new Counter() ;\r\n\r\nInitialize your scheduled executor service.\r\n\r\n    ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ; \r\n\r\nSchedule your tasks.\r\n\r\n    ScheduledFuture&lt;?&gt; count5 =\r\n       scheduler.scheduleAtFixedRate( countEvery5Seconds, 0, 5, TimeUnit.SECONDS);\r\n    ScheduledFuture&lt;?&gt; count42 =\r\n       scheduler.scheduleAtFixedRate( countEvery42Seconds, 0, 42, TimeUnit.SECONDS);\r\n\r\n\r\nBe sure to shutdown your executor service. See discussions in many other Answers. See boilerplate code in Javadoc.\r\n\r\n","title":"How to run Timer independently in Java?","body":"<p>As commented, your main problem seems to be making your variable <code>timerVO</code> <code>static</code>.</p>\n<p>The <code>static</code> keyword means you want only one such value rather than each instance having its own value known by that name. In other words, <code>static</code> is <em>not</em> object-oriented.</p>\n<p>So each time you execute <code>timerVO = obj;</code>, you replace the previously stored value with the current one. You have only a single <code>timerVO</code> in your entire app, because you marked it <code>static</code>. That <code>timerVO</code> can contain only a single value, the value last assigned.</p>\n<p>You said:</p>\n<blockquote>\n<p>I already initiate each timer as new instance but still cannot solve the issue.</p>\n</blockquote>\n<p>But… all those timer objects you instantiated share the same single <code>static</code> <code>timerVO</code> object.</p>\n<hr />\n<p>Minor issue: Class names start with an uppercase letter. So <code>public class varObjectvo</code> should be <code>public class VarObjectvo</code>.</p>\n<p>Another minor issue: Naming a method “…Constructor” is confusing. That word has a very specific crucial meaning in Java. A constructor in Java is always named the same as the class name.</p>\n<p>Bigger picture: You are not taking advantage of modern Java. If you read carefully the Javadoc of <code>Timer</code> and <code>TimerTask</code> classes, you’ll see they were supplanted years ago by the Executors framework.</p>\n<p>To use executors, define your tasks as implementing either <code>Runnable</code> or <code>Callable</code>. Then establish a <code>ScheduledExecutorService</code>. Submit instances of your tasks to that service for repeated execution.</p>\n<p>Search Stack Overflow to learn more. Scheduled executor service has been covered many many times already.</p>\n<p>Some rough untested code follows.</p>\n<pre><code>class Counter implements Runnable {\n    private final AtomicInteger count = new AtomicInteger( 0 ) ;\n\n    void run() { this.count.incrementAndGet() ; }\n\n    int getCount() { return this.count.get() ; }\n}\n</code></pre>\n<p>Instantiate.</p>\n<pre><code>Counter countEvery5Seconds = new Counter() ;\nCounter countEvery42Seconds = new Counter() ;\n</code></pre>\n<p>Initialize your scheduled executor service.</p>\n<pre><code>ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ; \n</code></pre>\n<p>Schedule your tasks.</p>\n<pre><code>ScheduledFuture&lt;?&gt; count5 =\n   scheduler.scheduleAtFixedRate( countEvery5Seconds, 0, 5, TimeUnit.SECONDS);\nScheduledFuture&lt;?&gt; count42 =\n   scheduler.scheduleAtFixedRate( countEvery42Seconds, 0, 42, TimeUnit.SECONDS);\n</code></pre>\n<p>Be sure to shutdown your executor service. See discussions in many other Answers. See boilerplate code in Javadoc.</p>\n"}],"owner":{"account_id":7984773,"reputation":457,"user_id":6024683,"accept_rate":0,"display_name":"WILLIAM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72642738,"answer_count":1,"score":-1,"last_activity_date":1655372061,"creation_date":1655358683,"question_id":72641084,"body_markdown":"I am trying to build multiple `Timers` and scheduled independent tasks for each of them. I have a constructor for holding a `Timer` and its variable. Then, I will call them one by one but I found that the variables, passed to the `Timer` constructor, are overrode by each other. I already initiate each `Timer` as a new instance but still cannot solve the issue. How can I make sure the timers are run independently? \r\n\r\nCode:\r\n\r\n    public class App \r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n            System.out.println( &quot;Hello World!&quot; );\r\n            TimerTrigger.INSTANCE.runTimer();\r\n        }\r\n    }\r\n\r\nTo Trigger the timer:\r\n\r\n    public enum TimerTrigger {\r\n        INSTANCE;\r\n    \r\n        private TimerTrigger(){}\r\n    \r\n        public void runTimer(){\r\n          for (int i = 0; i &lt; 3; i++) {\r\n            System.out.println( &quot;Initiaizing Timer &quot; + i );\r\n            TimerConstructor tmpTimer = new TimerConstructor();\r\n            varObjectvo timerVariable = new varObjectvo();\r\n            timerVariable.setIndex(i);\r\n            // timerList.add(tmpTimer); \r\n            tmpTimer.start(timerVariable); //timerVariable is a value object\r\n          }\r\n        }\r\n    }\r\n\r\nThe Constructor of timer:\r\n\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    import java.util.Date;\r\n    public class TimerConstructor{\r\n        private static varObjectvo timerVO = null;\r\n        Timer timer = null; \r\n      \r\n        public void start(varObjectvo obj) {\r\n          timer = new Timer(&quot;Timer_&quot; + obj.getIndex()); // will be Timer_1/2/3\r\n          timerVO = obj;\r\n          TimerChecker task = new TimerChecker();\r\n          timer.scheduleAtFixedRate(task, new Date(), 10000);\r\n        }\r\n      \r\n        private class TimerChecker extends TimerTask {\r\n          public void run() {\r\n            System.out.println(&quot;It is timer &quot; + timerVO.getIndex() + &quot; from: &quot; + timer.toString());\r\n          }\r\n        }\r\n      }\r\n\r\nThe value object class:\r\n\r\n    public class varObjectvo{\r\n        private Integer index;\r\n        \r\n        public void setIndex(Integer i){ \r\n            this.index = i;\r\n        };\r\n    \r\n        public Integer getIndex(){ \r\n            return this.index;\r\n        };\r\n      }\r\n\r\n\r\nOutput:\r\n\r\n    Hello World!\r\n    Initiaizing Timer 0\r\n    Initiaizing Timer 1\r\n    It is timer 0 from:java.util.Timer@6b45c377\r\n    It is timer 1 from:java.util.Timer@17481b7c\r\n    Initiaizing Timer 2\r\n    It is timer 2 from:java.util.Timer@48e94d09\r\n    It is timer 2 from:java.util.Timer@17481b7c\r\n    It is timer 2 from:java.util.Timer@48e94d09\r\n    It is timer 2 from:java.util.Timer@6b45c377\r\n\r\n\r\nIn short, seems the variables in former `Timer` are being overwritten by the later `Timer`.\r\n\r\n\r\n","title":"How to run Timer independently in Java?","body":"<p>I am trying to build multiple <code>Timers</code> and scheduled independent tasks for each of them. I have a constructor for holding a <code>Timer</code> and its variable. Then, I will call them one by one but I found that the variables, passed to the <code>Timer</code> constructor, are overrode by each other. I already initiate each <code>Timer</code> as a new instance but still cannot solve the issue. How can I make sure the timers are run independently?</p>\n<p>Code:</p>\n<pre><code>public class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Hello World!&quot; );\n        TimerTrigger.INSTANCE.runTimer();\n    }\n}\n</code></pre>\n<p>To Trigger the timer:</p>\n<pre><code>public enum TimerTrigger {\n    INSTANCE;\n\n    private TimerTrigger(){}\n\n    public void runTimer(){\n      for (int i = 0; i &lt; 3; i++) {\n        System.out.println( &quot;Initiaizing Timer &quot; + i );\n        TimerConstructor tmpTimer = new TimerConstructor();\n        varObjectvo timerVariable = new varObjectvo();\n        timerVariable.setIndex(i);\n        // timerList.add(tmpTimer); \n        tmpTimer.start(timerVariable); //timerVariable is a value object\n      }\n    }\n}\n</code></pre>\n<p>The Constructor of timer:</p>\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\nimport java.util.Date;\npublic class TimerConstructor{\n    private static varObjectvo timerVO = null;\n    Timer timer = null; \n  \n    public void start(varObjectvo obj) {\n      timer = new Timer(&quot;Timer_&quot; + obj.getIndex()); // will be Timer_1/2/3\n      timerVO = obj;\n      TimerChecker task = new TimerChecker();\n      timer.scheduleAtFixedRate(task, new Date(), 10000);\n    }\n  \n    private class TimerChecker extends TimerTask {\n      public void run() {\n        System.out.println(&quot;It is timer &quot; + timerVO.getIndex() + &quot; from: &quot; + timer.toString());\n      }\n    }\n  }\n</code></pre>\n<p>The value object class:</p>\n<pre><code>public class varObjectvo{\n    private Integer index;\n    \n    public void setIndex(Integer i){ \n        this.index = i;\n    };\n\n    public Integer getIndex(){ \n        return this.index;\n    };\n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>Hello World!\nInitiaizing Timer 0\nInitiaizing Timer 1\nIt is timer 0 from:java.util.Timer@6b45c377\nIt is timer 1 from:java.util.Timer@17481b7c\nInitiaizing Timer 2\nIt is timer 2 from:java.util.Timer@48e94d09\nIt is timer 2 from:java.util.Timer@17481b7c\nIt is timer 2 from:java.util.Timer@48e94d09\nIt is timer 2 from:java.util.Timer@6b45c377\n</code></pre>\n<p>In short, seems the variables in former <code>Timer</code> are being overwritten by the later <code>Timer</code>.</p>\n"},{"tags":["java","arrays","out-of-memory","bytearrayinputstream"],"comments":[{"owner":{"account_id":10391539,"reputation":26838,"user_id":7662670,"display_name":"Tim"},"score":1,"creation_date":1655363542,"post_id":72641647,"comment_id":128316034,"body_markdown":"@cchantep Why did you remove the `scala` tag from a question about Scala code?","body":"@cchantep Why did you remove the <code>scala</code> tag from a question about Scala code?"},{"owner":{"account_id":11336024,"reputation":122,"user_id":8311849,"display_name":"Yusuf Erdoğan"},"score":0,"creation_date":1655363612,"post_id":72641647,"comment_id":128316053,"body_markdown":"I guess you find the answer in this thread : https://stackoverflow.com/questions/18508836/java-outofmemoryerror-in-reading-a-large-text-file","body":"I guess you find the answer in this thread : <a href=\"https://stackoverflow.com/questions/18508836/java-outofmemoryerror-in-reading-a-large-text-file\" title=\"java outofmemoryerror in reading a large text file\">stackoverflow.com/questions/18508836/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1655364579,"post_id":72641647,"comment_id":128316336,"body_markdown":"There is no need for the `StringBuilder` or the `ByteArrayInputStream` or `IOUtils.copyLarge()` here. Just write the original String directly to the file.","body":"There is no need for the <code>StringBuilder</code> or the <code>ByteArrayInputStream</code> or <code>IOUtils.copyLarge()</code> here. Just write the original String directly to the file."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655368612,"creation_date":1655368612,"answer_id":72642845,"question_id":72641647,"body_markdown":"The easiest way to avoid `OutOfMemoryError` is to use streams directly when building large data structures. Your code copies the json twice. See whether you can pretty format the json directly to an `OutputStream` for the file, not via `String` + `byte[]`.\r\n\r\nAlternatively since JDK11 you can use [Files.writeString][1] which eliminates most of your code (- though this assumes you haven&#39;t got OOME already when creating the pretty formatted json). Change charset / open options to suit so that the file content has your preferred encoding:\r\n\r\n    Files.writeString(formatjson, path, StandardCharsets.UTF_8, StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING);\r\n    // or platform default encoding:\r\n    Files.writeString(formatjson, path, StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING);\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.charset.Charset,java.nio.file.OpenOption...)","title":"Json Obj to String to Bytes to ByteArrayInputStream throws OutOfMemory Error","body":"<p>The easiest way to avoid <code>OutOfMemoryError</code> is to use streams directly when building large data structures. Your code copies the json twice. See whether you can pretty format the json directly to an <code>OutputStream</code> for the file, not via <code>String</code> + <code>byte[]</code>.</p>\n<p>Alternatively since JDK11 you can use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.charset.Charset,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\">Files.writeString</a> which eliminates most of your code (- though this assumes you haven't got OOME already when creating the pretty formatted json). Change charset / open options to suit so that the file content has your preferred encoding:</p>\n<pre><code>Files.writeString(formatjson, path, StandardCharsets.UTF_8, StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING);\n// or platform default encoding:\nFiles.writeString(formatjson, path, StandardOpenOption.WRITE, StandardOpenOption.TRUNCATE_EXISTING);\n</code></pre>\n"}],"owner":{"account_id":2863481,"reputation":41,"user_id":2458223,"display_name":"Sathish Kumar S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655371915,"creation_date":1655362627,"question_id":72641647,"body_markdown":"I have a JsonString that needs to be written in file to proceed with further processing. I&#39;ve written the below code for file writing.\r\n\r\n    val json = &quot;{}&quot;  // sample Json.\r\n    val jsonString = new StringBuilder()\r\n\r\n    val formatjson = PrettyParams.nospace.copy(preserveOrder = true).pretty(json)\r\n    jsonString.append(formatjson)\r\n\r\n    val tmpFileIS = new ByteArrayInputStream(\r\n      jsonString.toString().getBytes()\r\n    )\r\n    try {\r\n      IOUtils.copyLarge(tmpFileIS, tmpBufferedOutputStream)\r\n      tmpBufferedOutputStream.flush()\r\n    } catch {\r\n      case e: Exception =&gt; {\r\n        e.printStackTrace()\r\n        throw e\r\n      }\r\n    } finally {\r\n      tmpFileIS.close()\r\n    }\r\n\r\nI&#39;m getting below OOM issue, exactly at the line of where I&#39;ve written `jsonString.toString().getBytes()`\r\n\r\n&gt; java.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.Arrays.copyOfRange(Arrays.java:3664)\r\n\r\nIt looks like the JSON content&#39;s been generated is over the heap memory and throwing an error. \r\n\r\nI should not be increasing a heap memory this time nor allocate more heap memory all the time for this kind of rare instance. \r\n\r\nSo, do I need to split the JSON contents into pieces and write it a file?\r\nHope it could solve the issue and be memory efficient. \r\nbut does anyone have a better solution for reading a `String` byte to byte or `byte[]` to feed `ByteArrayInputStream`?\r\n","title":"Json Obj to String to Bytes to ByteArrayInputStream throws OutOfMemory Error","body":"<p>I have a JsonString that needs to be written in file to proceed with further processing. I've written the below code for file writing.</p>\n<pre><code>val json = &quot;{}&quot;  // sample Json.\nval jsonString = new StringBuilder()\n\nval formatjson = PrettyParams.nospace.copy(preserveOrder = true).pretty(json)\njsonString.append(formatjson)\n\nval tmpFileIS = new ByteArrayInputStream(\n  jsonString.toString().getBytes()\n)\ntry {\n  IOUtils.copyLarge(tmpFileIS, tmpBufferedOutputStream)\n  tmpBufferedOutputStream.flush()\n} catch {\n  case e: Exception =&gt; {\n    e.printStackTrace()\n    throw e\n  }\n} finally {\n  tmpFileIS.close()\n}\n</code></pre>\n<p>I'm getting below OOM issue, exactly at the line of where I've written <code>jsonString.toString().getBytes()</code></p>\n<blockquote>\n<p>java.lang.OutOfMemoryError: Java heap space\nat java.util.Arrays.copyOfRange(Arrays.java:3664)</p>\n</blockquote>\n<p>It looks like the JSON content's been generated is over the heap memory and throwing an error.</p>\n<p>I should not be increasing a heap memory this time nor allocate more heap memory all the time for this kind of rare instance.</p>\n<p>So, do I need to split the JSON contents into pieces and write it a file?\nHope it could solve the issue and be memory efficient.\nbut does anyone have a better solution for reading a <code>String</code> byte to byte or <code>byte[]</code> to feed <code>ByteArrayInputStream</code>?</p>\n"},{"tags":["java","math","java-stream","fractions"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1655341054,"post_id":72639291,"comment_id":128312120,"body_markdown":"`return fractions.stream().map(it -&gt; Fraction.getFraction(it.getNumerator(), it.getDivider())).reduce(Fraction.ZERO, Fraction::add).compareTo(Fraction.ONE) &lt;= 0;`","body":"<code>return fractions.stream().map(it -&gt; Fraction.getFraction(it.getNumerator(), it.getDivider())).reduce(Fraction.ZERO, Fraction::add).compareTo(Fraction.ONE) &lt;= 0;</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1655341121,"post_id":72639291,"comment_id":128312124,"body_markdown":"Why do you have your own `Fraction` class as well as the Apache one?  Can&#39;t you just use the Apache one throughout?","body":"Why do you have your own <code>Fraction</code> class as well as the Apache one?  Can&#39;t you just use the Apache one throughout?"},{"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"score":0,"creation_date":1655341929,"post_id":72639291,"comment_id":128312209,"body_markdown":"@dawood-ibn-kareem I had to create my own class in order to use it as a model for rest. It contains additional validation logic.","body":"@dawood-ibn-kareem I had to create my own class in order to use it as a model for rest. It contains additional validation logic."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1655342778,"post_id":72639291,"comment_id":128312336,"body_markdown":"OK fair enough.  I&#39;d just break it into two parts.  Have a filter that converts from your Fraction into the Apache Fraction, and put that in front of something that sums the Apache Fractions.","body":"OK fair enough.  I&#39;d just break it into two parts.  Have a filter that converts from your Fraction into the Apache Fraction, and put that in front of something that sums the Apache Fractions."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1655351873,"post_id":72639291,"comment_id":128313507,"body_markdown":"@shmosel Perhaps you&#39;d like to post that in the form of an answer, so that people can vote on it.  If you ping me, I will provide an upvote.","body":"@shmosel Perhaps you&#39;d like to post that in the form of an answer, so that people can vote on it.  If you ping me, I will provide an upvote."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1655352389,"post_id":72639291,"comment_id":128313574,"body_markdown":"@DawoodibnKareem Feel free to turn it into an answer.","body":"@DawoodibnKareem Feel free to turn it into an answer."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1655352500,"post_id":72639291,"comment_id":128313595,"body_markdown":"OK, I might do that later (CW of course).","body":"OK, I might do that later (CW of course)."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655371865,"creation_date":1655358113,"answer_id":72641006,"question_id":72639291,"body_markdown":"As written in [comment][1] by user @shmosel and permitted by him (in this [comment][2]) to post as an answer, here is a [minimal, reproducible example][3]. Note that the below code uses [records][4] which was first added, as a preview feature, in Java 14. Also note that I changed the name to `Frakshun` so as to avoid the name clash with class `org.apache.commons.lang3.math.Fraction`.\r\n```java\r\nimport java.util.List;\r\nimport org.apache.commons.lang3.math.Fraction;\r\n\r\npublic record Frakshun(short numerator, short divider) {\r\n\r\n    public static void main(String[] args) {\r\n        Frakshun f1 = new Frakshun((short) 1, (short) 3);\r\n        Frakshun f2 = new Frakshun((short) 5, (short) 9);\r\n        Frakshun f3 = new Frakshun((short) 1, (short) 9);\r\n        List&lt;Frakshun&gt; fractions = List.of(f1, f2, f3);\r\n        boolean ok = fractions.stream()\r\n                              .map(f -&gt; Fraction.getFraction(f.numerator(), f.divider()))\r\n                              .reduce(Fraction.ZERO, Fraction::add)\r\n                              .compareTo(Fraction.ONE) &lt;= 0;\r\n        System.out.println(ok);\r\n    }\r\n}\r\n```\r\nRunning the above code prints **true** since the sum of the three fractions, in the `List`, is 1 (one), i.e. &amp;#8531; &amp;plus; &lt;sup&gt;5&lt;/sup&gt;&amp;frasl;&lt;sub&gt;9&lt;/sub&gt; &amp;plus; &amp;#8529; &amp;equals; 1\r\n\r\nEdit\r\n----\r\nAs requested in OP [comment][5] to my answer, below code uses [short-circuiting operation][6] to possibly not process all stream elements. Note that method [takeWhile][7] was added in Java 9.\r\n```java\r\nimport java.util.List;\r\nimport org.apache.commons.lang3.math.Fraction;\r\n\r\npublic record Frakshun(short numerator, short divider) {\r\n    private static boolean isValidSumFractions(List&lt;Frakshun&gt; fractions) {\r\n        Fraction[] sum = new Fraction[]{Fraction.ZERO};\r\n        return fractions.stream()\r\n                        .map(f -&gt; Fraction.getFraction(f.numerator(), f.divider()))\r\n                        .takeWhile(f -&gt; (sum[0] = sum[0].add(f)).compareTo(Fraction.ONE) &lt;= 0)\r\n                        .allMatch(f -&gt; sum[0].compareTo(Fraction.ONE) &lt;= 0);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Frakshun f1 = new Frakshun((short) 2, (short) 3);\r\n        Frakshun f2 = new Frakshun((short) 5, (short) 9);\r\n        Frakshun f3 = new Frakshun((short) 4, (short) 9);\r\n        List&lt;Frakshun&gt; fractions = List.of(f1, f2, f3);\r\n        System.out.println(isValidSumFractions(fractions));\r\n    }\r\n}\r\n```\r\nAbove code will print **true** even though sum of all fractions in `List` is greater than 1 (one). Note that the code will print **false** only when the first faction in the `List` is greater than 1.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72639291/how-rewrite-foreach-from-stream-api-to-another-function-for-calculating-sum-of-f#comment128312120_72639291\r\n  [2]: https://stackoverflow.com/questions/72639291/how-rewrite-foreach-from-stream-api-to-another-function-for-calculating-sum-of-f#comment128313574_72639291\r\n  [3]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [4]: https://docs.oracle.com/en/java/javase/14/language/records.html\r\n  [5]: https://stackoverflow.com/questions/72639291/how-rewrite-foreach-from-stream-api-to-another-function-for-calculating-sum-of-f/72641006#comment128315275_72641006\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)","title":"How rewrite foreach from Stream API to another function for calculating sum of fractions?","body":"<p>As written in <a href=\"https://stackoverflow.com/questions/72639291/how-rewrite-foreach-from-stream-api-to-another-function-for-calculating-sum-of-f#comment128312120_72639291\">comment</a> by user @shmosel and permitted by him (in this <a href=\"https://stackoverflow.com/questions/72639291/how-rewrite-foreach-from-stream-api-to-another-function-for-calculating-sum-of-f#comment128313574_72639291\">comment</a>) to post as an answer, here is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. Note that the below code uses <a href=\"https://docs.oracle.com/en/java/javase/14/language/records.html\" rel=\"nofollow noreferrer\">records</a> which was first added, as a preview feature, in Java 14. Also note that I changed the name to <code>Frakshun</code> so as to avoid the name clash with class <code>org.apache.commons.lang3.math.Fraction</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport org.apache.commons.lang3.math.Fraction;\n\npublic record Frakshun(short numerator, short divider) {\n\n    public static void main(String[] args) {\n        Frakshun f1 = new Frakshun((short) 1, (short) 3);\n        Frakshun f2 = new Frakshun((short) 5, (short) 9);\n        Frakshun f3 = new Frakshun((short) 1, (short) 9);\n        List&lt;Frakshun&gt; fractions = List.of(f1, f2, f3);\n        boolean ok = fractions.stream()\n                              .map(f -&gt; Fraction.getFraction(f.numerator(), f.divider()))\n                              .reduce(Fraction.ZERO, Fraction::add)\n                              .compareTo(Fraction.ONE) &lt;= 0;\n        System.out.println(ok);\n    }\n}\n</code></pre>\n<p>Running the above code prints <strong>true</strong> since the sum of the three fractions, in the <code>List</code>, is 1 (one), i.e. ⅓ + <sup>5</sup>⁄<sub>9</sub> + ⅑ = 1</p>\n<h2>Edit</h2>\n<p>As requested in OP <a href=\"https://stackoverflow.com/questions/72639291/how-rewrite-foreach-from-stream-api-to-another-function-for-calculating-sum-of-f/72641006#comment128315275_72641006\">comment</a> to my answer, below code uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">short-circuiting operation</a> to possibly not process all stream elements. Note that method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">takeWhile</a> was added in Java 9.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport org.apache.commons.lang3.math.Fraction;\n\npublic record Frakshun(short numerator, short divider) {\n    private static boolean isValidSumFractions(List&lt;Frakshun&gt; fractions) {\n        Fraction[] sum = new Fraction[]{Fraction.ZERO};\n        return fractions.stream()\n                        .map(f -&gt; Fraction.getFraction(f.numerator(), f.divider()))\n                        .takeWhile(f -&gt; (sum[0] = sum[0].add(f)).compareTo(Fraction.ONE) &lt;= 0)\n                        .allMatch(f -&gt; sum[0].compareTo(Fraction.ONE) &lt;= 0);\n    }\n\n    public static void main(String[] args) {\n        Frakshun f1 = new Frakshun((short) 2, (short) 3);\n        Frakshun f2 = new Frakshun((short) 5, (short) 9);\n        Frakshun f3 = new Frakshun((short) 4, (short) 9);\n        List&lt;Frakshun&gt; fractions = List.of(f1, f2, f3);\n        System.out.println(isValidSumFractions(fractions));\n    }\n}\n</code></pre>\n<p>Above code will print <strong>true</strong> even though sum of all fractions in <code>List</code> is greater than 1 (one). Note that the code will print <strong>false</strong> only when the first faction in the <code>List</code> is greater than 1.</p>\n"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655371865,"creation_date":1655340410,"question_id":72639291,"body_markdown":"I have a list of fractional numbers, I need to check that the sum of these numbers is less or equals than 1.0. How can I do this with `reduce` function from `streams api`?\r\n\r\nNow my solution is such. But maybe is there a more beautiful way to write it?\r\n```java\r\nprivate boolean isValidSumFractions(List&lt;Fraction&gt; fractions) {\r\n    org.apache.commons.lang3.math.Fraction sum = org.apache.commons.lang3.math.Fraction.ZERO;\r\n    fractions.forEach(it -&gt; \r\n            sum.add(org.apache.commons.lang3.math.Fraction.getFraction(it.getNumerator(), it.getDivider()))\r\n    );\r\n    return sum.compareTo(org.apache.commons.lang3.math.Fraction.ONE) &lt;= 0;\r\n}\r\n```\r\n\r\nmy custom class `Fraction`:\r\n```\r\n@Data\r\npublic class Fraction {\r\n    private final short numerator;\r\n    private final short divider;\r\n}\r\n```","title":"How rewrite foreach from Stream API to another function for calculating sum of fractions?","body":"<p>I have a list of fractional numbers, I need to check that the sum of these numbers is less or equals than 1.0. How can I do this with <code>reduce</code> function from <code>streams api</code>?</p>\n<p>Now my solution is such. But maybe is there a more beautiful way to write it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isValidSumFractions(List&lt;Fraction&gt; fractions) {\n    org.apache.commons.lang3.math.Fraction sum = org.apache.commons.lang3.math.Fraction.ZERO;\n    fractions.forEach(it -&gt; \n            sum.add(org.apache.commons.lang3.math.Fraction.getFraction(it.getNumerator(), it.getDivider()))\n    );\n    return sum.compareTo(org.apache.commons.lang3.math.Fraction.ONE) &lt;= 0;\n}\n</code></pre>\n<p>my custom class <code>Fraction</code>:</p>\n<pre><code>@Data\npublic class Fraction {\n    private final short numerator;\n    private final short divider;\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","aar"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1584650615,"post_id":60764666,"comment_id":107509492,"body_markdown":"Is the project that uses the library configured to use Kotlin?","body":"Is the project that uses the library configured to use Kotlin?"},{"owner":{"account_id":457572,"reputation":874,"user_id":856979,"accept_rate":67,"display_name":"vegidio"},"score":0,"creation_date":1584690346,"post_id":60764666,"comment_id":107519026,"body_markdown":"Yes, as mentioned in the second paragraph, the project that uses the lib is a Kotlin one.","body":"Yes, as mentioned in the second paragraph, the project that uses the lib is a Kotlin one."},{"owner":{"account_id":3239883,"reputation":1186,"user_id":2733189,"display_name":"hmartinezd"},"score":0,"creation_date":1585852869,"post_id":60764666,"comment_id":107917541,"body_markdown":"I have the same problem. Did you find a solution?","body":"I have the same problem. Did you find a solution?"},{"owner":{"account_id":457572,"reputation":874,"user_id":856979,"accept_rate":67,"display_name":"vegidio"},"score":1,"creation_date":1587048042,"post_id":60764666,"comment_id":108360783,"body_markdown":"@hmartinezd Unfortunately no. But I found a few threads in Jetbrains bug reporting site about this same issue. It seems to be a well known problem for many years :(","body":"@hmartinezd Unfortunately no. But I found a few threads in Jetbrains bug reporting site about this same issue. It seems to be a well known problem for many years :("},{"owner":{"account_id":1803115,"reputation":599,"user_id":1640919,"accept_rate":11,"display_name":"Harsh"},"score":0,"creation_date":1592791296,"post_id":60764666,"comment_id":110541455,"body_markdown":"Got same issue. We prefer to write all libraries in JAVA until there is a solution for this.","body":"Got same issue. We prefer to write all libraries in JAVA until there is a solution for this."}],"answers":[{"tags":[],"owner":{"account_id":1403200,"reputation":738,"user_id":1331593,"display_name":"Tamal Samui"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1612352093,"creation_date":1612352093,"answer_id":66026699,"question_id":60764666,"body_markdown":"While debugging when it prompt &quot;Choose Sources&quot;, Click on that option\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand select the &quot;main&quot; folder of the library module from your local codebase of the library\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/li1rO.png\r\n  [2]: https://i.stack.imgur.com/5OZnp.png\r\n\r\nNow try to debug (by choosing &#39;step into&#39; option etc), the debugger should able to get the source code.","title":"Can&#39;t debug my Android library if the class was created with Kotlin","body":"<p>While debugging when it prompt &quot;Choose Sources&quot;, Click on that option</p>\n<p><a href=\"https://i.stack.imgur.com/li1rO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/li1rO.png\" alt=\"enter image description here\" /></a></p>\n<p>and select the &quot;main&quot; folder of the library module from your local codebase of the library</p>\n<p><a href=\"https://i.stack.imgur.com/5OZnp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5OZnp.png\" alt=\"enter image description here\" /></a></p>\n<p>Now try to debug (by choosing 'step into' option etc), the debugger should able to get the source code.</p>\n"}],"owner":{"account_id":457572,"reputation":874,"user_id":856979,"accept_rate":67,"display_name":"vegidio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2049,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1655370930,"creation_date":1584650152,"question_id":60764666,"body_markdown":"I created an Android library that was originally coded with Java and it outputs an `.aar` file that I use in some of my projects.\r\n\r\nWhen I include this lib in a project (an Android project created with Kotlin) and I decide to debug the code in this project, when the debugger reaches a line containing a library&#39;s class, it successfully steps into the class and I can see the source code of the class while I&#39;m debugging it. I can continue the debug line by line inside the lib&#39;s class and everything works as expected.\r\n\r\nHowever, I recently decided to convert this library to Kotlin but now, when the debugger reaches one of the lib&#39;s class and I step into the class to continue debugging there, I can no longer see the entire source code. I can only see the method signatures, but without the method definitions. I see only things like:\r\n\r\n```kotlin\r\npublic class ClassA {\r\n    public fun function1(): kotlin.Unit\r\n\r\n    public fun function2(): kotlin.Unit\r\n\r\n    public fun function3(): kotlin.Unit\r\n}\r\n```\r\n\r\nI didn&#39;t do any else in the library&#39;s project settings. I simply converted the files from `.java` to `.kt`.\r\n\r\nHere are some things that I tried so far to solve this problem:\r\n\r\n- I confirmed that I included Kotlin&#39;s standard lib in the dependencies list of the `build.gradle` file in the library.\r\n- I disabled ProGuard (it has never been a problem, but I removed it just in case).\r\n- I disabled code minification (it has never been a problem too, but at this point I&#39;m willing to try anything).\r\n\r\nAnyone has any idea why this is happening?","title":"Can&#39;t debug my Android library if the class was created with Kotlin","body":"<p>I created an Android library that was originally coded with Java and it outputs an <code>.aar</code> file that I use in some of my projects.</p>\n\n<p>When I include this lib in a project (an Android project created with Kotlin) and I decide to debug the code in this project, when the debugger reaches a line containing a library's class, it successfully steps into the class and I can see the source code of the class while I'm debugging it. I can continue the debug line by line inside the lib's class and everything works as expected.</p>\n\n<p>However, I recently decided to convert this library to Kotlin but now, when the debugger reaches one of the lib's class and I step into the class to continue debugging there, I can no longer see the entire source code. I can only see the method signatures, but without the method definitions. I see only things like:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>public class ClassA {\n    public fun function1(): kotlin.Unit\n\n    public fun function2(): kotlin.Unit\n\n    public fun function3(): kotlin.Unit\n}\n</code></pre>\n\n<p>I didn't do any else in the library's project settings. I simply converted the files from <code>.java</code> to <code>.kt</code>.</p>\n\n<p>Here are some things that I tried so far to solve this problem:</p>\n\n<ul>\n<li>I confirmed that I included Kotlin's standard lib in the dependencies list of the <code>build.gradle</code> file in the library.</li>\n<li>I disabled ProGuard (it has never been a problem, but I removed it just in case).</li>\n<li>I disabled code minification (it has never been a problem too, but at this point I'm willing to try anything).</li>\n</ul>\n\n<p>Anyone has any idea why this is happening?</p>\n"},{"tags":["java","hibernate","annotations"],"answers":[{"tags":[],"owner":{"account_id":180424,"reputation":10339,"user_id":413735,"accept_rate":86,"display_name":"tobiasbayer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1324374565,"creation_date":1324374565,"answer_id":8573548,"question_id":8573468,"body_markdown":"You should try [Hibernate Envers][1] for historic data.\r\n\r\n\r\n  [1]: http://www.jboss.org/envers","title":"Hibernate: Data Object with a dynamic table name by Annotations","body":"<p>You should try <a href=\"http://www.jboss.org/envers\" rel=\"nofollow\">Hibernate Envers</a> for historic data.</p>\n"},{"tags":[],"owner":{"account_id":429315,"reputation":10095,"user_id":812139,"accept_rate":68,"display_name":"Mr.Eddart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324375016,"creation_date":1324375016,"answer_id":8573655,"question_id":8573468,"body_markdown":"In Hibernate you map 1 class to 1 table. You can not reuse the same Entity to map several tables dynamically.\r\n\r\n[Hibernate Envers][1] is a quite good solution for Historic data, but you still will not be able to do what you try (dynamically grow the number of tables without touching mapper Entities).\r\n\r\n\r\n  [1]: http://www.jboss.org/envers","title":"Hibernate: Data Object with a dynamic table name by Annotations","body":"<p>In Hibernate you map 1 class to 1 table. You can not reuse the same Entity to map several tables dynamically.</p>\n\n<p><a href=\"http://www.jboss.org/envers\" rel=\"nofollow\">Hibernate Envers</a> is a quite good solution for Historic data, but you still will not be able to do what you try (dynamically grow the number of tables without touching mapper Entities).</p>\n"},{"tags":[],"owner":{"account_id":360025,"reputation":884,"user_id":701792,"accept_rate":69,"display_name":"ganzux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324904199,"creation_date":1324903846,"answer_id":8635944,"question_id":8573468,"body_markdown":"Thanks to @CodeBrickie and @edutesoy I found Envers.\r\n\r\nI configure the hibernate config file with AUD suffix and I create new hibernate config files per year (hibernate.cfg.2009.xml, hibernate.cfg.2010.xml, hibernate.cfg.2011.xml...) with the year-suffix.\r\n\r\nWhen I save data, always is audited in AUD table. On January 1, automatically:\r\n\r\n - _AUD TABLE is renamed as _PAST_YEAR table.\r\n - A new _AUD table is created.\r\n - A new hibernate.cfg.past_year.xml is created with the new suffix.\r\n\r\nWhen I need to get data, I load the corresponding hibernate configuration file.\r\n\r\n\r\nHope this helps to others :)","title":"Hibernate: Data Object with a dynamic table name by Annotations","body":"<p>Thanks to @CodeBrickie and @edutesoy I found Envers.</p>\n\n<p>I configure the hibernate config file with AUD suffix and I create new hibernate config files per year (hibernate.cfg.2009.xml, hibernate.cfg.2010.xml, hibernate.cfg.2011.xml...) with the year-suffix.</p>\n\n<p>When I save data, always is audited in AUD table. On January 1, automatically:</p>\n\n<ul>\n<li>_AUD TABLE is renamed as _PAST_YEAR table.</li>\n<li>A new _AUD table is created.</li>\n<li>A new hibernate.cfg.past_year.xml is created with the new suffix.</li>\n</ul>\n\n<p>When I need to get data, I load the corresponding hibernate configuration file.</p>\n\n<p>Hope this helps to others :)</p>\n"},{"tags":[],"owner":{"account_id":360025,"reputation":884,"user_id":701792,"accept_rate":69,"display_name":"ganzux"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1325520192,"creation_date":1325519846,"answer_id":8702827,"question_id":8573468,"body_markdown":"Another one Architecture, more complez but elegant:\r\n\r\n**YES**, You can change the table names using *NamingStrategies*:\r\n\r\n    public class MyNamingStrategy extends DefaultNamingStrategy {\r\n       ...\r\n       @Override\r\n       public  String tableName(String tableName) {\r\n    \t  return tableName+yearSuffixTable;\r\n       }\r\n       ...\r\n    }\r\n\r\nAnd, when you wanna to use the _year tables, you must to create a session with Hibernate that override rhe table names:\r\n\r\n      SessionFactory sessionFactory;\r\n      Configuration config = new AnnotationConfiguration()\r\n                             .configure(&quot;hibernate.cfg.xml&quot;)\r\n                             .setNamingStrategy( new MyNamingStrategy () );\r\n      sessionFactory = config.buildSessionFactory();\r\n      session = sessionFactory.openSession();\r\n\r\n\r\nFor my architecture I create a session by year and store it into Application map for access when I need it.\r\n\r\nThanks.","title":"Hibernate: Data Object with a dynamic table name by Annotations","body":"<p>Another one Architecture, more complez but elegant:</p>\n\n<p><strong>YES</strong>, You can change the table names using <em>NamingStrategies</em>:</p>\n\n<pre><code>public class MyNamingStrategy extends DefaultNamingStrategy {\n   ...\n   @Override\n   public  String tableName(String tableName) {\n      return tableName+yearSuffixTable;\n   }\n   ...\n}\n</code></pre>\n\n<p>And, when you wanna to use the _year tables, you must to create a session with Hibernate that override rhe table names:</p>\n\n<pre><code>  SessionFactory sessionFactory;\n  Configuration config = new AnnotationConfiguration()\n                         .configure(\"hibernate.cfg.xml\")\n                         .setNamingStrategy( new MyNamingStrategy () );\n  sessionFactory = config.buildSessionFactory();\n  session = sessionFactory.openSession();\n</code></pre>\n\n<p>For my architecture I create a session by year and store it into Application map for access when I need it.</p>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":1235472,"reputation":11,"user_id":1199136,"display_name":"praveen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328775935,"creation_date":1328775567,"answer_id":9207408,"question_id":8573468,"body_markdown":"    @Table(name=&quot;emd_employee_1001&quot;)\r\n\r\nIn the above annotation file name can pass as parameter, for example \r\n\r\n    x=1001 \r\n    @Table(name=&quot;emd_employee_+x+&quot;)","title":"Hibernate: Data Object with a dynamic table name by Annotations","body":"<pre><code>@Table(name=\"emd_employee_1001\")\n</code></pre>\n\n<p>In the above annotation file name can pass as parameter, for example </p>\n\n<pre><code>x=1001 \n@Table(name=\"emd_employee_+x+\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9807493,"reputation":69,"user_id":7266866,"display_name":"helloworld1970"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492415941,"creation_date":1492415941,"answer_id":43447543,"question_id":8573468,"body_markdown":"Modified at runtime(I think it&#39;s the best way):\r\n\r\n    Session session = super.getSession();\r\n        SQLQuery query = session.createSQLQuery(&quot;raw sql&quot;);\r\n        query.setParameter(&quot;:abc&quot;, &quot;value&quot;);\r\n        query.addEntity(Some.class);\r\n        return query.list();","title":"Hibernate: Data Object with a dynamic table name by Annotations","body":"<p>Modified at runtime(I think it's the best way):</p>\n\n<pre><code>Session session = super.getSession();\n    SQLQuery query = session.createSQLQuery(\"raw sql\");\n    query.setParameter(\":abc\", \"value\");\n    query.addEntity(Some.class);\n    return query.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655370465,"creation_date":1655290673,"answer_id":72630148,"question_id":8573468,"body_markdown":"You can use Hibernate interceptors to change the table in the generated SQL statements.\r\n\r\nFor your case you can define your table class like this:\r\n\r\n```\r\n@Entity\r\n@org.hibernate.annotations.Proxy(lazy=false)\r\n@Table(name=PersonTableNameReplacer.PLACEHOLDER, schema=&quot;MySchema&quot;)\r\n@Inheritance(strategy=InheritanceType.SINGLE_TABLE)\r\npublic class ProfileData implements Serializable {\r\n\r\n```\r\n\r\nand define your Hibernate interceptor in a following way:\r\n\r\n```\r\npublic class TableNameReplacer extends EmptyInterceptor {\r\n\r\n\tpublic static final String TABLE_PLACEHOLDER = &quot;{person_table_placeholder}&quot;;\r\n\r\n\t@Override\r\n\tpublic String onPrepareStatement(String sql) {\r\n\t\tif (sql.contains(TABLE_PLACEHOLDER )) {\r\n\t\t\tString replacement = &quot;{your logic to fill proper table name}&quot;;\r\n\r\n\r\n\t\t\tsql = sql.replace(TABLE_SUFFIX_PLACEHOLDER, replacement);\r\n\t\t}\r\n\r\n\t\treturn super.onPrepareStatement(sql);\r\n\t}\r\n```\r\n\r\nUsing this approach you&#39;re free to modify generated SQL and replace the table name there as you wish. \r\n\r\nI recommend to use good placeholder value which you&#39;re sure will not be a part of actual values being saved to the table (or you can only limit this to select statements if you only read the data).","title":"Hibernate: Data Object with a dynamic table name by Annotations","body":"<p>You can use Hibernate interceptors to change the table in the generated SQL statements.</p>\n<p>For your case you can define your table class like this:</p>\n<pre><code>@Entity\n@org.hibernate.annotations.Proxy(lazy=false)\n@Table(name=PersonTableNameReplacer.PLACEHOLDER, schema=&quot;MySchema&quot;)\n@Inheritance(strategy=InheritanceType.SINGLE_TABLE)\npublic class ProfileData implements Serializable {\n\n</code></pre>\n<p>and define your Hibernate interceptor in a following way:</p>\n<pre><code>public class TableNameReplacer extends EmptyInterceptor {\n\n    public static final String TABLE_PLACEHOLDER = &quot;{person_table_placeholder}&quot;;\n\n    @Override\n    public String onPrepareStatement(String sql) {\n        if (sql.contains(TABLE_PLACEHOLDER )) {\n            String replacement = &quot;{your logic to fill proper table name}&quot;;\n\n\n            sql = sql.replace(TABLE_SUFFIX_PLACEHOLDER, replacement);\n        }\n\n        return super.onPrepareStatement(sql);\n    }\n</code></pre>\n<p>Using this approach you're free to modify generated SQL and replace the table name there as you wish.</p>\n<p>I recommend to use good placeholder value which you're sure will not be a part of actual values being saved to the table (or you can only limit this to select statements if you only read the data).</p>\n"}],"owner":{"account_id":360025,"reputation":884,"user_id":701792,"accept_rate":69,"display_name":"ganzux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27390,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":8702827,"answer_count":7,"score":12,"last_activity_date":1655370465,"creation_date":1324374199,"question_id":8573468,"body_markdown":"I have a Data Class for Hibernate associated to a table; imagine the Entity _Person_ like this:\r\n\r\n     @Entity\r\n     @org.hibernate.annotations.Proxy(lazy=false)\r\n     @Table(name=&quot;Person&quot;, schema=&quot;MySchema&quot;)\r\n     @Inheritance(strategy=InheritanceType.SINGLE_TABLE)\r\n     public class ProfileData implements Serializable {\r\n\t\r\n        private static final long serialVersionUID = -844564646821609090L;\r\n\r\n        public PersonData() {\r\n        }\r\n\t\r\n        @Column(name=&quot;idPerson&quot;, nullable=false, unique=true)\t\r\n        @Id\t\r\n        ...\r\n\r\n**I need to create historic tables by years of this table**: Person2010, Person2011, Person2012... Is it possible without creating new Data Objects? Maybe by a parameter...? I don&#180;t know.\r\n\r\nThe Entity class is the same, changing the table name and the constructor.","title":"Hibernate: Data Object with a dynamic table name by Annotations","body":"<p>I have a Data Class for Hibernate associated to a table; imagine the Entity <em>Person</em> like this:</p>\n\n<pre><code> @Entity\n @org.hibernate.annotations.Proxy(lazy=false)\n @Table(name=\"Person\", schema=\"MySchema\")\n @Inheritance(strategy=InheritanceType.SINGLE_TABLE)\n public class ProfileData implements Serializable {\n\n    private static final long serialVersionUID = -844564646821609090L;\n\n    public PersonData() {\n    }\n\n    @Column(name=\"idPerson\", nullable=false, unique=true)   \n    @Id \n    ...\n</code></pre>\n\n<p><strong>I need to create historic tables by years of this table</strong>: Person2010, Person2011, Person2012... Is it possible without creating new Data Objects? Maybe by a parameter...? I don´t know.</p>\n\n<p>The Entity class is the same, changing the table name and the constructor.</p>\n"},{"tags":["java","spring-boot","maven","jetty"],"comments":[{"owner":{"account_id":3380825,"reputation":71,"user_id":2837901,"display_name":"Amrit Raj"},"score":0,"creation_date":1670604941,"post_id":72642893,"comment_id":131919546,"body_markdown":"did you got your answer","body":"did you got your answer"}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655370050,"creation_date":1655370050,"answer_id":72643168,"question_id":72642893,"body_markdown":"You can try to create a `@Bean` for the new `JettyServletWebServerFactory`:\r\n\r\n```\r\n// Create bean of type ConfigurableServletWebServerFactory\r\n@Bean\r\npublic ConfigurableServletWebServerFactory webServerFactory() \r\n{\r\n  JettyServletWebServerFactory factory = new JettyServletWebServerFactory();\r\n  factory.setPort(9000);\r\n  factory.setContextPath(&quot;/myapp&quot;);\r\n  factory.addErrorPages(new ErrorPage(HttpStatus.NOT_FOUND, &quot;/notfound.html&quot;));\r\n  return factory;\r\n}\r\n```","title":"Error replacing tomcat with jetty in a springboot application","body":"<p>You can try to create a <code>@Bean</code> for the new <code>JettyServletWebServerFactory</code>:</p>\n<pre><code>// Create bean of type ConfigurableServletWebServerFactory\n@Bean\npublic ConfigurableServletWebServerFactory webServerFactory() \n{\n  JettyServletWebServerFactory factory = new JettyServletWebServerFactory();\n  factory.setPort(9000);\n  factory.setContextPath(&quot;/myapp&quot;);\n  factory.addErrorPages(new ErrorPage(HttpStatus.NOT_FOUND, &quot;/notfound.html&quot;));\n  return factory;\n}\n</code></pre>\n"}],"owner":{"account_id":19514016,"reputation":11,"user_id":14277349,"display_name":"Kaushik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655370050,"creation_date":1655368809,"question_id":72642893,"body_markdown":"I am trying to remove tomcat from my springboot application and add jetty instead. I removed tomcat dependency from my application and added jetty but it is not working. \r\n\r\nMy pom.xml - \r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nGetting below error - \r\n```\r\nConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.context.MissingWebServerFactoryBeanException: No qualifying bean of type &#39;org.springframework.boot.web.servlet.server.ServletWebServerFactory&#39; available: Unable to start AnnotationConfigServletWebServerApplicationContext due to missing ServletWebServerFactory bean\r\n2022-06-16 13:59:09.671  INFO 3247 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-06-16 13:59:09.690 ERROR 3247 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nWeb application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context.\r\n\r\nAction:\r\n\r\nCheck your application&#39;s dependencies for a supported servlet web server.\r\nCheck the configured web application type.\r\n```\r\n\r\nAny help would be appreciated","title":"Error replacing tomcat with jetty in a springboot application","body":"<p>I am trying to remove tomcat from my springboot application and add jetty instead. I removed tomcat dependency from my application and added jetty but it is not working.</p>\n<p>My pom.xml -</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Getting below error -</p>\n<pre><code>ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.context.MissingWebServerFactoryBeanException: No qualifying bean of type 'org.springframework.boot.web.servlet.server.ServletWebServerFactory' available: Unable to start AnnotationConfigServletWebServerApplicationContext due to missing ServletWebServerFactory bean\n2022-06-16 13:59:09.671  INFO 3247 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-06-16 13:59:09.690 ERROR 3247 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nWeb application could not be started as there was no org.springframework.boot.web.servlet.server.ServletWebServerFactory bean defined in the context.\n\nAction:\n\nCheck your application's dependencies for a supported servlet web server.\nCheck the configured web application type.\n</code></pre>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","android","ssl","webview"],"comments":[{"owner":{"account_id":8905303,"reputation":3494,"user_id":6925888,"accept_rate":33,"display_name":"iamkdblue"},"score":0,"creation_date":1594392265,"post_id":59084676,"comment_id":111119320,"body_markdown":"did you find any solution?","body":"did you find any solution?"},{"owner":{"account_id":16903096,"reputation":103,"user_id":12223926,"display_name":"sterben"},"score":0,"creation_date":1594427728,"post_id":59084676,"comment_id":111132347,"body_markdown":"No, I converted the video player to VLC","body":"No, I converted the video player to VLC"}],"answers":[{"tags":[],"owner":{"account_id":8905303,"reputation":3494,"user_id":6925888,"accept_rate":33,"display_name":"iamkdblue"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1594393345,"creation_date":1594393345,"answer_id":62837064,"question_id":59084676,"body_markdown":"Check your URL link. because there is no video on that link\r\n\r\nI solved by changing URL","title":"com.google.android.exoplayer2.upstream.HttpDataSource$InvalidResponseCodeException: Response code: 404","body":"<p>Check your URL link. because there is no video on that link</p>\n<p>I solved by changing URL</p>\n"},{"tags":[],"owner":{"account_id":16276029,"reputation":11,"user_id":11753170,"display_name":"Nijil Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655369798,"creation_date":1655369798,"answer_id":72643106,"question_id":59084676,"body_markdown":"It happens because the media URL may not be having any video in it. Try with a different URL and it should work.","title":"com.google.android.exoplayer2.upstream.HttpDataSource$InvalidResponseCodeException: Response code: 404","body":"<p>It happens because the media URL may not be having any video in it. Try with a different URL and it should work.</p>\n"}],"owner":{"account_id":16903096,"reputation":103,"user_id":12223926,"display_name":"sterben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10190,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1655369798,"creation_date":1574930309,"question_id":59084676,"body_markdown":"Ok, so I am going to play a YouTube [video][1] through ExoPlayer by calling the playing procedure using Javascript Interface...\r\n\r\nThe problem is, when I try to open the video using ExoPlayer, it does try to open the link than it didn&#39;t play, when I see the Logcat, I got the error\r\n\r\n```\r\nE/ExoPlayerImplInternal: Source error.\r\n    com.google.android.exoplayer2.upstream.HttpDataSource$InvalidResponseCodeException: Response code: 404\r\n        at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.open(DefaultHttpDataSource.java:300)\r\n        at com.google.android.exoplayer2.upstream.StatsDataSource.open(StatsDataSource.java:83)\r\n        at com.google.android.exoplayer2.upstream.DataSourceInputStream.checkOpened(DataSourceInputStream.java:102)\r\n        at com.google.android.exoplayer2.upstream.DataSourceInputStream.open(DataSourceInputStream.java:65)\r\n        at com.google.android.exoplayer2.upstream.ParsingLoadable.load(ParsingLoadable.java:156)\r\n        at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:381)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n        at java.lang.Thread.run(Thread.java:818)\r\n```\r\n\r\nI tried adding final to the string which contains the video URL, like suggested by the answer in [here][2] , but still get the same error\r\n\r\nSo, I try to scroll up the Logcat and I found SSL error\r\n\r\n```\r\nSSL_connect:error exit in 3RSH_A SSLv3 read server hello A\r\n```\r\n\r\nThen I try using the solution in [this][3] but still got the same error\r\n\r\n\r\nMy code\r\n\r\n**ExoPlayer.java**\r\n\r\n```java\r\npublic class ExoPlayer extends AppCompatActivity{\r\n    private PlayerView playerView;\r\n    private SimpleExoPlayer simpleExoPlayer;\r\n    public static String url;\r\n    public Context context;\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.video_player);\r\n\r\n        final String video = getIntent().getStringExtra(&quot;video&quot;);\r\n\r\n        iniExoPlayer(video);\r\n    }\r\n\r\n\r\n    public void iniExoPlayer(String url){\r\n        Log.d(&quot;owo&quot;,url);\r\n        simpleExoPlayer = ExoPlayerFactory.newSimpleInstance(this);\r\n        playerView = findViewById(R.id.video_player);\r\n        playerView.setPlayer(simpleExoPlayer);\r\n\r\n        //#Default Data Source use this\r\n        DataSource.Factory dataSourceFactory = new DefaultHttpDataSourceFactory(Util.getUserAgent(this, &quot;app-name&quot;));\r\n        MediaSource videoSource = new SsMediaSource.Factory(dataSourceFactory).createMediaSource(Uri.parse(url));\r\n            simpleExoPlayer.prepare(videoSource);\r\n            simpleExoPlayer.setPlayWhenReady(true);\r\n         }\r\n```\r\n\r\n**network_security_config.xml**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;network-security-config&gt;\r\n    &lt;base-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n        &lt;base includeSubdomains=&quot;true&quot;&gt;MainUrl&lt;/base&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;certificates src=&quot;system&quot; /&gt;\r\n            &lt;certificates src=&quot;user&quot; /&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/base-config&gt;\r\n\r\n&lt;/network-security-config&gt;\r\n```\r\nAnd here&#39;s my [Logcat][4]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=JCjIrEQCzWM\r\n  [2]: https://stackoverflow.com/questions/45795420/e-exoplayerimplinternal-source-error-com-google-android-exoplayer2-upstream-htt\r\n  [3]: https://github.com/facebook/react-native/issues/20488#issuecomment-409535369\r\n  [4]: https://pastebin.com/vAeR0g7U","title":"com.google.android.exoplayer2.upstream.HttpDataSource$InvalidResponseCodeException: Response code: 404","body":"<p>Ok, so I am going to play a YouTube <a href=\"https://www.youtube.com/watch?v=JCjIrEQCzWM\" rel=\"noreferrer\">video</a> through ExoPlayer by calling the playing procedure using Javascript Interface...</p>\n\n<p>The problem is, when I try to open the video using ExoPlayer, it does try to open the link than it didn't play, when I see the Logcat, I got the error</p>\n\n<pre><code>E/ExoPlayerImplInternal: Source error.\n    com.google.android.exoplayer2.upstream.HttpDataSource$InvalidResponseCodeException: Response code: 404\n        at com.google.android.exoplayer2.upstream.DefaultHttpDataSource.open(DefaultHttpDataSource.java:300)\n        at com.google.android.exoplayer2.upstream.StatsDataSource.open(StatsDataSource.java:83)\n        at com.google.android.exoplayer2.upstream.DataSourceInputStream.checkOpened(DataSourceInputStream.java:102)\n        at com.google.android.exoplayer2.upstream.DataSourceInputStream.open(DataSourceInputStream.java:65)\n        at com.google.android.exoplayer2.upstream.ParsingLoadable.load(ParsingLoadable.java:156)\n        at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:381)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n        at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n\n<p>I tried adding final to the string which contains the video URL, like suggested by the answer in <a href=\"https://stackoverflow.com/questions/45795420/e-exoplayerimplinternal-source-error-com-google-android-exoplayer2-upstream-htt\">here</a> , but still get the same error</p>\n\n<p>So, I try to scroll up the Logcat and I found SSL error</p>\n\n<pre><code>SSL_connect:error exit in 3RSH_A SSLv3 read server hello A\n</code></pre>\n\n<p>Then I try using the solution in <a href=\"https://github.com/facebook/react-native/issues/20488#issuecomment-409535369\" rel=\"noreferrer\">this</a> but still got the same error</p>\n\n<p>My code</p>\n\n<p><strong>ExoPlayer.java</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ExoPlayer extends AppCompatActivity{\n    private PlayerView playerView;\n    private SimpleExoPlayer simpleExoPlayer;\n    public static String url;\n    public Context context;\n\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.video_player);\n\n        final String video = getIntent().getStringExtra(\"video\");\n\n        iniExoPlayer(video);\n    }\n\n\n    public void iniExoPlayer(String url){\n        Log.d(\"owo\",url);\n        simpleExoPlayer = ExoPlayerFactory.newSimpleInstance(this);\n        playerView = findViewById(R.id.video_player);\n        playerView.setPlayer(simpleExoPlayer);\n\n        //#Default Data Source use this\n        DataSource.Factory dataSourceFactory = new DefaultHttpDataSourceFactory(Util.getUserAgent(this, \"app-name\"));\n        MediaSource videoSource = new SsMediaSource.Factory(dataSourceFactory).createMediaSource(Uri.parse(url));\n            simpleExoPlayer.prepare(videoSource);\n            simpleExoPlayer.setPlayWhenReady(true);\n         }\n</code></pre>\n\n<p><strong>network_security_config.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;base-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;base includeSubdomains=\"true\"&gt;MainUrl&lt;/base&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=\"system\" /&gt;\n            &lt;certificates src=\"user\" /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>And here's my <a href=\"https://pastebin.com/vAeR0g7U\" rel=\"noreferrer\">Logcat</a></p>\n"},{"tags":["java","multithreading","synchronized","thread-synchronization"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1655331384,"post_id":72637773,"comment_id":128310577,"body_markdown":"You need to use a [guarded wait](https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html) in a loop, along with a condition that indicates which player the notification is for (or, equivalently, which is to play next) to avoid problems with [spurious wake-ups](https://stackoverflow.com/questions/1050592/do-spurious-wakeups-in-java-actually-happen). But more importantly, if only one player can act, what is the point of using threads at all?","body":"You need to use a <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">guarded wait</a> in a loop, along with a condition that indicates which player the notification is for (or, equivalently, which is to play next) to avoid problems with <a href=\"https://stackoverflow.com/questions/1050592/do-spurious-wakeups-in-java-actually-happen\">spurious wake-ups</a>. But more importantly, if only one player can act, what is the point of using threads at all?"},{"owner":{"account_id":24408403,"reputation":15,"user_id":18336250,"display_name":"Deutrys"},"score":0,"creation_date":1655369590,"post_id":72637773,"comment_id":128317988,"body_markdown":"@DavidConrad Yeah there isn&#39;t any point in this case I&#39;m just trying to learn and practice threads. I remade some parts of the code and now it starts running but crashes after the first call of finishTurn() with the error: &quot;current thread is not owner&quot;.","body":"@DavidConrad Yeah there isn&#39;t any point in this case I&#39;m just trying to learn and practice threads. I remade some parts of the code and now it starts running but crashes after the first call of finishTurn() with the error: &quot;current thread is not owner&quot;."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1655372540,"post_id":72637773,"comment_id":128319051,"body_markdown":"As @David Conrad said, what&#39;s the point of using Threads?  If you want to use Threads, use them correctly, as in creating multiple asynchronous independent tasks.  In that case, use an ExecutorService instead.","body":"As @David Conrad said, what&#39;s the point of using Threads?  If you want to use Threads, use them correctly, as in creating multiple asynchronous independent tasks.  In that case, use an ExecutorService instead."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1655385450,"post_id":72637773,"comment_id":128323448,"body_markdown":"Both `wait()` and `notify()` can only be called while holding a lock on the object&#39;s monitor. As the [notify documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()) says, &quot;This method should only be called by a thread that is the owner of this object&#39;s monitor.&quot;","body":"Both <code>wait()</code> and <code>notify()</code> can only be called while holding a lock on the object&#39;s monitor. As the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\">notify documentation</a> says, &quot;This method should only be called by a thread that is the owner of this object&#39;s monitor.&quot;"}],"owner":{"account_id":24408403,"reputation":15,"user_id":18336250,"display_name":"Deutrys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655369757,"creation_date":1655326855,"question_id":72637773,"body_markdown":"I&#39;m new with Java threads and I am having a few problems. I&#39;m trying to make a simple ludo game, where each player makes their turn in a new thread. While one player is performing their turn the other threads must wait() until notified and the next player will start his turn. These threads must be synchronised so that only one thread can manipulate shared data at one time. I&#39;ve implemented some basic logic but can&#39;t decide where to create the threads and if the thread logic I&#39;ve implemented will work. Any help is appreciated!\r\n\r\n**Edit:** I remade some parts of the code, but now I get &quot;current thread is not owner&quot; error after the first call of finishTurn().\r\n\r\n**Code:**\r\n\r\nMain.java:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Game game = new Game();\r\n            game.init();\r\n            game.run();\r\n        }\r\n    }\r\n\r\nGame.java:\r\n    \r\n    public class Game implements Runnable {\r\n        private List&lt;Player&gt; players;\r\n        private List&lt;Player&gt; fields;\r\n        private int players_finished;\r\n        private Player winner;\r\n    \r\n        public Game() {\r\n            this.players = new ArrayList&lt;&gt;();\r\n            this.fields = new ArrayList&lt;&gt;();\r\n            this.players_finished = 0;\r\n            this.winner = null;\r\n        }\r\n    \r\n        public void init()\r\n        {\r\n            System.out.println(&quot;Game has started!&quot;);\r\n            players.add(new Player(&quot;Magnum&quot;, this));\r\n            players.add(new Player(&quot;Felix&quot;, this));\r\n            players.add(new Player(&quot;Alex&quot;, this));\r\n            players.add(new Player(&quot;Sandra&quot;, this));\r\n    \r\n            for(int i = 0; i &lt; 20; i++) {\r\n                fields.add(i, null);\r\n            }\r\n    \r\n            for(int i = 0; i &lt; 20; i++) { // put players&#39; 5 fields away from each other\r\n                if(i % 5 == 0)\r\n                {\r\n                    fields.set(i, players.get((int)i / 5));\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void run()\r\n        {\r\n            List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n            for(int i = 0; i &lt; 4; i++) {\r\n                threads.add(new Thread(players.get(i)));\r\n                threads.get(i).start();\r\n            }\r\n            System.out.println(&quot;Game has started!&quot;);\r\n\r\n            finishTurn(players.get(3));\r\n        }\r\n    \r\n        void finishTurn(Player player)\r\n        {\r\n            System.out.println(player + &quot; has finished his turn!&quot;);\r\n            int i;\r\n            for(i = 0; i &lt; players.size(); i++) {\r\n                if(players.get(i) == player) {\r\n                    break;\r\n                }\r\n            }\r\n            if(i == (players.size() - 1)) {\r\n                players.get(0).notify();\r\n            }\r\n            else {\r\n                players.get(i+1).notify();\r\n            }\r\n        }\r\n    }\r\n\r\nPlayer.java:\r\n\r\n    public class Player implements Runnable {\r\n        String name;\r\n        Game game;\r\n    \r\n        public Player(String name, Game game) {\r\n            this.name = name;\r\n            this.game = game;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            synchronized (this) {\r\n                try {\r\n                    wait();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n            System.out.println(&quot;Player&#39;s turn has been started!&quot;);\r\n            // do other stuff\r\n            game.finishTurn(this);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Simple ludo game implementation with java threads","body":"<p>I'm new with Java threads and I am having a few problems. I'm trying to make a simple ludo game, where each player makes their turn in a new thread. While one player is performing their turn the other threads must wait() until notified and the next player will start his turn. These threads must be synchronised so that only one thread can manipulate shared data at one time. I've implemented some basic logic but can't decide where to create the threads and if the thread logic I've implemented will work. Any help is appreciated!</p>\n<p><strong>Edit:</strong> I remade some parts of the code, but now I get &quot;current thread is not owner&quot; error after the first call of finishTurn().</p>\n<p><strong>Code:</strong></p>\n<p>Main.java:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Game game = new Game();\n        game.init();\n        game.run();\n    }\n}\n</code></pre>\n<p>Game.java:</p>\n<pre><code>public class Game implements Runnable {\n    private List&lt;Player&gt; players;\n    private List&lt;Player&gt; fields;\n    private int players_finished;\n    private Player winner;\n\n    public Game() {\n        this.players = new ArrayList&lt;&gt;();\n        this.fields = new ArrayList&lt;&gt;();\n        this.players_finished = 0;\n        this.winner = null;\n    }\n\n    public void init()\n    {\n        System.out.println(&quot;Game has started!&quot;);\n        players.add(new Player(&quot;Magnum&quot;, this));\n        players.add(new Player(&quot;Felix&quot;, this));\n        players.add(new Player(&quot;Alex&quot;, this));\n        players.add(new Player(&quot;Sandra&quot;, this));\n\n        for(int i = 0; i &lt; 20; i++) {\n            fields.add(i, null);\n        }\n\n        for(int i = 0; i &lt; 20; i++) { // put players' 5 fields away from each other\n            if(i % 5 == 0)\n            {\n                fields.set(i, players.get((int)i / 5));\n            }\n        }\n    }\n\n    @Override\n    public void run()\n    {\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n        for(int i = 0; i &lt; 4; i++) {\n            threads.add(new Thread(players.get(i)));\n            threads.get(i).start();\n        }\n        System.out.println(&quot;Game has started!&quot;);\n\n        finishTurn(players.get(3));\n    }\n\n    void finishTurn(Player player)\n    {\n        System.out.println(player + &quot; has finished his turn!&quot;);\n        int i;\n        for(i = 0; i &lt; players.size(); i++) {\n            if(players.get(i) == player) {\n                break;\n            }\n        }\n        if(i == (players.size() - 1)) {\n            players.get(0).notify();\n        }\n        else {\n            players.get(i+1).notify();\n        }\n    }\n}\n</code></pre>\n<p>Player.java:</p>\n<pre><code>public class Player implements Runnable {\n    String name;\n    Game game;\n\n    public Player(String name, Game game) {\n        this.name = name;\n        this.game = game;\n    }\n\n    @Override\n    public void run() {\n        synchronized (this) {\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        System.out.println(&quot;Player's turn has been started!&quot;);\n        // do other stuff\n        game.finishTurn(this);\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n}\n</code></pre>\n"},{"tags":["java","validation","domain-driven-design","aggregateroot"],"comments":[{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":0,"creation_date":1655303559,"post_id":72629588,"comment_id":128301327,"body_markdown":"What purpose is the UUID serving?  Why not just have the username be the equivalent of the primary key?","body":"What purpose is the UUID serving?  Why not just have the username be the equivalent of the primary key?"}],"answers":[{"tags":[],"owner":{"account_id":3512135,"reputation":8125,"user_id":2936204,"accept_rate":83,"display_name":"Neil W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655293621,"creation_date":1655293621,"answer_id":72630818,"question_id":72629588,"body_markdown":"&gt; This solution doesn&#39;t feel right, as preventing duplicate usernames is\r\n&gt; domain logic, and should not be in the application layer.\r\n\r\nCorrect.\r\n\r\n&gt; I have also tried creating a domain service to check for duplicate\r\n&gt; usernames, but this also feels wrong as the application service has\r\n&gt; access to the repository and can do this by itself.\r\n\r\nYes, the application service could do the work by itself, but you have taken a conscious decision to create a dedicated layer for those &#39;tricky&#39; bits where the domain aggregate cannot do the work on its own and you do not want to leak domain knowledge into the application service.\r\n\r\nThere&#39;s nothing wrong with this.  Just don&#39;t let &#39;Domain Service&#39; become a your default approach whenever something looks a bit tricky.  You&#39;ll end up with an anaemic domain model and all the logic sitting in Domain Services.  But, sometimes, a Domain Service is the only pragmatic solution and feel free to use them when all else fails.\r\n\r\nThe other alternative is to search up &quot;Domain Events&quot;.  They keep a better separation in my view but demands more effort and plumbing.\r\n\r\nHere&#39;s a C# introduction, but just as applicable to the world of java.\r\n\r\nhttps://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/domain-events-design-implementation","title":"Should duplicate values in aggregate roots be checked in the domain layer or the application layer?","body":"<blockquote>\n<p>This solution doesn't feel right, as preventing duplicate usernames is\ndomain logic, and should not be in the application layer.</p>\n</blockquote>\n<p>Correct.</p>\n<blockquote>\n<p>I have also tried creating a domain service to check for duplicate\nusernames, but this also feels wrong as the application service has\naccess to the repository and can do this by itself.</p>\n</blockquote>\n<p>Yes, the application service could do the work by itself, but you have taken a conscious decision to create a dedicated layer for those 'tricky' bits where the domain aggregate cannot do the work on its own and you do not want to leak domain knowledge into the application service.</p>\n<p>There's nothing wrong with this.  Just don't let 'Domain Service' become a your default approach whenever something looks a bit tricky.  You'll end up with an anaemic domain model and all the logic sitting in Domain Services.  But, sometimes, a Domain Service is the only pragmatic solution and feel free to use them when all else fails.</p>\n<p>The other alternative is to search up &quot;Domain Events&quot;.  They keep a better separation in my view but demands more effort and plumbing.</p>\n<p>Here's a C# introduction, but just as applicable to the world of java.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/domain-events-design-implementation\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/domain-events-design-implementation</a></p>\n"},{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655302864,"creation_date":1655295510,"answer_id":72631263,"question_id":72629588,"body_markdown":"&gt; This solution doesn&#39;t feel right, as preventing duplicate usernames is domain logic, and should not be in the application layer. \r\n\r\nThere are at least two common answers.\r\n\r\nOne is to accept that &quot;domain layer&quot; vs &quot;application layer&quot; is a somewhat artificial distinction, and to not get too hung up on where the branching logic happens.  We&#39;re trying to ship code that meets a business need; we don&#39;t get bonus points for style.\r\n\r\n----\r\n\r\nAnother approach is to separate the act of retrieving some information from the act of deciding what to do with it.\r\n\r\nConsider:\r\n\r\n```\r\npublic UUID createUser(Username username) {\r\n    return createUser(\r\n        UUID.randomUUID(),\r\n        username,\r\n        userRepository.findByName(username).isPresent()\r\n    );\r\n}\r\n\r\nUUID createUser(UUID userId, Username username, boolean isPresent) {\r\n    if (isPresent) {\r\n        throw new DuplicateUsernameException();\r\n    }\r\n\r\n    User user = User.create(userId, username);\r\n    repository.save(user);\r\n    return user.getId();\r\n}\r\n```\r\n\r\nWhat I&#39;m hoping to make clear here is that we actually have two different kinds of problems to address.  The first is that we&#39;d like to separate the I/O side effects from the logic.  The second is that our logic has two different outcomes, and those outcomes are mapped to _different side effects_.\r\n\r\n```\r\n// warning: pseudo code ahead\r\n\r\nselect User.create(userId, username, isPresent)\r\n  case User(u):\r\n     repository.save(u)\r\n     return u.getId() \r\n  case Duplicate:\r\n     throw new DuplicateUsernameException()\r\n```\r\n\r\nIn effect, `User::create` isn&#39;t returning `User`, but rather some sort of `Result` that is an abstraction of all of the different possible outcomes of the create operation.  We want the semantics of a process, rather than a factory.\r\n\r\nSo we probably wouldn&#39;t use the spelling `User::create`, but instead something like `CreateUser::run` or `CreateUser::result`.\r\n\r\nThere are lots of ways you might actually perform the implementation; you could return a discriminated union from the domain code, and then have some flavor of switch statement in the application code, or you could return an interface, with different implementations depending on the result of the domain logic, or....  \r\n\r\nIt largely depends on how important it is that the domain layer is &quot;pure&quot;, how much additional complexity you are willing to take on to get it, including how you feel about testing the designs, which idioms your development team is comfortable with, and so on.\r\n\r\n----\r\n\r\nIt should be noted that one can reasonably argue that the definition of &quot;unique&quot; itself belongs in the domain, rather than in the application.\r\n\r\nIn that case, the design is mostly the same, except that instead of passing &quot;the answer&quot; to the domain code, we pass the capability of asking the question.\r\n\r\n```\r\nselect User.create(\r\n  userId, \r\n  username, \r\n  SomeServiceWrapperAround(\r\n    userRepository::findByName\r\n))\r\n```\r\n\r\nOr we define a protocol, where the domain code returns representations of questions, and the application code does the I/O and passes representations of the answers back to the domain model.\r\n\r\n(and, in my experience, begin questioning whether all this ceremony is actually making the design &quot;better&quot;)\r\n\r\n\r\n\r\n","title":"Should duplicate values in aggregate roots be checked in the domain layer or the application layer?","body":"<blockquote>\n<p>This solution doesn't feel right, as preventing duplicate usernames is domain logic, and should not be in the application layer.</p>\n</blockquote>\n<p>There are at least two common answers.</p>\n<p>One is to accept that &quot;domain layer&quot; vs &quot;application layer&quot; is a somewhat artificial distinction, and to not get too hung up on where the branching logic happens.  We're trying to ship code that meets a business need; we don't get bonus points for style.</p>\n<hr />\n<p>Another approach is to separate the act of retrieving some information from the act of deciding what to do with it.</p>\n<p>Consider:</p>\n<pre><code>public UUID createUser(Username username) {\n    return createUser(\n        UUID.randomUUID(),\n        username,\n        userRepository.findByName(username).isPresent()\n    );\n}\n\nUUID createUser(UUID userId, Username username, boolean isPresent) {\n    if (isPresent) {\n        throw new DuplicateUsernameException();\n    }\n\n    User user = User.create(userId, username);\n    repository.save(user);\n    return user.getId();\n}\n</code></pre>\n<p>What I'm hoping to make clear here is that we actually have two different kinds of problems to address.  The first is that we'd like to separate the I/O side effects from the logic.  The second is that our logic has two different outcomes, and those outcomes are mapped to <em>different side effects</em>.</p>\n<pre><code>// warning: pseudo code ahead\n\nselect User.create(userId, username, isPresent)\n  case User(u):\n     repository.save(u)\n     return u.getId() \n  case Duplicate:\n     throw new DuplicateUsernameException()\n</code></pre>\n<p>In effect, <code>User::create</code> isn't returning <code>User</code>, but rather some sort of <code>Result</code> that is an abstraction of all of the different possible outcomes of the create operation.  We want the semantics of a process, rather than a factory.</p>\n<p>So we probably wouldn't use the spelling <code>User::create</code>, but instead something like <code>CreateUser::run</code> or <code>CreateUser::result</code>.</p>\n<p>There are lots of ways you might actually perform the implementation; you could return a discriminated union from the domain code, and then have some flavor of switch statement in the application code, or you could return an interface, with different implementations depending on the result of the domain logic, or....</p>\n<p>It largely depends on how important it is that the domain layer is &quot;pure&quot;, how much additional complexity you are willing to take on to get it, including how you feel about testing the designs, which idioms your development team is comfortable with, and so on.</p>\n<hr />\n<p>It should be noted that one can reasonably argue that the definition of &quot;unique&quot; itself belongs in the domain, rather than in the application.</p>\n<p>In that case, the design is mostly the same, except that instead of passing &quot;the answer&quot; to the domain code, we pass the capability of asking the question.</p>\n<pre><code>select User.create(\n  userId, \n  username, \n  SomeServiceWrapperAround(\n    userRepository::findByName\n))\n</code></pre>\n<p>Or we define a protocol, where the domain code returns representations of questions, and the application code does the I/O and passes representations of the answers back to the domain model.</p>\n<p>(and, in my experience, begin questioning whether all this ceremony is actually making the design &quot;better&quot;)</p>\n"}],"owner":{"account_id":15572374,"reputation":108,"user_id":12490479,"display_name":"Woutenator"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72631263,"answer_count":2,"score":2,"last_activity_date":1655369683,"creation_date":1655288028,"question_id":72629588,"body_markdown":"I am new to DDD, and I have ran into a problem with unique constraints. I have a problem where one of the fields (a value object) on my aggregate root cannot be a duplicate value. For example, a user has a unique username.\r\n\r\nMy domain layer contains:\r\n\r\n    public class User {\r\n        \r\n        private UUID id;\r\n        private Username username;\r\n\r\n        private User(UUID id, Username username) {\r\n            this.id = id;\r\n            this.username = username;\r\n        }\r\n\r\n        public void rename(Username username) {\r\n            if (!username.equals(username)) {\r\n                this.username = username;\r\n                EventBus.raise(new UserRenamedEvent(username));\r\n            }\r\n        }\r\n\r\n        public UUID getId() {\r\n            return id;\r\n        }\r\n\r\n        public Username getUsername() {\r\n            return username;\r\n        }\r\n\r\n        public static User create(UUID id, Username username) {\r\n            User user = new User(id, username);\r\n            EventBus.raise(new UserCreatedEvent(user));\r\n            return user;\r\n        }\r\n    }\r\n\r\nUsername:\r\n\r\n    public record Username(String name) {\r\n        // Validation on username\r\n    }\r\n\r\nAs well as a simple CRUD repository interface, implemented in the infrastructure layer.\r\n\r\nMy application layer contains:\r\n\r\nUserSerivce:\r\n\r\n    public interface UserService {\r\n\r\n        UUID createUser(Username username);\r\n\r\n        // Get, update and delete functions...\r\n    }\r\n\r\nAnd UserServiceImpl:\r\n\r\n    public class UserServiceImpl implements UserService {\r\n\r\n        public UUID createUser(Username username) {\r\n\r\n            // Repository returns an Optional&lt;User&gt;\r\n            if (userRepository.findByName(username).isPresent()) {\r\n                throw new DuplicateUsernameException();\r\n            }\r\n    \r\n            User user = User.create(UUID.randomUUID(), username);\r\n    \r\n            repsitory.save(user);\r\n    \r\n            return user.getId();\r\n        }\r\n    }\r\n\r\nThis solution doesn&#39;t feel right, as preventing duplicate usernames is domain logic, and should not be in the application layer. I have also tried creating a domain service to check for duplicate usernames, but this also feels wrong as the application service has access to the repository and can do this by itself.\r\n\r\nIf the user was part of an aggregate I would do the validation at the aggregate root level, but as user is the aggregate this isn&#39;t possible. I would really like to know the best place to validate the unique constraint.\r\n\r\n\r\n\r\n\r\nEDIT: I decided to take VoiceOfUnreasons advice and not worry about it too much. I put the logic to check for duplicates in the application service, as it makes for readable code and works as expected.","title":"Should duplicate values in aggregate roots be checked in the domain layer or the application layer?","body":"<p>I am new to DDD, and I have ran into a problem with unique constraints. I have a problem where one of the fields (a value object) on my aggregate root cannot be a duplicate value. For example, a user has a unique username.</p>\n<p>My domain layer contains:</p>\n<pre><code>public class User {\n    \n    private UUID id;\n    private Username username;\n\n    private User(UUID id, Username username) {\n        this.id = id;\n        this.username = username;\n    }\n\n    public void rename(Username username) {\n        if (!username.equals(username)) {\n            this.username = username;\n            EventBus.raise(new UserRenamedEvent(username));\n        }\n    }\n\n    public UUID getId() {\n        return id;\n    }\n\n    public Username getUsername() {\n        return username;\n    }\n\n    public static User create(UUID id, Username username) {\n        User user = new User(id, username);\n        EventBus.raise(new UserCreatedEvent(user));\n        return user;\n    }\n}\n</code></pre>\n<p>Username:</p>\n<pre><code>public record Username(String name) {\n    // Validation on username\n}\n</code></pre>\n<p>As well as a simple CRUD repository interface, implemented in the infrastructure layer.</p>\n<p>My application layer contains:</p>\n<p>UserSerivce:</p>\n<pre><code>public interface UserService {\n\n    UUID createUser(Username username);\n\n    // Get, update and delete functions...\n}\n</code></pre>\n<p>And UserServiceImpl:</p>\n<pre><code>public class UserServiceImpl implements UserService {\n\n    public UUID createUser(Username username) {\n\n        // Repository returns an Optional&lt;User&gt;\n        if (userRepository.findByName(username).isPresent()) {\n            throw new DuplicateUsernameException();\n        }\n\n        User user = User.create(UUID.randomUUID(), username);\n\n        repsitory.save(user);\n\n        return user.getId();\n    }\n}\n</code></pre>\n<p>This solution doesn't feel right, as preventing duplicate usernames is domain logic, and should not be in the application layer. I have also tried creating a domain service to check for duplicate usernames, but this also feels wrong as the application service has access to the repository and can do this by itself.</p>\n<p>If the user was part of an aggregate I would do the validation at the aggregate root level, but as user is the aggregate this isn't possible. I would really like to know the best place to validate the unique constraint.</p>\n<p>EDIT: I decided to take VoiceOfUnreasons advice and not worry about it too much. I put the logic to check for duplicates in the application service, as it makes for readable code and works as expected.</p>\n"},{"tags":["java","maven-2","emacs","ide"],"comments":[{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1278164158,"post_id":3147361,"comment_id":3263247,"body_markdown":"As a note, NetBeans supports Maven pretty well in my opinion. I don&#39;t know why you&#39;re saying it doesn&#39;t.","body":"As a note, NetBeans supports Maven pretty well in my opinion. I don&#39;t know why you&#39;re saying it doesn&#39;t."},{"owner":{"account_id":47528,"reputation":7722,"user_id":140837,"accept_rate":72,"display_name":"amirouche"},"score":0,"creation_date":1278166121,"post_id":3147361,"comment_id":3263371,"body_markdown":"@Pascal Thivent, short answer: pom.xml should be the unique configuration file in a maven project.","body":"@Pascal Thivent, short answer: pom.xml should be the unique configuration file in a maven project."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1278167379,"post_id":3147361,"comment_id":3263432,"body_markdown":"I don&#39;t understand the short answer.","body":"I don&#39;t understand the short answer."},{"owner":{"account_id":47528,"reputation":7722,"user_id":140837,"accept_rate":72,"display_name":"amirouche"},"score":0,"creation_date":1278242898,"post_id":3147361,"comment_id":3266913,"body_markdown":"what the use of having a separate configuration file called nbactions.xml when it can be in the pom.xml ? I use maven, for automatic dependency fetching &amp; IDE agnosticism.","body":"what the use of having a separate configuration file called nbactions.xml when it can be in the pom.xml ? I use maven, for automatic dependency fetching &amp; IDE agnosticism."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1278638575,"post_id":3147361,"comment_id":3308579,"body_markdown":"You don&#39;t need that file when using Maven with NetBeans. At least, I don&#39;t (and I&#39;m well aware of Maven benefits).","body":"You don&#39;t need that file when using Maven with NetBeans. At least, I don&#39;t (and I&#39;m well aware of Maven benefits)."}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655368956,"creation_date":1277884996,"answer_id":3147420,"question_id":3147361,"body_markdown":"For Maven look to ede-proj-maven2 (inherited from ede-generic) in current CEDET from CVS.  It&#39;s simple, but does some job.  I plan to look to it in the near future, because I use Maven very often with Clojure.","title":"How to use emacs as my JAVA IDE?","body":"<p>For Maven look to ede-proj-maven2 (inherited from ede-generic) in current CEDET from CVS.  It's simple, but does some job.  I plan to look to it in the near future, because I use Maven very often with Clojure.</p>\n"},{"tags":[],"owner":{"account_id":110128,"reputation":55940,"user_id":291550,"accept_rate":90,"display_name":"Bozhidar Batsov"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1277894266,"creation_date":1277894266,"answer_id":3148398,"question_id":3147361,"body_markdown":"I recommend you to use [malabar-mode][1] instead of JDEE - malabar is the only modern mode for Java development currently available for Emacs. It offers:\r\n\r\n- Tight integration with Maven\r\n\r\n- A Groovy console for rapid prototyping and exploratory programming\r\n\r\n- JUnit integration, both for running tests standalone and through Maven\r\n\r\n- Import help; import one class or all needed classes in the buffer (with prompting if the class name is ambiguous)\r\n\r\n- Extend class / implement interface / override method helpers\r\n\r\n- Simplistic refactorings\r\n\r\n\r\n  [1]: http://github.com/espenhw/malabar-mode","title":"How to use emacs as my JAVA IDE?","body":"<p>I recommend you to use <a href=\"http://github.com/espenhw/malabar-mode\" rel=\"noreferrer\">malabar-mode</a> instead of JDEE - malabar is the only modern mode for Java development currently available for Emacs. It offers:</p>\n\n<ul>\n<li><p>Tight integration with Maven</p></li>\n<li><p>A Groovy console for rapid prototyping and exploratory programming</p></li>\n<li><p>JUnit integration, both for running tests standalone and through Maven</p></li>\n<li><p>Import help; import one class or all needed classes in the buffer (with prompting if the class name is ambiguous)</p></li>\n<li><p>Extend class / implement interface / override method helpers</p></li>\n<li><p>Simplistic refactorings</p></li>\n</ul>\n"}],"owner":{"account_id":47528,"reputation":7722,"user_id":140837,"accept_rate":72,"display_name":"amirouche"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12817,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":3148398,"answer_count":2,"score":23,"last_activity_date":1655368956,"creation_date":1277884365,"question_id":3147361,"body_markdown":"I would like to use emacs instead of Netbeans which gets too bloated on my computer. I already have JDEE, I did not dig it, but it looks like it lacks:\r\n\r\n - Classes testing : run a class which has a main method, but which is not the main class of the project\r\n - Maven integration : this is a minor wish as Netbeans doesn&#39;t support maven that well too.\r\n\r\n","title":"How to use emacs as my JAVA IDE?","body":"<p>I would like to use emacs instead of Netbeans which gets too bloated on my computer. I already have JDEE, I did not dig it, but it looks like it lacks:</p>\n\n<ul>\n<li>Classes testing : run a class which has a main method, but which is not the main class of the project</li>\n<li>Maven integration : this is a minor wish as Netbeans doesn't support maven that well too.</li>\n</ul>\n"},{"tags":["java","cryptography","public-key-encryption","encryption"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":3,"creation_date":1339848621,"post_id":11063255,"comment_id":14477224,"body_markdown":"Are you sure the whole file is encrypted with RSA? That is very uncommon (too slow). Usually hybrid encryption for example with AES is used for file (encrypt file with random AES key and then encrypt the AES key with RSA).","body":"Are you sure the whole file is encrypted with RSA? That is very uncommon (too slow). Usually hybrid encryption for example with AES is used for file (encrypt file with random AES key and then encrypt the AES key with RSA)."},{"owner":{"account_id":60903,"reputation":46025,"user_id":181772,"accept_rate":96,"display_name":"andrew cooke"},"score":1,"creation_date":1339851063,"post_id":11063255,"comment_id":14477734,"body_markdown":"are you *sure* the file you are reading exists and contains data?","body":"are you <i>sure</i> the file you are reading exists and contains data?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1339874017,"post_id":11063255,"comment_id":14482245,"body_markdown":"An RSA Cipher instance will only encrypt or decrypt *one* block no matter how much data you have. That is why that one block typically contains a symmetric encryption key such as an AES key.","body":"An RSA Cipher instance will only encrypt or decrypt <i>one</i> block no matter how much data you have. That is why that one block typically contains a symmetric encryption key such as an AES key."},{"owner":{"account_id":1337965,"reputation":1537,"user_id":1280229,"accept_rate":58,"display_name":"Bathakarai"},"score":0,"creation_date":1339990892,"post_id":11063255,"comment_id":14499891,"body_markdown":"Hi Andrew,     I check the encrypted file, yes it is created with in encrypted contents.","body":"Hi Andrew,     I check the encrypted file, yes it is created with in encrypted contents."}],"answers":[{"tags":[],"owner":{"account_id":955548,"reputation":3469,"user_id":980922,"accept_rate":62,"display_name":"imichaelmiers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1340239720,"creation_date":1340239720,"answer_id":11130169,"question_id":11063255,"body_markdown":"Your file is almost certainly not RSA encrypted. Its probably encrypted with AES under a random symmetric key and the key is then encrypted with RSA.\r\n\r\nYou are assuming someone actually encrypted the entire file using just RSA. Assuming the implementation even lets you do this (i&#39;ve seen ones that throw exceptions when one tries this), it would be way way way too slow to do anything useful.  ","title":"Decrypt the encrypted file content?","body":"<p>Your file is almost certainly not RSA encrypted. Its probably encrypted with AES under a random symmetric key and the key is then encrypted with RSA.</p>\n\n<p>You are assuming someone actually encrypted the entire file using just RSA. Assuming the implementation even lets you do this (i've seen ones that throw exceptions when one tries this), it would be way way way too slow to do anything useful.  </p>\n"}],"owner":{"account_id":1337965,"reputation":1537,"user_id":1280229,"accept_rate":58,"display_name":"Bathakarai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":11130169,"answer_count":1,"score":6,"last_activity_date":1655368538,"creation_date":1339848299,"question_id":11063255,"body_markdown":"I am having a problem decrypting a file using RSA public key decryption. My process is to receive the xml file, encrypt the content, and write it back to the same file. Another function decrypts the content. My source code is:\r\n\r\n    public void decryptFile(String fileName,PrivateKey privateKey) throws Exception {\r\n\t\tCipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n\t\tcipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\t\tFileInputStream fis = new FileInputStream(fileName);\r\n\t\tFile file=new File(&quot;decryptedfile.xml&quot;);\r\n\t\tif(file.exists()) {\r\n\t\t\tfile.delete();\r\n\t\t}\r\n                FileOutputStream fos = new FileOutputStream(&quot;decryptedfile.xml&quot;);\r\n\t\tCipherInputStream cis = new CipherInputStream(fis, cipher);\r\n\t\tint i;\r\n\t\tbyte[] block = new byte[32];\r\n\t\t//System.out.println(&quot;Read : &quot;+cis.read(block));\r\n\t\twhile ((i = cis.read(block)) != -1) {\r\n\t\t\tSystem.out.println(String.valueOf(i));\r\n\t\t\tfos.write(block, 0, i);\r\n\t\t}\r\n\t\tfos.close();\r\n\t}\r\n\r\n\r\nI just pass in the name of the encrypted file, and the corresponding private key value, into the function. However the `cis.read(block)` returns -1 on the first attempt. Can anyone suggest how I can decrypt the encrypted file?","title":"Decrypt the encrypted file content?","body":"<p>I am having a problem decrypting a file using RSA public key decryption. My process is to receive the xml file, encrypt the content, and write it back to the same file. Another function decrypts the content. My source code is:</p>\n\n<pre><code>public void decryptFile(String fileName,PrivateKey privateKey) throws Exception {\n    Cipher cipher = Cipher.getInstance(\"RSA/ECB/PKCS1Padding\");\n    cipher.init(Cipher.DECRYPT_MODE, privateKey);\n    FileInputStream fis = new FileInputStream(fileName);\n    File file=new File(\"decryptedfile.xml\");\n    if(file.exists()) {\n        file.delete();\n    }\n            FileOutputStream fos = new FileOutputStream(\"decryptedfile.xml\");\n    CipherInputStream cis = new CipherInputStream(fis, cipher);\n    int i;\n    byte[] block = new byte[32];\n    //System.out.println(\"Read : \"+cis.read(block));\n    while ((i = cis.read(block)) != -1) {\n        System.out.println(String.valueOf(i));\n        fos.write(block, 0, i);\n    }\n    fos.close();\n}\n</code></pre>\n\n<p>I just pass in the name of the encrypted file, and the corresponding private key value, into the function. However the <code>cis.read(block)</code> returns -1 on the first attempt. Can anyone suggest how I can decrypt the encrypted file?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1655367652,"post_id":72642626,"comment_id":128317341,"body_markdown":"*&quot;I tried with groupingby wiht sorting buts somehow never worked.&quot;* please [edit] your question to include your attempts (especially the group-by one) so we can work from there.","body":"<i>&quot;I tried with groupingby wiht sorting buts somehow never worked.&quot;</i> please <a href=\"https://stackoverflow.com/posts/72642626/edit\">edit</a> your question to include your attempts (especially the group-by one) so we can work from there."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655368263,"creation_date":1655368263,"answer_id":72642761,"question_id":72642626,"body_markdown":"In the second parameter of `groupingBy`, you can transform `List&lt;Person&gt;` to `List&lt;String&gt;` using `mapping`:\r\n```java\r\nvar peopleStream = people.stream()\r\n        .collect(groupingBy(Person::getFirstName,\r\n                mapping(Person::getLastName, Collectors.toList())));\r\n```","title":"Map example in java","body":"<p>In the second parameter of <code>groupingBy</code>, you can transform <code>List&lt;Person&gt;</code> to <code>List&lt;String&gt;</code> using <code>mapping</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var peopleStream = people.stream()\n        .collect(groupingBy(Person::getFirstName,\n                mapping(Person::getLastName, Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655368351,"creation_date":1655368351,"answer_id":72642779,"question_id":72642626,"body_markdown":"You can implement it easily with a lambda function.\r\n\r\n```\r\nstatic Map&lt;String, List&lt;String&gt;&gt; lastnamesByFirstname(List&lt;Person&gt; people){\r\n        people.stream()\r\n              .collect(Collectors.groupingBy(Person::getFirstName, // Get first name as key of the map\r\n                  Collectors.mapping(\r\n                      Person::getLastName, //Get lastName as value of the list\r\n                      Collectors.toList()))); //Specify that you want to collect as a list.\r\n}\r\n```","title":"Map example in java","body":"<p>You can implement it easily with a lambda function.</p>\n<pre><code>static Map&lt;String, List&lt;String&gt;&gt; lastnamesByFirstname(List&lt;Person&gt; people){\n        people.stream()\n              .collect(Collectors.groupingBy(Person::getFirstName, // Get first name as key of the map\n                  Collectors.mapping(\n                      Person::getLastName, //Get lastName as value of the list\n                      Collectors.toList()))); //Specify that you want to collect as a list.\n}\n</code></pre>\n"}],"owner":{"account_id":22311851,"reputation":23,"user_id":16535731,"display_name":"Viktor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1655387202,"accepted_answer_id":72642761,"answer_count":2,"score":-1,"last_activity_date":1655368351,"creation_date":1655367584,"question_id":72642626,"body_markdown":"I would like to write lastnamesByFirstname method.\r\nIn the people lists, there are bunch of people, and each person have two field the firstname and the second name. I would like to write a method which will turn back in the following way, key value would be the firstname, and the value list would be those name which firstnames are the same. I tried with groupingby wiht sorting buts somehow never worked. \r\n\r\n    * {\r\n         *  &quot;Mary&quot; -&gt; [&quot;Smith&quot;, &quot;Silver&quot;]\r\n         *  &quot;Joe&quot; -&gt; [&quot;Smith&quot;]\r\n         * }\r\n         */\r\n        static Map&lt;String, List&lt;String&gt;&gt; lastnamesByFirstname(List&lt;Person&gt; people){\r\n            \r\n    }\r\n\r\nmy attempt look like this, but the type would be not matching with the return type.\r\n\r\n\r\n\r\n    var peopleStream= people.stream()\r\n                    .collect(groupingBy(Person::getFirstName));","title":"Map example in java","body":"<p>I would like to write lastnamesByFirstname method.\nIn the people lists, there are bunch of people, and each person have two field the firstname and the second name. I would like to write a method which will turn back in the following way, key value would be the firstname, and the value list would be those name which firstnames are the same. I tried with groupingby wiht sorting buts somehow never worked.</p>\n<pre><code>* {\n     *  &quot;Mary&quot; -&gt; [&quot;Smith&quot;, &quot;Silver&quot;]\n     *  &quot;Joe&quot; -&gt; [&quot;Smith&quot;]\n     * }\n     */\n    static Map&lt;String, List&lt;String&gt;&gt; lastnamesByFirstname(List&lt;Person&gt; people){\n        \n}\n</code></pre>\n<p>my attempt look like this, but the type would be not matching with the return type.</p>\n<pre><code>var peopleStream= people.stream()\n                .collect(groupingBy(Person::getFirstName));\n</code></pre>\n"},{"tags":["java","spring","validation","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1460972579,"creation_date":1460972579,"answer_id":36690424,"question_id":36674794,"body_markdown":"I&#39;d argue checking the collection for emptiness beforehand is the way to go here because in that particular case there&#39;s no need to even execute the database query.\r\n\r\nI guess one could argue that MariaDB could be less picky about the empty collection being passed to the query but I guess they consider it an application level error. You can find arguments for both sides of the story here.\r\n\r\nThat said, if you want to check the parameter inside the method, you&#39;ll have to resort to a custom implementation method as described in the [reference documentation][1].\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behaviour","title":"Validate collection is not empty in Spring Data query parameter","body":"<p>I'd argue checking the collection for emptiness beforehand is the way to go here because in that particular case there's no need to even execute the database query.</p>\n\n<p>I guess one could argue that MariaDB could be less picky about the empty collection being passed to the query but I guess they consider it an application level error. You can find arguments for both sides of the story here.</p>\n\n<p>That said, if you want to check the parameter inside the method, you'll have to resort to a custom implementation method as described in the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behaviour\" rel=\"nofollow\">reference documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":1767679,"reputation":11,"user_id":1613126,"display_name":"sangho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655368312,"creation_date":1655368312,"answer_id":72642769,"question_id":36674794,"body_markdown":"You might use it like this.\r\n```\r\nfindSomethingsByValIn(@Param(&quot;values&quot;) Collection&lt;@Size(min = 1) Long&gt; values);\r\n```\r\n\r\n\r\n","title":"Validate collection is not empty in Spring Data query parameter","body":"<p>You might use it like this.</p>\n<pre><code>findSomethingsByValIn(@Param(&quot;values&quot;) Collection&lt;@Size(min = 1) Long&gt; values);\n</code></pre>\n"}],"owner":{"account_id":5774113,"reputation":3086,"user_id":4556720,"accept_rate":96,"display_name":"ytterrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36690424,"answer_count":2,"score":2,"last_activity_date":1655368312,"creation_date":1460885160,"question_id":36674794,"body_markdown":"Let&#39;s say I have a Spring Data repository with query method\r\n\r\n    public interface SomeRepository extends JpaRepository&lt;Something, Long&gt; {\r\n    \r\n        @Query(&quot;select s from Something s where s.val in :values&quot;)\r\n        List&lt;Something&gt; findSomethingsByValIn(@Param(&quot;values&quot;) Collection&lt;Long&gt; values);\r\n    }\r\nWhen passed Collection of values is empty, I&#39;ve got\r\n\r\n    SQL Error: 1064, SQL State: 42000\r\n    You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;))&#39; at line 1\r\nbecause of something like\r\n\r\n    Hibernate: select something0_ as col_0_0_ from Something something0_ where something0_.val in ())\r\n\r\nOf course, I could easily check passed parameter before method calling. And I even could describe it in javadoc. But is it possible to validate argument inside query method? ","title":"Validate collection is not empty in Spring Data query parameter","body":"<p>Let's say I have a Spring Data repository with query method</p>\n\n<pre><code>public interface SomeRepository extends JpaRepository&lt;Something, Long&gt; {\n\n    @Query(\"select s from Something s where s.val in :values\")\n    List&lt;Something&gt; findSomethingsByValIn(@Param(\"values\") Collection&lt;Long&gt; values);\n}\n</code></pre>\n\n<p>When passed Collection of values is empty, I've got</p>\n\n<pre><code>SQL Error: 1064, SQL State: 42000\nYou have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '))' at line 1\n</code></pre>\n\n<p>because of something like</p>\n\n<pre><code>Hibernate: select something0_ as col_0_0_ from Something something0_ where something0_.val in ())\n</code></pre>\n\n<p>Of course, I could easily check passed parameter before method calling. And I even could describe it in javadoc. But is it possible to validate argument inside query method? </p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":3,"creation_date":1655366507,"post_id":72642302,"comment_id":128316964,"body_markdown":"`V` is a type argument that is not available as a variable or type. Java doesn&#39;t have reified generics and it is difficult-to-impossible to find out what V is at runtime. A workaround is to ask the programmer to provide a generic class as the parameter: `&lt;S&gt; S myGenericMethod(Class&lt;V&gt; clazz)`.","body":"<code>V</code> is a type argument that is not available as a variable or type. Java doesn&#39;t have reified generics and it is difficult-to-impossible to find out what V is at runtime. A workaround is to ask the programmer to provide a generic class as the parameter: <code>&lt;S&gt; S myGenericMethod(Class&lt;V&gt; clazz)</code>."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1655366558,"post_id":72642302,"comment_id":128316982,"body_markdown":"You&#39;re replacing the `S` of the interface, with an unrelated `S` for the generic method. Did you mean `S myGenericMethod(...)` instead (so without the `&lt;S&gt;` on the method definition)? Also, it is not really clear to me what you&#39;re trying to achieve here.","body":"You&#39;re replacing the <code>S</code> of the interface, with an unrelated <code>S</code> for the generic method. Did you mean <code>S myGenericMethod(...)</code> instead (so without the <code>&lt;S&gt;</code> on the method definition)? Also, it is not really clear to me what you&#39;re trying to achieve here."},{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":1,"creation_date":1655367787,"post_id":72642302,"comment_id":128317383,"body_markdown":"Fo me it is obvious that you try to &quot;solve some problem&quot;/&quot;design some functionality&quot; in wrong way, that&#39;s why you run into these weird problems. But there is not enough information on what functionality you want to achieve. Please explain what you need then probably you will get the right answer with the right solution.","body":"Fo me it is obvious that you try to &quot;solve some problem&quot;/&quot;design some functionality&quot; in wrong way, that&#39;s why you run into these weird problems. But there is not enough information on what functionality you want to achieve. Please explain what you need then probably you will get the right answer with the right solution."},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1655368476,"post_id":72642302,"comment_id":128317593,"body_markdown":"@MarkRotteveel, you&#39;re right, I&#39;ve mistaken. Edited the code, thank you. In my case, `myGenericMethod` implementation uses Jackson to convert object to a certain class, which differs in the interface implementations.","body":"@MarkRotteveel, you&#39;re right, I&#39;ve mistaken. Edited the code, thank you. In my case, <code>myGenericMethod</code> implementation uses Jackson to convert object to a certain class, which differs in the interface implementations."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":1,"creation_date":1655393505,"post_id":72642302,"comment_id":128326664,"body_markdown":"A class (`Class&lt;T&gt;`) and a type (`&lt;V&gt;`) are not the same thing. A class _has_ a type, but _isn&#39;t itself_ a type. Types are compile-time only; gone by the time you actually run the program, so you will not be able to convert `&lt;V&gt;` into a `Class` at runtime.","body":"A class (<code>Class&lt;T&gt;</code>) and a type (<code>&lt;V&gt;</code>) are not the same thing. A class <i>has</i> a type, but <i>isn&#39;t itself</i> a type. Types are compile-time only; gone by the time you actually run the program, so you will not be able to convert <code>&lt;V&gt;</code> into a <code>Class</code> at runtime."}],"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1655704620,"answer_count":0,"score":2,"last_activity_date":1655367977,"creation_date":1655365976,"question_id":72642302,"body_markdown":"I have an interface, parametrized by `&lt;V&gt;` and would like to pass the type parameter to a method like this:\r\n\r\n```java\r\npublic interface MyInterface&lt;V extends BaseClass&gt; {\r\n\r\n  &lt;T&gt; T myGenericMethod(Class&lt;T&gt; clazz);\r\n\r\n  default void run() {\r\n    ...\r\n    String s = ((BaseClass) myGenericMethod(V)).getStringValue(); // &lt;- V can not be resolved to a variable\r\n    ...\r\n  }\r\n\r\n}\r\n```\r\n\r\nAs a workaround I use now method, returning the class, which I&#39;d like to avoid:\r\n```\r\nClass&lt;?&gt; getType();\r\n```\r\n\r\n","title":"How to pass a type parameter from the generic interface to a generic method?","body":"<p>I have an interface, parametrized by <code>&lt;V&gt;</code> and would like to pass the type parameter to a method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyInterface&lt;V extends BaseClass&gt; {\n\n  &lt;T&gt; T myGenericMethod(Class&lt;T&gt; clazz);\n\n  default void run() {\n    ...\n    String s = ((BaseClass) myGenericMethod(V)).getStringValue(); // &lt;- V can not be resolved to a variable\n    ...\n  }\n\n}\n</code></pre>\n<p>As a workaround I use now method, returning the class, which I'd like to avoid:</p>\n<pre><code>Class&lt;?&gt; getType();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","uri","uribuilder"],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655367757,"creation_date":1655367757,"answer_id":72642659,"question_id":72642586,"body_markdown":"To replace placeholder with a real value, you need to call `build` with parameters\r\n\r\n```java\r\n    String url = &quot;http://example.com/{id}&quot;;\r\n\r\n    UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url);\r\n    URI uri = builder.build(&quot;12&quot;);\r\n\r\n    System.out.println(uri);\r\n```\r\n","title":"how to use UriComponentsBuilder for replacing pathsegment","body":"<p>To replace placeholder with a real value, you need to call <code>build</code> with parameters</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String url = &quot;http://example.com/{id}&quot;;\n\n    UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url);\n    URI uri = builder.build(&quot;12&quot;);\n\n    System.out.println(uri);\n</code></pre>\n"}],"owner":{"account_id":7040066,"reputation":350,"user_id":5392822,"display_name":"Aniket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72642659,"answer_count":1,"score":1,"last_activity_date":1655367757,"creation_date":1655367414,"question_id":72642586,"body_markdown":"I have a url as below\r\n```\r\nhttp://example.com/{id}\r\n```\r\nI want to change it to \r\n```\r\nhttp://example.com/12\r\n```\r\n\r\nI have coded as below\r\n```\r\nurl= &quot;http://example.com/{id}&quot;;\r\n\r\nUriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url);\r\nbuilder.pathSegment(&quot;{id}&quot;, &quot;12&quot;);\r\nUriComponents uriComponents = builder.build().encode();\r\nURI uri = uriComponents.toUri();\r\n\r\nSystem.out.println(uri);\r\n```\r\n\r\n\r\nIts giving me output as\r\n```\r\nhttp://example.com/%7Bid%7D/id/12\r\n```\r\n\r\n\r\nNot sure what is right way to use UriComponentsBuilder\r\n\r\n","title":"how to use UriComponentsBuilder for replacing pathsegment","body":"<p>I have a url as below</p>\n<pre><code>http://example.com/{id}\n</code></pre>\n<p>I want to change it to</p>\n<pre><code>http://example.com/12\n</code></pre>\n<p>I have coded as below</p>\n<pre><code>url= &quot;http://example.com/{id}&quot;;\n\nUriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url);\nbuilder.pathSegment(&quot;{id}&quot;, &quot;12&quot;);\nUriComponents uriComponents = builder.build().encode();\nURI uri = uriComponents.toUri();\n\nSystem.out.println(uri);\n</code></pre>\n<p>Its giving me output as</p>\n<pre><code>http://example.com/%7Bid%7D/id/12\n</code></pre>\n<p>Not sure what is right way to use UriComponentsBuilder</p>\n"},{"tags":["java","command","processbuilder"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1655368200,"post_id":72642629,"comment_id":128317524,"body_markdown":"` error = 2 , No such file or directory` means the executable `sonar-scanner` is not in path. if you want to execute a which is in the current folder you should use `./sonar-scanner` and make sure that the user has execute permission on the file.","body":"` error = 2 , No such file or directory` means the executable <code>sonar-scanner</code> is not in path. if you want to execute a which is in the current folder you should use <code>.&#47;sonar-scanner</code> and make sure that the user has execute permission on the file."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655368217,"post_id":72642629,"comment_id":128317530,"body_markdown":"Wrong directory capitalization on Linux? Did you try `ls` on that path string?","body":"Wrong directory capitalization on Linux? Did you try <code>ls</code> on that path string?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655368677,"post_id":72642629,"comment_id":128317669,"body_markdown":"Also you might be overwriting the constructor args of `sh -c` with `pb.command(lista);`? https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/ProcessBuilder.java#L238","body":"Also you might be overwriting the constructor args of <code>sh -c</code> with <code>pb.command(lista);</code>? <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/lang/ProcessBuilder.java#L238\" rel=\"nofollow noreferrer\">github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/&hellip;</a>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1655369839,"post_id":72642629,"comment_id":128318082,"body_markdown":"Maybe the sonarscanner file does not have the exxecutable bit set? This could be a problem after an installer simply unzipped the files on Unix.","body":"Maybe the sonarscanner file does not have the exxecutable bit set? This could be a problem after an installer simply unzipped the files on Unix."},{"owner":{"account_id":13493382,"reputation":1,"user_id":9734907,"display_name":"Andrea Chirigu"},"score":2,"creation_date":1655375140,"post_id":72642629,"comment_id":128319919,"body_markdown":"@akarnokd adding `sh` to the lista solved the problem. a thousand thanks","body":"@akarnokd adding <code>sh</code> to the lista solved the problem. a thousand thanks"}],"owner":{"account_id":13493382,"reputation":1,"user_id":9734907,"display_name":"Andrea Chirigu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655367597,"creation_date":1655367597,"question_id":72642629,"body_markdown":"I&#39;m trying to run a command on machines that can be windows or mac.\r\non windows it works.\r\non linux it returns me the following error:\r\n\r\n&gt; Cannot run program &quot;sonar-scanner&quot; (in directory &quot;/ var /\r\n&gt; cloudbees-change / workspace / cmga0 / Application /\r\n&gt; nfbe0_core-factoring-practices-v1 / sonar-execution / sonarScanner /\r\n&gt; bin&quot;): error = 2 , No such file or directory\r\n\r\nthe sonar-scanner file exists in that path, but the process builder cannot run it.\r\n\r\nthe code i am using is the following:\r\n\r\n    String jarPath = utility.findJarLocation();\r\n    String sonarScannerCommand = &quot;&quot;;\r\n    ProcessBuilder pb = null;\r\n    ArrayList&lt;String&gt; lista = new ArrayList&lt;&gt;();\r\n    if (parameters.getSistemaOperativo().equals(&quot;w&quot;)) { // if windows\r\n    \tpb = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;);\r\n    \tpb.directory(new File(jarPath + &quot;/sonarScanner/bin&quot;));\r\n    \tlista.add(&quot;sonar-scanner.bat&quot;);\r\n    } else if (parameters.getSistemaOperativo().equals(&quot;l&quot;)) {// if linux\r\n    \tpb = new ProcessBuilder(&quot;sh&quot;, &quot;-c&quot;);\r\n    \tpb.directory(new File(jarPath + &quot;/sonarScanner/bin&quot;));\r\n    \tlista.add(&quot;sonar-scanner&quot;);\r\n    } else if (parameters.getSistemaOperativo().equals(&quot;m&quot;)) {// if mac\r\n    \tpb = new ProcessBuilder(&quot;sh&quot;, &quot;-c&quot;);\r\n    \tpb.directory(new File(jarPath + &quot;/sonarScanner/bin&quot;));\r\n    \tlista.add(&quot;sonar-scanner&quot;);\r\n    }\r\n    \r\n    sonarScannerCommand = parameters.getSonarScannerParameters();\r\n    String[] split = sonarScannerCommand.trim().split(&quot; &quot;);\r\n    \r\n    for (String string : split) {\r\n    \tlista.add(string);\r\n    }\r\n    \r\n    pb.command(lista);\r\n    pb.redirectErrorStream(true);\r\n    Process pr = pb.start();\r\n    \t\r\n    public String findJarLocation() throws URISyntaxException {\r\n    \tString jarPath = Utility.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath();\r\n    \tString jarName = jarPath.substring(jarPath.lastIndexOf(&quot;/&quot;) + 1);\r\n    \tString[] split = jarPath.split(jarName);\r\n    \treturn split[0];\r\n    }\r\n\r\nis it a path problem? do i need to add some information to the proccess builder in case the machine is linux?\r\n\r\nA thousand thanks","title":"ProcessBuilder on Linux : error=2, No such file or directory","body":"<p>I'm trying to run a command on machines that can be windows or mac.\non windows it works.\non linux it returns me the following error:</p>\n<blockquote>\n<p>Cannot run program &quot;sonar-scanner&quot; (in directory &quot;/ var /\ncloudbees-change / workspace / cmga0 / Application /\nnfbe0_core-factoring-practices-v1 / sonar-execution / sonarScanner /\nbin&quot;): error = 2 , No such file or directory</p>\n</blockquote>\n<p>the sonar-scanner file exists in that path, but the process builder cannot run it.</p>\n<p>the code i am using is the following:</p>\n<pre><code>String jarPath = utility.findJarLocation();\nString sonarScannerCommand = &quot;&quot;;\nProcessBuilder pb = null;\nArrayList&lt;String&gt; lista = new ArrayList&lt;&gt;();\nif (parameters.getSistemaOperativo().equals(&quot;w&quot;)) { // if windows\n    pb = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;);\n    pb.directory(new File(jarPath + &quot;/sonarScanner/bin&quot;));\n    lista.add(&quot;sonar-scanner.bat&quot;);\n} else if (parameters.getSistemaOperativo().equals(&quot;l&quot;)) {// if linux\n    pb = new ProcessBuilder(&quot;sh&quot;, &quot;-c&quot;);\n    pb.directory(new File(jarPath + &quot;/sonarScanner/bin&quot;));\n    lista.add(&quot;sonar-scanner&quot;);\n} else if (parameters.getSistemaOperativo().equals(&quot;m&quot;)) {// if mac\n    pb = new ProcessBuilder(&quot;sh&quot;, &quot;-c&quot;);\n    pb.directory(new File(jarPath + &quot;/sonarScanner/bin&quot;));\n    lista.add(&quot;sonar-scanner&quot;);\n}\n\nsonarScannerCommand = parameters.getSonarScannerParameters();\nString[] split = sonarScannerCommand.trim().split(&quot; &quot;);\n\nfor (String string : split) {\n    lista.add(string);\n}\n\npb.command(lista);\npb.redirectErrorStream(true);\nProcess pr = pb.start();\n    \npublic String findJarLocation() throws URISyntaxException {\n    String jarPath = Utility.class.getProtectionDomain().getCodeSource().getLocation().toURI().getPath();\n    String jarName = jarPath.substring(jarPath.lastIndexOf(&quot;/&quot;) + 1);\n    String[] split = jarPath.split(jarName);\n    return split[0];\n}\n</code></pre>\n<p>is it a path problem? do i need to add some information to the proccess builder in case the machine is linux?</p>\n<p>A thousand thanks</p>\n"},{"tags":["java","android","android-intent","android-sensors"],"answers":[{"tags":[],"owner":{"account_id":10384505,"reputation":571,"user_id":10160890,"display_name":"axel7083"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655367053,"creation_date":1655367053,"answer_id":72642515,"question_id":72642282,"body_markdown":"For any kind of service, you can communicate between  your activity and the service using intents or binding. More about it [here](https://developer.android.com/guide/components/services)\r\n\r\n## Foreground service\r\n\r\n&gt; A foreground service performs some operation that is noticeable to the\r\n&gt; user.\r\n\r\nA foreground service will display a notification to the user, showing that something is happening, here your measurements. Learn more about it [here](https://developer.android.com/guide/components/foreground-services).\r\n\r\nYou could for instance, allowing the user to stop the measurements from the notification.\r\n\r\n\r\n## Background service\r\n\r\n&gt; A background service performs an operation that isn&#39;t directly noticed\r\n&gt; by the user.\r\n\r\nIf you do not want your user to know that you are making measurements, then a background service could be used.\r\n\r\nHowever, since Android 8.0 serious restrictions are made on the usage of Background services, making it hard to use.\r\n\r\n## WorkManager Tasks\r\n\r\nA more recent approach would be to create a task, which can be periodic if you need to repeat your measurements, or one time only using the WorkManager. More about it [here](https://developer.android.com/topic/libraries/architecture/workmanager).","title":"Application run in background and UI also","body":"<p>For any kind of service, you can communicate between  your activity and the service using intents or binding. More about it <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">here</a></p>\n<h2>Foreground service</h2>\n<blockquote>\n<p>A foreground service performs some operation that is noticeable to the\nuser.</p>\n</blockquote>\n<p>A foreground service will display a notification to the user, showing that something is happening, here your measurements. Learn more about it <a href=\"https://developer.android.com/guide/components/foreground-services\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You could for instance, allowing the user to stop the measurements from the notification.</p>\n<h2>Background service</h2>\n<blockquote>\n<p>A background service performs an operation that isn't directly noticed\nby the user.</p>\n</blockquote>\n<p>If you do not want your user to know that you are making measurements, then a background service could be used.</p>\n<p>However, since Android 8.0 serious restrictions are made on the usage of Background services, making it hard to use.</p>\n<h2>WorkManager Tasks</h2>\n<p>A more recent approach would be to create a task, which can be periodic if you need to repeat your measurements, or one time only using the WorkManager. More about it <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":25171650,"reputation":18,"user_id":19014404,"display_name":"EffectiveIvana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655367238,"creation_date":1655367238,"answer_id":72642549,"question_id":72642282,"body_markdown":"I reccomend you to create REST and UI app, so you app will read data from REST and your senzor can send data to REST service.","title":"Application run in background and UI also","body":"<p>I reccomend you to create REST and UI app, so you app will read data from REST and your senzor can send data to REST service.</p>\n"}],"owner":{"account_id":25342620,"reputation":19,"user_id":19160804,"display_name":"Danijel333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655367238,"creation_date":1655365896,"question_id":72642282,"body_markdown":"I am making a project where I read in sensor data and send them to a CSV file. The problem is, as soon as the application is not open anymore in the front, the application doesn&#39;t work anymore. I have read that I need some kind of service. The question is, which service should I use, and how exactly, so that my sensor acquisition and writing to a CSV file works also when the application is not open, but is also able to show some of these sensor data on the user interface?\r\n\r\nIf the application is fully closed, it doesn&#39;t needs to run anymore and i want to start and stop that all with a button as it can be seen in the code-snippet. I am not sure if then foreground service is the right one.\r\n\r\nCode-snippet where you can see how the application is built: \r\n\r\n```  \r\nprivate SensorEventListener OrientSensorEventListener = new SensorEventListener() {\r\n        @Override\r\n        public void onSensorChanged(SensorEvent sensorEvent) {\r\n                OrientX = (int) sensorEvent.values[0];\r\n                OrientY = (int) sensorEvent.values[1];\r\n                OrientZ = (int) sensorEvent.values[2];\r\n        }\r\n\r\n        @Override\r\n        public void onAccuracyChanged(Sensor sensor, int i) {\r\n\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //User Interface\r\n        time = findViewById(R.id.Time1);\r\n        //Steps UI\r\n        Stepstxt = findViewById(R.id.Stepstxt);\r\n        Walkingtxt = findViewById(R.id.Walkingtxt);\r\n        FastStepstxt = findViewById(R.id.FastStepstxt);\r\n        //Orientation UI\r\n        OrientXtxt = findViewById(R.id.OrientXtxt);\r\n        OrientYtxt = findViewById(R.id.OrientYtxt);\r\n        OrientZtxt = findViewById(R.id.OrientZtxt);\r\n\r\n        // Set Date for CSV File name and User Interface\r\n        Date currentTime = Calendar.getInstance().getTime();\r\n        String formattedDate = DateFormat.getDateInstance(DateFormat.FULL).format(currentTime);\r\n        time.setText(formattedDate);\r\n\r\n        // Initializing\r\n        SensorSwitch = findViewById(R.id.SensorSwitch);\r\n\r\n        //Sensor Initializing\r\n        //Acceleration\r\n        AccSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        mAccelerometer = AccSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n        //Amb Light\r\n        AmbLightSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        mAmbLight = AmbLightSensorManager.getDefaultSensor(Sensor.TYPE_LIGHT);\r\n        //Orientation\r\n        OrientSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        mOrientation = OrientSensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION);\r\n\r\n        // Record Data to CSV and SwitchFlag\r\n        SensorSwitch.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                if (b == true) {\r\n                    // CSV Raw Data Open\r\n\r\n                    Log.d(TAG, &quot;Writing to &quot; + getStorageDir());\r\n                    try {\r\n                        writer = new FileWriter(new File(getStorageDir(), &quot;RawSensors_&quot; + formattedDate + &quot;.csv&quot;));\r\n                    } catch (\r\n                            IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    //CSV Feature Data Open\r\n                    Log.d(TAG, &quot;Writing to &quot; + getStorageDir());\r\n                    try {\r\n                        fwriter = new FileWriter(new File(getStorageDir(), &quot;FeatureSensors_&quot; + formattedDate + &quot;.csv&quot;));\r\n                    } catch (\r\n                            IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    SwitchFlag = true;\r\n                } else {\r\n                    //CSV Raw Data Close\r\n                    try {\r\n                        writer.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    //CSV Feature Data Close\r\n                    try {\r\n                        fwriter.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    SwitchFlag = false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Next Activity\r\n    public void openMainActivity2(){\r\n        Intent intentMain2 = new Intent(this, MainActivity2.class);\r\n        startActivity(intentMain2);\r\n    }\r\n\r\n    // Start Sensor Events\r\n    protected void onResume() {\r\n        super.onResume();\r\n        AccSensorManager.registerListener(AccSensorEventListener, mAccelerometer, 1000000, 1000000);\r\n        AmbLightSensorManager.registerListener(AmbLightSensorEventListener, mAmbLight, 1000000, 1000000);\r\n        OrientSensorManager.registerListener(OrientSensorEventListener, mOrientation,1000000, 1000000);\r\n    }\r\n\r\n    protected void onPause() {\r\n        super.onPause();\r\n        AccSensorManager.unregisterListener(AccSensorEventListener);\r\n        AmbLightSensorManager.unregisterListener(AmbLightSensorEventListener);\r\n        OrientSensorManager.unregisterListener(OrientSensorEventListener);\r\n    }\r\n\r\n\r\n   // CSV File Creation\r\n    private String getStorageDir() {\r\n        return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getAbsolutePath();\r\n    }\r\n\r\n    // CSV Write Function\r\n    private void CsvWrite(){\r\n        try {\r\n            writer.write(String.format(&quot;DateTime; %s;AccX; %f; AccY; %f; AccZ; %f; AccSum; %f; AmbLight; %d; OrientX; %d; OrientY; %d; OrientZ; %d \\n&quot;, dateTime, AccX, AccY, AccZ , AccSum, AmbLight, OrientX, OrientY, OrientZ));\r\n        }catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void FeatureCsv(){\r\n        try {\r\n            fwriter.write(String.format(&quot;DateTime; %s; GoSteps; %d; RunSteps; %d; StepSum; %d; Position; %s; Location; %s \\n&quot;, dateTime, stepCount, RunCount, StepSum, position, location));\r\n        }catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void FeatureCalc(){\r\n        // Step Calculation\r\n        if (AccChange &gt; 40 &amp;&amp; AccChange &lt; 150){\r\n            stepCount++;\r\n            StepSum++;\r\n        } else if (AccChange &gt; 150){\r\n            RunCount++;\r\n            StepSum++;\r\n        }\r\n         //Display Steps on UI\r\n        Stepstxt.setText(&quot;You have currently made: &quot; + StepSum + &quot; Steps&quot;);\r\n        Walkingtxt.setText(&quot;Thereof: &quot; + stepCount + &quot; Walking Steps&quot;);\r\n        FastStepstxt.setText(&quot;And: &quot; + RunCount + &quot; Faster Walking or Running Steps&quot;);\r\n\r\n        // Phone Orientation Feature\r\n        if(OrientY &lt;= -5 &amp;&amp; OrientY &gt; -25){\r\n            position = &quot;Standing&quot;;\r\n        }else if(OrientY &lt;= -25 &amp;&amp; OrientY &gt;= - 90){\r\n            position = &quot;Sitting&quot;;\r\n        }else if (OrientY &lt;= -90 &amp;&amp; OrientY &gt;= -180 &amp;&amp; AmbLight &gt; 13){\r\n            position = &quot;Laying&quot;;\r\n        }\r\n        else{\r\n            position = &quot;None/NotUsed&quot;;\r\n        }\r\n\r\n        //Display Orientation on UI\r\n        OrientXtxt.setText(&quot;Azimuth: &quot; + OrientX + &quot;&#176;&quot;);\r\n        OrientYtxt.setText(&quot;Pitch: &quot; + OrientY + &quot;&#176;&quot;);\r\n        OrientZtxt.setText(&quot;Roll: &quot; + OrientZ + &quot;&#176;&quot;);\r\n\r\n        // Location Feature\r\n        AbsOrient = Math.abs(OrientY);\r\n        if(AmbLight &lt;= 13 &amp;&amp; AbsOrient &gt;= 60 &amp;&amp; AbsOrient &lt;= 120){\r\n            location = &quot;Pocket&quot;;\r\n        }else if((AmbLight &lt;= 13 &amp;&amp; OrientY &lt;= -170 &amp;&amp; OrientY &gt;= -190) || (OrientY &gt; -5 &amp;&amp; OrientY &lt; 5)){\r\n            location = &quot;Table&quot;;\r\n        }else if(AmbLight &lt;= 25){\r\n            location = &quot;Night/Indoor&quot;;\r\n        }else if(AmbLight &gt; 25 &amp;&amp; AmbLight &lt;= 800){\r\n            location = &quot;Day/Indoor&quot;;\r\n        }else if(AmbLight &gt; 800){\r\n            location = &quot;Day/Outside&quot;;\r\n        }else{\r\n            location = &quot;None/Unknown&quot;;\r\n        }\r\n    }\r\n}\r\n```","title":"Application run in background and UI also","body":"<p>I am making a project where I read in sensor data and send them to a CSV file. The problem is, as soon as the application is not open anymore in the front, the application doesn't work anymore. I have read that I need some kind of service. The question is, which service should I use, and how exactly, so that my sensor acquisition and writing to a CSV file works also when the application is not open, but is also able to show some of these sensor data on the user interface?</p>\n<p>If the application is fully closed, it doesn't needs to run anymore and i want to start and stop that all with a button as it can be seen in the code-snippet. I am not sure if then foreground service is the right one.</p>\n<p>Code-snippet where you can see how the application is built:</p>\n<pre><code>private SensorEventListener OrientSensorEventListener = new SensorEventListener() {\n        @Override\n        public void onSensorChanged(SensorEvent sensorEvent) {\n                OrientX = (int) sensorEvent.values[0];\n                OrientY = (int) sensorEvent.values[1];\n                OrientZ = (int) sensorEvent.values[2];\n        }\n\n        @Override\n        public void onAccuracyChanged(Sensor sensor, int i) {\n\n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //User Interface\n        time = findViewById(R.id.Time1);\n        //Steps UI\n        Stepstxt = findViewById(R.id.Stepstxt);\n        Walkingtxt = findViewById(R.id.Walkingtxt);\n        FastStepstxt = findViewById(R.id.FastStepstxt);\n        //Orientation UI\n        OrientXtxt = findViewById(R.id.OrientXtxt);\n        OrientYtxt = findViewById(R.id.OrientYtxt);\n        OrientZtxt = findViewById(R.id.OrientZtxt);\n\n        // Set Date for CSV File name and User Interface\n        Date currentTime = Calendar.getInstance().getTime();\n        String formattedDate = DateFormat.getDateInstance(DateFormat.FULL).format(currentTime);\n        time.setText(formattedDate);\n\n        // Initializing\n        SensorSwitch = findViewById(R.id.SensorSwitch);\n\n        //Sensor Initializing\n        //Acceleration\n        AccSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\n        mAccelerometer = AccSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n        //Amb Light\n        AmbLightSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\n        mAmbLight = AmbLightSensorManager.getDefaultSensor(Sensor.TYPE_LIGHT);\n        //Orientation\n        OrientSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\n        mOrientation = OrientSensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION);\n\n        // Record Data to CSV and SwitchFlag\n        SensorSwitch.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                if (b == true) {\n                    // CSV Raw Data Open\n\n                    Log.d(TAG, &quot;Writing to &quot; + getStorageDir());\n                    try {\n                        writer = new FileWriter(new File(getStorageDir(), &quot;RawSensors_&quot; + formattedDate + &quot;.csv&quot;));\n                    } catch (\n                            IOException e) {\n                        e.printStackTrace();\n                    }\n\n                    //CSV Feature Data Open\n                    Log.d(TAG, &quot;Writing to &quot; + getStorageDir());\n                    try {\n                        fwriter = new FileWriter(new File(getStorageDir(), &quot;FeatureSensors_&quot; + formattedDate + &quot;.csv&quot;));\n                    } catch (\n                            IOException e) {\n                        e.printStackTrace();\n                    }\n\n                    SwitchFlag = true;\n                } else {\n                    //CSV Raw Data Close\n                    try {\n                        writer.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                    //CSV Feature Data Close\n                    try {\n                        fwriter.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                    SwitchFlag = false;\n                }\n            }\n        });\n    }\n\n    // Next Activity\n    public void openMainActivity2(){\n        Intent intentMain2 = new Intent(this, MainActivity2.class);\n        startActivity(intentMain2);\n    }\n\n    // Start Sensor Events\n    protected void onResume() {\n        super.onResume();\n        AccSensorManager.registerListener(AccSensorEventListener, mAccelerometer, 1000000, 1000000);\n        AmbLightSensorManager.registerListener(AmbLightSensorEventListener, mAmbLight, 1000000, 1000000);\n        OrientSensorManager.registerListener(OrientSensorEventListener, mOrientation,1000000, 1000000);\n    }\n\n    protected void onPause() {\n        super.onPause();\n        AccSensorManager.unregisterListener(AccSensorEventListener);\n        AmbLightSensorManager.unregisterListener(AmbLightSensorEventListener);\n        OrientSensorManager.unregisterListener(OrientSensorEventListener);\n    }\n\n\n   // CSV File Creation\n    private String getStorageDir() {\n        return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getAbsolutePath();\n    }\n\n    // CSV Write Function\n    private void CsvWrite(){\n        try {\n            writer.write(String.format(&quot;DateTime; %s;AccX; %f; AccY; %f; AccZ; %f; AccSum; %f; AmbLight; %d; OrientX; %d; OrientY; %d; OrientZ; %d \\n&quot;, dateTime, AccX, AccY, AccZ , AccSum, AmbLight, OrientX, OrientY, OrientZ));\n        }catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void FeatureCsv(){\n        try {\n            fwriter.write(String.format(&quot;DateTime; %s; GoSteps; %d; RunSteps; %d; StepSum; %d; Position; %s; Location; %s \\n&quot;, dateTime, stepCount, RunCount, StepSum, position, location));\n        }catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void FeatureCalc(){\n        // Step Calculation\n        if (AccChange &gt; 40 &amp;&amp; AccChange &lt; 150){\n            stepCount++;\n            StepSum++;\n        } else if (AccChange &gt; 150){\n            RunCount++;\n            StepSum++;\n        }\n         //Display Steps on UI\n        Stepstxt.setText(&quot;You have currently made: &quot; + StepSum + &quot; Steps&quot;);\n        Walkingtxt.setText(&quot;Thereof: &quot; + stepCount + &quot; Walking Steps&quot;);\n        FastStepstxt.setText(&quot;And: &quot; + RunCount + &quot; Faster Walking or Running Steps&quot;);\n\n        // Phone Orientation Feature\n        if(OrientY &lt;= -5 &amp;&amp; OrientY &gt; -25){\n            position = &quot;Standing&quot;;\n        }else if(OrientY &lt;= -25 &amp;&amp; OrientY &gt;= - 90){\n            position = &quot;Sitting&quot;;\n        }else if (OrientY &lt;= -90 &amp;&amp; OrientY &gt;= -180 &amp;&amp; AmbLight &gt; 13){\n            position = &quot;Laying&quot;;\n        }\n        else{\n            position = &quot;None/NotUsed&quot;;\n        }\n\n        //Display Orientation on UI\n        OrientXtxt.setText(&quot;Azimuth: &quot; + OrientX + &quot;°&quot;);\n        OrientYtxt.setText(&quot;Pitch: &quot; + OrientY + &quot;°&quot;);\n        OrientZtxt.setText(&quot;Roll: &quot; + OrientZ + &quot;°&quot;);\n\n        // Location Feature\n        AbsOrient = Math.abs(OrientY);\n        if(AmbLight &lt;= 13 &amp;&amp; AbsOrient &gt;= 60 &amp;&amp; AbsOrient &lt;= 120){\n            location = &quot;Pocket&quot;;\n        }else if((AmbLight &lt;= 13 &amp;&amp; OrientY &lt;= -170 &amp;&amp; OrientY &gt;= -190) || (OrientY &gt; -5 &amp;&amp; OrientY &lt; 5)){\n            location = &quot;Table&quot;;\n        }else if(AmbLight &lt;= 25){\n            location = &quot;Night/Indoor&quot;;\n        }else if(AmbLight &gt; 25 &amp;&amp; AmbLight &lt;= 800){\n            location = &quot;Day/Indoor&quot;;\n        }else if(AmbLight &gt; 800){\n            location = &quot;Day/Outside&quot;;\n        }else{\n            location = &quot;None/Unknown&quot;;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","lombok"],"comments":[{"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"score":0,"creation_date":1655298759,"post_id":72630441,"comment_id":128299187,"body_markdown":"Please add the source code of the Question and Answer class including the Lombok and Hibernate annotations.","body":"Please add the source code of the Question and Answer class including the Lombok and Hibernate annotations."},{"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"score":0,"creation_date":1655299318,"post_id":72630441,"comment_id":128299436,"body_markdown":"Also, you don&#39;t save the result from the build() calls for answer and answer2.","body":"Also, you don&#39;t save the result from the build() calls for answer and answer2."}],"answers":[{"tags":[],"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655367049,"creation_date":1655299736,"answer_id":72632356,"question_id":72630441,"body_markdown":"You don&#39;t save a reference to question2 in answer2. That&#39;s why answer 2 has a null value for the question column.\r\n\r\n```java\r\nAnswer answer2 = Answer.builder().answer(&quot;I am fine&quot;).build();\r\n answer2.toBuilder().que(question2).build();\r\n```\r\n\r\nAnd you use question in the builder for question2. That&#39;s why there are multiple entries for question 1.\r\n```java\r\nquestion2 = question.toBuilder().answer(answer2).build();\r\n```\r\n\r\nAs for first question row with a null value for answer, I&#39;m not sure where that&#39;s coming from.","title":"toBuilder() vs Setter in database","body":"<p>You don't save a reference to question2 in answer2. That's why answer 2 has a null value for the question column.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Answer answer2 = Answer.builder().answer(&quot;I am fine&quot;).build();\n answer2.toBuilder().que(question2).build();\n</code></pre>\n<p>And you use question in the builder for question2. That's why there are multiple entries for question 1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>question2 = question.toBuilder().answer(answer2).build();\n</code></pre>\n<p>As for first question row with a null value for answer, I'm not sure where that's coming from.</p>\n"}],"owner":{"account_id":25272564,"reputation":9,"user_id":19101688,"display_name":"Sumit Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655367049,"creation_date":1655292139,"question_id":72630441,"body_markdown":"I am trying to save data in database with OneToOne mapping in bidirectional way. I have used toBuilder and setter and got different result in Database.\r\nBy using setter:\r\n```     \r\n        Question question = Question.builder().quest(&quot;What is Pythonn ?&quot;).answer(null).build();\r\n\t\tAnswer answer = Answer.builder().answer(&quot;Python is language&quot;).que(question).build();\r\n        answer.setQue(question);\r\n        question.setAnswer(answer);\r\n        Question question2 = Question.builder().quest(&quot;How are you ?&quot;).answer(null).build();\r\n\t\tAnswer answer2 = Answer.builder().answer(&quot;I am fine&quot;).build();\r\n        answer2.setQue(question2);\r\n        question2.setAnswer(answer2);\r\n        session.save(question);\r\n        session.save(question2);\r\n```\r\n the result in db \r\n\r\n[question_table][1]\r\n\r\n\r\n[Answer table][2]\r\n\r\n\r\nBy using toBuilder \r\n```\r\n answer.toBuilder().que(question).build();\r\n question = question.toBuilder().answer(answer).build();\r\n answer2.toBuilder().que(question2).build();\r\n question2 = question.toBuilder().answer(answer2).build();\r\n```\r\nThe result in db:\r\n[question_table][3] \r\n\r\n\r\n[answer_table][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a3eF2.png\r\n  [2]: https://i.stack.imgur.com/AoOKn.png\r\n  [3]: https://i.stack.imgur.com/GYjnG.png\r\n  [4]: https://i.stack.imgur.com/tZiv3.png\r\n\r\nWhy toBuilder is not working while setter is working ?","title":"toBuilder() vs Setter in database","body":"<p>I am trying to save data in database with OneToOne mapping in bidirectional way. I have used toBuilder and setter and got different result in Database.\nBy using setter:</p>\n<pre><code>        Question question = Question.builder().quest(&quot;What is Pythonn ?&quot;).answer(null).build();\n        Answer answer = Answer.builder().answer(&quot;Python is language&quot;).que(question).build();\n        answer.setQue(question);\n        question.setAnswer(answer);\n        Question question2 = Question.builder().quest(&quot;How are you ?&quot;).answer(null).build();\n        Answer answer2 = Answer.builder().answer(&quot;I am fine&quot;).build();\n        answer2.setQue(question2);\n        question2.setAnswer(answer2);\n        session.save(question);\n        session.save(question2);\n</code></pre>\n<p>the result in db</p>\n<p><a href=\"https://i.stack.imgur.com/a3eF2.png\" rel=\"nofollow noreferrer\">question_table</a></p>\n<p><a href=\"https://i.stack.imgur.com/AoOKn.png\" rel=\"nofollow noreferrer\">Answer table</a></p>\n<p>By using toBuilder</p>\n<pre><code> answer.toBuilder().que(question).build();\n question = question.toBuilder().answer(answer).build();\n answer2.toBuilder().que(question2).build();\n question2 = question.toBuilder().answer(answer2).build();\n</code></pre>\n<p>The result in db:\n<a href=\"https://i.stack.imgur.com/GYjnG.png\" rel=\"nofollow noreferrer\">question_table</a></p>\n<p><a href=\"https://i.stack.imgur.com/tZiv3.png\" rel=\"nofollow noreferrer\">answer_table</a></p>\n<p>Why toBuilder is not working while setter is working ?</p>\n"},{"tags":["java","jsp","servlets","session-variables","payment-gateway"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1434628776,"post_id":30914733,"comment_id":49866609,"body_markdown":"You&#39;ll need to provide a lot more information. How are you initializing the session? Which payment gateway? Are session tokens URL parameters or cookies?","body":"You&#39;ll need to provide a lot more information. How are you initializing the session? Which payment gateway? Are session tokens URL parameters or cookies?"},{"owner":{"account_id":2775050,"reputation":629,"user_id":2388780,"accept_rate":45,"display_name":"chakri"},"score":0,"creation_date":1434628868,"post_id":30914733,"comment_id":49866671,"body_markdown":"session variables ang payment gateway is www.CCAvenue.com","body":"session variables ang payment gateway is www.CCAvenue.com"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1434628899,"post_id":30914733,"comment_id":49866693,"body_markdown":"That doesn&#39;t answer my question. Are session variables transmitted as URL parameters or cookies?","body":"That doesn&#39;t answer my question. Are session variables transmitted as URL parameters or cookies?"},{"owner":{"account_id":2775050,"reputation":629,"user_id":2388780,"accept_rate":45,"display_name":"chakri"},"score":0,"creation_date":1434629087,"post_id":30914733,"comment_id":49866813,"body_markdown":"Sorry, before redirected to payment gateway, i set the some values to session like session.setAttribute(&quot;id&quot;, 120). After redirect the paymeny gateway. I try to get the id using session.getAttribute(&quot;id&quot;). Here it returns the null value. Please help me.","body":"Sorry, before redirected to payment gateway, i set the some values to session like session.setAttribute(&quot;id&quot;, 120). After redirect the paymeny gateway. I try to get the id using session.getAttribute(&quot;id&quot;). Here it returns the null value. Please help me."},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1434629651,"post_id":30914733,"comment_id":49867188,"body_markdown":"Again, that is **not what I am asking**. Is the JSP session ID stored as a URL parameter, or a cookie?","body":"Again, that is <b>not what I am asking</b>. Is the JSP session ID stored as a URL parameter, or a cookie?"},{"owner":{"account_id":2775050,"reputation":629,"user_id":2388780,"accept_rate":45,"display_name":"chakri"},"score":0,"creation_date":1434629727,"post_id":30914733,"comment_id":49867233,"body_markdown":"i didnt get your question","body":"i didnt get your question"},{"owner":{"account_id":2775050,"reputation":629,"user_id":2388780,"accept_rate":45,"display_name":"chakri"},"score":0,"creation_date":1434630056,"post_id":30914733,"comment_id":49867474,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/80883/discussion-between-chakri-and-hexafraction).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/80883/discussion-between-chakri-and-hexafraction\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1477770472,"creation_date":1434630469,"answer_id":30915355,"question_id":30914733,"body_markdown":"From chat, you had stated that you are keeping the JSP session ID in a URL parameter rather than a cookie. This will cause an issue with the callback from the payment gateway, if the callback URL does not specify the same session ID.\r\n\r\nThis means that you need to put the session ID in the callback URL. I am not familiar with CCAvenue as a payment gateway, but I can tell you this much: \r\n\r\nWhen you set the callback URL, you need to encode the session ID onto it using [`HttpServletResponse#encodeURL`](http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html#encodeURL%28java.lang.String%29)\r\n\r\nYou would pass the URL of the callback (i.e. your homepage) to this method, and it will return the callback URL with the session ID encoded within it, *if necessary*. You can then use this URL as the user redirect (callback) on your gateway and when the redirect completes, the page will be loaded with a valid session.","title":"I am losing session data when being redirected from Payment GateWay using java","body":"<p>From chat, you had stated that you are keeping the JSP session ID in a URL parameter rather than a cookie. This will cause an issue with the callback from the payment gateway, if the callback URL does not specify the same session ID.</p>\n\n<p>This means that you need to put the session ID in the callback URL. I am not familiar with CCAvenue as a payment gateway, but I can tell you this much: </p>\n\n<p>When you set the callback URL, you need to encode the session ID onto it using <a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html#encodeURL%28java.lang.String%29\" rel=\"nofollow\"><code>HttpServletResponse#encodeURL</code></a></p>\n\n<p>You would pass the URL of the callback (i.e. your homepage) to this method, and it will return the callback URL with the session ID encoded within it, <em>if necessary</em>. You can then use this URL as the user redirect (callback) on your gateway and when the redirect completes, the page will be loaded with a valid session.</p>\n"},{"tags":[],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655366950,"creation_date":1655366950,"answer_id":72642498,"question_id":30914733,"body_markdown":"You need to add the JSESSIONID in the callback url something like the following :\r\n\r\n    HttpSession session = request.getSession();\r\n    session.setAttribute(&quot;someName&quot;, someObject);\r\n    \r\n    String callbackURL = &quot;http://yourapplicationserver.com/callback.jsp;JSESSIONID=&quot; + session.getId();\r\n    String redirectURL = &quot;http://paymentgateway.com/process?callbackURL=&quot; + URLEncoder.encode(callbackURL, &quot;UTF-8&quot;);\r\n    \r\n    response.sendRedirect(redirectURL);\r\n\r\n","title":"I am losing session data when being redirected from Payment GateWay using java","body":"<p>You need to add the JSESSIONID in the callback url something like the following :</p>\n<pre><code>HttpSession session = request.getSession();\nsession.setAttribute(&quot;someName&quot;, someObject);\n\nString callbackURL = &quot;http://yourapplicationserver.com/callback.jsp;JSESSIONID=&quot; + session.getId();\nString redirectURL = &quot;http://paymentgateway.com/process?callbackURL=&quot; + URLEncoder.encode(callbackURL, &quot;UTF-8&quot;);\n\nresponse.sendRedirect(redirectURL);\n</code></pre>\n"}],"owner":{"account_id":2775050,"reputation":629,"user_id":2388780,"accept_rate":45,"display_name":"chakri"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2485,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":30915355,"answer_count":2,"score":3,"last_activity_date":1655366950,"creation_date":1434628635,"question_id":30914733,"body_markdown":"I am setting some values using java session. After calling the Payment gateway, all me stored session values are losing. Please help me how to get those session values.\r\n\r\ni set the some values to session like session.setAttribute(&quot;id&quot;, 120). After redirect the paymeny gateway. I try to get the id using session.getAttribute(&quot;id&quot;). Here it returns the null value.","title":"I am losing session data when being redirected from Payment GateWay using java","body":"<p>I am setting some values using java session. After calling the Payment gateway, all me stored session values are losing. Please help me how to get those session values.</p>\n\n<p>i set the some values to session like session.setAttribute(\"id\", 120). After redirect the paymeny gateway. I try to get the id using session.getAttribute(\"id\"). Here it returns the null value.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1584769761,"post_id":60784570,"comment_id":107544231,"body_markdown":"Your question title asks for random upper/lower case, but then the text of the question itself asks for alternating case.  Which one do you actually want?","body":"Your question title asks for random upper/lower case, but then the text of the question itself asks for alternating case.  Which one do you actually want?"},{"owner":{"account_id":17696476,"reputation":47,"user_id":12847117,"display_name":"Aman Baid"},"score":0,"creation_date":1584774051,"post_id":60784570,"comment_id":107544846,"body_markdown":"@TimBiegeleisen alternating case ,sorry my bad","body":"@TimBiegeleisen alternating case ,sorry my bad"},{"owner":{"display_name":"user13086859"},"score":0,"creation_date":1584795323,"post_id":60784570,"comment_id":107549382,"body_markdown":"I have updated my answer according to your needs.","body":"I have updated my answer according to your needs."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1589924385,"post_id":60784570,"comment_id":109485677,"body_markdown":"@AmanBaid - If one of the answers resolved your issue, you can help the community by marking it as accepted. An accepted answer helps future visitors use the solution confidently. Check https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work to learn how to do it.","body":"@AmanBaid - If one of the answers resolved your issue, you can help the community by marking it as accepted. An accepted answer helps future visitors use the solution confidently. Check <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a> to learn how to do it."}],"answers":[{"tags":[],"owner":{"display_name":"user13086859"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584795223,"creation_date":1584767499,"answer_id":60784680,"question_id":60784570,"body_markdown":"Random pattern:\r\n\r\n\tSystem.out.println(\r\n\t\t\t&quot;hello good morning&quot;.chars() // get chars\r\n\t\t\t.map(i -&gt; new Random().nextDouble() &gt; 0.5 ? Character.toUpperCase(i) : Character.toLowerCase(i)) // change the case\r\n\t\t\t.collect(StringBuilder::new,StringBuilder::appendCodePoint, StringBuilder::append)); // collect to string\r\n\r\nAlternative pattern:\r\n\r\n\tString str = &quot;hello good morning&quot;;\r\n\tSystem.out.println(\r\n\t\t\tIntStream.range(0, str.length()) // range of length\r\n\t\t\t.map(i -&gt; i % 2 == 1 ? Character.toUpperCase(str.codePointAt(i)): Character.toLowerCase(str.codePointAt(i))) // map the values accordingly\r\n\t\t\t.collect(StringBuilder::new,StringBuilder::appendCodePoint, StringBuilder::append)); // collect to string","title":"text conversion into random upper and lowercase in java","body":"<p>Random pattern:</p>\n\n<pre><code>System.out.println(\n        \"hello good morning\".chars() // get chars\n        .map(i -&gt; new Random().nextDouble() &gt; 0.5 ? Character.toUpperCase(i) : Character.toLowerCase(i)) // change the case\n        .collect(StringBuilder::new,StringBuilder::appendCodePoint, StringBuilder::append)); // collect to string\n</code></pre>\n\n<p>Alternative pattern:</p>\n\n<pre><code>String str = \"hello good morning\";\nSystem.out.println(\n        IntStream.range(0, str.length()) // range of length\n        .map(i -&gt; i % 2 == 1 ? Character.toUpperCase(str.codePointAt(i)): Character.toLowerCase(str.codePointAt(i))) // map the values accordingly\n        .collect(StringBuilder::new,StringBuilder::appendCodePoint, StringBuilder::append)); // collect to string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1584768049,"creation_date":1584768049,"answer_id":60784722,"question_id":60784570,"body_markdown":"```java\r\nString str = &quot;hello good morning&quot;;\r\nchar[] letters = str.toCharArray();\r\nStringBuilder sb = new StringBuilder(letters.length);\r\nfor (int i = 0; i &lt; letters.length; i++) {\r\n    if (i % 2 == 0) {\r\n        sb.append(Character.toLowerCase(letters[i]));\r\n    else {\r\n        sb.append(Character.toUpperCase(letters[i]));\r\n    }\r\n}\r\n```\r\nFirst letter is lower-case, second letter is upper-case, third letter is lower-case, etc. As requested, alternating upper and lower case. If you want to start with upper-case, rather than lower-case as in the above code, simply change the condition in the `if` statement to...\r\n```java\r\nif (i % 2 == 1) {\r\n```\r\n\r\n","title":"text conversion into random upper and lowercase in java","body":"<pre class=\"lang-java prettyprint-override\"><code>String str = \"hello good morning\";\nchar[] letters = str.toCharArray();\nStringBuilder sb = new StringBuilder(letters.length);\nfor (int i = 0; i &lt; letters.length; i++) {\n    if (i % 2 == 0) {\n        sb.append(Character.toLowerCase(letters[i]));\n    else {\n        sb.append(Character.toUpperCase(letters[i]));\n    }\n}\n</code></pre>\n\n<p>First letter is lower-case, second letter is upper-case, third letter is lower-case, etc. As requested, alternating upper and lower case. If you want to start with upper-case, rather than lower-case as in the above code, simply change the condition in the <code>if</code> statement to...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (i % 2 == 1) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584803474,"creation_date":1584803474,"answer_id":60789460,"question_id":60784570,"body_markdown":"All of the existing answers on this page are great but none of them fulfils the exact requirement. The requirement is to switch the case of only the next alphabet, not every character (which is how every existing answer on this page is doing). Given below is the precise way of doing it:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;hello good morning&quot;;\r\n    \t\tchar[] charArr = str.toCharArray();\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tboolean switchCase = false;\r\n    \t\tfor (char ch : charArr) {\r\n    \t\t\tif (Character.isLetter(ch)) {\r\n    \t\t\t\tif (switchCase) {\r\n    \t\t\t\t\tsb.append(Character.toUpperCase(ch));\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tsb.append(Character.toLowerCase(ch));\r\n    \t\t\t\t}\r\n    \t\t\t\tswitchCase = !switchCase;\r\n    \t\t\t} else {\r\n    \t\t\t\tsb.append(ch);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(sb);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    hElLo GoOd MoRnInG\r\n\r\n","title":"text conversion into random upper and lowercase in java","body":"<p>All of the existing answers on this page are great but none of them fulfils the exact requirement. The requirement is to switch the case of only the next alphabet, not every character (which is how every existing answer on this page is doing). Given below is the precise way of doing it:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String str = \"hello good morning\";\n        char[] charArr = str.toCharArray();\n        StringBuilder sb = new StringBuilder();\n        boolean switchCase = false;\n        for (char ch : charArr) {\n            if (Character.isLetter(ch)) {\n                if (switchCase) {\n                    sb.append(Character.toUpperCase(ch));\n                } else {\n                    sb.append(Character.toLowerCase(ch));\n                }\n                switchCase = !switchCase;\n            } else {\n                sb.append(ch);\n            }\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>hElLo GoOd MoRnInG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17112689,"reputation":1,"user_id":12383059,"display_name":"Ali Mohajer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655366896,"creation_date":1655366896,"answer_id":72642495,"question_id":60784570,"body_markdown":"    public static String StudlyCaps(String txt) {\r\n\r\n        Random random = new Random();\r\n\r\n        char[] letters = txt.toCharArray();\r\n        StringBuilder sb = new StringBuilder(letters.length);\r\n        for (int i = 0; i &lt; letters.length; i++) {\r\n\r\n            if (random.nextBoolean()){\r\n                sb.append(Character.toLowerCase(letters[i]));\r\n            }\r\n            else {\r\n                sb.append(Character.toUpperCase(letters[i]));\r\n            }\r\n            \r\n        }\r\n\r\n        return sb.toString();\r\n\r\n    }","title":"text conversion into random upper and lowercase in java","body":"<pre><code>public static String StudlyCaps(String txt) {\n\n    Random random = new Random();\n\n    char[] letters = txt.toCharArray();\n    StringBuilder sb = new StringBuilder(letters.length);\n    for (int i = 0; i &lt; letters.length; i++) {\n\n        if (random.nextBoolean()){\n            sb.append(Character.toLowerCase(letters[i]));\n        }\n        else {\n            sb.append(Character.toUpperCase(letters[i]));\n        }\n        \n    }\n\n    return sb.toString();\n\n}\n</code></pre>\n"}],"owner":{"account_id":17696476,"reputation":47,"user_id":12847117,"display_name":"Aman Baid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":60784722,"answer_count":4,"score":-2,"last_activity_date":1655366896,"creation_date":1584766007,"question_id":60784570,"body_markdown":"I wanted suggestions on how can I code an app to convert text into alternating upper and lowercase.\r\n\r\nExample:\r\n\r\n&gt; hello good morning\r\n\r\nconverted to\r\n\r\n&gt;hElLo GoOd MoRnInG","title":"text conversion into random upper and lowercase in java","body":"<p>I wanted suggestions on how can I code an app to convert text into alternating upper and lowercase.</p>\n\n<p>Example:</p>\n\n<blockquote>\n  <p>hello good morning</p>\n</blockquote>\n\n<p>converted to</p>\n\n<blockquote>\n  <p>hElLo GoOd MoRnInG</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655365903,"creation_date":1655365903,"answer_id":72642285,"question_id":72642134,"body_markdown":"I think the string should be formatted properly before sending.\r\nConvert String to Document and Document back to String and send it.\r\nYou might need to add some dependency too I think.\r\n\r\nReference : https://www.journaldev.com/1237/java-convert-string-to-xml-document-and-xml-document-to-string\r\n\r\n*Sample code from reference*\r\n\r\n```\r\n\r\npackage com.journaldev.xml;\r\n\r\nimport java.io.StringReader;\r\nimport java.io.StringWriter;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerException;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\n\r\nimport org.w3c.dom.Document;\r\nimport org.xml.sax.InputSource;\r\n\r\npublic class StringToDocumentToString {\r\n\r\n    public static void main(String[] args) {\r\n        final String xmlStr = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;\\n&quot;+\r\n                                &quot;&lt;Emp id=\\&quot;1\\&quot;&gt;&lt;name&gt;Pankaj&lt;/name&gt;&lt;age&gt;25&lt;/age&gt;\\n&quot;+\r\n                                &quot;&lt;role&gt;Developer&lt;/role&gt;&lt;gen&gt;Male&lt;/gen&gt;&lt;/Emp&gt;&quot;;\r\n        Document doc = convertStringToDocument(xmlStr);\r\n        \r\n        String str = convertDocumentToString(doc);\r\n        System.out.println(str);\r\n    }\r\n\r\n    private static String convertDocumentToString(Document doc) {\r\n        TransformerFactory tf = TransformerFactory.newInstance();\r\n        Transformer transformer;\r\n        try {\r\n            transformer = tf.newTransformer();\r\n            // below code to remove XML declaration\r\n            // transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n            StringWriter writer = new StringWriter();\r\n            transformer.transform(new DOMSource(doc), new StreamResult(writer));\r\n            String output = writer.getBuffer().toString();\r\n            return output;\r\n        } catch (TransformerException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        return null;\r\n    }\r\n\r\n    private static Document convertStringToDocument(String xmlStr) {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();  \r\n        DocumentBuilder builder;  \r\n        try  \r\n        {  \r\n            builder = factory.newDocumentBuilder();  \r\n            Document doc = builder.parse( new InputSource( new StringReader( xmlStr ) ) ); \r\n            return doc;\r\n        } catch (Exception e) {  \r\n            e.printStackTrace();  \r\n        } \r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n*Mentioned output*\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Emp id=&quot;1&quot;&gt;&lt;name&gt;Pankaj&lt;/name&gt;&lt;age&gt;25&lt;/age&gt;\r\n&lt;role&gt;Developer&lt;/role&gt;&lt;gen&gt;Male&lt;/gen&gt;&lt;/Emp&gt;\r\n```","title":"Spring boot ResponseEntity not showing response in proper format if it cotains xml data as string","body":"<p>I think the string should be formatted properly before sending.\nConvert String to Document and Document back to String and send it.\nYou might need to add some dependency too I think.</p>\n<p>Reference : <a href=\"https://www.journaldev.com/1237/java-convert-string-to-xml-document-and-xml-document-to-string\" rel=\"nofollow noreferrer\">https://www.journaldev.com/1237/java-convert-string-to-xml-document-and-xml-document-to-string</a></p>\n<p><em>Sample code from reference</em></p>\n<pre><code>\npackage com.journaldev.xml;\n\nimport java.io.StringReader;\nimport java.io.StringWriter;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.w3c.dom.Document;\nimport org.xml.sax.InputSource;\n\npublic class StringToDocumentToString {\n\n    public static void main(String[] args) {\n        final String xmlStr = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;\\n&quot;+\n                                &quot;&lt;Emp id=\\&quot;1\\&quot;&gt;&lt;name&gt;Pankaj&lt;/name&gt;&lt;age&gt;25&lt;/age&gt;\\n&quot;+\n                                &quot;&lt;role&gt;Developer&lt;/role&gt;&lt;gen&gt;Male&lt;/gen&gt;&lt;/Emp&gt;&quot;;\n        Document doc = convertStringToDocument(xmlStr);\n        \n        String str = convertDocumentToString(doc);\n        System.out.println(str);\n    }\n\n    private static String convertDocumentToString(Document doc) {\n        TransformerFactory tf = TransformerFactory.newInstance();\n        Transformer transformer;\n        try {\n            transformer = tf.newTransformer();\n            // below code to remove XML declaration\n            // transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n            StringWriter writer = new StringWriter();\n            transformer.transform(new DOMSource(doc), new StreamResult(writer));\n            String output = writer.getBuffer().toString();\n            return output;\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        }\n        \n        return null;\n    }\n\n    private static Document convertStringToDocument(String xmlStr) {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();  \n        DocumentBuilder builder;  \n        try  \n        {  \n            builder = factory.newDocumentBuilder();  \n            Document doc = builder.parse( new InputSource( new StringReader( xmlStr ) ) ); \n            return doc;\n        } catch (Exception e) {  \n            e.printStackTrace();  \n        } \n        return null;\n    }\n\n}\n</code></pre>\n<p><em>Mentioned output</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Emp id=&quot;1&quot;&gt;&lt;name&gt;Pankaj&lt;/name&gt;&lt;age&gt;25&lt;/age&gt;\n&lt;role&gt;Developer&lt;/role&gt;&lt;gen&gt;Male&lt;/gen&gt;&lt;/Emp&gt;\n</code></pre>\n"}],"owner":{"account_id":8581069,"reputation":233,"user_id":6428642,"display_name":"Dattatray Satpute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655365903,"creation_date":1655365100,"question_id":72642134,"body_markdown":"  If response object contains the xml data in string format then it shows response in improper format.\r\n\r\n      @ApiResponses(value = { @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Resource name not found&quot;),\r\n    \t\t\t@ApiResponse(responseCode = &quot;415 &quot;, description = &quot;Unsupported Media Type&quot;),\r\n    \t\t\t@ApiResponse(responseCode = &quot;500 &quot;, description = &quot;Application Error&quot;) })\r\n    \t@GetMapping(value = &quot;/validate-resource/{resourceName}&quot;, consumes = { MediaType.APPLICATION_JSON_VALUE,\r\n    \t\t\tMediaType.APPLICATION_XML_VALUE }, produces = { MediaType.APPLICATION_JSON_VALUE,\r\n    \t\t\t\t\tMediaType.APPLICATION_XML_VALUE })\r\n    \tpublic ResponseEntity&lt;Response&gt; connectionValidate(\r\n    \t\t\t@Parameter(description = &quot;resourceName cannot be empty.&quot;, required = true) @PathVariable(value = &quot;resourceName&quot;, required = true) String resourceName)\r\n    \t\t\tthrows Throwable {\r\n    \t\tHelperService helperService = new HelperService();\r\n    \t\tif (resourceMap == null || resourceMap.get(resourceName) == null) {\r\n    \t\t\tResponse response = new Response();\r\n    \t\t\tresponse.setStatus(&quot;error&quot;);\r\n    \t\t\tresponse.setMessage(&quot;Resource name not found&quot;);\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\r\n    \t\t}\r\n    \t\tHashMap&lt;String, String&gt; resourceDataMap = resourceMap.get(resourceName);\r\n    \t\t\r\n    \t\tString localResponse = helperService.execute(helperSettingsFilePath,filepath, resourceDataMap, &quot;SAP ERP&quot;,\r\n    \t\t\t\t&quot;validate-resource&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tResponse response = new Response();\r\n    \t\tresponse.setStatus(&quot;success&quot;);\r\n    \t\tresponse.setData(localResponse);\r\n    \t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n    \t}  \t\r\n\r\nWhen we call api it shows response in following format\r\n\r\n    &lt;Response&gt;\r\n            &lt;status&gt;success&lt;/status&gt;\r\n            &lt;message/&gt;\r\n            &lt;data&gt;\r\n                &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&amp;#xd;\r\n                &amp;lt;Return&gt;&amp;#xd;\r\n                &amp;lt;Status name=&quot;SUCCESS&quot;&gt;0&amp;lt;/Status&gt;&amp;#xd;\r\n                &amp;lt;Description&gt;Connection to the requested SapR3 Server was established successfully.&amp;lt;/Description&gt;&amp;#xd;\r\n                &amp;lt;/Return&gt;\r\n            &lt;/data&gt;\r\n        &lt;/Response&gt;\r\n    \r\n\r\n  Expected out put\r\n       \r\n    &lt;Response&gt;\r\n    &lt;status&gt;success&lt;/status&gt;\r\n    &lt;message/&gt;\r\n    &lt;data&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Return&gt;\r\n    &lt;Status name = &quot;SUCCESS&quot;&gt;0&lt;/Status&gt;\r\n    &lt;Description&gt;Connection to the requested SapR3 Server was established successfully.&lt;/Description&gt;\r\n    &lt;/Return&gt;\r\n    &lt;/data&gt;\r\n    &lt;/Response&gt;\r\n\r\nPlease let me know what is going wrong here.","title":"Spring boot ResponseEntity not showing response in proper format if it cotains xml data as string","body":"<p>If response object contains the xml data in string format then it shows response in improper format.</p>\n<pre><code>  @ApiResponses(value = { @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Resource name not found&quot;),\n            @ApiResponse(responseCode = &quot;415 &quot;, description = &quot;Unsupported Media Type&quot;),\n            @ApiResponse(responseCode = &quot;500 &quot;, description = &quot;Application Error&quot;) })\n    @GetMapping(value = &quot;/validate-resource/{resourceName}&quot;, consumes = { MediaType.APPLICATION_JSON_VALUE,\n            MediaType.APPLICATION_XML_VALUE }, produces = { MediaType.APPLICATION_JSON_VALUE,\n                    MediaType.APPLICATION_XML_VALUE })\n    public ResponseEntity&lt;Response&gt; connectionValidate(\n            @Parameter(description = &quot;resourceName cannot be empty.&quot;, required = true) @PathVariable(value = &quot;resourceName&quot;, required = true) String resourceName)\n            throws Throwable {\n        HelperService helperService = new HelperService();\n        if (resourceMap == null || resourceMap.get(resourceName) == null) {\n            Response response = new Response();\n            response.setStatus(&quot;error&quot;);\n            response.setMessage(&quot;Resource name not found&quot;);\n            return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\n        }\n        HashMap&lt;String, String&gt; resourceDataMap = resourceMap.get(resourceName);\n        \n        String localResponse = helperService.execute(helperSettingsFilePath,filepath, resourceDataMap, &quot;SAP ERP&quot;,\n                &quot;validate-resource&quot;);\n        \n        \n        Response response = new Response();\n        response.setStatus(&quot;success&quot;);\n        response.setData(localResponse);\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n    }   \n</code></pre>\n<p>When we call api it shows response in following format</p>\n<pre><code>&lt;Response&gt;\n        &lt;status&gt;success&lt;/status&gt;\n        &lt;message/&gt;\n        &lt;data&gt;\n            &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&amp;#xd;\n            &amp;lt;Return&gt;&amp;#xd;\n            &amp;lt;Status name=&quot;SUCCESS&quot;&gt;0&amp;lt;/Status&gt;&amp;#xd;\n            &amp;lt;Description&gt;Connection to the requested SapR3 Server was established successfully.&amp;lt;/Description&gt;&amp;#xd;\n            &amp;lt;/Return&gt;\n        &lt;/data&gt;\n    &lt;/Response&gt;\n</code></pre>\n<p>Expected out put</p>\n<pre><code>&lt;Response&gt;\n&lt;status&gt;success&lt;/status&gt;\n&lt;message/&gt;\n&lt;data&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Return&gt;\n&lt;Status name = &quot;SUCCESS&quot;&gt;0&lt;/Status&gt;\n&lt;Description&gt;Connection to the requested SapR3 Server was established successfully.&lt;/Description&gt;\n&lt;/Return&gt;\n&lt;/data&gt;\n&lt;/Response&gt;\n</code></pre>\n<p>Please let me know what is going wrong here.</p>\n"},{"tags":["java","android","json","retrofit2"],"comments":[{"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"score":0,"creation_date":1655282873,"post_id":72628336,"comment_id":128293326,"body_markdown":"CHECK THIS ANSWER IF IT CAN HELP: https://stackoverflow.com/a/58079454/6534707","body":"CHECK THIS ANSWER IF IT CAN HELP: <a href=\"https://stackoverflow.com/a/58079454/6534707\">stackoverflow.com/a/58079454/6534707</a>"},{"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"score":0,"creation_date":1655283209,"post_id":72628336,"comment_id":128293422,"body_markdown":"@BhoomikaPatel Thanks For Your Response, But I don&#39;t need to send Array but Just Pure Json Object if you have any suggestion please say !!","body":"@BhoomikaPatel Thanks For Your Response, But I don&#39;t need to send Array but Just Pure Json Object if you have any suggestion please say !!"},{"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"score":0,"creation_date":1655283310,"post_id":72628336,"comment_id":128293440,"body_markdown":"you need to ignore array, check for how it sends image.","body":"you need to ignore array, check for how it sends image."},{"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"score":0,"creation_date":1655283458,"post_id":72628336,"comment_id":128293502,"body_markdown":"@BhoomikaPatel I Don&#39;t have any error for sending Images, my main issue is to send the JsonObject which goes into database as String and not object !!","body":"@BhoomikaPatel I Don&#39;t have any error for sending Images, my main issue is to send the JsonObject which goes into database as String and not object !!"},{"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"score":0,"creation_date":1655283650,"post_id":72628336,"comment_id":128293572,"body_markdown":"refer this one: https://stackoverflow.com/a/21423093/6534707","body":"refer this one: <a href=\"https://stackoverflow.com/a/21423093/6534707\">stackoverflow.com/a/21423093/6534707</a>"}],"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655365705,"creation_date":1655282638,"question_id":72628336,"body_markdown":"I want to send a post request which contains jsonObject and an image and various other fields and I used MultiPart for image and have successfully uploaded the image but the jsonObject is uploaded in string format\r\n\r\nHere is my Api Interface\r\n```\r\n @Multipart\r\n    @POST(&quot;operator/upload&quot;)\r\n    Call&lt;JsonObject&gt;upload(@Header (&quot;Authorization&quot;) String t,\r\n                           @Part MultipartBody.Part img,\r\n                           @Part(&quot;fullName&quot;) RequestBody name,\r\n                           @Part(&quot;fatherName&quot;) RequestBody fathername,\r\n                           @Part(&quot;aadharNumber&quot;) RequestBody aadharnumber,\r\n                           @Part(&quot;dob&quot;) RequestBody dob,\r\n                           @Part(&quot;registeredAddress&quot;) RequestBody address,\r\n                           @Part(&quot;gender&quot;) RequestBody gender,\r\n                           @Part(&quot;plantId&quot;) RequestBody plant,\r\n                           @Part MultipartBody.Part data,\r\n                           @Part(&quot;authorized&quot;) Boolean auth,\r\n                           @Part(&quot;verified&quot;) Boolean ver) ;\r\n\r\n```\r\n\r\nHere is the Retrofit service function \r\n```\r\npublic void userUpload(String p, MultipartBody.Part image, RequestBody name, RequestBody fathername, RequestBody aadharnumber, RequestBody dob, RequestBody address, RequestBody gender, RequestBody plant, MultipartBody.Part cap, Boolean aut, Boolean ver, Response_listner response_listner) {\r\n\r\n        Call&lt;JsonObject&gt; call = api_interface.upload(p, image, name, fathername, aadharnumber, dob, address, gender, plant,cap,aut,ver);\r\n        serveCall(call, response_listner);\r\n\r\n    }\r\n```\r\n\r\nThe ServeCall Method is here\r\n```\r\nprivate void serveCall(Call&lt;JsonObject&gt; call, Response_listner responce_listner) {\r\n\r\n        call.enqueue(new Callback&lt;JsonObject&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;JsonObject&gt; call, Response&lt;JsonObject&gt; response) {\r\n\r\n                try {\r\n                    responce_listner.onResponseSuccess(response);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;JsonObject&gt; call, Throwable t) {\r\n\r\n                try {\r\n                    responce_listner.onResponseFailure(t);\r\n                    Log.d(&quot;Network&quot;, t.getMessage());\r\n                    Log.d(&quot;Network Cause&quot;, t.getCause().getMessage());\r\n                    Log.d(&quot;NetworkStack&quot;, t.getStackTrace().toString());\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n```\r\nAnd My Main Code where I Made an Api Call\r\n\r\n```\r\n HashMap&lt;String, String&gt; num2 = new HashMap&lt;&gt;();\r\n                num2.put(&quot;client_id&quot;,String.valueOf(CLIENT_ID));\r\n                num2.put(&quot;full_name&quot;,String.valueOf(FULL_NAME));\r\n                num2.put(&quot;aadhaar_number&quot;,String.valueOf(AADHAR_NUMBER));\r\n                num2.put(&quot;dob&quot;,String.valueOf(DOB));\r\n                num2.put(&quot;gender&quot;,String.valueOf(GENDER));\r\n                num2.put(&quot;face_status&quot;,String.valueOf(FACE_STATUS));\r\n                num2.put(&quot;face_score&quot;,String.valueOf(FACE_SCORE));\r\n                num2.put(&quot;zip&quot;,String.valueOf(ZIP));\r\n                num2.put(&quot;profile_image&quot;,String.valueOf(PROFILE_IMAGE));\r\n                num2.put(&quot;has_image&quot;,String.valueOf(HAS_IMAGE));\r\n                num2.put(&quot;mobile_hash&quot;,String.valueOf(MOBILE_HASH));\r\n                num2.put(&quot;raw_xml&quot;,String.valueOf(RAW_XML));\r\n                num2.put(&quot;zip_data&quot;,String.valueOf(ZIP_DATA));\r\n                num2.put(&quot;care_of&quot;,String.valueOf(CARE_OF));\r\n                num2.put(&quot;share_code&quot;,String.valueOf(SHARE_CODE));\r\n                num2.put(&quot;mobile_verified&quot;,String.valueOf(MOBILE_VERIFIED));\r\n                num2.put(&quot;reference_id&quot;,String.valueOf(REFERENCE_ID));\r\n\r\nMultipartBody.Part delta = MultipartBody.Part.createFormData(&quot;aadharDetails&quot;, num2.toString());\r\n\r\nRetrofitClient.getInstance_new().userUpload(TokenData, image, name, fathername, aadharnumber, dobb, addresss, genderr, plant,delta, auth, ver, new Response_listner() {\r\n\r\n                                    @Override\r\n                                    public void onResponseSuccess(Response baseResponse) throws IOException, JSONException {\r\n                                        if (baseResponse.isSuccessful()) {\r\n\r\n                                            Log.e(&quot;Response&quot;,baseResponse.body().toString());\r\n\r\n                                            JSONObject jsonObject = new JSONObject(baseResponse.body().toString());\r\n\r\n   \r\n\r\n                                                prog_close();\r\n                                                Intent intent = new Intent(RegisterOP.this, Done.class);\r\n                                                startActivity(intent);\r\n                                                finish();\r\n                                            }\r\n\r\n//                                        }\r\n                                        } else {\r\n                                         \r\n                                            Toast.makeText(RegisterOP.this, baseResponse.message(), Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    }\r\n\r\n\r\n                                    @Override\r\n                                    public void onResponseFailure(Throwable throwable) {\r\n                                        \r\n                                        Toast.makeText(RegisterOP.this, throwable.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                                    }\r\n                                });\r\n\r\n\r\n\r\n```\r\n\r\nSo the data that I&#39;m sending all is good except **delta** which is request body somehow it sends string rather than HashMap\r\n\r\nYour Help Is Greatly Appreciated !!\r\n\r\n\r\n","title":"How to send JsonObject Post request with image using Retrofit (Java)","body":"<p>I want to send a post request which contains jsonObject and an image and various other fields and I used MultiPart for image and have successfully uploaded the image but the jsonObject is uploaded in string format</p>\n<p>Here is my Api Interface</p>\n<pre><code> @Multipart\n    @POST(&quot;operator/upload&quot;)\n    Call&lt;JsonObject&gt;upload(@Header (&quot;Authorization&quot;) String t,\n                           @Part MultipartBody.Part img,\n                           @Part(&quot;fullName&quot;) RequestBody name,\n                           @Part(&quot;fatherName&quot;) RequestBody fathername,\n                           @Part(&quot;aadharNumber&quot;) RequestBody aadharnumber,\n                           @Part(&quot;dob&quot;) RequestBody dob,\n                           @Part(&quot;registeredAddress&quot;) RequestBody address,\n                           @Part(&quot;gender&quot;) RequestBody gender,\n                           @Part(&quot;plantId&quot;) RequestBody plant,\n                           @Part MultipartBody.Part data,\n                           @Part(&quot;authorized&quot;) Boolean auth,\n                           @Part(&quot;verified&quot;) Boolean ver) ;\n\n</code></pre>\n<p>Here is the Retrofit service function</p>\n<pre><code>public void userUpload(String p, MultipartBody.Part image, RequestBody name, RequestBody fathername, RequestBody aadharnumber, RequestBody dob, RequestBody address, RequestBody gender, RequestBody plant, MultipartBody.Part cap, Boolean aut, Boolean ver, Response_listner response_listner) {\n\n        Call&lt;JsonObject&gt; call = api_interface.upload(p, image, name, fathername, aadharnumber, dob, address, gender, plant,cap,aut,ver);\n        serveCall(call, response_listner);\n\n    }\n</code></pre>\n<p>The ServeCall Method is here</p>\n<pre><code>private void serveCall(Call&lt;JsonObject&gt; call, Response_listner responce_listner) {\n\n        call.enqueue(new Callback&lt;JsonObject&gt;() {\n            @Override\n            public void onResponse(Call&lt;JsonObject&gt; call, Response&lt;JsonObject&gt; response) {\n\n                try {\n                    responce_listner.onResponseSuccess(response);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;JsonObject&gt; call, Throwable t) {\n\n                try {\n                    responce_listner.onResponseFailure(t);\n                    Log.d(&quot;Network&quot;, t.getMessage());\n                    Log.d(&quot;Network Cause&quot;, t.getCause().getMessage());\n                    Log.d(&quot;NetworkStack&quot;, t.getStackTrace().toString());\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n</code></pre>\n<p>And My Main Code where I Made an Api Call</p>\n<pre><code> HashMap&lt;String, String&gt; num2 = new HashMap&lt;&gt;();\n                num2.put(&quot;client_id&quot;,String.valueOf(CLIENT_ID));\n                num2.put(&quot;full_name&quot;,String.valueOf(FULL_NAME));\n                num2.put(&quot;aadhaar_number&quot;,String.valueOf(AADHAR_NUMBER));\n                num2.put(&quot;dob&quot;,String.valueOf(DOB));\n                num2.put(&quot;gender&quot;,String.valueOf(GENDER));\n                num2.put(&quot;face_status&quot;,String.valueOf(FACE_STATUS));\n                num2.put(&quot;face_score&quot;,String.valueOf(FACE_SCORE));\n                num2.put(&quot;zip&quot;,String.valueOf(ZIP));\n                num2.put(&quot;profile_image&quot;,String.valueOf(PROFILE_IMAGE));\n                num2.put(&quot;has_image&quot;,String.valueOf(HAS_IMAGE));\n                num2.put(&quot;mobile_hash&quot;,String.valueOf(MOBILE_HASH));\n                num2.put(&quot;raw_xml&quot;,String.valueOf(RAW_XML));\n                num2.put(&quot;zip_data&quot;,String.valueOf(ZIP_DATA));\n                num2.put(&quot;care_of&quot;,String.valueOf(CARE_OF));\n                num2.put(&quot;share_code&quot;,String.valueOf(SHARE_CODE));\n                num2.put(&quot;mobile_verified&quot;,String.valueOf(MOBILE_VERIFIED));\n                num2.put(&quot;reference_id&quot;,String.valueOf(REFERENCE_ID));\n\nMultipartBody.Part delta = MultipartBody.Part.createFormData(&quot;aadharDetails&quot;, num2.toString());\n\nRetrofitClient.getInstance_new().userUpload(TokenData, image, name, fathername, aadharnumber, dobb, addresss, genderr, plant,delta, auth, ver, new Response_listner() {\n\n                                    @Override\n                                    public void onResponseSuccess(Response baseResponse) throws IOException, JSONException {\n                                        if (baseResponse.isSuccessful()) {\n\n                                            Log.e(&quot;Response&quot;,baseResponse.body().toString());\n\n                                            JSONObject jsonObject = new JSONObject(baseResponse.body().toString());\n\n   \n\n                                                prog_close();\n                                                Intent intent = new Intent(RegisterOP.this, Done.class);\n                                                startActivity(intent);\n                                                finish();\n                                            }\n\n//                                        }\n                                        } else {\n                                         \n                                            Toast.makeText(RegisterOP.this, baseResponse.message(), Toast.LENGTH_SHORT).show();\n                                        }\n                                    }\n\n\n                                    @Override\n                                    public void onResponseFailure(Throwable throwable) {\n                                        \n                                        Toast.makeText(RegisterOP.this, throwable.getMessage(), Toast.LENGTH_SHORT).show();\n\n\n                                    }\n                                });\n\n\n\n</code></pre>\n<p>So the data that I'm sending all is good except <strong>delta</strong> which is request body somehow it sends string rather than HashMap</p>\n<p>Your Help Is Greatly Appreciated !!</p>\n"},{"tags":["java","spring","spring-boot","autowired"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1654882297,"post_id":72577941,"comment_id":128206712,"body_markdown":"What are the packages of your repository interface, rest controller and class annotated with `@SpringBootApplication`? And what attributes does the `@SpringBootApplication` annotation have?","body":"What are the packages of your repository interface, rest controller and class annotated with <code>@SpringBootApplication</code>? And what attributes does the <code>@SpringBootApplication</code> annotation have?"},{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":0,"creation_date":1654882349,"post_id":72577941,"comment_id":128206726,"body_markdown":"Usually SpringBoot scans and includes all classes from packages at the same level as Application class and nested packages. I assume  `com.consumer.repository` is in parallel hierarchy. You have to tell SpringBoot to scan this package on start","body":"Usually SpringBoot scans and includes all classes from packages at the same level as Application class and nested packages. I assume  <code>com.consumer.repository</code> is in parallel hierarchy. You have to tell SpringBoot to scan this package on start"},{"owner":{"account_id":4995738,"reputation":94,"user_id":8824639,"display_name":"ankit"},"score":3,"creation_date":1654884542,"post_id":72577941,"comment_id":128207360,"body_markdown":"MyCarrier entity primary key is of type UUID and in MyCarrierRepository you are using Long as ID.","body":"MyCarrier entity primary key is of type UUID and in MyCarrierRepository you are using Long as ID."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1654885977,"post_id":72577941,"comment_id":128207711,"body_markdown":"As a general practice, you should include complete error log in your post than just first line. The root cause is at the end of the stack trace most of the times.","body":"As a general practice, you should include complete error log in your post than just first line. The root cause is at the end of the stack trace most of the times."},{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1654893894,"post_id":72577941,"comment_id":128209670,"body_markdown":"@ankit do u suggest I change MyCarrierRepository as UUID?","body":"@ankit do u suggest I change MyCarrierRepository as UUID?"},{"owner":{"account_id":13147502,"reputation":336,"user_id":9497126,"display_name":"acakojic"},"score":0,"creation_date":1654903058,"post_id":72577941,"comment_id":128211291,"body_markdown":"Maybe try to remove annotation @Table(&quot;carrier&quot;) from your model class MyCarrier..","body":"Maybe try to remove annotation @Table(&quot;carrier&quot;) from your model class MyCarrier.."},{"owner":{"account_id":4995738,"reputation":94,"user_id":8824639,"display_name":"ankit"},"score":0,"creation_date":1654929070,"post_id":72577941,"comment_id":128213793,"body_markdown":"@MasiBoo Yes. You have to use UUID as ID in MyCarrierRepository otherwise you will get errors when you try to use jpa methods such as findById(id) etc.","body":"@MasiBoo Yes. You have to use UUID as ID in MyCarrierRepository otherwise you will get errors when you try to use jpa methods such as findById(id) etc."},{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1654948321,"post_id":72577941,"comment_id":128216702,"body_markdown":"Sorry even after change to UUID or mention the @ComponentScan with correct basePackages. It doen&#39;t work.","body":"Sorry even after change to UUID or mention the @ComponentScan with correct basePackages. It doen&#39;t work."},{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1654948401,"post_id":72577941,"comment_id":128216719,"body_markdown":"Btw, there is another question should be simpler. Could pls check and give some tips: https://stackoverflow.com/questions/72572542/how-to-request-string-param-together-with-fluxpart-in-reactive-spring","body":"Btw, there is another question should be simpler. Could pls check and give some tips: <a href=\"https://stackoverflow.com/questions/72572542/how-to-request-string-param-together-with-fluxpart-in-reactive-spring\" title=\"how to request string param together with fluxpart in reactive spring\">stackoverflow.com/questions/72572542/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9102039,"reputation":44,"user_id":6773869,"display_name":"Amro Nahas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655365500,"creation_date":1655365500,"answer_id":72642212,"question_id":72577941,"body_markdown":"You have to put the repository inside the package at the same level as Application class  the packages to allow Spring boot to scan it ","title":"Springboot posgresql reposity bean can&#39;t be autowired","body":"<p>You have to put the repository inside the package at the same level as Application class  the packages to allow Spring boot to scan it</p>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72642212,"answer_count":1,"score":0,"last_activity_date":1655365500,"creation_date":1654881956,"question_id":72577941,"body_markdown":"I have simple Sprinngboot app where actual database is PostgreSQL. \r\n\r\nMy model:-\r\n\r\n    @Table(&quot;carrier&quot;)\r\n    @Entity\r\n    public class MyCarrier { \r\n    @Id\r\n    @Column(&quot;id&quot;)\r\n    private UUID id;\r\n        @Size(\r\n                max = 100\r\n        )\r\n        @Column(&quot;carrier_name&quot;)\r\n        private String carrierName;\r\n        @Size(\r\n                max = 3\r\n        )\r\n        @Column(&quot;smdg_code&quot;)\r\n        private String smdgCode;\r\n        @Size(\r\n                max = 4\r\n        )\r\n        @Column(&quot;nmfta_code&quot;)\r\n        private String nmftaCode;\r\n    \r\n        public MyCarrier() {\r\n        }\r\n    \r\n        public UUID getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        public String getCarrierName() {\r\n            return this.carrierName;\r\n        }\r\n    \r\n        public String getSmdgCode() {\r\n            return this.smdgCode;\r\n        }\r\n    \r\n        public String getNmftaCode() {\r\n            return this.nmftaCode;\r\n        }\r\n    \r\n        public void setId(final UUID id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setCarrierName(final String carrierName) {\r\n            this.carrierName = carrierName;\r\n        }\r\n    \r\n        public void setSmdgCode(final String smdgCode) {\r\n            this.smdgCode = smdgCode;\r\n        }\r\n    \r\n        public void setNmftaCode(final String nmftaCode) {\r\n            this.nmftaCode = nmftaCode;\r\n        }\r\n    \r\n    \r\n        protected boolean canEqual(final Object other) {\r\n            return other instanceof Carrier;\r\n        }\r\n    }\r\n\r\nRepository:-\r\n\r\n    @Repository\r\n    public interface MyCarrierRepository extends JpaRepository&lt;MyCarrier, Long&gt; {\r\n    }\r\n\r\nController:-\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;/upload&quot;)\r\n    public class ReactiveUploadResource {\r\n        Logger LOGGER = LoggerFactory.getLogger(ReactiveUploadResource.class);\r\n    \r\n    \r\n        private final SqlRequestHandler sqlRequestHandler;\r\n    \r\n        @Autowired\r\n        private  MyCarrierRepository myCarrierRepository;\r\n    \r\n        public ReactiveUploadResource(SqlRequestHandler sqlRequestHandler) {\r\n            this.sqlRequestHandler = sqlRequestHandler;\r\n        }\r\n    }\r\n\r\nI got this error:-\r\n\r\nDescription:\r\n\r\nField myCarrierRepository in com.consumer.controller.ReactiveUploadResource required a bean of type &#39;com.consumer.repository.MyCarrierRepository&#39; that could not be found.\r\n\r\nWhat is missing? Why Springboot doesn&#39;t find this repository? ","title":"Springboot posgresql reposity bean can&#39;t be autowired","body":"<p>I have simple Sprinngboot app where actual database is PostgreSQL.</p>\n<p>My model:-</p>\n<pre><code>@Table(&quot;carrier&quot;)\n@Entity\npublic class MyCarrier { \n@Id\n@Column(&quot;id&quot;)\nprivate UUID id;\n    @Size(\n            max = 100\n    )\n    @Column(&quot;carrier_name&quot;)\n    private String carrierName;\n    @Size(\n            max = 3\n    )\n    @Column(&quot;smdg_code&quot;)\n    private String smdgCode;\n    @Size(\n            max = 4\n    )\n    @Column(&quot;nmfta_code&quot;)\n    private String nmftaCode;\n\n    public MyCarrier() {\n    }\n\n    public UUID getId() {\n        return this.id;\n    }\n\n    public String getCarrierName() {\n        return this.carrierName;\n    }\n\n    public String getSmdgCode() {\n        return this.smdgCode;\n    }\n\n    public String getNmftaCode() {\n        return this.nmftaCode;\n    }\n\n    public void setId(final UUID id) {\n        this.id = id;\n    }\n\n    public void setCarrierName(final String carrierName) {\n        this.carrierName = carrierName;\n    }\n\n    public void setSmdgCode(final String smdgCode) {\n        this.smdgCode = smdgCode;\n    }\n\n    public void setNmftaCode(final String nmftaCode) {\n        this.nmftaCode = nmftaCode;\n    }\n\n\n    protected boolean canEqual(final Object other) {\n        return other instanceof Carrier;\n    }\n}\n</code></pre>\n<p>Repository:-</p>\n<pre><code>@Repository\npublic interface MyCarrierRepository extends JpaRepository&lt;MyCarrier, Long&gt; {\n}\n</code></pre>\n<p>Controller:-</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/upload&quot;)\npublic class ReactiveUploadResource {\n    Logger LOGGER = LoggerFactory.getLogger(ReactiveUploadResource.class);\n\n\n    private final SqlRequestHandler sqlRequestHandler;\n\n    @Autowired\n    private  MyCarrierRepository myCarrierRepository;\n\n    public ReactiveUploadResource(SqlRequestHandler sqlRequestHandler) {\n        this.sqlRequestHandler = sqlRequestHandler;\n    }\n}\n</code></pre>\n<p>I got this error:-</p>\n<p>Description:</p>\n<p>Field myCarrierRepository in com.consumer.controller.ReactiveUploadResource required a bean of type 'com.consumer.repository.MyCarrierRepository' that could not be found.</p>\n<p>What is missing? Why Springboot doesn't find this repository?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655365399,"creation_date":1655365399,"answer_id":72642191,"question_id":72632485,"body_markdown":"Use the `type` function :\r\n\r\n    select a from ClassA a where type(a) not in (ClassB)","title":"Hibernate: Don&#39;t query inheriting subclass with Criteria","body":"<p>Use the <code>type</code> function :</p>\n<pre><code>select a from ClassA a where type(a) not in (ClassB)\n</code></pre>\n"}],"owner":{"account_id":5141557,"reputation":81,"user_id":4118775,"display_name":"eduardog3000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655365399,"creation_date":1655300256,"question_id":72632485,"body_markdown":"Say I have a class with a subclass:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;TABLE_A&quot;)\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic class ClassA {\r\n    // columns\r\n\r\n    @Entity\r\n    @Table(name = &quot;TABLE_B&quot;)\r\n    public static class ClassB extends ClassA {\r\n        // extra columns\r\n    }\r\n}\r\n```\r\n\r\nWhen I want to query TABLE_A I try `session.createCriteria(ClassA.class)`, but it ends up giving me results from *both* TABLE_A and TABLE_B. How can I make it only get results from TABLE_A (i.e. the parent class only)?","title":"Hibernate: Don&#39;t query inheriting subclass with Criteria","body":"<p>Say I have a class with a subclass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;TABLE_A&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic class ClassA {\n    // columns\n\n    @Entity\n    @Table(name = &quot;TABLE_B&quot;)\n    public static class ClassB extends ClassA {\n        // extra columns\n    }\n}\n</code></pre>\n<p>When I want to query TABLE_A I try <code>session.createCriteria(ClassA.class)</code>, but it ends up giving me results from <em>both</em> TABLE_A and TABLE_B. How can I make it only get results from TABLE_A (i.e. the parent class only)?</p>\n"},{"tags":["java","maven","formsflow.ai","formsflow"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1655412008,"post_id":72628636,"comment_id":128332807,"body_markdown":"Create separate Maven module...","body":"Create separate Maven module..."}],"answers":[{"tags":[],"owner":{"account_id":3927687,"reputation":666,"user_id":3247425,"accept_rate":50,"display_name":"John"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655364741,"creation_date":1655285936,"answer_id":72629089,"question_id":72628636,"body_markdown":"You can checkout how to add profile on a pom.xml file from maven documentation [how to add profile in maven][1].\r\nIn formsflow.ai we let our users manage the additional library dependency using an extra pom.xml (pom-&lt;profile name&gt;.xml).\r\nYou can always refer to our internal documentation and also provided with a pom-default.xml to start with.\r\nThe facts about these profiling are.\r\n1. you can add as many as number of unique profiling in pom.xml by mapping the default configuration.\r\n2. You can add only 1 module per profile, since the docker build look up for the pom in the base directory and adding more than one module will override target.\r\n3. You need to change profile param in Dockerfile before building it if you want to go with a profile other than default.\r\n\r\nHope this helps\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-profiles.html","title":"How to create a new pom file with additional dependencies and add it during build time?","body":"<p>You can checkout how to add profile on a pom.xml file from maven documentation <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">how to add profile in maven</a>.\nIn formsflow.ai we let our users manage the additional library dependency using an extra pom.xml (pom-.xml).\nYou can always refer to our internal documentation and also provided with a pom-default.xml to start with.\nThe facts about these profiling are.</p>\n<ol>\n<li>you can add as many as number of unique profiling in pom.xml by mapping the default configuration.</li>\n<li>You can add only 1 module per profile, since the docker build look up for the pom in the base directory and adding more than one module will override target.</li>\n<li>You need to change profile param in Dockerfile before building it if you want to go with a profile other than default.</li>\n</ol>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":24727505,"reputation":105,"user_id":18615823,"display_name":"Alan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72629089,"answer_count":1,"score":7,"last_activity_date":1655364741,"creation_date":1655283944,"question_id":72628636,"body_markdown":"I am currently using formsflow.ai opensource version 4.0.5.\r\nI want to include a new Listener to the bpm module which has a new library dependency which is not currently in the solution. Although, I managed to add the new library in main pom.xml, since the requirement is for one of my client I just cannot modify the root pom.xml file. Is their an option available in formsflow / maven to include profiles and choose pom?\r\nIf it already available in formsflow, then how can I configure the same?\r\nPlease give me a solution.","title":"How to create a new pom file with additional dependencies and add it during build time?","body":"<p>I am currently using formsflow.ai opensource version 4.0.5.\nI want to include a new Listener to the bpm module which has a new library dependency which is not currently in the solution. Although, I managed to add the new library in main pom.xml, since the requirement is for one of my client I just cannot modify the root pom.xml file. Is their an option available in formsflow / maven to include profiles and choose pom?\nIf it already available in formsflow, then how can I configure the same?\nPlease give me a solution.</p>\n"},{"tags":["java","lombok","builder"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1655319951,"post_id":72636621,"comment_id":128307439,"body_markdown":"At this point, you&#39;re going to need to stop using Lombok and actually write some of your own code.","body":"At this point, you&#39;re going to need to stop using Lombok and actually write some of your own code."}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655363391,"creation_date":1655322853,"answer_id":72637144,"question_id":72636621,"body_markdown":"You could achieve it with a few options. However, Lombok could not help you will it. You have to use other options.\r\n\r\nYou could use `@CreationTimestamp` &amp; `@UpdateTimestamp`:\r\n\r\n```\r\n@Column\r\n@CreationTimestamp\r\n@Temporal(TemporalType.TIMESTAMP)\r\nprivate Date createAt;\r\n\r\n@Column\r\n@UpdateTimestamp\r\n@Temporal(TemporalType.TIMESTAMP)\r\nprivate Date editedAt;\r\n```\r\n\r\nAnother way is to use `@PrePersist` &amp; `@PreUpdate`:\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class SampleClass {\r\n   // other fields\r\n   @Column\r\n   @Temporal(TemporalType.TIMESTAMP)\r\n   private Date createdAt;\r\n\r\n   @Column\r\n   @Temporal(TemporalType.TIMESTAMP)\r\n   private Date updatedAt;\r\n\r\n   @PrePersist\r\n   protected void onCreate() {\r\n     createdAt = new Date();\r\n   }\r\n\r\n   @PreUpdate\r\n   protected void onUpdate() {\r\n     updatedAt = new Date();\r\n   }\r\n}\r\n```","title":"Lombok @Builder How create a field with timestamp of value change?","body":"<p>You could achieve it with a few options. However, Lombok could not help you will it. You have to use other options.</p>\n<p>You could use <code>@CreationTimestamp</code> &amp; <code>@UpdateTimestamp</code>:</p>\n<pre><code>@Column\n@CreationTimestamp\n@Temporal(TemporalType.TIMESTAMP)\nprivate Date createAt;\n\n@Column\n@UpdateTimestamp\n@Temporal(TemporalType.TIMESTAMP)\nprivate Date editedAt;\n</code></pre>\n<p>Another way is to use <code>@PrePersist</code> &amp; <code>@PreUpdate</code>:</p>\n<pre><code>@Data\n@Builder\npublic class SampleClass {\n   // other fields\n   @Column\n   @Temporal(TemporalType.TIMESTAMP)\n   private Date createdAt;\n\n   @Column\n   @Temporal(TemporalType.TIMESTAMP)\n   private Date updatedAt;\n\n   @PrePersist\n   protected void onCreate() {\n     createdAt = new Date();\n   }\n\n   @PreUpdate\n   protected void onUpdate() {\n     updatedAt = new Date();\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":13993863,"reputation":171,"user_id":10107189,"display_name":"Ish Montalvo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72637144,"answer_count":1,"score":1,"last_activity_date":1655363391,"creation_date":1655319742,"question_id":72636621,"body_markdown":"I have the following class: \r\n\r\n    @Data\r\n    @Builder\r\n    public class SampleClass&lt;String, String&gt; {\r\n       @NonNull\r\n       String key;\r\n\r\n       @NonNull\r\n       String value;\r\n    }\r\n\r\nIs there any way to add a timestamp for when the class is initialized and when the value is ***changed/edited/updated***?\r\n\r\nI have attempted adding: \r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private TimeStamp editedAt;\r\n\r\nBut does not seem to be what I am looking for.\r\n\r\n\r\n \r\n\r\n","title":"Lombok @Builder How create a field with timestamp of value change?","body":"<p>I have the following class:</p>\n<pre><code>@Data\n@Builder\npublic class SampleClass&lt;String, String&gt; {\n   @NonNull\n   String key;\n\n   @NonNull\n   String value;\n}\n</code></pre>\n<p>Is there any way to add a timestamp for when the class is initialized and when the value is <em><strong>changed/edited/updated</strong></em>?</p>\n<p>I have attempted adding:</p>\n<pre><code>@Temporal(TemporalType.TIMESTAMP)\nprivate TimeStamp editedAt;\n</code></pre>\n<p>But does not seem to be what I am looking for.</p>\n"},{"tags":["java","querydsl"],"comments":[{"owner":{"account_id":14034643,"reputation":584,"user_id":10137647,"display_name":"Azianese"},"score":0,"creation_date":1654798725,"post_id":72541769,"comment_id":128184377,"body_markdown":"Looks like JPA is quite strict with type comparisons. If I change the fields such that they are the same type in the table definition, the comparison works. I wonder if there&#39;s a way to force the code to treat the objects as being from the same class, maybe with a class cast somehow.","body":"Looks like JPA is quite strict with type comparisons. If I change the fields such that they are the same type in the table definition, the comparison works. I wonder if there&#39;s a way to force the code to treat the objects as being from the same class, maybe with a class cast somehow."}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654681002,"creation_date":1654681002,"answer_id":72543364,"question_id":72541769,"body_markdown":"Please try:\r\n\r\n    .on(QTableB.tableB.uuid.toString().eq(QTableA.tableA.uuid.toString()))\r\n\r\nApply `toString` on `QTableB.tableB.uuid`","title":"Unable to properly compare table columns with different types","body":"<p>Please try:</p>\n<pre><code>.on(QTableB.tableB.uuid.toString().eq(QTableA.tableA.uuid.toString()))\n</code></pre>\n<p>Apply <code>toString</code> on <code>QTableB.tableB.uuid</code></p>\n"},{"tags":[],"owner":{"account_id":14034643,"reputation":584,"user_id":10137647,"display_name":"Azianese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655363362,"creation_date":1655363362,"answer_id":72641782,"question_id":72541769,"body_markdown":"It&#39;s looking like a direct comparison is not possible with the current version. Querydsl&#39;s type checking is too strict for a direct comparison to be done on these kinds of differing data types.","title":"Unable to properly compare table columns with different types","body":"<p>It's looking like a direct comparison is not possible with the current version. Querydsl's type checking is too strict for a direct comparison to be done on these kinds of differing data types.</p>\n"}],"owner":{"account_id":14034643,"reputation":584,"user_id":10137647,"display_name":"Azianese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655363362,"creation_date":1654673872,"question_id":72541769,"body_markdown":"I&#39;m trying to use querydsl to build a query which joins two tables. However, a slight discrepancy between the corresponding Java class data types seems to prevent me from directly comparing the two columns values in my query. The data type within the object corresponding to table A is `java.util.UUID` while the data type of the object corresponding to table B is `String`.\r\n\r\nI have something like the following:\r\n\r\n    @Table(name = &quot;TABLE_A&quot;)\r\n    public class TableA {\r\n        @Column(name = &quot;uuid&quot;)\r\n\t    @Type(type = &quot;uuid-char&quot;)\r\n\t    private UUID uuid;\r\n    }\r\n\r\n    @Table(name = &quot;TABLE_B&quot;)\r\n    public class TableB {\r\n\t    @Column(name = &quot;uuid&quot;)\r\n\t    private String uuid;\r\n    }\r\n\r\n    @Service\r\n    public class QueryService {\r\n        private final JPQLQueryFactory queryFactory;\r\n\r\n        public UUID getData(UUID input) {\r\n            return queryFactory.select(QTableA.tableA.uuid)\r\n                .from(QTableA.tableA)\r\n                .innerJoin(QTableB.tableB)\r\n                    .on(QTableB.tableB.uuid.eq(QTableA.tableA.uuid.toString()))\r\n                .where(QTableA.tableA.uuid.eq(input))\r\n                .fetchOne();\r\n        }\r\n    }\r\n\r\nThe above code does not return anything. However, the below code seems to work:\r\n\r\n    @Service\r\n    public class QueryService {\r\n        private final JPQLQueryFactory queryFactory;\r\n\r\n        public UUID getData(UUID input) {\r\n            return queryFactory.select(QTableA.tableA.uuid)\r\n                .from(QTableA.tableA)\r\n                .innerJoin(QTableB.tableB)\r\n                    .on(QTableA.tableA.uuid.eq(input)\r\n\t\t\t\t\t.and(QTableB.tableB.uuid.eq(input.toString()))\r\n                .where(QTableA.tableA.uuid.eq(input))\r\n                .fetchOne();\r\n        }\r\n    }\r\n\r\nI don&#39;t understand why directly comparing the columns doesn&#39;t work, but comparing them to a common variable does work. Would `QTableA.tableA.uuid.toString()` not call the proper `toString()` method?","title":"Unable to properly compare table columns with different types","body":"<p>I'm trying to use querydsl to build a query which joins two tables. However, a slight discrepancy between the corresponding Java class data types seems to prevent me from directly comparing the two columns values in my query. The data type within the object corresponding to table A is <code>java.util.UUID</code> while the data type of the object corresponding to table B is <code>String</code>.</p>\n<p>I have something like the following:</p>\n<pre><code>@Table(name = &quot;TABLE_A&quot;)\npublic class TableA {\n    @Column(name = &quot;uuid&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID uuid;\n}\n\n@Table(name = &quot;TABLE_B&quot;)\npublic class TableB {\n    @Column(name = &quot;uuid&quot;)\n    private String uuid;\n}\n\n@Service\npublic class QueryService {\n    private final JPQLQueryFactory queryFactory;\n\n    public UUID getData(UUID input) {\n        return queryFactory.select(QTableA.tableA.uuid)\n            .from(QTableA.tableA)\n            .innerJoin(QTableB.tableB)\n                .on(QTableB.tableB.uuid.eq(QTableA.tableA.uuid.toString()))\n            .where(QTableA.tableA.uuid.eq(input))\n            .fetchOne();\n    }\n}\n</code></pre>\n<p>The above code does not return anything. However, the below code seems to work:</p>\n<pre><code>@Service\npublic class QueryService {\n    private final JPQLQueryFactory queryFactory;\n\n    public UUID getData(UUID input) {\n        return queryFactory.select(QTableA.tableA.uuid)\n            .from(QTableA.tableA)\n            .innerJoin(QTableB.tableB)\n                .on(QTableA.tableA.uuid.eq(input)\n                .and(QTableB.tableB.uuid.eq(input.toString()))\n            .where(QTableA.tableA.uuid.eq(input))\n            .fetchOne();\n    }\n}\n</code></pre>\n<p>I don't understand why directly comparing the columns doesn't work, but comparing them to a common variable does work. Would <code>QTableA.tableA.uuid.toString()</code> not call the proper <code>toString()</code> method?</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655362980,"creation_date":1655303306,"answer_id":72633192,"question_id":72633037,"body_markdown":"You should really update to use A**WS SDK For Java V2** (Using AWS SDK for V1 is not best practice). Using AWS SDK for Java v2 is best practice for using Amazon DynamoDB API. \r\n\r\nTo learn more about the AWS V2 Java API, read the Developer Guide here. \r\n\r\n[Developer guide - AWS SDK for Java 2.x][1]\r\n\r\nNow I will answer this question with V2.  The solution that worked for me was create a secondary index named **year-index**. This uses just my partition key named **year** (and does not use the sort key). \r\n\r\nI can successfully query using this index, as shown here that uses the **AWS Management Console**. \r\n\r\nNow only movies with the year 2014 are returned. That is how you query when your table has a composite key made up of a partition key and sort key and you only want to query on partition key. \r\n\r\n**By the way - you said you have a secondary index. A table can have more then 1 secondary index**\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Code that you need for V2 to query a secondary Index**\r\n\r\nI will show you how to use V2 to search for secondary index using three ways.\r\n\r\n**First way - Use the V2 Enhanced Client**\r\nOnce you create the secondary index, you can use it to query. As mentioned, I created a secondary index named **year-index**. I can use this secondary index to query data by using the [DynamoDB Enhanced Client][3]. \r\n\r\nBecause, I am querying the **Movies** table, I have to create a Class named **Movies** like this. Notice the use of the **@DynamoDbSecondaryPartitionKey** annotation. \r\n\r\n    package com.example.dynamodb;\r\n    \r\n    import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbBean;\r\n    import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbPartitionKey;\r\n    import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbSecondaryPartitionKey;\r\n    import software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbSortKey;\r\n    \r\n    @DynamoDbBean\r\n    public class Movies {\r\n        private String title;\r\n        private int year;\r\n        private String info;\r\n    \r\n        @DynamoDbSecondaryPartitionKey(indexNames = { &quot;year-index&quot; })\r\n        @DynamoDbPartitionKey\r\n        public int getYear() {\r\n          return this.year;\r\n        }\r\n        public void setYear(int year) {\r\n            this.year = year;\r\n        }\r\n    \r\n        @DynamoDbSortKey\r\n        public String getTitle() {\r\n            return this.title;\r\n        }\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getInfo() {\r\n            return this.info;\r\n        }\r\n    \r\n        public void setInfo(String info) {\r\n            this.info = info;\r\n        }\r\n    }\r\n\r\nFinally, here is the V2 code that lets you query using the secondary index. \r\n\r\n    package com.example.dynamodb;\r\n    \r\n    // snippet-start:[dynamodb.java2.get_item_index.import]\r\n    \r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.pagination.sync.SdkIterable;\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbIndex;\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\r\n    import software.amazon.awssdk.enhanced.dynamodb.Key;\r\n    import software.amazon.awssdk.enhanced.dynamodb.TableSchema;\r\n    import software.amazon.awssdk.enhanced.dynamodb.model.Page;\r\n    import software.amazon.awssdk.enhanced.dynamodb.model.QueryConditional;\r\n    import software.amazon.awssdk.enhanced.dynamodb.model.QueryEnhancedRequest;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\n    import software.amazon.awssdk.services.dynamodb.model.AttributeValue;\r\n    import software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\r\n    \r\n    import java.util.List;\r\n    // snippet-end:[dynamodb.java2.get_item_index.import]\r\n    \r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     *\r\n     * To get an item from an Amazon DynamoDB table using the AWS SDK for Java V2, its better practice to use the\r\n     * Enhanced Client, see the EnhancedGetItem example.\r\n     *\r\n     *  Create the Movies table by running the Scenario example and loading the Movies data from the JSON file. Next create a secondary\r\n     *  index for the Movies table that uses only the year column. Name the index **year-index**. For more information, see:\r\n     *\r\n     * https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html\r\n     */\r\n    public class EnhancedGetItemUsingIndex {\r\n    \r\n            public static void main(String[] args) {\r\n    \r\n                    String tableName = &quot;Movies&quot; ; //args[0];\r\n                    ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n                    Region region = Region.US_EAST_1;\r\n                    DynamoDbClient ddb = DynamoDbClient.builder()\r\n                            .credentialsProvider(credentialsProvider)\r\n                            .region(region)\r\n                            .build();\r\n    \r\n                    queryIndex(ddb, tableName);\r\n                    ddb.close();\r\n            }\r\n    \r\n            // snippet-start:[dynamodb.java2.get_item_index.main]\r\n            public static void queryIndex(DynamoDbClient ddb, String tableName) {\r\n    \r\n                    try {\r\n                            // Create a DynamoDbEnhancedClient and use the DynamoDbClient object.\r\n                            DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\r\n                                    .dynamoDbClient(ddb)\r\n                                    .build();\r\n    \r\n                            //Create a DynamoDbTable object based on Movies.\r\n                            DynamoDbTable&lt;Movies&gt; table = enhancedClient.table(&quot;Movies&quot;, TableSchema.fromBean(Movies.class));\r\n                            String dateVal = &quot;2013&quot;;\r\n    \r\n                            DynamoDbIndex&lt;Movies&gt; secIndex =\r\n                                    enhancedClient.table(&quot;Movies&quot;, TableSchema.fromBean(Movies.class))\r\n                                            .index(&quot;year-index&quot;);\r\n    \r\n                            AttributeValue attVal = AttributeValue.builder()\r\n                                    .n(dateVal)\r\n                                    .build();\r\n    \r\n                            // Create a QueryConditional object that&#39;s used in the query operation.\r\n                            QueryConditional queryConditional = QueryConditional\r\n                                    .keyEqualTo(Key.builder().partitionValue(attVal)\r\n                                            .build());\r\n    \r\n                            // Get items in the table.\r\n                            SdkIterable&lt;Page&lt;Movies&gt;&gt; results =  secIndex.query(\r\n                                    QueryEnhancedRequest.builder()\r\n                                            .queryConditional(queryConditional)\r\n                                            .limit(300)\r\n                                            .build());\r\n    \r\n                            //Display the results.\r\n                            results.forEach(page -&gt; {\r\n                                    List&lt;Movies&gt; allMovies =  page.items();\r\n                                    for (Movies myMovies: allMovies) {\r\n                                            System.out.println(&quot;The movie title is &quot; + myMovies.getTitle() + &quot;. The year is &quot; + myMovies.getYear());\r\n                                    }\r\n                            });\r\n    \r\n                    } catch (DynamoDbException e) {\r\n                            System.err.println(e.getMessage());\r\n                            System.exit(1);\r\n                    }\r\n            }\r\n    \r\n            // snippet-end:[dynamodb.java2.get_item_index.main]\r\n    }\r\n\r\n This now returns all Movies where the year is 2013. \r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Second way - Use the V2 Service Client**\r\n\r\n    package com.example.dynamodb;\r\n    \r\n    // snippet-start:[dynamodb.java2.query_items_sec_index.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\n    import software.amazon.awssdk.services.dynamodb.model.AttributeValue;\r\n    import software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\r\n    import software.amazon.awssdk.services.dynamodb.model.QueryRequest;\r\n    import software.amazon.awssdk.services.dynamodb.model.QueryResponse;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    // snippet-end:[dynamodb.java2.query_items_sec_index.import]\r\n    \r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     *\r\n     * Create the Movies table by running the Scenario example and loading the Movies data from the JSON file. Next create a secondary\r\n     * index for the Movies table that uses only the year column. Name the index **year-index**. For more information, see:\r\n     *\r\n     * https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html\r\n     */\r\n    public class QueryItemsUsingIndex {\r\n    \r\n            public static void main(String[] args) {\r\n    \r\n                    String tableName = &quot;Movies&quot; ; //args[0];\r\n                    ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n                    Region region = Region.US_EAST_1;\r\n                    DynamoDbClient ddb = DynamoDbClient.builder()\r\n                            .credentialsProvider(credentialsProvider)\r\n                            .region(region)\r\n                            .build();\r\n    \r\n                    queryIndex(ddb, tableName);\r\n                    ddb.close();\r\n            }\r\n    \r\n            // snippet-start:[dynamodb.java2.query_items_sec_index.main]\r\n            public static void queryIndex(DynamoDbClient ddb, String tableName) {\r\n    \r\n                    try {\r\n                            Map&lt;String,String&gt; expressionAttributesNames = new HashMap&lt;&gt;();\r\n                            expressionAttributesNames.put(&quot;#year&quot;,&quot;year&quot;);\r\n    \r\n                            Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\r\n                            expressionAttributeValues.put(&quot;:yearValue&quot;, AttributeValue.builder().n(&quot;2013&quot;).build());\r\n    \r\n                            QueryRequest request = QueryRequest.builder()\r\n                                    .tableName(tableName)\r\n                                    .indexName(&quot;year-index&quot;)\r\n                                    .keyConditionExpression(&quot;#year = :yearValue&quot;)\r\n                                    .expressionAttributeNames(expressionAttributesNames)\r\n                                    .expressionAttributeValues(expressionAttributeValues)\r\n                                    .build();\r\n    \r\n                            System.out.println(&quot;=== Movie Titles ===&quot;);\r\n    \r\n                            QueryResponse response = ddb.query(request);\r\n                            response.items()\r\n                                    .forEach(movie-&gt; System.out.println(movie.get(&quot;title&quot;).s()));\r\n    \r\n    \r\n                    } catch (DynamoDbException e) {\r\n                            System.err.println(e.getMessage());\r\n                            System.exit(1);\r\n                    }\r\n            }\r\n            // snippet-end:[dynamodb.java2.query_items_sec_index.main]\r\n    }\r\n\r\n****Third way - Use PartQL**\r\n\r\nOf course, you can query the partition key using PartiQL. For example.\r\n\r\n    public static void queryTable(DynamoDbClient ddb) {\r\n            String sqlStatement = &quot;SELECT * FROM MoviesPartiQ where year = ? ORDER BY info&quot;;\r\n            try {\r\n    \r\n                List&lt;AttributeValue&gt; parameters = new ArrayList&lt;&gt;();\r\n                AttributeValue att1 = AttributeValue.builder()\r\n                        .n(String.valueOf(&quot;2013&quot;))\r\n                        .build();\r\n                parameters.add(att1);\r\n    \r\n                // Get items in the table and write out the ID value.\r\n                ExecuteStatementResponse response = executeStatementRequest(ddb, sqlStatement, parameters);\r\n                System.out.println(&quot;ExecuteStatement successful: &quot;+ response.toString());\r\n    \r\n            } catch (DynamoDbException e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [2]: https://i.stack.imgur.com/4n4XY.png\r\n  [3]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/DynamoDbEnhancedClient.html\r\n  [4]: https://i.stack.imgur.com/3Anef.png","title":"DynamoDB Table Partition key and sort key are 1:1 - how to go about querying only using partition key?","body":"<p>You should really update to use A<strong>WS SDK For Java V2</strong> (Using AWS SDK for V1 is not best practice). Using AWS SDK for Java v2 is best practice for using Amazon DynamoDB API.</p>\n<p>To learn more about the AWS V2 Java API, read the Developer Guide here.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">Developer guide - AWS SDK for Java 2.x</a></p>\n<p>Now I will answer this question with V2.  The solution that worked for me was create a secondary index named <strong>year-index</strong>. This uses just my partition key named <strong>year</strong> (and does not use the sort key).</p>\n<p>I can successfully query using this index, as shown here that uses the <strong>AWS Management Console</strong>.</p>\n<p>Now only movies with the year 2014 are returned. That is how you query when your table has a composite key made up of a partition key and sort key and you only want to query on partition key.</p>\n<p><strong>By the way - you said you have a secondary index. A table can have more then 1 secondary index</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4n4XY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4n4XY.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Code that you need for V2 to query a secondary Index</strong></p>\n<p>I will show you how to use V2 to search for secondary index using three ways.</p>\n<p><strong>First way - Use the V2 Enhanced Client</strong>\nOnce you create the secondary index, you can use it to query. As mentioned, I created a secondary index named <strong>year-index</strong>. I can use this secondary index to query data by using the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/DynamoDbEnhancedClient.html\" rel=\"nofollow noreferrer\">DynamoDB Enhanced Client</a>.</p>\n<p>Because, I am querying the <strong>Movies</strong> table, I have to create a Class named <strong>Movies</strong> like this. Notice the use of the <strong>@DynamoDbSecondaryPartitionKey</strong> annotation.</p>\n<pre><code>package com.example.dynamodb;\n\nimport software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbBean;\nimport software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbPartitionKey;\nimport software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbSecondaryPartitionKey;\nimport software.amazon.awssdk.enhanced.dynamodb.mapper.annotations.DynamoDbSortKey;\n\n@DynamoDbBean\npublic class Movies {\n    private String title;\n    private int year;\n    private String info;\n\n    @DynamoDbSecondaryPartitionKey(indexNames = { &quot;year-index&quot; })\n    @DynamoDbPartitionKey\n    public int getYear() {\n      return this.year;\n    }\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    @DynamoDbSortKey\n    public String getTitle() {\n        return this.title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getInfo() {\n        return this.info;\n    }\n\n    public void setInfo(String info) {\n        this.info = info;\n    }\n}\n</code></pre>\n<p>Finally, here is the V2 code that lets you query using the secondary index.</p>\n<pre><code>package com.example.dynamodb;\n\n// snippet-start:[dynamodb.java2.get_item_index.import]\n\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.pagination.sync.SdkIterable;\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbIndex;\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\nimport software.amazon.awssdk.enhanced.dynamodb.Key;\nimport software.amazon.awssdk.enhanced.dynamodb.TableSchema;\nimport software.amazon.awssdk.enhanced.dynamodb.model.Page;\nimport software.amazon.awssdk.enhanced.dynamodb.model.QueryConditional;\nimport software.amazon.awssdk.enhanced.dynamodb.model.QueryEnhancedRequest;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\nimport software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\n\nimport java.util.List;\n// snippet-end:[dynamodb.java2.get_item_index.import]\n\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n *\n * To get an item from an Amazon DynamoDB table using the AWS SDK for Java V2, its better practice to use the\n * Enhanced Client, see the EnhancedGetItem example.\n *\n *  Create the Movies table by running the Scenario example and loading the Movies data from the JSON file. Next create a secondary\n *  index for the Movies table that uses only the year column. Name the index **year-index**. For more information, see:\n *\n * https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html\n */\npublic class EnhancedGetItemUsingIndex {\n\n        public static void main(String[] args) {\n\n                String tableName = &quot;Movies&quot; ; //args[0];\n                ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n                Region region = Region.US_EAST_1;\n                DynamoDbClient ddb = DynamoDbClient.builder()\n                        .credentialsProvider(credentialsProvider)\n                        .region(region)\n                        .build();\n\n                queryIndex(ddb, tableName);\n                ddb.close();\n        }\n\n        // snippet-start:[dynamodb.java2.get_item_index.main]\n        public static void queryIndex(DynamoDbClient ddb, String tableName) {\n\n                try {\n                        // Create a DynamoDbEnhancedClient and use the DynamoDbClient object.\n                        DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.builder()\n                                .dynamoDbClient(ddb)\n                                .build();\n\n                        //Create a DynamoDbTable object based on Movies.\n                        DynamoDbTable&lt;Movies&gt; table = enhancedClient.table(&quot;Movies&quot;, TableSchema.fromBean(Movies.class));\n                        String dateVal = &quot;2013&quot;;\n\n                        DynamoDbIndex&lt;Movies&gt; secIndex =\n                                enhancedClient.table(&quot;Movies&quot;, TableSchema.fromBean(Movies.class))\n                                        .index(&quot;year-index&quot;);\n\n                        AttributeValue attVal = AttributeValue.builder()\n                                .n(dateVal)\n                                .build();\n\n                        // Create a QueryConditional object that's used in the query operation.\n                        QueryConditional queryConditional = QueryConditional\n                                .keyEqualTo(Key.builder().partitionValue(attVal)\n                                        .build());\n\n                        // Get items in the table.\n                        SdkIterable&lt;Page&lt;Movies&gt;&gt; results =  secIndex.query(\n                                QueryEnhancedRequest.builder()\n                                        .queryConditional(queryConditional)\n                                        .limit(300)\n                                        .build());\n\n                        //Display the results.\n                        results.forEach(page -&gt; {\n                                List&lt;Movies&gt; allMovies =  page.items();\n                                for (Movies myMovies: allMovies) {\n                                        System.out.println(&quot;The movie title is &quot; + myMovies.getTitle() + &quot;. The year is &quot; + myMovies.getYear());\n                                }\n                        });\n\n                } catch (DynamoDbException e) {\n                        System.err.println(e.getMessage());\n                        System.exit(1);\n                }\n        }\n\n        // snippet-end:[dynamodb.java2.get_item_index.main]\n}\n</code></pre>\n<p>This now returns all Movies where the year is 2013.</p>\n<p><a href=\"https://i.stack.imgur.com/3Anef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Anef.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Second way - Use the V2 Service Client</strong></p>\n<pre><code>package com.example.dynamodb;\n\n// snippet-start:[dynamodb.java2.query_items_sec_index.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\nimport software.amazon.awssdk.services.dynamodb.model.DynamoDbException;\nimport software.amazon.awssdk.services.dynamodb.model.QueryRequest;\nimport software.amazon.awssdk.services.dynamodb.model.QueryResponse;\nimport java.util.HashMap;\nimport java.util.Map;\n// snippet-end:[dynamodb.java2.query_items_sec_index.import]\n\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n *\n * Create the Movies table by running the Scenario example and loading the Movies data from the JSON file. Next create a secondary\n * index for the Movies table that uses only the year column. Name the index **year-index**. For more information, see:\n *\n * https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html\n */\npublic class QueryItemsUsingIndex {\n\n        public static void main(String[] args) {\n\n                String tableName = &quot;Movies&quot; ; //args[0];\n                ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n                Region region = Region.US_EAST_1;\n                DynamoDbClient ddb = DynamoDbClient.builder()\n                        .credentialsProvider(credentialsProvider)\n                        .region(region)\n                        .build();\n\n                queryIndex(ddb, tableName);\n                ddb.close();\n        }\n\n        // snippet-start:[dynamodb.java2.query_items_sec_index.main]\n        public static void queryIndex(DynamoDbClient ddb, String tableName) {\n\n                try {\n                        Map&lt;String,String&gt; expressionAttributesNames = new HashMap&lt;&gt;();\n                        expressionAttributesNames.put(&quot;#year&quot;,&quot;year&quot;);\n\n                        Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\n                        expressionAttributeValues.put(&quot;:yearValue&quot;, AttributeValue.builder().n(&quot;2013&quot;).build());\n\n                        QueryRequest request = QueryRequest.builder()\n                                .tableName(tableName)\n                                .indexName(&quot;year-index&quot;)\n                                .keyConditionExpression(&quot;#year = :yearValue&quot;)\n                                .expressionAttributeNames(expressionAttributesNames)\n                                .expressionAttributeValues(expressionAttributeValues)\n                                .build();\n\n                        System.out.println(&quot;=== Movie Titles ===&quot;);\n\n                        QueryResponse response = ddb.query(request);\n                        response.items()\n                                .forEach(movie-&gt; System.out.println(movie.get(&quot;title&quot;).s()));\n\n\n                } catch (DynamoDbException e) {\n                        System.err.println(e.getMessage());\n                        System.exit(1);\n                }\n        }\n        // snippet-end:[dynamodb.java2.query_items_sec_index.main]\n}\n</code></pre>\n<p>**<strong>Third way - Use PartQL</strong></p>\n<p>Of course, you can query the partition key using PartiQL. For example.</p>\n<pre><code>public static void queryTable(DynamoDbClient ddb) {\n        String sqlStatement = &quot;SELECT * FROM MoviesPartiQ where year = ? ORDER BY info&quot;;\n        try {\n\n            List&lt;AttributeValue&gt; parameters = new ArrayList&lt;&gt;();\n            AttributeValue att1 = AttributeValue.builder()\n                    .n(String.valueOf(&quot;2013&quot;))\n                    .build();\n            parameters.add(att1);\n\n            // Get items in the table and write out the ID value.\n            ExecuteStatementResponse response = executeStatementRequest(ddb, sqlStatement, parameters);\n            System.out.println(&quot;ExecuteStatement successful: &quot;+ response.toString());\n\n        } catch (DynamoDbException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25563183,"reputation":1,"user_id":19345478,"display_name":"faders"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655362980,"creation_date":1655302623,"question_id":72633037,"body_markdown":"I am attempting to query a table that has a partition key and sort key (however the partition key and sort key are 1:1 and I want to query only using the partition key [in which only one item would be returned]).\r\n\r\n            QueryRequest query = new QueryRequest()\r\n                .withTableName(TABLE_NAME)\r\n                .withKeyConditionExpression(&quot;testId = :&quot; + &quot;1234567890&quot;);\r\n\r\n        QueryResult result = client.query(query);\r\n\r\nThis is the code I tried but it did not work (testId is the partition key name and 1234567890 is the partition key value in String form); do y&#39;all know of a method I could use to query by only using the partition key keeping in mind that only one item will be returned since the partition key and sort key are 1:1? Thank you so much in advance. [This is my first Stack Overflow post - my apologies if I worded things poorly, I&#39;m happy to answer any questions about my wording]\r\n\r\nFYI: this is the error statement I got when trying to use the code above:\r\n\r\n    errorMessage&quot;: &quot;Invalid KeyConditionExpression: An expression attribute value used in expression is not defined","title":"DynamoDB Table Partition key and sort key are 1:1 - how to go about querying only using partition key?","body":"<p>I am attempting to query a table that has a partition key and sort key (however the partition key and sort key are 1:1 and I want to query only using the partition key [in which only one item would be returned]).</p>\n<pre><code>        QueryRequest query = new QueryRequest()\n            .withTableName(TABLE_NAME)\n            .withKeyConditionExpression(&quot;testId = :&quot; + &quot;1234567890&quot;);\n\n    QueryResult result = client.query(query);\n</code></pre>\n<p>This is the code I tried but it did not work (testId is the partition key name and 1234567890 is the partition key value in String form); do y'all know of a method I could use to query by only using the partition key keeping in mind that only one item will be returned since the partition key and sort key are 1:1? Thank you so much in advance. [This is my first Stack Overflow post - my apologies if I worded things poorly, I'm happy to answer any questions about my wording]</p>\n<p>FYI: this is the error statement I got when trying to use the code above:</p>\n<pre><code>errorMessage&quot;: &quot;Invalid KeyConditionExpression: An expression attribute value used in expression is not defined\n</code></pre>\n"},{"tags":["java","tomcat","amazon-elastic-beanstalk","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1428963639,"creation_date":1428941724,"answer_id":29610137,"question_id":29579589,"body_markdown":"The problem is that I was doing it wrong.  Setting the sun.net.inetaddr.ttl environment variable works.  You can do this in your Elastic Beakstalk config file:\r\n\r\n    option_settings:\r\n        - namespace: aws:elasticbeanstalk:application:environment\r\n          option_name: sun.net.inetaddr.ttl\r\n          value: 60\r\n\r\n60 seconds is the value [recommended by Amazon][1]\r\n\r\nAnother option that seems a little nicer to me is to create and use a java.security file:\r\n\r\n    option_settings:\r\n        - namespace: aws:elasticbeanstalk:application:environment\r\n          option_name: java.security.properties\r\n          value: /etc/myapp/java.security\r\n    container_commands:\r\n        00create_config_dir:\r\n            command: &#39;mkdir -p /etc/myapp&#39;\r\n            ignoreErrors: true\r\n        01create_java_security_file:\r\n            command: &#39;echo &quot;networkaddress.cache.ttl=60&quot; &gt; /etc/myapp/java.security&#39;\r\n            ignoreErrors: true\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSSdkDocsJava/latest/DeveloperGuide/java-dg-jvm-ttl.html","title":"What&#39;s the recommended way to set networkaddress.cache.ttl in Elastic Beanstalk?","body":"<p>The problem is that I was doing it wrong.  Setting the sun.net.inetaddr.ttl environment variable works.  You can do this in your Elastic Beakstalk config file:</p>\n\n<pre><code>option_settings:\n    - namespace: aws:elasticbeanstalk:application:environment\n      option_name: sun.net.inetaddr.ttl\n      value: 60\n</code></pre>\n\n<p>60 seconds is the value <a href=\"http://docs.aws.amazon.com/AWSSdkDocsJava/latest/DeveloperGuide/java-dg-jvm-ttl.html\" rel=\"nofollow\">recommended by Amazon</a></p>\n\n<p>Another option that seems a little nicer to me is to create and use a java.security file:</p>\n\n<pre><code>option_settings:\n    - namespace: aws:elasticbeanstalk:application:environment\n      option_name: java.security.properties\n      value: /etc/myapp/java.security\ncontainer_commands:\n    00create_config_dir:\n        command: 'mkdir -p /etc/myapp'\n        ignoreErrors: true\n    01create_java_security_file:\n        command: 'echo \"networkaddress.cache.ttl=60\" &gt; /etc/myapp/java.security'\n        ignoreErrors: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":965666,"reputation":681,"user_id":989139,"accept_rate":42,"display_name":"monish001"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535380029,"creation_date":1535380029,"answer_id":52041505,"question_id":29579589,"body_markdown":"If you are using spring framework, following is what I did to set the `networkaddress.cache.ttl` at the time of application initialisation.\r\n\r\n1. Define a new Java class as follows.\r\n\r\n        package com.example.util;\r\n        public class SecurityManager {\r\n          public SecurityManager() {\r\n            java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;60&quot;);\r\n          }\r\n        }\r\n\r\n2. Ask spring framework to instantiate the object of above class as a singleton at the time on spring container creation.\r\n\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n\r\n          &lt;bean id=&quot;securityManager&quot; \r\n            class=&quot;com.example.util.SecurityManager&quot; scope=&quot;singleton&quot; /&gt;\r\n\r\n        &lt;/beans&gt;\r\n\r\n","title":"What&#39;s the recommended way to set networkaddress.cache.ttl in Elastic Beanstalk?","body":"<p>If you are using spring framework, following is what I did to set the <code>networkaddress.cache.ttl</code> at the time of application initialisation.</p>\n\n<ol>\n<li><p>Define a new Java class as follows.</p>\n\n<pre><code>package com.example.util;\npublic class SecurityManager {\n  public SecurityManager() {\n    java.security.Security.setProperty(\"networkaddress.cache.ttl\", \"60\");\n  }\n}\n</code></pre></li>\n<li><p>Ask spring framework to instantiate the object of above class as a singleton at the time on spring container creation.</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n  &lt;bean id=\"securityManager\" \n    class=\"com.example.util.SecurityManager\" scope=\"singleton\" /&gt;\n\n&lt;/beans&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11414167,"reputation":358,"user_id":8367422,"display_name":"gd08xxx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655362943,"creation_date":1655362943,"answer_id":72641711,"question_id":29579589,"body_markdown":"If you are using Spring Boot, you can define a @Configuration \r\n```\r\n@Configuration\r\nclass SecurityManager {\r\n    \r\ninit { \r\n  Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;5&quot;)\r\n  }\r\n}\r\n```","title":"What&#39;s the recommended way to set networkaddress.cache.ttl in Elastic Beanstalk?","body":"<p>If you are using Spring Boot, you can define a @Configuration</p>\n<pre><code>@Configuration\nclass SecurityManager {\n    \ninit { \n  Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;5&quot;)\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6426,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29610137,"answer_count":3,"score":3,"last_activity_date":1655362943,"creation_date":1428766130,"question_id":29579589,"body_markdown":"I need to set Java&#39;s DNS cache TTL (networkaddress.cache.ttl) for an Amazon Elastic Beanstalk app running in Tomcat 8.  Because EB can start and stop server instances at any time, I can&#39;t simply edit a Tomcat config file and the server and expect the change to persist.\r\n\r\nI tried setting the networkaddress.cache.ttl and sun.net.inetaddr.ttl environment variables, but those had no effect.  Amazon says calling `java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot; , &quot;60&quot;);` &quot;will not work if you run your application inside of Tomcat&quot; (http://aws.amazon.com/articles/4035).  What&#39;s a good way to set the TTL?","title":"What&#39;s the recommended way to set networkaddress.cache.ttl in Elastic Beanstalk?","body":"<p>I need to set Java's DNS cache TTL (networkaddress.cache.ttl) for an Amazon Elastic Beanstalk app running in Tomcat 8.  Because EB can start and stop server instances at any time, I can't simply edit a Tomcat config file and the server and expect the change to persist.</p>\n\n<p>I tried setting the networkaddress.cache.ttl and sun.net.inetaddr.ttl environment variables, but those had no effect.  Amazon says calling <code>java.security.Security.setProperty(\"networkaddress.cache.ttl\" , \"60\");</code> \"will not work if you run your application inside of Tomcat\" (<a href=\"http://aws.amazon.com/articles/4035\" rel=\"nofollow\">http://aws.amazon.com/articles/4035</a>).  What's a good way to set the TTL?</p>\n"},{"tags":["java","algorithm","graph","nodes","graph-theory"],"comments":[{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":1,"creation_date":1655356375,"post_id":72640506,"comment_id":128314271,"body_markdown":"Running BFS should work; what issue are you facing?","body":"Running BFS should work; what issue are you facing?"},{"owner":{"account_id":21090093,"reputation":21,"user_id":15502199,"display_name":"jesjolly"},"score":0,"creation_date":1655356762,"post_id":72640506,"comment_id":128314364,"body_markdown":"I need some help creating the BFS/DFS algoritum for this.","body":"I need some help creating the BFS/DFS algoritum for this."},{"owner":{"account_id":3711000,"reputation":31781,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":1,"creation_date":1655357121,"post_id":72640506,"comment_id":128314455,"body_markdown":"Check Algorithms book by Robert Sedgewick. It has examples and explanation of Bfs and Dfs, from that get some inspiration and make your own. In your code you are creating data structure but have not trying solving the main problem","body":"Check Algorithms book by Robert Sedgewick. It has examples and explanation of Bfs and Dfs, from that get some inspiration and make your own. In your code you are creating data structure but have not trying solving the main problem"},{"owner":{"account_id":21090093,"reputation":21,"user_id":15502199,"display_name":"jesjolly"},"score":0,"creation_date":1655362876,"post_id":72640506,"comment_id":128315838,"body_markdown":"I did try printRoutes method using DFS but was not able to get it working","body":"I did try printRoutes method using DFS but was not able to get it working"}],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655358544,"creation_date":1655358544,"answer_id":72641065,"question_id":72640506,"body_markdown":"Yes, using BFS (or DFS) is right idea for getting all simple paths between vertices.\r\n\r\nYou just need to modify these algorithms a bit:  BFS uses global `visited` marks data. Instead make `visited` data structure local to every branch - as parameter of recursive function in case of recursive implementation.","title":"Print all possible routes between C to D in Graph only visiting once","body":"<p>Yes, using BFS (or DFS) is right idea for getting all simple paths between vertices.</p>\n<p>You just need to modify these algorithms a bit:  BFS uses global <code>visited</code> marks data. Instead make <code>visited</code> data structure local to every branch - as parameter of recursive function in case of recursive implementation.</p>\n"}],"owner":{"account_id":21090093,"reputation":21,"user_id":15502199,"display_name":"jesjolly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1655362835,"creation_date":1655354141,"question_id":72640506,"body_markdown":"Working on a problem for graph traversal given a start and end.\r\nExample if given edge routes:\r\n(&quot;A&quot;,&quot;B&quot;)\r\n(&quot;A&quot;,&quot;C&quot;)\r\n(&quot;A&quot;,&quot;D&quot;)\r\n(&quot;B&quot;,&quot;C&quot;)\r\n(&quot;B&quot;,&quot;D&quot;)\r\n\r\nAnswer would be: \r\n(C,B,D)\r\n(C,A,D)\r\n(C,A,B,D)\r\n(C,B,A,D)\r\n\r\nI am implementing this with two methods addRoute and printRoutes that take a start and des(the source and destination). \r\n\r\nI created addRoute to add them, but having trouble trying to find a good solution to print all unique routes.\r\n\r\nSolution so far is to convert it to an adjacency list and to run DFS or BFS on it. I need some help creating the BFS/DFS algoritum for this. \r\n\r\n    public class Graph{\r\n        List&lt;List&lt;String&gt;&gt; edges= new ArrayList&lt;&gt;();\r\n        Map&lt;String, Set&lt;String&gt;&gt; adjList= new HashMap&lt;&gt;();\r\n    \r\n         void addRoutes(String start, String des) {\r\n             List&lt;String&gt; temp1 = new ArrayList&lt;&gt;();\r\n             temp1.add(start);\r\n             temp1.add(des);\r\n            edges.add(temp1);\r\n            adjList.putIfAbsent(start, new HashSet&lt;&gt;());\r\n            adjList.putIfAbsent(des, new HashSet&lt;&gt;());\r\n            adjList.get(start).add(des);\r\n            adjList.get(des).add(start);\r\n        }\r\n            void printRoutes(String start, String des) {\r\n         Set&lt;String&gt; visited = new HashSet&lt;&gt;();\r\n         // Mark the current node as visited and enqueue it\r\n\r\n         // Create a queue for BFS\r\n         Queue&lt;List&lt;String&gt; &gt; queue = new LinkedList&lt;&gt;();\r\n         // Path vector to store the current path\r\n         List&lt;String&gt; path = new ArrayList&lt;&gt;();\r\n         path.add(start);\r\n         queue.offer(path);\r\n\r\n         while (!queue.isEmpty()) {\r\n             path = queue.poll();\r\n             String last = path.get(path.size() -1);\r\n             if (last == des) {\r\n                 int size = path.size();\r\n                 for(String v : path) {\r\n                     System.out.print(v + &quot; &quot;);\r\n                 }\r\n             }\r\n             Set&lt;String&gt; lastNode = adjList.get(last);\r\n             for (String neig : adjList.get(start)) {\r\n                 if (!visited.contains(neig)) {\r\n                     List&lt;String&gt; newpath = new ArrayList(path);\r\n                     visited.add(start);\r\n                     queue.offer(newpath);\r\n                 }\r\n\r\n             }\r\n         }\r\n    }\r\n        public static void main(String[] args) {\r\n            Graph g = new Graph();\r\n            g.addRoutes(&quot;A&quot;,&quot;B&quot;);\r\n            g.addRoutes(&quot;A&quot;,&quot;C&quot;);\r\n            g.addRoutes(&quot;A&quot;,&quot;D&quot;);\r\n            g.addRoutes(&quot;B&quot;,&quot;C&quot;);\r\n            g.addRoutes(&quot;B&quot;,&quot;D&quot;);\r\n            System.out.println(g.edges);\r\n            System.out.println(g.adjList);\r\n        }\r\n    }","title":"Print all possible routes between C to D in Graph only visiting once","body":"<p>Working on a problem for graph traversal given a start and end.\nExample if given edge routes:\n(&quot;A&quot;,&quot;B&quot;)\n(&quot;A&quot;,&quot;C&quot;)\n(&quot;A&quot;,&quot;D&quot;)\n(&quot;B&quot;,&quot;C&quot;)\n(&quot;B&quot;,&quot;D&quot;)</p>\n<p>Answer would be:\n(C,B,D)\n(C,A,D)\n(C,A,B,D)\n(C,B,A,D)</p>\n<p>I am implementing this with two methods addRoute and printRoutes that take a start and des(the source and destination).</p>\n<p>I created addRoute to add them, but having trouble trying to find a good solution to print all unique routes.</p>\n<p>Solution so far is to convert it to an adjacency list and to run DFS or BFS on it. I need some help creating the BFS/DFS algoritum for this.</p>\n<pre><code>public class Graph{\n    List&lt;List&lt;String&gt;&gt; edges= new ArrayList&lt;&gt;();\n    Map&lt;String, Set&lt;String&gt;&gt; adjList= new HashMap&lt;&gt;();\n\n     void addRoutes(String start, String des) {\n         List&lt;String&gt; temp1 = new ArrayList&lt;&gt;();\n         temp1.add(start);\n         temp1.add(des);\n        edges.add(temp1);\n        adjList.putIfAbsent(start, new HashSet&lt;&gt;());\n        adjList.putIfAbsent(des, new HashSet&lt;&gt;());\n        adjList.get(start).add(des);\n        adjList.get(des).add(start);\n    }\n        void printRoutes(String start, String des) {\n     Set&lt;String&gt; visited = new HashSet&lt;&gt;();\n     // Mark the current node as visited and enqueue it\n\n     // Create a queue for BFS\n     Queue&lt;List&lt;String&gt; &gt; queue = new LinkedList&lt;&gt;();\n     // Path vector to store the current path\n     List&lt;String&gt; path = new ArrayList&lt;&gt;();\n     path.add(start);\n     queue.offer(path);\n\n     while (!queue.isEmpty()) {\n         path = queue.poll();\n         String last = path.get(path.size() -1);\n         if (last == des) {\n             int size = path.size();\n             for(String v : path) {\n                 System.out.print(v + &quot; &quot;);\n             }\n         }\n         Set&lt;String&gt; lastNode = adjList.get(last);\n         for (String neig : adjList.get(start)) {\n             if (!visited.contains(neig)) {\n                 List&lt;String&gt; newpath = new ArrayList(path);\n                 visited.add(start);\n                 queue.offer(newpath);\n             }\n\n         }\n     }\n}\n    public static void main(String[] args) {\n        Graph g = new Graph();\n        g.addRoutes(&quot;A&quot;,&quot;B&quot;);\n        g.addRoutes(&quot;A&quot;,&quot;C&quot;);\n        g.addRoutes(&quot;A&quot;,&quot;D&quot;);\n        g.addRoutes(&quot;B&quot;,&quot;C&quot;);\n        g.addRoutes(&quot;B&quot;,&quot;D&quot;);\n        System.out.println(g.edges);\n        System.out.println(g.adjList);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit","couchbase","spring-data-couchbase"],"comments":[{"owner":{"account_id":1213404,"reputation":2473,"user_id":1181512,"accept_rate":80,"display_name":"scalabilitysolved"},"score":0,"creation_date":1419343749,"post_id":27621516,"comment_id":43664512,"body_markdown":"Post up what failures you get, plus your whole test file.","body":"Post up what failures you get, plus your whole test file."},{"owner":{"account_id":4696628,"reputation":428,"user_id":3801335,"accept_rate":75,"display_name":"Cuzz"},"score":0,"creation_date":1419344214,"post_id":27621516,"comment_id":43664773,"body_markdown":"failures: `doc.getFirstField()` ends with null pointer of  `doc`. so do a conclusion that doc not found in couchbase by view.","body":"failures: <code>doc.getFirstField()</code> ends with null pointer of  <code>doc</code>. so do a conclusion that doc not found in couchbase by view."}],"answers":[{"tags":[],"owner":{"account_id":4696628,"reputation":428,"user_id":3801335,"accept_rate":75,"display_name":"Cuzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1419401410,"creation_date":1419401410,"answer_id":27632320,"question_id":27621516,"body_markdown":"Problem resolved. \r\nReason was that after document added to couchbase view was not refresh. So just needed to add \r\n\r\n    query.setStale( Stale.FALSE );\r\n\r\nView will be refresh before receiving data. ","title":"Spring junit tests with couchbase","body":"<p>Problem resolved. \nReason was that after document added to couchbase view was not refresh. So just needed to add </p>\n\n<pre><code>query.setStale( Stale.FALSE );\n</code></pre>\n\n<p>View will be refresh before receiving data. </p>\n"},{"tags":[],"owner":{"account_id":10830002,"reputation":21,"user_id":7964728,"display_name":"Deepmala Srivastav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655362398,"creation_date":1655362398,"answer_id":72641610,"question_id":27621516,"body_markdown":"query.setStale(Stale.FALSE)\r\n\r\nThis will refresh the view, and stale data will not be there","title":"Spring junit tests with couchbase","body":"<p>query.setStale(Stale.FALSE)</p>\n<p>This will refresh the view, and stale data will not be there</p>\n"}],"owner":{"account_id":4696628,"reputation":428,"user_id":3801335,"accept_rate":75,"display_name":"Cuzz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2015,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27632320,"answer_count":2,"score":2,"last_activity_date":1655362398,"creation_date":1419341879,"question_id":27621516,"body_markdown":"I have some Services that should get documents from couchbase.\r\n\r\nServices:\r\n\r\n        public List&lt;Doc&gt; findByFirstField( String firstFieldValue )\r\n        {\r\n            Query query = new Query();\r\n            query.setKey( ComplexKey.of( firstFieldValue ) );\r\n            List&lt;Doc&gt; docs = (List&lt;Doc&gt;) docRepository.findFirstField( query );\r\n            return docs;\r\n        }\r\n\r\n        public List&lt;Doc&gt; findBySecondField( String secondFieldValue )\r\n        {\r\n            Query query = new Query();\r\n            query.setKey( ComplexKey.of( secondFieldValue ) );\r\n            List&lt;Doc&gt; docs = (List&lt;Doc&gt;) docRepository.findSecondField( query );\r\n            return docs;\r\n        }\r\n\r\nAlso I have DocRepository interface with necessary methods and views on couchbase server.\r\nWhen I run my app and call Services its work fine, but I need tests for this Services. \r\n\r\nTests:\r\n\r\n    @RunWith( SpringJUnit4ClassRunner.class )\r\n    @TestExecutionListeners( listeners = { DependencyInjectionTestExecutionListener.class } )\r\n    @ContextConfiguration( classes = {CouchbaseConfig.class, DocServiceImplTest.class, DocServiceImpl.class } )\r\n    @Configuration\r\n    \r\n        @Before\r\n        public void CreateDoc()\r\n            throws InterruptedException\r\n        {\r\n            HashMap&lt;String, String&gt; docInfo = new HashMap&lt;String, String&gt;();\r\n            docInfo.put( &quot;docId&quot;, &quot;testDoc&quot; );\r\n            docInfo.put( &quot;field1&quot;, &quot;value1&quot; );\r\n            docInfo.put( &quot;field2&quot;, &quot;value2&quot; );\r\n            docService.saveDoc( docInfo );\r\n        }\r\n    \r\n        @After\r\n        public  void deleteTestsDoc()\r\n        {\r\n            docService.deleteDoc( &quot;testDoc&quot; );\r\n        }\r\n        \r\n        @Test\r\n        public void testFindByField1()\r\n        {\r\n            Doc doc = docService.findByFirstField( &quot;value1&quot; );\r\n            assertEquals( &quot;value1&quot;, doc.getFirstField() );\r\n        }\r\n        \r\n        @Test\r\n        public void testFindByField2()\r\n        {\r\n            Doc doc = docService.findBySecondField( &quot;value2&quot; );\r\n            assertEquals( &quot;value2&quot;, doc.getSecondField() );\r\n        }\r\n\r\nRunning tests successful only in 90%.\r\nAnd another moment, I use maven, and when it runs tests of project it always fail... \r\n\r\nCan anybody advise something how write test for for working with couchbase. \r\n\r\n","title":"Spring junit tests with couchbase","body":"<p>I have some Services that should get documents from couchbase.</p>\n\n<p>Services:</p>\n\n<pre><code>    public List&lt;Doc&gt; findByFirstField( String firstFieldValue )\n    {\n        Query query = new Query();\n        query.setKey( ComplexKey.of( firstFieldValue ) );\n        List&lt;Doc&gt; docs = (List&lt;Doc&gt;) docRepository.findFirstField( query );\n        return docs;\n    }\n\n    public List&lt;Doc&gt; findBySecondField( String secondFieldValue )\n    {\n        Query query = new Query();\n        query.setKey( ComplexKey.of( secondFieldValue ) );\n        List&lt;Doc&gt; docs = (List&lt;Doc&gt;) docRepository.findSecondField( query );\n        return docs;\n    }\n</code></pre>\n\n<p>Also I have DocRepository interface with necessary methods and views on couchbase server.\nWhen I run my app and call Services its work fine, but I need tests for this Services. </p>\n\n<p>Tests:</p>\n\n<pre><code>@RunWith( SpringJUnit4ClassRunner.class )\n@TestExecutionListeners( listeners = { DependencyInjectionTestExecutionListener.class } )\n@ContextConfiguration( classes = {CouchbaseConfig.class, DocServiceImplTest.class, DocServiceImpl.class } )\n@Configuration\n\n    @Before\n    public void CreateDoc()\n        throws InterruptedException\n    {\n        HashMap&lt;String, String&gt; docInfo = new HashMap&lt;String, String&gt;();\n        docInfo.put( \"docId\", \"testDoc\" );\n        docInfo.put( \"field1\", \"value1\" );\n        docInfo.put( \"field2\", \"value2\" );\n        docService.saveDoc( docInfo );\n    }\n\n    @After\n    public  void deleteTestsDoc()\n    {\n        docService.deleteDoc( \"testDoc\" );\n    }\n\n    @Test\n    public void testFindByField1()\n    {\n        Doc doc = docService.findByFirstField( \"value1\" );\n        assertEquals( \"value1\", doc.getFirstField() );\n    }\n\n    @Test\n    public void testFindByField2()\n    {\n        Doc doc = docService.findBySecondField( \"value2\" );\n        assertEquals( \"value2\", doc.getSecondField() );\n    }\n</code></pre>\n\n<p>Running tests successful only in 90%.\nAnd another moment, I use maven, and when it runs tests of project it always fail... </p>\n\n<p>Can anybody advise something how write test for for working with couchbase. </p>\n"},{"tags":["java","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":12093341,"reputation":15,"user_id":10926781,"display_name":"Ashish Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655362302,"creation_date":1655362302,"answer_id":72641595,"question_id":72641380,"body_markdown":"That depends on how much data your file has. If it has some precise user related information with some countable fields, then you can pass that data via Intents. But, if your file is like huge number of pages, then it is not recommended to pass so much of data through Intents. Instead, you can read the file contents on each screen. Hope that helps.","title":"For an app memory, which is best pass parameters with intent or read a file?","body":"<p>That depends on how much data your file has. If it has some precise user related information with some countable fields, then you can pass that data via Intents. But, if your file is like huge number of pages, then it is not recommended to pass so much of data through Intents. Instead, you can read the file contents on each screen. Hope that helps.</p>\n"}],"owner":{"account_id":3591636,"reputation":11,"user_id":2997553,"display_name":"joserodriguezan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655362302,"creation_date":1655360783,"question_id":72641380,"body_markdown":"I am creating a native Android application with java and Android Studio.\r\n\r\nThe application create a file at the start with the information about the user.\r\n\r\nI would like to know for performance reasons which is best to read the file once and transfer the information with Intent class or read the file on every layout?\r\n\r\nThank you,\r\n ","title":"For an app memory, which is best pass parameters with intent or read a file?","body":"<p>I am creating a native Android application with java and Android Studio.</p>\n<p>The application create a file at the start with the information about the user.</p>\n<p>I would like to know for performance reasons which is best to read the file once and transfer the information with Intent class or read the file on every layout?</p>\n<p>Thank you,</p>\n"},{"tags":["java","bamboo","bamboo-specs"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653051225,"post_id":72318457,"comment_id":127762805,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":5111676,"reputation":1097,"user_id":4098062,"display_name":"Oleksiy Chystoprudov"},"score":0,"creation_date":1653144231,"post_id":72318457,"comment_id":127781995,"body_markdown":"Does it work as expected for username\\password pair at .credentials file?","body":"Does it work as expected for username\\password pair at .credentials file?"},{"owner":{"account_id":16618355,"reputation":3,"user_id":12009384,"display_name":"Pablo Rodriguez"},"score":0,"creation_date":1653310552,"post_id":72318457,"comment_id":127813273,"body_markdown":"Hi @OleksiyChystoprudov thank you for the answer but I also tried with the .credential file and I have the same error that using a token.","body":"Hi @OleksiyChystoprudov thank you for the answer but I also tried with the .credential file and I have the same error that using a token."}],"answers":[{"tags":[],"owner":{"account_id":16618355,"reputation":3,"user_id":12009384,"display_name":"Pablo Rodriguez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655361748,"creation_date":1655361748,"answer_id":72641525,"question_id":72318457,"body_markdown":"After talking to the Atlassian technical team my problem is having a user with project admin permissions. Having global admin permission in my user it is possible to create a deployment plan.","title":"Bamboo Specs - Permissions issue creating a deployment plan","body":"<p>After talking to the Atlassian technical team my problem is having a user with project admin permissions. Having global admin permission in my user it is possible to create a deployment plan.</p>\n"}],"owner":{"account_id":16618355,"reputation":3,"user_id":12009384,"display_name":"Pablo Rodriguez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72641525,"answer_count":1,"score":0,"last_activity_date":1655361803,"creation_date":1653047309,"question_id":72318457,"body_markdown":"I&#39;m trying to create a deployment plan by command line from mi bamboo specs in java. When I&#39;m trying to create it I get a permission error saying that I don&#39;t have permission to create the deployment plan. If I try to create the deployment plan manually through the browser I can do it without problems using the same user.\r\n\r\nAs info, my user has project admin permissions, and the token created to use in the bamboo spec was created with the option to have the same privileges as the user.\r\n\r\nThe error is the following:\r\n\r\n&quot;*Execution default-cli of goal com.atlassian.bamboo:bamboo-specs-runner:8.0.5:run failed: java.lang.reflect.InvocationTargetException: An error occurred while publishing deployment CAP-NEWBETEST: **You don&#39;&#39;t have CREATE permission to import deployment project**. -&gt; [Help 1]*&quot;\r\n\r\n[Screenshot of the error][1]\r\n\r\nIs there any way to be able to create the deployment plan directly from bamboo specs?\r\n\r\nThe bamboo version I&#39;m using is: **8.0.5 build 80013**\r\n\r\n**Code:** https://github.com/paruuy/bamboo-specs-example\r\n\r\n  [1]: https://i.stack.imgur.com/s9XnQ.png","title":"Bamboo Specs - Permissions issue creating a deployment plan","body":"<p>I'm trying to create a deployment plan by command line from mi bamboo specs in java. When I'm trying to create it I get a permission error saying that I don't have permission to create the deployment plan. If I try to create the deployment plan manually through the browser I can do it without problems using the same user.</p>\n<p>As info, my user has project admin permissions, and the token created to use in the bamboo spec was created with the option to have the same privileges as the user.</p>\n<p>The error is the following:</p>\n<p>&quot;<em>Execution default-cli of goal com.atlassian.bamboo:bamboo-specs-runner:8.0.5:run failed: java.lang.reflect.InvocationTargetException: An error occurred while publishing deployment CAP-NEWBETEST: <strong>You don''t have CREATE permission to import deployment project</strong>. -&gt; [Help 1]</em>&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/s9XnQ.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a></p>\n<p>Is there any way to be able to create the deployment plan directly from bamboo specs?</p>\n<p>The bamboo version I'm using is: <strong>8.0.5 build 80013</strong></p>\n<p><strong>Code:</strong> <a href=\"https://github.com/paruuy/bamboo-specs-example\" rel=\"nofollow noreferrer\">https://github.com/paruuy/bamboo-specs-example</a></p>\n"},{"tags":["java","spring","google-cloud-pubsub"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1654099710,"post_id":72459095,"comment_id":128012614,"body_markdown":"Use the Java libraries, not the spring integration.","body":"Use the Java libraries, not the spring integration."},{"owner":{"account_id":10612246,"reputation":388,"user_id":9808476,"display_name":"FOR_SCIENCE"},"score":0,"creation_date":1654152669,"post_id":72459095,"comment_id":128024374,"body_markdown":"@guillaumeblaquiere I had some problems with the first approach in the Google article (without the Spring integration). My goals was to send an object through Pub/Sub. However, I did not manage to serialize it without errors and Spring&#39;s integration can handle that for me. That is why I intend to use it along with the Message and MessageBuilder classes.","body":"@guillaumeblaquiere I had some problems with the first approach in the Google article (without the Spring integration). My goals was to send an object through Pub/Sub. However, I did not manage to serialize it without errors and Spring&#39;s integration can handle that for me. That is why I intend to use it along with the Message and MessageBuilder classes."},{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1655359091,"post_id":72459095,"comment_id":128314912,"body_markdown":"Hi @FOR_SCIENCE, for your requirement you can try the steps given in this [documentation](https://spring.io/guides/gs/messaging-gcp-pubsub/#initial).Let me know if it helps.","body":"Hi @FOR_SCIENCE, for your requirement you can try the steps given in this <a href=\"https://spring.io/guides/gs/messaging-gcp-pubsub/#initial\" rel=\"nofollow noreferrer\">documentation</a>.Let me know if it helps."}],"answers":[{"tags":[],"owner":{"account_id":10612246,"reputation":388,"user_id":9808476,"display_name":"FOR_SCIENCE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655361770,"creation_date":1655361770,"answer_id":72641528,"question_id":72459095,"body_markdown":"I am now using an old and deprecated method with Channels, but it works fine so far.","title":"How to publish a Pub/Sub message with a Supplier bean?","body":"<p>I am now using an old and deprecated method with Channels, but it works fine so far.</p>\n"}],"owner":{"account_id":10612246,"reputation":388,"user_id":9808476,"display_name":"FOR_SCIENCE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72641528,"answer_count":1,"score":0,"last_activity_date":1655361770,"creation_date":1654074048,"question_id":72459095,"body_markdown":"I want to publish a Pub/Sub message in Spring according to the Google documentation (see https://cloud.google.com/pubsub/docs/spring#publishing-messages-using-stream-binder). The only problem is that I am new to Spring Framework and I have no idea of how to turn this example into something that I can use. That is, a method that allows me to send a specific message from a service to the Pub/Sub topic.\r\n```java\r\n// Create an output binder to send messages to `topic-one` using a Supplier bean.\r\n@Bean\r\npublic Supplier&lt;Flux&lt;Message&lt;String&gt;&gt;&gt; sendMessageToTopicOne() {\r\n  return () -&gt;\r\n      Flux.&lt;Message&lt;String&gt;&gt;generate(\r\n              sink -&gt; {\r\n                try {\r\n                  Thread.sleep(10000);\r\n                } catch (InterruptedException e) {\r\n                  // Stop sleep earlier.\r\n                }\r\n\r\n                Message&lt;String&gt; message =\r\n                    MessageBuilder.withPayload(&quot;message-&quot; + rand.nextInt(1000)).build();\r\n                LOGGER.info(\r\n                    &quot;Sending a message via the output binder to topic-one! Payload: &quot;\r\n                        + message.getPayload());\r\n                sink.next(message);\r\n              })\r\n          .subscribeOn(Schedulers.boundedElastic());\r\n}\r\n```\r\nHow can I write a method that allows me to send a specific message (lets say a &#39;String&#39;) to my Pub/Sub topic that can be called from a service?","title":"How to publish a Pub/Sub message with a Supplier bean?","body":"<p>I want to publish a Pub/Sub message in Spring according to the Google documentation (see <a href=\"https://cloud.google.com/pubsub/docs/spring#publishing-messages-using-stream-binder\" rel=\"nofollow noreferrer\">https://cloud.google.com/pubsub/docs/spring#publishing-messages-using-stream-binder</a>). The only problem is that I am new to Spring Framework and I have no idea of how to turn this example into something that I can use. That is, a method that allows me to send a specific message from a service to the Pub/Sub topic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create an output binder to send messages to `topic-one` using a Supplier bean.\n@Bean\npublic Supplier&lt;Flux&lt;Message&lt;String&gt;&gt;&gt; sendMessageToTopicOne() {\n  return () -&gt;\n      Flux.&lt;Message&lt;String&gt;&gt;generate(\n              sink -&gt; {\n                try {\n                  Thread.sleep(10000);\n                } catch (InterruptedException e) {\n                  // Stop sleep earlier.\n                }\n\n                Message&lt;String&gt; message =\n                    MessageBuilder.withPayload(&quot;message-&quot; + rand.nextInt(1000)).build();\n                LOGGER.info(\n                    &quot;Sending a message via the output binder to topic-one! Payload: &quot;\n                        + message.getPayload());\n                sink.next(message);\n              })\n          .subscribeOn(Schedulers.boundedElastic());\n}\n</code></pre>\n<p>How can I write a method that allows me to send a specific message (lets say a 'String') to my Pub/Sub topic that can be called from a service?</p>\n"},{"tags":["java","json","groovy","jmeter"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":1,"creation_date":1655350535,"post_id":72638584,"comment_id":128313336,"body_markdown":"Add double quotes `&quot;thing&quot;: &quot;${thisThing}&quot;`","body":"Add double quotes <code>&quot;thing&quot;: &quot;${thisThing}&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655361613,"creation_date":1655361613,"answer_id":72641498,"question_id":72638584,"body_markdown":"As per [JSON Object Literals][1]:\r\n\r\n&gt;Keys must be strings, and values must be a valid JSON data type:\r\n&gt;\r\n&gt; -   string\r\n&gt; -   number\r\n&gt; -   object\r\n&gt; -   array\r\n&gt; -   boolean\r\n&gt; -   null\r\n\r\nso if this `THING` supposed to be a JSON String - you need to surround it with quotation marks:\r\n\r\n    \r\n    {\r\n        &quot;foo&quot;: &quot;bar&quot;,\r\n        &quot;thing&quot;: &quot;${thisThing}&quot;\r\n    }\r\n\r\nor amend your [Post-Processor][2] configuration to extract the `THING` value along with surrounding quotation marks. \r\n\r\nYou might also need to add a [HTTP Header Manager][3] and configure it to send [Content-Type][4] header with the value of [`application/json`][5]\r\n\r\n\r\n  [1]: https://www.w3schools.com/js/js_json_objects.asp\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#postprocessors\r\n  [3]: https://www.blazemeter.com/blog/using-jmeters-http-header-manager/\r\n  [4]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\r\n  [5]: https://en.wikipedia.org/wiki/JSON#Metadata_and_schema","title":"Can&#39;t pass extracted string into body object in JMeter","body":"<p>As per <a href=\"https://www.w3schools.com/js/js_json_objects.asp\" rel=\"nofollow noreferrer\">JSON Object Literals</a>:</p>\n<blockquote>\n<p>Keys must be strings, and values must be a valid JSON data type:</p>\n<ul>\n<li>string</li>\n<li>number</li>\n<li>object</li>\n<li>array</li>\n<li>boolean</li>\n<li>null</li>\n</ul>\n</blockquote>\n<p>so if this <code>THING</code> supposed to be a JSON String - you need to surround it with quotation marks:</p>\n<pre><code>{\n    &quot;foo&quot;: &quot;bar&quot;,\n    &quot;thing&quot;: &quot;${thisThing}&quot;\n}\n</code></pre>\n<p>or amend your <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#postprocessors\" rel=\"nofollow noreferrer\">Post-Processor</a> configuration to extract the <code>THING</code> value along with surrounding quotation marks.</p>\n<p>You might also need to add a <a href=\"https://www.blazemeter.com/blog/using-jmeters-http-header-manager/\" rel=\"nofollow noreferrer\">HTTP Header Manager</a> and configure it to send <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\" rel=\"nofollow noreferrer\">Content-Type</a> header with the value of <a href=\"https://en.wikipedia.org/wiki/JSON#Metadata_and_schema\" rel=\"nofollow noreferrer\"><code>application/json</code></a></p>\n"}],"owner":{"account_id":3555582,"reputation":85,"user_id":2969449,"display_name":"dsp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655391974,"accepted_answer_id":72641498,"answer_count":1,"score":0,"last_activity_date":1655361613,"creation_date":1655332665,"question_id":72638584,"body_markdown":"I am trying to pass a string extracted from an API response in a subsequent call in JMeter. I am able to extract the object I want (`&quot;thing&quot;: &quot;THING&quot;`), store it as variable `$thisThing` and then pass it, but not as a string.\r\n\r\nUsing this as my body data:\r\n\r\n```\r\n{\r\n    &quot;foo&quot;: &quot;bar&quot;,\r\n\t&quot;thing&quot;: ${thisThing}\r\n}\r\n```\r\n\r\n...results in this request body:\r\n\r\n```\r\n{\r\n\t&quot;foo&quot;: &quot;bar&quot;,\r\n\t&quot;thing&quot;: THING,\r\n}\r\n```\r\n\r\nAnd the API errors out, unexpected token. Looking into post-processing solutions but I can&#39;t dig up anything of relevance.","title":"Can&#39;t pass extracted string into body object in JMeter","body":"<p>I am trying to pass a string extracted from an API response in a subsequent call in JMeter. I am able to extract the object I want (<code>&quot;thing&quot;: &quot;THING&quot;</code>), store it as variable <code>$thisThing</code> and then pass it, but not as a string.</p>\n<p>Using this as my body data:</p>\n<pre><code>{\n    &quot;foo&quot;: &quot;bar&quot;,\n    &quot;thing&quot;: ${thisThing}\n}\n</code></pre>\n<p>...results in this request body:</p>\n<pre><code>{\n    &quot;foo&quot;: &quot;bar&quot;,\n    &quot;thing&quot;: THING,\n}\n</code></pre>\n<p>And the API errors out, unexpected token. Looking into post-processing solutions but I can't dig up anything of relevance.</p>\n"},{"tags":["java","aws-lambda","aws-sam","aws-lambda-layers"],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655360699,"creation_date":1655360699,"answer_id":72641368,"question_id":72386099,"body_markdown":"Each language supports a different path. For Java it is java/lib. It&#39;s described in the Lambda developer guide.\r\n\r\nhttps://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html","title":"AWS Sam build java layer and include on classpath","body":"<p>Each language supports a different path. For Java it is java/lib. It's described in the Lambda developer guide.</p>\n<p><a href=\"https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html</a></p>\n"}],"owner":{"account_id":5902866,"reputation":648,"user_id":4645723,"accept_rate":11,"display_name":"Connor Butch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655360699,"creation_date":1653532624,"question_id":72386099,"body_markdown":"I have built a lambda layer using aws sam and am including it in my lambda function.  It deploys, and shows up in the console (I have only a few lines of code in my whole application, but I can link it if you wish).\r\n\r\nAs a quick test that the layer is loaded on the classpath, I have included the layer as a compileOnly dependency in my lambda, so I can reference it at compile time.  Then in the first line of my lambda, I invoke a method on the class from the layer, and it continues to give me noclassdeffounderrors, which suggests it is not on the classpath.\r\n\r\nIs my understanding of lambda layers correct?  Is there anything else I need to do to get the layer included on the classpath and accessible?  Would I also be able to provide runtime only dependencies using the layer?\r\n\r\nAlso, I&#39;ve noticed that when I download the jar from the layer, all the files are in the root of the layer, not included in /java directory as some sam documentation suggests it should be.  Should I look at this?","title":"AWS Sam build java layer and include on classpath","body":"<p>I have built a lambda layer using aws sam and am including it in my lambda function.  It deploys, and shows up in the console (I have only a few lines of code in my whole application, but I can link it if you wish).</p>\n<p>As a quick test that the layer is loaded on the classpath, I have included the layer as a compileOnly dependency in my lambda, so I can reference it at compile time.  Then in the first line of my lambda, I invoke a method on the class from the layer, and it continues to give me noclassdeffounderrors, which suggests it is not on the classpath.</p>\n<p>Is my understanding of lambda layers correct?  Is there anything else I need to do to get the layer included on the classpath and accessible?  Would I also be able to provide runtime only dependencies using the layer?</p>\n<p>Also, I've noticed that when I download the jar from the layer, all the files are in the root of the layer, not included in /java directory as some sam documentation suggests it should be.  Should I look at this?</p>\n"},{"tags":["java","constructor","overloading","constructor-overloading"],"answers":[{"tags":[],"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655359976,"creation_date":1655359634,"answer_id":72641224,"question_id":72641205,"body_markdown":"This is not possible, because it cannot decide which constructor for the instantiation should be used. Here is the specification: https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html\r\n\r\n&gt; 8.4.2. Method Signature\r\n&gt; \r\n&gt; Two methods have the same signature if they have the same name and argument types.\r\n&gt;\r\n&gt; Two method or constructor declarations M and N have the same argument types if all of the following conditions hold:\r\n&gt; \r\n&gt; They have the same number of formal parameters (possibly zero)\r\n&gt;\r\n&gt; They have the same number of type parameters (possibly zero)\r\n&gt;\r\n&gt; Let A1, ..., An be the type parameters of M and let B1, ..., Bn be the type parameters of N. After renaming each occurrence of a Bi in N&#39;s type to Ai, the bounds of corresponding type variables are the same, and the formal parameter types of M and N are the same.\r\n&gt;\r\n&gt; The signature of a method m1 is a subsignature of the signature of a method m2 if either:\r\n&gt;\r\n&gt; m2 has the same signature as m1, or\r\n&gt;\r\n&gt; the signature of m1 is the same as the erasure (&#167;4.6) of the signature of m2.\r\n\r\n&gt; Two method signatures m1 and m2 are override-equivalent iff either m1 is a subsignature of m2 or m2 is a subsignature of m1.\r\n\r\n ","title":"Is it possible to have constructor with the same number of variables and data type?","body":"<p>This is not possible, because it cannot decide which constructor for the instantiation should be used. Here is the specification: <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html</a></p>\n<blockquote>\n<p>8.4.2. Method Signature</p>\n<p>Two methods have the same signature if they have the same name and argument types.</p>\n<p>Two method or constructor declarations M and N have the same argument types if all of the following conditions hold:</p>\n<p>They have the same number of formal parameters (possibly zero)</p>\n<p>They have the same number of type parameters (possibly zero)</p>\n<p>Let A1, ..., An be the type parameters of M and let B1, ..., Bn be the type parameters of N. After renaming each occurrence of a Bi in N's type to Ai, the bounds of corresponding type variables are the same, and the formal parameter types of M and N are the same.</p>\n<p>The signature of a method m1 is a subsignature of the signature of a method m2 if either:</p>\n<p>m2 has the same signature as m1, or</p>\n<p>the signature of m1 is the same as the erasure (§4.6) of the signature of m2.</p>\n</blockquote>\n<blockquote>\n<p>Two method signatures m1 and m2 are override-equivalent iff either m1 is a subsignature of m2 or m2 is a subsignature of m1.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655360438,"creation_date":1655359790,"answer_id":72641253,"question_id":72641205,"body_markdown":"No, this will certainly result into `Ambiguity` as compiler won&#39;t be able to find out to which constructor to invoke since all are String arguments.\r\n\r\nYou can merge all the arguments in one constructor if the all the fields are class members!\r\n\r\n**Quoting a definition from the website below for your reference !**\r\n\r\n&gt; Constructor overloading in Java is a technique of having more than one constructor with different parameter lists. They are arranged in a way that each constructor performs a different task. They are differentiated by the compiler by the number of parameters in the list and **their types**.\r\n\r\nhttps://www.javatpoint.com/java-constructor#:~:text=Constructor%20overloading%20in%20Java%20is,the%20list%20and%20their%20types. ","title":"Is it possible to have constructor with the same number of variables and data type?","body":"<p>No, this will certainly result into <code>Ambiguity</code> as compiler won't be able to find out to which constructor to invoke since all are String arguments.</p>\n<p>You can merge all the arguments in one constructor if the all the fields are class members!</p>\n<p><strong>Quoting a definition from the website below for your reference !</strong></p>\n<blockquote>\n<p>Constructor overloading in Java is a technique of having more than one constructor with different parameter lists. They are arranged in a way that each constructor performs a different task. They are differentiated by the compiler by the number of parameters in the list and <strong>their types</strong>.</p>\n</blockquote>\n<p><a href=\"https://www.javatpoint.com/java-constructor#:%7E:text=Constructor%20overloading%20in%20Java%20is,the%20list%20and%20their%20types\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-constructor#:~:text=Constructor%20overloading%20in%20Java%20is,the%20list%20and%20their%20types</a>.</p>\n"},{"tags":[],"owner":{"account_id":25558476,"reputation":33,"user_id":19341505,"display_name":"exitialium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655359824,"creation_date":1655359824,"answer_id":72641258,"question_id":72641205,"body_markdown":"Think of it this way:\r\nHow would Java know which function you&#39;re referring to when calling Employee() with three string parameters? The other one works because of &quot;function overloading&quot; - Java would know to call the constructor with three int parameters instead of the three strings one. \r\n\r\nThis looks like introductory Java class content. You could probably find the answers in your textbook :)","title":"Is it possible to have constructor with the same number of variables and data type?","body":"<p>Think of it this way:\nHow would Java know which function you're referring to when calling Employee() with three string parameters? The other one works because of &quot;function overloading&quot; - Java would know to call the constructor with three int parameters instead of the three strings one.</p>\n<p>This looks like introductory Java class content. You could probably find the answers in your textbook :)</p>\n"}],"owner":{"account_id":21060237,"reputation":3,"user_id":15478774,"display_name":"filocoderist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655360379,"answer_count":3,"score":0,"last_activity_date":1655360438,"creation_date":1655359464,"question_id":72641205,"body_markdown":"I just want to know if we can use overloading constructor with the same number of variables, same data types with the different variables.\r\n\r\n    Employee(String firstName, String lastName, String jobRole){\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.jobRole = jobRole;\r\n        this.sex = &quot;N/A&quot;;\r\n        this.status = &quot;N/A&quot;;\r\n        this.ethnicity = &quot;N/A&quot;;\r\n    }\r\n\r\n    Employee(String sex, String status, String ethnicity){\r\n        this.firstName = &quot;N/A&quot;;\r\n        this.lastName = &quot;N/A&quot;;\r\n        this.jobRole = &quot;N/A&quot;;\r\n        this.sex = sex;\r\n        this.status = status;\r\n        this.ethnicity = ethnicity;\r\n    }\r\n\r\nI tried to instantiate these, but it gives an error &quot;cannot resolve constructor&quot;.\r\n\r\n        Employee e = new Employee( &quot;juan&quot;, &quot;dela cruz&quot;, &quot;programmer&quot;);\r\n        Employee e1 = new Employee(&quot;Male&quot;, &quot;Single&quot;, &quot;Filipino&quot;);\r\n\r\n\r\nIt works if i remove the other constructor and replace it with a different data type.\r\n\r\n        Employee e = new Employee( &quot;juan&quot;, &quot;dela cruz&quot;, &quot;programmer&quot;);\r\n        Employee e2 = new Employee(2023, 19, 2000);\r\n\r\ncan you explain this and what ways can we fix this.","title":"Is it possible to have constructor with the same number of variables and data type?","body":"<p>I just want to know if we can use overloading constructor with the same number of variables, same data types with the different variables.</p>\n<pre><code>Employee(String firstName, String lastName, String jobRole){\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.jobRole = jobRole;\n    this.sex = &quot;N/A&quot;;\n    this.status = &quot;N/A&quot;;\n    this.ethnicity = &quot;N/A&quot;;\n}\n\nEmployee(String sex, String status, String ethnicity){\n    this.firstName = &quot;N/A&quot;;\n    this.lastName = &quot;N/A&quot;;\n    this.jobRole = &quot;N/A&quot;;\n    this.sex = sex;\n    this.status = status;\n    this.ethnicity = ethnicity;\n}\n</code></pre>\n<p>I tried to instantiate these, but it gives an error &quot;cannot resolve constructor&quot;.</p>\n<pre><code>    Employee e = new Employee( &quot;juan&quot;, &quot;dela cruz&quot;, &quot;programmer&quot;);\n    Employee e1 = new Employee(&quot;Male&quot;, &quot;Single&quot;, &quot;Filipino&quot;);\n</code></pre>\n<p>It works if i remove the other constructor and replace it with a different data type.</p>\n<pre><code>    Employee e = new Employee( &quot;juan&quot;, &quot;dela cruz&quot;, &quot;programmer&quot;);\n    Employee e2 = new Employee(2023, 19, 2000);\n</code></pre>\n<p>can you explain this and what ways can we fix this.</p>\n"},{"tags":["java","garbage-collection","jvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1655365088,"post_id":72641282,"comment_id":128316497,"body_markdown":"Your `-XX:NewRatio=1` makes the New Gen smaller, potentially forcing earlier promotion, regardless of the `MaxTenuringThreshold`. Besides that, when you deliberately select a concurrent collector, you *want* to have old objects, as otherwise, you don’t have concurrent collections at all. What you don’t want to have, is a *full* old generation, as that would cause a nonconcurrent full GC. Such a scenario would be the result of `NewRatio`, `CMSInitiatingOccupancyFraction`, and application allocation rate. But the simplest alternative is to drop all these options and try G1GC instead of CMS.","body":"Your <code>-XX:NewRatio=1</code> makes the New Gen smaller, potentially forcing earlier promotion, regardless of the <code>MaxTenuringThreshold</code>. Besides that, when you deliberately select a concurrent collector, you <i>want</i> to have old objects, as otherwise, you don’t have concurrent collections at all. What you don’t want to have, is a <i>full</i> old generation, as that would cause a nonconcurrent full GC. Such a scenario would be the result of <code>NewRatio</code>, <code>CMSInitiatingOccupancyFraction</code>, and application allocation rate. But the simplest alternative is to drop all these options and try G1GC instead of CMS."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655369042,"post_id":72641282,"comment_id":128317793,"body_markdown":"Have to correct myself. The `NewRatio` is not the problem, but the “Desired Survivor Size” which may cause earlier promotion here, regardless of the `MaxTenuringThreshold`. But the conclusion doesn’t change, give G1GC a try, first without any options, to see how its self-tuning performs.","body":"Have to correct myself. The <code>NewRatio</code> is not the problem, but the “Desired Survivor Size” which may cause earlier promotion here, regardless of the <code>MaxTenuringThreshold</code>. But the conclusion doesn’t change, give G1GC a try, first without any options, to see how its self-tuning performs."},{"owner":{"account_id":22704238,"reputation":21,"user_id":16871206,"display_name":"Feng Kai"},"score":0,"creation_date":1655373151,"post_id":72641282,"comment_id":128319267,"body_markdown":"It did get better! thank you, Holger","body":"It did get better! thank you, Holger"},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1655376404,"post_id":72641282,"comment_id":128320330,"body_markdown":"What java version are you using? You should really upgrade if you still use CMS: https://dzone.com/articles/cms-deprecated-next-steps","body":"What java version are you using? You should really upgrade if you still use CMS: <a href=\"https://dzone.com/articles/cms-deprecated-next-steps\" rel=\"nofollow noreferrer\">dzone.com/articles/cms-deprecated-next-steps</a>"},{"owner":{"account_id":22704238,"reputation":21,"user_id":16871206,"display_name":"Feng Kai"},"score":0,"creation_date":1655384078,"post_id":72641282,"comment_id":128323001,"body_markdown":"@JurajMartinka Java 8","body":"@JurajMartinka Java 8"},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1655442912,"post_id":72641282,"comment_id":128338037,"body_markdown":"You will get lots of benefits by upgrading to recent JDK versions - I recommend going straight to JDK 17, or at least 11.","body":"You will get lots of benefits by upgrading to recent JDK versions - I recommend going straight to JDK 17, or at least 11."}],"owner":{"account_id":22704238,"reputation":21,"user_id":16871206,"display_name":"Feng Kai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655360345,"creation_date":1655360119,"question_id":72641282,"body_markdown":"My java applications frequently use **full GC**.\r\n\r\n\r\nBy analyzing gc log, I found that there were many objects with age &gt;= 15. I guess that many objects were promoted to the old age after reaching maxtenuringthreshold=15, which led to the tenured generation becoming larger and larger. Finally, **full GC** occurred.\r\n\r\n\r\nBut with the help of `gceasy` tool, I found that the old generation also recycled a lot of garbage through full GC. About 2390 -&gt; 800.\r\n\r\n\r\nWhat is the reason? Is it because there are many objects with age &gt; 15 that do not belong to the tenured generation? Maybe their age =16,17,18? But not long-live objects?\r\n\r\n\r\nHere is my JVM configuration:\r\n\r\n```-server\r\n-Xmx6g\r\n-Xms6g\r\n-XX:NewRatio=1\r\n-XX:+UseConcMarkSweepGC\r\n-XX:CMSInitiatingOccupancyFraction=75\r\n-XX:+UseCMSInitiatingOccupancyOnly\r\n-XX:MaxTenuringThreshold=15\r\n-XX:+ParallelRefProcEnabled\r\n-XX:+CMSParallelRemarkEnabled\r\n-XX:+UseCMSCompactAtFullCollection\r\n-XX:+HeapDumpOnOutOfMemoryError\r\n-XX:MetaspaceSize=512m\r\n-XX:MaxMetaspaceSize=512m\r\n-XX:+PrintGCDetails\r\n-XX:+PrintGCDateStamps\r\n-Xloggc:/export/Logs/gc.log\r\n-XX:+PrintTenuringDistribution\r\n-XX:SurvivorRatio=4 \r\n```\r\n\r\n[Age distribution][1]\r\n\r\n[Old generation][2]\r\n\r\n[Avg promotion rate ][3]\r\n\r\nIn this case, how can I tune the JVM?\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sVRHw.png\r\n  [2]: https://i.stack.imgur.com/qN8a0.png\r\n  [3]: https://i.stack.imgur.com/fJWSd.png","title":"Full GC when many objects age&gt;=15 but not long-lived objects?","body":"<p>My java applications frequently use <strong>full GC</strong>.</p>\n<p>By analyzing gc log, I found that there were many objects with age &gt;= 15. I guess that many objects were promoted to the old age after reaching maxtenuringthreshold=15, which led to the tenured generation becoming larger and larger. Finally, <strong>full GC</strong> occurred.</p>\n<p>But with the help of <code>gceasy</code> tool, I found that the old generation also recycled a lot of garbage through full GC. About 2390 -&gt; 800.</p>\n<p>What is the reason? Is it because there are many objects with age &gt; 15 that do not belong to the tenured generation? Maybe their age =16,17,18? But not long-live objects?</p>\n<p>Here is my JVM configuration:</p>\n<pre><code>-Xmx6g\n-Xms6g\n-XX:NewRatio=1\n-XX:+UseConcMarkSweepGC\n-XX:CMSInitiatingOccupancyFraction=75\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:MaxTenuringThreshold=15\n-XX:+ParallelRefProcEnabled\n-XX:+CMSParallelRemarkEnabled\n-XX:+UseCMSCompactAtFullCollection\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:MetaspaceSize=512m\n-XX:MaxMetaspaceSize=512m\n-XX:+PrintGCDetails\n-XX:+PrintGCDateStamps\n-Xloggc:/export/Logs/gc.log\n-XX:+PrintTenuringDistribution\n-XX:SurvivorRatio=4 \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sVRHw.png\" rel=\"nofollow noreferrer\">Age distribution</a></p>\n<p><a href=\"https://i.stack.imgur.com/qN8a0.png\" rel=\"nofollow noreferrer\">Old generation</a></p>\n<p><a href=\"https://i.stack.imgur.com/fJWSd.png\" rel=\"nofollow noreferrer\">Avg promotion rate </a></p>\n<p>In this case, how can I tune the JVM?</p>\n<p>Thank you!</p>\n"},{"tags":["java","unit-testing","testing","junit"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1463775173,"post_id":37355035,"comment_id":62225530,"body_markdown":"Does the timeout throw an exception? If it does, you can test for that timeout exception.","body":"Does the timeout throw an exception? If it does, you can test for that timeout exception."},{"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"score":0,"creation_date":1463775294,"post_id":37355035,"comment_id":62225583,"body_markdown":"Be careful with this, I don&#39;t think you can `expect` the exception thrown by `timeout`. You could use a timer or just check the time of the operation then, if its over your desired time, throw an exception that you expect. Doesn&#39;t seem very efficient though.","body":"Be careful with this, I don&#39;t think you can <code>expect</code> the exception thrown by <code>timeout</code>. You could use a timer or just check the time of the operation then, if its over your desired time, throw an exception that you expect. Doesn&#39;t seem very efficient though."},{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":3,"creation_date":1463775743,"post_id":37355035,"comment_id":62225841,"body_markdown":"Also, what exactly is the purpose of the test? If it&#39;s going out of your code&#39;s scope downstream to the server, I&#39;m not sure how beneficial it is to test on your end. If you&#39;re expecting your code to handle the timeout, then you should just mock the socket and throw the exception back.","body":"Also, what exactly is the purpose of the test? If it&#39;s going out of your code&#39;s scope downstream to the server, I&#39;m not sure how beneficial it is to test on your end. If you&#39;re expecting your code to handle the timeout, then you should just mock the socket and throw the exception back."}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1655359889,"creation_date":1463776346,"answer_id":37355398,"question_id":37355035,"body_markdown":"Good question. Actually you can do this using only `junit` tools. My idea is to inverse `Timeout` rule behaviour + use `expected` attribute of `Test` annotation. The only one limitation: you have to place your test in separate class, because `Rule` applies to all tests inside it:\r\n\r\n    public class Q37355035 {\r\n  \r\n        private static final int MIN_TIMEOUT = 100;\r\n   \r\n        @Rule\r\n        public Timeout timeout = new Timeout(MIN_TIMEOUT) {\r\n            public Statement apply(Statement base, Description description) {\r\n                return new FailOnTimeout(base, MIN_TIMEOUT) {\r\n                    @Override\r\n                    public void evaluate() throws Throwable {\r\n                        try {\r\n                            super.evaluate();\r\n                            throw new TimeoutException();\r\n                        } catch (Exception e) {}\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    \r\n        @Test(expected = TimeoutException.class)\r\n        public void givesTimeout() throws InterruptedException {\r\n            TimeUnit.SECONDS.sleep(1);\r\n        }\r\n    }","title":"JUnit test for an expected timeout","body":"<p>Good question. Actually you can do this using only <code>junit</code> tools. My idea is to inverse <code>Timeout</code> rule behaviour + use <code>expected</code> attribute of <code>Test</code> annotation. The only one limitation: you have to place your test in separate class, because <code>Rule</code> applies to all tests inside it:</p>\n<pre><code>public class Q37355035 {\n\n    private static final int MIN_TIMEOUT = 100;\n\n    @Rule\n    public Timeout timeout = new Timeout(MIN_TIMEOUT) {\n        public Statement apply(Statement base, Description description) {\n            return new FailOnTimeout(base, MIN_TIMEOUT) {\n                @Override\n                public void evaluate() throws Throwable {\n                    try {\n                        super.evaluate();\n                        throw new TimeoutException();\n                    } catch (Exception e) {}\n                }\n            };\n        }\n    };\n\n    @Test(expected = TimeoutException.class)\n    public void givesTimeout() throws InterruptedException {\n        TimeUnit.SECONDS.sleep(1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1089981,"reputation":6557,"user_id":1084813,"accept_rate":87,"display_name":"JohnEye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620262268,"creation_date":1620262268,"answer_id":67410535,"question_id":37355035,"body_markdown":"I&#39;m building upon the great answer by Andremoniy, don&#39;t forget to upvote his answer if you like this one!\r\n\r\nI used the following modification to skip a test if it doesn&#39;t finish in the expected time frame. The benefit of this is that the test will be marked as Skipped by JUnit instead of Successful. This is good for optimistic execution of tests which can sometimes hang or not finish fast enough, but you don&#39;t want to mark them as failed or delete them.\r\n\r\n    public class OptimisticTestClass {\r\n    \r\n        private static final int TEST_METHOD_TIMEOUT_MS = 100;\r\n    \r\n        @Rule\r\n        public Timeout timeout = new Timeout(TEST_METHOD_TIMEOUT_MS, TimeUnit.MILLISECONDS) {\r\n            public Statement apply(Statement base, Description description) {\r\n                return new FailOnTimeout(base, TEST_METHOD_TIMEOUT_MS) {\r\n                    @Override\r\n                    public void evaluate() throws Throwable {\r\n                        try {\r\n                            super.evaluate();\r\n                        } catch (TestTimedOutException e) {\r\n                            Assume.assumeNoException(&quot;Test did not finish in the allocated time, skipping!&quot;, e);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    \r\n        // The test times out and is skipped\r\n        public void givesTimeout() throws InterruptedException {\r\n            Thread.sleep(1000);\r\n        }\r\n    }","title":"JUnit test for an expected timeout","body":"<p>I'm building upon the great answer by Andremoniy, don't forget to upvote his answer if you like this one!</p>\n<p>I used the following modification to skip a test if it doesn't finish in the expected time frame. The benefit of this is that the test will be marked as Skipped by JUnit instead of Successful. This is good for optimistic execution of tests which can sometimes hang or not finish fast enough, but you don't want to mark them as failed or delete them.</p>\n<pre><code>public class OptimisticTestClass {\n\n    private static final int TEST_METHOD_TIMEOUT_MS = 100;\n\n    @Rule\n    public Timeout timeout = new Timeout(TEST_METHOD_TIMEOUT_MS, TimeUnit.MILLISECONDS) {\n        public Statement apply(Statement base, Description description) {\n            return new FailOnTimeout(base, TEST_METHOD_TIMEOUT_MS) {\n                @Override\n                public void evaluate() throws Throwable {\n                    try {\n                        super.evaluate();\n                    } catch (TestTimedOutException e) {\n                        Assume.assumeNoException(&quot;Test did not finish in the allocated time, skipping!&quot;, e);\n                    }\n                }\n            };\n        }\n    };\n\n    // The test times out and is skipped\n    public void givesTimeout() throws InterruptedException {\n        Thread.sleep(1000);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4078308,"reputation":3651,"user_id":3349358,"accept_rate":88,"display_name":"gmode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655301005,"creation_date":1655301005,"answer_id":72632675,"question_id":37355035,"body_markdown":"It&#39;s simpler in Java 9\r\n\r\n            CompletableFuture.supplyAsync(() -&gt; dormammu.bargain())\r\n                         .orTimeout(1, TimeUnit.SECONDS)\r\n                         .handle((result, throwable) -&gt; {\r\n                             if (!(throwable instanceof TimeoutException)) {\r\n                                 Assertions.fail();\r\n                             }\r\n                             return result;\r\n                         }).get();\r\n\r\nIf the method doesn&#39;t return within 1 second, it will time out. In handle method you can make sure TimeoutException was thrown, otherwise fail the test. ","title":"JUnit test for an expected timeout","body":"<p>It's simpler in Java 9</p>\n<pre><code>        CompletableFuture.supplyAsync(() -&gt; dormammu.bargain())\n                     .orTimeout(1, TimeUnit.SECONDS)\n                     .handle((result, throwable) -&gt; {\n                         if (!(throwable instanceof TimeoutException)) {\n                             Assertions.fail();\n                         }\n                         return result;\n                     }).get();\n</code></pre>\n<p>If the method doesn't return within 1 second, it will time out. In handle method you can make sure TimeoutException was thrown, otherwise fail the test.</p>\n"}],"owner":{"account_id":1934969,"reputation":4325,"user_id":1743457,"accept_rate":73,"display_name":"Einar Sundgren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16682,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":37355398,"answer_count":3,"score":18,"last_activity_date":1655359889,"creation_date":1463774895,"question_id":37355035,"body_markdown":"I have a test of communication over a TCP socket where I expect the server to not respond within a set time frame when I send a certain message.\r\n\r\nThe servers behaviour is nothing I can control.\r\n\r\nI know how to fail a test if it has not completed within a set time frame. But how can I do the opposite, make it pass for not completing within the timeframe? \r\n\r\nI can use `@Test (timeout=1000)` to make a test fail if not complete within a second.\r\n\r\nBut, using Junit 4, is there a function to test for an expected timeout as a positive result? I.e. The test will fail if completed within the time frame and pass if not?","title":"JUnit test for an expected timeout","body":"<p>I have a test of communication over a TCP socket where I expect the server to not respond within a set time frame when I send a certain message.</p>\n\n<p>The servers behaviour is nothing I can control.</p>\n\n<p>I know how to fail a test if it has not completed within a set time frame. But how can I do the opposite, make it pass for not completing within the timeframe? </p>\n\n<p>I can use <code>@Test (timeout=1000)</code> to make a test fail if not complete within a second.</p>\n\n<p>But, using Junit 4, is there a function to test for an expected timeout as a positive result? I.e. The test will fail if completed within the time frame and pass if not?</p>\n"},{"tags":["java","spring-boot","email","alert"],"comments":[{"owner":{"account_id":25402793,"reputation":1,"user_id":19211969,"display_name":"user19211969"},"score":0,"creation_date":1655103565,"post_id":72590106,"comment_id":128241850,"body_markdown":"I got a workaround for this. Just by creating a utility file for running query and returning the results, it works for me.","body":"I got a workaround for this. Just by creating a utility file for running query and returning the results, it works for me."}],"answers":[{"tags":[],"owner":{"account_id":25402793,"reputation":1,"user_id":19211969,"display_name":"user19211969"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655103893,"creation_date":1655103893,"answer_id":72598855,"question_id":72590106,"body_markdown":"I got a workaround for this. Instead of using query annotations, if I write a utility class which connect to db and run the query and return the results, it is sending emails to all those email ids .But still I would like to know how to make the same work using @Query annotation in springboot.\r\n\r\n     public static Connection connect() throws SQLException {\r\n            return DriverManager.getConnection(url, user, password);\r\n        }\r\n        public static ArrayList&lt;String&gt; getdueEmails() throws SQLException, ClassNotFoundException{\r\n            ArrayList&lt;String&gt; a = new ArrayList&lt;String&gt;();\r\n    \r\n            Connection con = connect();\r\n            PreparedStatement ps = con.prepareStatement(&quot;select email from actionitems_final where duedate&lt; CURRENT_TIMESTAMP&quot;);\r\n            ResultSet rs = ps.executeQuery();\r\n           \r\n    \r\n            while(rs.next())\r\n            {\r\n                a.add(rs.getString(1));\r\n            }\r\n    \r\n            return a;\r\n        }\r\n\r\nThis is my service\r\n\r\n\r\n    public void sendEmail() throws MailException, ClassNotFoundException, SQLException {\r\n    \r\n    \tSQLhelper sqlhelper = new SQLhelper();\r\n    \t/*\r\n    \t * This JavaMailSender Interface is used to send Mail in Spring Boot. This\r\n    \t * JavaMailSender extends the MailSender Interface which contains send()\r\n    \t * function. SimpleMailMessage Object is required because send() function uses\r\n    \t * object of SimpleMailMessage as a Parameter\r\n    \t */\r\n        List&lt;String&gt; To = sqlhelper.getdueEmails();\r\n        String k[] = To.toArray(new String[To.size()]);\r\n\r\n    \tSimpleMailMessage mail = new SimpleMailMessage();\r\n    \r\n    \tmail.setTo(k);\r\n    \tmail.setSubject(&quot;Email to all persons having due date&quot;);\r\n    \tmail.setText(&quot;This is sent to all email ids corresponding to actions which are due today...&quot;);\r\n    \r\n    \t/*\r\n    \t * This send() contains an Object of SimpleMailMessage as an Parameter\r\n    \t */\r\n    \tjavaMailSender.send(mail);\r\n    }\r\n\r\n","title":"Getting error while sending alert emails to all due items in DB using springboot","body":"<p>I got a workaround for this. Instead of using query annotations, if I write a utility class which connect to db and run the query and return the results, it is sending emails to all those email ids .But still I would like to know how to make the same work using @Query annotation in springboot.</p>\n<pre><code> public static Connection connect() throws SQLException {\n        return DriverManager.getConnection(url, user, password);\n    }\n    public static ArrayList&lt;String&gt; getdueEmails() throws SQLException, ClassNotFoundException{\n        ArrayList&lt;String&gt; a = new ArrayList&lt;String&gt;();\n\n        Connection con = connect();\n        PreparedStatement ps = con.prepareStatement(&quot;select email from actionitems_final where duedate&lt; CURRENT_TIMESTAMP&quot;);\n        ResultSet rs = ps.executeQuery();\n       \n\n        while(rs.next())\n        {\n            a.add(rs.getString(1));\n        }\n\n        return a;\n    }\n</code></pre>\n<p>This is my service</p>\n<pre><code>public void sendEmail() throws MailException, ClassNotFoundException, SQLException {\n\n    SQLhelper sqlhelper = new SQLhelper();\n    /*\n     * This JavaMailSender Interface is used to send Mail in Spring Boot. This\n     * JavaMailSender extends the MailSender Interface which contains send()\n     * function. SimpleMailMessage Object is required because send() function uses\n     * object of SimpleMailMessage as a Parameter\n     */\n    List&lt;String&gt; To = sqlhelper.getdueEmails();\n    String k[] = To.toArray(new String[To.size()]);\n\n    SimpleMailMessage mail = new SimpleMailMessage();\n\n    mail.setTo(k);\n    mail.setSubject(&quot;Email to all persons having due date&quot;);\n    mail.setText(&quot;This is sent to all email ids corresponding to actions which are due today...&quot;);\n\n    /*\n     * This send() contains an Object of SimpleMailMessage as an Parameter\n     */\n    javaMailSender.send(mail);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25402793,"reputation":1,"user_id":19211969,"display_name":"user19211969"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655359463,"creation_date":1655359463,"answer_id":72641204,"question_id":72590106,"body_markdown":"Finally I found the issue with my query annotation. Earlier both the model class name  and my DB table name were the same. We have to use the model class name inside the query annoatation and not the db table name. \r\n\r\nThis is my repository\r\n\r\n    public interface EmailRepository extends JpaRepository&lt;ActionItems, String&gt; {\r\n    \t@Query(&quot;select email from ActionItems where duedate&lt; CURRENT_TIMESTAMP&quot;)\r\n    \tList&lt;String&gt; finddueemailsfromdb();\r\n    \r\n    }\r\n\r\n\r\nThis is my entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;actionitemsFinal&quot;)\r\n    public class ActionItems {\r\n    \t\r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n    \tprivate String action;\r\n        private String email;\r\n        private Date duedate;\r\n    \r\n        public int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getAction() {\r\n    \t\treturn action;\r\n    \t}\r\n    \tpublic void setAction(String action) {\r\n    \t\tthis.action = action;\r\n    \t}\r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \tpublic Date getDuedate() {\r\n    \t\treturn duedate;\r\n    \t}\r\n    \tpublic void setDuedate(Date duedate) {\r\n    \t\tthis.duedate = duedate;\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is my Service\r\n\r\n    List&lt;String&gt; To = emailrepo.finddueemailsfromdb();\r\n    String k[] = To.toArray(new String[To.size()]);\r\n    SimpleMailMessage mail = new SimpleMailMessage();\r\n    /* mail.setTo(actions.getEmailAddress()); */\r\n    mail.setTo(k);\r\n      ......rest of the code omitted\r\n\r\n","title":"Getting error while sending alert emails to all due items in DB using springboot","body":"<p>Finally I found the issue with my query annotation. Earlier both the model class name  and my DB table name were the same. We have to use the model class name inside the query annoatation and not the db table name.</p>\n<p>This is my repository</p>\n<pre><code>public interface EmailRepository extends JpaRepository&lt;ActionItems, String&gt; {\n    @Query(&quot;select email from ActionItems where duedate&lt; CURRENT_TIMESTAMP&quot;)\n    List&lt;String&gt; finddueemailsfromdb();\n\n}\n</code></pre>\n<p>This is my entity</p>\n<pre><code>@Entity\n@Table(name = &quot;actionitemsFinal&quot;)\npublic class ActionItems {\n    \n    @Id\n    @GeneratedValue\n    private int id;\n    private String action;\n    private String email;\n    private Date duedate;\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getAction() {\n        return action;\n    }\n    public void setAction(String action) {\n        this.action = action;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    public Date getDuedate() {\n        return duedate;\n    }\n    public void setDuedate(Date duedate) {\n        this.duedate = duedate;\n    }\n\n}\n</code></pre>\n<p>This is my Service</p>\n<pre><code>List&lt;String&gt; To = emailrepo.finddueemailsfromdb();\nString k[] = To.toArray(new String[To.size()]);\nSimpleMailMessage mail = new SimpleMailMessage();\n/* mail.setTo(actions.getEmailAddress()); */\nmail.setTo(k);\n  ......rest of the code omitted\n</code></pre>\n"}],"owner":{"account_id":25402793,"reputation":1,"user_id":19211969,"display_name":"user19211969"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72641204,"answer_count":2,"score":0,"last_activity_date":1655359463,"creation_date":1655017305,"question_id":72590106,"body_markdown":"I am developing an api using Springboot, which will check the DB and find all the email ids\r\nin an action table and send alert emails.I could start the springboot applciation with no error. But when i send the http://localhost:8082/send-due-emails request in postman, I get the below error in the application\r\n\r\nCannot invoke &quot;com.emailschedulerfinal.repository.EmailRepository.findDueEmails()&quot; because &quot;this.emailrepo&quot; is null\r\n\r\nThe query I use is returning the results in DB. It has got two email ids in the results. Can you please help me with this issue? Anything wrong in the way I gave the query in the repository? Or any issue with the return statements here?\r\n\r\n**This is my Controller**\r\n    \r\n    @RestController\r\n    public class EmailController {\r\n    \r\n    \tSchedulerService schedulerservice = new SchedulerService(null);\r\n    \t@RequestMapping(&quot;send-due-emails&quot;)\r\n    \tpublic String send() {\r\n    \t\ttry {\r\n    \t\t\tschedulerservice.sendEmailIds();\r\n    \t\t} catch (MailException mailException) {\r\n    \t\t\tSystem.out.println(mailException);\r\n    \t\t}\r\n    \t\treturn &quot;Congratulations! Your mail has been sent to the user.&quot;;\r\n    \t}\r\n    \r\n    }\r\n    \r\n**This is my model**\r\n    \r\n    @Entity\r\n    @Table(name = &quot;actionitems&quot;)\r\n    public class actionitems {\r\n    \t\r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n    \tprivate String action;\r\n        private String email;\r\n        private Date duedate;\r\n    #getters and setters omitted here\r\n    }\r\n    \r\n**This is my repository**\r\n    \r\n        public interface EmailRepository extends JpaRepository&lt;actionitems, Long&gt; {\r\n    \t   @Query(&quot;select email from actionitems where duedate&lt; CURRENT_TIMESTAMP&quot;)     \r\n    \t   public List&lt;String[]&gt; findDueEmails();\r\n    \t\t\t  \t\t\r\n    }\r\n    \r\n    \r\n    \r\n**This is my service**\r\n\r\n    public class SchedulerService {\r\n    \tprivate JavaMailSender javaMailSender;\r\n    \t\r\n    \t@Autowired\r\n    \tEmailRepository emailrepo;\r\n    \r\n    \r\n    \tpublic SchedulerService(JavaMailSender javaMailSender) {\r\n    \t\tthis.javaMailSender = javaMailSender;\r\n    \t}\r\n    \r\n    \tpublic List&lt;String[]&gt; findDueEmailsFromDB() {\r\n    \t\t\r\n    \t\treturn emailrepo.findDueEmails();\r\n    \t}\r\n    \t\r\n    \tpublic void sendEmailIds() {\r\n    \t\t\r\n    \t\tList&lt;String[]&gt; To = findDueEmailsFromDB();\r\n    \t\tString k[] = To.toArray(new String[To.size()]);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;The list obtained is &quot; + k);\r\n    \t\t \r\n            // Iterating over above string array\r\n            for (String str : k) {\r\n     \r\n                // Printing the elements in above array\r\n                System.out.println(str);\r\n            }\r\n           \r\n    \r\n    \t\tSimpleMailMessage mailMessage = new SimpleMailMessage();\r\n    \t\tmailMessage.setTo(k);\r\n    \t\tmailMessage.setSubject(&quot;sample subject&quot;);\r\n    \t\tmailMessage.setText(&quot;Sample text&quot;);\r\n    \t\tmailMessage.setFrom(&quot;test@gmail.com&quot;);\r\n    \t\tjavaMailSender.send(mailMessage);\r\n    \t\t}\r\n    }\r\n\r\n\r\n\r\n","title":"Getting error while sending alert emails to all due items in DB using springboot","body":"<p>I am developing an api using Springboot, which will check the DB and find all the email ids\nin an action table and send alert emails.I could start the springboot applciation with no error. But when i send the http://localhost:8082/send-due-emails request in postman, I get the below error in the application</p>\n<p>Cannot invoke &quot;com.emailschedulerfinal.repository.EmailRepository.findDueEmails()&quot; because &quot;this.emailrepo&quot; is null</p>\n<p>The query I use is returning the results in DB. It has got two email ids in the results. Can you please help me with this issue? Anything wrong in the way I gave the query in the repository? Or any issue with the return statements here?</p>\n<p><strong>This is my Controller</strong></p>\n<pre><code>@RestController\npublic class EmailController {\n\n    SchedulerService schedulerservice = new SchedulerService(null);\n    @RequestMapping(&quot;send-due-emails&quot;)\n    public String send() {\n        try {\n            schedulerservice.sendEmailIds();\n        } catch (MailException mailException) {\n            System.out.println(mailException);\n        }\n        return &quot;Congratulations! Your mail has been sent to the user.&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>This is my model</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;actionitems&quot;)\npublic class actionitems {\n    \n    @Id\n    @GeneratedValue\n    private int id;\n    private String action;\n    private String email;\n    private Date duedate;\n#getters and setters omitted here\n}\n</code></pre>\n<p><strong>This is my repository</strong></p>\n<pre><code>    public interface EmailRepository extends JpaRepository&lt;actionitems, Long&gt; {\n       @Query(&quot;select email from actionitems where duedate&lt; CURRENT_TIMESTAMP&quot;)     \n       public List&lt;String[]&gt; findDueEmails();\n                    \n}\n</code></pre>\n<p><strong>This is my service</strong></p>\n<pre><code>public class SchedulerService {\n    private JavaMailSender javaMailSender;\n    \n    @Autowired\n    EmailRepository emailrepo;\n\n\n    public SchedulerService(JavaMailSender javaMailSender) {\n        this.javaMailSender = javaMailSender;\n    }\n\n    public List&lt;String[]&gt; findDueEmailsFromDB() {\n        \n        return emailrepo.findDueEmails();\n    }\n    \n    public void sendEmailIds() {\n        \n        List&lt;String[]&gt; To = findDueEmailsFromDB();\n        String k[] = To.toArray(new String[To.size()]);\n        \n        System.out.println(&quot;The list obtained is &quot; + k);\n         \n        // Iterating over above string array\n        for (String str : k) {\n \n            // Printing the elements in above array\n            System.out.println(str);\n        }\n       \n\n        SimpleMailMessage mailMessage = new SimpleMailMessage();\n        mailMessage.setTo(k);\n        mailMessage.setSubject(&quot;sample subject&quot;);\n        mailMessage.setText(&quot;Sample text&quot;);\n        mailMessage.setFrom(&quot;test@gmail.com&quot;);\n        javaMailSender.send(mailMessage);\n        }\n}\n</code></pre>\n"},{"tags":["java","arrays","file","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1598881296,"creation_date":1598863354,"answer_id":63667538,"question_id":63654999,"body_markdown":"By using `flatMap` maybe. Im writing this on mobile so have not tried it out or double checked anything.\r\n\r\n    public Mono&lt;ServerResponse&gt; getAttachment(ServerRequest request) {\r\n        return documentManagerService.getAttachment(request.pathVariable(&quot;id&quot;))\r\n            .flatMap(attachment -&gt; {\r\n                return ServerResponse.ok()\r\n                    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM.toString())\r\n                    .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + attachment.getFileName() + &quot;\\&quot;&quot;)\r\n                    .bodyValue(attachment.getFileAttachment().getData())\r\n            });\r\n    }","title":"Spring WebFlux: How to return a file as byte array from DB","body":"<p>By using <code>flatMap</code> maybe. Im writing this on mobile so have not tried it out or double checked anything.</p>\n<pre><code>public Mono&lt;ServerResponse&gt; getAttachment(ServerRequest request) {\n    return documentManagerService.getAttachment(request.pathVariable(&quot;id&quot;))\n        .flatMap(attachment -&gt; {\n            return ServerResponse.ok()\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM.toString())\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + attachment.getFileName() + &quot;\\&quot;&quot;)\n                .bodyValue(attachment.getFileAttachment().getData())\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":2360496,"reputation":7506,"user_id":2067264,"accept_rate":67,"display_name":"Drunken Daddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4006,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63667538,"answer_count":1,"score":2,"last_activity_date":1655359238,"creation_date":1598772293,"question_id":63654999,"body_markdown":"Just started leaning Spring Reactive, and I couldn&#39;t find any examples on how to do something as simple as this. Without WebFlux, My controller was looking like this:\r\n\r\n    @GetMapping(&quot;/retrieveAttachment/{id}&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; downloadFile(@PathVariable String id) throws Exception {\r\n        Attachment attachment = documentManagerService.getAttachment(id);\r\n\r\n        return ResponseEntity.ok()\r\n                .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + attachment.getFileName() + &quot;\\&quot;&quot;)\r\n                .body(attachment.getFileAttachment().getData());\r\n    }\r\n\r\nNow with WebFlux, my documenManagerService returning `Mono&lt;Attachment&gt;`, this is what I came up with:\r\n\r\n    public Mono&lt;ServerResponse&gt; getAttachment(ServerRequest request) {\r\n        Mono&lt;byte[]&gt; mono = documentManagerService.getAttachment(request.pathVariable(&quot;id&quot;))\r\n                .map(attachment -&gt; attachment.getFileAttachment().getData());\r\n        return ServerResponse\r\n                .ok()\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM.toString())\r\n                .body(mono, byte[].class);\r\n    }\r\n\r\nI&#39;m able to download the file, but the problem is the file is without extension\r\nsince I&#39;ve not set the Content Disposition Header. How do I set it without making a blocking call?\r\n","title":"Spring WebFlux: How to return a file as byte array from DB","body":"<p>Just started leaning Spring Reactive, and I couldn't find any examples on how to do something as simple as this. Without WebFlux, My controller was looking like this:</p>\n<pre><code>@GetMapping(&quot;/retrieveAttachment/{id}&quot;)\npublic ResponseEntity&lt;byte[]&gt; downloadFile(@PathVariable String id) throws Exception {\n    Attachment attachment = documentManagerService.getAttachment(id);\n\n    return ResponseEntity.ok()\n            .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + attachment.getFileName() + &quot;\\&quot;&quot;)\n            .body(attachment.getFileAttachment().getData());\n}\n</code></pre>\n<p>Now with WebFlux, my documenManagerService returning <code>Mono&lt;Attachment&gt;</code>, this is what I came up with:</p>\n<pre><code>public Mono&lt;ServerResponse&gt; getAttachment(ServerRequest request) {\n    Mono&lt;byte[]&gt; mono = documentManagerService.getAttachment(request.pathVariable(&quot;id&quot;))\n            .map(attachment -&gt; attachment.getFileAttachment().getData());\n    return ServerResponse\n            .ok()\n            .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM.toString())\n            .body(mono, byte[].class);\n}\n</code></pre>\n<p>I'm able to download the file, but the problem is the file is without extension\nsince I've not set the Content Disposition Header. How do I set it without making a blocking call?</p>\n"},{"tags":["java","loops","exception","try-catch","do-while"],"comments":[{"owner":{"account_id":408579,"reputation":9103,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1654990041,"post_id":72588503,"comment_id":128224390,"body_markdown":"you should read the date after. you start the loop","body":"you should read the date after. you start the loop"},{"owner":{"account_id":21009405,"reputation":654,"user_id":15438360,"display_name":"Muhammad Khuzaima Umair"},"score":0,"creation_date":1655000044,"post_id":72588503,"comment_id":128225350,"body_markdown":"just move `validity = true` from `catch` block to `try` block.","body":"just move <code>validity = true</code> from <code>catch</code> block to <code>try</code> block."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1655041724,"post_id":72588503,"comment_id":128231392,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":9633681,"reputation":35,"user_id":7152169,"display_name":"skylvsme"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654990202,"creation_date":1654990202,"answer_id":72588541,"question_id":72588503,"body_markdown":"You can use it like this:\r\n\r\n```\r\n        boolean validity = false;\r\n        Scanner eingabe = new Scanner(System.in);\r\n\r\n        Date parsedDate = null;\r\n        SimpleDateFormat dateStandardFormat = new SimpleDateFormat(&quot;dd.mm.yyyy&quot;);\r\n\r\n        System.out.println(&quot;Enter date (Format DD.MM.JJJJ)&quot;);\r\n\r\n        do {\r\n\r\n            String date = eingabe.next();\r\n\r\n            try {\r\n                parsedDate = dateStandardFormat.parse(date);\r\n                validity = true;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Date invalid! Please enter the date in Format DD.MM.YYYY&quot;);\r\n            }\r\n        } while(!validity);\r\n\r\n        System.out.println(&quot;Parsed date: &quot; + parsedDate.toString());\r\n```\r\n\r\nMy output from this code:\r\n\r\n```\r\nEnter date (Format DD.MM.JJJJ)\r\n  Hello!\r\nDate invalid! Please enter the date in Format DD.MM.YYYY\r\n  27.10.2019\r\nParsed date: Sun Jan 27 00:10:00 CET 2019\r\n```","title":"Try-Catch, return to the start of the loop (java)","body":"<p>You can use it like this:</p>\n<pre><code>        boolean validity = false;\n        Scanner eingabe = new Scanner(System.in);\n\n        Date parsedDate = null;\n        SimpleDateFormat dateStandardFormat = new SimpleDateFormat(&quot;dd.mm.yyyy&quot;);\n\n        System.out.println(&quot;Enter date (Format DD.MM.JJJJ)&quot;);\n\n        do {\n\n            String date = eingabe.next();\n\n            try {\n                parsedDate = dateStandardFormat.parse(date);\n                validity = true;\n            } catch (Exception e) {\n                System.out.println(&quot;Date invalid! Please enter the date in Format DD.MM.YYYY&quot;);\n            }\n        } while(!validity);\n\n        System.out.println(&quot;Parsed date: &quot; + parsedDate.toString());\n</code></pre>\n<p>My output from this code:</p>\n<pre><code>Enter date (Format DD.MM.JJJJ)\n  Hello!\nDate invalid! Please enter the date in Format DD.MM.YYYY\n  27.10.2019\nParsed date: Sun Jan 27 00:10:00 CET 2019\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655045771,"creation_date":1655016845,"answer_id":72590064,"question_id":72588503,"body_markdown":"To start, you can not have two objects declared with the same local variable name in the same method, for example:\r\n\r\n     SimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.mm.yyyy&quot;);\r\n     Date dateStandardFormat = null;\r\n\r\nThis is a &#39;no go&#39; and won&#39;t even allow for compiling. Below would be good enough if you plan on using these troublesome classes:\r\n\r\n    SimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.mm.yyyy&quot;);\r\n    Date newDate = null;\r\n\r\nIf you look closely to the string date pattern used for `SimpleDateFormat` you will notice the `mm` within the pattern. This designation is for **minutes** not for **months**. You need to change this to `MM` (uppercase **M**) so that the formatter knows you mean **months** otherwise you will just end up getting some obscure date that in no way relates to the date supplied by the User. The String pattern for the **SimpleDateFormat** constructor should be: `dd.MM.yyyy`, for example:.\r\n\r\n    SimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n\r\nAnd where does `datum` come from? `dateStandardFormat = dateStandardFormat.parse(datum);`. This should be: `newDate = dateStandardFormat.parse(date);`.\r\n\r\n    SimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n    Date newDate = null;\r\n        \r\n    boolean validity = false;\r\n    while (!validity) {\r\n        System.out.print(&quot;Enter date (Format: DD.MM.YYYY): -&gt; &quot;);\r\n        String strDate = eingabe.next();\r\n        try {\r\n            newDate = dateStandardFormat.parse(strDate);\r\n            validity = true;\r\n        }\r\n        catch (ParseException ex) {\r\n            System.out.println(&quot;Date invalid! (&quot; + strDate + &quot;) Please try again...&quot;);\r\n        }\r\n    }\r\n    System.out.println(newDate);\r\n\r\n----------\r\n\r\n**On A Side:**\r\n\r\nIf you can, you try and avoid using the antique **Date** and **SimpleDateFormat** classes since they are well known for being troublesome. Instead use the **LocalDate**, **LocalDateTime**, and other classes from the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package and the [DateFormatter](https://docs.oracle.com/javase/8/docs/api/javax/swing/text/DateFormatter.html) / [DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) classes (java 8+). Here is an example:\r\n\r\n    Scanner eingabe = new Scanner(System.in);\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n    LocalDate date = null;\r\n    String strDate = &quot;&quot;;\r\n    boolean validity = false;\r\n    while (!validity) {\r\n        System.out.print(&quot;Enter date (format: DD.MM.YYYY): -&gt; &quot;);\r\n        strDate = eingabe.nextLine().trim();\r\n        if (strDate.equalsIgnoreCase(&quot;n&quot;)) {\r\n            strDate = &quot;N/A&quot;;\r\n            break;\r\n        }\r\n        else if (strDate.isEmpty()) {\r\n            System.out.println(&quot;You must enter a date or enter &#39;n&#39; for &quot;\r\n                             + &quot;\\&quot;N/A\\&quot;!&quot; +  System.lineSeparator() \r\n                             + &quot;Try again...&quot; + System.lineSeparator());\r\n        }\r\n        else {\r\n            try {\r\n                date = LocalDate.parse(strDate, formatter);\r\n                strDate = date.format(formatter);\r\n                /* The supplied date will be considered Invalid if it is\r\n                   found to be before the Current Date.   */\r\n                if (date.isBefore(LocalDate.now())) {\r\n                    System.out.println(&quot;Date invalid! (&quot; + strDate\r\n                        + &quot;) That date has already expired!&quot; + System.lineSeparator()\r\n                        + &quot;Please try again...&quot; + System.lineSeparator());\r\n                    continue;\r\n                }\r\n                validity = true;\r\n            }\r\n            catch (DateTimeParseException ex) {\r\n                System.out.println(&quot;Date invalid! (&quot; + strDate\r\n                        + &quot;) Please try again...&quot; + System.lineSeparator());\r\n            }\r\n        }\r\n    }\r\n    System.out.println(&quot;User Supplied:  &quot; + strDate);\r\n\r\nYou may also notice that, knowing 2022 it is not a Leap Year but the User was to enter `31.02.2022`, the day value will be automatically corrected to the proper end of month: `28.02.2022`.","title":"Try-Catch, return to the start of the loop (java)","body":"<p>To start, you can not have two objects declared with the same local variable name in the same method, for example:</p>\n<pre><code> SimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.mm.yyyy&quot;);\n Date dateStandardFormat = null;\n</code></pre>\n<p>This is a 'no go' and won't even allow for compiling. Below would be good enough if you plan on using these troublesome classes:</p>\n<pre><code>SimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.mm.yyyy&quot;);\nDate newDate = null;\n</code></pre>\n<p>If you look closely to the string date pattern used for <code>SimpleDateFormat</code> you will notice the <code>mm</code> within the pattern. This designation is for <strong>minutes</strong> not for <strong>months</strong>. You need to change this to <code>MM</code> (uppercase <strong>M</strong>) so that the formatter knows you mean <strong>months</strong> otherwise you will just end up getting some obscure date that in no way relates to the date supplied by the User. The String pattern for the <strong>SimpleDateFormat</strong> constructor should be: <code>dd.MM.yyyy</code>, for example:.</p>\n<pre><code>SimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\n</code></pre>\n<p>And where does <code>datum</code> come from? <code>dateStandardFormat = dateStandardFormat.parse(datum);</code>. This should be: <code>newDate = dateStandardFormat.parse(date);</code>.</p>\n<pre><code>SimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\nDate newDate = null;\n    \nboolean validity = false;\nwhile (!validity) {\n    System.out.print(&quot;Enter date (Format: DD.MM.YYYY): -&gt; &quot;);\n    String strDate = eingabe.next();\n    try {\n        newDate = dateStandardFormat.parse(strDate);\n        validity = true;\n    }\n    catch (ParseException ex) {\n        System.out.println(&quot;Date invalid! (&quot; + strDate + &quot;) Please try again...&quot;);\n    }\n}\nSystem.out.println(newDate);\n</code></pre>\n<hr />\n<p><strong>On A Side:</strong></p>\n<p>If you can, you try and avoid using the antique <strong>Date</strong> and <strong>SimpleDateFormat</strong> classes since they are well known for being troublesome. Instead use the <strong>LocalDate</strong>, <strong>LocalDateTime</strong>, and other classes from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package and the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/text/DateFormatter.html\" rel=\"nofollow noreferrer\">DateFormatter</a> / <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> classes (java 8+). Here is an example:</p>\n<pre><code>Scanner eingabe = new Scanner(System.in);\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\nLocalDate date = null;\nString strDate = &quot;&quot;;\nboolean validity = false;\nwhile (!validity) {\n    System.out.print(&quot;Enter date (format: DD.MM.YYYY): -&gt; &quot;);\n    strDate = eingabe.nextLine().trim();\n    if (strDate.equalsIgnoreCase(&quot;n&quot;)) {\n        strDate = &quot;N/A&quot;;\n        break;\n    }\n    else if (strDate.isEmpty()) {\n        System.out.println(&quot;You must enter a date or enter 'n' for &quot;\n                         + &quot;\\&quot;N/A\\&quot;!&quot; +  System.lineSeparator() \n                         + &quot;Try again...&quot; + System.lineSeparator());\n    }\n    else {\n        try {\n            date = LocalDate.parse(strDate, formatter);\n            strDate = date.format(formatter);\n            /* The supplied date will be considered Invalid if it is\n               found to be before the Current Date.   */\n            if (date.isBefore(LocalDate.now())) {\n                System.out.println(&quot;Date invalid! (&quot; + strDate\n                    + &quot;) That date has already expired!&quot; + System.lineSeparator()\n                    + &quot;Please try again...&quot; + System.lineSeparator());\n                continue;\n            }\n            validity = true;\n        }\n        catch (DateTimeParseException ex) {\n            System.out.println(&quot;Date invalid! (&quot; + strDate\n                    + &quot;) Please try again...&quot; + System.lineSeparator());\n        }\n    }\n}\nSystem.out.println(&quot;User Supplied:  &quot; + strDate);\n</code></pre>\n<p>You may also notice that, knowing 2022 it is not a Leap Year but the User was to enter <code>31.02.2022</code>, the day value will be automatically corrected to the proper end of month: <code>28.02.2022</code>.</p>\n"}],"owner":{"account_id":25534389,"reputation":3,"user_id":19321768,"display_name":"PizzaE4ter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655358645,"creation_date":1654989626,"question_id":72588503,"body_markdown":"I want to get back to the start of the loop if the catch happened, so the user can input the date in the right format.\r\n\r\n    System.out.print(&quot;Enter date (Format DD.MM.JJJJ)&quot;);\r\n\t\tString date = eingabe.next();\r\n\t\tSimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.mm.yyyy&quot;);\r\n\t\tDate dateStandardFormat = null;\r\n\t\tdo {\r\n\t\t try {\r\n\t\t\t dateStandardFormat = dateStandardFormat.parse(datum);\t\r\n\t\t\r\n\t\t } catch (java.text.ParseException e1) {\t\t\t\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;date invalid! Please enter the date in Format DD.MM.YYYY&quot;);\r\n\t\t\tvalidity = true;\r\n\t\t } \r\n\t\t }while(!validity);\r\n\r\n\r\nBut if I get the throw, it brings me back in a perma loop. What Im doing wrong?","title":"Try-Catch, return to the start of the loop (java)","body":"<p>I want to get back to the start of the loop if the catch happened, so the user can input the date in the right format.</p>\n<pre><code>System.out.print(&quot;Enter date (Format DD.MM.JJJJ)&quot;);\n    String date = eingabe.next();\n    SimpleDateFormat dateStandardFormat= new SimpleDateFormat(&quot;dd.mm.yyyy&quot;);\n    Date dateStandardFormat = null;\n    do {\n     try {\n         dateStandardFormat = dateStandardFormat.parse(datum);  \n    \n     } catch (java.text.ParseException e1) {                            \n        System.out.println(&quot;date invalid! Please enter the date in Format DD.MM.YYYY&quot;);\n        validity = true;\n     } \n     }while(!validity);\n</code></pre>\n<p>But if I get the throw, it brings me back in a perma loop. What Im doing wrong?</p>\n"},{"tags":["java","asynchronous","exception","java-8","completable-future"],"answers":[{"tags":[],"owner":{"account_id":10277084,"reputation":2760,"user_id":7583619,"display_name":"lucid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580179483,"creation_date":1580179483,"answer_id":59941533,"question_id":59941401,"body_markdown":"It will depend on which step you are adding `exceptionally`.\r\n\r\nIn the below case, it will skip `thenRun` and directly execute exceptionally block.\r\n\r\n    CompletableFuture.runAsync(() -&gt; { \r\n         //process and throw exception\r\n         }, anInstanceOfTaskExecutor )\r\n        .thenRun(() -&gt; {})\r\n        .exceptionally(exception -&gt; {\r\n          // do something, handle exception\r\n        })\r\n     ));\r\n\r\nIn this case, it will execute `thenRun`.\r\n\r\n       CompletableFuture.runAsync(() -&gt; { \r\n         //process and throw exception\r\n         }, anInstanceOfTaskExecutor )\r\n        .exceptionally(exception -&gt; {\r\n          // do something, handle exception\r\n        })\r\n        .thenRun(() -&gt; {})\r\n     ));\r\n\r\nI hope, it helps","title":"CompletableFuture exception handling runAsync &amp; thenRun","body":"<p>It will depend on which step you are adding <code>exceptionally</code>.</p>\n\n<p>In the below case, it will skip <code>thenRun</code> and directly execute exceptionally block.</p>\n\n<pre><code>CompletableFuture.runAsync(() -&gt; { \n     //process and throw exception\n     }, anInstanceOfTaskExecutor )\n    .thenRun(() -&gt; {})\n    .exceptionally(exception -&gt; {\n      // do something, handle exception\n    })\n ));\n</code></pre>\n\n<p>In this case, it will execute <code>thenRun</code>.</p>\n\n<pre><code>   CompletableFuture.runAsync(() -&gt; { \n     //process and throw exception\n     }, anInstanceOfTaskExecutor )\n    .exceptionally(exception -&gt; {\n      // do something, handle exception\n    })\n    .thenRun(() -&gt; {})\n ));\n</code></pre>\n\n<p>I hope, it helps</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1655358115,"creation_date":1581280908,"answer_id":60141118,"question_id":59941401,"body_markdown":"# General Information\r\n\r\nThe documentation of [`CompletionStage`][1] explains the general rules of the interface:\r\n\r\n&gt;A stage of a possibly asynchronous computation, that performs an action or computes a value when another `CompletionStage` completes. A stage completes upon termination of its computation, but this may in turn trigger other dependent stages. The functionality defined in this interface takes only a few basic forms, which expand out to a larger set of methods to capture a range of usage styles:\r\n\r\n&gt;* The computation performed by a stage may be expressed as a `Function`, `Consumer`, or `Runnable` (using methods with names including _apply_, _accept_, or _run_, respectively) depending on whether it requires arguments and/or produces results. For example:\r\n&gt;\r\n&gt;     ```java    \r\n&gt;     stage.thenApply(x -&gt; square(x))\r\n&gt;          .thenAccept(x -&gt; System.out.print(x))\r\n&gt;          .thenRun(() -&gt; System.out.println());\r\n&gt;     ```\r\n&gt;\r\n&gt;  An additional form (_compose_) allows the construction of computation pipelines from functions returning completion stages.\r\n&gt;\r\n&gt;  Any argument to a stage&#39;s computation is the outcome of a triggering stage&#39;s computation.\r\n&gt;\r\n&gt;* One stage&#39;s execution may be triggered by completion of a single stage, or both of two stages, or either of two stages. Dependencies on a single stage are arranged using methods with prefix _then_. Those triggered by completion of both of two stages may combine their results or effects, using correspondingly named methods. Those triggered by _either_ of two stages make no guarantees about which of the results or effects are used for the dependent stage&#39;s computation.\r\n&gt;\r\n&gt;* Dependencies among stages control the triggering of computations, but do not otherwise guarantee any particular ordering. Additionally, execution of a new stage&#39;s computations may be arranged in any of three ways: default execution, default asynchronous execution (using methods with suffix _async_ that employ the stage&#39;s default asynchronous execution facility), or custom (via a supplied `Executor`). The execution properties of default and async modes are specified by `CompletionStage` implementations, not this interface. Methods with explicit `Executor` arguments may have arbitrary execution properties, and might not even support concurrent execution, but are arranged for processing in a way that accommodates asynchrony.\r\n&gt;\r\n&gt;* Two method forms (`handle` and `whenComplete`) support unconditional computation whether the triggering stage completed normally or exceptionally. Method `exceptionally` supports computation only when the triggering stage completes exceptionally, computing a replacement result, similarly to the java _[sic]_ `catch` keyword. In all other cases, if a stage&#39;s computation terminates abruptly with an (unchecked) exception or error, then all dependent stages requiring its completion complete exceptionally as well, with a `CompletionException` holding the exception as its cause. If a stage is dependent on _both_ of two stages, and both complete exceptionally, then the `CompletionException` may correspond to either one of these exceptions. If a stage is dependent on _either_ of two others, and only one of them completes exceptionally, no guarantees are made about whether the dependent stage completes normally or exceptionally. In the case of method `whenComplete`, when the supplied action itself encounters an exception, then the stage completes exceptionally with this exception unless the source stage also completed exceptionally, in which case the exceptional completion from the source stage is given preference and propagated to the dependent stage.\r\n&gt;\r\n&gt;All methods adhere to the above triggering, execution, and exceptional completion specifications (which are not repeated in individual method specifications). _[...]_\r\n&gt;\r\n&gt;_[...]_\r\n\r\nAnd documentation of [`CompletableFuture`][2] explains the threading rules (and other policies) where, as documented above, some of which are left up to the implementations of `CompletionStage`:\r\n\r\n&gt;A `Future` that may be explicitly completed (setting its value and status), and may be used as a `CompletionStage`, supporting dependent functions and actions that trigger upon its completion.\r\n&gt;\r\n&gt;When two or more threads attempt to `complete`, `completeExceptionally`, or `cancel` a `CompletableFuture`, only one of them succeeds.\r\n&gt;\r\n&gt;In addition to these and related methods for directly manipulating status and results, `CompletableFuture` implements interface `CompletionStage` with the following policies:\r\n&gt;\r\n&gt;* Actions supplied for dependent completions of non-async methods may be performed by the thread that completes the current `CompletableFuture`, or by any other caller of a completion method.\r\n&gt;\r\n&gt;* All async methods without an explicit `Executor` argument are performed using the `ForkJoinPool.commonPool()` (unless it does not support a parallelism level of at least two, in which case, a new `Thread` is created to run each task). This may be overridden for non-static methods in subclasses by defining method `defaultExecutor()`. To simplify monitoring, debugging, and tracking, all generated asynchronous tasks are instances of the marker interface `CompletableFuture.AsynchronousCompletionTask`. Operations with time-delays can use adapter methods defined in this class, for example: `supplyAsync(supplier, delayedExecutor(timeout, timeUnit))`. To support methods with delays and timeouts, this class maintains at most one daemon thread for triggering and cancelling actions, not for running them.\r\n&gt;\r\n&gt;* All `CompletionStage` methods are implemented independently of other public methods, so the behavior of one method is not impacted by overrides of others in subclasses.\r\n&gt;\r\n&gt;* All `CompletionStage` methods return `CompletableFuture`s. To restrict usages to only those methods defined in interface `CompletionStage`, use method `minimalCompletionStage()`. Or to ensure only that clients do not themselves modify a future, use method `copy()`.\r\n&gt;\r\n&gt;`CompletableFuture` also implements `Future` with the following policies:\r\n&gt;\r\n&gt;* Since (unlike `FutureTask`) this class has no direct control over the computation that causes it to be completed, cancellation is treated as just another form of exceptional completion. Method `cancel` has the same effect as `completeExceptionally(new CancellationException())`. Method `isCompletedExceptionally()` can be used to determine if a `CompletableFuture` completed in any exceptional fashion.\r\n&gt;\r\n&gt;* In case of exceptional completion with a `CompletionException`, methods `get()` and `get(long, TimeUnit)` throw an `ExecutionException` with the same cause as held in the corresponding `CompletionException`. To simplify usage in most contexts, this class also defines methods `join()` and `getNow(T)` that instead throw the `CompletionException` directly in these cases. \r\n&gt;\r\n&gt;_[...]_\r\n\r\n---\r\n\r\n# Your Questions\r\n\r\nHere&#39;s your example code:\r\n\r\n```java\r\nCompletableFuture.runAsync(() -&gt; {\r\n      List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n      integerList.get(1);    // throws exception\r\n    }).thenRun(() -&gt; {\r\n      System.out.println(&quot;No exception occurred&quot;);\r\n    });\r\n```\r\n\r\nIf you aren&#39;t aware, methods such as `thenRun` return a _new_ `CompletionStage`. So your code is similar to the following:\r\n\r\n```java\r\nCompletableFuture&lt;Void&gt; runAsyncStage = CompletableFuture.runAsync(() -&gt; List.of().get(0));\r\nCompletableFuture&lt;Void&gt; thenRunStage =\r\n    runAsyncStage.thenRun(() -&gt; System.out.println(&quot;thenRun executing!&quot;));\r\n```\r\n\r\nThe `thenRunStage` is triggered by the completion of the `runAsyncStage` which, in this case, is guaranteed to complete exceptionally with an `IndexOutOfBoundsException`. As for why the `Runnable` isn&#39;t executed, that&#39;s due to the contract of [`CompletionStage#thenRun(Runnable)`][4]:\r\n\r\n&gt;Returns a new `CompletionStage` that, when this stage completes normally, executes the given action. See the `CompletionStage` documentation for rules covering exceptional completion.\r\n\r\nDue to the triggering stage completing exceptionally the `thenRunStage` stage also completes exceptionally, which means the `Runnable` is skipped.\r\n\r\n## 1. &quot;Why is it silently failing even though the CompletableFuture completesExceptionally?&quot;\r\n\r\nThe example code is the equivalent of swallowing an exception with a try-catch block. You don&#39;t see the exception because you haven&#39;t written code that would report the exception. Both the `runAsyncStage` and `thenRunStage` stages have completed exceptionally, the latter because of the former completing exceptionally.\r\n\r\nIf you want to be aware of the exception &quot;within the chain&quot; of stages then you have to use stages such as `exceptionally[Async]`, `handle[Async]`, and `whenComplete[Async]`. Doing it this way allows you to change the behavior of the chain based on normal or exceptional completion of a trigger stage.\r\n\r\nIf you want to be aware of the exception &quot;outside the chain&quot; of stages then you have to use methods such as `join()`, `get()`, and `get(long,TimeUnit)`. If the stage had completed exceptionally then the first will throw a `CompletionException` wrapping the cause-of-failure while the latter two will throw an `ExecutionException` wrapping the cause-of-failure.\r\n\r\n## 2. &quot;How does it work in the background?&quot;\r\n\r\nThe implementation of `CompletableFuture` is too complex to explain in a Stack Overflow answer. If you want to study the implementation you can look at the source code. Your JDK should have come with a `src.zip` file containing the Java source files. You can also look at the source code online in the [OpenJDK repositories][3]. For instance, here&#39;s the source code of `CompletableFuture`:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java\r\n\r\n## 3. &quot;Is it because both these threads (caller&#39;s thread &amp; asynchronous thread) have their own stack space?&quot;\r\n\r\nOne thread will not be aware of an exception in another thread unless there&#39;s some sort of communication between the two threads. Calling methods such as `join()` will, when appropriate, communicate the exception to the calling thread which will throw said exception. However, as shown by the answer to your first question, it&#39;s slightly more complicated than that. Even when a thread throws an exception _within a single stage_ you won&#39;t see a stack trace or anything similar. This is because the exception is _caught_ and the stage is marked as failed _with that exception as the cause_. Other code then has to explicitly retrieve and handle that exception, as needed.\r\n\r\nThis is no different than using an `ExecutorService` and returned `Future` objects. The task may fail in the background, but other code won&#39;t be aware of that until the `Future` is queried.\r\n\r\n## From bounty: “I am looking to understand the details of how threads interact with each other.” \r\n\r\nI&#39;m not sure what else to add. The `CompletionStage` API is an abstraction &quot;above&quot; threads. You simply tell the API how you would like the chain of commands to execute, including which thread pools to use for each stage, and the implementation handles all the inter-thread communication for you. That said, each thread does it&#39;s own thing, it&#39;s just the API is designed to provide an easier and reactive way to communicate between threads. If you&#39;re interested in _how_ that&#39;s implemented then I recommend studying the source code (linked above).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/CompletionStage.html\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/CompletableFuture.html\r\n  [3]: https://github.com/openjdk\r\n  [4]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/CompletionStage.html#thenRun(java.lang.Runnable)\r\n\r\n","title":"CompletableFuture exception handling runAsync &amp; thenRun","body":"<h1>General Information</h1>\n<p>The documentation of <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/CompletionStage.html\" rel=\"nofollow noreferrer\"><code>CompletionStage</code></a> explains the general rules of the interface:</p>\n<blockquote>\n<p>A stage of a possibly asynchronous computation, that performs an action or computes a value when another <code>CompletionStage</code> completes. A stage completes upon termination of its computation, but this may in turn trigger other dependent stages. The functionality defined in this interface takes only a few basic forms, which expand out to a larger set of methods to capture a range of usage styles:</p>\n</blockquote>\n<blockquote>\n<ul>\n<li><p>The computation performed by a stage may be expressed as a <code>Function</code>, <code>Consumer</code>, or <code>Runnable</code> (using methods with names including <em>apply</em>, <em>accept</em>, or <em>run</em>, respectively) depending on whether it requires arguments and/or produces results. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stage.thenApply(x -&gt; square(x))\n     .thenAccept(x -&gt; System.out.print(x))\n     .thenRun(() -&gt; System.out.println());\n</code></pre>\n</li>\n</ul>\n<p>An additional form (<em>compose</em>) allows the construction of computation pipelines from functions returning completion stages.</p>\n<p>Any argument to a stage's computation is the outcome of a triggering stage's computation.</p>\n<ul>\n<li><p>One stage's execution may be triggered by completion of a single stage, or both of two stages, or either of two stages. Dependencies on a single stage are arranged using methods with prefix <em>then</em>. Those triggered by completion of both of two stages may combine their results or effects, using correspondingly named methods. Those triggered by <em>either</em> of two stages make no guarantees about which of the results or effects are used for the dependent stage's computation.</p>\n</li>\n<li><p>Dependencies among stages control the triggering of computations, but do not otherwise guarantee any particular ordering. Additionally, execution of a new stage's computations may be arranged in any of three ways: default execution, default asynchronous execution (using methods with suffix <em>async</em> that employ the stage's default asynchronous execution facility), or custom (via a supplied <code>Executor</code>). The execution properties of default and async modes are specified by <code>CompletionStage</code> implementations, not this interface. Methods with explicit <code>Executor</code> arguments may have arbitrary execution properties, and might not even support concurrent execution, but are arranged for processing in a way that accommodates asynchrony.</p>\n</li>\n<li><p>Two method forms (<code>handle</code> and <code>whenComplete</code>) support unconditional computation whether the triggering stage completed normally or exceptionally. Method <code>exceptionally</code> supports computation only when the triggering stage completes exceptionally, computing a replacement result, similarly to the java <em>[sic]</em> <code>catch</code> keyword. In all other cases, if a stage's computation terminates abruptly with an (unchecked) exception or error, then all dependent stages requiring its completion complete exceptionally as well, with a <code>CompletionException</code> holding the exception as its cause. If a stage is dependent on <em>both</em> of two stages, and both complete exceptionally, then the <code>CompletionException</code> may correspond to either one of these exceptions. If a stage is dependent on <em>either</em> of two others, and only one of them completes exceptionally, no guarantees are made about whether the dependent stage completes normally or exceptionally. In the case of method <code>whenComplete</code>, when the supplied action itself encounters an exception, then the stage completes exceptionally with this exception unless the source stage also completed exceptionally, in which case the exceptional completion from the source stage is given preference and propagated to the dependent stage.</p>\n</li>\n</ul>\n<p>All methods adhere to the above triggering, execution, and exceptional completion specifications (which are not repeated in individual method specifications). <em>[...]</em></p>\n<p><em>[...]</em></p>\n</blockquote>\n<p>And documentation of <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\"><code>CompletableFuture</code></a> explains the threading rules (and other policies) where, as documented above, some of which are left up to the implementations of <code>CompletionStage</code>:</p>\n<blockquote>\n<p>A <code>Future</code> that may be explicitly completed (setting its value and status), and may be used as a <code>CompletionStage</code>, supporting dependent functions and actions that trigger upon its completion.</p>\n<p>When two or more threads attempt to <code>complete</code>, <code>completeExceptionally</code>, or <code>cancel</code> a <code>CompletableFuture</code>, only one of them succeeds.</p>\n<p>In addition to these and related methods for directly manipulating status and results, <code>CompletableFuture</code> implements interface <code>CompletionStage</code> with the following policies:</p>\n<ul>\n<li><p>Actions supplied for dependent completions of non-async methods may be performed by the thread that completes the current <code>CompletableFuture</code>, or by any other caller of a completion method.</p>\n</li>\n<li><p>All async methods without an explicit <code>Executor</code> argument are performed using the <code>ForkJoinPool.commonPool()</code> (unless it does not support a parallelism level of at least two, in which case, a new <code>Thread</code> is created to run each task). This may be overridden for non-static methods in subclasses by defining method <code>defaultExecutor()</code>. To simplify monitoring, debugging, and tracking, all generated asynchronous tasks are instances of the marker interface <code>CompletableFuture.AsynchronousCompletionTask</code>. Operations with time-delays can use adapter methods defined in this class, for example: <code>supplyAsync(supplier, delayedExecutor(timeout, timeUnit))</code>. To support methods with delays and timeouts, this class maintains at most one daemon thread for triggering and cancelling actions, not for running them.</p>\n</li>\n<li><p>All <code>CompletionStage</code> methods are implemented independently of other public methods, so the behavior of one method is not impacted by overrides of others in subclasses.</p>\n</li>\n<li><p>All <code>CompletionStage</code> methods return <code>CompletableFuture</code>s. To restrict usages to only those methods defined in interface <code>CompletionStage</code>, use method <code>minimalCompletionStage()</code>. Or to ensure only that clients do not themselves modify a future, use method <code>copy()</code>.</p>\n</li>\n</ul>\n<p><code>CompletableFuture</code> also implements <code>Future</code> with the following policies:</p>\n<ul>\n<li><p>Since (unlike <code>FutureTask</code>) this class has no direct control over the computation that causes it to be completed, cancellation is treated as just another form of exceptional completion. Method <code>cancel</code> has the same effect as <code>completeExceptionally(new CancellationException())</code>. Method <code>isCompletedExceptionally()</code> can be used to determine if a <code>CompletableFuture</code> completed in any exceptional fashion.</p>\n</li>\n<li><p>In case of exceptional completion with a <code>CompletionException</code>, methods <code>get()</code> and <code>get(long, TimeUnit)</code> throw an <code>ExecutionException</code> with the same cause as held in the corresponding <code>CompletionException</code>. To simplify usage in most contexts, this class also defines methods <code>join()</code> and <code>getNow(T)</code> that instead throw the <code>CompletionException</code> directly in these cases.</p>\n</li>\n</ul>\n<p><em>[...]</em></p>\n</blockquote>\n<hr />\n<h1>Your Questions</h1>\n<p>Here's your example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture.runAsync(() -&gt; {\n      List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n      integerList.get(1);    // throws exception\n    }).thenRun(() -&gt; {\n      System.out.println(&quot;No exception occurred&quot;);\n    });\n</code></pre>\n<p>If you aren't aware, methods such as <code>thenRun</code> return a <em>new</em> <code>CompletionStage</code>. So your code is similar to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Void&gt; runAsyncStage = CompletableFuture.runAsync(() -&gt; List.of().get(0));\nCompletableFuture&lt;Void&gt; thenRunStage =\n    runAsyncStage.thenRun(() -&gt; System.out.println(&quot;thenRun executing!&quot;));\n</code></pre>\n<p>The <code>thenRunStage</code> is triggered by the completion of the <code>runAsyncStage</code> which, in this case, is guaranteed to complete exceptionally with an <code>IndexOutOfBoundsException</code>. As for why the <code>Runnable</code> isn't executed, that's due to the contract of <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/CompletionStage.html#thenRun(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>CompletionStage#thenRun(Runnable)</code></a>:</p>\n<blockquote>\n<p>Returns a new <code>CompletionStage</code> that, when this stage completes normally, executes the given action. See the <code>CompletionStage</code> documentation for rules covering exceptional completion.</p>\n</blockquote>\n<p>Due to the triggering stage completing exceptionally the <code>thenRunStage</code> stage also completes exceptionally, which means the <code>Runnable</code> is skipped.</p>\n<h2>1. &quot;Why is it silently failing even though the CompletableFuture completesExceptionally?&quot;</h2>\n<p>The example code is the equivalent of swallowing an exception with a try-catch block. You don't see the exception because you haven't written code that would report the exception. Both the <code>runAsyncStage</code> and <code>thenRunStage</code> stages have completed exceptionally, the latter because of the former completing exceptionally.</p>\n<p>If you want to be aware of the exception &quot;within the chain&quot; of stages then you have to use stages such as <code>exceptionally[Async]</code>, <code>handle[Async]</code>, and <code>whenComplete[Async]</code>. Doing it this way allows you to change the behavior of the chain based on normal or exceptional completion of a trigger stage.</p>\n<p>If you want to be aware of the exception &quot;outside the chain&quot; of stages then you have to use methods such as <code>join()</code>, <code>get()</code>, and <code>get(long,TimeUnit)</code>. If the stage had completed exceptionally then the first will throw a <code>CompletionException</code> wrapping the cause-of-failure while the latter two will throw an <code>ExecutionException</code> wrapping the cause-of-failure.</p>\n<h2>2. &quot;How does it work in the background?&quot;</h2>\n<p>The implementation of <code>CompletableFuture</code> is too complex to explain in a Stack Overflow answer. If you want to study the implementation you can look at the source code. Your JDK should have come with a <code>src.zip</code> file containing the Java source files. You can also look at the source code online in the <a href=\"https://github.com/openjdk\" rel=\"nofollow noreferrer\">OpenJDK repositories</a>. For instance, here's the source code of <code>CompletableFuture</code>:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/CompletableFuture.java</a></p>\n<h2>3. &quot;Is it because both these threads (caller's thread &amp; asynchronous thread) have their own stack space?&quot;</h2>\n<p>One thread will not be aware of an exception in another thread unless there's some sort of communication between the two threads. Calling methods such as <code>join()</code> will, when appropriate, communicate the exception to the calling thread which will throw said exception. However, as shown by the answer to your first question, it's slightly more complicated than that. Even when a thread throws an exception <em>within a single stage</em> you won't see a stack trace or anything similar. This is because the exception is <em>caught</em> and the stage is marked as failed <em>with that exception as the cause</em>. Other code then has to explicitly retrieve and handle that exception, as needed.</p>\n<p>This is no different than using an <code>ExecutorService</code> and returned <code>Future</code> objects. The task may fail in the background, but other code won't be aware of that until the <code>Future</code> is queried.</p>\n<h2>From bounty: “I am looking to understand the details of how threads interact with each other.”</h2>\n<p>I'm not sure what else to add. The <code>CompletionStage</code> API is an abstraction &quot;above&quot; threads. You simply tell the API how you would like the chain of commands to execute, including which thread pools to use for each stage, and the implementation handles all the inter-thread communication for you. That said, each thread does it's own thing, it's just the API is designed to provide an easier and reactive way to communicate between threads. If you're interested in <em>how</em> that's implemented then I recommend studying the source code (linked above).</p>\n"}],"owner":{"account_id":2396215,"reputation":1188,"user_id":2094956,"display_name":"Mr Matrix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18322,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":60141118,"answer_count":2,"score":9,"last_activity_date":1655358115,"creation_date":1580178238,"question_id":59941401,"body_markdown":"Let&#39;s say I have this sample code and an exception is encountered inside ```runAsync```. My question is would this exception prevent the ```thenRun``` from getting executed as ```thenRun``` runs in the same thread as the caller method of this code.\r\n```\r\nprivate void caller() {\r\n    CompletableFuture.runAsync(() -&gt; {\r\n          try {\r\n              // some code\r\n          } catch (Exception e) {\r\n              throw new CustomException(errorMessage, e);\r\n          }\r\n         }, anInstanceOfTaskExecutor).thenRun(\r\n         // thenRun code\r\n     ));\r\n}\r\n```\r\n\r\nI already went through [this][1] thread and it explains how you can handle exceptions thrown from asynchronous blocks (i.e. by blocking and using ```join```). I want to know if code inside ```thenRun``` block would be executed or not if ```CompletableFuture``` ```completesExceptionally```.\r\n\r\n**Update**:\r\n\r\nI ran some code to test this:\r\n\r\n```\r\nCompletableFuture.runAsync(() -&gt; {\r\n      List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n      integerList.get(1);    // throws exception\r\n    }).thenRun(() -&gt; {\r\n      System.out.println(&quot;No exception occurred&quot;);\r\n    });\r\n```\r\nIt does not print anything and it means exception didn&#39;t &#39;propagate up to/reach&#39; the caller method&#39;s thread from the asynchronous block. I understand the expected behavior here now but I have following questions:\r\n\r\n 1. Why is it silently failing even though the CompletableFuture completesExceptionally? \r\n 2. How does it work in the background?\r\n 3. Is it because both these threads (caller&#39;s thread &amp; asynchronous thread) have their own stack space?\r\n\r\n  [1]: https://stackoverflow.com/questions/44409962/throwing-exception-from-completablefuture","title":"CompletableFuture exception handling runAsync &amp; thenRun","body":"<p>Let's say I have this sample code and an exception is encountered inside <code>runAsync</code>. My question is would this exception prevent the <code>thenRun</code> from getting executed as <code>thenRun</code> runs in the same thread as the caller method of this code.</p>\n\n<pre><code>private void caller() {\n    CompletableFuture.runAsync(() -&gt; {\n          try {\n              // some code\n          } catch (Exception e) {\n              throw new CustomException(errorMessage, e);\n          }\n         }, anInstanceOfTaskExecutor).thenRun(\n         // thenRun code\n     ));\n}\n</code></pre>\n\n<p>I already went through <a href=\"https://stackoverflow.com/questions/44409962/throwing-exception-from-completablefuture\">this</a> thread and it explains how you can handle exceptions thrown from asynchronous blocks (i.e. by blocking and using <code>join</code>). I want to know if code inside <code>thenRun</code> block would be executed or not if <code>CompletableFuture</code> <code>completesExceptionally</code>.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>I ran some code to test this:</p>\n\n<pre><code>CompletableFuture.runAsync(() -&gt; {\n      List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n      integerList.get(1);    // throws exception\n    }).thenRun(() -&gt; {\n      System.out.println(\"No exception occurred\");\n    });\n</code></pre>\n\n<p>It does not print anything and it means exception didn't 'propagate up to/reach' the caller method's thread from the asynchronous block. I understand the expected behavior here now but I have following questions:</p>\n\n<ol>\n<li>Why is it silently failing even though the CompletableFuture completesExceptionally? </li>\n<li>How does it work in the background?</li>\n<li>Is it because both these threads (caller's thread &amp; asynchronous thread) have their own stack space?</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8734,"page":1258,"page_size":100}
