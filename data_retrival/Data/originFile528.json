{"items":[{"tags":["java","netbeans","jframe","jpanel"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":3,"creation_date":1422035509,"post_id":28115745,"comment_id":44605689,"body_markdown":"post code and we help you","body":"post code and we help you"},{"owner":{"account_id":3394295,"reputation":3090,"user_id":2932994,"accept_rate":52,"display_name":"simonides"},"score":0,"creation_date":1422037256,"post_id":28115745,"comment_id":44606595,"body_markdown":"Maybe you should give JavaFX a try, it&#39;s a lot more straight forward. But you should clearly improve this question in terms of what you already tried and what doesn&#39;t work.","body":"Maybe you should give JavaFX a try, it&#39;s a lot more straight forward. But you should clearly improve this question in terms of what you already tried and what doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":5360582,"reputation":453,"user_id":4271966,"display_name":"David Coler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422036829,"creation_date":1422036829,"answer_id":28116155,"question_id":28115745,"body_markdown":"that is not just a panel you want to pop up that would be considered a whole other frame.  I would suggest making a different JFrame class that when the button is clicked instantiates the other frame.","title":"Making a JPanel Popup","body":"<p>that is not just a panel you want to pop up that would be considered a whole other frame.  I would suggest making a different JFrame class that when the button is clicked instantiates the other frame.</p>\n"},{"tags":[],"owner":{"account_id":5323439,"reputation":1540,"user_id":4458300,"accept_rate":80,"display_name":"Vulovic Vukasin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459350132,"creation_date":1422036872,"answer_id":28116169,"question_id":28115745,"body_markdown":"Ok so,for this you will need 2 JFrames. First one is where the buttons and everything is and the second one is the one that will popup. You will have 3 classes: `Main`, `classWhere1stJframeis`, `ClassWhere2ndJframeis`.\r\n\r\nThis is `main`:\r\n\r\n    package proba;\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class mejn {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    // TODO Auto-generated method stub\r\n\r\n\t\t    Frame1 frejm = new Frame1();\r\n\t\t    frejm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t    frejm.setVisible(true);\r\n\t\t    frejm.setSize(250, 300);\r\n\t    }\r\n    }\r\n\r\nThis is `Frame1`:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n\r\n    public class Frame1 extends JFrame {\r\n\t    JFrame Frame = new JFrame();\r\n\t    JButton Button1 = new JButton();\r\n\t\r\n\t    public Frame1()\r\n\t    {\r\n\t\t    super(&quot;The title&quot;);\r\n\r\n\t\t    Frame = new JFrame();\r\n\t\t    Button1 = new JButton();\r\n\t\t    Frame.add(Button1);\r\n\r\n\t\t    thehandler handler = new thehandler();\r\n\t\t    Button1.addActionListener(handler);\r\n\t    }\r\n\t\r\n\r\n\t    private class thehandler implements ActionListener\r\n\t    {\r\n\t\t    public void actionPerformed(ActionEvent event)\r\n\t\t    {\r\n\t\t\t    if(event.getSource()==Button1)\r\n\t\t\t    {\r\n\t\t\t\t    Frejm2 frejm = new Frejm2();\r\n\t\t\t\t    frejm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t    frejm.setVisible(true);\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\n\r\nThis is `Frame2`:\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class Frejm2 extends JFrame {\r\n\t    JFrame Frame2 = new JFrame();\r\n\t\r\n\t    public Frejm2()\r\n\t    {\r\n\t\t    super(&quot;Title&quot;);\r\n\t    }\r\n    }","title":"Making a JPanel Popup","body":"<p>Ok so,for this you will need 2 JFrames. First one is where the buttons and everything is and the second one is the one that will popup. You will have 3 classes: <code>Main</code>, <code>classWhere1stJframeis</code>, <code>ClassWhere2ndJframeis</code>.</p>\n\n<p>This is <code>main</code>:</p>\n\n<pre><code>package proba;\n\nimport javax.swing.JFrame;\n\npublic class mejn {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        Frame1 frejm = new Frame1();\n        frejm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frejm.setVisible(true);\n        frejm.setSize(250, 300);\n    }\n}\n</code></pre>\n\n<p>This is <code>Frame1</code>:</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\npublic class Frame1 extends JFrame {\n    JFrame Frame = new JFrame();\n    JButton Button1 = new JButton();\n\n    public Frame1()\n    {\n        super(\"The title\");\n\n        Frame = new JFrame();\n        Button1 = new JButton();\n        Frame.add(Button1);\n\n        thehandler handler = new thehandler();\n        Button1.addActionListener(handler);\n    }\n\n\n    private class thehandler implements ActionListener\n    {\n        public void actionPerformed(ActionEvent event)\n        {\n            if(event.getSource()==Button1)\n            {\n                Frejm2 frejm = new Frejm2();\n                frejm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frejm.setVisible(true);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is <code>Frame2</code>:</p>\n\n<pre><code>import javax.swing.JFrame;\n\npublic class Frejm2 extends JFrame {\n    JFrame Frame2 = new JFrame();\n\n    public Frejm2()\n    {\n        super(\"Title\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680517738,"creation_date":1680517738,"answer_id":75918463,"question_id":28115745,"body_markdown":"Very likely you do not want a JFrame to popup but a modal dialog, and you might want your code to continue once the user has entered the necessary information.\r\n\r\nThe code for your button would look like this:\r\n\r\n    JButton button = new JButton(&quot;Nova Festa...&quot;);\r\n    button.addActionListener(new ActionListener() {\r\n\r\n        NovaFestaPanel nfp = new NovaFestaPanel();  // this is a panel you create that contains all the fields that you expect and getters/setters for them\r\n        nfp.setXXXX(); // use the setters to prepopulate the panel if you need\r\n\r\n        if (JOptionPane.showInputDialog(this, nfp)==JOptionPane.OK_OPTION) {\r\n\r\n            // the user entered some data and pressed the OK button.\r\n            // use the getters and do the needful with these values\r\n            String xxxx = nfp.getXXXX();\r\n\r\n        }\r\n    });","title":"Making a JPanel Popup","body":"<p>Very likely you do not want a JFrame to popup but a modal dialog, and you might want your code to continue once the user has entered the necessary information.</p>\n<p>The code for your button would look like this:</p>\n<pre><code>JButton button = new JButton(&quot;Nova Festa...&quot;);\nbutton.addActionListener(new ActionListener() {\n\n    NovaFestaPanel nfp = new NovaFestaPanel();  // this is a panel you create that contains all the fields that you expect and getters/setters for them\n    nfp.setXXXX(); // use the setters to prepopulate the panel if you need\n\n    if (JOptionPane.showInputDialog(this, nfp)==JOptionPane.OK_OPTION) {\n\n        // the user entered some data and pressed the OK button.\n        // use the getters and do the needful with these values\n        String xxxx = nfp.getXXXX();\n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":5541860,"reputation":11,"user_id":4398089,"display_name":"Henry Fantacussi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14866,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680517738,"creation_date":1422035337,"question_id":28115745,"body_markdown":"I&#39;m developing an app for computer, and i have a JFrame with a lot of JPanel on it, and when i click on a button, i want another JPanel to popup.\r\n\r\nExample: When i click on this button\r\nhttp://i62.tinypic.com/c2fzr.jpg\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nI want this window to popup\r\nhttp://i62.tinypic.com/2qi0in7.jpg[![enter image description here][2]][2]\r\n\r\n\r\n\r\nI already tried making a popup menu, but i don&#39;t want a menu, i want a window, and i can&#39;t seen to find out how to do it :(\r\nIt&#39;s probably easy, but i don&#39;t have enough knowledge in java\r\n\r\nAny help? thanks guys!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R5V0x.png\r\n  [2]: https://i.stack.imgur.com/FSbHQ.png","title":"Making a JPanel Popup","body":"<p>I'm developing an app for computer, and i have a JFrame with a lot of JPanel on it, and when i click on a button, i want another JPanel to popup.</p>\n\n<p>Example: When i click on this button\n<a href=\"http://i62.tinypic.com/c2fzr.jpg\" rel=\"nofollow noreferrer\">http://i62.tinypic.com/c2fzr.jpg</a>\n<a href=\"https://i.stack.imgur.com/R5V0x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R5V0x.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want this window to popup\n<a href=\"http://i62.tinypic.com/2qi0in7.jpg\" rel=\"nofollow noreferrer\">http://i62.tinypic.com/2qi0in7.jpg</a><a href=\"https://i.stack.imgur.com/FSbHQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FSbHQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I already tried making a popup menu, but i don't want a menu, i want a window, and i can't seen to find out how to do it :(\nIt's probably easy, but i don't have enough knowledge in java</p>\n\n<p>Any help? thanks guys!</p>\n"},{"tags":["java","string","concatenation"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":5,"creation_date":1413478757,"post_id":26409907,"comment_id":41468073,"body_markdown":"Youve posted too early. Try something first then come back if you get stuck","body":"Youve posted too early. Try something first then come back if you get stuck"},{"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"score":1,"creation_date":1413478931,"post_id":26409907,"comment_id":41468151,"body_markdown":"Hint: Think about the way you add numbers by hand.","body":"Hint: Think about the way you add numbers by hand."}],"answers":[{"tags":[],"owner":{"account_id":929187,"reputation":222,"user_id":959385,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413478922,"creation_date":1413478922,"answer_id":26409978,"question_id":26409907,"body_markdown":"Basically you find the length of the string. Loop over each individual character (I would start at the end of the string and work backwards). Then for each iteration of the loop you would take the char convert that to an int (through type casting) and add it to your total. Each time you step make sure to multiple your number by a power of ten. take that value then add them and then output your answer. (not gonna give you code cus its a homework assignment ;) )\r\n ","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p>Basically you find the length of the string. Loop over each individual character (I would start at the end of the string and work backwards). Then for each iteration of the loop you would take the char convert that to an int (through type casting) and add it to your total. Each time you step make sure to multiple your number by a power of ten. take that value then add them and then output your answer. (not gonna give you code cus its a homework assignment ;) )</p>\n"},{"tags":[],"owner":{"account_id":2192098,"reputation":6127,"user_id":1938826,"accept_rate":85,"display_name":"James Parsons"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413484813,"creation_date":1413479098,"answer_id":26410027,"question_id":26409907,"body_markdown":"    int a = Integer.valueOf(args[0]);\r\n    int b = Integer.valueOf(args[1]);\r\n\r\nVery simple. I found a lot just looking at Google. Or:\r\n\r\n    Integer i = new Integer(args[x]);","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<pre><code>int a = Integer.valueOf(args[0]);\nint b = Integer.valueOf(args[1]);\n</code></pre>\n\n<p>Very simple. I found a lot just looking at Google. Or:</p>\n\n<pre><code>Integer i = new Integer(args[x]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5198179,"reputation":106,"user_id":4158614,"display_name":"Saptak Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413977502,"creation_date":1413977502,"answer_id":26506447,"question_id":26409907,"body_markdown":"Try this one:-\r\n\r\nFirst,you take the input.Let s1 and s2 be the 2 strings.The required loop is like this:-\r\n\r\n    String ar[]={s1,s2};\r\n    int n=0;\r\n    for(int i=0;i&lt;2;i++)\r\n    n+=Integer.parseInt(ar[i]);\r\n    System.out.println(&quot;The sum is:-&quot;+n);\r\n","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p>Try this one:-</p>\n\n<p>First,you take the input.Let s1 and s2 be the 2 strings.The required loop is like this:-</p>\n\n<pre><code>String ar[]={s1,s2};\nint n=0;\nfor(int i=0;i&lt;2;i++)\nn+=Integer.parseInt(ar[i]);\nSystem.out.println(\"The sum is:-\"+n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3490910,"reputation":917,"user_id":2920626,"accept_rate":78,"display_name":"Michael Sacks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1416346439,"creation_date":1416346439,"answer_id":27004473,"question_id":26409907,"body_markdown":"Just use &quot;+&quot; to add them together. I think that you are overthinking the question.","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p>Just use \"+\" to add them together. I think that you are overthinking the question.</p>\n"},{"tags":[],"owner":{"account_id":5158628,"reputation":13,"user_id":4131101,"display_name":"Animesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615313054,"creation_date":1615313054,"answer_id":66552375,"question_id":26409907,"body_markdown":"      public String addStrings(String num1, String num2) {\r\n          StringBuilder sb = new StringBuilder();\r\n          int carry = 0;\r\n          int i = num1.length() - 1;\r\n          int j = num2.length() - 1;\r\n    \r\n          while (i &gt; -1 || j &gt; -1) {\r\n              int sum = carry + (i &lt; 0 ? 0 : num1.charAt(i--) - 48);\r\n              sum += j &lt; 0 ? 0 : num2.charAt(j--) - 48;\r\n              sb.append(sum % 10);\r\n              carry = sum / 10;\r\n          }\r\n          return sb.append(carry == 1 ? &quot;1&quot; : &quot;&quot;).reverse().toString();\r\n      }","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<pre><code>  public String addStrings(String num1, String num2) {\n      StringBuilder sb = new StringBuilder();\n      int carry = 0;\n      int i = num1.length() - 1;\n      int j = num2.length() - 1;\n\n      while (i &gt; -1 || j &gt; -1) {\n          int sum = carry + (i &lt; 0 ? 0 : num1.charAt(i--) - 48);\n          sum += j &lt; 0 ? 0 : num2.charAt(j--) - 48;\n          sb.append(sum % 10);\n          carry = sum / 10;\n      }\n      return sb.append(carry == 1 ? &quot;1&quot; : &quot;&quot;).reverse().toString();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7984541,"reputation":41,"user_id":6024537,"display_name":"Lohit Barki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680517668,"creation_date":1680517668,"answer_id":75918456,"question_id":26409907,"body_markdown":"**Need to parse each character of a Strings to calculate the sum as below:**\r\n\r\n    private static String calcSum(String a, String b) {\r\n        StringBuilder res = new StringBuilder();\r\n        int carry = 0;\r\n        int sum = 0;\r\n        for(int i=a.length()-1, j=b.length()-1; i&gt;=0 || j&gt;=0; i--,j--) {\r\n            char charA = (i&gt;=0)? a.charAt(i) : &#39;0&#39;;\r\n            char charB = (j&gt;=0)? b.charAt(j) : &#39;0&#39;;\r\n            sum = charA-&#39;0&#39; + charB-&#39;0&#39; + carry;\r\n            carry = (sum&gt;=10)? 1 : 0;\r\n            res.append(sum%10);\r\n        }\r\n        if(sum&gt;=10) {\r\n            res.append(1);\r\n        }\r\n        return res.reverse().toString();\r\n    }","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p><strong>Need to parse each character of a Strings to calculate the sum as below:</strong></p>\n<pre><code>private static String calcSum(String a, String b) {\n    StringBuilder res = new StringBuilder();\n    int carry = 0;\n    int sum = 0;\n    for(int i=a.length()-1, j=b.length()-1; i&gt;=0 || j&gt;=0; i--,j--) {\n        char charA = (i&gt;=0)? a.charAt(i) : '0';\n        char charB = (j&gt;=0)? b.charAt(j) : '0';\n        sum = charA-'0' + charB-'0' + carry;\n        carry = (sum&gt;=10)? 1 : 0;\n        res.append(sum%10);\n    }\n    if(sum&gt;=10) {\n        res.append(1);\n    }\n    return res.reverse().toString();\n}\n</code></pre>\n"}],"owner":{"account_id":4107191,"reputation":50,"user_id":3370848,"accept_rate":43,"display_name":"TommyConnor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2378,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":27004473,"answer_count":6,"score":-4,"last_activity_date":1680517668,"creation_date":1413478647,"question_id":26409907,"body_markdown":"I need to have 2 command line arguments as 2 numbers that are strings. Then using a loop, add the numbers together. For example,\r\n\r\n&gt;&gt;&gt;Java AddStrings 123 456\r\n\r\n&gt;&gt;&gt;The sum is: 579\r\n\r\nIt&#39;s for an assignment in class, having trouble figuring out what the loop would be. I can&#39;t just convert the strings to integers using parse.Int either. Any ideas?\r\n","title":"Java - add 2 numbers together (as strings, can&#39;t use parse.int)","body":"<p>I need to have 2 command line arguments as 2 numbers that are strings. Then using a loop, add the numbers together. For example,</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>Java AddStrings 123 456</p>\n      \n      <p>The sum is: 579</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>It's for an assignment in class, having trouble figuring out what the loop would be. I can't just convert the strings to integers using parse.Int either. Any ideas?</p>\n"},{"tags":["java","string","nlp"],"answers":[{"tags":[],"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232977661,"creation_date":1232977661,"answer_id":479842,"question_id":479825,"body_markdown":"From the java docs, it explains why this doesn&#39;t work. \r\n\r\n&gt; If this String object represents an\r\n&gt; empty character sequence, or the first\r\n&gt; and last characters of character\r\n&gt; sequence represented by this String\r\n&gt; object both have codes greater than\r\n&gt; &#39;\\u0020&#39; (the space character), then a\r\n&gt; reference to this String object is\r\n&gt; returned.\r\n\r\n\r\nYou could role your own version easily enough. perhaps the method codePointAt could be used for this purpose.\r\n\r\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html","title":"Problem trimming Japanese string in java","body":"<p>From the java docs, it explains why this doesn't work. </p>\n\n<blockquote>\n  <p>If this String object represents an\n  empty character sequence, or the first\n  and last characters of character\n  sequence represented by this String\n  object both have codes greater than\n  '\\u0020' (the space character), then a\n  reference to this String object is\n  returned.</p>\n</blockquote>\n\n<p>You could role your own version easily enough. perhaps the method codePointAt could be used for this purpose.</p>\n\n<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html</a></p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1232977668,"creation_date":1232977668,"answer_id":479843,"question_id":479825,"body_markdown":"You&#39;ll have to write your own `trim()` method based on `Character.isWhitespace()` - unfortunately, `trim()` does not do what its API doc claims: it strips only ASCII spaces, not any other kind of whitespace.","title":"Problem trimming Japanese string in java","body":"<p>You'll have to write your own <code>trim()</code> method based on <code>Character.isWhitespace()</code> - unfortunately, <code>trim()</code> does not do what its API doc claims: it strips only ASCII spaces, not any other kind of whitespace.</p>\n"},{"tags":[],"owner":{"account_id":9045,"reputation":33861,"user_id":16534,"accept_rate":95,"display_name":"Mike Sickler"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232977712,"creation_date":1232977712,"answer_id":479846,"question_id":479825,"body_markdown":"Try the Apache Commons&#39; [StringUtils][1] class. The StringUtils.strip() method should work for you.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html","title":"Problem trimming Japanese string in java","body":"<p>Try the Apache Commons' <a href=\"http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> class. The StringUtils.strip() method should work for you.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1232979185,"creation_date":1232979185,"answer_id":479907,"question_id":479825,"body_markdown":"Have a look at [Unicode Normalization][1] and the [Normalizer][2] class. The class is new in Java 6, but you&#39;ll find an equivalent version in the [ICU4J][3] library if you&#39;re on an earlier JRE.\r\n\r\n\t\tint character = 12288;\r\n\t\tchar[] ch = Character.toChars(character);\r\n\t\tString input = new String(ch);\r\n\t\tString normalized = Normalizer.normalize(input, Normalizer.Form.NFKC);\r\n\r\n\t\tSystem.out.println(&quot;Hex value:\\t&quot; + Integer.toHexString(character));\r\n\t\tSystem.out.println(&quot;Trimmed length           :\\t&quot;\r\n\t\t\t\t+ input.trim().length());\r\n\t\tSystem.out.println(&quot;Normalized trimmed length:\\t&quot;\r\n\t\t\t\t+ normalized.trim().length());\r\n\r\n  [1]: http://www.unicode.org/charts/normalization/index.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/text/Normalizer.html\r\n  [3]: http://icu-project.org/","title":"Problem trimming Japanese string in java","body":"<p>Have a look at <a href=\"http://www.unicode.org/charts/normalization/index.html\" rel=\"nofollow noreferrer\">Unicode Normalization</a> and the <a href=\"http://java.sun.com/javase/6/docs/api/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">Normalizer</a> class. The class is new in Java 6, but you'll find an equivalent version in the <a href=\"http://icu-project.org/\" rel=\"nofollow noreferrer\">ICU4J</a> library if you're on an earlier JRE.</p>\n\n<pre><code>    int character = 12288;\n    char[] ch = Character.toChars(character);\n    String input = new String(ch);\n    String normalized = Normalizer.normalize(input, Normalizer.Form.NFKC);\n\n    System.out.println(\"Hex value:\\t\" + Integer.toHexString(character));\n    System.out.println(\"Trimmed length           :\\t\"\n            + input.trim().length());\n    System.out.println(\"Normalized trimmed length:\\t\"\n            + normalized.trim().length());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1232980324,"creation_date":1232979950,"answer_id":479946,"question_id":479825,"body_markdown":"As an alternative to the `StringUtils` class mentioned by Mike, you can also use a Unicode-aware regular expression, using only Java&#39;s own libraries:\r\n\r\n    &quot;　ユーザー名&quot;.replaceAll(&quot;\\\\p{Z}&quot;, &quot;&quot;)\r\n\r\nOr, to really only trim, and not remove whitespace inside the string:\r\n\r\n    &quot;　ユーザ ー名 &quot;.replaceAll(&quot;(^\\\\p{Z}+|\\\\p{Z}+$)&quot;, &quot;&quot;)\r\n\r\n","title":"Problem trimming Japanese string in java","body":"<p>As an alternative to the <code>StringUtils</code> class mentioned by Mike, you can also use a Unicode-aware regular expression, using only Java's own libraries:</p>\n\n<pre><code>\"　ユーザー名\".replaceAll(\"\\\\p{Z}\", \"\")\n</code></pre>\n\n<p>Or, to really only trim, and not remove whitespace inside the string:</p>\n\n<pre><code>\"　ユーザ ー名 \".replaceAll(\"(^\\\\p{Z}+|\\\\p{Z}+$)\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26607116,"reputation":1,"user_id":20227767,"display_name":"ToanLT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680517610,"creation_date":1680517610,"answer_id":75918450,"question_id":479825,"body_markdown":"I think this is simple way to trim Japanese string in java\r\n\r\n\r\n    public static int getTrimmedLength(CharSequence s) {\r\n        int len = s.length();\r\n\r\n        int start = 0;\r\n        while (start &lt; len &amp;&amp; Character.isWhitespace(s.charAt(start))) {\r\n            start++;\r\n        }\r\n\r\n        int end = len;\r\n        while (end &gt; start &amp;&amp; Character.isWhitespace(s.charAt(end - 1))) {\r\n            end--;\r\n        }\r\n\r\n        return end - start;\r\n    }\r\n\r\n    public static String trimWhitespace(CharSequence s) {\r\n        StringBuilder sb = new StringBuilder(s);\r\n\r\n        while (sb.length() &gt; 0 &amp;&amp; Character.isWhitespace(sb.charAt(0))) {\r\n            sb.deleteCharAt(0);\r\n        }\r\n\r\n        while (sb.length() &gt; 0 &amp;&amp; Character.isWhitespace(sb.charAt(sb.length() - 1))) {\r\n            sb.deleteCharAt(sb.length() - 1);\r\n        }\r\n\r\n        return sb.toString();\r\n    }","title":"Problem trimming Japanese string in java","body":"<p>I think this is simple way to trim Japanese string in java</p>\n<pre><code>public static int getTrimmedLength(CharSequence s) {\n    int len = s.length();\n\n    int start = 0;\n    while (start &lt; len &amp;&amp; Character.isWhitespace(s.charAt(start))) {\n        start++;\n    }\n\n    int end = len;\n    while (end &gt; start &amp;&amp; Character.isWhitespace(s.charAt(end - 1))) {\n        end--;\n    }\n\n    return end - start;\n}\n\npublic static String trimWhitespace(CharSequence s) {\n    StringBuilder sb = new StringBuilder(s);\n\n    while (sb.length() &gt; 0 &amp;&amp; Character.isWhitespace(sb.charAt(0))) {\n        sb.deleteCharAt(0);\n    }\n\n    while (sb.length() &gt; 0 &amp;&amp; Character.isWhitespace(sb.charAt(sb.length() - 1))) {\n        sb.deleteCharAt(sb.length() - 1);\n    }\n\n    return sb.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":14793,"reputation":5730,"user_id":30729,"accept_rate":80,"display_name":"Pablo Retyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5673,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":479946,"answer_count":6,"score":5,"last_activity_date":1680517610,"creation_date":1232977194,"question_id":479825,"body_markdown":"I have the following string (japanese) &quot;　ユーザー名&quot; , the first character is &quot;like&quot; whitespace but its number in unicode is 12288, so if I do &quot;　ユーザー名&quot;.trim() I get the same string (trim doesn&#39;t work).\r\nIf i do trim in c++ it works ok.\r\nDoes anyone know how to solve this issue in java?\r\nIs there a special trim method for unicode?","title":"Problem trimming Japanese string in java","body":"<p>I have the following string (japanese) \"　ユーザー名\" , the first character is \"like\" whitespace but its number in unicode is 12288, so if I do \"　ユーザー名\".trim() I get the same string (trim doesn't work).\nIf i do trim in c++ it works ok.\nDoes anyone know how to solve this issue in java?\nIs there a special trim method for unicode?</p>\n"},{"tags":["java","spring","hibernate","grails-orm","spring-orm"],"answers":[{"tags":[],"owner":{"account_id":10766816,"reputation":1303,"user_id":7921521,"display_name":"Mazen Embaby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633950711,"creation_date":1633950711,"answer_id":69525271,"question_id":69524727,"body_markdown":"First, I am not sure you query caching is enabled you can enabled by\r\n\r\n    &lt;property\r\n        name=&quot;hibernate.cache.use_query_cache&quot;\r\n    value=&quot;true&quot; /&gt;\r\nsecond individual queries are not cached , \r\n\r\n&gt; most queries do not benefit from caching or their results. So by default, individual queries are not cached even after enabling query caching. Each particular query that needs to be cached must be manually set as cacheable. This way, the query looks for existing cache results or adds the query results to the cache when being executed.\r\n\r\n\r\nyou can read [docs][1] query caching section.\r\n\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#caching-query","title":"Unable to clear Hibernate queryCache","body":"<p>First, I am not sure you query caching is enabled you can enabled by</p>\n<pre><code>&lt;property\n    name=&quot;hibernate.cache.use_query_cache&quot;\nvalue=&quot;true&quot; /&gt;\n</code></pre>\n<p>second individual queries are not cached ,</p>\n<blockquote>\n<p>most queries do not benefit from caching or their results. So by default, individual queries are not cached even after enabling query caching. Each particular query that needs to be cached must be manually set as cacheable. This way, the query looks for existing cache results or adds the query results to the cache when being executed.</p>\n</blockquote>\n<p>you can read <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#caching-query\" rel=\"nofollow noreferrer\">docs</a> query caching section.</p>\n"},{"tags":[],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680517320,"creation_date":1680517320,"answer_id":75918413,"question_id":69524727,"body_markdown":"You should read this [document][1].\r\n\r\nEvicting entities with JPA\r\n\r\n    entityManager.getEntityManagerFactory().getCache().evict( Person.class );\r\n\r\nEvicting entities with Hibernate native API\r\n\r\n    session.getSessionFactory().getCache().evictQueryRegion( &quot;query.cache.person&quot; );\r\n\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#caching","title":"Unable to clear Hibernate queryCache","body":"<p>You should read this <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#caching\" rel=\"nofollow noreferrer\">document</a>.</p>\n<p>Evicting entities with JPA</p>\n<pre><code>entityManager.getEntityManagerFactory().getCache().evict( Person.class );\n</code></pre>\n<p>Evicting entities with Hibernate native API</p>\n<pre><code>session.getSessionFactory().getCache().evictQueryRegion( &quot;query.cache.person&quot; );\n</code></pre>\n"}],"owner":{"account_id":6500704,"reputation":125,"user_id":5031645,"display_name":"Soven K Rout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680517320,"creation_date":1633948193,"question_id":69524727,"body_markdown":"While using Hibernate-core-5.1.14 I was using `sessionFactory.getQueryCache().clear()` to clear Query Cache. After migrating to Hibernate-core-5.4.18 since now no such method getQueryCache() is available SessionFactoryImpl so I am unable to clear it. \r\n\r\nOn referring to migration documents [sessionfactory-hierarchy-cleanup][1] I got to know that \r\n\r\n&gt; SessionFactory and SessionFactoryImplementor each had a number of methods dealing with cache regions. Many of these methods have been deprecated since 5.0 and those will be removed. However, the functionality has been moved into the org.hibernate.Cache and org.hibernate.engine.spi.CacheImplementor contracts helping implement JPA’s javax.persistence.Cache role.\r\n\r\nThen on searching found `getDefaultQueryCache()` as alternative provided by Hibernate available in `org.hibernate.engine.spi.CacheImplementor`. In order to clear Query Cache I tried using it like `CacheImplementor.getDefaultQueryResultsCache().clear()` but I am unable to get QueryCache only on call of `getDefaultQueryCache()`. Any hint or guidance regarding getting to solution is highly appreciable.  \r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/5.2/migration-guide.adoc#sessionfactory-hierarchy-cleanup","title":"Unable to clear Hibernate queryCache","body":"<p>While using Hibernate-core-5.1.14 I was using <code>sessionFactory.getQueryCache().clear()</code> to clear Query Cache. After migrating to Hibernate-core-5.4.18 since now no such method getQueryCache() is available SessionFactoryImpl so I am unable to clear it.</p>\n<p>On referring to migration documents <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2/migration-guide.adoc#sessionfactory-hierarchy-cleanup\" rel=\"nofollow noreferrer\">sessionfactory-hierarchy-cleanup</a> I got to know that</p>\n<blockquote>\n<p>SessionFactory and SessionFactoryImplementor each had a number of methods dealing with cache regions. Many of these methods have been deprecated since 5.0 and those will be removed. However, the functionality has been moved into the org.hibernate.Cache and org.hibernate.engine.spi.CacheImplementor contracts helping implement JPA’s javax.persistence.Cache role.</p>\n</blockquote>\n<p>Then on searching found <code>getDefaultQueryCache()</code> as alternative provided by Hibernate available in <code>org.hibernate.engine.spi.CacheImplementor</code>. In order to clear Query Cache I tried using it like <code>CacheImplementor.getDefaultQueryResultsCache().clear()</code> but I am unable to get QueryCache only on call of <code>getDefaultQueryCache()</code>. Any hint or guidance regarding getting to solution is highly appreciable.</p>\n"},{"tags":["java","ubuntu","intellij-idea","linux-mint","flatpak"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1549159603,"post_id":54499133,"comment_id":95803589,"body_markdown":"You can try installing IntelliJ IDEA from http://www.jetbrains.com/idea/download/index.html and see if it works better. .tar.gz distribution can be launched using `./idea.sh`. Note that you can also create a launcher script using Tools | Create Command-line Launcher. This should work with any version. Then just `sudo idea`. In the file chooser dialog there is [an option to show hidden files and directories](https://i.imgur.com/x89Xr0a.png). Does it help if you enable it? You can also just download and and unpack the standard JDK distribution (Oracle JDK or OpenJDK).","body":"You can try installing IntelliJ IDEA from <a href=\"http://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download/index.html</a> and see if it works better. .tar.gz distribution can be launched using <code>.&#47;idea.sh</code>. Note that you can also create a launcher script using Tools | Create Command-line Launcher. This should work with any version. Then just <code>sudo idea</code>. In the file chooser dialog there is <a href=\"https://i.imgur.com/x89Xr0a.png\" rel=\"nofollow noreferrer\">an option to show hidden files and directories</a>. Does it help if you enable it? You can also just download and and unpack the standard JDK distribution (Oracle JDK or OpenJDK)."},{"owner":{"account_id":9245404,"reputation":2155,"user_id":6867430,"display_name":"ivanivan"},"score":1,"creation_date":1549162420,"post_id":54499133,"comment_id":95803943,"body_markdown":"Do you have a `$JAVA_HOME` env. var set?","body":"Do you have a <code>$JAVA_HOME</code> env. var set?"},{"owner":{"account_id":3203449,"reputation":592,"user_id":3439849,"accept_rate":100,"display_name":"Jason"},"score":0,"creation_date":1549169033,"post_id":54499133,"comment_id":95804836,"body_markdown":"@CrazyCoder installing by just downloading the .tar.gz and running ./idea.sh worked like a charm. In fact, the installation was obviously healthier in that it was able to detect my JDK without having to specify it manually. I can&#39;t seem to accept your comment as an answer, though.","body":"@CrazyCoder installing by just downloading the .tar.gz and running ./idea.sh worked like a charm. In fact, the installation was obviously healthier in that it was able to detect my JDK without having to specify it manually. I can&#39;t seem to accept your comment as an answer, though."},{"owner":{"account_id":1979463,"reputation":2311,"user_id":1776419,"accept_rate":100,"display_name":"Darren Smith"},"score":0,"creation_date":1630408056,"post_id":54499133,"comment_id":121942413,"body_markdown":"could be related: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360007708559-Mounted-directories-not-visible-in-Open-File-or-Project-menu","body":"could be related: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360007708559-Mounted-directories-not-visible-in-Open-File-or-Project-menu\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>"},{"owner":{"account_id":3059088,"reputation":191,"user_id":2592155,"display_name":"Jonathan Cole"},"score":0,"creation_date":1645643535,"post_id":54499133,"comment_id":125929981,"body_markdown":"Had same issue Linux Mint 20, Intellij 2021.3.1 community, chmod 777 as test worked, so I just chose download JDK from Intellij/File/Project Structure/SDKs/+ using Oracle OpenJDK 17.0.2","body":"Had same issue Linux Mint 20, Intellij 2021.3.1 community, chmod 777 as test worked, so I just chose download JDK from Intellij/File/Project Structure/SDKs/+ using Oracle OpenJDK 17.0.2"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1578589939,"creation_date":1549179215,"answer_id":54500834,"question_id":54499133,"body_markdown":"You can try installing IntelliJ IDEA from [here][1] and see if it works better. `.tar.gz` distribution can be launched using `./idea.sh`. Note that you can also create a launcher script using &lt;kbd&gt;Tools&lt;/kbd&gt;&gt;&lt;kbd&gt;Create Command-line Launcher&lt;/kbd&gt;. This should work with any version.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/download/index.html","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>You can try installing IntelliJ IDEA from <a href=\"https://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">here</a> and see if it works better. <code>.tar.gz</code> distribution can be launched using <code>./idea.sh</code>. Note that you can also create a launcher script using <kbd>Tools</kbd>><kbd>Create Command-line Launcher</kbd>. This should work with any version.</p>\n"},{"tags":[],"owner":{"account_id":932134,"reputation":370,"user_id":961806,"display_name":"Kevin Dubois"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1556870376,"creation_date":1556870376,"answer_id":55965546,"question_id":54499133,"body_markdown":"I had the same problem with IntelliJ installed with Flatpak on Fedora 29. I believe (but correct me if I&#39;m wrong) that Linux Mint&#39;s Software Manager also uses flatpaks.  \r\n\r\nIt turns out this is one of those &quot;it&#39;s a feature not a bug&quot; situations due to the way Flatpak sandboxes applications.  As per the documentation at http://docs.flatpak.org/en/latest/sandbox-permissions.html:\r\n\r\n&gt; Sandbox Permissions\r\nOne of Flatpak’s main goals is to increase the security of desktop systems by isolating applications from one another. This is achieved using sandboxing and means that, by default, applications that are run with Flatpak have extremely limited access to the host environment. This includes:\r\n&gt; \r\n&gt; No access to any host files except the runtime, the app and\r\n&gt; ~/.var/app/$APPID. Only the last of these is writable. No access to\r\n&gt; the network. No access to any device nodes (apart from /dev/null,\r\n&gt; etc). No access to processes outside the sandbox. Limited syscalls.\r\n&gt; For instance, apps can’t use nonstandard network socket types or\r\n&gt; ptrace other processes. Limited access to the session D-Bus instance -\r\n&gt; an app can only own its own name on the bus. No access to host\r\n&gt; services like X11, system D-Bus, or PulseAudio. Most applications will\r\n&gt; need access to some of these resources in order to be useful. This is\r\n&gt; primarily done during the finishing build stage, which can be\r\n&gt; configured through the finish-args section of the manifest file (see\r\n&gt; Manifests).\r\n\r\nOne way around this is to install JDK versions using flatpak as well, eg. \r\n\r\n    flatpak install flathub org.freedesktop.Sdk.Extension.openjdk9 org.freedesktop.Sdk.Extension.openjdk10 org.freedesktop.Sdk.Extension.openjdk11\r\n\r\nAnother way around this is the solution CrazyCoder provided, which is to install IntelliJ using their tar.gz.  This eliminates the entire sandbox constraint altogether.","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>I had the same problem with IntelliJ installed with Flatpak on Fedora 29. I believe (but correct me if I'm wrong) that Linux Mint's Software Manager also uses flatpaks.  </p>\n\n<p>It turns out this is one of those \"it's a feature not a bug\" situations due to the way Flatpak sandboxes applications.  As per the documentation at <a href=\"http://docs.flatpak.org/en/latest/sandbox-permissions.html\" rel=\"noreferrer\">http://docs.flatpak.org/en/latest/sandbox-permissions.html</a>:</p>\n\n<blockquote>\n  <p>Sandbox Permissions\n  One of Flatpak’s main goals is to increase the security of desktop systems by isolating applications from one another. This is achieved using sandboxing and means that, by default, applications that are run with Flatpak have extremely limited access to the host environment. This includes:</p>\n  \n  <p>No access to any host files except the runtime, the app and\n  ~/.var/app/$APPID. Only the last of these is writable. No access to\n  the network. No access to any device nodes (apart from /dev/null,\n  etc). No access to processes outside the sandbox. Limited syscalls.\n  For instance, apps can’t use nonstandard network socket types or\n  ptrace other processes. Limited access to the session D-Bus instance -\n  an app can only own its own name on the bus. No access to host\n  services like X11, system D-Bus, or PulseAudio. Most applications will\n  need access to some of these resources in order to be useful. This is\n  primarily done during the finishing build stage, which can be\n  configured through the finish-args section of the manifest file (see\n  Manifests).</p>\n</blockquote>\n\n<p>One way around this is to install JDK versions using flatpak as well, eg. </p>\n\n<pre><code>flatpak install flathub org.freedesktop.Sdk.Extension.openjdk9 org.freedesktop.Sdk.Extension.openjdk10 org.freedesktop.Sdk.Extension.openjdk11\n</code></pre>\n\n<p>Another way around this is the solution CrazyCoder provided, which is to install IntelliJ using their tar.gz.  This eliminates the entire sandbox constraint altogether.</p>\n"},{"tags":[],"owner":{"account_id":3871364,"reputation":509,"user_id":4335271,"display_name":"Carolus"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1680517262,"creation_date":1578582100,"answer_id":59666752,"question_id":54499133,"body_markdown":"As others said - sandboxing is a feature, not a bug.\r\n\r\nI think @Kevin Dubois&#39; answer should perhaps be preferred where applicable (installing via flatpak the thing you want to share), but there is another solution to this problem if you would like to **continue using flatpak**\r\n\r\n\r\n# How to find `/etc` and `/usr` paths in a flatpak:\r\n\r\nAs mentioned at the end of [this][2] section of the documentation:\r\n\r\n* `/etc` is mounted at `/var/run/host/etc` for the flatpakked software\r\n* `/usr` is mounted at `/var/run/host/usr` for the flatpakked software\r\n\r\nYou also need to grant the `--filesystem=host:ro` permission to your app if it doesn&#39;t have it yet (see below on how).\r\n\r\n# If you need to find or manage other paths:\r\n\r\n**NB:** It is generally a good idea to give software as little extra access as possible. That&#39;s why it is preferable to use the *optional* `:ro` suffix when granting access to a path to make it accessible in *read-only*. *You* will also be partly responsible if some software abuses the access it has to your device.\r\n\r\n\r\nThere&#39;s some useful path variables in the [filesystem permissions reference][3] and a lot of additional information about filesystem permissions [here][2].\r\n\r\n## GUI option:\r\n\r\n[Flatseal][1] is the most convenient option.\r\n\r\nIt only manages permissions on the user-level, so if you need to change settings for all users (usually not), then turn to the next section.\r\n\r\n## CLI option:\r\n\r\nThe examples below are for managing the path `/var/lib/gems` for the flatpak app `com.jetbrains.IntelliJ-IDEA-Community`. The 3 last commands are given with the `--user` flag for a user-level change. Without the flag and with `sudo` prepended the change would be applied to all users.\r\n\r\n### To check current permissions:\r\n```bash\r\nflatpak info --show-permissions com.jetbrains.IntelliJ-IDEA-Community\r\n```\r\n\r\n### To grant access:\r\n```bash\r\nflatpak override --user --filesystem=&quot;/var/lib/gems&quot;:ro com.jetbrains.IntelliJ-IDEA-Community\r\n```\r\n\r\n### To forbid access:\r\n```bash\r\nflatpak override --user --nofilesystem=&quot;/var/lib/gems&quot; com.jetbrains.IntelliJ-IDEA-Community\r\n```\r\n\r\n### To reset permissions to the initial state:\r\n```bash\r\nflatpak override --user --reset com.jetbrains.IntelliJ-IDEA-Community\r\n```\r\n\r\n  [1]: https://flathub.org/apps/details/com.github.tchx84.Flatseal\r\n  [2]: https://docs.flatpak.org/en/latest/sandbox-permissions.html#filesystem-access\r\n  [3]: https://docs.flatpak.org/en/latest/sandbox-permissions-reference.html#filesystem-permissions","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>As others said - sandboxing is a feature, not a bug.</p>\n<p>I think @Kevin Dubois' answer should perhaps be preferred where applicable (installing via flatpak the thing you want to share), but there is another solution to this problem if you would like to <strong>continue using flatpak</strong></p>\n<h1>How to find <code>/etc</code> and <code>/usr</code> paths in a flatpak:</h1>\n<p>As mentioned at the end of <a href=\"https://docs.flatpak.org/en/latest/sandbox-permissions.html#filesystem-access\" rel=\"nofollow noreferrer\">this</a> section of the documentation:</p>\n<ul>\n<li><code>/etc</code> is mounted at <code>/var/run/host/etc</code> for the flatpakked software</li>\n<li><code>/usr</code> is mounted at <code>/var/run/host/usr</code> for the flatpakked software</li>\n</ul>\n<p>You also need to grant the <code>--filesystem=host:ro</code> permission to your app if it doesn't have it yet (see below on how).</p>\n<h1>If you need to find or manage other paths:</h1>\n<p><strong>NB:</strong> It is generally a good idea to give software as little extra access as possible. That's why it is preferable to use the <em>optional</em> <code>:ro</code> suffix when granting access to a path to make it accessible in <em>read-only</em>. <em>You</em> will also be partly responsible if some software abuses the access it has to your device.</p>\n<p>There's some useful path variables in the <a href=\"https://docs.flatpak.org/en/latest/sandbox-permissions-reference.html#filesystem-permissions\" rel=\"nofollow noreferrer\">filesystem permissions reference</a> and a lot of additional information about filesystem permissions <a href=\"https://docs.flatpak.org/en/latest/sandbox-permissions.html#filesystem-access\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h2>GUI option:</h2>\n<p><a href=\"https://flathub.org/apps/details/com.github.tchx84.Flatseal\" rel=\"nofollow noreferrer\">Flatseal</a> is the most convenient option.</p>\n<p>It only manages permissions on the user-level, so if you need to change settings for all users (usually not), then turn to the next section.</p>\n<h2>CLI option:</h2>\n<p>The examples below are for managing the path <code>/var/lib/gems</code> for the flatpak app <code>com.jetbrains.IntelliJ-IDEA-Community</code>. The 3 last commands are given with the <code>--user</code> flag for a user-level change. Without the flag and with <code>sudo</code> prepended the change would be applied to all users.</p>\n<h3>To check current permissions:</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>flatpak info --show-permissions com.jetbrains.IntelliJ-IDEA-Community\n</code></pre>\n<h3>To grant access:</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>flatpak override --user --filesystem=&quot;/var/lib/gems&quot;:ro com.jetbrains.IntelliJ-IDEA-Community\n</code></pre>\n<h3>To forbid access:</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>flatpak override --user --nofilesystem=&quot;/var/lib/gems&quot; com.jetbrains.IntelliJ-IDEA-Community\n</code></pre>\n<h3>To reset permissions to the initial state:</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>flatpak override --user --reset com.jetbrains.IntelliJ-IDEA-Community\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20078330,"reputation":51,"user_id":14721566,"display_name":"Camilla"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606507891,"creation_date":1606507891,"answer_id":65043348,"question_id":54499133,"body_markdown":"The hint to the mounted directories by @Carolus worked perfectly for me:\r\nOn my Linx Mint the jdk had been installed within /usr/lib/jvm/java-11-openjdk. \r\n\r\n(found by usage of &quot;which java&quot; and using the result with &quot;readlink -e &quot;)\r\n\r\nSelected /var/run/host/usr/lib/jvm/java-11-openjdk\r\nwithin the Idea addJdk dialog instead and it works! No change of flatpak permissions was required.","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>The hint to the mounted directories by @Carolus worked perfectly for me:\nOn my Linx Mint the jdk had been installed within /usr/lib/jvm/java-11-openjdk.</p>\n<p>(found by usage of &quot;which java&quot; and using the result with &quot;readlink -e &quot;)</p>\n<p>Selected /var/run/host/usr/lib/jvm/java-11-openjdk\nwithin the Idea addJdk dialog instead and it works! No change of flatpak permissions was required.</p>\n"},{"tags":[],"owner":{"account_id":19775706,"reputation":75,"user_id":14481700,"display_name":"cmcdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607555223,"creation_date":1607555223,"answer_id":65226241,"question_id":54499133,"body_markdown":"# To prevent overriding permissions with flatpak #\r\n\r\n## Move jvm folder to a new folder in home directory ##\r\nFlatpak has specific blacklisted directories, while home is whitelisted. \r\n    \r\n    mkdir ~/ForceHome\r\n\r\n    sudo mv /usr/lib/jvm ~/ForceHome\r\n## Create a symbolic link in /usr/lib/jvm ## \r\nThis in case any files are still pointing there, and so you can point to /usr/lib/jvm with programs that can access that folder.\r\n\r\n    sudo ln -s ~/ForceHome/jvm /usr/lib/jvm\r\n\r\n## Select /ForceHome/jvm/jdk_version  when selecting the sdk in Intellij ##\r\nreplace jdk_version with the openjdk version that you have downloaded\r\n","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<h1>To prevent overriding permissions with flatpak</h1>\n<h2>Move jvm folder to a new folder in home directory</h2>\n<p>Flatpak has specific blacklisted directories, while home is whitelisted.</p>\n<pre><code>mkdir ~/ForceHome\n\nsudo mv /usr/lib/jvm ~/ForceHome\n</code></pre>\n<h2>Create a symbolic link in /usr/lib/jvm</h2>\n<p>This in case any files are still pointing there, and so you can point to /usr/lib/jvm with programs that can access that folder.</p>\n<pre><code>sudo ln -s ~/ForceHome/jvm /usr/lib/jvm\n</code></pre>\n<h2>Select /ForceHome/jvm/jdk_version  when selecting the sdk in Intellij</h2>\n<p>replace jdk_version with the openjdk version that you have downloaded</p>\n"}],"owner":{"account_id":3203449,"reputation":592,"user_id":3439849,"accept_rate":100,"display_name":"Jason"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10524,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":54500834,"answer_count":5,"score":10,"last_activity_date":1680517262,"creation_date":1549157213,"question_id":54499133,"body_markdown":"My system is Linux Mint 18.3 Cinnamon 64-bit.\r\n\r\nI&#39;ve installed IntelliJ-IDEA and Default-jdk (openjdk-8-jdk) using the software manager.\r\n\r\nI can see what I believe to be the JDK folder under either `/usr/lib/jvm/java-1.8.0-openjdk-amd64` or `/etc/java-8-openjdk` when browsing with the file manager (Nemo) or the terminal. But it doesn&#39;t matter because IntelliJ can&#39;t see either folder anyway. In fact, when trying to &lt;kbd&gt;Select Home Directory for JDK&lt;/kbd&gt;, IntelliJ only seems to have visibility to 14 sub-folders (out of hundreds) under `/usr/lib`.\r\n\r\nNot even sure how to launch IDEA from the command-line using `sudo`, e.g. to test that the issue is permission-related, since it is apparently being launched vicariously via flatpak.\r\n\r\nSeems like this should be simple. I&#39;m not sure what I&#39;m doing wrong.","title":"Can&#39;t Select Home Directory for JDK because IntelliJ can&#39;t see it?","body":"<p>My system is Linux Mint 18.3 Cinnamon 64-bit.</p>\n\n<p>I've installed IntelliJ-IDEA and Default-jdk (openjdk-8-jdk) using the software manager.</p>\n\n<p>I can see what I believe to be the JDK folder under either <code>/usr/lib/jvm/java-1.8.0-openjdk-amd64</code> or <code>/etc/java-8-openjdk</code> when browsing with the file manager (Nemo) or the terminal. But it doesn't matter because IntelliJ can't see either folder anyway. In fact, when trying to <kbd>Select Home Directory for JDK</kbd>, IntelliJ only seems to have visibility to 14 sub-folders (out of hundreds) under <code>/usr/lib</code>.</p>\n\n<p>Not even sure how to launch IDEA from the command-line using <code>sudo</code>, e.g. to test that the issue is permission-related, since it is apparently being launched vicariously via flatpak.</p>\n\n<p>Seems like this should be simple. I'm not sure what I'm doing wrong.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1680383617,"post_id":75908877,"comment_id":133890376,"body_markdown":"can u add complete error msg ?","body":"can u add complete error msg ?"},{"owner":{"account_id":23755104,"reputation":123,"user_id":17771314,"display_name":"Nemanja"},"score":0,"creation_date":1680383901,"post_id":75908877,"comment_id":133890409,"body_markdown":"@RyuzakiL Added the stack trace.","body":"@RyuzakiL Added the stack trace."}],"answers":[{"tags":[],"owner":{"account_id":27527834,"reputation":5,"user_id":21006854,"display_name":"Ashok Kumar Singh"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1680383839,"creation_date":1680383839,"answer_id":75908904,"question_id":75908877,"body_markdown":"Looks like this says that you are trying to call the &quot;toLowerCase()&quot; method on null.\r\n\r\nPlease ensure that columnName is not null before calling the toLowerCase() method.\r\n\r\nyou can first check columnName is not null and if it is not, it assigns the lowercase version. \r\n","title":"&quot;columnName&quot; is null","body":"<p>Looks like this says that you are trying to call the &quot;toLowerCase()&quot; method on null.</p>\n<p>Please ensure that columnName is not null before calling the toLowerCase() method.</p>\n<p>you can first check columnName is not null and if it is not, it assigns the lowercase version.</p>\n"}],"owner":{"account_id":23755104,"reputation":123,"user_id":17771314,"display_name":"Nemanja"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1681146545,"answer_count":1,"score":1,"last_activity_date":1680516971,"creation_date":1680383434,"question_id":75908877,"body_markdown":"I don&#39;t understand why I&#39;m getting this error:\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null\r\n\r\nThis is my product table in my database:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YNEhA.png\r\n\r\n\r\nAnd this is the Product model: \r\n\r\n    @Entity\r\n    @Table(name = &quot;product&quot;, schema = &quot;auction_app_schema&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;product_name&quot;, nullable = false)\r\n        private String productName;\r\n    \r\n        @Column(name = &quot;description&quot;, nullable = false)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;start_price&quot;, nullable = false)\r\n        private Float startPrice;\r\n    \r\n        @ElementCollection\r\n        @CollectionTable(name = &quot;product_images&quot;, joinColumns = @JoinColumn(name = &quot;product_id&quot;))\r\n        @Column(name = &quot;image&quot;)\r\n        private List&lt;String&gt; images;\r\n    \r\n        @Column(name = &quot;start_date&quot;, nullable = false)\r\n        private LocalDateTime startDate;\r\n    \r\n        @Column(name = &quot;end_date&quot;, nullable = false)\r\n        private LocalDateTime endDate;\r\n    \r\n        @Formula(&quot;(SELECT COUNT(*) FROM auction_app_schema.bid b INNER JOIN auction_app_schema.product p ON p.id = b.product_id WHERE b.product_id = p.id)&quot;)\r\n        private BigInteger numberOfBids;\r\n    \r\n        @Formula(&quot;(SELECT b.price FROM auction_app_schema.product p INNER JOIN auction_app_schema.bid b ON p.id =b.product_id ORDER BY b.price DESC LIMIT 1)&quot;)\r\n        private BigDecimal highestBid;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;category_id&quot;, nullable = false)\r\n        private Category category;\r\n    }\r\n\r\n\r\nHere is the repository function: \r\n\r\n    @Query(value = &quot;SELECT p.id, p.description, p.product_name, p.start_price, p.start_date, p.end_date, p.category_id, p.is_highlighted, pi.image\\n&quot; +\r\n            &quot;FROM auction_app_schema.product p\\n&quot; +\r\n            &quot;INNER JOIN auction_app_schema.category c ON p.category_id = c.id\\n&quot; +\r\n            &quot;INNER JOIN auction_app_schema.product_images pi ON p.id = pi.product_id\\n&quot; +\r\n            &quot;WHERE c.id = ? LIMIT ? OFFSET ?&quot;, nativeQuery = true)\r\n    List&lt;Product&gt; findProductsByCategoryId(Long categoryId, int limit, int offset);\r\n\r\n\r\nContext: This same query executed directly in database works, soon as I send request to server I get the `NullPointerException` even when I have all the columns in my database. I didn&#39;t run into this problem with PostgreSQL until now. Hibernate is just not picking up my schema, I think.\r\n\r\nThis is almost the whole stack trace: \r\n\r\n    FROM auction_app_schema.product p\r\n    INNER JOIN auction_app_schema.category c ON p.category_id = c.id\r\n    INNER JOIN auction_app_schema.product_images pi ON p.id = pi.product_id\r\n    WHERE c.id = ? LIMIT ? OFFSET ?\r\n    2023-04-01 22:56:55.147 ERROR 18404 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null] with root cause\r\n    \r\n        java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null\r\n        \tat org.postgresql.jdbc.PgResultSet.findColumnIndex(PgResultSet.java:2791) ~[postgresql-42.2.23.jar:42.2.23]\r\n        \tat org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2750) ~[postgresql-42.2.23.jar:42.2.23]\r\n        \tat org.postgresql.jdbc.PgResultSet.getBigDecimal(PgResultSet.java:410) ~[postgresql-42.2.23.jar:42.2.23]\r\n        \tat com.zaxxer.hikari.pool.HikariProxyResultSet.getBigDecimal(HikariProxyResultSet.java) ~[HikariCP-4.0.3.jar:na]\r\n        \tat org.hibernate.type.descriptor.sql.DecimalTypeDescriptor$2.doExtract(DecimalTypeDescriptor.java:63) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3131) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1863) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1791) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1764) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.getRow(Loader.java:1616) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1039) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.processResultSet(Loader.java:990) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.doQuery(Loader.java:959) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2141) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1169) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.5.jar:2.5.5]\r\n        \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.5.jar:2.5.5]\r\n        \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.5.jar:2.5.5]\r\n        \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.5.jar:2.5.5]\r\n\r\n","title":"&quot;columnName&quot; is null","body":"<p>I don't understand why I'm getting this error:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke\n&quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null</p>\n</blockquote>\n<p>This is my product table in my database:</p>\n<p><a href=\"https://i.stack.imgur.com/YNEhA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YNEhA.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is the Product model:</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;, schema = &quot;auction_app_schema&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;product_name&quot;, nullable = false)\n    private String productName;\n\n    @Column(name = &quot;description&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;start_price&quot;, nullable = false)\n    private Float startPrice;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;product_images&quot;, joinColumns = @JoinColumn(name = &quot;product_id&quot;))\n    @Column(name = &quot;image&quot;)\n    private List&lt;String&gt; images;\n\n    @Column(name = &quot;start_date&quot;, nullable = false)\n    private LocalDateTime startDate;\n\n    @Column(name = &quot;end_date&quot;, nullable = false)\n    private LocalDateTime endDate;\n\n    @Formula(&quot;(SELECT COUNT(*) FROM auction_app_schema.bid b INNER JOIN auction_app_schema.product p ON p.id = b.product_id WHERE b.product_id = p.id)&quot;)\n    private BigInteger numberOfBids;\n\n    @Formula(&quot;(SELECT b.price FROM auction_app_schema.product p INNER JOIN auction_app_schema.bid b ON p.id =b.product_id ORDER BY b.price DESC LIMIT 1)&quot;)\n    private BigDecimal highestBid;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;, nullable = false)\n    private Category category;\n}\n</code></pre>\n<p>Here is the repository function:</p>\n<pre><code>@Query(value = &quot;SELECT p.id, p.description, p.product_name, p.start_price, p.start_date, p.end_date, p.category_id, p.is_highlighted, pi.image\\n&quot; +\n        &quot;FROM auction_app_schema.product p\\n&quot; +\n        &quot;INNER JOIN auction_app_schema.category c ON p.category_id = c.id\\n&quot; +\n        &quot;INNER JOIN auction_app_schema.product_images pi ON p.id = pi.product_id\\n&quot; +\n        &quot;WHERE c.id = ? LIMIT ? OFFSET ?&quot;, nativeQuery = true)\nList&lt;Product&gt; findProductsByCategoryId(Long categoryId, int limit, int offset);\n</code></pre>\n<p>Context: This same query executed directly in database works, soon as I send request to server I get the <code>NullPointerException</code> even when I have all the columns in my database. I didn't run into this problem with PostgreSQL until now. Hibernate is just not picking up my schema, I think.</p>\n<p>This is almost the whole stack trace:</p>\n<pre><code>FROM auction_app_schema.product p\nINNER JOIN auction_app_schema.category c ON p.category_id = c.id\nINNER JOIN auction_app_schema.product_images pi ON p.id = pi.product_id\nWHERE c.id = ? LIMIT ? OFFSET ?\n2023-04-01 22:56:55.147 ERROR 18404 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null] with root cause\n\n    java.lang.NullPointerException: Cannot invoke &quot;String.toLowerCase(java.util.Locale)&quot; because &quot;columnName&quot; is null\n        at org.postgresql.jdbc.PgResultSet.findColumnIndex(PgResultSet.java:2791) ~[postgresql-42.2.23.jar:42.2.23]\n        at org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2750) ~[postgresql-42.2.23.jar:42.2.23]\n        at org.postgresql.jdbc.PgResultSet.getBigDecimal(PgResultSet.java:410) ~[postgresql-42.2.23.jar:42.2.23]\n        at com.zaxxer.hikari.pool.HikariProxyResultSet.getBigDecimal(HikariProxyResultSet.java) ~[HikariCP-4.0.3.jar:na]\n        at org.hibernate.type.descriptor.sql.DecimalTypeDescriptor$2.doExtract(DecimalTypeDescriptor.java:63) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3131) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1863) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1791) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1764) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.getRow(Loader.java:1616) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:740) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1039) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.processResultSet(Loader.java:990) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.doQuery(Loader.java:959) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2141) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1169) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:176) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.5.jar:2.5.5]\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.5.jar:2.5.5]\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.5.jar:2.5.5]\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.5.jar:2.5.5]\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680516525,"creation_date":1680516525,"answer_id":75918294,"question_id":75918219,"body_markdown":"You can use Collectors.toMap(...)\r\n\r\n    ids.stream().collect(Collectors.toMap( \r\n        Function.identity(), \r\n        id -&gt; new HashMap&lt;String, String&gt;() \r\n    ));\r\n\r\n\r\n`Collectors.toMap` requires two parameters: firstly, a key mapper, in our case, we&#39;ll use the current id from the stream, so `id -&gt; id` or simply `Function.identity()`. \r\n\r\nThen, for the value mapper, for each id, we are creating a new HashMap&lt;String String&gt;(), Additionally, you can declare it as `__ -&gt; new HashMap&lt;String, String&gt;()` (using &quot;__&quot; as the name of the element from the steram would suggest you are not interested in its value, and all the value mappers are returning the same).\r\n","title":"How to generate map with included map basing on list of integers?","body":"<p>You can use Collectors.toMap(...)</p>\n<pre><code>ids.stream().collect(Collectors.toMap( \n    Function.identity(), \n    id -&gt; new HashMap&lt;String, String&gt;() \n));\n</code></pre>\n<p><code>Collectors.toMap</code> requires two parameters: firstly, a key mapper, in our case, we'll use the current id from the stream, so <code>id -&gt; id</code> or simply <code>Function.identity()</code>.</p>\n<p>Then, for the value mapper, for each id, we are creating a new HashMap(), Additionally, you can declare it as <code>__ -&gt; new HashMap&lt;String, String&gt;()</code> (using &quot;__&quot; as the name of the element from the steram would suggest you are not interested in its value, and all the value mappers are returning the same).</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680516537,"creation_date":1680516537,"answer_id":75918298,"question_id":75918219,"body_markdown":"You are looking to [collect][1] the stream to map using [Collectors.toMap()][2]. Example:\r\n```\r\npublic class Test {\r\n\r\n  public static void main(String[] args) {\r\n    List&lt;Integer&gt; ids = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\r\n    Map&lt;Integer, Map&lt;String, String&gt;&gt; result = ids.stream()\r\n            .collect(Collectors.toMap(num -&gt; num, num -&gt; new HashMap&lt;&gt;()));\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-","title":"How to generate map with included map basing on list of integers?","body":"<p>You are looking to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">collect</a> the stream to map using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\">Collectors.toMap()</a>. Example:</p>\n<pre><code>public class Test {\n\n  public static void main(String[] args) {\n    List&lt;Integer&gt; ids = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\n    Map&lt;Integer, Map&lt;String, String&gt;&gt; result = ids.stream()\n            .collect(Collectors.toMap(num -&gt; num, num -&gt; new HashMap&lt;&gt;()));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75918294,"answer_count":2,"score":-1,"last_activity_date":1680516537,"creation_date":1680516052,"question_id":75918219,"body_markdown":"I have list of ids like \r\n\r\n    List&lt;Integer&gt; ids = new ArrayList(){1,2,3};\r\n\r\nI need to transform this to the map of next structure:\r\n\r\n`Map&lt;Integer, Map&lt;String, String&gt;&gt;` where keys will be ids from the list and map will be just empty map. Of course I can create new map, after that I can iterate over the list and to put id and new HashMap&lt;String,String&gt; to that new map. But is it possible to do that in one stream? Using `generate()` and `collect()` methods?\r\n\r\n","title":"How to generate map with included map basing on list of integers?","body":"<p>I have list of ids like</p>\n<pre><code>List&lt;Integer&gt; ids = new ArrayList(){1,2,3};\n</code></pre>\n<p>I need to transform this to the map of next structure:</p>\n<p><code>Map&lt;Integer, Map&lt;String, String&gt;&gt;</code> where keys will be ids from the list and map will be just empty map. Of course I can create new map, after that I can iterate over the list and to put id and new HashMap&lt;String,String&gt; to that new map. But is it possible to do that in one stream? Using <code>generate()</code> and <code>collect()</code> methods?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":20007603,"reputation":59,"user_id":14665256,"display_name":"aglamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653508809,"creation_date":1653507542,"answer_id":72383297,"question_id":72383247,"body_markdown":"Try to remove this dependency :   \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m not sure if it can be combined with mysql driver:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can also try changing this one:\r\n\r\n    spring.datasource.driver-class-name -&gt; spring.datasource.driverClassName\r\n\r\nOr, according to [Baeldung][1] change it to :\r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-failed-to-configure-data-source","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Try to remove this dependency :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'm not sure if it can be combined with mysql driver:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can also try changing this one:</p>\n<pre><code>spring.datasource.driver-class-name -&gt; spring.datasource.driverClassName\n</code></pre>\n<p>Or, according to <a href=\"https://www.baeldung.com/spring-boot-failed-to-configure-data-source\" rel=\"nofollow noreferrer\">Baeldung</a> change it to :</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user18308772"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658346386,"creation_date":1658346386,"answer_id":73057374,"question_id":72383247,"body_markdown":"Check your pom.xml file and make sure its packaging is **war**. It worked for me :)\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Check your pom.xml file and make sure its packaging is <strong>war</strong>. It worked for me :)</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17001208,"reputation":199,"user_id":12298563,"display_name":"shashika11"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665599734,"creation_date":1665599734,"answer_id":74046558,"question_id":72383247,"body_markdown":"I too faced the same problem. I also tried different solutions given in the answers, but nothing worked for me. I finally found out that the problem is with the pom.xml (if your dependency manager is maven). I had the following block there &amp; after removing it the problem was resolved.\r\n\r\n       &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;/src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;../src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\nThe problem was that spring auto-configuration could not detect the correct resource folder. Removing this will make no harm to your program.","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>I too faced the same problem. I also tried different solutions given in the answers, but nothing worked for me. I finally found out that the problem is with the pom.xml (if your dependency manager is maven). I had the following block there &amp; after removing it the problem was resolved.</p>\n<pre><code>   &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;/src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;../src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n<p>The problem was that spring auto-configuration could not detect the correct resource folder. Removing this will make no harm to your program.</p>\n"},{"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677858935,"creation_date":1677858935,"answer_id":75629274,"question_id":72383247,"body_markdown":"For some odd reason i had an empty `application.properties` file at `target\\classes` folder. I just deleted.","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>For some odd reason i had an empty <code>application.properties</code> file at <code>target\\classes</code> folder. I just deleted.</p>\n"}],"owner":{"account_id":19013769,"reputation":73,"user_id":13879173,"display_name":"Ivanovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15741,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1680516100,"creation_date":1653507230,"question_id":72383247,"body_markdown":"Been working in developing microservices with Spring. I&#39;ve written several, succesfully, however, this last one is failling and I don&#39;t know why.\r\n\r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n\r\nMy application.properties:\r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/Sat\r\n    spring.datasource.username=user_auto\r\n    spring.datasource.password=\r\n\r\n(Don&#39;t worry, the password is included in the application.properties)\r\n\r\nAlready trying added and removing: \r\n\r\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration \r\n\r\nMy pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.8&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.sat.serviciodescargamasiva.automatizador&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;automatizador&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;automatizador&lt;/name&gt;\r\n    \t&lt;description&gt;Servicio de automatizador del SAT&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud-gcp.version&gt;3.2.1&lt;/spring-cloud-gcp.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-storage&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n    \t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.yml&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n    \t\t\t\t&lt;/includes&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nMy main:\r\n\r\n@SpringBootApplication\r\npublic class AutoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AutoApplication.class, args);\r\n\t}\r\n}\r\n\r\nI&#39;m writing my code in IntelliJ. Help, I don&#39;t know what to do! I think I&#39;ve ran out of possible solutions.\r\n\r\nThanks in advance for your time!\r\n","title":"Spring: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Been working in developing microservices with Spring. I've written several, succesfully, however, this last one is failling and I don't know why.</p>\n<pre><code>Description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>My application.properties:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/Sat\nspring.datasource.username=user_auto\nspring.datasource.password=\n</code></pre>\n<p>(Don't worry, the password is included in the application.properties)</p>\n<p>Already trying added and removing:</p>\n<p>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</p>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.sat.serviciodescargamasiva.automatizador&lt;/groupId&gt;\n    &lt;artifactId&gt;automatizador&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;automatizador&lt;/name&gt;\n    &lt;description&gt;Servicio de automatizador del SAT&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud-gcp.version&gt;3.2.1&lt;/spring-cloud-gcp.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-storage&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.yml&lt;/include&gt;\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My main:</p>\n<p>@SpringBootApplication\npublic class AutoApplication {</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(AutoApplication.class, args);\n}\n</code></pre>\n<p>}</p>\n<p>I'm writing my code in IntelliJ. Help, I don't know what to do! I think I've ran out of possible solutions.</p>\n<p>Thanks in advance for your time!</p>\n"},{"tags":["java","android","kotlin","webview"],"owner":{"account_id":9653069,"reputation":146,"user_id":7163567,"display_name":"khoshrang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680515407,"creation_date":1680515407,"question_id":75918092,"body_markdown":"i&#39;m using amn android webview in my app, users can open sites in my app like any other browser the problem is usesrs can,t login to some sites like instagram they get this error:\r\n\r\n    csrf token missing or incorrect \r\n\r\n1. i have to use webviews, not chrome costumetabs or other browser libraries\r\n2. i&#39;m not using any kind of injection, it&#39;s simple browsing functionality\r\n\r\nhow can i solve this?\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pcreN.jpg","title":"android webview : csrf token missing or incorrect","body":"<p>i'm using amn android webview in my app, users can open sites in my app like any other browser the problem is usesrs can,t login to some sites like instagram they get this error:</p>\n<pre><code>csrf token missing or incorrect \n</code></pre>\n<ol>\n<li>i have to use webviews, not chrome costumetabs or other browser libraries</li>\n<li>i'm not using any kind of injection, it's simple browsing functionality</li>\n</ol>\n<p>how can i solve this?</p>\n<p><a href=\"https://i.stack.imgur.com/pcreN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pcreN.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","encryption","google-bigquery","google-cloud-kms"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680506793,"post_id":75916844,"comment_id":133903875,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1680506805,"post_id":75916844,"comment_id":133903878,"body_markdown":"Your post misses the encryption Java code. `getCiphertext` is not a standard J2SE method, so it is unclear what library you use.","body":"Your post misses the encryption Java code. <code>getCiphertext</code> is not a standard J2SE method, so it is unclear what library you use."},{"owner":{"account_id":10907453,"reputation":1572,"user_id":8017771,"accept_rate":29,"display_name":"User-8017771"},"score":0,"creation_date":1680515225,"post_id":75916844,"comment_id":133905699,"body_markdown":"Have updated the code where I&#39;m encrypting.","body":"Have updated the code where I&#39;m encrypting."},{"owner":{"account_id":23157436,"reputation":2052,"user_id":17258510,"display_name":"kiran mathew"},"score":0,"creation_date":1680616456,"post_id":75916844,"comment_id":133925860,"body_markdown":"Do this [link1](https://cloud.google.com/kms/docs/encrypt-decrypt#kms-encrypt-symmetric-java) and [link2](https://cloud.google.com/bigquery/docs/reference/standard-sql/aead_encryption_functions#deterministic_decrypt_bytes) help you?","body":"Do this <a href=\"https://cloud.google.com/kms/docs/encrypt-decrypt#kms-encrypt-symmetric-java\" rel=\"nofollow noreferrer\">link1</a> and <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/aead_encryption_functions#deterministic_decrypt_bytes\" rel=\"nofollow noreferrer\">link2</a> help you?"}],"owner":{"account_id":10907453,"reputation":1572,"user_id":8017771,"accept_rate":29,"display_name":"User-8017771"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680515165,"creation_date":1680505895,"question_id":75916844,"body_markdown":"We have some columns which need encryption when pushed to BigQuery. For that we&#39;re using column level encryption. \r\n\r\nSo, when we push the data to BigQuery via java, the data is encrypted when it is pushed. However when we try to decrypt the data using select statements in BigQuery, the decryption fails. \r\n\r\nJava cipher text:\r\n````java\r\nKeyManagementServiceClient client = KeyManagementServiceClient.create();\r\n\r\nCryptoKeyName cryptoKey = CryptoKeyName.of(&quot;project&quot;, &quot;region&quot;, &quot;column-encryption-keyrings&quot;, &quot;column-encryption-key&quot;);\r\n\r\nEncryptResponse response = client.encrypt(cryptoKey, ByteString.copyFromUtf8(&quot;abcde&quot;));\r\n\r\nString encryptedCipher = new String(Base64.getEncoder().encode(response.getCiphertext().toByteArray()))\r\n````\r\n\r\nUsing BQ for decryption: \r\n````sql\r\nSELECT\r\n  DETERMINISTIC_DECRYPT_BYTES(\r\n    KEYS.KEYSET_CHAIN(kms_resource_name, first_level_keyset),\r\n    encryptedCipher,\r\n   &#39;&#39;\r\n  ) AS decryptedData\r\n\r\n```` \r\nThe error that we get is decryption failed. \r\n\r\nFirstly is this even possible? If yes, is there something that I&#39;m missing? \r\n\r\n-- Updated: \r\nHave updated the code where I&#39;m encrypting. The same encryptedCipher string I copy from the logs and try to decrypt in BigQuery, where I get the error. ","title":"Encrypted in Java and decrypting the same string in BigQuery not working","body":"<p>We have some columns which need encryption when pushed to BigQuery. For that we're using column level encryption.</p>\n<p>So, when we push the data to BigQuery via java, the data is encrypted when it is pushed. However when we try to decrypt the data using select statements in BigQuery, the decryption fails.</p>\n<p>Java cipher text:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyManagementServiceClient client = KeyManagementServiceClient.create();\n\nCryptoKeyName cryptoKey = CryptoKeyName.of(&quot;project&quot;, &quot;region&quot;, &quot;column-encryption-keyrings&quot;, &quot;column-encryption-key&quot;);\n\nEncryptResponse response = client.encrypt(cryptoKey, ByteString.copyFromUtf8(&quot;abcde&quot;));\n\nString encryptedCipher = new String(Base64.getEncoder().encode(response.getCiphertext().toByteArray()))\n</code></pre>\n<p>Using BQ for decryption:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT\n  DETERMINISTIC_DECRYPT_BYTES(\n    KEYS.KEYSET_CHAIN(kms_resource_name, first_level_keyset),\n    encryptedCipher,\n   ''\n  ) AS decryptedData\n\n</code></pre>\n<p>The error that we get is decryption failed.</p>\n<p>Firstly is this even possible? If yes, is there something that I'm missing?</p>\n<p>-- Updated:\nHave updated the code where I'm encrypting. The same encryptedCipher string I copy from the logs and try to decrypt in BigQuery, where I get the error.</p>\n"},{"tags":["java","spring-boot","model-view-controller","parameters"],"answers":[{"tags":[],"owner":{"account_id":324951,"reputation":935,"user_id":6722664,"display_name":"Sagar Gandhi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680450314,"creation_date":1680450314,"answer_id":75913030,"question_id":75912825,"body_markdown":"    RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\r\n    public String userlogin( @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String pass,Model model) {\r\n\r\n  \r\nAs you have defined the RequestParam, It needs to be as part of request URL , not a body. \r\n\r\nhttp://localhost:8080/spring-mvc-basics/api/login?username=abc\r\n\r\ne.g. https://www.baeldung.com/spring-request-param\r\n\r\nIf you intent to take it as part of body (which it must since password should not be in URL) then use following where loginInfo is DTO which stores username and password.\r\n\r\n     RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\r\n        public String userlogin( @RequestBody LoginInfo loginInfo) {\r\n\r\n","title":"Java Spring: Required parameter &#39;username&#39; is not present","body":"<pre><code>RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\npublic String userlogin( @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String pass,Model model) {\n</code></pre>\n<p>As you have defined the RequestParam, It needs to be as part of request URL , not a body.</p>\n<p>http://localhost:8080/spring-mvc-basics/api/login?username=abc</p>\n<p>e.g. <a href=\"https://www.baeldung.com/spring-request-param\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-param</a></p>\n<p>If you intent to take it as part of body (which it must since password should not be in URL) then use following where loginInfo is DTO which stores username and password.</p>\n<pre><code> RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\n    public String userlogin( @RequestBody LoginInfo loginInfo) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27868102,"reputation":34,"user_id":21279235,"display_name":"LQF-developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680514340,"creation_date":1680514340,"answer_id":75917955,"question_id":75912825,"body_markdown":" Http request does not contain `userName` as you explicitly set the `username` to be needed.\r\n     \r\n      // you code -&gt; @RequestParam(&quot;username&quot;) String username,\r\n     // the http request(Missing username!)-&gt; do action=&quot;userlogin&quot; method=&quot;post&quot;. This is my code:\r\n\r\n\r\n    ","title":"Java Spring: Required parameter &#39;username&#39; is not present","body":"<p>Http request does not contain <code>userName</code> as you explicitly set the <code>username</code> to be needed.</p>\n<pre><code>  // you code -&gt; @RequestParam(&quot;username&quot;) String username,\n // the http request(Missing username!)-&gt; do action=&quot;userlogin&quot; method=&quot;post&quot;. This is my code:\n</code></pre>\n"}],"owner":{"account_id":27079642,"reputation":45,"user_id":20628970,"display_name":"L&#234; Trung Hiếu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680514340,"creation_date":1680447915,"question_id":75912825,"body_markdown":"When I send the form, it will do action=&quot;userlogin&quot; method=&quot;post&quot;.\r\nThis is my code:\r\n\r\n    package com.home_project.oop_project.controllers;\r\n\r\n    import java.sql.*;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    @Controller\r\n    public class UserController {\r\n\r\n    int adminlogcheck = 0;\r\n\tString usernameforclass = &quot;&quot;;\r\n\r\n\t//Some code\r\n\t@GetMapping(&quot;userlogin&quot;)\r\n\tpublic String userlog(Model model) {\r\n\t\t\r\n\t\treturn &quot;userLogin&quot;;\r\n\t}\r\n\t@RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\r\n\tpublic String userlogin( @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String pass,Model model) {\r\n\t\ttry\r\n\t\t{\r\n\t\t\tSystem.out.println(username);\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/springproject&quot;,&quot;root&quot;,&quot;&quot;);\r\n\t\t\tStatement stmt = con.createStatement();\r\n\t\t\tResultSet rst = stmt.executeQuery(&quot;select * from users where username = &#39;&quot;+username+&quot;&#39; and password = &#39;&quot;+ pass+&quot;&#39; ;&quot;);\r\n\t\t\tif(rst.next()) {\r\n\t\t\t\tusernameforclass = rst.getString(2);\r\n\t\t\t\treturn &quot;redirect:/index&quot;;\r\n\t\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tmodel.addAttribute(&quot;message&quot;, &quot;Invalid Username or Password&quot;);\r\n\t\t\t\treturn &quot;userLogin&quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Exception:&quot;+e);\r\n\t\t}\r\n\t\treturn &quot;userLogin&quot;;\r\n\t    }\r\n    }\r\n\r\n\r\n\r\nBut it won&#39;t go to &#39;index&#39; as I expected. When I check the issue by postman, it say: &quot; &quot;trace&quot;: &quot;org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;username&#39; for method parameter type String is not present\\r\\n\\tat&quot; and &quot;message&quot;: &quot;Required parameter &#39;username&#39; is not present.&quot;\r\nWhat should I do. Thanks","title":"Java Spring: Required parameter &#39;username&#39; is not present","body":"<p>When I send the form, it will do action=&quot;userlogin&quot; method=&quot;post&quot;.\nThis is my code:</p>\n<pre><code>package com.home_project.oop_project.controllers;\n\nimport java.sql.*;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\npublic class UserController {\n\nint adminlogcheck = 0;\nString usernameforclass = &quot;&quot;;\n\n//Some code\n@GetMapping(&quot;userlogin&quot;)\npublic String userlog(Model model) {\n    \n    return &quot;userLogin&quot;;\n}\n@RequestMapping(value = &quot;userlogin&quot;, method = RequestMethod.POST)\npublic String userlogin( @RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String pass,Model model) {\n    try\n    {\n        System.out.println(username);\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/springproject&quot;,&quot;root&quot;,&quot;&quot;);\n        Statement stmt = con.createStatement();\n        ResultSet rst = stmt.executeQuery(&quot;select * from users where username = '&quot;+username+&quot;' and password = '&quot;+ pass+&quot;' ;&quot;);\n        if(rst.next()) {\n            usernameforclass = rst.getString(2);\n            return &quot;redirect:/index&quot;;\n            }\n        else {\n            model.addAttribute(&quot;message&quot;, &quot;Invalid Username or Password&quot;);\n            return &quot;userLogin&quot;;\n        }\n        \n    }\n    catch(Exception e)\n    {\n        System.out.println(&quot;Exception:&quot;+e);\n    }\n    return &quot;userLogin&quot;;\n    }\n}\n</code></pre>\n<p>But it won't go to 'index' as I expected. When I check the issue by postman, it say: &quot; &quot;trace&quot;: &quot;org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'username' for method parameter type String is not present\\r\\n\\tat&quot; and &quot;message&quot;: &quot;Required parameter 'username' is not present.&quot;\nWhat should I do. Thanks</p>\n"},{"tags":["java","file","jar","java-io","getresource"],"comments":[{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1253044244,"post_id":1429172,"comment_id":1273262,"body_markdown":"Just a thought - why not zip/jar images into a separate file and read the entries in it from your class in another jar?","body":"Just a thought - why not zip/jar images into a separate file and read the entries in it from your class in another jar?"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":4,"creation_date":1253044716,"post_id":1429172,"comment_id":1273297,"body_markdown":"Because it would need an &quot;extra&quot; step for distribution/installation. :( You know, end users.","body":"Because it would need an &quot;extra&quot; step for distribution/installation. :( You know, end users."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1253045072,"post_id":1429172,"comment_id":30597540,"body_markdown":"Given that you have created the jar, you might as well include the list of files within it rather than attempting any tricks.","body":"Given that you have created the jar, you might as well include the list of files within it rather than attempting any tricks."},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":0,"creation_date":1253045492,"post_id":1429172,"comment_id":1273380,"body_markdown":"Well, I might be mistaken but jars can be embedded inside other jars. The one-jar(TM) packaging solution http://www.ibm.com/developerworks/java/library/j-onejar/ works on this basis. Except, in your case you do not require the ability load classes.","body":"Well, I might be mistaken but jars can be embedded inside other jars. The one-jar(TM) packaging solution <a href=\"http://www.ibm.com/developerworks/java/library/j-onejar/\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-onejar</a> works on this basis. Except, in your case you do not require the ability load classes."}],"answers":[{"tags":[],"owner":{"account_id":51748,"reputation":6271,"user_id":154630,"accept_rate":69,"display_name":"Mikeb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1253048481,"creation_date":1253043319,"answer_id":1429212,"question_id":1429172,"body_markdown":"A jar file is just a zip file with a structured manifest. You can open the jar file with the usual java zip tools and scan the file contents that way, inflate streams, etc. Then use that in a getResourceAsStream call, and it should be all hunky dory.\r\n\r\nEDIT / after clarification\r\n\r\nIt took me a minute to remember all the bits and pieces and I&#39;m sure there are cleaner ways to do it, but I wanted to see that I wasn&#39;t crazy. In my project image.jpg is a file in some part of the main jar file. I get the class loader of the main class (SomeClass is the entry point) and use it to discover the image.jpg resource. Then some stream magic to get it into this ImageInputStream thing and everything is fine.\r\n\r\n    InputStream inputStream = SomeClass.class.getClassLoader().getResourceAsStream(&quot;image.jpg&quot;);\r\n    JPEGImageReaderSpi imageReaderSpi = new JPEGImageReaderSpi();\r\n    ImageReader ir = imageReaderSpi.createReaderInstance();\r\n    ImageInputStream iis = new MemoryCacheImageInputStream(inputStream);\r\n    ir.setInput(iis);\r\n    ....\r\n    ir.read(0); //will hand us a buffered image\r\n","title":"How to list the files inside a JAR file?","body":"<p>A jar file is just a zip file with a structured manifest. You can open the jar file with the usual java zip tools and scan the file contents that way, inflate streams, etc. Then use that in a getResourceAsStream call, and it should be all hunky dory.</p>\n\n<p>EDIT / after clarification</p>\n\n<p>It took me a minute to remember all the bits and pieces and I'm sure there are cleaner ways to do it, but I wanted to see that I wasn't crazy. In my project image.jpg is a file in some part of the main jar file. I get the class loader of the main class (SomeClass is the entry point) and use it to discover the image.jpg resource. Then some stream magic to get it into this ImageInputStream thing and everything is fine.</p>\n\n<pre><code>InputStream inputStream = SomeClass.class.getClassLoader().getResourceAsStream(\"image.jpg\");\nJPEGImageReaderSpi imageReaderSpi = new JPEGImageReaderSpi();\nImageReader ir = imageReaderSpi.createReaderInstance();\nImageInputStream iis = new MemoryCacheImageInputStream(inputStream);\nir.setInput(iis);\n....\nir.read(0); //will hand us a buffered image\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302868642,"creation_date":1253043428,"answer_id":1429220,"question_id":1429172,"body_markdown":"Given an actual JAR file, you can list the contents using `JarFile.entries()`. You will need to know the location of the JAR file though - you can&#39;t just ask the classloader to list everything it could get at.\r\n\r\nYou should be able to work out the location of the JAR file based on the URL returned from `ThisClassName.class.getResource(&quot;ThisClassName.class&quot;)`, but it may be a tiny bit fiddly.\r\n","title":"How to list the files inside a JAR file?","body":"<p>Given an actual JAR file, you can list the contents using <code>JarFile.entries()</code>. You will need to know the location of the JAR file though - you can't just ask the classloader to list everything it could get at.</p>\n\n<p>You should be able to work out the location of the JAR file based on the URL returned from <code>ThisClassName.class.getResource(\"ThisClassName.class\")</code>, but it may be a tiny bit fiddly.</p>\n"},{"tags":[],"owner":{"account_id":712,"reputation":6325,"user_id":931,"accept_rate":59,"display_name":"Ran Biron"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1253044310,"creation_date":1253043586,"answer_id":1429233,"question_id":1429172,"body_markdown":"Here&#39;s a method I wrote for a &quot;run all JUnits under a package&quot;. You should be able to adapt it to your needs.\r\n\r\n    private static void findClassesInJar(List&lt;String&gt; classFiles, String path) throws IOException {\r\n        final String[] parts = path.split(&quot;\\\\Q.jar\\\\\\\\E&quot;);\r\n        if (parts.length == 2) {\r\n            String jarFilename = parts[0] + &quot;.jar&quot;;\r\n            String relativePath = parts[1].replace(File.separatorChar, &#39;/&#39;);\r\n            JarFile jarFile = new JarFile(jarFilename);\r\n            final Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\r\n            while (entries.hasMoreElements()) {\r\n                final JarEntry entry = entries.nextElement();\r\n                final String entryName = entry.getName();\r\n                if (entryName.startsWith(relativePath)) {\r\n                    classFiles.add(entryName.replace(&#39;/&#39;, File.separatorChar));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nEdit:\r\nAh, in that case, you might want this snippet as well (same use case :) )\r\n\r\n    private static File findClassesDir(Class&lt;?&gt; clazz) {\r\n        try {\r\n            String path = clazz.getProtectionDomain().getCodeSource().getLocation().getFile();\r\n            final String codeSourcePath = URLDecoder.decode(path, &quot;UTF-8&quot;);\r\n            final String thisClassPath = new File(codeSourcePath, clazz.getPackage().getName().repalce(&#39;.&#39;, File.separatorChar));\r\n        } catch (UnsupportedEncodingException e) {\r\n            throw new AssertionError(&quot;impossible&quot;, e);\r\n        }\r\n    }\r\n\r\n","title":"How to list the files inside a JAR file?","body":"<p>Here's a method I wrote for a \"run all JUnits under a package\". You should be able to adapt it to your needs.</p>\n\n<pre><code>private static void findClassesInJar(List&lt;String&gt; classFiles, String path) throws IOException {\n    final String[] parts = path.split(\"\\\\Q.jar\\\\\\\\E\");\n    if (parts.length == 2) {\n        String jarFilename = parts[0] + \".jar\";\n        String relativePath = parts[1].replace(File.separatorChar, '/');\n        JarFile jarFile = new JarFile(jarFilename);\n        final Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\n        while (entries.hasMoreElements()) {\n            final JarEntry entry = entries.nextElement();\n            final String entryName = entry.getName();\n            if (entryName.startsWith(relativePath)) {\n                classFiles.add(entryName.replace('/', File.separatorChar));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Edit:\nAh, in that case, you might want this snippet as well (same use case :) )</p>\n\n<pre><code>private static File findClassesDir(Class&lt;?&gt; clazz) {\n    try {\n        String path = clazz.getProtectionDomain().getCodeSource().getLocation().getFile();\n        final String codeSourcePath = URLDecoder.decode(path, \"UTF-8\");\n        final String thisClassPath = new File(codeSourcePath, clazz.getPackage().getName().repalce('.', File.separatorChar));\n    } catch (UnsupportedEncodingException e) {\n        throw new AssertionError(\"impossible\", e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1467404592,"creation_date":1253044130,"answer_id":1429275,"question_id":1429172,"body_markdown":"    CodeSource src = MyClass.class.getProtectionDomain().getCodeSource();\r\n    if (src != null) {\r\n      URL jar = src.getLocation();\r\n      ZipInputStream zip = new ZipInputStream(jar.openStream());\r\n      while(true) {\r\n        ZipEntry e = zip.getNextEntry();\r\n        if (e == null)\r\n          break;\r\n        String name = e.getName();\r\n        if (name.startsWith(&quot;path/to/your/dir/&quot;)) {\r\n          /* Do something with this entry. */\r\n          ...\r\n        }\r\n      }\r\n    } \r\n    else {\r\n      /* Fail... */\r\n    }\r\n\r\nNote that in Java 7, you can create a `FileSystem` from the JAR (zip) file, and then use NIO&#39;s directory walking and filtering mechanisms to search through it. This would make it easier to write code that handles JARs and &quot;exploded&quot; directories.","title":"How to list the files inside a JAR file?","body":"<pre><code>CodeSource src = MyClass.class.getProtectionDomain().getCodeSource();\nif (src != null) {\n  URL jar = src.getLocation();\n  ZipInputStream zip = new ZipInputStream(jar.openStream());\n  while(true) {\n    ZipEntry e = zip.getNextEntry();\n    if (e == null)\n      break;\n    String name = e.getName();\n    if (name.startsWith(\"path/to/your/dir/\")) {\n      /* Do something with this entry. */\n      ...\n    }\n  }\n} \nelse {\n  /* Fail... */\n}\n</code></pre>\n\n<p>Note that in Java 7, you can create a <code>FileSystem</code> from the JAR (zip) file, and then use NIO's directory walking and filtering mechanisms to search through it. This would make it easier to write code that handles JARs and \"exploded\" directories.</p>\n"},{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1253083290,"creation_date":1253083290,"answer_id":1431328,"question_id":1429172,"body_markdown":"&gt;&gt; So I guess my main problem would be, how to know the name of the jar where my main class lives.\r\n\r\n\r\nAssuming that your project is packed in a Jar (not necessarily true!), you can use ClassLoader.getResource() or findResource() with the class name (followed by .class) to get the jar that contains a given class.  You&#39;ll have to parse the jar name from the URL that gets returned (not that tough), which I will leave as an exercise for the reader :-)\r\n\r\nBe sure to test for the case where the class is not part of a jar.\r\n\r\n","title":"How to list the files inside a JAR file?","body":"<blockquote>\n  <blockquote>\n    <p>So I guess my main problem would be, how to know the name of the jar where my main class lives.</p>\n  </blockquote>\n</blockquote>\n\n<p>Assuming that your project is packed in a Jar (not necessarily true!), you can use ClassLoader.getResource() or findResource() with the class name (followed by .class) to get the jar that contains a given class.  You'll have to parse the jar name from the URL that gets returned (not that tough), which I will leave as an exercise for the reader :-)</p>\n\n<p>Be sure to test for the case where the class is not part of a jar.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1397636265,"creation_date":1253137305,"answer_id":1435649,"question_id":1429172,"body_markdown":"erickson&#39;s [answer][1]  worked perfectly: \r\n\r\nHere&#39;s the working code.\r\n\r\n    CodeSource src = MyClass.class.getProtectionDomain().getCodeSource();\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n    if( src != null ) {\r\n        URL jar = src.getLocation();\r\n        ZipInputStream zip = new ZipInputStream( jar.openStream());\r\n        ZipEntry ze = null;\r\n\r\n        while( ( ze = zip.getNextEntry() ) != null ) {\r\n            String entryName = ze.getName();\r\n            if( entryName.startsWith(&quot;images&quot;) &amp;&amp;  entryName.endsWith(&quot;.png&quot;) ) {\r\n                list.add( entryName  );\r\n            }\r\n        }\r\n\r\n     }\r\n     webimages = list.toArray( new String[ list.size() ] );\r\n\r\n\r\nAnd I have just modify my load method from this:\r\n\r\n    File[] webimages = ... \r\n    BufferedImage image = ImageIO.read(this.getClass().getResource(webimages[nextIndex].getName() ));\r\n\r\nTo this:\r\n\r\n    String  [] webimages = ...\r\n\r\n    BufferedImage image = ImageIO.read(this.getClass().getResource(webimages[nextIndex]));\r\n\r\n  [1]: https://stackoverflow.com/questions/1429172/list-files-inside-a-jar/1429275#1429275","title":"How to list the files inside a JAR file?","body":"<p>erickson's <a href=\"https://stackoverflow.com/questions/1429172/list-files-inside-a-jar/1429275#1429275\">answer</a>  worked perfectly: </p>\n\n<p>Here's the working code.</p>\n\n<pre><code>CodeSource src = MyClass.class.getProtectionDomain().getCodeSource();\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\nif( src != null ) {\n    URL jar = src.getLocation();\n    ZipInputStream zip = new ZipInputStream( jar.openStream());\n    ZipEntry ze = null;\n\n    while( ( ze = zip.getNextEntry() ) != null ) {\n        String entryName = ze.getName();\n        if( entryName.startsWith(\"images\") &amp;&amp;  entryName.endsWith(\".png\") ) {\n            list.add( entryName  );\n        }\n    }\n\n }\n webimages = list.toArray( new String[ list.size() ] );\n</code></pre>\n\n<p>And I have just modify my load method from this:</p>\n\n<pre><code>File[] webimages = ... \nBufferedImage image = ImageIO.read(this.getClass().getResource(webimages[nextIndex].getName() ));\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>String  [] webimages = ...\n\nBufferedImage image = ImageIO.read(this.getClass().getResource(webimages[nextIndex]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61890,"reputation":1140,"user_id":184199,"accept_rate":60,"display_name":"jgran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301591687,"creation_date":1254727291,"answer_id":1518653,"question_id":1429172,"body_markdown":"There are two very useful utilities both called JarScan:\r\n \r\n 1. [www.inetfeedback.com/jarscan][1]\r\n\r\n 2. [jarscan.dev.java.net][2]\r\n\r\nSee also this question: *[JarScan, scan all JAR files in all subfolders for specific class][3]*\r\n\r\n  [1]: http://www.inetfeedback.com/jarscan\r\n  [2]: http://jarscan.dev.java.net\r\n  [3]: https://stackoverflow.com/questions/759923\r\n","title":"How to list the files inside a JAR file?","body":"<p>There are two very useful utilities both called JarScan:</p>\n\n<ol>\n<li><p><a href=\"http://www.inetfeedback.com/jarscan\" rel=\"nofollow noreferrer\">www.inetfeedback.com/jarscan</a></p></li>\n<li><p><a href=\"http://jarscan.dev.java.net\" rel=\"nofollow noreferrer\">jarscan.dev.java.net</a></p></li>\n</ol>\n\n<p>See also this question: <em><a href=\"https://stackoverflow.com/questions/759923\">JarScan, scan all JAR files in all subfolders for specific class</a></em></p>\n"},{"tags":[],"owner":{"account_id":388323,"reputation":1955,"user_id":747179,"display_name":"berni"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1306538920,"creation_date":1306538920,"answer_id":6158607,"question_id":1429172,"body_markdown":"Some time ago I made a function that gets classess from inside JAR:\r\n\r\n\tpublic static Class[] getClasses(String packageName) \r\n\tthrows ClassNotFoundException{\r\n\t\tArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt; ();\r\n\r\n\t\tpackageName = packageName.replaceAll(&quot;\\\\.&quot; , &quot;/&quot;);\r\n\t\tFile f = new File(jarName);\r\n\t\tif(f.exists()){\r\n\t\t\ttry{\r\n\t\t\t\tJarInputStream jarFile = new JarInputStream(\r\n\t\t\t\t\t\tnew FileInputStream (jarName));\r\n\t\t\t\tJarEntry jarEntry;\r\n\r\n\t\t\t\twhile(true) {\r\n\t\t\t\t\tjarEntry=jarFile.getNextJarEntry ();\r\n\t\t\t\t\tif(jarEntry == null){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif((jarEntry.getName ().startsWith (packageName)) &amp;&amp;\r\n\t\t\t\t\t\t\t(jarEntry.getName ().endsWith (&quot;.class&quot;)) ) {\r\n\t\t\t\t\t\tclasses.add(Class.forName(jarEntry.getName().\r\n\t\t\t\t\t\t\t\treplaceAll(&quot;/&quot;, &quot;\\\\.&quot;).\r\n\t\t\t\t\t\t\t\tsubstring(0, jarEntry.getName().length() - 6)));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch( Exception e){\r\n\t\t\t\te.printStackTrace ();\r\n\t\t\t}\r\n\t\t\tClass[] classesA = new Class[classes.size()];\r\n\t\t\tclasses.toArray(classesA);\r\n\t\t\treturn classesA;\r\n\t\t}else\r\n\t\t\treturn null;\r\n\t}","title":"How to list the files inside a JAR file?","body":"<p>Some time ago I made a function that gets classess from inside JAR:</p>\n\n<pre><code>public static Class[] getClasses(String packageName) \nthrows ClassNotFoundException{\n    ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt; ();\n\n    packageName = packageName.replaceAll(\"\\\\.\" , \"/\");\n    File f = new File(jarName);\n    if(f.exists()){\n        try{\n            JarInputStream jarFile = new JarInputStream(\n                    new FileInputStream (jarName));\n            JarEntry jarEntry;\n\n            while(true) {\n                jarEntry=jarFile.getNextJarEntry ();\n                if(jarEntry == null){\n                    break;\n                }\n                if((jarEntry.getName ().startsWith (packageName)) &amp;&amp;\n                        (jarEntry.getName ().endsWith (\".class\")) ) {\n                    classes.add(Class.forName(jarEntry.getName().\n                            replaceAll(\"/\", \"\\\\.\").\n                            substring(0, jarEntry.getName().length() - 6)));\n                }\n            }\n        }\n        catch( Exception e){\n            e.printStackTrace ();\n        }\n        Class[] classesA = new Class[classes.size()];\n        classes.toArray(classesA);\n        return classesA;\n    }else\n        return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1896086,"reputation":5499,"user_id":1713031,"accept_rate":71,"display_name":"acheron55"},"down_vote_count":1,"up_vote_count":106,"is_accepted":false,"score":105,"last_activity_date":1474169658,"creation_date":1421800797,"answer_id":28057735,"question_id":1429172,"body_markdown":"Code that works for both IDE&#39;s and .jar files:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.nio.file.*;\r\n    import java.util.*;\r\n    import java.util.stream.*;\r\n    \r\n    public class ResourceWalker {\r\n    \tpublic static void main(String[] args) throws URISyntaxException, IOException {\r\n    \t\tURI uri = ResourceWalker.class.getResource(&quot;/resources&quot;).toURI();\r\n    \t    Path myPath;\r\n    \t    if (uri.getScheme().equals(&quot;jar&quot;)) {\r\n    \t        FileSystem fileSystem = FileSystems.newFileSystem(uri, Collections.&lt;String, Object&gt;emptyMap());\r\n    \t        myPath = fileSystem.getPath(&quot;/resources&quot;);\r\n    \t    } else {\r\n    \t        myPath = Paths.get(uri);\r\n    \t    }\r\n    \t    Stream&lt;Path&gt; walk = Files.walk(myPath, 1);\r\n    \t    for (Iterator&lt;Path&gt; it = walk.iterator(); it.hasNext();){\r\n    \t        System.out.println(it.next());\r\n    \t    }\r\n    \t}\r\n    }","title":"How to list the files inside a JAR file?","body":"<p>Code that works for both IDE's and .jar files:</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.nio.file.*;\nimport java.util.*;\nimport java.util.stream.*;\n\npublic class ResourceWalker {\n    public static void main(String[] args) throws URISyntaxException, IOException {\n        URI uri = ResourceWalker.class.getResource(\"/resources\").toURI();\n        Path myPath;\n        if (uri.getScheme().equals(\"jar\")) {\n            FileSystem fileSystem = FileSystems.newFileSystem(uri, Collections.&lt;String, Object&gt;emptyMap());\n            myPath = fileSystem.getPath(\"/resources\");\n        } else {\n            myPath = Paths.get(uri);\n        }\n        Stream&lt;Path&gt; walk = Files.walk(myPath, 1);\n        for (Iterator&lt;Path&gt; it = walk.iterator(); it.hasNext();){\n            System.out.println(it.next());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232450,"reputation":1114,"user_id":497300,"display_name":"trung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434510021,"creation_date":1434510021,"answer_id":30881586,"question_id":1429172,"body_markdown":"Just a different way of listing/reading files from a jar URL and it does it recursively for nested jars\r\n\r\nhttps://gist.github.com/trung/2cd90faab7f75b3bcbaa\r\n    \r\n    URL urlResource = Thead.currentThread().getContextClassLoader().getResource(&quot;foo&quot;);\r\n    JarReader.read(urlResource, new InputStreamCallback() {\r\n        @Override\r\n\t\tpublic void onFile(String name, InputStream is) throws IOException {\r\n            // got file name and content stream \r\n        }\r\n    });\r\n","title":"How to list the files inside a JAR file?","body":"<p>Just a different way of listing/reading files from a jar URL and it does it recursively for nested jars</p>\n\n<p><a href=\"https://gist.github.com/trung/2cd90faab7f75b3bcbaa\" rel=\"nofollow\">https://gist.github.com/trung/2cd90faab7f75b3bcbaa</a></p>\n\n<pre><code>URL urlResource = Thead.currentThread().getContextClassLoader().getResource(\"foo\");\nJarReader.read(urlResource, new InputStreamCallback() {\n    @Override\n    public void onFile(String name, InputStream is) throws IOException {\n        // got file name and content stream \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1438596196,"creation_date":1438596196,"answer_id":31784566,"question_id":1429172,"body_markdown":"Here is an example of using [Reflections][1] library to recursively scan classpath by regex name pattern augmented with a couple of [Guava][2] perks to to fetch resources contents:\r\n\r\n    Reflections reflections = new Reflections(&quot;com.example.package&quot;, new ResourcesScanner());\r\n    Set&lt;String&gt; paths = reflections.getResources(Pattern.compile(&quot;.*\\\\.template$&quot;));\r\n\r\n    Map&lt;String, String&gt; templates = new LinkedHashMap&lt;&gt;();\r\n    for (String path : paths) {\r\n        log.info(&quot;Found &quot; + path);\r\n        String templateName = Files.getNameWithoutExtension(path);\r\n        URL resource = getClass().getClassLoader().getResource(path);\r\n        String text = Resources.toString(resource, StandardCharsets.UTF_8);\r\n        templates.put(templateName, text);\r\n    }\r\n\r\nThis works with both jars and exploded classes.\r\n\r\n\r\n  [1]: https://github.com/ronmamo/reflections\r\n  [2]: https://github.com/google/guava","title":"How to list the files inside a JAR file?","body":"<p>Here is an example of using <a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">Reflections</a> library to recursively scan classpath by regex name pattern augmented with a couple of <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> perks to to fetch resources contents:</p>\n\n<pre><code>Reflections reflections = new Reflections(\"com.example.package\", new ResourcesScanner());\nSet&lt;String&gt; paths = reflections.getResources(Pattern.compile(\".*\\\\.template$\"));\n\nMap&lt;String, String&gt; templates = new LinkedHashMap&lt;&gt;();\nfor (String path : paths) {\n    log.info(\"Found \" + path);\n    String templateName = Files.getNameWithoutExtension(path);\n    URL resource = getClass().getClassLoader().getResource(path);\n    String text = Resources.toString(resource, StandardCharsets.UTF_8);\n    templates.put(templateName, text);\n}\n</code></pre>\n\n<p>This works with both jars and exploded classes.</p>\n"},{"tags":[],"owner":{"account_id":39705,"reputation":3960,"user_id":114626,"accept_rate":54,"display_name":"Eyal Roth"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1680514268,"creation_date":1465487650,"answer_id":37730853,"question_id":1429172,"body_markdown":"I would like to expand on acheron55&#39;s [answer][1], since it is a very non-safe solution, for several reasons:\r\n\r\n 1. It doesn&#39;t close the `FileSystem` object.\r\n 2. It doesn&#39;t check if the `FileSystem` object already exists.\r\n 3. It isn&#39;t thread-safe.\r\n\r\nThis is somewhat a safer solution:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static ConcurrentMap&lt;String, Object&gt; locks = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    public void walk(String path) throws Exception {\r\n\r\n        URI uri = getClass().getResource(path).toURI();\r\n        if (&quot;jar&quot;.equals(uri.getScheme())) {\r\n            safeWalkJar(path, uri);\r\n        } else {\r\n            Files.walk(Paths.get(path));\r\n        }\r\n    }\r\n\r\n    private void safeWalkJar(String path, URI uri) throws Exception {\r\n    \r\n        synchronized (getLock(uri)) {    \r\n            // this&#39;ll close the FileSystem object at the end\r\n            try (FileSystem fs = getFileSystem(uri)) {\r\n                Files.walk(fs.getPath(path));\r\n            }\r\n        }\r\n    }\r\n    \r\n    private Object getLock(URI uri) {\r\n    \r\n        String fileName = parseFileName(uri);  \r\n        locks.computeIfAbsent(fileName, s -&gt; new Object());\r\n        return locks.get(fileName);\r\n    }\r\n    \r\n    private String parseFileName(URI uri) {\r\n        \r\n        String schemeSpecificPart = uri.getSchemeSpecificPart();\r\n        return schemeSpecificPart.substring(0, schemeSpecificPart.indexOf(&quot;!&quot;));\r\n    }\r\n    \r\n    private FileSystem getFileSystem(URI uri) throws IOException {\r\n    \r\n        try {\r\n            return FileSystems.getFileSystem(uri);\r\n        } catch (FileSystemNotFoundException e) {\r\n            return FileSystems.newFileSystem(uri, Collections.&lt;String, String&gt;emptyMap());\r\n        }\r\n    }\t\r\n\r\nThere&#39;s no real need to synchronize over the file name; one could simply synchronize on the same object every time (or make the method `synchronized`), it&#39;s purely an optimization.\r\n\r\nI would say that this is still a problematic solution, since there might be other parts in the code that use the `FileSystem` interface over the same files, and it could interfere with them (even in a single threaded application).  \r\nAlso, it doesn&#39;t check for `null`s (for instance, on `getClass().getResource()`.\r\n\r\nThis particular Java NIO interface is kind of horrible, since it introduces a global/singleton non thread-safe resource, and its documentation is extremely vague (a lot of unknowns due to provider specific implementations). Results may vary for other `FileSystem` providers (not JAR). Maybe there&#39;s a good reason for it being that way; I don&#39;t know, I haven&#39;t researched the implementations.\r\n\r\n  [1]: https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/28057735#28057735","title":"How to list the files inside a JAR file?","body":"<p>I would like to expand on acheron55's <a href=\"https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/28057735#28057735\">answer</a>, since it is a very non-safe solution, for several reasons:</p>\n<ol>\n<li>It doesn't close the <code>FileSystem</code> object.</li>\n<li>It doesn't check if the <code>FileSystem</code> object already exists.</li>\n<li>It isn't thread-safe.</li>\n</ol>\n<p>This is somewhat a safer solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static ConcurrentMap&lt;String, Object&gt; locks = new ConcurrentHashMap&lt;&gt;();\n\npublic void walk(String path) throws Exception {\n\n    URI uri = getClass().getResource(path).toURI();\n    if (&quot;jar&quot;.equals(uri.getScheme())) {\n        safeWalkJar(path, uri);\n    } else {\n        Files.walk(Paths.get(path));\n    }\n}\n\nprivate void safeWalkJar(String path, URI uri) throws Exception {\n\n    synchronized (getLock(uri)) {    \n        // this'll close the FileSystem object at the end\n        try (FileSystem fs = getFileSystem(uri)) {\n            Files.walk(fs.getPath(path));\n        }\n    }\n}\n\nprivate Object getLock(URI uri) {\n\n    String fileName = parseFileName(uri);  \n    locks.computeIfAbsent(fileName, s -&gt; new Object());\n    return locks.get(fileName);\n}\n\nprivate String parseFileName(URI uri) {\n    \n    String schemeSpecificPart = uri.getSchemeSpecificPart();\n    return schemeSpecificPart.substring(0, schemeSpecificPart.indexOf(&quot;!&quot;));\n}\n\nprivate FileSystem getFileSystem(URI uri) throws IOException {\n\n    try {\n        return FileSystems.getFileSystem(uri);\n    } catch (FileSystemNotFoundException e) {\n        return FileSystems.newFileSystem(uri, Collections.&lt;String, String&gt;emptyMap());\n    }\n}   \n</code></pre>\n<p>There's no real need to synchronize over the file name; one could simply synchronize on the same object every time (or make the method <code>synchronized</code>), it's purely an optimization.</p>\n<p>I would say that this is still a problematic solution, since there might be other parts in the code that use the <code>FileSystem</code> interface over the same files, and it could interfere with them (even in a single threaded application).<br />\nAlso, it doesn't check for <code>null</code>s (for instance, on <code>getClass().getResource()</code>.</p>\n<p>This particular Java NIO interface is kind of horrible, since it introduces a global/singleton non thread-safe resource, and its documentation is extremely vague (a lot of unknowns due to provider specific implementations). Results may vary for other <code>FileSystem</code> providers (not JAR). Maybe there's a good reason for it being that way; I don't know, I haven't researched the implementations.</p>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1476178687,"creation_date":1476178687,"answer_id":39974405,"question_id":1429172,"body_markdown":"I&#39;ve ported [acheron55&#39;s answer][1] to Java 7 and closed the `FileSystem` object.  This code works in IDE&#39;s, in jar files and in a jar inside a war on Tomcat 7; but note that it does **not** work in a jar inside a war on JBoss 7 (it gives `FileSystemNotFoundException: Provider &quot;vfs&quot; not installed`, see also [this post][2]).  Furthermore, like the original code, it is not thread safe, as suggested by [errr][3].  For these reasons I have abandoned this solution; however, if you can accept these issues, here is my ready-made code:\r\n\r\n    import java.io.IOException;\r\n    import java.net.*;\r\n    import java.nio.file.*;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    import java.util.Collections;\r\n    \r\n    public class ResourceWalker {\r\n    \r\n        public static void main(String[] args) throws URISyntaxException, IOException {\r\n            URI uri = ResourceWalker.class.getResource(&quot;/resources&quot;).toURI();\r\n            System.out.println(&quot;Starting from: &quot; + uri);\r\n            try (FileSystem fileSystem = (uri.getScheme().equals(&quot;jar&quot;) ? FileSystems.newFileSystem(uri, Collections.&lt;String, Object&gt;emptyMap()) : null)) {\r\n            \tPath myPath = Paths.get(uri);\r\n    \t        Files.walkFileTree(myPath, new SimpleFileVisitor&lt;Path&gt;() { \r\n    \t            @Override\r\n    \t            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n    \t                System.out.println(file);\r\n    \t                return FileVisitResult.CONTINUE;\r\n    \t            }\r\n    \t        });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/28057735#28057735\r\n  [2]: https://stackoverflow.com/questions/27001497/jboss-wildfly-8-x-provider-vfs-not-installed-when-using-java-nio-paths\r\n  [3]: https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/#answer-37730853","title":"How to list the files inside a JAR file?","body":"<p>I've ported <a href=\"https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/28057735#28057735\">acheron55's answer</a> to Java 7 and closed the <code>FileSystem</code> object.  This code works in IDE's, in jar files and in a jar inside a war on Tomcat 7; but note that it does <strong>not</strong> work in a jar inside a war on JBoss 7 (it gives <code>FileSystemNotFoundException: Provider \"vfs\" not installed</code>, see also <a href=\"https://stackoverflow.com/questions/27001497/jboss-wildfly-8-x-provider-vfs-not-installed-when-using-java-nio-paths\">this post</a>).  Furthermore, like the original code, it is not thread safe, as suggested by <a href=\"https://stackoverflow.com/questions/1429172/how-do-i-list-the-files-inside-a-jar-file/#answer-37730853\">errr</a>.  For these reasons I have abandoned this solution; however, if you can accept these issues, here is my ready-made code:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.*;\nimport java.nio.file.*;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.Collections;\n\npublic class ResourceWalker {\n\n    public static void main(String[] args) throws URISyntaxException, IOException {\n        URI uri = ResourceWalker.class.getResource(\"/resources\").toURI();\n        System.out.println(\"Starting from: \" + uri);\n        try (FileSystem fileSystem = (uri.getScheme().equals(\"jar\") ? FileSystems.newFileSystem(uri, Collections.&lt;String, Object&gt;emptyMap()) : null)) {\n            Path myPath = Paths.get(uri);\n            Files.walkFileTree(myPath, new SimpleFileVisitor&lt;Path&gt;() { \n                @Override\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n                    System.out.println(file);\n                    return FileVisitResult.CONTINUE;\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13245437,"reputation":21,"user_id":9564718,"display_name":"Felix G."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566675818,"creation_date":1566674631,"answer_id":57640937,"question_id":1429172,"body_markdown":"    public static ArrayList&lt;String&gt; listItems(String path) throws Exception{\r\n        InputStream in = ClassLoader.getSystemClassLoader().getResourceAsStream(path);\r\n        byte[] b = new byte[in.available()];\r\n        in.read(b);\r\n        String data = new String(b);\r\n        String[] s = data.split(&quot;\\n&quot;);\r\n        List&lt;String&gt; a = Arrays.asList(s);\r\n        ArrayList&lt;String&gt; m = new ArrayList&lt;&gt;(a);\r\n        return m;\r\n    }","title":"How to list the files inside a JAR file?","body":"<pre><code>public static ArrayList&lt;String&gt; listItems(String path) throws Exception{\n    InputStream in = ClassLoader.getSystemClassLoader().getResourceAsStream(path);\n    byte[] b = new byte[in.available()];\n    in.read(b);\n    String data = new String(b);\n    String[] s = data.split(\"\\n\");\n    List&lt;String&gt; a = Arrays.asList(s);\n    ArrayList&lt;String&gt; m = new ArrayList&lt;&gt;(a);\n    return m;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570275106,"creation_date":1570274446,"answer_id":58247828,"question_id":1429172,"body_markdown":"The most robust mechanism for listing all resources in the classpath is currently [to use this pattern with ClassGraph][1], because it handles the [widest possible array of classpath specification mechanisms][2], including the new JPMS module system. (I am the author of ClassGraph.)\r\n\r\n&gt; How to know the name of the JAR file where my main class lives?\r\n\r\n    URI mainClasspathElementURI;\r\n    try (ScanResult scanResult = new ClassGraph().whitelistPackages(&quot;x.y.z&quot;)\r\n            .enableClassInfo().scan()) {\r\n        mainClasspathElementURI =\r\n                scanResult.getClassInfo(&quot;x.y.z.MainClass&quot;).getClasspathElementURI();\r\n    }\r\n\r\n&gt; How can I read the contents of a directory in a similar fashion within a JAR file? \r\n\r\n    List&lt;String&gt; classpathElementResourcePaths;\r\n    try (ScanResult scanResult = new ClassGraph().overrideClasspath(mainClasspathElementURI)\r\n            .scan()) {\r\n        classpathElementResourcePaths = scanResult.getAllResources().getPaths();\r\n    }\r\n\r\nThere are [lots of other ways to deal with resources][3] too.\r\n\r\n\r\n  [1]: https://github.com/classgraph/classgraph/wiki/Code-examples#finding-and-reading-resource-files\r\n  [2]: https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\r\n  [3]: https://github.com/classgraph/classgraph/wiki/API:-Resource#resourcelist","title":"How to list the files inside a JAR file?","body":"<p>The most robust mechanism for listing all resources in the classpath is currently <a href=\"https://github.com/classgraph/classgraph/wiki/Code-examples#finding-and-reading-resource-files\" rel=\"nofollow noreferrer\">to use this pattern with ClassGraph</a>, because it handles the <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"nofollow noreferrer\">widest possible array of classpath specification mechanisms</a>, including the new JPMS module system. (I am the author of ClassGraph.)</p>\n\n<blockquote>\n  <p>How to know the name of the JAR file where my main class lives?</p>\n</blockquote>\n\n<pre><code>URI mainClasspathElementURI;\ntry (ScanResult scanResult = new ClassGraph().whitelistPackages(\"x.y.z\")\n        .enableClassInfo().scan()) {\n    mainClasspathElementURI =\n            scanResult.getClassInfo(\"x.y.z.MainClass\").getClasspathElementURI();\n}\n</code></pre>\n\n<blockquote>\n  <p>How can I read the contents of a directory in a similar fashion within a JAR file? </p>\n</blockquote>\n\n<pre><code>List&lt;String&gt; classpathElementResourcePaths;\ntry (ScanResult scanResult = new ClassGraph().overrideClasspath(mainClasspathElementURI)\n        .scan()) {\n    classpathElementResourcePaths = scanResult.getAllResources().getPaths();\n}\n</code></pre>\n\n<p>There are <a href=\"https://github.com/classgraph/classgraph/wiki/API:-Resource#resourcelist\" rel=\"nofollow noreferrer\">lots of other ways to deal with resources</a> too.</p>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609797620,"creation_date":1592893564,"answer_id":62528557,"question_id":1429172,"body_markdown":"One more for the road that&#39;s a bit more flexible for matching specific filenames because it uses wildcard globbing. In a functional style this could resemble:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.IOException;\r\n    import java.net.URISyntaxException;\r\n    import java.nio.file.FileSystem;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.function.Consumer;\r\n    \r\n    import static java.nio.file.FileSystems.getDefault;\r\n    import static java.nio.file.FileSystems.newFileSystem;\r\n    import static java.util.Collections.emptyMap;\r\n    \r\n    /**\r\n     * Responsible for finding file resources.\r\n     */\r\n    public class ResourceWalker {\r\n      /**\r\n       * Globbing pattern to match font names.\r\n       */\r\n      public static final String GLOB_FONTS = &quot;**.{ttf,otf}&quot;;\r\n    \r\n      /**\r\n       * @param directory The root directory to scan for files matching the glob.\r\n       * @param c         The consumer function to call for each matching path\r\n       *                  found.\r\n       * @throws URISyntaxException Could not convert the resource to a URI.\r\n       * @throws IOException        Could not walk the tree.\r\n       */\r\n      public static void walk(\r\n        final String directory, final String glob, final Consumer&lt;Path&gt; c )\r\n        throws URISyntaxException, IOException {\r\n        final var resource = ResourceWalker.class.getResource( directory );\r\n        final var matcher = getDefault().getPathMatcher( &quot;glob:&quot; + glob );\r\n    \r\n        if( resource != null ) {\r\n          final var uri = resource.toURI();\r\n          final Path path;\r\n          FileSystem fs = null;\r\n    \r\n          if( &quot;jar&quot;.equals( uri.getScheme() ) ) {\r\n            fs = newFileSystem( uri, emptyMap() );\r\n            path = fs.getPath( directory );\r\n          }\r\n          else {\r\n            path = Paths.get( uri );\r\n          }\r\n    \r\n          try( final var walk = Files.walk( path, 10 ) ) {\r\n            for( final var it = walk.iterator(); it.hasNext(); ) {\r\n              final Path p = it.next();\r\n              if( matcher.matches( p ) ) {\r\n                c.accept( p );\r\n              }\r\n            }\r\n          } finally {\r\n            if( fs != null ) { fs.close(); }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nConsider parameterizing the file extensions, left an exercise for the reader.\r\n\r\nBe careful with `Files.walk`. According to the documentation: \r\n\r\n&gt; This method must be used within a try-with-resources statement or similar control structure to ensure that the stream&#39;s open directories are closed promptly after the stream&#39;s operations have completed.\r\n\r\nLikewise, `newFileSystem` must be closed, but not before the walker has had a chance to visit the file system paths.","title":"How to list the files inside a JAR file?","body":"<p>One more for the road that's a bit more flexible for matching specific filenames because it uses wildcard globbing. In a functional style this could resemble:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.URISyntaxException;\nimport java.nio.file.FileSystem;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.function.Consumer;\n\nimport static java.nio.file.FileSystems.getDefault;\nimport static java.nio.file.FileSystems.newFileSystem;\nimport static java.util.Collections.emptyMap;\n\n/**\n * Responsible for finding file resources.\n */\npublic class ResourceWalker {\n  /**\n   * Globbing pattern to match font names.\n   */\n  public static final String GLOB_FONTS = &quot;**.{ttf,otf}&quot;;\n\n  /**\n   * @param directory The root directory to scan for files matching the glob.\n   * @param c         The consumer function to call for each matching path\n   *                  found.\n   * @throws URISyntaxException Could not convert the resource to a URI.\n   * @throws IOException        Could not walk the tree.\n   */\n  public static void walk(\n    final String directory, final String glob, final Consumer&lt;Path&gt; c )\n    throws URISyntaxException, IOException {\n    final var resource = ResourceWalker.class.getResource( directory );\n    final var matcher = getDefault().getPathMatcher( &quot;glob:&quot; + glob );\n\n    if( resource != null ) {\n      final var uri = resource.toURI();\n      final Path path;\n      FileSystem fs = null;\n\n      if( &quot;jar&quot;.equals( uri.getScheme() ) ) {\n        fs = newFileSystem( uri, emptyMap() );\n        path = fs.getPath( directory );\n      }\n      else {\n        path = Paths.get( uri );\n      }\n\n      try( final var walk = Files.walk( path, 10 ) ) {\n        for( final var it = walk.iterator(); it.hasNext(); ) {\n          final Path p = it.next();\n          if( matcher.matches( p ) ) {\n            c.accept( p );\n          }\n        }\n      } finally {\n        if( fs != null ) { fs.close(); }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Consider parameterizing the file extensions, left an exercise for the reader.</p>\n<p>Be careful with <code>Files.walk</code>. According to the documentation:</p>\n<blockquote>\n<p>This method must be used within a try-with-resources statement or similar control structure to ensure that the stream's open directories are closed promptly after the stream's operations have completed.</p>\n</blockquote>\n<p>Likewise, <code>newFileSystem</code> must be closed, but not before the walker has had a chance to visit the file system paths.</p>\n"},{"tags":[],"owner":{"account_id":2545685,"reputation":949,"user_id":2210548,"accept_rate":80,"display_name":"Kraiss"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624973823,"creation_date":1624973823,"answer_id":68179822,"question_id":1429172,"body_markdown":"Just to mention that if you are already using Spring, you can take advantage of the `PathMatchingResourcePatternResolver`.\r\n\r\nFor instance to get all the PNG files from a `images` folder in resources\r\n\r\n    ClassLoader cl = this.getClass().getClassLoader(); \r\n    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\r\n    Resource[] resources = resolver.getResources(&quot;images/*.png&quot;);\r\n    for (Resource r: resources){\r\n        logger.info(r.getFilename());\r\n        // From your example\r\n        // ImageIO.read(cl.getResource(&quot;images/&quot; + r.getFilename()));\r\n    }","title":"How to list the files inside a JAR file?","body":"<p>Just to mention that if you are already using Spring, you can take advantage of the <code>PathMatchingResourcePatternResolver</code>.</p>\n<p>For instance to get all the PNG files from a <code>images</code> folder in resources</p>\n<pre><code>ClassLoader cl = this.getClass().getClassLoader(); \nResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\nResource[] resources = resolver.getResources(&quot;images/*.png&quot;);\nfor (Resource r: resources){\n    logger.info(r.getFilename());\n    // From your example\n    // ImageIO.read(cl.getResource(&quot;images/&quot; + r.getFilename()));\n}\n</code></pre>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174973,"favorite_count":0,"down_vote_count":0,"up_vote_count":150,"accepted_answer_id":1429275,"answer_count":17,"score":150,"last_activity_date":1680514268,"creation_date":1253042920,"question_id":1429172,"body_markdown":"I have this code which reads all the files from a directory.\r\n\r\n        File textFolder = new File(&quot;text_directory&quot;);\r\n\r\n        File [] texFiles = textFolder.listFiles( new FileFilter() {\r\n               public boolean accept( File file ) {\r\n                   return file.getName().endsWith(&quot;.txt&quot;);\r\n               }\r\n        });\r\n\t\r\nIt works great. It fills the array with all the files that end with &quot;.txt&quot; from directory &quot;text_directory&quot;.\r\n\r\nHow can I read the contents of a directory in a similar fashion **within** a JAR file? \r\n\r\nSo what I really want to do is, to list  all the images inside my JAR file, so I can load them with: \r\n\r\n    ImageIO.read(this.getClass().getResource(&quot;CompanyLogo.png&quot;));\r\n\r\n(That one works because the &quot;CompanyLogo&quot; is &quot;hardcoded&quot; but the number of images inside the JAR file could be from 10 to 200 variable length.) \r\n\r\n**EDIT**\r\n\r\nSo I guess my main problem would be: How to know the **name of the JAR file** where my main class lives?\r\n\r\nGranted I could read it using `java.util.Zip`.\r\n\r\nMy Structure is like this:\r\n\r\nThey are like:\r\n\r\n    my.jar!/Main.class\r\n    my.jar!/Aux.class\r\n    my.jar!/Other.class\r\n    my.jar!/images/image01.png\r\n    my.jar!/images/image02a.png\r\n    my.jar!/images/imwge034.png\r\n    my.jar!/images/imagAe01q.png\r\n    my.jar!/META-INF/manifest \r\n\r\nRight now I&#39;m able to load for instance &quot;images/image01.png&quot; using: \r\n\r\n        ImageIO.read(this.getClass().getResource(&quot;images/image01.png));\r\n\r\nBut only because I know the file name, for the rest I have to load them dynamically.\r\n","title":"How to list the files inside a JAR file?","body":"<p>I have this code which reads all the files from a directory.</p>\n\n<pre><code>    File textFolder = new File(\"text_directory\");\n\n    File [] texFiles = textFolder.listFiles( new FileFilter() {\n           public boolean accept( File file ) {\n               return file.getName().endsWith(\".txt\");\n           }\n    });\n</code></pre>\n\n<p>It works great. It fills the array with all the files that end with \".txt\" from directory \"text_directory\".</p>\n\n<p>How can I read the contents of a directory in a similar fashion <strong>within</strong> a JAR file? </p>\n\n<p>So what I really want to do is, to list  all the images inside my JAR file, so I can load them with: </p>\n\n<pre><code>ImageIO.read(this.getClass().getResource(\"CompanyLogo.png\"));\n</code></pre>\n\n<p>(That one works because the \"CompanyLogo\" is \"hardcoded\" but the number of images inside the JAR file could be from 10 to 200 variable length.) </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>So I guess my main problem would be: How to know the <strong>name of the JAR file</strong> where my main class lives?</p>\n\n<p>Granted I could read it using <code>java.util.Zip</code>.</p>\n\n<p>My Structure is like this:</p>\n\n<p>They are like:</p>\n\n<pre><code>my.jar!/Main.class\nmy.jar!/Aux.class\nmy.jar!/Other.class\nmy.jar!/images/image01.png\nmy.jar!/images/image02a.png\nmy.jar!/images/imwge034.png\nmy.jar!/images/imagAe01q.png\nmy.jar!/META-INF/manifest \n</code></pre>\n\n<p>Right now I'm able to load for instance \"images/image01.png\" using: </p>\n\n<pre><code>    ImageIO.read(this.getClass().getResource(\"images/image01.png));\n</code></pre>\n\n<p>But only because I know the file name, for the rest I have to load them dynamically.</p>\n"},{"tags":["java","mysql","sql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1386685072,"creation_date":1386684469,"answer_id":20496658,"question_id":20496616,"body_markdown":"Besides all you should change your query like \r\n\r\n\r\n    SELECT * FROM RandomStones LIMIT 1000;\r\n\r\nOr\r\n\r\n\r\n    PreparedStatement stmt = connection.prepareStatement(qry);\r\n    stmt.setFetchSize(1000);\r\n    stmt.executeQuery();\r\n\r\n&gt;To set the fetch size for a query, call [`setFetchSize()`][1] on the statement object prior to executing the query. If you set the fetch size to N, then N rows are fetched with each trip to the database.\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/A97335_02/apps.102/a83724/resltse5.htm","title":"fetchsize in resultset set to 0 by default","body":"<p>Besides all you should change your query like </p>\n\n<pre><code>SELECT * FROM RandomStones LIMIT 1000;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>PreparedStatement stmt = connection.prepareStatement(qry);\nstmt.setFetchSize(1000);\nstmt.executeQuery();\n</code></pre>\n\n<blockquote>\n  <p>To set the fetch size for a query, call <a href=\"http://docs.oracle.com/cd/A97335_02/apps.102/a83724/resltse5.htm\" rel=\"nofollow\"><code>setFetchSize()</code></a> on the statement object prior to executing the query. If you set the fetch size to N, then N rows are fetched with each trip to the database.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1386685118,"creation_date":1386685118,"answer_id":20496877,"question_id":20496616,"body_markdown":"The MySQL JDBC driver always fetches all rows, unless the fetch size is set to `Integer.MIN_VALUE`.\r\n\r\nSee the [MySQL Connector/J JDBC API Implementation Notes][1]:\r\n\r\n&gt; By default, ResultSets are completely retrieved and stored in memory.\r\n&gt; In most cases this is the most efficient way to operate, and due to\r\n&gt; the design of the MySQL network protocol is easier to implement. If\r\n&gt; you are working with ResultSets that have a large number of rows or\r\n&gt; large values, and cannot allocate heap space in your JVM for the\r\n&gt; memory required, you can tell the driver to stream the results back\r\n&gt; one row at a time.\r\n&gt; \r\n&gt; To enable this functionality, create a Statement instance in the\r\n&gt; following manner:\r\n&gt; \r\n&gt;     stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\r\n&gt;                   java.sql.ResultSet.CONCUR_READ_ONLY);\r\n&gt;     stmt.setFetchSize(Integer.MIN_VALUE);\r\n&gt; \r\n&gt; The combination of a forward-only, read-only result set, with a fetch\r\n&gt; size of Integer.MIN_VALUE serves as a signal to the driver to stream\r\n&gt; result sets row-by-row. After this, any result sets created with the\r\n&gt; statement will be retrieved row-by-row.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.6/en/connector-j-reference-implementation-notes.html","title":"fetchsize in resultset set to 0 by default","body":"<p>The MySQL JDBC driver always fetches all rows, unless the fetch size is set to <code>Integer.MIN_VALUE</code>.</p>\n\n<p>See the <a href=\"http://dev.mysql.com/doc/refman/5.6/en/connector-j-reference-implementation-notes.html\">MySQL Connector/J JDBC API Implementation Notes</a>:</p>\n\n<blockquote>\n  <p>By default, ResultSets are completely retrieved and stored in memory.\n  In most cases this is the most efficient way to operate, and due to\n  the design of the MySQL network protocol is easier to implement. If\n  you are working with ResultSets that have a large number of rows or\n  large values, and cannot allocate heap space in your JVM for the\n  memory required, you can tell the driver to stream the results back\n  one row at a time.</p>\n  \n  <p>To enable this functionality, create a Statement instance in the\n  following manner:</p>\n\n<pre><code>stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\n              java.sql.ResultSet.CONCUR_READ_ONLY);\nstmt.setFetchSize(Integer.MIN_VALUE);\n</code></pre>\n  \n  <p>The combination of a forward-only, read-only result set, with a fetch\n  size of Integer.MIN_VALUE serves as a signal to the driver to stream\n  result sets row-by-row. After this, any result sets created with the\n  statement will be retrieved row-by-row.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2583296,"reputation":11,"user_id":2239510,"display_name":"Bolt Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546587923,"creation_date":1546587923,"answer_id":54034893,"question_id":20496616,"body_markdown":"In [MySQL connector-j 5.1 implementation notes][1], they said there are 2 ways to handle this situation.\r\n\r\n[enter image description here][2]\r\n\r\nThe 1st is to make the statement retrieve data row by row, the 2nd can support batch retrieve.\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html\r\n  [2]: https://i.stack.imgur.com/btDrY.png","title":"fetchsize in resultset set to 0 by default","body":"<p>In <a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow noreferrer\">MySQL connector-j 5.1 implementation notes</a>, they said there are 2 ways to handle this situation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/btDrY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>The 1st is to make the statement retrieve data row by row, the 2nd can support batch retrieve.</p>\n"},{"tags":[],"owner":{"account_id":4135644,"reputation":365,"user_id":3392380,"display_name":"Sodrul Amin Shaon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680513886,"creation_date":1680513886,"answer_id":75917881,"question_id":20496616,"body_markdown":"According to the [mysql performance enhancement documents][1] we must set `useCursorFetch` connection property to `true`. Only then, `setFetchSize` will work on statement object. For example, look at the code snipped below.\r\n\r\n\r\n    DriverManager.registerDriver((Driver) Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance());\r\n    \r\n    Properties properties = new Properties();\r\n    properties.setProperty(&quot;user&quot;, &quot;USERNAME&quot;);\r\n    properties.setProperty(&quot;password&quot;, &quot;PASSWORD&quot;);\r\n    properties.setProperty(&quot;useCursorFetch&quot;, &quot;true&quot;);\r\n    \r\n    Connection conn = DriverManager.getConnection(DB_URL, properties);\r\n    \r\n    Statement statement = conn.createStatement();\r\n    statement.setFetchSize(100);\r\n    \r\n    ResultSet resultSet = statement.executeQuery(SELECT_QUERY);\r\n    \r\n    System.out.println(&quot;Fetch size in resultSet: &quot; + resultSet.getFetchSize());\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-performance-extensions.html#cj-conn-prop_useCursorFetch","title":"fetchsize in resultset set to 0 by default","body":"<p>According to the <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-performance-extensions.html#cj-conn-prop_useCursorFetch\" rel=\"nofollow noreferrer\">mysql performance enhancement documents</a> we must set <code>useCursorFetch</code> connection property to <code>true</code>. Only then, <code>setFetchSize</code> will work on statement object. For example, look at the code snipped below.</p>\n<pre><code>DriverManager.registerDriver((Driver) Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance());\n\nProperties properties = new Properties();\nproperties.setProperty(&quot;user&quot;, &quot;USERNAME&quot;);\nproperties.setProperty(&quot;password&quot;, &quot;PASSWORD&quot;);\nproperties.setProperty(&quot;useCursorFetch&quot;, &quot;true&quot;);\n\nConnection conn = DriverManager.getConnection(DB_URL, properties);\n\nStatement statement = conn.createStatement();\nstatement.setFetchSize(100);\n\nResultSet resultSet = statement.executeQuery(SELECT_QUERY);\n\nSystem.out.println(&quot;Fetch size in resultSet: &quot; + resultSet.getFetchSize());\n</code></pre>\n"}],"owner":{"account_id":1384959,"reputation":8191,"user_id":1317240,"accept_rate":69,"display_name":"Aman Deep Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11803,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20496877,"answer_count":4,"score":3,"last_activity_date":1680513886,"creation_date":1386684352,"question_id":20496616,"body_markdown":"I have to query a database and result set is very big. I am using `MySQL` as data base. To avoid the &quot;OutOfMemoryError&quot; after a lot of search I got two options: One using `LIMIT`(specific to database) and other is using `jdbc` fetchSize attribute.\r\n\r\nI have tested the option 1(`LIMIT`) an it is working but it is not the desired solution. I do not want to do it.\r\n\r\nUsing `jdbc` I found out that `ResultSet` size is set to 0 by default. How can I change this to some other value. I tried the following:\r\n\r\na) First Try:\r\n\r\n    rs = preparedStatement.executeQuery();\r\n    rs.setFetchSize(1000);  //Not possible as exception occurs before.\r\n\r\nb) Second T Even if this is not there then also I need to communicate to databse multiple timry:\r\n\r\n    rs.setFetchSize(1000);  //Null pointer exception(rs is null).\r\n    rs = preparedStatement.executeQuery();\r\n\r\nc) Third Try:\r\n\r\n    preparedStatement = dbConnection.createStatement(query);\r\n\tpreparedStatement.setFetchSize(1000);\r\n\r\nNone of this is working. Any help appreciated!\r\n\r\n**Edit:**\r\n\r\nI do not want a solution using limit because:\r\na) I have millions of rows in my result set. Now doing multiple query is slow. My assumption is that database takes multiple queries like \r\n\r\n    SELECT *  FROM a LIMIT 0, 1000\r\n    SELECT *  FROM a LIMIT 1000, 2000\r\n\r\nas two different queries.\r\n\r\nb) The code is looks messy because you need to have additional counters.","title":"fetchsize in resultset set to 0 by default","body":"<p>I have to query a database and result set is very big. I am using <code>MySQL</code> as data base. To avoid the \"OutOfMemoryError\" after a lot of search I got two options: One using <code>LIMIT</code>(specific to database) and other is using <code>jdbc</code> fetchSize attribute.</p>\n\n<p>I have tested the option 1(<code>LIMIT</code>) an it is working but it is not the desired solution. I do not want to do it.</p>\n\n<p>Using <code>jdbc</code> I found out that <code>ResultSet</code> size is set to 0 by default. How can I change this to some other value. I tried the following:</p>\n\n<p>a) First Try:</p>\n\n<pre><code>rs = preparedStatement.executeQuery();\nrs.setFetchSize(1000);  //Not possible as exception occurs before.\n</code></pre>\n\n<p>b) Second T Even if this is not there then also I need to communicate to databse multiple timry:</p>\n\n<pre><code>rs.setFetchSize(1000);  //Null pointer exception(rs is null).\nrs = preparedStatement.executeQuery();\n</code></pre>\n\n<p>c) Third Try:</p>\n\n<pre><code>preparedStatement = dbConnection.createStatement(query);\npreparedStatement.setFetchSize(1000);\n</code></pre>\n\n<p>None of this is working. Any help appreciated!</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I do not want a solution using limit because:\na) I have millions of rows in my result set. Now doing multiple query is slow. My assumption is that database takes multiple queries like </p>\n\n<pre><code>SELECT *  FROM a LIMIT 0, 1000\nSELECT *  FROM a LIMIT 1000, 2000\n</code></pre>\n\n<p>as two different queries.</p>\n\n<p>b) The code is looks messy because you need to have additional counters.</p>\n"},{"tags":["java","jpa","persistence","toplink"],"answers":[{"tags":[],"owner":{"display_name":"Chris"},"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1466392494,"creation_date":1250459706,"answer_id":1285436,"question_id":1158159,"body_markdown":"After `&lt;persistence-unit name=&quot;agisdb&quot;&gt;`, define the persistence provider name:\r\n\r\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n","title":"No Persistence provider for EntityManager named","body":"<p>After <code>&lt;persistence-unit name=\"agisdb\"&gt;</code>, define the persistence provider name:</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79758,"reputation":824,"user_id":225932,"display_name":"user225932"},"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1466668899,"creation_date":1260131348,"answer_id":1856503,"question_id":1158159,"body_markdown":"Make sure that the `persistence.xml` file is in the directory: `&lt;webroot&gt;/WEB-INF/classes/META-INF` ","title":"No Persistence provider for EntityManager named","body":"<p>Make sure that the <code>persistence.xml</code> file is in the directory: <code>&lt;webroot&gt;/WEB-INF/classes/META-INF</code> </p>\n"},{"tags":[],"owner":{"account_id":99858,"reputation":903,"user_id":269514,"display_name":"Gilberto"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1273782802,"creation_date":1273782802,"answer_id":2830108,"question_id":1158159,"body_markdown":"Maybe you defined one provider like `&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;` but referencing another one in jar. That happened with me: my persistence.xml provider was openjpa but I was using eclipselink in my classpath.\r\nHope this help!","title":"No Persistence provider for EntityManager named","body":"<p>Maybe you defined one provider like <code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;</code> but referencing another one in jar. That happened with me: my persistence.xml provider was openjpa but I was using eclipselink in my classpath.\nHope this help!</p>\n"},{"tags":[],"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1277486787,"creation_date":1277486787,"answer_id":3120061,"question_id":1158159,"body_markdown":"Corner case: if you are using m2Eclipse, it automatically puts in excludes on your resources folders. Then when you try to run tests inside eclipse, the subsequent absence of persistence.xml will produce this error.","title":"No Persistence provider for EntityManager named","body":"<p>Corner case: if you are using m2Eclipse, it automatically puts in excludes on your resources folders. Then when you try to run tests inside eclipse, the subsequent absence of persistence.xml will produce this error.</p>\n"},{"tags":[],"owner":{"account_id":646969,"reputation":21,"user_id":428505,"display_name":"mahesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362529050,"creation_date":1282573920,"answer_id":3548530,"question_id":1158159,"body_markdown":"It happenes when the entity manager is trying to point to many persistence units. Do the following steps:\r\n\r\n 1. open the related file in your editor (provided your project has been closed in your IDE)\r\n 2. delete all the persistence and entity manager related code\r\n 3. save the file\r\n 4. open the project in your IDE\r\n 5. now bind the db or table of your choice","title":"No Persistence provider for EntityManager named","body":"<p>It happenes when the entity manager is trying to point to many persistence units. Do the following steps:</p>\n\n<ol>\n<li>open the related file in your editor (provided your project has been closed in your IDE)</li>\n<li>delete all the persistence and entity manager related code</li>\n<li>save the file</li>\n<li>open the project in your IDE</li>\n<li>now bind the db or table of your choice</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":281453,"reputation":2359,"user_id":577769,"display_name":"Ualter Jr."},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1498743599,"creation_date":1298659008,"answer_id":5121210,"question_id":1158159,"body_markdown":"Put the `&quot;hibernate-entitymanager.jar&quot;` in the classpath of application.  \r\nFor newer versions, you should use `&quot;hibernate-core.jar&quot;` instead of the deprecated `hibernate-entitymanager`\r\n\r\nIf you are running through some IDE, like **Eclipse**: `Project Properties -&gt; Java Build Path -&gt; Libraries.` \r\n\r\nOtherwise put it in the `/lib` of your application.","title":"No Persistence provider for EntityManager named","body":"<p>Put the <code>\"hibernate-entitymanager.jar\"</code> in the classpath of application.<br>\nFor newer versions, you should use <code>\"hibernate-core.jar\"</code> instead of the deprecated <code>hibernate-entitymanager</code></p>\n\n<p>If you are running through some IDE, like <strong>Eclipse</strong>: <code>Project Properties -&gt; Java Build Path -&gt; Libraries.</code> </p>\n\n<p>Otherwise put it in the <code>/lib</code> of your application.</p>\n"},{"tags":[],"owner":{"account_id":52933,"reputation":572,"user_id":158258,"display_name":"R&#243;n&#225;n &#211; Braon&#225;in"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305192332,"creation_date":1305192332,"answer_id":5975921,"question_id":1158159,"body_markdown":"The question has been answered already, but just wanted to post a tip that was holding me up. This exception was being thrown after previous errors. I was getting this:\r\n\r\n    property toplink.platform.class.name is deprecated, property toplink.target-database should be used instead.\r\n\r\nEven though I had changed the persistence.xml to include the new property name:\r\n\r\n    &lt;property name=&quot;toplink.target-database&quot; value=&quot;oracle.toplink.platform.database.oracle.Oracle10Platform&quot;/&gt;\r\n\r\nFollowing the message about the deprecated property name I was getting the same PersistenceException like above and a whole other string of exceptions. My tip: make sure to check the beginning of the exception sausage.\r\n\r\nThere seems to be a bug in Glassfish v2.1.1 where redeploys or undeploys and deploys are not updating the persistence.xml, which is being cached somewhere. I had to restart the server and then it worked.","title":"No Persistence provider for EntityManager named","body":"<p>The question has been answered already, but just wanted to post a tip that was holding me up. This exception was being thrown after previous errors. I was getting this:</p>\n\n<pre><code>property toplink.platform.class.name is deprecated, property toplink.target-database should be used instead.\n</code></pre>\n\n<p>Even though I had changed the persistence.xml to include the new property name:</p>\n\n<pre><code>&lt;property name=\"toplink.target-database\" value=\"oracle.toplink.platform.database.oracle.Oracle10Platform\"/&gt;\n</code></pre>\n\n<p>Following the message about the deprecated property name I was getting the same PersistenceException like above and a whole other string of exceptions. My tip: make sure to check the beginning of the exception sausage.</p>\n\n<p>There seems to be a bug in Glassfish v2.1.1 where redeploys or undeploys and deploys are not updating the persistence.xml, which is being cached somewhere. I had to restart the server and then it worked.</p>\n"},{"tags":[],"owner":{"account_id":537173,"reputation":2954,"user_id":905817,"accept_rate":64,"display_name":"col.panic"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1481640519,"creation_date":1314188206,"answer_id":7175247,"question_id":1158159,"body_markdown":"There is another point: If you face this problem within an Eclipse RCP environment, you might have to change the Factory generation from `Persistence.createEntityManagerFactory` to `new PersistenceProvider().createEntityManagerFactory`\r\n\r\nsee [ECF][1] for a detailed discussion on this.\r\n\r\n\r\n  [1]: http://www.eclipse.org/forums/index.php?t=msg&amp;goto=541155&amp;","title":"No Persistence provider for EntityManager named","body":"<p>There is another point: If you face this problem within an Eclipse RCP environment, you might have to change the Factory generation from <code>Persistence.createEntityManagerFactory</code> to <code>new PersistenceProvider().createEntityManagerFactory</code></p>\n\n<p>see <a href=\"http://www.eclipse.org/forums/index.php?t=msg&amp;goto=541155&amp;\" rel=\"nofollow noreferrer\">ECF</a> for a detailed discussion on this.</p>\n"},{"tags":[],"owner":{"account_id":1067409,"reputation":31,"user_id":1067570,"display_name":"harcharan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1322366360,"creation_date":1322366360,"answer_id":8283556,"question_id":1158159,"body_markdown":"Make sure you have created persistence.xml file under the &#39;src&#39; folder. I created under the project folder and that was my problem.","title":"No Persistence provider for EntityManager named","body":"<p>Make sure you have created persistence.xml file under the 'src' folder. I created under the project folder and that was my problem.</p>\n"},{"tags":[],"owner":{"account_id":408635,"reputation":1045,"user_id":779419,"display_name":"schieferstapel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350552874,"creation_date":1350552874,"answer_id":12951518,"question_id":1158159,"body_markdown":"In an OSGi-context, it&#39;s necessary to list your persistence units in the bundle&#39;s MANIFEST.MF, e.g.\r\n\r\n    JPA-PersistenceUnits: my-persistence-unit\r\n\r\nOtherwise, the JPA-bundle won&#39;t know your bundle contains persistence units.\r\n\r\nSee http://wiki.eclipse.org/EclipseLink/Examples/OSGi/Developing_with_EclipseLink_OSGi_in_PDE .\r\n","title":"No Persistence provider for EntityManager named","body":"<p>In an OSGi-context, it's necessary to list your persistence units in the bundle's MANIFEST.MF, e.g.</p>\n\n<pre><code>JPA-PersistenceUnits: my-persistence-unit\n</code></pre>\n\n<p>Otherwise, the JPA-bundle won't know your bundle contains persistence units.</p>\n\n<p>See <a href=\"http://wiki.eclipse.org/EclipseLink/Examples/OSGi/Developing_with_EclipseLink_OSGi_in_PDE\" rel=\"nofollow\">http://wiki.eclipse.org/EclipseLink/Examples/OSGi/Developing_with_EclipseLink_OSGi_in_PDE</a> .</p>\n"},{"tags":[],"owner":{"account_id":980935,"reputation":11,"user_id":1000668,"display_name":"yeafee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372509366,"creation_date":1372509009,"answer_id":17380177,"question_id":1158159,"body_markdown":"You need the following jar files in the classpath:\r\n\r\n 1. antlr-2.7.6.jar \r\n 2. commons-collections-3.1.jar\r\n 3. dom4j-1.6.1.jar \r\n 4. hibernate-commons-annotations-4.0.1.Final.jar \r\n 5. hibernate-core-4.0.1.Final.jar \r\n 6. hibernate-entitymanager.jar \r\n 7. hibernate-jpa-2.0-api-1.0.0.Final.jar \r\n 8. javassist-3.9.0.jar \r\n 9. jboss-logging-3.1.1.GA.jar  \r\n 10. jta-1.1.jar \r\n 11. slf4j-api-1.5.8.jar \r\n 12. xxx-jdbc-driver.jar\r\n\r\n","title":"No Persistence provider for EntityManager named","body":"<p>You need the following jar files in the classpath:</p>\n\n<ol>\n<li>antlr-2.7.6.jar </li>\n<li>commons-collections-3.1.jar</li>\n<li>dom4j-1.6.1.jar </li>\n<li>hibernate-commons-annotations-4.0.1.Final.jar </li>\n<li>hibernate-core-4.0.1.Final.jar </li>\n<li>hibernate-entitymanager.jar </li>\n<li>hibernate-jpa-2.0-api-1.0.0.Final.jar </li>\n<li>javassist-3.9.0.jar </li>\n<li>jboss-logging-3.1.1.GA.jar  </li>\n<li>jta-1.1.jar </li>\n<li>slf4j-api-1.5.8.jar </li>\n<li>xxx-jdbc-driver.jar</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3271176,"reputation":8031,"user_id":2754530,"display_name":"wypieprz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378479927,"creation_date":1378479927,"answer_id":18660896,"question_id":1158159,"body_markdown":"If you are using Eclipse make sure that exclusion pattern does not remove your `persistence.xml` from source folders on build path.&lt;br&gt;\r\n\r\n1. Go to **Properties -&gt; Java Build Path -&gt; Source** tab\r\n2. Check your exclusion pattern which is located at&lt;br&gt;`MyProject/src/main/java -&gt; Excluded: &lt;your_pattern&gt;`&lt;br&gt;tree node\r\n3. Optionally, set it to `Excluded: (None)` by selecting the node and clicking **Edit...** button on the left.\r\n\r\n\r\n\r\n\r\n","title":"No Persistence provider for EntityManager named","body":"<p>If you are using Eclipse make sure that exclusion pattern does not remove your <code>persistence.xml</code> from source folders on build path.<br></p>\n\n<ol>\n<li>Go to <strong>Properties -> Java Build Path -> Source</strong> tab</li>\n<li>Check your exclusion pattern which is located at<br><code>MyProject/src/main/java -&gt; Excluded: &lt;your_pattern&gt;</code><br>tree node</li>\n<li>Optionally, set it to <code>Excluded: (None)</code> by selecting the node and clicking <strong>Edit...</strong> button on the left.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1153814,"reputation":3543,"user_id":1134961,"accept_rate":50,"display_name":"technocrat"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1382237735,"creation_date":1382237735,"answer_id":19473423,"question_id":1158159,"body_markdown":"I needed this in my pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.2.6.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"No Persistence provider for EntityManager named","body":"<p>I needed this in my pom.xml file:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;4.2.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1394100909,"creation_date":1394100909,"answer_id":22221342,"question_id":1158159,"body_markdown":"Quick advice:\r\n\r\n- check if persistence.xml is in your classpath\r\n- check if hibernate provider is in your classpath\r\n\r\nWith using JPA in standalone application (outside of JavaEE), a persistence provider needs to be specified somewhere. This can be done in two ways that I know of:\r\n\r\n- either add provider element into the persistence unit: `&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;` (as described in correct answere by Chris: https://stackoverflow.com/a/1285436/784594)\r\n- or provider for interface javax.persistence.spi.PersistenceProvider must be specified as a service, see here: http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html (this is usually included when you include hibernate,or another JPA implementation, into your classpath\r\n\r\nIn my case, I found out that due to maven misconfiguration, hibernate-entitymanager jar was not included as a dependency, even if it was a transient dependency of other module.","title":"No Persistence provider for EntityManager named","body":"<p>Quick advice:</p>\n\n<ul>\n<li>check if persistence.xml is in your classpath</li>\n<li>check if hibernate provider is in your classpath</li>\n</ul>\n\n<p>With using JPA in standalone application (outside of JavaEE), a persistence provider needs to be specified somewhere. This can be done in two ways that I know of:</p>\n\n<ul>\n<li>either add provider element into the persistence unit: <code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;</code> (as described in correct answere by Chris: <a href=\"https://stackoverflow.com/a/1285436/784594\">https://stackoverflow.com/a/1285436/784594</a>)</li>\n<li>or provider for interface javax.persistence.spi.PersistenceProvider must be specified as a service, see here: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html</a> (this is usually included when you include hibernate,or another JPA implementation, into your classpath</li>\n</ul>\n\n<p>In my case, I found out that due to maven misconfiguration, hibernate-entitymanager jar was not included as a dependency, even if it was a transient dependency of other module.</p>\n"},{"tags":[],"owner":{"account_id":1821370,"reputation":3732,"user_id":1655365,"display_name":"E_X"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397391053,"creation_date":1397388704,"answer_id":23042200,"question_id":1158159,"body_markdown":"I faced the same problem, but on [EclipseLink version 2.5.0][1].\r\n\r\nI solved my problem by adding yet another jar file which was necessarily (**javax.persistence_2.1.0.v201304241213.jar.jar**);\r\n\r\nJars needed:&lt;br&gt;\r\n     - javax.persistence_2.1.0.v201304241213.jar&lt;br&gt;\r\n     - eclipselink.jar&lt;br&gt;\r\n     - jdbc.jar (depending on the database used).&lt;br&gt;\r\n\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipselink/","title":"No Persistence provider for EntityManager named","body":"<p>I faced the same problem, but on <a href=\"https://www.eclipse.org/eclipselink/\" rel=\"nofollow\">EclipseLink version 2.5.0</a>.</p>\n\n<p>I solved my problem by adding yet another jar file which was necessarily (<strong>javax.persistence_2.1.0.v201304241213.jar.jar</strong>);</p>\n\n<p>Jars needed:<br>\n     - javax.persistence_2.1.0.v201304241213.jar<br>\n     - eclipselink.jar<br>\n     - jdbc.jar (depending on the database used).<br></p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2168496,"reputation":3257,"user_id":1921062,"accept_rate":84,"display_name":"Ludovic Guillaume"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398414627,"creation_date":1398414627,"answer_id":23288034,"question_id":1158159,"body_markdown":"I also had this error but the issue was the namespace uri in the `persistence.xml`.\r\n\r\nI replaced `http://xmlns.jcp.org/xml/ns/persistence` to `http://java.sun.com/xml/ns/persistence` and the version 2.1 to 2.0.\r\n\r\nIt&#39;s now working.","title":"No Persistence provider for EntityManager named","body":"<p>I also had this error but the issue was the namespace uri in the <code>persistence.xml</code>.</p>\n\n<p>I replaced <code>http://xmlns.jcp.org/xml/ns/persistence</code> to <code>http://java.sun.com/xml/ns/persistence</code> and the version 2.1 to 2.0.</p>\n\n<p>It's now working.</p>\n"},{"tags":[],"owner":{"account_id":4324171,"reputation":2565,"user_id":3531437,"accept_rate":67,"display_name":"vijayinani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401046580,"creation_date":1401046580,"answer_id":23859218,"question_id":1158159,"body_markdown":"You need to add the hibernate-entitymanager-x.jar in the classpath.\r\n\r\nIn Hibernate 4.x, if the jar is present, then no need to add the &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt; in persistence.xml file.\r\n","title":"No Persistence provider for EntityManager named","body":"<p>You need to add the hibernate-entitymanager-x.jar in the classpath.</p>\n\n<p>In Hibernate 4.x, if the jar is present, then no need to add the org.hibernate.ejb.HibernatePersistence in persistence.xml file.</p>\n"},{"tags":[],"owner":{"account_id":2986718,"reputation":443,"user_id":2535334,"display_name":"Zakaria Bouazza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401181917,"creation_date":1401181917,"answer_id":23885375,"question_id":1158159,"body_markdown":"I just copied the META-INF into src and worked!","title":"No Persistence provider for EntityManager named","body":"<p>I just copied the META-INF into src and worked!</p>\n"},{"tags":[],"owner":{"account_id":2844304,"reputation":895,"user_id":2443142,"accept_rate":83,"display_name":"burseaner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412245527,"creation_date":1412245527,"answer_id":26158882,"question_id":1158159,"body_markdown":"If there are different names in `Persistence.createEntityManagerFactory(&quot;JPAService&quot;)` in different classes than you get the error. **By refactoring it is possible to get different names** which was in my case. In one class the auto-generated `Persistence.createEntityManagerFactory(&quot;JPAService&quot;)`in `private void initComponents()`, ContactsTable class differed from `Persistence.createEntityManagerFactory(&quot;JPAServiceExtended&quot;)` in DBManager class.\r\n\r\n","title":"No Persistence provider for EntityManager named","body":"<p>If there are different names in <code>Persistence.createEntityManagerFactory(\"JPAService\")</code> in different classes than you get the error. <strong>By refactoring it is possible to get different names</strong> which was in my case. In one class the auto-generated <code>Persistence.createEntityManagerFactory(\"JPAService\")</code>in <code>private void initComponents()</code>, ContactsTable class differed from <code>Persistence.createEntityManagerFactory(\"JPAServiceExtended\")</code> in DBManager class.</p>\n"},{"tags":[],"owner":{"account_id":6354047,"reputation":580,"user_id":4932044,"display_name":"Pramod Kumar Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481025213,"creation_date":1481025213,"answer_id":40994767,"question_id":1158159,"body_markdown":"**Hibernate 5.2.5**    \r\nJar Files Required in the class path. This is within a required folder of Hibernate 5.2.5 Final release. It can be downloaded from &lt;http://hibernate.org/orm/downloads/&gt;\r\n\r\n1. antlr-2.7.7 \r\n2. cdi-api-1.1 \r\n3. classmate-1.3.0\r\n4. dom4j-1.6.1\r\n5. el-api-2.2\r\n6. geronimo-jta_1.1_spec-1.1.1\r\n7. hibernate-commons-annotation-5.0.1.Final\r\n8. hibernate-core-5.2.5.Final\r\n9. hibernate-jpa-2.1-api-1.0.0.Final\r\n10. jandex-2.0.3.Final\r\n11. javassist-3.20.0-GA\r\n12. javax.inject-1\r\n13. jboss-interceptor-api_1.1_spec-1.0.0.Beta1\r\n14. jboss-logging-3.3.0.Final\r\n15. jsr250-api-1.0\r\n\r\nCreate an xml file **&quot;persistence.xml&quot;** in \r\n\r\n**YourProject/src/META-INF/persistence.xml**\r\n\r\npersistence.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n             http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n             version=&quot;2.1&quot;&gt;\r\n             \r\n    &lt;persistence-unit name=&quot;sample&quot;&gt;\r\n    \t\r\n    \t&lt;class&gt;org.pramod.data.object.UserDetail&lt;/class&gt;\r\n    \t&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/hibernate_project&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot;/&gt;\r\n            \r\n            &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot; value=&quot;false&quot;/&gt;\r\n            \r\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\n1. please note down the information mentioned in the &lt; persistance &gt; tag and version should be 2.1.\r\n2. please note the name &lt; persistance-unit &gt; tag, name is mentioned as **&quot;sample&quot;**. This name needs to be used exactly same while loading your \r\n\r\n**EntityManagerFactor = Persistance.createEntityManagerFactory(&quot;sample&quot;);**. &quot;sample&quot; can be changed as per your naming convention.\r\n\r\nNow create a Entity class. with name as per my example UserDetail, in the package **org.pramod.data.object**\r\n\r\n\r\nUserDetail.java\r\n\r\n    package org.pramod.data.object;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_detail&quot;)\r\n    public class UserDetail {\r\n\t    @Id\r\n        @Column(name=&quot;user_id&quot;)\r\n\t    private int id;\r\n        @Column(name=&quot;user_name&quot;)\r\n\t    private String userName;\r\n\t\r\n\t    public int getId() {\r\n\t\t    return id;\r\n\t    }\r\n\t    public void setId(int id) {\r\n\t\t    this.id = id;\r\n\t    }\r\n\t    public String getUserName() {\r\n\t\t    return userName;\r\n\t    }\r\n\t    public void setUserName(String userName) {\r\n\t\t    this.userName = userName;\r\n\t    }\t\r\n\t    @Override\r\n\t    public String toString() {\r\n\t\t   return &quot;UserDetail [id=&quot; + id + &quot;, userName=&quot; + userName + &quot;]&quot;;\r\n\t    }\r\n    }\r\n\r\nNow create a class with main method. \r\n\r\nHibernateTest.java\r\n\r\n    package org.pramod.hibernate;\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    import org.pramod.data.object.UserDetail;\r\n\r\n    public class HibernateTest {\r\n\t    private static EntityManagerFactory entityManagerFactory;\r\n\t\r\n\t    public static void main(String[] args)  {\r\n\t\t    UserDetail user = new UserDetail();\r\n\t\t    user.setId(1);\r\n\t\t    user.setUserName(&quot;Pramod Sharma&quot;);\r\n\t\t\r\n\t\t    try {\r\n\t\t\t    entityManagerFactory = Persistence.createEntityManagerFactory(&quot;sample&quot;);\r\n\t\t\t    EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\t\t\t    entityManager.getTransaction().begin();\r\n\t\t\t    entityManager.persist( user );\r\n\t\t\t    entityManager.getTransaction().commit();\r\n\t\t\t    System.out.println(&quot;successfull&quot;);\r\n\t\t\t    entityManager.close();\r\n\t\t    } catch (Exception e) {\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n\t\t\r\n\t    }\r\n\r\n    }\r\n\r\nOutput will be\r\n\r\n    UserDetail [id=1, userName=Pramod Sharma]\r\n    Hibernate: drop table if exists user_details\r\n    Hibernate: create table user_details (user_id integer not null, user_name varchar(255), primary key (user_id))\r\n    Hibernate: insert into user_details (user_name, user_id) values (?, ?)\r\n    successfull","title":"No Persistence provider for EntityManager named","body":"<p><strong>Hibernate 5.2.5</strong><br>\nJar Files Required in the class path. This is within a required folder of Hibernate 5.2.5 Final release. It can be downloaded from <a href=\"http://hibernate.org/orm/downloads/\" rel=\"nofollow noreferrer\">http://hibernate.org/orm/downloads/</a></p>\n\n<ol>\n<li>antlr-2.7.7 </li>\n<li>cdi-api-1.1 </li>\n<li>classmate-1.3.0</li>\n<li>dom4j-1.6.1</li>\n<li>el-api-2.2</li>\n<li>geronimo-jta_1.1_spec-1.1.1</li>\n<li>hibernate-commons-annotation-5.0.1.Final</li>\n<li>hibernate-core-5.2.5.Final</li>\n<li>hibernate-jpa-2.1-api-1.0.0.Final</li>\n<li>jandex-2.0.3.Final</li>\n<li>javassist-3.20.0-GA</li>\n<li>javax.inject-1</li>\n<li>jboss-interceptor-api_1.1_spec-1.0.0.Beta1</li>\n<li>jboss-logging-3.3.0.Final</li>\n<li>jsr250-api-1.0</li>\n</ol>\n\n<p>Create an xml file <strong>\"persistence.xml\"</strong> in </p>\n\n<p><strong>YourProject/src/META-INF/persistence.xml</strong></p>\n\n<p>persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;persistence xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence\n         http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"\n         version=\"2.1\"&gt;\n\n&lt;persistence-unit name=\"sample\"&gt;\n\n    &lt;class&gt;org.pramod.data.object.UserDetail&lt;/class&gt;\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n        &lt;property name=\"hibernate.connection.driver_class\" value=\"com.mysql.jdbc.Driver\"/&gt;\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQLDialect\"/&gt;\n        &lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://localhost:3306/hibernate_project\"/&gt;\n        &lt;property name=\"hibernate.connection.username\" value=\"root\"/&gt;\n        &lt;property name=\"hibernate.connection.password\" value=\"root\"/&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create-drop\"/&gt;\n        &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n        &lt;property name=\"hibernate.format_sql\" value=\"false\"/&gt;\n\n        &lt;property name=\"hibernate.cache.use_second_level_cache\" value=\"false\"/&gt;\n\n        &lt;property name=\"hibernate.archive.autodetection\" value=\"true\"/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<ol>\n<li>please note down the information mentioned in the &lt; persistance > tag and version should be 2.1.</li>\n<li>please note the name &lt; persistance-unit > tag, name is mentioned as <strong>\"sample\"</strong>. This name needs to be used exactly same while loading your </li>\n</ol>\n\n<p><strong>EntityManagerFactor = Persistance.createEntityManagerFactory(\"sample\");</strong>. \"sample\" can be changed as per your naming convention.</p>\n\n<p>Now create a Entity class. with name as per my example UserDetail, in the package <strong>org.pramod.data.object</strong></p>\n\n<p>UserDetail.java</p>\n\n<pre><code>package org.pramod.data.object;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"user_detail\")\npublic class UserDetail {\n    @Id\n    @Column(name=\"user_id\")\n    private int id;\n    @Column(name=\"user_name\")\n    private String userName;\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getUserName() {\n        return userName;\n    }\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }   \n    @Override\n    public String toString() {\n       return \"UserDetail [id=\" + id + \", userName=\" + userName + \"]\";\n    }\n}\n</code></pre>\n\n<p>Now create a class with main method. </p>\n\n<p>HibernateTest.java</p>\n\n<pre><code>package org.pramod.hibernate;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\nimport org.pramod.data.object.UserDetail;\n\npublic class HibernateTest {\n    private static EntityManagerFactory entityManagerFactory;\n\n    public static void main(String[] args)  {\n        UserDetail user = new UserDetail();\n        user.setId(1);\n        user.setUserName(\"Pramod Sharma\");\n\n        try {\n            entityManagerFactory = Persistence.createEntityManagerFactory(\"sample\");\n            EntityManager entityManager = entityManagerFactory.createEntityManager();\n            entityManager.getTransaction().begin();\n            entityManager.persist( user );\n            entityManager.getTransaction().commit();\n            System.out.println(\"successfull\");\n            entityManager.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Output will be</p>\n\n<pre><code>UserDetail [id=1, userName=Pramod Sharma]\nHibernate: drop table if exists user_details\nHibernate: create table user_details (user_id integer not null, user_name varchar(255), primary key (user_id))\nHibernate: insert into user_details (user_name, user_id) values (?, ?)\nsuccessfull\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1803471,"reputation":71,"user_id":1641163,"display_name":"esfandia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481790771,"creation_date":1481790771,"answer_id":41159628,"question_id":1158159,"body_markdown":"If you&#39;re using Maven, it could be that it is not looking at the right place for the META-INF folder. Others have mentioned copying the folder, but another way that worked for me was to tell Maven where to look for it, using the `&lt;resources&gt;` tag. See: http://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html","title":"No Persistence provider for EntityManager named","body":"<p>If you're using Maven, it could be that it is not looking at the right place for the META-INF folder. Others have mentioned copying the folder, but another way that worked for me was to tell Maven where to look for it, using the <code>&lt;resources&gt;</code> tag. See: <a href=\"http://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html</a></p>\n"},{"tags":[],"owner":{"account_id":445792,"reputation":1039,"user_id":838444,"display_name":"Sneg"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1492098025,"creation_date":1492098025,"answer_id":43396513,"question_id":1158159,"body_markdown":"Faced the same issue and couldn&#39;t find solution for quite a long time. In my case it helped to replace\r\n\r\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n\r\nwith\r\n\r\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\nTook solution from [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22103666/838444","title":"No Persistence provider for EntityManager named","body":"<p>Faced the same issue and couldn't find solution for quite a long time. In my case it helped to replace</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n</code></pre>\n\n<p>Took solution from <a href=\"https://stackoverflow.com/a/22103666/838444\">here</a></p>\n"},{"tags":[],"owner":{"account_id":4607286,"reputation":256,"user_id":3736395,"display_name":"MickG"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1529854283,"creation_date":1529854283,"answer_id":51011354,"question_id":1158159,"body_markdown":"I&#39;m some years late to the party here but I hit the same exception while trying to get Hibernate 3.5.1 working with HSQLDB and a desktop JavaFX program. I got it to work with the help of this thread and a lot of trial and error. It seems you get this error for a whole variety of problems:\r\n\r\n    No Persistence provider for EntityManager named mick\r\n\r\nI tried building the hibernate tutorial examples but because I was using Java 10 I wasn&#39;t able to get them to build and run easily. I gave up on that, not really wanting to waste time fixing its problems. Setting up a module-info.java file (Jigsaw) is another hairball many people haven&#39;t discovered yet.\r\n\r\nSomewhat confusing is that these (below) were the only two files I needed in my build.gradle file. The Hibernate documentation isn&#39;t clear about exactly which Jars you need to include. Entity-manager was causing confusion and is no longer required in the latest Hibernate version, and neither is javax.persistence-api. Note, I&#39;m using Java 10 here so I had to include the jaxb-api, to get around some xml-bind errors, as well as add an entry for the java persistence module in my module-info.java file.\r\n\r\nBuild.gradle\r\n\r\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n    compile(&#39;org.hibernate:hibernate-core:5.3.1.Final&#39;)\r\n\r\n    // https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\r\n    compile group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.0&#39;\r\n\r\nModule-info.java\r\n\r\n    // Used for HsqlDB - add the hibernate-core jar to build.gradle too\r\n    requires java.persistence;\r\n\r\nWith hibernate 5.3.1 you don&#39;t need to specify the provider, below, in your persistence.xml file. If one is not provided the Hibernate provider is chosen by default.\r\n\r\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\nThe persistence.xml file should be located in the correct directory so:\r\n\r\n    src/main/resources/META-INF/persistence.xml\r\n\r\nStepping through the hibernate source code in the Intellij debugger, where it checks for a dialect, also threw the exact same exception, because of a missing dialect property in the persistence.xml file. I added this (add the correct one for your DB type):\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.HSQLDialect&quot;/&gt;\r\n\r\nI still got the same exception after this, so stepping through the debugger again in Intellij revealed the test entity I was trying to persist (simple parent-child example) had missing annotations for the OneToMany, ManyToOne relationships. I fixed this and the exception went away and my entities were persisted ok.\r\n\r\nHere&#39;s my full final persistence.xml:\r\n\r\n    &lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n                http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n             version=&quot;2.1&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;mick&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;description&gt;\r\n            Persistence unit for the JPA tutorial of the Hibernate Getting Started Guide\r\n        &lt;/description&gt;\r\n\r\n        &lt;!-- Provided in latest release of hibernate\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        --&gt;\r\n\r\n        &lt;class&gt;com.micks.scenebuilderdemo.database.Parent&lt;/class&gt;\r\n        &lt;class&gt;com.micks.scenebuilderdemo.database.Child&lt;/class&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.hsqldb.jdbc.JDBCDriver&quot;/&gt;\r\n\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n                      value=&quot;jdbc:hsqldb:file:./database/database;DB_CLOSE_DELAY=-1;MVCC=TRUE&quot;/&gt;\r\n\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;sa&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.HSQLDialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n\r\n    &lt;/persistence-unit&gt;\r\n\r\n    &lt;/persistence&gt;\r\n\r\nI probably wasted about half a day on this gem. My advice would be to start very simple - a single test entity with one or two fields, as it seems like this exception can have many causes.","title":"No Persistence provider for EntityManager named","body":"<p>I'm some years late to the party here but I hit the same exception while trying to get Hibernate 3.5.1 working with HSQLDB and a desktop JavaFX program. I got it to work with the help of this thread and a lot of trial and error. It seems you get this error for a whole variety of problems:</p>\n\n<pre><code>No Persistence provider for EntityManager named mick\n</code></pre>\n\n<p>I tried building the hibernate tutorial examples but because I was using Java 10 I wasn't able to get them to build and run easily. I gave up on that, not really wanting to waste time fixing its problems. Setting up a module-info.java file (Jigsaw) is another hairball many people haven't discovered yet.</p>\n\n<p>Somewhat confusing is that these (below) were the only two files I needed in my build.gradle file. The Hibernate documentation isn't clear about exactly which Jars you need to include. Entity-manager was causing confusion and is no longer required in the latest Hibernate version, and neither is javax.persistence-api. Note, I'm using Java 10 here so I had to include the jaxb-api, to get around some xml-bind errors, as well as add an entry for the java persistence module in my module-info.java file.</p>\n\n<p>Build.gradle</p>\n\n<pre><code>// https://mvnrepository.com/artifact/org.hibernate/hibernate-core\ncompile('org.hibernate:hibernate-core:5.3.1.Final')\n\n// https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\ncompile group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.0'\n</code></pre>\n\n<p>Module-info.java</p>\n\n<pre><code>// Used for HsqlDB - add the hibernate-core jar to build.gradle too\nrequires java.persistence;\n</code></pre>\n\n<p>With hibernate 5.3.1 you don't need to specify the provider, below, in your persistence.xml file. If one is not provided the Hibernate provider is chosen by default.</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n</code></pre>\n\n<p>The persistence.xml file should be located in the correct directory so:</p>\n\n<pre><code>src/main/resources/META-INF/persistence.xml\n</code></pre>\n\n<p>Stepping through the hibernate source code in the Intellij debugger, where it checks for a dialect, also threw the exact same exception, because of a missing dialect property in the persistence.xml file. I added this (add the correct one for your DB type):</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.HSQLDialect\"/&gt;\n</code></pre>\n\n<p>I still got the same exception after this, so stepping through the debugger again in Intellij revealed the test entity I was trying to persist (simple parent-child example) had missing annotations for the OneToMany, ManyToOne relationships. I fixed this and the exception went away and my entities were persisted ok.</p>\n\n<p>Here's my full final persistence.xml:</p>\n\n<pre><code>&lt;persistence xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence\n            http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"\n         version=\"2.1\"&gt;\n\n&lt;persistence-unit name=\"mick\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;description&gt;\n        Persistence unit for the JPA tutorial of the Hibernate Getting Started Guide\n    &lt;/description&gt;\n\n    &lt;!-- Provided in latest release of hibernate\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    --&gt;\n\n    &lt;class&gt;com.micks.scenebuilderdemo.database.Parent&lt;/class&gt;\n    &lt;class&gt;com.micks.scenebuilderdemo.database.Child&lt;/class&gt;\n\n    &lt;properties&gt;\n        &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.hsqldb.jdbc.JDBCDriver\"/&gt;\n\n        &lt;property name=\"javax.persistence.jdbc.url\"\n                  value=\"jdbc:hsqldb:file:./database/database;DB_CLOSE_DELAY=-1;MVCC=TRUE\"/&gt;\n\n        &lt;property name=\"javax.persistence.jdbc.user\" value=\"sa\"/&gt;\n        &lt;property name=\"javax.persistence.jdbc.password\" value=\"\"/&gt;\n\n        &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\"/&gt;\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.HSQLDialect\"/&gt;\n    &lt;/properties&gt;\n\n&lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n\n<p>I probably wasted about half a day on this gem. My advice would be to start very simple - a single test entity with one or two fields, as it seems like this exception can have many causes.</p>\n"},{"tags":[],"owner":{"account_id":3795432,"reputation":541,"user_id":3150652,"display_name":"Dhwaneel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530686296,"creation_date":1530686296,"answer_id":51167249,"question_id":1158159,"body_markdown":"Mine got resolved by adding  &lt;provider&gt; info in persistence.xml  e.g. `&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;` and then making sure you have the library on classpath e.g. in Maven add dependency like\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"No Persistence provider for EntityManager named","body":"<p>Mine got resolved by adding   info in persistence.xml  e.g. <code>&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;</code> and then making sure you have the library on classpath e.g. in Maven add dependency like</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n  &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n  &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904621,"reputation":1045,"user_id":2490336,"accept_rate":0,"display_name":"Atul Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537950530,"creation_date":1537950530,"answer_id":52513277,"question_id":1158159,"body_markdown":"Verify the peristent unit name\r\n\r\n    &lt;persistence-unit name=&quot;com.myapp.model.jpa&quot;\r\n\t\ttransaction-type=&quot;RESOURCE_LOCAL&quot;&gt;    \r\n    public static final String PERSISTENCE_UNIT_NAME = &quot;com.myapp.model.jpa&quot;;\r\n    Persistence.createEntityManagerFactory(**PERSISTENCE_UNIT_NAME**);","title":"No Persistence provider for EntityManager named","body":"<p>Verify the peristent unit name</p>\n\n<pre><code>&lt;persistence-unit name=\"com.myapp.model.jpa\"\n    transaction-type=\"RESOURCE_LOCAL\"&gt;    \npublic static final String PERSISTENCE_UNIT_NAME = \"com.myapp.model.jpa\";\nPersistence.createEntityManagerFactory(**PERSISTENCE_UNIT_NAME**);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15940699,"reputation":31,"user_id":11502595,"display_name":"Wojtek Pir&#243;g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562872560,"creation_date":1562872560,"answer_id":56995948,"question_id":1158159,"body_markdown":"In my case it was about mistake in two properties as below. When I changed them ‘No Persistence provider for EntityManager named’ disappered.\r\n\r\nSo you could try test connection with your properties to check if everything is correct.\r\n\r\n```\r\n&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;...”/&gt;\r\n&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;...”/&gt;\r\n```\r\n\r\nStrange error, I was totally confused because of it.","title":"No Persistence provider for EntityManager named","body":"<p>In my case it was about mistake in two properties as below. When I changed them ‘No Persistence provider for EntityManager named’ disappered.</p>\n\n<p>So you could try test connection with your properties to check if everything is correct.</p>\n\n<pre><code>&lt;property name=\"javax.persistence.jdbc.url\" value=\"...”/&gt;\n&lt;property name=\"javax.persistence.jdbc.password\" value=\"...”/&gt;\n</code></pre>\n\n<p>Strange error, I was totally confused because of it.</p>\n"},{"tags":[],"owner":{"account_id":14817760,"reputation":71,"user_id":10701129,"display_name":"sch001"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574667580,"creation_date":1574667267,"answer_id":59027085,"question_id":1158159,"body_markdown":"In my case, previously I use idea to generate entity by database schema, and the `persistence.xml` is automatically generated in `src/main/java/META-INF`,and according to https://stackoverflow.com/a/23890419/10701129, I move it to `src/main/resources/META-INF`, also marked META-INF as source root. It works for me.\r\n\r\nBut just simply marking original META-INF(that is, src/main/java/META-INF) as source root, doesn&#39;t work, which confuses me.\r\n\r\nand this is the structre:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UQN5x.png","title":"No Persistence provider for EntityManager named","body":"<p>In my case, previously I use idea to generate entity by database schema, and the <code>persistence.xml</code> is automatically generated in <code>src/main/java/META-INF</code>,and according to <a href=\"https://stackoverflow.com/a/23890419/10701129\">https://stackoverflow.com/a/23890419/10701129</a>, I move it to <code>src/main/resources/META-INF</code>, also marked META-INF as source root. It works for me.</p>\n\n<p>But just simply marking original META-INF(that is, src/main/java/META-INF) as source root, doesn't work, which confuses me.</p>\n\n<p>and this is the structre:\n<a href=\"https://i.stack.imgur.com/UQN5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UQN5x.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3603414,"reputation":153,"user_id":3006199,"display_name":"Klendatho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579003224,"creation_date":1579000503,"answer_id":59732672,"question_id":1158159,"body_markdown":"Try also copying the persistence.xml manually to the folder `&lt;project root&gt;\\bin\\META-INF`. This fixed the problem in Eclipse Neon with `EclipseLink 2.5.2` using a simple plug-in project.\r\n","title":"No Persistence provider for EntityManager named","body":"<p>Try also copying the persistence.xml manually to the folder <code>&lt;project root&gt;\\bin\\META-INF</code>. This fixed the problem in Eclipse Neon with <code>EclipseLink 2.5.2</code> using a simple plug-in project.</p>\n"},{"tags":[],"owner":{"account_id":14853653,"reputation":369,"user_id":10726803,"display_name":"keemsisi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586918104,"creation_date":1586918104,"answer_id":61220387,"question_id":1158159,"body_markdown":"**Had the same issue,  but this actually worked for me :**\r\n\r\n    mvn install -e  -Dmaven.repo.local=$WORKSPACE/.repository.\r\n\r\nNB : The maven command above will reinstall all your project dependencies from scratch. Your console will be loaded with verbose logs due to the network request maven is making.","title":"No Persistence provider for EntityManager named","body":"<p><strong>Had the same issue,  but this actually worked for me :</strong></p>\n\n<pre><code>mvn install -e  -Dmaven.repo.local=$WORKSPACE/.repository.\n</code></pre>\n\n<p>NB : The maven command above will reinstall all your project dependencies from scratch. Your console will be loaded with verbose logs due to the network request maven is making.</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605239922,"creation_date":1601180494,"answer_id":64084771,"question_id":1158159,"body_markdown":"You have to use the absolute path of the file otherwise this will not work. Then with that path we build the file and pass it to the configuration.\r\n\r\n    @Throws(HibernateException::class)\r\n    fun getSessionFactory() : SessionFactory {\r\n        return Configuration()\r\n                    .configure(getFile())\r\n                    .buildSessionFactory()\r\n        }\r\n\r\n\r\n    private fun getFile(canonicalName: String): File {\r\n        val absolutePathCurrentModule = System.getProperty(&quot;user.dir&quot;)\r\n        val pathFromProjectRoot = absolutePathCurrentModule.dropLastWhile { it != &#39;/&#39; }\r\n        val absolutePathFromProjectRoot = &quot;${pathFromProjectRoot}module-name/src/main/resources/$canonicalName&quot;\r\n        println(&quot;Absolute Path of secret-hibernate.cfg.xml: $absolutePathFromProjectRoot&quot;)\r\n        return File(absolutePathFromProjectRoot)\r\n    }\r\n\r\nGL\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4033090/5279996","title":"No Persistence provider for EntityManager named","body":"<p>You have to use the absolute path of the file otherwise this will not work. Then with that path we build the file and pass it to the configuration.</p>\n<pre><code>@Throws(HibernateException::class)\nfun getSessionFactory() : SessionFactory {\n    return Configuration()\n                .configure(getFile())\n                .buildSessionFactory()\n    }\n\n\nprivate fun getFile(canonicalName: String): File {\n    val absolutePathCurrentModule = System.getProperty(&quot;user.dir&quot;)\n    val pathFromProjectRoot = absolutePathCurrentModule.dropLastWhile { it != '/' }\n    val absolutePathFromProjectRoot = &quot;${pathFromProjectRoot}module-name/src/main/resources/$canonicalName&quot;\n    println(&quot;Absolute Path of secret-hibernate.cfg.xml: $absolutePathFromProjectRoot&quot;)\n    return File(absolutePathFromProjectRoot)\n}\n</code></pre>\n<p>GL</p>\n<p><a href=\"https://stackoverflow.com/a/4033090/5279996\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":3169753,"reputation":764,"user_id":2679033,"display_name":"Rajitha Bhanuka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607393759,"creation_date":1607393759,"answer_id":65192148,"question_id":1158159,"body_markdown":"I had the same problem, I removed &quot;@ManagedBean&quot; from my bean class now working.","title":"No Persistence provider for EntityManager named","body":"<p>I had the same problem, I removed &quot;@ManagedBean&quot; from my bean class now working.</p>\n"},{"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627253005,"creation_date":1627253005,"answer_id":68523022,"question_id":1158159,"body_markdown":"I ran into this problem when I moved all my java classes to a different package.\r\nFinally, I figured out that if I change the packages of myclasses, then I need to update persistence.xml with the new packages in all the persistence-unit/class elements that refer to my java classes. ","title":"No Persistence provider for EntityManager named","body":"<p>I ran into this problem when I moved all my java classes to a different package.\nFinally, I figured out that if I change the packages of myclasses, then I need to update persistence.xml with the new packages in all the persistence-unit/class elements that refer to my java classes.</p>\n"},{"tags":[],"owner":{"account_id":1407112,"reputation":2835,"user_id":1334515,"accept_rate":80,"display_name":"stephenfrank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680513057,"creation_date":1680513057,"answer_id":75917786,"question_id":1158159,"body_markdown":"I had already set up persistence.xml and installed all the Hibernate dependencies and was still stuck with this error.\r\n\r\nIn my case, I had imported the wrong `Persistence` class. \r\n\r\nI replaced  \r\n`import javax.persistence.Persistence`  \r\nwith  \r\n`import jakarta.persistence.Persistence`  \r\n\r\nThis solved it. I wish the error message was more descriptive or helpful but there you have it.","title":"No Persistence provider for EntityManager named","body":"<p>I had already set up persistence.xml and installed all the Hibernate dependencies and was still stuck with this error.</p>\n<p>In my case, I had imported the wrong <code>Persistence</code> class.</p>\n<p>I replaced<br />\n<code>import javax.persistence.Persistence</code><br />\nwith<br />\n<code>import jakarta.persistence.Persistence</code></p>\n<p>This solved it. I wish the error message was more descriptive or helpful but there you have it.</p>\n"}],"owner":{"account_id":45317,"reputation":2242,"user_id":133548,"accept_rate":59,"display_name":"Robert A Henru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465936,"favorite_count":0,"down_vote_count":0,"up_vote_count":172,"accepted_answer_id":1285436,"answer_count":33,"score":172,"last_activity_date":1680513057,"creation_date":1248168549,"question_id":1158159,"body_markdown":"I have my `persistence.xml` with the same name using `TopLink` under the `META-INF` directory.\r\nThen, I have my code calling it with:\r\n\r\n    EntityManagerFactory emfdb = Persistence.createEntityManagerFactory(&quot;agisdb&quot;);\r\n\r\nYet, I got the following error message:\r\n\r\n&lt;pre&gt;\r\n2009-07-21 09:22:41,018 [main] ERROR - No Persistence provider for EntityManager named agisdb\r\njavax.persistence.PersistenceException: No Persistence provider for EntityManager named agisdb\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:89)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:60)\r\n&lt;/pre&gt;\r\n\r\nHere is the `persistence.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;1.0&quot;&gt;\r\n        &lt;persistence-unit name=&quot;agisdb&quot;&gt;\r\n            &lt;class&gt;com.agis.livedb.domain.AddressEntity&lt;/class&gt;\r\n            &lt;class&gt;com.agis.livedb.domain.TrafficCameraEntity&lt;/class&gt;\r\n            &lt;class&gt;com.agis.livedb.domain.TrafficPhotoEntity&lt;/class&gt;\r\n            &lt;class&gt;com.agis.livedb.domain.TrafficReportEntity&lt;/class&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;toplink.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/agisdb&quot;/&gt;\r\n                &lt;property name=&quot;toplink.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n                &lt;property name=&quot;toplink.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n                &lt;property name=&quot;toplink.jdbc.password&quot; value=&quot;password&quot;/&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nIt should have been in the classpath. Yet, I got the above error.","title":"No Persistence provider for EntityManager named","body":"<p>I have my <code>persistence.xml</code> with the same name using <code>TopLink</code> under the <code>META-INF</code> directory.\nThen, I have my code calling it with:</p>\n\n<pre><code>EntityManagerFactory emfdb = Persistence.createEntityManagerFactory(\"agisdb\");\n</code></pre>\n\n<p>Yet, I got the following error message:</p>\n\n<pre>\n2009-07-21 09:22:41,018 [main] ERROR - No Persistence provider for EntityManager named agisdb\njavax.persistence.PersistenceException: No Persistence provider for EntityManager named agisdb\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:89)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:60)\n</pre>\n\n<p>Here is the <code>persistence.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" version=\"1.0\"&gt;\n    &lt;persistence-unit name=\"agisdb\"&gt;\n        &lt;class&gt;com.agis.livedb.domain.AddressEntity&lt;/class&gt;\n        &lt;class&gt;com.agis.livedb.domain.TrafficCameraEntity&lt;/class&gt;\n        &lt;class&gt;com.agis.livedb.domain.TrafficPhotoEntity&lt;/class&gt;\n        &lt;class&gt;com.agis.livedb.domain.TrafficReportEntity&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=\"toplink.jdbc.url\" value=\"jdbc:mysql://localhost:3306/agisdb\"/&gt;\n            &lt;property name=\"toplink.jdbc.driver\" value=\"com.mysql.jdbc.Driver\"/&gt;\n            &lt;property name=\"toplink.jdbc.user\" value=\"root\"/&gt;\n            &lt;property name=\"toplink.jdbc.password\" value=\"password\"/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>It should have been in the classpath. Yet, I got the above error.</p>\n"},{"tags":["java","android","database","path","android-version"],"comments":[{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1680501453,"post_id":75895618,"comment_id":133902982,"body_markdown":"@blackapps Done. hope its clear now and yeah... can you help me?","body":"@blackapps Done. hope its clear now and yeah... can you help me?"},{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1680504793,"post_id":75895618,"comment_id":133903493,"body_markdown":"@blackapps my Bad! hope now its readable.","body":"@blackapps my Bad! hope now its readable."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680506850,"post_id":75895618,"comment_id":133903885,"body_markdown":"`android.database.sqlite.SQLiteException: no such table: Technical`","body":"<code>android.database.sqlite.SQLiteException: no such table: Technical</code>"},{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1680508559,"post_id":75895618,"comment_id":133904255,"body_markdown":"@blackapps this exception occurs only in android 28 as i mentioned before ... there is table Technical which is readable in other API versions inclucding API 26 and 27","body":"@blackapps this exception occurs only in android 28 as i mentioned before ... there is table Technical which is readable in other API versions inclucding API 26 and 27"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680510786,"post_id":75895618,"comment_id":133904721,"body_markdown":"You never named an sql exception. You talked about null exception.","body":"You never named an sql exception. You talked about null exception."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680511085,"post_id":75895618,"comment_id":133904788,"body_markdown":"Your code to copy a file from assets has nothing to do with that exception. You better post the code that throws that exception.","body":"Your code to copy a file from assets has nothing to do with that exception. You better post the code that throws that exception."},{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1680513118,"post_id":75895618,"comment_id":133905208,"body_markdown":"@blackapps i specified null exception like no table found. Anyways i posted the entire code where the exception is pointed","body":"@blackapps i specified null exception like no table found. Anyways i posted the entire code where the exception is pointed"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680517710,"post_id":75895618,"comment_id":133906294,"body_markdown":"copyDataBase() is nowhere called. We dont know what DataBaseTechnical would be. You are not telling which statement causes the exception.","body":"copyDataBase() is nowhere called. We dont know what DataBaseTechnical would be. You are not telling which statement causes the exception."}],"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680512986,"creation_date":1680245404,"question_id":75895618,"body_markdown":"I know people asked for this question already. I followed the same answers which accepted by the user [Answer](https://stackoverflow.com/questions/8700262/how-to-insert-data-into-the-database-file-which-is-in-the-assets-folder). It worked fine for other Android versions but except Android 9.\r\n\r\n    private static String DB_NAME = &quot;QuotesData.db&quot;;\r\n    private static String DB_PATH = &quot;/data/data/[PACKAGE NAME]/databases/&quot;;\r\n    private void copyDataBase() throws IOException {\r\n\r\n        InputStream myInput = context.getAssets().open(DB_NAME);\r\n\r\n        String outFileName = DB_PATH + DB_NAME;\r\n\r\n        OutputStream myOutput = new FileOutputStream(outFileName);\r\n\r\n        byte[] buffer = new byte[1024];\r\n        int length;\r\n        while ((length = myInput.read(buffer)) &gt; 0) {\r\n            myOutput.write(buffer, 0, length);\r\n        }\r\n\r\n        myOutput.flush();\r\n        myOutput.close();\r\n        myInput.close();\r\n\r\n    }\r\n\r\nI&#39;m getting null exception like no such table found.\r\n\r\n**Logcat**\r\n\r\n     E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.in22labs.neet, PID: 23832\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.in22labs.neet/com.in22labs.neet.Quiz.Exammode}: android.database.sqlite.SQLiteException: no such table: Technical (code 1 SQLITE_ERROR): , while compiling: SELECT Id FROM Technical WHERE TopicId =&#39;Che1&#39;\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:193)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n\r\nCan anyone help? It perfectly works with other Android versions (Even in Android 8.1).\r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_exammode);\r\n        init();\r\n\r\n        Intent receivedIntent = this.getIntent();\r\n        subject = receivedIntent.getStringExtra(&quot;subject&quot;);\r\n        topicid = receivedIntent.getStringExtra(&quot;TopicId&quot;);\r\n        Log.e(&quot;Test&quot;,&quot;Exam page Created&quot;);\r\n\r\n        ConnectionDetector cd=new ConnectionDetector(Exammode.this);\r\n   \r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setTitle(&quot;NEET&quot;);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawer, toolbar, R.string.open, R.string.close);\r\n        drawer.setDrawerListener(toggle);\r\n        toggle.syncState();\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        dbt = new DataBaseTechnical(Exammode.this);\r\n\r\n        getQno=dbt.getQuesNo(topicid);\r\n        InsertQuestionRandom();\r\n\r\n**InsertQuestionRandom method**\r\n\r\n     private void InsertQuestionRandom() {\r\n        System.out.println(&quot;Before shuffling, ArrayList contains : &quot; +getQno);\r\n        Collections.shuffle(getQno);\r\n        System.out.println(&quot;After shuffling, ArrayList contains : &quot; + getQno);\r\n        //Toast.makeText(myContext, (CharSequence) arrayList,Toast.LENGTH_SHORT).show();\r\n        for(int i=0; i&lt;20 ;i++)\r\n        {\r\n            int Shuff=getQno.get(i);\r\n            dbt.SelectQuestSet(Shuff);\r\n        }\r\n    }","title":"How to populate Database from path file in API 28 (Android 9)","body":"<p>I know people asked for this question already. I followed the same answers which accepted by the user <a href=\"https://stackoverflow.com/questions/8700262/how-to-insert-data-into-the-database-file-which-is-in-the-assets-folder\">Answer</a>. It worked fine for other Android versions but except Android 9.</p>\n<pre><code>private static String DB_NAME = &quot;QuotesData.db&quot;;\nprivate static String DB_PATH = &quot;/data/data/[PACKAGE NAME]/databases/&quot;;\nprivate void copyDataBase() throws IOException {\n\n    InputStream myInput = context.getAssets().open(DB_NAME);\n\n    String outFileName = DB_PATH + DB_NAME;\n\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer)) &gt; 0) {\n        myOutput.write(buffer, 0, length);\n    }\n\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n\n}\n</code></pre>\n<p>I'm getting null exception like no such table found.</p>\n<p><strong>Logcat</strong></p>\n<pre><code> E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.in22labs.neet, PID: 23832\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.in22labs.neet/com.in22labs.neet.Quiz.Exammode}: android.database.sqlite.SQLiteException: no such table: Technical (code 1 SQLITE_ERROR): , while compiling: SELECT Id FROM Technical WHERE TopicId ='Che1'\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n<p>Can anyone help? It perfectly works with other Android versions (Even in Android 8.1).</p>\n<pre><code> @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_exammode);\n    init();\n\n    Intent receivedIntent = this.getIntent();\n    subject = receivedIntent.getStringExtra(&quot;subject&quot;);\n    topicid = receivedIntent.getStringExtra(&quot;TopicId&quot;);\n    Log.e(&quot;Test&quot;,&quot;Exam page Created&quot;);\n\n    ConnectionDetector cd=new ConnectionDetector(Exammode.this);\n\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setTitle(&quot;NEET&quot;);\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n            this, drawer, toolbar, R.string.open, R.string.close);\n    drawer.setDrawerListener(toggle);\n    toggle.syncState();\n    navigationView.setNavigationItemSelectedListener(this);\n\n    dbt = new DataBaseTechnical(Exammode.this);\n\n    getQno=dbt.getQuesNo(topicid);\n    InsertQuestionRandom();\n</code></pre>\n<p><strong>InsertQuestionRandom method</strong></p>\n<pre><code> private void InsertQuestionRandom() {\n    System.out.println(&quot;Before shuffling, ArrayList contains : &quot; +getQno);\n    Collections.shuffle(getQno);\n    System.out.println(&quot;After shuffling, ArrayList contains : &quot; + getQno);\n    //Toast.makeText(myContext, (CharSequence) arrayList,Toast.LENGTH_SHORT).show();\n    for(int i=0; i&lt;20 ;i++)\n    {\n        int Shuff=getQno.get(i);\n        dbt.SelectQuestSet(Shuff);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-shell","jline"],"owner":{"account_id":21024771,"reputation":29,"user_id":15450353,"display_name":"JCodeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680512569,"creation_date":1680271972,"question_id":75899537,"body_markdown":"I have certain use case which requires opening of a new terminal tab/window from current terminal window, both terminal will be running in different context.\r\nFor eg. a chat application is running on the main terminal and whenever a new chat request comes in, it opens a new terminal window where the chat happens, and the main terminal shows all connection request and metrics.","title":"How to open a new terminal tab using Spring boot dependency Spring Shell","body":"<p>I have certain use case which requires opening of a new terminal tab/window from current terminal window, both terminal will be running in different context.\nFor eg. a chat application is running on the main terminal and whenever a new chat request comes in, it opens a new terminal window where the chat happens, and the main terminal shows all connection request and metrics.</p>\n"},{"tags":["java","android","android-studio","gradle","fdroid"],"comments":[{"owner":{"account_id":18779088,"reputation":31,"user_id":13694157,"display_name":"XCosmo"},"score":0,"creation_date":1680514511,"post_id":75916344,"comment_id":133905556,"body_markdown":"Please help me with this problem. Anyone??","body":"Please help me with this problem. Anyone??"},{"owner":{"account_id":18779088,"reputation":31,"user_id":13694157,"display_name":"XCosmo"},"score":0,"creation_date":1680667381,"post_id":75916344,"comment_id":133935147,"body_markdown":"Nobody can solve this problem?? &#128517; Please guys...","body":"Nobody can solve this problem?? 😅 Please guys..."}],"owner":{"account_id":18779088,"reputation":31,"user_id":13694157,"display_name":"XCosmo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680512568,"creation_date":1680500868,"question_id":75916344,"body_markdown":"I&#39;m using a F-Droid open source project called &quot;mumla-3.6.3&quot;. While importing this project in android studio  Electric Eel 2022.1.1, I&#39;m getting sync build successful with this warning:\r\n\r\n`Unable to resolve dependency for &#39;:app@betaDebugUnitTest/compileClasspath&#39;: Could not resolve project :libraries:humla.`\r\n\r\nBut then when I try to make Project, I&#39;m getting error as:\r\n\r\n```\r\nCould not determine the dependencies of task &#39;:app:compileBetaDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all task dependencies for configuration &#39;:app:betaDebugCompileClasspath&#39;.\r\n   &gt; Could not resolve project :libraries:humla.\r\n     Required by:\r\n         project :app\r\n      &gt; No matching configuration of project :libraries:humla was found. The consumer was configured to find an API of a component, preferably optimized for Android, as well as attribute &#39;com.android.build.api.attributes.BuildTypeAttr&#39; with value &#39;debug&#39;, attribute &#39;release&#39; with value &#39;beta&#39; but:\r\n          - None of the consumable configurations have attributes.\r\n```\r\n\r\nMy app build.gradle file content is:\r\n\r\n```\r\n/*\r\n * Copyright (C) 2014 Andrew Comminos\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\r\n */\r\n\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n    }\r\n}\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    google()\r\n}\r\n\r\ndef gitDescribe = { -&gt;\r\n    def stdout = new ByteArrayOutputStream()\r\n    exec {\r\n        commandLine &quot;cmd&quot;, &quot;git&quot;, &quot;describe&quot;, &quot;--tags&quot;, &quot;--always&quot;\r\n        standardOutput = stdout\r\n    }\r\n    return stdout.toString().trim()\r\n}\r\n\r\ndef signingFile = file &#39;signing.gradle&#39;\r\nif (signingFile.exists()) apply from: signingFile\r\ndef signingBetaFile = file &#39;signing-beta.gradle&#39;\r\nif (signingBetaFile.exists()) apply from: signingBetaFile\r\n\r\nallprojects {\r\n    tasks.withType(JavaCompile) {\r\n        // TODO include deprecations at some point, but currently they are *many*\r\n        options.compilerArgs &lt;&lt; &quot;-Xlint:all&quot; &lt;&lt; &quot;-Xlint:-deprecation&quot; &lt;&lt; &quot;-Xlint:-dep-ann&quot;\r\n    }\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n\r\n    defaultConfig {\r\n        minSdkVersion 14\r\n        targetSdkVersion 31\r\n        multiDexEnabled true\r\n\r\n        applicationId &quot;se.lublin.mumla&quot;\r\n        versionCode 98\r\n        versionName gitDescribe()\r\n\r\n        setProperty(&quot;archivesBaseName&quot;, &quot;mumla&quot;)\r\n        buildConfigField &quot;long&quot;, &quot;TIMESTAMP&quot;, System.currentTimeMillis() + &quot;L&quot;\r\n\r\n        testInstrumentationRunner &quot;android.test.InstrumentationTestRunner&quot;\r\n    }\r\n\r\n    flavorDimensions &quot;release&quot;\r\n    productFlavors {\r\n        official {\r\n            dimension &quot;release&quot;\r\n            applicationId &quot;se.lublin.mumla&quot;\r\n        }\r\n        donation {\r\n            dimension &quot;release&quot;\r\n            applicationId &quot;se.lublin.mumla.donation&quot;\r\n        }\r\n        beta {\r\n            dimension &quot;release&quot;\r\n            applicationId &quot;se.lublin.mumla.beta&quot;\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        // signingConfig beta will override\r\n        release {\r\n            if (android.hasProperty(&quot;signingConfigs&quot;)) {\r\n                if (signingConfigs.hasProperty(&quot;release&quot;)) {\r\n                    signingConfig signingConfigs.release\r\n                }\r\n                if (signingConfigs.hasProperty(&quot;beta&quot;)) {\r\n                    signingConfig signingConfigs.beta\r\n                }\r\n            }\r\n        }\r\n        debug {\r\n            versionNameSuffix &quot;-debug&quot;\r\n            if (android.hasProperty(&quot;signingConfigs&quot;)) {\r\n                if (signingConfigs.hasProperty(&quot;beta&quot;)) {\r\n                    signingConfig signingConfigs.beta\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // betas may be released every minute\r\n    // TODO? dynamic stuff, have to rebuild a lot\r\n    applicationVariants.all { variant -&gt;\r\n        if (variant.flavorName == &quot;beta&quot;) {\r\n            variant.outputs.each { output -&gt;\r\n                output.versionCodeOverride = System.currentTimeSeconds() / 60\r\n            }\r\n        }\r\n    }\r\n\r\n    lintOptions {\r\n        quiet false\r\n\r\n        // spongycastle-related\r\n        disable &quot;InvalidPackage&quot;\r\n\r\n        disable &quot;MissingTranslation&quot;\r\n\r\n        ignoreWarnings false\r\n        abortOnError true\r\n        explainIssues true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    /*implementation project(&quot;:libraries:humla&quot;) {\r\n        targetConfiguration = &quot;runtime&quot;\r\n    }*/\r\n    implementation project(&quot;:libraries:humla&quot;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.documentfile:documentfile:1.0.1&#39;\r\n    implementation &#39;androidx.fragment:fragment:1.5.6&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39;\r\n    implementation &#39;androidx.exifinterface:exifinterface:1.3.6&#39;\r\n    implementation &#39;org.jsoup:jsoup:1.13.1&#39;\r\n    implementation &#39;info.guardianproject.netcipher:netcipher:2.1.0&#39;\r\n}\r\n\r\n```\r\nMy project settings.gradle file content is:\r\n\r\n```\r\n/*\r\n * Copyright (C) 2014 Andrew Comminos\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\r\n */\r\n\r\n\r\ninclude &#39;:libraries:humla&#39;, &#39;:app&#39;\r\n\r\n```\r\nMy project build.gradle file has NO content in it as:\r\n\r\n```\r\n/*\r\n * Copyright (C) 2014 Andrew Comminos\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\r\n */\r\n\r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n```\r\n\r\n","title":"Unable to resolve dependency for &#39;:app@betaDebug/compileClasspath&#39;: Could not resolve project :libraries:humla","body":"<p>I'm using a F-Droid open source project called &quot;mumla-3.6.3&quot;. While importing this project in android studio  Electric Eel 2022.1.1, I'm getting sync build successful with this warning:</p>\n<p><code>Unable to resolve dependency for ':app@betaDebugUnitTest/compileClasspath': Could not resolve project :libraries:humla.</code></p>\n<p>But then when I try to make Project, I'm getting error as:</p>\n<pre><code>Could not determine the dependencies of task ':app:compileBetaDebugJavaWithJavac'.\n&gt; Could not resolve all task dependencies for configuration ':app:betaDebugCompileClasspath'.\n   &gt; Could not resolve project :libraries:humla.\n     Required by:\n         project :app\n      &gt; No matching configuration of project :libraries:humla was found. The consumer was configured to find an API of a component, preferably optimized for Android, as well as attribute 'com.android.build.api.attributes.BuildTypeAttr' with value 'debug', attribute 'release' with value 'beta' but:\n          - None of the consumable configurations have attributes.\n</code></pre>\n<p>My app build.gradle file content is:</p>\n<pre><code>/*\n * Copyright (C) 2014 Andrew Comminos\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\n */\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.4'\n    }\n}\napply plugin: 'com.android.application'\n\nrepositories {\n    mavenCentral()\n    google()\n}\n\ndef gitDescribe = { -&gt;\n    def stdout = new ByteArrayOutputStream()\n    exec {\n        commandLine &quot;cmd&quot;, &quot;git&quot;, &quot;describe&quot;, &quot;--tags&quot;, &quot;--always&quot;\n        standardOutput = stdout\n    }\n    return stdout.toString().trim()\n}\n\ndef signingFile = file 'signing.gradle'\nif (signingFile.exists()) apply from: signingFile\ndef signingBetaFile = file 'signing-beta.gradle'\nif (signingBetaFile.exists()) apply from: signingBetaFile\n\nallprojects {\n    tasks.withType(JavaCompile) {\n        // TODO include deprecations at some point, but currently they are *many*\n        options.compilerArgs &lt;&lt; &quot;-Xlint:all&quot; &lt;&lt; &quot;-Xlint:-deprecation&quot; &lt;&lt; &quot;-Xlint:-dep-ann&quot;\n    }\n}\n\nandroid {\n    compileSdkVersion 31\n\n    defaultConfig {\n        minSdkVersion 14\n        targetSdkVersion 31\n        multiDexEnabled true\n\n        applicationId &quot;se.lublin.mumla&quot;\n        versionCode 98\n        versionName gitDescribe()\n\n        setProperty(&quot;archivesBaseName&quot;, &quot;mumla&quot;)\n        buildConfigField &quot;long&quot;, &quot;TIMESTAMP&quot;, System.currentTimeMillis() + &quot;L&quot;\n\n        testInstrumentationRunner &quot;android.test.InstrumentationTestRunner&quot;\n    }\n\n    flavorDimensions &quot;release&quot;\n    productFlavors {\n        official {\n            dimension &quot;release&quot;\n            applicationId &quot;se.lublin.mumla&quot;\n        }\n        donation {\n            dimension &quot;release&quot;\n            applicationId &quot;se.lublin.mumla.donation&quot;\n        }\n        beta {\n            dimension &quot;release&quot;\n            applicationId &quot;se.lublin.mumla.beta&quot;\n        }\n    }\n\n    buildTypes {\n        // signingConfig beta will override\n        release {\n            if (android.hasProperty(&quot;signingConfigs&quot;)) {\n                if (signingConfigs.hasProperty(&quot;release&quot;)) {\n                    signingConfig signingConfigs.release\n                }\n                if (signingConfigs.hasProperty(&quot;beta&quot;)) {\n                    signingConfig signingConfigs.beta\n                }\n            }\n        }\n        debug {\n            versionNameSuffix &quot;-debug&quot;\n            if (android.hasProperty(&quot;signingConfigs&quot;)) {\n                if (signingConfigs.hasProperty(&quot;beta&quot;)) {\n                    signingConfig signingConfigs.beta\n                }\n            }\n        }\n    }\n\n    // betas may be released every minute\n    // TODO? dynamic stuff, have to rebuild a lot\n    applicationVariants.all { variant -&gt;\n        if (variant.flavorName == &quot;beta&quot;) {\n            variant.outputs.each { output -&gt;\n                output.versionCodeOverride = System.currentTimeSeconds() / 60\n            }\n        }\n    }\n\n    lintOptions {\n        quiet false\n\n        // spongycastle-related\n        disable &quot;InvalidPackage&quot;\n\n        disable &quot;MissingTranslation&quot;\n\n        ignoreWarnings false\n        abortOnError true\n        explainIssues true\n    }\n}\n\ndependencies {\n    implementation 'androidx.multidex:multidex:2.0.1'\n    /*implementation project(&quot;:libraries:humla&quot;) {\n        targetConfiguration = &quot;runtime&quot;\n    }*/\n    implementation project(&quot;:libraries:humla&quot;)\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.documentfile:documentfile:1.0.1'\n    implementation 'androidx.fragment:fragment:1.5.6'\n    implementation 'androidx.recyclerview:recyclerview:1.3.0'\n    implementation 'androidx.exifinterface:exifinterface:1.3.6'\n    implementation 'org.jsoup:jsoup:1.13.1'\n    implementation 'info.guardianproject.netcipher:netcipher:2.1.0'\n}\n\n</code></pre>\n<p>My project settings.gradle file content is:</p>\n<pre><code>/*\n * Copyright (C) 2014 Andrew Comminos\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\n */\n\n\ninclude ':libraries:humla', ':app'\n\n</code></pre>\n<p>My project build.gradle file has NO content in it as:</p>\n<pre><code>/*\n * Copyright (C) 2014 Andrew Comminos\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.\n */\n\n\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n</code></pre>\n"},{"tags":["java","builder","lombok"],"comments":[{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":1,"creation_date":1587045610,"post_id":61252122,"comment_id":108359205,"body_markdown":"`@Builder` from lombok is used only to instantiate an object. Besides `builder` is a static method, you cannot invoke it on an object instance.","body":"<code>@Builder</code> from lombok is used only to instantiate an object. Besides <code>builder</code> is a static method, you cannot invoke it on an object instance."},{"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"score":0,"creation_date":1587046021,"post_id":61252122,"comment_id":108359472,"body_markdown":"@Andronicus I am able to invoke `obj1.builder().a3(&quot;Java&quot;).build()`. But problem is that only that attribute `a3` is set and all remaining fields are `null`. Even though those fields are there in `obj1`.","body":"@Andronicus I am able to invoke <code>obj1.builder().a3(&quot;Java&quot;).build()</code>. But problem is that only that attribute <code>a3</code> is set and all remaining fields are <code>null</code>. Even though those fields are there in <code>obj1</code>."}],"answers":[{"tags":[],"owner":{"account_id":8667078,"reputation":575,"user_id":6487148,"display_name":"the_tech_maddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587046294,"creation_date":1587045985,"answer_id":61252271,"question_id":61252122,"body_markdown":"Actually, you have to enable `toBuilder()` in the annotation. `toBuilder()` allows you to edit the current object.\r\n\r\n```java\r\n@Builder(toBuilder = true)\r\n```\r\n\r\nand then doing `obj1.toBuilder().a3(&quot;Java&quot;).build()` should work.","title":"Update specific field of Object using Builder in java","body":"<p>Actually, you have to enable <code>toBuilder()</code> in the annotation. <code>toBuilder()</code> allows you to edit the current object.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Builder(toBuilder = true)\n</code></pre>\n\n<p>and then doing <code>obj1.toBuilder().a3(\"Java\").build()</code> should work.</p>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1587046146,"creation_date":1587046003,"answer_id":61252281,"question_id":61252122,"body_markdown":"`obj1.builder()` is an allowed but confusing way to say `A.builder()`. It&#39;s not recommended to call a static method on an instance. Either way, a completely new `A` will be created.\r\n\r\n    @Builder(toBuilder = true)\r\n\r\nmight be what you are looking for\r\n\r\n&gt; If true, generate an instance method to obtain a builder that is initialized with the values of this instance. Legal only if `@Builder` is used on a constructor, on the type itself, or on a static method that returns an instance of the declaring type.\r\n&gt;\r\n&gt; \t  boolean toBuilder() default false;\r\n\r\n\r\n","title":"Update specific field of Object using Builder in java","body":"<p><code>obj1.builder()</code> is an allowed but confusing way to say <code>A.builder()</code>. It's not recommended to call a static method on an instance. Either way, a completely new <code>A</code> will be created.</p>\n\n<pre><code>@Builder(toBuilder = true)\n</code></pre>\n\n<p>might be what you are looking for</p>\n\n<blockquote>\n  <p>If true, generate an instance method to obtain a builder that is initialized with the values of this instance. Legal only if <code>@Builder</code> is used on a constructor, on the type itself, or on a static method that returns an instance of the declaring type.</p>\n\n<pre><code>boolean toBuilder() default false;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3234009,"reputation":11,"user_id":2728619,"display_name":"akhtar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680512407,"creation_date":1680512407,"answer_id":75917693,"question_id":61252122,"body_markdown":"There is no way you can update the fields in existing object using lombok Builder method.\r\nAs few people suggested about `toBuilder = true`, it creates completely new object but doesn&#39;t update the existing object.\r\n\r\nOnly way is using `@Setter` annotation.","title":"Update specific field of Object using Builder in java","body":"<p>There is no way you can update the fields in existing object using lombok Builder method.\nAs few people suggested about <code>toBuilder = true</code>, it creates completely new object but doesn't update the existing object.</p>\n<p>Only way is using <code>@Setter</code> annotation.</p>\n"}],"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5054,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61252281,"answer_count":3,"score":1,"last_activity_date":1680512407,"creation_date":1587045536,"question_id":61252122,"body_markdown":"I have two class with me as mentioned below.\r\nI wanted to create two instances of **`class A`**.\r\n\r\nI want to create instance obj2 from existing instance obj1 with updated value of a3 attribute as **`&quot;Java&quot;`**.\r\n\r\nI had tried below line using **Builder**, but it&#39;s not working.\r\n\r\n    A obj2 = obj1.builder().a3(&quot;Java&quot;).build();\r\n\r\nI am able to do it with calling constructor, but I wanted to do it **`Builder`** pattern only.\r\n\r\n    @Builder\r\n    @Data\r\n    class A {\r\n        String a1;\r\n        String a2;\r\n        String a3;\r\n        B b;\r\n    \r\n        A(String b1, String b2, String b3, B b) {\r\n            this.a1 = b1;\r\n            this.a2 = b2;\r\n            this.a3 = b3;\r\n            this.b = b;\r\n        }\r\n    }\r\n    \r\n    @Builder\r\n    @Data\r\n    class B {\r\n        String b1;\r\n        String b2;\r\n        String b3;\r\n    \r\n        B(String b1, String b2, String b3) {\r\n            this.b1 = b1;\r\n            this.b2 = b2;\r\n            this.b3 = b3;\r\n        }\r\n    \r\n    }\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            B b = new B(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;);\r\n            A obj1 = new A(&quot;a1&quot;, &quot;b1&quot;, &quot;b1&quot;, b);\r\n            A obj2 = new A(&quot;x1&quot;, &quot;y1&quot;, &quot;z1&quot;, b);\r\n    List&lt;A&gt; list= new ArrayList&lt;&gt;();\r\n    list.add(obj1);\r\n    list.add(obj2);\r\n    list.forEach(a -&gt; {a.toBuilder().a1(&quot;newA1&quot;).a2(&quot;newA2&quot;).build()});\r\n\r\n            A obj3 = obj1.toBuilder().a3(&quot;Java&quot;).build();\r\n        }\r\n    }\r\n\r\n}\r\n}\r\n\r\nAs mentioned in updated code , i have list of A with me, and i want to update **`a1 and a2`** attributes of all element in list using builder. But builder is not working fine with lambda.\r\nIf i will use setter with below code it&#39;s working fine.\r\n\r\n    list.forEach(a -&gt; {\r\n    a.setA1(&quot;newA1&quot;);\r\n    a.setA2(&quot;newA2&quot;);\r\n    });\r\n\r\nI am not able to get updated values for **`a1 and a2`** in case of **`Builder`** with **`Lambda`**","title":"Update specific field of Object using Builder in java","body":"<p>I have two class with me as mentioned below.\nI wanted to create two instances of <strong><code>class A</code></strong>.</p>\n\n<p>I want to create instance obj2 from existing instance obj1 with updated value of a3 attribute as <strong><code>\"Java\"</code></strong>.</p>\n\n<p>I had tried below line using <strong>Builder</strong>, but it's not working.</p>\n\n<pre><code>A obj2 = obj1.builder().a3(\"Java\").build();\n</code></pre>\n\n<p>I am able to do it with calling constructor, but I wanted to do it <strong><code>Builder</code></strong> pattern only.</p>\n\n<pre><code>@Builder\n@Data\nclass A {\n    String a1;\n    String a2;\n    String a3;\n    B b;\n\n    A(String b1, String b2, String b3, B b) {\n        this.a1 = b1;\n        this.a2 = b2;\n        this.a3 = b3;\n        this.b = b;\n    }\n}\n\n@Builder\n@Data\nclass B {\n    String b1;\n    String b2;\n    String b3;\n\n    B(String b1, String b2, String b3) {\n        this.b1 = b1;\n        this.b2 = b2;\n        this.b3 = b3;\n    }\n\n}\n\nclass Main {\n    public static void main(String[] args) {\n\n        B b = new B(\"a\", \"b\", \"b\");\n        A obj1 = new A(\"a1\", \"b1\", \"b1\", b);\n        A obj2 = new A(\"x1\", \"y1\", \"z1\", b);\nList&lt;A&gt; list= new ArrayList&lt;&gt;();\nlist.add(obj1);\nlist.add(obj2);\nlist.forEach(a -&gt; {a.toBuilder().a1(\"newA1\").a2(\"newA2\").build()});\n\n        A obj3 = obj1.toBuilder().a3(\"Java\").build();\n    }\n}\n</code></pre>\n\n<p>}\n}</p>\n\n<p>As mentioned in updated code , i have list of A with me, and i want to update <strong><code>a1 and a2</code></strong> attributes of all element in list using builder. But builder is not working fine with lambda.\nIf i will use setter with below code it's working fine.</p>\n\n<pre><code>list.forEach(a -&gt; {\na.setA1(\"newA1\");\na.setA2(\"newA2\");\n});\n</code></pre>\n\n<p>I am not able to get updated values for <strong><code>a1 and a2</code></strong> in case of <strong><code>Builder</code></strong> with <strong><code>Lambda</code></strong></p>\n"},{"tags":["java","spring-boot","model-view-controller","struts2","playback"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680187899,"post_id":75883912,"comment_id":133858885,"body_markdown":"There&#39;s no integration available to Spring Boot. However, if you work with Struts2, then it integrates to Spring via plugin. Merely you can find links to Struts documentation in [this](https://stackoverflow.com/a/40932062/573032) answer.","body":"There&#39;s no integration available to Spring Boot. However, if you work with Struts2, then it integrates to Spring via plugin. Merely you can find links to Struts documentation in <a href=\"https://stackoverflow.com/a/40932062/573032\">this</a> answer."}],"answers":[{"tags":[],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680189823,"creation_date":1680159481,"answer_id":75885024,"question_id":75883912,"body_markdown":"Did you try to add those dependencies to your pom.xml file?\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n  &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\r\n  &lt;version&gt;2.5.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n  &lt;artifactId&gt;struts2-junit-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.5.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n  &lt;artifactId&gt;struts2-convention-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.5.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere you also have few articles and documentation about integrating Spring app with Struts:\r\n\r\nhttps://www.baeldung.com/struts-2-intro\r\n\r\nhttps://struts.apache.org/getting-started/spring\r\n\r\nI&#39;ve also found a sample project here:\r\n\r\nhttps://github.com/linux-china/struts2-spring-boot-integration","title":"Spring-Boot based","body":"<p>Did you try to add those dependencies to your pom.xml file?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n  &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n  &lt;artifactId&gt;struts2-junit-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n  &lt;artifactId&gt;struts2-convention-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here you also have few articles and documentation about integrating Spring app with Struts:</p>\n<p><a href=\"https://www.baeldung.com/struts-2-intro\" rel=\"nofollow noreferrer\">https://www.baeldung.com/struts-2-intro</a></p>\n<p><a href=\"https://struts.apache.org/getting-started/spring\" rel=\"nofollow noreferrer\">https://struts.apache.org/getting-started/spring</a></p>\n<p>I've also found a sample project here:</p>\n<p><a href=\"https://github.com/linux-china/struts2-spring-boot-integration\" rel=\"nofollow noreferrer\">https://github.com/linux-china/struts2-spring-boot-integration</a></p>\n"}],"owner":{"account_id":25539641,"reputation":1,"user_id":19325977,"display_name":"Ben Billion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680511820,"creation_date":1680147587,"question_id":75883912,"body_markdown":"How can Spring Boot be integrated with other Java frameworks such as Play or Struts?\r\n\r\nI am working on a Java web application using Spring Boot and I would like to know how I can integrate it with other Java frameworks such as Play or Struts. I have looked through the Spring Boot documentation and searched online, but I haven&#39;t been able to find any clear guidance on this topic.\r\n\r\nCan anyone provide guidance or examples of how to integrate Spring Boot with Play or Struts? Specifically, I am interested in understanding how to handle routing, request handling, and dependency injection when combining these frameworks.\r\n\r\nI have tried experimenting with different approaches, but I keep running into issues with conflicting dependencies or incompatible configuration options. I am hoping that someone with more experience in this area can provide some guidance or best practices.\r\n","title":"Spring-Boot based","body":"<p>How can Spring Boot be integrated with other Java frameworks such as Play or Struts?</p>\n<p>I am working on a Java web application using Spring Boot and I would like to know how I can integrate it with other Java frameworks such as Play or Struts. I have looked through the Spring Boot documentation and searched online, but I haven't been able to find any clear guidance on this topic.</p>\n<p>Can anyone provide guidance or examples of how to integrate Spring Boot with Play or Struts? Specifically, I am interested in understanding how to handle routing, request handling, and dependency injection when combining these frameworks.</p>\n<p>I have tried experimenting with different approaches, but I keep running into issues with conflicting dependencies or incompatible configuration options. I am hoping that someone with more experience in this area can provide some guidance or best practices.</p>\n"},{"tags":["java","android","http","server","android-volley"],"answers":[{"tags":[],"owner":{"account_id":9120570,"reputation":437,"user_id":6786113,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680153623,"creation_date":1680153623,"answer_id":75884371,"question_id":75861145,"body_markdown":"Please do the following steps and check if it&#39;s working for you\r\n1) Check if you are getting any timeout or network connectivity issues or server errors.\r\n2) Try to use RequestBody or MultiPartRequest.\r\n3) Check if your server can handle concurrent requests.\r\n4) There are better libraries than Volly for this kind of task eg. Retrofit,  for handling multiple file upload\r\n5) Also Check server logs for any errors.","title":"Volley throws AuthFailureError","body":"<p>Please do the following steps and check if it's working for you</p>\n<ol>\n<li>Check if you are getting any timeout or network connectivity issues or server errors.</li>\n<li>Try to use RequestBody or MultiPartRequest.</li>\n<li>Check if your server can handle concurrent requests.</li>\n<li>There are better libraries than Volly for this kind of task eg. Retrofit,  for handling multiple file upload</li>\n<li>Also Check server logs for any errors.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15010219,"reputation":55,"user_id":10834931,"display_name":"Darian Pudic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680511755,"creation_date":1680511755,"answer_id":75917602,"question_id":75861145,"body_markdown":"Thanks everyone for answers. The problem was in ModSecurity, an Apache module that works as a web application firewall. I contacted hosting provider and they told be that was the issue.\r\n\r\nIf you are experiencing the same issue, check your server logs and provide them to your hosting provider to investigate if this is your issue. ","title":"Volley throws AuthFailureError","body":"<p>Thanks everyone for answers. The problem was in ModSecurity, an Apache module that works as a web application firewall. I contacted hosting provider and they told be that was the issue.</p>\n<p>If you are experiencing the same issue, check your server logs and provide them to your hosting provider to investigate if this is your issue.</p>\n"}],"owner":{"account_id":15010219,"reputation":55,"user_id":10834931,"display_name":"Darian Pudic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75917602,"answer_count":2,"score":0,"last_activity_date":1680511755,"creation_date":1679959019,"question_id":75861145,"body_markdown":"I am using Volley to upload pictures from Android application to server. In case when I have more than 3 pictures for upload, Volley throws AuthFailureError, even though I don&#39;t use any kind of authentication. For each picture, I am using separate request, which is sent when I receive response for previous one. Here is a code. Does anyone know what is the problem? Or shall I simply switch to Retrofit? Thanks!\r\n\r\n    private void sendRequest(String control){\r\n\r\n        Toast.makeText(MainReviewActivity.this, control, Toast.LENGTH_LONG).show();\r\n\r\n        //Toast.makeText(AfterLoginActivity.this, control, Toast.LENGTH_LONG).show();\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, UploadUrl, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                try {\r\n                    waiting_search_results = 0;\r\n                    JSONObject jsonObject = new JSONObject(response);\r\n                    String Response = jsonObject.getString(&quot;response&quot;);\r\n                    if (control.equals(&quot;review_page_restaurant_search&quot;) || control.equals(&quot;review_page_meal_search&quot;)){\r\n                        prepareSearchResultDataFromServer(control, Response);\r\n                    } else{\r\n                        if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                            if (Response.equals(&quot;Success&quot;)){\r\n                                // check if there are pics to send\r\n                                Log.d(&quot;debug:&quot;, &quot;Perform review - positive resp received&quot;);\r\n                                enablePicSending = 1;\r\n                            } else{\r\n                                loadingDialog.dismissDialog();\r\n                                Toast.makeText(MainReviewActivity.this, &quot;Greška u slanju ocene, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        } else{\r\n                            // control equals &quot;review_page_upload_pic&quot;\r\n                            Log.d(&quot;debug:&quot;, &quot;Uploading pic - resp received&quot;);\r\n                            waitingPicSendingResp = 0;\r\n                        }\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(final VolleyError error) {\r\n                loadingDialog.dismissDialog();\r\n                Log.d(&quot;debug:&quot;, &quot;Error occurred: &quot; + error);\r\n                //Bundle bundle = new Bundle();\r\n                //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\r\n                //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Volley failed during: &quot; + control + &quot;, reason: &quot; + error);\r\n                //mFirebaseAnalytics.logEvent(&quot;Sending_failed&quot;, bundle);\r\n                Toast.makeText(MainReviewActivity.this, error.toString(), Toast.LENGTH_LONG).show();\r\n                if (control.equals(&quot;review_page_upload_pic&quot;)){\r\n                    Toast.makeText(MainReviewActivity.this, &quot;Slanje slika nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                } else{\r\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                        Toast.makeText(MainReviewActivity.this, &quot;Slanje ocene nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                    } else{\r\n                        Toast.makeText(MainReviewActivity.this, &quot;Greška u komunikaciji&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n                finish();\r\n            }\r\n        })\r\n\r\n        {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n\r\n                params.put(&quot;control&quot;, control);\r\n                params.put(&quot;city&quot;, selectedCity);\r\n                if (control.equals(&quot;review_page_restaurant_search&quot;)){\r\n                    params.put(&quot;search_word&quot;, search_word);\r\n                } else{\r\n                    if (control.equals(&quot;review_page_meal_search&quot;)){\r\n                        params.put(&quot;search_word&quot;, search_word);\r\n                        params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                    } else{\r\n                        if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                            params.put(&quot;reviewer_pic&quot;, reviewer_pic);\r\n                            params.put(&quot;reviewer_name&quot;, person_name);\r\n                            params.put(&quot;reviewer_nick&quot;, reviewer_nick);\r\n                            params.put(&quot;review_date&quot;, date);\r\n                            params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                            params.put(&quot;ambient&quot;, ambientGrade);\r\n                            params.put(&quot;quick&quot;, quickGrade);\r\n                            params.put(&quot;ratio&quot;, ratioGrade);\r\n                            params.put(&quot;personnel&quot;, personnelGrade);\r\n                            params.put(&quot;restaurant_comment&quot;, restaurantComment);\r\n                            params.put(&quot;meal&quot;, selectedMeal);\r\n                            params.put(&quot;amount&quot;, amountGrade);\r\n                            params.put(&quot;taste&quot;, tasteGrade);\r\n                            params.put(&quot;price&quot;, priceGrade);\r\n                            params.put(&quot;meal_comment&quot;, mealComment);\r\n                        } else{\r\n                            if (control.equals(&quot;review_page_upload_pic&quot;)){\r\n                                Log.d(&quot;debug:&quot;, &quot;Triggering pic sending: &quot; + picType);\r\n                                Log.d(&quot;debug:&quot;, &quot;Restaurant: &quot; + selectedRestaurant);\r\n                                Log.d(&quot;debug:&quot;, &quot;Meal: &quot; + selectedMeal);\r\n                                //Bundle bundle = new Bundle();\r\n                                //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\r\n                                //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Triggering pic sending: &quot; + picType + &quot;, restaurant: &quot; + selectedRestaurant + &quot;, meal: &quot; + selectedMeal);\r\n                                //mFirebaseAnalytics.logEvent(&quot;Pic_sending&quot;, bundle);\r\n                                params.put(&quot;type&quot;, picType);\r\n                                params.put(&quot;pic&quot;, pic);\r\n                                params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                                params.put(&quot;meal&quot;, selectedMeal);\r\n                            } else{\r\n                                // should not happen\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return params;\r\n            }\r\n\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                headers.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n\r\n                return headers;\r\n            }\r\n\r\n            @Override\r\n            public String getBodyContentType() {\r\n                return &quot;application/x-www-form-urlencoded&quot;;\r\n            }\r\n        };\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(MainReviewActivity.this);\r\n        requestQueue.add(stringRequest);\r\n    }\r\n\r\n**EDIT**\r\nI read more about `Authentication failure` and I noticed in documentation that when that happens, server shall provide `WWW-Authenticate` response header, so I tried to read it with `parseNetworkResponse` function. In the moment of Toasting (i.e. the moment after parsing the latest network response), my observations are following: `WWW-Authenticate` header is missing, some pictures are not uploaded to server, server provided response 200, but Volley called onErrorResponse method (from which I am Toasting). How is it possible to receive response 200, but AuthFailureError is detected in OnErrorResponse method? New code, with parsing network response and debug Toasts:\r\n\r\n    private void sendRequest(String control){\r\n\r\n        //Toast.makeText(MainReviewActivity.this, control, Toast.LENGTH_LONG).show();\r\n\r\n        //Toast.makeText(AfterLoginActivity.this, control, Toast.LENGTH_LONG).show();\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, UploadUrl, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                try {\r\n                    waiting_search_results = 0;\r\n                    JSONObject jsonObject = new JSONObject(response);\r\n                    String Response = jsonObject.getString(&quot;response&quot;);\r\n                    if (control.equals(&quot;review_page_restaurant_search&quot;) || control.equals(&quot;review_page_meal_search&quot;)){\r\n                        prepareSearchResultDataFromServer(control, Response);\r\n                    } else{\r\n                        if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                            if (Response.equals(&quot;Success&quot;)){\r\n                                // check if there are pics to send\r\n                                Log.d(&quot;debug:&quot;, &quot;Perform review - positive resp received&quot;);\r\n                                enablePicSending = 1;\r\n                            } else{\r\n                                loadingDialog.dismissDialog();\r\n                                Toast.makeText(MainReviewActivity.this, &quot;Greška u slanju ocene, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        } else{\r\n                            // control equals &quot;review_page_upload_pic&quot;\r\n                            success_count++;\r\n                            //Toast.makeText(MainReviewActivity.this, Response, Toast.LENGTH_LONG).show();\r\n                            Log.d(&quot;debug:&quot;, &quot;Uploading pic - resp received&quot;);\r\n                            waitingPicSendingResp = 0;\r\n                        }\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(final VolleyError error) {\r\n                loadingDialog.dismissDialog();\r\n                Log.d(&quot;debug:&quot;, &quot;Error occurred: &quot; + error);\r\n                error_count++;\r\n                Toast.makeText(MainReviewActivity.this, &quot;Parse count: &quot; + String.valueOf(parse_count), Toast.LENGTH_LONG).show();\r\n                Toast.makeText(MainReviewActivity.this, &quot;Error count: &quot; + String.valueOf(error_count), Toast.LENGTH_LONG).show();\r\n                Toast.makeText(MainReviewActivity.this, &quot;Success count: &quot; + String.valueOf(success_count), Toast.LENGTH_LONG).show();\r\n                for (int i = 0; i &lt; names.length; i++){\r\n                    Toast.makeText(MainReviewActivity.this, &quot;Name: &quot; + names[i] + &quot; Value: &quot; + values[i], Toast.LENGTH_LONG).show();\r\n                }\r\n                //Toast.makeText(MainReviewActivity.this, &quot;Success: &quot; + String.valueOf(success_count) + &quot; Error: &quot; + String.valueOf(error_count) + &quot;Parse: &quot; + String.valueOf(parse_count), Toast.LENGTH_LONG).show();\r\n                //Toast.makeText(MainReviewActivity.this, error.getCause().toString(), Toast.LENGTH_LONG).show();\r\n                //Toast.makeText(MainReviewActivity.this, error.getCause().getMessage(), Toast.LENGTH_LONG).show();\r\n                //Toast.makeText(MainReviewActivity.this, error.getLocalizedMessage(), Toast.LENGTH_LONG).show();\r\n                //Bundle bundle = new Bundle();\r\n                //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\r\n                //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Volley failed during: &quot; + control + &quot;, reason: &quot; + error);\r\n                //mFirebaseAnalytics.logEvent(&quot;Sending_failed&quot;, bundle);\r\n                //Toast.makeText(MainReviewActivity.this, error.toString(), Toast.LENGTH_LONG).show();\r\n                if (control.equals(&quot;review_page_upload_pic&quot;)){\r\n                    Toast.makeText(MainReviewActivity.this, &quot;Slanje pojedinih slika nije uspelo, ali je ocena poslata uspešno&quot;, Toast.LENGTH_LONG).show();\r\n                } else{\r\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                        Toast.makeText(MainReviewActivity.this, &quot;Slanje ocene nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\r\n                    } else{\r\n                        Toast.makeText(MainReviewActivity.this, &quot;Greška u komunikaciji&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n                finish();\r\n            }\r\n        })\r\n\r\n        {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n\r\n                params.put(&quot;control&quot;, control);\r\n                params.put(&quot;city&quot;, selectedCity);\r\n                if (control.equals(&quot;review_page_restaurant_search&quot;)){\r\n                    params.put(&quot;search_word&quot;, search_word);\r\n                } else{\r\n                    if (control.equals(&quot;review_page_meal_search&quot;)){\r\n                        params.put(&quot;search_word&quot;, search_word);\r\n                        params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                    } else{\r\n                        if (control.equals(&quot;review_page_perform_review&quot;)){\r\n                            params.put(&quot;reviewer_pic&quot;, reviewer_pic);\r\n                            params.put(&quot;reviewer_name&quot;, person_name);\r\n                            params.put(&quot;reviewer_nick&quot;, reviewer_nick);\r\n                            params.put(&quot;review_date&quot;, date);\r\n                            params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                            params.put(&quot;ambient&quot;, ambientGrade);\r\n                            params.put(&quot;quick&quot;, quickGrade);\r\n                            params.put(&quot;ratio&quot;, ratioGrade);\r\n                            params.put(&quot;personnel&quot;, personnelGrade);\r\n                            params.put(&quot;restaurant_comment&quot;, restaurantComment);\r\n                            params.put(&quot;meal&quot;, selectedMeal);\r\n                            params.put(&quot;amount&quot;, amountGrade);\r\n                            params.put(&quot;taste&quot;, tasteGrade);\r\n                            params.put(&quot;price&quot;, priceGrade);\r\n                            params.put(&quot;meal_comment&quot;, mealComment);\r\n                        } else{\r\n                            if (control.equals(&quot;review_page_upload_pic&quot;)){\r\n                                Log.d(&quot;debug:&quot;, &quot;Triggering pic sending: &quot; + picType);\r\n                                Log.d(&quot;debug:&quot;, &quot;Restaurant: &quot; + selectedRestaurant);\r\n                                Log.d(&quot;debug:&quot;, &quot;Meal: &quot; + selectedMeal);\r\n                                //Bundle bundle = new Bundle();\r\n                                //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\r\n                                //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Triggering pic sending: &quot; + picType + &quot;, restaurant: &quot; + selectedRestaurant + &quot;, meal: &quot; + selectedMeal);\r\n                                //mFirebaseAnalytics.logEvent(&quot;Pic_sending&quot;, bundle);\r\n                                params.put(&quot;type&quot;, picType);\r\n                                params.put(&quot;pic&quot;, pic);\r\n                                params.put(&quot;restaurant&quot;, selectedRestaurant);\r\n                                params.put(&quot;meal&quot;, selectedMeal);\r\n                            } else{\r\n                                // should not happen\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return params;\r\n            }\r\n\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                headers.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n                headers.put(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n                return headers;\r\n            }\r\n\r\n            @Override\r\n            public String getBodyContentType()\r\n            {\r\n                return &quot;application/x-www-form-urlencoded&quot;;\r\n            }\r\n\r\n            @Override\r\n            protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\r\n\r\n                parse_count++;\r\n\r\n                names = new String[response.allHeaders.size()];\r\n                values = new String[response.allHeaders.size()];\r\n\r\n                for (int i = 0; i &lt; response.allHeaders.size(); i++){\r\n                    names[i] = response.allHeaders.get(i).getName();\r\n                    values[i] = response.allHeaders.get(i).getValue();\r\n                    Log.d(&quot;debug:&quot;, &quot;parse_count&quot; + parse_count);\r\n                    Log.d(&quot;debug:&quot;, &quot;names&quot; + i + &quot;: &quot; + names[i]);\r\n                    Log.d(&quot;debug:&quot;, &quot;values&quot; + i + &quot;: &quot; + values[i]);\r\n                }\r\n\r\n                return super.parseNetworkResponse(response);\r\n            }\r\n        };\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(MainReviewActivity.this);\r\n        requestQueue.add(stringRequest);\r\n    }","title":"Volley throws AuthFailureError","body":"<p>I am using Volley to upload pictures from Android application to server. In case when I have more than 3 pictures for upload, Volley throws AuthFailureError, even though I don't use any kind of authentication. For each picture, I am using separate request, which is sent when I receive response for previous one. Here is a code. Does anyone know what is the problem? Or shall I simply switch to Retrofit? Thanks!</p>\n<pre><code>private void sendRequest(String control){\n\n    Toast.makeText(MainReviewActivity.this, control, Toast.LENGTH_LONG).show();\n\n    //Toast.makeText(AfterLoginActivity.this, control, Toast.LENGTH_LONG).show();\n\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, UploadUrl, new Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response) {\n            try {\n                waiting_search_results = 0;\n                JSONObject jsonObject = new JSONObject(response);\n                String Response = jsonObject.getString(&quot;response&quot;);\n                if (control.equals(&quot;review_page_restaurant_search&quot;) || control.equals(&quot;review_page_meal_search&quot;)){\n                    prepareSearchResultDataFromServer(control, Response);\n                } else{\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\n                        if (Response.equals(&quot;Success&quot;)){\n                            // check if there are pics to send\n                            Log.d(&quot;debug:&quot;, &quot;Perform review - positive resp received&quot;);\n                            enablePicSending = 1;\n                        } else{\n                            loadingDialog.dismissDialog();\n                            Toast.makeText(MainReviewActivity.this, &quot;Greška u slanju ocene, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    } else{\n                        // control equals &quot;review_page_upload_pic&quot;\n                        Log.d(&quot;debug:&quot;, &quot;Uploading pic - resp received&quot;);\n                        waitingPicSendingResp = 0;\n                    }\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(final VolleyError error) {\n            loadingDialog.dismissDialog();\n            Log.d(&quot;debug:&quot;, &quot;Error occurred: &quot; + error);\n            //Bundle bundle = new Bundle();\n            //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\n            //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Volley failed during: &quot; + control + &quot;, reason: &quot; + error);\n            //mFirebaseAnalytics.logEvent(&quot;Sending_failed&quot;, bundle);\n            Toast.makeText(MainReviewActivity.this, error.toString(), Toast.LENGTH_LONG).show();\n            if (control.equals(&quot;review_page_upload_pic&quot;)){\n                Toast.makeText(MainReviewActivity.this, &quot;Slanje slika nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n            } else{\n                if (control.equals(&quot;review_page_perform_review&quot;)){\n                    Toast.makeText(MainReviewActivity.this, &quot;Slanje ocene nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n                } else{\n                    Toast.makeText(MainReviewActivity.this, &quot;Greška u komunikaciji&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n            finish();\n        }\n    })\n\n    {\n        @Override\n        protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n\n            params.put(&quot;control&quot;, control);\n            params.put(&quot;city&quot;, selectedCity);\n            if (control.equals(&quot;review_page_restaurant_search&quot;)){\n                params.put(&quot;search_word&quot;, search_word);\n            } else{\n                if (control.equals(&quot;review_page_meal_search&quot;)){\n                    params.put(&quot;search_word&quot;, search_word);\n                    params.put(&quot;restaurant&quot;, selectedRestaurant);\n                } else{\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\n                        params.put(&quot;reviewer_pic&quot;, reviewer_pic);\n                        params.put(&quot;reviewer_name&quot;, person_name);\n                        params.put(&quot;reviewer_nick&quot;, reviewer_nick);\n                        params.put(&quot;review_date&quot;, date);\n                        params.put(&quot;restaurant&quot;, selectedRestaurant);\n                        params.put(&quot;ambient&quot;, ambientGrade);\n                        params.put(&quot;quick&quot;, quickGrade);\n                        params.put(&quot;ratio&quot;, ratioGrade);\n                        params.put(&quot;personnel&quot;, personnelGrade);\n                        params.put(&quot;restaurant_comment&quot;, restaurantComment);\n                        params.put(&quot;meal&quot;, selectedMeal);\n                        params.put(&quot;amount&quot;, amountGrade);\n                        params.put(&quot;taste&quot;, tasteGrade);\n                        params.put(&quot;price&quot;, priceGrade);\n                        params.put(&quot;meal_comment&quot;, mealComment);\n                    } else{\n                        if (control.equals(&quot;review_page_upload_pic&quot;)){\n                            Log.d(&quot;debug:&quot;, &quot;Triggering pic sending: &quot; + picType);\n                            Log.d(&quot;debug:&quot;, &quot;Restaurant: &quot; + selectedRestaurant);\n                            Log.d(&quot;debug:&quot;, &quot;Meal: &quot; + selectedMeal);\n                            //Bundle bundle = new Bundle();\n                            //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\n                            //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Triggering pic sending: &quot; + picType + &quot;, restaurant: &quot; + selectedRestaurant + &quot;, meal: &quot; + selectedMeal);\n                            //mFirebaseAnalytics.logEvent(&quot;Pic_sending&quot;, bundle);\n                            params.put(&quot;type&quot;, picType);\n                            params.put(&quot;pic&quot;, pic);\n                            params.put(&quot;restaurant&quot;, selectedRestaurant);\n                            params.put(&quot;meal&quot;, selectedMeal);\n                        } else{\n                            // should not happen\n                        }\n                    }\n                }\n            }\n\n            return params;\n        }\n\n        @Override\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n            HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n            headers.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\n\n            return headers;\n        }\n\n        @Override\n        public String getBodyContentType() {\n            return &quot;application/x-www-form-urlencoded&quot;;\n        }\n    };\n\n    RequestQueue requestQueue = Volley.newRequestQueue(MainReviewActivity.this);\n    requestQueue.add(stringRequest);\n}\n</code></pre>\n<p><strong>EDIT</strong>\nI read more about <code>Authentication failure</code> and I noticed in documentation that when that happens, server shall provide <code>WWW-Authenticate</code> response header, so I tried to read it with <code>parseNetworkResponse</code> function. In the moment of Toasting (i.e. the moment after parsing the latest network response), my observations are following: <code>WWW-Authenticate</code> header is missing, some pictures are not uploaded to server, server provided response 200, but Volley called onErrorResponse method (from which I am Toasting). How is it possible to receive response 200, but AuthFailureError is detected in OnErrorResponse method? New code, with parsing network response and debug Toasts:</p>\n<pre><code>private void sendRequest(String control){\n\n    //Toast.makeText(MainReviewActivity.this, control, Toast.LENGTH_LONG).show();\n\n    //Toast.makeText(AfterLoginActivity.this, control, Toast.LENGTH_LONG).show();\n\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, UploadUrl, new Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response) {\n            try {\n                waiting_search_results = 0;\n                JSONObject jsonObject = new JSONObject(response);\n                String Response = jsonObject.getString(&quot;response&quot;);\n                if (control.equals(&quot;review_page_restaurant_search&quot;) || control.equals(&quot;review_page_meal_search&quot;)){\n                    prepareSearchResultDataFromServer(control, Response);\n                } else{\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\n                        if (Response.equals(&quot;Success&quot;)){\n                            // check if there are pics to send\n                            Log.d(&quot;debug:&quot;, &quot;Perform review - positive resp received&quot;);\n                            enablePicSending = 1;\n                        } else{\n                            loadingDialog.dismissDialog();\n                            Toast.makeText(MainReviewActivity.this, &quot;Greška u slanju ocene, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    } else{\n                        // control equals &quot;review_page_upload_pic&quot;\n                        success_count++;\n                        //Toast.makeText(MainReviewActivity.this, Response, Toast.LENGTH_LONG).show();\n                        Log.d(&quot;debug:&quot;, &quot;Uploading pic - resp received&quot;);\n                        waitingPicSendingResp = 0;\n                    }\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(final VolleyError error) {\n            loadingDialog.dismissDialog();\n            Log.d(&quot;debug:&quot;, &quot;Error occurred: &quot; + error);\n            error_count++;\n            Toast.makeText(MainReviewActivity.this, &quot;Parse count: &quot; + String.valueOf(parse_count), Toast.LENGTH_LONG).show();\n            Toast.makeText(MainReviewActivity.this, &quot;Error count: &quot; + String.valueOf(error_count), Toast.LENGTH_LONG).show();\n            Toast.makeText(MainReviewActivity.this, &quot;Success count: &quot; + String.valueOf(success_count), Toast.LENGTH_LONG).show();\n            for (int i = 0; i &lt; names.length; i++){\n                Toast.makeText(MainReviewActivity.this, &quot;Name: &quot; + names[i] + &quot; Value: &quot; + values[i], Toast.LENGTH_LONG).show();\n            }\n            //Toast.makeText(MainReviewActivity.this, &quot;Success: &quot; + String.valueOf(success_count) + &quot; Error: &quot; + String.valueOf(error_count) + &quot;Parse: &quot; + String.valueOf(parse_count), Toast.LENGTH_LONG).show();\n            //Toast.makeText(MainReviewActivity.this, error.getCause().toString(), Toast.LENGTH_LONG).show();\n            //Toast.makeText(MainReviewActivity.this, error.getCause().getMessage(), Toast.LENGTH_LONG).show();\n            //Toast.makeText(MainReviewActivity.this, error.getLocalizedMessage(), Toast.LENGTH_LONG).show();\n            //Bundle bundle = new Bundle();\n            //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\n            //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Volley failed during: &quot; + control + &quot;, reason: &quot; + error);\n            //mFirebaseAnalytics.logEvent(&quot;Sending_failed&quot;, bundle);\n            //Toast.makeText(MainReviewActivity.this, error.toString(), Toast.LENGTH_LONG).show();\n            if (control.equals(&quot;review_page_upload_pic&quot;)){\n                Toast.makeText(MainReviewActivity.this, &quot;Slanje pojedinih slika nije uspelo, ali je ocena poslata uspešno&quot;, Toast.LENGTH_LONG).show();\n            } else{\n                if (control.equals(&quot;review_page_perform_review&quot;)){\n                    Toast.makeText(MainReviewActivity.this, &quot;Slanje ocene nije uspelo, pokušajte ponovo&quot;, Toast.LENGTH_LONG).show();\n                } else{\n                    Toast.makeText(MainReviewActivity.this, &quot;Greška u komunikaciji&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n            finish();\n        }\n    })\n\n    {\n        @Override\n        protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n\n            params.put(&quot;control&quot;, control);\n            params.put(&quot;city&quot;, selectedCity);\n            if (control.equals(&quot;review_page_restaurant_search&quot;)){\n                params.put(&quot;search_word&quot;, search_word);\n            } else{\n                if (control.equals(&quot;review_page_meal_search&quot;)){\n                    params.put(&quot;search_word&quot;, search_word);\n                    params.put(&quot;restaurant&quot;, selectedRestaurant);\n                } else{\n                    if (control.equals(&quot;review_page_perform_review&quot;)){\n                        params.put(&quot;reviewer_pic&quot;, reviewer_pic);\n                        params.put(&quot;reviewer_name&quot;, person_name);\n                        params.put(&quot;reviewer_nick&quot;, reviewer_nick);\n                        params.put(&quot;review_date&quot;, date);\n                        params.put(&quot;restaurant&quot;, selectedRestaurant);\n                        params.put(&quot;ambient&quot;, ambientGrade);\n                        params.put(&quot;quick&quot;, quickGrade);\n                        params.put(&quot;ratio&quot;, ratioGrade);\n                        params.put(&quot;personnel&quot;, personnelGrade);\n                        params.put(&quot;restaurant_comment&quot;, restaurantComment);\n                        params.put(&quot;meal&quot;, selectedMeal);\n                        params.put(&quot;amount&quot;, amountGrade);\n                        params.put(&quot;taste&quot;, tasteGrade);\n                        params.put(&quot;price&quot;, priceGrade);\n                        params.put(&quot;meal_comment&quot;, mealComment);\n                    } else{\n                        if (control.equals(&quot;review_page_upload_pic&quot;)){\n                            Log.d(&quot;debug:&quot;, &quot;Triggering pic sending: &quot; + picType);\n                            Log.d(&quot;debug:&quot;, &quot;Restaurant: &quot; + selectedRestaurant);\n                            Log.d(&quot;debug:&quot;, &quot;Meal: &quot; + selectedMeal);\n                            //Bundle bundle = new Bundle();\n                            //bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;string&quot;);\n                            //bundle.putString(FirebaseAnalytics.Param.CONTENT, &quot;Triggering pic sending: &quot; + picType + &quot;, restaurant: &quot; + selectedRestaurant + &quot;, meal: &quot; + selectedMeal);\n                            //mFirebaseAnalytics.logEvent(&quot;Pic_sending&quot;, bundle);\n                            params.put(&quot;type&quot;, picType);\n                            params.put(&quot;pic&quot;, pic);\n                            params.put(&quot;restaurant&quot;, selectedRestaurant);\n                            params.put(&quot;meal&quot;, selectedMeal);\n                        } else{\n                            // should not happen\n                        }\n                    }\n                }\n            }\n\n            return params;\n        }\n\n        @Override\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n            HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n            headers.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\n            headers.put(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n            return headers;\n        }\n\n        @Override\n        public String getBodyContentType()\n        {\n            return &quot;application/x-www-form-urlencoded&quot;;\n        }\n\n        @Override\n        protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\n\n            parse_count++;\n\n            names = new String[response.allHeaders.size()];\n            values = new String[response.allHeaders.size()];\n\n            for (int i = 0; i &lt; response.allHeaders.size(); i++){\n                names[i] = response.allHeaders.get(i).getName();\n                values[i] = response.allHeaders.get(i).getValue();\n                Log.d(&quot;debug:&quot;, &quot;parse_count&quot; + parse_count);\n                Log.d(&quot;debug:&quot;, &quot;names&quot; + i + &quot;: &quot; + names[i]);\n                Log.d(&quot;debug:&quot;, &quot;values&quot; + i + &quot;: &quot; + values[i]);\n            }\n\n            return super.parseNetworkResponse(response);\n        }\n    };\n\n    RequestQueue requestQueue = Volley.newRequestQueue(MainReviewActivity.this);\n    requestQueue.add(stringRequest);\n}\n</code></pre>\n"},{"tags":["java","soap","wsdl","cxf"],"owner":{"account_id":9928788,"reputation":67,"user_id":7349475,"display_name":"George Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680511701,"creation_date":1680511701,"question_id":75917591,"body_markdown":"The proxy, stub code (the auto generated client and server code) when using WSDL first approach and using Apache CXF libraries have entries as follows in one of the auto generated class (highlighted one class as an example)\r\n\r\nThe below auto generated class AdviceType  is in package \r\noasis.names.tc.saml._1_0.assertion;\r\n\r\nAn extract from the class is as follows\r\n```\r\npackage oasis.names.tc.saml._1_0.assertion;\r\n//...\r\npublic class AdviceType {\r\n\r\n    @XmlElementRefs({\r\n        @XmlElementRef(name = &quot;AssertionIDReference&quot;, namespace = &quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;, type = JAXBElement.class, required = false),\r\n        @XmlElementRef(name = &quot;Assertion&quot;, namespace = &quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;, type = JAXBElement.class, required = false)\r\n    })\r\n//.......\r\n```\r\nIf I change the package from **oasis.names.tc.saml._1_0.assertion** to  **com.mycompany.cxf.common.saml10** and for the auto generated class, will it affect any functionality? The reason I ask is that @XmlElementRef has a namespsace argument and I am not sure it has any relation to package name.\r\n\r\nThe WSDL file I use is a legacy SPML based one which has couple of xsd files referenced.\r\nExtract from the saml specific .xsd file used by wsdl\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;schema targetNamespace=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot; xmlns=http://www.w3.org/2001/XMLSchema xmlns:saml=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot; xmlns:ds=http://www.w3.org/2000/09/xmldsig# elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;1.1&quot;&gt;\r\n              &lt;import namespace=http://www.w3.org/2000/09/xmldsig# schemaLocation=&quot;xmldsig-core-schema.xsd&quot;/&gt; \r\n```\r\n\r\n","title":"Query on namespace and auto generated package","body":"<p>The proxy, stub code (the auto generated client and server code) when using WSDL first approach and using Apache CXF libraries have entries as follows in one of the auto generated class (highlighted one class as an example)</p>\n<p>The below auto generated class AdviceType  is in package\noasis.names.tc.saml._1_0.assertion;</p>\n<p>An extract from the class is as follows</p>\n<pre><code>package oasis.names.tc.saml._1_0.assertion;\n//...\npublic class AdviceType {\n\n    @XmlElementRefs({\n        @XmlElementRef(name = &quot;AssertionIDReference&quot;, namespace = &quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;, type = JAXBElement.class, required = false),\n        @XmlElementRef(name = &quot;Assertion&quot;, namespace = &quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;, type = JAXBElement.class, required = false)\n    })\n//.......\n</code></pre>\n<p>If I change the package from <strong>oasis.names.tc.saml._1_0.assertion</strong> to  <strong>com.mycompany.cxf.common.saml10</strong> and for the auto generated class, will it affect any functionality? The reason I ask is that @XmlElementRef has a namespsace argument and I am not sure it has any relation to package name.</p>\n<p>The WSDL file I use is a legacy SPML based one which has couple of xsd files referenced.\nExtract from the saml specific .xsd file used by wsdl</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;schema targetNamespace=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot; xmlns=http://www.w3.org/2001/XMLSchema xmlns:saml=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot; xmlns:ds=http://www.w3.org/2000/09/xmldsig# elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; version=&quot;1.1&quot;&gt;\n              &lt;import namespace=http://www.w3.org/2000/09/xmldsig# schemaLocation=&quot;xmldsig-core-schema.xsd&quot;/&gt; \n</code></pre>\n"},{"tags":["java","spring-boot","jenkins","redis"],"owner":{"account_id":25341942,"reputation":1,"user_id":19160221,"display_name":"Sahal Ghafur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680511624,"creation_date":1680511624,"question_id":75917575,"body_markdown":"I&#39;ve been trying to setup Redis Configuration on my spring boot project. It runs fine on my local but fails on Jenkins. There are 5 integration tests which use Redis and they are the one&#39;s which are failing with the following error\r\n\r\n`{&quot;status&quot;:500,&quot;error&quot;:&quot;org.springframework.data.redis.RedisConnectionFailureException&quot;,&quot;message&quot;:&quot;Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379&quot;}`\r\n\r\n\r\nRedisConfiguration.java\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class RedisConfig {\r\n    private RedisProperties redisProperties;\r\n    private RedisClient redisClient;\r\n    private StatefulRedisConnection&lt;String, String&gt; connection;\r\n    @Bean\r\n    public RedisCommands&lt;String,String&gt; connectionFactory() {\r\n        RedisURI redisURI = RedisURI.builder().withHost(redisProperties.getHost()).withPort(redisProperties.getPort()).build();\r\n        redisClient = RedisClient.create(redisURI);\r\n        StatefulRedisConnection&lt;String, String&gt; connection = redisClient.connect();\r\n        System.out.println(&quot;Connected to Redis&quot;);\r\n        return connection.sync();\r\n    }\r\n\r\n    public RedisClusterCommands&lt;String, String&gt; getCommands() {\r\n        return connection.sync();\r\n    }\r\n    public void close() {\r\n        connection.close();\r\n        redisClient.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nWhat&#39;s weird is when I write the below configuration\r\n\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class RedisClusterConfig {\r\n    @Value(&quot;${spring.data.redis.host}&quot;)\r\n    private String redisHostname;\r\n    @Value(&quot;${spring.data.redis.port}&quot;)\r\n    private int redisPort;\r\n    private RedisClusterClient redisClient;\r\n    private StatefulRedisClusterConnection&lt;String, String&gt; connection;\r\n    @Bean\r\n    public RedisAdvancedClusterCommands&lt;String,String&gt; connectionFactory() {\r\n        RedisURI redisURI = RedisURI.builder().withHost(redisHostname).withPort(redisPort).build();\r\n        redisClient = RedisClusterClient.create(redisURI);\r\n        StatefulRedisClusterConnection&lt;String, String&gt; connection = redisClient.connect();\r\n        System.out.println(&quot;Connected to Redis&quot;);\r\n        return connection.sync();\r\n    }\r\n\r\n    public RedisClusterCommands&lt;String, String&gt; getCommands() {\r\n        return connection.sync();\r\n    }\r\n    public void close() {\r\n        connection.close();\r\n        redisClient.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nI get the following error\r\n\r\n`Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.lettuce.core.cluster.api.sync.RedisAdvancedClusterCommands]: Factory method &#39;connectionFactory&#39; threw exception; nested exception is io.lettuce.core.RedisException: Cannot retrieve initial cluster partitions from initial URIs [RedisURI [host=&#39;1d81a8ca99e5&#39;, port=6379]]`\r\n\r\nThe above host is the host that Jenkins sets during runtime. How do I fix this?\r\n\r\n\r\n\r\nI&#39;ve actually tried almost everything but whenever I set @Configuration for Redis, it fails on Jenkins. It passes easily without RedisConfiguration being set. But I do want to set the configuration so it can support Redis Cluster without setting it&#39;s nodes","title":"Spring Boot Test fails on Jenkins","body":"<p>I've been trying to setup Redis Configuration on my spring boot project. It runs fine on my local but fails on Jenkins. There are 5 integration tests which use Redis and they are the one's which are failing with the following error</p>\n<p><code>{&quot;status&quot;:500,&quot;error&quot;:&quot;org.springframework.data.redis.RedisConnectionFailureException&quot;,&quot;message&quot;:&quot;Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379&quot;}</code></p>\n<p>RedisConfiguration.java</p>\n<pre><code>@Configuration\n@Slf4j\npublic class RedisConfig {\n    private RedisProperties redisProperties;\n    private RedisClient redisClient;\n    private StatefulRedisConnection&lt;String, String&gt; connection;\n    @Bean\n    public RedisCommands&lt;String,String&gt; connectionFactory() {\n        RedisURI redisURI = RedisURI.builder().withHost(redisProperties.getHost()).withPort(redisProperties.getPort()).build();\n        redisClient = RedisClient.create(redisURI);\n        StatefulRedisConnection&lt;String, String&gt; connection = redisClient.connect();\n        System.out.println(&quot;Connected to Redis&quot;);\n        return connection.sync();\n    }\n\n    public RedisClusterCommands&lt;String, String&gt; getCommands() {\n        return connection.sync();\n    }\n    public void close() {\n        connection.close();\n        redisClient.shutdown();\n    }\n}\n</code></pre>\n<p>What's weird is when I write the below configuration</p>\n<pre><code>@Configuration\n@Slf4j\npublic class RedisClusterConfig {\n    @Value(&quot;${spring.data.redis.host}&quot;)\n    private String redisHostname;\n    @Value(&quot;${spring.data.redis.port}&quot;)\n    private int redisPort;\n    private RedisClusterClient redisClient;\n    private StatefulRedisClusterConnection&lt;String, String&gt; connection;\n    @Bean\n    public RedisAdvancedClusterCommands&lt;String,String&gt; connectionFactory() {\n        RedisURI redisURI = RedisURI.builder().withHost(redisHostname).withPort(redisPort).build();\n        redisClient = RedisClusterClient.create(redisURI);\n        StatefulRedisClusterConnection&lt;String, String&gt; connection = redisClient.connect();\n        System.out.println(&quot;Connected to Redis&quot;);\n        return connection.sync();\n    }\n\n    public RedisClusterCommands&lt;String, String&gt; getCommands() {\n        return connection.sync();\n    }\n    public void close() {\n        connection.close();\n        redisClient.shutdown();\n    }\n}\n</code></pre>\n<p>I get the following error</p>\n<p><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.lettuce.core.cluster.api.sync.RedisAdvancedClusterCommands]: Factory method 'connectionFactory' threw exception; nested exception is io.lettuce.core.RedisException: Cannot retrieve initial cluster partitions from initial URIs [RedisURI [host='1d81a8ca99e5', port=6379]]</code></p>\n<p>The above host is the host that Jenkins sets during runtime. How do I fix this?</p>\n<p>I've actually tried almost everything but whenever I set @Configuration for Redis, it fails on Jenkins. It passes easily without RedisConfiguration being set. But I do want to set the configuration so it can support Redis Cluster without setting it's nodes</p>\n"},{"tags":["java","classpath","java-11","java-module","java-platform-module-system"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1549905393,"post_id":54635667,"comment_id":96063758,"body_markdown":"Dp share what change have you made to the `ClassLoader` with which you&#39;re trying to patch the existing module.","body":"Dp share what change have you made to the <code>ClassLoader</code> with which you&#39;re trying to patch the existing module."},{"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"score":0,"creation_date":1549906339,"post_id":54635667,"comment_id":96064209,"body_markdown":"@nullpointer I tried various changes, originally I wanted to simply add a field and change something in loadClass. But I just figured that only having the class in the folder is enough already to get this error, no changes needed.","body":"@nullpointer I tried various changes, originally I wanted to simply add a field and change something in loadClass. But I just figured that only having the class in the folder is enough already to get this error, no changes needed."},{"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"score":0,"creation_date":1549969348,"post_id":54635667,"comment_id":96088253,"body_markdown":"@ZhekaKozlov Thanks for commenting but I believe you are talking about the former `java.endorsed.dirs` functionally, aren&#39;t you? I didn&#39;t read nowhere that patching java.base is not allowed. Matter of fact is it even works depending on the compiler being used as you can see from the description above. So I&#39;d appreciate if you could share some technical details or link to a spec confirming this &quot;you should not...&quot;.","body":"@ZhekaKozlov Thanks for commenting but I believe you are talking about the former <code>java.endorsed.dirs</code> functionally, aren&#39;t you? I didn&#39;t read nowhere that patching java.base is not allowed. Matter of fact is it even works depending on the compiler being used as you can see from the description above. So I&#39;d appreciate if you could share some technical details or link to a spec confirming this &quot;you should not...&quot;."},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1549974196,"post_id":54635667,"comment_id":96091225,"body_markdown":"Sorry, forget what I said. `java.base` is indeed not an upgradeable module but this has nothing to do with patching. I confused these two unrelated things. You are allowed to patch `java.base` if you want.","body":"Sorry, forget what I said. <code>java.base</code> is indeed not an upgradeable module but this has nothing to do with patching. I confused these two unrelated things. You are allowed to patch <code>java.base</code> if you want."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1549988676,"creation_date":1549988676,"answer_id":54654523,"question_id":54635667,"body_markdown":"You did already point into the right direction. It works when you compile the class with your current version of Eclipse, because that compiler does not follow [JEP 280] yet, so it doesn’t use `invokedynamic` for string concatenation.\r\n\r\nThis does not imply that using `invokedynamic` in `ClassLoader` is problematic in general. It is only problematic in certain critical code paths executed during the bootstrapping of the `java.lang.invoke` package and apparently, this class does use string concatenation on this code path.\r\n\r\nIn case of `javac`, you can force the use of the old string concatenation code via the option  \r\n`-XDstringConcat=inline`. Looking into the bytecode of the `ClassLoader.class` as shipped with the JDK, it seems this class has been compiled with this option. In fact, looking at some samples, it seems the entire `java.base` module has been compiled with that option, in contrast to, e.g. `java.desktop`, whose classes use `invokedynamic` for string concatenation.\r\n\r\nSo the conclusion is, to patch classes in the `java.base` module (in OpenJDK and derivatives), compile them using the  `-XDstringConcat=inline` option when using `javac`.\r\n\r\n[JEP 280]: http://openjdk.java.net/jeps/280","title":"Patching java.base results in java.lang.LinkageError","body":"<p>You did already point into the right direction. It works when you compile the class with your current version of Eclipse, because that compiler does not follow <a href=\"http://openjdk.java.net/jeps/280\" rel=\"noreferrer\">JEP 280</a> yet, so it doesn’t use <code>invokedynamic</code> for string concatenation.</p>\n\n<p>This does not imply that using <code>invokedynamic</code> in <code>ClassLoader</code> is problematic in general. It is only problematic in certain critical code paths executed during the bootstrapping of the <code>java.lang.invoke</code> package and apparently, this class does use string concatenation on this code path.</p>\n\n<p>In case of <code>javac</code>, you can force the use of the old string concatenation code via the option<br>\n<code>-XDstringConcat=inline</code>. Looking into the bytecode of the <code>ClassLoader.class</code> as shipped with the JDK, it seems this class has been compiled with this option. In fact, looking at some samples, it seems the entire <code>java.base</code> module has been compiled with that option, in contrast to, e.g. <code>java.desktop</code>, whose classes use <code>invokedynamic</code> for string concatenation.</p>\n\n<p>So the conclusion is, to patch classes in the <code>java.base</code> module (in OpenJDK and derivatives), compile them using the  <code>-XDstringConcat=inline</code> option when using <code>javac</code>.</p>\n"}],"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54654523,"answer_count":1,"score":4,"last_activity_date":1680511499,"creation_date":1549904905,"question_id":54635667,"body_markdown":"I am trying to do the same thing in Java 11 that could be done with `-Xbootclasspath/p:path` in pre java 9. \r\n\r\nAs a simple example I modified one of the `valueOf` methods of `java.lang.Integer` and compiled the project with:\r\n\r\n`javac --module-source-path=src/java.base --patch-module java.base=src/java.base -d mods  $(find src -name &#39;*.java&#39;)`\r\n\r\nI then ran a simple sample using: \r\n\r\n`java --patch-module java.base=&lt;pathToMyModifiedJavaBaseClasses&gt; -p lib -m my.moduleA/my.moduleA.Main`\r\n\r\nThat worked an I&#39;m seeing the modifications displayed (a simple print out I did from `valueOf`). \r\n\r\nWhen I try, however, to do the same thing with `java.lang.ClassLoader` I get the following error when executing the program (compile works): \r\n\r\n`Error occurred during initialization of boot layer\r\njava.lang.LinkageError: loader &#39;bootstrap&#39; attempted duplicate class definition for java.lang.invoke.SimpleMethodHandle.`\r\n\r\nI do not even need to make changes in `java.lang.ClassLoader`. The sheer existence of that class in my patch folder seems to be provocing this error. (I only wanted to add a field though at the bottom of the class)\r\n\r\nNOTE: I just figured that it works when the `ClassLoader` class is compiled with Eclipse. One of the few differences I know is that the Eclipse compiler does not seem to follow [JEP 280][1] yet. But there are `invokedynamic` instructions in the bytecode resulting from `javac` as well, so I doubt that this is the problem. \r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/280","title":"Patching java.base results in java.lang.LinkageError","body":"<p>I am trying to do the same thing in Java 11 that could be done with <code>-Xbootclasspath/p:path</code> in pre java 9. </p>\n\n<p>As a simple example I modified one of the <code>valueOf</code> methods of <code>java.lang.Integer</code> and compiled the project with:</p>\n\n<p><code>javac --module-source-path=src/java.base --patch-module java.base=src/java.base -d mods  $(find src -name '*.java')</code></p>\n\n<p>I then ran a simple sample using: </p>\n\n<p><code>java --patch-module java.base=&lt;pathToMyModifiedJavaBaseClasses&gt; -p lib -m my.moduleA/my.moduleA.Main</code></p>\n\n<p>That worked an I'm seeing the modifications displayed (a simple print out I did from <code>valueOf</code>). </p>\n\n<p>When I try, however, to do the same thing with <code>java.lang.ClassLoader</code> I get the following error when executing the program (compile works): </p>\n\n<p><code>Error occurred during initialization of boot layer\njava.lang.LinkageError: loader 'bootstrap' attempted duplicate class definition for java.lang.invoke.SimpleMethodHandle.</code></p>\n\n<p>I do not even need to make changes in <code>java.lang.ClassLoader</code>. The sheer existence of that class in my patch folder seems to be provocing this error. (I only wanted to add a field though at the bottom of the class)</p>\n\n<p>NOTE: I just figured that it works when the <code>ClassLoader</code> class is compiled with Eclipse. One of the few differences I know is that the Eclipse compiler does not seem to follow <a href=\"http://openjdk.java.net/jeps/280\" rel=\"nofollow noreferrer\">JEP 280</a> yet. But there are <code>invokedynamic</code> instructions in the bytecode resulting from <code>javac</code> as well, so I doubt that this is the problem. </p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":2433008,"reputation":35417,"user_id":2123530,"display_name":"β.εηοιτ.βε"},"score":1,"creation_date":1680510990,"post_id":75917461,"comment_id":133904770,"body_markdown":"If you are using the _exec form_ for the entrypoint, each space have to be replaced by a separate string &gt; `[&quot;java&quot;, &quot;-cp&quot;, &quot;/tmp/xyz.jar&quot;, &quot;-Dloader.main=com.x.y.MainClass&quot;, &quot;--spring.profiles.active=dev&quot;, &quot;--runId=test&quot;, &quot;--tasksFile=/tmp/xyz.csv&quot;]`: https://docs.docker.com/engine/reference/builder/#entrypoint","body":"If you are using the <i>exec form</i> for the entrypoint, each space have to be replaced by a separate string &gt; <code>[&quot;java&quot;, &quot;-cp&quot;, &quot;&#47;tmp&#47;xyz.jar&quot;, &quot;-Dloader.main=com.x.y.MainClass&quot;, &quot;--spring.profiles.active=dev&quot;, &quot;--runId=test&quot;, &quot;--tasksFile=&#47;tmp&#47;xyz.csv&quot;]</code>: <a href=\"https://docs.docker.com/engine/reference/builder/#entrypoint\" rel=\"nofollow noreferrer\">docs.docker.com/engine/reference/builder/#entrypoint</a>"},{"owner":{"account_id":2433008,"reputation":35417,"user_id":2123530,"display_name":"β.εηοιτ.βε"},"score":0,"creation_date":1680511234,"post_id":75917461,"comment_id":133904825,"body_markdown":"Could be closed as a duplicated of: https://stackoverflow.com/q/71475076/2123530","body":"Could be closed as a duplicated of: <a href=\"https://stackoverflow.com/q/71475076/2123530\">stackoverflow.com/q/71475076/2123530</a>"},{"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"score":0,"creation_date":1680526859,"post_id":75917461,"comment_id":133908426,"body_markdown":"suggested change worked. Thanks!","body":"suggested change worked. Thanks!"}],"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680515406,"answer_count":0,"score":0,"last_activity_date":1680511455,"creation_date":1680510744,"question_id":75917461,"body_markdown":"I have requirement to run Java JAR using the `java -cp` command.  \r\nWhen trying to run the Docker image using the `docker run` command, it&#39;s giving me the error\r\n&gt; no such file or directory: unknown.\r\n\r\nMy _Dockerfile_:\r\n\r\n```shell\r\nFROM openjdk:8-jre-slim\r\nVOLUME /tmp\r\nARG JAR_VERSION\r\nEXPOSE 8080\r\nWORKDIR /tmp\r\nCOPY xyz/xyz.jar  /tmp/xyz.jar \r\nCOPY xyz/xyz.csv /tmp/xyz.csv\r\nENTRYPOINT [&quot;java -cp /tmp/xyz.jar -Dloader.main=com.x.y.MainClass --spring.profiles.active=dev --runId=test --tasksFile=/tmp/xyz.csv &quot;]\r\n```\r\n\r\n","title":"How to run java -cp command inside docker container","body":"<p>I have requirement to run Java JAR using the <code>java -cp</code> command.<br />\nWhen trying to run the Docker image using the <code>docker run</code> command, it's giving me the error</p>\n<blockquote>\n<p>no such file or directory: unknown.</p>\n</blockquote>\n<p>My <em>Dockerfile</em>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM openjdk:8-jre-slim\nVOLUME /tmp\nARG JAR_VERSION\nEXPOSE 8080\nWORKDIR /tmp\nCOPY xyz/xyz.jar  /tmp/xyz.jar \nCOPY xyz/xyz.csv /tmp/xyz.csv\nENTRYPOINT [&quot;java -cp /tmp/xyz.jar -Dloader.main=com.x.y.MainClass --spring.profiles.active=dev --runId=test --tasksFile=/tmp/xyz.csv &quot;]\n</code></pre>\n"},{"tags":["java","spring","hibernate","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680078882,"post_id":75874577,"comment_id":133834357,"body_markdown":"If there is no transaction created there is no proxy or the code you show here isn&#39;t the actual code you use (and the method is not `public` or `final` or ... Make sure the class is spring managed. Tip instead of injecting the `LocalSessionFactoryBean` into your `transactionManager` method, inject a `SessionFactory`. Spring will inject the proper thing (saves yuo from calling `getObject`).","body":"If there is no transaction created there is no proxy or the code you show here isn&#39;t the actual code you use (and the method is not <code>public</code> or <code>final</code> or ... Make sure the class is spring managed. Tip instead of injecting the <code>LocalSessionFactoryBean</code> into your <code>transactionManager</code> method, inject a <code>SessionFactory</code>. Spring will inject the proper thing (saves yuo from calling <code>getObject</code>)."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1680081502,"post_id":75874577,"comment_id":133835133,"body_markdown":"@M.Deinum: my class is indeed spring managed. It is indeed not the real code but the idea is the same. I know that in the real code the first &quot;readOnly&quot; transaction is created since I do have an exception because of the readOnly. Both methods and classes are public.","body":"@M.Deinum: my class is indeed spring managed. It is indeed not the real code but the idea is the same. I know that in the real code the first &quot;readOnly&quot; transaction is created since I do have an exception because of the readOnly. Both methods and classes are public."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680082472,"post_id":75874577,"comment_id":133835374,"body_markdown":"Is the class or rather the instance you have really managed by spring? However the little information you provided here doesn&#39;t show anything that shouldn&#39;t work. So we would need more information to help you solve this.","body":"Is the class or rather the instance you have really managed by spring? However the little information you provided here doesn&#39;t show anything that shouldn&#39;t work. So we would need more information to help you solve this."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1680095846,"post_id":75874577,"comment_id":133838927,"body_markdown":"@M.Deinum I do think that both service classes are managed by Spring since they are both instantiated using @Service/@Autowired annotations (I&#39;ve edited my example to show this). However, I am probably confused about what Spring managed really means. What type of information can I add to help?","body":"@M.Deinum I do think that both service classes are managed by Spring since they are both instantiated using @Service/@Autowired annotations (I&#39;ve edited my example to show this). However, I am probably confused about what Spring managed really means. What type of information can I add to help?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680099163,"post_id":75874577,"comment_id":133840019,"body_markdown":"`@Autowired` doesn&#39;t instantiate anything, make sure you aren&#39;t using `new` in your code for objects that should be spring managed. Your sample is too simplistic to represent your real use case, provide a representative sample.","body":"<code>@Autowired</code> doesn&#39;t instantiate anything, make sure you aren&#39;t using <code>new</code> in your code for objects that should be spring managed. Your sample is too simplistic to represent your real use case, provide a representative sample."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1680102603,"post_id":75874577,"comment_id":133841170,"body_markdown":"@M.Deinum I have modify my example again to try and give a more representative example. The issue is that since my business code is sensitive, I cannot share it. Concerning the Spring management I made sure that no &quot;new&quot; was involved. Moreover, i&#39;ve added an `@Value` in my &quot;Service3&quot; to test if spring does instantiate this service. I do see &quot;myTestProp&quot; value in console log when running my code.","body":"@M.Deinum I have modify my example again to try and give a more representative example. The issue is that since my business code is sensitive, I cannot share it. Concerning the Spring management I made sure that no &quot;new&quot; was involved. Moreover, i&#39;ve added an <code>@Value</code> in my &quot;Service3&quot; to test if spring does instantiate this service. I do see &quot;myTestProp&quot; value in console log when running my code."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680112865,"post_id":75874577,"comment_id":133843866,"body_markdown":"The fact that Spring instantiates something doesn&#39;t mean that that is the instance in use (trust me I have seen weird setups in all my years with Spring). I&#39;m sorry but adding additional classes in the mix won&#39;t change it. There must be something specific in your code that does this, as you have here a dumbed down version of your code (whilst you might think you haven&#39;t) from this point it is impossible to answer.","body":"The fact that Spring instantiates something doesn&#39;t mean that that is the instance in use (trust me I have seen weird setups in all my years with Spring). I&#39;m sorry but adding additional classes in the mix won&#39;t change it. There must be something specific in your code that does this, as you have here a dumbed down version of your code (whilst you might think you haven&#39;t) from this point it is impossible to answer."}],"answers":[{"tags":[],"owner":{"account_id":1820389,"reputation":76,"user_id":1654586,"display_name":"Pankaj Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680097538,"creation_date":1680097538,"answer_id":75878085,"question_id":75874577,"body_markdown":"In posted class method1() is calling method2() and both annotated with transactional. As I have used in my application according to that You can add  @Transactional(propagation = Propagation.REQUIRES_NEW,readOnly = true) on your method1(), it will work for both method1() and method2(). Because method2() is called inside method1().\r\n\r\n \r\n\r\n       @Service\r\n    public class Foo{\r\n    \r\n      @Autowired\r\n      private Bar bar;\r\n    \r\n      @Transactional(propagation = Propagation.REQUIRES_NEW,readOnly = true)\r\n      public void method1()\r\n      {\r\n        bar.method2();\r\n      }\r\n    \r\n    }\r\n    \r\n    @Service\r\n    public class Bar{\r\n    \r\n     \r\n         public void method2()\r\n          {\r\n            ...\r\n          }\r\n    \r\n       }  \r\n  ","title":"Unable to create a new transaction using @Transactional(propagation = Propagation.REQUIRES_NEW) with HibernateTransactionManager","body":"<p>In posted class method1() is calling method2() and both annotated with transactional. As I have used in my application according to that You can add  @Transactional(propagation = Propagation.REQUIRES_NEW,readOnly = true) on your method1(), it will work for both method1() and method2(). Because method2() is called inside method1().</p>\n<pre><code>   @Service\npublic class Foo{\n\n  @Autowired\n  private Bar bar;\n\n  @Transactional(propagation = Propagation.REQUIRES_NEW,readOnly = true)\n  public void method1()\n  {\n    bar.method2();\n  }\n\n}\n\n@Service\npublic class Bar{\n\n \n     public void method2()\n      {\n        ...\n      }\n\n   }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680510946,"creation_date":1680510946,"answer_id":75917490,"question_id":75874577,"body_markdown":"I have resolved my issue.\r\n\r\nAs **M. Deinum** stated in his comments, it was a pure Spring Configuration issue.\r\n\r\nThe fact is that during the refactoring of the legacy code, the following block of code made its way into a java Spring Configuration file.\r\n\r\n    @Bean\r\n      MethodInvokingFactoryBean methodInvokingFactoryBean(DefaultSecurityManager securityManager)\r\n      {\r\n        MethodInvokingFactoryBean methodInvokingFactoryBean = new MethodInvokingFactoryBean();\r\n    \r\n        methodInvokingFactoryBean.setStaticMethod(&quot;org.apache.shiro.SecurityUtils.setSecurityManager&quot;);\r\n        methodInvokingFactoryBean.setArguments(securityManager);\r\n    \r\n        return methodInvokingFactoryBean;\r\n      }\r\n\r\nMy DefaultSecurityManager is dependent on my Service where my `@Transactional(propagation = Propagation.REQUIRES_NEW)` is.\r\n\r\nThis block of code disrupts the normal flow/init of Spring and the `@Transactional` annotation get ignored.\r\n\r\nThis explains why during Spring init my method is not identified as transactional and no new transaction is started when the method is called.\r\n\r\nReplacing the wrong block of code by a simple call to the correct Set method does resolve the issue\r\n\r\n    SecurityUtils.setSecurityManager(result);\r\n\r\nThank you all for your time and help. ","title":"Unable to create a new transaction using @Transactional(propagation = Propagation.REQUIRES_NEW) with HibernateTransactionManager","body":"<p>I have resolved my issue.</p>\n<p>As <strong>M. Deinum</strong> stated in his comments, it was a pure Spring Configuration issue.</p>\n<p>The fact is that during the refactoring of the legacy code, the following block of code made its way into a java Spring Configuration file.</p>\n<pre><code>@Bean\n  MethodInvokingFactoryBean methodInvokingFactoryBean(DefaultSecurityManager securityManager)\n  {\n    MethodInvokingFactoryBean methodInvokingFactoryBean = new MethodInvokingFactoryBean();\n\n    methodInvokingFactoryBean.setStaticMethod(&quot;org.apache.shiro.SecurityUtils.setSecurityManager&quot;);\n    methodInvokingFactoryBean.setArguments(securityManager);\n\n    return methodInvokingFactoryBean;\n  }\n</code></pre>\n<p>My DefaultSecurityManager is dependent on my Service where my <code>@Transactional(propagation = Propagation.REQUIRES_NEW)</code> is.</p>\n<p>This block of code disrupts the normal flow/init of Spring and the <code>@Transactional</code> annotation get ignored.</p>\n<p>This explains why during Spring init my method is not identified as transactional and no new transaction is started when the method is called.</p>\n<p>Replacing the wrong block of code by a simple call to the correct Set method does resolve the issue</p>\n<pre><code>SecurityUtils.setSecurityManager(result);\n</code></pre>\n<p>Thank you all for your time and help.</p>\n"}],"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75878085,"answer_count":2,"score":2,"last_activity_date":1680510946,"creation_date":1680076728,"question_id":75874577,"body_markdown":"I am currently refactoring some legacy code.\r\n\r\nWe are moving from .xml spring context files to java class based Spring configuration.\r\n\r\nHere is the TransactionConfiguration.java class that I have created for Spring initiation of my TransactionManager.\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class TransactionConfiguration\r\n{\r\n  private String[] packagesToScan = {...redacted...};\r\n\r\n  @Bean\r\n  public DataSource dataSource(@Value(&quot;${db.driverClassName}&quot;) String driverClassName, @Value(&quot;${db.url}&quot;) String jdbcUrl,\r\n          @Value(&quot;${db.usr.login}&quot;) String username, @Value(&quot;${db.usr.password}&quot;) String pwd, @Value(&quot;${db.maxPoolSize}&quot;) int maxPoolSize)\r\n  {\r\n    HikariDataSource dataSource = new HikariDataSource();\r\n    dataSource.setDriverClassName(driverClassName);\r\n    dataSource.setJdbcUrl(jdbcUrl);\r\n    dataSource.setUsername(username);\r\n    dataSource.setPassword(pwd);\r\n    dataSource.setMaximumPoolSize(maxPoolSize);\r\n    return dataSource;\r\n  }\r\n\r\n  @Bean\r\n  public LocalSessionFactoryBean sessionFactory(DataSource dataSource, @Value(&quot;${db.schema}&quot;) String dbSchema, @Value(&quot;${db.dialect}&quot;) String dbDialect,\r\n          @Value(&quot;${db.show.sql}&quot;) Boolean dbShowSql, @Value(&quot;${db.hbm2ddl.auto}&quot;) String hbm2dll)\r\n  {\r\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n    sessionFactory.setDataSource(dataSource);\r\n    sessionFactory.setPackagesToScan(packagesToScan);\r\n\r\n    Properties hibernateProperties = new Properties();\r\n    hibernateProperties.put(&quot;hibernate.default_schema&quot;, dbSchema);\r\n    hibernateProperties.put(&quot;hibernate.dialect&quot;, dbDialect);\r\n    hibernateProperties.put(&quot;hibernate.show_sql&quot;, dbShowSql);\r\n    hibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, hbm2dll);\r\n\r\n    sessionFactory.setHibernateProperties(hibernateProperties);\r\n\r\n    return sessionFactory;\r\n  }\r\n\r\n  @Bean\r\n  public PlatformTransactionManager transactionManager(LocalSessionFactoryBean sessionFactory)\r\n  {\r\n    HibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n    transactionManager.setSessionFactory(sessionFactory.getObject());\r\n    return transactionManager;\r\n  }\r\n```\r\n\r\nThis works fine and my application is able to read/write in database.\r\n\r\nHowever, at some point, I need to create a write transaction from a readOnly transaction.\r\n\r\nI&#39;ve tried to use @Transactional(propagation = Propagation.REQUIRES_NEW) annotation to ensure the creation of a new write transaction but it does not work.\r\n\r\n\r\n```\r\n@Service\r\npublic class Service1{\r\n\r\n  @Autowired\r\n  private Service2 service2;\r\n\r\n  @Transactional(readOnly = true)\r\n  public void method1()\r\n  {\r\n    [... read only treatment...]\r\n\r\n    service2.method2();\r\n\r\n    [... read only treatment...]\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class Service2{\r\n\r\n  @Autowired\r\n  private Service3 service3;\r\n\r\n  \r\n  public void method2()\r\n  {\r\n    [... read only treatment...]\r\n\r\n    method3();\r\n\r\n    [... read only treatment...]\r\n  }\r\n\r\n  private void method3()\r\n  {\r\n    [... read only treatment...]\r\n\r\n    service3.method4();\r\n\r\n    [... read only treatment...]\r\n  }\r\n\r\n}\r\n\r\n@Service\r\npublic class Service3{\r\n\r\n  @Value(&quot;${my.test.prop}&quot;)\r\n  private String myTestProp;\r\n\r\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n  public void method4()\r\n  {\r\n    System.out.println(myTestProp);    \r\n\r\n    [... write treatment...]\r\n  }\r\n\r\n}\r\n```\r\n\r\nIt did work in the legacy code with .xml configuration and declaration of a TransactionProxyFactoryBean\r\n\r\n\r\n```\r\n&lt;bean class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;\r\n\t\t&lt;property name=&quot;transactionAttributes&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;method1&quot;&gt;PROPAGATION_REQUIRED,readOnly&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;method2&quot;&gt;PROPAGATION_REQUIRES_NEW&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\nI made sure that the two methods are in separate classes so Spring Aop does interact with the second @Transactional annotation\r\n\r\nI did activate logback to log transaction creation and I see that no new transaction is created.\r\n\r\n\r\n\r\nI have tried to switch to JPATransactionManager but it did not improve my issue (in fact it did poorly since readOnly instruction was ignored...)\r\n\r\nI also tried a NESTED propagation but again it did not start a new Nested transaction\r\n\r\n\r\nEDIT:\r\n\r\nSpring version 5.3.6\r\n\r\nHibernate version 5.4.33 ","title":"Unable to create a new transaction using @Transactional(propagation = Propagation.REQUIRES_NEW) with HibernateTransactionManager","body":"<p>I am currently refactoring some legacy code.</p>\n<p>We are moving from .xml spring context files to java class based Spring configuration.</p>\n<p>Here is the TransactionConfiguration.java class that I have created for Spring initiation of my TransactionManager.</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class TransactionConfiguration\n{\n  private String[] packagesToScan = {...redacted...};\n\n  @Bean\n  public DataSource dataSource(@Value(&quot;${db.driverClassName}&quot;) String driverClassName, @Value(&quot;${db.url}&quot;) String jdbcUrl,\n          @Value(&quot;${db.usr.login}&quot;) String username, @Value(&quot;${db.usr.password}&quot;) String pwd, @Value(&quot;${db.maxPoolSize}&quot;) int maxPoolSize)\n  {\n    HikariDataSource dataSource = new HikariDataSource();\n    dataSource.setDriverClassName(driverClassName);\n    dataSource.setJdbcUrl(jdbcUrl);\n    dataSource.setUsername(username);\n    dataSource.setPassword(pwd);\n    dataSource.setMaximumPoolSize(maxPoolSize);\n    return dataSource;\n  }\n\n  @Bean\n  public LocalSessionFactoryBean sessionFactory(DataSource dataSource, @Value(&quot;${db.schema}&quot;) String dbSchema, @Value(&quot;${db.dialect}&quot;) String dbDialect,\n          @Value(&quot;${db.show.sql}&quot;) Boolean dbShowSql, @Value(&quot;${db.hbm2ddl.auto}&quot;) String hbm2dll)\n  {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n    sessionFactory.setDataSource(dataSource);\n    sessionFactory.setPackagesToScan(packagesToScan);\n\n    Properties hibernateProperties = new Properties();\n    hibernateProperties.put(&quot;hibernate.default_schema&quot;, dbSchema);\n    hibernateProperties.put(&quot;hibernate.dialect&quot;, dbDialect);\n    hibernateProperties.put(&quot;hibernate.show_sql&quot;, dbShowSql);\n    hibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, hbm2dll);\n\n    sessionFactory.setHibernateProperties(hibernateProperties);\n\n    return sessionFactory;\n  }\n\n  @Bean\n  public PlatformTransactionManager transactionManager(LocalSessionFactoryBean sessionFactory)\n  {\n    HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n    transactionManager.setSessionFactory(sessionFactory.getObject());\n    return transactionManager;\n  }\n</code></pre>\n<p>This works fine and my application is able to read/write in database.</p>\n<p>However, at some point, I need to create a write transaction from a readOnly transaction.</p>\n<p>I've tried to use @Transactional(propagation = Propagation.REQUIRES_NEW) annotation to ensure the creation of a new write transaction but it does not work.</p>\n<pre><code>@Service\npublic class Service1{\n\n  @Autowired\n  private Service2 service2;\n\n  @Transactional(readOnly = true)\n  public void method1()\n  {\n    [... read only treatment...]\n\n    service2.method2();\n\n    [... read only treatment...]\n  }\n\n}\n\n@Service\npublic class Service2{\n\n  @Autowired\n  private Service3 service3;\n\n  \n  public void method2()\n  {\n    [... read only treatment...]\n\n    method3();\n\n    [... read only treatment...]\n  }\n\n  private void method3()\n  {\n    [... read only treatment...]\n\n    service3.method4();\n\n    [... read only treatment...]\n  }\n\n}\n\n@Service\npublic class Service3{\n\n  @Value(&quot;${my.test.prop}&quot;)\n  private String myTestProp;\n\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\n  public void method4()\n  {\n    System.out.println(myTestProp);    \n\n    [... write treatment...]\n  }\n\n}\n</code></pre>\n<p>It did work in the legacy code with .xml configuration and declaration of a TransactionProxyFactoryBean</p>\n<pre><code>&lt;bean class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\n        &lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;\n        &lt;property name=&quot;transactionAttributes&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;method1&quot;&gt;PROPAGATION_REQUIRED,readOnly&lt;/prop&gt;\n                &lt;prop key=&quot;method2&quot;&gt;PROPAGATION_REQUIRES_NEW&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>I made sure that the two methods are in separate classes so Spring Aop does interact with the second @Transactional annotation</p>\n<p>I did activate logback to log transaction creation and I see that no new transaction is created.</p>\n<p>I have tried to switch to JPATransactionManager but it did not improve my issue (in fact it did poorly since readOnly instruction was ignored...)</p>\n<p>I also tried a NESTED propagation but again it did not start a new Nested transaction</p>\n<p>EDIT:</p>\n<p>Spring version 5.3.6</p>\n<p>Hibernate version 5.4.33</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"score":0,"creation_date":1680963648,"post_id":75917435,"comment_id":133984691,"body_markdown":"You have 2 different keys and only 1 field named &quot;test&quot; in configuration property class. You shoud use 2 fields , named &quot;Test&quot; and &quot;test&quot; , or Map&lt;string,DatamartType&gt; where keys will be &quot;Test&quot; and &quot;test&quot; in your case). Main problem in your example - you want to map 2 objects to 1 field. There is no field named &quot;Test&quot; thats why &quot;always use the last test&quot;.","body":"You have 2 different keys and only 1 field named &quot;test&quot; in configuration property class. You shoud use 2 fields , named &quot;Test&quot; and &quot;test&quot; , or Map&lt;string,DatamartType&gt; where keys will be &quot;Test&quot; and &quot;test&quot; in your case). Main problem in your example - you want to map 2 objects to 1 field. There is no field named &quot;Test&quot; thats why &quot;always use the last test&quot;."},{"owner":{"account_id":19681212,"reputation":1,"user_id":15862454,"display_name":"Efrem Zapryagaev"},"score":0,"creation_date":1681097169,"post_id":75917435,"comment_id":133998487,"body_markdown":"1)Only 1 filed for exmaple. &quot;Test&quot; its wrong name, should be used camelCase. But even if such a name is used, there will be null.\n2)In Map&lt;String,DatamartType&gt; parameters are not correct. Test.streamname = test.delete and test.streamname = test.delete","body":"1)Only 1 filed for exmaple. &quot;Test&quot; its wrong name, should be used camelCase. But even if such a name is used, there will be null. 2)In Map&lt;String,DatamartType&gt; parameters are not correct. Test.streamname = test.delete and test.streamname = test.delete"},{"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"score":0,"creation_date":1681141341,"post_id":75917435,"comment_id":134005081,"body_markdown":"from https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/source/ConfigurationPropertyName.html\n\n&quot;User created names may contain the characters &quot;a-z&quot; &quot;0-9&quot;) and &quot;-&quot;, they must be lower-case and must start with an alphanumeric character.&quot;\n\nso you can use arrays and additional field to store key, for example","body":"from <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/source/ConfigurationPropertyName.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>  &quot;User created names may contain the characters &quot;a-z&quot; &quot;0-9&quot;) and &quot;-&quot;, they must be lower-case and must start with an alphanumeric character.&quot;  so you can use arrays and additional field to store key, for example"}],"owner":{"account_id":19681212,"reputation":1,"user_id":15862454,"display_name":"Efrem Zapryagaev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680510597,"creation_date":1680510597,"question_id":75917435,"body_markdown":"i have an import config datamart.yaml.\r\n\r\n```\r\nspring:\r\n  config:\r\n    import: datamart.yaml\r\n```\r\n\r\nIn datamart many properties with the same name, differ in first letter\r\n\r\n```\r\ndatamarts:\r\n  Test:\r\n    streamname: test\r\n    header: test\r\n    priority: 1\r\n    action: upload\r\n  test:\r\n    streamname: test.delete\r\n    header: test\r\n    priority: 111\r\n    action: delete\r\n```\r\n\r\nThe problem is that spring can&#39;t split the parameters and always use last `test`\r\n\r\n```\r\n@Data\r\n@Component\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ConfigurationProperties(prefix = &quot;datamarts&quot;, ignoreUnknownFields = false)\r\npublic class DatamartProperties {\r\n\r\n    private DatamartType test = new DatamartType();\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public static class DatamartType {\r\n\r\n        private String streamname;\r\n        private String header;\r\n        private int priority;\r\n        private String action;\r\n\r\n    }\r\n}\r\n```\r\n\r\nI try to set params from enviroment and its wokred. But Is there any easier way for set params using spring autoconfiguration\r\n\r\n```\r\n@Data\r\n@Component\r\npublic class DatamartProperties {\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    private final DatamartType test;\r\n    private final DatamartType testDelete;\r\n    \r\n    public DatamartProperties(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n\r\n        this.test = new DatamartType(\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.streamname&quot;, String.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.header&quot;, String.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.priority&quot;, Integer.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.action&quot;, String.class)\r\n        );\r\n\r\n        this.testDelete = new DatamartType(\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.streamname&quot;, String.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.header&quot;, String.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.priority&quot;, Integer.class),\r\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.action&quot;, String.class)\r\n        );\r\n}\r\n```","title":"How to read properties from config with the same name in sping boot app","body":"<p>i have an import config datamart.yaml.</p>\n<pre><code>spring:\n  config:\n    import: datamart.yaml\n</code></pre>\n<p>In datamart many properties with the same name, differ in first letter</p>\n<pre><code>datamarts:\n  Test:\n    streamname: test\n    header: test\n    priority: 1\n    action: upload\n  test:\n    streamname: test.delete\n    header: test\n    priority: 111\n    action: delete\n</code></pre>\n<p>The problem is that spring can't split the parameters and always use last <code>test</code></p>\n<pre><code>@Data\n@Component\n@AllArgsConstructor\n@NoArgsConstructor\n@ConfigurationProperties(prefix = &quot;datamarts&quot;, ignoreUnknownFields = false)\npublic class DatamartProperties {\n\n    private DatamartType test = new DatamartType();\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public static class DatamartType {\n\n        private String streamname;\n        private String header;\n        private int priority;\n        private String action;\n\n    }\n}\n</code></pre>\n<p>I try to set params from enviroment and its wokred. But Is there any easier way for set params using spring autoconfiguration</p>\n<pre><code>@Data\n@Component\npublic class DatamartProperties {\n\n    private final ApplicationContext applicationContext;\n\n    private final DatamartType test;\n    private final DatamartType testDelete;\n    \n    public DatamartProperties(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n\n        this.test = new DatamartType(\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.streamname&quot;, String.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.header&quot;, String.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.priority&quot;, Integer.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.Test.action&quot;, String.class)\n        );\n\n        this.testDelete = new DatamartType(\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.streamname&quot;, String.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.header&quot;, String.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.priority&quot;, Integer.class),\n            applicationContext.getEnvironment().getProperty(&quot;datamarts.test.action&quot;, String.class)\n        );\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":27906771,"reputation":1,"user_id":21309793,"display_name":"kert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680510140,"creation_date":1680509948,"question_id":75917350,"body_markdown":"\r\nI have developed a logging system and error handling, and want to record request response logs, business layer logs, and error logs. However, when I join the upload process, an error occurs that prompts me for a type conversion failure. In addition, is it correct to design logs and error handling like this, such as placing request responses in an interceptor, and using aop for processing in the business layer. Unified return values and error handling use controlleradvice\r\n\r\nThe following is the code I implemented\r\n\r\nthis is filter\r\n\r\n```\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\r\n            ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\r\n            filterChain.doFilter(requestWrapper,responseWrapper);\r\n            responseWrapper.copyBodyToResponse();\r\n\r\n    }\r\n```\r\n\r\nthis loginterceptor\r\n```\r\n public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        Date date = new Date();\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.sss&quot;);\r\n        String dateFormat = format.format(date);\r\n        makeLog(dateFormat, request, (ContentCachingResponseWrapper) response);\r\n        return true;\r\n    }\r\n\r\n    private void makeLog(String date,HttpServletRequest request,ContentCachingResponseWrapper response) throws IOException {\r\n        String responseData = new String(response.getContentAsByteArray());\r\n        LogInfo logInfo = new LogInfo();\r\n        logInfo.setUri(request.getRequestURI());\r\n        logInfo.setCreateTime(date);\r\n        logInfo.setRequest(request.getInputStream().readAllBytes());\r\n        logInfo.setResponse(responseData);\r\n        logInfo.setClientIP(request.getRemoteAddr());\r\n        log.info(&quot;logData：{}&quot;,logInfo);\r\n        loggerService.insert(logInfo);\r\n    }\r\n```\r\nthis is exceptioncontroller\r\n\r\n```\r\npublic class ExceptionAdvice {\r\n    @ExceptionHandler(DataAccessException.class)\r\n    public ResultVO sqlHandler(DataAccessException  e){\r\n        Throwable cause = e.getCause();\r\n        ResultVO resultVO = new ResultVO();\r\n        if (cause instanceof SQLException sqlException){\r\n            log.error(sqlException.getMessage());\r\n            resultVO.setCode(sqlException.getSQLState());\r\n            resultVO.setMessage(sqlException.getMessage());\r\n        }else {\r\n            resultVO.setMessage(cause.getMessage());\r\n        }\r\n        return resultVO;\r\n    }\r\n    @ExceptionHandler(BusinessException.class)\r\n    public ResultVO businessHandler(BusinessException e){\r\n        log.error(e.getMessage());\r\n        ResultVO resultVO = new ResultVO();\r\n        resultVO.setCode(e.getErrCode().getCode());\r\n        resultVO.setMessage(e.getErrCode().getMsg());\r\n        return resultVO;\r\n    }\r\n    @ExceptionHandler(Exception.class)\r\n    public ResultVO err(Exception e){\r\n        log.error(e.getMessage());\r\n        e.printStackTrace();\r\n        ResultVO resultVO = new ResultVO();\r\n        resultVO.setCode(&quot;500&quot;);\r\n        resultVO.setMessage(e.getMessage());\r\n        return resultVO;\r\n    }\r\n```\r\nthis is result\r\n\r\n```\r\npublic class ResultAdvice implements ResponseBodyAdvice&lt;Object&gt; {\r\n    @Override\r\n    public boolean supports(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        //System.out.println(&quot;====================================================supports&quot;);\r\n        return !returnType.getParameterType().equals(ResultVO.class);\r\n    }\r\n\r\n    @Override\r\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\r\n        System.out.println(&quot;====================================================beforeBodyWrite&quot;);\r\n        ResultVO resultVO = new ResultVO(body);\r\n        resultVO.setCode(&quot;1&quot;);\r\n        resultVO.setMessage(&quot;success！！&quot;);\r\n\r\n        return resultVO;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I was running, his error was not expected, such as a database connection failure, He reported an error from mybatis &quot;org. springframework. jdbc. CannotGetJdbcConnectionException: Failed to obtain JDBC Connection r n # # The error may exist at com/kert/compute/dao/LogMapper. java (best guess)&quot; \\r\\n### The error may involve com.kert.compute.dao.LogMapper.insert\\r\\n### The error occurred while executing an update\\r\\n### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection&quot;，\r\n\r\nWhen uploading a file, the message &quot;class org. apache. catalina. connector. ResponseFacade cannot be cast to class org. springframework. web. util. ContentCachingResponseWrapper (org. apache. catalina. connector. ResponseFacade and org. springframework. web. util. ContentCachingResponseWrapper are in unnamed module of loader &#39;app&#39;)&quot; is reported\r\n","title":"How to design unified error handling and logging in spring boot","body":"<p>I have developed a logging system and error handling, and want to record request response logs, business layer logs, and error logs. However, when I join the upload process, an error occurs that prompts me for a type conversion failure. In addition, is it correct to design logs and error handling like this, such as placing request responses in an interceptor, and using aop for processing in the business layer. Unified return values and error handling use controlleradvice</p>\n<p>The following is the code I implemented</p>\n<p>this is filter</p>\n<pre><code>    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper(request);\n            ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper(response);\n            filterChain.doFilter(requestWrapper,responseWrapper);\n            responseWrapper.copyBodyToResponse();\n\n    }\n</code></pre>\n<p>this loginterceptor</p>\n<pre><code> public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        Date date = new Date();\n        SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.sss&quot;);\n        String dateFormat = format.format(date);\n        makeLog(dateFormat, request, (ContentCachingResponseWrapper) response);\n        return true;\n    }\n\n    private void makeLog(String date,HttpServletRequest request,ContentCachingResponseWrapper response) throws IOException {\n        String responseData = new String(response.getContentAsByteArray());\n        LogInfo logInfo = new LogInfo();\n        logInfo.setUri(request.getRequestURI());\n        logInfo.setCreateTime(date);\n        logInfo.setRequest(request.getInputStream().readAllBytes());\n        logInfo.setResponse(responseData);\n        logInfo.setClientIP(request.getRemoteAddr());\n        log.info(&quot;logData：{}&quot;,logInfo);\n        loggerService.insert(logInfo);\n    }\n</code></pre>\n<p>this is exceptioncontroller</p>\n<pre><code>public class ExceptionAdvice {\n    @ExceptionHandler(DataAccessException.class)\n    public ResultVO sqlHandler(DataAccessException  e){\n        Throwable cause = e.getCause();\n        ResultVO resultVO = new ResultVO();\n        if (cause instanceof SQLException sqlException){\n            log.error(sqlException.getMessage());\n            resultVO.setCode(sqlException.getSQLState());\n            resultVO.setMessage(sqlException.getMessage());\n        }else {\n            resultVO.setMessage(cause.getMessage());\n        }\n        return resultVO;\n    }\n    @ExceptionHandler(BusinessException.class)\n    public ResultVO businessHandler(BusinessException e){\n        log.error(e.getMessage());\n        ResultVO resultVO = new ResultVO();\n        resultVO.setCode(e.getErrCode().getCode());\n        resultVO.setMessage(e.getErrCode().getMsg());\n        return resultVO;\n    }\n    @ExceptionHandler(Exception.class)\n    public ResultVO err(Exception e){\n        log.error(e.getMessage());\n        e.printStackTrace();\n        ResultVO resultVO = new ResultVO();\n        resultVO.setCode(&quot;500&quot;);\n        resultVO.setMessage(e.getMessage());\n        return resultVO;\n    }\n</code></pre>\n<p>this is result</p>\n<pre><code>public class ResultAdvice implements ResponseBodyAdvice&lt;Object&gt; {\n    @Override\n    public boolean supports(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n        //System.out.println(&quot;====================================================supports&quot;);\n        return !returnType.getParameterType().equals(ResultVO.class);\n    }\n\n    @Override\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        System.out.println(&quot;====================================================beforeBodyWrite&quot;);\n        ResultVO resultVO = new ResultVO(body);\n        resultVO.setCode(&quot;1&quot;);\n        resultVO.setMessage(&quot;success！！&quot;);\n\n        return resultVO;\n    }\n</code></pre>\n<p>When I was running, his error was not expected, such as a database connection failure, He reported an error from mybatis &quot;org. springframework. jdbc. CannotGetJdbcConnectionException: Failed to obtain JDBC Connection r n # # The error may exist at com/kert/compute/dao/LogMapper. java (best guess)&quot; \\r\\n### The error may involve com.kert.compute.dao.LogMapper.insert\\r\\n### The error occurred while executing an update\\r\\n### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection&quot;，</p>\n<p>When uploading a file, the message &quot;class org. apache. catalina. connector. ResponseFacade cannot be cast to class org. springframework. web. util. ContentCachingResponseWrapper (org. apache. catalina. connector. ResponseFacade and org. springframework. web. util. ContentCachingResponseWrapper are in unnamed module of loader 'app')&quot; is reported</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679326268,"post_id":75792048,"comment_id":133697470,"body_markdown":"How about the inheritance? Base class BaseEntity with property a. Another class extends BaseEntity and adds properties b and c. And so on.","body":"How about the inheritance? Base class BaseEntity with property a. Another class extends BaseEntity and adds properties b and c. And so on."},{"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"score":0,"creation_date":1679326406,"post_id":75792048,"comment_id":133697515,"body_markdown":"The issue is that the schema is not known in advance, only on application start.","body":"The issue is that the schema is not known in advance, only on application start."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1679328781,"post_id":75792048,"comment_id":133698163,"body_markdown":"I think something like Hibernate is the wrong tool for your use case. Use plain JDBC, check via metadata which columns are actually present and map the columns manually. Hibernate/JPA has the requirement to know the database structure in advance.","body":"I think something like Hibernate is the wrong tool for your use case. Use plain JDBC, check via metadata which columns are actually present and map the columns manually. Hibernate/JPA has the requirement to know the database structure in advance."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1679328913,"post_id":75792048,"comment_id":133698204,"body_markdown":"Maybe MyBatis is able to process generic result sets. Look here: https://stackoverflow.com/questions/26918434/mybatis-query-result-in-a-hashmap","body":"Maybe MyBatis is able to process generic result sets. Look here: <a href=\"https://stackoverflow.com/questions/26918434/mybatis-query-result-in-a-hashmap\" title=\"mybatis query result in a hashmap\">stackoverflow.com/questions/26918434/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679387874,"creation_date":1679387874,"answer_id":75798896,"question_id":75792048,"body_markdown":"you have two Option in this situation \r\n\r\n1. Use a NoSQL database: If you need to add columns dynamically and frequently, you might consider using a NoSQL database that supports dynamic schemas. NoSQL databases like MongoDB is designed to handle dynamic data and allow you to store documents or key-value pairs without enforcing a fixed schema.\r\n\r\n2. Use a JSON or XML column: Some databases like PostgreSQL or MySQL support JSON or XML columns that can store semi-structured data. You can store your dynamic data as a JSON or XML document in a single column and query it using SQL or NoSQL-like queries.\r\n\r\nFor example, if you are using PostgreSQL, you can define a JSON column in your my_table table like this:\r\n\r\n    ALTER TABLE my_table ADD COLUMN dynamic_data jsonb;\r\n\r\nYou can then insert JSON documents into the dynamic_data column and query them using PostgreSQL&#39;s JSON functions.\r\n\r\nAlternatively, you can use Hibernate&#39;s @Type annotation to map a JSON or XML column to a Java object. For example:\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyEntity {\r\n    \r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n    \r\n       @Type(type = &quot;jsonb&quot;)\r\n       @Column(columnDefinition = &quot;jsonb&quot;)\r\n       private Map&lt;String, Object&gt; dynamicData;\r\n    \r\n    }","title":"How do I load an entity from a relational DB when only part of the table schema is known in advance?","body":"<p>you have two Option in this situation</p>\n<ol>\n<li><p>Use a NoSQL database: If you need to add columns dynamically and frequently, you might consider using a NoSQL database that supports dynamic schemas. NoSQL databases like MongoDB is designed to handle dynamic data and allow you to store documents or key-value pairs without enforcing a fixed schema.</p>\n</li>\n<li><p>Use a JSON or XML column: Some databases like PostgreSQL or MySQL support JSON or XML columns that can store semi-structured data. You can store your dynamic data as a JSON or XML document in a single column and query it using SQL or NoSQL-like queries.</p>\n</li>\n</ol>\n<p>For example, if you are using PostgreSQL, you can define a JSON column in your my_table table like this:</p>\n<pre><code>ALTER TABLE my_table ADD COLUMN dynamic_data jsonb;\n</code></pre>\n<p>You can then insert JSON documents into the dynamic_data column and query them using PostgreSQL's JSON functions.</p>\n<p>Alternatively, you can use Hibernate's @Type annotation to map a JSON or XML column to a Java object. For example:</p>\n<pre><code>@Entity\n@Table(name = &quot;my_table&quot;)\npublic class MyEntity {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @Type(type = &quot;jsonb&quot;)\n   @Column(columnDefinition = &quot;jsonb&quot;)\n   private Map&lt;String, Object&gt; dynamicData;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680510083,"creation_date":1680510083,"answer_id":75917372,"question_id":75792048,"body_markdown":"In the end I went with Spring AOP. The cutpoint intercepts every repository method decorated with a custom annotation. When that happens the cutpoint method issues another query of `SELECT *` (in the case of reads) and populates the entity with the extra properties.","title":"How do I load an entity from a relational DB when only part of the table schema is known in advance?","body":"<p>In the end I went with Spring AOP. The cutpoint intercepts every repository method decorated with a custom annotation. When that happens the cutpoint method issues another query of <code>SELECT *</code> (in the case of reads) and populates the entity with the extra properties.</p>\n"}],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75917372,"answer_count":2,"score":0,"last_activity_date":1680510083,"creation_date":1679325092,"question_id":75792048,"body_markdown":"I have an entity mapped to a table. This table usually has some columns on top of the mapped properties. For example if the entity is defined as:\r\n```\r\n@Entity\r\nclass MyEntity {\r\n  private String a;\r\n}\r\n```\r\nThen the table has column `a`. In one schema it may also have columns `b` and `c`, in another `d`, `e` and `f`. I thought it would be simple to override `EntityManager`&#39;s `load` method to load all the properties defined in `MyEntity` and subsequently load all the others into a `Map&lt;String, Object&gt;`, but I can&#39;t find a way to do it.\r\nHere&#39;s what I considered so far:\r\n1. I found [this SO question](https://stackoverflow.com/questions/3657758/jpa-hibernate-mapping-dynamic-columns-as-a-list-of-objects), which led to [this](https://www.infoq.com/articles/hibernate-custom-fields/) post which maybe solves the issue but requires loading the mapping on startup, which doesn&#39;t solve my problem since I&#39;m constantly switching between schemas and therefore would have to reload the mapping over and over.\r\n1. Overriding [RelationalMappingContext](https://docs.spring.io/spring-data/jdbc/docs/current/api/org/springframework/data/relational/core/mapping/RelationalMappingContext.html) also assumes a constant schema.\r\n1. There should be a way to supply `EntityManager` as a bean but I can&#39;t figure out how and I&#39;m not sure if that wouldn&#39;t run into the same issues as 1 &amp; 2.\r\n1. I can do something complicated with bytecode manipulation but this would require having an Entity per schema, which is too complicated.\r\n1. So I&#39;m forced to consider overriding all methods in `CrudRepository` and providing my own implementation. That would be very hacky and unwieldy.\r\n\r\nAny other ideas?","title":"How do I load an entity from a relational DB when only part of the table schema is known in advance?","body":"<p>I have an entity mapped to a table. This table usually has some columns on top of the mapped properties. For example if the entity is defined as:</p>\n<pre><code>@Entity\nclass MyEntity {\n  private String a;\n}\n</code></pre>\n<p>Then the table has column <code>a</code>. In one schema it may also have columns <code>b</code> and <code>c</code>, in another <code>d</code>, <code>e</code> and <code>f</code>. I thought it would be simple to override <code>EntityManager</code>'s <code>load</code> method to load all the properties defined in <code>MyEntity</code> and subsequently load all the others into a <code>Map&lt;String, Object&gt;</code>, but I can't find a way to do it.\nHere's what I considered so far:</p>\n<ol>\n<li>I found <a href=\"https://stackoverflow.com/questions/3657758/jpa-hibernate-mapping-dynamic-columns-as-a-list-of-objects\">this SO question</a>, which led to <a href=\"https://www.infoq.com/articles/hibernate-custom-fields/\" rel=\"nofollow noreferrer\">this</a> post which maybe solves the issue but requires loading the mapping on startup, which doesn't solve my problem since I'm constantly switching between schemas and therefore would have to reload the mapping over and over.</li>\n<li>Overriding <a href=\"https://docs.spring.io/spring-data/jdbc/docs/current/api/org/springframework/data/relational/core/mapping/RelationalMappingContext.html\" rel=\"nofollow noreferrer\">RelationalMappingContext</a> also assumes a constant schema.</li>\n<li>There should be a way to supply <code>EntityManager</code> as a bean but I can't figure out how and I'm not sure if that wouldn't run into the same issues as 1 &amp; 2.</li>\n<li>I can do something complicated with bytecode manipulation but this would require having an Entity per schema, which is too complicated.</li>\n<li>So I'm forced to consider overriding all methods in <code>CrudRepository</code> and providing my own implementation. That would be very hacky and unwieldy.</li>\n</ol>\n<p>Any other ideas?</p>\n"},{"tags":["java","android","ios","render","samsung-mobile"],"answers":[{"tags":[],"owner":{"account_id":28199332,"reputation":21,"user_id":21553392,"display_name":"deva eelic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680510026,"creation_date":1680510026,"answer_id":75917363,"question_id":75684805,"body_markdown":"Change the Material Design library version in your Android Studio project&#39;s build.gradle file to a version before 1.8.0. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    dependencies {\r\n      &#39;com.google.android.material:material:1.7.0&#39;\r\n     }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Activity layout screen disappears when I add a tab layout","body":"<p>Change the Material Design library version in your Android Studio project's build.gradle file to a version before 1.8.0.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>dependencies {\n  'com.google.android.material:material:1.7.0'\n }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":16644223,"reputation":29,"user_id":12028911,"display_name":"TacticalPeter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680510026,"creation_date":1678365872,"question_id":75684805,"body_markdown":"This is how the screen looks, with nothing on it:\r\n[![enter image description here][1]][1]\r\n\r\nThis is how the screen looks, when I add the tab layout:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI have tried refreshing it, closing the app and opening it again\r\n\r\nI get three rendering errors with the following messages:\r\n\r\n\r\n```Failed to find style with 2131032999```\r\n\r\n```Style ResourceReference{namespace=apk/res-auto, type=attr, name=textAppearanceButton} is not of type STYLE (instead attr)```\r\n\r\n\r\n\r\n```\r\n\r\n    java.lang.NullPointerException\r\n    \tat android.content.res.Resources_Theme_Delegate.obtainStyledAttributes(Resources_Theme_Delegate.java:74)\r\n    \tat android.content.res.Resources$Theme.obtainStyledAttributes(Resources.java:1631)\r\n    \tat android.content.Context.obtainStyledAttributes(Context.java:874)\r\n    \tat android.widget.TextView.setTextAppearance(TextView.java:3965)\r\n    \tat androidx.appcompat.widget.AppCompatTextView.setTextAppearance(AppCompatTextView.java:216)\r\n    \tat com.google.android.material.textview.MaterialTextView.setTextAppearance(MaterialTextView.java:106)\r\n    \tat android.widget.TextView.setTextAppearance(TextView.java:3954)\r\n    \tat androidx.core.widget.TextViewCompat.setTextAppearance(TextViewCompat.java:289)\r\n    \tat com.google.android.material.tabs.TabLayout$TabView.updateTab(TabLayout.java:2772)\r\n    \tat com.google.android.material.tabs.TabLayout$TabView.update(TabLayout.java:2801)\r\n    \tat com.google.android.material.tabs.TabLayout$TabView.setTab(TabLayout.java:2713)\r\n    \tat com.google.android.material.tabs.TabLayout.createTabView(TabLayout.java:1673)\r\n    \tat com.google.android.material.tabs.TabLayout.newTab(TabLayout.java:956)\r\n    \tat com.google.android.material.tabs.TabLayout.addTabFromItemView(TabLayout.java:824)\r\n    \tat com.google.android.material.tabs.TabLayout.addViewInternal(TabLayout.java:1730)\r\n    \tat com.google.android.material.tabs.TabLayout.addView(TabLayout.java:1720)\r\n    \tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1131)\r\n    \tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n    \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n    \tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n    \tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\r\n    \tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n    \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n    \tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\n    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:505)\r\n    \tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:360)\r\n    \tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:443)\r\n    \tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\r\n    \tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:722)\r\n    \tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$9(RenderTask.java:879)\r\n    \tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:194)\r\n    \tat com.android.tools.idea.rendering.RenderExecutor$PriorityRunnable.run(RenderExecutor.kt:292)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cU6K7.png\r\n  [2]: https://i.stack.imgur.com/v7Wk5.png","title":"Activity layout screen disappears when I add a tab layout","body":"<p>This is how the screen looks, with nothing on it:\n<a href=\"https://i.stack.imgur.com/cU6K7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cU6K7.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how the screen looks, when I add the tab layout:\n<a href=\"https://i.stack.imgur.com/v7Wk5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v7Wk5.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried refreshing it, closing the app and opening it again</p>\n<p>I get three rendering errors with the following messages:</p>\n<p><code>Failed to find style with 2131032999</code></p>\n<p><code>Style ResourceReference{namespace=apk/res-auto, type=attr, name=textAppearanceButton} is not of type STYLE (instead attr)</code></p>\n<pre><code>\n    java.lang.NullPointerException\n        at android.content.res.Resources_Theme_Delegate.obtainStyledAttributes(Resources_Theme_Delegate.java:74)\n        at android.content.res.Resources$Theme.obtainStyledAttributes(Resources.java:1631)\n        at android.content.Context.obtainStyledAttributes(Context.java:874)\n        at android.widget.TextView.setTextAppearance(TextView.java:3965)\n        at androidx.appcompat.widget.AppCompatTextView.setTextAppearance(AppCompatTextView.java:216)\n        at com.google.android.material.textview.MaterialTextView.setTextAppearance(MaterialTextView.java:106)\n        at android.widget.TextView.setTextAppearance(TextView.java:3954)\n        at androidx.core.widget.TextViewCompat.setTextAppearance(TextViewCompat.java:289)\n        at com.google.android.material.tabs.TabLayout$TabView.updateTab(TabLayout.java:2772)\n        at com.google.android.material.tabs.TabLayout$TabView.update(TabLayout.java:2801)\n        at com.google.android.material.tabs.TabLayout$TabView.setTab(TabLayout.java:2713)\n        at com.google.android.material.tabs.TabLayout.createTabView(TabLayout.java:1673)\n        at com.google.android.material.tabs.TabLayout.newTab(TabLayout.java:956)\n        at com.google.android.material.tabs.TabLayout.addTabFromItemView(TabLayout.java:824)\n        at com.google.android.material.tabs.TabLayout.addViewInternal(TabLayout.java:1730)\n        at com.google.android.material.tabs.TabLayout.addView(TabLayout.java:1720)\n        at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1131)\n        at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n        at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\n        at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:505)\n        at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:360)\n        at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:443)\n        at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\n        at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:722)\n        at com.android.tools.idea.rendering.RenderTask.lambda$inflate$9(RenderTask.java:879)\n        at com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:194)\n        at com.android.tools.idea.rendering.RenderExecutor$PriorityRunnable.run(RenderExecutor.kt:292)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\n</code></pre>\n"},{"tags":["java","spring","postgresql","jdbc","connection"],"comments":[{"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"score":0,"creation_date":1680466424,"post_id":75914323,"comment_id":133899389,"body_markdown":"Are you  using some connection pool?","body":"Are you  using some connection pool?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680466558,"post_id":75914323,"comment_id":133899407,"body_markdown":"PreDestroy is the right one. Please check the Java version in use. If 11+ then add a dependency for javax.annotation-api","body":"PreDestroy is the right one. Please check the Java version in use. If 11+ then add a dependency for javax.annotation-api"},{"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"score":0,"creation_date":1680467317,"post_id":75914323,"comment_id":133899530,"body_markdown":"@Mar-Z adding the dependency was the first thing I did!! Still no result:(","body":"@Mar-Z adding the dependency was the first thing I did!! Still no result:("},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680515091,"post_id":75914323,"comment_id":133905675,"body_markdown":"Ditch your approach and inject the `JdbcTemplate` from Spring, that together with proper transaction management will do proper resource manageme.t","body":"Ditch your approach and inject the <code>JdbcTemplate</code> from Spring, that together with proper transaction management will do proper resource manageme.t"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680509895,"creation_date":1680465603,"question_id":75914323,"body_markdown":"I have a simple class that can search all tables in PostgreSQL and generate a ```SELECT``` query for them. Works fine but need advice on closing java.sql.Connection\r\nI&#39;d like my object to keep the database connection while the instance still exists. To do this, I created a private ```Connection connection``` field so that the connection to the database is not established and closed after each method is called (during one session), but is created once and closed after the main thread stops or after the bean is disposed of. I tried to use ```@PreDestroy``` and implement a ```DisposableBean``` interface but didn&#39;t see any clear result. So what is the correct approach to close such a connection?\r\n\r\nQueryBuilder class\r\n```\r\n@Component\r\npublic class PostgreSQLQueryBuilder implements SQLQueryBuilder{\r\n\r\n    private DatabaseMetaData metaData;\r\n    private Connection connection; // I need to close this somehow\r\n\r\n    @Autowired\r\n    public PostgreSQLQueryBuilder(DataSource dataSource) {\r\n        try {\r\n            this.connection = dataSource.getConnection();\r\n            this.metaData = connection.getMetaData();\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;Connection exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String queryForTable(String tableName){\r\n        String resultQuery = null;\r\n        List&lt;String&gt; columnList = new ArrayList&lt;&gt;();\r\n        if (getTables().contains(tableName)) {\r\n            try (ResultSet columns = metaData.getColumns(null, null, tableName, null)) {\r\n                //some logic\r\n                return resultQuery;\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;Exception&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return resultQuery;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; getTables() {\r\n        List&lt;String&gt; tables = new ArrayList&lt;&gt;();\r\n        try (ResultSet schemaRs = metaData.getSchemas()) {\r\n            while (schemaRs.next()) {\r\n                String currentSchema = schemaRs.getString(1);\r\n                try (ResultSet tableRS = metaData.getTables(null, currentSchema, &quot;%&quot;, new String[]{&quot;TABLE&quot;, &quot;SYSTEM TABLE&quot;})) {\r\n                    while (tableRS.next()) {\r\n                        tables.add(tableRS.getString(&quot;TABLE_NAME&quot;));\r\n                    }\r\n                }\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;Exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return tables;\r\n    }\r\n    // I tried this\r\n    @PreDestroy\r\n    private void closeConnections(){\r\n        try{\r\n           this.connection.close()\r\n           //this is not printed\r\n           System.out.println(&quot;Connection closed&quot;)\r\n        }catch(Exception e){\r\n           //some logic\r\n        }\r\n    }\r\n}\r\n```\r\nTesting class:\r\n```\r\npublic class SQLQueryExtenderTest {\r\n  public static void main(String[] args) throws Exception{\r\n    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Config.class);\r\n    applicationContext.start();\r\n    SQLQueryBuilder queryBuilder = applicationContext.getBean(SQLQueryBuilder.class);\r\n    List&lt;String&gt; tables = queryBuilder.getTables();\r\n    System.out.println(tables);\r\n    System.out.println(queryBuilder.queryForTable(&quot;some_table&quot;));\r\n    System.out.println(queryBuilder.queryForTable(&quot;person&quot;));\r\n    System.out.println(queryBuilder.queryForTable(null));\r\n    }\r\n//I expect the connection to be closed at this point\r\n}\r\n```","title":"Java JDBC+Spring Connection closing","body":"<p>I have a simple class that can search all tables in PostgreSQL and generate a <code>SELECT</code> query for them. Works fine but need advice on closing java.sql.Connection\nI'd like my object to keep the database connection while the instance still exists. To do this, I created a private <code>Connection connection</code> field so that the connection to the database is not established and closed after each method is called (during one session), but is created once and closed after the main thread stops or after the bean is disposed of. I tried to use <code>@PreDestroy</code> and implement a <code>DisposableBean</code> interface but didn't see any clear result. So what is the correct approach to close such a connection?</p>\n<p>QueryBuilder class</p>\n<pre><code>@Component\npublic class PostgreSQLQueryBuilder implements SQLQueryBuilder{\n\n    private DatabaseMetaData metaData;\n    private Connection connection; // I need to close this somehow\n\n    @Autowired\n    public PostgreSQLQueryBuilder(DataSource dataSource) {\n        try {\n            this.connection = dataSource.getConnection();\n            this.metaData = connection.getMetaData();\n        } catch (SQLException e) {\n            System.out.println(&quot;Connection exception&quot;);\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public String queryForTable(String tableName){\n        String resultQuery = null;\n        List&lt;String&gt; columnList = new ArrayList&lt;&gt;();\n        if (getTables().contains(tableName)) {\n            try (ResultSet columns = metaData.getColumns(null, null, tableName, null)) {\n                //some logic\n                return resultQuery;\n            } catch (SQLException e) {\n                System.out.println(&quot;Exception&quot;);\n                e.printStackTrace();\n            }\n        }\n        return resultQuery;\n    }\n\n    @Override\n    public List&lt;String&gt; getTables() {\n        List&lt;String&gt; tables = new ArrayList&lt;&gt;();\n        try (ResultSet schemaRs = metaData.getSchemas()) {\n            while (schemaRs.next()) {\n                String currentSchema = schemaRs.getString(1);\n                try (ResultSet tableRS = metaData.getTables(null, currentSchema, &quot;%&quot;, new String[]{&quot;TABLE&quot;, &quot;SYSTEM TABLE&quot;})) {\n                    while (tableRS.next()) {\n                        tables.add(tableRS.getString(&quot;TABLE_NAME&quot;));\n                    }\n                }\n            }\n        } catch (SQLException e) {\n            System.out.println(&quot;Exception&quot;);\n            e.printStackTrace();\n        }\n        return tables;\n    }\n    // I tried this\n    @PreDestroy\n    private void closeConnections(){\n        try{\n           this.connection.close()\n           //this is not printed\n           System.out.println(&quot;Connection closed&quot;)\n        }catch(Exception e){\n           //some logic\n        }\n    }\n}\n</code></pre>\n<p>Testing class:</p>\n<pre><code>public class SQLQueryExtenderTest {\n  public static void main(String[] args) throws Exception{\n    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(Config.class);\n    applicationContext.start();\n    SQLQueryBuilder queryBuilder = applicationContext.getBean(SQLQueryBuilder.class);\n    List&lt;String&gt; tables = queryBuilder.getTables();\n    System.out.println(tables);\n    System.out.println(queryBuilder.queryForTable(&quot;some_table&quot;));\n    System.out.println(queryBuilder.queryForTable(&quot;person&quot;));\n    System.out.println(queryBuilder.queryForTable(null));\n    }\n//I expect the connection to be closed at this point\n}\n</code></pre>\n"},{"tags":["java","maven","confluence","atlassian-plugin-sdk"],"answers":[{"tags":[],"owner":{"account_id":3483662,"reputation":926,"user_id":2915087,"accept_rate":0,"display_name":"Krzysztof Bogdan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680264621,"creation_date":1680264621,"answer_id":75898385,"question_id":75889207,"body_markdown":"I think, here is the best answer provided by a Atlassian staff member:\r\nhttps://community.developer.atlassian.com/t/broken-java-api-in-confluence-8-eap-contentsearch-getbyid-etc/62907/8\r\n\r\nSummary: `SearchFilter` is replaced with `SearchQuery` and\r\n`SiteSearchPermissionsSearchFilter` by [`SiteSearchPermissionsQuery`][1].\r\n\r\n\r\n  [1]: https://docs.atlassian.com/ConfluenceServer/javadoc/8.0.2/com/atlassian/confluence/impl/search/v2/SiteSearchPermissionsQuery.html","title":"Confluence 8.0 plugin, searchFilter deprecated / removed","body":"<p>I think, here is the best answer provided by a Atlassian staff member:\n<a href=\"https://community.developer.atlassian.com/t/broken-java-api-in-confluence-8-eap-contentsearch-getbyid-etc/62907/8\" rel=\"nofollow noreferrer\">https://community.developer.atlassian.com/t/broken-java-api-in-confluence-8-eap-contentsearch-getbyid-etc/62907/8</a></p>\n<p>Summary: <code>SearchFilter</code> is replaced with <code>SearchQuery</code> and\n<code>SiteSearchPermissionsSearchFilter</code> by <a href=\"https://docs.atlassian.com/ConfluenceServer/javadoc/8.0.2/com/atlassian/confluence/impl/search/v2/SiteSearchPermissionsQuery.html\" rel=\"nofollow noreferrer\"><code>SiteSearchPermissionsQuery</code></a>.</p>\n"}],"owner":{"account_id":200910,"reputation":3887,"user_id":447040,"accept_rate":66,"display_name":"Gobliins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680509304,"creation_date":1680184637,"question_id":75889207,"body_markdown":"With Confluence Version 8.0 the:\r\n\r\n    import com.atlassian.confluence.search.v2.searchfilter.SiteSearchPermissionsSearchFilter;\r\nhas been removed and the docs say:\r\n\r\n    com.atlassian.confluence.search.v2.searchfilter (use the equivalent class that extends SearchQuery in 8.0)\r\n\r\nWhich is now the right way to create a searchQuery / searchFilter?\r\n\r\nCurrent (Deprecated) Code:\r\n\r\n    import com.atlassian.confluence.search.v2.query.BooleanQuery;\r\n    import com.atlassian.confluence.search.v2.searchfilter.SiteSearchPermissionsSearchFilter;\r\n\r\n    ....\r\n\r\n    ContentSearch search = new ContentSearch(BooleanQuery.composeAndQuery(allQueries), RELEVANCE_SORT, SiteSearchPermissionsSearchFilter.getInstance(), 0, 1);\r\n\r\n\r\nHow can this be done with the Confluence 8.0 API?\r\n\r\nEdit:\r\nWe are developing a Plugin and the corresponding 8.0 classes from the docs \r\nSiteSearchPermissionsSearchFilter, SiteSearchPermissionsQuery are marked as Internal (not for plugin use)\r\n","title":"Confluence 8.0 plugin, searchFilter deprecated / removed","body":"<p>With Confluence Version 8.0 the:</p>\n<pre><code>import com.atlassian.confluence.search.v2.searchfilter.SiteSearchPermissionsSearchFilter;\n</code></pre>\n<p>has been removed and the docs say:</p>\n<pre><code>com.atlassian.confluence.search.v2.searchfilter (use the equivalent class that extends SearchQuery in 8.0)\n</code></pre>\n<p>Which is now the right way to create a searchQuery / searchFilter?</p>\n<p>Current (Deprecated) Code:</p>\n<pre><code>import com.atlassian.confluence.search.v2.query.BooleanQuery;\nimport com.atlassian.confluence.search.v2.searchfilter.SiteSearchPermissionsSearchFilter;\n\n....\n\nContentSearch search = new ContentSearch(BooleanQuery.composeAndQuery(allQueries), RELEVANCE_SORT, SiteSearchPermissionsSearchFilter.getInstance(), 0, 1);\n</code></pre>\n<p>How can this be done with the Confluence 8.0 API?</p>\n<p>Edit:\nWe are developing a Plugin and the corresponding 8.0 classes from the docs\nSiteSearchPermissionsSearchFilter, SiteSearchPermissionsQuery are marked as Internal (not for plugin use)</p>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1680367954,"post_id":75907534,"comment_id":133888195,"body_markdown":"Your response actually looks like `List&lt;Root&gt;`, not `RestResponse`","body":"Your response actually looks like <code>List&lt;Root&gt;</code>, not <code>RestResponse</code>"},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1680368008,"post_id":75907534,"comment_id":133888206,"body_markdown":"but I can not add generics as return object in postForEntity","body":"but I can not add generics as return object in postForEntity"},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1680368090,"post_id":75907534,"comment_id":133888225,"body_markdown":"wait a minute, I have a workaround","body":"wait a minute, I have a workaround"}],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680368483,"creation_date":1680368483,"answer_id":75907647,"question_id":75907534,"body_markdown":"There is no way to explicitly ask `RestTemplate` to deserialize into `List&lt;Root&gt;`, but you can ask `ObjectMapper`! (if you are using Spring, there is one already available in context) The trick is to store type information into `TypeReference&lt;T&gt;`.\r\n\r\n```\r\n    ObjectMapper mapper = ...;\r\n    ResponseEntity&lt;String&gt; rawResult = restTemplate.postForEntity(uri, entity, String.class);\r\n    List&lt;Root&gt; result = mapper.readValue(rawResult.getBody(), new TypeReference&lt;List&lt;Root&gt;&gt;(){\r\n        /*yes, this is anonymous class*/\r\n    });\r\n```    ","title":"How to parse JSON response from rest request without name of root element in java","body":"<p>There is no way to explicitly ask <code>RestTemplate</code> to deserialize into <code>List&lt;Root&gt;</code>, but you can ask <code>ObjectMapper</code>! (if you are using Spring, there is one already available in context) The trick is to store type information into <code>TypeReference&lt;T&gt;</code>.</p>\n<pre><code>    ObjectMapper mapper = ...;\n    ResponseEntity&lt;String&gt; rawResult = restTemplate.postForEntity(uri, entity, String.class);\n    List&lt;Root&gt; result = mapper.readValue(rawResult.getBody(), new TypeReference&lt;List&lt;Root&gt;&gt;(){\n        /*yes, this is anonymous class*/\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680451289,"creation_date":1680387996,"answer_id":75909163,"question_id":75907534,"body_markdown":"With **RestTemplate** you could fetch an array of entities and convert it to a list:\r\n\r\n```\r\nRoot[] rootArray = restTemplate.getForObject(uri, Root[].class);\r\nList&lt;Root&gt; roots = Arrays.stream(rootArray).collect(Collectors.toList());\r\n```\r\n\r\nIf you need an unmodifiable list you could use `List.of()` or `Arrays.asList()`.\r\n\r\n---\r\nConverting with ObjectMapper you could do a similar thing:\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nRoot[] root = mapper.readValue(myJsonString, Root[].class);\r\n```","title":"How to parse JSON response from rest request without name of root element in java","body":"<p>With <strong>RestTemplate</strong> you could fetch an array of entities and convert it to a list:</p>\n<pre><code>Root[] rootArray = restTemplate.getForObject(uri, Root[].class);\nList&lt;Root&gt; roots = Arrays.stream(rootArray).collect(Collectors.toList());\n</code></pre>\n<p>If you need an unmodifiable list you could use <code>List.of()</code> or <code>Arrays.asList()</code>.</p>\n<hr />\n<p>Converting with ObjectMapper you could do a similar thing:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nRoot[] root = mapper.readValue(myJsonString, Root[].class);\n</code></pre>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680508966,"creation_date":1680367483,"question_id":75907534,"body_markdown":"I got a response to my request:\r\n\r\n    [\r\n       {\r\n          &quot;data&quot;:{\r\n             &quot;channel&quot;:{\r\n                &quot;id&quot;:&quot;708087644&quot;,            \r\n                &quot;__typename&quot;:&quot;User&quot;\r\n             }\r\n          },\r\n          &quot;extensions&quot;:{\r\n             &quot;durationMilliseconds&quot;:112,\r\n             &quot;operationName&quot;:&quot;ViewerCardModLogsMessagesBySender&quot;,\r\n             &quot;requestID&quot;:&quot;01GWVKPD13BQGBZS64TY4824B9&quot;\r\n          }\r\n       }\r\n    ]\r\n\r\nI am trying to create a Java class where I can parse this response:\r\n\r\n    ResponseEntity&lt;RestResponse&gt; result = restTemplate.postForEntity(uri, entity, RestResponse.class);\r\n\r\nHowever, I still got an exception:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `org.tomass.twitch.RestResponse` from Array value (token `JsonToken.START_ARRAY`)\r\n     at [Source: (PushbackInputStream); line: 1, column: 1]\r\n\r\n`RestResponse` looks like this:\r\n\r\n    public class RestResponse implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private List&lt;Root&gt; root = new ArrayList&lt;&gt;();\r\n    \r\n        public List&lt;Root&gt; getRoot() {\r\n            return root;\r\n        }\r\n    \r\n        public void setRoot(List&lt;Root&gt; root) {\r\n            this.root = root;\r\n        }\r\n    \r\n        public static class Root {\r\n    \r\n            private Data data;\r\n    \r\n            // getters &amp; setters\r\n    \r\n            public class Data {\r\n                private Channel channel;\r\n    \r\n                // getters &amp; setters\r\n            }\r\n        }\r\n    }\r\n\r\nWhen editing the response and the name of the root list then it works: `&quot;{\\&quot;root\\&quot;:` \r\nbut I don&#39;t know how to parse it without it.","title":"How to parse JSON response from rest request without name of root element in java","body":"<p>I got a response to my request:</p>\n<pre><code>[\n   {\n      &quot;data&quot;:{\n         &quot;channel&quot;:{\n            &quot;id&quot;:&quot;708087644&quot;,            \n            &quot;__typename&quot;:&quot;User&quot;\n         }\n      },\n      &quot;extensions&quot;:{\n         &quot;durationMilliseconds&quot;:112,\n         &quot;operationName&quot;:&quot;ViewerCardModLogsMessagesBySender&quot;,\n         &quot;requestID&quot;:&quot;01GWVKPD13BQGBZS64TY4824B9&quot;\n      }\n   }\n]\n</code></pre>\n<p>I am trying to create a Java class where I can parse this response:</p>\n<pre><code>ResponseEntity&lt;RestResponse&gt; result = restTemplate.postForEntity(uri, entity, RestResponse.class);\n</code></pre>\n<p>However, I still got an exception:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `org.tomass.twitch.RestResponse` from Array value (token `JsonToken.START_ARRAY`)\n at [Source: (PushbackInputStream); line: 1, column: 1]\n</code></pre>\n<p><code>RestResponse</code> looks like this:</p>\n<pre><code>public class RestResponse implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    private List&lt;Root&gt; root = new ArrayList&lt;&gt;();\n\n    public List&lt;Root&gt; getRoot() {\n        return root;\n    }\n\n    public void setRoot(List&lt;Root&gt; root) {\n        this.root = root;\n    }\n\n    public static class Root {\n\n        private Data data;\n\n        // getters &amp; setters\n\n        public class Data {\n            private Channel channel;\n\n            // getters &amp; setters\n        }\n    }\n}\n</code></pre>\n<p>When editing the response and the name of the root list then it works: <code>&quot;{\\&quot;root\\&quot;:</code>\nbut I don't know how to parse it without it.</p>\n"},{"tags":["java","authentication","jakarta-ee","jwt","principal"],"owner":{"account_id":28200708,"reputation":1,"user_id":21554540,"display_name":"krokybrokyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680508960,"creation_date":1680508960,"question_id":75917227,"body_markdown":"I want to add JWT auth to my Jakarta EE Liberty project. I get the following error:\r\n\r\n[ERROR   ] CWWKS5604E: A JsonWebToken Principal can&#39;t be injected because one is not available. Protect the requesting resource so authentication occurs before the resource is accessed.\r\n\r\nThis is the app:\r\n\r\n\r\n```\r\n@ApplicationPath(&quot;rest&quot;)\r\n@LoginConfig(authMethod = &quot;MP-JWT&quot;)\r\n@DeclareRoles({ &quot;somerole&quot;, &quot;anotherrole })\r\npublic class ApplicationConfig extends Application {\r\n```\r\n\r\n\r\n```\r\nimport java.security.Principal;\r\n\r\nimport org.eclipse.microprofile.jwt.JsonWebToken;\r\n\r\nimport jakarta.annotation.security.RolesAllowed;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\n\r\n\r\n@RolesAllowed(&quot;somerole&quot;)\r\n@Path(&quot;/testjwt&quot;)\r\npublic class TestJWT\r\n{  \r\n    @Inject\r\n    private JsonWebToken token;\r\n    \r\n    @Inject\r\n    private Principal principal;\r\n    \r\n\r\n    @GET\r\n    public String ping() {\r\n        return &quot;Ping OK&quot;;\r\n    }\r\n    \r\n    @GET\r\n    @Path(&quot;hey&quot;)\r\n    public String p() {\r\n        return &quot;hey&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAccording to [this thred](https://stackoverflow.com/questions/67669555/websphere-liberty-jwt-a-jsonwebtoken-principal-cant-be-injected-because-one), the problem was with @PermitAll and resources not being protected and should be solved by using RolesAllowed. But I do have RolesAllowed tag, I tried to add it everywhere, ... And I still get the same error. Why? How to solve id? What else do I need to do to be able to use JWT?","title":"Liberty JWT : A JsonWebToken Principal can&#39;t be injected because one is not available","body":"<p>I want to add JWT auth to my Jakarta EE Liberty project. I get the following error:</p>\n<p>[ERROR   ] CWWKS5604E: A JsonWebToken Principal can't be injected because one is not available. Protect the requesting resource so authentication occurs before the resource is accessed.</p>\n<p>This is the app:</p>\n<pre><code>@ApplicationPath(&quot;rest&quot;)\n@LoginConfig(authMethod = &quot;MP-JWT&quot;)\n@DeclareRoles({ &quot;somerole&quot;, &quot;anotherrole })\npublic class ApplicationConfig extends Application {\n</code></pre>\n<pre><code>import java.security.Principal;\n\nimport org.eclipse.microprofile.jwt.JsonWebToken;\n\nimport jakarta.annotation.security.RolesAllowed;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\n\n\n@RolesAllowed(&quot;somerole&quot;)\n@Path(&quot;/testjwt&quot;)\npublic class TestJWT\n{  \n    @Inject\n    private JsonWebToken token;\n    \n    @Inject\n    private Principal principal;\n    \n\n    @GET\n    public String ping() {\n        return &quot;Ping OK&quot;;\n    }\n    \n    @GET\n    @Path(&quot;hey&quot;)\n    public String p() {\n        return &quot;hey&quot;;\n    }\n}\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/questions/67669555/websphere-liberty-jwt-a-jsonwebtoken-principal-cant-be-injected-because-one\">this thred</a>, the problem was with @PermitAll and resources not being protected and should be solved by using RolesAllowed. But I do have RolesAllowed tag, I tried to add it everywhere, ... And I still get the same error. Why? How to solve id? What else do I need to do to be able to use JWT?</p>\n"},{"tags":["java","xml","jmeter","beanshell","readxml"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1455604154,"creation_date":1455604154,"answer_id":35425312,"question_id":35423876,"body_markdown":"Try out the following:\r\n\r\n 1. Add [Beanshell Sampler][1] to your Test Plan\r\n 2. Put the following code into the sampler&#39;s &quot;Script&quot; area:\r\n\r\n        import org.apache.commons.io.FileUtils;\r\n\r\n        try {\r\n            String content = FileUtils.readFileToString(new File(&quot;C:/QC/qa/Testlink/Jmeter/Expected/test.xml&quot;));\r\n            vars.put(&quot;content&quot;, content);\r\n\r\n        } catch (Throwable ex) {\r\n            log.info(&quot;Failed to read \\&quot;test.xml\\&quot; file&quot;, ex);\r\n            throw ex;\r\n        }\r\n\r\n 3. Add [Debug Sampler][2] and [View Results Tree][3] listener to your Test Plan\r\n 4. Run the test\r\n 5. Make sure that Beanshell Sampler is green and `${content}` variable is set. If not - look into **jmeter.log** file and search for the line `Failed to read &quot;test.xml&quot; file`. If exception stacktrace below this line tells you nothing - post it here. \r\n\r\nSee [How to Use BeanShell: JMeter&#39;s Favorite Built-in Component][4] guide for more information on using Beanshell in your JMeter test. \r\n\r\n\r\n  [1]: http://jmeter.apache.org/usermanual/component_reference.html#BeanShell_Sampler\r\n  [2]: http://jmeter.apache.org/usermanual/component_reference.html#Debug_Sampler\r\n  [3]: http://jmeter.apache.org/usermanual/component_reference.html#View_Results_Tree\r\n  [4]: https://blazemeter.com/blog/queen-jmeters-built-componentshow-use-beanshell","title":"How to read XML file in JMeter?","body":"<p>Try out the following:</p>\n\n<ol>\n<li>Add <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#BeanShell_Sampler\" rel=\"noreferrer\">Beanshell Sampler</a> to your Test Plan</li>\n<li><p>Put the following code into the sampler's \"Script\" area:</p>\n\n<pre><code>import org.apache.commons.io.FileUtils;\n\ntry {\n    String content = FileUtils.readFileToString(new File(\"C:/QC/qa/Testlink/Jmeter/Expected/test.xml\"));\n    vars.put(\"content\", content);\n\n} catch (Throwable ex) {\n    log.info(\"Failed to read \\\"test.xml\\\" file\", ex);\n    throw ex;\n}\n</code></pre></li>\n<li><p>Add <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#Debug_Sampler\" rel=\"noreferrer\">Debug Sampler</a> and <a href=\"http://jmeter.apache.org/usermanual/component_reference.html#View_Results_Tree\" rel=\"noreferrer\">View Results Tree</a> listener to your Test Plan</p></li>\n<li>Run the test</li>\n<li>Make sure that Beanshell Sampler is green and <code>${content}</code> variable is set. If not - look into <strong>jmeter.log</strong> file and search for the line <code>Failed to read \"test.xml\" file</code>. If exception stacktrace below this line tells you nothing - post it here. </li>\n</ol>\n\n<p>See <a href=\"https://blazemeter.com/blog/queen-jmeters-built-componentshow-use-beanshell\" rel=\"noreferrer\">How to Use BeanShell: JMeter's Favorite Built-in Component</a> guide for more information on using Beanshell in your JMeter test. </p>\n"},{"tags":[],"owner":{"account_id":16020189,"reputation":13,"user_id":11561870,"display_name":"Jan Rohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680508637,"creation_date":1679930126,"answer_id":75857467,"question_id":35423876,"body_markdown":"maybe this will be also helpful for anyone. JMETER also can use HTTP request to read the file from your local disk, credit goes to this page - you can use **&quot;file&quot;** in protocol field: \r\n\r\nLike that (HTTP Request sampler):\r\n[![enter image description here][1]][1]\r\n\r\nhttps://www.blazemeter.com/blog/extracting-data-files-jmeter\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8aYWP.png","title":"How to read XML file in JMeter?","body":"<p>maybe this will be also helpful for anyone. JMETER also can use HTTP request to read the file from your local disk, credit goes to this page - you can use <strong>&quot;file&quot;</strong> in protocol field:</p>\n<p>Like that (HTTP Request sampler):\n<a href=\"https://i.stack.imgur.com/8aYWP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8aYWP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://www.blazemeter.com/blog/extracting-data-files-jmeter\" rel=\"nofollow noreferrer\">https://www.blazemeter.com/blog/extracting-data-files-jmeter</a></p>\n"}],"owner":{"account_id":7849127,"reputation":33,"user_id":5933140,"display_name":"Akshay Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10460,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35425312,"answer_count":2,"score":3,"last_activity_date":1680508637,"creation_date":1455597593,"question_id":35423876,"body_markdown":"I have tried:\r\n\r\n `//${__FileToString(C:\\\\QC\\\\qa\\\\Testlink\\\\Jmeter\\\\Expected\\\\test.xml,ASCII,${xmlFile})};`\r\n\r\nFound error message :\r\n*`org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval\tIn file: inline evaluation of: ``//&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  &lt;feed xmlns=&quot;http://www.w3.org/2005/At . . . &#39;&#39; Encountered &quot;&lt;&quot; at line 2, column 1.`*\r\n\r\nalso, I tried with `${__StringFromFile}` and got the same error message and even with beanshell script that is:\r\n\r\n    import org.apache.jmeter.services.FileServer;\r\n    \r\n      //Open the file  \r\n      FileInputStream fstream = new FileInputStream(&quot;C://QC//qa//Testlink//Jmeter//Expected//test.xml&quot;);  \r\n      //Get the object of DataInputStream  \r\n      DataInputStream instream = new DataInputStream(fstream);  \r\n      BufferedReader br = new BufferedReader(new InputStreamReader(instream));","title":"How to read XML file in JMeter?","body":"<p>I have tried:</p>\n\n<p><code>//${__FileToString(C:\\\\QC\\\\qa\\\\Testlink\\\\Jmeter\\\\Expected\\\\test.xml,ASCII,${xmlFile})};</code></p>\n\n<p>Found error message :\n<em><code>org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval  In file: inline evaluation of: ``//&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;  &lt;feed xmlns=\"http://www.w3.org/2005/At . . . '' Encountered \"&lt;\" at line 2, column 1.</code></em></p>\n\n<p>also, I tried with <code>${__StringFromFile}</code> and got the same error message and even with beanshell script that is:</p>\n\n<pre><code>import org.apache.jmeter.services.FileServer;\n\n  //Open the file  \n  FileInputStream fstream = new FileInputStream(\"C://QC//qa//Testlink//Jmeter//Expected//test.xml\");  \n  //Get the object of DataInputStream  \n  DataInputStream instream = new DataInputStream(fstream);  \n  BufferedReader br = new BufferedReader(new InputStreamReader(instream));\n</code></pre>\n"},{"tags":["java","json","encoding","xss","owasp"],"owner":{"account_id":23384526,"reputation":1,"user_id":17450095,"display_name":"Sriharsha Nanduri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680506994,"creation_date":1680506994,"question_id":75916968,"body_markdown":"I&#39;m using [owasp-java-encoder](https://github.com/OWASP/owasp-java-encoder) to encode user input from client side (frontend) before passing it on to my backend controller/server to prevent any code injection via input field but I&#39;m facing an issue when the payload is a JSON. \r\n\r\nFor ex: if the JSON payload is something like\r\n\r\n`{&quot;foo&quot;:&quot;[\\&quot;end\\&quot;]&quot;,&quot;foo2&quot;:&quot;[\\&quot;get\\&quot;,\\&quot;end\\&quot;]&quot;}`\r\n\r\nthen encoded output is :\r\n\r\n`{&amp;#34;foo&amp;#34;:&amp;#34;[\\&amp;#34;end\\&amp;#34;]&amp;#34;,&amp;#34;foo2&amp;#34;:&amp;#34;[\\&amp;#34;get\\&amp;#34;,\\&amp;#34;end\\&amp;#34;]&amp;#34;}`\r\n\r\nso essentially what&#39;s happening is double quotes (&quot;) and single quotes (&#39;) are also being encoded so when this encoded string is passed to backend and expected to perform JSON operations on it, errors are being thrown.\r\n\r\nany idea or suggestions on how to skip encoding double quotes (&quot;) and single quotes (&#39;)? or any special way to encode JSON using this library?\r\n\r\nI tried using a custom encoding logic but we are expected to use owasp-java-encoder only for encoding purpose.\r\n\r\nI&#39;m expecting to have some mechanism to encode only elements in JSON instead of how JSON.","title":"How to prevent encoding JSON string when using owasp-java-encoder?","body":"<p>I'm using <a href=\"https://github.com/OWASP/owasp-java-encoder\" rel=\"nofollow noreferrer\">owasp-java-encoder</a> to encode user input from client side (frontend) before passing it on to my backend controller/server to prevent any code injection via input field but I'm facing an issue when the payload is a JSON.</p>\n<p>For ex: if the JSON payload is something like</p>\n<p><code>{&quot;foo&quot;:&quot;[\\&quot;end\\&quot;]&quot;,&quot;foo2&quot;:&quot;[\\&quot;get\\&quot;,\\&quot;end\\&quot;]&quot;}</code></p>\n<p>then encoded output is :</p>\n<p><code>{&amp;#34;foo&amp;#34;:&amp;#34;[\\&amp;#34;end\\&amp;#34;]&amp;#34;,&amp;#34;foo2&amp;#34;:&amp;#34;[\\&amp;#34;get\\&amp;#34;,\\&amp;#34;end\\&amp;#34;]&amp;#34;}</code></p>\n<p>so essentially what's happening is double quotes (&quot;) and single quotes (') are also being encoded so when this encoded string is passed to backend and expected to perform JSON operations on it, errors are being thrown.</p>\n<p>any idea or suggestions on how to skip encoding double quotes (&quot;) and single quotes (')? or any special way to encode JSON using this library?</p>\n<p>I tried using a custom encoding logic but we are expected to use owasp-java-encoder only for encoding purpose.</p>\n<p>I'm expecting to have some mechanism to encode only elements in JSON instead of how JSON.</p>\n"},{"tags":["java","arrays","sorting","loops","max"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1373660849,"post_id":17623468,"comment_id":25656353,"body_markdown":"It looks like you need to reconsider how to update when you find a new element in the top 5.","body":"It looks like you need to reconsider how to update when you find a new element in the top 5."},{"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"score":0,"creation_date":1373660985,"post_id":17623468,"comment_id":25656423,"body_markdown":"there are some index-preserving approaches in [this discussion](http://stackoverflow.com/questions/951848/java-array-sort-quick-way-to-get-a-sorted-list-of-indices-of-an-array?rq=1)","body":"there are some index-preserving approaches in <a href=\"http://stackoverflow.com/questions/951848/java-array-sort-quick-way-to-get-a-sorted-list-of-indices-of-an-array?rq=1\">this discussion</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1373661618,"post_id":17623468,"comment_id":25656734,"body_markdown":"(To be clear, your approach is already pretty close to right; you just need to rework that third loop.)","body":"(To be clear, your approach is already pretty close to right; you just need to rework that third loop.)"},{"owner":{"account_id":1534856,"reputation":8614,"user_id":1431182,"accept_rate":84,"display_name":"mistahenry"},"score":0,"creation_date":1373661739,"post_id":17623468,"comment_id":25656794,"body_markdown":"can you use arraylists? that might lead to an easier algorithm","body":"can you use arraylists? that might lead to an easier algorithm"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1373662366,"post_id":17623468,"comment_id":25657097,"body_markdown":"Start by getting the index of the *first* maximum.","body":"Start by getting the index of the <i>first</i> maximum."}],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1373662831,"creation_date":1373660988,"answer_id":17623521,"question_id":17623468,"body_markdown":"Sorting is an option, at the expense of extra memory. Consider the following algorithm.\r\n\r\n    1. Allocate additional array and copy into - O(n)\r\n    2. Sort additional array - O(n lg n)\r\n    3. Lop off the top k elements (in this case 5) - O(n), since k could be up to n\r\n    4. Iterate over the original array - O(n)\r\n        4.a search the top k elements for to see if they contain the current element - O(lg n)\r\n\r\nSo it step 4 is (n * lg n), just like the sort. The entire algorithm is n lg n, and is very simple to code.\r\n\r\nHere&#39;s a quick and dirty example. There may be bugs in it, and obviously null checking and the like come into play.\r\n\r\nimport java.util.Arrays;\r\n\r\n    class ArrayTest {\r\n    \r\n        public static void main(String[] args) {\r\n            int[] arr = {1, 3, 5, 7, 9, 2, 4, 6, 8, 10};\r\n            int[] indexes = indexesOfTopElements(arr,3);\r\n            for(int i = 0; i &lt; indexes.length; i++) {\r\n                int index = indexes[i];\r\n                System.out.println(index + &quot; &quot; + arr[index]);\r\n            }\r\n        }\r\n    \r\n        static int[] indexesOfTopElements(int[] orig, int nummax) {\r\n            int[] copy = Arrays.copyOf(orig,orig.length);\r\n            Arrays.sort(copy);\r\n            int[] honey = Arrays.copyOfRange(copy,copy.length - nummax, copy.length);\r\n            int[] result = new int[nummax];\r\n            int resultPos = 0;\r\n            for(int i = 0; i &lt; orig.length; i++) {\r\n                int onTrial = orig[i];\r\n                int index = Arrays.binarySearch(honey,onTrial);\r\n                if(index &lt; 0) continue;\r\n                result[resultPos++] = i;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nThere are other things you can do to reduce the overhead of this operation. For example instead of sorting, you could opt to use a queue that just tracks the largest 5. Being `int`s they values would probably have to be boxed to be added to a collection (unless you rolled your own) which adds to overhead significantly.","title":"Get indices of n maximums in java array","body":"<p>Sorting is an option, at the expense of extra memory. Consider the following algorithm.</p>\n\n<pre><code>1. Allocate additional array and copy into - O(n)\n2. Sort additional array - O(n lg n)\n3. Lop off the top k elements (in this case 5) - O(n), since k could be up to n\n4. Iterate over the original array - O(n)\n    4.a search the top k elements for to see if they contain the current element - O(lg n)\n</code></pre>\n\n<p>So it step 4 is (n * lg n), just like the sort. The entire algorithm is n lg n, and is very simple to code.</p>\n\n<p>Here's a quick and dirty example. There may be bugs in it, and obviously null checking and the like come into play.</p>\n\n<p>import java.util.Arrays;</p>\n\n<pre><code>class ArrayTest {\n\n    public static void main(String[] args) {\n        int[] arr = {1, 3, 5, 7, 9, 2, 4, 6, 8, 10};\n        int[] indexes = indexesOfTopElements(arr,3);\n        for(int i = 0; i &lt; indexes.length; i++) {\n            int index = indexes[i];\n            System.out.println(index + \" \" + arr[index]);\n        }\n    }\n\n    static int[] indexesOfTopElements(int[] orig, int nummax) {\n        int[] copy = Arrays.copyOf(orig,orig.length);\n        Arrays.sort(copy);\n        int[] honey = Arrays.copyOfRange(copy,copy.length - nummax, copy.length);\n        int[] result = new int[nummax];\n        int resultPos = 0;\n        for(int i = 0; i &lt; orig.length; i++) {\n            int onTrial = orig[i];\n            int index = Arrays.binarySearch(honey,onTrial);\n            if(index &lt; 0) continue;\n            result[resultPos++] = i;\n        }\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>There are other things you can do to reduce the overhead of this operation. For example instead of sorting, you could opt to use a queue that just tracks the largest 5. Being <code>int</code>s they values would probably have to be boxed to be added to a collection (unless you rolled your own) which adds to overhead significantly.</p>\n"},{"tags":[],"owner":{"account_id":175348,"reputation":7565,"user_id":405303,"accept_rate":50,"display_name":"Jon Kiparsky"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1373662024,"creation_date":1373661091,"answer_id":17623542,"question_id":17623468,"body_markdown":"Arrays.sort(myArray), then take the final 5 elements. \r\n\r\nSort a copy if you want to preserve the original order.\r\n\r\nIf you want the indices, there isn&#39;t a quick-and-dirty solution as there would be in python or some other languages. You sort and scan, but that&#39;s ugly. \r\n\r\nOr you could go objecty - this is java, after all. \r\nMake an ArrayMaxFilter object. It&#39;ll have a private class ArrayElement, which consists of an index and a value and has a natural ordering by value. It&#39;ll have a method which takes a pair of ints, index and value, creates an ArrayElement of them, and drops them into a priority queue of length 5. (or however many you want to find). Submit each index/value pair from the array, then report out the values remaining in the queue. \r\n(yes, a priority queue traditionally keeps the lowest values, but you can flip this in your implementation)","title":"Get indices of n maximums in java array","body":"<p>Arrays.sort(myArray), then take the final 5 elements. </p>\n\n<p>Sort a copy if you want to preserve the original order.</p>\n\n<p>If you want the indices, there isn't a quick-and-dirty solution as there would be in python or some other languages. You sort and scan, but that's ugly. </p>\n\n<p>Or you could go objecty - this is java, after all. \nMake an ArrayMaxFilter object. It'll have a private class ArrayElement, which consists of an index and a value and has a natural ordering by value. It'll have a method which takes a pair of ints, index and value, creates an ArrayElement of them, and drops them into a priority queue of length 5. (or however many you want to find). Submit each index/value pair from the array, then report out the values remaining in the queue. \n(yes, a priority queue traditionally keeps the lowest values, but you can flip this in your implementation)</p>\n"},{"tags":[],"owner":{"account_id":3009188,"reputation":283,"user_id":2553050,"display_name":"MarcelK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373661963,"creation_date":1373661963,"answer_id":17623748,"question_id":17623468,"body_markdown":"My quick and a bit &quot;think outside the box&quot; idea would be to use the [`EvictingQueue`][1] that holds an maximum of 5 elements. You&#39;d had to pre-fill it with the first five elements from your array (do it in a ascending order, so the first element you add is the lowest from the five). \r\n\r\nThan you have to iterate through the array and add a new element to the queue whenever the current value is greater than the lowest value in the queue. To remember the indexes, create a wrapper object (a value/index pair). \r\n\r\nAfter iterating through the whole array, you have your five maximum value/index pairs in the queue (in descending order).\r\n\r\nIt&#39;s a O(n) solution.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/EvictingQueue.html","title":"Get indices of n maximums in java array","body":"<p>My quick and a bit \"think outside the box\" idea would be to use the <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/EvictingQueue.html\" rel=\"nofollow\"><code>EvictingQueue</code></a> that holds an maximum of 5 elements. You'd had to pre-fill it with the first five elements from your array (do it in a ascending order, so the first element you add is the lowest from the five). </p>\n\n<p>Than you have to iterate through the array and add a new element to the queue whenever the current value is greater than the lowest value in the queue. To remember the indexes, create a wrapper object (a value/index pair). </p>\n\n<p>After iterating through the whole array, you have your five maximum value/index pairs in the queue (in descending order).</p>\n\n<p>It's a O(n) solution.</p>\n"},{"tags":[],"owner":{"account_id":1534856,"reputation":8614,"user_id":1431182,"accept_rate":84,"display_name":"mistahenry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373664112,"creation_date":1373664112,"answer_id":17624192,"question_id":17623468,"body_markdown":"Here is my solution. Create a class that pairs an indice with a value:\r\n\r\n    public class IndiceValuePair{\r\n        private int indice;\r\n        private int value;\r\n    \r\n        public IndiceValuePair(int ind, int val){\r\n            indice = ind;\r\n            value = val;\r\n        }\r\n        public int getIndice(){\r\n            return indice;\r\n        }\r\n        public int getValue(){\r\n            return value;\r\n        }\r\n    }\r\n\r\nand then use this class in your main method:\r\n\r\n    public static void main(String[] args){\r\n        Random rand = new Random();\r\n        int[] myArray = new int[10];\r\n        IndiceValuePair[] pairs = new IndiceValuePair[5];\r\n        System.out.println(&quot;Here are the indices and their values:&quot;);\r\n        for(int i = 0; i &lt; myArray.length; i++) {\r\n            myArray[i] = rand.nextInt(100);\r\n            System.out.println(i+ &quot;: &quot; + myArray[i]);\r\n            for(int j = 0; j &lt; pairs.length; j++){\r\n                //for the first five entries\r\n                if(pairs[j] == null){\r\n                    pairs[j] = new IndiceValuePair(i, myArray[i]);\r\n                    break;\r\n                }\r\n                else if(pairs[j].getValue() &lt; myArray[i]){\r\n                    //inserts the new pair into its correct spot\r\n                    for(int k = 4; k &gt; j; k--){\r\n                        pairs[k] = pairs [k-1];\r\n                    }\r\n                    pairs[j] = new IndiceValuePair(i, myArray[i]);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;\\n5 Max indices and their values&quot;);\r\n        for(int i = 0; i &lt; pairs.length; i++){\r\n            System.out.println(pairs[i].getIndice() + &quot;: &quot; + pairs[i].getValue());\r\n        }\r\n    }\r\n\r\nand example output from a run:\r\n\r\n    Here are the indices and their values:\r\n    0: 13\r\n    1: 71\r\n    2: 45\r\n    3: 38\r\n    4: 43\r\n    5: 9\r\n    6: 4\r\n    7: 5\r\n    8: 59\r\n    9: 60\r\n    \r\n    5 Max indices and their values\r\n    1: 71\r\n    9: 60\r\n    8: 59\r\n    2: 45\r\n    4: 43\r\n\r\nThe example I provided only generates ten ints with a value between 0 and 99 just so that I could see that it worked. You can easily change this to fit 1000 values of any size. Also, rather than run 3 separate for loops, I checked to see if the newest value I add is a max value right after I add to to `myArray`. Give it a run and see if it works for you","title":"Get indices of n maximums in java array","body":"<p>Here is my solution. Create a class that pairs an indice with a value:</p>\n\n<pre><code>public class IndiceValuePair{\n    private int indice;\n    private int value;\n\n    public IndiceValuePair(int ind, int val){\n        indice = ind;\n        value = val;\n    }\n    public int getIndice(){\n        return indice;\n    }\n    public int getValue(){\n        return value;\n    }\n}\n</code></pre>\n\n<p>and then use this class in your main method:</p>\n\n<pre><code>public static void main(String[] args){\n    Random rand = new Random();\n    int[] myArray = new int[10];\n    IndiceValuePair[] pairs = new IndiceValuePair[5];\n    System.out.println(\"Here are the indices and their values:\");\n    for(int i = 0; i &lt; myArray.length; i++) {\n        myArray[i] = rand.nextInt(100);\n        System.out.println(i+ \": \" + myArray[i]);\n        for(int j = 0; j &lt; pairs.length; j++){\n            //for the first five entries\n            if(pairs[j] == null){\n                pairs[j] = new IndiceValuePair(i, myArray[i]);\n                break;\n            }\n            else if(pairs[j].getValue() &lt; myArray[i]){\n                //inserts the new pair into its correct spot\n                for(int k = 4; k &gt; j; k--){\n                    pairs[k] = pairs [k-1];\n                }\n                pairs[j] = new IndiceValuePair(i, myArray[i]);\n                break;\n            }\n        }\n    }\n    System.out.println(\"\\n5 Max indices and their values\");\n    for(int i = 0; i &lt; pairs.length; i++){\n        System.out.println(pairs[i].getIndice() + \": \" + pairs[i].getValue());\n    }\n}\n</code></pre>\n\n<p>and example output from a run:</p>\n\n<pre><code>Here are the indices and their values:\n0: 13\n1: 71\n2: 45\n3: 38\n4: 43\n5: 9\n6: 4\n7: 5\n8: 59\n9: 60\n\n5 Max indices and their values\n1: 71\n9: 60\n8: 59\n2: 45\n4: 43\n</code></pre>\n\n<p>The example I provided only generates ten ints with a value between 0 and 99 just so that I could see that it worked. You can easily change this to fit 1000 values of any size. Also, rather than run 3 separate for loops, I checked to see if the newest value I add is a max value right after I add to to <code>myArray</code>. Give it a run and see if it works for you</p>\n"},{"tags":[],"owner":{"account_id":4803430,"reputation":31,"user_id":3879337,"display_name":"user3879337"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406363080,"creation_date":1406363080,"answer_id":24969066,"question_id":17623468,"body_markdown":"a bit late in answering, you could also use this function that I wrote:\r\n\r\n\r\n\r\n\r\n\r\n\t/**\r\n\t  * Return the indexes correspond to the top-k largest in an array.\r\n\t  */\r\n\tpublic static int[] maxKIndex(double[] array, int top_k) {\r\n\t\tdouble[] max = new double[top_k];\r\n\t\tint[] maxIndex = new int[top_k];\r\n\t\tArrays.fill(max, Double.NEGATIVE_INFINITY);\r\n\t\tArrays.fill(maxIndex, -1);\r\n\t\t\r\n\t\ttop: for(int i = 0; i &lt; array.length; i++) {\r\n\t\t\tfor(int j = 0; j &lt; top_k; j++) {\r\n\t\t\t\tif(array[i] &gt; max[j]) {\r\n\t\t\t\t\tfor(int x = top_k - 1; x &gt; j; x--) {\r\n\t\t\t\t\t\tmaxIndex[x] = maxIndex[x-1]; max[x] = max[x-1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmaxIndex[j] = i; max[j] = array[i];\r\n\t\t\t\t\tcontinue top;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn maxIndex;\r\n\t}","title":"Get indices of n maximums in java array","body":"<p>a bit late in answering, you could also use this function that I wrote:</p>\n\n<pre><code>/**\n  * Return the indexes correspond to the top-k largest in an array.\n  */\npublic static int[] maxKIndex(double[] array, int top_k) {\n    double[] max = new double[top_k];\n    int[] maxIndex = new int[top_k];\n    Arrays.fill(max, Double.NEGATIVE_INFINITY);\n    Arrays.fill(maxIndex, -1);\n\n    top: for(int i = 0; i &lt; array.length; i++) {\n        for(int j = 0; j &lt; top_k; j++) {\n            if(array[i] &gt; max[j]) {\n                for(int x = top_k - 1; x &gt; j; x--) {\n                    maxIndex[x] = maxIndex[x-1]; max[x] = max[x-1];\n                }\n                maxIndex[j] = i; max[j] = array[i];\n                continue top;\n            }\n        }\n    }\n    return maxIndex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3349789,"reputation":1181,"user_id":2814058,"accept_rate":100,"display_name":"Klaus"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1532180815,"creation_date":1532180815,"answer_id":51456688,"question_id":17623468,"body_markdown":"Sorry to answer this old question but I am missing an implementation which has all following properties:\r\n\r\n - Easy to read\r\n - Performant\r\n - Handling of multiple same values\r\n\r\nTherefore I implemented it:\r\n\r\n    \tprivate int[] getBestKIndices(float[] array, int num) {\r\n\t\t\t//create sort able array with index and value pair\r\n\t\t\tIndexValuePair[] pairs = new IndexValuePair[array.length];\r\n\t\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\t\tpairs[i] = new IndexValuePair(i, array[i]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//sort\r\n\t\t\tArrays.sort(pairs, new Comparator&lt;IndexValuePair&gt;() {\r\n\t\t\t\tpublic int compare(IndexValuePair o1, IndexValuePair o2) {\r\n\t\t\t\t\treturn Float.compare(o2.value, o1.value);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\r\n\t\t\t//extract the indices\r\n\t\t\tint[] result = new int[num];\r\n\t\t\tfor (int i = 0; i &lt; num; i++) {\r\n\t\t\t\tresult[i] = pairs[i].index;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\r\n\t\tprivate class IndexValuePair {\r\n\t\t\tprivate int index;\r\n\t\t\tprivate float value;\r\n\t\r\n\t\t\tpublic IndexValuePair(int index, float value) {\r\n\t\t\t\tthis.index = index;\r\n\t\t\t\tthis.value = value;\r\n\t\t\t}\r\n\t\t}","title":"Get indices of n maximums in java array","body":"<p>Sorry to answer this old question but I am missing an implementation which has all following properties:</p>\n\n<ul>\n<li>Easy to read</li>\n<li>Performant</li>\n<li>Handling of multiple same values</li>\n</ul>\n\n<p>Therefore I implemented it:</p>\n\n<pre><code>    private int[] getBestKIndices(float[] array, int num) {\n        //create sort able array with index and value pair\n        IndexValuePair[] pairs = new IndexValuePair[array.length];\n        for (int i = 0; i &lt; array.length; i++) {\n            pairs[i] = new IndexValuePair(i, array[i]);\n        }\n\n        //sort\n        Arrays.sort(pairs, new Comparator&lt;IndexValuePair&gt;() {\n            public int compare(IndexValuePair o1, IndexValuePair o2) {\n                return Float.compare(o2.value, o1.value);\n            }\n        });\n\n        //extract the indices\n        int[] result = new int[num];\n        for (int i = 0; i &lt; num; i++) {\n            result[i] = pairs[i].index;\n        }\n        return result;\n    }\n\n    private class IndexValuePair {\n        private int index;\n        private float value;\n\n        public IndexValuePair(int index, float value) {\n            this.index = index;\n            this.value = value;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6260136,"reputation":1982,"user_id":4867531,"display_name":"ixeption"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679473038,"creation_date":1679472732,"answer_id":75809754,"question_id":17623468,"body_markdown":"I would suggest to use a PriorityQueue, which is a minmax head and has a complexity of O(n log k):\r\n\r\n    private int[] getTopKIndices(double[] array, int num) {\r\n    PriorityQueue&lt;IndexValuePair&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble((IndexValuePair value) -&gt; value.value));\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        queue.offer(new IndexValuePair(i, array[i]));\r\n        if (queue.size() &gt; num) {\r\n            queue.poll();\r\n        }\r\n    }\r\n\r\n    int[] result = new int[num];\r\n    for (int i = 0; i &lt; num; i++) {\r\n        result[num - 1 - i] = queue.poll().index;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nYou could also use Google Guava for that (also n log k):\r\n\r\n    import com.google.common.collect.Ordering;    \r\n    private static int[] getTopKIndices(double[] array, int num) {\r\n            List&lt;IndexValuePair&gt; pairs = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                pairs.add(new IndexValuePair(i, array[i]));\r\n            }\r\n    \r\n            Comparator&lt;IndexValuePair&gt; valueComparator = Comparator.comparingDouble(value -&gt; value.value);\r\n            List&lt;IndexValuePair&gt; topKPairs = Ordering.from(valueComparator).greatestOf(pairs, num);\r\n    \r\n            int[] result = new int[num];\r\n            for (int i = 0; i &lt; num; i++) {\r\n                result[i] = topKPairs.get(i).index;\r\n            }\r\n\r\nSimply comparing these implementaion in Java with Top 10 for 5 Mio entries gives you:\r\n\r\n    45411 ms for the solution with simple sorting\r\n    1815 ms for the priority queue\r\n    2086 ms for the guava solution","title":"Get indices of n maximums in java array","body":"<p>I would suggest to use a PriorityQueue, which is a minmax head and has a complexity of O(n log k):</p>\n<pre><code>private int[] getTopKIndices(double[] array, int num) {\nPriorityQueue&lt;IndexValuePair&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingDouble((IndexValuePair value) -&gt; value.value));\n\nfor (int i = 0; i &lt; array.length; i++) {\n    queue.offer(new IndexValuePair(i, array[i]));\n    if (queue.size() &gt; num) {\n        queue.poll();\n    }\n}\n\nint[] result = new int[num];\nfor (int i = 0; i &lt; num; i++) {\n    result[num - 1 - i] = queue.poll().index;\n}\n\nreturn result;\n</code></pre>\n<p>}</p>\n<p>You could also use Google Guava for that (also n log k):</p>\n<pre><code>import com.google.common.collect.Ordering;    \nprivate static int[] getTopKIndices(double[] array, int num) {\n        List&lt;IndexValuePair&gt; pairs = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; array.length; i++) {\n            pairs.add(new IndexValuePair(i, array[i]));\n        }\n\n        Comparator&lt;IndexValuePair&gt; valueComparator = Comparator.comparingDouble(value -&gt; value.value);\n        List&lt;IndexValuePair&gt; topKPairs = Ordering.from(valueComparator).greatestOf(pairs, num);\n\n        int[] result = new int[num];\n        for (int i = 0; i &lt; num; i++) {\n            result[i] = topKPairs.get(i).index;\n        }\n</code></pre>\n<p>Simply comparing these implementaion in Java with Top 10 for 5 Mio entries gives you:</p>\n<pre><code>45411 ms for the solution with simple sorting\n1815 ms for the priority queue\n2086 ms for the guava solution\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26429480,"reputation":11,"user_id":20075890,"display_name":"Wilson Ng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680506716,"creation_date":1680506589,"answer_id":75916913,"question_id":17623468,"body_markdown":"Easy O(nlogn) heap solution:\r\n```\r\n    public static List&lt;Integer&gt; getTopKIndices(List&lt;Double&gt; scores, int k) {\r\n        Comparator&lt;Map.Entry&lt;Integer, Double&gt;&gt; comparator = Map.Entry.comparingByValue();\r\n        PriorityQueue&lt;Map.Entry&lt;Integer, Double&gt;&gt; heap = new PriorityQueue&lt;&gt;(scores.size(), comparator.reversed());\r\n\r\n        for (int i = 0; i &lt; scores.size(); i++)\r\n            heap.add(new AbstractMap.SimpleEntry&lt;&gt;(i, scores.get(i)));\r\n        \r\n        List&lt;Integer&gt; topKIndices = new LinkedList&lt;&gt;();\r\n        for (int i = 0; i &lt; k &amp;&amp; !heap.isEmpty(); i++)\r\n            topKIndices.add(heap.poll().getKey());\r\n\r\n        return topKIndices;\r\n    }\r\n```","title":"Get indices of n maximums in java array","body":"<p>Easy O(nlogn) heap solution:</p>\n<pre><code>    public static List&lt;Integer&gt; getTopKIndices(List&lt;Double&gt; scores, int k) {\n        Comparator&lt;Map.Entry&lt;Integer, Double&gt;&gt; comparator = Map.Entry.comparingByValue();\n        PriorityQueue&lt;Map.Entry&lt;Integer, Double&gt;&gt; heap = new PriorityQueue&lt;&gt;(scores.size(), comparator.reversed());\n\n        for (int i = 0; i &lt; scores.size(); i++)\n            heap.add(new AbstractMap.SimpleEntry&lt;&gt;(i, scores.get(i)));\n        \n        List&lt;Integer&gt; topKIndices = new LinkedList&lt;&gt;();\n        for (int i = 0; i &lt; k &amp;&amp; !heap.isEmpty(); i++)\n            topKIndices.add(heap.poll().getKey());\n\n        return topKIndices;\n    }\n</code></pre>\n"}],"owner":{"account_id":2789385,"reputation":7148,"user_id":2399935,"accept_rate":86,"display_name":"Brian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9505,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":17623521,"answer_count":8,"score":9,"last_activity_date":1680506716,"creation_date":1373660734,"question_id":17623468,"body_markdown":"I have an array of size 1000. How can I find the indices (indexes) of the five maximum elements?  \r\n  \r\nAn example with setup code and my attempt are displayed below:\r\n\r\n    Random rand = new Random();\r\n    int[] myArray = new int[1000];\r\n    int[] maxIndices = new int[5];\r\n    int[] maxValues = new int[5];\r\n\r\n    for (int i = 0; i &lt; myArray.length; i++) {\r\n      myArray[i] = rand.nextInt();\r\n    }\r\n\r\n    for (int i = 0; i &lt; 5; i++) {\r\n      maxIndices[i] = i;\r\n      maxValues[i] = myArray[i];\r\n    }\r\n\r\n    for (int i = 0; i &lt; maxIndices.length; i++) {\r\n      for (int j = 0; j &lt; myArray.length; j++) {\r\n        if (myArray[j] &gt; maxValues[i]) {\r\n          maxIndices[i] = j;\r\n          maxValues[i] = myArray[j];\r\n        }\r\n      }\r\n    }\r\n\r\n    for (int i = 0; i &lt; maxIndices.length; i++) {\r\n      System.out.println(&quot;Index: &quot; + maxIndices[i]);\r\n    }\r\n\r\nI know the problem is that it is constantly assigning the highest maximum value to all the maximum elements. I am unsure how to remedy this because I have to preserve the values and the indices of `myArray`.  \r\n  \r\nI don&#39;t think sorting is an option because I need to preserve the indices. In fact, it is the indices that I need specifically.\r\n\r\n    ","title":"Get indices of n maximums in java array","body":"<p>I have an array of size 1000. How can I find the indices (indexes) of the five maximum elements?  </p>\n\n<p>An example with setup code and my attempt are displayed below:</p>\n\n<pre><code>Random rand = new Random();\nint[] myArray = new int[1000];\nint[] maxIndices = new int[5];\nint[] maxValues = new int[5];\n\nfor (int i = 0; i &lt; myArray.length; i++) {\n  myArray[i] = rand.nextInt();\n}\n\nfor (int i = 0; i &lt; 5; i++) {\n  maxIndices[i] = i;\n  maxValues[i] = myArray[i];\n}\n\nfor (int i = 0; i &lt; maxIndices.length; i++) {\n  for (int j = 0; j &lt; myArray.length; j++) {\n    if (myArray[j] &gt; maxValues[i]) {\n      maxIndices[i] = j;\n      maxValues[i] = myArray[j];\n    }\n  }\n}\n\nfor (int i = 0; i &lt; maxIndices.length; i++) {\n  System.out.println(\"Index: \" + maxIndices[i]);\n}\n</code></pre>\n\n<p>I know the problem is that it is constantly assigning the highest maximum value to all the maximum elements. I am unsure how to remedy this because I have to preserve the values and the indices of <code>myArray</code>.  </p>\n\n<p>I don't think sorting is an option because I need to preserve the indices. In fact, it is the indices that I need specifically.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1680464385,"post_id":75914190,"comment_id":133899061,"body_markdown":"Not automatically. Best you can do is to try and build a replace regex. Even so it may not be complete. Reason being there is noway for the IDE to tel the difference of say `String returnCar()` and `String returnVehicle()` methods, the method names are for the developer to chose. In the example given if both methods should be of type `Car` the IDE have no way to know.","body":"Not automatically. Best you can do is to try and build a replace regex. Even so it may not be complete. Reason being there is noway for the IDE to tel the difference of say <code>String returnCar()</code> and <code>String returnVehicle()</code> methods, the method names are for the developer to chose. In the example given if both methods should be of type <code>Car</code> the IDE have no way to know."},{"owner":{"account_id":23343204,"reputation":33,"user_id":17417859,"display_name":"back2back"},"score":0,"creation_date":1680464629,"post_id":75914190,"comment_id":133899109,"body_markdown":"Thank you. I was trying to avoid doing it manually since there are more than 100 changes. But I think that is the only way to do it.","body":"Thank you. I was trying to avoid doing it manually since there are more than 100 changes. But I think that is the only way to do it."}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680506531,"creation_date":1680506531,"answer_id":75916904,"question_id":75914190,"body_markdown":"You might be able to use [Type migration][1] in IntelliJ IDEA.\r\n\r\nFrom the docs: \r\n&quot;The Type Migration refactoring lets you automatically change a member type (such as from integer to string), and data flow dependent type entries (such as method return types, local variables, parameters, and so on) across the entire project.\r\n\r\nIt also lets you automatically convert variable or method return type between arrays and collections. If any conflicts are found IntelliJ IDEA displays the appropriate message.&quot;\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/type-migration.html","title":"Refactor field type everywhere in Java Project IntelliJ","body":"<p>You might be able to use <a href=\"https://www.jetbrains.com/help/idea/type-migration.html\" rel=\"nofollow noreferrer\">Type migration</a> in IntelliJ IDEA.</p>\n<p>From the docs:\n&quot;The Type Migration refactoring lets you automatically change a member type (such as from integer to string), and data flow dependent type entries (such as method return types, local variables, parameters, and so on) across the entire project.</p>\n<p>It also lets you automatically convert variable or method return type between arrays and collections. If any conflicts are found IntelliJ IDEA displays the appropriate message.&quot;</p>\n"}],"owner":{"account_id":23343204,"reputation":33,"user_id":17417859,"display_name":"back2back"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680506531,"creation_date":1680463789,"question_id":75914190,"body_markdown":"I have a field in my java project. I want to change the field&#39;s type everywhere in the project.\r\n\r\nI have:\r\n\r\n    String car\r\n\r\nI want to change it everywhere to\r\n\r\n    Vehicle car\r\n\r\n\r\nA simple replace will not work because apart from changing where it used, I also want to change the return type of functions where it is being returned.\r\n\r\nFor example-\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public String returnCar{\r\n      ......\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI want to change this to \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public Car returnCar{\r\n      ...\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nI there a way of refactoring like this in IntelliJ?\r\n\r\nThanks\r\n","title":"Refactor field type everywhere in Java Project IntelliJ","body":"<p>I have a field in my java project. I want to change the field's type everywhere in the project.</p>\n<p>I have:</p>\n<pre><code>String car\n</code></pre>\n<p>I want to change it everywhere to</p>\n<pre><code>Vehicle car\n</code></pre>\n<p>A simple replace will not work because apart from changing where it used, I also want to change the return type of functions where it is being returned.</p>\n<p>For example-</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public String returnCar{\n  ......\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I want to change this to</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public Car returnCar{\n  ...\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I there a way of refactoring like this in IntelliJ?</p>\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":3,"creation_date":1680455375,"post_id":75913322,"comment_id":133897707,"body_markdown":"The data seems to be valid JSON data, why don&#39;t you parse it to an JSON object using the built-in JSON library or a third party one so accessing the fields is getting more easier?","body":"The data seems to be valid JSON data, why don&#39;t you parse it to an JSON object using the built-in JSON library or a third party one so accessing the fields is getting more easier?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1680455539,"post_id":75913322,"comment_id":133897731,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/14185338/150978","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/14185338/150978\">stackoverflow.com/q/14185338/150978</a>"}],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680497479,"creation_date":1680497479,"answer_id":75916120,"question_id":75913322,"body_markdown":"Are you trying to say you want to process the URL only if there&#39;s a value in the ***ingr*** query? If so:\r\n\r\n    fun shouldCallAPI(uriString: String) =\r\n        Uri\r\n            .parse(uriString)\r\n            .getQueryParameter(&quot;ingr&quot;)\r\n            .isNullOrEmpty()\r\n            .not()\r\n\r\n ","title":"How to parse a link?","body":"<p>Are you trying to say you want to process the URL only if there's a value in the <em><strong>ingr</strong></em> query? If so:</p>\n<pre><code>fun shouldCallAPI(uriString: String) =\n    Uri\n        .parse(uriString)\n        .getQueryParameter(&quot;ingr&quot;)\n        .isNullOrEmpty()\n        .not()\n</code></pre>\n"}],"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680506503,"creation_date":1680453640,"question_id":75913322,"body_markdown":"How to parse a link only if a value came from the search and it is not empty?\r\nThe problem is that even a link without a value at the end gives the result https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=\r\n\r\n\r\nAnd I need to display values ​​only if a value comes from the searchView at the end, how to organize it correctly? I&#39;ve tried it this way and it still doesn&#39;t work!\r\n\r\n    @Override\r\n    protected String doInBackground(String... strings) {\r\n        String current = &quot;&quot;;\r\n    \r\n        try {\r\n            URL url;\r\n            HttpURLConnection urlConnection = null;\r\n            SEARCH_TEXT = binding.searchs.getQuery().toString();\r\n    \r\n            try {\r\n    \r\n                url = new URL(PARSE_URL + END_URL + SEARCH_TEXT);\r\n                urlConnection = (HttpURLConnection) url.openConnection();\r\n                InputStream is = urlConnection.getInputStream();\r\n                InputStreamReader isr = new InputStreamReader(is);\r\n    \r\n                int data = isr.read();\r\n                while (data != -1) {\r\n                    current += (char) data;\r\n                    data = isr.read();\r\n                }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if(urlConnection != null) {\r\n                    urlConnection.disconnect();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return current;\r\n    }","title":"How to parse a link?","body":"<p>How to parse a link only if a value came from the search and it is not empty?\nThe problem is that even a link without a value at the end gives the result <a href=\"https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=\" rel=\"nofollow noreferrer\">https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=</a></p>\n<p>And I need to display values ​​only if a value comes from the searchView at the end, how to organize it correctly? I've tried it this way and it still doesn't work!</p>\n<pre><code>@Override\nprotected String doInBackground(String... strings) {\n    String current = &quot;&quot;;\n\n    try {\n        URL url;\n        HttpURLConnection urlConnection = null;\n        SEARCH_TEXT = binding.searchs.getQuery().toString();\n\n        try {\n\n            url = new URL(PARSE_URL + END_URL + SEARCH_TEXT);\n            urlConnection = (HttpURLConnection) url.openConnection();\n            InputStream is = urlConnection.getInputStream();\n            InputStreamReader isr = new InputStreamReader(is);\n\n            int data = isr.read();\n            while (data != -1) {\n                current += (char) data;\n                data = isr.read();\n            }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if(urlConnection != null) {\n                urlConnection.disconnect();\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return current;\n}\n</code></pre>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":9248237,"reputation":391,"user_id":6869491,"display_name":"Amit Verma"},"score":0,"creation_date":1503151663,"post_id":45772321,"comment_id":78503063,"body_markdown":"you are getting text input error please check have implement all the dependencies correctly, and clean your project and rebuild this then run your app hope it will solve  your issue","body":"you are getting text input error please check have implement all the dependencies correctly, and clean your project and rebuild this then run your app hope it will solve  your issue"}],"answers":[{"tags":[],"owner":{"account_id":7292081,"reputation":13504,"user_id":5558150,"accept_rate":100,"display_name":"Bhuvanesh BS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503151562,"creation_date":1503151562,"answer_id":45772512,"question_id":45772321,"body_markdown":"You have to include multiDex in your application. In your **manifest**, you have not included the **MulitiDexApplication**.\r\n\r\nIn you error code. See this line.\r\n\r\n    Didn&#39;t find class &quot;android.support.v4.view.animation.FastOutSlowInInterpolator&quot; on path: DexPathList[\r\n\r\nAdd this to your dependencies.\r\n\r\n    compile &#39;com.android.support:multidex:1.0.1&#39;\r\n\r\nIn your Gradle add `multiDexEnabled` true.\r\n\r\n    android {\r\n        defaultConfig {\r\n            ...\r\n            minSdkVersion 21 \r\n            targetSdkVersion 26\r\n            multiDexEnabled true    // add this line\r\n        }\r\n        ...\r\n    }\r\n\r\nIn your `manifest` add multiDex application class.\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.myapp&quot;&gt;\r\n        &lt;application\r\n                android:name=&quot;android.support.multidex.MultiDexApplication&quot; &gt;\r\n            ...\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nFinally clean and rebuild your project.\r\n\r\nFor more info: https://developer.android.com/studio/build/multidex.html\r\n\r\nHope it helps:)\r\n","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;","body":"<p>You have to include multiDex in your application. In your <strong>manifest</strong>, you have not included the <strong>MulitiDexApplication</strong>.</p>\n\n<p>In you error code. See this line.</p>\n\n<pre><code>Didn't find class \"android.support.v4.view.animation.FastOutSlowInInterpolator\" on path: DexPathList[\n</code></pre>\n\n<p>Add this to your dependencies.</p>\n\n<pre><code>compile 'com.android.support:multidex:1.0.1'\n</code></pre>\n\n<p>In your Gradle add <code>multiDexEnabled</code> true.</p>\n\n<pre><code>android {\n    defaultConfig {\n        ...\n        minSdkVersion 21 \n        targetSdkVersion 26\n        multiDexEnabled true    // add this line\n    }\n    ...\n}\n</code></pre>\n\n<p>In your <code>manifest</code> add multiDex application class.</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.myapp\"&gt;\n    &lt;application\n            android:name=\"android.support.multidex.MultiDexApplication\" &gt;\n        ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Finally clean and rebuild your project.</p>\n\n<p>For more info: <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex.html</a></p>\n\n<p>Hope it helps:)</p>\n"},{"tags":[],"owner":{"account_id":8452233,"reputation":1,"user_id":6340720,"display_name":"Z.quibbler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680506434,"creation_date":1680505472,"answer_id":75916794,"question_id":45772321,"body_markdown":"Add this to your build.gradle\r\n\r\n    implementation &quot;androidx.interpolator:interpolator:1.0.0&quot;\r\n\r\nbecause google has extract interpolator to this lib.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;","body":"<p>Add this to your build.gradle</p>\n<pre><code>implementation &quot;androidx.interpolator:interpolator:1.0.0&quot;\n</code></pre>\n<p>because google has extract interpolator to this lib.</p>\n"}],"owner":{"account_id":9194600,"reputation":63,"user_id":6833762,"accept_rate":20,"display_name":"Dinesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680506434,"creation_date":1503150505,"question_id":45772321,"body_markdown":"I&#39;m facing an issue with my new app. I created a app for shopping cart and i created a signin and signup page and it is now showing error message\r\n\r\nError:\r\n   \r\n    08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: FATAL EXCEPTION: main `Error`\r\n                                                                        Process: com.example.dinidev.ecom, PID: 2902\r\n                                                                        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dinidev.ecom/com.example.dinidev.ecom.Signin}: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\r\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\r\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                            at android.os.Looper.loop(Looper.java:154)\r\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                                                                         Caused by: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\r\n                                                                         Caused by: android.view.InflateException: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\r\n                                                                         Caused by: java.lang.reflect.InvocationTargetException\r\n                                                                            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n                                                                            at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\r\n                                                                            at android.view.LayoutInflater.createView(LayoutInflater.java:645)\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\r\n                                                                            at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414)\r\n                                                                            at android.app.Activity.setContentView(Activity.java:2414)\r\n                                                                            at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16)\r\n                                                                            at android.app.Activity.performCreate(Activity.java:6662)\r\n                                                                            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\r\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                            at android.os.Looper.loop(Looper.java:154)\r\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\r\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                                                                         Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;\r\n                                                                            at android.support.design.widget.AnimationUtils.&lt;clinit&gt;(AnimationUtils.java:30)\r\n                                                                            at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:200)\r\n                                                                            at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:183)\r\n                                                                            at java.lang.reflect.Constructor.newInstance0(Native Method)&#160;\r\n                                                                            at java.lang.reflect.Constructor.newInstance(Constructor.java:430)&#160;\r\n                                                                            at android.view.LayoutInflater.createView(LayoutInflater.java:645)&#160;\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)&#160;\r\n                                                                            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)&#160;\r\n                                                                            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)&#160;\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:518)&#160;\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:426)&#160;\r\n                                                                            at android.view.LayoutInflater.inflate(LayoutInflater.java:377)&#160;\r\n                                                                            at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414)&#160;\r\n                                                                            at android.app.Activity.setContentView(Activity.java:2414)&#160;\r\n                                                                            at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16)&#160;\r\n                                                                            at android.app.Activity.performCreate(Activity.java:6662)&#160;\r\n                                                                            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)&#160;\r\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)&#160;\r\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)&#160;\r\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)&#160;\r\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)&#160;\r\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n                                                                            at android.os.Looper.loop(Looper.java:154)&#160;\r\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6077)&#160;\r\n                                                                            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)&#160;\r\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)&#160;\r\n    08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;android.support.v4.view.animation.FastOutSlowInInterpolator&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.dinidev.ecom-2/base.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_dependencies_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_0_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_1_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_2_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_3_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_4_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_5_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_6_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_7_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_8_apk.apk&quot;, zip file &quot;/data/app/com.example.dinidev.ecom-2/split_lib_slice_9_apk.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.dinidev.ecom-2/lib/x86, /system/lib, /vendor/lib]]\r\n                                                                            at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n                                                                            at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\r\n                                                                            at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n                                                                            \t... 30 more\r\n\r\n\r\n\r\nmodule app:`Build.gradle`\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.2&quot;\r\n        defaultConfig {\r\n        applicationId &quot;com.example.dinidev.ecom&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 25\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner \r\n    &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n    dependencies {\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n         exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })\r\n    compile &#39;com.android.support:appcompat-v7:25.3.1&#39;\r\n    compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n\r\n    compile &#39;com.android.support:design:25.3.1&#39;\r\n    compile &#39;com.android.support:cardview-v7:25.3.1&#39;\r\n    compile &#39;com.android.support:support-v4:25.3.1&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:25.3.1&#39;\r\n    compile &#39;com.google.code.gson:gson:2.2.4&#39;\r\n    compile &#39;com.android.support:multidex:1.0.1&#39;\r\n\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n    }`Code`\r\n\r\nactivity_main xml `It is opening and working properly`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/profile1&quot;\r\n    tools:context=&quot;com.example.dinidev.ecom.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/guest&quot;\r\n        android:layout_width=&quot;168dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@+id/signin&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;31dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:text=&quot;@string/Guest_User&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/eighteen_sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteY=&quot;487dp&quot; /&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/signin&quot;\r\n        android:layout_width=&quot;178dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignBaseline=&quot;@+id/signup&quot;\r\n        android:layout_alignBottom=&quot;@+id/signup&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;12dp&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:text=&quot;@string/login&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/eighteen_sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        tools:layout_editor_absoluteX=&quot;8dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;487dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/signup&quot;\r\n        android:layout_width=&quot;168dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;27dp&quot;\r\n        android:layout_marginEnd=&quot;12dp&quot;\r\n        android:layout_marginRight=&quot;12dp&quot;\r\n        android:background=&quot;@android:color/holo_blue_light&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:text=&quot;@string/New_User&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/eighteen_sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        tools:layout_editor_absoluteY=&quot;487dp&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nlogin_page xml `It is not opening`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:background=&quot;@drawable/login_background&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/loginPage_logo&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;@dimen/fourty_seven_dp&quot;\r\n            android:text=&quot;@string/logo&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;@dimen/fourty_four_sp&quot;\r\n            android:textStyle=&quot;italic|bold&quot;/&gt;\r\n    &lt;/RelativeLayout&gt; `It is not opening it shows error as app stopped working message`\r\n\r\nMainActivity class\r\n\r\nMain activity is working fine but when I click login it stops action \r\n\r\n    package com.example.dinidev.ecom;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    public class MainActivity extends AppCompatActivity {\r\n    Button signin;\r\n    final Context context = this;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        addListenerOnButton();\r\n    }\r\n\r\n    private void addListenerOnButton() {\r\n        /** Login Button Click */\r\n        signin = (Button) findViewById(R.id.signin);\r\n        signin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(context, Signin.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n     }\r\n\r\n\r\nSignin class\r\n\r\nWhen i debug the line it shows save instance : null message\r\n\r\n\r\n    package com.example.dinidev.ecom;\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    public class Signin extends Activity{\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.login_page);\r\n    }\r\n    }\r\n\r\n\r\nAndroidmanifest\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.dinidev.ecom&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:label=&quot;@string/register_label&quot;\r\n            android:name=&quot;.Signup&quot;&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:label=&quot;@string/register_label&quot;\r\n            android:name=&quot;.Signin&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;","title":"java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;","body":"<p>I'm facing an issue with my new app. I created a app for shopping cart and i created a signin and signup page and it is now showing error message</p>\n\n<p>Error:</p>\n\n<pre><code>08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: FATAL EXCEPTION: main `Error`\n                                                                    Process: com.example.dinidev.ecom, PID: 2902\n                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dinidev.ecom/com.example.dinidev.ecom.Signin}: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n                                                                        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                        at android.os.Looper.loop(Looper.java:154)\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:6077)\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n                                                                     Caused by: android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\n                                                                     Caused by: android.view.InflateException: Binary XML file line #32: Error inflating class android.support.design.widget.TextInputLayout\n                                                                     Caused by: java.lang.reflect.InvocationTargetException\n                                                                        at java.lang.reflect.Constructor.newInstance0(Native Method)\n                                                                        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\n                                                                        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861)\n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:518)\n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\n                                                                        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414)\n                                                                        at android.app.Activity.setContentView(Activity.java:2414)\n                                                                        at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16)\n                                                                        at android.app.Activity.performCreate(Activity.java:6662)\n                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n                                                                        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                        at android.os.Looper.loop(Looper.java:154)\n                                                                        at android.app.ActivityThread.main(ActivityThread.java:6077)\n                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n                                                                     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/view/animation/FastOutSlowInInterpolator;\n                                                                        at android.support.design.widget.AnimationUtils.&lt;clinit&gt;(AnimationUtils.java:30)\n                                                                        at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:200)\n                                                                        at android.support.design.widget.TextInputLayout.&lt;init&gt;(TextInputLayout.java:183)\n                                                                        at java.lang.reflect.Constructor.newInstance0(Native Method) \n                                                                        at java.lang.reflect.Constructor.newInstance(Constructor.java:430) \n                                                                        at android.view.LayoutInflater.createView(LayoutInflater.java:645) \n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787) \n                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727) \n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:858) \n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821) \n                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:861) \n                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821) \n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:518) \n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:426) \n                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:377) \n                                                                        at com.android.internal.policy.PhoneWindow.setContentView(PhoneWindow.java:414) \n                                                                        at android.app.Activity.setContentView(Activity.java:2414) \n                                                                        at com.example.dinidev.ecom.Signin.onCreate(Signin.java:16) \n                                                                        at android.app.Activity.performCreate(Activity.java:6662) \n                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118) \n                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599) \n                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707) \n                                                                        at android.app.ActivityThread.-wrap12(ActivityThread.java) \n                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460) \n                                                                        at android.os.Handler.dispatchMessage(Handler.java:102) \n                                                                        at android.os.Looper.loop(Looper.java:154) \n                                                                        at android.app.ActivityThread.main(ActivityThread.java:6077) \n                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \n                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755) \n08-19 18:56:41.279 2902-2902/com.example.dinidev.ecom E/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.support.v4.view.animation.FastOutSlowInInterpolator\" on path: DexPathList[[zip file \"/data/app/com.example.dinidev.ecom-2/base.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_dependencies_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_0_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_1_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_2_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_3_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_4_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_5_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_6_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_7_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_8_apk.apk\", zip file \"/data/app/com.example.dinidev.ecom-2/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.example.dinidev.ecom-2/lib/x86, /system/lib, /vendor/lib]]\n                                                                        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n                                                                        at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\n                                                                        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n                                                                            ... 30 more\n</code></pre>\n\n<p>module app:<code>Build.gradle</code></p>\n\n<pre><code>apply plugin: 'com.android.application'\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n    applicationId \"com.example.dinidev.ecom\"\n    minSdkVersion 15\n    targetSdkVersion 25\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\nandroidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n     exclude group: 'com.android.support', module: 'support-annotations'\n})\ncompile 'com.android.support:appcompat-v7:25.3.1'\ncompile 'com.android.support.constraint:constraint-layout:1.0.2'\n\ncompile 'com.android.support:design:25.3.1'\ncompile 'com.android.support:cardview-v7:25.3.1'\ncompile 'com.android.support:support-v4:25.3.1'\ncompile 'com.android.support:recyclerview-v7:25.3.1'\ncompile 'com.google.code.gson:gson:2.2.4'\ncompile 'com.android.support:multidex:1.0.1'\n\ntestCompile 'junit:junit:4.12'\n}`Code`\n</code></pre>\n\n<p>activity_main xml <code>It is opening and working properly</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@drawable/profile1\"\ntools:context=\"com.example.dinidev.ecom.MainActivity\"&gt;\n\n\n&lt;Button\n    android:id=\"@+id/guest\"\n    android:layout_width=\"168dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_above=\"@+id/signin\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginBottom=\"31dp\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:clickable=\"true\"\n    android:text=\"@string/Guest_User\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"@dimen/eighteen_sp\"\n    android:textStyle=\"bold\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    tools:layout_editor_absoluteY=\"487dp\" /&gt;\n\n\n&lt;Button\n    android:id=\"@+id/signin\"\n    android:layout_width=\"178dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignBaseline=\"@+id/signup\"\n    android:layout_alignBottom=\"@+id/signup\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_marginLeft=\"12dp\"\n    android:layout_marginStart=\"12dp\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:clickable=\"true\"\n    android:text=\"@string/login\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"@dimen/eighteen_sp\"\n    android:textStyle=\"bold\"\n    tools:layout_editor_absoluteX=\"8dp\"\n    tools:layout_editor_absoluteY=\"487dp\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/signup\"\n    android:layout_width=\"168dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    android:layout_alignParentEnd=\"true\"\n    android:layout_alignParentRight=\"true\"\n    android:layout_marginBottom=\"27dp\"\n    android:layout_marginEnd=\"12dp\"\n    android:layout_marginRight=\"12dp\"\n    android:background=\"@android:color/holo_blue_light\"\n    android:clickable=\"true\"\n    android:text=\"@string/New_User\"\n    android:textColor=\"@color/white\"\n    android:textSize=\"@dimen/eighteen_sp\"\n    android:textStyle=\"bold\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    tools:layout_editor_absoluteY=\"487dp\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>login_page xml <code>It is not opening</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:background=\"@drawable/login_background\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/loginPage_logo\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"@dimen/fourty_seven_dp\"\n        android:text=\"@string/logo\"\n        android:textColor=\"@color/white\"\n        android:textSize=\"@dimen/fourty_four_sp\"\n        android:textStyle=\"italic|bold\"/&gt;\n&lt;/RelativeLayout&gt; `It is not opening it shows error as app stopped working message`\n</code></pre>\n\n<p>MainActivity class</p>\n\n<p>Main activity is working fine but when I click login it stops action </p>\n\n<pre><code>package com.example.dinidev.ecom;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\npublic class MainActivity extends AppCompatActivity {\nButton signin;\nfinal Context context = this;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    addListenerOnButton();\n}\n\nprivate void addListenerOnButton() {\n    /** Login Button Click */\n    signin = (Button) findViewById(R.id.signin);\n    signin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(context, Signin.class);\n            startActivity(intent);\n        }\n    });\n }\n</code></pre>\n\n<p>Signin class</p>\n\n<p>When i debug the line it shows save instance : null message</p>\n\n<pre><code>package com.example.dinidev.ecom;\nimport android.app.Activity;\nimport android.os.Bundle;\npublic class Signin extends Activity{\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.login_page);\n}\n}\n</code></pre>\n\n<p>Androidmanifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.dinidev.ecom\"&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:label=\"@string/register_label\"\n        android:name=\".Signup\"&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:label=\"@string/register_label\"\n        android:name=\".Signin\"&gt;\n    &lt;/activity&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680098057,"post_id":75867109,"comment_id":133839653,"body_markdown":"Why would you want to store four obviously separate pieces of data in a single variable?","body":"Why would you want to store four obviously separate pieces of data in a single variable?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680258994,"post_id":75867109,"comment_id":133871697,"body_markdown":"You should use different classes for each type, and use the `dataType` as the &quot;discriminator&quot;.","body":"You should use different classes for each type, and use the <code>dataType</code> as the &quot;discriminator&quot;."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680259105,"post_id":75867109,"comment_id":133871722,"body_markdown":"Also, shouldn&#39;t the type of the last example be &quot;LIST&quot;, not &quot;RANGE&quot;?","body":"Also, shouldn&#39;t the type of the last example be &quot;LIST&quot;, not &quot;RANGE&quot;?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680259126,"post_id":75867109,"comment_id":133871730,"body_markdown":"@VGR Such requirement is pretty common","body":"@VGR Such requirement is pretty common"}],"answers":[{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680016427,"creation_date":1680016427,"answer_id":75868060,"question_id":75867109,"body_markdown":"At glance, I can see that you can use a HashMap variable.\r\n\r\n    HashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n\r\nNow you can enter any type of data without any issue.\r\nMake sure that you use proper validation against null values.\r\nHope this help.","title":"How to store an input with various data types into a single variable (String, Int, Date, List)","body":"<p>At glance, I can see that you can use a HashMap variable.</p>\n<pre><code>HashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n</code></pre>\n<p>Now you can enter any type of data without any issue.\nMake sure that you use proper validation against null values.\nHope this help.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680262805,"creation_date":1680261880,"answer_id":75897987,"question_id":75867109,"body_markdown":"You can achieve this with polymorphic serialization and deserialization. This example uses records and sealed types, but should also work when rewritten to not use sealed and using &quot;normal&quot; POJOs.\r\n\r\nI use Jackson (`com.fasterxml.jackson.core:jackson-databind:2.14.2`) for this, with the `@JsonSubTypes` annotation to declare the mapping from the `dataType` property to the appropriate classes. I have only listed the examples in your question, but doing this for QUANTITY and DATE should follow from this.\r\n\r\nDefine an interface as the root of the types:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;dataType&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = AmountValue.class, name = &quot;AMOUNT&quot;),\r\n        @JsonSubTypes.Type(value = RangeValue.class, name = &quot;RANGE&quot;),\r\n        @JsonSubTypes.Type(value = ListValue.class, name = &quot;LIST&quot;),\r\n})\r\npublic sealed interface Condition \r\n        permits AmountValue, \r\n                ListValue, \r\n                RangeValue {\r\n\r\n    String condition();\r\n\r\n}\r\n```\r\n\r\nAnd the individual records of each type:\r\n\r\n```java\r\npublic record AmountValue(\r\n        String condition, \r\n        String value) implements Condition {\r\n}\r\n```\r\n\r\n```java\r\npublic record RangeValue(\r\n        String condition, \r\n        int minValue, \r\n        int maxValue) implements Condition {\r\n}\r\n```\r\n\r\n```java\r\npublic record ListValue(\r\n        String condition, \r\n        List&lt;String&gt; valueList) implements Condition {\r\n\r\n    public ListValue {\r\n        valueList = List.copyOf(valueList);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAn example for serializing and deserializing:\r\n\r\n```java\r\npublic class Example {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        var conditionHolder = new ConditionHolder(\r\n                new AmountValue(&quot;Basket Value&quot;, &quot;5&quot;),\r\n                new RangeValue(&quot;Percentile&quot;, 10, 60),\r\n                new ListValue(&quot;Percentile&quot;, List.of(&quot;option1&quot;, &quot;option2&quot;)));\r\n\r\n        var mapper = new ObjectMapper()\r\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\r\n\r\n        System.out.println(&quot;serialized format&quot;);\r\n        System.out.println(mapper.writeValueAsString(conditionHolder));\r\n        System.out.println(&quot;===============================&quot;);\r\n        System.out.println(&quot;deserialized result&quot;);\r\n\r\n        ConditionHolder deserialized = mapper.readValue(&quot;&quot;&quot;\r\n                {\r\n                  &quot;conditionList&quot; : [ {\r\n                    &quot;dataType&quot; : &quot;AMOUNT&quot;,\r\n                    &quot;condition&quot; : &quot;Basket Value&quot;,\r\n                    &quot;value&quot; : &quot;5&quot;\r\n                  }, {\r\n                    &quot;dataType&quot; : &quot;RANGE&quot;,\r\n                    &quot;condition&quot; : &quot;Percentile&quot;,\r\n                    &quot;minValue&quot; : 10,\r\n                    &quot;maxValue&quot; : 60\r\n                  }, {\r\n                    &quot;dataType&quot; : &quot;LIST&quot;,\r\n                    &quot;condition&quot; : &quot;Percentile&quot;,\r\n                    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\r\n                  } ]\r\n                }\r\n                &quot;&quot;&quot;, ConditionHolder.class);\r\n        System.out.println(deserialized);\r\n    }\r\n\r\n    public record ConditionHolder(List&lt;Condition&gt; conditionList) {\r\n\r\n        public ConditionHolder {\r\n            conditionList = List.copyOf(conditionList);\r\n        }\r\n\r\n        public ConditionHolder(Condition... conditions) {\r\n            this(List.of(conditions));\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput (with added linebreaks in deserialized result for readability):\r\n\r\n```none\r\nserialized format\r\n{\r\n  &quot;conditionList&quot; : [ {\r\n    &quot;dataType&quot; : &quot;AMOUNT&quot;,\r\n    &quot;condition&quot; : &quot;Basket Value&quot;,\r\n    &quot;value&quot; : &quot;5&quot;\r\n  }, {\r\n    &quot;dataType&quot; : &quot;RANGE&quot;,\r\n    &quot;condition&quot; : &quot;Percentile&quot;,\r\n    &quot;minValue&quot; : 10,\r\n    &quot;maxValue&quot; : 60\r\n  }, {\r\n    &quot;dataType&quot; : &quot;LIST&quot;,\r\n    &quot;condition&quot; : &quot;Percentile&quot;,\r\n    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\r\n  } ]\r\n}\r\n===============================\r\ndeserialized result\r\nConditionHolder[conditionList=[\r\n  AmountValue[condition=Basket Value, value=5], \r\n  RangeValue[condition=Percentile, minValue=10, maxValue=60],\r\n  ListValue[condition=Percentile, valueList=[option1, option2]]\r\n]]\r\n```\r\n\r\nObviously, to actually use these types and their value in code, you will have to do `instanceof` checks, but once pattern matching switch lands (probably in Java 21), that type of handling can be further simplified. Alternatively, it might be possible to define necessary evaluation or behaviour through methods in `Condition`, but if that is possible depends on the problem you&#39;re trying to solve.\r\n\r\nIf you need to &quot;manually&quot; perform the serialization or deserialization (e.g. because the library you use doesn&#39;t provide support for polymorphic serialization/deserialization), then you need to mimic what Jackson does. That is, for serialization, determine the actual type, add the _discriminator_ property (`dataType`) with the right value to the JSON object, and then the properties of the actual object. For deserialization, use the _discriminator_ property (`dataType`) to decide which type to create, and read the properties of that type from the JSON object.","title":"How to store an input with various data types into a single variable (String, Int, Date, List)","body":"<p>You can achieve this with polymorphic serialization and deserialization. This example uses records and sealed types, but should also work when rewritten to not use sealed and using &quot;normal&quot; POJOs.</p>\n<p>I use Jackson (<code>com.fasterxml.jackson.core:jackson-databind:2.14.2</code>) for this, with the <code>@JsonSubTypes</code> annotation to declare the mapping from the <code>dataType</code> property to the appropriate classes. I have only listed the examples in your question, but doing this for QUANTITY and DATE should follow from this.</p>\n<p>Define an interface as the root of the types:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;dataType&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = AmountValue.class, name = &quot;AMOUNT&quot;),\n        @JsonSubTypes.Type(value = RangeValue.class, name = &quot;RANGE&quot;),\n        @JsonSubTypes.Type(value = ListValue.class, name = &quot;LIST&quot;),\n})\npublic sealed interface Condition \n        permits AmountValue, \n                ListValue, \n                RangeValue {\n\n    String condition();\n\n}\n</code></pre>\n<p>And the individual records of each type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record AmountValue(\n        String condition, \n        String value) implements Condition {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record RangeValue(\n        String condition, \n        int minValue, \n        int maxValue) implements Condition {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record ListValue(\n        String condition, \n        List&lt;String&gt; valueList) implements Condition {\n\n    public ListValue {\n        valueList = List.copyOf(valueList);\n    }\n\n}\n</code></pre>\n<p>An example for serializing and deserializing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        var conditionHolder = new ConditionHolder(\n                new AmountValue(&quot;Basket Value&quot;, &quot;5&quot;),\n                new RangeValue(&quot;Percentile&quot;, 10, 60),\n                new ListValue(&quot;Percentile&quot;, List.of(&quot;option1&quot;, &quot;option2&quot;)));\n\n        var mapper = new ObjectMapper()\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\n\n        System.out.println(&quot;serialized format&quot;);\n        System.out.println(mapper.writeValueAsString(conditionHolder));\n        System.out.println(&quot;===============================&quot;);\n        System.out.println(&quot;deserialized result&quot;);\n\n        ConditionHolder deserialized = mapper.readValue(&quot;&quot;&quot;\n                {\n                  &quot;conditionList&quot; : [ {\n                    &quot;dataType&quot; : &quot;AMOUNT&quot;,\n                    &quot;condition&quot; : &quot;Basket Value&quot;,\n                    &quot;value&quot; : &quot;5&quot;\n                  }, {\n                    &quot;dataType&quot; : &quot;RANGE&quot;,\n                    &quot;condition&quot; : &quot;Percentile&quot;,\n                    &quot;minValue&quot; : 10,\n                    &quot;maxValue&quot; : 60\n                  }, {\n                    &quot;dataType&quot; : &quot;LIST&quot;,\n                    &quot;condition&quot; : &quot;Percentile&quot;,\n                    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\n                  } ]\n                }\n                &quot;&quot;&quot;, ConditionHolder.class);\n        System.out.println(deserialized);\n    }\n\n    public record ConditionHolder(List&lt;Condition&gt; conditionList) {\n\n        public ConditionHolder {\n            conditionList = List.copyOf(conditionList);\n        }\n\n        public ConditionHolder(Condition... conditions) {\n            this(List.of(conditions));\n        }\n\n    }\n\n}\n</code></pre>\n<p>Output (with added linebreaks in deserialized result for readability):</p>\n<pre class=\"lang-none prettyprint-override\"><code>serialized format\n{\n  &quot;conditionList&quot; : [ {\n    &quot;dataType&quot; : &quot;AMOUNT&quot;,\n    &quot;condition&quot; : &quot;Basket Value&quot;,\n    &quot;value&quot; : &quot;5&quot;\n  }, {\n    &quot;dataType&quot; : &quot;RANGE&quot;,\n    &quot;condition&quot; : &quot;Percentile&quot;,\n    &quot;minValue&quot; : 10,\n    &quot;maxValue&quot; : 60\n  }, {\n    &quot;dataType&quot; : &quot;LIST&quot;,\n    &quot;condition&quot; : &quot;Percentile&quot;,\n    &quot;valueList&quot; : [ &quot;option1&quot;, &quot;option2&quot; ]\n  } ]\n}\n===============================\ndeserialized result\nConditionHolder[conditionList=[\n  AmountValue[condition=Basket Value, value=5], \n  RangeValue[condition=Percentile, minValue=10, maxValue=60],\n  ListValue[condition=Percentile, valueList=[option1, option2]]\n]]\n</code></pre>\n<p>Obviously, to actually use these types and their value in code, you will have to do <code>instanceof</code> checks, but once pattern matching switch lands (probably in Java 21), that type of handling can be further simplified. Alternatively, it might be possible to define necessary evaluation or behaviour through methods in <code>Condition</code>, but if that is possible depends on the problem you're trying to solve.</p>\n<p>If you need to &quot;manually&quot; perform the serialization or deserialization (e.g. because the library you use doesn't provide support for polymorphic serialization/deserialization), then you need to mimic what Jackson does. That is, for serialization, determine the actual type, add the <em>discriminator</em> property (<code>dataType</code>) with the right value to the JSON object, and then the properties of the actual object. For deserialization, use the <em>discriminator</em> property (<code>dataType</code>) to decide which type to create, and read the properties of that type from the JSON object.</p>\n"}],"owner":{"account_id":5194812,"reputation":31,"user_id":4156532,"display_name":"rma_ranasinghe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680505812,"creation_date":1680011147,"question_id":75867109,"body_markdown":"In the UI, I need to support to select the condition and based on the condition must provide the input. Inputs can be one of the listed below:\r\n\r\n- QUANTITY\r\n- DATE\r\n- AMOUNT\r\n- LIST - [&quot;Option1&quot;, &quot;Option2&quot;] - Multiple Selection \r\n- RANGE - (Min and Max)\r\n\r\nOnce selected it will get populated as a JSON. \r\n\r\nThe Java class looks like the below with the fields and its getters and setters: \r\n```java\r\nprivate String condition;\r\nprivate String value;\r\nprivate List&lt;String&gt; valueList;\r\nprivate String valueType;\r\nprivate int minValue;\r\nprivate int maxValue;\r\n```\r\n\r\nFor AMOUNT, as the below: \r\n\r\n```json\r\n{\r\n  &quot;condition&quot;: &quot;Basket Value&quot;,\r\n  &quot;value&quot;: &quot;5&quot;,\r\n  &quot;dataType&quot;: &quot;AMOUNT&quot;,\r\n}\r\n```\r\n\r\nFor RANGE, as the below: \r\n\r\n```json\r\n{\r\n  &quot;condition&quot;: &quot;Percentile&quot;,\r\n  &quot;dataType&quot;: &quot;RANGE&quot;,\r\n  &quot;minValue&quot;: 10,\r\n  &quot;maxValue&quot;: 60\r\n}\r\n``` \r\nFor LIST, as the below: \r\n\r\n```json\r\n{\r\n  &quot;condition&quot;: &quot;Options&quot;,\r\n  &quot;dataType&quot;: &quot;LIST&quot;,\r\n  &quot;valueList&quot;: [&quot;option1&quot;, &quot;option2&quot;]\r\n}\r\n``` \r\nInstead of having `value`, `valueList`, `attributeMin`, and `attributeMax`. How can I store it in a single variable? \r\n\r\nIs using `Object` the best solution? Is there any other solution? I cannot use `var` in Java for this. \r\n\r\n```java\r\nObject inputValue;\r\n```\r\n\r\nThe data will be saved to MongoDB. \r\n","title":"How to store an input with various data types into a single variable (String, Int, Date, List)","body":"<p>In the UI, I need to support to select the condition and based on the condition must provide the input. Inputs can be one of the listed below:</p>\n<ul>\n<li>QUANTITY</li>\n<li>DATE</li>\n<li>AMOUNT</li>\n<li>LIST - [&quot;Option1&quot;, &quot;Option2&quot;] - Multiple Selection</li>\n<li>RANGE - (Min and Max)</li>\n</ul>\n<p>Once selected it will get populated as a JSON.</p>\n<p>The Java class looks like the below with the fields and its getters and setters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String condition;\nprivate String value;\nprivate List&lt;String&gt; valueList;\nprivate String valueType;\nprivate int minValue;\nprivate int maxValue;\n</code></pre>\n<p>For AMOUNT, as the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;condition&quot;: &quot;Basket Value&quot;,\n  &quot;value&quot;: &quot;5&quot;,\n  &quot;dataType&quot;: &quot;AMOUNT&quot;,\n}\n</code></pre>\n<p>For RANGE, as the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;condition&quot;: &quot;Percentile&quot;,\n  &quot;dataType&quot;: &quot;RANGE&quot;,\n  &quot;minValue&quot;: 10,\n  &quot;maxValue&quot;: 60\n}\n</code></pre>\n<p>For LIST, as the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;condition&quot;: &quot;Options&quot;,\n  &quot;dataType&quot;: &quot;LIST&quot;,\n  &quot;valueList&quot;: [&quot;option1&quot;, &quot;option2&quot;]\n}\n</code></pre>\n<p>Instead of having <code>value</code>, <code>valueList</code>, <code>attributeMin</code>, and <code>attributeMax</code>. How can I store it in a single variable?</p>\n<p>Is using <code>Object</code> the best solution? Is there any other solution? I cannot use <code>var</code> in Java for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object inputValue;\n</code></pre>\n<p>The data will be saved to MongoDB.</p>\n"},{"tags":["java","multithreading","spring-boot","concurrency","guava"],"answers":[{"tags":[],"owner":{"account_id":131689,"reputation":451,"user_id":331864,"accept_rate":67,"display_name":"isomeme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680389187,"creation_date":1680389187,"answer_id":75909235,"question_id":75898065,"body_markdown":"It&#39;s always a good idea to provide a code sample so we can see what is producing the behavior you&#39;re trying to change.\r\n\r\nPer the [Javadoc](https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html), an idle `RateLimiter` will allow a burst of up to `permitsPerSecond` approvals, then begin issuing permits at intervals of 1/pps seconds.\r\n\r\nIt&#39;s useful to think of the `RateLimiter` as maintaining a bag of tokens. Acquiring a permit removes a token. Periodically a new token is added if there are less than pps tokens already. That isn&#39;t precisely how it actually works, but it&#39;s close enough to help you understand what&#39;s going on.\r\n\r\nSo, in other words, it seems that `RateLimiter` already behaves how you want it to. Perhaps I have misunderstood your question?","title":"Guava&#39;s Rate Limiter - change rate at which permits are issued","body":"<p>It's always a good idea to provide a code sample so we can see what is producing the behavior you're trying to change.</p>\n<p>Per the <a href=\"https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html\" rel=\"nofollow noreferrer\">Javadoc</a>, an idle <code>RateLimiter</code> will allow a burst of up to <code>permitsPerSecond</code> approvals, then begin issuing permits at intervals of 1/pps seconds.</p>\n<p>It's useful to think of the <code>RateLimiter</code> as maintaining a bag of tokens. Acquiring a permit removes a token. Periodically a new token is added if there are less than pps tokens already. That isn't precisely how it actually works, but it's close enough to help you understand what's going on.</p>\n<p>So, in other words, it seems that <code>RateLimiter</code> already behaves how you want it to. Perhaps I have misunderstood your question?</p>\n"}],"owner":{"account_id":18348376,"reputation":1,"user_id":13363096,"display_name":"kheptan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680505425,"creation_date":1680262444,"question_id":75898065,"body_markdown":"i want to implement a throttle mechanism in spring boot for all our application requests\r\ni&#39;ve chosen to catch all http requests in the OncePerRequestFilter and use the guava rate-limiter with 3 cases\r\none general with 1000 requests /second and the other two will limit requests by ip /hour/second\r\n\r\nlets say i have 5 permits/second for an api call\r\nand if i got 5 threads arriving at the same time or in an interval smaller than 200 milliseconds i still want them all to pass\r\n\r\nEX.\r\n```\r\n0............ 1 sec\r\n 12345 -------\r\n\r\n0 ............ 1 sec\r\n   ------12345\r\n```\r\nhow can i get this to work \r\n\r\ntesting this and only gives access only to two or three threads then  blocks the rest, which is normal as the permits rate are at fixed intervals (only after 200ms)\r\n","title":"Guava&#39;s Rate Limiter - change rate at which permits are issued","body":"<p>i want to implement a throttle mechanism in spring boot for all our application requests\ni've chosen to catch all http requests in the OncePerRequestFilter and use the guava rate-limiter with 3 cases\none general with 1000 requests /second and the other two will limit requests by ip /hour/second</p>\n<p>lets say i have 5 permits/second for an api call\nand if i got 5 threads arriving at the same time or in an interval smaller than 200 milliseconds i still want them all to pass</p>\n<p>EX.</p>\n<pre><code>0............ 1 sec\n 12345 -------\n\n0 ............ 1 sec\n   ------12345\n</code></pre>\n<p>how can i get this to work</p>\n<p>testing this and only gives access only to two or three threads then  blocks the rest, which is normal as the permits rate are at fixed intervals (only after 200ms)</p>\n"},{"tags":["java","spring-boot","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1680502042,"post_id":75916334,"comment_id":133903070,"body_markdown":"What&#39;s the problem when you are using it as a dependency in other project ? Maven will import it if your lib is present in your local .m2 folder.","body":"What&#39;s the problem when you are using it as a dependency in other project ? Maven will import it if your lib is present in your local .m2 folder."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1680511984,"post_id":75916334,"comment_id":133904968,"body_markdown":"Spring boot jars are finalized for deployment and not further consumption.  Reconsider your approach","body":"Spring boot jars are finalized for deployment and not further consumption.  Reconsider your approach"},{"owner":{"account_id":17170928,"reputation":23,"user_id":12428091,"display_name":"Steve"},"score":0,"creation_date":1680587928,"post_id":75916334,"comment_id":133919050,"body_markdown":"Thanks Throbjorn. That is a good point. I really should have utility.jar that&#39;s just built with the maven-jar-plugin and then imported into my app.","body":"Thanks Throbjorn. That is a good point. I really should have utility.jar that&#39;s just built with the maven-jar-plugin and then imported into my app."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680504672,"creation_date":1680504672,"answer_id":75916704,"question_id":75916334,"body_markdown":"Have a look at the article https://www.baeldung.com/maven-artifact-classifiers, following dependency should work for you:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n            &lt;artifactId&gt;utility&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;importable&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Maven pom to include importable jar from another project","body":"<p>Have a look at the article <a href=\"https://www.baeldung.com/maven-artifact-classifiers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-artifact-classifiers</a>, following dependency should work for you:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\n            &lt;artifactId&gt;utility&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;classifier&gt;importable&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":17170928,"reputation":23,"user_id":12428091,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680505222,"creation_date":1680500767,"question_id":75916334,"body_markdown":"I have a project creating a Utility jar using Maven and it is stored in the local repository. I want to import that jar into my Application project. Because Maven now puts BOOT-INF in-front of the class path, I put the following into the Utility Jar to generate an importable version.\r\n\t\r\n```\r\n&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t   &lt;plugin&gt;\r\n\t\t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;executions&gt;\r\n\t\t            &lt;execution&gt;\r\n\t\t                &lt;goals&gt;\r\n\t\t                    &lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t                &lt;/goals&gt;\r\n\t\t                &lt;phase&gt;package&lt;/phase&gt;\r\n\t\t                &lt;configuration&gt;\r\n\t\t                    &lt;!--to be imported on other projects--&gt;\r\n\t\t                    &lt;classifier&gt;importable&lt;/classifier&gt;\r\n\t\t                &lt;/configuration&gt;\r\n\t\t            &lt;/execution&gt;\r\n\t\t        &lt;/executions&gt;\r\n\t\t    &lt;/plugin&gt;\r\n\t\t    &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t    &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n```\r\nIt&#39;s version 1.0 so it creates the following in the repository ...\r\n```\r\nutility-1.0-importable.jar\r\nutility-1.0.jar\r\n```\r\n... and some other stuff.\r\nThe importable jar does NOT put BOOT-INF in-front of the directories for my classes and so that&#39;s the jar I want to include in my Application pom.xml.\r\n\r\nI just don&#39;t know how to refer to it as the following refers to the utility-1.0.jar, which has the BOOT-INF and consequently the classes are not found.\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;utility&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nHow do I refer to the importable jar?\r\n(This is all brand new and so the latest versions of everything are being used.)\r\n\r\nI&#39;ve been wading through heaps of posts about including dependent maven projects but they don&#39;t seem to explain just what precisely goes into the dependent project and what goes into the application project. \r\n","title":"Maven pom to include importable jar from another project","body":"<p>I have a project creating a Utility jar using Maven and it is stored in the local repository. I want to import that jar into my Application project. Because Maven now puts BOOT-INF in-front of the class path, I put the following into the Utility Jar to generate an importable version.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;!--to be imported on other projects--&gt;\n                            &lt;classifier&gt;importable&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<p>It's version 1.0 so it creates the following in the repository ...</p>\n<pre><code>utility-1.0-importable.jar\nutility-1.0.jar\n</code></pre>\n<p>... and some other stuff.\nThe importable jar does NOT put BOOT-INF in-front of the directories for my classes and so that's the jar I want to include in my Application pom.xml.</p>\n<p>I just don't know how to refer to it as the following refers to the utility-1.0.jar, which has the BOOT-INF and consequently the classes are not found.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.acme&lt;/groupId&gt;\n            &lt;artifactId&gt;utility&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>How do I refer to the importable jar?\n(This is all brand new and so the latest versions of everything are being used.)</p>\n<p>I've been wading through heaps of posts about including dependent maven projects but they don't seem to explain just what precisely goes into the dependent project and what goes into the application project.</p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":3135286,"reputation":1144,"user_id":2651902,"accept_rate":35,"display_name":"RaT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680504172,"creation_date":1679918645,"question_id":75855545,"body_markdown":"```\r\npublic class A {\r\n\r\n\tprivate B\tb;\r\n\r\n\t@NotNull\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;B_ID&quot;)\r\n\tpublic B getB() {\r\n\t\treturn this.b;\r\n\t}\r\n\r\n\tpublic void seB(B b) {\r\n\t\tthis.b = b;\r\n\t}\r\n}\r\n\r\npublic class B {\r\n\r\n\tprivate Set&lt;A&gt; a   = new HashSet&lt;&gt;(0);\r\n\t\r\n\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;b&quot;, cascade = { CascadeType.ALL }, orphanRemoval = true)\r\n\tpublic Set&lt;A&gt; getA() {\r\n\t\treturn this.a;\r\n\t}\r\n\t\r\n\tpublic void setA(Set&lt;A&gt; a) {\r\n\t\tthis.a = a;\r\n\t}\r\n}\r\n```\r\nI have two entity with ManyToOne mapping, like above.\r\n\r\nWhen I fetch object A with HQL eager fetch like ```SELECT ai FROM A ai LEFT JOIN FETCH ai.b b LEFT JOIN FETCH b.a where id=1```\r\nthe object received from query (suppose A a= getByQuery()) and the grand child of that object are same\r\n```a == a.getB().getA().get(0)```\r\n\r\nWhen I fetch only parent object from query ```SELECT ai FROM A ai where id=1```\r\nAnd thenlazy fetch the child and grandchild elements then they are not same objects\r\n```a != a.getB().getA().get(0)```\r\n\r\nIt is like hibernate didn&#39;t return same object from session cache, rather it creates new object with same id and returned during lazy fetch.\r\n\r\nI am not able to understand why it is happening, how can I avoid it. How can I debug and check the reason of it in hibernate code.","title":"Hibernate returning different object from session cache","body":"<pre><code>public class A {\n\n    private B   b;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;B_ID&quot;)\n    public B getB() {\n        return this.b;\n    }\n\n    public void seB(B b) {\n        this.b = b;\n    }\n}\n\npublic class B {\n\n    private Set&lt;A&gt; a   = new HashSet&lt;&gt;(0);\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;b&quot;, cascade = { CascadeType.ALL }, orphanRemoval = true)\n    public Set&lt;A&gt; getA() {\n        return this.a;\n    }\n    \n    public void setA(Set&lt;A&gt; a) {\n        this.a = a;\n    }\n}\n</code></pre>\n<p>I have two entity with ManyToOne mapping, like above.</p>\n<p>When I fetch object A with HQL eager fetch like <code>SELECT ai FROM A ai LEFT JOIN FETCH ai.b b LEFT JOIN FETCH b.a where id=1</code>\nthe object received from query (suppose A a= getByQuery()) and the grand child of that object are same\n<code>a == a.getB().getA().get(0)</code></p>\n<p>When I fetch only parent object from query <code>SELECT ai FROM A ai where id=1</code>\nAnd thenlazy fetch the child and grandchild elements then they are not same objects\n<code>a != a.getB().getA().get(0)</code></p>\n<p>It is like hibernate didn't return same object from session cache, rather it creates new object with same id and returned during lazy fetch.</p>\n<p>I am not able to understand why it is happening, how can I avoid it. How can I debug and check the reason of it in hibernate code.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1680496747,"post_id":75916040,"comment_id":133902555,"body_markdown":"why use this `for (int x = 1; x &gt; 0; x++)` loop.  I suggest just having an endless loop, then control your counter variable separately.  e.g. `while (true) {`","body":"why use this <code>for (int x = 1; x &gt; 0; x++)</code> loop.  I suggest just having an endless loop, then control your counter variable separately.  e.g. <code>while (true) {</code>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1680496831,"post_id":75916040,"comment_id":133902563,"body_markdown":"Also it is the general opinion that using exceptions for code control is not a good idea.","body":"Also it is the general opinion that using exceptions for code control is not a good idea."}],"answers":[{"tags":[],"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680503438,"creation_date":1680499577,"answer_id":75916251,"question_id":75916040,"body_markdown":"try this,\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int min = 1;\r\n        int max = 50;\r\n        int rndm = (int) (Math.random() * (max - min) + 1) + min;\r\n        int x = 0;\r\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        while(true) {    \r\n            System.out.print(&quot;Guess the randomized number: &quot;);\r\n            int jv = sc.nextInt();\r\n            try {\r\n                if (jv &lt; min || jv &gt; max) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\r\n                    x++;\r\n                    if (jv == rndm) {\r\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\r\n                                + &quot;Your guess is correct!&quot;);\r\n                        int atmpts = x;\r\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    else if (jv &gt; rndm) {\r\n                        System.out.println(&quot;Too high! Try again.&quot;);\r\n                    }\r\n                    else if (jv &lt; rndm) {\r\n                        System.out.println(&quot;Too low! Try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (IllegalArgumentException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\r\n            }\r\n            catch (InputMismatchException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\r\n            }\r\n        }\r\n    }","title":"Number of attempts is inaccurate (for loop)","body":"<p>try this,</p>\n<pre><code>public static void main(String[] args) {\n\n    int min = 1;\n    int max = 50;\n    int rndm = (int) (Math.random() * (max - min) + 1) + min;\n    int x = 0;\n    System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n    Scanner sc = new Scanner(System.in);\n    while(true) {    \n        System.out.print(&quot;Guess the randomized number: &quot;);\n        int jv = sc.nextInt();\n        try {\n            if (jv &lt; min || jv &gt; max) {\n                throw new IllegalArgumentException();\n            }\n            else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\n                x++;\n                if (jv == rndm) {\n                    System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\n                            + &quot;Your guess is correct!&quot;);\n                    int atmpts = x;\n                    System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\n                    System.exit(0);\n                }\n                else if (jv &gt; rndm) {\n                    System.out.println(&quot;Too high! Try again.&quot;);\n                }\n                else if (jv &lt; rndm) {\n                    System.out.println(&quot;Too low! Try again.&quot;);\n                }\n            }\n        }\n        catch (IllegalArgumentException ex) {\n            System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\n        }\n        catch (InputMismatchException ex) {\n            System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680499677,"creation_date":1680499677,"answer_id":75916256,"question_id":75916040,"body_markdown":"No need to create a new `Scanner` each time you need to get input from the user. Create the `Scanner` once, before entering the loop.\r\n\r\nThis line of code is incorrect:\r\n```java\r\nx = x--;\r\n```\r\nIt should be:\r\n```java\r\n--x;\r\n```\r\nRefer to Oracle&#39;s Java [tutorials](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html).\r\n\r\nHere is your code with my corrections as described above:  \r\n(Note that I use class [Random](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html) to get a random number.)\r\n```java\r\nimport java.util.InputMismatchException;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int min = 1;\r\n        int max = 50;\r\n        Random rand = new Random();\r\n        int rndm = rand.nextInt(1, 51); // (int) (Math.random() * (max - min) + 1) + min;\r\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        for (int x = 1; x &gt; 0; x++) {\r\n            System.out.print(&quot;Guess the randomized number: &quot;);\r\n            int jv = sc.nextInt();\r\n            try {\r\n                if (jv &lt; min || jv &gt; max) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\r\n                    if (jv == rndm) {\r\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\r\n                                + &quot;Your guess is correct!&quot;);\r\n                        int atmpts = x;\r\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    else if (jv &gt; rndm) {\r\n                        System.out.println(&quot;Too high! Try again.&quot;);\r\n                    }\r\n                    else if (jv &lt; rndm) {\r\n                        System.out.println(&quot;Too low! Try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (IllegalArgumentException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\r\n                --x;\r\n            }\r\n            catch (InputMismatchException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\r\n                --x;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Number of attempts is inaccurate (for loop)","body":"<p>No need to create a new <code>Scanner</code> each time you need to get input from the user. Create the <code>Scanner</code> once, before entering the loop.</p>\n<p>This line of code is incorrect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>x = x--;\n</code></pre>\n<p>It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>--x;\n</code></pre>\n<p>Refer to Oracle's Java <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"nofollow noreferrer\">tutorials</a>.</p>\n<p>Here is your code with my corrections as described above:<br />\n(Note that I use class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\">Random</a> to get a random number.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.InputMismatchException;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        int min = 1;\n        int max = 50;\n        Random rand = new Random();\n        int rndm = rand.nextInt(1, 51); // (int) (Math.random() * (max - min) + 1) + min;\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n        Scanner sc = new Scanner(System.in);\n        for (int x = 1; x &gt; 0; x++) {\n            System.out.print(&quot;Guess the randomized number: &quot;);\n            int jv = sc.nextInt();\n            try {\n                if (jv &lt; min || jv &gt; max) {\n                    throw new IllegalArgumentException();\n                }\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\n                    if (jv == rndm) {\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\n                                + &quot;Your guess is correct!&quot;);\n                        int atmpts = x;\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\n                        System.exit(0);\n                    }\n                    else if (jv &gt; rndm) {\n                        System.out.println(&quot;Too high! Try again.&quot;);\n                    }\n                    else if (jv &lt; rndm) {\n                        System.out.println(&quot;Too low! Try again.&quot;);\n                    }\n                }\n            }\n            catch (IllegalArgumentException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\n                --x;\n            }\n            catch (InputMismatchException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\n                --x;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23015564,"reputation":5,"user_id":17137392,"display_name":"Alex L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916256,"answer_count":2,"score":0,"last_activity_date":1680503438,"creation_date":1680496125,"question_id":75916040,"body_markdown":"Is it possible to display the number of guesses/attempts made not counting the ones when an exception is thrown? Because the number of attempts I&#39;m getting when I execute the program includes the exceptions. I used decrement for whenever an exception is thrown but that&#39;s not working.\r\n\r\nHere&#39;s my code:\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int min = 1;\r\n        int max = 50;\r\n        int rndm = (int) (Math.random() * (max - min) + 1) + min;\r\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\r\n        for (int x = 1; x &gt; 0; x++) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;Guess the randomized number: &quot;);\r\n            int jv = sc.nextInt();\r\n            try {\r\n                if (jv &lt; min || jv &gt; max) {\r\n                    throw new IllegalArgumentException();\r\n                }\r\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\r\n                    if (jv == rndm) {\r\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\r\n                                + &quot;Your guess is correct!&quot;);\r\n                        int atmpts = x;\r\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\r\n                        System.exit(0);\r\n                    }\r\n                    else if (jv &gt; rndm) {\r\n                        System.out.println(&quot;Too high! Try again.&quot;);\r\n                    }\r\n                    else if (jv &lt; rndm) {\r\n                        System.out.println(&quot;Too low! Try again.&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (IllegalArgumentException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\r\n                x = x--;\r\n            }\r\n            catch (InputMismatchException ex) {\r\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\r\n                x = x--;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Number of attempts is inaccurate (for loop)","body":"<p>Is it possible to display the number of guesses/attempts made not counting the ones when an exception is thrown? Because the number of attempts I'm getting when I execute the program includes the exceptions. I used decrement for whenever an exception is thrown but that's not working.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        int min = 1;\n        int max = 50;\n        int rndm = (int) (Math.random() * (max - min) + 1) + min;\n        System.out.println(&quot;Guess a number from 1 to 50!&quot;);\n        for (int x = 1; x &gt; 0; x++) {\n            Scanner sc = new Scanner(System.in);\n            System.out.print(&quot;Guess the randomized number: &quot;);\n            int jv = sc.nextInt();\n            try {\n                if (jv &lt; min || jv &gt; max) {\n                    throw new IllegalArgumentException();\n                }\n                else if (jv &gt;= min &amp;&amp; jv &lt;= max) {\n                    if (jv == rndm) {\n                        System.out.println(&quot;The randomized number is &quot; + rndm + &quot;. &quot;\n                                + &quot;Your guess is correct!&quot;);\n                        int atmpts = x;\n                        System.out.println(&quot;You got it in &quot; + atmpts + &quot; attempts!&quot;);\n                        System.exit(0);\n                    }\n                    else if (jv &gt; rndm) {\n                        System.out.println(&quot;Too high! Try again.&quot;);\n                    }\n                    else if (jv &lt; rndm) {\n                        System.out.println(&quot;Too low! Try again.&quot;);\n                    }\n                }\n            }\n            catch (IllegalArgumentException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number from 1 to 50. Try again.&quot;);\n                x = x--;\n            }\n            catch (InputMismatchException ex) {\n                System.out.println(&quot;Invalid input! Input must be a number. Try again.&quot;);\n                x = x--;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","antlr4"],"comments":[{"owner":{"account_id":175495,"reputation":2169,"user_id":405555,"accept_rate":80,"display_name":"Elliveny"},"score":0,"creation_date":1680334295,"post_id":75904566,"comment_id":133883938,"body_markdown":"Ok, so I installed microsoft-jdk-17.0.6-windows-x64.msi from https://learn.microsoft.com/en-us/java/openjdk/download. This has given me a new java.exe in &quot;C:\\Program Files\\Microsoft\\jdk-17.0.6.10-hotspot&quot;. After rebooting, java --version gives me &#39;openjdk 17.0.6 2023-01-17 LTS - OpenJDK Runtime Environment Microsoft-7209853 (build 17.0.6+10-LTS) - OpenJDK 64-Bit Server VM Microsoft-7209853 (build 17.0.6+10-LTS, mixed mode, sharing)&#39; and now I get the &#39;ANTLR Parser Generator  Version 4.12.0&#39; help when I execute the jar file :-) - Still wondering if the JDK was the best choice though?","body":"Ok, so I installed microsoft-jdk-17.0.6-windows-x64.msi from <a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/java/openjdk/download</a>. This has given me a new java.exe in &quot;C:\\Program Files\\Microsoft\\jdk-17.0.6.10-hotspot&quot;. After rebooting, java --version gives me &#39;openjdk 17.0.6 2023-01-17 LTS - OpenJDK Runtime Environment Microsoft-7209853 (build 17.0.6+10-LTS) - OpenJDK 64-Bit Server VM Microsoft-7209853 (build 17.0.6+10-LTS, mixed mode, sharing)&#39; and now I get the &#39;ANTLR Parser Generator  Version 4.12.0&#39; help when I execute the jar file :-) - Still wondering if the JDK was the best choice though?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680426421,"post_id":75904566,"comment_id":133893763,"body_markdown":"As far as I&#39;m aware, the java.com site is only retained and only offers Java 8 for &quot;historic reasons&quot;. So the fact it recommends &quot;Version 8 Update 361&quot; has no bearing on what the wider Java community does and uses. For example, if you go to https://www.java.com/en/, it has a blurb _&quot;Are you a software developer looking for JDK downloads?&quot;_ which points you to https://www.oracle.com/java/technologies/downloads/ (which right now will recommend Java 17 and/or Java 20). Also there are a lot of different &quot;vendors&quot; for Java: Oracle, Eclipse Adoptium, Microsoft, Azul, IBM and others.","body":"As far as I&#39;m aware, the java.com site is only retained and only offers Java 8 for &quot;historic reasons&quot;. So the fact it recommends &quot;Version 8 Update 361&quot; has no bearing on what the wider Java community does and uses. For example, if you go to <a href=\"https://www.java.com/en/\" rel=\"nofollow noreferrer\">java.com/en</a>, it has a blurb <i>&quot;Are you a software developer looking for JDK downloads?&quot;</i> which points you to <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/downloads</a> (which right now will recommend Java 17 and/or Java 20). Also there are a lot of different &quot;vendors&quot; for Java: Oracle, Eclipse Adoptium, Microsoft, Azul, IBM and others."},{"owner":{"account_id":175495,"reputation":2169,"user_id":405555,"accept_rate":80,"display_name":"Elliveny"},"score":0,"creation_date":1680503092,"post_id":75904566,"comment_id":133903220,"body_markdown":"Thanks @MarkRotteveel - it seems bizarre to me that Java 8 has a recent release date, it&#39;s very misleading. I see my question was closed, with reference to a &#39;duplicate&#39; which I did see, but which has such an overwhelming number of replies and which discusses subjects way outside the issue I was trying to fix that I couldn&#39;t see an answer there. I hope this question stays around for the benefit of others who are looking for a simple answer to &#39;how can I get the latest version of Antlr running on Windows 10&#39;.","body":"Thanks @MarkRotteveel - it seems bizarre to me that Java 8 has a recent release date, it&#39;s very misleading. I see my question was closed, with reference to a &#39;duplicate&#39; which I did see, but which has such an overwhelming number of replies and which discusses subjects way outside the issue I was trying to fix that I couldn&#39;t see an answer there. I hope this question stays around for the benefit of others who are looking for a simple answer to &#39;how can I get the latest version of Antlr running on Windows 10&#39;."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680506494,"post_id":75904566,"comment_id":133903828,"body_markdown":"Java 8 is still maintained, just like Java 11, Java 17, and Java 20 (Java 20 is supported until the release of Java 21). In any case. from the accepted answer on the duplicate, you should be able to understand the exception, and that you need Java 11 or higher to be able to run classes of &quot;class file version 55.0&quot;.","body":"Java 8 is still maintained, just like Java 11, Java 17, and Java 20 (Java 20 is supported until the release of Java 21). In any case. from the accepted answer on the duplicate, you should be able to understand the exception, and that you need Java 11 or higher to be able to run classes of &quot;class file version 55.0&quot;."}],"owner":{"account_id":175495,"reputation":2169,"user_id":405555,"accept_rate":80,"display_name":"Elliveny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680426331,"answer_count":0,"score":0,"last_activity_date":1680503432,"creation_date":1680329716,"question_id":75904566,"body_markdown":"I&#39;m learning Antlr and trying to use the [latest jar file][1] (4.12.0) on a Windows 10 machine. \r\n\r\nI get an error when I try to run it:\r\n\r\n    java -jar antlr-4.12.0-complete.jar\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/antlr/v4/Tool \r\n    has been compiled by a more recent version of the Java Runtime (class file version 55.0), \r\n    this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nI uninstalled all versions of Java, cleared out my PATH and environment variables of any Java references, rebooted and downloaded what appears to be the latest Java version on the [java.com downloads page][2]. It says &#39;Recommended Version 8 Update 361 Release date: January 17, 2023&#39;.\r\n\r\nAfter the install (and a reboot for good measure) I&#39;m disappointed to see the same error.\r\n\r\nI don&#39;t work with Java and am unfamiliar with versions but I&#39;ve tried to work this out. Right now I&#39;ve found a &#39;[Microsoft Build of OpenJDK][3]&#39;, a &#39;[JDK 20 reached General Availability on 21 March 2023][4]&#39; and a &#39;[Java SE Development Kit 20][5]&#39; and am doing some reading, but am feeling thoroughly confused by it all. I think I just need a Java runtime of the right version but haven&#39;t found one yet.\r\n\r\nSo, help please, what do I need to install to get Antlr working?\r\n\r\n  [1]: https://www.antlr.org/download.html\r\n  [2]: https://www.java.com/en/download/manual.jsp\r\n  [3]: https://learn.microsoft.com/en-us/java/openjdk/download\r\n  [4]: https://openjdk.org/projects/jdk/20/\r\n  [5]: https://www.oracle.com/java/technologies/downloads/#java20","title":"What version of Java do I need to run the latest version of Antlr on Windows?","body":"<p>I'm learning Antlr and trying to use the <a href=\"https://www.antlr.org/download.html\" rel=\"nofollow noreferrer\">latest jar file</a> (4.12.0) on a Windows 10 machine.</p>\n<p>I get an error when I try to run it:</p>\n<pre><code>java -jar antlr-4.12.0-complete.jar\n\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/antlr/v4/Tool \nhas been compiled by a more recent version of the Java Runtime (class file version 55.0), \nthis version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>I uninstalled all versions of Java, cleared out my PATH and environment variables of any Java references, rebooted and downloaded what appears to be the latest Java version on the <a href=\"https://www.java.com/en/download/manual.jsp\" rel=\"nofollow noreferrer\">java.com downloads page</a>. It says 'Recommended Version 8 Update 361 Release date: January 17, 2023'.</p>\n<p>After the install (and a reboot for good measure) I'm disappointed to see the same error.</p>\n<p>I don't work with Java and am unfamiliar with versions but I've tried to work this out. Right now I've found a '<a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">Microsoft Build of OpenJDK</a>', a '<a href=\"https://openjdk.org/projects/jdk/20/\" rel=\"nofollow noreferrer\">JDK 20 reached General Availability on 21 March 2023</a>' and a '<a href=\"https://www.oracle.com/java/technologies/downloads/#java20\" rel=\"nofollow noreferrer\">Java SE Development Kit 20</a>' and am doing some reading, but am feeling thoroughly confused by it all. I think I just need a Java runtime of the right version but haven't found one yet.</p>\n<p>So, help please, what do I need to install to get Antlr working?</p>\n"},{"tags":["java","split"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1680488420,"post_id":75915626,"comment_id":133901807,"body_markdown":"How are you seeing this result? Do you have `System.out.println()` or something in your code? If so, please [edit] your question to include that. In general, you should add enough code to your question so that anyone can compile and run it themselves to get the same result.","body":"How are you seeing this result? Do you have <code>System.out.println()</code> or something in your code? If so, please <a href=\"https://stackoverflow.com/posts/75915626/edit\">edit</a> your question to include that. In general, you should add enough code to your question so that anyone can compile and run it themselves to get the same result."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680488518,"creation_date":1680488518,"answer_id":75915638,"question_id":75915626,"body_markdown":"The regexp you pass to `split` needs to _match_ the entire &#39;thing that separates&#39;. In your case, you want it to match the M, the R, the S, and any spaces around it.\r\n\r\nYour regexp instead matches 0 characters: It has nothing but lookbehind. It only matches that 0-char-sized position in the input which precedes MRS followed by precisely one space or one dot, because of the lookahead, but that&#39;s what is matched and thus removed, and therefore, 0 characters (nothing) is removed.\r\n\r\nWhat you want is much simpler: `input.split(&quot;\\\\s*MRS[ .]&quot;)`.\r\n\r\nThis matches &#39;any amount of spaces, followed by MRS, followed by either a space or a dot&#39;. It will then return everything in between what this matches, removing the stuff that matches (i.e. removing the &#39;spaces, MRS, space-or-dot&#39; parts, and returning everything in between).\r\n","title":"How to Split Title in Java","body":"<p>The regexp you pass to <code>split</code> needs to <em>match</em> the entire 'thing that separates'. In your case, you want it to match the M, the R, the S, and any spaces around it.</p>\n<p>Your regexp instead matches 0 characters: It has nothing but lookbehind. It only matches that 0-char-sized position in the input which precedes MRS followed by precisely one space or one dot, because of the lookahead, but that's what is matched and thus removed, and therefore, 0 characters (nothing) is removed.</p>\n<p>What you want is much simpler: <code>input.split(&quot;\\\\s*MRS[ .]&quot;)</code>.</p>\n<p>This matches 'any amount of spaces, followed by MRS, followed by either a space or a dot'. It will then return everything in between what this matches, removing the stuff that matches (i.e. removing the 'spaces, MRS, space-or-dot' parts, and returning everything in between).</p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680489682,"creation_date":1680488712,"answer_id":75915650,"question_id":75915626,"body_markdown":"Split on `\\s+MRS\\s+` and then prepend `MRS` to the second part of the split:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\r\n    String[] parts = input.split(&quot;\\\\s+MRS\\\\s+&quot;);\r\n    parts[1] = &quot;MRS &quot; + parts[1];\r\n    System.out.println(Arrays.toString(parts));\r\n\r\n    // [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]\r\n\r\nIf you really want to use a lookaround, then you should be using a positive _lookahead_:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\r\n    String[] parts = input.split(&quot;\\\\s+(?=MRS\\\\b)&quot;);\r\n    System.out.println(Arrays.toString(parts));\r\n\r\n    // [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]","title":"How to Split Title in Java","body":"<p>Split on <code>\\s+MRS\\s+</code> and then prepend <code>MRS</code> to the second part of the split:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\nString[] parts = input.split(&quot;\\\\s+MRS\\\\s+&quot;);\nparts[1] = &quot;MRS &quot; + parts[1];\nSystem.out.println(Arrays.toString(parts));\n\n// [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]\n</code></pre>\n<p>If you really want to use a lookaround, then you should be using a positive <em>lookahead</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;\nString[] parts = input.split(&quot;\\\\s+(?=MRS\\\\b)&quot;);\nSystem.out.println(Arrays.toString(parts));\n\n// [Alison Quek Yong Hoon, MRS Alison Teng Yong Hoon]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680502971,"creation_date":1680502971,"answer_id":75916529,"question_id":75915626,"body_markdown":"If you want to split it with a single regular expression, you can use this:\r\n``` lang-regex\r\n\\s(?=MRS)\r\n```\r\nThis is a single whitespace followed by the string &quot;MRS&quot;, but &quot;MRS&quot; is not included in the match.\r\n\r\nIf you want to extend that by one or more whitespaces, you can use `\\s+(?=MRS)`.\r\n\r\nTested in jshell:\r\n``` lang-jshell\r\njshell&gt; &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;.split(&quot;\\\\s(?=MRS)&quot;)\r\n$1 ==&gt; String[2] { &quot;Alison Quek Yong Hoon&quot;, &quot;MRS Alison Teng Yong Hoon&quot; }\r\n```","title":"How to Split Title in Java","body":"<p>If you want to split it with a single regular expression, you can use this:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\s(?=MRS)\n</code></pre>\n<p>This is a single whitespace followed by the string &quot;MRS&quot;, but &quot;MRS&quot; is not included in the match.</p>\n<p>If you want to extend that by one or more whitespaces, you can use <code>\\s+(?=MRS)</code>.</p>\n<p>Tested in jshell:</p>\n<pre class=\"lang-jshell prettyprint-override\"><code>jshell&gt; &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;.split(&quot;\\\\s(?=MRS)&quot;)\n$1 ==&gt; String[2] { &quot;Alison Quek Yong Hoon&quot;, &quot;MRS Alison Teng Yong Hoon&quot; }\n</code></pre>\n"}],"owner":{"account_id":8602157,"reputation":1,"user_id":6443349,"display_name":"Azka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680502971,"creation_date":1680488244,"question_id":75915626,"body_markdown":"I tried to split below\r\n&lt;br&gt;String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;&lt;br&gt;\r\nString[] output = input.split(&quot;(?&lt;=(MRS\\\\s|MRS\\\\.))&quot;);\r\n\r\n\r\n\r\nresult i got :\r\n1. Alison Quek Yong Hoon MRS\r\n2. Alison Teng Yong Hoon\r\n\r\nmy expected result are : \r\n1. Alison Quek Yong Hoon\r\n2. MRS Alison Teng Yong Hoon","title":"How to Split Title in Java","body":"<p>I tried to split below\n<br>String input = &quot;Alison Quek Yong Hoon MRS Alison Teng Yong Hoon&quot;;<br>\nString[] output = input.split(&quot;(?&lt;=(MRS\\s|MRS\\.))&quot;);</p>\n<p>result i got :</p>\n<ol>\n<li>Alison Quek Yong Hoon MRS</li>\n<li>Alison Teng Yong Hoon</li>\n</ol>\n<p>my expected result are :</p>\n<ol>\n<li>Alison Quek Yong Hoon</li>\n<li>MRS Alison Teng Yong Hoon</li>\n</ol>\n"},{"tags":["java","docker","shell","containers","container-image"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1680516036,"post_id":75915891,"comment_id":133905922,"body_markdown":"Does [What are shell form and exec form?](https://stackoverflow.com/questions/47904974/what-are-shell-form-and-exec-form) answer your question?  Are you referring to the two syntaxes of `CMD`, launching the `CMD` from an entrypoint wrapper script, something else?","body":"Does <a href=\"https://stackoverflow.com/questions/47904974/what-are-shell-form-and-exec-form\">What are shell form and exec form?</a> answer your question?  Are you referring to the two syntaxes of <code>CMD</code>, launching the <code>CMD</code> from an entrypoint wrapper script, something else?"}],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680502227,"creation_date":1680502227,"answer_id":75916456,"question_id":75915891,"body_markdown":"As per the best practices is concerned there is no such recommendation for invoking java Processes.\r\n\r\nAs both approaches have their own pros and cons. it certainly depends on what your app does or is there any reconfiguration is required in such cases writing a shell makes sense.\r\n\r\nAn interesting read on this scenario https://stackoverflow.com/questions/75910305/how-can-i-make-the-dotnet-command-the-second-command-in-docker/75910448#75910448\r\n\r\nRegarding SIGTERM scenario. The only difference will be if you invoke the java process directly Sigterm will be received by the Java process and in the case of the Shell program your shell PID will receive the shutdown event. \r\n\r\nSo to conclude I think usage depends on your requirements. Hope this helps.","title":"Invoking Java from container - directly or shell","body":"<p>As per the best practices is concerned there is no such recommendation for invoking java Processes.</p>\n<p>As both approaches have their own pros and cons. it certainly depends on what your app does or is there any reconfiguration is required in such cases writing a shell makes sense.</p>\n<p>An interesting read on this scenario <a href=\"https://stackoverflow.com/questions/75910305/how-can-i-make-the-dotnet-command-the-second-command-in-docker/75910448#75910448\">How can I make the dotnet command the second command in docker?</a></p>\n<p>Regarding SIGTERM scenario. The only difference will be if you invoke the java process directly Sigterm will be received by the Java process and in the case of the Shell program your shell PID will receive the shutdown event.</p>\n<p>So to conclude I think usage depends on your requirements. Hope this helps.</p>\n"}],"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680502227,"creation_date":1680493667,"question_id":75915891,"body_markdown":"Is there a recommended practice to invoke Java process between invoking directly vs using shell as entry point?\r\n\r\nI understand that shell will add extra file to maintain as downside, but provides flexibility in setting up JVM, e.g. JFR, memory conf, etc.\r\n\r\nBut any issues of using one over the other, e.g. SIGTERM?","title":"Invoking Java from container - directly or shell","body":"<p>Is there a recommended practice to invoke Java process between invoking directly vs using shell as entry point?</p>\n<p>I understand that shell will add extra file to maintain as downside, but provides flexibility in setting up JVM, e.g. JFR, memory conf, etc.</p>\n<p>But any issues of using one over the other, e.g. SIGTERM?</p>\n"},{"tags":["java","servlets"],"owner":{"account_id":28154193,"reputation":1,"user_id":21515170,"display_name":"SHEKHAR CHAVAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680501919,"creation_date":1680500347,"question_id":75916312,"body_markdown":"I am working with a servlet project in which the user inputs data in a form and if  the terms and conditions are not met then the form is displayed.\r\nHowever, the above functionality does not seem to work?\r\nHow do I fix it?\r\n\r\nI am using NetBeans.\r\n\r\nRegisterServlet.java\r\n\r\n```\r\nRegisterServlet.java\r\n\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\npackage com.packages;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\n \r\n/**\r\n *\r\n * @author soura\r\n */\r\npublic class RegisterServlet extends HttpServlet{\r\n    @Override\r\n    public void doPost(HttpServletRequest request,HttpServletResponse response)throws ServletException,IOException{\r\n        response.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out=response.getWriter();\r\n        out.println(&quot;&lt;h1&gt;Welcome to Register Servlet&lt;/h1&gt;&quot;);\r\n        String name=request.getParameter(&quot;user_name&quot;);\r\n        String password=request.getParameter(&quot;user_password&quot;);\r\n        String email=request.getParameter(&quot;user_mail&quot;);\r\n        String gender=request.getParameter(&quot;user_gender&quot;);\r\n        String course=request.getParameter(&quot;user_course&quot;);\r\n         \r\n         String condition=request.getParameter(&quot;conditiontocheck&quot;);\r\n          \r\n         if(condition!=null){\r\n            if(condition.equals(&quot;checked&quot;)){\r\n                out.println(&quot;&lt;h2&gt;Name:&lt;/h2&gt;&quot;+name);\r\n                out.println(&quot;&lt;h2&gt;Password:&lt;/h2&gt;&quot;+password);\r\n                out.println(&quot;&lt;h2&gt;Email:&lt;/h2&gt;&quot;+email);\r\n                out.println(&quot;&lt;h2&gt;Gensder:&lt;/h2&gt;&quot;+gender);\r\n                out.println(&quot;&lt;h2&gt;Course:&lt;/h2&gt;&quot;+course);      \r\n            }else{\r\n             out.println(&quot;The terms and conditions have not been applied.&quot;); \r\n            }\r\n         }\r\n         else{\r\n            out.println(&quot;The terms and conditions have not been applied.&quot;); \r\n           RequestDispatcher rd=request.getRequestDispatcher(&quot;/index.html&quot;);\r\n            rd.include(request,response);\r\n         }\r\n    }   \r\n}\r\n```\r\n\r\n\r\nI was expecting that when I run the app on netbeans and don&#39;t click on terms and conditions agree the browser displays the form with details with the text &quot;the terms and consitions have not been agreed&quot;\r\n\r\nHowever, the form is displayed without the details I entered.","title":"include() method in Requestdispatcher not working in servlet","body":"<p>I am working with a servlet project in which the user inputs data in a form and if  the terms and conditions are not met then the form is displayed.\nHowever, the above functionality does not seem to work?\nHow do I fix it?</p>\n<p>I am using NetBeans.</p>\n<p>RegisterServlet.java</p>\n<pre><code>RegisterServlet.java\n\n/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage com.packages;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n \n/**\n *\n * @author soura\n */\npublic class RegisterServlet extends HttpServlet{\n    @Override\n    public void doPost(HttpServletRequest request,HttpServletResponse response)throws ServletException,IOException{\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out=response.getWriter();\n        out.println(&quot;&lt;h1&gt;Welcome to Register Servlet&lt;/h1&gt;&quot;);\n        String name=request.getParameter(&quot;user_name&quot;);\n        String password=request.getParameter(&quot;user_password&quot;);\n        String email=request.getParameter(&quot;user_mail&quot;);\n        String gender=request.getParameter(&quot;user_gender&quot;);\n        String course=request.getParameter(&quot;user_course&quot;);\n         \n         String condition=request.getParameter(&quot;conditiontocheck&quot;);\n          \n         if(condition!=null){\n            if(condition.equals(&quot;checked&quot;)){\n                out.println(&quot;&lt;h2&gt;Name:&lt;/h2&gt;&quot;+name);\n                out.println(&quot;&lt;h2&gt;Password:&lt;/h2&gt;&quot;+password);\n                out.println(&quot;&lt;h2&gt;Email:&lt;/h2&gt;&quot;+email);\n                out.println(&quot;&lt;h2&gt;Gensder:&lt;/h2&gt;&quot;+gender);\n                out.println(&quot;&lt;h2&gt;Course:&lt;/h2&gt;&quot;+course);      \n            }else{\n             out.println(&quot;The terms and conditions have not been applied.&quot;); \n            }\n         }\n         else{\n            out.println(&quot;The terms and conditions have not been applied.&quot;); \n           RequestDispatcher rd=request.getRequestDispatcher(&quot;/index.html&quot;);\n            rd.include(request,response);\n         }\n    }   \n}\n</code></pre>\n<p>I was expecting that when I run the app on netbeans and don't click on terms and conditions agree the browser displays the form with details with the text &quot;the terms and consitions have not been agreed&quot;</p>\n<p>However, the form is displayed without the details I entered.</p>\n"},{"tags":["java","json","junit-jupiter","spring-webtestclient"],"answers":[{"tags":[],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680501727,"creation_date":1680501727,"answer_id":75916412,"question_id":75887814,"body_markdown":"Solved it by checking the size of the json properties. Not exactly what I wanted (because now I have to change 2 values of something changes), but it&#39;s still a viable solution: \r\n\r\n    .jsonPath(&quot;$.length()&quot;).isEqualTo(4);\r\n\r\nHamcrest Matchers did not work for me. \r\n\r\nSee also this answer: https://stackoverflow.com/a/74195945/3824715","title":"WebTestClient assertThat json has only specific keys","body":"<p>Solved it by checking the size of the json properties. Not exactly what I wanted (because now I have to change 2 values of something changes), but it's still a viable solution:</p>\n<pre><code>.jsonPath(&quot;$.length()&quot;).isEqualTo(4);\n</code></pre>\n<p>Hamcrest Matchers did not work for me.</p>\n<p>See also this answer: <a href=\"https://stackoverflow.com/a/74195945/3824715\">https://stackoverflow.com/a/74195945/3824715</a></p>\n"}],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916412,"answer_count":1,"score":0,"last_activity_date":1680501727,"creation_date":1680176686,"question_id":75887814,"body_markdown":"I&#39;m testing my endpoints like so:  \r\n\r\n            webTestClient.get().uri(BASE_URL).\r\n                .exchange().expectStatus().isOk().expectBody()\r\n                .jsonPath(&quot;$.name&quot;).isEqualTo(&quot;test1&quot;)\r\n                .jsonPath(&quot;$.street&quot;).isEqualTo(&quot;test1&quot;)\r\n                .jsonPath(&quot;$.id&quot;).isEqualTo(1);\r\n\r\nIs there any way I can make sure that the json has only those 3 fields and not more? ","title":"WebTestClient assertThat json has only specific keys","body":"<p>I'm testing my endpoints like so:</p>\n<pre><code>        webTestClient.get().uri(BASE_URL).\n            .exchange().expectStatus().isOk().expectBody()\n            .jsonPath(&quot;$.name&quot;).isEqualTo(&quot;test1&quot;)\n            .jsonPath(&quot;$.street&quot;).isEqualTo(&quot;test1&quot;)\n            .jsonPath(&quot;$.id&quot;).isEqualTo(1);\n</code></pre>\n<p>Is there any way I can make sure that the json has only those 3 fields and not more?</p>\n"},{"tags":["java","android","notifications","firebase-cloud-messaging","custom-notification"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680358055,"creation_date":1680358055,"answer_id":75906725,"question_id":75906005,"body_markdown":"When the app is not running, notification messages are displayed by the system and not by your application code.\r\n\r\nIf you always want your application code to handle the display, you should send only data messages.\r\n\r\nFor more on this, have a look at the Firebase documentation on [messages types](https://firebase.google.com/docs/cloud-messaging/concept-options#notifications_and_data_messages).","title":"I have RemoteViews for my (FCM) custom notification which is working great if app is running but when app is close system sending default notification","body":"<p>When the app is not running, notification messages are displayed by the system and not by your application code.</p>\n<p>If you always want your application code to handle the display, you should send only data messages.</p>\n<p>For more on this, have a look at the Firebase documentation on <a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options#notifications_and_data_messages\" rel=\"nofollow noreferrer\">messages types</a>.</p>\n"}],"owner":{"account_id":28186517,"reputation":1,"user_id":21542602,"display_name":"K Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680501009,"creation_date":1680349750,"question_id":75906005,"body_markdown":"I am trying to create custom notification which data is coming from Firebase cloud messaging and it is working fine if app is running but when app is closed system taking default notification.\r\n\r\nSo what is solution or alternative for this?\r\n\r\n\r\n```\r\n@Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        if (remoteMessage.getNotification() != null) {\r\n            Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived: &quot; + remoteMessage.getData().toString());\r\n            try {\r\n                if (remoteMessage.getNotification().getImageUrl() != null &amp;&amp; !remoteMessage.getNotification().getImageUrl().toString().isEmpty()) {\r\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), remoteMessage.getNotification().getImageUrl().toString());\r\n                } else {\r\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), &quot;&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived Exception : &quot; + e.getMessage());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\n// i added this code in my onMessageReceived \r\npublic void showNotification(String title, String message, String type, String imageUrl) throws IOException {\r\n      \r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.putExtra(&quot;type&quot;, type);\r\n        String channel_id = &quot;notification_channel&quot;;\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, Build.VERSION.SDK_INT &lt; 31 ? PendingIntent.FLAG_ONE_SHOT : PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\r\n                NotificationChannel notificationChannel = new NotificationChannel(channel_id, &quot;web_app&quot;, NotificationManager.IMPORTANCE_HIGH);\r\n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n                notificationManager.createNotificationChannel(notificationChannel);\r\n\r\n                // Attach the custom Expand layout\r\n                RemoteViews notificationLayout = new RemoteViews(getPackageName(), R.layout.notification_layout);\r\n                notificationLayout.setTextViewText(R.id.notification_text, title);\r\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\r\n                notificationLayout.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\r\n\r\n                // Attach the custom Init layout\r\n                RemoteViews notificationLayoutInit = new RemoteViews(getPackageName(), R.layout.notification_init_layout);\r\n                notificationLayoutInit.setTextViewText(R.id.notification_text, title);\r\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\r\n                notificationLayoutInit.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\r\n\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\r\n                        .setSmallIcon(R.mipmap.app_launcher)\r\n                        .setAutoCancel(true)\r\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\r\n                        .setOnlyAlertOnce(true)\r\n                        .setContentIntent(pendingIntent)\r\n                        .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\r\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\r\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                        .setCustomContentView(notificationLayoutInit)\r\n                        .setCustomBigContentView(notificationLayout);\r\n\r\n                // Show the notification\r\n                notificationManager.notify(1, builder.build());\r\n\r\n            } else {\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\r\n                        .setSmallIcon(R.mipmap.app_launcher)\r\n                        .setAutoCancel(true)\r\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\r\n                        .setOnlyAlertOnce(true)\r\n                        .setContentIntent(pendingIntent)\r\n//                        .setContentTitle(title)\r\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\r\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                        .setContentText(title);\r\n                if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {\r\n                    builder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(getBitmapFromUrl(imageUrl)));\r\n                }\r\n                NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\r\n                notificationManager.notify(0, builder.build());\r\n            }\r\n        }\r\n```\r\n\r\nI want to show my custom notification even if app is closed. Can i use service for that and if yes than how?","title":"I have RemoteViews for my (FCM) custom notification which is working great if app is running but when app is close system sending default notification","body":"<p>I am trying to create custom notification which data is coming from Firebase cloud messaging and it is working fine if app is running but when app is closed system taking default notification.</p>\n<p>So what is solution or alternative for this?</p>\n<pre><code>@Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        if (remoteMessage.getNotification() != null) {\n            Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived: &quot; + remoteMessage.getData().toString());\n            try {\n                if (remoteMessage.getNotification().getImageUrl() != null &amp;&amp; !remoteMessage.getNotification().getImageUrl().toString().isEmpty()) {\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), remoteMessage.getNotification().getImageUrl().toString());\n                } else {\n                    showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getData().get(&quot;type&quot;), &quot;&quot;);\n                }\n            } catch (Exception e) {\n                Log.e(&quot;@@@TAG&quot;, &quot;onMessageReceived Exception : &quot; + e.getMessage());\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<pre><code>// i added this code in my onMessageReceived \npublic void showNotification(String title, String message, String type, String imageUrl) throws IOException {\n      \n        Intent intent = new Intent(this, MainActivity.class);\n        intent.putExtra(&quot;type&quot;, type);\n        String channel_id = &quot;notification_channel&quot;;\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, Build.VERSION.SDK_INT &lt; 31 ? PendingIntent.FLAG_ONE_SHOT : PendingIntent.FLAG_IMMUTABLE);\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n                NotificationChannel notificationChannel = new NotificationChannel(channel_id, &quot;web_app&quot;, NotificationManager.IMPORTANCE_HIGH);\n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\n                notificationManager.createNotificationChannel(notificationChannel);\n\n                // Attach the custom Expand layout\n                RemoteViews notificationLayout = new RemoteViews(getPackageName(), R.layout.notification_layout);\n                notificationLayout.setTextViewText(R.id.notification_text, title);\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\n                notificationLayout.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\n\n                // Attach the custom Init layout\n                RemoteViews notificationLayoutInit = new RemoteViews(getPackageName(), R.layout.notification_init_layout);\n                notificationLayoutInit.setTextViewText(R.id.notification_text, title);\n//                notificationLayout.setTextViewText(R.id.notification_text, message);\n                notificationLayoutInit.setBitmap(R.id.notification_thumbnail, &quot;setImageBitmap&quot;, getBitmapFromUrl(imageUrl));\n\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\n                        .setSmallIcon(R.mipmap.app_launcher)\n                        .setAutoCancel(true)\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\n                        .setOnlyAlertOnce(true)\n                        .setContentIntent(pendingIntent)\n                        .setStyle(new NotificationCompat.DecoratedCustomViewStyle())\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\n                        .setCustomContentView(notificationLayoutInit)\n                        .setCustomBigContentView(notificationLayout);\n\n                // Show the notification\n                notificationManager.notify(1, builder.build());\n\n            } else {\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channel_id)\n                        .setSmallIcon(R.mipmap.app_launcher)\n                        .setAutoCancel(true)\n                        .setVibrate(new long[]{1000, 1000, 1000, 1000, 1000})\n                        .setOnlyAlertOnce(true)\n                        .setContentIntent(pendingIntent)\n//                        .setContentTitle(title)\n                        .setDefaults(NotificationCompat.DEFAULT_SOUND | NotificationCompat.DEFAULT_VIBRATE)\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\n                        .setContentText(title);\n                if (imageUrl != null &amp;&amp; !imageUrl.isEmpty()) {\n                    builder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(getBitmapFromUrl(imageUrl)));\n                }\n                NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\n                notificationManager.notify(0, builder.build());\n            }\n        }\n</code></pre>\n<p>I want to show my custom notification even if app is closed. Can i use service for that and if yes than how?</p>\n"},{"tags":["java","hazelcast","vert.x"],"answers":[{"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680500966,"creation_date":1680500966,"answer_id":75916349,"question_id":75835123,"body_markdown":"When creating the member you can do something like this\r\n\r\n    Config config = ...;\r\n    config.getMapConfig(MAP_NAME)\r\n      .getMapStoreConfig().setEnabled(true)\r\n      .setImplementation(new MyMapStore&lt;&gt;());\r\nYou can use setImplementation() to pass an object. The MyMapStore will contain the connection object","title":"How to inject object into Hazelcast MapStore in no-Spring application","body":"<p>When creating the member you can do something like this</p>\n<pre><code>Config config = ...;\nconfig.getMapConfig(MAP_NAME)\n  .getMapStoreConfig().setEnabled(true)\n  .setImplementation(new MyMapStore&lt;&gt;());\n</code></pre>\n<p>You can use setImplementation() to pass an object. The MyMapStore will contain the connection object</p>\n"}],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916349,"answer_count":1,"score":0,"last_activity_date":1680500966,"creation_date":1679669415,"question_id":75835123,"body_markdown":"\r\nI need to pass (inject) already created object into Hazelcast MapStore. In the example (from Hazelcast documentation) below shown how to pass properties into MapStore from xml configuration and create new object using these properties inside store init method.\r\n\r\nBut how to pass already constructed connection object in Vert.x? As it is **not Spring** project, I can&#39;t use @SpringAware and bean injection.\r\n````\r\n&lt;hazelcast&gt;\r\n    ...\r\n    &lt;map name=&quot;supplements&quot;&gt;\r\n        &lt;map-store enabled=&quot;true&quot; initial-mode=&quot;LAZY&quot;&gt;\r\n            &lt;class-name&gt;com.hazelcast.loader.YourMapStoreImplementation&lt;/class-name&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;mongo.url&quot;&gt;mongodb://localhost:27017&lt;/property&gt;\r\n                &lt;property name=&quot;mongo.db&quot;&gt;mydb&lt;/property&gt;\r\n                &lt;property name=&quot;mongo.collection&quot;&gt;supplements&lt;/property&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/map-store&gt;\r\n    &lt;/map&gt;\r\n    ...\r\n&lt;/hazelcast&gt;\r\n````\r\n\r\n&gt; After specifying the database properties in your configuration, you\r\n&gt; need to implement the MapLoaderLifecycleSupport interface and give\r\n&gt; those properties in the init() method, as shown below:\r\n\r\n````\r\npublic class YourMapStoreImplementation implements MapStore&lt;String, Supplement&gt;, MapLoaderLifecycleSupport {\r\n\r\n    private MongoClient mongoClient;\r\n    private MongoCollection collection;\r\n\r\n    public YourMapStoreImplementation() {\r\n    }\r\n\r\n    @Override\r\n    public void init(HazelcastInstance hazelcastInstance, Properties properties, String mapName) {\r\n        String mongoUrl = (String) properties.get(&quot;mongo.url&quot;);\r\n        String dbName = (String) properties.get(&quot;mongo.db&quot;);\r\n        String collectionName = (String) properties.get(&quot;mongo.collection&quot;);\r\n        this.mongoClient = new MongoClient(new MongoClientURI(mongoUrl));\r\n        this.collection = mongoClient.getDatabase(dbName).getCollection(collectionName);\r\n    }\r\n````","title":"How to inject object into Hazelcast MapStore in no-Spring application","body":"<p>I need to pass (inject) already created object into Hazelcast MapStore. In the example (from Hazelcast documentation) below shown how to pass properties into MapStore from xml configuration and create new object using these properties inside store init method.</p>\n<p>But how to pass already constructed connection object in Vert.x? As it is <strong>not Spring</strong> project, I can't use @SpringAware and bean injection.</p>\n<pre><code>&lt;hazelcast&gt;\n    ...\n    &lt;map name=&quot;supplements&quot;&gt;\n        &lt;map-store enabled=&quot;true&quot; initial-mode=&quot;LAZY&quot;&gt;\n            &lt;class-name&gt;com.hazelcast.loader.YourMapStoreImplementation&lt;/class-name&gt;\n            &lt;properties&gt;\n                &lt;property name=&quot;mongo.url&quot;&gt;mongodb://localhost:27017&lt;/property&gt;\n                &lt;property name=&quot;mongo.db&quot;&gt;mydb&lt;/property&gt;\n                &lt;property name=&quot;mongo.collection&quot;&gt;supplements&lt;/property&gt;\n            &lt;/properties&gt;\n        &lt;/map-store&gt;\n    &lt;/map&gt;\n    ...\n&lt;/hazelcast&gt;\n</code></pre>\n<blockquote>\n<p>After specifying the database properties in your configuration, you\nneed to implement the MapLoaderLifecycleSupport interface and give\nthose properties in the init() method, as shown below:</p>\n</blockquote>\n<pre><code>public class YourMapStoreImplementation implements MapStore&lt;String, Supplement&gt;, MapLoaderLifecycleSupport {\n\n    private MongoClient mongoClient;\n    private MongoCollection collection;\n\n    public YourMapStoreImplementation() {\n    }\n\n    @Override\n    public void init(HazelcastInstance hazelcastInstance, Properties properties, String mapName) {\n        String mongoUrl = (String) properties.get(&quot;mongo.url&quot;);\n        String dbName = (String) properties.get(&quot;mongo.db&quot;);\n        String collectionName = (String) properties.get(&quot;mongo.collection&quot;);\n        this.mongoClient = new MongoClient(new MongoClientURI(mongoUrl));\n        this.collection = mongoClient.getDatabase(dbName).getCollection(collectionName);\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680489254,"post_id":75915290,"comment_id":133901875,"body_markdown":"Can you let me know why you dont use `onResume` / `onPause` to Play/Pause your playback but On/Off screen event?","body":"Can you let me know why you dont use <code>onResume</code> / <code>onPause</code> to Play/Pause your playback but On/Off screen event?"},{"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"score":0,"creation_date":1680493077,"post_id":75915290,"comment_id":133902251,"body_markdown":"If you turn off the power button while playing a video on your Android phone, it won&#39;t play for a long time. After all, even if you turn off the power, the app processor will continue to shut down when you turn on the power that runs in the background.","body":"If you turn off the power button while playing a video on your Android phone, it won&#39;t play for a long time. After all, even if you turn off the power, the app processor will continue to shut down when you turn on the power that runs in the background."},{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680493150,"post_id":75915290,"comment_id":133902257,"body_markdown":"I mean you can `onResume` / `onPause` to Play/Pause your playback instead of the above solution","body":"I mean you can <code>onResume</code> / <code>onPause</code> to Play/Pause your playback instead of the above solution"},{"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"score":0,"creation_date":1680493505,"post_id":75915290,"comment_id":133902287,"body_markdown":"Is it correct to use the onResum() method in mediaPlayer?","body":"Is it correct to use the onResum() method in mediaPlayer?"},{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680493806,"post_id":75915290,"comment_id":133902312,"body_markdown":"on `onResume` of activity or fragment, make a call to your mediaplayer to play your playback. And on `onPause` to pause the playback","body":"on <code>onResume</code> of activity or fragment, make a call to your mediaplayer to play your playback. And on <code>onPause</code> to pause the playback"},{"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"score":0,"creation_date":1680494681,"post_id":75915290,"comment_id":133902376,"body_markdown":"Calling the onResume() function will cause the app to bounce in the foreground when launched. Any other workaround?","body":"Calling the onResume() function will cause the app to bounce in the foreground when launched. Any other workaround?"}],"answers":[{"tags":[],"owner":{"account_id":7758137,"reputation":1831,"user_id":6059583,"accept_rate":62,"display_name":"Jeeva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680500503,"creation_date":1680500503,"answer_id":75916321,"question_id":75915290,"body_markdown":"    IntentFilter powerButtonOffFilter = new IntentFilter();\r\n    powerButtonOffFilter.addAction(Intent.ACTION_SCREEN_OFF);\r\n    powerButtonOffFilter.addAction(Intent.ACTION_SCREEN_ON);\r\n    registerReceiver(powerButtonOnOffReciever, powerButtonOffFilter);\r\n&lt;br&gt;\r\nIn your code you have used same intent filter which only listens for for action screen on as it replaces the screen off due to your code logic.\r\nWhen you want to listen to multiple broadcast using single intent filter you have to group them and then listen.","title":"Android java video playback background pause doesn&#39;t work Please tell me how to solve it","body":"<pre><code>IntentFilter powerButtonOffFilter = new IntentFilter();\npowerButtonOffFilter.addAction(Intent.ACTION_SCREEN_OFF);\npowerButtonOffFilter.addAction(Intent.ACTION_SCREEN_ON);\nregisterReceiver(powerButtonOnOffReciever, powerButtonOffFilter);\n</code></pre>\n<br>\nIn your code you have used same intent filter which only listens for for action screen on as it replaces the screen off due to your code logic.\nWhen you want to listen to multiple broadcast using single intent filter you have to group them and then listen.\n"}],"owner":{"account_id":25469596,"reputation":9,"user_id":19268028,"display_name":"Chae Seong Lim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680500503,"creation_date":1680481125,"question_id":75915290,"body_markdown":"MainActivity.java\r\n\r\n```\r\n\r\n@SuppressLint(&quot;WrongViewCast&quot;)\r\n    @Override\r\n    protected void onCreate(final Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        IntentFilter powerButtonOff = new IntentFilter(Intent.ACTION_SCREEN_OFF);\r\n        IntentFilter powerButtonOn = new IntentFilter(Intent.ACTION_SCREEN_ON);\r\n\r\n        registerReceiver(powerButtonOnOff, powerButtonOff);\r\n        registerReceiver(powerButtonOnOff, powerButtonOn);\r\n```\r\n\r\n\r\n\r\n\r\nMainActivity.java\r\n\r\n```\r\nprivate void unregisterBroadcast(){\r\n        unregisterReceiver(powerButtonOnOff);\r\n    }\r\n\r\n\r\n    BroadcastReceiver powerButtonOnOff = new BroadcastReceiver() {\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if(mediaPlayer == null){\r\n                mediaPlayer = MediaPlayer.create(context,R.id.videoView);\r\n            }\r\n            if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\r\n                try {\r\n                    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n                        mediaPlayer.stop();\r\n                        mediaPlayer.release();\r\n                        mediaPlayer = null;\r\n\r\n\r\n                    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\r\n                        mediaPlayer.start();\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n```\r\n\r\nMainActivity.java\r\n\r\n```\r\n @Override\r\n    protected void onDestroy() {\r\n      unregisterBroadcast();\r\n```\r\n\r\nAndroidManifest.xml\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.DEVICE_POWER&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\r\n```\r\n\r\nhello. The code above should pause playback when the phone is turned off while the video is playing in the app, but it doesn&#39;t stop. So I tried the onReceive method by applying the code, but it didn&#39;t work, so I don&#39;t know the cause.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIn Android Java MainActivity.java, if you turn OFF through the onReceive method power key event, the app process screen bounces. I used WAKE_LOCK in AndroidManifest.xml to avoid bouncing, but it doesn&#39;t work out well. help.","title":"Android java video playback background pause doesn&#39;t work Please tell me how to solve it","body":"<p>MainActivity.java</p>\n<pre><code>\n@SuppressLint(&quot;WrongViewCast&quot;)\n    @Override\n    protected void onCreate(final Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        IntentFilter powerButtonOff = new IntentFilter(Intent.ACTION_SCREEN_OFF);\n        IntentFilter powerButtonOn = new IntentFilter(Intent.ACTION_SCREEN_ON);\n\n        registerReceiver(powerButtonOnOff, powerButtonOff);\n        registerReceiver(powerButtonOnOff, powerButtonOn);\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>private void unregisterBroadcast(){\n        unregisterReceiver(powerButtonOnOff);\n    }\n\n\n    BroadcastReceiver powerButtonOnOff = new BroadcastReceiver() {\n\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if(mediaPlayer == null){\n                mediaPlayer = MediaPlayer.create(context,R.id.videoView);\n            }\n            if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\n                try {\n                    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n                        mediaPlayer.stop();\n                        mediaPlayer.release();\n                        mediaPlayer = null;\n\n\n                    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\n                        mediaPlayer.start();\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    };\n\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code> @Override\n    protected void onDestroy() {\n      unregisterBroadcast();\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.DEVICE_POWER&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\n</code></pre>\n<p>hello. The code above should pause playback when the phone is turned off while the video is playing in the app, but it doesn't stop. So I tried the onReceive method by applying the code, but it didn't work, so I don't know the cause.</p>\n<p>In Android Java MainActivity.java, if you turn OFF through the onReceive method power key event, the app process screen bounces. I used WAKE_LOCK in AndroidManifest.xml to avoid bouncing, but it doesn't work out well. help.</p>\n"},{"tags":["java","spring-boot","rest","swagger","multipart"],"answers":[{"tags":[],"owner":{"account_id":3611476,"reputation":59,"user_id":3012347,"display_name":"Max"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680364973,"creation_date":1680364973,"answer_id":75907317,"question_id":75907037,"body_markdown":"You can use [`readAllBytes()`][1] on your InputStream and use the byte-array constructor of String.\r\n\r\n```java\r\nInputStream route;\r\n…\r\nbyte[] routeBytes = route.readAllBytes();\r\nString routeBinary = new String(routeBytes, StandardCharsets.UTF_8); // for UTF-8 encoding\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--","title":"Spring REST how to response object with binary field","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"nofollow noreferrer\"><code>readAllBytes()</code></a> on your InputStream and use the byte-array constructor of String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream route;\n…\nbyte[] routeBytes = route.readAllBytes();\nString routeBinary = new String(routeBytes, StandardCharsets.UTF_8); // for UTF-8 encoding\n</code></pre>\n"}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680500048,"creation_date":1680361788,"question_id":75907037,"body_markdown":"how can i send response with Spring MVC this object:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class DeviceSummaryResponse {\r\n    \r\n        @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\r\n        private ConfigResponse config;\r\n    \r\n        @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\r\n        private InputStream route;\r\n    }\r\n\r\n\r\ni try this, but it dont work due to &#39;route&#39; field, converter error.\r\n\r\n\r\n    @GetMapping(DEVICE_ID_PATH)\r\n    public ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\r\n    \r\n        log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\r\n    \r\n        var deviceSummary = mobileComplexService.getSummary(id);\r\n    \r\n        return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\r\n    }\r\n\r\n\r\n\r\ni need to do as described in the specification:\r\n\r\n```yaml\r\nDeviceSummaryResponse:\r\n      type: object\r\n      properties:\r\n        config:\r\n          type: object\r\n          properties:\r\n           ...\r\n          ...\r\n        route:\r\n          type: string\r\n          format: binary\r\n          description: GPX файл с маршрутом устройства\r\n      required:\r\n        - config\r\n        - route\r\n```\r\n\r\nthank you very much in advance","title":"Spring REST how to response object with binary field","body":"<p>how can i send response with Spring MVC this object:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class DeviceSummaryResponse {\n\n    @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\n    private ConfigResponse config;\n\n    @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\n    private InputStream route;\n}\n</code></pre>\n<p>i try this, but it dont work due to 'route' field, converter error.</p>\n<pre><code>@GetMapping(DEVICE_ID_PATH)\npublic ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\n\n    log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\n\n    var deviceSummary = mobileComplexService.getSummary(id);\n\n    return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\n}\n</code></pre>\n<p>i need to do as described in the specification:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>DeviceSummaryResponse:\n      type: object\n      properties:\n        config:\n          type: object\n          properties:\n           ...\n          ...\n        route:\n          type: string\n          format: binary\n          description: GPX файл с маршрутом устройства\n      required:\n        - config\n        - route\n</code></pre>\n<p>thank you very much in advance</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1680507412,"post_id":75916257,"comment_id":133903996,"body_markdown":"I suspect you will need to change your design a bit. The timeline/animation is Designed to move from point A to point B in the animations. You dont really want to interrupt it, you can, but it isn&#39;t really the design. You should probably go with a more traditional approach where your actors to update each step.","body":"I suspect you will need to change your design a bit. The timeline/animation is Designed to move from point A to point B in the animations. You dont really want to interrupt it, you can, but it isn&#39;t really the design. You should probably go with a more traditional approach where your actors to update each step."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1680553818,"post_id":75916257,"comment_id":133915198,"body_markdown":"Builders are outdated but you can get some ideas from https://carlfx.wordpress.com/2012/04/09/javafx-2-gametutorial-part-2/.","body":"Builders are outdated but you can get some ideas from <a href=\"https://carlfx.wordpress.com/2012/04/09/javafx-2-gametutorial-part-2/\" rel=\"nofollow noreferrer\">carlfx.wordpress.com/2012/04/09/javafx-2-gametutorial-part-2</a>&zwnj;&#8203;."}],"owner":{"account_id":28199375,"reputation":11,"user_id":21553429,"display_name":"Sera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680500004,"creation_date":1680499690,"question_id":75916257,"body_markdown":"How to make the carGroup, and carGroup1 keep bouncing and when they reach and touch the border or the touch each other, they rotate to the opposite side, I am new to JavaFX and searched about the collision problem but I got confused on how to make these 2 cars bounce and whenever they touch either the border or each other, they rotate to the opposite side and continue bouncing. Here is my code in which I tried to create the 2 cars groups and animate them, but I face difficulties and the bouncing and collision parts\r\n\r\n```\r\n\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.KeyValue;\r\nimport javafx.animation.Timeline;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Bounds;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.Border;\r\nimport javafx.scene.layout.BorderStroke;\r\nimport javafx.scene.layout.BorderStrokeStyle;\r\nimport javafx.scene.layout.BorderWidths;\r\nimport javafx.scene.layout.CornerRadii;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.scene.shape.Shape;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\npublic class ShapeTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        Pane pane = new Pane();\r\n        Scene scene = new Scene(pane, 300, 300);\r\n\r\n        //=======================================================================\r\n        // CAR 1\r\n        // create the car body\r\n        Rectangle body = new Rectangle(150, 50, 100, 50);\r\n        body.setFill(Color.RED);\r\n\r\n        // create the wheels\r\n        Circle wheel1 = new Circle(175, 100, 15);\r\n        Circle wheel2 = new Circle(225, 100, 15);\r\n\r\n        // create the car roof\r\n        Rectangle roof = new Rectangle(160, 30, 80, 20);\r\n        roof.setFill(Color.DARKBLUE);\r\n\r\n        // create the windows\r\n        Rectangle window1 = new Rectangle(170, 35, 25, 15);\r\n        Rectangle window2 = new Rectangle(205, 35, 25, 15);\r\n        Shape windows = Shape.union(window1, window2);\r\n        windows.setFill(Color.LIGHTBLUE);\r\n\r\n        // create the car group and add the shapes to it\r\n        Group carGroup = new Group();\r\n        carGroup.getChildren().addAll(body, wheel1, wheel2, roof, windows);\r\n        carGroup.setLayoutX(5); // initial X position\r\n        carGroup.setLayoutY(5); // initial Y position\r\n\r\n        // add the car group to the pane\r\n        pane.getChildren().add(carGroup);\r\n\r\n        pane.setBorder(new Border(new BorderStroke(Color.RED,\r\n                BorderStrokeStyle.SOLID, CornerRadii.EMPTY, BorderWidths.DEFAULT)));\r\n\r\n        carGroup.relocate(5, 5);\r\n\r\n        // move the carGroup along the X axis\r\n        KeyValue kvX = new KeyValue(carGroup.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup.getBoundsInLocal().getMaxX());\r\n        KeyFrame kfX = new KeyFrame(Duration.seconds(1), kvX);\r\n        Timeline timelineX = new Timeline(kfX);\r\n        timelineX.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        // move the carGroup along the Y axis\r\n        KeyValue kvY = new KeyValue(carGroup.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup.getBoundsInLocal().getMaxY());\r\n        KeyFrame kfY = new KeyFrame(Duration.seconds(1), kvY);\r\n        Timeline timelineY = new Timeline(kfY);\r\n        timelineY.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        timelineX.play();\r\n        timelineY.play();\r\n\r\n        //=======================================================================\r\n        // CAR 2\r\n        // create the car body\r\n        Rectangle body1 = new Rectangle(150, 50, 100, 50);\r\n        body1.setFill(Color.YELLOW);\r\n\r\n        // create the wheels\r\n        Circle wheel11 = new Circle(175, 100, 15);\r\n        Circle wheel22 = new Circle(225, 100, 15);\r\n\r\n        // create the car roof\r\n        Rectangle roof1 = new Rectangle(160, 30, 80, 20);\r\n        roof1.setFill(Color.CYAN);\r\n\r\n        // create the windows\r\n        Rectangle window11 = new Rectangle(170, 35, 25, 15);\r\n        Rectangle window22 = new Rectangle(205, 35, 25, 15);\r\n        Shape windows1 = Shape.union(window11, window22);\r\n        windows1.setFill(Color.PINK);\r\n\r\n        // create the car group and add the shapes to it\r\n        Group carGroup1 = new Group();\r\n        carGroup1.getChildren().addAll(body1, wheel11, wheel22, roof1, windows1);\r\n        carGroup1.setLayoutX(5); // initial X position\r\n        carGroup1.setLayoutY(5); // initial Y position\r\n\r\n        // add the car group to the pane\r\n        pane.getChildren().add(carGroup1);\r\n\r\n        carGroup1.relocate(20, 20);\r\n\r\n        // move the carGroup along the X axis\r\n        KeyValue kvX1 = new KeyValue(carGroup1.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup1.getBoundsInLocal().getMaxX());\r\n        KeyFrame kfX1 = new KeyFrame(Duration.seconds(1), kvX1);\r\n        Timeline timelineX1 = new Timeline(kfX);\r\n        timelineX1.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        // move the carGroup along the Y axis\r\n        KeyValue kvY1 = new KeyValue(carGroup1.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup1.getBoundsInLocal().getMaxY());\r\n        KeyFrame kfY1 = new KeyFrame(Duration.seconds(1), kvY1);\r\n        Timeline timelineY1 = new Timeline(kfY1);\r\n        timelineY1.setCycleCount(Timeline.INDEFINITE);\r\n\r\n        timelineX1.play();\r\n        timelineY1.play();\r\n\r\n        //=======================================================================\r\n        // set the stage properties and show it\r\n        stage.setTitle(&quot;Moving Cars&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```","title":"How to bounce 2 shapes concurrently in JAVAFX with avoiding collision?","body":"<p>How to make the carGroup, and carGroup1 keep bouncing and when they reach and touch the border or the touch each other, they rotate to the opposite side, I am new to JavaFX and searched about the collision problem but I got confused on how to make these 2 cars bounce and whenever they touch either the border or each other, they rotate to the opposite side and continue bouncing. Here is my code in which I tried to create the 2 cars groups and animate them, but I face difficulties and the bouncing and collision parts</p>\n<pre><code>\nimport javafx.animation.KeyFrame;\nimport javafx.animation.KeyValue;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Border;\nimport javafx.scene.layout.BorderStroke;\nimport javafx.scene.layout.BorderStrokeStyle;\nimport javafx.scene.layout.BorderWidths;\nimport javafx.scene.layout.CornerRadii;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.shape.Shape;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class ShapeTest extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        Pane pane = new Pane();\n        Scene scene = new Scene(pane, 300, 300);\n\n        //=======================================================================\n        // CAR 1\n        // create the car body\n        Rectangle body = new Rectangle(150, 50, 100, 50);\n        body.setFill(Color.RED);\n\n        // create the wheels\n        Circle wheel1 = new Circle(175, 100, 15);\n        Circle wheel2 = new Circle(225, 100, 15);\n\n        // create the car roof\n        Rectangle roof = new Rectangle(160, 30, 80, 20);\n        roof.setFill(Color.DARKBLUE);\n\n        // create the windows\n        Rectangle window1 = new Rectangle(170, 35, 25, 15);\n        Rectangle window2 = new Rectangle(205, 35, 25, 15);\n        Shape windows = Shape.union(window1, window2);\n        windows.setFill(Color.LIGHTBLUE);\n\n        // create the car group and add the shapes to it\n        Group carGroup = new Group();\n        carGroup.getChildren().addAll(body, wheel1, wheel2, roof, windows);\n        carGroup.setLayoutX(5); // initial X position\n        carGroup.setLayoutY(5); // initial Y position\n\n        // add the car group to the pane\n        pane.getChildren().add(carGroup);\n\n        pane.setBorder(new Border(new BorderStroke(Color.RED,\n                BorderStrokeStyle.SOLID, CornerRadii.EMPTY, BorderWidths.DEFAULT)));\n\n        carGroup.relocate(5, 5);\n\n        // move the carGroup along the X axis\n        KeyValue kvX = new KeyValue(carGroup.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup.getBoundsInLocal().getMaxX());\n        KeyFrame kfX = new KeyFrame(Duration.seconds(1), kvX);\n        Timeline timelineX = new Timeline(kfX);\n        timelineX.setCycleCount(Timeline.INDEFINITE);\n\n        // move the carGroup along the Y axis\n        KeyValue kvY = new KeyValue(carGroup.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup.getBoundsInLocal().getMaxY());\n        KeyFrame kfY = new KeyFrame(Duration.seconds(1), kvY);\n        Timeline timelineY = new Timeline(kfY);\n        timelineY.setCycleCount(Timeline.INDEFINITE);\n\n        timelineX.play();\n        timelineY.play();\n\n        //=======================================================================\n        // CAR 2\n        // create the car body\n        Rectangle body1 = new Rectangle(150, 50, 100, 50);\n        body1.setFill(Color.YELLOW);\n\n        // create the wheels\n        Circle wheel11 = new Circle(175, 100, 15);\n        Circle wheel22 = new Circle(225, 100, 15);\n\n        // create the car roof\n        Rectangle roof1 = new Rectangle(160, 30, 80, 20);\n        roof1.setFill(Color.CYAN);\n\n        // create the windows\n        Rectangle window11 = new Rectangle(170, 35, 25, 15);\n        Rectangle window22 = new Rectangle(205, 35, 25, 15);\n        Shape windows1 = Shape.union(window11, window22);\n        windows1.setFill(Color.PINK);\n\n        // create the car group and add the shapes to it\n        Group carGroup1 = new Group();\n        carGroup1.getChildren().addAll(body1, wheel11, wheel22, roof1, windows1);\n        carGroup1.setLayoutX(5); // initial X position\n        carGroup1.setLayoutY(5); // initial Y position\n\n        // add the car group to the pane\n        pane.getChildren().add(carGroup1);\n\n        carGroup1.relocate(20, 20);\n\n        // move the carGroup along the X axis\n        KeyValue kvX1 = new KeyValue(carGroup1.layoutXProperty(), pane.getWidth() - pane.getBorder().getInsets().getRight() - carGroup1.getBoundsInLocal().getMaxX());\n        KeyFrame kfX1 = new KeyFrame(Duration.seconds(1), kvX1);\n        Timeline timelineX1 = new Timeline(kfX);\n        timelineX1.setCycleCount(Timeline.INDEFINITE);\n\n        // move the carGroup along the Y axis\n        KeyValue kvY1 = new KeyValue(carGroup1.layoutYProperty(), pane.getHeight() - pane.getBorder().getInsets().getBottom() - carGroup1.getBoundsInLocal().getMaxY());\n        KeyFrame kfY1 = new KeyFrame(Duration.seconds(1), kvY1);\n        Timeline timelineY1 = new Timeline(kfY1);\n        timelineY1.setCycleCount(Timeline.INDEFINITE);\n\n        timelineX1.play();\n        timelineY1.play();\n\n        //=======================================================================\n        // set the stage properties and show it\n        stage.setTitle(&quot;Moving Cars&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","email","gmail"],"answers":[{"tags":[],"owner":{"account_id":21776732,"reputation":46,"user_id":16079033,"display_name":"ProgrammingSolver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680276148,"creation_date":1680276148,"answer_id":75900199,"question_id":75898881,"body_markdown":"Google email has built-in limits for emails sent. These limits are server-side and not-client side, so they are immutable. If you want to send over 100 emails an hour, you need to create a custom email domain.","title":"How to send bulk mail with java spring email best practices","body":"<p>Google email has built-in limits for emails sent. These limits are server-side and not-client side, so they are immutable. If you want to send over 100 emails an hour, you need to create a custom email domain.</p>\n"}],"owner":{"account_id":15648762,"reputation":106,"user_id":11290530,"display_name":"Fatih AKSOY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680499768,"creation_date":1680267830,"question_id":75898881,"body_markdown":"I want to send 2000 emails in the same hour. I&#39;m doing this with spring mail and google smtp.But google says you can send me 100 emails in 1 hour.\r\n\r\nI couldn&#39;t find anything about limit increase.Is there a way to do this?\r\n\r\nOr is there another solution you can suggest as best practices?","title":"How to send bulk mail with java spring email best practices","body":"<p>I want to send 2000 emails in the same hour. I'm doing this with spring mail and google smtp.But google says you can send me 100 emails in 1 hour.</p>\n<p>I couldn't find anything about limit increase.Is there a way to do this?</p>\n<p>Or is there another solution you can suggest as best practices?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1680538853,"post_id":75916218,"comment_id":133911837,"body_markdown":"How do you build the query in Spring Data Elasticsearch?","body":"How do you build the query in Spring Data Elasticsearch?"},{"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"score":0,"creation_date":1680576540,"post_id":75916218,"comment_id":133917832,"body_markdown":"We use combinations of Querybuilders and repository interface when building query","body":"We use combinations of Querybuilders and repository interface when building query"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680499093,"creation_date":1680499093,"question_id":75916218,"body_markdown":"We have an existing &quot;person&quot; index that has &quot;status&quot; field in it. We have several (around 6) existing queries for retrieving person document with different parameters and logic. \r\n\r\nHowever, we have a new requirement that only &quot;active&quot; status will be retrieved from all queries. Is it possible to apply a &quot;template&quot; and append it to all queries searching on the person index without updating all queries one by one to apply filter for status?\r\nThis is the query that we need to append for every existing queries we have:\r\n\r\n    {\r\n    &quot;bool&quot;: {\r\n        &quot;should&quot;: [\r\n            {\r\n                &quot;nested&quot;: {\r\n                    &quot;path&quot;: &quot;additionalAttributes&quot;,\r\n                    &quot;query&quot;: {\r\n                        &quot;terms&quot;: {\r\n                            &quot;additionalAttributes.status&quot;: [\r\n                                &quot;active&quot;\r\n                            ]\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                &quot;bool&quot;: {\r\n                    &quot;must_not&quot;: [\r\n                        {\r\n                            &quot;nested&quot;: {\r\n                                &quot;path&quot;: &quot;additionalAttributes&quot;,\r\n                                &quot;query&quot;: {\r\n                                    &quot;exists&quot;: {\r\n                                        &quot;field&quot;: &quot;additionalAttributes.status&quot;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}","title":"ElasticSearch + Spring - Query template that will append to existing query for further filtering out results","body":"<p>We have an existing &quot;person&quot; index that has &quot;status&quot; field in it. We have several (around 6) existing queries for retrieving person document with different parameters and logic.</p>\n<p>However, we have a new requirement that only &quot;active&quot; status will be retrieved from all queries. Is it possible to apply a &quot;template&quot; and append it to all queries searching on the person index without updating all queries one by one to apply filter for status?\nThis is the query that we need to append for every existing queries we have:</p>\n<pre><code>{\n&quot;bool&quot;: {\n    &quot;should&quot;: [\n        {\n            &quot;nested&quot;: {\n                &quot;path&quot;: &quot;additionalAttributes&quot;,\n                &quot;query&quot;: {\n                    &quot;terms&quot;: {\n                        &quot;additionalAttributes.status&quot;: [\n                            &quot;active&quot;\n                        ]\n                    }\n                }\n            }\n        },\n        {\n            &quot;bool&quot;: {\n                &quot;must_not&quot;: [\n                    {\n                        &quot;nested&quot;: {\n                            &quot;path&quot;: &quot;additionalAttributes&quot;,\n                            &quot;query&quot;: {\n                                &quot;exists&quot;: {\n                                    &quot;field&quot;: &quot;additionalAttributes.status&quot;\n                                }\n                            }\n                        }\n                    }\n                ]\n            }\n        }\n    ]\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","datetime","jackson","jodatime"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1680499440,"post_id":75916213,"comment_id":133902767,"body_markdown":"By the way, the [*Joda-Time*](https://www.joda.org/joda-time/) project is now in maintenance-mode, as noted on its home page. It was years ago supplanted by its official successor, the *java.time* classes built into Java 8 as defined by JSR 310. Both *Joda-Time* and *java.time* are led by the same man, [Stephen Colebourne](https://stackoverflow.com/users/38896/jodastephen).","body":"By the way, the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><i>Joda-Time</i></a> project is now in maintenance-mode, as noted on its home page. It was years ago supplanted by its official successor, the <i>java.time</i> classes built into Java 8 as defined by JSR 310. Both <i>Joda-Time</i> and <i>java.time</i> are led by the same man, <a href=\"https://stackoverflow.com/users/38896/jodastephen\">Stephen Colebourne</a>."}],"owner":{"account_id":12186602,"reputation":148,"user_id":8896134,"display_name":"Pranav Totala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680499020,"creation_date":1680499020,"question_id":75916213,"body_markdown":"I am getting an error in converting string to datetime: \r\n\r\n    Can not instantiate value of type [simple type, class org.joda.time.DateTime] from String value (&#39;2023-03-28T18:29:59.000Z&#39;); no single-String constructor\r\n\r\nDependencies are as follows: \r\n\r\n    com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.7.6:compile\r\n    com.fasterxml.jackson.core:jackson-core:jar:2.7.6:compile\r\n    joda-time:joda-time:jar:2.9.9:compile\r\n\r\nThe part of code is:\r\n\r\n    import org.joda.time.DateTime;\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor(suppressConstructorProperties = true)\r\n    @RequiredArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_DEFAULT)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class CollectionEntity {\r\n        @JsonProperty(&quot;collection_id&quot;)\r\n        private String id;\r\n\r\n        @JsonProperty(&quot;collection_start_date&quot;)\r\n        private DateTime startDate;\r\n    }\r\nAnd loading this directly via jersey request:\r\n\r\n    @PUT\r\n    @Timed\r\n    @ExceptionMetered\r\n    @Path(&quot;/getProductsList&quot;)\r\n    public Response getProductsList(CollectionEntity collections) {}\r\n\r\nThis has been working in other services and hence makes me believe it is a dependency issue, but cannot figure the above error. Any help is appreciated. **Also note, this is just taking int EPOCH values as input in collection_start_date and correctly converting them**","title":"Can not instantiate value org.joda.time.DateTime no single-String constructor","body":"<p>I am getting an error in converting string to datetime:</p>\n<pre><code>Can not instantiate value of type [simple type, class org.joda.time.DateTime] from String value ('2023-03-28T18:29:59.000Z'); no single-String constructor\n</code></pre>\n<p>Dependencies are as follows:</p>\n<pre><code>com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.7.6:compile\ncom.fasterxml.jackson.core:jackson-core:jar:2.7.6:compile\njoda-time:joda-time:jar:2.9.9:compile\n</code></pre>\n<p>The part of code is:</p>\n<pre><code>import org.joda.time.DateTime;\n\n@Data\n@Builder\n@AllArgsConstructor(suppressConstructorProperties = true)\n@RequiredArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_DEFAULT)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CollectionEntity {\n    @JsonProperty(&quot;collection_id&quot;)\n    private String id;\n\n    @JsonProperty(&quot;collection_start_date&quot;)\n    private DateTime startDate;\n}\n</code></pre>\n<p>And loading this directly via jersey request:</p>\n<pre><code>@PUT\n@Timed\n@ExceptionMetered\n@Path(&quot;/getProductsList&quot;)\npublic Response getProductsList(CollectionEntity collections) {}\n</code></pre>\n<p>This has been working in other services and hence makes me believe it is a dependency issue, but cannot figure the above error. Any help is appreciated. <strong>Also note, this is just taking int EPOCH values as input in collection_start_date and correctly converting them</strong></p>\n"},{"tags":["java","binary-search-tree","inorder","preorder","postorder"],"answers":[{"tags":[],"owner":{"account_id":252934,"reputation":3119,"user_id":1644618,"display_name":"yerlilbilgin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680469297,"creation_date":1680461150,"answer_id":75913978,"question_id":75913896,"body_markdown":"First of all, I think your `*successor` methods need to be recursive; otherwise you won&#39;t get the correct successor according to the ordering method. Assuming that you have done that:\r\n\r\nThe `getNextItem` implies that you keep a cursor (e.g. a current node to traverse on), or you provide a `currentNode` as a parameter. If you don&#39;t want an iterative behavior (e.g. if you don&#39;t want a cursor), then the second option would be better for you; which is to provide a `currentNode` as a parameter, and then select the appropriate method WRT the order type).\r\n\r\n```java\r\n   //..previous code\r\n   public Comparable getNextItem(int orderType, TreeNode currentNode) {\r\n        TreeNode successor = null;\r\n        switch (orderType) {\r\n            case INORDER:\r\n                successor = inOrderSuccessor(currentNode);\r\n                break;\r\n            case PREORDER:\r\n                successor = preOrderSuccessor(currentNode);\r\n                break;\r\n            case POSTORDER:\r\n                successor = postOrderSuccessor(currentNode);\r\n                break;\r\n         } //end of switch\r\n         \r\n         return successor.data;\r\n    }\r\n   //..the rest\r\n```\r\n\r\nPlease be aware of null checks and so on.\r\n\r\nEDIT: If you aren&#39;t allowed to change the parameters of the `getNextItem` method, then your tree needs to behave as an iterator, hence you need a cursor. Since you already have a field called `currentNode`, then you can use that as a cursor, initially setting it to `root`.\r\n\r\nThen it should look like this:\r\n\r\n\r\n```java\r\n   //..previous code\r\n   public Comparable getNextItem(int orderType) {\r\n        TreeNode successor = null;\r\n        switch (orderType) {\r\n            case INORDER:\r\n                successor = inOrderSuccessor(this.currentNode);\r\n                break;\r\n            case PREORDER:\r\n                successor = preOrderSuccessor(this.currentNode);\r\n                break;\r\n            case POSTORDER:\r\n                successor = postOrderSuccessor(this.currentNode);\r\n                break;\r\n         } //end of switch\r\n         //keep the cursor up to date.\r\n         this.currentNode = successor;\r\n         return successor.data;\r\n    }\r\n   //..the rest\r\n```\r\n\r\nFor this option to work properly, you also need to have a `reset` method which sets the `currentNode` to `root`, as well as keeping an eye on `null` values. \r\n\r\nI would suggest a few refactors as well, like to encapsulate node management in the binary tree and make sure that your order algorithms work correctly.\r\n\r\n\r\n","title":"How do I call one function in another function?","body":"<p>First of all, I think your <code>*successor</code> methods need to be recursive; otherwise you won't get the correct successor according to the ordering method. Assuming that you have done that:</p>\n<p>The <code>getNextItem</code> implies that you keep a cursor (e.g. a current node to traverse on), or you provide a <code>currentNode</code> as a parameter. If you don't want an iterative behavior (e.g. if you don't want a cursor), then the second option would be better for you; which is to provide a <code>currentNode</code> as a parameter, and then select the appropriate method WRT the order type).</p>\n<pre class=\"lang-java prettyprint-override\"><code>   //..previous code\n   public Comparable getNextItem(int orderType, TreeNode currentNode) {\n        TreeNode successor = null;\n        switch (orderType) {\n            case INORDER:\n                successor = inOrderSuccessor(currentNode);\n                break;\n            case PREORDER:\n                successor = preOrderSuccessor(currentNode);\n                break;\n            case POSTORDER:\n                successor = postOrderSuccessor(currentNode);\n                break;\n         } //end of switch\n         \n         return successor.data;\n    }\n   //..the rest\n</code></pre>\n<p>Please be aware of null checks and so on.</p>\n<p>EDIT: If you aren't allowed to change the parameters of the <code>getNextItem</code> method, then your tree needs to behave as an iterator, hence you need a cursor. Since you already have a field called <code>currentNode</code>, then you can use that as a cursor, initially setting it to <code>root</code>.</p>\n<p>Then it should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   //..previous code\n   public Comparable getNextItem(int orderType) {\n        TreeNode successor = null;\n        switch (orderType) {\n            case INORDER:\n                successor = inOrderSuccessor(this.currentNode);\n                break;\n            case PREORDER:\n                successor = preOrderSuccessor(this.currentNode);\n                break;\n            case POSTORDER:\n                successor = postOrderSuccessor(this.currentNode);\n                break;\n         } //end of switch\n         //keep the cursor up to date.\n         this.currentNode = successor;\n         return successor.data;\n    }\n   //..the rest\n</code></pre>\n<p>For this option to work properly, you also need to have a <code>reset</code> method which sets the <code>currentNode</code> to <code>root</code>, as well as keeping an eye on <code>null</code> values.</p>\n<p>I would suggest a few refactors as well, like to encapsulate node management in the binary tree and make sure that your order algorithms work correctly.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680498382,"creation_date":1680469443,"answer_id":75914603,"question_id":75913896,"body_markdown":"I would suggest starting with `currentNode = null`, so that the very first call of `getNextItem` will actually return the data of the very *first* node in the given traversal order.\r\n\r\nI would also have the class manage its `root` member itself, so that the main program does not have to update it after calling `insert`.\r\n\r\nThe name `minValue` is not really representative of what it does, as it does not return a node&#39;s value, but a node. It could be a method on the `TreeNode` class.\r\n\r\nHere is how it could look:\r\n\r\n```\r\nclass BinaryTree {\r\n    public static final int INORDER = 1;\r\n    public static final int PREORDER = 2;\r\n    public static final int POSTORDER = 3;\r\n    TreeNode root, currentNode;\r\n\r\n    public class TreeNode {\r\n        int data;\r\n        TreeNode left, right, parent;\r\n\r\n        public TreeNode(int data) {\r\n            this.data = data;\r\n            left = right = parent = null; // There should be no root here.\r\n        }\r\n            \r\n        TreeNode minNode() {\r\n            return left == null ? this : left.minNode();\r\n        }\r\n    }\r\n\r\n    public BinaryTree() {\r\n        root = null;\r\n    }\r\n \r\n    public void insert(int newData) {\r\n        root = root == null ? new TreeNode(newData) : insert(root, newData);\r\n    }\r\n    \r\n    private TreeNode insert(TreeNode node, int newData) {\r\n        if (node == null) return new TreeNode(newData);\r\n        if (newData &lt; node.data) {\r\n            node.left = insert(node.left, newData);\r\n            node.left.parent = node;\r\n        } else if (newData &gt; node.data) { \r\n            node.right = insert(node.right, newData);\r\n            node.right.parent = node;\r\n        }\r\n        return node;\r\n    }\r\n\r\n    private TreeNode inOrderSuccessor(TreeNode node) {\r\n        if (node == null) return root.minNode();\r\n        if (node.right != null) return node.right.minNode();\r\n        while (node.parent != null) {\r\n            if (node == node.parent.left) return node.parent;\r\n            node = node.parent;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private TreeNode preOrderSuccessor(TreeNode node) {\r\n        if (node == null) return root;\r\n        if (node.left != null) return node.left;\r\n        if (node.right != null) return node.right;\r\n        while (node.parent != null) {\r\n            if (node == node.parent.left &amp;&amp; node.parent.right != null) {\r\n                return node.parent.right;\r\n            }\r\n            node = node.parent;\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private TreeNode postOrderSuccessor(TreeNode node) {\r\n        if (node == null) return root.minNode();\r\n        if (node.parent == null) return null;\r\n        if (node.parent.right == node || node.parent.right == null) return node.parent;\r\n        node = node.parent.right;\r\n        while (node.left == null &amp;&amp; node.right != null) {\r\n            node = node.right;\r\n        }\r\n        return node.minNode();\r\n    }\r\n    \r\n\r\n    public Comparable getNextItem(int orderType) {\r\n        if (root == null) return null;\r\n        switch (orderType) {\r\n            case INORDER:\r\n                currentNode = inOrderSuccessor(currentNode);\r\n                break;\r\n            case PREORDER:\r\n                currentNode = preOrderSuccessor(currentNode);\r\n                break;\r\n            case POSTORDER:\r\n                currentNode = postOrderSuccessor(currentNode);\r\n                break;\r\n        }\r\n        return currentNode == null ? null : currentNode.data;\r\n    }\r\n    \r\n    public void reset() {\r\n        currentNode = null;\r\n    }\r\n\r\n    void print() {\r\n        print(root, &quot;&quot;);\r\n    }\r\n\r\n    void print(TreeNode node, String tab) {\r\n        if (node == null) return;\r\n        print(node.right, tab + &quot;  &quot;);\r\n        System.out.println(tab + node.data);\r\n        print(node.left, tab + &quot;  &quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Main tree = new BinaryTree();\r\n        tree.insert(8);\r\n        tree.insert(3);\r\n        tree.insert(10);\r\n        tree.insert(9);\r\n        tree.insert(1);\r\n        tree.insert(6);\r\n        tree.insert(7);\r\n        tree.print();\r\n        tree.reset();\r\n        System.out.println(&quot;In-order traversal:&quot;);\r\n        while (true) {\r\n            Comparable data = tree.getNextItem(INORDER);\r\n            if (data == null) break;\r\n            System.out.print(data + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n\r\n        tree.reset();\r\n        System.out.println(&quot;Pre-order traversal:&quot;);\r\n        while (true) {\r\n            Comparable data = tree.getNextItem(PREORDER);\r\n            if (data == null) break;\r\n            System.out.print(data + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n\r\n        tree.reset();\r\n        System.out.println(&quot;Post-order traversal:&quot;);\r\n        while (true) {\r\n            Comparable  data = tree.getNextItem(POSTORDER);\r\n            if (data == null) break;\r\n            System.out.print(data + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"How do I call one function in another function?","body":"<p>I would suggest starting with <code>currentNode = null</code>, so that the very first call of <code>getNextItem</code> will actually return the data of the very <em>first</em> node in the given traversal order.</p>\n<p>I would also have the class manage its <code>root</code> member itself, so that the main program does not have to update it after calling <code>insert</code>.</p>\n<p>The name <code>minValue</code> is not really representative of what it does, as it does not return a node's value, but a node. It could be a method on the <code>TreeNode</code> class.</p>\n<p>Here is how it could look:</p>\n<pre><code>class BinaryTree {\n    public static final int INORDER = 1;\n    public static final int PREORDER = 2;\n    public static final int POSTORDER = 3;\n    TreeNode root, currentNode;\n\n    public class TreeNode {\n        int data;\n        TreeNode left, right, parent;\n\n        public TreeNode(int data) {\n            this.data = data;\n            left = right = parent = null; // There should be no root here.\n        }\n            \n        TreeNode minNode() {\n            return left == null ? this : left.minNode();\n        }\n    }\n\n    public BinaryTree() {\n        root = null;\n    }\n \n    public void insert(int newData) {\n        root = root == null ? new TreeNode(newData) : insert(root, newData);\n    }\n    \n    private TreeNode insert(TreeNode node, int newData) {\n        if (node == null) return new TreeNode(newData);\n        if (newData &lt; node.data) {\n            node.left = insert(node.left, newData);\n            node.left.parent = node;\n        } else if (newData &gt; node.data) { \n            node.right = insert(node.right, newData);\n            node.right.parent = node;\n        }\n        return node;\n    }\n\n    private TreeNode inOrderSuccessor(TreeNode node) {\n        if (node == null) return root.minNode();\n        if (node.right != null) return node.right.minNode();\n        while (node.parent != null) {\n            if (node == node.parent.left) return node.parent;\n            node = node.parent;\n        }\n        return null;\n    }\n    \n    private TreeNode preOrderSuccessor(TreeNode node) {\n        if (node == null) return root;\n        if (node.left != null) return node.left;\n        if (node.right != null) return node.right;\n        while (node.parent != null) {\n            if (node == node.parent.left &amp;&amp; node.parent.right != null) {\n                return node.parent.right;\n            }\n            node = node.parent;\n        }\n        return null;\n    }\n    \n    private TreeNode postOrderSuccessor(TreeNode node) {\n        if (node == null) return root.minNode();\n        if (node.parent == null) return null;\n        if (node.parent.right == node || node.parent.right == null) return node.parent;\n        node = node.parent.right;\n        while (node.left == null &amp;&amp; node.right != null) {\n            node = node.right;\n        }\n        return node.minNode();\n    }\n    \n\n    public Comparable getNextItem(int orderType) {\n        if (root == null) return null;\n        switch (orderType) {\n            case INORDER:\n                currentNode = inOrderSuccessor(currentNode);\n                break;\n            case PREORDER:\n                currentNode = preOrderSuccessor(currentNode);\n                break;\n            case POSTORDER:\n                currentNode = postOrderSuccessor(currentNode);\n                break;\n        }\n        return currentNode == null ? null : currentNode.data;\n    }\n    \n    public void reset() {\n        currentNode = null;\n    }\n\n    void print() {\n        print(root, &quot;&quot;);\n    }\n\n    void print(TreeNode node, String tab) {\n        if (node == null) return;\n        print(node.right, tab + &quot;  &quot;);\n        System.out.println(tab + node.data);\n        print(node.left, tab + &quot;  &quot;);\n    }\n\n    public static void main(String[] args) {\n        Main tree = new BinaryTree();\n        tree.insert(8);\n        tree.insert(3);\n        tree.insert(10);\n        tree.insert(9);\n        tree.insert(1);\n        tree.insert(6);\n        tree.insert(7);\n        tree.print();\n        tree.reset();\n        System.out.println(&quot;In-order traversal:&quot;);\n        while (true) {\n            Comparable data = tree.getNextItem(INORDER);\n            if (data == null) break;\n            System.out.print(data + &quot; &quot;);\n        }\n        System.out.println();\n\n        tree.reset();\n        System.out.println(&quot;Pre-order traversal:&quot;);\n        while (true) {\n            Comparable data = tree.getNextItem(PREORDER);\n            if (data == null) break;\n            System.out.print(data + &quot; &quot;);\n        }\n        System.out.println();\n\n        tree.reset();\n        System.out.println(&quot;Post-order traversal:&quot;);\n        while (true) {\n            Comparable  data = tree.getNextItem(POSTORDER);\n            if (data == null) break;\n            System.out.print(data + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914603,"answer_count":2,"score":0,"last_activity_date":1680498382,"creation_date":1680460099,"question_id":75913896,"body_markdown":"I created functions that are able to get the successor Node in a binary search tree traversing it in all 3 ways, in order, post order, and pre order. My challenge now is try to put them all in a getNextItem method, and call each of those aforementioned functions using the getNextItem method. I know what the skeleton of the getNextItem method should be I just don&#39;t know how to complete it. I also included the insert and main method if anyone wanted to test my functions. Please note I cannot change the parameters in the getNextItem method.\r\n\r\n\r\n\r\n```\r\npublic class BinaryTree {\r\n    public static final int INORDER = 1;\r\n    public static final int PREORDER = 2;\r\n    public static final int POSTORDER = 3;\r\n    TreeNode root;\r\n    TreeNode currentNode;\r\n\r\n    class TreeNode {\r\n        int data;\r\n        TreeNode left, right, parent, root;\r\n\r\n        TreeNode(int data) {\r\n            this.data = data;\r\n            left = right = parent = root = null;\r\n        }\r\n    }\r\n\r\n    TreeNode insert(TreeNode node, int data) {\r\n        if (node == null) {\r\n            return (new TreeNode(data));\r\n        }\r\n        else {\r\n            TreeNode temp = null;\r\n\r\n            if (data &lt;= node.data) {\r\n                temp = insert(node.left, data);\r\n                node.left = temp;\r\n                temp.parent = node;\r\n            }\r\n            else {\r\n                temp = insert(node.right, data);\r\n                node.right = temp;\r\n                temp.parent = node;\r\n            }\r\n\r\n            return node;\r\n        }\r\n    }\r\n\r\n    public Comparable getNextItem(int orderType) {\r\n        switch (orderType) {\r\n            case INORDER:\r\n                break;\r\n            case PREORDER:\r\n                break;\r\n            case POSTORDER:\r\n                break;\r\n        return;\r\n    }\r\n\r\n    TreeNode inOrderSuccessor(TreeNode n) {\r\n        if (n.right != null) {\r\n            return minValue(n.right);\r\n        }\r\n\r\n        TreeNode p = n.parent;\r\n        while (p != null &amp;&amp; n == p.right) {\r\n            n = p;\r\n            p = p.parent;\r\n        }\r\n        return p;\r\n    }\r\n\r\n    TreeNode minValue(TreeNode node) {\r\n        TreeNode current = node;\r\n        while (current.left != null) {\r\n            current = current.left;\r\n        }\r\n        return current;\r\n    }\r\n\r\n    TreeNode preorderSuccessor(TreeNode n) {\r\n        if (n.left != null)\r\n            return n.left;\r\n\r\n        if (n.right != null)\r\n            return n.right;\r\n\r\n        TreeNode curr = n, parent = curr.parent;\r\n        while (parent != null &amp;&amp; parent.right == curr) {\r\n            curr = curr.parent;\r\n            parent = parent.parent;\r\n        }\r\n\r\n        if (parent == null)\r\n            return null;\r\n\r\n        return parent.right;\r\n    }\r\n\r\n    TreeNode postorderSuccessor(TreeNode n) {\r\n        if (n == null)\r\n            return null;\r\n\r\n        TreeNode parent = n.parent;\r\n        if (parent.right == null || parent.right == n)\r\n            return parent;\r\n\r\n        TreeNode curr = parent.right;\r\n        while (curr.left != null)\r\n            curr = curr.left;\r\n\r\n        return curr;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        BinaryTree tree = new BinaryTree();\r\n        TreeNode root = null, temp = null, suc = null, suc2 = null, suc3 = null, min = null;\r\n        root = tree.insert(root, 20);\r\n        root = tree.insert(root, 8);\r\n        root = tree.insert(root, 22);\r\n        root = tree.insert(root, 4);\r\n        root = tree.insert(root, 12);\r\n        root = tree.insert(root, 10);\r\n        root = tree.insert(root, 14);\r\n        temp = root.left.right.right;\r\n        suc = tree.inOrderSuccessor(temp);\r\n        System.out.println(\r\n                &quot;Inorder successor of &quot;\r\n                        + temp.data + &quot; is &quot; + suc.data);\r\n        suc = tree.preorderSuccessor(temp);\r\n        System.out.println(\r\n                &quot;Preorder successor of &quot;\r\n                        + temp.data + &quot; is &quot; + suc.data);\r\n        suc = tree.postorderSuccessor(temp);\r\n        System.out.println(\r\n                &quot;Postorder successor of &quot;\r\n                        + temp.data + &quot; is &quot; + suc.data);\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n```","title":"How do I call one function in another function?","body":"<p>I created functions that are able to get the successor Node in a binary search tree traversing it in all 3 ways, in order, post order, and pre order. My challenge now is try to put them all in a getNextItem method, and call each of those aforementioned functions using the getNextItem method. I know what the skeleton of the getNextItem method should be I just don't know how to complete it. I also included the insert and main method if anyone wanted to test my functions. Please note I cannot change the parameters in the getNextItem method.</p>\n<pre><code>public class BinaryTree {\n    public static final int INORDER = 1;\n    public static final int PREORDER = 2;\n    public static final int POSTORDER = 3;\n    TreeNode root;\n    TreeNode currentNode;\n\n    class TreeNode {\n        int data;\n        TreeNode left, right, parent, root;\n\n        TreeNode(int data) {\n            this.data = data;\n            left = right = parent = root = null;\n        }\n    }\n\n    TreeNode insert(TreeNode node, int data) {\n        if (node == null) {\n            return (new TreeNode(data));\n        }\n        else {\n            TreeNode temp = null;\n\n            if (data &lt;= node.data) {\n                temp = insert(node.left, data);\n                node.left = temp;\n                temp.parent = node;\n            }\n            else {\n                temp = insert(node.right, data);\n                node.right = temp;\n                temp.parent = node;\n            }\n\n            return node;\n        }\n    }\n\n    public Comparable getNextItem(int orderType) {\n        switch (orderType) {\n            case INORDER:\n                break;\n            case PREORDER:\n                break;\n            case POSTORDER:\n                break;\n        return;\n    }\n\n    TreeNode inOrderSuccessor(TreeNode n) {\n        if (n.right != null) {\n            return minValue(n.right);\n        }\n\n        TreeNode p = n.parent;\n        while (p != null &amp;&amp; n == p.right) {\n            n = p;\n            p = p.parent;\n        }\n        return p;\n    }\n\n    TreeNode minValue(TreeNode node) {\n        TreeNode current = node;\n        while (current.left != null) {\n            current = current.left;\n        }\n        return current;\n    }\n\n    TreeNode preorderSuccessor(TreeNode n) {\n        if (n.left != null)\n            return n.left;\n\n        if (n.right != null)\n            return n.right;\n\n        TreeNode curr = n, parent = curr.parent;\n        while (parent != null &amp;&amp; parent.right == curr) {\n            curr = curr.parent;\n            parent = parent.parent;\n        }\n\n        if (parent == null)\n            return null;\n\n        return parent.right;\n    }\n\n    TreeNode postorderSuccessor(TreeNode n) {\n        if (n == null)\n            return null;\n\n        TreeNode parent = n.parent;\n        if (parent.right == null || parent.right == n)\n            return parent;\n\n        TreeNode curr = parent.right;\n        while (curr.left != null)\n            curr = curr.left;\n\n        return curr;\n    }\n\n\n    public static void main(String[] args) {\n        BinaryTree tree = new BinaryTree();\n        TreeNode root = null, temp = null, suc = null, suc2 = null, suc3 = null, min = null;\n        root = tree.insert(root, 20);\n        root = tree.insert(root, 8);\n        root = tree.insert(root, 22);\n        root = tree.insert(root, 4);\n        root = tree.insert(root, 12);\n        root = tree.insert(root, 10);\n        root = tree.insert(root, 14);\n        temp = root.left.right.right;\n        suc = tree.inOrderSuccessor(temp);\n        System.out.println(\n                &quot;Inorder successor of &quot;\n                        + temp.data + &quot; is &quot; + suc.data);\n        suc = tree.preorderSuccessor(temp);\n        System.out.println(\n                &quot;Preorder successor of &quot;\n                        + temp.data + &quot; is &quot; + suc.data);\n        suc = tree.postorderSuccessor(temp);\n        System.out.println(\n                &quot;Postorder successor of &quot;\n                        + temp.data + &quot; is &quot; + suc.data);\n\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","iterator","iteration"],"answers":[{"tags":[],"owner":{"account_id":160574,"reputation":15892,"user_id":380734,"accept_rate":81,"display_name":"Noel M"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1283353535,"creation_date":1283266784,"answer_id":3610271,"question_id":3610261,"body_markdown":"You could create your own implementation of the `Iterator` interface which iterates over the iterators:\r\n\r\n    public class IteratorOfIterators implements Iterator {\r\n        private final List&lt;Iterator&gt; iterators;\r\n    \r\n        public IteratorOfIterators(List&lt;Iterator&gt; iterators) {\r\n            this.iterators = iterators;\r\n        }\r\n\r\n        public IteratorOfIterators(Iterator... iterators) {\r\n            this.iterators = Arrays.asList(iterators);\r\n        }\r\n\r\n    \r\n        public boolean hasNext() { /* implementation */ }\r\n    \r\n        public Object next() { /* implementation */ }\r\n    \r\n        public void remove() { /* implementation */ }\r\n    }\r\n\r\n_(I&#39;ve not added generics to the Iterator for brevity.)_ The implementation is not too hard, but isn&#39;t the most trivial, you need to keep track of which `Iterator` you are currently iterating over, and calling `next()` you&#39;ll need to iterate as far as you can through the iterators until you find a `hasNext()` that returns `true`, or you may hit the end of the last iterator.\r\n\r\n&lt;strike&gt;I&#39;m not aware of any implementation that already exists for this.&lt;/strike&gt;\r\n\r\n*Update:*&lt;br/&gt;\r\nI&#39;ve up-voted [Andrew Duffy&#39;s][1] answer - no need to re-invent the wheel. I really need to look into Guava in more depth.\r\n\r\nI&#39;ve added another constructor for a variable number of arguments - almost getting off topic, as how the class is constructed here isn&#39;t really of interest, just the concept of how it works.\r\n\r\n  [1]: https://stackoverflow.com/questions/3610261/is-it-possible-to-merge-iterators-in-java/3610310#3610310","title":"Is it possible to merge iterators in Java?","body":"<p>You could create your own implementation of the <code>Iterator</code> interface which iterates over the iterators:</p>\n\n<pre><code>public class IteratorOfIterators implements Iterator {\n    private final List&lt;Iterator&gt; iterators;\n\n    public IteratorOfIterators(List&lt;Iterator&gt; iterators) {\n        this.iterators = iterators;\n    }\n\n    public IteratorOfIterators(Iterator... iterators) {\n        this.iterators = Arrays.asList(iterators);\n    }\n\n\n    public boolean hasNext() { /* implementation */ }\n\n    public Object next() { /* implementation */ }\n\n    public void remove() { /* implementation */ }\n}\n</code></pre>\n\n<p><em>(I've not added generics to the Iterator for brevity.)</em> The implementation is not too hard, but isn't the most trivial, you need to keep track of which <code>Iterator</code> you are currently iterating over, and calling <code>next()</code> you'll need to iterate as far as you can through the iterators until you find a <code>hasNext()</code> that returns <code>true</code>, or you may hit the end of the last iterator.</p>\n\n<p><strike>I'm not aware of any implementation that already exists for this.</strike></p>\n\n<p><em>Update:</em><br/>\nI've up-voted <a href=\"https://stackoverflow.com/questions/3610261/is-it-possible-to-merge-iterators-in-java/3610310#3610310\">Andrew Duffy's</a> answer - no need to re-invent the wheel. I really need to look into Guava in more depth.</p>\n\n<p>I've added another constructor for a variable number of arguments - almost getting off topic, as how the class is constructed here isn't really of interest, just the concept of how it works.</p>\n"},{"tags":[],"owner":{"account_id":18638,"reputation":6820,"user_id":42902,"display_name":"Andrew Duffy"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1474039274,"creation_date":1283267032,"answer_id":3610310,"question_id":3610261,"body_markdown":"[Guava][1] (formerly Google Collections) has [Iterators.concat][2].\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable,%20java.lang.Iterable)","title":"Is it possible to merge iterators in Java?","body":"<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> (formerly Google Collections) has <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable,%20java.lang.Iterable)\" rel=\"noreferrer\">Iterators.concat</a>.</p>\n"},{"tags":[],"owner":{"account_id":168371,"reputation":16522,"user_id":393786,"accept_rate":78,"display_name":"mhshams"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574781416,"creation_date":1283267163,"answer_id":3610331,"question_id":3610261,"body_markdown":"move your loop to a method and pass the iterator to method.\r\n\r\n    void methodX(Iterator x) {\r\n        while (x.hasNext()) {\r\n            ....\r\n        }\r\n    }\r\n&lt;!----&gt;","title":"Is it possible to merge iterators in Java?","body":"<p>move your loop to a method and pass the iterator to method.</p>\n\n<pre><code>void methodX(Iterator x) {\n    while (x.hasNext()) {\n        ....\n    }\n}\n</code></pre>\n\n\n"},{"tags":[],"owner":{"account_id":119365,"reputation":1330,"user_id":311017,"accept_rate":100,"display_name":"Youssef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283267595,"creation_date":1283267170,"answer_id":3610332,"question_id":3610261,"body_markdown":"every `Iterator` object holds own memory location (**adress**), so you can&#39;t simply &quot;merge&quot; them. except if you extend `iterator` class and write your own implementation there.\r\n\r\n\r\nIf you are dealing with the **same number of objects** in both iterators an alternative solution  would be to process two iterators in one loop like this :\r\n\r\n      \r\n       while (iterator1.hasNext() &amp;&amp; iterator2.hasNext()) {\r\n          // code\r\n        }\r\n\r\n\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>every <code>Iterator</code> object holds own memory location (<strong>adress</strong>), so you can't simply \"merge\" them. except if you extend <code>iterator</code> class and write your own implementation there.</p>\n\n<p>If you are dealing with the <strong>same number of objects</strong> in both iterators an alternative solution  would be to process two iterators in one loop like this :</p>\n\n<pre><code>   while (iterator1.hasNext() &amp;&amp; iterator2.hasNext()) {\n      // code\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8569,"reputation":12752,"user_id":15514,"accept_rate":95,"display_name":"Christoffer"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1283275680,"creation_date":1283275680,"answer_id":3611579,"question_id":3610261,"body_markdown":"I haven&#39;t written Java code in a while, and this got me curious to whether I&#39;ve still &quot;got it&quot;.\r\n\r\nFirst try:\r\n\r\n    import java.util.Iterator;\r\n    import java.util.Arrays; /* For sample code */\r\n    \r\n    public class IteratorIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n        private final Iterator&lt;T&gt; is[];\r\n        private int current;\r\n\r\n        public IteratorIterator(Iterator&lt;T&gt;... iterators)\r\n        {\r\n                is = iterators;\r\n                current = 0;\r\n        }\r\n\r\n        public boolean hasNext() {\r\n                while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\r\n                        current++;\r\n\r\n                return current &lt; is.length;\r\n        }\r\n\r\n        public T next() {\r\n                while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\r\n                        current++;\r\n\r\n                return is[current].next();\r\n        }\r\n\r\n        public void remove() { /* not implemented */ }\r\n\r\n        /* Sample use */\r\n        public static void main(String... args)\r\n        {\r\n                Iterator&lt;Integer&gt; a = Arrays.asList(1,2,3,4).iterator();\r\n                Iterator&lt;Integer&gt; b = Arrays.asList(10,11,12).iterator();\r\n                Iterator&lt;Integer&gt; c = Arrays.asList(99, 98, 97).iterator();\r\n\r\n                Iterator&lt;Integer&gt; ii = new IteratorIterator&lt;Integer&gt;(a,b,c);\r\n\r\n                while ( ii.hasNext() )\r\n                        System.out.println(ii.next());\r\n        }\r\n    }\r\n\r\nYou *could* of course use more Collection classes rather than a pure array + index counter, but this actually feels a bit cleaner than the alternative. Or am I just biased from writing mostly C these days? \r\n\r\nAnyway, there you go. The answer to you question is &quot;yes, probably&quot;.","title":"Is it possible to merge iterators in Java?","body":"<p>I haven't written Java code in a while, and this got me curious to whether I've still \"got it\".</p>\n\n<p>First try:</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.Arrays; /* For sample code */\n\npublic class IteratorIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n    private final Iterator&lt;T&gt; is[];\n    private int current;\n\n    public IteratorIterator(Iterator&lt;T&gt;... iterators)\n    {\n            is = iterators;\n            current = 0;\n    }\n\n    public boolean hasNext() {\n            while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\n                    current++;\n\n            return current &lt; is.length;\n    }\n\n    public T next() {\n            while ( current &lt; is.length &amp;&amp; !is[current].hasNext() )\n                    current++;\n\n            return is[current].next();\n    }\n\n    public void remove() { /* not implemented */ }\n\n    /* Sample use */\n    public static void main(String... args)\n    {\n            Iterator&lt;Integer&gt; a = Arrays.asList(1,2,3,4).iterator();\n            Iterator&lt;Integer&gt; b = Arrays.asList(10,11,12).iterator();\n            Iterator&lt;Integer&gt; c = Arrays.asList(99, 98, 97).iterator();\n\n            Iterator&lt;Integer&gt; ii = new IteratorIterator&lt;Integer&gt;(a,b,c);\n\n            while ( ii.hasNext() )\n                    System.out.println(ii.next());\n    }\n}\n</code></pre>\n\n<p>You <em>could</em> of course use more Collection classes rather than a pure array + index counter, but this actually feels a bit cleaner than the alternative. Or am I just biased from writing mostly C these days? </p>\n\n<p>Anyway, there you go. The answer to you question is \"yes, probably\".</p>\n"},{"tags":[],"owner":{"account_id":304715,"reputation":50,"user_id":614391,"accept_rate":50,"display_name":"p01ntbl4nk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1283309047,"creation_date":1283309047,"answer_id":3614702,"question_id":3610261,"body_markdown":"an iterator comes FROM a collection or a set.  \r\nwhy not use the method already available  \r\n`Collection.addAll(Collection c);`  \r\nand then create your iterator from the last object.  \r\nthis way, your iterator will iterate all the contents of both collection.","title":"Is it possible to merge iterators in Java?","body":"<p>an iterator comes FROM a collection or a set.<br>\nwhy not use the method already available<br>\n<code>Collection.addAll(Collection c);</code><br>\nand then create your iterator from the last object.<br>\nthis way, your iterator will iterate all the contents of both collection.</p>\n"},{"tags":[],"owner":{"account_id":144764,"reputation":2527,"user_id":354063,"accept_rate":94,"display_name":"Ither"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1396452242,"creation_date":1283309796,"answer_id":3614740,"question_id":3610261,"body_markdown":"Also the [Apache Commons Collection][1] have several classes for manipulating Iterators, like the [IteratorChain][2], that wraps a number of Iterators. \r\n\r\n\r\n  [1]: http://commons.apache.org/collections\r\n  [2]: https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/iterators/IteratorChain.html","title":"Is it possible to merge iterators in Java?","body":"<p>Also the <a href=\"http://commons.apache.org/collections\" rel=\"noreferrer\">Apache Commons Collection</a> have several classes for manipulating Iterators, like the <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/iterators/IteratorChain.html\" rel=\"noreferrer\">IteratorChain</a>, that wraps a number of Iterators. </p>\n"},{"tags":[],"owner":{"account_id":173934,"reputation":5023,"user_id":402963,"accept_rate":100,"display_name":"Billworth Vandory"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286365248,"creation_date":1286365248,"answer_id":3872031,"question_id":3610261,"body_markdown":"I would refactor the original design from:\r\n\r\n    Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\r\n    Iterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\r\n\r\nTo something like:\r\n\r\n    Iterator&lt;User&gt; users = userService.getUsersInGroup(group.getId(), User.PRIMARY, User.SECONDARY, ...);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>I would refactor the original design from:</p>\n\n<pre><code>Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\nIterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\n</code></pre>\n\n<p>To something like:</p>\n\n<pre><code>Iterator&lt;User&gt; users = userService.getUsersInGroup(group.getId(), User.PRIMARY, User.SECONDARY, ...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":915710,"reputation":30634,"user_id":948550,"accept_rate":93,"display_name":"Reut Sharabani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448469637,"creation_date":1448469637,"answer_id":33921910,"question_id":3610261,"body_markdown":"You can use [my version][1] of an extendable iterator. It uses a double-ended queue of iterators which to me makes sense:\r\n\r\n    import java.util.Deque;\r\n    import java.util.Iterator;\r\n    import java.util.concurrent.ConcurrentLinkedDeque;\r\n    \r\n    public class ExtendableIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \t\r\n    \tpublic Deque&lt;Iterator&lt;T&gt;&gt; its = new ConcurrentLinkedDeque&lt;Iterator&lt;T&gt;&gt;();\r\n    \r\n    \tpublic ExtendableIterator() {\r\n    \t\r\n    \t}\r\n    \r\n    \tpublic ExtendableIterator(Iterator&lt;T&gt; it) {\r\n    \t\tthis();\r\n    \t\tthis.extend(it);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\t// this is true since we never hold empty iterators\r\n    \t\treturn !its.isEmpty() &amp;&amp; its.peekLast().hasNext();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic T next() {\r\n    \t\tT next = its.peekFirst().next();\r\n    \t\tif (!its.peekFirst().hasNext()) {\r\n    \t\t\tits.removeFirst();\r\n    \t\t}\r\n    \t\treturn next;\r\n    \t}\r\n    \t\r\n    \tpublic void extend(Iterator&lt;T&gt; it) {\r\n    \t\tif (it.hasNext()) {\r\n    \t\t\tits.addLast(it);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://gist.github.com/reutsharabani/03a457b401b81e448ce2","title":"Is it possible to merge iterators in Java?","body":"<p>You can use <a href=\"https://gist.github.com/reutsharabani/03a457b401b81e448ce2\" rel=\"nofollow\">my version</a> of an extendable iterator. It uses a double-ended queue of iterators which to me makes sense:</p>\n\n<pre><code>import java.util.Deque;\nimport java.util.Iterator;\nimport java.util.concurrent.ConcurrentLinkedDeque;\n\npublic class ExtendableIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    public Deque&lt;Iterator&lt;T&gt;&gt; its = new ConcurrentLinkedDeque&lt;Iterator&lt;T&gt;&gt;();\n\n    public ExtendableIterator() {\n\n    }\n\n    public ExtendableIterator(Iterator&lt;T&gt; it) {\n        this();\n        this.extend(it);\n    }\n\n    @Override\n    public boolean hasNext() {\n        // this is true since we never hold empty iterators\n        return !its.isEmpty() &amp;&amp; its.peekLast().hasNext();\n    }\n\n    @Override\n    public T next() {\n        T next = its.peekFirst().next();\n        if (!its.peekFirst().hasNext()) {\n            its.removeFirst();\n        }\n        return next;\n    }\n\n    public void extend(Iterator&lt;T&gt; it) {\n        if (it.hasNext()) {\n            its.addLast(it);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483628336,"creation_date":1483628336,"answer_id":41488126,"question_id":3610261,"body_markdown":"The Merged Iterator:\r\n\r\n    import static java.util.Arrays.asList;\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.NoSuchElementException;\r\n    \r\n    \r\n    public class ConcatIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \r\n        private final List&lt;Iterable&lt;T&gt;&gt; iterables;\r\n        private Iterator&lt;T&gt; current;\r\n    \r\n        @SafeVarargs\r\n        public ConcatIterator(final Iterable&lt;T&gt;... iterables) {\r\n            this.iterables = new LinkedList&lt;&gt;(asList(iterables));\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasNext() {\r\n            checkNext();\r\n            return current != null &amp;&amp; current.hasNext();\r\n        }\r\n    \r\n        @Override\r\n        public T next() {\r\n            checkNext();\r\n            if (current == null || !current.hasNext()) throw new NoSuchElementException();\r\n            return current.next();\r\n        }\r\n    \r\n        @Override\r\n        public void remove() {\r\n            if (current == null) throw new IllegalStateException();\r\n            current.remove();\r\n        }\r\n    \r\n        private void checkNext() {\r\n            while ((current == null || !current.hasNext()) &amp;&amp; !iterables.isEmpty()) {\r\n                current = iterables.remove(0).iterator();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThe `concat` method to create an `Iterable`:\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Iterable&lt;T&gt; concat(final Iterable&lt;T&gt;... iterables) {\r\n        return () -&gt; new ConcatIterator&lt;&gt;(iterables);\r\n    }\r\n\r\nSimple JUnit test:\r\n\r\n    @Test\r\n    public void testConcat() throws Exception {\r\n        final Iterable&lt;Integer&gt; it1 = asList(1, 2, 3);\r\n        final Iterable&lt;Integer&gt; it2 = asList(4, 5);\r\n        int j = 1;\r\n        for (final int i : concat(it1, it2)) {\r\n            assertEquals(j, i);\r\n            j++;\r\n        }\r\n    }\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>The Merged Iterator:</p>\n\n<pre><code>import static java.util.Arrays.asList;\n\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.NoSuchElementException;\n\n\npublic class ConcatIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    private final List&lt;Iterable&lt;T&gt;&gt; iterables;\n    private Iterator&lt;T&gt; current;\n\n    @SafeVarargs\n    public ConcatIterator(final Iterable&lt;T&gt;... iterables) {\n        this.iterables = new LinkedList&lt;&gt;(asList(iterables));\n    }\n\n    @Override\n    public boolean hasNext() {\n        checkNext();\n        return current != null &amp;&amp; current.hasNext();\n    }\n\n    @Override\n    public T next() {\n        checkNext();\n        if (current == null || !current.hasNext()) throw new NoSuchElementException();\n        return current.next();\n    }\n\n    @Override\n    public void remove() {\n        if (current == null) throw new IllegalStateException();\n        current.remove();\n    }\n\n    private void checkNext() {\n        while ((current == null || !current.hasNext()) &amp;&amp; !iterables.isEmpty()) {\n            current = iterables.remove(0).iterator();\n        }\n    }\n\n}\n</code></pre>\n\n<p>The <code>concat</code> method to create an <code>Iterable</code>:</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; Iterable&lt;T&gt; concat(final Iterable&lt;T&gt;... iterables) {\n    return () -&gt; new ConcatIterator&lt;&gt;(iterables);\n}\n</code></pre>\n\n<p>Simple JUnit test:</p>\n\n<pre><code>@Test\npublic void testConcat() throws Exception {\n    final Iterable&lt;Integer&gt; it1 = asList(1, 2, 3);\n    final Iterable&lt;Integer&gt; it2 = asList(4, 5);\n    int j = 1;\n    for (final int i : concat(it1, it2)) {\n        assertEquals(j, i);\n        j++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499677703,"creation_date":1497862964,"answer_id":44626289,"question_id":3610261,"body_markdown":"You can try [`ConcatIterator`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterator.html) from [Cactoos](http://www.cactoos.org):\r\n\r\n    Iterator&lt;String&gt; names = new ConcatIterator&lt;&gt;(\r\n      Arrays.asList(&quot;Sarah&quot;, &quot;Mary&quot;).iterator(),\r\n      Arrays.asList(&quot;Jeff&quot;, &quot;Johnny&quot;).iterator(),\r\n    );\r\n\r\nAlso check [`ConcatIterable`](http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterable.html), which concatenates `Iterable`s.","title":"Is it possible to merge iterators in Java?","body":"<p>You can try <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterator.html\" rel=\"nofollow noreferrer\"><code>ConcatIterator</code></a> from <a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a>:</p>\n\n<pre><code>Iterator&lt;String&gt; names = new ConcatIterator&lt;&gt;(\n  Arrays.asList(\"Sarah\", \"Mary\").iterator(),\n  Arrays.asList(\"Jeff\", \"Johnny\").iterator(),\n);\n</code></pre>\n\n<p>Also check <a href=\"http://static.javadoc.io/org.cactoos/cactoos/0.10/org/cactoos/list/ConcatIterable.html\" rel=\"nofollow noreferrer\"><code>ConcatIterable</code></a>, which concatenates <code>Iterable</code>s.</p>\n"},{"tags":[],"owner":{"account_id":13055416,"reputation":81,"user_id":9434443,"display_name":"clelson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1545153797,"creation_date":1520000138,"answer_id":49070952,"question_id":3610261,"body_markdown":"    public class IteratorJoin&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \tprivate final Iterator&lt;T&gt; first, next;\r\n    \t\r\n    \tpublic IteratorJoin(Iterator&lt;T&gt; first, Iterator&lt;T&gt; next) {\r\n    \t\tthis.first = first;\r\n    \t\tthis.next = next;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean hasNext() {\r\n    \t\treturn first.hasNext() || next.hasNext();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T next() {\r\n    \t\tif (first.hasNext())\r\n    \t\t\treturn first.next();\r\n    \t\treturn next.next();\r\n    \t}\r\n    }\r\n","title":"Is it possible to merge iterators in Java?","body":"<pre><code>public class IteratorJoin&lt;T&gt; implements Iterator&lt;T&gt; {\n    private final Iterator&lt;T&gt; first, next;\n\n    public IteratorJoin(Iterator&lt;T&gt; first, Iterator&lt;T&gt; next) {\n        this.first = first;\n        this.next = next;\n    }\n\n    @Override\n    public boolean hasNext() {\n        return first.hasNext() || next.hasNext();\n    }\n\n    @Override\n    public T next() {\n        if (first.hasNext())\n            return first.next();\n        return next.next();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553111316,"creation_date":1553110581,"answer_id":55268906,"question_id":3610261,"body_markdown":"In the [Apache Commons Collections](https://commons.apache.org/proper/commons-collections/) there is [`public static &lt;E&gt; Iterator&lt;E&gt; org.apache.commons.collections4.IteratorUtils.chainedIterator(Collection&lt;Iterator&lt;? extends E&gt;&gt; iterators)`](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/IteratorUtils.html#chainedIterator-java.util.Collection-) that says\r\n\r\n&gt;Gets an iterator that iterates through a collections of Iterators one after another.\r\n\r\nwhich should be what you want.\r\n\r\n\timport java.util.Arrays;\r\n\timport java.util.Iterator;\r\n\t\r\n\timport org.apache.commons.collections4.IteratorUtils;\r\n    //also works: import org.apache.commons.collections.IteratorUtils;\r\n\t\r\n\tclass Scratch {\r\n\t\tpublic static void main( String[] args ) {\r\n\t\t\tfinal Iterator&lt;String&gt; combinedIterator = IteratorUtils.chainedIterator(\r\n\t\t\t\t\tArrays.asList( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; ).iterator(),\r\n\t\t\t\t\tArrays.asList( &quot;1&quot;, &quot;2&quot;, &quot;3&quot; ).iterator()\r\n\t\t\t\t);\r\n\t\t\twhile( combinedIterator.hasNext() ){\r\n\t\t\t\tSystem.out.println( combinedIterator.next() );\r\n\t\t\t}\r\n            // &quot;abc123&quot; will have been printed out\r\n\t\t}\r\n\t}\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>In the <a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\">Apache Commons Collections</a> there is <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/IteratorUtils.html#chainedIterator-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>public static &lt;E&gt; Iterator&lt;E&gt; org.apache.commons.collections4.IteratorUtils.chainedIterator(Collection&lt;Iterator&lt;? extends E&gt;&gt; iterators)</code></a> that says</p>\n\n<blockquote>\n  <p>Gets an iterator that iterates through a collections of Iterators one after another.</p>\n</blockquote>\n\n<p>which should be what you want.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Iterator;\n\nimport org.apache.commons.collections4.IteratorUtils;\n//also works: import org.apache.commons.collections.IteratorUtils;\n\nclass Scratch {\n    public static void main( String[] args ) {\n        final Iterator&lt;String&gt; combinedIterator = IteratorUtils.chainedIterator(\n                Arrays.asList( \"a\", \"b\", \"c\" ).iterator(),\n                Arrays.asList( \"1\", \"2\", \"3\" ).iterator()\n            );\n        while( combinedIterator.hasNext() ){\n            System.out.println( combinedIterator.next() );\n        }\n        // \"abc123\" will have been printed out\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36538,"reputation":8134,"user_id":104261,"display_name":"Taras Alenin"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1680496519,"creation_date":1566001118,"answer_id":57532382,"question_id":3610261,"body_markdown":"Starting with Java 8 and later this can be done without external dependencies using [Stream API][1]. This also allows concatenation of iterator with other types of streams.\r\n\r\n```java\r\nStreams.concat(\r\n   StreamSupport.stream(&lt;iter1&gt;, false), \r\n   StreamSupport.stream(&lt;iter2&gt;, false));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-","title":"Is it possible to merge iterators in Java?","body":"<p>Starting with Java 8 and later this can be done without external dependencies using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-\" rel=\"nofollow noreferrer\">Stream API</a>. This also allows concatenation of iterator with other types of streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Streams.concat(\n   StreamSupport.stream(&lt;iter1&gt;, false), \n   StreamSupport.stream(&lt;iter2&gt;, false));\n</code></pre>\n"}],"owner":{"account_id":42318,"reputation":1948,"user_id":123250,"accept_rate":38,"display_name":"Jahanzeb Farooq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43863,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":14,"score":54,"last_activity_date":1680496519,"creation_date":1283266724,"question_id":3610261,"body_markdown":"Is it possible to merge iterators in Java? I have two iterators and I want to combine/merge them so that I could iterate though their elements in one go (in same loop) rather than two steps. Is that possible? \r\n\r\nNote that the number of elements in the two lists can be different therefore one loop over both lists is not the solution. \r\n\r\n    Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\r\n    Iterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\r\n    \r\n    while(pUsers.hasNext()) {\r\n      User user = pUsers.next();\r\n      .....\r\n    }\r\n\r\n    while(sUsers.hasNext()) {\r\n      User user = sUsers.next();\r\n      .....\r\n    }\r\n\r\n","title":"Is it possible to merge iterators in Java?","body":"<p>Is it possible to merge iterators in Java? I have two iterators and I want to combine/merge them so that I could iterate though their elements in one go (in same loop) rather than two steps. Is that possible? </p>\n\n<p>Note that the number of elements in the two lists can be different therefore one loop over both lists is not the solution. </p>\n\n<pre><code>Iterator&lt;User&gt; pUsers = userService.getPrimaryUsersInGroup(group.getId());\nIterator&lt;User&gt; sUsers = userService.getSecondaryUsersInGroup(group.getId());\n\nwhile(pUsers.hasNext()) {\n  User user = pUsers.next();\n  .....\n}\n\nwhile(sUsers.hasNext()) {\n  User user = sUsers.next();\n  .....\n}\n</code></pre>\n"},{"tags":["java","compiler-construction","antlr4","lexer"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680495825,"creation_date":1680495825,"answer_id":75916027,"question_id":75915913,"body_markdown":"It&#39;s not trying to exclude something like:\r\n\r\n```java\r\nchar x = `\\r`;\r\n```\r\n\r\nIt&#39;s trying to exclude:\r\n\r\n```java\r\nchar x = &#39;\r\n&#39;;\r\n```\r\n\r\nThat last one is illegal java. A `&#39;` (opening a char literal) can be followed by either an EscapeSequence, or a character, but by exception, not a newline character. (as in, literally pressing enter in your editor, not `\\n` which isn&#39;t a newline, it&#39;s an escape sequence that represents a new line).\r\n\r\nIn other words, after the single quote, any character is fine, EXCEPT backslash which needs to be excluded, as `EscapeSequence` handles this, and EXCEPT the literal unicode values `0D`/`0A` (CR and LF, in antlrspeak, `\\r` and `\\n`).\r\n\r\nIt gets a little confusing perhaps - just make sure you very very carefully count the backslashes:\r\n\r\n```\r\n[&#39;\\\\\\r\\n]\r\n```\r\n\r\nThat is excluding 4 unicode values, and only 4:\r\n\r\n* a single quote. `char x = &#39;&#39;;` is not legal java.\r\n* a backslash. Because the ANTLR grammar needs to hop on over to the `EscapeSequence` part to parse that. `char x = &#39;\\&#39;;` is not legal.\r\n* a newline, either one (CR or LF) - because you can&#39;t actually start a new line in the middle of your char literal.\r\n\r\nIn contrast, the escape sequences aren&#39;t looking for `\\n`, they are looking for a backslash symbol and then the actual letter &#39;n&#39;.\r\n","title":"How to understand the CHAR_LITERAL rule in java antlr4 lexer file","body":"<p>It's not trying to exclude something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char x = `\\r`;\n</code></pre>\n<p>It's trying to exclude:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char x = '\n';\n</code></pre>\n<p>That last one is illegal java. A <code>'</code> (opening a char literal) can be followed by either an EscapeSequence, or a character, but by exception, not a newline character. (as in, literally pressing enter in your editor, not <code>\\n</code> which isn't a newline, it's an escape sequence that represents a new line).</p>\n<p>In other words, after the single quote, any character is fine, EXCEPT backslash which needs to be excluded, as <code>EscapeSequence</code> handles this, and EXCEPT the literal unicode values <code>0D</code>/<code>0A</code> (CR and LF, in antlrspeak, <code>\\r</code> and <code>\\n</code>).</p>\n<p>It gets a little confusing perhaps - just make sure you very very carefully count the backslashes:</p>\n<pre><code>['\\\\\\r\\n]\n</code></pre>\n<p>That is excluding 4 unicode values, and only 4:</p>\n<ul>\n<li>a single quote. <code>char x = '';</code> is not legal java.</li>\n<li>a backslash. Because the ANTLR grammar needs to hop on over to the <code>EscapeSequence</code> part to parse that. <code>char x = '\\';</code> is not legal.</li>\n<li>a newline, either one (CR or LF) - because you can't actually start a new line in the middle of your char literal.</li>\n</ul>\n<p>In contrast, the escape sequences aren't looking for <code>\\n</code>, they are looking for a backslash symbol and then the actual letter 'n'.</p>\n"}],"owner":{"account_id":10907252,"reputation":319,"user_id":8017619,"display_name":"pain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75916027,"answer_count":1,"score":0,"last_activity_date":1680495825,"creation_date":1680493867,"question_id":75915913,"body_markdown":"[java antlr4 lexer file](https://github.com/antlr/grammars-v4/blob/master/java/java/JavaLexer.g4)\r\n\r\n```g4\r\nCHAR_LITERAL:       &#39;\\&#39;&#39; (~[&#39;\\\\\\r\\n] | EscapeSequence) &#39;\\&#39;&#39;;\r\n\r\nfragment EscapeSequence\r\n    : &#39;\\\\&#39; &#39;u005c&#39;? [btnfr&quot;&#39;\\\\]\r\n    | &#39;\\\\&#39; &#39;u005c&#39;? ([0-3]? [0-7])? [0-7]\r\n    | &#39;\\\\&#39; &#39;u&#39;+ HexDigit HexDigit HexDigit HexDigit\r\n    ;\r\n```\r\n\r\nWhy &#39;\\r&#39;, &#39;\\n&#39;, &#39;&#39;&#39;, &#39;\\&#39; is excluded in first part，and &#39;\\b&#39;, &#39;\\t&#39;, &#39;\\f&#39;, &#39;&quot;&#39; not excluded in first part?\r\n\r\nIf I change the rule to this, is it equivalent to the previous rule\r\n\r\n```g4\r\nCHAR_LITERAL:       &#39;\\&#39;&#39; (~[&#39;\\\\\\r\\n\\b\\f\\t\\&quot;] | EscapeSequence) &#39;\\&#39;&#39;;\r\n```\r\n\r\nOr change it to this\r\n\r\n```g4\r\nCHAR_LITERAL:       &#39;\\&#39;&#39; (~[&#39;\\\\] | EscapeSequence) &#39;\\&#39;&#39;;\r\n```","title":"How to understand the CHAR_LITERAL rule in java antlr4 lexer file","body":"<p><a href=\"https://github.com/antlr/grammars-v4/blob/master/java/java/JavaLexer.g4\" rel=\"nofollow noreferrer\">java antlr4 lexer file</a></p>\n<pre><code>CHAR_LITERAL:       '\\'' (~['\\\\\\r\\n] | EscapeSequence) '\\'';\n\nfragment EscapeSequence\n    : '\\\\' 'u005c'? [btnfr&quot;'\\\\]\n    | '\\\\' 'u005c'? ([0-3]? [0-7])? [0-7]\n    | '\\\\' 'u'+ HexDigit HexDigit HexDigit HexDigit\n    ;\n</code></pre>\n<p>Why '\\r', '\\n', ''', '' is excluded in first part，and '\\b', '\\t', '\\f', '&quot;' not excluded in first part?</p>\n<p>If I change the rule to this, is it equivalent to the previous rule</p>\n<pre><code>CHAR_LITERAL:       '\\'' (~['\\\\\\r\\n\\b\\f\\t\\&quot;] | EscapeSequence) '\\'';\n</code></pre>\n<p>Or change it to this</p>\n<pre><code>CHAR_LITERAL:       '\\'' (~['\\\\] | EscapeSequence) '\\'';\n</code></pre>\n"},{"tags":["java","sonarqube","sonarqube-scan"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1606746828,"creation_date":1606746828,"answer_id":65075512,"question_id":65075408,"body_markdown":"You first test if `getBody()` returns `null`.\r\n\r\nSonarQube sees that and thinks the method can return null.\r\n\r\nThen, you call the same method again. SonarQube just knows that the method can return null so it tells you the warning.\r\n\r\nIn other words, SonarQube thinks that it could return something different than `null` the first time but return `null` the second time.\r\n\r\nIf the method is just a simple getter and the object is not modified concurrently, this is no problem.\r\n\r\nIn order to remove the warning, you can do one of the following:\r\n\r\n* Save the result of `getBody()` to a variable, check if it is null and continue if it is not\r\n* Add a `//NOSONAR` comment telling SonarQube that you know what you are doing.\r\n\r\nNote that you might want to explain why this is ok in the comment, if you decide for the second case.","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>You first test if <code>getBody()</code> returns <code>null</code>.</p>\n<p>SonarQube sees that and thinks the method can return null.</p>\n<p>Then, you call the same method again. SonarQube just knows that the method can return null so it tells you the warning.</p>\n<p>In other words, SonarQube thinks that it could return something different than <code>null</code> the first time but return <code>null</code> the second time.</p>\n<p>If the method is just a simple getter and the object is not modified concurrently, this is no problem.</p>\n<p>In order to remove the warning, you can do one of the following:</p>\n<ul>\n<li>Save the result of <code>getBody()</code> to a variable, check if it is null and continue if it is not</li>\n<li>Add a <code>//NOSONAR</code> comment telling SonarQube that you know what you are doing.</li>\n</ul>\n<p>Note that you might want to explain why this is ok in the comment, if you decide for the second case.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606748791,"creation_date":1606748791,"answer_id":65076044,"question_id":65075408,"body_markdown":"It could theoretically be the case that a repeated call of `getBody()` might return an other value. The following utilizes `hasBody()` and calls `getBody()` only once.\r\n\r\n    if (holdingResponseEntity == null\r\n            || !holdingResponseEntity.hasBody()) {\r\n        throw new HoldingNotFoundException(&quot;Holding with id=&quot; + idHolding + &quot; not found.&quot;);\r\n    }\r\n    T body = holdingResponseEntity.getBody(); // Change T appropriately.\r\n    if (body.getError() || body.getResult() == null) {\r\n        throw new HoldingNotFoundException(&quot;Holding with id=&quot; + idHolding + &quot; not found.&quot;);\r\n    }\r\n\r\nNormally you should check the source code of the library `getBody`. My guess: it is not a simple getter, but construes the body once. Because there is a `hasBody`.\r\n\r\nSuch things make code checkers valuable.","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>It could theoretically be the case that a repeated call of <code>getBody()</code> might return an other value. The following utilizes <code>hasBody()</code> and calls <code>getBody()</code> only once.</p>\n<pre><code>if (holdingResponseEntity == null\n        || !holdingResponseEntity.hasBody()) {\n    throw new HoldingNotFoundException(&quot;Holding with id=&quot; + idHolding + &quot; not found.&quot;);\n}\nT body = holdingResponseEntity.getBody(); // Change T appropriately.\nif (body.getError() || body.getResult() == null) {\n    throw new HoldingNotFoundException(&quot;Holding with id=&quot; + idHolding + &quot; not found.&quot;);\n}\n</code></pre>\n<p>Normally you should check the source code of the library <code>getBody</code>. My guess: it is not a simple getter, but construes the body once. Because there is a <code>hasBody</code>.</p>\n<p>Such things make code checkers valuable.</p>\n"},{"tags":[],"owner":{"account_id":12572002,"reputation":632,"user_id":9145797,"display_name":"Ajeet Maurya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606751079,"creation_date":1606751079,"answer_id":65076655,"question_id":65075408,"body_markdown":"However there are other ways to solve this as well, as answered above but if I want to solve it the way you have written the code with minimum changes and avoid warning from Sonar, this would be as below - \r\n\r\nUsing &amp;&amp; operator will make sure once the condition fails , it would not check for subsequent condition , and that solves the issue . \r\n\r\n    if(holdingResponseEntity != null &amp;&amp;\r\n                    holdingResponseEntity.getBody() != null &amp;&amp;\r\n                    holdingResponseEntity.getBody().getError() != null &amp;&amp;\r\n                    holdingResponseEntity.getBody().getResult() != null){\r\n               //Everything is good if it comes here\r\n    \r\n            }else{\r\n                System.out.println(&quot;Going to throw ***** &quot;);\r\n                throw new HoldingNotFoundException(&quot;Holding whit id=&quot; + idHolding + &quot; not found-&quot;);\r\n            }","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>However there are other ways to solve this as well, as answered above but if I want to solve it the way you have written the code with minimum changes and avoid warning from Sonar, this would be as below -</p>\n<p>Using &amp;&amp; operator will make sure once the condition fails , it would not check for subsequent condition , and that solves the issue .</p>\n<pre><code>if(holdingResponseEntity != null &amp;&amp;\n                holdingResponseEntity.getBody() != null &amp;&amp;\n                holdingResponseEntity.getBody().getError() != null &amp;&amp;\n                holdingResponseEntity.getBody().getResult() != null){\n           //Everything is good if it comes here\n\n        }else{\n            System.out.println(&quot;Going to throw ***** &quot;);\n            throw new HoldingNotFoundException(&quot;Holding whit id=&quot; + idHolding + &quot; not found-&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28199243,"reputation":1,"user_id":21553321,"display_name":"Sukesh Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680495301,"creation_date":1680495209,"answer_id":75915996,"question_id":65075408,"body_markdown":"There is multiple way to solve this but in some of the scenario sonar will fail to check the condition so better you can use Optional to check null and sonar issue will be resolved \r\nFor Example: \r\n\r\n&gt; Optional.ofNullable(responseEntity.getBody()).isEmpty()","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>There is multiple way to solve this but in some of the scenario sonar will fail to check the condition so better you can use Optional to check null and sonar issue will be resolved\nFor Example:</p>\n<blockquote>\n<p>Optional.ofNullable(responseEntity.getBody()).isEmpty()</p>\n</blockquote>\n"}],"owner":{"account_id":2599570,"reputation":51,"user_id":2252369,"display_name":"Gino Sarnieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27301,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1680495301,"creation_date":1606746384,"question_id":65075408,"body_markdown":"SonarQube reports this bug to me: `A &quot;NullPointerException&quot; could be thrown; &quot;getBody()&quot; can return null.`\r\n\r\nThis is the code:\r\n\r\n    if (holdingResponseEntity == null || holdingResponseEntity.getBody() == null || holdingResponseEntity.getBody().getError() || holdingResponseEntity.getBody().getResult() == null) { throw new HoldingNotFoundException(&quot;Holding whit id=&quot; + idHolding + &quot; not found-&quot;); }\r\n","title":"SonarQube - A &quot;NullPointerException&quot; could be thrown;","body":"<p>SonarQube reports this bug to me: <code>A &quot;NullPointerException&quot; could be thrown; &quot;getBody()&quot; can return null.</code></p>\n<p>This is the code:</p>\n<pre><code>if (holdingResponseEntity == null || holdingResponseEntity.getBody() == null || holdingResponseEntity.getBody().getError() || holdingResponseEntity.getBody().getResult() == null) { throw new HoldingNotFoundException(&quot;Holding whit id=&quot; + idHolding + &quot; not found-&quot;); }\n</code></pre>\n"},{"tags":["java","maven","configuration","classpath","velocity"],"comments":[{"owner":{"account_id":1558198,"reputation":3820,"user_id":1448704,"accept_rate":72,"display_name":"seba.wagner"},"score":0,"creation_date":1350307879,"post_id":12861672,"comment_id":17466911,"body_markdown":"I think you should tag this issue with &quot;Maven&quot; or &quot;Classpath issue&quot;. I don&#39;t think it has something todo with Valocity itself. We have almost the same dependencies.","body":"I think you should tag this issue with &quot;Maven&quot; or &quot;Classpath issue&quot;. I don&#39;t think it has something todo with Valocity itself. We have almost the same dependencies."},{"owner":{"account_id":1558198,"reputation":3820,"user_id":1448704,"accept_rate":72,"display_name":"seba.wagner"},"score":0,"creation_date":1350307898,"post_id":12861672,"comment_id":17466920,"body_markdown":"btw: we did not do any extra coding to &quot;enable&quot; velocity tools.","body":"btw: we did not do any extra coding to &quot;enable&quot; velocity tools."},{"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"score":0,"creation_date":1350309439,"post_id":12861672,"comment_id":17467732,"body_markdown":"I&#39;ll give it a try without any special configuration and see how it goes.","body":"I&#39;ll give it a try without any special configuration and see how it goes."}],"answers":[{"tags":[],"owner":{"account_id":3816200,"reputation":1,"user_id":3165515,"display_name":"andrden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389014056,"creation_date":1389014056,"answer_id":20950827,"question_id":12861672,"body_markdown":"try\r\n\r\n     new ToolManager(false,false) ","title":"Velocity EscapeTool from Java","body":"<p>try</p>\n\n<pre><code> new ToolManager(false,false) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3428611,"reputation":11,"user_id":2873690,"display_name":"nickwu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402068520,"creation_date":1402068520,"answer_id":24085528,"question_id":12861672,"body_markdown":"    XmlFactoryConfiguration factoryConfiguration = new XmlFactoryConfiguration(&quot;Default Tools&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tfactoryConfiguration.read(new FileInputStream(new File(Thread.currentThread().getContextClassLoader().getResource(&quot;/&quot;).getFile(), TOOL_BOX_CONF_FILE)));\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tToolboxFactory factory = factoryConfiguration.createFactory();\r\n\t\t\tfactory.configure(factoryConfiguration);\r\n\t\t\ttoolContext = new ToolContext();\r\n\t\t\tfor (String scope : Scope.values()) {\r\n\t\t\t\ttoolContext.addToolbox(factory.createToolbox(scope));\r\n\t\t\t}","title":"Velocity EscapeTool from Java","body":"<pre><code>XmlFactoryConfiguration factoryConfiguration = new XmlFactoryConfiguration(\"Default Tools\");\n        try {\n            factoryConfiguration.read(new FileInputStream(new File(Thread.currentThread().getContextClassLoader().getResource(\"/\").getFile(), TOOL_BOX_CONF_FILE)));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        ToolboxFactory factory = factoryConfiguration.createFactory();\n        factory.configure(factoryConfiguration);\n        toolContext = new ToolContext();\n        for (String scope : Scope.values()) {\n            toolContext.addToolbox(factory.createToolbox(scope));\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247334,"reputation":669,"user_id":521990,"accept_rate":80,"display_name":"user521990"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680494854,"creation_date":1680494854,"answer_id":75915972,"question_id":12861672,"body_markdown":"I am using Velocity in Spring boot and was trying to figure out the above. I didn&#39;t try the approach above since I didn&#39;t need every tool, but just wanted to share you could add one specific tool from the Velocity tools.\r\n\r\nMy velocity engine configuration\r\n```\r\n@Configuration\r\npublic class VelocityConfiguration {\r\n    \r\n    @Bean\r\n    public VelocityEngine velocityEngine() throws IOException{\r\n        VelocityEngineFactoryBean bean = new VelocityEngineFactoryBean();\r\n        Properties velocityProperties = new Properties();\r\n        velocityProperties.setProperty(&quot;runtime.log.invalid.references&quot;, &quot;true&quot;);\r\n        velocityProperties.setProperty(&quot;input.encoding&quot;, &quot;UTF-8&quot;);\r\n        velocityProperties.setProperty(&quot;runtime.log.invalid.references&quot;, &quot;true&quot;);\r\n        \r\n        //for CLASS = template must be in /resources ONLY (under the &lt;default package&gt;\r\n        velocityProperties.setProperty(&quot;resource.loader&quot;, &quot;class&quot;);\r\n        velocityProperties.setProperty(&quot;class.resource.loader.description&quot;, &quot;Velocity Classpath Resource Loader&quot;);\r\n        velocityProperties.setProperty(&quot;class.resource.loader.class&quot;, &quot;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&quot;);\r\n        \r\n        //enable inclusion of relative templates\r\n        velocityProperties.setProperty(&quot;eventhandler.include.class&quot;, &quot;org.apache.velocity.app.event.implement.IncludeRelativePath&quot;);\r\n        \r\n        bean.setVelocityProperties(velocityProperties);\r\n                        \r\n        return bean.createVelocityEngine();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI just needed the date tool, so I just added the class that&#39;s in the XML file\r\nvelocityContext.put(&quot;date&quot;, new ComparisonDateTool());\r\n\r\n```\r\n@Component\r\npublic class VelocityTemplateWriter {\r\n\r\n    private final VelocityEngine velocityEngine;\r\n\r\n    @Value(&quot;${vm.template.path}&quot;)\r\n    private String apacheVMTemplatePath;\r\n\r\n    @Autowired\r\n    public VelocityTemplateWriter(@Qualifier(&quot;velocityEngine&quot;) VelocityEngine velocityEngine) {\r\n        this.velocityEngine = velocityEngine;\r\n    }\r\n\r\n    public String write(Map&lt;String, Object&gt; data){\r\n        VelocityContext velocityContext = new VelocityContext();\r\n        velocityContext.put(&quot;output&quot;, data);\r\n        velocityContext.put(&quot;date&quot;, new ComparisonDateTool());\r\n\r\n        StringWriter stringWriter = new StringWriter();\r\n        velocityEngine.mergeTemplate(apacheVMTemplatePath + &quot;ParentResponse.vm&quot;, &quot;UTF-8&quot;, velocityContext, stringWriter);\r\n\r\n        String output = stringWriter.toString();\r\n\r\n        return output;\r\n    }\r\n```","title":"Velocity EscapeTool from Java","body":"<p>I am using Velocity in Spring boot and was trying to figure out the above. I didn't try the approach above since I didn't need every tool, but just wanted to share you could add one specific tool from the Velocity tools.</p>\n<p>My velocity engine configuration</p>\n<pre><code>@Configuration\npublic class VelocityConfiguration {\n    \n    @Bean\n    public VelocityEngine velocityEngine() throws IOException{\n        VelocityEngineFactoryBean bean = new VelocityEngineFactoryBean();\n        Properties velocityProperties = new Properties();\n        velocityProperties.setProperty(&quot;runtime.log.invalid.references&quot;, &quot;true&quot;);\n        velocityProperties.setProperty(&quot;input.encoding&quot;, &quot;UTF-8&quot;);\n        velocityProperties.setProperty(&quot;runtime.log.invalid.references&quot;, &quot;true&quot;);\n        \n        //for CLASS = template must be in /resources ONLY (under the &lt;default package&gt;\n        velocityProperties.setProperty(&quot;resource.loader&quot;, &quot;class&quot;);\n        velocityProperties.setProperty(&quot;class.resource.loader.description&quot;, &quot;Velocity Classpath Resource Loader&quot;);\n        velocityProperties.setProperty(&quot;class.resource.loader.class&quot;, &quot;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&quot;);\n        \n        //enable inclusion of relative templates\n        velocityProperties.setProperty(&quot;eventhandler.include.class&quot;, &quot;org.apache.velocity.app.event.implement.IncludeRelativePath&quot;);\n        \n        bean.setVelocityProperties(velocityProperties);\n                        \n        return bean.createVelocityEngine();\n    }\n\n}\n</code></pre>\n<p>I just needed the date tool, so I just added the class that's in the XML file\nvelocityContext.put(&quot;date&quot;, new ComparisonDateTool());</p>\n<pre><code>@Component\npublic class VelocityTemplateWriter {\n\n    private final VelocityEngine velocityEngine;\n\n    @Value(&quot;${vm.template.path}&quot;)\n    private String apacheVMTemplatePath;\n\n    @Autowired\n    public VelocityTemplateWriter(@Qualifier(&quot;velocityEngine&quot;) VelocityEngine velocityEngine) {\n        this.velocityEngine = velocityEngine;\n    }\n\n    public String write(Map&lt;String, Object&gt; data){\n        VelocityContext velocityContext = new VelocityContext();\n        velocityContext.put(&quot;output&quot;, data);\n        velocityContext.put(&quot;date&quot;, new ComparisonDateTool());\n\n        StringWriter stringWriter = new StringWriter();\n        velocityEngine.mergeTemplate(apacheVMTemplatePath + &quot;ParentResponse.vm&quot;, &quot;UTF-8&quot;, velocityContext, stringWriter);\n\n        String output = stringWriter.toString();\n\n        return output;\n    }\n</code></pre>\n"}],"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680494854,"creation_date":1350053522,"question_id":12861672,"body_markdown":"I&#39;m having issues using the Velocity Escape tool on my Annotation processor. First of all, I got the Annotation processor working fine with velocity alone so I know the set up is correct. I started having issues with my created sources when using strings with scape characters. So I went on the internet and found about [EscapeTool][1] for Velocity. Lets just say that the documentation is not pretty good about configuration.\r\n\r\nI was able to find some code, don&#39;t remember where, to get me started:\r\n\r\n    ToolManager velocityToolManager = new ToolManager();\r\n    velocityToolManager.configure(&quot;velocity-tools.xml&quot;);\r\n    VelocityContext vc =\r\n               new VelocityContext(velocityToolManager.createContext());\r\n\r\nBut I&#39;m getting the following error during the configuration part:\r\n\r\n    java.lang.RuntimeException: There was an error while parsing the InputStream\r\n    \tat org.apache.velocity.tools.config.XmlFactoryConfiguration.read(XmlFactoryConfiguration.java:132)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:140)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:116)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:91)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:69)\r\n    \tat org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:59)\r\n    \tat org.apache.velocity.tools.config.ConfigurationUtils.getDefaultTools(ConfigurationUtils.java:79)\r\n    \tat org.apache.velocity.tools.config.ConfigurationUtils.getAutoLoaded(ConfigurationUtils.java:176)\r\n    \tat org.apache.velocity.tools.ToolManager.autoConfigure(ToolManager.java:74)\r\n    \tat org.apache.velocity.tools.ToolManager.&lt;init&gt;(ToolManager.java:68)\r\n    \tat org.apache.velocity.tools.ToolManager.&lt;init&gt;(ToolManager.java:54)\r\n    \tat games.jwrestling.core.annotation.processor.CardAnnotationProcessor.process(CardAnnotationProcessor.java:116)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:793)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:722)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1700(JavacProcessingEnvironment.java:97)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1029)\r\n    \tat com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1163)\r\n    \tat com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1108)\r\n    \tat com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)\r\n    \tat com.sun.tools.javac.main.Main.compile(Main.java:439)\r\n    \tat com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)\r\n    \tat org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.executeWithExceptionsHandled(AbstractAnnotationProcessorMojo.java:424)\r\n    \tat org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.execute(AbstractAnnotationProcessorMojo.java:250)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n    Caused by: org.xml.sax.SAXParseException; lineNumber: 23; columnNumber: 58; Error at line 23 char 58: org.apache.velocity.tools.config.Data\r\n    \tat org.apache.commons.digester.Digester.createSAXException(Digester.java:3181)\r\n    \tat org.apache.commons.digester.Digester.createSAXException(Digester.java:3207)\r\n    \tat org.apache.commons.digester.Digester.startElement(Digester.java:1456)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:506)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:182)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1303)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2717)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:489)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)\r\n    \tat org.apache.commons.digester.Digester.parse(Digester.java:1765)\r\n    \tat org.apache.velocity.tools.config.XmlFactoryConfiguration.read(XmlFactoryConfiguration.java:128)\r\n    \t... 43 more\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.velocity.tools.config.Data\r\n    \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)\r\n    \tat org.apache.commons.digester.ObjectCreateRule.begin(ObjectCreateRule.java:205)\r\n    \tat org.apache.commons.digester.Rule.begin(Rule.java:175)\r\n    \tat org.apache.commons.digester.Digester.startElement(Digester.java:1453)\r\n    \t... 56 more\r\n\r\nI thought it was a dependency issue but the dependencies are there as follows:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n                &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n                &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\norg.apache.velocity.tools.config.Data is included in the velocity-tools jar.\r\n\r\nYou can find the code [here][2] (commented on the repo).\r\n\r\nSource can be checked out from https://javydreamercsw@bitbucket.org/javydreamercsw/jwrestling if interested.\r\n\r\nAny help is more than welcomed!\r\n\r\n\r\n  [1]: http://velocity.apache.org/tools/devel/generic/EscapeTool.html\r\n  [2]: https://bitbucket.org/javydreamercsw/jwrestling/src/a194c01c12d06da1abd46df8134585e6e57a00ba/AnnotationProcessor/src/main/java/games/jwrestling/core/annotation/processor/CardAnnotationProcessor.java?at=default\r\n\r\n**Update:**\r\nHere are the contents of velocity-tools.xml, a copy of the one found within the velocity-tool jar:\r\n\r\n    &lt;tools&gt; \r\n        &lt;data type=&quot;number&quot; key=&quot;TOOLS_VERSION&quot; value=&quot;2.0&quot;/&gt;\r\n        &lt;data type=&quot;boolean&quot; key=&quot;GENERIC_TOOLS_AVAILABLE&quot; value=&quot;true&quot;/&gt;\r\n        &lt;toolbox scope=&quot;application&quot;&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.AlternatorTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.DisplayTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.MathTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.NumberTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ComparisonDateTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ClassTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ConversionTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.EscapeTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.FieldTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ListTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ResourceTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.SortTool&quot;/&gt;\r\n        &lt;/toolbox&gt;\r\n        &lt;toolbox scope=&quot;request&quot;&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.LoopTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.ContextTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.LinkTool&quot;/&gt;\r\n            &lt;tool class=&quot;org.apache.velocity.tools.generic.RenderTool&quot;/&gt;\r\n        &lt;/toolbox&gt;\r\n    &lt;/tools&gt;\r\n\r\n","title":"Velocity EscapeTool from Java","body":"<p>I'm having issues using the Velocity Escape tool on my Annotation processor. First of all, I got the Annotation processor working fine with velocity alone so I know the set up is correct. I started having issues with my created sources when using strings with scape characters. So I went on the internet and found about <a href=\"http://velocity.apache.org/tools/devel/generic/EscapeTool.html\" rel=\"nofollow\">EscapeTool</a> for Velocity. Lets just say that the documentation is not pretty good about configuration.</p>\n\n<p>I was able to find some code, don't remember where, to get me started:</p>\n\n<pre><code>ToolManager velocityToolManager = new ToolManager();\nvelocityToolManager.configure(\"velocity-tools.xml\");\nVelocityContext vc =\n           new VelocityContext(velocityToolManager.createContext());\n</code></pre>\n\n<p>But I'm getting the following error during the configuration part:</p>\n\n<pre><code>java.lang.RuntimeException: There was an error while parsing the InputStream\n    at org.apache.velocity.tools.config.XmlFactoryConfiguration.read(XmlFactoryConfiguration.java:132)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:140)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:116)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:91)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:69)\n    at org.apache.velocity.tools.config.FileFactoryConfiguration.read(FileFactoryConfiguration.java:59)\n    at org.apache.velocity.tools.config.ConfigurationUtils.getDefaultTools(ConfigurationUtils.java:79)\n    at org.apache.velocity.tools.config.ConfigurationUtils.getAutoLoaded(ConfigurationUtils.java:176)\n    at org.apache.velocity.tools.ToolManager.autoConfigure(ToolManager.java:74)\n    at org.apache.velocity.tools.ToolManager.&lt;init&gt;(ToolManager.java:68)\n    at org.apache.velocity.tools.ToolManager.&lt;init&gt;(ToolManager.java:54)\n    at games.jwrestling.core.annotation.processor.CardAnnotationProcessor.process(CardAnnotationProcessor.java:116)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:793)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:722)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1700(JavacProcessingEnvironment.java:97)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1029)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1163)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1108)\n    at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)\n    at com.sun.tools.javac.main.Main.compile(Main.java:439)\n    at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.executeWithExceptionsHandled(AbstractAnnotationProcessorMojo.java:424)\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.execute(AbstractAnnotationProcessorMojo.java:250)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\nCaused by: org.xml.sax.SAXParseException; lineNumber: 23; columnNumber: 58; Error at line 23 char 58: org.apache.velocity.tools.config.Data\n    at org.apache.commons.digester.Digester.createSAXException(Digester.java:3181)\n    at org.apache.commons.digester.Digester.createSAXException(Digester.java:3207)\n    at org.apache.commons.digester.Digester.startElement(Digester.java:1456)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:506)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:182)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1303)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2717)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:607)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:489)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:835)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1210)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:568)\n    at org.apache.commons.digester.Digester.parse(Digester.java:1765)\n    at org.apache.velocity.tools.config.XmlFactoryConfiguration.read(XmlFactoryConfiguration.java:128)\n    ... 43 more\nCaused by: java.lang.ClassNotFoundException: org.apache.velocity.tools.config.Data\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)\n    at org.apache.commons.digester.ObjectCreateRule.begin(ObjectCreateRule.java:205)\n    at org.apache.commons.digester.Rule.begin(Rule.java:175)\n    at org.apache.commons.digester.Digester.startElement(Digester.java:1453)\n    ... 56 more\n</code></pre>\n\n<p>I thought it was a dependency issue but the dependencies are there as follows:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>org.apache.velocity.tools.config.Data is included in the velocity-tools jar.</p>\n\n<p>You can find the code <a href=\"https://bitbucket.org/javydreamercsw/jwrestling/src/a194c01c12d06da1abd46df8134585e6e57a00ba/AnnotationProcessor/src/main/java/games/jwrestling/core/annotation/processor/CardAnnotationProcessor.java?at=default\" rel=\"nofollow\">here</a> (commented on the repo).</p>\n\n<p>Source can be checked out from <a href=\"https://javydreamercsw@bitbucket.org/javydreamercsw/jwrestling\" rel=\"nofollow\">https://javydreamercsw@bitbucket.org/javydreamercsw/jwrestling</a> if interested.</p>\n\n<p>Any help is more than welcomed!</p>\n\n<p><strong>Update:</strong>\nHere are the contents of velocity-tools.xml, a copy of the one found within the velocity-tool jar:</p>\n\n<pre><code>&lt;tools&gt; \n    &lt;data type=\"number\" key=\"TOOLS_VERSION\" value=\"2.0\"/&gt;\n    &lt;data type=\"boolean\" key=\"GENERIC_TOOLS_AVAILABLE\" value=\"true\"/&gt;\n    &lt;toolbox scope=\"application\"&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.AlternatorTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.DisplayTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.MathTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.NumberTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ComparisonDateTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ClassTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ConversionTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.EscapeTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.FieldTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ListTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ResourceTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.SortTool\"/&gt;\n    &lt;/toolbox&gt;\n    &lt;toolbox scope=\"request\"&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.LoopTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.ContextTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.LinkTool\"/&gt;\n        &lt;tool class=\"org.apache.velocity.tools.generic.RenderTool\"/&gt;\n    &lt;/toolbox&gt;\n&lt;/tools&gt;\n</code></pre>\n"},{"tags":["java","elasticsearch","client","elasticsearch-java-api"],"answers":[{"tags":[],"owner":{"account_id":298482,"reputation":1844,"user_id":604530,"display_name":"pkhlop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508859933,"creation_date":1508510362,"answer_id":46851518,"question_id":46844012,"body_markdown":"If all three nodes are in a single cluster, you may communicate only with one of them. They will do all necessary communications behind the scene.\r\n\r\nYou can also setup cluster to have loadbalancer node without data and always connect to this node. more details [here](https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-node.html)\r\n\r\nUpdate:\r\n\r\nLet say you want to run 3 nodes of the same cluster on the same server:\r\nnode1.local node2.local node3.local\r\n\r\nConfig files will look like this\r\n\r\nnode1.local\r\n\r\n    cluster.name: BillyMiligan\r\n    node.name: &quot;node1.local&quot;\r\n    network.host: &quot;localhost&quot;\r\n    transport.tcp.port: 9301\r\n    http.port: 9201\r\n    discovery.zen.ping.unicast.hosts: [&quot;node1.local:9301&quot;, &quot;node2.local:9302&quot;, &quot;node3.local:9303&quot;]\r\n    discovery.zen.minimum_master_nodes: 2\r\n\r\nnode2.local\r\n\r\n    cluster.name: BillyMiligan\r\n    node.name: &quot;node2.local&quot;\r\n    network.host: &quot;localhost&quot;\r\n    transport.tcp.port: 9302\r\n    http.port: 9202\r\n    discovery.zen.ping.unicast.hosts: [&quot;node1.local:9301&quot;, &quot;node2.local:9302&quot;, &quot;node3.local:9303&quot;]\r\n    discovery.zen.minimum_master_nodes: 2\r\n\r\nnode3.local\r\n\r\n    cluster.name: BillyMiligan\r\n    node.name: &quot;node3.local&quot;\r\n    network.host: &quot;localhost&quot;\r\n    transport.tcp.port: 9303\r\n    http.port: 9203\r\n    discovery.zen.ping.unicast.hosts: [&quot;node1.local:9301&quot;, &quot;node2.local:9302&quot;, &quot;node3.local:9303&quot;]\r\n    discovery.zen.minimum_master_nodes: 2\r\n\r\n\r\n\r\n","title":"Elasticsearch cluster connection","body":"<p>If all three nodes are in a single cluster, you may communicate only with one of them. They will do all necessary communications behind the scene.</p>\n\n<p>You can also setup cluster to have loadbalancer node without data and always connect to this node. more details <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-node.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Update:</p>\n\n<p>Let say you want to run 3 nodes of the same cluster on the same server:\nnode1.local node2.local node3.local</p>\n\n<p>Config files will look like this</p>\n\n<p>node1.local</p>\n\n<pre><code>cluster.name: BillyMiligan\nnode.name: \"node1.local\"\nnetwork.host: \"localhost\"\ntransport.tcp.port: 9301\nhttp.port: 9201\ndiscovery.zen.ping.unicast.hosts: [\"node1.local:9301\", \"node2.local:9302\", \"node3.local:9303\"]\ndiscovery.zen.minimum_master_nodes: 2\n</code></pre>\n\n<p>node2.local</p>\n\n<pre><code>cluster.name: BillyMiligan\nnode.name: \"node2.local\"\nnetwork.host: \"localhost\"\ntransport.tcp.port: 9302\nhttp.port: 9202\ndiscovery.zen.ping.unicast.hosts: [\"node1.local:9301\", \"node2.local:9302\", \"node3.local:9303\"]\ndiscovery.zen.minimum_master_nodes: 2\n</code></pre>\n\n<p>node3.local</p>\n\n<pre><code>cluster.name: BillyMiligan\nnode.name: \"node3.local\"\nnetwork.host: \"localhost\"\ntransport.tcp.port: 9303\nhttp.port: 9203\ndiscovery.zen.ping.unicast.hosts: [\"node1.local:9301\", \"node2.local:9302\", \"node3.local:9303\"]\ndiscovery.zen.minimum_master_nodes: 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680494148,"creation_date":1680494148,"answer_id":75915930,"question_id":46844012,"body_markdown":"why not config a FQDN for these nodes, like:\r\n```\r\nupstream elasticsearch_cluster {\r\n    server 192.168.0.1:9200;\r\n    server 192.168.0.2:9200;\r\n    server 192.168.0.3:9200;\r\n    server 192.168.0.4:9200;\r\n    server 192.168.0.5:9200;\r\n    server 192.168.0.6:9200;\r\n}\r\n\r\nserver {\r\n    listen 80;\r\n    server_name elasticsearch.example.com;\r\n\r\n    location / {\r\n        proxy_pass http://elasticsearch_cluster;\r\n    }\r\n}\r\n```\r\n\r\nThen use `elasticsearch.example.com` to connect to all nodes.","title":"Elasticsearch cluster connection","body":"<p>why not config a FQDN for these nodes, like:</p>\n<pre><code>upstream elasticsearch_cluster {\n    server 192.168.0.1:9200;\n    server 192.168.0.2:9200;\n    server 192.168.0.3:9200;\n    server 192.168.0.4:9200;\n    server 192.168.0.5:9200;\n    server 192.168.0.6:9200;\n}\n\nserver {\n    listen 80;\n    server_name elasticsearch.example.com;\n\n    location / {\n        proxy_pass http://elasticsearch_cluster;\n    }\n}\n</code></pre>\n<p>Then use <code>elasticsearch.example.com</code> to connect to all nodes.</p>\n"}],"owner":{"account_id":6919968,"reputation":63,"user_id":5312939,"display_name":"Wolverine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1512,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1680494148,"creation_date":1508483403,"question_id":46844012,"body_markdown":"It might be a dumb question but i was unable to find answer.\r\nIf I am having 3 nodes in my cluster so do need to provide the IP and Port of each node while creating transport client so that i can communicate with each node??\r\n\r\n    new PreBuiltTransportClient(settings, AuthenticationPlugin.class).addTransportAddress(new InetSocketTransportAddress(InetAddress.getByName(&quot;localhost&quot;),\r\n                            Integer.parseInt(&quot;9300&quot;)))\r\n                            .addTransportAddress(new InetSocketTransportAddress(InetAddress.getByName(&quot;localhost&quot;),\r\n                            Integer.parseInt(&quot;9301&quot;)))\r\n    InetSocketTransportAddress(InetAddress.getByName(&quot;localhost&quot;),\r\n                            Integer.parseInt(&quot;9302&quot;)));;\r\n\r\nIs there any way where i don&#39;t need to provide IP and Port of each node ??\r\nPlease help","title":"Elasticsearch cluster connection","body":"<p>It might be a dumb question but i was unable to find answer.\nIf I am having 3 nodes in my cluster so do need to provide the IP and Port of each node while creating transport client so that i can communicate with each node??</p>\n\n<pre><code>new PreBuiltTransportClient(settings, AuthenticationPlugin.class).addTransportAddress(new InetSocketTransportAddress(InetAddress.getByName(\"localhost\"),\n                        Integer.parseInt(\"9300\")))\n                        .addTransportAddress(new InetSocketTransportAddress(InetAddress.getByName(\"localhost\"),\n                        Integer.parseInt(\"9301\")))\nInetSocketTransportAddress(InetAddress.getByName(\"localhost\"),\n                        Integer.parseInt(\"9302\")));;\n</code></pre>\n\n<p>Is there any way where i don't need to provide IP and Port of each node ??\nPlease help</p>\n"},{"tags":["java","spring-boot","rest","jpa","foreign-keys"],"comments":[{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":0,"creation_date":1623080486,"post_id":67871757,"comment_id":119970934,"body_markdown":"Add more details... &quot;first POST request is executed it will return the expected output&quot; - what request, the controller method return type is void... What database are you using...","body":"Add more details... &quot;first POST request is executed it will return the expected output&quot; - what request, the controller method return type is void... What database are you using..."}],"answers":[{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623143854,"creation_date":1623143854,"answer_id":67884818,"question_id":67871757,"body_markdown":"You&#39;re probably getting this behavior because of JsonIdentityInfo, so it&#39;s a serialization problem you have not a persistence one. I&#39;m assuming you&#39;re using a relational database (Hibernate for NoSql has Jpa like annotations but then that would make this a different problem) and that data is being persisted correctly.\r\n\r\nSee [the javadocs](https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIdentityInfo.html):\r\n\r\n&gt; In practice this is done by serializing the first instance as full object and object identity, and other references to the object as reference values","title":"Spring boot JPA - bidirectional relationsship: returns foreign key instead of the related object","body":"<p>You're probably getting this behavior because of JsonIdentityInfo, so it's a serialization problem you have not a persistence one. I'm assuming you're using a relational database (Hibernate for NoSql has Jpa like annotations but then that would make this a different problem) and that data is being persisted correctly.</p>\n<p>See <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIdentityInfo.html\" rel=\"nofollow noreferrer\">the javadocs</a>:</p>\n<blockquote>\n<p>In practice this is done by serializing the first instance as full object and object identity, and other references to the object as reference values</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":28173156,"reputation":1,"user_id":21531361,"display_name":"AyooB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680494059,"creation_date":1680494059,"answer_id":75915923,"question_id":67871757,"body_markdown":"Just remove the @JsonIdentityInfo ","title":"Spring boot JPA - bidirectional relationsship: returns foreign key instead of the related object","body":"<p>Just remove the @JsonIdentityInfo</p>\n"}],"owner":{"account_id":14696647,"reputation":780,"user_id":10613856,"display_name":"Delice"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680494059,"creation_date":1623069470,"question_id":67871757,"body_markdown":"I have two entities: **Customer** and **Address**.\r\n\r\nIt is a ***bidirectional relationsship*** - one address can have many customers (oneToMany) and one customer can only have one address (manyToOne).\r\n\r\nExecuting GET request for customers returns:\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Foo&quot;,\r\n        &quot;contact&quot;: &quot;5512312&quot;,\r\n        &quot;email&quot;: &quot;Foo@gmail.com&quot;,\r\n        &quot;address&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;street&quot;: &quot;X&quot;,\r\n            &quot;postalCode&quot;: 123,\r\n            &quot;houseNo&quot;: &quot;10&quot;,\r\n            &quot;city&quot;: &quot;New York&quot;\r\n        }\r\n    }\r\n]\r\n```\r\n\r\nWhen a new customer, with the exact same address properties as the one exists in DB - is being added with POST request, the json response returns the foreign key related to the existing object in DB instead of the object itself:\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Foo&quot;,\r\n        &quot;contact&quot;: &quot;5512312&quot;,\r\n        &quot;email&quot;: &quot;Foo@gmail.com&quot;,\r\n        &quot;address&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;street&quot;: &quot;X&quot;,\r\n            &quot;postalCode&quot;: 123,\r\n            &quot;houseNo&quot;: &quot;10&quot;,\r\n            &quot;city&quot;: &quot;New York&quot;\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;Bar&quot;,\r\n        &quot;contact&quot;: &quot;5512312&quot;,\r\n        &quot;email&quot;: &quot;Bar@gmail.com&quot;,\r\n        &quot;address&quot;: 1 &lt;----------- it returns the foreign key instead of the object\r\n    }\r\n]\r\n```\r\n\r\nSo what I **expect** is that whenever a new customer, that has an address that *already exists* in the DB, is being added - it should return the *address object* instead of the foreign key from the json response.\r\n\r\nCode:\r\n\r\n**Customer.java**\r\n```java\r\n@JsonIdentityInfo(\r\n        generator = ObjectIdGenerators.PropertyGenerator.class,\r\n        property = &quot;id&quot;)\r\n@Entity\r\n@Table\r\npublic class Customer {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;customer_sequence&quot;,\r\n            sequenceName = &quot;customer_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;customer_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String name;\r\n    private String contact;\r\n    private String email;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;address_id&quot;, nullable = false)\r\n    private Address address;\r\n    [...]\r\n\r\n```\r\n\r\n**Address.java**\r\n```java\r\n@JsonIdentityInfo(\r\n        generator = ObjectIdGenerators.PropertyGenerator.class,\r\n        property = &quot;id&quot;)\r\n@Entity\r\n@Table\r\npublic class Address {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;address_sequence&quot;,\r\n            sequenceName = &quot;address_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;address_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String street;\r\n    private int postalCode;\r\n    private String houseNo;\r\n    private String city;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;address&quot;)\r\n    private Set&lt;Customer&gt; customers;\r\n    [...]\r\n```\r\n\r\n**CustomerController.java**\r\n```java\r\n//...\r\n@PostMapping\r\n    public void createCustomer(@RequestBody Customer customer) {\r\n        customerService.createCustomer(customer);\r\n    }\r\n\r\n[...]\r\n```\r\n\r\nAnd the ***service*** that saves the customer to the DB which also makes sure that no address is being created if already exists in database (it checks on every property to be equal from the param):\r\n\r\n```java\r\n//...\r\npublic void createCustomer(Customer customer) {\r\n        Optional&lt;Customer&gt; customerWithExistingAddress = customerRepository.findAll()\r\n                .stream()\r\n                .filter(x -&gt; x.getAddress().equals(customer.getAddress()))\r\n                .findFirst();\r\n\r\n        customerWithExistingAddress.ifPresent(c -&gt; customer.setAddress(c.getAddress()));\r\n\r\n        customerRepository.save(customer);\r\n    }\r\n\r\n[...]\r\n\r\n```","title":"Spring boot JPA - bidirectional relationsship: returns foreign key instead of the related object","body":"<p>I have two entities: <strong>Customer</strong> and <strong>Address</strong>.</p>\n<p>It is a <em><strong>bidirectional relationsship</strong></em> - one address can have many customers (oneToMany) and one customer can only have one address (manyToOne).</p>\n<p>Executing GET request for customers returns:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Foo&quot;,\n        &quot;contact&quot;: &quot;5512312&quot;,\n        &quot;email&quot;: &quot;Foo@gmail.com&quot;,\n        &quot;address&quot;: {\n            &quot;id&quot;: 1,\n            &quot;street&quot;: &quot;X&quot;,\n            &quot;postalCode&quot;: 123,\n            &quot;houseNo&quot;: &quot;10&quot;,\n            &quot;city&quot;: &quot;New York&quot;\n        }\n    }\n]\n</code></pre>\n<p>When a new customer, with the exact same address properties as the one exists in DB - is being added with POST request, the json response returns the foreign key related to the existing object in DB instead of the object itself:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Foo&quot;,\n        &quot;contact&quot;: &quot;5512312&quot;,\n        &quot;email&quot;: &quot;Foo@gmail.com&quot;,\n        &quot;address&quot;: {\n            &quot;id&quot;: 1,\n            &quot;street&quot;: &quot;X&quot;,\n            &quot;postalCode&quot;: 123,\n            &quot;houseNo&quot;: &quot;10&quot;,\n            &quot;city&quot;: &quot;New York&quot;\n        }\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Bar&quot;,\n        &quot;contact&quot;: &quot;5512312&quot;,\n        &quot;email&quot;: &quot;Bar@gmail.com&quot;,\n        &quot;address&quot;: 1 &lt;----------- it returns the foreign key instead of the object\n    }\n]\n</code></pre>\n<p>So what I <strong>expect</strong> is that whenever a new customer, that has an address that <em>already exists</em> in the DB, is being added - it should return the <em>address object</em> instead of the foreign key from the json response.</p>\n<p>Code:</p>\n<p><strong>Customer.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;)\n@Entity\n@Table\npublic class Customer {\n    @Id\n    @SequenceGenerator(\n            name = &quot;customer_sequence&quot;,\n            sequenceName = &quot;customer_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;customer_sequence&quot;\n    )\n    private Long id;\n    private String name;\n    private String contact;\n    private String email;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;address_id&quot;, nullable = false)\n    private Address address;\n    [...]\n\n</code></pre>\n<p><strong>Address.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;)\n@Entity\n@Table\npublic class Address {\n    @Id\n    @SequenceGenerator(\n            name = &quot;address_sequence&quot;,\n            sequenceName = &quot;address_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;address_sequence&quot;\n    )\n    private Long id;\n    private String street;\n    private int postalCode;\n    private String houseNo;\n    private String city;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;address&quot;)\n    private Set&lt;Customer&gt; customers;\n    [...]\n</code></pre>\n<p><strong>CustomerController.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\n@PostMapping\n    public void createCustomer(@RequestBody Customer customer) {\n        customerService.createCustomer(customer);\n    }\n\n[...]\n</code></pre>\n<p>And the <em><strong>service</strong></em> that saves the customer to the DB which also makes sure that no address is being created if already exists in database (it checks on every property to be equal from the param):</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\npublic void createCustomer(Customer customer) {\n        Optional&lt;Customer&gt; customerWithExistingAddress = customerRepository.findAll()\n                .stream()\n                .filter(x -&gt; x.getAddress().equals(customer.getAddress()))\n                .findFirst();\n\n        customerWithExistingAddress.ifPresent(c -&gt; customer.setAddress(c.getAddress()));\n\n        customerRepository.save(customer);\n    }\n\n[...]\n\n</code></pre>\n"},{"tags":["java","xml","dom","nodes","digital-signature"],"owner":{"account_id":16795391,"reputation":57,"user_id":12141953,"display_name":"Enjo A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680492713,"creation_date":1680490605,"question_id":75915757,"body_markdown":"I want to generate digital signature but were told that i need to canonicalize first the SignedInfo node before generation. I am stuck on how to canonicalize the node first and would like to know if it is possible based on below codes:\r\n\r\n```      \r\n            byte [] xmlstringbytes=null;\r\n            xmlstringbytes= XMLStringWithNoSignature.getBytes(&quot;UTF-8&quot;);\r\n            final List&lt;Object&gt; listkey= new LinkedList&lt;Object&gt; ();\r\n            XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n           //digest\r\n\t\t\tDigestMethod digestMethodObj = fac.newDigestMethod(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;, null);\r\n           //canon\r\n\t\t\tCanonicalizationMethod canonicalizationMethod = fac.newCanonicalizationMethod(&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;, (C14NMethodParameterSpec) null);\r\n            //signature\r\n\t\t\tSignatureMethod signatureMethodObj = fac.newSignatureMethod(&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;, null);\r\n\t\t\t\r\n            //transform\r\n            Transform transform1 = fac.newTransform(&quot;http://www.w3.org/2000/09/xmldsig#enveloped- \r\n            signature&quot;, (TransformParameterSpec) null);\r\n\r\n\t\t\tTransform transform2 = fac.newTransform(&quot;http://www.w3.org/2006/12/xml-c14n11&quot;, (TransformParameterSpec) null);\r\n\r\n\t\t\tList&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\r\n\t\t\ttransformList.add(transform1);\r\n\t\t\ttransformList.add(transform2);\r\n\r\n            //reference\r\n\t\t\tReference ref = (Reference) fac.newReference(&quot;&quot;, digestMethodObj, transformList, null, null);\r\n\t\t\tList&lt;Reference&gt; referenceList = Collections.singletonList(ref);\r\n\r\n            //keyinfo\r\n            final KeyInfo keyInfo = keyInfoFactory.newKeyInfo (listkey);\r\n\r\n           //signedinfo\r\n            SignedInfo signedInfo = fac.newSignedInfo(canonicalizationMethod, signatureMethodObj, \r\n             referenceList);\r\n\r\n\t\t    Document doc = dbf.newDocumentBuilder().parse(new ByteArrayInputStream(xmlstringbytes));\r\n\t\r\n\t\t\tDOMSignContext dsc = new DOMSignContext(Key, doc.getDocumentElement());\r\n\r\n           //generate signature, will need to canonicalize signedInfo first before executing below \r\n             command\r\n\t\t\tXMLSignature xmlSignature = fac.newXMLSignature(signedInfo, keyInfo);\r\n\t\t\txmlSignature.sign(dsc);\r\n\r\n```\r\nThanks in advance for your inputs.\r\n\r\n","title":"How to canonicalize SignedInfo node before generating digital signature?","body":"<p>I want to generate digital signature but were told that i need to canonicalize first the SignedInfo node before generation. I am stuck on how to canonicalize the node first and would like to know if it is possible based on below codes:</p>\n<pre><code>            byte [] xmlstringbytes=null;\n            xmlstringbytes= XMLStringWithNoSignature.getBytes(&quot;UTF-8&quot;);\n            final List&lt;Object&gt; listkey= new LinkedList&lt;Object&gt; ();\n            XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\n           //digest\n            DigestMethod digestMethodObj = fac.newDigestMethod(&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;, null);\n           //canon\n            CanonicalizationMethod canonicalizationMethod = fac.newCanonicalizationMethod(&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;, (C14NMethodParameterSpec) null);\n            //signature\n            SignatureMethod signatureMethodObj = fac.newSignatureMethod(&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;, null);\n            \n            //transform\n            Transform transform1 = fac.newTransform(&quot;http://www.w3.org/2000/09/xmldsig#enveloped- \n            signature&quot;, (TransformParameterSpec) null);\n\n            Transform transform2 = fac.newTransform(&quot;http://www.w3.org/2006/12/xml-c14n11&quot;, (TransformParameterSpec) null);\n\n            List&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\n            transformList.add(transform1);\n            transformList.add(transform2);\n\n            //reference\n            Reference ref = (Reference) fac.newReference(&quot;&quot;, digestMethodObj, transformList, null, null);\n            List&lt;Reference&gt; referenceList = Collections.singletonList(ref);\n\n            //keyinfo\n            final KeyInfo keyInfo = keyInfoFactory.newKeyInfo (listkey);\n\n           //signedinfo\n            SignedInfo signedInfo = fac.newSignedInfo(canonicalizationMethod, signatureMethodObj, \n             referenceList);\n\n            Document doc = dbf.newDocumentBuilder().parse(new ByteArrayInputStream(xmlstringbytes));\n    \n            DOMSignContext dsc = new DOMSignContext(Key, doc.getDocumentElement());\n\n           //generate signature, will need to canonicalize signedInfo first before executing below \n             command\n            XMLSignature xmlSignature = fac.newXMLSignature(signedInfo, keyInfo);\n            xmlSignature.sign(dsc);\n\n</code></pre>\n<p>Thanks in advance for your inputs.</p>\n"},{"tags":["java","garbage-collection","heap-memory","g1gc"],"comments":[{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1459469035,"post_id":36345409,"comment_id":60313182,"body_markdown":"I&#39;ve just read through that presentation (it&#39;s quite good really), but I don&#39;t see the same things on slide 55 that you mention in your post. And, it shows an example of eden reducing from 12.5gb to &lt;1gb, which is rather similar to yours. Can you explain in more detail why you expect eden to shrink less than it has?","body":"I&#39;ve just read through that presentation (it&#39;s quite good really), but I don&#39;t see the same things on slide 55 that you mention in your post. And, it shows an example of eden reducing from 12.5gb to &lt;1gb, which is rather similar to yours. Can you explain in more detail why you expect eden to shrink less than it has?"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1459469463,"post_id":36345409,"comment_id":60313313,"body_markdown":"And, maybe consider adding the print-adaptive-size-policy flag.","body":"And, maybe consider adding the print-adaptive-size-policy flag."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1459470692,"post_id":36345409,"comment_id":60313607,"body_markdown":"@EngineerDollery The `PrintAdaptiveSizePolicy` parameter is enabled (added to question). In the presentation, issue #3, it states &quot;Must account for old regions, not only young, Currently G1 shrinks the young generation&quot;. Ideally, I wouldn&#39;t expect the generation to shrink at all. We&#39;ve set our pause goal to 1000ms and collections are much quicker than that. Having to collect twice the garbage (which is already marked) shouldn&#39;t take more than twice the time.","body":"@EngineerDollery The <code>PrintAdaptiveSizePolicy</code> parameter is enabled (added to question). In the presentation, issue #3, it states &quot;Must account for old regions, not only young, Currently G1 shrinks the young generation&quot;. Ideally, I wouldn&#39;t expect the generation to shrink at all. We&#39;ve set our pause goal to 1000ms and collections are much quicker than that. Having to collect twice the garbage (which is already marked) shouldn&#39;t take more than twice the time."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":4,"creation_date":1459487077,"post_id":36345409,"comment_id":60317769,"body_markdown":"you&#39;re putting lots of constraints on G1. are you certain that each parameter is justified as it is right now? And if the new gen shrinking really is the concern, why not set a minimum size for it?","body":"you&#39;re putting lots of constraints on G1. are you certain that each parameter is justified as it is right now? And if the new gen shrinking really is the concern, why not set a minimum size for it?"},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1459521868,"post_id":36345409,"comment_id":60338078,"body_markdown":"@the8472 We can have that discussion in chat (though you&#39;d have to create it, I don&#39;t have enough reputation).","body":"@the8472 We can have that discussion in chat (though you&#39;d have to create it, I don&#39;t have enough reputation)."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1459849466,"post_id":36345409,"comment_id":60459749,"body_markdown":"I agree with the8472. G1GC works well when we did not modify most of the default values except key parameters like pause time goal , region size, GC threds etc. Refer to http://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/ and http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html","body":"I agree with the8472. G1GC works well when we did not modify most of the default values except key parameters like pause time goal , region size, GC threds etc. Refer to <a href=\"http://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/\" title=\"java 7 jdk 7 garbage collection and documentation\">stackoverflow.com/questions/8111310/&hellip;</a> and <a href=\"http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/articles/java/g1gc-1984535.html</a>"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1459850143,"post_id":36345409,"comment_id":60460270,"body_markdown":"Pillar,  respecting maximum pause time goal should be the reason for aggressiveness of algorithm","body":"Pillar,  respecting maximum pause time goal should be the reason for aggressiveness of algorithm"}],"answers":[{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1680492089,"creation_date":1459865727,"answer_id":36428963,"question_id":36345409,"body_markdown":"Young generation can shrink by a factor of 20X. So shrinking by a factory of 10X is not a surprise. \r\n\r\nSince you have not set young gen size explicitly, default value is\r\n\r\n    -XX:G1NewSizePercent=5\r\n\r\nSets the percentage of the heap to use as the minimum for the young generation size.\r\n\r\nSo to respect your pause time goal of \r\n\r\n    -XX:MaxGCPauseMillis=1000 \r\n\r\nthe young gen can shrink up-to 5% of total heap.\r\n\r\nNote: *G1NewSizePercent*, and *G1MaxNewSizePercent* are not to be confused with *NewSize* or *MaxNewSize*. \r\n\r\n*G1NewSizePercent* and *G1MaxNewSizePercent* put a lower and upper bound respectively YoungGen sizing\r\n\r\nOn a different note, you have configured many parameters which may be un-necessary sine G1GC works fine if most of the default parameters have been set to default values. Refer to this SE question for more details.\r\n\r\nhttps://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/34254605#34254605\r\n\r\n**In summary**: *Depending on pause time goal, young gen will shrink. If you are really worried about shrinking of young gen to low value, configure `-XX:G1NewSizePercent`. But I won&#39;t recommend it as long as `-XX:MaxGCPauseMillis` has been met*\r\n","title":"Why does G1GC shrink the young generation before starting mixed collections?","body":"<p>Young generation can shrink by a factor of 20X. So shrinking by a factory of 10X is not a surprise.</p>\n<p>Since you have not set young gen size explicitly, default value is</p>\n<pre><code>-XX:G1NewSizePercent=5\n</code></pre>\n<p>Sets the percentage of the heap to use as the minimum for the young generation size.</p>\n<p>So to respect your pause time goal of</p>\n<pre><code>-XX:MaxGCPauseMillis=1000 \n</code></pre>\n<p>the young gen can shrink up-to 5% of total heap.</p>\n<p>Note: <em>G1NewSizePercent</em>, and <em>G1MaxNewSizePercent</em> are not to be confused with <em>NewSize</em> or <em>MaxNewSize</em>.</p>\n<p><em>G1NewSizePercent</em> and <em>G1MaxNewSizePercent</em> put a lower and upper bound respectively YoungGen sizing</p>\n<p>On a different note, you have configured many parameters which may be un-necessary sine G1GC works fine if most of the default parameters have been set to default values. Refer to this SE question for more details.</p>\n<p><a href=\"https://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/34254605#34254605\">Java 7 (JDK 7) garbage collection and documentation on G1</a></p>\n<p><strong>In summary</strong>: <em>Depending on pause time goal, young gen will shrink. If you are really worried about shrinking of young gen to low value, configure <code>-XX:G1NewSizePercent</code>. But I won't recommend it as long as <code>-XX:MaxGCPauseMillis</code> has been met</em></p>\n"},{"tags":[],"owner":{"account_id":3477725,"reputation":197,"user_id":2910541,"display_name":"rustyfinger"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1551172564,"creation_date":1551172564,"answer_id":54881982,"question_id":36345409,"body_markdown":"With MaxTenuringThreshold=1 you are telling the GC to promoted an object to the Old Generation after surviving only 1 GC cycle. In most of the application this will lead to many premature promotions. If too many objects are promoted too early your Old Gen will grow rapidly thus it has to shrink the Youg Gen to make space for the Old Gen ","title":"Why does G1GC shrink the young generation before starting mixed collections?","body":"<p>With MaxTenuringThreshold=1 you are telling the GC to promoted an object to the Old Generation after surviving only 1 GC cycle. In most of the application this will lead to many premature promotions. If too many objects are promoted too early your Old Gen will grow rapidly thus it has to shrink the Youg Gen to make space for the Old Gen </p>\n"}],"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6832,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":2,"score":15,"last_activity_date":1680492089,"creation_date":1459466044,"question_id":36345409,"body_markdown":"When G1 decides it needs to start doing mixed collections, it aggressively shrinks our Eden space from 10g to about 1g.\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    {Heap before GC invocations=294 (full 0):\r\n     garbage-first heap   total 20480000K, used 18304860K [0x00000002de000000, 0x00000002de804e20, 0x00000007c0000000)\r\n      region size 8192K, 1363 young (11165696K), 11 survivors (90112K)\r\n     Metaspace       used 37327K, capacity 37826K, committed 38096K, reserved 1083392K\r\n      class space    used 3935K, capacity 4081K, committed 4096K, reserved 1048576K\r\n    2016-03-31T20:57:31.002+0000: 7196.427: [GC pause (G1 Evacuation Pause) (young)\r\n    Desired survivor size 717225984 bytes, new threshold 1 (max 1)\r\n    - age   1:   41346816 bytes,   41346816 total\r\n     7196.427: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 144693, predicted base time: 48.88 ms, remaining time: 951.12 ms, target pause time: 1000.00 ms]\r\n     7196.427: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 1352 regions, survivors: 11 regions, predicted young region time: 20.72 ms]\r\n     7196.427: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 1352 regions, survivors: 11 regions, old: 0 regions, predicted pause time: 69.60 ms, target pause time: 1000.00 ms]\r\n     7196.494: [G1Ergonomics (Mixed GCs) start mixed GCs, reason: candidate old regions available, candidate old regions: 789 regions, reclaimable: 4703761904 bytes (22.43 %), threshold: 5.00 %]\r\n    , 0.0673540 secs]\r\n       [Parallel Time: 60.1 ms, GC Workers: 18]\r\n          [GC Worker Start (ms): Min: 7196427.8, Avg: 7196428.1, Max: 7196428.2, Diff: 0.4]\r\n          [Ext Root Scanning (ms): Min: 7.3, Avg: 7.5, Max: 7.7, Diff: 0.4, Sum: 134.2]\r\n          [Update RS (ms): Min: 28.2, Avg: 28.8, Max: 29.9, Diff: 1.7, Sum: 518.4]\r\n             [Processed Buffers: Min: 41, Avg: 57.7, Max: 80, Diff: 39, Sum: 1039]\r\n          [Scan RS (ms): Min: 0.1, Avg: 0.2, Max: 0.5, Diff: 0.4, Sum: 3.7]\r\n          [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n          [Object Copy (ms): Min: 22.1, Avg: 23.1, Max: 23.4, Diff: 1.3, Sum: 416.2]\r\n          [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n             [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 18]\r\n          [GC Worker Other (ms): Min: 0.0, Avg: 0.1, Max: 0.2, Diff: 0.2, Sum: 2.5]\r\n          [GC Worker Total (ms): Min: 59.5, Avg: 59.7, Max: 60.0, Diff: 0.5, Sum: 1075.1]\r\n          [GC Worker End (ms): Min: 7196487.7, Avg: 7196487.8, Max: 7196487.9, Diff: 0.2]\r\n       [Code Root Fixup: 0.2 ms]\r\n       [Code Root Purge: 0.0 ms]\r\n       [Clear CT: 1.9 ms]\r\n       [Other: 5.2 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 0.5 ms]\r\n          [Ref Enq: 0.0 ms]\r\n          [Redirty Cards: 0.5 ms]\r\n          [Humongous Register: 0.2 ms]\r\n          [Humongous Reclaim: 0.1 ms]\r\n          [Free CSet: 2.3 ms]\r\n       [Eden: 10.6G(10.6G)-&gt;0.0B(848.0M) Survivors: 88.0M-&gt;152.0M Heap: 17.5G(19.5G)-&gt;7128.3M(19.5G)]\r\n    Heap after GC invocations=295 (full 0):\r\n     garbage-first heap   total 20480000K, used 7299344K [0x00000002de000000, 0x00000002de804e20, 0x00000007c0000000)\r\n      region size 8192K, 19 young (155648K), 19 survivors (155648K)\r\n     Metaspace       used 37327K, capacity 37826K, committed 38096K, reserved 1083392K\r\n      class space    used 3935K, capacity 4081K, committed 4096K, reserved 1048576K\r\n    }\r\n     [Times: user=1.09 sys=0.00, real=0.07 secs]\r\n    2016-03-31T20:57:31.070+0000: 7196.495: Total time for which application threads were stopped: 0.0699324 seconds, Stopping threads took: 0.0003462 seconds\r\n\r\nThis is after it&#39;s been running with 10-11g of Eden for 60 or more collections.\r\n\r\nHere are the appropriate JVM GC parameters we&#39;re running with\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    -Xms20000m -Xmx20000m\r\n    -XX:+UseG1GC \r\n    -XX:G1RSetUpdatingPauseTimePercent=5 \r\n    -XX:MaxGCPauseMillis=1000 \r\n    -XX:GCTimeRatio=99 \r\n    -XX:InitiatingHeapOccupancyPercent=35 \r\n    -XX:MaxTenuringThreshold=1 \r\n    -XX:G1ConcRefinementThreads=6 \r\n    -XX:ConcGCThreads=18 \r\n    -XX:ParallelGCThreads=18\r\n\r\n    -XX:+PrintGCDetails&quot;\r\n    -XX:+PrintGCDateStamps&quot;\r\n    -XX:+PrintHeapAtGC&quot;\r\n    -XX:+PrintTenuringDistribution&quot;\r\n    -XX:+PrintGCApplicationStoppedTime&quot;\r\n    -XX:+PrintPromotionFailure&quot;\r\n    -XX:+PrintAdaptiveSizePolicy&quot;\r\n\r\nAccording to [page 55 of this presentation][1], it needs to resize Eden so that max pause target accounts for the entire heap, not just to the new generation. Why is the collector being so aggressive? \r\n\r\nAverage young generation pause times are between 50-150ms for a heap size of 10g. If the presentation is correct (I haven&#39;t found anything else to support the statement), I would expect shrinking by half (20g heap), not 10x.\r\n\r\n\r\n  [1]: http://presentations2015.s3.amazonaws.com/40_presentation.pdf","title":"Why does G1GC shrink the young generation before starting mixed collections?","body":"<p>When G1 decides it needs to start doing mixed collections, it aggressively shrinks our Eden space from 10g to about 1g.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>{Heap before GC invocations=294 (full 0):\n garbage-first heap   total 20480000K, used 18304860K [0x00000002de000000, 0x00000002de804e20, 0x00000007c0000000)\n  region size 8192K, 1363 young (11165696K), 11 survivors (90112K)\n Metaspace       used 37327K, capacity 37826K, committed 38096K, reserved 1083392K\n  class space    used 3935K, capacity 4081K, committed 4096K, reserved 1048576K\n2016-03-31T20:57:31.002+0000: 7196.427: [GC pause (G1 Evacuation Pause) (young)\nDesired survivor size 717225984 bytes, new threshold 1 (max 1)\n- age   1:   41346816 bytes,   41346816 total\n 7196.427: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 144693, predicted base time: 48.88 ms, remaining time: 951.12 ms, target pause time: 1000.00 ms]\n 7196.427: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 1352 regions, survivors: 11 regions, predicted young region time: 20.72 ms]\n 7196.427: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 1352 regions, survivors: 11 regions, old: 0 regions, predicted pause time: 69.60 ms, target pause time: 1000.00 ms]\n 7196.494: [G1Ergonomics (Mixed GCs) start mixed GCs, reason: candidate old regions available, candidate old regions: 789 regions, reclaimable: 4703761904 bytes (22.43 %), threshold: 5.00 %]\n, 0.0673540 secs]\n   [Parallel Time: 60.1 ms, GC Workers: 18]\n      [GC Worker Start (ms): Min: 7196427.8, Avg: 7196428.1, Max: 7196428.2, Diff: 0.4]\n      [Ext Root Scanning (ms): Min: 7.3, Avg: 7.5, Max: 7.7, Diff: 0.4, Sum: 134.2]\n      [Update RS (ms): Min: 28.2, Avg: 28.8, Max: 29.9, Diff: 1.7, Sum: 518.4]\n         [Processed Buffers: Min: 41, Avg: 57.7, Max: 80, Diff: 39, Sum: 1039]\n      [Scan RS (ms): Min: 0.1, Avg: 0.2, Max: 0.5, Diff: 0.4, Sum: 3.7]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\n      [Object Copy (ms): Min: 22.1, Avg: 23.1, Max: 23.4, Diff: 1.3, Sum: 416.2]\n      [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\n         [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 18]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.1, Max: 0.2, Diff: 0.2, Sum: 2.5]\n      [GC Worker Total (ms): Min: 59.5, Avg: 59.7, Max: 60.0, Diff: 0.5, Sum: 1075.1]\n      [GC Worker End (ms): Min: 7196487.7, Avg: 7196487.8, Max: 7196487.9, Diff: 0.2]\n   [Code Root Fixup: 0.2 ms]\n   [Code Root Purge: 0.0 ms]\n   [Clear CT: 1.9 ms]\n   [Other: 5.2 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 0.5 ms]\n      [Ref Enq: 0.0 ms]\n      [Redirty Cards: 0.5 ms]\n      [Humongous Register: 0.2 ms]\n      [Humongous Reclaim: 0.1 ms]\n      [Free CSet: 2.3 ms]\n   [Eden: 10.6G(10.6G)-&gt;0.0B(848.0M) Survivors: 88.0M-&gt;152.0M Heap: 17.5G(19.5G)-&gt;7128.3M(19.5G)]\nHeap after GC invocations=295 (full 0):\n garbage-first heap   total 20480000K, used 7299344K [0x00000002de000000, 0x00000002de804e20, 0x00000007c0000000)\n  region size 8192K, 19 young (155648K), 19 survivors (155648K)\n Metaspace       used 37327K, capacity 37826K, committed 38096K, reserved 1083392K\n  class space    used 3935K, capacity 4081K, committed 4096K, reserved 1048576K\n}\n [Times: user=1.09 sys=0.00, real=0.07 secs]\n2016-03-31T20:57:31.070+0000: 7196.495: Total time for which application threads were stopped: 0.0699324 seconds, Stopping threads took: 0.0003462 seconds\n</code></pre>\n\n<p>This is after it's been running with 10-11g of Eden for 60 or more collections.</p>\n\n<p>Here are the appropriate JVM GC parameters we're running with</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-Xms20000m -Xmx20000m\n-XX:+UseG1GC \n-XX:G1RSetUpdatingPauseTimePercent=5 \n-XX:MaxGCPauseMillis=1000 \n-XX:GCTimeRatio=99 \n-XX:InitiatingHeapOccupancyPercent=35 \n-XX:MaxTenuringThreshold=1 \n-XX:G1ConcRefinementThreads=6 \n-XX:ConcGCThreads=18 \n-XX:ParallelGCThreads=18\n\n-XX:+PrintGCDetails\"\n-XX:+PrintGCDateStamps\"\n-XX:+PrintHeapAtGC\"\n-XX:+PrintTenuringDistribution\"\n-XX:+PrintGCApplicationStoppedTime\"\n-XX:+PrintPromotionFailure\"\n-XX:+PrintAdaptiveSizePolicy\"\n</code></pre>\n\n<p>According to <a href=\"http://presentations2015.s3.amazonaws.com/40_presentation.pdf\" rel=\"noreferrer\">page 55 of this presentation</a>, it needs to resize Eden so that max pause target accounts for the entire heap, not just to the new generation. Why is the collector being so aggressive? </p>\n\n<p>Average young generation pause times are between 50-150ms for a heap size of 10g. If the presentation is correct (I haven't found anything else to support the statement), I would expect shrinking by half (20g heap), not 10x.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1680487556,"post_id":75915593,"comment_id":133901724,"body_markdown":"Please edit your question to include the entire error message.","body":"Please edit your question to include the entire error message."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1680487619,"post_id":75915593,"comment_id":133901728,"body_markdown":"Googling &quot;java int max value&quot; shows that an `int` can store any number up to `2147483647`, so `100000` definitely is not too big.","body":"Googling &quot;java int max value&quot; shows that an <code>int</code> can store any number up to <code>2147483647</code>, so <code>100000</code> definitely is not too big."},{"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"score":0,"creation_date":1680488563,"post_id":75915593,"comment_id":133901821,"body_markdown":"When there are thousands of data, I can press enter and get the results. But when there are 100,000 data, I noticed that pressing enter does not end the input.","body":"When there are thousands of data, I can press enter and get the results. But when there are 100,000 data, I noticed that pressing enter does not end the input."},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1680488687,"post_id":75915593,"comment_id":133901831,"body_markdown":"That simply means there is a &#39;number&#39; that is either [A] too large for `nextLong()`, or [B] some non-digit in your input. And that input is somewhere deep down into the data. If you are asking: &quot;Is java, a tool used by many millions, randomly broken for no good reason&quot; the answer is virtually always: No. Stop blaming the tools, start taking the messages on face value: There is a non-long in there. Don&#39;t make it more complicated.","body":"That simply means there is a &#39;number&#39; that is either [A] too large for <code>nextLong()</code>, or [B] some non-digit in your input. And that input is somewhere deep down into the data. If you are asking: &quot;Is java, a tool used by many millions, randomly broken for no good reason&quot; the answer is virtually always: No. Stop blaming the tools, start taking the messages on face value: There is a non-long in there. Don&#39;t make it more complicated."},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1680488716,"post_id":75915593,"comment_id":133901835,"body_markdown":"If truly this was too much data, you&#39;d get an OutOfMemoryError.","body":"If truly this was too much data, you&#39;d get an OutOfMemoryError."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680488724,"post_id":75915593,"comment_id":133901837,"body_markdown":"As the comment from @Code-Apprentice said,  please edit the question to include the entire error message. Include the stack trace, because that will point to a specific call sequence, showing line numbers. That can be used to point to the line in your code that triggered the exception.","body":"As the comment from @Code-Apprentice said,  please edit the question to include the entire error message. Include the stack trace, because that will point to a specific call sequence, showing line numbers. That can be used to point to the line in your code that triggered the exception."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680488908,"post_id":75915593,"comment_id":133901849,"body_markdown":"By any chance, when you enter `100000` is that exactly what you enter? Or do you enter something like `100,000` ?","body":"By any chance, when you enter <code>100000</code> is that exactly what you enter? Or do you enter something like <code>100,000</code> ?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1680488943,"post_id":75915593,"comment_id":133901851,"body_markdown":"I recommend [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code. For example, you can add `System.out.println()` calls to print values of variables. This will help you see the values that are ok up until the program crashes on the problem. Then find the last of those values in your input data to figure out what the problem is.","body":"I recommend <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips on debugging your code. For example, you can add <code>System.out.println()</code> calls to print values of variables. This will help you see the values that are ok up until the program crashes on the problem. Then find the last of those values in your input data to figure out what the problem is."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680489341,"post_id":75915593,"comment_id":133901888,"body_markdown":"More likely there is an error in the data, causing your scanner to be unable to process a value as a `long`. Try changing `nextLong()` to `next()` to read 2 `String`  Objects. Use `Long.parseLong (String str)` to get the `long` values. Put the `for` loop block inside a `try` block and add catch `(NumberFormatException ex)` block, where you display the values of `n` and the two input strings.","body":"More likely there is an error in the data, causing your scanner to be unable to process a value as a <code>long</code>. Try changing <code>nextLong()</code> to <code>next()</code> to read 2 <code>String</code>  Objects. Use <code>Long.parseLong (String str)</code> to get the <code>long</code> values. Put the <code>for</code> loop block inside a <code>try</code> block and add catch <code>(NumberFormatException ex)</code> block, where you display the values of <code>n</code> and the two input strings."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680490555,"post_id":75915593,"comment_id":133902018,"body_markdown":"How are you entering 100000 pairs of numbers from stdin (i.e., from the console or System.in) ?","body":"How are you entering 100000 pairs of numbers from stdin (i.e., from the console or System.in) ?"},{"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"score":0,"creation_date":1680490772,"post_id":75915593,"comment_id":133902034,"body_markdown":"@OldDogProgrammer yes，i enter it by System in","body":"@OldDogProgrammer yes，i enter it by System in"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1680490795,"post_id":75915593,"comment_id":133902037,"body_markdown":"You type 200,000 numbers by hand?","body":"You type 200,000 numbers by hand?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680490945,"post_id":75915593,"comment_id":133902057,"body_markdown":"That many data items should be in a file. There&#39;s a good chance of making a typing error. Try using a `Scanner` to wrap something that reads from a file instead of `System.in`.","body":"That many data items should be in a file. There&#39;s a good chance of making a typing error. Try using a <code>Scanner</code> to wrap something that reads from a file instead of <code>System.in</code>."},{"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"score":0,"creation_date":1680492482,"post_id":75915593,"comment_id":133902195,"body_markdown":"@OldDogProgrammer i copy the data","body":"@OldDogProgrammer i copy the data"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680508247,"post_id":75915593,"comment_id":133904192,"body_markdown":"Perhaps you have an odd number of numbers in your input.","body":"Perhaps you have an odd number of numbers in your input."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680537015,"post_id":75915593,"comment_id":133911392,"body_markdown":"Even so, you can make a mistake using copy-and-paste. Try altering the program to read from a file. An alternative is to add the count (100000 or other value) to the top of the file, and have your program process it using stdin redirection.","body":"Even so, you can make a mistake using copy-and-paste. Try altering the program to read from a file. An alternative is to add the count (100000 or other value) to the top of the file, and have your program process it using stdin redirection."},{"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"score":0,"creation_date":1680579585,"post_id":75915593,"comment_id":133918106,"body_markdown":"Thanks to everyone. I knew the reason. If you read a large amount of data into memory at once, it may cause memory overflow, and the program may get stuck in the data reading stage because the operating system cannot allocate enough memory for the program, resulting in program hang or crash. In this case, you can try to use buffered reading or external sorting methods to alleviate memory pressure.","body":"Thanks to everyone. I knew the reason. If you read a large amount of data into memory at once, it may cause memory overflow, and the program may get stuck in the data reading stage because the operating system cannot allocate enough memory for the program, resulting in program hang or crash. In this case, you can try to use buffered reading or external sorting methods to alleviate memory pressure."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680623642,"post_id":75915593,"comment_id":133927919,"body_markdown":"As true as that may be, memory overflow should not cause a `java.util.InputMismatchException`. If it does, you may have uncovered a Java bug. It might be a good idea to report it.","body":"As true as that may be, memory overflow should not cause a <code>java.util.InputMismatchException</code>. If it does, you may have uncovered a Java bug. It might be a good idea to report it."}],"owner":{"account_id":28198561,"reputation":1,"user_id":21552739,"display_name":"little little"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680490003,"creation_date":1680487460,"question_id":75915593,"body_markdown":"I did not get an error when I input a few thousand data, but when the number of data changed to 100000, I got an error &#39;Exception in thread &quot;main&quot; java.util.InputMismatchException&#39;. I&#39;m not sure if it is a problem with Scanner. Can anyone help me with this issue?&quot;\r\n\r\n```\r\nimport java.math.BigInteger;\r\nimport java.util.*;\r\n\r\nclass Work {\r\n    public long end;\r\n    public long money;\r\n    Work(long end, long money){\r\n        this.end = end;\r\n        this.money = money;\r\n    }\r\n}\r\npublic class TanXin {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int n = scanner.nextInt();\r\n        List&lt;Work&gt; works = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            long end = scanner.nextLong();\r\n            long money = scanner.nextLong();\r\n            works.add(new Work(end ,money));\r\n        }\r\n        Collections.sort(works, new Comparator&lt;Work&gt;() {\r\n            @Override\r\n            public int compare(Work o1, Work o2) {\r\n                return Long.compare(o1.end, o2.end);\r\n            }\r\n        });\r\n        scanner.nextLine();\r\n        long curEnd =  works.get(0).end;\r\n        long money = works.get(0).money;\r\n        BigInteger result = BigInteger.valueOf(0);\r\n        for (int i = 1; i &lt; works.size(); i++) {\r\n            Work work = works.get(i);\r\n            if(work.end == curEnd){\r\n                money = Math.max(money, work.money);\r\n            }\r\n            else {\r\n                result=result.add(BigInteger.valueOf(money));\r\n                money = work.money;\r\n                curEnd = work.end;\r\n            }\r\n        }\r\n        result=result.add(BigInteger.valueOf(money));\r\n        System.out.println(result);\r\n    }\r\n}\r\n\r\n```\r\nmy input is similar to this:\r\n\r\n100000  \r\n801615855 349230664\r\n887145852 256709348\r\n543490607 406712523\r\n290306792 866994656\r\n761434274 614622174\r\n523543132 477488683\r\n416651127 515580101\r\n610336950 152185241\r\n337713494 547698342\r\n6453239 251894056\r\n17161871 278487265\r\n309123183 826630026\r\n22171935 97670396\r\n937046566 551871611\r\n338360787 511206428\r\n234499030 12274630\r\n999066863 377262036\r\n498450141 907352279\r\n699130053 40056368\r\n341503872 598356413\r\n92329093 58969313\r\n839293680 912223354\r\n435852220 370051435\r\n328226392 703616380\r\n84394712 320189993\r\n89139302 692379179\r\n668921100 37915667\r\n750500527 980565603\r\n951214595 443240740\r\n342283327 733767608\r\n674959282 407118651\r\n114057416 595985258\r\n908001458 748864346\r\n406064066 170499053","title":"java scanner exception maybe the data is to big？","body":"<p>I did not get an error when I input a few thousand data, but when the number of data changed to 100000, I got an error 'Exception in thread &quot;main&quot; java.util.InputMismatchException'. I'm not sure if it is a problem with Scanner. Can anyone help me with this issue?&quot;</p>\n<pre><code>import java.math.BigInteger;\nimport java.util.*;\n\nclass Work {\n    public long end;\n    public long money;\n    Work(long end, long money){\n        this.end = end;\n        this.money = money;\n    }\n}\npublic class TanXin {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int n = scanner.nextInt();\n        List&lt;Work&gt; works = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; n; i++) {\n            long end = scanner.nextLong();\n            long money = scanner.nextLong();\n            works.add(new Work(end ,money));\n        }\n        Collections.sort(works, new Comparator&lt;Work&gt;() {\n            @Override\n            public int compare(Work o1, Work o2) {\n                return Long.compare(o1.end, o2.end);\n            }\n        });\n        scanner.nextLine();\n        long curEnd =  works.get(0).end;\n        long money = works.get(0).money;\n        BigInteger result = BigInteger.valueOf(0);\n        for (int i = 1; i &lt; works.size(); i++) {\n            Work work = works.get(i);\n            if(work.end == curEnd){\n                money = Math.max(money, work.money);\n            }\n            else {\n                result=result.add(BigInteger.valueOf(money));\n                money = work.money;\n                curEnd = work.end;\n            }\n        }\n        result=result.add(BigInteger.valueOf(money));\n        System.out.println(result);\n    }\n}\n\n</code></pre>\n<p>my input is similar to this:</p>\n<p>100000<br />\n801615855 349230664\n887145852 256709348\n543490607 406712523\n290306792 866994656\n761434274 614622174\n523543132 477488683\n416651127 515580101\n610336950 152185241\n337713494 547698342\n6453239 251894056\n17161871 278487265\n309123183 826630026\n22171935 97670396\n937046566 551871611\n338360787 511206428\n234499030 12274630\n999066863 377262036\n498450141 907352279\n699130053 40056368\n341503872 598356413\n92329093 58969313\n839293680 912223354\n435852220 370051435\n328226392 703616380\n84394712 320189993\n89139302 692379179\n668921100 37915667\n750500527 980565603\n951214595 443240740\n342283327 733767608\n674959282 407118651\n114057416 595985258\n908001458 748864346\n406064066 170499053</p>\n"},{"tags":["java","methods","get"],"comments":[{"owner":{"account_id":2205293,"reputation":3365,"user_id":4136999,"display_name":"toyota Supra"},"score":0,"creation_date":1680489527,"post_id":75915675,"comment_id":133901910,"body_markdown":"Please post  as a text not screenshot.","body":"Please post  as a text not screenshot."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1680490489,"post_id":75915675,"comment_id":133902012,"body_markdown":"If `Emp1.getMonthly()` returns a number value of some type (not a String) then you should be able to do this.  You do not mention what error you are getting.","body":"If <code>Emp1.getMonthly()</code> returns a number value of some type (not a String) then you should be able to do this.  You do not mention what error you are getting."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680514856,"post_id":75915675,"comment_id":133905628,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26779143,"reputation":1,"user_id":20374276,"display_name":"newbie.programmer25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680489219,"creation_date":1680489219,"question_id":75915675,"body_markdown":"[enter image description here](https://i.stack.imgur.com/W3rQs.png)\r\n\r\nI am trying to get the Yearly salary of an employee with a %10 raise. But i can figure out how to calculate the total since the value of the monthly is in the Get Method\r\n\r\nI tried settting it like this: \r\n\r\nSystem.out.println(&quot;Yearly with %10 raise: &quot; + (Emp1.getMonthly() * .10) * year);","title":"Doing Calculations with Get Methods","body":"<p><a href=\"https://i.stack.imgur.com/W3rQs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am trying to get the Yearly salary of an employee with a %10 raise. But i can figure out how to calculate the total since the value of the monthly is in the Get Method</p>\n<p>I tried settting it like this:</p>\n<p>System.out.println(&quot;Yearly with %10 raise: &quot; + (Emp1.getMonthly() * .10) * year);</p>\n"},{"tags":["java","ruby","visual-studio-code","jruby"],"comments":[{"owner":{"account_id":4672584,"reputation":10125,"user_id":3784008,"display_name":"anothermh"},"score":0,"creation_date":1680554119,"post_id":75915609,"comment_id":133915250,"body_markdown":"Great question! Latest information I&#39;ve been able to find directly is from 9 years ago: https://stackoverflow.com/q/25238874/3784008. Most suggestions elsewhere are to use something other than VSCode which is itself fairly recent. MRI hasn&#39;t really had first-class support in VSCode either until Shopify released https://github.com/Shopify/vscode-shopify-ruby. JRuby is going to be tough to get nailed down in VSCode, I think.","body":"Great question! Latest information I&#39;ve been able to find directly is from 9 years ago: <a href=\"https://stackoverflow.com/q/25238874/3784008\">stackoverflow.com/q/25238874/3784008</a>. Most suggestions elsewhere are to use something other than VSCode which is itself fairly recent. MRI hasn&#39;t really had first-class support in VSCode either until Shopify released <a href=\"https://github.com/Shopify/vscode-shopify-ruby\" rel=\"nofollow noreferrer\">github.com/Shopify/vscode-shopify-ruby</a>. JRuby is going to be tough to get nailed down in VSCode, I think."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1680590728,"post_id":75915609,"comment_id":133919487,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.\n\nPlease see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.  Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":6892061,"reputation":811,"user_id":5295157,"accept_rate":43,"display_name":"shahram kalantari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1680487737,"creation_date":1680487737,"question_id":75915609,"body_markdown":"I have a JRuby app which has a controller, in which I call a method of a Java class. As far as I understood, I need to compile the java code (.java file) into either a .class file or a .jar file to be able to reference it in my controller. I have made it work by compiling the java code into a .class file and calling the java class method from my controller. However, compiling the java code and creating a binary file (.class) prevents me from debugging the java code within the JRuby app. My question is, is there a way to be able to put breakpoints in my java code when running the JRuby app and inspect the values? \r\n\r\nI am new to Java and any help would be appreciated. \r\nP.S. I am using visual studio code as my IDE.\r\n\r\n","title":"Is it possible to debug the java code inside a jruby app, in visual studio code?","body":"<p>I have a JRuby app which has a controller, in which I call a method of a Java class. As far as I understood, I need to compile the java code (.java file) into either a .class file or a .jar file to be able to reference it in my controller. I have made it work by compiling the java code into a .class file and calling the java class method from my controller. However, compiling the java code and creating a binary file (.class) prevents me from debugging the java code within the JRuby app. My question is, is there a way to be able to put breakpoints in my java code when running the JRuby app and inspect the values?</p>\n<p>I am new to Java and any help would be appreciated.\nP.S. I am using visual studio code as my IDE.</p>\n"},{"tags":["java","android","raspberry-pi"],"owner":{"account_id":28198428,"reputation":11,"user_id":21552627,"display_name":"simmytwice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680487246,"creation_date":1680487246,"question_id":75915583,"body_markdown":"There is no connection between Raspberry Pi and the Android application I made.\r\n\r\nI&#39;m building an application that connects to Raspberry Pi 4 with Bluetooth and receives data. However, when attempting to access Raspberry Pi with an application, the pairing lasted only a few seconds, then disconnected again and became unreachable.I installed an essential library on Raspberry Pi, and I even completed registering my Android device. I couldn&#39;t check what the problem was even when I looked at the code. I wonder if the code has changed since the new &quot;permissioncheck&quot; was created in June 2022, so it doesn&#39;t work properly.I want to know why this problem occurs.\r\n\r\n**MainActivity Code**\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final int PERMISSION_REQUEST_COARSE_LOCATION = 1;\r\n    TextView mTvBluetoothStatus;\r\n    TextView mTvReceiveData;\r\n    TextView mTvSendData;\r\n    Button mBtnBluetoothOn;\r\n    Button mBtnBluetoothOff;\r\n    Button mBtnConnect;\r\n    Button mBtnSendData;\r\n\r\n    BluetoothAdapter mBluetoothAdapter;\r\n    Set&lt;BluetoothDevice&gt; mPairedDevices;\r\n    List&lt;String&gt; mListPairedDevices;\r\n\r\n    Handler mBluetoothHandler;\r\n    ConnectedBluetoothThread mThreadConnectedBluetooth;\r\n    BluetoothDevice mBluetoothDevice;\r\n    BluetoothSocket mBluetoothSocket;\r\n\r\n    final static int BT_REQUEST_ENABLE = 1;\r\n    final static int BT_MESSAGE_READ = 2;\r\n    final static int BT_CONNECTING_STATUS = 3;\r\n    private static final int PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION = 1;\r\n    final static UUID BT_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n    private String Tag;\r\n\r\n    @SuppressLint(&quot;HandlerLeak&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTvBluetoothStatus = (TextView) findViewById(R.id.tvBluetoothStatus);\r\n        mTvReceiveData = (TextView) findViewById(R.id.tvReceiveData);\r\n        mTvSendData = (EditText) findViewById(R.id.tvSendData);\r\n        mBtnBluetoothOn = (Button) findViewById(R.id.btnBluetoothOn);\r\n        mBtnBluetoothOff = (Button) findViewById(R.id.btnBluetoothOff);\r\n        mBtnConnect = (Button) findViewById(R.id.btnConnect);\r\n        mBtnSendData = (Button) findViewById(R.id.btnSendData);\r\n\r\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n                builder.setTitle(&quot;Need Bluetooth Access&quot;);\r\n                builder.setMessage(&quot;Need location Access&quot;);\r\n                builder.setPositiveButton(android.R.string.ok, null);\r\n\r\n                builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\r\n\r\n                    @Override\r\n                    public void onDismiss(DialogInterface dialog) {\r\n                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_SCAN}, 2 );\r\n                    }\r\n                });\r\n                builder.show();\r\n            }\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n                builder.setTitle(&quot;Need Bluetooth Access&quot;);\r\n                builder.setMessage(&quot;Need location Access&quot;);\r\n                builder.setPositiveButton(android.R.string.ok, null);\r\n\r\n                builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\r\n\r\n                    @Override\r\n                    public void onDismiss(DialogInterface dialog) {\r\n                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 3 );\r\n                    }\r\n                });\r\n                builder.show();\r\n            }\r\n        }\r\n\r\n\r\n        mBtnBluetoothOn.setOnClickListener(new Button.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                bluetoothOn();\r\n            }\r\n        });\r\n        mBtnBluetoothOff.setOnClickListener(view -&gt; bluetoothOff());\r\n        mBtnConnect.setOnClickListener(view -&gt; listPairedDevices());\r\n        mBtnSendData.setOnClickListener(view -&gt; {\r\n            if (mThreadConnectedBluetooth != null) {\r\n                mThreadConnectedBluetooth.write(mTvSendData.getText().toString());\r\n                mTvSendData.setText(&quot;&quot;);\r\n            }\r\n        });\r\n        mBluetoothHandler = new Handler(Looper.getMainLooper()) {\r\n            public void handleMessage(android.os.Message msg) {\r\n                if (msg.what == BT_MESSAGE_READ) {\r\n                    String readMessage = null;\r\n                    readMessage = new String((byte[]) msg.obj, StandardCharsets.UTF_8);\r\n                    mTvReceiveData.setText(readMessage);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    void bluetoothOn() {\r\n        if (mBluetoothAdapter == null) {\r\n            Toast.makeText(getApplicationContext(), &quot;This device does not support Bluetooth&quot;, Toast.LENGTH_LONG).show();\r\n        } else {\r\n            if (mBluetoothAdapter.isEnabled()) {\r\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth is already enabled&quot;, Toast.LENGTH_LONG).show();\r\n                mTvBluetoothStatus.setText(&quot;Activation&quot;);\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth is not enabled&quot;, Toast.LENGTH_LONG).show();\r\n                Intent intentBluetoothEnable = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    // TODO: Consider calling\r\n                    //    ActivityCompat#requestPermissions\r\n                    // here to request the missing permissions, and then overriding\r\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                    //                                          int[] grantResults)\r\n                    // to handle the case where the user grants the permission. See the documentation\r\n                    // for ActivityCompat#requestPermissions for more details.\r\n                    return;\r\n                }\r\n                startActivityForResult(intentBluetoothEnable, BT_REQUEST_ENABLE);\r\n            }\r\n        }\r\n    }\r\n\r\n    void bluetoothOff() {\r\n        if (mBluetoothAdapter.isEnabled()) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            mBluetoothAdapter.disable();\r\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth disabled&quot;, Toast.LENGTH_SHORT).show();\r\n            mTvBluetoothStatus.setText(&quot;Deactivation&quot;);\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth is already disabled&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,String permissions [], int [] grantResults) {\r\n        switch (requestCode) {\r\n            case PERMISSION_REQUEST_COARSE_LOCATION: {\r\n                if (grantResults [0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Log.d(&quot;Debugging&quot;, &quot;coarse location permission granted&quot;);\r\n                } else {\r\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                    builder.setTitle(&quot;Restrict Permissions&quot;);\r\n                    builder.setMessage(&quot;BT cannot be retrieved and associated because location information and access are not allowed&quot;);\r\n                    builder.setPositiveButton(android.R.string.ok, null);\r\n                    builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\r\n\r\n                        @Override\r\n                        public void onDismiss(DialogInterface dialog) {\r\n                        }\r\n\r\n                    });\r\n                    builder.show();\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        switch (requestCode) {\r\n            case BT_REQUEST_ENABLE:\r\n                if (resultCode == RESULT_OK) { \r\n                    Toast.makeText(getApplicationContext(), &quot;Enable Bluetooth&quot;, Toast.LENGTH_LONG).show();\r\n                    mTvBluetoothStatus.setText(&quot;Enable&quot;);\r\n                } else if (resultCode == RESULT_CANCELED) { \r\n                    Toast.makeText(getApplicationContext(), &quot;Cancel&quot;, Toast.LENGTH_LONG).show();\r\n                    mTvBluetoothStatus.setText(&quot;Disable&quot;);\r\n                }\r\n                break;\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n\r\n    void listPairedDevices() {\r\n        if (mBluetoothAdapter.isEnabled()) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            mPairedDevices = mBluetoothAdapter.getBondedDevices();\r\n\r\n            if (mPairedDevices.size() &gt; 0) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setTitle(&quot;Check Device&quot;);\r\n\r\n                mListPairedDevices = new ArrayList&lt;String&gt;();\r\n                for (BluetoothDevice device : mPairedDevices) {\r\n                    mListPairedDevices.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n                }\r\n                final CharSequence[] items = mListPairedDevices.toArray(new CharSequence[mListPairedDevices.size()]);\r\n                mListPairedDevices.toArray(new CharSequence[mListPairedDevices.size()]);\r\n\r\n                builder.setItems(items, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int item) {\r\n                        connectSelectedDevice(items[item].toString());\r\n                    }\r\n                });\r\n                AlertDialog alert = builder.create();\r\n                alert.show();\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;no paired devices.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth disable&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    void connectSelectedDevice(String selectedDeviceName) {\r\n        for (BluetoothDevice tempDevice : mPairedDevices) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissionson\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            if (selectedDeviceName.equals(tempDevice.getName())) {\r\n                mBluetoothDevice = tempDevice;\r\n                break;\r\n            }\r\n        }\r\n        try {\r\n            mBluetoothSocket = mBluetoothDevice.createRfcommSocketToServiceRecord(BT_UUID);\r\n        } catch (IOException e) {\r\n            Toast.makeText(getApplicationContext(), &quot;error occurred while connecting to Bluetooth.&quot;, Toast.LENGTH_LONG).show();\r\n            e.printStackTrace();\r\n        }\r\n        try{\r\n            mBluetoothSocket.connect();}\r\n        catch(IOException e) {\r\n            try\r\n            {\r\n                mBluetoothSocket.close();\r\n            }\r\n            catch (IOException e2)\r\n            {\r\n                Log.e(Tag, &quot;Close socket&quot;, e2);\r\n            }\r\n        }\r\n\r\n        mThreadConnectedBluetooth = new ConnectedBluetoothThread(mBluetoothSocket);\r\n        Toast.makeText(getApplicationContext(), &quot;Bluetooth connect&quot;, Toast.LENGTH_LONG).show();\r\n        mThreadConnectedBluetooth.start();\r\n\r\n    }\r\n\r\n    private class ConnectedBluetoothThread extends Thread {\r\n        private final BluetoothSocket mmSocket;\r\n        private final InputStream mmInStream;\r\n        private final OutputStream mmOutStream;\r\n\r\n        public ConnectedBluetoothThread(BluetoothSocket socket) {\r\n            mmSocket = socket;\r\n            InputStream tmpIn = null;\r\n            OutputStream tmpOut = null;\r\n\r\n            try {\r\n                tmpIn = socket.getInputStream();\r\n                tmpOut = socket.getOutputStream();\r\n            } catch (IOException e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Error connecting socket.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            mmInStream = tmpIn;\r\n            mmOutStream = tmpOut;\r\n        }\r\n        public void run() {\r\n            byte[] buffer = new byte[1024];\r\n            int bytes;\r\n\r\n            while (true) {\r\n                try {\r\n                    bytes = mmInStream.available();\r\n                    if (bytes != 0) {\r\n                        SystemClock.sleep(100);\r\n                        bytes = mmInStream.available();\r\n                        bytes = mmInStream.read(buffer, 0, bytes);\r\n                        mBluetoothHandler.obtainMessage(BT_MESSAGE_READ, bytes, -1, buffer).sendToTarget();\r\n                    }\r\n                } catch (IOException e) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        public void write(String str) {\r\n            byte[] bytes = str.getBytes();\r\n            try {\r\n                mmOutStream.write(bytes);\r\n            } catch (IOException e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Error transferring data&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n        public void cancel() {\r\n            try {\r\n                mmSocket.close();\r\n            } catch (IOException e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Error releasing socket&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"There is no Bluetooth connection between the Android application and Raspberry Pi","body":"<p>There is no connection between Raspberry Pi and the Android application I made.</p>\n<p>I'm building an application that connects to Raspberry Pi 4 with Bluetooth and receives data. However, when attempting to access Raspberry Pi with an application, the pairing lasted only a few seconds, then disconnected again and became unreachable.I installed an essential library on Raspberry Pi, and I even completed registering my Android device. I couldn't check what the problem was even when I looked at the code. I wonder if the code has changed since the new &quot;permissioncheck&quot; was created in June 2022, so it doesn't work properly.I want to know why this problem occurs.</p>\n<p><strong>MainActivity Code</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_COARSE_LOCATION = 1;\n    TextView mTvBluetoothStatus;\n    TextView mTvReceiveData;\n    TextView mTvSendData;\n    Button mBtnBluetoothOn;\n    Button mBtnBluetoothOff;\n    Button mBtnConnect;\n    Button mBtnSendData;\n\n    BluetoothAdapter mBluetoothAdapter;\n    Set&lt;BluetoothDevice&gt; mPairedDevices;\n    List&lt;String&gt; mListPairedDevices;\n\n    Handler mBluetoothHandler;\n    ConnectedBluetoothThread mThreadConnectedBluetooth;\n    BluetoothDevice mBluetoothDevice;\n    BluetoothSocket mBluetoothSocket;\n\n    final static int BT_REQUEST_ENABLE = 1;\n    final static int BT_MESSAGE_READ = 2;\n    final static int BT_CONNECTING_STATUS = 3;\n    private static final int PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION = 1;\n    final static UUID BT_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n    private String Tag;\n\n    @SuppressLint(&quot;HandlerLeak&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mTvBluetoothStatus = (TextView) findViewById(R.id.tvBluetoothStatus);\n        mTvReceiveData = (TextView) findViewById(R.id.tvReceiveData);\n        mTvSendData = (EditText) findViewById(R.id.tvSendData);\n        mBtnBluetoothOn = (Button) findViewById(R.id.btnBluetoothOn);\n        mBtnBluetoothOff = (Button) findViewById(R.id.btnBluetoothOff);\n        mBtnConnect = (Button) findViewById(R.id.btnConnect);\n        mBtnSendData = (Button) findViewById(R.id.btnSendData);\n\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n\n                builder.setTitle(&quot;Need Bluetooth Access&quot;);\n                builder.setMessage(&quot;Need location Access&quot;);\n                builder.setPositiveButton(android.R.string.ok, null);\n\n                builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\n\n                    @Override\n                    public void onDismiss(DialogInterface dialog) {\n                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_SCAN}, 2 );\n                    }\n                });\n                builder.show();\n            }\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            if (this.checkSelfPermission(Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n\n                builder.setTitle(&quot;Need Bluetooth Access&quot;);\n                builder.setMessage(&quot;Need location Access&quot;);\n                builder.setPositiveButton(android.R.string.ok, null);\n\n                builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\n\n                    @Override\n                    public void onDismiss(DialogInterface dialog) {\n                        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 3 );\n                    }\n                });\n                builder.show();\n            }\n        }\n\n\n        mBtnBluetoothOn.setOnClickListener(new Button.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                bluetoothOn();\n            }\n        });\n        mBtnBluetoothOff.setOnClickListener(view -&gt; bluetoothOff());\n        mBtnConnect.setOnClickListener(view -&gt; listPairedDevices());\n        mBtnSendData.setOnClickListener(view -&gt; {\n            if (mThreadConnectedBluetooth != null) {\n                mThreadConnectedBluetooth.write(mTvSendData.getText().toString());\n                mTvSendData.setText(&quot;&quot;);\n            }\n        });\n        mBluetoothHandler = new Handler(Looper.getMainLooper()) {\n            public void handleMessage(android.os.Message msg) {\n                if (msg.what == BT_MESSAGE_READ) {\n                    String readMessage = null;\n                    readMessage = new String((byte[]) msg.obj, StandardCharsets.UTF_8);\n                    mTvReceiveData.setText(readMessage);\n                }\n            }\n        };\n    }\n\n    void bluetoothOn() {\n        if (mBluetoothAdapter == null) {\n            Toast.makeText(getApplicationContext(), &quot;This device does not support Bluetooth&quot;, Toast.LENGTH_LONG).show();\n        } else {\n            if (mBluetoothAdapter.isEnabled()) {\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth is already enabled&quot;, Toast.LENGTH_LONG).show();\n                mTvBluetoothStatus.setText(&quot;Activation&quot;);\n            } else {\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth is not enabled&quot;, Toast.LENGTH_LONG).show();\n                Intent intentBluetoothEnable = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                    // TODO: Consider calling\n                    //    ActivityCompat#requestPermissions\n                    // here to request the missing permissions, and then overriding\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                    //                                          int[] grantResults)\n                    // to handle the case where the user grants the permission. See the documentation\n                    // for ActivityCompat#requestPermissions for more details.\n                    return;\n                }\n                startActivityForResult(intentBluetoothEnable, BT_REQUEST_ENABLE);\n            }\n        }\n    }\n\n    void bluetoothOff() {\n        if (mBluetoothAdapter.isEnabled()) {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            mBluetoothAdapter.disable();\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth disabled&quot;, Toast.LENGTH_SHORT).show();\n            mTvBluetoothStatus.setText(&quot;Deactivation&quot;);\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth is already disabled&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,String permissions [], int [] grantResults) {\n        switch (requestCode) {\n            case PERMISSION_REQUEST_COARSE_LOCATION: {\n                if (grantResults [0] == PackageManager.PERMISSION_GRANTED) {\n                    Log.d(&quot;Debugging&quot;, &quot;coarse location permission granted&quot;);\n                } else {\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                    builder.setTitle(&quot;Restrict Permissions&quot;);\n                    builder.setMessage(&quot;BT cannot be retrieved and associated because location information and access are not allowed&quot;);\n                    builder.setPositiveButton(android.R.string.ok, null);\n                    builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\n\n                        @Override\n                        public void onDismiss(DialogInterface dialog) {\n                        }\n\n                    });\n                    builder.show();\n                }\n                return;\n            }\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        switch (requestCode) {\n            case BT_REQUEST_ENABLE:\n                if (resultCode == RESULT_OK) { \n                    Toast.makeText(getApplicationContext(), &quot;Enable Bluetooth&quot;, Toast.LENGTH_LONG).show();\n                    mTvBluetoothStatus.setText(&quot;Enable&quot;);\n                } else if (resultCode == RESULT_CANCELED) { \n                    Toast.makeText(getApplicationContext(), &quot;Cancel&quot;, Toast.LENGTH_LONG).show();\n                    mTvBluetoothStatus.setText(&quot;Disable&quot;);\n                }\n                break;\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n\n    void listPairedDevices() {\n        if (mBluetoothAdapter.isEnabled()) {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissions\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            mPairedDevices = mBluetoothAdapter.getBondedDevices();\n\n            if (mPairedDevices.size() &gt; 0) {\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                builder.setTitle(&quot;Check Device&quot;);\n\n                mListPairedDevices = new ArrayList&lt;String&gt;();\n                for (BluetoothDevice device : mPairedDevices) {\n                    mListPairedDevices.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n                }\n                final CharSequence[] items = mListPairedDevices.toArray(new CharSequence[mListPairedDevices.size()]);\n                mListPairedDevices.toArray(new CharSequence[mListPairedDevices.size()]);\n\n                builder.setItems(items, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int item) {\n                        connectSelectedDevice(items[item].toString());\n                    }\n                });\n                AlertDialog alert = builder.create();\n                alert.show();\n            } else {\n                Toast.makeText(getApplicationContext(), &quot;no paired devices.&quot;, Toast.LENGTH_LONG).show();\n            }\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth disable&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    void connectSelectedDevice(String selectedDeviceName) {\n        for (BluetoothDevice tempDevice : mPairedDevices) {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                // TODO: Consider calling\n                //    ActivityCompat#requestPermissionson\n                // here to request the missing permissions, and then overriding\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                //                                          int[] grantResults)\n                // to handle the case where the user grants the permission. See the documentation\n                // for ActivityCompat#requestPermissions for more details.\n                return;\n            }\n            if (selectedDeviceName.equals(tempDevice.getName())) {\n                mBluetoothDevice = tempDevice;\n                break;\n            }\n        }\n        try {\n            mBluetoothSocket = mBluetoothDevice.createRfcommSocketToServiceRecord(BT_UUID);\n        } catch (IOException e) {\n            Toast.makeText(getApplicationContext(), &quot;error occurred while connecting to Bluetooth.&quot;, Toast.LENGTH_LONG).show();\n            e.printStackTrace();\n        }\n        try{\n            mBluetoothSocket.connect();}\n        catch(IOException e) {\n            try\n            {\n                mBluetoothSocket.close();\n            }\n            catch (IOException e2)\n            {\n                Log.e(Tag, &quot;Close socket&quot;, e2);\n            }\n        }\n\n        mThreadConnectedBluetooth = new ConnectedBluetoothThread(mBluetoothSocket);\n        Toast.makeText(getApplicationContext(), &quot;Bluetooth connect&quot;, Toast.LENGTH_LONG).show();\n        mThreadConnectedBluetooth.start();\n\n    }\n\n    private class ConnectedBluetoothThread extends Thread {\n        private final BluetoothSocket mmSocket;\n        private final InputStream mmInStream;\n        private final OutputStream mmOutStream;\n\n        public ConnectedBluetoothThread(BluetoothSocket socket) {\n            mmSocket = socket;\n            InputStream tmpIn = null;\n            OutputStream tmpOut = null;\n\n            try {\n                tmpIn = socket.getInputStream();\n                tmpOut = socket.getOutputStream();\n            } catch (IOException e) {\n                Toast.makeText(getApplicationContext(), &quot;Error connecting socket.&quot;, Toast.LENGTH_LONG).show();\n            }\n\n            mmInStream = tmpIn;\n            mmOutStream = tmpOut;\n        }\n        public void run() {\n            byte[] buffer = new byte[1024];\n            int bytes;\n\n            while (true) {\n                try {\n                    bytes = mmInStream.available();\n                    if (bytes != 0) {\n                        SystemClock.sleep(100);\n                        bytes = mmInStream.available();\n                        bytes = mmInStream.read(buffer, 0, bytes);\n                        mBluetoothHandler.obtainMessage(BT_MESSAGE_READ, bytes, -1, buffer).sendToTarget();\n                    }\n                } catch (IOException e) {\n                    break;\n                }\n            }\n        }\n        public void write(String str) {\n            byte[] bytes = str.getBytes();\n            try {\n                mmOutStream.write(bytes);\n            } catch (IOException e) {\n                Toast.makeText(getApplicationContext(), &quot;Error transferring data&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n        public void cancel() {\n            try {\n                mmSocket.close();\n            } catch (IOException e) {\n                Toast.makeText(getApplicationContext(), &quot;Error releasing socket&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","equals","hashcode","overriding"],"answers":[{"tags":[],"owner":{"account_id":2314453,"reputation":4203,"user_id":2031799,"display_name":"Mikhail"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1362306949,"creation_date":1362306220,"answer_id":15184674,"question_id":15184637,"body_markdown":"[GNU Trove][1] allows you to provide specific TObjectHashingStrategy  with your own hash and equals functions for TCustomHashMap.\r\n\r\n\r\n  [1]: http://trove4j.sourceforge.net/html/overview.html","title":"Custom hashcode/equals operation for HashMap","body":"<p><a href=\"http://trove4j.sourceforge.net/html/overview.html\" rel=\"noreferrer\">GNU Trove</a> allows you to provide specific TObjectHashingStrategy  with your own hash and equals functions for TCustomHashMap.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592833711,"creation_date":1592833711,"answer_id":62515976,"question_id":15184637,"body_markdown":"Initial Java API bounded `equals` / `hashCode` behavior to type (class) because they didn&#39;t have lambdas back those days.\r\n\r\nIn order to reuse existing API / implementations - make ephemeral keys:\r\n\r\n    public CountryKey {\r\n        private String country;\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (!(obj instanceof CountryKey)) { return false; }\r\n            CountryKey that = (CountryKey) obj;\r\n            return this.country.equals(that.country);\r\n        }\r\n        @Override int hashCode() {\r\n             return country.hashCode();\r\n        }\r\n    }\r\n\r\nor wrappers:\r\n\r\n    public CountryKey {\r\n        private GeoIpData holder;\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (!(obj instanceof CountryKey)) { return false; }\r\n            CountryKey that = (CountryKey) obj;\r\n            return this.holder.getCountry().equals(that.holder.getCountry());\r\n        }\r\n        @Override int hashCode() {\r\n             return holder.getCountry().hashCode();\r\n        }\r\n    }\r\n\r\nand write helper constructors for keys:\r\n\r\n    public class GeoIpData {\r\n         public CountryKey buildCountryKey() {\r\n              return new CountryKey(this.country);\r\n         }\r\n    }","title":"Custom hashcode/equals operation for HashMap","body":"<p>Initial Java API bounded <code>equals</code> / <code>hashCode</code> behavior to type (class) because they didn't have lambdas back those days.</p>\n<p>In order to reuse existing API / implementations - make ephemeral keys:</p>\n<pre><code>public CountryKey {\n    private String country;\n    @Override\n    public boolean equals(Object obj) {\n        if (!(obj instanceof CountryKey)) { return false; }\n        CountryKey that = (CountryKey) obj;\n        return this.country.equals(that.country);\n    }\n    @Override int hashCode() {\n         return country.hashCode();\n    }\n}\n</code></pre>\n<p>or wrappers:</p>\n<pre><code>public CountryKey {\n    private GeoIpData holder;\n    @Override\n    public boolean equals(Object obj) {\n        if (!(obj instanceof CountryKey)) { return false; }\n        CountryKey that = (CountryKey) obj;\n        return this.holder.getCountry().equals(that.holder.getCountry());\n    }\n    @Override int hashCode() {\n         return holder.getCountry().hashCode();\n    }\n}\n</code></pre>\n<p>and write helper constructors for keys:</p>\n<pre><code>public class GeoIpData {\n     public CountryKey buildCountryKey() {\n          return new CountryKey(this.country);\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680486017,"creation_date":1679013256,"answer_id":75762799,"question_id":15184637,"body_markdown":"There are quite a number of non-concurrent third party hash maps, some of which support custom equals and hashCode, like the one mentioned in Mikhail&#39;s answer. I know of no concurrent implementation though.\r\n\r\n**Here&#39;s somewhat of a hack that allows you to use the standard ConcurrentHashMap with custom equals/hashCode implementations. It uses a thread local variable to convey which equals/hashCode implementation keys should use at any given point in time.**\r\n\r\nFirst a decorator to add the functionality to any `ConcurrentMap` implementation:\r\n\r\n```java\r\npublic class CustomEqualsAndHashCodeConcurrentMapDecorator&lt;K, V&gt;\r\n        implements ConcurrentMap&lt;K, V&gt; {\r\n\r\n    public interface EqualsAndHashCode&lt;X&gt; {\r\n        boolean equals(X x, X y);\r\n        int hashCode(X x);\r\n    }\r\n    private final ConcurrentMap&lt;K, V&gt; decoratee;\r\n    private final EqualsAndHashCode&lt;K&gt; equalsAndHashCode;\r\n    private final Consumer&lt;EqualsAndHashCode&lt;K&gt;&gt; equalsAndHashCodeSetter;\r\n\r\n    public CustomEqualsAndHashCodeConcurrentMapDecorator(ConcurrentMap&lt;K, V&gt; decoratee, EqualsAndHashCode&lt;K&gt; equalsAndHashCode, Consumer&lt;EqualsAndHashCode&lt;K&gt;&gt; equalsAndHashCodeSetter) {\r\n        this.decoratee = decoratee;\r\n        this.equalsAndHashCode = equalsAndHashCode;\r\n        this.equalsAndHashCodeSetter = equalsAndHashCodeSetter;\r\n    }\r\n\r\n    @Override\r\n    public V get(Object key) {\r\n        equalsAndHashCodeSetter.accept(equalsAndHashCode);\r\n        final V ret = decoratee.get(key);\r\n        equalsAndHashCodeSetter.accept(null);\r\n        return ret;\r\n    }\r\n\r\n    public Set&lt;K&gt; keySet() {\r\n// Note that this is potentially dangerous, as the caller will have to make sure\r\n// equalsAndHashCodeSetter.accept() is called before/after calling some of the methods of the returned set\r\n        return decoratee.keySet();\r\n    }\r\n\r\n    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\r\n// Note that this is potentially dangerous, as the caller will have to make sure\r\n// equalsAndHashCodeSetter.accept() is called before/after calling some of the methods of the returned set\r\n        return decoratee.entrySet();\r\n    }\r\n\r\n    // omitting the other methods, most of which need to be\r\n    // wrapped in equalsAndHashCodeSetter.accept() calls as well\r\n}\r\n```\r\nHere&#39;s an example on how to use the same key object instances a) with the default equals/hashCode, and b) with a custom one:\r\n```java\r\nclass CustomEqualsAndHashCodeConcurrentMapDecoratorTest {\r\n\r\n    private static abstract class DynamicEqualsAndHashCodeObject&lt;K&gt; {\r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        private static final ThreadLocal&lt;CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&gt; equalsAndHashCode = new ThreadLocal&lt;&gt;();\r\n\r\n        static void setEqualsAndHashCode(@SuppressWarnings(&quot;rawtypes&quot;) CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode equalsAndHashCode) {\r\n            DynamicEqualsAndHashCodeObject.equalsAndHashCode.set(equalsAndHashCode);\r\n        }\r\n\r\n        private CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;K&gt; getComparator() {\r\n            //noinspection rawtypes\r\n            final CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode raw = DynamicEqualsAndHashCodeObject.equalsAndHashCode.get();\r\n            //noinspection unchecked\r\n            return raw == null ? null : (CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;K&gt;) DynamicEqualsAndHashCodeObject.equalsAndHashCode.get();\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            var equalsAndHashCode = getComparator();\r\n            //noinspection unchecked\r\n            return equalsAndHashCode != null ? equalsAndHashCode.equals(dis(), (K) obj) : super.equals(obj);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            var equalsAndHashCode = getComparator();\r\n            return equalsAndHashCode != null ? equalsAndHashCode.hashCode(dis()) : super.hashCode();\r\n        }\r\n\r\n        abstract K dis();\r\n    }\r\n\r\n    static class Key extends DynamicEqualsAndHashCodeObject&lt;Key&gt; {\r\n        final String a;\r\n        final String b;\r\n\r\n        public Key(String a, String b) {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return a + b;\r\n        }\r\n\r\n        @Override\r\n        Key dis() {\r\n            return this;\r\n        }\r\n\r\n        static class AEqualsAndHashCode implements CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;Key&gt; {\r\n            public boolean equals(Key x, Key y) {return Objects.equals(x.a, y.a);}\r\n            public int hashCode(Key key) {return Objects.hashCode(key.a);}\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        var key11 = new Key(&quot;1&quot;, &quot;1&quot;);\r\n        var key12 = new Key(&quot;1&quot;, &quot;2&quot;);\r\n        var key21 = new Key(&quot;2&quot;, &quot;1&quot;);\r\n        var key22 = new Key(&quot;2&quot;, &quot;2&quot;);\r\n        var mapDefault = new ConcurrentHashMap&lt;Key, String&gt;();\r\n        mapDefault.put(key11, key11.toString());\r\n        mapDefault.put(key12, key12.toString());\r\n        mapDefault.put(key21, key21.toString());\r\n        mapDefault.put(key22, key22.toString());\r\n        mapDefault.forEach((k, v) -&gt; System.out.println(&quot;mapDefault: &quot; + k + &quot; -&gt; &quot; + v));\r\n        var mapA = new CustomEqualsAndHashCodeConcurrentMapDecorator&lt;&gt;(new ConcurrentHashMap&lt;Key, String&gt;(), new Key.AEqualsAndHashCode(), Key::setEqualsAndHashCode);\r\n        mapA.put(key11, key11.toString());\r\n        mapA.put(key12, key12.toString());\r\n        mapA.put(key21, key21.toString());\r\n        mapA.put(key22, key22.toString());\r\n        mapA.forEach((k, v) -&gt; System.out.println(&quot;mapA: &quot; + k + &quot; -&gt; &quot; + v));\r\n    }\r\n}\r\n```\r\nThe output is this:\r\n```\r\nmapDefault: 12 -&gt; 12\r\nmapDefault: 11 -&gt; 11\r\nmapDefault: 21 -&gt; 21\r\nmapDefault: 22 -&gt; 22\r\nmapA: 11 -&gt; 12\r\nmapA: 21 -&gt; 22\r\n```\r\n","title":"Custom hashcode/equals operation for HashMap","body":"<p>There are quite a number of non-concurrent third party hash maps, some of which support custom equals and hashCode, like the one mentioned in Mikhail's answer. I know of no concurrent implementation though.</p>\n<p><strong>Here's somewhat of a hack that allows you to use the standard ConcurrentHashMap with custom equals/hashCode implementations. It uses a thread local variable to convey which equals/hashCode implementation keys should use at any given point in time.</strong></p>\n<p>First a decorator to add the functionality to any <code>ConcurrentMap</code> implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomEqualsAndHashCodeConcurrentMapDecorator&lt;K, V&gt;\n        implements ConcurrentMap&lt;K, V&gt; {\n\n    public interface EqualsAndHashCode&lt;X&gt; {\n        boolean equals(X x, X y);\n        int hashCode(X x);\n    }\n    private final ConcurrentMap&lt;K, V&gt; decoratee;\n    private final EqualsAndHashCode&lt;K&gt; equalsAndHashCode;\n    private final Consumer&lt;EqualsAndHashCode&lt;K&gt;&gt; equalsAndHashCodeSetter;\n\n    public CustomEqualsAndHashCodeConcurrentMapDecorator(ConcurrentMap&lt;K, V&gt; decoratee, EqualsAndHashCode&lt;K&gt; equalsAndHashCode, Consumer&lt;EqualsAndHashCode&lt;K&gt;&gt; equalsAndHashCodeSetter) {\n        this.decoratee = decoratee;\n        this.equalsAndHashCode = equalsAndHashCode;\n        this.equalsAndHashCodeSetter = equalsAndHashCodeSetter;\n    }\n\n    @Override\n    public V get(Object key) {\n        equalsAndHashCodeSetter.accept(equalsAndHashCode);\n        final V ret = decoratee.get(key);\n        equalsAndHashCodeSetter.accept(null);\n        return ret;\n    }\n\n    public Set&lt;K&gt; keySet() {\n// Note that this is potentially dangerous, as the caller will have to make sure\n// equalsAndHashCodeSetter.accept() is called before/after calling some of the methods of the returned set\n        return decoratee.keySet();\n    }\n\n    public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\n// Note that this is potentially dangerous, as the caller will have to make sure\n// equalsAndHashCodeSetter.accept() is called before/after calling some of the methods of the returned set\n        return decoratee.entrySet();\n    }\n\n    // omitting the other methods, most of which need to be\n    // wrapped in equalsAndHashCodeSetter.accept() calls as well\n}\n</code></pre>\n<p>Here's an example on how to use the same key object instances a) with the default equals/hashCode, and b) with a custom one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomEqualsAndHashCodeConcurrentMapDecoratorTest {\n\n    private static abstract class DynamicEqualsAndHashCodeObject&lt;K&gt; {\n        @SuppressWarnings(&quot;rawtypes&quot;)\n        private static final ThreadLocal&lt;CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&gt; equalsAndHashCode = new ThreadLocal&lt;&gt;();\n\n        static void setEqualsAndHashCode(@SuppressWarnings(&quot;rawtypes&quot;) CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode equalsAndHashCode) {\n            DynamicEqualsAndHashCodeObject.equalsAndHashCode.set(equalsAndHashCode);\n        }\n\n        private CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;K&gt; getComparator() {\n            //noinspection rawtypes\n            final CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode raw = DynamicEqualsAndHashCodeObject.equalsAndHashCode.get();\n            //noinspection unchecked\n            return raw == null ? null : (CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;K&gt;) DynamicEqualsAndHashCodeObject.equalsAndHashCode.get();\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            var equalsAndHashCode = getComparator();\n            //noinspection unchecked\n            return equalsAndHashCode != null ? equalsAndHashCode.equals(dis(), (K) obj) : super.equals(obj);\n        }\n\n        @Override\n        public int hashCode() {\n            var equalsAndHashCode = getComparator();\n            return equalsAndHashCode != null ? equalsAndHashCode.hashCode(dis()) : super.hashCode();\n        }\n\n        abstract K dis();\n    }\n\n    static class Key extends DynamicEqualsAndHashCodeObject&lt;Key&gt; {\n        final String a;\n        final String b;\n\n        public Key(String a, String b) {\n            this.a = a;\n            this.b = b;\n        }\n\n        @Override\n        public String toString() {\n            return a + b;\n        }\n\n        @Override\n        Key dis() {\n            return this;\n        }\n\n        static class AEqualsAndHashCode implements CustomEqualsAndHashCodeConcurrentMapDecorator.EqualsAndHashCode&lt;Key&gt; {\n            public boolean equals(Key x, Key y) {return Objects.equals(x.a, y.a);}\n            public int hashCode(Key key) {return Objects.hashCode(key.a);}\n        }\n    }\n\n    @Test\n    void test() {\n        var key11 = new Key(&quot;1&quot;, &quot;1&quot;);\n        var key12 = new Key(&quot;1&quot;, &quot;2&quot;);\n        var key21 = new Key(&quot;2&quot;, &quot;1&quot;);\n        var key22 = new Key(&quot;2&quot;, &quot;2&quot;);\n        var mapDefault = new ConcurrentHashMap&lt;Key, String&gt;();\n        mapDefault.put(key11, key11.toString());\n        mapDefault.put(key12, key12.toString());\n        mapDefault.put(key21, key21.toString());\n        mapDefault.put(key22, key22.toString());\n        mapDefault.forEach((k, v) -&gt; System.out.println(&quot;mapDefault: &quot; + k + &quot; -&gt; &quot; + v));\n        var mapA = new CustomEqualsAndHashCodeConcurrentMapDecorator&lt;&gt;(new ConcurrentHashMap&lt;Key, String&gt;(), new Key.AEqualsAndHashCode(), Key::setEqualsAndHashCode);\n        mapA.put(key11, key11.toString());\n        mapA.put(key12, key12.toString());\n        mapA.put(key21, key21.toString());\n        mapA.put(key22, key22.toString());\n        mapA.forEach((k, v) -&gt; System.out.println(&quot;mapA: &quot; + k + &quot; -&gt; &quot; + v));\n    }\n}\n</code></pre>\n<p>The output is this:</p>\n<pre><code>mapDefault: 12 -&gt; 12\nmapDefault: 11 -&gt; 11\nmapDefault: 21 -&gt; 21\nmapDefault: 22 -&gt; 22\nmapA: 11 -&gt; 12\nmapA: 21 -&gt; 22\n</code></pre>\n"}],"owner":{"account_id":1817632,"reputation":1470,"user_id":1652429,"accept_rate":50,"display_name":"NeilA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3790,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":15184674,"answer_count":3,"score":9,"last_activity_date":1680486017,"creation_date":1362305968,"question_id":15184637,"body_markdown":"Is there a an implementation of the HashMap class (or Map interface) that will allow me to use alternate hashcode and equals operations...\r\nSimilar to how collections of the same type can be sorted in multiple ways using the Comparator in Collections.sort(list, comparator).\r\n\r\nI would like to avoid if possible, creating a key wrapper providing the desired hashcode and equals operations.\r\n\r\n----------\r\nIn my case, one of the scenarios why I need something like this:\r\n\r\n\r\nIn my web application, for each request, I load the Location/ISP and other data.\r\nIn different parts of code (in my service and repository layers) I have &quot;minimized&quot; caches specific to its requirement.  \r\n\r\nHere is a simplified code example:\r\n\r\n    class GeoIpData{\r\n    \tprivate String countryName;\r\n    \tprivate String state;\r\n    \tprivate String city;\r\n    \tprivate String isp;\r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\t//countryName hashCode\r\n    \t\t//state hashCode\r\n    \t\t//city hashCode\r\n    \t\t//isp hashCode\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\t// compare countryName\r\n    \t\t// compare state\r\n    \t\t// compare city\r\n    \t\t// compare isp\r\n    \t}\r\n    }\r\n\r\n     Map&lt;GeoIpData,#Type1&gt; fullCache = ... //This cache needs to be unique per countryName,state,city and isp\r\n     Map&lt;GeoIpData,#Type2&gt; countryCache = ... //This cache needs to be unique per countryName\r\n     Map&lt;GeoIpData,#Type2&gt; ispCache = ... //This cache needs to be unique per countryName,isp\r\n\r\nTo achieve this the above 3 maps need 3 different hashcode and equals methods.\r\n\r\n    fullCache:\r\n    hashCode -&gt; GeoIpData.hashCode();\r\n    equals   -&gt; GeoIpData.equals(Object obj);\r\n    \r\n    countryCache:\r\n    hashCode -&gt; {countryName hashCode }\r\n    equals   -&gt; {compare countryName }\r\n    \r\n    ispCache:\r\n    hashCode -&gt; {countryName hashCode &amp; isp hashCode }\r\n    equals   -&gt; {compare countryName &amp; compare isp hashCode }\r\n","title":"Custom hashcode/equals operation for HashMap","body":"<p>Is there a an implementation of the HashMap class (or Map interface) that will allow me to use alternate hashcode and equals operations...\nSimilar to how collections of the same type can be sorted in multiple ways using the Comparator in Collections.sort(list, comparator).</p>\n\n<p>I would like to avoid if possible, creating a key wrapper providing the desired hashcode and equals operations.</p>\n\n<hr>\n\n<p>In my case, one of the scenarios why I need something like this:</p>\n\n<p>In my web application, for each request, I load the Location/ISP and other data.\nIn different parts of code (in my service and repository layers) I have \"minimized\" caches specific to its requirement.  </p>\n\n<p>Here is a simplified code example:</p>\n\n<pre><code>class GeoIpData{\n    private String countryName;\n    private String state;\n    private String city;\n    private String isp;\n    @Override\n    public int hashCode() {\n        //countryName hashCode\n        //state hashCode\n        //city hashCode\n        //isp hashCode\n    }\n    @Override\n    public boolean equals(Object obj) {\n        // compare countryName\n        // compare state\n        // compare city\n        // compare isp\n    }\n}\n\n Map&lt;GeoIpData,#Type1&gt; fullCache = ... //This cache needs to be unique per countryName,state,city and isp\n Map&lt;GeoIpData,#Type2&gt; countryCache = ... //This cache needs to be unique per countryName\n Map&lt;GeoIpData,#Type2&gt; ispCache = ... //This cache needs to be unique per countryName,isp\n</code></pre>\n\n<p>To achieve this the above 3 maps need 3 different hashcode and equals methods.</p>\n\n<pre><code>fullCache:\nhashCode -&gt; GeoIpData.hashCode();\nequals   -&gt; GeoIpData.equals(Object obj);\n\ncountryCache:\nhashCode -&gt; {countryName hashCode }\nequals   -&gt; {compare countryName }\n\nispCache:\nhashCode -&gt; {countryName hashCode &amp; isp hashCode }\nequals   -&gt; {compare countryName &amp; compare isp hashCode }\n</code></pre>\n"},{"tags":["java","exception","stack-overflow","infinite-loop"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1680486439,"post_id":75915508,"comment_id":133901597,"body_markdown":"Every time you call this method you are looping through the same set of `connections` `for (Neuron connection : this.connections)`","body":"Every time you call this method you are looping through the same set of <code>connections</code> <code>for (Neuron connection : this.connections)</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680486605,"post_id":75915508,"comment_id":133901616,"body_markdown":"Please format your code correctly.","body":"Please format your code correctly."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680487183,"post_id":75915508,"comment_id":133901672,"body_markdown":"It&#39;s  infinite recursion, similar to an infinite loop. The `receivesStimulus (double)` method gets the first element from `connections`, which passes the `signal` value of that first element to the `receivesStimulus (double)` method, which gets the first element from `connections, which passes the `signal` value of that first element to the `receivesStimulus (double)` method, which gets the first element from `connections`, which ....  So, your program enters infinite recursion everytime `connections` is not empty.","body":"It&#39;s  infinite recursion, similar to an infinite loop. The <code>receivesStimulus (double)</code> method gets the first element from <code>connections</code>, which passes the <code>signal</code> value of that first element to the <code>receivesStimulus (double)</code> method, which gets the first element from <code>connections, which passes the </code>signal` value of that first element to the <code>receivesStimulus (double)</code> method, which gets the first element from <code>connections</code>, which ....  So, your program enters infinite recursion everytime <code>connections</code> is not empty."},{"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"score":0,"creation_date":1680487611,"post_id":75915508,"comment_id":133901727,"body_markdown":"@tgdavies sorry it&#39;s my first time using this site to post a question and I don&#39;t know how to fix the format","body":"@tgdavies sorry it&#39;s my first time using this site to post a question and I don&#39;t know how to fix the format"},{"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"score":0,"creation_date":1680487665,"post_id":75915508,"comment_id":133901731,"body_markdown":"@OldDogProgrammer So how can i fix this infinite recursion?","body":"@OldDogProgrammer So how can i fix this infinite recursion?"},{"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"score":0,"creation_date":1680487776,"post_id":75915508,"comment_id":133901741,"body_markdown":"@ScaryWombat Yes i know but that was what the assignment said to do:  create a method void receivesStimulus(double stimulus) allowing the\nsimulation of a neuron. This simulation results in:\nstoring its value in the neuron&#39;s internal signal\nof stimulus  multiplied by the attenuation coefficient,\npropagating the internal signal to the connected neurons with its call\nreceivesStimulus method on all elements of the connections list. This call to the receivesStimulus method will be made with a parameter to\ninternal signal, signal, of the examined neuron (calculated in\nprevious bullet)","body":"@ScaryWombat Yes i know but that was what the assignment said to do:  create a method void receivesStimulus(double stimulus) allowing the simulation of a neuron. This simulation results in: storing its value in the neuron&#39;s internal signal of stimulus  multiplied by the attenuation coefficient, propagating the internal signal to the connected neurons with its call receivesStimulus method on all elements of the connections list. This call to the receivesStimulus method will be made with a parameter to internal signal, signal, of the examined neuron (calculated in previous bullet)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680488446,"post_id":75915508,"comment_id":133901809,"body_markdown":"@carlosS I don&#39;t know what `receiveStimulus (double)` is supposed to do. As it stands now, it is infinite recursion because nothing is changed. To solve it, the method has to make a change that causes it to be closer to coming to an end. But, I have no idea what that should be. Stack Overflow isn&#39;t suitable for teaching recursion or other programming subjects.","body":"@carlosS I don&#39;t know what <code>receiveStimulus (double)</code> is supposed to do. As it stands now, it is infinite recursion because nothing is changed. To solve it, the method has to make a change that causes it to be closer to coming to an end. But, I have no idea what that should be. Stack Overflow isn&#39;t suitable for teaching recursion or other programming subjects."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1680489926,"post_id":75915508,"comment_id":133901950,"body_markdown":"@carlosS In your last comment, where does it say that it should be recursive?","body":"@carlosS In your last comment, where does it say that it should be recursive?"},{"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"score":0,"creation_date":1680492255,"post_id":75915508,"comment_id":133902177,"body_markdown":"@ScaryWombat  &quot;its call receivesStimulus method on all elements of the connections list. This call to the receivesStimulus method will be made with a parameter to internal signal&quot; Doesnt that mean it should be recursive?","body":"@ScaryWombat  &quot;its call receivesStimulus method on all elements of the connections list. This call to the receivesStimulus method will be made with a parameter to internal signal&quot; Doesnt that mean it should be recursive?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1680495263,"post_id":75915508,"comment_id":133902423,"body_markdown":"That is not my understanding.  Usually if recursion is used, then loops will not be used.","body":"That is not my understanding.  Usually if recursion is used, then loops will not be used."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1680535732,"post_id":75915508,"comment_id":133911072,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28198264,"reputation":1,"user_id":21552496,"display_name":"carlosS"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680485775,"creation_date":1680485775,"question_id":75915508,"body_markdown":"```\r\nI have this classes as of know:\r\n```\r\n\r\n`public class Position {`  \r\n`private double x;`  \r\n`private double y;`  \r\n  \r\n`public Position(double x, double y) {`  \r\n`this.x = x;`  \r\n`this.y = y;`  \r\n`}`  \r\n  \r\n`public Position() {`  \r\n`this(0, 0);`  \r\n`}`  \r\n  \r\n`public double getX() {`  \r\n`return x;`  \r\n`}`  \r\n  \r\n`public double getY() {`  \r\n`return y;`  \r\n`}`  \r\n  \r\n`public String toString() {`  \r\n`return &quot;(&quot; + this.x + &quot;, &quot; + this.y + &quot;)&quot;;`  \r\n`}`\r\n\r\n`}`\r\n\r\n  \r\n`import java.util.ArrayList;`\r\n\r\n`public class Brain {`  \r\n`private ArrayList&lt;Neuron&gt; neurons;`  \r\n  \r\n`public Brain() {`  \r\n`this.neurons = new ArrayList&lt;Neuron&gt;();`  \r\n`}`  \r\n  \r\n`public int getNbNeurons() {`  \r\n`return neurons.size();`  \r\n`}`  \r\n  \r\n`public Neuron getNeuron(int index) {`  \r\n`return neurons.get(index);`  \r\n`}`\r\n\r\n`public void addNeuron(Position position, double attenuation) {`  \r\n  \r\n`Neuron n = new Neuron(position, attenuation);`  \r\n`this.neurons.add(n);`  \r\n`}`\r\n\r\n`public void addCumulativeNeuron(Position pos, double attenuation) {`  \r\n  \r\n`CumulativeNeuron cn = new CumulativeNeuron(pos, attenuation);`  \r\n`this.neurons.add(cn);`  \r\n`}`\r\n\r\n`public void stimulate(int index, double stimulus) {`  \r\n  \r\n`Neuron neuron = neurons.get(index);`  \r\n`neuron.receivesStimulus(stimulus);`  \r\n`}`\r\n\r\n`public double probe(int index) {`  \r\n`Neuron neuron = neurons.get(index);`  \r\n`System.out.println(&quot;INDEX IS: &quot; + index);`  \r\n`System.out.println(&quot;SIGNAL: &quot; + neuron.getSignal());`  \r\n`return neuron.getSignal();`  \r\n  \r\n`}`  \r\n`public void createConnections() {`  \r\n`int size = this.getNbNeurons();`  \r\n`for (int i = 0; i &lt; size - 2; i++) {`  \r\n`Neuron n1 = this.getNeuron(i);`  \r\n`Neuron n2 = this.getNeuron(i + 1);`  \r\n`n1.connection(n2);`  \r\n`n2.connection(n1);`  \r\n`}`  \r\n`if (size &gt; 1) {`  \r\n`this.getNeuron(0).connection(this.getNeuron(1));`  \r\n`}`  \r\n`if (size &gt; 2) {`  \r\n`this.getNeuron(0).connection(this.getNeuron(2));`  \r\n`}`  \r\n`}`\r\n\r\n`public String toString() {`  \r\n`StringBuilder sb = new StringBuilder();`  \r\n`sb.append(&quot;*----------*\\n&quot;);`  \r\n`sb.append(&quot;The brain contains &quot;).append(this.getNbNeurons()).append(&quot; neuron(s)\\n&quot;);`\r\n\r\n`for (Neuron neuron : this.neurons) {`  \r\n`sb.append(neuron.toString()).append(&quot;\\n&quot;);`  \r\n`}`\r\n\r\n`sb.append(&quot;*----------*\\n&quot;);`\r\n\r\n`return sb.toString();`  \r\n`}`  \r\n`}`\r\n\r\n```\r\nI&#39;m using this test class called NeuronSimulator\r\n```\r\n\r\n`public class NeuronSimulator {`\r\n\r\n`public static void main(String[] args) {`  \r\n`// TEST PART 1`  \r\n`System.out.println(&quot;Test part 1:&quot;);`  \r\n`System.out.println(&quot;--------------------&quot;);`\r\n\r\n`Position position1 = new Position(0, 1);`  \r\n`Position position2 = new Position(1, 0);`  \r\n`Position position3 = new Position(1, 1);`\r\n\r\n`Neuron neuron1 = new Neuron(position1, 0.5);`  \r\n`Neuron neuron2 = new Neuron(position2, 1.0);`  \r\n`Neuron neuron3 = new Neuron(position3, 2.0);`\r\n\r\n`neuron1.connection(neuron2);`  \r\n`neuron2.connection(neuron3);`  \r\n`neuron1.receivesStimulus(10);`\r\n\r\n`System.out.println(&quot;Signals : &quot;);`  \r\n`System.out.println(neuron1.getSignal());`  \r\n`System.out.println(neuron2.getSignal());`  \r\n`System.out.println(neuron3.getSignal());`\r\n\r\n`System.out.println();`  \r\n`System.out.println(&quot;First connection of neuron 1&quot;);`  \r\n`System.out.println(neuron1.getConnection(0));`\r\n\r\n`// END TEST PART 1`\r\n\r\n`// TEST PART 2`  \r\n`System.out.println(&quot;Test part 2:&quot;);`  \r\n`System.out.println(&quot;--------------------&quot;);`\r\n\r\n`Position position5 = new Position(0, 0);`  \r\n`CumulativeNeuron neuron5 = new CumulativeNeuron(position5, 0.5);`  \r\n`neuron5.receivesStimulus(10);`  \r\n`neuron5.receivesStimulus(10);`  \r\n`System.out.println(&quot;Signal of cumulative neuron -&gt; &quot; + neuron5.getSignal());`\r\n\r\n`// END TEST PART 2`\r\n\r\n`//TEST PART 3`  \r\n`System.out.println();`  \r\n`System.out.println(&quot;Test part 3:&quot;);`  \r\n`System.out.println(&quot;--------------------&quot;);`  \r\n`Brain brain = new Brain();`\r\n\r\n`brain.addNeuron(new Position(0, 0), 0.5);`  \r\n`brain.addNeuron(new Position(0, 1), 0.2);`  \r\n`brain.addNeuron(new Position(1, 0), 1.0);`\r\n\r\n`brain.addCumulativeNeuron(new Position(1, 1), 0.8);`  \r\n`brain.createConnections();`  \r\n`brain.stimulate(0, 10);`\r\n\r\n`System.out.println(&quot;Signal of 3rd neuron -&gt; &quot; + brain.probe(3));`  \r\n`System.out.println(brain);`  \r\n`// END TEST PART 3`  \r\n  \r\n`}`  \r\n`}`\r\n\r\nWhen i run the test class I should get as an output the following:\r\n\r\nTest part 3:\r\n\r\n\\--------------------\r\n\r\nSignal of 3rd neuron -\\&gt; 4.800000000000001\r\n\r\nThe brain contains 4 neuron(s)\r\n\r\nThe neuron in position (0.0, 0.0) with attenuation 0.5 in connection with\r\n\r\n\\- a neuron in position (0.0, 1.0)\r\n\r\n\\- a neuron in position (1.0, 0.0)\r\n\r\nThe neuron in position (0.0, 1.0) with attenuation 0.2 in connection with\r\n\r\n\\- a neuron in position (1.0, 0.0)\r\n\r\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\r\n\r\n\\- a neuron in position (1.0, 1.0)\r\n\r\nThe neuron in position (1.0, 1.0) with attenuation 0.8 without connection\r\n\r\n\\*----------\\*\r\n\r\nBut instead of that output I get this one \r\n\r\n```\r\nTest part 1:\r\n--------------------\r\nSignals : \r\n5.0\r\n5.0\r\n10.0\r\n\r\nFirst connection of neuron 1\r\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nTest part 2:\r\n--------------------\r\nSignal of cumulative neuron -&gt; 10.0\r\n\r\nTest part 3:\r\n--------------------\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:108)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n\tat lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\r\n        .....\r\n\r\n\r\n```\r\n\r\nThat means that the program gets stuck in an infinite loop when this method is called\r\n\r\n```\r\npublic void receivesStimulus(double stimulus) {\r\n\t    this.signal = stimulus * this.attenuation;\r\n\t    for (Neuron connection : this.connections) {\r\n\t    \t\r\n\t        connection.receivesStimulus(this.signal);\r\n\t    }\r\n\t}\r\n```\r\n\r\nAnd more especially it seems that this line is the problem\r\n\r\n`connection.receivesStimulus(this.signal);`\r\n\r\nwhen I commend out either this line\r\n\r\n`brain.createConnections();`\r\n\r\nor this line\r\n\r\n`brain.stimulate(0, 10);`\r\n\r\nthe exception disappears and this is the output:\r\n\r\n```\r\nTest part 1:\r\n--------------------\r\nSignals : \r\n5.0\r\n5.0\r\n10.0\r\n\r\nFirst connection of neuron 1\r\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nTest part 2:\r\n--------------------\r\nSignal of cumulative neuron -&gt; 10.0\r\n\r\nTest part 3:\r\n--------------------\r\nBefore Brain new\r\nBefore first addNeuron\r\nBefore second addNeuron\r\nBefore third addNeuron\r\nBefore addCumulativeNeuron\r\nBefore createConnections\r\nBefore stimultate\r\nAfter stimultate\r\nINDEX IS: 3\r\nSIGNAL: 0.0\r\nSignal of 3rd neuron -&gt; 0.0\r\n*----------*\r\nThe brain contains 4 neuron(s)\r\nThe neuron in position (0.0, 0.0) with attenuation 0.5 in connection with\r\n  - a neuron in position (0.0, 1.0)\r\n  - a neuron in position (1.0, 0.0)\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nThe neuron in position (0.0, 1.0) with attenuation 0.2 in connection with\r\n  - a neuron in position (0.0, 0.0)\r\n  - a neuron in position (1.0, 0.0)\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\r\n  - a neuron in position (0.0, 0.0)\r\n  - a neuron in position (0.0, 1.0)\r\n  - a neuron in position (1.0, 1.0)\r\n\r\nThe neuron in position (1.0, 1.0) with attenuation 0.8 in connection with\r\n  - a neuron in position (0.0, 0.0)\r\n  - a neuron in position (0.0, 1.0)\r\n  - a neuron in position (1.0, 0.0)\r\n\r\n*----------*\r\n```\r\n\r\nWhich again has a mistake because the signal of the 3rd neuron should be 4.800000000000001 and not 0.0\r\n\r\n```\r\nSignal of 3rd neuron -&gt; 0.0\r\n```\r\n\r\nDoes anyone know how to fix this this problem without commenting anything out, putting extra methods, extra characteristics or changing anything on the NeuronSimulator class (this is a project that needs to be this way)","title":"How to fix: Exception in thread &quot;main&quot; java.lang.StackOverflowError","body":"<pre><code>I have this classes as of know:\n</code></pre>\n<p><code>public class Position {</code><br />\n<code>private double x;</code><br />\n<code>private double y;</code></p>\n<p><code>public Position(double x, double y) {</code><br />\n<code>this.x = x;</code><br />\n<code>this.y = y;</code><br />\n<code>}</code></p>\n<p><code>public Position() {</code><br />\n<code>this(0, 0);</code><br />\n<code>}</code></p>\n<p><code>public double getX() {</code><br />\n<code>return x;</code><br />\n<code>}</code></p>\n<p><code>public double getY() {</code><br />\n<code>return y;</code><br />\n<code>}</code></p>\n<p><code>public String toString() {</code><br />\n<code>return &quot;(&quot; + this.x + &quot;, &quot; + this.y + &quot;)&quot;;</code><br />\n<code>}</code></p>\n<p><code>}</code></p>\n<p><code>import java.util.ArrayList;</code></p>\n<p><code>public class Brain {</code><br />\n<code>private ArrayList&lt;Neuron&gt; neurons;</code></p>\n<p><code>public Brain() {</code><br />\n<code>this.neurons = new ArrayList&lt;Neuron&gt;();</code><br />\n<code>}</code></p>\n<p><code>public int getNbNeurons() {</code><br />\n<code>return neurons.size();</code><br />\n<code>}</code></p>\n<p><code>public Neuron getNeuron(int index) {</code><br />\n<code>return neurons.get(index);</code><br />\n<code>}</code></p>\n<p><code>public void addNeuron(Position position, double attenuation) {</code></p>\n<p><code>Neuron n = new Neuron(position, attenuation);</code><br />\n<code>this.neurons.add(n);</code><br />\n<code>}</code></p>\n<p><code>public void addCumulativeNeuron(Position pos, double attenuation) {</code></p>\n<p><code>CumulativeNeuron cn = new CumulativeNeuron(pos, attenuation);</code><br />\n<code>this.neurons.add(cn);</code><br />\n<code>}</code></p>\n<p><code>public void stimulate(int index, double stimulus) {</code></p>\n<p><code>Neuron neuron = neurons.get(index);</code><br />\n<code>neuron.receivesStimulus(stimulus);</code><br />\n<code>}</code></p>\n<p><code>public double probe(int index) {</code><br />\n<code>Neuron neuron = neurons.get(index);</code><br />\n<code>System.out.println(&quot;INDEX IS: &quot; + index);</code><br />\n<code>System.out.println(&quot;SIGNAL: &quot; + neuron.getSignal());</code><br />\n<code>return neuron.getSignal();</code></p>\n<p><code>}</code><br />\n<code>public void createConnections() {</code><br />\n<code>int size = this.getNbNeurons();</code><br />\n<code>for (int i = 0; i &lt; size - 2; i++) {</code><br />\n<code>Neuron n1 = this.getNeuron(i);</code><br />\n<code>Neuron n2 = this.getNeuron(i + 1);</code><br />\n<code>n1.connection(n2);</code><br />\n<code>n2.connection(n1);</code><br />\n<code>}</code><br />\n<code>if (size &gt; 1) {</code><br />\n<code>this.getNeuron(0).connection(this.getNeuron(1));</code><br />\n<code>}</code><br />\n<code>if (size &gt; 2) {</code><br />\n<code>this.getNeuron(0).connection(this.getNeuron(2));</code><br />\n<code>}</code><br />\n<code>}</code></p>\n<p><code>public String toString() {</code><br />\n<code>StringBuilder sb = new StringBuilder();</code><br />\n<code>sb.append(&quot;*----------*\\n&quot;);</code><br />\n<code>sb.append(&quot;The brain contains &quot;).append(this.getNbNeurons()).append(&quot; neuron(s)\\n&quot;);</code></p>\n<p><code>for (Neuron neuron : this.neurons) {</code><br />\n<code>sb.append(neuron.toString()).append(&quot;\\n&quot;);</code><br />\n<code>}</code></p>\n<p><code>sb.append(&quot;*----------*\\n&quot;);</code></p>\n<p><code>return sb.toString();</code><br />\n<code>}</code><br />\n<code>}</code></p>\n<pre><code>I'm using this test class called NeuronSimulator\n</code></pre>\n<p><code>public class NeuronSimulator {</code></p>\n<p><code>public static void main(String[] args) {</code><br />\n<code>// TEST PART 1</code><br />\n<code>System.out.println(&quot;Test part 1:&quot;);</code><br />\n<code>System.out.println(&quot;--------------------&quot;);</code></p>\n<p><code>Position position1 = new Position(0, 1);</code><br />\n<code>Position position2 = new Position(1, 0);</code><br />\n<code>Position position3 = new Position(1, 1);</code></p>\n<p><code>Neuron neuron1 = new Neuron(position1, 0.5);</code><br />\n<code>Neuron neuron2 = new Neuron(position2, 1.0);</code><br />\n<code>Neuron neuron3 = new Neuron(position3, 2.0);</code></p>\n<p><code>neuron1.connection(neuron2);</code><br />\n<code>neuron2.connection(neuron3);</code><br />\n<code>neuron1.receivesStimulus(10);</code></p>\n<p><code>System.out.println(&quot;Signals : &quot;);</code><br />\n<code>System.out.println(neuron1.getSignal());</code><br />\n<code>System.out.println(neuron2.getSignal());</code><br />\n<code>System.out.println(neuron3.getSignal());</code></p>\n<p><code>System.out.println();</code><br />\n<code>System.out.println(&quot;First connection of neuron 1&quot;);</code><br />\n<code>System.out.println(neuron1.getConnection(0));</code></p>\n<p><code>// END TEST PART 1</code></p>\n<p><code>// TEST PART 2</code><br />\n<code>System.out.println(&quot;Test part 2:&quot;);</code><br />\n<code>System.out.println(&quot;--------------------&quot;);</code></p>\n<p><code>Position position5 = new Position(0, 0);</code><br />\n<code>CumulativeNeuron neuron5 = new CumulativeNeuron(position5, 0.5);</code><br />\n<code>neuron5.receivesStimulus(10);</code><br />\n<code>neuron5.receivesStimulus(10);</code><br />\n<code>System.out.println(&quot;Signal of cumulative neuron -&gt; &quot; + neuron5.getSignal());</code></p>\n<p><code>// END TEST PART 2</code></p>\n<p><code>//TEST PART 3</code><br />\n<code>System.out.println();</code><br />\n<code>System.out.println(&quot;Test part 3:&quot;);</code><br />\n<code>System.out.println(&quot;--------------------&quot;);</code><br />\n<code>Brain brain = new Brain();</code></p>\n<p><code>brain.addNeuron(new Position(0, 0), 0.5);</code><br />\n<code>brain.addNeuron(new Position(0, 1), 0.2);</code><br />\n<code>brain.addNeuron(new Position(1, 0), 1.0);</code></p>\n<p><code>brain.addCumulativeNeuron(new Position(1, 1), 0.8);</code><br />\n<code>brain.createConnections();</code><br />\n<code>brain.stimulate(0, 10);</code></p>\n<p><code>System.out.println(&quot;Signal of 3rd neuron -&gt; &quot; + brain.probe(3));</code><br />\n<code>System.out.println(brain);</code><br />\n<code>// END TEST PART 3</code></p>\n<p><code>}</code><br />\n<code>}</code></p>\n<p>When i run the test class I should get as an output the following:</p>\n<p>Test part 3:</p>\n<p>--------------------</p>\n<p>Signal of 3rd neuron -&gt; 4.800000000000001</p>\n<p>The brain contains 4 neuron(s)</p>\n<p>The neuron in position (0.0, 0.0) with attenuation 0.5 in connection with</p>\n<p>- a neuron in position (0.0, 1.0)</p>\n<p>- a neuron in position (1.0, 0.0)</p>\n<p>The neuron in position (0.0, 1.0) with attenuation 0.2 in connection with</p>\n<p>- a neuron in position (1.0, 0.0)</p>\n<p>The neuron in position (1.0, 0.0) with attenuation 1.0 in connection with</p>\n<p>- a neuron in position (1.0, 1.0)</p>\n<p>The neuron in position (1.0, 1.0) with attenuation 0.8 without connection</p>\n<p>*----------*</p>\n<p>But instead of that output I get this one</p>\n<pre><code>Test part 1:\n--------------------\nSignals : \n5.0\n5.0\n10.0\n\nFirst connection of neuron 1\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\n  - a neuron in position (1.0, 1.0)\n\nTest part 2:\n--------------------\nSignal of cumulative neuron -&gt; 10.0\n\nTest part 3:\n--------------------\nException in thread &quot;main&quot; java.lang.StackOverflowError\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:108)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n    at lpasch02.hw3.neurons.Neuron.receivesStimulus(Neuron.java:110)\n        .....\n\n\n</code></pre>\n<p>That means that the program gets stuck in an infinite loop when this method is called</p>\n<pre><code>public void receivesStimulus(double stimulus) {\n        this.signal = stimulus * this.attenuation;\n        for (Neuron connection : this.connections) {\n            \n            connection.receivesStimulus(this.signal);\n        }\n    }\n</code></pre>\n<p>And more especially it seems that this line is the problem</p>\n<p><code>connection.receivesStimulus(this.signal);</code></p>\n<p>when I commend out either this line</p>\n<p><code>brain.createConnections();</code></p>\n<p>or this line</p>\n<p><code>brain.stimulate(0, 10);</code></p>\n<p>the exception disappears and this is the output:</p>\n<pre><code>Test part 1:\n--------------------\nSignals : \n5.0\n5.0\n10.0\n\nFirst connection of neuron 1\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\n  - a neuron in position (1.0, 1.0)\n\nTest part 2:\n--------------------\nSignal of cumulative neuron -&gt; 10.0\n\nTest part 3:\n--------------------\nBefore Brain new\nBefore first addNeuron\nBefore second addNeuron\nBefore third addNeuron\nBefore addCumulativeNeuron\nBefore createConnections\nBefore stimultate\nAfter stimultate\nINDEX IS: 3\nSIGNAL: 0.0\nSignal of 3rd neuron -&gt; 0.0\n*----------*\nThe brain contains 4 neuron(s)\nThe neuron in position (0.0, 0.0) with attenuation 0.5 in connection with\n  - a neuron in position (0.0, 1.0)\n  - a neuron in position (1.0, 0.0)\n  - a neuron in position (1.0, 1.0)\n\nThe neuron in position (0.0, 1.0) with attenuation 0.2 in connection with\n  - a neuron in position (0.0, 0.0)\n  - a neuron in position (1.0, 0.0)\n  - a neuron in position (1.0, 1.0)\n\nThe neuron in position (1.0, 0.0) with attenuation 1.0 in connection with\n  - a neuron in position (0.0, 0.0)\n  - a neuron in position (0.0, 1.0)\n  - a neuron in position (1.0, 1.0)\n\nThe neuron in position (1.0, 1.0) with attenuation 0.8 in connection with\n  - a neuron in position (0.0, 0.0)\n  - a neuron in position (0.0, 1.0)\n  - a neuron in position (1.0, 0.0)\n\n*----------*\n</code></pre>\n<p>Which again has a mistake because the signal of the 3rd neuron should be 4.800000000000001 and not 0.0</p>\n<pre><code>Signal of 3rd neuron -&gt; 0.0\n</code></pre>\n<p>Does anyone know how to fix this this problem without commenting anything out, putting extra methods, extra characteristics or changing anything on the NeuronSimulator class (this is a project that needs to be this way)</p>\n"},{"tags":["java","multithreading","mutex","illegalstateexception"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1680486508,"post_id":75915501,"comment_id":133901610,"body_markdown":"Why do you think that thread 2 *should* be blocked? Does it use synchronization anywhere?","body":"Why do you think that thread 2 <i>should</i> be blocked? Does it use synchronization anywhere?"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1680487221,"post_id":75915501,"comment_id":133901676,"body_markdown":"The boolean value is immutable. When you change the value you swap in a different object, now you&#39;re calling wait on something you didn&#39;t synchronize on.","body":"The boolean value is immutable. When you change the value you swap in a different object, now you&#39;re calling wait on something you didn&#39;t synchronize on."}],"owner":{"account_id":9933082,"reputation":169,"user_id":7352289,"display_name":"arp5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680487538,"answer_count":0,"score":0,"last_activity_date":1680485585,"creation_date":1680485585,"question_id":75915501,"body_markdown":"I don&#39;t understand why we get an IllegalMonitorState exception here. If the thread1 has synchronized on the boolean flag then how is thread2 able to change it. shouldn&#39;t it block on thread1? this code gives IllegalMonitorState exception because the wait is called after thread2 changes the value of the flag. i&#39;m having trouble understanding why thread2 did not get blocked here.\r\n\r\nclass IncorrectSynchronization {\r\n\r\n    Boolean flag = new Boolean(true);\r\n\r\n    public void example() throws InterruptedException {\r\n\r\n        Thread t1 = new Thread(new Runnable() {\r\n\r\n            public void run() {\r\n                synchronized (flag) {\r\n                    try {\r\n                        while (flag) {\r\n                            System.out.println(&quot;First thread about to sleep&quot;);\r\n                            Thread.sleep(5000);\r\n                            System.out.println(&quot;Woke up and about to invoke wait()&quot;);\r\n                            flag.wait();\r\n                        }\r\n                    } catch (InterruptedException ie) {\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        Thread t2 = new Thread(new Runnable() {\r\n\r\n            public void run() {\r\n                flag = false;\r\n                System.out.println(&quot;Boolean assignment done.&quot;);\r\n            }\r\n        });\r\n\r\n        t1.start();\r\n        Thread.sleep(1000);\r\n        t2.start();\r\n        t1.join();\r\n        t2.join();\r\n    }\r\n}\r\n\r\nI&#39;m having trouble understanding at which point did thread 1 relinquish lock on flag","title":"IllegalStateMonitor exception on Thread Execution","body":"<p>I don't understand why we get an IllegalMonitorState exception here. If the thread1 has synchronized on the boolean flag then how is thread2 able to change it. shouldn't it block on thread1? this code gives IllegalMonitorState exception because the wait is called after thread2 changes the value of the flag. i'm having trouble understanding why thread2 did not get blocked here.</p>\n<p>class IncorrectSynchronization {</p>\n<pre><code>Boolean flag = new Boolean(true);\n\npublic void example() throws InterruptedException {\n\n    Thread t1 = new Thread(new Runnable() {\n\n        public void run() {\n            synchronized (flag) {\n                try {\n                    while (flag) {\n                        System.out.println(&quot;First thread about to sleep&quot;);\n                        Thread.sleep(5000);\n                        System.out.println(&quot;Woke up and about to invoke wait()&quot;);\n                        flag.wait();\n                    }\n                } catch (InterruptedException ie) {\n\n                }\n            }\n        }\n    });\n\n    Thread t2 = new Thread(new Runnable() {\n\n        public void run() {\n            flag = false;\n            System.out.println(&quot;Boolean assignment done.&quot;);\n        }\n    });\n\n    t1.start();\n    Thread.sleep(1000);\n    t2.start();\n    t1.join();\n    t2.join();\n}\n</code></pre>\n<p>}</p>\n<p>I'm having trouble understanding at which point did thread 1 relinquish lock on flag</p>\n"},{"tags":["java","if-statement","decimal"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1680481004,"post_id":75915260,"comment_id":133901038,"body_markdown":"Why do you expect that the code should stop?","body":"Why do you expect that the code should stop?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1680481064,"post_id":75915260,"comment_id":133901044,"body_markdown":"And what steps have you taken to try to debug the issue? Please describe these steps and the results found.","body":"And what steps have you taken to try to debug the issue? Please describe these steps and the results found."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1680481446,"post_id":75915260,"comment_id":133901083,"body_markdown":"This looks to me like a floating point error.  Adding `0.2` ten times isn&#39;t going to get you to exactly `2.0`.  Perhaps you want to use `BigDecimal` instead of `double`, or perhaps you&#39;d like to use a slightly looser condition than `A == 2`.","body":"This looks to me like a floating point error.  Adding <code>0.2</code> ten times isn&#39;t going to get you to exactly <code>2.0</code>.  Perhaps you want to use <code>BigDecimal</code> instead of <code>double</code>, or perhaps you&#39;d like to use a slightly looser condition than <code>A == 2</code>."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1680481770,"post_id":75915260,"comment_id":133901117,"body_markdown":"Does this answer your question? [Is floating point math broken?](https://stackoverflow.com/questions/588004/is-floating-point-math-broken)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680481945,"creation_date":1680481945,"answer_id":75915338,"question_id":75915260,"body_markdown":"You&#39;re running into a key problem here. It&#39;s not &#39;in java, `if` does not work&#39;. Of course it does. It&#39;s a tool used by millions, and you&#39;re a beginner - anytime you think &#39;The tool must be broken&#39;, trust the millions. It isn&#39;t.\r\n\r\nThe problem you&#39;re running into is that `double` math doesn&#39;t do what you think it does.\r\n\r\n&gt; ```java\r\n&gt;  double A=0, J=1;\r\n&gt; .... A == 1.0 ....\r\n&gt; ```\r\n\r\nStop. You lost the game. You can&#39;t use `==` with doubles unless you really, really, really know what you are doing.\r\n\r\n`double` does not work that way. doubles are imprecise. Computers are finite constructs. Quick, grab me a piece of paper and write out 1 divided by 3, in decimal, exactly.\r\n\r\nOf course, you can&#39;t. 0.333333 - it never ends. Computers like binary instead of decimal, and they&#39;d be very slow indeed if they had to emulate decimal (after all, 10 is not a power of 2, so it&#39;s not so easy to emulate base-10 math, considering!) - so, `double` does two things:\r\n\r\n* Because computers aren&#39;t infinite, just like your piece of paper isn&#39;t, doubles __silently__ lop off anything beyond 52 digits (counting both before and after the comma). It&#39;s as if you wrote 0.3333 (52 threes), and then handed it back to me and went: Here you go! - you might think that is annoying, but consider how else it should work.\r\n\r\n* ... and because computers like binary, that&#39;s 52 __binary__ digits. zeroes and ones, only.\r\n\r\nHere&#39;s the thing: If I ask you to write 1/5th on a piece of paper, you can do that. 0.2. There. Exact perfection. That&#39;s because 1/5th is easy to &#39;do&#39; in base-10 math. But in base-2 math __it is as impossible as 1/3rd is!__ - a computer __CANNOT__ perfectly represent 0.2 and has to round it.\r\n\r\nImagine I asked you to write that note for 1/3, and then I ask you to write 2 more notes, also with 1/3. You hand me back a note with 0.(52 threes) three times. I then give you those notes right back and ask you to &#39;please add these numbers up&#39;.\r\n\r\nGuess what?\r\n\r\n__You will mess it up__. Because you will give me 0.(52 nines). Because that is indeed the correct sum of all the 3 notes you handed me. So, in this &#39;write it on a note&#39; system (which is, exactly, what computers do, of course), `1/3 + 1/3 + 1/3` results in __a broken result__.\r\n\r\n__This is part of the `double` spec - this is really how it works__.\r\n\r\nAs a consequence, doubles have errors, and given that they have errors, you need to think about any `double` value as merely &#39;near&#39; what the actual number is you wanted. Once you get real good at this you&#39;ll know exactly how &#39;far&#39; near can get (if you do a lot of math at very large magnitude, or do loads of ops, that error gets quite large. But, even if you don&#39;t, there&#39;s some error, even if only a very small one). Point is, given that the number is merely &#39;near&#39; what you think it is, `==` __is broken__ with doubles. It just doesn&#39;t work. That explains for example why `A == 2` is never `true`. For the same reason first writing down 1/3 three times lopping off any digits after the 52nd one, then adding _those_ up, isn&#39;t fully 1.0 either.\r\n\r\nBecause of this, you have the wrong idea about which of the `if`s is being triggered. You get straight integers when an `if` triggers that uses `%.0f` format, and you get the `5.0` style prints when a `%.1f` is being triggered.\r\n\r\n`%.1f` does what you ask it to: it rounds. So, if your actual number is 0.999999999 (because of that rounding issue), and you toss that at `printf(&quot;%.1f&quot;)` it dutifully prints 1.0, because 1.0 is indeed the closest number to 0.99999999 that you can print with only one digit after the comma.\r\n\r\n### So how do I fix this?\r\n\r\nThere are various strategies; your code is not clear about what it is actually trying to _do_, so I can&#39;t advise you on what the right answer is here. But there is a right answer to all scenarios. A small selection of common solutions:\r\n\r\n## int/long instead\r\n\r\nMany systems have a universally agreed upon unit of atomicity. Trying to operate sub-atomic is problematic and doesn&#39;t integrate. For example, for euros, the atomic unit is __cents__. You can ask a bank to transfer 1 cent. You cannot ask a bank to transfer half of a cent.\r\n\r\nIn such systems its generally a smarter plan to store the atomic unit and not the de facto unit. So, store cents, not euros. If you have a class representing an item stocked in a store and you need to track price, do NOT do `double price = 1.23;` for something costing 1 dollar and 23 cents. Instead fo `int price = 123;`.\r\n\r\n## BigDecimal\r\n\r\nBD emulates decimal math to whatever precision you want (with the one and only limitation your system&#39;s memory). It can perfectly do the math you are trying to do. But note that it comes with a bevy of caveats - it&#39;s slow as molasses and hard to use. Also, you still don&#39;t solve the division problem. Just like you can&#39;t write the exact result of 1 divided by 3 on a piece of paper, if you ask BD to divide 1 by 3 it will throw an exception instead; you have to tell it how to deal with the rounding that it has to do, and once you do that, rounding is back in and we&#39;re stick with that &#39;actually all doubles are more like a nebulous cloud that is merely near what it really should be&#39; thing.\r\n\r\n## delta\r\n\r\nInstead of using `==`, instead you want to know if the result is merely NEAR what you are looking for. So, instead of `A == 1.0`, you&#39;d do: `Math.abs(A - 1.0) &lt; 0.00001` which checks if A is really really close to 1.0.\r\n","title":"the ifs aren&#39;t working properly most of the time in this code. [java]","body":"<p>You're running into a key problem here. It's not 'in java, <code>if</code> does not work'. Of course it does. It's a tool used by millions, and you're a beginner - anytime you think 'The tool must be broken', trust the millions. It isn't.</p>\n<p>The problem you're running into is that <code>double</code> math doesn't do what you think it does.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code> double A=0, J=1;\n.... A == 1.0 ....\n</code></pre>\n</blockquote>\n<p>Stop. You lost the game. You can't use <code>==</code> with doubles unless you really, really, really know what you are doing.</p>\n<p><code>double</code> does not work that way. doubles are imprecise. Computers are finite constructs. Quick, grab me a piece of paper and write out 1 divided by 3, in decimal, exactly.</p>\n<p>Of course, you can't. 0.333333 - it never ends. Computers like binary instead of decimal, and they'd be very slow indeed if they had to emulate decimal (after all, 10 is not a power of 2, so it's not so easy to emulate base-10 math, considering!) - so, <code>double</code> does two things:</p>\n<ul>\n<li><p>Because computers aren't infinite, just like your piece of paper isn't, doubles <strong>silently</strong> lop off anything beyond 52 digits (counting both before and after the comma). It's as if you wrote 0.3333 (52 threes), and then handed it back to me and went: Here you go! - you might think that is annoying, but consider how else it should work.</p>\n</li>\n<li><p>... and because computers like binary, that's 52 <strong>binary</strong> digits. zeroes and ones, only.</p>\n</li>\n</ul>\n<p>Here's the thing: If I ask you to write 1/5th on a piece of paper, you can do that. 0.2. There. Exact perfection. That's because 1/5th is easy to 'do' in base-10 math. But in base-2 math <strong>it is as impossible as 1/3rd is!</strong> - a computer <strong>CANNOT</strong> perfectly represent 0.2 and has to round it.</p>\n<p>Imagine I asked you to write that note for 1/3, and then I ask you to write 2 more notes, also with 1/3. You hand me back a note with 0.(52 threes) three times. I then give you those notes right back and ask you to 'please add these numbers up'.</p>\n<p>Guess what?</p>\n<p><strong>You will mess it up</strong>. Because you will give me 0.(52 nines). Because that is indeed the correct sum of all the 3 notes you handed me. So, in this 'write it on a note' system (which is, exactly, what computers do, of course), <code>1/3 + 1/3 + 1/3</code> results in <strong>a broken result</strong>.</p>\n<p><strong>This is part of the <code>double</code> spec - this is really how it works</strong>.</p>\n<p>As a consequence, doubles have errors, and given that they have errors, you need to think about any <code>double</code> value as merely 'near' what the actual number is you wanted. Once you get real good at this you'll know exactly how 'far' near can get (if you do a lot of math at very large magnitude, or do loads of ops, that error gets quite large. But, even if you don't, there's some error, even if only a very small one). Point is, given that the number is merely 'near' what you think it is, <code>==</code> <strong>is broken</strong> with doubles. It just doesn't work. That explains for example why <code>A == 2</code> is never <code>true</code>. For the same reason first writing down 1/3 three times lopping off any digits after the 52nd one, then adding <em>those</em> up, isn't fully 1.0 either.</p>\n<p>Because of this, you have the wrong idea about which of the <code>if</code>s is being triggered. You get straight integers when an <code>if</code> triggers that uses <code>%.0f</code> format, and you get the <code>5.0</code> style prints when a <code>%.1f</code> is being triggered.</p>\n<p><code>%.1f</code> does what you ask it to: it rounds. So, if your actual number is 0.999999999 (because of that rounding issue), and you toss that at <code>printf(&quot;%.1f&quot;)</code> it dutifully prints 1.0, because 1.0 is indeed the closest number to 0.99999999 that you can print with only one digit after the comma.</p>\n<h3>So how do I fix this?</h3>\n<p>There are various strategies; your code is not clear about what it is actually trying to <em>do</em>, so I can't advise you on what the right answer is here. But there is a right answer to all scenarios. A small selection of common solutions:</p>\n<h2>int/long instead</h2>\n<p>Many systems have a universally agreed upon unit of atomicity. Trying to operate sub-atomic is problematic and doesn't integrate. For example, for euros, the atomic unit is <strong>cents</strong>. You can ask a bank to transfer 1 cent. You cannot ask a bank to transfer half of a cent.</p>\n<p>In such systems its generally a smarter plan to store the atomic unit and not the de facto unit. So, store cents, not euros. If you have a class representing an item stocked in a store and you need to track price, do NOT do <code>double price = 1.23;</code> for something costing 1 dollar and 23 cents. Instead fo <code>int price = 123;</code>.</p>\n<h2>BigDecimal</h2>\n<p>BD emulates decimal math to whatever precision you want (with the one and only limitation your system's memory). It can perfectly do the math you are trying to do. But note that it comes with a bevy of caveats - it's slow as molasses and hard to use. Also, you still don't solve the division problem. Just like you can't write the exact result of 1 divided by 3 on a piece of paper, if you ask BD to divide 1 by 3 it will throw an exception instead; you have to tell it how to deal with the rounding that it has to do, and once you do that, rounding is back in and we're stick with that 'actually all doubles are more like a nebulous cloud that is merely near what it really should be' thing.</p>\n<h2>delta</h2>\n<p>Instead of using <code>==</code>, instead you want to know if the result is merely NEAR what you are looking for. So, instead of <code>A == 1.0</code>, you'd do: <code>Math.abs(A - 1.0) &lt; 0.00001</code> which checks if A is really really close to 1.0.</p>\n"}],"owner":{"account_id":28198013,"reputation":3,"user_id":21552292,"display_name":"GABRIEL EURIPEDES VIEIRA CORRE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680508142,"accepted_answer_id":75915338,"answer_count":1,"score":-1,"last_activity_date":1680481945,"creation_date":1680480631,"question_id":75915260,"body_markdown":"```\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Main {\r\n \r\n    public static void main(String[] args)  {\r\n \r\n        Scanner s = new Scanner(System.in);\r\n        double A=0, J=1;\r\n        int aux=0;\r\n        \r\n        for(int i = 0; ; i++){\r\n            if(A%1==0.0 &amp;&amp; J%1==0.0) { System.out.printf(&quot;I=%.0f J=%.0f\\n&quot;, A, J); }\r\n            else if(A%1!=0 &amp;&amp; J%1==0) { System.out.printf(&quot;I=%.1f J=%.0f\\n&quot;, A, J); }\r\n            else if(A%1==0 &amp;&amp; J%1!=0) { System.out.printf(&quot;I=%.0f J=%.1f\\n&quot;, A, J); }\r\n            else if(A%1!=0 &amp;&amp; J%1!=0) { System.out.printf(&quot;I=%.1f J=%.1f\\n&quot;, A, J); }\r\n            J++;\r\n            aux++;\r\n            if(A==2 &amp;&amp; aux==3) { break;}\r\n            if(aux==3){ A+=0.2; J+=0.2; J-=3; aux=0;}\r\n        }\r\n}\r\n}\r\n```\r\n\r\n\r\n\r\nThis should print :\r\n```\r\nI=0 J=1\r\nI=0 J=2\r\nI=0 J=3\r\nI=0.2 J=1.2\r\nI=0.2 J=2.2\r\nI=0.2 J=3.2\r\n... \r\nI=2 J=5 \r\n```\r\n\r\nfirst of all the code doesn&#39;t stop, as it&#39;s not reading the `if(A==2 &amp;&amp; aux==3) { break;}`, then there&#39;s also the fact that it&#39;s not reading the first if properly either, as when I= integer and J=integer, the code should print exemple :  `I=2 J=5` but instead prints `I=2.0 J=5.0` in most cases, other than in `I=5.0 J=6, I=5.0 J=7, and I=5.0 J=8` where J is correctly being printed as an integer for some reason...","title":"the ifs aren&#39;t working properly most of the time in this code. [java]","body":"<pre><code>import java.io.IOException;\nimport java.util.Scanner;\n\n\npublic class Main {\n \n    public static void main(String[] args)  {\n \n        Scanner s = new Scanner(System.in);\n        double A=0, J=1;\n        int aux=0;\n        \n        for(int i = 0; ; i++){\n            if(A%1==0.0 &amp;&amp; J%1==0.0) { System.out.printf(&quot;I=%.0f J=%.0f\\n&quot;, A, J); }\n            else if(A%1!=0 &amp;&amp; J%1==0) { System.out.printf(&quot;I=%.1f J=%.0f\\n&quot;, A, J); }\n            else if(A%1==0 &amp;&amp; J%1!=0) { System.out.printf(&quot;I=%.0f J=%.1f\\n&quot;, A, J); }\n            else if(A%1!=0 &amp;&amp; J%1!=0) { System.out.printf(&quot;I=%.1f J=%.1f\\n&quot;, A, J); }\n            J++;\n            aux++;\n            if(A==2 &amp;&amp; aux==3) { break;}\n            if(aux==3){ A+=0.2; J+=0.2; J-=3; aux=0;}\n        }\n}\n}\n</code></pre>\n<p>This should print :</p>\n<pre><code>I=0 J=1\nI=0 J=2\nI=0 J=3\nI=0.2 J=1.2\nI=0.2 J=2.2\nI=0.2 J=3.2\n... \nI=2 J=5 \n</code></pre>\n<p>first of all the code doesn't stop, as it's not reading the <code>if(A==2 &amp;&amp; aux==3) { break;}</code>, then there's also the fact that it's not reading the first if properly either, as when I= integer and J=integer, the code should print exemple :  <code>I=2 J=5</code> but instead prints <code>I=2.0 J=5.0</code> in most cases, other than in <code>I=5.0 J=6, I=5.0 J=7, and I=5.0 J=8</code> where J is correctly being printed as an integer for some reason...</p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669438048,"post_id":74579783,"comment_id":131645790,"body_markdown":"It is `Ljava/util/Optional;`. You missed several things: erasure, primitives vs wrappers...","body":"It is <code>Ljava&#47;util&#47;Optional;</code>. You missed several things: erasure, primitives vs wrappers..."},{"owner":{"account_id":22421523,"reputation":40,"user_id":16628722,"display_name":"notabot"},"score":0,"creation_date":1669438430,"post_id":74579783,"comment_id":131645832,"body_markdown":"@JohannesKuhn I need to include the Optional&lt;Double&gt; and not just all of the Optional&lt;T&gt; types, thanks for the help and it is very helpful!","body":"@JohannesKuhn I need to include the Optional&lt;Double&gt; and not just all of the Optional&lt;T&gt; types, thanks for the help and it is very helpful!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1669440785,"post_id":74579783,"comment_id":131646054,"body_markdown":"There is no specific type descriptor string for `Optional&lt;Double&gt;` ... because *type erasure*.  The erased type&#39;s descriptor string is `Ljava/util/Optional;`.  That&#39;s it.  Nothing else.","body":"There is no specific type descriptor string for <code>Optional&lt;Double&gt;</code> ... because <i>type erasure</i>.  The erased type&#39;s descriptor string is <code>Ljava&#47;util&#47;Optional;</code>.  That&#39;s it.  Nothing else."},{"owner":{"account_id":22421523,"reputation":40,"user_id":16628722,"display_name":"notabot"},"score":0,"creation_date":1669442403,"post_id":74579783,"comment_id":131646186,"body_markdown":"Then is there a way to differentiate `Option&lt;Double&gt;` and `Option&lt;Integer&gt;`?","body":"Then is there a way to differentiate <code>Option&lt;Double&gt;</code> and <code>Option&lt;Integer&gt;</code>?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669454326,"post_id":74579783,"comment_id":131647504,"body_markdown":"From the field descriptor? No, there is no way to differentiate `Optional&lt;Double&gt;` and `Optional&lt;Integer&gt;`, because erasure.","body":"From the field descriptor? No, there is no way to differentiate <code>Optional&lt;Double&gt;</code> and <code>Optional&lt;Integer&gt;</code>, because erasure."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669454502,"post_id":74579783,"comment_id":131647524,"body_markdown":"Also, you can&#39;t use primitive types with generics. `Double` is the wrapper type, and `double` is the primitive type. And the descriptor for `Double` is `Ljava/lang/Double;`, while for `double` it is `D`. (You mix that up in your question.)","body":"Also, you can&#39;t use primitive types with generics. <code>Double</code> is the wrapper type, and <code>double</code> is the primitive type. And the descriptor for <code>Double</code> is <code>Ljava&#47;lang&#47;Double;</code>, while for <code>double</code> it is <code>D</code>. (You mix that up in your question.)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669454609,"post_id":74579783,"comment_id":131647534,"body_markdown":"Finally, I hope you are aware of [`java.util.OptionalDouble`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalDouble.html)","body":"Finally, I hope you are aware of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalDouble.html\" rel=\"nofollow noreferrer\"><code>java.util.OptionalDouble</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":22421523,"reputation":40,"user_id":16628722,"display_name":"notabot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680480508,"creation_date":1680480508,"answer_id":75915248,"question_id":74579783,"body_markdown":"After reading some of the comments and doing some research. I summarized that there is no way to differentiate between the two because of type erasure","title":"What is the Java Field Descriptor for Optional&lt;Double&gt;?","body":"<p>After reading some of the comments and doing some research. I summarized that there is no way to differentiate between the two because of type erasure</p>\n"}],"owner":{"account_id":22421523,"reputation":40,"user_id":16628722,"display_name":"notabot"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75915248,"answer_count":1,"score":0,"last_activity_date":1680480508,"creation_date":1669437897,"question_id":74579783,"body_markdown":"I know that the Java Field Descriptor for type Double is D, but how would you include the &quot;Optional&lt;&gt;&quot; wrapping the primitive type? Any help would be appreciated. \r\n\r\nI have tried to use &quot;Ljava/util/Optional/Double&quot; but it appears that this does not work at all. ","title":"What is the Java Field Descriptor for Optional&lt;Double&gt;?","body":"<p>I know that the Java Field Descriptor for type Double is D, but how would you include the &quot;Optional&lt;&gt;&quot; wrapping the primitive type? Any help would be appreciated.</p>\n<p>I have tried to use &quot;Ljava/util/Optional/Double&quot; but it appears that this does not work at all.</p>\n"},{"tags":["java","ssl","telegram-bot","self-signed"],"owner":{"account_id":19042166,"reputation":33,"user_id":13902023,"display_name":"Сергей Штукатуров"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680478943,"creation_date":1680390295,"question_id":75909309,"body_markdown":"I try to run Telegram webhook bot on my VPS, and it starts. But when it tries to receive an update, it spams error messages instead. The output looks like this:\r\n\r\n&gt;!WARN 96184 --- [or-http-epoll-2] r.n.http.server.HttpServerOperations     : [9ee2cfa8, L:/000.000.000.000:8443 - R:/91.108.6.73:50172] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: &#203;&#207;&#207;4L&#39;.&#205;&quot;Ÿ&#184;@&#167;M\r\n0Z\t)_&#209;&gt;&#195;&gt;&#192;,&#192;02023-04-01 02:26:11.963  WARN 96184 --- [or-http-epoll-3] r.n.http.server.HttpServerOperations     : [5eb1a6ec, L:/000.000.000.000:8443 - R:/91.108.6.73:50616] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: [[P&#166;&#162;\r\n B)2023-04-01 02:26:13.967  WARN 96184 --- [or-http-epoll-4] r.n.http.server.HttpServerOperations     : [08774100, L:/000.000.000.000:8443 - R:/91.108.6.73:51120] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: &#209;&#174;&#182;&#201;&#210;&#176;&#210;T&#212;&#218;&#165;&#200;N+&#220;&#168;&#171;E&#204;&gt;&#192;,&#192;02023-04-01 02:26:15.956  WARN 96184 --- [or-http-epoll-1] r.n.http.server.HttpServerOperations     : [a2883024, L:/000.000.000.000:8443 - R:/91.108.6.73:51600] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: &#204; D&#166;W&#39;K&#192;J9V&#217;P&#209;{ DZ&#209;]\t&#201;V4CY&#172;I\r\n                               &amp;&#205;&#211;&gt;&#192;,&#192;02023-04-01 02:26:17.958\r\n\r\nAnd it continues until I stop app manually. I&#39;ve checked similar questions and it looks like I need a security certificate. Telegram API allows to use self-signed certificate, so I&#39;ve created one on VPS according to manual:\r\n`openssl req -newkey rsa:2048 -sha256 -nodes -keyout private.key -x509 -days 3650 -out cert.pem -subj &quot;/C=AU/ST=MySt/L=MyLoc/O=MyLearningBot/CN=000.000.000.000&quot;`\r\nWhere 000.000.000.000 is my VPS IP\r\n\r\nThen I&#39;ve registered webhook: \r\n`curl -F &quot;url=https://000.000.000.000:8443/bot1234567890mybottoken&quot; -F &quot;certificate=@/absolute/path/cert.pem&quot; https://api.telegram.org/bot1234567890mybottoken/setWebhook`\r\n\r\nI&#39;m not sure if I had to use @ in certificate parameter, so I&#39;ve tried it both ways. The result is the same - the app outputs stream of errors.\r\n\r\nWhile the app is working, getWebhookInfo method returns this: \r\n```\r\n{&quot;ok&quot;:true,&quot;result&quot;:{&quot;url&quot;:&quot;https://000.000.000.000:8443/bot1234567890mybottoken&quot;,&quot;has_custom_certificate&quot;:true,&quot;pending_update_count&quot;:1,&quot;last_error_date&quot;:1680305175,&quot;last_error_message&quot;:&quot;SSL error {error:0A00010B:SSL routines::wrong version number}&quot;,&quot;max_connections&quot;:40,&quot;ip_address&quot;:&quot;000.000.000.000&quot;}}\r\n```\r\nWhen app is stopped, last_error_message expectedly changes to &quot;Connection refused&quot;.\r\nI think that there is some problem with my certificate, but can&#39;t find solution. Mostly advice to configure Apache server, but I don&#39;t use one, it&#39;s an Spring web app.\r\nI use Java, on my local machine I run the app through ngrok and it works fine.\r\n\r\nApp runs from jar file, built by Gradle and located in MyProjectDir/build/libs. cert.pem and private.key located in the same folder with MyProjectDir (but not inside it).\r\n\r\nMaybe I have to register cert.pem inside my Java code? Or maybe there is the way to define version format?\r\n\r\nUPD: Tried to add server.ssl.certificate=cert.pem and server.ssl.certificate-private-key=private.key, getWebhookInfo changed to \r\n\r\n```\r\n{&quot;ok&quot;:true,&quot;result&quot;:{&quot;url&quot;:&quot;https://000.000.000.000:8443/bot1234567890mybottoken&quot;,&quot;has_custom_certificate&quot;:true,&quot;pending_update_count&quot;:2,&quot;last_error_date&quot;:1680477774,&quot;last_error_message&quot;:&quot;Wrong response from the webhook: 404 Not Found&quot;,&quot;max_connections&quot;:40,&quot;ip_address&quot;:&quot;000.000.000.000&quot;}}\r\n```","title":"Telegram webhook bot on VPS throws java.lang.IllegalArgumentException: invalid version format exeption","body":"<p>I try to run Telegram webhook bot on my VPS, and it starts. But when it tries to receive an update, it spams error messages instead. The output looks like this:</p>\n<blockquote>\n<p>!WARN 96184 --- [or-http-epoll-2] r.n.http.server.HttpServerOperations     : [9ee2cfa8, L:/000.000.000.000:8443 - R:/91.108.6.73:50172] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: ËÏÏ4L'.Í&quot;Ÿ¸@§M\n0Z  )_Ñ&gt;Ã&gt;À,À02023-04-01 02:26:11.963  WARN 96184 --- [or-http-epoll-3] r.n.http.server.HttpServerOperations     : [5eb1a6ec, L:/000.000.000.000:8443 - R:/91.108.6.73:50616] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: [[P¦¢\nB)2023-04-01 02:26:13.967  WARN 96184 --- [or-http-epoll-4] r.n.http.server.HttpServerOperations     : [08774100, L:/000.000.000.000:8443 - R:/91.108.6.73:51120] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: Ñ®¶ÉÒ°ÒTÔÚ¥ÈN+Ü¨«EÌ&gt;À,À02023-04-01 02:26:15.956  WARN 96184 --- [or-http-epoll-1] r.n.http.server.HttpServerOperations     : [a2883024, L:/000.000.000.000:8443 - R:/91.108.6.73:51600] Decoding failed: FULL_REQUEST(decodeResult: failure(java.lang.IllegalArgumentException: invalid version format: Ì D¦W'KÀJ9VÙPÑ{ DZÑ] ÉV4CY¬I\n&amp;ÍÓ&gt;À,À02023-04-01 02:26:17.958</p>\n</blockquote>\n<p>And it continues until I stop app manually. I've checked similar questions and it looks like I need a security certificate. Telegram API allows to use self-signed certificate, so I've created one on VPS according to manual:\n<code>openssl req -newkey rsa:2048 -sha256 -nodes -keyout private.key -x509 -days 3650 -out cert.pem -subj &quot;/C=AU/ST=MySt/L=MyLoc/O=MyLearningBot/CN=000.000.000.000&quot;</code>\nWhere 000.000.000.000 is my VPS IP</p>\n<p>Then I've registered webhook:\n<code>curl -F &quot;url=https://000.000.000.000:8443/bot1234567890mybottoken&quot; -F &quot;certificate=@/absolute/path/cert.pem&quot; https://api.telegram.org/bot1234567890mybottoken/setWebhook</code></p>\n<p>I'm not sure if I had to use @ in certificate parameter, so I've tried it both ways. The result is the same - the app outputs stream of errors.</p>\n<p>While the app is working, getWebhookInfo method returns this:</p>\n<pre><code>{&quot;ok&quot;:true,&quot;result&quot;:{&quot;url&quot;:&quot;https://000.000.000.000:8443/bot1234567890mybottoken&quot;,&quot;has_custom_certificate&quot;:true,&quot;pending_update_count&quot;:1,&quot;last_error_date&quot;:1680305175,&quot;last_error_message&quot;:&quot;SSL error {error:0A00010B:SSL routines::wrong version number}&quot;,&quot;max_connections&quot;:40,&quot;ip_address&quot;:&quot;000.000.000.000&quot;}}\n</code></pre>\n<p>When app is stopped, last_error_message expectedly changes to &quot;Connection refused&quot;.\nI think that there is some problem with my certificate, but can't find solution. Mostly advice to configure Apache server, but I don't use one, it's an Spring web app.\nI use Java, on my local machine I run the app through ngrok and it works fine.</p>\n<p>App runs from jar file, built by Gradle and located in MyProjectDir/build/libs. cert.pem and private.key located in the same folder with MyProjectDir (but not inside it).</p>\n<p>Maybe I have to register cert.pem inside my Java code? Or maybe there is the way to define version format?</p>\n<p>UPD: Tried to add server.ssl.certificate=cert.pem and server.ssl.certificate-private-key=private.key, getWebhookInfo changed to</p>\n<pre><code>{&quot;ok&quot;:true,&quot;result&quot;:{&quot;url&quot;:&quot;https://000.000.000.000:8443/bot1234567890mybottoken&quot;,&quot;has_custom_certificate&quot;:true,&quot;pending_update_count&quot;:2,&quot;last_error_date&quot;:1680477774,&quot;last_error_message&quot;:&quot;Wrong response from the webhook: 404 Not Found&quot;,&quot;max_connections&quot;:40,&quot;ip_address&quot;:&quot;000.000.000.000&quot;}}\n</code></pre>\n"},{"tags":["java","sketchware"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680535438,"post_id":75915104,"comment_id":133911001,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28197777,"reputation":1,"user_id":21552102,"display_name":"java patcher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680477599,"creation_date":1680477599,"question_id":75915104,"body_markdown":"How to save preferences in linear background color and set the color to another and save a color and set to another linear view and text?\r\n\r\nget color in sharedpreference and put it into new linear","title":"finding solutions for get linearBackroundColor to save in savepreference","body":"<p>How to save preferences in linear background color and set the color to another and save a color and set to another linear view and text?</p>\n<p>get color in sharedpreference and put it into new linear</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680469331,"post_id":75914560,"comment_id":133899797,"body_markdown":"cleanJsonString = dirtyJsonString.replace(“ : ”, “: “);","body":"cleanJsonString = dirtyJsonString.replace(“ : ”, “: “);"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680470415,"post_id":75914560,"comment_id":133899925,"body_markdown":"@JohnWilliams I hope you are joking? Never use a regex on a JSON string","body":"@JohnWilliams I hope you are joking? Never use a regex on a JSON string"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680470641,"post_id":75914560,"comment_id":133899947,"body_markdown":"Whitespace isn&#39;t significant in that location, as far as JSON parsers are concerned, and your output is perfectly readable. Why do you need to do this?","body":"Whitespace isn&#39;t significant in that location, as far as JSON parsers are concerned, and your output is perfectly readable. Why do you need to do this?"},{"owner":{"account_id":413918,"reputation":3157,"user_id":787832,"accept_rate":75,"display_name":"Steve"},"score":1,"creation_date":1680470689,"post_id":75914560,"comment_id":133899953,"body_markdown":"@JohnWilliams I need to do it the right way, and not the wrong way with patching the results.  Thanks for the thought.","body":"@JohnWilliams I need to do it the right way, and not the wrong way with patching the results.  Thanks for the thought."},{"owner":{"account_id":413918,"reputation":3157,"user_id":787832,"accept_rate":75,"display_name":"Steve"},"score":0,"creation_date":1680470790,"post_id":75914560,"comment_id":133899975,"body_markdown":"@tgdavies the people I am making this for are unforgiving.  If it was just for me I would have left the ouput  as a linear string.","body":"@tgdavies the people I am making this for are unforgiving.  If it was just for me I would have left the ouput  as a linear string."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680475476,"creation_date":1680474895,"answer_id":75914945,"question_id":75914560,"body_markdown":"There may be a better way, but you can create your own pretty printer class which uses a different separator:\r\n```\r\nDefaultPrettyPrinter printer = new DefaultPrettyPrinter() {\r\n            @Override\r\n            public DefaultPrettyPrinter createInstance() {\r\n\r\n                return new DefaultPrettyPrinter(this);\r\n            }\r\n\r\n            @Override\r\n            public DefaultPrettyPrinter withSeparators(Separators separators) {\r\n                _separators = separators;\r\n                _objectFieldValueSeparatorWithSpaces = separators.getObjectFieldValueSeparator() + &quot; &quot;;\r\n                return this;\r\n            }\r\n        };\r\nprinter = printer.withSeparators(Separators.createDefaultInstance());\r\n```\r\nThis replaces the value in `_objectFieldValueSeparatorWithSpaces` with  `&quot;: &quot;` instead of the usual `&quot; : &quot;`.\r\n\r\nThe printer returned by `createInstance` will never be used, but `createInstance` still needs to be overridden.","title":"Jackson: How to change the indentation of the colon in the JSON outpout?","body":"<p>There may be a better way, but you can create your own pretty printer class which uses a different separator:</p>\n<pre><code>DefaultPrettyPrinter printer = new DefaultPrettyPrinter() {\n            @Override\n            public DefaultPrettyPrinter createInstance() {\n\n                return new DefaultPrettyPrinter(this);\n            }\n\n            @Override\n            public DefaultPrettyPrinter withSeparators(Separators separators) {\n                _separators = separators;\n                _objectFieldValueSeparatorWithSpaces = separators.getObjectFieldValueSeparator() + &quot; &quot;;\n                return this;\n            }\n        };\nprinter = printer.withSeparators(Separators.createDefaultInstance());\n</code></pre>\n<p>This replaces the value in <code>_objectFieldValueSeparatorWithSpaces</code> with  <code>&quot;: &quot;</code> instead of the usual <code>&quot; : &quot;</code>.</p>\n<p>The printer returned by <code>createInstance</code> will never be used, but <code>createInstance</code> still needs to be overridden.</p>\n"}],"owner":{"account_id":413918,"reputation":3157,"user_id":787832,"accept_rate":75,"display_name":"Steve"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680475476,"creation_date":1680468869,"question_id":75914560,"body_markdown":"I have JSON ouput that has 1 whitespace on the left side of the colons.\r\nI need to eliminate that whitespace on the left side.\r\n\r\nBelow is my output.\r\nBelow that is the code that produces it.\r\n\r\nI need to leave everything else in the output as it is, so I can&#39;t get rid of pretty printing or indenting the braces.\r\n\r\n    [\r\n        {\r\n            &quot;satelliteId&quot; : 1000,\r\n            &quot;severity&quot; : &quot;RED HIGH&quot;,\r\n            &quot;component&quot; : &quot;TSTAT&quot;,\r\n            &quot;timestamp&quot; : &quot;2018-01-01T23:01:38.001Z&quot;\r\n        },\r\n        {\r\n            &quot;satelliteId&quot; : 1000,\r\n            &quot;severity&quot; : &quot;RED LOW&quot;,\r\n            &quot;component&quot; : &quot;BATT&quot;,\r\n            &quot;timestamp&quot; : &quot;2018-01-01T23:01:09.521Z&quot;\r\n        }\r\n    ]\r\n\r\n**code:**\r\n\r\n    import java.io.IOException;\r\n    import java.time.Instant;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.util.DefaultIndenter;\r\n    import com.fasterxml.jackson.core.util.DefaultPrettyPrinter;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class FormatAlerts {\r\n        List&lt;Message&gt; alerts = new ArrayList&lt;&gt;();\r\n    \r\n        public FormatAlerts(List&lt;Message&gt;alerts){\r\n            this.alerts = alerts;\r\n        }\r\n    \r\n        public String formatAlerts(){\r\n    \r\n            String formattedAlerts = null;\r\n            ObjectMapper om = new ObjectMapper();\r\n            ArrayNode arrayNode = om.createArrayNode();\r\n    \r\n            // Create a &quot;Pretty Printer&quot; that will indent brackets and braces more\r\n            String indent = String.format(&quot;%-4s&quot;,&quot;&quot;);\r\n            DefaultPrettyPrinter.Indenter indenter = new DefaultIndenter(indent, DefaultIndenter.SYS_LF);\r\n            DefaultPrettyPrinter printer = new DefaultPrettyPrinter();\r\n            printer.indentObjectsWith(indenter);\r\n            printer.indentArraysWith(indenter);\r\n    \r\n    \r\n            try {\r\n                for (Message m : alerts) {\r\n                    // Format the time \r\n                    Instant t = Instant.ofEpochMilli(m.getEpochTime());\r\n                    m.setTimestamp(t.toString());\r\n    \r\n                    //Format the alert as Json\r\n                    String alert = om.writer(printer).writeValueAsString(m);\r\n                    //String alert = om.writerWithDefaultPrettyPrinter().writeValueAsString(m);\r\n                    ObjectNode obj = om.readValue(alert, ObjectNode.class);          \r\n                    arrayNode.add(obj);\r\n                    formattedAlerts = om.writer(printer).writeValueAsString(arrayNode);\r\n                    //formattedAlerts = om.writerWithDefaultPrettyPrinter().writeValueAsString(arrayNode);\r\n                }\r\n            } catch (JsonProcessingException jpe) {\r\n                jpe.printStackTrace();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return formattedAlerts;\r\n        }\r\n    }\r\n\r\n","title":"Jackson: How to change the indentation of the colon in the JSON outpout?","body":"<p>I have JSON ouput that has 1 whitespace on the left side of the colons.\nI need to eliminate that whitespace on the left side.</p>\n<p>Below is my output.\nBelow that is the code that produces it.</p>\n<p>I need to leave everything else in the output as it is, so I can't get rid of pretty printing or indenting the braces.</p>\n<pre><code>[\n    {\n        &quot;satelliteId&quot; : 1000,\n        &quot;severity&quot; : &quot;RED HIGH&quot;,\n        &quot;component&quot; : &quot;TSTAT&quot;,\n        &quot;timestamp&quot; : &quot;2018-01-01T23:01:38.001Z&quot;\n    },\n    {\n        &quot;satelliteId&quot; : 1000,\n        &quot;severity&quot; : &quot;RED LOW&quot;,\n        &quot;component&quot; : &quot;BATT&quot;,\n        &quot;timestamp&quot; : &quot;2018-01-01T23:01:09.521Z&quot;\n    }\n]\n</code></pre>\n<p><strong>code:</strong></p>\n<pre><code>import java.io.IOException;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.util.DefaultIndenter;\nimport com.fasterxml.jackson.core.util.DefaultPrettyPrinter;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class FormatAlerts {\n    List&lt;Message&gt; alerts = new ArrayList&lt;&gt;();\n\n    public FormatAlerts(List&lt;Message&gt;alerts){\n        this.alerts = alerts;\n    }\n\n    public String formatAlerts(){\n\n        String formattedAlerts = null;\n        ObjectMapper om = new ObjectMapper();\n        ArrayNode arrayNode = om.createArrayNode();\n\n        // Create a &quot;Pretty Printer&quot; that will indent brackets and braces more\n        String indent = String.format(&quot;%-4s&quot;,&quot;&quot;);\n        DefaultPrettyPrinter.Indenter indenter = new DefaultIndenter(indent, DefaultIndenter.SYS_LF);\n        DefaultPrettyPrinter printer = new DefaultPrettyPrinter();\n        printer.indentObjectsWith(indenter);\n        printer.indentArraysWith(indenter);\n\n\n        try {\n            for (Message m : alerts) {\n                // Format the time \n                Instant t = Instant.ofEpochMilli(m.getEpochTime());\n                m.setTimestamp(t.toString());\n\n                //Format the alert as Json\n                String alert = om.writer(printer).writeValueAsString(m);\n                //String alert = om.writerWithDefaultPrettyPrinter().writeValueAsString(m);\n                ObjectNode obj = om.readValue(alert, ObjectNode.class);          \n                arrayNode.add(obj);\n                formattedAlerts = om.writer(printer).writeValueAsString(arrayNode);\n                //formattedAlerts = om.writerWithDefaultPrettyPrinter().writeValueAsString(arrayNode);\n            }\n        } catch (JsonProcessingException jpe) {\n            jpe.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return formattedAlerts;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle","compatibility"],"comments":[{"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"score":1,"creation_date":1671747221,"post_id":74894299,"comment_id":132169992,"body_markdown":"You may need to switch your Gradle JVM under `IntelliJ IDEA &gt; Preferences &gt; Build, Execution, Deployment &gt; Gradle &gt; Gradle JVM` (it&#39;s probably defaulted to `JAVA_HOME`)","body":"You may need to switch your Gradle JVM under <code>IntelliJ IDEA &gt; Preferences &gt; Build, Execution, Deployment &gt; Gradle &gt; Gradle JVM</code> (it&#39;s probably defaulted to <code>JAVA_HOME</code>)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1671747691,"creation_date":1671747256,"answer_id":74894367,"question_id":74894299,"body_markdown":"# Java 17 required\r\n\r\nSpring Boot 3 requires Java 17 or later.\r\n\r\nSee the *Spring Blog* page, [*Preparing for Spring Boot 3.0*][1]. To quote:\r\n\r\n&gt;Spring Boot 3.0 will require Java 17\r\n\r\nAlso note that Spring Boot 3 is a major update, with changes that break backward compatibility. Amongst these changes is the change in package names from `javax.*` to `jakarta.*`.\r\n\r\n\r\n----------\r\n\r\n\r\nYou said:\r\n\r\n&gt;I don&#39;t really want to use Java 17\r\n\r\nI cannot imagine why you would choose Java 11 over Java 17. \r\n\r\nMost any Java app or library that runs on Java 11 should run on Java 17. I do not recall any problematic changes like there were between Java 8 to 9 to 11. \r\n\r\nBoth Java 11 and Java 17 are [long-term support (LTS)][2] versions.\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\r\n  [2]: https://en.wikipedia.org/wiki/Long-term_support","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<h1>Java 17 required</h1>\n<p>Spring Boot 3 requires Java 17 or later.</p>\n<p>See the <em>Spring Blog</em> page, <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"noreferrer\"><em>Preparing for Spring Boot 3.0</em></a>. To quote:</p>\n<blockquote>\n<p>Spring Boot 3.0 will require Java 17</p>\n</blockquote>\n<p>Also note that Spring Boot 3 is a major update, with changes that break backward compatibility. Amongst these changes is the change in package names from <code>javax.*</code> to <code>jakarta.*</code>.</p>\n<hr />\n<p>You said:</p>\n<blockquote>\n<p>I don't really want to use Java 17</p>\n</blockquote>\n<p>I cannot imagine why you would choose Java 11 over Java 17.</p>\n<p>Most any Java app or library that runs on Java 11 should run on Java 17. I do not recall any problematic changes like there were between Java 8 to 9 to 11.</p>\n<p>Both Java 11 and Java 17 are <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"noreferrer\">long-term support (LTS)</a> versions.</p>\n"},{"tags":[],"owner":{"account_id":27330965,"reputation":21,"user_id":20843102,"display_name":"sUserStack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671749167,"creation_date":1671749167,"answer_id":74894570,"question_id":74894299,"body_markdown":"Spring 3 requires Java 17 [Spring Doc][1]. You can downgrade Springboot version (org.springframework.boot) in build.gradle file, if you want to work with Java 11\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started.system-requirements","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p>Spring 3 requires Java 17 <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#getting-started.system-requirements\" rel=\"nofollow noreferrer\">Spring Doc</a>. You can downgrade Springboot version (org.springframework.boot) in build.gradle file, if you want to work with Java 11</p>\n"},{"tags":[],"owner":{"account_id":27331099,"reputation":146,"user_id":20843210,"display_name":"mySkillskit"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1680475091,"creation_date":1671749486,"answer_id":74894600,"question_id":74894299,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt; &gt; Build, Execution, Deployment &gt; Gradle &gt; Gradle JVM -&gt; java 11 [photo][1]\r\nx\r\n\r\n  [1]: https://i.stack.imgur.com/rFYFo.jpg","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd> &gt; Build, Execution, Deployment &gt; Gradle &gt; Gradle JVM -&gt; java 11 <a href=\"https://i.stack.imgur.com/rFYFo.jpg\" rel=\"nofollow noreferrer\">photo</a>\nx</p>\n"},{"tags":[],"owner":{"account_id":24957168,"reputation":1,"user_id":18821461,"display_name":"Antony Rajarathinam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673934444,"creation_date":1673934444,"answer_id":75142356,"question_id":74894299,"body_markdown":"To change your java version for the project:\r\n\r\n 1. Have to set the java path to the environment variable path with JAVA_HOME and also do the same changes in the path.\r\n 2. just delete the .gradle and .idea folders in your project and restart the project with the same IDE.\r\n 3. Important thing you have to change the source compatibility with your new java version and do the same changes in the project structure and configure the same JDK version.","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p>To change your java version for the project:</p>\n<ol>\n<li>Have to set the java path to the environment variable path with JAVA_HOME and also do the same changes in the path.</li>\n<li>just delete the .gradle and .idea folders in your project and restart the project with the same IDE.</li>\n<li>Important thing you have to change the source compatibility with your new java version and do the same changes in the project structure and configure the same JDK version.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17211831,"reputation":3,"user_id":12460939,"display_name":"Atul Tripathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674641841,"creation_date":1674420898,"answer_id":75203835,"question_id":74894299,"body_markdown":"The accepted answer does not work for me. Even after setting the Gradle JVM and restarting the IDE several times, it did not work. The only solution that worked is to change the JAVA_HOME to point to the directory of your preferred Java version and then restart IntelliJ. ","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p>The accepted answer does not work for me. Even after setting the Gradle JVM and restarting the IDE several times, it did not work. The only solution that worked is to change the JAVA_HOME to point to the directory of your preferred Java version and then restart IntelliJ.</p>\n"}],"owner":{"account_id":3151445,"reputation":2418,"user_id":2664815,"accept_rate":100,"display_name":"aCarella"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14021,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74894600,"answer_count":5,"score":4,"last_activity_date":1680475091,"creation_date":1671746691,"question_id":74894299,"body_markdown":"I recently started a new Spring Boot Gradle project, using IntelliJ. When making the project, I chose Java 17 as the project Java version. My `build.gradle` file had `sourceCompatibility = &#39;17&#39;`, but my `JAVA_HOME` environment variable is set to Java 11 and I don&#39;t really want to use Java 17.\r\n\r\nI tried changing `sourceCompatibility` to `11`, and went into\r\n\r\nFile -&gt; Project Structure -&gt; Project Settings -&gt; Project\r\n\r\nto change the SDK to 11 as well.\r\n\r\nWhenever I click the &quot;run&quot; button in IntelliJ, as well as when I try to build my project in command line with `./gradlew clean build`, I get a bunch of errors, mostly complaining about compatibility issues. They all read almost the same; here is the beginning of the errors from the failed build:\r\n\r\n```&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT.\r\n     Required by:\r\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.1-SNAPSHOT:20221222.181044-39\r\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT:20221222.181044-39 was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6&#39; but:\r\n          - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT declares a runtime of a component, and its dependencies declared externally:\r\n```\r\n\r\nI don&#39;t want to have to start my project over just to fix this compatibility issue. I&#39;d prefer not to have to switch between Java versions (I know about jEnv, just prefer to leave everything on my computer set to Java 11 for now). Is there a way to fix this project without trashing it and redoing it?","title":"How do I successfully change the Java version in a Spring Boot project?","body":"<p>I recently started a new Spring Boot Gradle project, using IntelliJ. When making the project, I chose Java 17 as the project Java version. My <code>build.gradle</code> file had <code>sourceCompatibility = '17'</code>, but my <code>JAVA_HOME</code> environment variable is set to Java 11 and I don't really want to use Java 17.</p>\n<p>I tried changing <code>sourceCompatibility</code> to <code>11</code>, and went into</p>\n<p>File -&gt; Project Structure -&gt; Project Settings -&gt; Project</p>\n<p>to change the SDK to 11 as well.</p>\n<p>Whenever I click the &quot;run&quot; button in IntelliJ, as well as when I try to build my project in command line with <code>./gradlew clean build</code>, I get a bunch of errors, mostly complaining about compatibility issues. They all read almost the same; here is the beginning of the errors from the failed build:</p>\n<pre><code>   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.1-SNAPSHOT:20221222.181044-39\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT:20221222.181044-39 was found. The consumer was configured to find a runtime of a library compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6' but:\n          - Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.1-SNAPSHOT declares a runtime of a component, and its dependencies declared externally:\n</code></pre>\n<p>I don't want to have to start my project over just to fix this compatibility issue. I'd prefer not to have to switch between Java versions (I know about jEnv, just prefer to leave everything on my computer set to Java 11 for now). Is there a way to fix this project without trashing it and redoing it?</p>\n"},{"tags":["java","hibernate","sql-insert","h2","in-memory-database"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680456628,"post_id":75913522,"comment_id":133897894,"body_markdown":"Hello, please share the entity as a formatted code snippet. Especially the definition of id field.","body":"Hello, please share the entity as a formatted code snippet. Especially the definition of id field."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1680456745,"post_id":75913522,"comment_id":133897910,"body_markdown":"Can you provide a [mre]?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1680457217,"post_id":75913522,"comment_id":133897970,"body_markdown":"Please also share the code part where you actually persist the entity.","body":"Please also share the code part where you actually persist the entity."},{"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"score":0,"creation_date":1680458322,"post_id":75913522,"comment_id":133898120,"body_markdown":"id = UUID.randomUUID();\n\nwhen I create entity.","body":"id = UUID.randomUUID();  when I create entity."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680459522,"post_id":75913522,"comment_id":133898306,"body_markdown":"OK. So you have another code in use when you create a new entity, right? And what is actually wrong? Are you getting any SQL errors? Please share it as well.","body":"OK. So you have another code in use when you create a new entity, right? And what is actually wrong? Are you getting any SQL errors? Please share it as well."},{"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"score":0,"creation_date":1680460262,"post_id":75913522,"comment_id":133898439,"body_markdown":"ERROR [http-nio-8080-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions Referential integrity constraint violation: &quot;FKFTYLRNBHDEROXV82GJU98UYJE: PUBLIC.MATCH FOREIGN KEY(PLAYERONE_PLAYER_ID) REFERENCES PUBLIC.PLAYER(PLAYER_ID) (X&#39;7a4d091de8cb46a5b0149bbf0111446f&#39;)&quot;; SQL statement:\n/* update com.kharizma.tennisscoreboard.models.Match */ update MATCH set playerOne_PLAYER_ID=?, playerTwo_PLAYER_ID=?, winner_PLAYER_ID=? where MATCH_ID=? [23506-200]","body":"ERROR [http-nio-8080-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptio&zwnj;&#8203;ns Referential integrity constraint violation: &quot;FKFTYLRNBHDEROXV82GJU98UYJE: PUBLIC.MATCH FOREIGN KEY(PLAYERONE_PLAYER_ID) REFERENCES PUBLIC.PLAYER(PLAYER_ID) (X&#39;7a4d091de8cb46a5b0149bbf0111446f&#39;)&quot;; SQL statement: /* update com.kharizma.tennisscoreboard.models.Match */ update MATCH set playerOne_PLAYER_ID=?, playerTwo_PLAYER_ID=?, winner_PLAYER_ID=? where MATCH_ID=? [23506-200]"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680461523,"post_id":75913522,"comment_id":133898633,"body_markdown":"Does the player entity you are using exist in the database? Because the error shows a constraint violation on the foreign key.","body":"Does the player entity you are using exist in the database? Because the error shows a constraint violation on the foreign key."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680460285,"creation_date":1680460285,"answer_id":75913913,"question_id":75913522,"body_markdown":"As I understand the question you want to persist the entity in the database without letting Hibernate generate an identifier for you. To accomplish it you  can use following code:\r\n\r\nIf the entity with the id already exists in the database and should be updated - please use:\r\n\r\n    session.merge(myEntity); // myEntity contains the id\r\n\r\nIf it&#39;s a new entity and should be inserted - please use:\r\n\r\n    UUUID id = UUID.randomUUID(); // new id will be generated\r\n    myEntity.setId(id);\r\n    session.persist(myEntity);","title":"Hibernate save entity with existing Id","body":"<p>As I understand the question you want to persist the entity in the database without letting Hibernate generate an identifier for you. To accomplish it you  can use following code:</p>\n<p>If the entity with the id already exists in the database and should be updated - please use:</p>\n<pre><code>session.merge(myEntity); // myEntity contains the id\n</code></pre>\n<p>If it's a new entity and should be inserted - please use:</p>\n<pre><code>UUUID id = UUID.randomUUID(); // new id will be generated\nmyEntity.setId(id);\nsession.persist(myEntity);\n</code></pre>\n"}],"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680474647,"creation_date":1680455711,"question_id":75913522,"body_markdown":"I am creating a CRUD application using Servlets and Hibernate. \r\n\r\nWhen I try to save a new entity using save(), then Hibernate executes the SQL Update query and not Insert. The entity already contains the generated Id (UUID) and as I understand it, it searches for this entity in the database (h2 in-memory) and does not find it. How to properly save an entity in the database if the id has already been generated.\r\n\r\n    @Entity\r\n    @Table(name = &quot;MATCH&quot;)\r\n    public class Match implements Serializable {\r\n        @Id\r\n        @Column(name = &quot;MATCH_ID&quot;)\r\n        private UUID id;\r\n    \r\n        @ManyToOne\r\n        private Player playerOne;\r\n    \r\n        @ManyToOne\r\n        private Player playerTwo;\r\n    \r\n        @ManyToOne\r\n        private Player winner;\r\n    \r\n    \r\n        @Transient\r\n        private int[] score = new int[2];\r\n    \r\n        public Match() {\r\n    \r\n        }\r\n\r\n            //getters and setters\r\n    }\r\n\r\n\r\n \r\n\r\n       public void executePost(HttpServletRequest servletRequest, HttpServletResponse servletResponse) throws ServletException, IOException {\r\n            Transaction transaction = null;\r\n            try (Session session = DBHandler.getSessionFactory().openSession()) {\r\n                transaction = session.beginTransaction();\r\n    \r\n                UUID MatchUuid = UUID.fromString(servletRequest.getParameter(&quot;match-uuid&quot;));  \r\n                currentMatchService = CurrentMatchService.getInstance(); //service stores current matches in the app&#39;s memory\r\n                currentMatch = currentMatchService.getMatch(MatchUuid);\r\n                currentMatch.setWinner(currentMatch.getPlayerOne()); //player One set like winner just for test\r\n                session.save(currentMatch);\r\n                transaction.commit();\r\n            } catch (Exception e) {\r\n                if (transaction != null) {\r\n                    transaction.rollback();\r\n                }\r\n                e.printStackTrace();\r\n            }","title":"Hibernate save entity with existing Id","body":"<p>I am creating a CRUD application using Servlets and Hibernate.</p>\n<p>When I try to save a new entity using save(), then Hibernate executes the SQL Update query and not Insert. The entity already contains the generated Id (UUID) and as I understand it, it searches for this entity in the database (h2 in-memory) and does not find it. How to properly save an entity in the database if the id has already been generated.</p>\n<pre><code>@Entity\n@Table(name = &quot;MATCH&quot;)\npublic class Match implements Serializable {\n    @Id\n    @Column(name = &quot;MATCH_ID&quot;)\n    private UUID id;\n\n    @ManyToOne\n    private Player playerOne;\n\n    @ManyToOne\n    private Player playerTwo;\n\n    @ManyToOne\n    private Player winner;\n\n\n    @Transient\n    private int[] score = new int[2];\n\n    public Match() {\n\n    }\n\n        //getters and setters\n}\n\n\n\n\n   public void executePost(HttpServletRequest servletRequest, HttpServletResponse servletResponse) throws ServletException, IOException {\n        Transaction transaction = null;\n        try (Session session = DBHandler.getSessionFactory().openSession()) {\n            transaction = session.beginTransaction();\n\n            UUID MatchUuid = UUID.fromString(servletRequest.getParameter(&quot;match-uuid&quot;));  \n            currentMatchService = CurrentMatchService.getInstance(); //service stores current matches in the app's memory\n            currentMatch = currentMatchService.getMatch(MatchUuid);\n            currentMatch.setWinner(currentMatch.getPlayerOne()); //player One set like winner just for test\n            session.save(currentMatch);\n            transaction.commit();\n        } catch (Exception e) {\n            if (transaction != null) {\n                transaction.rollback();\n            }\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","serialization","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680474212,"creation_date":1680472148,"answer_id":75914777,"question_id":75914753,"body_markdown":"The method `doubleValue` is `abstract` in `Number`, but you are storing an `Integer` (through [auto-boxing][1]) when you do\r\n\r\n    Number x = 3; // This is Number x = Integer.valueOf(3);\r\n\r\nAnd [`Integer.doubleValue()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#doubleValue--) says *Returns the value of this Integer as a double after a widening primitive conversion.* And it then refers the reader to [JLS-5.1.2. Widening Primitive Conversion](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.2). Which says, in part, *A widening primitive conversion does not lose information about the overall magnitude of a numeric value in the following cases, where the numeric value is preserved exactly:* and then lists (specific to this case) *from `int` to `double`*\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Boxing_(computer_science)","title":"Number Class in java","body":"<p>The method <code>doubleValue</code> is <code>abstract</code> in <code>Number</code>, but you are storing an <code>Integer</code> (through <a href=\"https://en.wikipedia.org/wiki/Boxing_(computer_science)\" rel=\"nofollow noreferrer\">auto-boxing</a>) when you do</p>\n<pre><code>Number x = 3; // This is Number x = Integer.valueOf(3);\n</code></pre>\n<p>And <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#doubleValue--\" rel=\"nofollow noreferrer\"><code>Integer.doubleValue()</code></a> says <em>Returns the value of this Integer as a double after a widening primitive conversion.</em> And it then refers the reader to <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.2\" rel=\"nofollow noreferrer\">JLS-5.1.2. Widening Primitive Conversion</a>. Which says, in part, <em>A widening primitive conversion does not lose information about the overall magnitude of a numeric value in the following cases, where the numeric value is preserved exactly:</em> and then lists (specific to this case) <em>from <code>int</code> to <code>double</code></em></p>\n"}],"owner":{"account_id":18082980,"reputation":3,"user_id":20038676,"display_name":"Sarah_Sameh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914777,"answer_count":1,"score":0,"last_activity_date":1680474497,"creation_date":1680471788,"question_id":75914753,"body_markdown":"Number class is an abstract class in which you cannot make objects from it using `new` operator, but we can use the class as reference Type, I want some explaination for the following code:\r\n\r\n```\r\npublic class Test {\r\n  public static void main(String[] args) {\r\n    Number x = 3;\r\n    System.out.println(x.intValue());\r\n    System.out.println(x.doubleValue());\r\n  }\r\n}\r\n```\r\n\r\n**the output is 3 and 3.0**\r\n\r\nSo, in this line `Number x = 3;` is there any autoboxing or unboxing(which can&#39;t happen it&#39;s the superclass) happens? or what?\r\nhow the assignment happened here?","title":"Number Class in java","body":"<p>Number class is an abstract class in which you cannot make objects from it using <code>new</code> operator, but we can use the class as reference Type, I want some explaination for the following code:</p>\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    Number x = 3;\n    System.out.println(x.intValue());\n    System.out.println(x.doubleValue());\n  }\n}\n</code></pre>\n<p><strong>the output is 3 and 3.0</strong></p>\n<p>So, in this line <code>Number x = 3;</code> is there any autoboxing or unboxing(which can't happen it's the superclass) happens? or what?\nhow the assignment happened here?</p>\n"},{"tags":["java","android","android-studio","chronometer"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680161614,"creation_date":1680161614,"answer_id":75885328,"question_id":75883706,"body_markdown":"So separate into 2 parts:\r\n\r\n### Display time remaining and time elapsed of an audio file\r\nSo you have a timer that updates the ```Seekbar``` every half second :\r\n```java\r\n    new Timer().scheduleAtFixedRate(new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            seekbar.setProgress(mediaPlayer.getCurrentPosition());\r\n        }\r\n    }, 0, 500);\r\n```\r\nAnd you have set the [```OnSeekBarChangeListener```](https://developer.android.com/reference/android/widget/SeekBar.OnSeekBarChangeListener), which is expected to be triggered whenever there is a progress change in ```Seekbar```:\r\n```java\r\n    seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n        @Override\r\n        public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n            mediaPlayer.seekTo(i);\r\n        }\r\n\r\n        @Override\r\n        public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n        }\r\n    });\r\n```\r\nSo basically with the above, you are ready to have *clocks* displaying the time remaining and the time elapsed. As the ```onProgressChanged()``` of your ```OnSeekBarChangeListener``` should be triggered by your ```Timer``` periodically and therefore you can put some logic there to update your *clocks*:\r\n```java\r\n// You can define 2 more TextView to display remaining time and elapsed time\r\nTextView tvRemainingTime = findViewById(R.id.tvRemainingTime);\r\nTextView tvElapsedTime = findViewById(R.id.tvElapsedTime);\r\nfinal int totalDuration = mediaPlayer.getDuration();\r\nseekbar.setMax(totalDuration);\r\n// Hold the timer with a variable so that you can access it if necessary\r\nTimer timer = new Timer();\r\n// Change to run the Timer with a period of 1 second\r\ntimer.scheduleAtFixedRate(new TimerTask() {\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tseekbar.setProgress(mediaPlayer.getCurrentPosition());\r\n\t}\r\n}, 0, 1000);\r\n\r\nseekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n\t@Override\r\n\tpublic void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n\t\tmediaPlayer.seekTo(progress);\r\n        // As progress is in milliseconds, you can write a function to convert milliseconds into displaying time\r\n        tvElapsedTime.setText(convertMillisecondsToTime(progress));\r\n        tvRemainingTime.setText(convertMillisecondsToTime(totalDuration - progress));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n\t}\r\n});\r\n```\r\nFunction to convert milliseconds into displaying time (Or you should further enhance it if you would like to display more detailedly):\r\n```java\r\nprivate String convertMillisecondsToTime(int target) {\r\n    // For example, 30000 should be displayed as 00:30 mm:ss\r\n    int seconds = (target / 1000) % 60;\r\n    int minutes = (target / 1000) / 60;\r\n    return String.format(&quot;%02d:%02d&quot;, minutes, seconds);\r\n}\r\n```\r\n\r\n---\r\n\r\n### Go to different Activity from different Spinner option\r\nTo get selected value of Spinner, you can simply do the following:\r\n```java\r\nString selectedTime = spinner.getSelectedItem().toString();\r\n```\r\nAnd of course you can get the value of Spinner by index or by another way. See more [here](https://stackoverflow.com/questions/5787809/get-spinner-selected-items-text).\r\n\r\nSo for your ```openNewActivity()``` function, you can check the ```selectedTime``` and open the corresponding Activity:\r\n```java\r\nprivate void openNewActivity() {\r\n    String selectedTime = spinner.getSelectedItem().toString();\r\n    // For example, if the values showing on Spinner are &quot;5 mins&quot;, &quot;10 mins&quot;, &quot;15 mins&quot;\r\n    if (&quot;5 mins&quot;.equals(selectedTime)) {\r\n        Intent intent = new Intent(this, ActivityFiveMinutes.class);\r\n        startActivity(intent);\r\n    } else if (&quot;10 mins&quot;.equals(selectedTime)) {\r\n        Intent intent = new Intent(this, ActivityTenMinutes.class);\r\n        startActivity(intent);\r\n    } ...\r\n}\r\n```\r\nAnd don&#39;t forget to add your newly created Activity in **AndroidManifest.xml**:\r\n```xml\r\n...\r\n        &lt;activity android:name=&quot;.ActivityFiveMinutes&quot; /&gt;\r\n        &lt;activity android:name=&quot;.ActivityTenMinutes&quot; /&gt;\r\n...\r\n```","title":"android studio java audio timer and change activity based on drop down options","body":"<p>So separate into 2 parts:</p>\n<h3>Display time remaining and time elapsed of an audio file</h3>\n<p>So you have a timer that updates the <code>Seekbar</code> every half second :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    new Timer().scheduleAtFixedRate(new TimerTask() {\n        @Override\n        public void run() {\n            seekbar.setProgress(mediaPlayer.getCurrentPosition());\n        }\n    }, 0, 500);\n</code></pre>\n<p>And you have set the <a href=\"https://developer.android.com/reference/android/widget/SeekBar.OnSeekBarChangeListener\" rel=\"nofollow noreferrer\"><code>OnSeekBarChangeListener</code></a>, which is expected to be triggered whenever there is a progress change in <code>Seekbar</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n            mediaPlayer.seekTo(i);\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n\n        }\n    });\n</code></pre>\n<p>So basically with the above, you are ready to have <em>clocks</em> displaying the time remaining and the time elapsed. As the <code>onProgressChanged()</code> of your <code>OnSeekBarChangeListener</code> should be triggered by your <code>Timer</code> periodically and therefore you can put some logic there to update your <em>clocks</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You can define 2 more TextView to display remaining time and elapsed time\nTextView tvRemainingTime = findViewById(R.id.tvRemainingTime);\nTextView tvElapsedTime = findViewById(R.id.tvElapsedTime);\nfinal int totalDuration = mediaPlayer.getDuration();\nseekbar.setMax(totalDuration);\n// Hold the timer with a variable so that you can access it if necessary\nTimer timer = new Timer();\n// Change to run the Timer with a period of 1 second\ntimer.scheduleAtFixedRate(new TimerTask() {\n    @Override\n    public void run() {\n        seekbar.setProgress(mediaPlayer.getCurrentPosition());\n    }\n}, 0, 1000);\n\nseekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n    @Override\n    public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n        mediaPlayer.seekTo(progress);\n        // As progress is in milliseconds, you can write a function to convert milliseconds into displaying time\n        tvElapsedTime.setText(convertMillisecondsToTime(progress));\n        tvRemainingTime.setText(convertMillisecondsToTime(totalDuration - progress));\n    }\n\n    @Override\n    public void onStartTrackingTouch(SeekBar seekBar) {\n\n    }\n\n    @Override\n    public void onStopTrackingTouch(SeekBar seekBar) {\n\n    }\n});\n</code></pre>\n<p>Function to convert milliseconds into displaying time (Or you should further enhance it if you would like to display more detailedly):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String convertMillisecondsToTime(int target) {\n    // For example, 30000 should be displayed as 00:30 mm:ss\n    int seconds = (target / 1000) % 60;\n    int minutes = (target / 1000) / 60;\n    return String.format(&quot;%02d:%02d&quot;, minutes, seconds);\n}\n</code></pre>\n<hr />\n<h3>Go to different Activity from different Spinner option</h3>\n<p>To get selected value of Spinner, you can simply do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String selectedTime = spinner.getSelectedItem().toString();\n</code></pre>\n<p>And of course you can get the value of Spinner by index or by another way. See more <a href=\"https://stackoverflow.com/questions/5787809/get-spinner-selected-items-text\">here</a>.</p>\n<p>So for your <code>openNewActivity()</code> function, you can check the <code>selectedTime</code> and open the corresponding Activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void openNewActivity() {\n    String selectedTime = spinner.getSelectedItem().toString();\n    // For example, if the values showing on Spinner are &quot;5 mins&quot;, &quot;10 mins&quot;, &quot;15 mins&quot;\n    if (&quot;5 mins&quot;.equals(selectedTime)) {\n        Intent intent = new Intent(this, ActivityFiveMinutes.class);\n        startActivity(intent);\n    } else if (&quot;10 mins&quot;.equals(selectedTime)) {\n        Intent intent = new Intent(this, ActivityTenMinutes.class);\n        startActivity(intent);\n    } ...\n}\n</code></pre>\n<p>And don't forget to add your newly created Activity in <strong>AndroidManifest.xml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n        &lt;activity android:name=&quot;.ActivityFiveMinutes&quot; /&gt;\n        &lt;activity android:name=&quot;.ActivityTenMinutes&quot; /&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":20694306,"reputation":1,"user_id":15194896,"display_name":"chiwi.chiwi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680474004,"creation_date":1680144248,"question_id":75883706,"body_markdown":"I have a seek bar already to an audio file I have in my raw file with pause/play/stop functionality, but how would I also add &quot;clock&quot;, for lack of a better word, that shows how much time remains, or how much has gone by already based on the audio too?\r\n\r\nAnd on one of my activities, I have a drop down option with different times on it, 5,10,15 mins, how can I make it so that when the user chooses one of these options, a different audio plays or so that it goes to a separate activity page based on what the user chose?\r\n\r\nHere is my current activity with the audio:\r\n\r\n```java\r\npublic void play(View view){\r\n\r\n        mediaPlayer.start();\r\n    }\r\n\r\n    public void pause(View view){\r\n        mediaPlayer.pause();\r\n    }\r\n\r\n    public void stop(View view){\r\n        mediaPlayer.stop();\r\n        mediaPlayer.reset();\r\n    }\r\n    Button button;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        seekbar = findViewById(R.id.seekBar);\r\n        mediaPlayer = MediaPlayer.create(this, R.raw.mixkit);\r\n        button = (Button) findViewById(R.id.button3);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openNewActivity();\r\n\r\n\r\n            }\r\n        });\r\n        seekbar.setMax(mediaPlayer.getDuration());\r\n        new Timer().scheduleAtFixedRate(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                seekbar.setProgress(mediaPlayer.getCurrentPosition());\r\n            }\r\n        }, 0, 500);\r\n        seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n                mediaPlayer.seekTo(i);\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n        });\r\n    }\r\n```\r\nAnd for my page with dropdown:\r\n\r\n```java\r\nSpinner spinner;\r\n    Button startButton;\r\n    Button returnButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main3);\r\n        spinner = findViewById(R.id.spinner);\r\n        ArrayAdapter&lt;CharSequence&gt;adapter=ArrayAdapter.createFromResource(this, R.array.time, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_item);\r\n        spinner.setAdapter(adapter);\r\n        startButton = findViewById(R.id.button2);\r\n        startButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openNewActivity();\r\n            }\r\n        });\r\n        returnButton = findViewById(R.id.button3);\r\n        returnButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                returnToMain();\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nI&#39;ve spent a long time googling and havent found anything regarding the clock, only how to implement a clock and timer, but not how to link it with the seekbar/audio file. I assume I could make a clock and find out how long audio is but I feel like there must be a better way.","title":"android studio java audio timer and change activity based on drop down options","body":"<p>I have a seek bar already to an audio file I have in my raw file with pause/play/stop functionality, but how would I also add &quot;clock&quot;, for lack of a better word, that shows how much time remains, or how much has gone by already based on the audio too?</p>\n<p>And on one of my activities, I have a drop down option with different times on it, 5,10,15 mins, how can I make it so that when the user chooses one of these options, a different audio plays or so that it goes to a separate activity page based on what the user chose?</p>\n<p>Here is my current activity with the audio:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void play(View view){\n\n        mediaPlayer.start();\n    }\n\n    public void pause(View view){\n        mediaPlayer.pause();\n    }\n\n    public void stop(View view){\n        mediaPlayer.stop();\n        mediaPlayer.reset();\n    }\n    Button button;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        seekbar = findViewById(R.id.seekBar);\n        mediaPlayer = MediaPlayer.create(this, R.raw.mixkit);\n        button = (Button) findViewById(R.id.button3);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openNewActivity();\n\n\n            }\n        });\n        seekbar.setMax(mediaPlayer.getDuration());\n        new Timer().scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                seekbar.setProgress(mediaPlayer.getCurrentPosition());\n            }\n        }, 0, 500);\n        seekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n                mediaPlayer.seekTo(i);\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n    }\n</code></pre>\n<p>And for my page with dropdown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Spinner spinner;\n    Button startButton;\n    Button returnButton;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main3);\n        spinner = findViewById(R.id.spinner);\n        ArrayAdapter&lt;CharSequence&gt;adapter=ArrayAdapter.createFromResource(this, R.array.time, android.R.layout.simple_spinner_item);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_item);\n        spinner.setAdapter(adapter);\n        startButton = findViewById(R.id.button2);\n        startButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openNewActivity();\n            }\n        });\n        returnButton = findViewById(R.id.button3);\n        returnButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                returnToMain();\n            }\n        });\n\n    }\n</code></pre>\n<p>I've spent a long time googling and havent found anything regarding the clock, only how to implement a clock and timer, but not how to link it with the seekbar/audio file. I assume I could make a clock and find out how long audio is but I feel like there must be a better way.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1680467074,"post_id":75065556,"comment_id":133899498,"body_markdown":"Please refrain from adding &quot;Hi&quot; or other greetings to your posts. Technical writing is a community expectation here, and it has been removed from your posts countless times already.","body":"Please refrain from adding &quot;Hi&quot; or other greetings to your posts. Technical writing is a community expectation here, and it has been removed from your posts countless times already."}],"answers":[{"tags":[],"owner":{"account_id":26701199,"reputation":21,"user_id":20308225,"display_name":"miguel30452"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673349932,"creation_date":1673349932,"answer_id":75069275,"question_id":75065556,"body_markdown":"Did you change the scheme at any point after creating the kafka topic?\r\n\r\nIf that is the case you would have to reset the Kafka topic to get the new scheme, if you want to change the scheme of a topic you need to create a new topic.","title":"Apache Kafka Error Handling at Consumer End","body":"<p>Did you change the scheme at any point after creating the kafka topic?</p>\n<p>If that is the case you would have to reset the Kafka topic to get the new scheme, if you want to change the scheme of a topic you need to create a new topic.</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673362464,"creation_date":1673362464,"answer_id":75071775,"question_id":75065556,"body_markdown":"Use an `ErrorHandlingDeserializer` \r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\r\n\r\nThen, serialization errors will be sent directly to the error handler, which treats such errors as fatal, by default, and will not retry them but send them straight to the recoverer (log by default).","title":"Apache Kafka Error Handling at Consumer End","body":"<p>Use an <code>ErrorHandlingDeserializer</code></p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer</a></p>\n<p>Then, serialization errors will be sent directly to the error handler, which treats such errors as fatal, by default, and will not retry them but send them straight to the recoverer (log by default).</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1680472678,"creation_date":1673325933,"question_id":75065556,"body_markdown":"I am using Apache Kafka for consuming messages from another application. I wanted to handle error scenarios when there is an issue in message deserialization or conversion. I am using Avro schema for receiving the object. \r\n\r\nI implemented the below\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class ConsumerConfig {\r\n      @Bean\r\n      ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n          ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n          ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        factory.setErrorHandler(((exception, data) -&gt; {           \r\n          log.error(&quot;Error in process with Exception {} and the record is {}&quot;, exception, data);\r\n        }));\r\n        return factory;\r\n      }\r\n    }\r\n\r\nBut if I pass message of different object type, above code is not handling it. I tried to pass a string and it is throwing below error but not going inside the error handler.\r\n\r\n&gt; org.apache.kafka.common.errors.InvalidConfigurationException: Schema being registered is incompatible with an earlier schema for subject &quot;taas.cacib.lscsad-dev.queue.wwfdbtemp.Avros-value&quot; io.confluent.kafka.schemaregistry.rest.exceptions.RestIncompatibleSchemaException: Schema being registered is incompatible with an earlier schema for subject &quot;taas.cacib.lscsad-dev.queue.wwfdbtemp.Avros-value&quot;\r\n","title":"Apache Kafka Error Handling at Consumer End","body":"<p>I am using Apache Kafka for consuming messages from another application. I wanted to handle error scenarios when there is an issue in message deserialization or conversion. I am using Avro schema for receiving the object.</p>\n<p>I implemented the below</p>\n<pre><code>@Configuration\n@Slf4j\npublic class ConsumerConfig {\n  @Bean\n  ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n      ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n      ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    factory.setErrorHandler(((exception, data) -&gt; {           \n      log.error(&quot;Error in process with Exception {} and the record is {}&quot;, exception, data);\n    }));\n    return factory;\n  }\n}\n</code></pre>\n<p>But if I pass message of different object type, above code is not handling it. I tried to pass a string and it is throwing below error but not going inside the error handler.</p>\n<blockquote>\n<p>org.apache.kafka.common.errors.InvalidConfigurationException: Schema being registered is incompatible with an earlier schema for subject &quot;taas.cacib.lscsad-dev.queue.wwfdbtemp.Avros-value&quot; io.confluent.kafka.schemaregistry.rest.exceptions.RestIncompatibleSchemaException: Schema being registered is incompatible with an earlier schema for subject &quot;taas.cacib.lscsad-dev.queue.wwfdbtemp.Avros-value&quot;</p>\n</blockquote>\n"},{"tags":["java","spring","hibernate","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"score":0,"creation_date":1498653699,"post_id":44802676,"comment_id":76585366,"body_markdown":"Because you need to instruct SpringBoot to create the Schema. https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html and https://stackoverflow.com/questions/29758136/h2-db-in-spring-boot-hibernate-does-not-generate-db-schema","body":"Because you need to instruct SpringBoot to create the Schema. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/29758136/h2-db-in-spring-boot-hibernate-does-not-generate-db-schema\" title=\"h2 db in spring boot hibernate does not generate db schema\">stackoverflow.com/questions/29758136/&hellip;</a>"},{"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"score":0,"creation_date":1498653717,"post_id":44802676,"comment_id":76585381,"body_markdown":"Please share your application.properties","body":"Please share your application.properties"},{"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1498716896,"post_id":44802676,"comment_id":76615092,"body_markdown":"@Salman now you setup a db name in `application.properties`: *dbname*. So when you try to connect to db from H2 console (`http://localhost:8080/h2-console`) you have to use `jdbc:h2:mem:dbname` as &#39;JDBC URL&#39;. Port 9092 you have to use from your IDE (or from over SQL tool) to connect to H2 DB server.","body":"@Salman now you setup a db name in <code>application.properties</code>: <i>dbname</i>. So when you try to connect to db from H2 console (<code>http:&#47;&#47;localhost:8080&#47;h2-console</code>) you have to use <code>jdbc:h2:mem:dbname</code> as &#39;JDBC URL&#39;. Port 9092 you have to use from your IDE (or from over SQL tool) to connect to H2 DB server."}],"answers":[{"tags":[],"owner":{"account_id":9816945,"reputation":41,"user_id":7273154,"display_name":"hassan bassi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498653797,"creation_date":1498653797,"answer_id":44802817,"question_id":44802676,"body_markdown":"Check if your main class that contains the annotation @SpringBootConfiguration is in the root of hierarchy of your package","title":"JPA: entity object is not appeared in the H2 console","body":"<p>Check if your main class that contains the annotation @SpringBootConfiguration is in the root of hierarchy of your package</p>\n"},{"tags":[],"owner":{"account_id":5803046,"reputation":166,"user_id":8097809,"display_name":"Chad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498654210,"creation_date":1498654210,"answer_id":44802992,"question_id":44802676,"body_markdown":"You can also achieve so by writing the schema.sql file that creates tables and can load data by placing the file in your src/main/resources location. There are a lot of different ways you can do this. I like the schema.sql file because it has something that you can look at and manage.","title":"JPA: entity object is not appeared in the H2 console","body":"<p>You can also achieve so by writing the schema.sql file that creates tables and can load data by placing the file in your src/main/resources location. There are a lot of different ways you can do this. I like the schema.sql file because it has something that you can look at and manage.</p>\n"},{"tags":[],"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498685159,"creation_date":1498685159,"answer_id":44812803,"question_id":44802676,"body_markdown":"Then you open &#39;http://localhost:8080/h2-console&#39; you need to specify &#39;JDBC URL&#39;. By default (as I understand you use default setting because your application.properties is empty) this value is:\r\n\r\n    jdbc:h2:mem:testdb\r\n\r\n----\r\nIMHO H2 Console is not the best choice for the developer. You can work with H2 right from your IDE - see [my answer](https://stackoverflow.com/a/43276769). ","title":"JPA: entity object is not appeared in the H2 console","body":"<p>Then you open '<a href=\"http://localhost:8080/h2-console\" rel=\"nofollow noreferrer\">http://localhost:8080/h2-console</a>' you need to specify 'JDBC URL'. By default (as I understand you use default setting because your application.properties is empty) this value is:</p>\n\n<pre><code>jdbc:h2:mem:testdb\n</code></pre>\n\n<hr>\n\n<p>IMHO H2 Console is not the best choice for the developer. You can work with H2 right from your IDE - see <a href=\"https://stackoverflow.com/a/43276769\">my answer</a>. </p>\n"},{"tags":[],"owner":{"account_id":3916995,"reputation":20992,"user_id":3240583,"accept_rate":69,"display_name":"Mina Fawzy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551821364,"creation_date":1551821364,"answer_id":55011894,"question_id":44802676,"body_markdown":"you need to set h2 configuration in `application.properties`\r\nwrite these lines \r\n\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.url=jdbc:h2:mem:testdb --&gt; whatever url you find when open console\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\n","title":"JPA: entity object is not appeared in the H2 console","body":"<p>you need to set h2 configuration in <code>application.properties</code>\nwrite these lines </p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:testdb --&gt; whatever url you find when open console\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461842,"reputation":26,"user_id":5005340,"display_name":"Mahmoud Khalaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680472608,"creation_date":1680472608,"answer_id":75914804,"question_id":44802676,"body_markdown":"I had the same problem, I **solved** it by moving the entity to the main app package.\r\n&lt;br&gt;&lt;br&gt;\r\nNote: using @ComponentScan over the main app class didn&#39;t solve the issue nither a separate class with @Configuratin @ComponentScan ( basePackages =  {&quot;thepackage&quot;})","title":"JPA: entity object is not appeared in the H2 console","body":"<p>I had the same problem, I <strong>solved</strong> it by moving the entity to the main app package.\n<br><br>\nNote: using @ComponentScan over the main app class didn't solve the issue nither a separate class with @Configuratin @ComponentScan ( basePackages =  {&quot;thepackage&quot;})</p>\n"}],"owner":{"account_id":2211885,"reputation":11194,"user_id":1953504,"accept_rate":66,"display_name":"Sal-laS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2051,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1680472608,"creation_date":1498653474,"question_id":44802676,"body_markdown":"In my spring app i have the below entity:\r\n\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    @Entity\r\n    \r\n    public class Profile {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tLong id;\r\n    \t\r\n    \tString name;\r\n    \tString address;\r\n    \tString description;\r\n    \tString img;\r\n    \t\r\n    public Profile(String name, String address, String description, String img) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.address = address;\r\n    \t\tthis.description = description;\r\n    \t\tthis.img = img;\r\n    \t}\r\n    \r\n }\r\n\r\nand then the repository is:\r\n\r\n    @Repository\r\n    public interface ProfileRepository extends JpaRepository&lt;Profile,Long&gt; {\r\n    \r\n    }\r\n\r\nHere is my `pom.xml`:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nSo, i expect when i go to the h2 console uri:\r\n\r\n    http://localhost:8080/h2-console/login.do?jsessionid=ae6ba7021a23e0ebb4a4844381546e72\r\n\r\n\r\nIt shows the table related to the object `Profile`. \r\n\r\nThe problem is: *there is no table called Profile.*\r\n\r\nSo, **why i don&#39;t have the profile table?**\r\n\r\nThe `application.properties` is empty\r\n  \r\nHere is how i connect to H2[![enter image description here][2]][2]\r\n\r\n\r\nAnd when i run my application, it says:\r\n\r\n    [2m2017-06-29 10:07:21.106[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    [2m2017-06-29 10:07:21.557[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.tool.hbm2ddl.SchemaExport [0;39m [2m:[0;39m HHH000227: Running hbm2ddl schema export\r\n    [2m2017-06-29 10:07:21.557[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.tool.hbm2ddl.SchemaExport [0;39m [2m:[0;39m HHH000230: Schema export complete\r\n\r\n\r\nSo, it seems that, **the application makes the schema of database**. Am i right?\r\n\r\n  [1]: https://stackoverflow.com/questions/43256295/how-to-access-in-memory-h2-database-of-one-spring-boot-application-from-another/43276769#43276769\r\n  [2]: https://i.stack.imgur.com/Ty3AF.png","title":"JPA: entity object is not appeared in the H2 console","body":"<p>In my spring app i have the below entity:</p>\n\n<pre><code>import lombok.Data;\n\n@Data\n@Entity\n\npublic class Profile {\n\n    @Id\n    @GeneratedValue\n    Long id;\n\n    String name;\n    String address;\n    String description;\n    String img;\n\npublic Profile(String name, String address, String description, String img) {\n        this.name = name;\n        this.address = address;\n        this.description = description;\n        this.img = img;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>and then the repository is:</p>\n\n<pre><code>@Repository\npublic interface ProfileRepository extends JpaRepository&lt;Profile,Long&gt; {\n\n}\n</code></pre>\n\n<p>Here is my <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>So, i expect when i go to the h2 console uri:</p>\n\n<pre><code>http://localhost:8080/h2-console/login.do?jsessionid=ae6ba7021a23e0ebb4a4844381546e72\n</code></pre>\n\n<p>It shows the table related to the object <code>Profile</code>. </p>\n\n<p>The problem is: <em>there is no table called Profile.</em></p>\n\n<p>So, <strong>why i don't have the profile table?</strong></p>\n\n<p>The <code>application.properties</code> is empty</p>\n\n<p>Here is how i connect to H2<a href=\"https://i.stack.imgur.com/Ty3AF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ty3AF.png\" alt=\"enter image description here\"></a></p>\n\n<p>And when i run my application, it says:</p>\n\n<pre><code>[2m2017-06-29 10:07:21.106[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n[2m2017-06-29 10:07:21.557[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.tool.hbm2ddl.SchemaExport [0;39m [2m:[0;39m HHH000227: Running hbm2ddl schema export\n[2m2017-06-29 10:07:21.557[0;39m [32m INFO[0;39m [35m51392[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36morg.hibernate.tool.hbm2ddl.SchemaExport [0;39m [2m:[0;39m HHH000230: Schema export complete\n</code></pre>\n\n<p>So, it seems that, <strong>the application makes the schema of database</strong>. Am i right?</p>\n"},{"tags":["java","android","wear-os"],"comments":[{"owner":{"account_id":1494993,"reputation":6603,"user_id":1401164,"accept_rate":67,"display_name":"Gustavo Pagani"},"score":0,"creation_date":1680516783,"post_id":75914712,"comment_id":133906093,"body_markdown":"[this](https://developer.android.com/training/wearables/data/data-layer) documentation is a good entry point","body":"<a href=\"https://developer.android.com/training/wearables/data/data-layer\" rel=\"nofollow noreferrer\">this</a> documentation is a good entry point"}],"owner":{"account_id":20081624,"reputation":17,"user_id":14724137,"display_name":"Luis Barba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680471259,"creation_date":1680471259,"question_id":75914712,"body_markdown":"I am currently working on an android application where I would like to first gather sensor data form a smartwatch and continuously send that data into the handheld device. Most of the documentation I have seen generally uses a button to send data, how can I do this without the use of a button and have the data streamed in real time?\r\n\r\nRight now, I am using the health services api to extract the heart rate but I&#39;m not really sure how to properly pair this with a message or channel client to constantly send the data every time there&#39;s a change. I&#39;ve read that using DataItems helps synchronize data between both devices whenever there is a change, but I haven&#39;t found any documentation that points me the correct way of implementing it to my project.\r\n\r\nI am new to java and android development so any help or guidance would be appreciated.","title":"How to send real-time sensor data from wear os to mobile?","body":"<p>I am currently working on an android application where I would like to first gather sensor data form a smartwatch and continuously send that data into the handheld device. Most of the documentation I have seen generally uses a button to send data, how can I do this without the use of a button and have the data streamed in real time?</p>\n<p>Right now, I am using the health services api to extract the heart rate but I'm not really sure how to properly pair this with a message or channel client to constantly send the data every time there's a change. I've read that using DataItems helps synchronize data between both devices whenever there is a change, but I haven't found any documentation that points me the correct way of implementing it to my project.</p>\n<p>I am new to java and android development so any help or guidance would be appreciated.</p>\n"},{"tags":["java","android","retrofit2","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":7535001,"reputation":870,"user_id":5721636,"display_name":"Hamid Rasti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592885326,"creation_date":1592861422,"answer_id":62523795,"question_id":62521299,"body_markdown":"In your ApiService\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;userLoginVerification&quot;)\r\n    Call&lt;User&gt; getResponse(@FieldMap HashMap&lt;String, String&gt; data);\r\n\r\nAnd the HashMap\r\n\r\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;userId&quot;, &quot;theUserId&quot;);\r\n            map.put(&quot;password&quot;, &quot;thePassword&quot;);\r\n\r\n\r\nAlso, a big problem is that your response is in format\r\n\r\n    { &quot;status&quot;: &quot;Success&quot; }\r\n\r\nbut in `ApiService` you expect server return a user!\r\nYou must change the `getResponse` return type to match the server response format.\r\n\r\nAnother problem is in the line\r\n\r\n    if (response.equals(&quot;Success&quot;))\r\n\r\nthis condition is never true, because `response` is not `String` and you cant check equality in this way. you should use `response.body()`.","title":"How to post data using Retrofit as raw JSON","body":"<p>In your ApiService</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;userLoginVerification&quot;)\nCall&lt;User&gt; getResponse(@FieldMap HashMap&lt;String, String&gt; data);\n</code></pre>\n<p>And the HashMap</p>\n<pre><code>HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;userId&quot;, &quot;theUserId&quot;);\n        map.put(&quot;password&quot;, &quot;thePassword&quot;);\n</code></pre>\n<p>Also, a big problem is that your response is in format</p>\n<pre><code>{ &quot;status&quot;: &quot;Success&quot; }\n</code></pre>\n<p>but in <code>ApiService</code> you expect server return a user!\nYou must change the <code>getResponse</code> return type to match the server response format.</p>\n<p>Another problem is in the line</p>\n<pre><code>if (response.equals(&quot;Success&quot;))\n</code></pre>\n<p>this condition is never true, because <code>response</code> is not <code>String</code> and you cant check equality in this way. you should use <code>response.body()</code>.</p>\n"},{"tags":[],"owner":{"account_id":12253040,"reputation":7939,"user_id":8942811,"accept_rate":80,"display_name":"Bek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592890882,"creation_date":1592890882,"answer_id":62528057,"question_id":62521299,"body_markdown":"`public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response)`\r\n\r\nDon&#39;t create `JSONObject` in `onResponse`. `response.body()` gives you LoginResponse object. Use that object to get status. Dismiss your progress bar immediately after `onResponse` or `onFailure` if activity or fragment is not destroyed.","title":"How to post data using Retrofit as raw JSON","body":"<p><code>public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response)</code></p>\n<p>Don't create <code>JSONObject</code> in <code>onResponse</code>. <code>response.body()</code> gives you LoginResponse object. Use that object to get status. Dismiss your progress bar immediately after <code>onResponse</code> or <code>onFailure</code> if activity or fragment is not destroyed.</p>\n"}],"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62528057,"answer_count":2,"score":0,"last_activity_date":1680471254,"creation_date":1592851233,"question_id":62521299,"body_markdown":"I am trying to post data using retrofit2 in the from of raw JSON to the server but there is no response from the server. Progress bar keeps on loading but there is  no response from the server.\r\n\r\nMy server is sending below JSON object as a success message:\r\n\r\n    {\r\n    &quot;status&quot;: &quot;Success&quot;,\r\n    &quot;statusCode&quot;: &quot;S001&quot;,\r\n    &quot;loginResponse&quot;: {\r\n        &quot;authenticationStatus&quot;: false,\r\n        &quot;sessionid&quot;: null,\r\n        &quot;errorDescription&quot;: null,\r\n        &quot;predictionStatus&quot;: null,\r\n        &quot;predictionPercentage&quot;: null,\r\n        &quot;predictionPercentageA&quot;: null,\r\n        &quot;predictionPercentageB&quot;: null,\r\n        &quot;predictionPercentageC&quot;: null\r\n     }\r\n    }\r\n\r\nI want to check for only `status` whether it&#39;s `Success` or not so I made below POJO class `LoginResponse` for that.  \r\n\r\n**LoginResponse**\r\n\r\n    public class LoginResponse {\r\n\r\n    @SerializedName(&quot;status&quot;)\r\n    String status;\r\n\r\n    public LoginResponse(){\r\n\r\n    }\r\n\r\n    public LoginResponse(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n    }\r\n\r\n\r\nBelow is my code:\r\n\r\n**ApiService.class**\r\n\r\n    public interface ApiService {\r\n\r\n    @POST(&quot;userLoginVerification&quot;)\r\n    Call&lt;LoginResponse&gt; getResponse(@Body JsonObject body);\r\n    }\r\n\r\n**MainActivity.class**\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        login = findViewById(R.id.login);\r\n        email = findViewById(R.id.email);\r\n        pwd = findViewById(R.id.pwd);\r\n\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                final ProgressDialog prg = new ProgressDialog(MainActivity.this);\r\n                prg.setCancelable(false);\r\n                prg.setMessage(&quot;Logging in...&quot;);\r\n                prg.show();\r\n\r\n                String str1 = email.getText().toString();\r\n                String str2 = pwd.getText().toString();\r\n\r\n                if(str1.equals(&quot;&quot;)){\r\n\r\n                    prg.dismiss();\r\n                    TastyToast.makeText(getApplicationContext(),&quot;Enter email&quot;,TastyToast.LENGTH_SHORT,\r\n                            TastyToast.ERROR).show();\r\n                }\r\n                else if(str2.equals(&quot;&quot;)){\r\n\r\n                    prg.dismiss();\r\n                    TastyToast.makeText(getApplicationContext(),&quot;Enter password&quot;,TastyToast.LENGTH_SHORT,\r\n                            TastyToast.ERROR).show();\r\n                }\r\n                else{\r\n\r\n                    Retrofit retrofit = RetrofitClient.getInstance();\r\n                    ApiService apiService = retrofit.create(ApiService.class);\r\n\r\n                    JsonObject jsonObject= new JsonObject();\r\n                    jsonObject.addProperty(&quot;userId&quot;,str1);\r\n                    jsonObject.addProperty(&quot;password&quot;,str2);\r\n\r\n                    Call&lt;LoginResponse&gt; call = apiService.getResponse(jsonObject);\r\n\r\n                    call.enqueue(new Callback&lt;LoginResponse&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\r\n\r\n                           try{\r\n                                JSONObject jsonObject1 = new JSONObject(resp);\r\n\r\n                                String str = jsonObject1.getString(&quot;status&quot;);\r\n\r\n                                if(str.equals(&quot;Success&quot;)){\r\n\r\n                                    prg.dismiss();\r\n                                    email.setText(&quot;&quot;);\r\n                                    pwd.setText(&quot;&quot;);\r\n                                }\r\n                               }\r\n                              catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Call&lt;LoginResponse&gt; call, Throwable t) {\r\n\r\n                            TastyToast.makeText(getApplicationContext(),t.getMessage(),TastyToast.LENGTH_SHORT,\r\n                                       TastyToast.ERROR).show();\r\n                        }\r\n                    });\r\n\r\n                }\r\n            }\r\n        });\r\n      }\r\n\r\nThere is no response from the server on implementing above code. What I am doing wrong?\r\n","title":"How to post data using Retrofit as raw JSON","body":"<p>I am trying to post data using retrofit2 in the from of raw JSON to the server but there is no response from the server. Progress bar keeps on loading but there is  no response from the server.</p>\n<p>My server is sending below JSON object as a success message:</p>\n<pre><code>{\n&quot;status&quot;: &quot;Success&quot;,\n&quot;statusCode&quot;: &quot;S001&quot;,\n&quot;loginResponse&quot;: {\n    &quot;authenticationStatus&quot;: false,\n    &quot;sessionid&quot;: null,\n    &quot;errorDescription&quot;: null,\n    &quot;predictionStatus&quot;: null,\n    &quot;predictionPercentage&quot;: null,\n    &quot;predictionPercentageA&quot;: null,\n    &quot;predictionPercentageB&quot;: null,\n    &quot;predictionPercentageC&quot;: null\n }\n}\n</code></pre>\n<p>I want to check for only <code>status</code> whether it's <code>Success</code> or not so I made below POJO class <code>LoginResponse</code> for that.</p>\n<p><strong>LoginResponse</strong></p>\n<pre><code>public class LoginResponse {\n\n@SerializedName(&quot;status&quot;)\nString status;\n\npublic LoginResponse(){\n\n}\n\npublic LoginResponse(String status) {\n    this.status = status;\n}\n\npublic String getStatus() {\n    return status;\n}\n\npublic void setStatus(String status) {\n    this.status = status;\n}\n}\n</code></pre>\n<p>Below is my code:</p>\n<p><strong>ApiService.class</strong></p>\n<pre><code>public interface ApiService {\n\n@POST(&quot;userLoginVerification&quot;)\nCall&lt;LoginResponse&gt; getResponse(@Body JsonObject body);\n}\n</code></pre>\n<p><strong>MainActivity.class</strong></p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    login = findViewById(R.id.login);\n    email = findViewById(R.id.email);\n    pwd = findViewById(R.id.pwd);\n\n    login.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            final ProgressDialog prg = new ProgressDialog(MainActivity.this);\n            prg.setCancelable(false);\n            prg.setMessage(&quot;Logging in...&quot;);\n            prg.show();\n\n            String str1 = email.getText().toString();\n            String str2 = pwd.getText().toString();\n\n            if(str1.equals(&quot;&quot;)){\n\n                prg.dismiss();\n                TastyToast.makeText(getApplicationContext(),&quot;Enter email&quot;,TastyToast.LENGTH_SHORT,\n                        TastyToast.ERROR).show();\n            }\n            else if(str2.equals(&quot;&quot;)){\n\n                prg.dismiss();\n                TastyToast.makeText(getApplicationContext(),&quot;Enter password&quot;,TastyToast.LENGTH_SHORT,\n                        TastyToast.ERROR).show();\n            }\n            else{\n\n                Retrofit retrofit = RetrofitClient.getInstance();\n                ApiService apiService = retrofit.create(ApiService.class);\n\n                JsonObject jsonObject= new JsonObject();\n                jsonObject.addProperty(&quot;userId&quot;,str1);\n                jsonObject.addProperty(&quot;password&quot;,str2);\n\n                Call&lt;LoginResponse&gt; call = apiService.getResponse(jsonObject);\n\n                call.enqueue(new Callback&lt;LoginResponse&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;LoginResponse&gt; call, Response&lt;LoginResponse&gt; response) {\n\n                       try{\n                            JSONObject jsonObject1 = new JSONObject(resp);\n\n                            String str = jsonObject1.getString(&quot;status&quot;);\n\n                            if(str.equals(&quot;Success&quot;)){\n\n                                prg.dismiss();\n                                email.setText(&quot;&quot;);\n                                pwd.setText(&quot;&quot;);\n                            }\n                           }\n                          catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;LoginResponse&gt; call, Throwable t) {\n\n                        TastyToast.makeText(getApplicationContext(),t.getMessage(),TastyToast.LENGTH_SHORT,\n                                   TastyToast.ERROR).show();\n                    }\n                });\n\n            }\n        }\n    });\n  }\n</code></pre>\n<p>There is no response from the server on implementing above code. What I am doing wrong?</p>\n"},{"tags":["java","android","sqlite","dao"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1536510138,"post_id":52246416,"comment_id":91440910,"body_markdown":"Cant you get a `List`, which is the default and simply transform to an array?","body":"Cant you get a <code>List</code>, which is the default and simply transform to an array?"},{"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"score":0,"creation_date":1536510185,"post_id":52246416,"comment_id":91440922,"body_markdown":"I... could. Let me try that.","body":"I... could. Let me try that."},{"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"score":0,"creation_date":1536510929,"post_id":52246416,"comment_id":91441141,"body_markdown":"The `List` seems empty.","body":"The <code>List</code> seems empty."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1536510962,"post_id":52246416,"comment_id":91441151,"body_markdown":"Well now u know that the query might be the problem, right?","body":"Well now u know that the query might be the problem, right?"},{"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"score":0,"creation_date":1536511016,"post_id":52246416,"comment_id":91441171,"body_markdown":"I&#39;ve run the query on the sqlite3 binary on my phone and it outputs as expected. Where could I be messing up?","body":"I&#39;ve run the query on the sqlite3 binary on my phone and it outputs as expected. Where could I be messing up?"},{"owner":{"account_id":11228250,"reputation":1147,"user_id":8237252,"display_name":"LaVepe"},"score":0,"creation_date":1536513201,"post_id":52246416,"comment_id":91441722,"body_markdown":"I&#39;m just guessing here but have you tried changing your table name and field names from camelcase to lowercase? \ne.g. `SubMenus` entity will be annotated `@Entity(tableName = &quot;sub_menus&quot;)`, `SubMenuTitle` field will be annotated `@ColumnInfo(name = &quot;sub_menu_title&quot;)` and `MenuID` will be annotated `@ColumnInfo(name = &quot;menu_id &quot;)`\nand your Query will be: `@Query(&quot;SELECT sub_menu_title FROM sub_menus WHERE menu_id = :MenuID&quot;)`","body":"I&#39;m just guessing here but have you tried changing your table name and field names from camelcase to lowercase?  e.g. <code>SubMenus</code> entity will be annotated <code>@Entity(tableName = &quot;sub_menus&quot;)</code>, <code>SubMenuTitle</code> field will be annotated <code>@ColumnInfo(name = &quot;sub_menu_title&quot;)</code> and <code>MenuID</code> will be annotated <code>@ColumnInfo(name = &quot;menu_id &quot;)</code> and your Query will be: <code>@Query(&quot;SELECT sub_menu_title FROM sub_menus WHERE menu_id = :MenuID&quot;)</code>"},{"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"score":0,"creation_date":1536513778,"post_id":52246416,"comment_id":91441873,"body_markdown":"Still doesn&#39;t work","body":"Still doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680469516,"creation_date":1680469516,"answer_id":75914608,"question_id":52246416,"body_markdown":"This answer is many, many years late, but I got around this by altering the code to resemble the following:\r\n\r\n    @Query(&quot;SELECT SubMenuTitle FROM SubMenus WHERE MenuID = :MenuID&quot;)\r\n    LiveData&lt;String[]&gt; getSubMenus(int MenuID);\r\n\r\nThen, after creating a ViewModel object, the `observe()` method was implemented as follows:\r\n\r\n    vm.getSubMenus(MenuID).observe(this, new Observer&lt;String[]&gt;() {\r\n        @Override\r\n        public void onChanged(@Nullable String[] menus) {\r\n            populateTabs(menus);\r\n        }\r\n    });\r\n\r\nMy understanding is that since the database queries take time to run, the instant that `getSubMenus()` is run, nothing is actually returned from the database. My initial flawed understanding was that Room would wait for the database query to finish running before returning the object, but 5 further years of studying has proven that this is not the case. Therefore, the `LiveData&lt;&gt;` wrapper was needed so that the `String[]` could be updated as data came in from the database. However,  I may still be wrong, so someone please correct me if I am.","title":"How do you get a String[] from a Room database?","body":"<p>This answer is many, many years late, but I got around this by altering the code to resemble the following:</p>\n<pre><code>@Query(&quot;SELECT SubMenuTitle FROM SubMenus WHERE MenuID = :MenuID&quot;)\nLiveData&lt;String[]&gt; getSubMenus(int MenuID);\n</code></pre>\n<p>Then, after creating a ViewModel object, the <code>observe()</code> method was implemented as follows:</p>\n<pre><code>vm.getSubMenus(MenuID).observe(this, new Observer&lt;String[]&gt;() {\n    @Override\n    public void onChanged(@Nullable String[] menus) {\n        populateTabs(menus);\n    }\n});\n</code></pre>\n<p>My understanding is that since the database queries take time to run, the instant that <code>getSubMenus()</code> is run, nothing is actually returned from the database. My initial flawed understanding was that Room would wait for the database query to finish running before returning the object, but 5 further years of studying has proven that this is not the case. Therefore, the <code>LiveData&lt;&gt;</code> wrapper was needed so that the <code>String[]</code> could be updated as data came in from the database. However,  I may still be wrong, so someone please correct me if I am.</p>\n"}],"owner":{"account_id":13564481,"reputation":109,"user_id":9785045,"display_name":"Siku M."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914608,"answer_count":1,"score":0,"last_activity_date":1680469516,"creation_date":1536510024,"question_id":52246416,"body_markdown":"Pretty self-explanatory. I have a Room database, one of the tables has a column of type `String`, I want to get all the data in that column and return it as `String[]`. For some reason, that `String[]` is always empty. What am I doing wrong?\r\n\r\nHere is the command from my DAO:\r\n    \r\n    @Query(&quot;SELECT SubMenuTitle FROM SubMenus WHERE MenuID = :MenuID&quot;)\r\n    String[] getSubMenus(int MenuID);\r\n\r\nWhen I run the query using the sqlite3 binary on my phone, the output is as expected.","title":"How do you get a String[] from a Room database?","body":"<p>Pretty self-explanatory. I have a Room database, one of the tables has a column of type <code>String</code>, I want to get all the data in that column and return it as <code>String[]</code>. For some reason, that <code>String[]</code> is always empty. What am I doing wrong?</p>\n\n<p>Here is the command from my DAO:</p>\n\n<pre><code>@Query(\"SELECT SubMenuTitle FROM SubMenus WHERE MenuID = :MenuID\")\nString[] getSubMenus(int MenuID);\n</code></pre>\n\n<p>When I run the query using the sqlite3 binary on my phone, the output is as expected.</p>\n"},{"tags":["java","reflection","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680449718,"post_id":75912952,"comment_id":133896851,"body_markdown":"[mcve] please (including the complete stacktrace formatted as code)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (including the complete stacktrace formatted as code)"},{"owner":{"account_id":28195297,"reputation":31,"user_id":21550046,"display_name":"Nathalie Kitty"},"score":0,"creation_date":1680449995,"post_id":75912952,"comment_id":133896908,"body_markdown":"Ah, sorrie! I&#39;ll organize some more code and edit","body":"Ah, sorrie! I&#39;ll organize some more code and edit"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1680454689,"post_id":75912952,"comment_id":133897633,"body_markdown":"Welcome on SO. The given code show that you are looking for the good method, and the error is saying you are only searching for `v()`. Is that normal? Also, prefer use declaredMehtods","body":"Welcome on SO. The given code show that you are looking for the good method, and the error is saying you are only searching for <code>v()</code>. Is that normal? Also, prefer use declaredMehtods"},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":1,"creation_date":1680484361,"post_id":75912952,"comment_id":133901353,"body_markdown":"Are you familiar with Minecraft&#39;s use of obfuscation, or with SRG vs. MCP names?","body":"Are you familiar with Minecraft&#39;s use of obfuscation, or with SRG vs. MCP names?"}],"answers":[{"tags":[],"owner":{"account_id":28195297,"reputation":31,"user_id":21550046,"display_name":"Nathalie Kitty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680469443,"creation_date":1680469443,"answer_id":75914602,"question_id":75912952,"body_markdown":"I was able to resolve the core issue but not the mystery.\r\n\r\nTurns out you can use both .v() and .func_181057_v() on a clean Mohist server. I forgot to remove a plugin called BKCommonLib (version 1.19.3-v3-1512), which appears to remove .func_181057_v(), but leaves v() working.  \r\nSolution - just use `.v()`.\r\n\r\nAs to why the logs say that .v() cannot be found when you use .func_181057_v() while BKCommonLib is present on the server - I have no idea. Perhaps it&#39;s a Java bug that appears due to BKCommonLib pathing stuff through reflection.  \r\nFeel free to look into it and add comments!","title":"Reflection getMethod(...) throws NoSuchMethodException with a different method name","body":"<p>I was able to resolve the core issue but not the mystery.</p>\n<p>Turns out you can use both .v() and .func_181057_v() on a clean Mohist server. I forgot to remove a plugin called BKCommonLib (version 1.19.3-v3-1512), which appears to remove .func_181057_v(), but leaves v() working.<br />\nSolution - just use <code>.v()</code>.</p>\n<p>As to why the logs say that .v() cannot be found when you use .func_181057_v() while BKCommonLib is present on the server - I have no idea. Perhaps it's a Java bug that appears due to BKCommonLib pathing stuff through reflection.<br />\nFeel free to look into it and add comments!</p>\n"}],"owner":{"account_id":28195297,"reputation":31,"user_id":21550046,"display_name":"Nathalie Kitty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75914602,"answer_count":1,"score":0,"last_activity_date":1680469443,"creation_date":1680449419,"question_id":75912952,"body_markdown":"Using `myClass.getMethod(&quot;func_181057_v&quot;)` throws exception in the console - &quot;NoSuchMethodException: myClass.v()&quot;.  \r\nI don&#39;t think it&#39;s supposed to do that - why is the method name different in thrown exception compared to what I&#39;ve actually typed in and how can I retrieve that method?\r\n\r\nI have tried both `.getMethod(..)` and `.getDelcaredMethod(..)` as well as printed `.getDeclaredMethods()` list and .func_181057_v() was on the list. When I change anything about the name (for example func_181057__v) then the exact typed in method is looked for rather than &quot;v&quot;.\r\n\r\nMy code:\r\n```java\r\ntry {\r\n   Class&lt;?&gt; fmlCommonHandlerClass = Class.forName(&quot;net.minecraftforge.fml.common.FMLCommonHandler&quot;);\r\n   Class&lt;?&gt; minecraftServerClass = Class.forName(&quot;net.minecraft.server.MinecraftServer&quot;);\r\n   Class&lt;?&gt; playerListClass = Class.forName(&quot;net.minecraft.server.management.PlayerList&quot;);\r\n\r\n   Method getMinecraftServerInstanceMethod = fmlCommonHandlerClass.getDeclaredMethod(&quot;getMinecraftServerInstance&quot;);\r\n   Method getPlayerListMethod = minecraftServerClass.getDeclaredMethod(&quot;getPlayerList&quot;);\r\n   Method getPlayersMethod = playerListClass.getDeclaredMethod(&quot;func_181057_v&quot;);\r\n} catch (Exception exception) {\r\n   throw new RuntimeException(exception);\r\n}\r\n```\r\nFull code: https://github.com/KittyNath/ReflectionExample  \r\nExact method name is `public java.util.List net.minecraft.server.management.PlayerList.func_181057_v()`  \r\nIf you want to execute it you need to compile and install it as a plugin to Mohist server, I&#39;m using version 1.12.2, build 320.  \r\nJava 1.8.0_361.\r\n\r\nFull exception:\r\n```\r\n[18:25:56 ERROR]: Error occurred while enabling ReflectionExample v1.0-SNAPSHOT (Is it up to date?)\r\n java.lang.RuntimeException: java.lang.NoSuchMethodException: net.minecraft.server.management.PlayerList.v()\r\n        at com.example.plugin.reflectionExample.ReflectionExample.onEnable(ReflectionExample.java:20) ~[?:?]\r\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:177) ~[JavaPlugin.class:?]\r\n        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:318) [JavaPluginLoader.class:?]\r\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:399) [SimplePluginManager.class:?]\r\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:477) [CraftServer.class:?]\r\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:418) [CraftServer.class:?]\r\n        at net.minecraft.server.MinecraftServer.func_71247_a(MinecraftServer.java:383) [MinecraftServer.class:?]\r\n        at net.minecraft.server.dedicated.DedicatedServer.func_71197_b(DedicatedServer.java:315) [nz.class:?]\r\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:590) [MinecraftServer.class:?]\r\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_361]\r\nCaused by: java.lang.NoSuchMethodException: net.minecraft.server.management.PlayerList.v()\r\n        at java.lang.Class.getMethod(Unknown Source) ~[?:1.8.0_361]\r\n        at com.mohistmc.bukkit.nms.proxy.ProxyClass.getMethod(ProxyClass.java:43) ~[ProxyClass.class:?]\r\n        at com.example.plugin.reflectionExample.ReflectionExample.onEnable(ReflectionExample.java:18) ~[?:?]\r\n        ... 9 more\r\n```","title":"Reflection getMethod(...) throws NoSuchMethodException with a different method name","body":"<p>Using <code>myClass.getMethod(&quot;func_181057_v&quot;)</code> throws exception in the console - &quot;NoSuchMethodException: myClass.v()&quot;.<br />\nI don't think it's supposed to do that - why is the method name different in thrown exception compared to what I've actually typed in and how can I retrieve that method?</p>\n<p>I have tried both <code>.getMethod(..)</code> and <code>.getDelcaredMethod(..)</code> as well as printed <code>.getDeclaredMethods()</code> list and .func_181057_v() was on the list. When I change anything about the name (for example func_181057__v) then the exact typed in method is looked for rather than &quot;v&quot;.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n   Class&lt;?&gt; fmlCommonHandlerClass = Class.forName(&quot;net.minecraftforge.fml.common.FMLCommonHandler&quot;);\n   Class&lt;?&gt; minecraftServerClass = Class.forName(&quot;net.minecraft.server.MinecraftServer&quot;);\n   Class&lt;?&gt; playerListClass = Class.forName(&quot;net.minecraft.server.management.PlayerList&quot;);\n\n   Method getMinecraftServerInstanceMethod = fmlCommonHandlerClass.getDeclaredMethod(&quot;getMinecraftServerInstance&quot;);\n   Method getPlayerListMethod = minecraftServerClass.getDeclaredMethod(&quot;getPlayerList&quot;);\n   Method getPlayersMethod = playerListClass.getDeclaredMethod(&quot;func_181057_v&quot;);\n} catch (Exception exception) {\n   throw new RuntimeException(exception);\n}\n</code></pre>\n<p>Full code: <a href=\"https://github.com/KittyNath/ReflectionExample\" rel=\"nofollow noreferrer\">https://github.com/KittyNath/ReflectionExample</a><br />\nExact method name is <code>public java.util.List net.minecraft.server.management.PlayerList.func_181057_v()</code><br />\nIf you want to execute it you need to compile and install it as a plugin to Mohist server, I'm using version 1.12.2, build 320.<br />\nJava 1.8.0_361.</p>\n<p>Full exception:</p>\n<pre><code>[18:25:56 ERROR]: Error occurred while enabling ReflectionExample v1.0-SNAPSHOT (Is it up to date?)\n java.lang.RuntimeException: java.lang.NoSuchMethodException: net.minecraft.server.management.PlayerList.v()\n        at com.example.plugin.reflectionExample.ReflectionExample.onEnable(ReflectionExample.java:20) ~[?:?]\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:177) ~[JavaPlugin.class:?]\n        at org.bukkit.plugin.java.JavaPluginLoader.enablePlugin(JavaPluginLoader.java:318) [JavaPluginLoader.class:?]\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:399) [SimplePluginManager.class:?]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugin(CraftServer.java:477) [CraftServer.class:?]\n        at org.bukkit.craftbukkit.v1_12_R1.CraftServer.enablePlugins(CraftServer.java:418) [CraftServer.class:?]\n        at net.minecraft.server.MinecraftServer.func_71247_a(MinecraftServer.java:383) [MinecraftServer.class:?]\n        at net.minecraft.server.dedicated.DedicatedServer.func_71197_b(DedicatedServer.java:315) [nz.class:?]\n        at net.minecraft.server.MinecraftServer.run(MinecraftServer.java:590) [MinecraftServer.class:?]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_361]\nCaused by: java.lang.NoSuchMethodException: net.minecraft.server.management.PlayerList.v()\n        at java.lang.Class.getMethod(Unknown Source) ~[?:1.8.0_361]\n        at com.mohistmc.bukkit.nms.proxy.ProxyClass.getMethod(ProxyClass.java:43) ~[ProxyClass.class:?]\n        at com.example.plugin.reflectionExample.ReflectionExample.onEnable(ReflectionExample.java:18) ~[?:?]\n        ... 9 more\n</code></pre>\n"},{"tags":["java","android","arrays"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1680466085,"post_id":75914334,"comment_id":133899335,"body_markdown":"It sounds like a chapter is made up of units, where units are not unique _across chapters_. I would suggest that a flat list is not the correct way to model this data. Nor, necessarily, is relying directly on `String`. Perhaps you should create custom classes with this (e.g., a `Chapter` class that has-a list of `Unit`s).","body":"It sounds like a chapter is made up of units, where units are not unique <i>across chapters</i>. I would suggest that a flat list is not the correct way to model this data. Nor, necessarily, is relying directly on <code>String</code>. Perhaps you should create custom classes with this (e.g., a <code>Chapter</code> class that has-a list of <code>Unit</code>s)."},{"owner":{"account_id":24332935,"reputation":482,"user_id":21183551,"display_name":"Ars_Codicis"},"score":0,"creation_date":1680466649,"post_id":75914334,"comment_id":133899421,"body_markdown":"@Slaw, no, my &quot;Chapters&quot; aren&#39;t made up of units. And, since my data isn&#39;t really in need of a model, I don&#39;t want to go down that route.","body":"@Slaw, no, my &quot;Chapters&quot; aren&#39;t made up of units. And, since my data isn&#39;t really in need of a model, I don&#39;t want to go down that route."},{"owner":{"account_id":19078257,"reputation":94,"user_id":13931072,"display_name":"Cryptolis"},"score":0,"creation_date":1680466663,"post_id":75914334,"comment_id":133899425,"body_markdown":"If you want to stay with a list this [link](https://stackoverflow.com/questions/708698/how-can-i-sort-a-list-alphabetically) could be quite helpful. Otherwise I would go with Slaw&#39;s approach.","body":"If you want to stay with a list this <a href=\"https://stackoverflow.com/questions/708698/how-can-i-sort-a-list-alphabetically\">link</a> could be quite helpful. Otherwise I would go with Slaw&#39;s approach."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1680474262,"post_id":75914334,"comment_id":133900349,"body_markdown":"@vincere Well, based off your edit, I mostly just got it the wrong way around. A unit is made up of chapters. And given your tree-like structure, I still think modeling your data with classes is the right approach. Later, if you really want a flat list, you can add that functionality (take the tree and flatten it; if the chapters are in order, and the units of each chapter are in order, then the flattened list will be in order). Regardless, you need to somehow record the fact that a chapter belongs to a unit, or maybe give everything sequential IDs (in the right order).","body":"@vincere Well, based off your edit, I mostly just got it the wrong way around. A unit is made up of chapters. And given your tree-like structure, I still think modeling your data with classes is the right approach. Later, if you really want a flat list, you can add that functionality (take the tree and flatten it; if the chapters are in order, and the units of each chapter are in order, then the flattened list will be in order). Regardless, you need to somehow record the fact that a chapter belongs to a unit, or maybe give everything sequential IDs (in the right order)."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680469214,"creation_date":1680469214,"answer_id":75914582,"question_id":75914334,"body_markdown":"The best way to solve this is probably not to keep this data as strings, but as an actual data structure.\r\n\r\nIf you&#39;re stuck with strings, use sort with a custom comparator that decides which comes first based on your criteria (which would require splitting that string into a number and a type, then comparing first the number then the type).","title":"Order List&lt;String&gt; of Data with Chapters vs. Units","body":"<p>The best way to solve this is probably not to keep this data as strings, but as an actual data structure.</p>\n<p>If you're stuck with strings, use sort with a custom comparator that decides which comes first based on your criteria (which would require splitting that string into a number and a type, then comparing first the number then the type).</p>\n"}],"owner":{"account_id":24332935,"reputation":482,"user_id":21183551,"display_name":"Ars_Codicis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914582,"answer_count":1,"score":0,"last_activity_date":1680469214,"creation_date":1680465703,"question_id":75914334,"body_markdown":"I have a `List&lt;String&gt;` of Units and Chapters for a basic flashcard game. I would like to order them least to greatest (E.G. Chapter 1, Unit 1, Chapter 2 etc...)\r\n\r\nUsing this code:\r\n\r\n```\r\nString UnitsChaptersString = Utils.GetReviewUnitsChapters().replaceAll(&quot; &quot;, &quot;_&quot;);\r\n\r\nList&lt;String&gt; UnitsChaptersList = Arrays.asList(UnitsChaptersString.split(&quot;,&quot;));\r\n\r\nfor (int i = 0; i &lt; UnitsChaptersList.size(); i++) {\r\n\r\n    // Order and add to the RecyclerView here...\r\n\r\n}\r\n```\r\n\r\nI obtain and loop through a list of units and chapters.\r\n\r\nAn example `String` value returned by `Utils.GetReviewUnitsChapters()...` is this:\r\n\r\n`Chapter_3,Unit_2,Chapter_1`\r\n\r\nWith the string above, the end result should be: `Chapter_1,Chapter_3,Unit_2.`\r\n\r\nFor clarity, `Unit_2` is greater than both `Chapter_1 `and `Chapter_3`, but `Unit_1 `is only greater than `Chapter_1`.\r\n\r\n**Important Note:** Units &#39;hold&#39; chapters! Chapters are a subsidiary of Units.\r\n\r\nVisual Tree:\r\n\r\n**Unit_1:**\r\n\r\n   \r\n - Chapter 1\r\n   \r\n - Chapter 2\r\n   \r\n - Etc...\r\n\r\n**Unit_2:**\r\n\r\n   \r\n - Chapter 5\r\n   \r\n - Chapter 6\r\n   \r\n - And so on.\r\n\r\nI had this same question for Swift (https://stackoverflow.com/questions/73954632/eliminate-array-sorted-errors-swift-5). Note that in Swift, there is a nice `.sorted()` function available. Might there be one for Java?\r\n\r\nStackOverflow tried to send me to this [link](https://stackoverflow.com/questions/42428419/ordering-of-data-with-firebase-android), but it wasn&#39;t the answer to my question.\r\n\r\nI also looked into the `List.sort(...)` option, but I ran into the wall of `Comparators` and `super Strings`, so I was unable to implement that on my own.\r\n\r\n\r\n**Update:**\r\n-------\r\n\r\n\r\nUsing one of the suggested methods, I used this code:\r\n\r\n```\r\nList&lt;String&gt; TestList = Arrays.asList(&quot;Chapter_1&quot;, &quot;Unit_3&quot;, &quot;Chapter_42&quot;, &quot;Chapter_2&quot;);\r\n\r\n        Collections.sort(TestList);\r\n\r\n        for (int i = 0; i &lt; TestList.size(); i++) {\r\n\r\n            Log.i(&quot;SortedList&quot;, TestList.get(i));\r\n\r\n        }\r\n```\r\n\r\nAnd got this:\r\n\r\n```\r\nI/SortedList: Chapter_1\r\nI/SortedList: Chapter_2\r\nI/SortedList: Chapter_42\r\nI/SortedList: Unit_3\r\n```\r\n\r\n`Unit_3` should be after `Chapter_2` but before `Chapter_42`.\r\n\r\nIn other words, the output needs to be:\r\n\r\n```\r\nI/SortedList: Chapter_1\r\nI/SortedList: Chapter_2\r\nI/SortedList: Unit_3\r\nI/SortedList: Chapter_42\r\n```\r\n\r\nThank you!","title":"Order List&lt;String&gt; of Data with Chapters vs. Units","body":"<p>I have a <code>List&lt;String&gt;</code> of Units and Chapters for a basic flashcard game. I would like to order them least to greatest (E.G. Chapter 1, Unit 1, Chapter 2 etc...)</p>\n<p>Using this code:</p>\n<pre><code>String UnitsChaptersString = Utils.GetReviewUnitsChapters().replaceAll(&quot; &quot;, &quot;_&quot;);\n\nList&lt;String&gt; UnitsChaptersList = Arrays.asList(UnitsChaptersString.split(&quot;,&quot;));\n\nfor (int i = 0; i &lt; UnitsChaptersList.size(); i++) {\n\n    // Order and add to the RecyclerView here...\n\n}\n</code></pre>\n<p>I obtain and loop through a list of units and chapters.</p>\n<p>An example <code>String</code> value returned by <code>Utils.GetReviewUnitsChapters()...</code> is this:</p>\n<p><code>Chapter_3,Unit_2,Chapter_1</code></p>\n<p>With the string above, the end result should be: <code>Chapter_1,Chapter_3,Unit_2.</code></p>\n<p>For clarity, <code>Unit_2</code> is greater than both <code>Chapter_1 </code>and <code>Chapter_3</code>, but <code>Unit_1 </code>is only greater than <code>Chapter_1</code>.</p>\n<p><strong>Important Note:</strong> Units 'hold' chapters! Chapters are a subsidiary of Units.</p>\n<p>Visual Tree:</p>\n<p><strong>Unit_1:</strong></p>\n<ul>\n<li><p>Chapter 1</p>\n</li>\n<li><p>Chapter 2</p>\n</li>\n<li><p>Etc...</p>\n</li>\n</ul>\n<p><strong>Unit_2:</strong></p>\n<ul>\n<li><p>Chapter 5</p>\n</li>\n<li><p>Chapter 6</p>\n</li>\n<li><p>And so on.</p>\n</li>\n</ul>\n<p>I had this same question for Swift (<a href=\"https://stackoverflow.com/questions/73954632/eliminate-array-sorted-errors-swift-5\">Eliminate array .sorted errors Swift 5</a>). Note that in Swift, there is a nice <code>.sorted()</code> function available. Might there be one for Java?</p>\n<p>StackOverflow tried to send me to this <a href=\"https://stackoverflow.com/questions/42428419/ordering-of-data-with-firebase-android\">link</a>, but it wasn't the answer to my question.</p>\n<p>I also looked into the <code>List.sort(...)</code> option, but I ran into the wall of <code>Comparators</code> and <code>super Strings</code>, so I was unable to implement that on my own.</p>\n<h2><strong>Update:</strong></h2>\n<p>Using one of the suggested methods, I used this code:</p>\n<pre><code>List&lt;String&gt; TestList = Arrays.asList(&quot;Chapter_1&quot;, &quot;Unit_3&quot;, &quot;Chapter_42&quot;, &quot;Chapter_2&quot;);\n\n        Collections.sort(TestList);\n\n        for (int i = 0; i &lt; TestList.size(); i++) {\n\n            Log.i(&quot;SortedList&quot;, TestList.get(i));\n\n        }\n</code></pre>\n<p>And got this:</p>\n<pre><code>I/SortedList: Chapter_1\nI/SortedList: Chapter_2\nI/SortedList: Chapter_42\nI/SortedList: Unit_3\n</code></pre>\n<p><code>Unit_3</code> should be after <code>Chapter_2</code> but before <code>Chapter_42</code>.</p>\n<p>In other words, the output needs to be:</p>\n<pre><code>I/SortedList: Chapter_1\nI/SortedList: Chapter_2\nI/SortedList: Unit_3\nI/SortedList: Chapter_42\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","ubuntu","jenkins","systemctl"],"answers":[{"tags":[],"owner":{"account_id":2008812,"reputation":609,"user_id":2464312,"accept_rate":67,"display_name":"TeabagD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648890113,"creation_date":1648890113,"answer_id":71716174,"question_id":71710824,"body_markdown":"    sudo systemctl edit jenkins\r\n\r\nIs what actually works,, as in the link in the question. It doesn&#39;t modify the config file, but anything that gets added here overwrites the config that can be viewed using:\r\n\r\n    systemctl cat jenkins","title":"Jenkins not picking up config file changed (/etc/default/jenkins) in Ubuntu","body":"<pre><code>sudo systemctl edit jenkins\n</code></pre>\n<p>Is what actually works,, as in the link in the question. It doesn't modify the config file, but anything that gets added here overwrites the config that can be viewed using:</p>\n<pre><code>systemctl cat jenkins\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21516280,"reputation":116,"user_id":15858082,"display_name":"Barath Kumar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1649869156,"creation_date":1649262850,"answer_id":71770501,"question_id":71710824,"body_markdown":"Editing `/etc/default/jenkins`\r\ndoes not work after Jenkins version 2.332.1, which relies\r\non systemd rather than the init system ([documentation][1]).\r\n\r\nInstead, run:\r\n\r\n&gt; systemctl edit jenkins\r\n\r\nwhich will bring up an editor with an empty file. Create the section below with the following:\r\n\r\n    [Service]\r\n    Environment=&quot;JENKINS_PORT=8888&quot;\r\n\r\nChange the port as desired and save the file (in case of nano as editor with `Ctrl + X, Y`).\r\nFinally, restart Jenkins and it should pick up the new port:\r\n\r\n&gt; sudo systemctl restart jenkins\r\n\r\n\r\n  [1]: https://www.jenkins.io/doc/upgrade-guide/2.332/","title":"Jenkins not picking up config file changed (/etc/default/jenkins) in Ubuntu","body":"<p>Editing <code>/etc/default/jenkins</code>\ndoes not work after Jenkins version 2.332.1, which relies\non systemd rather than the init system (<a href=\"https://www.jenkins.io/doc/upgrade-guide/2.332/\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n<p>Instead, run:</p>\n<blockquote>\n<p>systemctl edit jenkins</p>\n</blockquote>\n<p>which will bring up an editor with an empty file. Create the section below with the following:</p>\n<pre><code>[Service]\nEnvironment=&quot;JENKINS_PORT=8888&quot;\n</code></pre>\n<p>Change the port as desired and save the file (in case of nano as editor with <code>Ctrl + X, Y</code>).\nFinally, restart Jenkins and it should pick up the new port:</p>\n<blockquote>\n<p>sudo systemctl restart jenkins</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680468369,"creation_date":1680468369,"answer_id":75914538,"question_id":71710824,"body_markdown":"With Debian Bullseye (Debian 11) :\r\n\r\n`vim /etc/systemd/system/jenkins.service.d/override.conf` \r\n\r\n    [Service]\r\n    Environment=&quot;JENKINS_LISTEN_ADDRESS=127.0.0.1&quot;\r\n    Environment=&quot;JENKINS_PREFIX=/jenkins&quot;\r\n    Environment=&quot;JENKINS_PORT=XXXX&quot;  &lt;= Change XXXX to the port value you want to use.\r\n\r\nThe key is to edit the config file which is overriding the default configuration, because the default configuration is updated each new release, erasing your custom config.\r\n\r\nDon&#39;t forget to update and reload your changes with :\r\n\r\n`systemctl daemon-reload`\r\n\r\n`service jenkins restart`\r\n","title":"Jenkins not picking up config file changed (/etc/default/jenkins) in Ubuntu","body":"<p>With Debian Bullseye (Debian 11) :</p>\n<p><code>vim /etc/systemd/system/jenkins.service.d/override.conf</code></p>\n<pre><code>[Service]\nEnvironment=&quot;JENKINS_LISTEN_ADDRESS=127.0.0.1&quot;\nEnvironment=&quot;JENKINS_PREFIX=/jenkins&quot;\nEnvironment=&quot;JENKINS_PORT=XXXX&quot;  &lt;= Change XXXX to the port value you want to use.\n</code></pre>\n<p>The key is to edit the config file which is overriding the default configuration, because the default configuration is updated each new release, erasing your custom config.</p>\n<p>Don't forget to update and reload your changes with :</p>\n<p><code>systemctl daemon-reload</code></p>\n<p><code>service jenkins restart</code></p>\n"}],"owner":{"account_id":2008812,"reputation":609,"user_id":2464312,"accept_rate":67,"display_name":"TeabagD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3398,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71770501,"answer_count":3,"score":3,"last_activity_date":1680468369,"creation_date":1648834548,"question_id":71710824,"body_markdown":"Using:\r\n- Ubuntu 20.04.2 LTS\r\n- Java 1.8.0_322\r\n- Jenkins 2.332.1\r\n\r\nI&#39;ve been attempting to change the HTTP port or the User in /etc/default/jenkins file. However the changes are not picked up once I do:\r\n\r\n    sudo service jenkins restart\r\n\r\nThe answer here also doesn&#39;t seem to work:\r\n[https://stackoverflow.com/questions/71494231/jenkins-changes-in-etc-default-jenkins-not-working][1]\r\n\r\n    sudo systemctl edit jenkins\r\n\r\njust opens a new file for editing\r\n\r\n  [1]: https://stackoverflow.com/questions/71494231/jenkins-changes-in-etc-default-jenkins-not-working","title":"Jenkins not picking up config file changed (/etc/default/jenkins) in Ubuntu","body":"<p>Using:</p>\n<ul>\n<li>Ubuntu 20.04.2 LTS</li>\n<li>Java 1.8.0_322</li>\n<li>Jenkins 2.332.1</li>\n</ul>\n<p>I've been attempting to change the HTTP port or the User in /etc/default/jenkins file. However the changes are not picked up once I do:</p>\n<pre><code>sudo service jenkins restart\n</code></pre>\n<p>The answer here also doesn't seem to work:\n<a href=\"https://stackoverflow.com/questions/71494231/jenkins-changes-in-etc-default-jenkins-not-working\">Jenkins changes in /etc/default/jenkins not working</a></p>\n<pre><code>sudo systemctl edit jenkins\n</code></pre>\n<p>just opens a new file for editing</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1680195283,"post_id":75890340,"comment_id":133860955,"body_markdown":"Like it or not, your techniques are the way to override spring boot default beans.","body":"Like it or not, your techniques are the way to override spring boot default beans."}],"answers":[{"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680467518,"creation_date":1680467518,"answer_id":75914469,"question_id":75890340,"body_markdown":"Spring Boot provides defaults with the capability to exclude, or use a user provide bean. It&#39;s one of the key capabilities. \r\n\r\nGiven the WebFlux ErrorExceptionHandler currently looks like this, \r\n\r\n```\r\n@AutoConfiguration(before = WebFluxAutoConfiguration.class)\r\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.REACTIVE)\r\n@ConditionalOnClass(WebFluxConfigurer.class)\r\n@EnableConfigurationProperties({ ServerProperties.class, WebProperties.class })\r\npublic class ErrorWebFluxAutoConfiguration {\r\n\r\n\tprivate final ServerProperties serverProperties;\r\n\r\n\tpublic ErrorWebFluxAutoConfiguration(ServerProperties serverProperties) {\r\n\t\tthis.serverProperties = serverProperties;\r\n\t}\r\n\r\n\t@Bean\r\n\t@ConditionalOnMissingBean(value = ErrorWebExceptionHandler.class, search = SearchStrategy.CURRENT)\r\n\t@Order(-1)\r\n\tpublic ErrorWebExceptionHandler errorWebExceptionHandler(ErrorAttributes errorAttributes,\r\n\t\t\tWebProperties webProperties, ObjectProvider&lt;ViewResolver&gt; viewResolvers,\r\n\t\t\tServerCodecConfigurer serverCodecConfigurer, ApplicationContext applicationContext) {\r\n\t\tDefaultErrorWebExceptionHandler exceptionHandler = new DefaultErrorWebExceptionHandler(errorAttributes,\r\n\t\t\t\twebProperties.getResources(), this.serverProperties.getError(), applicationContext);\r\n\t\texceptionHandler.setViewResolvers(viewResolvers.orderedStream().toList());\r\n\t\texceptionHandler.setMessageWriters(serverCodecConfigurer.getWriters());\r\n\t\texceptionHandler.setMessageReaders(serverCodecConfigurer.getReaders());\r\n\t\treturn exceptionHandler;\r\n\t}\r\n\r\n\t@Bean\r\n\t@ConditionalOnMissingBean(value = ErrorAttributes.class, search = SearchStrategy.CURRENT)\r\n\tpublic DefaultErrorAttributes errorAttributes() {\r\n\t\treturn new DefaultErrorAttributes();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nYou can either, \r\n\r\n1. Create a Bean that implements `ErrorWebExceptionHandler` rather `WebExceptionHandler` \r\n1. Exclude `ErrorWebFluxAutoConfiguration.class` which can be done in a few ways, but normally these days via `@SpringBootApplication(exclude = { ErrorWebFluxAutoConfiguration.class })` ","title":"Are there good options to remove or disable a default Spring bean?","body":"<p>Spring Boot provides defaults with the capability to exclude, or use a user provide bean. It's one of the key capabilities.</p>\n<p>Given the WebFlux ErrorExceptionHandler currently looks like this,</p>\n<pre><code>@AutoConfiguration(before = WebFluxAutoConfiguration.class)\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.REACTIVE)\n@ConditionalOnClass(WebFluxConfigurer.class)\n@EnableConfigurationProperties({ ServerProperties.class, WebProperties.class })\npublic class ErrorWebFluxAutoConfiguration {\n\n    private final ServerProperties serverProperties;\n\n    public ErrorWebFluxAutoConfiguration(ServerProperties serverProperties) {\n        this.serverProperties = serverProperties;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(value = ErrorWebExceptionHandler.class, search = SearchStrategy.CURRENT)\n    @Order(-1)\n    public ErrorWebExceptionHandler errorWebExceptionHandler(ErrorAttributes errorAttributes,\n            WebProperties webProperties, ObjectProvider&lt;ViewResolver&gt; viewResolvers,\n            ServerCodecConfigurer serverCodecConfigurer, ApplicationContext applicationContext) {\n        DefaultErrorWebExceptionHandler exceptionHandler = new DefaultErrorWebExceptionHandler(errorAttributes,\n                webProperties.getResources(), this.serverProperties.getError(), applicationContext);\n        exceptionHandler.setViewResolvers(viewResolvers.orderedStream().toList());\n        exceptionHandler.setMessageWriters(serverCodecConfigurer.getWriters());\n        exceptionHandler.setMessageReaders(serverCodecConfigurer.getReaders());\n        return exceptionHandler;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(value = ErrorAttributes.class, search = SearchStrategy.CURRENT)\n    public DefaultErrorAttributes errorAttributes() {\n        return new DefaultErrorAttributes();\n    }\n\n}\n</code></pre>\n<p>You can either,</p>\n<ol>\n<li>Create a Bean that implements <code>ErrorWebExceptionHandler</code> rather <code>WebExceptionHandler</code></li>\n<li>Exclude <code>ErrorWebFluxAutoConfiguration.class</code> which can be done in a few ways, but normally these days via <code>@SpringBootApplication(exclude = { ErrorWebFluxAutoConfiguration.class })</code></li>\n</ol>\n"}],"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680467518,"creation_date":1680190930,"question_id":75890340,"body_markdown":"The scenario that inspired this question is the `WebExceptionHandler` for Spring WebFlux:\r\n\r\n```\r\n@Bean\r\n@Order(-2)\r\npublic WebExceptionHandler exceptionHandler() {\r\n\treturn (exchange, ex) -&gt; {\r\n\t\t// Handle exceptions\r\n\t};\r\n}\r\n```\r\n\r\nIn the above code example, I&#39;m using the `@Order` annotation to ensure my exception handler is prioritized above the `DefaultErrorWebExceptionHandler` Spring WebFlux ships with. This is an effective solution. So is `@Primary`. However, I really don&#39;t like either of them. \r\n\r\nThe reason behind this is it feels unpleasant to me to rely on what is order-based functionality to ensure my code behaves. I would much rather find a way to exclude `DefaultErrorWebExceptionHandler` from the Spring container, so that my implementation is the only `WebExceptionHandler` available. However, `DefaultErrorWebExceptionHandler` is autowired automatically by Spring, and I&#39;m not aware of any way to exclude it.\r\n\r\nI&#39;m wondering what options there may be to achieve this goal.\r\n","title":"Are there good options to remove or disable a default Spring bean?","body":"<p>The scenario that inspired this question is the <code>WebExceptionHandler</code> for Spring WebFlux:</p>\n<pre><code>@Bean\n@Order(-2)\npublic WebExceptionHandler exceptionHandler() {\n    return (exchange, ex) -&gt; {\n        // Handle exceptions\n    };\n}\n</code></pre>\n<p>In the above code example, I'm using the <code>@Order</code> annotation to ensure my exception handler is prioritized above the <code>DefaultErrorWebExceptionHandler</code> Spring WebFlux ships with. This is an effective solution. So is <code>@Primary</code>. However, I really don't like either of them.</p>\n<p>The reason behind this is it feels unpleasant to me to rely on what is order-based functionality to ensure my code behaves. I would much rather find a way to exclude <code>DefaultErrorWebExceptionHandler</code> from the Spring container, so that my implementation is the only <code>WebExceptionHandler</code> available. However, <code>DefaultErrorWebExceptionHandler</code> is autowired automatically by Spring, and I'm not aware of any way to exclude it.</p>\n<p>I'm wondering what options there may be to achieve this goal.</p>\n"},{"tags":["java","spring","aop","spring-aop","spring-aspects"],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678908508,"answer_count":0,"score":0,"last_activity_date":1680467126,"creation_date":1678892828,"question_id":75746579,"body_markdown":"I am using a custom annotation and created around aspect for it. Aspect method is getting executed if it is on the service method called from controller. But if I place it on a intermediate method in service class, around aspect method is not getting executed.\r\n\r\nBelow is the code,\r\n\r\nTestServiceImpl.java\r\n\r\n\r\n    @Override\r\n    @TestAround\r\n    public ResponseDto testMethod(String param1) {\r\n       testMethod2(param1);\r\n       ...\r\n    }\r\n\r\n    public void testMethod2(String param1) {   \r\n      ...\r\n    } \r\n\r\n    TestAround.java\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface TestAround {    \r\n     ...\r\n    }\r\n\r\n    TestChangeAspect.java\r\n    @Around(&quot;@annotation(com.annotation.TestAround&quot;)\r\n    public Object testChangeAspectMethod(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    .....\r\n    }\r\n\r\nAbove code works good and testChangeAspectMethod method is getting executed when testMethod from service class is called from Controller.\r\n\r\nBut if I have modify like below, moving the annotation to testMethod2, aspect method is not getting executed.\r\n\r\n    @Override    \r\n    public ResponseDto testMethod(String param1) {\r\n       testMethod2(param1);\r\n       ...\r\n    }\r\n    \r\n    @TestAround\r\n    public void testMethod2(String param1) {   \r\n      ...\r\n    } \r\n\r\nWhy is the aspect method not getting executed when I change like above?\r\n","title":"Spring Around Aspect not executing on intermediate method","body":"<p>I am using a custom annotation and created around aspect for it. Aspect method is getting executed if it is on the service method called from controller. But if I place it on a intermediate method in service class, around aspect method is not getting executed.</p>\n<p>Below is the code,</p>\n<p>TestServiceImpl.java</p>\n<pre><code>@Override\n@TestAround\npublic ResponseDto testMethod(String param1) {\n   testMethod2(param1);\n   ...\n}\n\npublic void testMethod2(String param1) {   \n  ...\n} \n\nTestAround.java\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface TestAround {    \n ...\n}\n\nTestChangeAspect.java\n@Around(&quot;@annotation(com.annotation.TestAround&quot;)\npublic Object testChangeAspectMethod(ProceedingJoinPoint joinPoint) throws Throwable {\n.....\n}\n</code></pre>\n<p>Above code works good and testChangeAspectMethod method is getting executed when testMethod from service class is called from Controller.</p>\n<p>But if I have modify like below, moving the annotation to testMethod2, aspect method is not getting executed.</p>\n<pre><code>@Override    \npublic ResponseDto testMethod(String param1) {\n   testMethod2(param1);\n   ...\n}\n\n@TestAround\npublic void testMethod2(String param1) {   \n  ...\n} \n</code></pre>\n<p>Why is the aspect method not getting executed when I change like above?</p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1680468770,"post_id":75914420,"comment_id":133899729,"body_markdown":"I guess you could do this... After this is done, `current` will point to the node that will appear first in an X-order traversal. You cannot use it to implement such a traversal, so I fail to see the point of this exercise.","body":"I guess you could do this... After this is done, <code>current</code> will point to the node that will appear first in an X-order traversal. You cannot use it to implement such a traversal, so I fail to see the point of this exercise."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1680468889,"post_id":75914420,"comment_id":133899744,"body_markdown":"Those traversals are usually done recursively starting at root. Is this an attempt to implement an iterative traversal step-by step? In that case, your Node would need an additional `parent` link to be able to continue the traversal.","body":"Those traversals are usually done recursively starting at root. Is this an attempt to implement an iterative traversal step-by step? In that case, your Node would need an additional <code>parent</code> link to be able to continue the traversal."},{"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"score":0,"creation_date":1680469237,"post_id":75914420,"comment_id":133899783,"body_markdown":"The point of this method is to initialize the pointer to the start of the traversal. I have an additional getNext method that obtains the item after this reset method put the pointer back in the beginning.","body":"The point of this method is to initialize the pointer to the start of the traversal. I have an additional getNext method that obtains the item after this reset method put the pointer back in the beginning."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680470796,"post_id":75914420,"comment_id":133899978,"body_markdown":"@teapot418 is correct that you need the parent link -- one of the problems with the code in your previous question, as I mentioned, was that you were not setting the parent link.","body":"@teapot418 is correct that you need the parent link -- one of the problems with the code in your previous question, as I mentioned, was that you were not setting the parent link."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1680476177,"post_id":75914420,"comment_id":133900541,"body_markdown":"The premise doesn&#39;t make sense from a design perspective.  What you want is to create an `Iterator` that knows how to traverse the tree in the desired order, and store the &quot;current&quot; position there.","body":"The premise doesn&#39;t make sense from a design perspective.  What you want is to create an <code>Iterator</code> that knows how to traverse the tree in the desired order, and store the &quot;current&quot; position there."},{"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"score":0,"creation_date":1680477009,"post_id":75914420,"comment_id":133900623,"body_markdown":"I totally agree with you. I&#39;ll say tho that&#39;s what the getNext method does. It doesn&#39;t seem necessary to have this reset method, but alas that&#39;s my task.","body":"I totally agree with you. I&#39;ll say tho that&#39;s what the getNext method does. It doesn&#39;t seem necessary to have this reset method, but alas that&#39;s my task."}],"owner":{"account_id":26940060,"reputation":43,"user_id":20511050,"display_name":"Marcus Availo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680466808,"creation_date":1680466808,"question_id":75914420,"body_markdown":"So the goal is to reset or initialize the current position of the node for a given order type (ie. in-order, pre-order, post-order). We can assume there is at least one element in the tree, and we need to set the pointer to the relevant position based on the starting position of the order type. The function can only have the int orderType as its parameter.\r\n\r\n\r\n\r\n\r\nThis is what I came up with, my issue is I don&#39;t know if its right and I don&#39;t know how to test if its right.\r\n\r\n```\r\npublic class BinarySearchTree {\r\n    TreeNode root;\r\n    TreeNode current;\r\n\r\n    public class TreeNode {\r\n        Comparable data;\r\n        TreeNode left;\r\n        TreeNode right;\r\n\r\n        public TreeNode(Comparable data) {\r\n            this.data = data;\r\n            this.left = null;\r\n            this.right = null;\r\n        }\r\n    }\r\n\r\n    public static final int INORDER = 1;\r\n    public static final int PREORDER = 2;\r\n    public static final int POSTORDER = 3;\r\n\r\n    public void reset(int orderType) {\r\n        if (root == null) {\r\n            return;\r\n        }\r\n        switch (orderType) {\r\n            case PREORDER:\r\n                current = root;\r\n                break;\r\n            case INORDER:\r\n                TreeNode node = root;\r\n                while (node.left != null) {\r\n                    node = node.left;\r\n                }\r\n                current = node;\r\n                break;\r\n            case POSTORDER:\r\n                node = root;\r\n                while (node.right != null) {\r\n                    node = node.right;\r\n                }\r\n                current = node;\r\n                break;\r\n        }\r\n    }\r\n```","title":"I need to create a reset method for a binary search tree in java","body":"<p>So the goal is to reset or initialize the current position of the node for a given order type (ie. in-order, pre-order, post-order). We can assume there is at least one element in the tree, and we need to set the pointer to the relevant position based on the starting position of the order type. The function can only have the int orderType as its parameter.</p>\n<p>This is what I came up with, my issue is I don't know if its right and I don't know how to test if its right.</p>\n<pre><code>public class BinarySearchTree {\n    TreeNode root;\n    TreeNode current;\n\n    public class TreeNode {\n        Comparable data;\n        TreeNode left;\n        TreeNode right;\n\n        public TreeNode(Comparable data) {\n            this.data = data;\n            this.left = null;\n            this.right = null;\n        }\n    }\n\n    public static final int INORDER = 1;\n    public static final int PREORDER = 2;\n    public static final int POSTORDER = 3;\n\n    public void reset(int orderType) {\n        if (root == null) {\n            return;\n        }\n        switch (orderType) {\n            case PREORDER:\n                current = root;\n                break;\n            case INORDER:\n                TreeNode node = root;\n                while (node.left != null) {\n                    node = node.left;\n                }\n                current = node;\n                break;\n            case POSTORDER:\n                node = root;\n                while (node.right != null) {\n                    node = node.right;\n                }\n                current = node;\n                break;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680465923,"creation_date":1680465923,"answer_id":75914351,"question_id":75913904,"body_markdown":"If you want to cancel your pending `Runnable`, you have to pass *that specific `Runnable` object* to the *remove callbacks* call. Right now, when you post the Runnable, you&#39;re not keeping a reference to it:\r\n\r\n````\r\nfun setViewToDisappear(view: View) {\r\n    // you&#39;re only storing this in a variable local to the function\r\n    val hideViewRunnable = Runnable { hideView(view) }\r\n    handler.postDelayed(hideViewRunnable, 3000)\r\n}\r\n````\r\n\r\nAnd the one you&#39;re trying to cancel is a *different* Runnable (that happens to have the same name), which is local to the `init` block (and captured by the touch listener closure - i.e. you referred to it in the lambda, so that block has a reference to it)\r\n\r\n````\r\n// in the init block\r\n\r\n// this is a local variable \r\nval hideViewRunnable = Runnable { hideView(videoOptionsDoItYourself) }\r\n\r\n...\r\n\r\n// in the touch listener defined in the init block\r\ncancelSetViewToDisappear(hideViewRunnable)\r\n````\r\n\r\nSo you&#39;re passing a different `Runnable` instance to your cancel function.\r\n\r\n----\r\n\r\nYou have two options - probably the easiest is just to make `hideViewRunnable` a top-level variable, so `setViewToDisappear` can reference it instead of having to create a new instance. That way you just post and cancel the same `Runnable`.\r\n\r\nAnother option is to use the `Handler` *post* and *remove* functions that take a *token* parameter - that can be anything, it&#39;s just a shared object that lets you group stuff together by using the same token object, and you can easily cancel anything that uses the same token. Same idea as re-using the same Runnable, except you&#39;re using a shared token object to identify them instead","title":"How do I properly cancel pending runnable and keep the custom views visible whilst user is interacting with them?","body":"<p>If you want to cancel your pending <code>Runnable</code>, you have to pass <em>that specific <code>Runnable</code> object</em> to the <em>remove callbacks</em> call. Right now, when you post the Runnable, you're not keeping a reference to it:</p>\n<pre><code>fun setViewToDisappear(view: View) {\n    // you're only storing this in a variable local to the function\n    val hideViewRunnable = Runnable { hideView(view) }\n    handler.postDelayed(hideViewRunnable, 3000)\n}\n</code></pre>\n<p>And the one you're trying to cancel is a <em>different</em> Runnable (that happens to have the same name), which is local to the <code>init</code> block (and captured by the touch listener closure - i.e. you referred to it in the lambda, so that block has a reference to it)</p>\n<pre><code>// in the init block\n\n// this is a local variable \nval hideViewRunnable = Runnable { hideView(videoOptionsDoItYourself) }\n\n...\n\n// in the touch listener defined in the init block\ncancelSetViewToDisappear(hideViewRunnable)\n</code></pre>\n<p>So you're passing a different <code>Runnable</code> instance to your cancel function.</p>\n<hr />\n<p>You have two options - probably the easiest is just to make <code>hideViewRunnable</code> a top-level variable, so <code>setViewToDisappear</code> can reference it instead of having to create a new instance. That way you just post and cancel the same <code>Runnable</code>.</p>\n<p>Another option is to use the <code>Handler</code> <em>post</em> and <em>remove</em> functions that take a <em>token</em> parameter - that can be anything, it's just a shared object that lets you group stuff together by using the same token object, and you can easily cancel anything that uses the same token. Same idea as re-using the same Runnable, except you're using a shared token object to identify them instead</p>\n"}],"owner":{"account_id":15668798,"reputation":396,"user_id":11305890,"display_name":"Klem Lloyd Mwenya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914351,"answer_count":1,"score":0,"last_activity_date":1680465923,"creation_date":1680460181,"question_id":75913904,"body_markdown":"I have made a custom video player, and it&#39;s working mostly fine. However, there is a bug that I want to get rid of. I could use some help figuring out what I&#39;m doing wrong. For more context, I am setting a `postDelay Runnable` to hide the view after 3 seconds, which is working. I, however, **want to be able to cancel that runnable if the user keeps interacting with the video view and its options**. Here is the code, and what I have tried so far is to remove pending callbacks and messages, which, is not responding as expected, as the views keep disappearing after the 3 seconds that I set earlier: &lt;br /&gt;\r\n**NB: I shared the whole class to give you a more clear context of my implementation**\r\n```\r\npackage consumer.app.co.za.rain.clean.ui.view.custom.doityourselfvideoplayer\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.content.Context\r\nimport android.net.Uri\r\nimport android.os.Handler\r\nimport android.os.Looper\r\nimport android.util.AttributeSet\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.MotionEvent\r\nimport android.view.View\r\nimport android.widget.FrameLayout\r\nimport android.widget.SeekBar\r\nimport consumer.app.co.za.rain.R\r\nimport consumer.app.co.za.rain.databinding.MiniScreenVideoPlayerLayoutBinding\r\n\r\n@SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\nclass VideoPlayerMiniScreen @JvmOverloads constructor(\r\n    context: Context,\r\n    attrs: AttributeSet? = null,\r\n    defStyleAttr: Int = 0\r\n) : FrameLayout(context, attrs, defStyleAttr) {\r\n\r\n    /** Initialize global/class variables */\r\n    private val binding = MiniScreenVideoPlayerLayoutBinding.inflate(\r\n        LayoutInflater.from(context),\r\n        this,\r\n        true\r\n    )\r\n\r\n    private var seekBarTracking = false\r\n    private val handler = Handler(Looper.getMainLooper())\r\n\r\n    private val updateProgressRunnable = object : Runnable {\r\n        override fun run() {\r\n            if (!seekBarTracking &amp;&amp; binding.vvDoItYourself.isPlaying) {\r\n                val currentPosition = binding.vvDoItYourself.currentPosition\r\n                binding.seekBarDoItYourself.progress = currentPosition\r\n            }\r\n            handler.postDelayed(this, 16)\r\n        }\r\n    }\r\n\r\n    init {\r\n        with(binding) {\r\n\r\n            /** Set up video player widgets */\r\n            videoOptionsDoItYourself.apply {\r\n                visibility = VISIBLE\r\n                z = 2F\r\n            }\r\n            ivPlayPause.apply {\r\n                alpha = 1F\r\n                visibility = GONE\r\n                z = 2F\r\n            }\r\n\r\n            val hideViewRunnable = Runnable {\r\n                hideView(videoOptionsDoItYourself)\r\n            }\r\n\r\n            /** Set up video player */\r\n            vvDoItYourself.run {\r\n\r\n                z = 1F\r\n\r\n                setOnTouchListener { _, event -&gt;\r\n                    when (event.action) {\r\n                        MotionEvent.ACTION_DOWN -&gt; {\r\n                            /** Remove the pending post of setViewToDisappear callback */\r\n                            cancelSetViewToDisappear(hideViewRunnable)\r\n\r\n                            Log.d(&quot;DIY&quot;, &quot;Touched Down&quot;)\r\n\r\n                            if (ivPlayPause.visibility == VISIBLE) togglePlayPause()\r\n                            else {\r\n\r\n                                Log.d(&quot;DIY&quot;, &quot;Released&quot;)\r\n                                showView(ivPlayPause)\r\n                                showView(videoOptionsDoItYourself)\r\n                            }\r\n                        }\r\n                        MotionEvent.ACTION_UP -&gt; {\r\n                            setViewToDisappear(ivPlayPause)\r\n                            setViewToDisappear(videoOptionsDoItYourself)\r\n                        }\r\n                    }\r\n                    true\r\n                }\r\n\r\n                setOnPreparedListener { mediaPlayer -&gt;\r\n                    seekBarDoItYourself.max = mediaPlayer.duration\r\n\r\n                    /** Start in a stale state */\r\n                    if (mediaPlayer.isPlaying) mediaPlayer.stop()\r\n\r\n                    mediaPlayer.setOnSeekCompleteListener {\r\n                        val currentPosition = mediaPlayer.currentPosition\r\n                        seekBarDoItYourself.progress = currentPosition\r\n                    }\r\n\r\n                    /** Update Progress Bar in real-time */\r\n                    handler.post(updateProgressRunnable)\r\n                }\r\n\r\n                setOnCompletionListener { mediaPlayer -&gt;\r\n                    ivPlayPause.setImageResource(R.drawable.baseline_play_arrow_24)\r\n                    showView(ivPlayPause)\r\n                    seekBarDoItYourself.progress = 0\r\n                    mediaPlayer.seekTo(0)\r\n                    handler.removeCallbacks(updateProgressRunnable)\r\n                }\r\n            }\r\n\r\n            ivPlayPause.setOnClickListener {\r\n                togglePlayPause()\r\n            }\r\n\r\n            seekBarDoItYourself.setOnSeekBarChangeListener(object :\r\n                SeekBar.OnSeekBarChangeListener {\r\n                override fun onProgressChanged(\r\n                    seekBar: SeekBar?,\r\n                    progress: Int,\r\n                    fromUser: Boolean\r\n                ) {\r\n                    // Update the seek bar&#39;s progress as the video plays\r\n                    if (!seekBarTracking) {\r\n                        if (vvDoItYourself.isPlaying) {\r\n                            val currentPosition = vvDoItYourself.currentPosition\r\n                            seekBarDoItYourself.progress = currentPosition\r\n                        }\r\n                    }\r\n\r\n                    // Update the video&#39;s position to the seek bar&#39;s progress\r\n                    if (fromUser) {\r\n                        vvDoItYourself.seekTo(progress)\r\n                        seekBarDoItYourself.progress = progress\r\n                    }\r\n                }\r\n\r\n                override fun onStartTrackingTouch(seekBar: SeekBar?) {\r\n                    seekBarTracking = true\r\n                }\r\n\r\n                override fun onStopTrackingTouch(seekBar: SeekBar?) {\r\n                    seekBarTracking = false\r\n                    seekBar?.let {\r\n                        val progress = it.progress\r\n                        vvDoItYourself.seekTo(progress)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n\r\n    fun setVideoURI(uri: Uri) {\r\n        binding.vvDoItYourself.setVideoURI(uri)\r\n    }\r\n\r\n    private fun togglePlayPause() {\r\n        with(binding) {\r\n            if (!vvDoItYourself.isPlaying) {\r\n                ivPlayPause.setImageResource(R.drawable.baseline_pause_24)\r\n                vvDoItYourself.start()\r\n            } else {\r\n                ivPlayPause.setImageResource(R.drawable.baseline_play_arrow_24)\r\n                vvDoItYourself.pause()\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set to be called when controls are hidden\r\n     */\r\n    private fun showView(view: View) {\r\n        view.run {\r\n            visibility = VISIBLE\r\n            alpha = 0F\r\n            animate().alpha(1F).setDuration(500).withEndAction {\r\n\r\n            }.start()\r\n        }\r\n    }\r\n\r\n    private fun hideView(view: View) {\r\n        view.run {\r\n            alpha = 1F\r\n            animate().alpha(0F).setDuration(500).withEndAction {\r\n                view.visibility = GONE\r\n            }.start()\r\n        }\r\n    }\r\n\r\n    fun setViewToDisappear(view: View) {\r\n        val hideViewRunnable = Runnable {\r\n            hideView(view)\r\n        }\r\n        handler.postDelayed(hideViewRunnable, 3000)\r\n    }\r\n\r\n    fun cancelSetViewToDisappear(runnable: Runnable) {\r\n        handler.removeCallbacksAndMessages(runnable)\r\n    }\r\n\r\n\r\n}","title":"How do I properly cancel pending runnable and keep the custom views visible whilst user is interacting with them?","body":"<p>I have made a custom video player, and it's working mostly fine. However, there is a bug that I want to get rid of. I could use some help figuring out what I'm doing wrong. For more context, I am setting a <code>postDelay Runnable</code> to hide the view after 3 seconds, which is working. I, however, <strong>want to be able to cancel that runnable if the user keeps interacting with the video view and its options</strong>. Here is the code, and what I have tried so far is to remove pending callbacks and messages, which, is not responding as expected, as the views keep disappearing after the 3 seconds that I set earlier: <br />\n<strong>NB: I shared the whole class to give you a more clear context of my implementation</strong></p>\n<pre><code>package consumer.app.co.za.rain.clean.ui.view.custom.doityourselfvideoplayer\n\nimport android.annotation.SuppressLint\nimport android.content.Context\nimport android.net.Uri\nimport android.os.Handler\nimport android.os.Looper\nimport android.util.AttributeSet\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.MotionEvent\nimport android.view.View\nimport android.widget.FrameLayout\nimport android.widget.SeekBar\nimport consumer.app.co.za.rain.R\nimport consumer.app.co.za.rain.databinding.MiniScreenVideoPlayerLayoutBinding\n\n@SuppressLint(&quot;ClickableViewAccessibility&quot;)\nclass VideoPlayerMiniScreen @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyleAttr: Int = 0\n) : FrameLayout(context, attrs, defStyleAttr) {\n\n    /** Initialize global/class variables */\n    private val binding = MiniScreenVideoPlayerLayoutBinding.inflate(\n        LayoutInflater.from(context),\n        this,\n        true\n    )\n\n    private var seekBarTracking = false\n    private val handler = Handler(Looper.getMainLooper())\n\n    private val updateProgressRunnable = object : Runnable {\n        override fun run() {\n            if (!seekBarTracking &amp;&amp; binding.vvDoItYourself.isPlaying) {\n                val currentPosition = binding.vvDoItYourself.currentPosition\n                binding.seekBarDoItYourself.progress = currentPosition\n            }\n            handler.postDelayed(this, 16)\n        }\n    }\n\n    init {\n        with(binding) {\n\n            /** Set up video player widgets */\n            videoOptionsDoItYourself.apply {\n                visibility = VISIBLE\n                z = 2F\n            }\n            ivPlayPause.apply {\n                alpha = 1F\n                visibility = GONE\n                z = 2F\n            }\n\n            val hideViewRunnable = Runnable {\n                hideView(videoOptionsDoItYourself)\n            }\n\n            /** Set up video player */\n            vvDoItYourself.run {\n\n                z = 1F\n\n                setOnTouchListener { _, event -&gt;\n                    when (event.action) {\n                        MotionEvent.ACTION_DOWN -&gt; {\n                            /** Remove the pending post of setViewToDisappear callback */\n                            cancelSetViewToDisappear(hideViewRunnable)\n\n                            Log.d(&quot;DIY&quot;, &quot;Touched Down&quot;)\n\n                            if (ivPlayPause.visibility == VISIBLE) togglePlayPause()\n                            else {\n\n                                Log.d(&quot;DIY&quot;, &quot;Released&quot;)\n                                showView(ivPlayPause)\n                                showView(videoOptionsDoItYourself)\n                            }\n                        }\n                        MotionEvent.ACTION_UP -&gt; {\n                            setViewToDisappear(ivPlayPause)\n                            setViewToDisappear(videoOptionsDoItYourself)\n                        }\n                    }\n                    true\n                }\n\n                setOnPreparedListener { mediaPlayer -&gt;\n                    seekBarDoItYourself.max = mediaPlayer.duration\n\n                    /** Start in a stale state */\n                    if (mediaPlayer.isPlaying) mediaPlayer.stop()\n\n                    mediaPlayer.setOnSeekCompleteListener {\n                        val currentPosition = mediaPlayer.currentPosition\n                        seekBarDoItYourself.progress = currentPosition\n                    }\n\n                    /** Update Progress Bar in real-time */\n                    handler.post(updateProgressRunnable)\n                }\n\n                setOnCompletionListener { mediaPlayer -&gt;\n                    ivPlayPause.setImageResource(R.drawable.baseline_play_arrow_24)\n                    showView(ivPlayPause)\n                    seekBarDoItYourself.progress = 0\n                    mediaPlayer.seekTo(0)\n                    handler.removeCallbacks(updateProgressRunnable)\n                }\n            }\n\n            ivPlayPause.setOnClickListener {\n                togglePlayPause()\n            }\n\n            seekBarDoItYourself.setOnSeekBarChangeListener(object :\n                SeekBar.OnSeekBarChangeListener {\n                override fun onProgressChanged(\n                    seekBar: SeekBar?,\n                    progress: Int,\n                    fromUser: Boolean\n                ) {\n                    // Update the seek bar's progress as the video plays\n                    if (!seekBarTracking) {\n                        if (vvDoItYourself.isPlaying) {\n                            val currentPosition = vvDoItYourself.currentPosition\n                            seekBarDoItYourself.progress = currentPosition\n                        }\n                    }\n\n                    // Update the video's position to the seek bar's progress\n                    if (fromUser) {\n                        vvDoItYourself.seekTo(progress)\n                        seekBarDoItYourself.progress = progress\n                    }\n                }\n\n                override fun onStartTrackingTouch(seekBar: SeekBar?) {\n                    seekBarTracking = true\n                }\n\n                override fun onStopTrackingTouch(seekBar: SeekBar?) {\n                    seekBarTracking = false\n                    seekBar?.let {\n                        val progress = it.progress\n                        vvDoItYourself.seekTo(progress)\n                    }\n                }\n            })\n        }\n\n\n    }\n\n    fun setVideoURI(uri: Uri) {\n        binding.vvDoItYourself.setVideoURI(uri)\n    }\n\n    private fun togglePlayPause() {\n        with(binding) {\n            if (!vvDoItYourself.isPlaying) {\n                ivPlayPause.setImageResource(R.drawable.baseline_pause_24)\n                vvDoItYourself.start()\n            } else {\n                ivPlayPause.setImageResource(R.drawable.baseline_play_arrow_24)\n                vvDoItYourself.pause()\n            }\n        }\n    }\n\n    /**\n     * Set to be called when controls are hidden\n     */\n    private fun showView(view: View) {\n        view.run {\n            visibility = VISIBLE\n            alpha = 0F\n            animate().alpha(1F).setDuration(500).withEndAction {\n\n            }.start()\n        }\n    }\n\n    private fun hideView(view: View) {\n        view.run {\n            alpha = 1F\n            animate().alpha(0F).setDuration(500).withEndAction {\n                view.visibility = GONE\n            }.start()\n        }\n    }\n\n    fun setViewToDisappear(view: View) {\n        val hideViewRunnable = Runnable {\n            hideView(view)\n        }\n        handler.postDelayed(hideViewRunnable, 3000)\n    }\n\n    fun cancelSetViewToDisappear(runnable: Runnable) {\n        handler.removeCallbacksAndMessages(runnable)\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1050926,"reputation":2756,"user_id":1054897,"accept_rate":71,"display_name":"Pankaj Gadge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524900051,"creation_date":1524900051,"answer_id":50073973,"question_id":50073875,"body_markdown":"You can use JPA&#39;s `CriteriaBuilder` API like below\r\n\r\n    // Create entity manager factory first\r\n    // Make sure the package name you specify `com.db.entity` matched what you specify in `pesistence.xml`\r\n    EntityManagerFactory entityManagerFactory = Persistence\r\n    \t\t.createEntityManagerFactory(&quot;com.db.entity&quot;);\r\n    EntityManager em = entityManagerFactory.createEntityManager();\r\n\r\n    \r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;User&gt; cq = cb.createQuery(Accounts.class);\r\n    cq.where(cb.equal(join.get(&quot;name&quot;), &quot;ordinary&quot;));\r\n    TypedQuery&lt;Accounts&gt; tq = em.createQuery(cq);\r\n    List&lt;Accounts&gt; accounts = tq.getResultList();\r\n    \r\n    return accounts;","title":"Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated","body":"<p>You can use JPA's <code>CriteriaBuilder</code> API like below</p>\n\n<pre><code>// Create entity manager factory first\n// Make sure the package name you specify `com.db.entity` matched what you specify in `pesistence.xml`\nEntityManagerFactory entityManagerFactory = Persistence\n        .createEntityManagerFactory(\"com.db.entity\");\nEntityManager em = entityManagerFactory.createEntityManager();\n\n\nCriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;User&gt; cq = cb.createQuery(Accounts.class);\ncq.where(cb.equal(join.get(\"name\"), \"ordinary\"));\nTypedQuery&lt;Accounts&gt; tq = em.createQuery(cq);\nList&lt;Accounts&gt; accounts = tq.getResultList();\n\nreturn accounts;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524900675,"creation_date":1524900372,"answer_id":50074020,"question_id":50073875,"body_markdown":"This log is a warning not an error :\r\n\r\n&gt; Apr 28, 2018 12:24:45 PM org.hibernate.internal.SessionImpl\r\n&gt; createCriteria WARN: HHH90000022: Hibernate&#39;s legacy\r\n&gt; org.hibernate.Criteria API is deprecated; use the JPA\r\n&gt; javax.persistence.criteria.CriteriaQuery instead\r\n\r\nIt encourages you to pass by the JPA API as you use Hibernate. \r\n \r\nAt the root of your problem, you manipulate a `Session` (Hibernate) instead of a `EntityManager`(JPA).   \r\nDoing the reverse will provoke many changes in your actual code as most of the imports and also the way to process will be different.   \r\nYou cannot change just one thing.   \r\n\r\nHere is the JPA way (imports included) :\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.criteria.CriteriaBuilder;\r\n    import javax.persistence.criteria.CriteriaQuery;\r\n    import javax.persistence.criteria.Root;\r\n    import javax.transaction.Transactional;\r\n\r\n    @Transactional\r\n    public class AccountDAOImpl implements AccountDAO {\r\n    \r\n        @Autowired\r\n        private EntityManager em;    \r\n    \r\n        @Override\r\n        public ACCOUNTS findAccount(String userName) {    \r\n            final CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\r\n            CriteriaQuery&lt;ACCOUNTS&gt; crit = criteriaBuilder.createQuery(ACCOUNTS.class);\r\n            Root&lt;ACCOUNTS&gt; root = crit.from(ACCOUNTS.class);\r\n            crit.where(criteriaBuilder.equal(root.get(&quot;user_name&quot;), userName))\r\n                .distinct(true);\r\n            return em.createQuery(crit).getSingleResult();      \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated","body":"<p>This log is a warning not an error :</p>\n\n<blockquote>\n  <p>Apr 28, 2018 12:24:45 PM org.hibernate.internal.SessionImpl\n  createCriteria WARN: HHH90000022: Hibernate's legacy\n  org.hibernate.Criteria API is deprecated; use the JPA\n  javax.persistence.criteria.CriteriaQuery instead</p>\n</blockquote>\n\n<p>It encourages you to pass by the JPA API as you use Hibernate. </p>\n\n<p>At the root of your problem, you manipulate a <code>Session</code> (Hibernate) instead of a <code>EntityManager</code>(JPA).<br>\nDoing the reverse will provoke many changes in your actual code as most of the imports and also the way to process will be different.<br>\nYou cannot change just one thing.   </p>\n\n<p>Here is the JPA way (imports included) :</p>\n\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Root;\nimport javax.transaction.Transactional;\n\n@Transactional\npublic class AccountDAOImpl implements AccountDAO {\n\n    @Autowired\n    private EntityManager em;    \n\n    @Override\n    public ACCOUNTS findAccount(String userName) {    \n        final CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\n        CriteriaQuery&lt;ACCOUNTS&gt; crit = criteriaBuilder.createQuery(ACCOUNTS.class);\n        Root&lt;ACCOUNTS&gt; root = crit.from(ACCOUNTS.class);\n        crit.where(criteriaBuilder.equal(root.get(\"user_name\"), userName))\n            .distinct(true);\n        return em.createQuery(crit).getSingleResult();      \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28197039,"reputation":1,"user_id":21551493,"display_name":"awende"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680465787,"creation_date":1680465787,"answer_id":75914338,"question_id":50073875,"body_markdown":"An very easy way to migrate hibernate legacy criteria is to use BaseCriteria:\r\nhttps://awsdc.gitlab.io/","title":"Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated","body":"<p>An very easy way to migrate hibernate legacy criteria is to use BaseCriteria:\n<a href=\"https://awsdc.gitlab.io/\" rel=\"nofollow noreferrer\">https://awsdc.gitlab.io/</a></p>\n"}],"owner":{"account_id":3216554,"reputation":93,"user_id":2715085,"accept_rate":14,"display_name":"user2715085"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27971,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680465787,"creation_date":1524899170,"question_id":50073875,"body_markdown":"As I am using Hibernate 5  and it shows error as: \r\n\r\n&gt; Apr 28, 2018 12:24:45 PM org.hibernate.internal.SessionImpl\r\n&gt; createCriteria WARN: HHH90000022: Hibernate&#39;s legacy\r\n&gt; org.hibernate.Criteria API is deprecated; use the JPA\r\n&gt; javax.persistence.criteria.CriteriaQuery instead\r\n\r\n\r\n    @Transactional\r\n    public class AccountDAOImpl implements AccountDAO {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic ACCOUNTS findAccount(String userName) {\r\n    \t\t// TODO Auto-generated method stub//\r\n    \t\t\r\n    \t\tSession session=sessionFactory.getCurrentSession();\r\n    \t\tCriteria crit=session.createCriteria(ACCOUNTS.class).add(Restrictions.eq(&quot;user_name&quot;, userName));\r\n    \t\t//crit.add(Restrictions.eq(&quot;user_name&quot;, userName));\r\n    \t\treturn (ACCOUNTS)crit.uniqueResult();\r\n    \t}\r\n    \r\n    }\r\n\r\ninteraface accountDAO\r\n\r\n    public interface AccountDAO {\r\n    \t\r\n    \t public ACCOUNTS findAccount(String userName );\r\n    \r\n    }\r\n\r\nand model class accounts\r\n\r\n    package org.vikas.shoppingCart.entity;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;ACCOUNTS&quot;)\r\n    public class ACCOUNTS implements Serializable\r\n    {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tpublic static final String ROLE_MANAGER = &quot;MANAGER&quot;;\r\n    \tpublic static final String ROLE_EMPLOYEE = &quot;EMPLOYEE&quot;;\r\n    \t\r\n    \tprivate String user_name;\r\n    \tprivate String user_password;\r\n    \tprivate boolean active;\r\n    \tprivate String user_role;\r\n    \t\r\n    \t@Id\r\n    \t@Column(name=&quot;user_name&quot;,length=50,nullable=false)\r\n    \tpublic String getUser_name() {\r\n    \t\treturn user_name;\r\n    \t}\r\n    \tpublic void setUser_name(String user_name) {\r\n    \t\tthis.user_name = user_name;\r\n    \t}\r\n    \t\r\n    \t@Column(name=&quot;user_password&quot;,length=20,nullable=false)\r\n    \tpublic String getUser_password() {\r\n    \t\treturn user_password;\r\n    \t}\r\n    \tpublic void setUser_password(String user_password) {\r\n    \t\tthis.user_password = user_password;\r\n    \t}\r\n    \t\r\n    \t@Column(name=&quot;active&quot;,length=1,nullable=false)\r\n    \tpublic boolean isActive() {\r\n    \t\treturn active;\r\n    \t}\r\n    \tpublic void setActive(boolean active) {\r\n    \t\tthis.active = active;\r\n    \t}\r\n    \t\r\n    \t@Column(name=&quot;user_role&quot;,length=20,nullable=false)\r\n    \tpublic String getUser_role() {\r\n    \t\treturn user_role;\r\n    \t}\r\n    \tpublic void setUser_role(String user_role) {\r\n    \t\tthis.user_role = user_role;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ACCOUNTS [user_name=&quot; + user_name + &quot;, user_password=&quot; + user_password + &quot;, active=&quot; + active\r\n    \t\t\t\t+ &quot;, user_role=&quot; + user_role + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\nAs I searched and it says to use `CreateBuilder` to avoid deprecation(as i got example of only to show all data in `List`), but I am using add condition here with restrictions.\r\n\r\nKindly help me to how to use `createBuilder` while using condition like I used `add(Restrictions.eq(&quot;user_name&quot;, userName));` in code or  is there any other solution to avoid deprecation?","title":"Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated","body":"<p>As I am using Hibernate 5  and it shows error as:</p>\n<blockquote>\n<p>Apr 28, 2018 12:24:45 PM org.hibernate.internal.SessionImpl\ncreateCriteria WARN: HHH90000022: Hibernate's legacy\norg.hibernate.Criteria API is deprecated; use the JPA\njavax.persistence.criteria.CriteriaQuery instead</p>\n</blockquote>\n<pre><code>@Transactional\npublic class AccountDAOImpl implements AccountDAO {\n    \n    @Autowired\n    private SessionFactory sessionFactory;\n\n\n    @Override\n    public ACCOUNTS findAccount(String userName) {\n        // TODO Auto-generated method stub//\n        \n        Session session=sessionFactory.getCurrentSession();\n        Criteria crit=session.createCriteria(ACCOUNTS.class).add(Restrictions.eq(&quot;user_name&quot;, userName));\n        //crit.add(Restrictions.eq(&quot;user_name&quot;, userName));\n        return (ACCOUNTS)crit.uniqueResult();\n    }\n\n}\n</code></pre>\n<p>interaface accountDAO</p>\n<pre><code>public interface AccountDAO {\n    \n     public ACCOUNTS findAccount(String userName );\n\n}\n</code></pre>\n<p>and model class accounts</p>\n<pre><code>package org.vikas.shoppingCart.entity;\n\nimport java.io.Serializable;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;ACCOUNTS&quot;)\npublic class ACCOUNTS implements Serializable\n{\n    private static final long serialVersionUID = 1L;\n    public static final String ROLE_MANAGER = &quot;MANAGER&quot;;\n    public static final String ROLE_EMPLOYEE = &quot;EMPLOYEE&quot;;\n    \n    private String user_name;\n    private String user_password;\n    private boolean active;\n    private String user_role;\n    \n    @Id\n    @Column(name=&quot;user_name&quot;,length=50,nullable=false)\n    public String getUser_name() {\n        return user_name;\n    }\n    public void setUser_name(String user_name) {\n        this.user_name = user_name;\n    }\n    \n    @Column(name=&quot;user_password&quot;,length=20,nullable=false)\n    public String getUser_password() {\n        return user_password;\n    }\n    public void setUser_password(String user_password) {\n        this.user_password = user_password;\n    }\n    \n    @Column(name=&quot;active&quot;,length=1,nullable=false)\n    public boolean isActive() {\n        return active;\n    }\n    public void setActive(boolean active) {\n        this.active = active;\n    }\n    \n    @Column(name=&quot;user_role&quot;,length=20,nullable=false)\n    public String getUser_role() {\n        return user_role;\n    }\n    public void setUser_role(String user_role) {\n        this.user_role = user_role;\n    }\n    @Override\n    public String toString() {\n        return &quot;ACCOUNTS [user_name=&quot; + user_name + &quot;, user_password=&quot; + user_password + &quot;, active=&quot; + active\n                + &quot;, user_role=&quot; + user_role + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>As I searched and it says to use <code>CreateBuilder</code> to avoid deprecation(as i got example of only to show all data in <code>List</code>), but I am using add condition here with restrictions.</p>\n<p>Kindly help me to how to use <code>createBuilder</code> while using condition like I used <code>add(Restrictions.eq(&quot;user_name&quot;, userName));</code> in code or  is there any other solution to avoid deprecation?</p>\n"},{"tags":["java","unit-testing"],"comments":[{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539235803,"post_id":52752597,"comment_id":92429226,"body_markdown":"sorry but where do you set your initial quantity? what is is preceded by 3 spaces, what that means?","body":"sorry but where do you set your initial quantity? what is is preceded by 3 spaces, what that means?"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539235975,"post_id":52752597,"comment_id":92429288,"body_markdown":"read after it says System.out.println(&quot;Beginning tests.&quot;); that is where I need to write the code for this to work.","body":"read after it says System.out.println(&quot;Beginning tests.&quot;); that is where I need to write the code for this to work."},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539236107,"post_id":52752597,"comment_id":92429335,"body_markdown":"You set it after System.out.println(&quot;Beginning tests.&quot;);","body":"You set it after System.out.println(&quot;Beginning tests.&quot;);"},{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539236789,"post_id":52752597,"comment_id":92429604,"body_markdown":"you have asked how to write tests and added tag unit-testing I was showing you how to write unit tests :) . Print the shown error? which error? and why there should be an error?","body":"you have asked how to write tests and added tag unit-testing I was showing you how to write unit tests :) . Print the shown error? which error? and why there should be an error?"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539236928,"post_id":52752597,"comment_id":92429675,"body_markdown":"what you wrote below was too advanced CallInventoryTagTest.java:6: error: cannot find symbol\n   @Test(expected=YourException.class)","body":"what you wrote below was too advanced CallInventoryTagTest.java:6: error: cannot find symbol    @Test(expected=YourException.class)"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539237006,"post_id":52752597,"comment_id":92429715,"body_markdown":"you need to edit the part where it says // FIXME add unit test for addInventory it should be like public double getNum() or something. I am really confused and I am worrying for this test. please respond asap","body":"you need to edit the part where it says // FIXME add unit test for addInventory it should be like public double getNum() or something. I am really confused and I am worrying for this test. please respond asap"},{"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"score":2,"creation_date":1539237052,"post_id":52752597,"comment_id":92429736,"body_markdown":"What you&#39;re posting here is not a proper Java unit test.  You _can_ exercise Java code by running a main method and running things, but @vmrvictor &#39;s answer below shows the proper way to do it.   The reason why your Test annotation is failing is because you need to import the proper library/classes, and any decent IDE will do that for you.","body":"What you&#39;re posting here is not a proper Java unit test.  You <i>can</i> exercise Java code by running a main method and running things, but @vmrvictor &#39;s answer below shows the proper way to do it.   The reason why your Test annotation is failing is because you need to import the proper library/classes, and any decent IDE will do that for you."},{"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"score":0,"creation_date":1539237060,"post_id":52752597,"comment_id":92429741,"body_markdown":"eclipse will help you to import the classes to compile, if you write after //FIXME that is not a unit test and we are not here to do your homework, but we can help you and I am trying to do so","body":"eclipse will help you to import the classes to compile, if you write after //FIXME that is not a unit test and we are not here to do your homework, but we can help you and I am trying to do so"},{"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"score":0,"creation_date":1539237183,"post_id":52752597,"comment_id":92429791,"body_markdown":"How would a run a main method. How do I do that&gt;","body":"How would a run a main method. How do I do that&gt;"},{"owner":{"account_id":1511352,"reputation":1,"user_id":1413395,"accept_rate":92,"display_name":"πάντα ῥεῖ"},"score":2,"creation_date":1539543320,"post_id":52752597,"comment_id":92530409,"body_markdown":"@Oceanman Do not vandalize your questions in that manner. That&#39;s unacceptable behavior here! Note that you can simply delete your question unless there&#39;s an upvoted or accepted answer given.","body":"@Oceanman Do not vandalize your questions in that manner. That&#39;s unacceptable behavior here! Note that you can simply delete your question unless there&#39;s an upvoted or accepted answer given."}],"answers":[{"tags":[],"owner":{"account_id":1638261,"reputation":703,"user_id":1511193,"display_name":"vmrvictor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539237641,"creation_date":1539235675,"answer_id":52752802,"question_id":52752597,"body_markdown":"Your code should be located in `src/main` for source code and `src/test` for tests.\r\nThen when you add a test for a class `A` in `package a;` and located at `src/main` then you write `ATest` in `package a;` located in `src/test`.\r\n\r\nin your example the test class should look similar to:\r\n    \r\n    public class CallInventoryTagTest {\r\n       @Test(expected=YourException.class)\r\n       public static void shouldThrowYourExceptionWhenX () {\r\n           //given\r\n           InventoryTag redSweater = new InventoryTag();\r\n           int sweaterShipmen=25;\r\n           int sweaterInventoryBefore;\r\n           //when\r\n           // that&#39;s what you need to write after your FIXME\r\n           sweaterInventoryBefore = redSweater.getQuantityRemaining(); \r\n           redSweater.addInventory(sweaterShipmen)  //calling addinventor with parameter sweaterShipment\r\n           //then\r\n           fail(&quot;should throw an error because of X&quot;);\r\n       }\r\n\r\n     }\r\n","title":"Trying to write unit test cannot work it out?","body":"<p>Your code should be located in <code>src/main</code> for source code and <code>src/test</code> for tests.\nThen when you add a test for a class <code>A</code> in <code>package a;</code> and located at <code>src/main</code> then you write <code>ATest</code> in <code>package a;</code> located in <code>src/test</code>.</p>\n\n<p>in your example the test class should look similar to:</p>\n\n<pre><code>public class CallInventoryTagTest {\n   @Test(expected=YourException.class)\n   public static void shouldThrowYourExceptionWhenX () {\n       //given\n       InventoryTag redSweater = new InventoryTag();\n       int sweaterShipmen=25;\n       int sweaterInventoryBefore;\n       //when\n       // that's what you need to write after your FIXME\n       sweaterInventoryBefore = redSweater.getQuantityRemaining(); \n       redSweater.addInventory(sweaterShipmen)  //calling addinventor with parameter sweaterShipment\n       //then\n       fail(\"should throw an error because of X\");\n   }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2922632,"reputation":2034,"user_id":3540652,"display_name":"Mumrah81"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539263216,"creation_date":1539263216,"answer_id":52760841,"question_id":52752597,"body_markdown":"It feels like homework.\r\n\r\nI think your teacher expects a simple math test to show that InventoryTag is not inited\r\nsuccessfully when a number less than or equal to 10 is provided.\r\n\r\nSomething like:\r\n\r\n    // ===== Code from file CallInventoryTag.java =====\r\n    public class CallInventoryTag {\r\n       public static void main (String [] args) {\r\n           InventoryTag redSweater = new InventoryTag();\r\n           int sweaterShipment;\r\n           int sweaterInventoryBefore;\r\n\r\n           sweaterInventoryBefore = redSweater.getQuantityRemaining();\r\n           sweaterInventoryBefore = 10;\r\n           sweaterShipment = 50;\r\n\r\n           System.out.println(&quot;Beginning tests.&quot;);\r\n\r\n           // FIXME add unit test for addInventory\r\n           redSweater.addInventory(sweaterInventoryBefore);\r\n           redSweater.addInventory(sweaterShipment);\r\n\r\n           if (sweaterInventoryBefore + sweaterShipment != redSweater.getQuantityRemaining()) {\r\n               System.out.println(&quot; UNIT TEST FAILED: addInventory()&quot;);\r\n           }\r\n\r\n           System.out.println(&quot;Tests complete.&quot;);\r\n       }\r\n\r\n     }// ===== end =====\r\n\r\nThe test fails because the condition in method addInventory prevents to add 10 or less items to the inventory. ","title":"Trying to write unit test cannot work it out?","body":"<p>It feels like homework.</p>\n\n<p>I think your teacher expects a simple math test to show that InventoryTag is not inited\nsuccessfully when a number less than or equal to 10 is provided.</p>\n\n<p>Something like:</p>\n\n<pre><code>// ===== Code from file CallInventoryTag.java =====\npublic class CallInventoryTag {\n   public static void main (String [] args) {\n       InventoryTag redSweater = new InventoryTag();\n       int sweaterShipment;\n       int sweaterInventoryBefore;\n\n       sweaterInventoryBefore = redSweater.getQuantityRemaining();\n       sweaterInventoryBefore = 10;\n       sweaterShipment = 50;\n\n       System.out.println(\"Beginning tests.\");\n\n       // FIXME add unit test for addInventory\n       redSweater.addInventory(sweaterInventoryBefore);\n       redSweater.addInventory(sweaterShipment);\n\n       if (sweaterInventoryBefore + sweaterShipment != redSweater.getQuantityRemaining()) {\n           System.out.println(\" UNIT TEST FAILED: addInventory()\");\n       }\n\n       System.out.println(\"Tests complete.\");\n   }\n\n }// ===== end =====\n</code></pre>\n\n<p>The test fails because the condition in method addInventory prevents to add 10 or less items to the inventory. </p>\n"},{"tags":[],"owner":{"account_id":14469790,"reputation":21,"user_id":10452159,"display_name":"CarverOfChoice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540488762,"creation_date":1540488762,"answer_id":52995042,"question_id":52752597,"body_markdown":"This is the solution the class is looking for (it took me a while to figure out the particular solution they wanted):\r\n\r\n    // ===== Code from file InventoryTag.java =====\r\n    public class InventoryTag {\r\n       private int quantityRemaining;\r\n    \r\n       public InventoryTag() {\r\n          quantityRemaining = 0;\r\n       }\r\n    \r\n       public int getQuantityRemaining() {\r\n          return quantityRemaining;\r\n       }\r\n    \r\n       public void addInventory(int numItems) {\r\n          if (numItems &gt; 10) {\r\n             quantityRemaining = quantityRemaining + numItems;\r\n          }\r\n       }\r\n    }\r\n    // ===== end =====\r\n    \r\n    // ===== Code from file CallInventoryTag.java =====\r\n    public class CallInventoryTag {\r\n       public static void main (String [] args) {\r\n          InventoryTag redSweater = new InventoryTag();\r\n          int sweaterShipment;\r\n          int sweaterInventoryBefore;\r\n    \r\n          sweaterInventoryBefore = redSweater.getQuantityRemaining();\r\n          sweaterShipment = 25;\r\n    \r\n          System.out.println(&quot;Beginning tests.&quot;);\r\n    \r\n          // FIXME add unit test for addInventory\r\n          /* Your solution starts here  */    \r\n           redSweater.addInventory(sweaterShipment);\r\n    \r\n          if (sweaterInventoryBefore + sweaterShipment != redSweater.getQuantityRemaining()) {\r\n             System.out.println(&quot;   UNIT TEST FAILED: addInventory()&quot;);\r\n          }\r\n    \r\n          /* End of your solution*/    \r\n    \r\n          System.out.println(&quot;Tests complete.&quot;);\r\n       }\r\n    }\r\n    // ===== end =====","title":"Trying to write unit test cannot work it out?","body":"<p>This is the solution the class is looking for (it took me a while to figure out the particular solution they wanted):</p>\n\n<pre><code>// ===== Code from file InventoryTag.java =====\npublic class InventoryTag {\n   private int quantityRemaining;\n\n   public InventoryTag() {\n      quantityRemaining = 0;\n   }\n\n   public int getQuantityRemaining() {\n      return quantityRemaining;\n   }\n\n   public void addInventory(int numItems) {\n      if (numItems &gt; 10) {\n         quantityRemaining = quantityRemaining + numItems;\n      }\n   }\n}\n// ===== end =====\n\n// ===== Code from file CallInventoryTag.java =====\npublic class CallInventoryTag {\n   public static void main (String [] args) {\n      InventoryTag redSweater = new InventoryTag();\n      int sweaterShipment;\n      int sweaterInventoryBefore;\n\n      sweaterInventoryBefore = redSweater.getQuantityRemaining();\n      sweaterShipment = 25;\n\n      System.out.println(\"Beginning tests.\");\n\n      // FIXME add unit test for addInventory\n      /* Your solution starts here  */    \n       redSweater.addInventory(sweaterShipment);\n\n      if (sweaterInventoryBefore + sweaterShipment != redSweater.getQuantityRemaining()) {\n         System.out.println(\"   UNIT TEST FAILED: addInventory()\");\n      }\n\n      /* End of your solution*/    \n\n      System.out.println(\"Tests complete.\");\n   }\n}\n// ===== end =====\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22890355,"reputation":1,"user_id":17030568,"display_name":"Rick Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680465143,"creation_date":1680465143,"answer_id":75914288,"question_id":52752597,"body_markdown":"    // ===== Code from file InventoryTag.java =====\r\n    public class InventoryTag {\r\n       private int quantityRemaining;\r\n    \r\n       public InventoryTag() {\r\n          quantityRemaining = 0;\r\n       }\r\n    \r\n       public int getQuantityRemaining() {\r\n          return quantityRemaining;\r\n       }\r\n    \r\n       public void addInventory(int numItems) {\r\n          if (numItems &gt; 10) {\r\n             quantityRemaining = quantityRemaining + numItems;\r\n          }\r\n       }\r\n    }\r\n    // ===== end =====\r\n    \r\n    // ===== Code from file CallInventoryTag.java =====\r\n    import java.util.Scanner;\r\n    \r\n    public class CallInventoryTag {\r\n       public static void main(String [] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          InventoryTag redSweater = new InventoryTag();\r\n          int sweaterShipment;\r\n          int sweaterInventoryBefore;\r\n    \r\n          sweaterInventoryBefore = redSweater.getQuantityRemaining();\r\n          sweaterShipment = scnr.nextInt();\r\n    \r\n          System.out.println(&quot;Beginning tests.&quot;);\r\n    \r\n          // FIXME add unit test for addInventory\r\n          redSweater.addInventory(sweaterShipment);\r\n          redSweater.getQuantityRemaining();\r\n          if (sweaterShipment &lt;= 10) {\r\n             System.out.println(&quot;   UNIT TEST FAILED: addInventory()&quot;);\r\n          }\r\n          /* Your solution goes here  */\r\n    \r\n          System.out.println(&quot;Tests complete.&quot;);\r\n       }\r\n    }\r\n    // ===== end =====","title":"Trying to write unit test cannot work it out?","body":"<pre><code>// ===== Code from file InventoryTag.java =====\npublic class InventoryTag {\n   private int quantityRemaining;\n\n   public InventoryTag() {\n      quantityRemaining = 0;\n   }\n\n   public int getQuantityRemaining() {\n      return quantityRemaining;\n   }\n\n   public void addInventory(int numItems) {\n      if (numItems &gt; 10) {\n         quantityRemaining = quantityRemaining + numItems;\n      }\n   }\n}\n// ===== end =====\n\n// ===== Code from file CallInventoryTag.java =====\nimport java.util.Scanner;\n\npublic class CallInventoryTag {\n   public static void main(String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      InventoryTag redSweater = new InventoryTag();\n      int sweaterShipment;\n      int sweaterInventoryBefore;\n\n      sweaterInventoryBefore = redSweater.getQuantityRemaining();\n      sweaterShipment = scnr.nextInt();\n\n      System.out.println(&quot;Beginning tests.&quot;);\n\n      // FIXME add unit test for addInventory\n      redSweater.addInventory(sweaterShipment);\n      redSweater.getQuantityRemaining();\n      if (sweaterShipment &lt;= 10) {\n         System.out.println(&quot;   UNIT TEST FAILED: addInventory()&quot;);\n      }\n      /* Your solution goes here  */\n\n      System.out.println(&quot;Tests complete.&quot;);\n   }\n}\n// ===== end =====\n</code></pre>\n"}],"owner":{"account_id":14519691,"reputation":1,"user_id":10487676,"display_name":"Oceanman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21361,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":4,"score":-4,"last_activity_date":1680465143,"creation_date":1539234468,"question_id":52752597,"body_markdown":"Write a unit test for `addInventory()`. Call `redSweater.addInventory()` with parameter `sweaterShipment`. Print the shown error if the subsequent quantity is incorrect. Sample output for failed unit test given initial quantity is 10 and `sweaterShipment` is 50:\r\n\r\n&gt; Beginning tests. UNIT TEST FAILED: addInventory() Tests complete.Note:\r\n&gt; UNIT TEST FAILED is preceded by 3 spaces.\r\n\r\n\r\n\r\n      // ===== Code from file InventoryTag.java =====\r\n      public class InventoryTag {\r\n        private int quantityRemaining;\r\n    \r\n        public InventoryTag() {\r\n          quantityRemaining = 0;\r\n        }\r\n    \r\n        public int getQuantityRemaining() {\r\n           return quantityRemaining;\r\n        }\r\n      \r\n        public void addInventory(int numItems) {\r\n          if (numItems &gt; 10) {\r\n             quantityRemaining = quantityRemaining + numItems;\r\n          }\r\n        }\r\n      }// ===== end =====\r\n\r\n \r\n\r\n       // ===== Code from file CallInventoryTag.java =====\r\n        public class CallInventoryTag {\r\n           public static void main (String [] args) {\r\n               InventoryTag redSweater = new InventoryTag();\r\n               int sweaterShipment;\r\n               int sweaterInventoryBefore;\r\n    \r\n               sweaterInventoryBefore = redSweater.getQuantityRemaining();\r\n               sweaterShipment = 25;\r\n    \r\n               System.out.println(&quot;Beginning tests.&quot;);\r\n    \r\n               // FIXME add unit test for addInventory\r\n               System.out.println(&quot;Tests complete.&quot;);\r\n           }\r\n     \r\n         }// ===== end =====\r\n\r\n\r\n\r\n","title":"Trying to write unit test cannot work it out?","body":"<p>Write a unit test for <code>addInventory()</code>. Call <code>redSweater.addInventory()</code> with parameter <code>sweaterShipment</code>. Print the shown error if the subsequent quantity is incorrect. Sample output for failed unit test given initial quantity is 10 and <code>sweaterShipment</code> is 50:</p>\n\n<blockquote>\n  <p>Beginning tests. UNIT TEST FAILED: addInventory() Tests complete.Note:\n  UNIT TEST FAILED is preceded by 3 spaces.</p>\n</blockquote>\n\n<pre><code>  // ===== Code from file InventoryTag.java =====\n  public class InventoryTag {\n    private int quantityRemaining;\n\n    public InventoryTag() {\n      quantityRemaining = 0;\n    }\n\n    public int getQuantityRemaining() {\n       return quantityRemaining;\n    }\n\n    public void addInventory(int numItems) {\n      if (numItems &gt; 10) {\n         quantityRemaining = quantityRemaining + numItems;\n      }\n    }\n  }// ===== end =====\n\n\n\n   // ===== Code from file CallInventoryTag.java =====\n    public class CallInventoryTag {\n       public static void main (String [] args) {\n           InventoryTag redSweater = new InventoryTag();\n           int sweaterShipment;\n           int sweaterInventoryBefore;\n\n           sweaterInventoryBefore = redSweater.getQuantityRemaining();\n           sweaterShipment = 25;\n\n           System.out.println(\"Beginning tests.\");\n\n           // FIXME add unit test for addInventory\n           System.out.println(\"Tests complete.\");\n       }\n\n     }// ===== end =====\n</code></pre>\n"},{"tags":["java","volatile","java-memory-model"],"answers":[{"tags":[],"owner":{"account_id":205948,"reputation":20282,"user_id":454967,"accept_rate":66,"display_name":"ide"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1680464661,"creation_date":1296879683,"answer_id":4905123,"question_id":4885570,"body_markdown":"Short of reading the memory model specification, I recommend you read http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html. It&#39;s written by one of the [*Java Memory Model*][1] authors and should answer your question. Thinking of memory reads and writes in terms of the [happens-before][2] clause is also helpful; the JMM for Java 5 onwards adds happens-before semantics to `volatile`.\r\n\r\nSpecifically, when you read a volatile variable from one thread, all writes up to and including the write to that volatile variable from other threads are now visible to that one thread.\r\n\r\nAnd, yes, you can use [`static`][3] with `volatile`. They do different things.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_memory_model\r\n  [2]: https://secure.wikimedia.org/wikipedia/en/wiki/Java_Memory_Model#The_memory_model\r\n  [3]: https://stackoverflow.com/questions/413898/what-does-the-static-keyword-do-in-java","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>Short of reading the memory model specification, I recommend you read <a href=\"http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html\" rel=\"nofollow noreferrer\">http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html</a>. It's written by one of the <a href=\"https://en.wikipedia.org/wiki/Java_memory_model\" rel=\"nofollow noreferrer\"><em>Java Memory Model</em></a> authors and should answer your question. Thinking of memory reads and writes in terms of the <a href=\"https://secure.wikimedia.org/wikipedia/en/wiki/Java_Memory_Model#The_memory_model\" rel=\"nofollow noreferrer\">happens-before</a> clause is also helpful; the JMM for Java 5 onwards adds happens-before semantics to <code>volatile</code>.</p>\n<p>Specifically, when you read a volatile variable from one thread, all writes up to and including the write to that volatile variable from other threads are now visible to that one thread.</p>\n<p>And, yes, you can use <a href=\"https://stackoverflow.com/questions/413898/what-does-the-static-keyword-do-in-java\"><code>static</code></a> with <code>volatile</code>. They do different things.</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1431613689,"creation_date":1296880450,"answer_id":4905167,"question_id":4885570,"body_markdown":"`volatile` means that the variable changes at runtime and that the compiler should not cache its value for any reason. \r\n\r\nThis is only really a problem when sharing the variable amongst threads, you don&#39;t want a thread working with stale data, so the compiler should never cache the value of a `volatile` variable reference.","title":"What does &quot;volatile&quot; mean in Java?","body":"<p><code>volatile</code> means that the variable changes at runtime and that the compiler should not cache its value for any reason. </p>\n\n<p>This is only really a problem when sharing the variable amongst threads, you don't want a thread working with stale data, so the compiler should never cache the value of a <code>volatile</code> variable reference.</p>\n"},{"tags":[],"owner":{"account_id":17676,"reputation":9638,"user_id":39808,"accept_rate":78,"display_name":"Paul Fisher"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1680464703,"creation_date":1296880734,"answer_id":4905180,"question_id":4885570,"body_markdown":"In Java, volatile has a similar general meaning as it does in C. The [Java Memory Model][1] (see the excellent link in ide&#39;s answer) allows threads to &quot;see&quot; a different value at the same time for variables marked as non-volatile.  For example:\r\n\r\nThread a:\r\n\r\n    n = 1;\r\n    // wait...\r\n    n = 2;\r\n\r\nThreads B and C:\r\n\r\n    while (true) {\r\n        System.out.println(name + &quot;: &quot; + n);\r\n    }\r\n\r\nThis output is allowed to happen (note that you&#39;re not guaranteed to strictly alternate between B and C, I&#39;m just trying to show the &quot;changeover&quot; of B and C here):\r\n\r\n    C: 1\r\n    B: 1\r\n    C: 2\r\n    B: 1\r\n    C: 2\r\n    B: 2\r\n\r\nThis is entirely separate from the lock taken by `println`; thread B is *allowed* to see `n` as 1 even after C finds out that it&#39;s 2.  There are a variety of very good reasons for this that I can&#39;t pretend to fully understand, many pertaining to speed, and some pertaining to security.\r\n\r\nIf it&#39;s volatile, you&#39;re guaranteed (apart from the `println`&#39;s locking, which I&#39;ll ignore for the moment) that B and C will both &quot;simultaneously&quot; see the new value of B as soon as it is sent.\r\n\r\nYou can use `volatile` with `static` because they affect different things.  `volatile` causes changes a variable to be &quot;replicated&quot; to all *threads* that use that variable before they use it, while `static` shares a single variable across all *classes* that use that variable.  (This can be rather confusing to people new to threading in Java, because every `Thread` happens to be implemented as a `class`.)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_memory_model","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>In Java, volatile has a similar general meaning as it does in C. The <a href=\"https://en.wikipedia.org/wiki/Java_memory_model\" rel=\"nofollow noreferrer\">Java Memory Model</a> (see the excellent link in ide's answer) allows threads to &quot;see&quot; a different value at the same time for variables marked as non-volatile.  For example:</p>\n<p>Thread a:</p>\n<pre><code>n = 1;\n// wait...\nn = 2;\n</code></pre>\n<p>Threads B and C:</p>\n<pre><code>while (true) {\n    System.out.println(name + &quot;: &quot; + n);\n}\n</code></pre>\n<p>This output is allowed to happen (note that you're not guaranteed to strictly alternate between B and C, I'm just trying to show the &quot;changeover&quot; of B and C here):</p>\n<pre><code>C: 1\nB: 1\nC: 2\nB: 1\nC: 2\nB: 2\n</code></pre>\n<p>This is entirely separate from the lock taken by <code>println</code>; thread B is <em>allowed</em> to see <code>n</code> as 1 even after C finds out that it's 2.  There are a variety of very good reasons for this that I can't pretend to fully understand, many pertaining to speed, and some pertaining to security.</p>\n<p>If it's volatile, you're guaranteed (apart from the <code>println</code>'s locking, which I'll ignore for the moment) that B and C will both &quot;simultaneously&quot; see the new value of B as soon as it is sent.</p>\n<p>You can use <code>volatile</code> with <code>static</code> because they affect different things.  <code>volatile</code> causes changes a variable to be &quot;replicated&quot; to all <em>threads</em> that use that variable before they use it, while <code>static</code> shares a single variable across all <em>classes</em> that use that variable.  (This can be rather confusing to people new to threading in Java, because every <code>Thread</code> happens to be implemented as a <code>class</code>.)</p>\n"},{"tags":[],"owner":{"account_id":7446560,"reputation":286,"user_id":5662513,"display_name":"Jeffy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1502305100,"creation_date":1502305100,"answer_id":45598674,"question_id":4885570,"body_markdown":"Consider a scenario when two thread (Thread1 and Thread2) are accessing same variable &#39;mObject&#39;  with value 1.\r\n\r\n\r\nwhen a Thread1 runs, it doesn&#39;t expect other threads to modify the variable &#39;mObject&#39;. In this scenario the Thread1 caches the variable &#39;mObject&#39; with value 1.\r\n\r\n\r\nAnd if the Thread2 modify the value of &#39;mObject&#39; to 2, still the Thread1 would be refering the mObject value as 1 since it did caching.\r\nTo avoid this caching we should to declare the variable as\r\n \r\n\r\nprivate volatile int mObject;\r\n\r\n\r\nin this scenarion the Thread1 will be getting updated value of mObject","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>Consider a scenario when two thread (Thread1 and Thread2) are accessing same variable 'mObject'  with value 1.</p>\n\n<p>when a Thread1 runs, it doesn't expect other threads to modify the variable 'mObject'. In this scenario the Thread1 caches the variable 'mObject' with value 1.</p>\n\n<p>And if the Thread2 modify the value of 'mObject' to 2, still the Thread1 would be refering the mObject value as 1 since it did caching.\nTo avoid this caching we should to declare the variable as</p>\n\n<p>private volatile int mObject;</p>\n\n<p>in this scenarion the Thread1 will be getting updated value of mObject</p>\n"},{"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565118405,"creation_date":1565037330,"answer_id":57365777,"question_id":4885570,"body_markdown":"Small elaboration, but the volatile keyword isn&#39;t just for for memory visibility. Before Java ver `1.5` was released the volatile keyword declared that the field will get the most recent value of the object by hitting main memory each time for reads and flushing for writes.\r\n\r\nIn the latest Java versions, the volatile keyword says two very important things:\r\n\r\n 1. Don&#39;t worry about how but know that when reading a volatile field\r\n    you will always have the most up to date value. \r\n 2. A compiler cannot reorder a volatile read/write as to maintain program order.\r\n\r\nCheck it out for more [Java volatile][1] examples.\r\n\r\n\r\n  [1]: https://javatutorial.net/java-volatile-example","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>Small elaboration, but the volatile keyword isn't just for for memory visibility. Before Java ver <code>1.5</code> was released the volatile keyword declared that the field will get the most recent value of the object by hitting main memory each time for reads and flushing for writes.</p>\n\n<p>In the latest Java versions, the volatile keyword says two very important things:</p>\n\n<ol>\n<li>Don't worry about how but know that when reading a volatile field\nyou will always have the most up to date value. </li>\n<li>A compiler cannot reorder a volatile read/write as to maintain program order.</li>\n</ol>\n\n<p>Check it out for more <a href=\"https://javatutorial.net/java-volatile-example\" rel=\"nofollow noreferrer\">Java volatile</a> examples.</p>\n"},{"tags":[],"owner":{"account_id":19173470,"reputation":51,"user_id":14006673,"display_name":"Lucas de Lima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650654506,"creation_date":1650654506,"answer_id":71973572,"question_id":4885570,"body_markdown":"The Java volatile keyword is used to mark a Java variable as &quot;being stored in main memory&quot;. More precisely that means, that every read of a volatile variable will be read from the computer&#39;s main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache. The value of an attribute is not cached thread-locally, and is always read from the &quot;main memory&quot;.\r\n\r\nOvercoming the data inconsistency problem is the advantage but reading from and writing to main memory is more expensive than accessing the CPU cache. Hence, if there are no specific requirements it is never recommended to use volatile keywords.\r\n\r\n    class Test  \r\n    {  \r\n        static int var=5;  \r\n    } \r\n\r\n \r\nIn the above example, assume that two threads are working on the same class. Both threads run on different processors where each thread has its local copy of var. If any thread modifies its value, the change will not reflect in the original one in the main memory. It leads to data inconsistency because the other thread is not aware of the modified value.\r\n\r\n\r\n\r\n     class Test  \r\n    {  \r\n       static volatile int var =5;  \r\n    }  \r\n\r\nIn the above example, the value of a volatile variable will never be stored in the cache. All read and write will be done from and to the main memory.","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>The Java volatile keyword is used to mark a Java variable as &quot;being stored in main memory&quot;. More precisely that means, that every read of a volatile variable will be read from the computer's main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache. The value of an attribute is not cached thread-locally, and is always read from the &quot;main memory&quot;.</p>\n<p>Overcoming the data inconsistency problem is the advantage but reading from and writing to main memory is more expensive than accessing the CPU cache. Hence, if there are no specific requirements it is never recommended to use volatile keywords.</p>\n<pre><code>class Test  \n{  \n    static int var=5;  \n} \n</code></pre>\n<p>In the above example, assume that two threads are working on the same class. Both threads run on different processors where each thread has its local copy of var. If any thread modifies its value, the change will not reflect in the original one in the main memory. It leads to data inconsistency because the other thread is not aware of the modified value.</p>\n<pre><code> class Test  \n{  \n   static volatile int var =5;  \n}  \n</code></pre>\n<p>In the above example, the value of a volatile variable will never be stored in the cache. All read and write will be done from and to the main memory.</p>\n"}],"owner":{"account_id":269655,"reputation":537,"user_id":559122,"accept_rate":33,"display_name":"jnivasreddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31780,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":6,"score":37,"last_activity_date":1680464703,"creation_date":1296732677,"question_id":4885570,"body_markdown":"We use `volatile` in one of our projects to maintain the same copy of variable accessed by different threads. My question is whether it is alright to use `volatile` with `static`. The compiler does not give any errors but I don&#39;t understand the reason of using both.","title":"What does &quot;volatile&quot; mean in Java?","body":"<p>We use <code>volatile</code> in one of our projects to maintain the same copy of variable accessed by different threads. My question is whether it is alright to use <code>volatile</code> with <code>static</code>. The compiler does not give any errors but I don't understand the reason of using both.</p>\n"},{"tags":["java","json","jackson","text-files"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1680463441,"post_id":75914132,"comment_id":133898912,"body_markdown":"Does this answer your question? [Fast random access read/write access on big files in java](https://stackoverflow.com/questions/65717446/fast-random-access-read-write-access-on-big-files-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65717446/fast-random-access-read-write-access-on-big-files-in-java\">Fast random access read/write access on big files in java</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1680464057,"post_id":75914132,"comment_id":133899011,"body_markdown":"You’ll have to parse the entire file once without storing its contents, and save a table of file positions (possibly in another file).  JSON records are not fixed width, so there is no way around this.","body":"You’ll have to parse the entire file once without storing its contents, and save a table of file positions (possibly in another file).  JSON records are not fixed width, so there is no way around this."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1680464820,"post_id":75914132,"comment_id":133899133,"body_markdown":"can you transform json into something else, or obtain another format entirely? (parquet would be nice, but even csv would help)","body":"can you transform json into something else, or obtain another format entirely? (parquet would be nice, but even csv would help)"}],"answers":[{"tags":[],"owner":{"account_id":18561380,"reputation":46,"user_id":13525314,"display_name":"Raphael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680464269,"creation_date":1680464269,"answer_id":75914231,"question_id":75914132,"body_markdown":"Your question assumes that your JSON has lines endings, which it most likely won&#39;t have. Such large files are likely stripped from all unneeded characters and line endings are certainly not needed in a JSON file.\r\n\r\nYou&#39;re already using the Jackson Streaming API which is good, because it&#39;s your only chance to process such a large file. \r\nWhile you can&#39;t seek to a certain line, you can seek to a certain (byte) position, using [RandomAccessFile.html#seek(long)][1]. You need to &quot;guessstimate&quot; the position you want to jump to (based on the total file size).\r\nSince your seek will likely you put in a random position (e.g. inside a attribute value) you probably need to first use some custom parsing rules to find a valid starting point to let the JSON Streaming Parser start. Once you figured out when exactly in the JSON you are, you can use the parser as usual.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/RandomAccessFile.html#seek(long)","title":"Random access to the text file in Java","body":"<p>Your question assumes that your JSON has lines endings, which it most likely won't have. Such large files are likely stripped from all unneeded characters and line endings are certainly not needed in a JSON file.</p>\n<p>You're already using the Jackson Streaming API which is good, because it's your only chance to process such a large file.\nWhile you can't seek to a certain line, you can seek to a certain (byte) position, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/RandomAccessFile.html#seek(long)\" rel=\"nofollow noreferrer\">RandomAccessFile.html#seek(long)</a>. You need to &quot;guessstimate&quot; the position you want to jump to (based on the total file size).\nSince your seek will likely you put in a random position (e.g. inside a attribute value) you probably need to first use some custom parsing rules to find a valid starting point to let the JSON Streaming Parser start. Once you figured out when exactly in the JSON you are, you can use the parser as usual.</p>\n"}],"owner":{"account_id":5450308,"reputation":147,"user_id":4335353,"display_name":"Sogawa-sps"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75914231,"answer_count":1,"score":0,"last_activity_date":1680464269,"creation_date":1680463105,"question_id":75914132,"body_markdown":"I’m parsing a really huge JSON file of 1.4 TB (it’s a WikiData dump just in case). It’s so big that even simple lines counting takes forever even with the help of optimizations like this https://stackoverflow.com/questions/453018/number-of-lines-in-a-file-in-java In order to speed it up I’m going to split the task and run it using both different SSDs on my main machine (so I probably get some extra disk throughput) and other computers I have (maybe using Apache Spark).\r\n\r\nAnd the question is how do I start reading a file from a random position? Skipping the lines is obviously not an option :). And I also would like to try to avoid a physical splitting of this file. It’s actually the easiest and most traffic/disk-space-efficient solution but I would like to explore alternatives for some corner use cases.\r\n\r\nBasically speaking I do the following:\r\n\r\n    JsonParser jp = f.createParser(new File(inputFile));\r\n    while(jp.nextToken() != JsonToken.END_OBJECT) {\r\n         //Fancy stuff\r\n    }\r\n\r\nIs there a way to quickly jump to line #20,000,000?\r\n","title":"Random access to the text file in Java","body":"<p>I’m parsing a really huge JSON file of 1.4 TB (it’s a WikiData dump just in case). It’s so big that even simple lines counting takes forever even with the help of optimizations like this <a href=\"https://stackoverflow.com/questions/453018/number-of-lines-in-a-file-in-java\">Number of lines in a file in Java</a> In order to speed it up I’m going to split the task and run it using both different SSDs on my main machine (so I probably get some extra disk throughput) and other computers I have (maybe using Apache Spark).</p>\n<p>And the question is how do I start reading a file from a random position? Skipping the lines is obviously not an option :). And I also would like to try to avoid a physical splitting of this file. It’s actually the easiest and most traffic/disk-space-efficient solution but I would like to explore alternatives for some corner use cases.</p>\n<p>Basically speaking I do the following:</p>\n<pre><code>JsonParser jp = f.createParser(new File(inputFile));\nwhile(jp.nextToken() != JsonToken.END_OBJECT) {\n     //Fancy stuff\n}\n</code></pre>\n<p>Is there a way to quickly jump to line #20,000,000?</p>\n"},{"tags":["java","android","android-studio","audio-processing"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680466733,"post_id":75914192,"comment_id":133899436,"body_markdown":"`uri.getPath()` Does not give you a file system path and cannot be used to read a file. Have a look at uri.toString() to see the content scheme. Use full uri to read the file.","body":"<code>uri.getPath()</code> Does not give you a file system path and cannot be used to read a file. Have a look at uri.toString() to see the content scheme. Use full uri to read the file."},{"owner":{"account_id":28195807,"reputation":1,"user_id":21550464,"display_name":"Adrien S."},"score":0,"creation_date":1681331492,"post_id":75914192,"comment_id":134041162,"body_markdown":"Thank you for you answer, but thought I did what you said and did make some research, I couldn&#39;t find the way to extract the audio data from the file :(","body":"Thank you for you answer, but thought I did what you said and did make some research, I couldn&#39;t find the way to extract the audio data from the file :("},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681335052,"post_id":75914192,"comment_id":134041904,"body_markdown":"Well what was the problem?","body":"Well what was the problem?"},{"owner":{"account_id":28195807,"reputation":1,"user_id":21550464,"display_name":"Adrien S."},"score":0,"creation_date":1681469460,"post_id":75914192,"comment_id":134065141,"body_markdown":"I still have the same issue : &quot;Could not find an ffmpeg binary for your Android system.&quot;","body":"I still have the same issue : &quot;Could not find an ffmpeg binary for your Android system.&quot;"}],"owner":{"account_id":28195807,"reputation":1,"user_id":21550464,"display_name":"Adrien S."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680463792,"creation_date":1680463792,"question_id":75914192,"body_markdown":"My project involves working with audio files to process the audio signal they contain to compare them to other files. The main problem I&#39;ve been facing for many hours now is that I don&#39;t know how or what libraries to use **to extract the audio signal data** from an audio file (mp3 or other types) into an float array for example. My only issue lies in the data extraction of an audio file chosen by the user of my application.\r\n\r\nIdealy, this float array would then contain at the `n` index the pressure measured of the microphone that recorded the audio track at the time `t=n*dt` where `dt` is a fixed constant. (`dt` is in this case the sample time that will be defined prior to the data extraction of the audio file)\r\n\r\nI don&#39;t know how mp3 files and other types are encoded,\\\r\nI tried to use the **TarsosDSP** library without any success,\\\r\nI am using **Android Studio** and the **java**.\r\n\r\nAm I missing permissions  ?\r\n\r\nAs stated before, I tried to use the **TarsosDSP** library :\r\nI successfully imported the library by puting the `.jar` file in the `/libs` folder and then adding it in the project with `File&gt;Project Structure&gt;Dependencies&gt;(+) (add icon)` then specifying the location of the `TarsosDSP` library. (which is `libs/TarsosDSP-Android-latest.jar`)\r\n\r\nOnce that out of the way, here&#39;s my code requesting the user to choose one file :\r\n\r\n```java\r\npublic void requestFileSeeking(View view){\r\n        Snackbar.make(view,&quot;Requested file choosing&quot;, Snackbar.LENGTH_SHORT).show();\r\n\r\n        myFileIntent=new Intent(Intent.ACTION_GET_CONTENT);\r\n        myFileIntent.setType(&quot;*/*&quot;);\r\n        startActivityForResult(myFileIntent, 10);\r\n    }\r\n```\r\n\r\nBtw, the `startActivityForResult()` function is deprecated, so if you got a better way to do this, I&#39;m all ears but it&#39;s not the main issue.\r\n\r\nWhat is problematic is the following code :\r\n\r\n```java\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == PICK_SONG_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n            Uri uri = data.getData();\r\n            // Create an AudioDispatcher instance and attach a FileProcessor to it\r\n\r\n            // This line causes the error when I choose a file\r\n            AudioDispatcher dispatcher = AudioDispatcherFactory.fromPipe(uri.getPath(), 44100, 4096, 0);\r\n\r\n            Toast.makeText(this, uri.getPath(), Toast.LENGTH_SHORT).show();\r\n            dispatcher.addAudioProcessor(new AudioProcessor() {\r\n\r\n                @Override\r\n                public boolean process(AudioEvent audioEvent) {\r\n                    // Process audio data here\r\n                    float[] audioBuffer = audioEvent.getFloatBuffer().clone();\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public void processingFinished() {\r\n                    // Final processing here\r\n                }\r\n            });\r\n\r\n            dispatcher.run();\r\n        }\r\n    }\r\n```\r\n\r\nSo here, looks like everything&#39;s good because IntellJ suggests to import all the classes from the `TarsosDSP` without any error.\r\n\r\nThe issue is when I try to select a file on the emulator when running the application. The moment `onActivityResult()` is called, there is this fatal error coming up :\r\n\r\n```java\r\nE/PipeDecoder: Could not find an ffmpeg binary for your Android system. Did you forget calling: &#39;new AndroidFFMPEGLocator(this);&#39; ?\r\nE/PipeDecoder: Tried to unpack a statically compiled ffmpeg binary for your architecture to: /data/user/0/com.example.youknowthatsong/cache/ffmpeg\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.youknowthatsong, PID: 32739\r\n    java.lang.Error: Decoding via a pipe will not work: Could not find an ffmpeg binary for your system\r\n        at be.tarsos.dsp.io.PipeDecoder.&lt;init&gt;(Unknown Source:350)\r\n        at be.tarsos.dsp.io.PipedAudioStream.&lt;clinit&gt;(Unknown Source:2)\r\n        at be.tarsos.dsp.io.android.AudioDispatcherFactory.fromPipe(Unknown Source:0)\r\n        at com.example.youknowthatsong.MainActivity.onActivityResult(MainActivity.java:198)\r\n        at android.app.Activity.dispatchActivityResult(Activity.java:8939)\r\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:5474)\r\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:5520)\r\n        at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:67)\r\n        at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:138)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2401)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:205)\r\n        at android.os.Looper.loop(Looper.java:294)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8128)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:578)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:946)\r\n```\r\n\r\nMe and my team did a lot of research to try and find to install this `ffmpeg binary` but to no avail, it either did the same error even when we tried to install it, or it gave another similar error...\r\n\r\nI would be really delighted if someone already went through this and could guide us !\r\n\r\nThanks in advance !","title":"Is there way to extract data audio from an mp3 file picked by an user on Android Studio?","body":"<p>My project involves working with audio files to process the audio signal they contain to compare them to other files. The main problem I've been facing for many hours now is that I don't know how or what libraries to use <strong>to extract the audio signal data</strong> from an audio file (mp3 or other types) into an float array for example. My only issue lies in the data extraction of an audio file chosen by the user of my application.</p>\n<p>Idealy, this float array would then contain at the <code>n</code> index the pressure measured of the microphone that recorded the audio track at the time <code>t=n*dt</code> where <code>dt</code> is a fixed constant. (<code>dt</code> is in this case the sample time that will be defined prior to the data extraction of the audio file)</p>\n<p>I don't know how mp3 files and other types are encoded,<br />\nI tried to use the <strong>TarsosDSP</strong> library without any success,<br />\nI am using <strong>Android Studio</strong> and the <strong>java</strong>.</p>\n<p>Am I missing permissions  ?</p>\n<p>As stated before, I tried to use the <strong>TarsosDSP</strong> library :\nI successfully imported the library by puting the <code>.jar</code> file in the <code>/libs</code> folder and then adding it in the project with <code>File&gt;Project Structure&gt;Dependencies&gt;(+) (add icon)</code> then specifying the location of the <code>TarsosDSP</code> library. (which is <code>libs/TarsosDSP-Android-latest.jar</code>)</p>\n<p>Once that out of the way, here's my code requesting the user to choose one file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void requestFileSeeking(View view){\n        Snackbar.make(view,&quot;Requested file choosing&quot;, Snackbar.LENGTH_SHORT).show();\n\n        myFileIntent=new Intent(Intent.ACTION_GET_CONTENT);\n        myFileIntent.setType(&quot;*/*&quot;);\n        startActivityForResult(myFileIntent, 10);\n    }\n</code></pre>\n<p>Btw, the <code>startActivityForResult()</code> function is deprecated, so if you got a better way to do this, I'm all ears but it's not the main issue.</p>\n<p>What is problematic is the following code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == PICK_SONG_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n            Uri uri = data.getData();\n            // Create an AudioDispatcher instance and attach a FileProcessor to it\n\n            // This line causes the error when I choose a file\n            AudioDispatcher dispatcher = AudioDispatcherFactory.fromPipe(uri.getPath(), 44100, 4096, 0);\n\n            Toast.makeText(this, uri.getPath(), Toast.LENGTH_SHORT).show();\n            dispatcher.addAudioProcessor(new AudioProcessor() {\n\n                @Override\n                public boolean process(AudioEvent audioEvent) {\n                    // Process audio data here\n                    float[] audioBuffer = audioEvent.getFloatBuffer().clone();\n                    return true;\n                }\n\n                @Override\n                public void processingFinished() {\n                    // Final processing here\n                }\n            });\n\n            dispatcher.run();\n        }\n    }\n</code></pre>\n<p>So here, looks like everything's good because IntellJ suggests to import all the classes from the <code>TarsosDSP</code> without any error.</p>\n<p>The issue is when I try to select a file on the emulator when running the application. The moment <code>onActivityResult()</code> is called, there is this fatal error coming up :</p>\n<pre class=\"lang-java prettyprint-override\"><code>E/PipeDecoder: Could not find an ffmpeg binary for your Android system. Did you forget calling: 'new AndroidFFMPEGLocator(this);' ?\nE/PipeDecoder: Tried to unpack a statically compiled ffmpeg binary for your architecture to: /data/user/0/com.example.youknowthatsong/cache/ffmpeg\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.youknowthatsong, PID: 32739\n    java.lang.Error: Decoding via a pipe will not work: Could not find an ffmpeg binary for your system\n        at be.tarsos.dsp.io.PipeDecoder.&lt;init&gt;(Unknown Source:350)\n        at be.tarsos.dsp.io.PipedAudioStream.&lt;clinit&gt;(Unknown Source:2)\n        at be.tarsos.dsp.io.android.AudioDispatcherFactory.fromPipe(Unknown Source:0)\n        at com.example.youknowthatsong.MainActivity.onActivityResult(MainActivity.java:198)\n        at android.app.Activity.dispatchActivityResult(Activity.java:8939)\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:5474)\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:5520)\n        at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:67)\n        at android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:138)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2401)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:205)\n        at android.os.Looper.loop(Looper.java:294)\n        at android.app.ActivityThread.main(ActivityThread.java:8128)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:578)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:946)\n</code></pre>\n<p>Me and my team did a lot of research to try and find to install this <code>ffmpeg binary</code> but to no avail, it either did the same error even when we tried to install it, or it gave another similar error...</p>\n<p>I would be really delighted if someone already went through this and could guide us !</p>\n<p>Thanks in advance !</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":349346,"reputation":13527,"user_id":684582,"accept_rate":75,"display_name":"Al&#233;cio Carvalho"},"score":0,"creation_date":1680436748,"post_id":75911860,"comment_id":133895013,"body_markdown":"did you add this list to a Adapter and attached the adapter to a RecyclerView?","body":"did you add this list to a Adapter and attached the adapter to a RecyclerView?"},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680436877,"post_id":75911860,"comment_id":133895023,"body_markdown":"@Al&#233;cio Carvalho Yes I did it, with other api it works fine, which doesn&#39;t have nested arrays.","body":"@Al&#233;cio Carvalho Yes I did it, with other api it works fine, which doesn&#39;t have nested arrays."},{"owner":{"account_id":349346,"reputation":13527,"user_id":684582,"accept_rate":75,"display_name":"Al&#233;cio Carvalho"},"score":1,"creation_date":1680437306,"post_id":75911860,"comment_id":133895081,"body_markdown":"without seeing your adapter it is hard to tell what&#39;s going on.","body":"without seeing your adapter it is hard to tell what&#39;s going on."},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680437924,"post_id":75911860,"comment_id":133895145,"body_markdown":"@Al&#233;cio Carvalho add adapter code","body":"@Al&#233;cio Carvalho add adapter code"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1680438415,"post_id":75911860,"comment_id":133895206,"body_markdown":"`JSONArray jsonArray2 = jsonObject.getJSONArray(&quot;food&quot;);` This is wrong. `food` is inside `hints`. I suggest you use a JSON parser library that automatically parses your JSON to a POJO instead of doing it manually.","body":"<code>JSONArray jsonArray2 = jsonObject.getJSONArray(&quot;food&quot;);</code> This is wrong. <code>food</code> is inside <code>hints</code>. I suggest you use a JSON parser library that automatically parses your JSON to a POJO instead of doing it manually."},{"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"score":0,"creation_date":1680438649,"post_id":75911860,"comment_id":133895232,"body_markdown":"@m0skit0 What is the library?","body":"@m0skit0 What is the library?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1680443703,"post_id":75911860,"comment_id":133895883,"body_markdown":"You can search that for yourself, recommendations are not allowed here.","body":"You can search that for yourself, recommendations are not allowed here."}],"answers":[{"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680462922,"creation_date":1680438787,"answer_id":75912044,"question_id":75911860,"body_markdown":"I suggest you to do this: \r\n\r\n    try {\r\n        JSONObject jsonObject = new JSONObject(s);\r\n        JSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\r\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n            JSONObject hintObject = jsonArray.getJSONObject(i);\r\n            JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\r\n\r\n            String label = foodObject.getString(&quot;label&quot;);\r\n\r\n            FoodModels model = new FoodModels();\r\n            model.setName(label);\r\n\r\n            foodModelsList.add(model);\r\n        }\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nIn order to get the insider JSONObject you have to do this: \r\n\r\n    JSONObject nutrientsObject = foodObject.getJSONObject(&quot;nutrients&quot;);\r\n        int enercKcal = nutrientsObject.getInt(&quot;ENERC_KCAL&quot;);\r\n        double procnt = nutrientsObject.getDouble(&quot;PROCNT&quot;);\r\n        double fat = nutrientsObject.getDouble(&quot;FAT&quot;);\r\n        double chocdf = nutrientsObject.getDouble(&quot;CHOCDF&quot;);\r\n        int fibtg = nutrientsObject.getInt(&quot;FIBTG&quot;);\r\n\r\nThink about it as a staircase that will be more easier for you.\r\n\r\nthis is the full code **but not the best solution**:\r\n\r\n    try {\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\r\n    \r\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n        JSONObject hintObject = jsonArray.getJSONObject(i);\r\n        JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\r\n        \r\n        String foodId = foodObject.getString(&quot;foodId&quot;);\r\n        String label = foodObject.getString(&quot;label&quot;);\r\n        String knownAs = foodObject.getString(&quot;knownAs&quot;);\r\n        String category = foodObject.getString(&quot;category&quot;);\r\n        String categoryLabel = foodObject.getString(&quot;categoryLabel&quot;);\r\n        String image = foodObject.getString(&quot;image&quot;);\r\n        JSONObject nutrients = foodObject.getJSONObject(&quot;nutrients&quot;);\r\n        double enercKcal = nutrients.getDouble(&quot;ENERC_KCAL&quot;);\r\n        double procnt = nutrients.getDouble(&quot;PROCNT&quot;);\r\n        double fat = nutrients.getDouble(&quot;FAT&quot;);\r\n        double chocdf = nutrients.getDouble(&quot;CHOCDF&quot;);\r\n        double fibtg = nutrients.getDouble(&quot;FIBTG&quot;);\r\n        \r\n        JSONArray measures = hintObject.getJSONArray(&quot;measures&quot;);\r\n        \r\n        for (int j = 0; j &lt; measures.length(); j++) {\r\n            JSONObject measure = measures.getJSONObject(j);\r\n            \r\n            String uri = measure.getString(&quot;uri&quot;);\r\n            String measureLabel = measure.getString(&quot;label&quot;);\r\n            double weight = measure.getDouble(&quot;weight&quot;);\r\n            \r\n        }\r\n    }\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n&gt; This is all the data inside the hints but do not forget to add them to\r\n&gt; the models.\r\n\r\nregards ","title":"I get an empty RecyclerView","body":"<p>I suggest you to do this:</p>\n<pre><code>try {\n    JSONObject jsonObject = new JSONObject(s);\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\n        JSONObject hintObject = jsonArray.getJSONObject(i);\n        JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\n\n        String label = foodObject.getString(&quot;label&quot;);\n\n        FoodModels model = new FoodModels();\n        model.setName(label);\n\n        foodModelsList.add(model);\n    }\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>In order to get the insider JSONObject you have to do this:</p>\n<pre><code>JSONObject nutrientsObject = foodObject.getJSONObject(&quot;nutrients&quot;);\n    int enercKcal = nutrientsObject.getInt(&quot;ENERC_KCAL&quot;);\n    double procnt = nutrientsObject.getDouble(&quot;PROCNT&quot;);\n    double fat = nutrientsObject.getDouble(&quot;FAT&quot;);\n    double chocdf = nutrientsObject.getDouble(&quot;CHOCDF&quot;);\n    int fibtg = nutrientsObject.getInt(&quot;FIBTG&quot;);\n</code></pre>\n<p>Think about it as a staircase that will be more easier for you.</p>\n<p>this is the full code <strong>but not the best solution</strong>:</p>\n<pre><code>try {\nJSONObject jsonObject = new JSONObject(jsonString);\nJSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\n\nfor (int i = 0; i &lt; jsonArray.length(); i++) {\n    JSONObject hintObject = jsonArray.getJSONObject(i);\n    JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\n    \n    String foodId = foodObject.getString(&quot;foodId&quot;);\n    String label = foodObject.getString(&quot;label&quot;);\n    String knownAs = foodObject.getString(&quot;knownAs&quot;);\n    String category = foodObject.getString(&quot;category&quot;);\n    String categoryLabel = foodObject.getString(&quot;categoryLabel&quot;);\n    String image = foodObject.getString(&quot;image&quot;);\n    JSONObject nutrients = foodObject.getJSONObject(&quot;nutrients&quot;);\n    double enercKcal = nutrients.getDouble(&quot;ENERC_KCAL&quot;);\n    double procnt = nutrients.getDouble(&quot;PROCNT&quot;);\n    double fat = nutrients.getDouble(&quot;FAT&quot;);\n    double chocdf = nutrients.getDouble(&quot;CHOCDF&quot;);\n    double fibtg = nutrients.getDouble(&quot;FIBTG&quot;);\n    \n    JSONArray measures = hintObject.getJSONArray(&quot;measures&quot;);\n    \n    for (int j = 0; j &lt; measures.length(); j++) {\n        JSONObject measure = measures.getJSONObject(j);\n        \n        String uri = measure.getString(&quot;uri&quot;);\n        String measureLabel = measure.getString(&quot;label&quot;);\n        double weight = measure.getDouble(&quot;weight&quot;);\n        \n    }\n}\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<blockquote>\n<p>This is all the data inside the hints but do not forget to add them to\nthe models.</p>\n</blockquote>\n<p>regards</p>\n"}],"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680462922,"creation_date":1680436364,"question_id":75911860,"body_markdown":"I need to get all the values ​​from the `food` object as well as the `nutrients` that are in `hints`.\r\n\r\n    &quot;hints&quot;: [\r\n        {\r\n          &quot;food&quot;: {\r\n            &quot;foodId&quot;: &quot;food_amqspy5ap567v6bun60usbgsaor7&quot;,\r\n            &quot;label&quot;: &quot;Nuts&quot;,\r\n            &quot;knownAs&quot;: &quot;nuts&quot;,\r\n            &quot;nutrients&quot;: {\r\n              &quot;ENERC_KCAL&quot;: 594,\r\n              &quot;PROCNT&quot;: 17.3,\r\n              &quot;FAT&quot;: 51.45,\r\n              &quot;CHOCDF&quot;: 25.35,\r\n              &quot;FIBTG&quot;: 9\r\n            },\r\n            &quot;category&quot;: &quot;Generic foods&quot;,\r\n            &quot;categoryLabel&quot;: &quot;food&quot;,\r\n            &quot;image&quot;: &quot;https://www.edamam.com/food-img/e29/e2985d3585a6950c276e204ba7ba9b2e.jpg&quot;\r\n          },\r\n          &quot;measures&quot;: [\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_unit&quot;,\r\n              &quot;label&quot;: &quot;Whole&quot;,\r\n              &quot;weight&quot;: 2\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_pouch&quot;,\r\n              &quot;label&quot;: &quot;Pouch&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_serving&quot;,\r\n              &quot;label&quot;: &quot;Serving&quot;,\r\n              &quot;weight&quot;: 34\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_nut&quot;,\r\n              &quot;label&quot;: &quot;Nut&quot;,\r\n              &quot;weight&quot;: 2\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_bag&quot;,\r\n              &quot;label&quot;: &quot;Bag&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_container&quot;,\r\n              &quot;label&quot;: &quot;Container&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_package&quot;,\r\n              &quot;label&quot;: &quot;Package&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_packet&quot;,\r\n              &quot;label&quot;: &quot;Packet&quot;,\r\n              &quot;weight&quot;: 113\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_gram&quot;,\r\n              &quot;label&quot;: &quot;Gram&quot;,\r\n              &quot;weight&quot;: 1\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_ounce&quot;,\r\n              &quot;label&quot;: &quot;Ounce&quot;,\r\n              &quot;weight&quot;: 28.349523125\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_pound&quot;,\r\n              &quot;label&quot;: &quot;Pound&quot;,\r\n              &quot;weight&quot;: 453.59237\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram&quot;,\r\n              &quot;label&quot;: &quot;Kilogram&quot;,\r\n              &quot;weight&quot;: 1000\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_handful&quot;,\r\n              &quot;label&quot;: &quot;Handful&quot;,\r\n              &quot;weight&quot;: 17.125\r\n            },\r\n            {\r\n              &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_cup&quot;,\r\n              &quot;label&quot;: &quot;Cup&quot;,\r\n              &quot;weight&quot;: 137\r\n            }\r\n          ]\r\n        },\r\n\r\nAt the moment I&#39;m trying to get at least the `label` value from `food`, but I can&#39;t get anything.\r\n\r\n        try {\r\n        JSONObject jsonObject = new JSONObject(s);\r\n        JSONArray jsonArray1 = jsonObject.getJSONArray(&quot;hints&quot;);\r\n        JSONArray jsonArray2 = jsonObject.getJSONArray(&quot;food&quot;);\r\n        for(int i = 0 ; i &lt; jsonArray1.length() &amp;&amp; i &lt; jsonArray2.length() ; i++) {\r\n            JSONObject jsonObject1 = jsonArray1.getJSONObject(i);\r\n            JSONObject jsonObject2 = jsonArray2.getJSONObject(i);\r\n    \r\n            FoodModels model = new FoodModels();\r\n            model.setName(jsonObject2.getString(&quot;label&quot;));\r\n    \r\n            foodModelsList.add(model);\r\n        }\r\n    \r\n    } \r\n\r\nFoodAdapter\r\n\r\n    public class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.MyViewHolder&gt; {\r\n    \r\n        private final FoodRecyclerViewInterface recyclerViewInterface;\r\n        private Context context;\r\n        private List&lt;FoodModels&gt; mData;\r\n    \r\n        public FoodAdapter(Context context, List&lt;FoodModels&gt; mData, FoodRecyclerViewInterface recyclerViewInterface) {\r\n            this.recyclerViewInterface = recyclerViewInterface;\r\n            this.context = context;\r\n            this.mData = mData;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public FoodAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view;\r\n            LayoutInflater inflater = LayoutInflater.from(context);\r\n            view = inflater.inflate(R.layout.recycler_item, parent, false);\r\n    \r\n            return new FoodAdapter.MyViewHolder(view, recyclerViewInterface);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull FoodAdapter.MyViewHolder holder, int position) {\r\n            holder.name.setText(mData.get(position).getName());\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return mData.size();\r\n        }\r\n    \r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            TextView name, img, kcal, procent, fat, chocdf, fidtg;\r\n            public MyViewHolder(@NonNull View itemView, FoodRecyclerViewInterface recyclerViewInterface) {\r\n                super(itemView);\r\n    \r\n                name = itemView.findViewById(R.id.name);\r\n    \r\n                itemView.setOnClickListener(v -&gt; {\r\n                    if (recyclerViewInterface != null){\r\n                        int pos = getAdapterPosition();\r\n                        if(pos != RecyclerView.NO_POSITION) {\r\n                            recyclerViewInterface.onItemClick(pos);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"I get an empty RecyclerView","body":"<p>I need to get all the values ​​from the <code>food</code> object as well as the <code>nutrients</code> that are in <code>hints</code>.</p>\n<pre><code>&quot;hints&quot;: [\n    {\n      &quot;food&quot;: {\n        &quot;foodId&quot;: &quot;food_amqspy5ap567v6bun60usbgsaor7&quot;,\n        &quot;label&quot;: &quot;Nuts&quot;,\n        &quot;knownAs&quot;: &quot;nuts&quot;,\n        &quot;nutrients&quot;: {\n          &quot;ENERC_KCAL&quot;: 594,\n          &quot;PROCNT&quot;: 17.3,\n          &quot;FAT&quot;: 51.45,\n          &quot;CHOCDF&quot;: 25.35,\n          &quot;FIBTG&quot;: 9\n        },\n        &quot;category&quot;: &quot;Generic foods&quot;,\n        &quot;categoryLabel&quot;: &quot;food&quot;,\n        &quot;image&quot;: &quot;https://www.edamam.com/food-img/e29/e2985d3585a6950c276e204ba7ba9b2e.jpg&quot;\n      },\n      &quot;measures&quot;: [\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_unit&quot;,\n          &quot;label&quot;: &quot;Whole&quot;,\n          &quot;weight&quot;: 2\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_pouch&quot;,\n          &quot;label&quot;: &quot;Pouch&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_serving&quot;,\n          &quot;label&quot;: &quot;Serving&quot;,\n          &quot;weight&quot;: 34\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_nut&quot;,\n          &quot;label&quot;: &quot;Nut&quot;,\n          &quot;weight&quot;: 2\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_bag&quot;,\n          &quot;label&quot;: &quot;Bag&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_container&quot;,\n          &quot;label&quot;: &quot;Container&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_package&quot;,\n          &quot;label&quot;: &quot;Package&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_packet&quot;,\n          &quot;label&quot;: &quot;Packet&quot;,\n          &quot;weight&quot;: 113\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_gram&quot;,\n          &quot;label&quot;: &quot;Gram&quot;,\n          &quot;weight&quot;: 1\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_ounce&quot;,\n          &quot;label&quot;: &quot;Ounce&quot;,\n          &quot;weight&quot;: 28.349523125\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_pound&quot;,\n          &quot;label&quot;: &quot;Pound&quot;,\n          &quot;weight&quot;: 453.59237\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram&quot;,\n          &quot;label&quot;: &quot;Kilogram&quot;,\n          &quot;weight&quot;: 1000\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_handful&quot;,\n          &quot;label&quot;: &quot;Handful&quot;,\n          &quot;weight&quot;: 17.125\n        },\n        {\n          &quot;uri&quot;: &quot;http://www.edamam.com/ontologies/edamam.owl#Measure_cup&quot;,\n          &quot;label&quot;: &quot;Cup&quot;,\n          &quot;weight&quot;: 137\n        }\n      ]\n    },\n</code></pre>\n<p>At the moment I'm trying to get at least the <code>label</code> value from <code>food</code>, but I can't get anything.</p>\n<pre><code>    try {\n    JSONObject jsonObject = new JSONObject(s);\n    JSONArray jsonArray1 = jsonObject.getJSONArray(&quot;hints&quot;);\n    JSONArray jsonArray2 = jsonObject.getJSONArray(&quot;food&quot;);\n    for(int i = 0 ; i &lt; jsonArray1.length() &amp;&amp; i &lt; jsonArray2.length() ; i++) {\n        JSONObject jsonObject1 = jsonArray1.getJSONObject(i);\n        JSONObject jsonObject2 = jsonArray2.getJSONObject(i);\n\n        FoodModels model = new FoodModels();\n        model.setName(jsonObject2.getString(&quot;label&quot;));\n\n        foodModelsList.add(model);\n    }\n\n} \n</code></pre>\n<p>FoodAdapter</p>\n<pre><code>public class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.MyViewHolder&gt; {\n\n    private final FoodRecyclerViewInterface recyclerViewInterface;\n    private Context context;\n    private List&lt;FoodModels&gt; mData;\n\n    public FoodAdapter(Context context, List&lt;FoodModels&gt; mData, FoodRecyclerViewInterface recyclerViewInterface) {\n        this.recyclerViewInterface = recyclerViewInterface;\n        this.context = context;\n        this.mData = mData;\n    }\n\n    @NonNull\n    @Override\n    public FoodAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view;\n        LayoutInflater inflater = LayoutInflater.from(context);\n        view = inflater.inflate(R.layout.recycler_item, parent, false);\n\n        return new FoodAdapter.MyViewHolder(view, recyclerViewInterface);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull FoodAdapter.MyViewHolder holder, int position) {\n        holder.name.setText(mData.get(position).getName());\n    }\n\n    @Override\n    public int getItemCount() {\n        return mData.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n        TextView name, img, kcal, procent, fat, chocdf, fidtg;\n        public MyViewHolder(@NonNull View itemView, FoodRecyclerViewInterface recyclerViewInterface) {\n            super(itemView);\n\n            name = itemView.findViewById(R.id.name);\n\n            itemView.setOnClickListener(v -&gt; {\n                if (recyclerViewInterface != null){\n                    int pos = getAdapterPosition();\n                    if(pos != RecyclerView.NO_POSITION) {\n                        recyclerViewInterface.onItemClick(pos);\n                    }\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9464,"page":528,"page_size":100}
