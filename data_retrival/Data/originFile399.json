{"items":[{"tags":["java","android","text-to-speech"],"comments":[{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685546558,"post_id":76375031,"comment_id":134676155,"body_markdown":"Try to replace the letters like this: &quot;-A-&quot; instead of &quot;A&quot;. It probably has something to do with how Android TTS handles lone staying letters and probably varies from language to language. But my trick should work.","body":"Try to replace the letters like this: &quot;-A-&quot; instead of &quot;A&quot;. It probably has something to do with how Android TTS handles lone staying letters and probably varies from language to language. But my trick should work."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":0,"creation_date":1685548063,"post_id":76375031,"comment_id":134676544,"body_markdown":"I tried with &quot;-A-&quot;, not working.","body":"I tried with &quot;-A-&quot;, not working."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":0,"creation_date":1685548158,"post_id":76375031,"comment_id":134676567,"body_markdown":"Maybe I have to end up using recorded audio samples for the desired letter sounds instead of relying solely on TTS for individual letter pronunciation.","body":"Maybe I have to end up using recorded audio samples for the desired letter sounds instead of relying solely on TTS for individual letter pronunciation."},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685553977,"post_id":76375031,"comment_id":134677819,"body_markdown":"Did you try other languages?","body":"Did you try other languages?"},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685554155,"post_id":76375031,"comment_id":134677847,"body_markdown":"Try to add spaces between the vocals like this: &quot; A &quot; instead of &quot;A&quot;. Maybe you can also try to set a point like &quot;A.&quot;.","body":"Try to add spaces between the vocals like this: &quot; A &quot; instead of &quot;A&quot;. Maybe you can also try to set a point like &quot;A.&quot;."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":0,"creation_date":1685564107,"post_id":76375031,"comment_id":134679627,"body_markdown":"yes its working with english and spanish. let me try spaces.","body":"yes its working with english and spanish. let me try spaces."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":0,"creation_date":1685565284,"post_id":76375031,"comment_id":134679847,"body_markdown":"spaces did&#39;nt worked with vowels as well.","body":"spaces did&#39;nt worked with vowels as well."},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685574190,"post_id":76375031,"comment_id":134681022,"body_markdown":"Sorry to hear about that. I am curious about a solution too.","body":"Sorry to hear about that. I am curious about a solution too."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":1,"creation_date":1698181469,"post_id":76375031,"comment_id":136372197,"body_markdown":"I finally used mp3 sounds as a solution.","body":"I finally used mp3 sounds as a solution."}],"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685546273,"creation_date":1685546273,"question_id":76375031,"body_markdown":"My code for TTS. \r\n\r\n```\r\npublic void speakUp() {\r\n        tts = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\r\n            @Override\r\n            public void onInit(int status) {\r\n                if (status == TextToSpeech.SUCCESS) {\r\n                    Locale frenchLocale = new Locale(&quot;fr&quot;, &quot;FR&quot;);\r\n                    int result = tts.setLanguage(frenchLocale);\r\n                    if (result == TextToSpeech.LANG_MISSING_DATA ||\r\n                            result == TextToSpeech.LANG_NOT_SUPPORTED) {\r\n                        Log.e(&quot;error&quot;, &quot;This Language is not supported&quot;);\r\n                    } else {\r\n                        return;\r\n                    }\r\n                } else if (status == TextToSpeech.ERROR)\r\n                    Log.e(&quot;error&quot;, &quot;Initilization Failed!&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void ConvertTextToSpeech(String text, Float f) {\r\n        tts.speak(text, TextToSpeech.QUEUE_FLUSH, null);\r\n        tts.setSpeechRate(f);\r\n    }\r\n```\r\n\r\nThe array I am playing: \r\n```\r\nprivate String[] names = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;,&quot;ee&quot;, &quot;J&quot;, &quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;, &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;R&quot;, &quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;};\r\n```\r\n\r\nfor playing: \r\n\r\n\r\nConvertTextToSpeech(names[resID], 1.1f);\r\n\r\nAll other letters are playing except vowels. What issue is that? Does anyone know? \r\n","title":"Why are only consonants being played in my Android Text-To-Speech code?","body":"<p>My code for TTS.</p>\n<pre><code>public void speakUp() {\n        tts = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int status) {\n                if (status == TextToSpeech.SUCCESS) {\n                    Locale frenchLocale = new Locale(&quot;fr&quot;, &quot;FR&quot;);\n                    int result = tts.setLanguage(frenchLocale);\n                    if (result == TextToSpeech.LANG_MISSING_DATA ||\n                            result == TextToSpeech.LANG_NOT_SUPPORTED) {\n                        Log.e(&quot;error&quot;, &quot;This Language is not supported&quot;);\n                    } else {\n                        return;\n                    }\n                } else if (status == TextToSpeech.ERROR)\n                    Log.e(&quot;error&quot;, &quot;Initilization Failed!&quot;);\n            }\n        });\n    }\n\n    public static void ConvertTextToSpeech(String text, Float f) {\n        tts.speak(text, TextToSpeech.QUEUE_FLUSH, null);\n        tts.setSpeechRate(f);\n    }\n</code></pre>\n<p>The array I am playing:</p>\n<pre><code>private String[] names = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;,&quot;ee&quot;, &quot;J&quot;, &quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;, &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;R&quot;, &quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;};\n</code></pre>\n<p>for playing:</p>\n<p>ConvertTextToSpeech(names[resID], 1.1f);</p>\n<p>All other letters are playing except vowels. What issue is that? Does anyone know?</p>\n"},{"tags":["java","spring-boot","multithreading"],"comments":[{"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"score":1,"creation_date":1685454565,"post_id":76365159,"comment_id":134659992,"body_markdown":"You can migrate to Spring Webflux, WebClient and Reactor to implement this in a reactive way, you&#39;ll definitely get better performance, but it&#39;s a huge change.","body":"You can migrate to Spring Webflux, WebClient and Reactor to implement this in a reactive way, you&#39;ll definitely get better performance, but it&#39;s a huge change."},{"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"score":0,"creation_date":1685454858,"post_id":76365159,"comment_id":134660063,"body_markdown":"Just want to optimize the method.","body":"Just want to optimize the method."}],"answers":[{"tags":[],"owner":{"account_id":395867,"reputation":2757,"user_id":759049,"accept_rate":96,"display_name":"Pateman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685513931,"creation_date":1685513931,"answer_id":76370658,"question_id":76365159,"body_markdown":"Well, if the second API doesn&#39;t let you ask for multiple part descriptions, there&#39;s nothing really to do here, because you still need to ask for every part separately.\r\n\r\nOne thing that you could try to see if you gain any performance improvement is to use a pooled connection manager instead of creating a new `RestTemplate` everytime in `getDescriptionFromSecondAPI()`. You said you were using Spring Boot, so you can try to define the following bean in your configuration class (snippet taken from [here][1], you might need to modify it slightly to fit your purpose, I don&#39;t know what dependencies you have in your project):\r\n\r\n    @Bean\r\n    public RestTemplate pooledRestTemplate() {\r\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n        connectionManager.setMaxTotal(2000);\r\n        connectionManager.setDefaultMaxPerRoute(2000);\r\n    \r\n        HttpClient httpClient = HttpClientBuilder.create()\r\n            .setConnectionManager(connectionManager)\r\n            .build();\r\n    \r\n        return new RestTemplateBuilder().rootUri(&quot;http://service-b-base-url:8080/&quot;)\r\n            .setConnectTimeout(Duration.ofMillis(1000))\r\n            .setReadTimeout(Duration.ofMillis(1000))\r\n            .messageConverters(new StringHttpMessageConverter(), new MappingJackson2HttpMessageConverter())\r\n            .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\r\n            .build();\r\n    }\r\n\r\nInject that RestTemplate into the service in question and see if that helps. :)\r\n\r\n  [1]: https://medium.com/@nitinvohra/how-to-improve-performance-of-spring-resttemplate-6af37e0a0f33","title":"Handle two big APIs data processing quickly in spring boot","body":"<p>Well, if the second API doesn't let you ask for multiple part descriptions, there's nothing really to do here, because you still need to ask for every part separately.</p>\n<p>One thing that you could try to see if you gain any performance improvement is to use a pooled connection manager instead of creating a new <code>RestTemplate</code> everytime in <code>getDescriptionFromSecondAPI()</code>. You said you were using Spring Boot, so you can try to define the following bean in your configuration class (snippet taken from <a href=\"https://medium.com/@nitinvohra/how-to-improve-performance-of-spring-resttemplate-6af37e0a0f33\" rel=\"nofollow noreferrer\">here</a>, you might need to modify it slightly to fit your purpose, I don't know what dependencies you have in your project):</p>\n<pre><code>@Bean\npublic RestTemplate pooledRestTemplate() {\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n    connectionManager.setMaxTotal(2000);\n    connectionManager.setDefaultMaxPerRoute(2000);\n\n    HttpClient httpClient = HttpClientBuilder.create()\n        .setConnectionManager(connectionManager)\n        .build();\n\n    return new RestTemplateBuilder().rootUri(&quot;http://service-b-base-url:8080/&quot;)\n        .setConnectTimeout(Duration.ofMillis(1000))\n        .setReadTimeout(Duration.ofMillis(1000))\n        .messageConverters(new StringHttpMessageConverter(), new MappingJackson2HttpMessageConverter())\n        .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\n        .build();\n}\n</code></pre>\n<p>Inject that RestTemplate into the service in question and see if that helps. :)</p>\n"},{"tags":[],"owner":{"account_id":20484963,"reputation":35,"user_id":15032355,"display_name":"FredWoozley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685546044,"creation_date":1685546044,"answer_id":76374998,"question_id":76365159,"body_markdown":"Your current usage of the executor service seems to simply use a separate thread to run all requests sequentially (unless I&#39;m really missing some to me hidden feature of hashMap.forEach). You probably want to execute them in parallel. That means your map needs to be created outside of the executor call and you submit each individual retrieval to the executor individually rather than do of them in a single runnable.\r\n\r\nsomething like:\r\n\r\n      hashMap.forEach((key, value) -&gt;\r\n         executorService.execute(() -&gt; {\r\n                {\r\n                    String description = getDescriptionFromSecondAPI(key.toString(), entity);\r\n                    ((MyOrderPartObject) value).setPartDescription(description);\r\n                };\r\n            }));\r\n\r\n(code might not be syntactically correct but should give you the idea; Note that your structures need to be thread safe...)","title":"Handle two big APIs data processing quickly in spring boot","body":"<p>Your current usage of the executor service seems to simply use a separate thread to run all requests sequentially (unless I'm really missing some to me hidden feature of hashMap.forEach). You probably want to execute them in parallel. That means your map needs to be created outside of the executor call and you submit each individual retrieval to the executor individually rather than do of them in a single runnable.</p>\n<p>something like:</p>\n<pre><code>  hashMap.forEach((key, value) -&gt;\n     executorService.execute(() -&gt; {\n            {\n                String description = getDescriptionFromSecondAPI(key.toString(), entity);\n                ((MyOrderPartObject) value).setPartDescription(description);\n            };\n        }));\n</code></pre>\n<p>(code might not be syntactically correct but should give you the idea; Note that your structures need to be thread safe...)</p>\n"}],"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685546044,"creation_date":1685451748,"question_id":76365159,"body_markdown":"I am working on spring boot application, in which some data to be processed from another API and reports are created.\r\n\r\nI have situation where I have to fetch the data from one API and the process it, from first API I have to extract some data and then call second API to set the result in the object.\r\n\r\nIt&#39;s sequential thing, I have to get the data from first then from first&#39;s result second API hit.\r\n\r\n        public MyOrderPart getReport(**List&lt;FirstAPIResult&gt; serviceOptions**) {\r\n    \r\n            MyOrderPart myOrderPart = new MyOrderPart();\r\n            List&lt;MyOrderPartObject&gt; myOrderPartList = new LinkedList&lt;&gt;();      \r\n            try {          \r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\r\n                headers.set(HttpHeaders.AUTHORIZATION, token);\r\n                HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n                HashMap hashMap = new HashMap();\r\n                if (!serviceOptions.isEmpty()) {\r\n                    for (MyReportModel myReportModel : serviceOptions) {\r\n                        List&lt;SomePartHeader&gt; partHeaderList = myReportModel.getPartHeaders();\r\n                        for (SomePartHeader partHeader : partHeaderList) {\r\n                            MyOrderPartObject myOrderPartObject = new MyOrderPartObject();\r\n                            myOrderPartObject.setSegmentNo(String.valueOf(myReportModel.getSegmentNo()));\r\n                            myOrderPartObject.setOperationNo(String.valueOf(myReportModel.getOperationNo()));\r\n                            myOrderPartObject.setCompCode(myReportModel.getSmcs().getCompCode());\r\n                            myOrderPartObject.setJobCode(myReportModel.getSmcs().getJobCode());\r\n                            myOrderPartObject.setModCode(myReportModel.getSmcs().getModCode());\r\n                            myOrderPartObject.setDescription(myReportModel.getDescription().getDescription());\r\n                            myOrderPartObject.setPartBeginSn(String.valueOf(partHeader.getPartHeaderBeginSn()));\r\n                            myOrderPartObject.setPartEndSn(String.valueOf(partHeader.getPartHeaderEndSn()));\r\n                            myOrderPartObject.setPartGroupNumber(partHeader.getPartHeaderGroupNumber().trim());\r\n                            Optional&lt;SomeJobPart&gt; jobPart = partHeader.getJobParts()\r\n                                    .stream()\r\n                                    .filter(x -&gt; partHeader.getPartHeaderGroupNumber()\r\n                                            .trim()\r\n                                            .equals(x.getMasterPart().getPartNumber().trim()))\r\n                                    .findAny();\r\n                            if (jobPart.isPresent()) {\r\n                                //Second API\r\n                                 String description = getDescriptionFromSecondAPI(jobPart.get().getPartGroupNumber(), entity);\r\n                                myOrderPartObject.setPartDescription(description);\r\n     hashMap.put(jobPart.get().getPartGroupNumber(), workOrderPartObject);\r\n                            } else {\r\n                                myOrderPartObject.setPartDescription(&quot;&quot;);\r\n                            }                      \r\n                            myOrderPartList.add(myOrderPartObject);\r\n    \r\n                        }\r\n                    }               \r\n                }\r\n            } catch (Exception ex) {\r\n                context.getLogger().info(&quot;error: &quot; + ex.getMessage());\r\n            }\r\n            myOrderPart.setWorkOrderPart(myOrderPartList);      \r\n            return myOrderPart;\r\n        }\r\n\r\nHere **List&lt;FirstAPIResult&gt; serviceOptions** it return from One API and I am processing it.\r\n\r\nNow have to call **getDescriptionFromSecondAPI(...)** from first process.\r\n\r\n     public String getDescriptionFromSecondAPI(String partNumber, HttpEntity&lt;?&gt; entity) {\r\n\r\n        String secondURL = SECOND_API_BASE_URL + &quot;?q=&quot; + partNumber + &quot;&amp;sId=constant&quot;;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        ResponseEntity&lt;Object&gt; respEntity = null;\r\n        String description = &quot;&quot;;\r\n        try {\r\n            respEntity = restTemplate.exchange(secondURL , HttpMethod.GET, entity,\r\n                    Object.class\r\n            );\r\n            Object body = respEntity.getBody();\r\n            String name = (String) ((LinkedHashMap) ((ArrayList) ((LinkedHashMap) body).get(&quot;abc&quot;)).get(0)).get(&quot;name&quot;);\r\n            if (name != null) {\r\n                description = name.substring(name.indexOf(&quot;:&quot;) + 1, name.length());\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            context.getLogger().info(&quot;Exception  : &quot; + ex);\r\n        }\r\n        return description.trim();\r\n    }\r\n\r\ngetDescriptionFromSecondAPI(...) this method taking long time to get the result and setPartDescription(here), it taking less han one second to get the data for one partNumber.\r\n\r\nHow can I improve the performance of the method so that I can get the response quickly and set it. The input depend from first API. How can I improve it.\r\n\r\nI tried this as well : \r\n\r\nhashMap created at if condition when I am getting jobPart, then after processed it as :\r\n\r\n     ExecutorService executorService = Executors.newFixedThreadPool(100);\r\n                executorService.execute(() -&gt; {\r\n                    hashMap.forEach((key, value) -&gt;\r\n                    {\r\n                        String description = getDescriptionFromSecondAPI(key.toString(), entity);\r\n                        ((MyOrderPartObject) value).setPartDescription(description);\r\n                    });\r\n                });\r\n\r\nThen also it taking time around 4+ mins to set the complete object. How can I improve the performance in java spring boot.","title":"Handle two big APIs data processing quickly in spring boot","body":"<p>I am working on spring boot application, in which some data to be processed from another API and reports are created.</p>\n<p>I have situation where I have to fetch the data from one API and the process it, from first API I have to extract some data and then call second API to set the result in the object.</p>\n<p>It's sequential thing, I have to get the data from first then from first's result second API hit.</p>\n<pre><code>    public MyOrderPart getReport(**List&lt;FirstAPIResult&gt; serviceOptions**) {\n\n        MyOrderPart myOrderPart = new MyOrderPart();\n        List&lt;MyOrderPartObject&gt; myOrderPartList = new LinkedList&lt;&gt;();      \n        try {          \n            HttpHeaders headers = new HttpHeaders();\n            headers.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\n            headers.set(HttpHeaders.AUTHORIZATION, token);\n            HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\n            HashMap hashMap = new HashMap();\n            if (!serviceOptions.isEmpty()) {\n                for (MyReportModel myReportModel : serviceOptions) {\n                    List&lt;SomePartHeader&gt; partHeaderList = myReportModel.getPartHeaders();\n                    for (SomePartHeader partHeader : partHeaderList) {\n                        MyOrderPartObject myOrderPartObject = new MyOrderPartObject();\n                        myOrderPartObject.setSegmentNo(String.valueOf(myReportModel.getSegmentNo()));\n                        myOrderPartObject.setOperationNo(String.valueOf(myReportModel.getOperationNo()));\n                        myOrderPartObject.setCompCode(myReportModel.getSmcs().getCompCode());\n                        myOrderPartObject.setJobCode(myReportModel.getSmcs().getJobCode());\n                        myOrderPartObject.setModCode(myReportModel.getSmcs().getModCode());\n                        myOrderPartObject.setDescription(myReportModel.getDescription().getDescription());\n                        myOrderPartObject.setPartBeginSn(String.valueOf(partHeader.getPartHeaderBeginSn()));\n                        myOrderPartObject.setPartEndSn(String.valueOf(partHeader.getPartHeaderEndSn()));\n                        myOrderPartObject.setPartGroupNumber(partHeader.getPartHeaderGroupNumber().trim());\n                        Optional&lt;SomeJobPart&gt; jobPart = partHeader.getJobParts()\n                                .stream()\n                                .filter(x -&gt; partHeader.getPartHeaderGroupNumber()\n                                        .trim()\n                                        .equals(x.getMasterPart().getPartNumber().trim()))\n                                .findAny();\n                        if (jobPart.isPresent()) {\n                            //Second API\n                             String description = getDescriptionFromSecondAPI(jobPart.get().getPartGroupNumber(), entity);\n                            myOrderPartObject.setPartDescription(description);\n hashMap.put(jobPart.get().getPartGroupNumber(), workOrderPartObject);\n                        } else {\n                            myOrderPartObject.setPartDescription(&quot;&quot;);\n                        }                      \n                        myOrderPartList.add(myOrderPartObject);\n\n                    }\n                }               \n            }\n        } catch (Exception ex) {\n            context.getLogger().info(&quot;error: &quot; + ex.getMessage());\n        }\n        myOrderPart.setWorkOrderPart(myOrderPartList);      \n        return myOrderPart;\n    }\n</code></pre>\n<p>Here <strong>List serviceOptions</strong> it return from One API and I am processing it.</p>\n<p>Now have to call <strong>getDescriptionFromSecondAPI(...)</strong> from first process.</p>\n<pre><code> public String getDescriptionFromSecondAPI(String partNumber, HttpEntity&lt;?&gt; entity) {\n\n    String secondURL = SECOND_API_BASE_URL + &quot;?q=&quot; + partNumber + &quot;&amp;sId=constant&quot;;\n    RestTemplate restTemplate = new RestTemplate();\n    ResponseEntity&lt;Object&gt; respEntity = null;\n    String description = &quot;&quot;;\n    try {\n        respEntity = restTemplate.exchange(secondURL , HttpMethod.GET, entity,\n                Object.class\n        );\n        Object body = respEntity.getBody();\n        String name = (String) ((LinkedHashMap) ((ArrayList) ((LinkedHashMap) body).get(&quot;abc&quot;)).get(0)).get(&quot;name&quot;);\n        if (name != null) {\n            description = name.substring(name.indexOf(&quot;:&quot;) + 1, name.length());\n        }\n\n    } catch (Exception ex) {\n        context.getLogger().info(&quot;Exception  : &quot; + ex);\n    }\n    return description.trim();\n}\n</code></pre>\n<p>getDescriptionFromSecondAPI(...) this method taking long time to get the result and setPartDescription(here), it taking less han one second to get the data for one partNumber.</p>\n<p>How can I improve the performance of the method so that I can get the response quickly and set it. The input depend from first API. How can I improve it.</p>\n<p>I tried this as well :</p>\n<p>hashMap created at if condition when I am getting jobPart, then after processed it as :</p>\n<pre><code> ExecutorService executorService = Executors.newFixedThreadPool(100);\n            executorService.execute(() -&gt; {\n                hashMap.forEach((key, value) -&gt;\n                {\n                    String description = getDescriptionFromSecondAPI(key.toString(), entity);\n                    ((MyOrderPartObject) value).setPartDescription(description);\n                });\n            });\n</code></pre>\n<p>Then also it taking time around 4+ mins to set the complete object. How can I improve the performance in java spring boot.</p>\n"},{"tags":["java","asynchronous","java-8","completable-future"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1581373561,"creation_date":1581372918,"answer_id":60159269,"question_id":60159153,"body_markdown":"[runAsync][1] takes Runnable as input parameter and returns `CompletableFuture&lt;Void&gt;`, which means it does not return any result.\r\n\r\n    CompletableFuture&lt;Void&gt; run = CompletableFuture.runAsync(()-&gt; System.out.println(&quot;hello&quot;));\r\n\r\nBut [suppyAsync][2] takes Supplier as argument and returns the `CompletableFuture&lt;U&gt;` with result value, which means it does not take any input parameters but it returns result as output.\r\n\r\n    CompletableFuture&lt;String&gt; supply = CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t\t\treturn &quot;result&quot;;\r\n\t\t});\r\n\r\n     System.out.println(supply.get());  //result\r\n\r\n**Conclusion :** So if you want the result to be returned, then choose `supplyAsync` or if you just want to run an async action, then choose `runAsync`.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-","title":"CompletableFuture runAsync vs supplyAsync, when to choose one over the other?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-\" rel=\"noreferrer\">runAsync</a> takes Runnable as input parameter and returns <code>CompletableFuture&lt;Void&gt;</code>, which means it does not return any result.</p>\n\n<pre><code>CompletableFuture&lt;Void&gt; run = CompletableFuture.runAsync(()-&gt; System.out.println(\"hello\"));\n</code></pre>\n\n<p>But <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-\" rel=\"noreferrer\">suppyAsync</a> takes Supplier as argument and returns the <code>CompletableFuture&lt;U&gt;</code> with result value, which means it does not take any input parameters but it returns result as output.</p>\n\n<pre><code>CompletableFuture&lt;String&gt; supply = CompletableFuture.supplyAsync(() -&gt; {\n        System.out.println(\"Hello\");\n        return \"result\";\n    });\n\n System.out.println(supply.get());  //result\n</code></pre>\n\n<p><strong>Conclusion :</strong> So if you want the result to be returned, then choose <code>supplyAsync</code> or if you just want to run an async action, then choose <code>runAsync</code>.</p>\n"}],"owner":{"account_id":2396215,"reputation":1188,"user_id":2094956,"display_name":"Mr Matrix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31091,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":60159269,"answer_count":1,"score":37,"last_activity_date":1685545575,"creation_date":1581372334,"question_id":60159153,"body_markdown":"What is the rationale for choosing one over the other? Only difference I could infer after reading the [documentation][1] is that runAsync takes Runnable as an input parameter and supplyAsync takes Supplier as an input parameter.\r\n\r\n[This][2] stackoverflow post discusses the motivation behind using Supplier with supplyAsync method but it still does not answer when to prefer one over the other.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-\r\n  [2]: https://stackoverflow.com/questions/36256337/completablefuture-supplyasync","title":"CompletableFuture runAsync vs supplyAsync, when to choose one over the other?","body":"<p>What is the rationale for choosing one over the other? Only difference I could infer after reading the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-\" rel=\"noreferrer\">documentation</a> is that runAsync takes Runnable as an input parameter and supplyAsync takes Supplier as an input parameter.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36256337/completablefuture-supplyasync\">This</a> stackoverflow post discusses the motivation behind using Supplier with supplyAsync method but it still does not answer when to prefer one over the other.</p>\n"},{"tags":["java","pdf","tiff","openpdf"],"owner":{"account_id":9061273,"reputation":51,"user_id":8862290,"display_name":"user8862290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685545452,"creation_date":1685542102,"question_id":76374374,"body_markdown":"I have scanned paper documents and OCR&#39;ed them into text.  I am creating PDF documents from groups of the TIFF images.  I am using Java and OpenPDF.  How can I embed the text behind the tiff image when creating a PDF in a manner that allows the document which only displays the TIFF images to be text searchable?  More than 10 years ago I had the code to do this but long since removed it and no version of it remains.  The internet seems to be forgetting these things now.  I searched high and low and cannot find an example of how to do this.  Here is what I am currently using to build the PDF. I retrieve the raw data from the TIFF image and write into the PdfWriter document.  The problem is that the text is not behind the image or hidden, it is on a separate page altogether and I cannot find an API to specify the text location as well.   \r\n\t\r\n```\r\n\t// step 1: creation of a document-object\r\n\tDocument document = new Document( );\r\n        document.setMargins( 0, 0, 0, 0 );\r\n\t// create a PDF-stream object.\r\n\tPdfWriter.getInstance( document, bout );\r\n\tdocument.open( );\r\n\tfor( int x = 0; x &lt; parts.length; x++ )\r\n\t{\r\n\t\tImageData data = getImageData( db, parts[x].getImageId( ), ImageData.TIFF_FORMAT, usesClob );\r\n\t\tImageInputStream iis = ImageIO.createImageInputStream( data.toStream( true ) );\r\n\t\tImageReader reader = getTiffImageReader();\r\n\t        reader.setInput(iis);\t\t        \r\n\t        int pages = reader.getNumImages(true);\r\n\t        for (int imageIndex = 0; imageIndex &lt; pages; imageIndex++) \r\n\t        {\r\n\t            BufferedImage bufferedImage = reader.read(imageIndex);\r\n\t            Image image = Image.getInstance(bufferedImage, null, false);\r\n\t\t    image.scaleToFit( document.getPageSize( ).getWidth( ), \r\n                            document.getPageSize( ).getHeight( ) );\r\n\t            document.add(image);\r\n\t            // Add the text behind the image.\r\n\t            String pageId = parts[x].getId( );\r\n\t            ArrayList&lt;ImageDataText&gt; blocks = getPageImageDataText( db, pageId );\r\n\t            for( ImageDataText block : blocks )\r\n\t            {\r\n\t            \tParagraph p = new Paragraph();\r\n\t            \tfor( LineText text : block.getLineText( ) )\r\n\t            \t{\r\n\t            \t\tp.add( new Chunk( text.getLine( ) ) );\r\n\t            \t}\r\n\t            \tdocument.add( p );\r\n\t            }\r\n\t            // new page.\r\n\t            document.newPage();\r\n\t        }\r\n\t}\r\n\tdocument.close( );\r\n\tbout.writeTo( out );\r\n\tout.flush( );\r\n\tout.close( );\r\n```\r\n","title":"How to embed OCR text from TIFF images into PDF documents using Java and OpenPDF?","body":"<p>I have scanned paper documents and OCR'ed them into text.  I am creating PDF documents from groups of the TIFF images.  I am using Java and OpenPDF.  How can I embed the text behind the tiff image when creating a PDF in a manner that allows the document which only displays the TIFF images to be text searchable?  More than 10 years ago I had the code to do this but long since removed it and no version of it remains.  The internet seems to be forgetting these things now.  I searched high and low and cannot find an example of how to do this.  Here is what I am currently using to build the PDF. I retrieve the raw data from the TIFF image and write into the PdfWriter document.  The problem is that the text is not behind the image or hidden, it is on a separate page altogether and I cannot find an API to specify the text location as well.</p>\n<pre><code>    // step 1: creation of a document-object\n    Document document = new Document( );\n        document.setMargins( 0, 0, 0, 0 );\n    // create a PDF-stream object.\n    PdfWriter.getInstance( document, bout );\n    document.open( );\n    for( int x = 0; x &lt; parts.length; x++ )\n    {\n        ImageData data = getImageData( db, parts[x].getImageId( ), ImageData.TIFF_FORMAT, usesClob );\n        ImageInputStream iis = ImageIO.createImageInputStream( data.toStream( true ) );\n        ImageReader reader = getTiffImageReader();\n            reader.setInput(iis);               \n            int pages = reader.getNumImages(true);\n            for (int imageIndex = 0; imageIndex &lt; pages; imageIndex++) \n            {\n                BufferedImage bufferedImage = reader.read(imageIndex);\n                Image image = Image.getInstance(bufferedImage, null, false);\n            image.scaleToFit( document.getPageSize( ).getWidth( ), \n                            document.getPageSize( ).getHeight( ) );\n                document.add(image);\n                // Add the text behind the image.\n                String pageId = parts[x].getId( );\n                ArrayList&lt;ImageDataText&gt; blocks = getPageImageDataText( db, pageId );\n                for( ImageDataText block : blocks )\n                {\n                    Paragraph p = new Paragraph();\n                    for( LineText text : block.getLineText( ) )\n                    {\n                        p.add( new Chunk( text.getLine( ) ) );\n                    }\n                    document.add( p );\n                }\n                // new page.\n                document.newPage();\n            }\n    }\n    document.close( );\n    bout.writeTo( out );\n    out.flush( );\n    out.close( );\n</code></pre>\n"},{"tags":["java","date","long-integer"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1316532021,"post_id":7487460,"comment_id":9063341,"body_markdown":"Could you tell what values do you expect? The question of seconds/milliseconds may be a valid one, but 1220227200 is not 1/1/1970. It looks like you are passing 0 to the constructor. Some more code might help.","body":"Could you tell what values do you expect? The question of seconds/milliseconds may be a valid one, but 1220227200 is not 1/1/1970. It looks like you are passing 0 to the constructor. Some more code might help."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1420044511,"post_id":7487460,"comment_id":43859760,"body_markdown":"it returns jan 15th 1970, here, not jan 1st.","body":"it returns jan 15th 1970, here, not jan 1st."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1594419726,"post_id":7487460,"comment_id":111130754,"body_markdown":"FYI, the terribly flawed date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/tutorial/datetime/TOC.html) classes built into Java 8 and later.","body":"FYI, the terribly flawed date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":2,"up_vote_count":191,"is_accepted":false,"score":189,"last_activity_date":1685545026,"creation_date":1316531445,"answer_id":7487489,"question_id":7487460,"body_markdown":"The [constructor of `java.util.Date` taking the `date` as a `long` argument][1] interprets the argument in **milliseconds**, not seconds.\r\n\r\n&gt; Parameters:\r\n`date` - the milliseconds since January 1, 1970, 00:00:00 GMT.\r\n\r\nYour value is in seconds, so you need to convert it to milliseconds. You can either multiply it by 1000 or use the [`TimeUnit`][2] helper.\r\n\r\n    Date date = new Date(TimeUnit.SECONDS.toMillis(1220227200));\r\n\r\nThis prints here:\r\n\r\n&gt; Sun Aug 31 20:00:00 GMT-04:00 2008\r\n\r\nWhich equals to 1 september 2008 at 00:00 UTC.\r\n\r\nIn case you&#39;re already on Java 8 or newer, it&#39;s better to use [`Instant#ofEpochSecond()`][3] instead. This way you don&#39;t need to convert seconds to milliseconds even though there&#39;s also a [`Instant#ofEpochMilli()`][4] method.\r\n\r\n    Instant instant = Instant.ofEpochSecond(1220227200);\r\n\r\nThis prints here:\r\n\r\n&gt; 2008-09-01T00:00:00Z\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Date.html#%3Cinit%3E(long)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/TimeUnit.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#ofEpochSecond(long)\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)","title":"Converting Long to Date in Java returns 1970","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Date.html#%3Cinit%3E(long)\" rel=\"nofollow noreferrer\">constructor of <code>java.util.Date</code> taking the <code>date</code> as a <code>long</code> argument</a> interprets the argument in <strong>milliseconds</strong>, not seconds.</p>\n<blockquote>\n<p>Parameters:\n<code>date</code> - the milliseconds since January 1, 1970, 00:00:00 GMT.</p>\n</blockquote>\n<p>Your value is in seconds, so you need to convert it to milliseconds. You can either multiply it by 1000 or use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/TimeUnit.html\" rel=\"nofollow noreferrer\"><code>TimeUnit</code></a> helper.</p>\n<pre><code>Date date = new Date(TimeUnit.SECONDS.toMillis(1220227200));\n</code></pre>\n<p>This prints here:</p>\n<blockquote>\n<p>Sun Aug 31 20:00:00 GMT-04:00 2008</p>\n</blockquote>\n<p>Which equals to 1 september 2008 at 00:00 UTC.</p>\n<p>In case you're already on Java 8 or newer, it's better to use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#ofEpochSecond(long)\" rel=\"nofollow noreferrer\"><code>Instant#ofEpochSecond()</code></a> instead. This way you don't need to convert seconds to milliseconds even though there's also a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)\" rel=\"nofollow noreferrer\"><code>Instant#ofEpochMilli()</code></a> method.</p>\n<pre><code>Instant instant = Instant.ofEpochSecond(1220227200);\n</code></pre>\n<p>This prints here:</p>\n<blockquote>\n<p>2008-09-01T00:00:00Z</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1316531449,"creation_date":1316531449,"answer_id":7487492,"question_id":7487460,"body_markdown":"It looks like your longs are seconds, and not milliseconds. Date constructor takes time as millis, so \r\n\r\n    Date d = new Date(timeInSeconds * 1000);\r\n","title":"Converting Long to Date in Java returns 1970","body":"<p>It looks like your longs are seconds, and not milliseconds. Date constructor takes time as millis, so </p>\n\n<pre><code>Date d = new Date(timeInSeconds * 1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314645,"reputation":921,"user_id":629930,"display_name":"Magnus Winter"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1316531476,"creation_date":1316531476,"answer_id":7487495,"question_id":7487460,"body_markdown":"Those are probably timestamps in **seconds** and not in **milliseconds** which is required for the java new Date(long) constructor. Just multiply them by 1000 and you should be allright.","title":"Converting Long to Date in Java returns 1970","body":"<p>Those are probably timestamps in <strong>seconds</strong> and not in <strong>milliseconds</strong> which is required for the java new Date(long) constructor. Just multiply them by 1000 and you should be allright.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316531607,"creation_date":1316531607,"answer_id":7487521,"question_id":7487460,"body_markdown":"New Date(number) returns a date that&#39;s `number` milliseconds after 1 Jan 1970.  Odds are you date format isn&#39;t showing hours, minutes, and seconds for you to see that it&#39;s just a little bit after 1 Jan 1970.\r\n\r\nYou need to parse the date according to the correct parsing routing.  I don&#39;t know what a 1220227200 is, but if it&#39;s seconds after 1 JAN 1970, then multiply it to yield milliseconds.  If it is not, then convert it in some manner to milliseconds after 1970 (if you want to continue to use java.util.Date).","title":"Converting Long to Date in Java returns 1970","body":"<p>New Date(number) returns a date that's <code>number</code> milliseconds after 1 Jan 1970.  Odds are you date format isn't showing hours, minutes, and seconds for you to see that it's just a little bit after 1 Jan 1970.</p>\n\n<p>You need to parse the date according to the correct parsing routing.  I don't know what a 1220227200 is, but if it's seconds after 1 JAN 1970, then multiply it to yield milliseconds.  If it is not, then convert it in some manner to milliseconds after 1970 (if you want to continue to use java.util.Date).</p>\n"},{"tags":[],"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316531632,"creation_date":1316531632,"answer_id":7487527,"question_id":7487460,"body_markdown":"Works for me. You probably want to multiplz it with 1000, since what you get are the seconds from 1970 and you have to pass the milliseconds from jan 1 1970","title":"Converting Long to Date in Java returns 1970","body":"<p>Works for me. You probably want to multiplz it with 1000, since what you get are the seconds from 1970 and you have to pass the milliseconds from jan 1 1970</p>\n"},{"tags":[],"owner":{"account_id":903562,"reputation":15094,"user_id":939023,"accept_rate":90,"display_name":"Shivan Dragon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1316531647,"creation_date":1316531647,"answer_id":7487532,"question_id":7487460,"body_markdown":"1220227200 corresponds to Jan 15 1980 (and indeed new Date(1220227200).toString() returns &quot;Thu Jan 15 03:57:07 CET 1970&quot;). If you pass a long value to a date, that is before 01/01/1970 it will in fact return a date of 01/01/1970. Make sure that your values are not in this situation (lower than 82800000). ","title":"Converting Long to Date in Java returns 1970","body":"<p>1220227200 corresponds to Jan 15 1980 (and indeed new Date(1220227200).toString() returns \"Thu Jan 15 03:57:07 CET 1970\"). If you pass a long value to a date, that is before 01/01/1970 it will in fact return a date of 01/01/1970. Make sure that your values are not in this situation (lower than 82800000). </p>\n"},{"tags":[],"owner":{"account_id":2377334,"reputation":49,"user_id":2080308,"display_name":"Mohammad Namvar"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1369436976,"creation_date":1361100227,"answer_id":14920540,"question_id":7487460,"body_markdown":"Try this:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTimeInMillis(1220227200 * 1000);\r\n    System.out.println(cal.getTime());","title":"Converting Long to Date in Java returns 1970","body":"<p>Try this:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setTimeInMillis(1220227200 * 1000);\nSystem.out.println(cal.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":774978,"reputation":3711,"user_id":832174,"accept_rate":83,"display_name":"Jack G."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1387318396,"creation_date":1369425076,"answer_id":16742626,"question_id":7487460,"body_markdown":"The long values, most likely, correspond to [Epoch][1] timestamps, and the values are:\r\n\r\n1220227200 = Mon, 01 Sep 2008 00:00:00 GMT\r\n\r\n1220832000 = Mon, 08 Sep 2008 00:00:00 GMT\r\n\r\n1221436800 = Mon, 15 Sep 2008 00:00:00 GMT\r\n\r\nOne can convert these long values to [java.util.Date][2], taking into account the fact java.util.Date uses millisecs – as previously hinted, but with some flaw - like this:\r\n \r\n    // note: enforcing long literals (L), without it the values would just be wrong.\r\n    Date date = new Date(1220227200L * 1000L); \r\n\r\nNow, to display the date correctly, one can use java.text.DateFormat as illustrated hereafter:\r\n\r\n\r\n    DateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL);\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    System.out.println(&quot;Wrong date time value: &quot; + date);\r\n    System.out.println(&quot;Correct date time value: &quot; + df.format(date));\r\n\r\nBelow are the results of displaying the converted long value to java.util.Date without \r\nusing and using the DateFormat:\r\n\r\n\r\n    Date wrong (off by 2 hours): Mon Sep 01 02:00:00 CEST 2008\r\n    Correct date : Monday, 1 September 2008 00:00:00 o&#39;clock UTC\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html","title":"Converting Long to Date in Java returns 1970","body":"<p>The long values, most likely, correspond to <a href=\"https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\" rel=\"noreferrer\">Epoch</a> timestamps, and the values are:</p>\n\n<p>1220227200 = Mon, 01 Sep 2008 00:00:00 GMT</p>\n\n<p>1220832000 = Mon, 08 Sep 2008 00:00:00 GMT</p>\n\n<p>1221436800 = Mon, 15 Sep 2008 00:00:00 GMT</p>\n\n<p>One can convert these long values to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"noreferrer\">java.util.Date</a>, taking into account the fact java.util.Date uses millisecs – as previously hinted, but with some flaw - like this:</p>\n\n<pre><code>// note: enforcing long literals (L), without it the values would just be wrong.\nDate date = new Date(1220227200L * 1000L); \n</code></pre>\n\n<p>Now, to display the date correctly, one can use java.text.DateFormat as illustrated hereafter:</p>\n\n<pre><code>DateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL);\ndf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\nSystem.out.println(\"Wrong date time value: \" + date);\nSystem.out.println(\"Correct date time value: \" + df.format(date));\n</code></pre>\n\n<p>Below are the results of displaying the converted long value to java.util.Date without \nusing and using the DateFormat:</p>\n\n<pre><code>Date wrong (off by 2 hours): Mon Sep 01 02:00:00 CEST 2008\nCorrect date : Monday, 1 September 2008 00:00:00 o'clock UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3743934,"reputation":139,"user_id":3113082,"display_name":"Marlon"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1387318521,"creation_date":1387318111,"answer_id":20645731,"question_id":7487460,"body_markdown":"Only set the time in mills on Calendar  object\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    c.setTimeInMillis(1385355600000l);\r\n    System.out.println(c.get(Calendar.YEAR));\r\n    System.out.println(c.get(Calendar.MONTH));\r\n    System.out.println(c.get(Calendar.DAY_OF_MONTH));\r\n    // get Date\r\n    System.out.println(c.getTime());","title":"Converting Long to Date in Java returns 1970","body":"<p>Only set the time in mills on Calendar  object</p>\n\n<pre><code>Calendar c = Calendar.getInstance();\nc.setTimeInMillis(1385355600000l);\nSystem.out.println(c.get(Calendar.YEAR));\nSystem.out.println(c.get(Calendar.MONTH));\nSystem.out.println(c.get(Calendar.DAY_OF_MONTH));\n// get Date\nSystem.out.println(c.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1594419840,"creation_date":1387320895,"answer_id":20646345,"question_id":7487460,"body_markdown":"# tl;dr\r\n\r\n    java.time.Instant                    // Represent a moment as seen in UTC. Internally, a count of nanoseconds since 1970-01-01T00:00Z.\r\n    .ofEpochSecond( 1_220_227_200L )     // Pass a count of whole seconds since the same epoch reference of 1970-01-01T00:00Z.\r\n\r\n# Know Your Data\r\n\r\nPeople use various precisions in tracking time as a number since an [epoch][1]. So when you obtain some numbers to be interpreted as a count since an epoch, you must determine:\r\n\r\n - **What epoch?**&lt;br&gt;[Many epochs dates][2] have been used in various systems. Commonly used is [POSIX/Unix time][3], where the epoch is the first moment of 1970 in UTC. But you should not *assume* this epoch.\r\n - **What precision?**&lt;br&gt;Are we talking seconds, [milliseconds][4], [microseconds][5], or [nanoseconds][6] since the epoch?\r\n - **What time zone?**&lt;br&gt;Usually a count since epoch is in [UTC][7]/GMT time zone, that is, has no time zone offset at all. But sometimes, when involving inexperienced or date-time ignorant programmers, there may be an implied time zone.\r\n\r\nIn your case, as others noted, you seem to have been given seconds since the Unix epoch. But you are passing those seconds to a constructor that expects milliseconds. So the solution is to multiply by 1,000. \r\n\r\nLessons learned:\r\n\r\n - Determine, don&#39;t assume, the meaning of received data.\r\n - Read [the doc][8].\r\n\r\n![Graph showing various granularities of resolution in date-time systems including whole seconds, milliseconds, microseconds, and nanoseconds.][9]\r\n\r\n# Your Data\r\n\r\nYour data seems to be in whole seconds. If we assume an epoch of the beginning of 1970, and if we assume UTC time zone, then `1,220,227,200` is the first moment of the first day of September 2008.\r\n\r\n# Joda-Time\r\n\r\nThe java.util.Date and .Calendar classes bundled with Java are notoriously troublesome. Avoid them. Use instead either the [Joda-Time][10] library or the new [java.time package][11] bundled in Java 8 (and inspired by Joda-Time).\r\n\r\nNote that unlike j.u.Date, a [`DateTime`][12] in Joda-Time truly knows its own assigned [time zone][13]. So in the example Joda-Time 2.4 code seen below, note that we first parse the milliseconds using the default assumption of UTC. Then, secondly, we assign a time zone of Paris to adjust. Same moment in the timeline of the Universe, but different [wall-clock time][14]. For demonstration, we adjust again, to UTC. Almost always better to explicitly specify your desired/expected time zone rather than rely on an implicit default (often the cause of trouble in date-time work).\r\n\r\nWe need milliseconds to construct a DateTime. So take your input of seconds, and multiply by a thousand. Note that the result must be a 64-bit `long` as we would overflow a 32-bit `int`.\r\n\r\n    long input = 1_220_227_200L;  // Note the &quot;L&quot; appended to long integer literals.\r\n    long milliseconds = ( input * 1_000L ); // Use a &quot;long&quot;, not the usual &quot;int&quot;. Note the appended &quot;L&quot;.\r\n\r\nFeed that count of milliseconds to constructor. That particular constructor assumes the count is from the Unix epoch of 1970. So adjust time zone as desired, after construction.\r\n\r\nUse [proper time zone][15] names, a combination of continent and city/region. Never use 3 or 4 letter codes such as `EST` as they are neither standardized not unique.\r\n\r\n    DateTime dateTimeParis = new DateTime( milliseconds ).withZone( DateTimeZone.forID( &quot;Europe/Paris&quot; ) );\r\n\r\nFor demonstration, adjust the time zone again.\r\n\r\n    DateTime dateTimeUtc = dateTimeParis.withZone( DateTimeZone.UTC );\r\n    DateTime dateTimeMontr&#233;al = dateTimeParis.withZone( DateTimeZone.forID( &quot;America/Montreal&quot; ) );\r\n\r\nDump to console. Note how the date is different in Montr&#233;al, as the new day has begun in Europe but not yet in America.\r\n\r\n    System.out.println( &quot;dateTimeParis: &quot; + dateTimeParis );\r\n    System.out.println( &quot;dateTimeUTC: &quot; + dateTimeUtc );\r\n    System.out.println( &quot;dateTimeMontr&#233;al: &quot; + dateTimeMontr&#233;al );\r\n\r\nWhen run.\r\n    \r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    dateTimeParis: 2008-09-01T02:00:00.000+02:00\r\n    dateTimeUTC: 2008-09-01T00:00:00.000Z\r\n    dateTimeMontr&#233;al: 2008-08-31T20:00:00.000-04:00\r\n\r\n# java.time\r\n\r\nThe makers of Joda-Time have asked us to migrate to its replacement, the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework as soon as is convenient. While Joda-Time continues to be actively supported, all future development will be done on the java.time classes and their extensions in the ThreeTen-Extra project.\r\n\r\nThe java-time framework is defined by [JSR 310][16] and built into Java 8 and later. The java.time classes have been back-ported to Java 6 &amp; 7 on the [ThreeTen-Backport][17] project and to Android in the [ThreeTenABP][18] project. \r\n\r\nAn [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) is a moment on the timeline in [UTC][19] with a resolution of nanoseconds. Its epoch is the first moment of 1970 in UTC.\r\n\r\n    Instant instant = Instant.ofEpochSecond( 1_220_227_200L );\r\n\r\nApply an [offset-from-UTC][20] [`ZoneOffset`](https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html) to get an [`OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html). \r\n\r\nBetter yet, if known, apply a time zone [`ZoneId`](https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html) to get a [`ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html). \r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\r\n\r\n\r\n[![Table of all date-time types in Java, both modern and legacy][21]][21]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\r\n  [2]: https://en.wikipedia.org/wiki/Epoch_%28reference_date%29#Notable_epoch_dates_in_computing\r\n  [3]: https://en.wikipedia.org/wiki/Unix_time\r\n  [4]: https://en.wikipedia.org/wiki/Millisecond\r\n  [5]: https://en.wikipedia.org/wiki/Microsecond\r\n  [6]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [7]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [8]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date%28long%29\r\n  [9]: http://i.stack.imgur.com/OW0RW.png\r\n  [10]: http://www.joda.org/joda-time/\r\n  [11]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [12]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [13]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html\r\n  [14]: http://en.wikipedia.org/wiki/Wall-clock_time\r\n  [15]: https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [16]: https://jcp.org/en/jsr/detail?id=310\r\n  [17]: http://www.threeten.org/threetenbp/\r\n  [18]: https://github.com/JakeWharton/ThreeTenABP\r\n  [19]: https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [20]: https://en.m.wikipedia.org/wiki/UTC_offset\r\n  [21]: https://i.stack.imgur.com/WyAl2.png","title":"Converting Long to Date in Java returns 1970","body":"<h1>tl;dr</h1>\n<pre><code>java.time.Instant                    // Represent a moment as seen in UTC. Internally, a count of nanoseconds since 1970-01-01T00:00Z.\n.ofEpochSecond( 1_220_227_200L )     // Pass a count of whole seconds since the same epoch reference of 1970-01-01T00:00Z.\n</code></pre>\n<h1>Know Your Data</h1>\n<p>People use various precisions in tracking time as a number since an <a href=\"https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\" rel=\"noreferrer\">epoch</a>. So when you obtain some numbers to be interpreted as a count since an epoch, you must determine:</p>\n<ul>\n<li><strong>What epoch?</strong><br><a href=\"https://en.wikipedia.org/wiki/Epoch_%28reference_date%29#Notable_epoch_dates_in_computing\" rel=\"noreferrer\">Many epochs dates</a> have been used in various systems. Commonly used is <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"noreferrer\">POSIX/Unix time</a>, where the epoch is the first moment of 1970 in UTC. But you should not <em>assume</em> this epoch.</li>\n<li><strong>What precision?</strong><br>Are we talking seconds, <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a>, <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"noreferrer\">microseconds</a>, or <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> since the epoch?</li>\n<li><strong>What time zone?</strong><br>Usually a count since epoch is in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>/GMT time zone, that is, has no time zone offset at all. But sometimes, when involving inexperienced or date-time ignorant programmers, there may be an implied time zone.</li>\n</ul>\n<p>In your case, as others noted, you seem to have been given seconds since the Unix epoch. But you are passing those seconds to a constructor that expects milliseconds. So the solution is to multiply by 1,000.</p>\n<p>Lessons learned:</p>\n<ul>\n<li>Determine, don't assume, the meaning of received data.</li>\n<li>Read <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date%28long%29\" rel=\"noreferrer\">the doc</a>.</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/OW0RW.png\" alt=\"Graph showing various granularities of resolution in date-time systems including whole seconds, milliseconds, microseconds, and nanoseconds.\" /></p>\n<h1>Your Data</h1>\n<p>Your data seems to be in whole seconds. If we assume an epoch of the beginning of 1970, and if we assume UTC time zone, then <code>1,220,227,200</code> is the first moment of the first day of September 2008.</p>\n<h1>Joda-Time</h1>\n<p>The java.util.Date and .Calendar classes bundled with Java are notoriously troublesome. Avoid them. Use instead either the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> library or the new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a> bundled in Java 8 (and inspired by Joda-Time).</p>\n<p>Note that unlike j.u.Date, a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\"><code>DateTime</code></a> in Joda-Time truly knows its own assigned <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html\" rel=\"noreferrer\">time zone</a>. So in the example Joda-Time 2.4 code seen below, note that we first parse the milliseconds using the default assumption of UTC. Then, secondly, we assign a time zone of Paris to adjust. Same moment in the timeline of the Universe, but different <a href=\"http://en.wikipedia.org/wiki/Wall-clock_time\" rel=\"noreferrer\">wall-clock time</a>. For demonstration, we adjust again, to UTC. Almost always better to explicitly specify your desired/expected time zone rather than rely on an implicit default (often the cause of trouble in date-time work).</p>\n<p>We need milliseconds to construct a DateTime. So take your input of seconds, and multiply by a thousand. Note that the result must be a 64-bit <code>long</code> as we would overflow a 32-bit <code>int</code>.</p>\n<pre><code>long input = 1_220_227_200L;  // Note the &quot;L&quot; appended to long integer literals.\nlong milliseconds = ( input * 1_000L ); // Use a &quot;long&quot;, not the usual &quot;int&quot;. Note the appended &quot;L&quot;.\n</code></pre>\n<p>Feed that count of milliseconds to constructor. That particular constructor assumes the count is from the Unix epoch of 1970. So adjust time zone as desired, after construction.</p>\n<p>Use <a href=\"https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">proper time zone</a> names, a combination of continent and city/region. Never use 3 or 4 letter codes such as <code>EST</code> as they are neither standardized not unique.</p>\n<pre><code>DateTime dateTimeParis = new DateTime( milliseconds ).withZone( DateTimeZone.forID( &quot;Europe/Paris&quot; ) );\n</code></pre>\n<p>For demonstration, adjust the time zone again.</p>\n<pre><code>DateTime dateTimeUtc = dateTimeParis.withZone( DateTimeZone.UTC );\nDateTime dateTimeMontréal = dateTimeParis.withZone( DateTimeZone.forID( &quot;America/Montreal&quot; ) );\n</code></pre>\n<p>Dump to console. Note how the date is different in Montréal, as the new day has begun in Europe but not yet in America.</p>\n<pre><code>System.out.println( &quot;dateTimeParis: &quot; + dateTimeParis );\nSystem.out.println( &quot;dateTimeUTC: &quot; + dateTimeUtc );\nSystem.out.println( &quot;dateTimeMontréal: &quot; + dateTimeMontréal );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>dateTimeParis: 2008-09-01T02:00:00.000+02:00\ndateTimeUTC: 2008-09-01T00:00:00.000Z\ndateTimeMontréal: 2008-08-31T20:00:00.000-04:00\n</code></pre>\n<h1>java.time</h1>\n<p>The makers of Joda-Time have asked us to migrate to its replacement, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework as soon as is convenient. While Joda-Time continues to be actively supported, all future development will be done on the java.time classes and their extensions in the ThreeTen-Extra project.</p>\n<p>The java-time framework is defined by <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a> and built into Java 8 and later. The java.time classes have been back-ported to Java 6 &amp; 7 on the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a> project and to Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> project.</p>\n<p>An <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> is a moment on the timeline in <a href=\"https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of nanoseconds. Its epoch is the first moment of 1970 in UTC.</p>\n<pre><code>Instant instant = Instant.ofEpochSecond( 1_220_227_200L );\n</code></pre>\n<p>Apply an <a href=\"https://en.m.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> to get an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a>.</p>\n<p>Better yet, if known, apply a time zone <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> to get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WyAl2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WyAl2.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11079417,"reputation":760,"user_id":8135029,"display_name":"abhimanyu"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1541150828,"creation_date":1541142688,"answer_id":53114084,"question_id":7487460,"body_markdown":"Try this with adjusting the date format.\r\n\r\n    long longtime = 1212580300;\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MMddyyHHmm&quot;);\r\n    Date date = (Date) dateFormat.parseObject(longtime + &quot;&quot;);\r\n    System.out.println(date);\r\n\r\nNote: Check for 24 hours or 12 hours cycle.","title":"Converting Long to Date in Java returns 1970","body":"<p>Try this with adjusting the date format.</p>\n\n<pre><code>long longtime = 1212580300;\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"MMddyyHHmm\");\nDate date = (Date) dateFormat.parseObject(longtime + \"\");\nSystem.out.println(date);\n</code></pre>\n\n<p>Note: Check for 24 hours or 12 hours cycle.</p>\n"},{"tags":[],"owner":{"account_id":10385608,"reputation":30,"user_id":10926939,"display_name":"Andrew Samsonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644413674,"creation_date":1644413674,"answer_id":71050526,"question_id":7487460,"body_markdown":"Because 1220227200 ms = 338,952 hours. \r\njava.util.Date has constructor new Date(Long milliseconds) - Allocates a Date object and initializes it to represent the specified number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely January 1, 1970, 00:00:00 GMT.\r\nSo, in your case just remember 1 sec = 1000 millisec","title":"Converting Long to Date in Java returns 1970","body":"<p>Because 1220227200 ms = 338,952 hours.\njava.util.Date has constructor new Date(Long milliseconds) - Allocates a Date object and initializes it to represent the specified number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely January 1, 1970, 00:00:00 GMT.\nSo, in your case just remember 1 sec = 1000 millisec</p>\n"}],"owner":{"account_id":706336,"reputation":1379,"user_id":909174,"display_name":"mmmiki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433016,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"answer_count":12,"score":137,"last_activity_date":1685545026,"creation_date":1316531313,"question_id":7487460,"body_markdown":"I have list with long values (for example: 1220227200, 1220832000, 1221436800...) which I downloaded from web service. I must convert it to Dates. Unfortunately this way, for example:\r\n\r\n    Date d = new Date(1220227200);\r\n\r\nreturns 1 Jan 1970. Anyone know another way to convert it correctly?","title":"Converting Long to Date in Java returns 1970","body":"<p>I have list with long values (for example: 1220227200, 1220832000, 1221436800...) which I downloaded from web service. I must convert it to Dates. Unfortunately this way, for example:</p>\n\n<pre><code>Date d = new Date(1220227200);\n</code></pre>\n\n<p>returns 1 Jan 1970. Anyone know another way to convert it correctly?</p>\n"},{"tags":["java","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":27463269,"reputation":1,"user_id":20953442,"display_name":"shree Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685544974,"creation_date":1685544974,"answer_id":76374826,"question_id":76374809,"body_markdown":"If you have already imported the `androidx.annotation.NonNull` package and added the `implementation &#39;androidx.annotation:annotation:1.6.0&#39;` dependency in your `build.gradle` file, but you are still getting the error &quot;Cannot resolve symbol &#39;NonNull&#39;,&quot; there are a few possible solutions you can try:\r\n\r\n1. Make sure you have the latest version of the Android Gradle Plugin and AndroidX annotations. You can check for updates by going to your project&#39;s `build.gradle` file and verifying that you have the latest versions specified. For example:\r\n```gradle\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.2.2&#39; // Make sure this version is up to date\r\n    }\r\n}\r\n\r\n...\r\n\r\ndependencies {\r\n    implementation &#39;androidx.annotation:annotation:1.6.0&#39; // Make sure this version is up to date\r\n}\r\n```\r\n\r\n2. Clean and rebuild your project. Sometimes, stale or cached files can cause issues. Go to `Build &gt; Clean Project` in Android Studio and then `Build &gt; Rebuild Project` to ensure a clean build.\r\n\r\n3. Check for any conflicting dependencies. In your `build.gradle` file, make sure there are no other dependencies that might conflict with the `androidx.annotation` package. Remove any duplicates or conflicting dependencies.\r\n\r\n4. Verify that your import statements are correct. Double-check your import statements in your code to ensure that you are importing the correct package. The correct import statement for `NonNull` should be:\r\n```java\r\nimport androidx.annotation.NonNull;\r\n```\r\n\r\n5. Check if you are using the correct annotation. The `@NonNull` annotation is part of the AndroidX annotations library. If you are using it for Kotlin code, make sure you import `kotlin-annotations` instead of `androidx.annotation`. Add the following dependency to your `build.gradle` file:\r\n```gradle\r\nimplementation &#39;org.jetbrains.kotlin:kotlin-annotations:1.4.10&#39; // Make sure this version is up to date\r\n```\r\n\r\nIf none of these solutions work, there might be a more specific issue with your project setup or configuration. You can provide more details about your project structure and the specific error messages you are encountering for further assistance.","title":"Android Studio, Cannot resolve symbol &#39;NonNull&#39;, import androidx.annotation.NonNull; is causing the problem","body":"<p>If you have already imported the <code>androidx.annotation.NonNull</code> package and added the <code>implementation 'androidx.annotation:annotation:1.6.0'</code> dependency in your <code>build.gradle</code> file, but you are still getting the error &quot;Cannot resolve symbol 'NonNull',&quot; there are a few possible solutions you can try:</p>\n<ol>\n<li>Make sure you have the latest version of the Android Gradle Plugin and AndroidX annotations. You can check for updates by going to your project's <code>build.gradle</code> file and verifying that you have the latest versions specified. For example:</li>\n</ol>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.2' // Make sure this version is up to date\n    }\n}\n\n...\n\ndependencies {\n    implementation 'androidx.annotation:annotation:1.6.0' // Make sure this version is up to date\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Clean and rebuild your project. Sometimes, stale or cached files can cause issues. Go to <code>Build &gt; Clean Project</code> in Android Studio and then <code>Build &gt; Rebuild Project</code> to ensure a clean build.</p>\n</li>\n<li><p>Check for any conflicting dependencies. In your <code>build.gradle</code> file, make sure there are no other dependencies that might conflict with the <code>androidx.annotation</code> package. Remove any duplicates or conflicting dependencies.</p>\n</li>\n<li><p>Verify that your import statements are correct. Double-check your import statements in your code to ensure that you are importing the correct package. The correct import statement for <code>NonNull</code> should be:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.annotation.NonNull;\n</code></pre>\n<ol start=\"5\">\n<li>Check if you are using the correct annotation. The <code>@NonNull</code> annotation is part of the AndroidX annotations library. If you are using it for Kotlin code, make sure you import <code>kotlin-annotations</code> instead of <code>androidx.annotation</code>. Add the following dependency to your <code>build.gradle</code> file:</li>\n</ol>\n<pre><code>implementation 'org.jetbrains.kotlin:kotlin-annotations:1.4.10' // Make sure this version is up to date\n</code></pre>\n<p>If none of these solutions work, there might be a more specific issue with your project setup or configuration. You can provide more details about your project structure and the specific error messages you are encountering for further assistance.</p>\n"}],"owner":{"account_id":28720312,"reputation":1,"user_id":21994166,"display_name":"WatermelonCrushr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685544974,"creation_date":1685544852,"question_id":76374809,"body_markdown":"I have imported NonNull with import androidx.annotation.NonNull;, however it brings up the error Cannot resolve symbol &#39;NonNull&#39;, my build.gradle already has implementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n\r\nI tried implementing implementation &#39;androidx.annotation:annotation:1.6.0&#39; in my build.gradle, and I tried migrating to androidx, I also invalidated the caches, and tried many other variations of import androidx.annotation.NonNull;\r\nI also rebuilt, and cleaned the project multiple times.\r\n\r\nThis error has repeated in the following:\r\n```\r\nimport androidx.annotation.RawRes;\r\nimport androidx.annotation.SdkConstant;\r\nimport androidx.annotation.SdkConstant.SdkConstantType;\r\n```","title":"Android Studio, Cannot resolve symbol &#39;NonNull&#39;, import androidx.annotation.NonNull; is causing the problem","body":"<p>I have imported NonNull with import androidx.annotation.NonNull;, however it brings up the error Cannot resolve symbol 'NonNull', my build.gradle already has implementation 'androidx.annotation:annotation:1.6.0'</p>\n<p>I tried implementing implementation 'androidx.annotation:annotation:1.6.0' in my build.gradle, and I tried migrating to androidx, I also invalidated the caches, and tried many other variations of import androidx.annotation.NonNull;\nI also rebuilt, and cleaned the project multiple times.</p>\n<p>This error has repeated in the following:</p>\n<pre><code>import androidx.annotation.RawRes;\nimport androidx.annotation.SdkConstant;\nimport androidx.annotation.SdkConstant.SdkConstantType;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1551883458,"creation_date":1551883458,"answer_id":55025763,"question_id":55024731,"body_markdown":"To solve this, please change the following line of code:\r\n\r\n    database.child(&quot;Users&quot;).child(authorID).addValueEventListener(/* ... */);\r\n\r\nto\r\n\r\n    database.child(&quot;Users&quot;).child(authorID).addListenerForSingleValueEvent(/* ... */);\r\n\r\nTo get the data only once. Using `addValueEventListener()` it means that you are getting the data in realtime and for every change `onDataChange()` is called again.","title":"Android Firebase Database keeps updating value","body":"<p>To solve this, please change the following line of code:</p>\n\n<pre><code>database.child(\"Users\").child(authorID).addValueEventListener(/* ... */);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>database.child(\"Users\").child(authorID).addListenerForSingleValueEvent(/* ... */);\n</code></pre>\n\n<p>To get the data only once. Using <code>addValueEventListener()</code> it means that you are getting the data in realtime and for every change <code>onDataChange()</code> is called again.</p>\n"},{"tags":[],"owner":{"account_id":26077378,"reputation":1,"user_id":19776138,"display_name":"Mr Etineh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685544932,"creation_date":1685534297,"answer_id":76373255,"question_id":55024731,"body_markdown":"use `.addValueEventListener` if you want it to change a value anything another value changes\r\n\r\n\r\nuse `.addListenerForSingleValueEvent` when you want it to change only when clicked.","title":"Android Firebase Database keeps updating value","body":"<p>use <code>.addValueEventListener</code> if you want it to change a value anything another value changes</p>\n<p>use <code>.addListenerForSingleValueEvent</code> when you want it to change only when clicked.</p>\n"}],"owner":{"account_id":14440800,"reputation":153,"user_id":10431501,"display_name":"user10431501"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55025763,"answer_count":2,"score":1,"last_activity_date":1685544932,"creation_date":1551880344,"question_id":55024731,"body_markdown":"I am trying to take a authors score from the Firebase realtime database. I succesfully get the score value. Then I add 100 onto this value and insert the new value, however when i insert the score value keeps increasing by 100 for example if the score was at 500 instead of changing to 600 it will change to 600, then 700, then 800 etc. If i display a Toast in the `addExtraScore` method it will display once and as intended.\r\n\r\nActivity\r\n\r\n    private void getAuthorScore()\r\n        {\r\n            database = FirebaseDatabase.getInstance().getReference();\r\n            database.child(&quot;Users&quot;).child(authorID).addValueEventListener(new ValueEventListener()\r\n            {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot)\r\n                {\r\n                    User author = dataSnapshot.getValue(User.class);\r\n    \r\n                    authorScore = author.getScore();\r\n    \r\n                    addExtraScore();\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError)\r\n                {\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private void addExtraScore()\r\n        {\r\n            int score = authorScore + 100;\r\n    \r\n            FirebaseUtil.updateUsersScore(authorID, score);\r\n        }\r\n\r\n\r\nFirebase Util\r\n    private static DatabaseReference db;\r\n\r\n    public static void updateUsersScore(String id, int score)\r\n    {\r\n        db = FirebaseDatabase.getInstance().getReference();\r\n        db.child(&quot;Users&quot;).child(id).child(&quot;score&quot;).setValue(score);\r\n    }","title":"Android Firebase Database keeps updating value","body":"<p>I am trying to take a authors score from the Firebase realtime database. I succesfully get the score value. Then I add 100 onto this value and insert the new value, however when i insert the score value keeps increasing by 100 for example if the score was at 500 instead of changing to 600 it will change to 600, then 700, then 800 etc. If i display a Toast in the <code>addExtraScore</code> method it will display once and as intended.</p>\n\n<p>Activity</p>\n\n<pre><code>private void getAuthorScore()\n    {\n        database = FirebaseDatabase.getInstance().getReference();\n        database.child(\"Users\").child(authorID).addValueEventListener(new ValueEventListener()\n        {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot)\n            {\n                User author = dataSnapshot.getValue(User.class);\n\n                authorScore = author.getScore();\n\n                addExtraScore();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError)\n            {\n\n            }\n        });\n    }\n\n    private void addExtraScore()\n    {\n        int score = authorScore + 100;\n\n        FirebaseUtil.updateUsersScore(authorID, score);\n    }\n</code></pre>\n\n<p>Firebase Util\n    private static DatabaseReference db;</p>\n\n<pre><code>public static void updateUsersScore(String id, int score)\n{\n    db = FirebaseDatabase.getInstance().getReference();\n    db.child(\"Users\").child(id).child(\"score\").setValue(score);\n}\n</code></pre>\n"},{"tags":["java","reactive-programming","rx-java","reactive-streams"],"answers":[{"tags":[],"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450956078,"creation_date":1450956078,"answer_id":34452016,"question_id":34451886,"body_markdown":"I suspect that what you need is 2 queues, not observables.  \r\n\r\nQueueA has a priority and QueueB is only processed once QueueA gets a quit/end of messages signal.\r\n\r\nDo you think that this scenario may be suitable?","title":"Observable composed of cold and hot observables","body":"<p>I suspect that what you need is 2 queues, not observables.  </p>\n\n<p>QueueA has a priority and QueueB is only processed once QueueA gets a quit/end of messages signal.</p>\n\n<p>Do you think that this scenario may be suitable?</p>\n"},{"tags":[],"owner":{"account_id":305625,"reputation":2932,"user_id":615903,"display_name":"Gluck"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1450958240,"creation_date":1450958240,"answer_id":34452445,"question_id":34451886,"body_markdown":"If B is hot, then simply `A.concat(B)` should work, because B will be subscribed to only when A finishes.","title":"Observable composed of cold and hot observables","body":"<p>If B is hot, then simply <code>A.concat(B)</code> should work, because B will be subscribed to only when A finishes.</p>\n"}],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34452445,"answer_count":2,"score":3,"last_activity_date":1685544394,"creation_date":1450955512,"question_id":34451886,"body_markdown":"I&#39;m having hard time finding proper way of composing an observable which will emit all items from the given cold observable `A` and as soon as its completes continue with hot observable `B`.\r\n\r\nThis is my specific use case : I have a data collector which in realtime appends data to the append only database (an event stream). And when a request arrives for streaming all the event stream it is expected to start streaming everything from database and as soon as database has no more data it shall start streaming whatever the collector streams... as you see both are available as observables.\r\n\r\nI&#39;m new to reactive programming, hence my question may be a bit abstract.\r\n\r\nHere is a diagram for this behavior : \r\n\r\n\r\n    B ----B---B---B----B--B---B---B---X------&gt;\r\n                       |  |   |   |   |\r\n                       |  |   |   |   |\r\n    R --A---A--A----?--B--B---B---B---X------&gt;\r\n        |   |  |    |\r\n        |   |  |    |\r\n    A --A---A--A----X------------------------&gt;\r\n\r\nHere `R` is our result observable and `A` is the cold one, `B` is the hot one. `R` is terminating with `B`.","title":"Observable composed of cold and hot observables","body":"<p>I'm having hard time finding proper way of composing an observable which will emit all items from the given cold observable <code>A</code> and as soon as its completes continue with hot observable <code>B</code>.</p>\n<p>This is my specific use case : I have a data collector which in realtime appends data to the append only database (an event stream). And when a request arrives for streaming all the event stream it is expected to start streaming everything from database and as soon as database has no more data it shall start streaming whatever the collector streams... as you see both are available as observables.</p>\n<p>I'm new to reactive programming, hence my question may be a bit abstract.</p>\n<p>Here is a diagram for this behavior :</p>\n<pre><code>B ----B---B---B----B--B---B---B---X------&gt;\n                   |  |   |   |   |\n                   |  |   |   |   |\nR --A---A--A----?--B--B---B---B---X------&gt;\n    |   |  |    |\n    |   |  |    |\nA --A---A--A----X------------------------&gt;\n</code></pre>\n<p>Here <code>R</code> is our result observable and <code>A</code> is the cold one, <code>B</code> is the hot one. <code>R</code> is terminating with <code>B</code>.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":434398,"reputation":473,"user_id":820345,"display_name":"Lokesh Gupta"},"score":0,"creation_date":1685615480,"post_id":76374516,"comment_id":134686253,"body_markdown":"A simple google search will give you tons of examples.","body":"A simple google search will give you tons of examples."}],"answers":[{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685544190,"creation_date":1685544190,"answer_id":76374718,"question_id":76374516,"body_markdown":"in your controller you can use \r\n\r\n    @PostMapping(path = &quot;/image&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n    public ResponseEntity&lt;UserImageModel&gt; uploadImage(@ModelAttribute UserImageRequestModel model) {\r\n        return new ResponseEntity&lt;&gt;(userProfileService.postImage(model), HttpStatus.OK);\r\n    }\r\n\r\n\r\nand for your request : \r\n\r\n    @Getter\r\n    @Setter\r\n    public class UserImageRequestModel {\r\n    \r\n        private MultipartFile file;\r\n    \r\n        private Long userId;\r\n    }\r\n\r\n","title":"How can I use SpringBoot to create a REST endpoint for file uploads?","body":"<p>in your controller you can use</p>\n<pre><code>@PostMapping(path = &quot;/image&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\npublic ResponseEntity&lt;UserImageModel&gt; uploadImage(@ModelAttribute UserImageRequestModel model) {\n    return new ResponseEntity&lt;&gt;(userProfileService.postImage(model), HttpStatus.OK);\n}\n</code></pre>\n<p>and for your request :</p>\n<pre><code>@Getter\n@Setter\npublic class UserImageRequestModel {\n\n    private MultipartFile file;\n\n    private Long userId;\n}\n</code></pre>\n"}],"owner":{"account_id":26142379,"reputation":1,"user_id":19831565,"display_name":"Harsha Vardhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1685544190,"creation_date":1685542872,"question_id":76374516,"body_markdown":"How to write a rest endpoint to upload a document using springboot microservices \r\n\r\nI need to to write a document upload logic in service class and how can i write springboot to create a  rest end point in controller class give me some idea about it ","title":"How can I use SpringBoot to create a REST endpoint for file uploads?","body":"<p>How to write a rest endpoint to upload a document using springboot microservices</p>\n<p>I need to to write a document upload logic in service class and how can i write springboot to create a  rest end point in controller class give me some idea about it</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":22997531,"reputation":119,"user_id":17122042,"display_name":"Majed Al-Moqbeli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634167137,"creation_date":1634167137,"answer_id":69563392,"question_id":69561678,"body_markdown":"There is a class `NetworkInfo` it have a function \r\n`getTypeName()` that return string value contain `MOBILE` or `WIFI`\r\n\r\nI try to write function I hope it will be helpful for you : \r\n\r\n```\r\n    /**\r\n     * @param mType : type of network connection &quot;MOBILE&quot; or &quot;WIFI&quot;\r\n     * @return : true of false\r\n     */\r\n    public boolean isMyType(String mType) {\r\n        ConnectivityManager connectivityManager = (ConnectivityManager)\r\n                getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\r\n        //\r\n        if (activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected()) {\r\n            return activeNetworkInfo.getTypeName().equals(mType);\r\n        } else {\r\n            // no internet connection\r\n            return false;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nthan you can call it :\r\n```\r\n\r\n  boolean isMobile = isMyType(&quot;MOBILE&quot;);\r\n  boolean isWifi = isMyType(&quot;WIFI&quot;);\r\n\r\n  // for logcat debug\r\n  Log.i(&quot;typeNetwork&quot;, &quot;is mobile :&quot; + isMobile);\r\n  Log.i(&quot;typeNetwork&quot;, &quot;is wifi :&quot; + isWifi);\r\n\r\n```\r\n\r\nlet me know if this works for you..\r\n\r\n","title":"how to get network connection type without using READ_PHONE_STATE permission in android 10?","body":"<p>There is a class <code>NetworkInfo</code> it have a function\n<code>getTypeName()</code> that return string value contain <code>MOBILE</code> or <code>WIFI</code></p>\n<p>I try to write function I hope it will be helpful for you :</p>\n<pre><code>    /**\n     * @param mType : type of network connection &quot;MOBILE&quot; or &quot;WIFI&quot;\n     * @return : true of false\n     */\n    public boolean isMyType(String mType) {\n        ConnectivityManager connectivityManager = (ConnectivityManager)\n                getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n        //\n        if (activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected()) {\n            return activeNetworkInfo.getTypeName().equals(mType);\n        } else {\n            // no internet connection\n            return false;\n        }\n    }\n\n</code></pre>\n<p>than you can call it :</p>\n<pre><code>\n  boolean isMobile = isMyType(&quot;MOBILE&quot;);\n  boolean isWifi = isMyType(&quot;WIFI&quot;);\n\n  // for logcat debug\n  Log.i(&quot;typeNetwork&quot;, &quot;is mobile :&quot; + isMobile);\n  Log.i(&quot;typeNetwork&quot;, &quot;is wifi :&quot; + isWifi);\n\n</code></pre>\n<p>let me know if this works for you..</p>\n"},{"tags":[],"owner":{"account_id":16500335,"reputation":21,"user_id":11921803,"display_name":"Prattham Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685544094,"creation_date":1685544094,"answer_id":76374704,"question_id":69561678,"body_markdown":"Kotlin version to the above answer - \r\n\r\n    val connectivityManager =\r\n                context?.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager?\r\n            val activeNetworkInfo: NetworkInfo? = connectivityManager?.activeNetworkInfo\r\n\r\n            if (activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected) {\r\n                return if (activeNetworkInfo.typeName.equals(&quot;WIFI&quot;)) {\r\n                    Log.d(&quot;prattham&quot;, &quot;getNetworkSpeed: -&gt; activeNetworkInfo is WIFI &quot;)\r\n\r\n                } else if (activeNetworkInfo.typeName.equals(&quot;MOBILE&quot;)) {\r\n                   \r\n\r\n                }else{\r\n                   \r\n\r\n                }\r\n            } else {\r\n                // no internet connection\r\n              \r\n            }","title":"how to get network connection type without using READ_PHONE_STATE permission in android 10?","body":"<p>Kotlin version to the above answer -</p>\n<pre><code>val connectivityManager =\n            context?.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager?\n        val activeNetworkInfo: NetworkInfo? = connectivityManager?.activeNetworkInfo\n\n        if (activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected) {\n            return if (activeNetworkInfo.typeName.equals(&quot;WIFI&quot;)) {\n                Log.d(&quot;prattham&quot;, &quot;getNetworkSpeed: -&gt; activeNetworkInfo is WIFI &quot;)\n\n            } else if (activeNetworkInfo.typeName.equals(&quot;MOBILE&quot;)) {\n               \n\n            }else{\n               \n\n            }\n        } else {\n            // no internet connection\n          \n        }\n</code></pre>\n"}],"owner":{"account_id":3019135,"reputation":1747,"user_id":2560571,"accept_rate":54,"display_name":"Chief Madog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685544094,"creation_date":1634155386,"question_id":69561678,"body_markdown":"One of the things android 10 is changing is that we cannot get READ_PHONE_STATE automatically,\r\nAnd have to direct the user to manually give the permission by going to app info &gt; permissions &gt; phone &gt; turn on.\r\n\r\nis there any way to get network state (if the phone is on wifi / 3g, etc) on android 10 and above\r\nWithout directing the user to go to the application settings by himself and change the permission manually? \r\n\r\n\r\nI was thinking to bypass the permission asking with \r\n\r\n    ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    NetworkCapabilities caps = cm.getNetworkCapabilities(cm.getActivityNetwork());\r\n    boolean isMobile = caps.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR);\r\n    boolean isWifi = caps.hasTransport(NetworkCapabilities.TRANSPORT_WIFI);\r\n\r\nwould that be ok and then not needed to use the READ_PHONE_STATE permission ? ","title":"how to get network connection type without using READ_PHONE_STATE permission in android 10?","body":"<p>One of the things android 10 is changing is that we cannot get READ_PHONE_STATE automatically,\nAnd have to direct the user to manually give the permission by going to app info &gt; permissions &gt; phone &gt; turn on.</p>\n<p>is there any way to get network state (if the phone is on wifi / 3g, etc) on android 10 and above\nWithout directing the user to go to the application settings by himself and change the permission manually?</p>\n<p>I was thinking to bypass the permission asking with</p>\n<pre><code>ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\nNetworkCapabilities caps = cm.getNetworkCapabilities(cm.getActivityNetwork());\nboolean isMobile = caps.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR);\nboolean isWifi = caps.hasTransport(NetworkCapabilities.TRANSPORT_WIFI);\n</code></pre>\n<p>would that be ok and then not needed to use the READ_PHONE_STATE permission ?</p>\n"},{"tags":["java","android","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":17230050,"reputation":6368,"user_id":12474862,"display_name":"Nolan H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685543782,"creation_date":1685543782,"answer_id":76374639,"question_id":76374279,"body_markdown":"I&#39;m not aware of any direct support for this in the native SDKs, but you can inspect the [implementation details][1] of the `stripe-reactive-native` PR you references. Seeing how this was implemented for Android within React Native should allow you to follow a similar pattern with your own native app.\r\n\r\n\r\n  [1]: https://github.com/stripe/stripe-react-native/pull/1287/files","title":"How to close Stripe PaymentSheet programatically from code in Android","body":"<p>I'm not aware of any direct support for this in the native SDKs, but you can inspect the <a href=\"https://github.com/stripe/stripe-react-native/pull/1287/files\" rel=\"nofollow noreferrer\">implementation details</a> of the <code>stripe-reactive-native</code> PR you references. Seeing how this was implemented for Android within React Native should allow you to follow a similar pattern with your own native app.</p>\n"}],"owner":{"account_id":484498,"reputation":15,"user_id":900207,"display_name":"shailesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76374639,"answer_count":1,"score":0,"last_activity_date":1685543782,"creation_date":1685541349,"question_id":76374279,"body_markdown":"I have implemented Stripe PaymentIntent using JAVA code described [here](https://stripe.com/docs/payments/accept-a-payment?platform=android).\r\n\r\nI have opened this PaymentSheet in a separate Activity to display the timer above this sheet because we are not able to add any view in the PaymentSheet. I have achieved this by adding a timer view in the activity layout which is opening this PaymentSheet.\r\n\r\nNow, I want to close the PaymentSheet programmatically when my timer gets off. I have tried to finish the activity when timer gets off but PaymentSheet keeps open and only the Activity gets finished. There is no method to close PaymentSheet from Stipe SDK. Stripe react-native SDK is having timeout parameter to close the PaymentSheet but similar thing is not available in the native Android SDK. [Reference for react-native](https://github.com/stripe/stripe-react-native/pull/1287)\r\n\r\nAny idea/suggestion would be appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/w5JoB.png","title":"How to close Stripe PaymentSheet programatically from code in Android","body":"<p>I have implemented Stripe PaymentIntent using JAVA code described <a href=\"https://stripe.com/docs/payments/accept-a-payment?platform=android\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I have opened this PaymentSheet in a separate Activity to display the timer above this sheet because we are not able to add any view in the PaymentSheet. I have achieved this by adding a timer view in the activity layout which is opening this PaymentSheet.</p>\n<p>Now, I want to close the PaymentSheet programmatically when my timer gets off. I have tried to finish the activity when timer gets off but PaymentSheet keeps open and only the Activity gets finished. There is no method to close PaymentSheet from Stipe SDK. Stripe react-native SDK is having timeout parameter to close the PaymentSheet but similar thing is not available in the native Android SDK. <a href=\"https://github.com/stripe/stripe-react-native/pull/1287\" rel=\"nofollow noreferrer\">Reference for react-native</a></p>\n<p>Any idea/suggestion would be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/w5JoB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w5JoB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","many-to-many"],"answers":[{"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685543638,"creation_date":1685543638,"answer_id":76374614,"question_id":76356681,"body_markdown":"In Hibernate, the whole entity object is always fetched, it&#39;s not possible to only fetch a subset of the properties of an entity and still get an entity of that type. However, if you want only some particular fields, you can create a DTO projection in which you can encapsulate the data you want to return.\r\n\r\n    public class UserIdProjection {\r\n        private Long id;\r\n    \r\n        public UserIdProjection(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        // getter\r\n    }\r\n\r\nAnd modify your query:\r\n\r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;UserIdProjection&gt; cq = cb.createQuery(UserIdProjection.class);\r\n    \r\n    Root&lt;User&gt; root = cq.from(User.class);\r\n    \r\n    Predicate predicate = cb.or(cb.equal(root.get(&quot;id&quot;), 1L));\r\n    \r\n    cq.select(cb.construct(UserIdProjection.class, root.get(&quot;id&quot;))).distinct(true).where(predicate);\r\n    \r\n    TypedQuery&lt;UserIdProjection&gt; tq = entityManager.createQuery(cq);\r\n    \r\n    List&lt;UserIdProjection&gt; results = tq.getResultList();\r\n\r\nThis should return a list of `UserIdProjection` objects, with their related user id&#39;s. The original entity won&#39;t be fetched this way.","title":"Hibernate: How do I fetch specific columns of entities in a Set within an entity?","body":"<p>In Hibernate, the whole entity object is always fetched, it's not possible to only fetch a subset of the properties of an entity and still get an entity of that type. However, if you want only some particular fields, you can create a DTO projection in which you can encapsulate the data you want to return.</p>\n<pre><code>public class UserIdProjection {\n    private Long id;\n\n    public UserIdProjection(Long id) {\n        this.id = id;\n    }\n\n    // getter\n}\n</code></pre>\n<p>And modify your query:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;UserIdProjection&gt; cq = cb.createQuery(UserIdProjection.class);\n\nRoot&lt;User&gt; root = cq.from(User.class);\n\nPredicate predicate = cb.or(cb.equal(root.get(&quot;id&quot;), 1L));\n\ncq.select(cb.construct(UserIdProjection.class, root.get(&quot;id&quot;))).distinct(true).where(predicate);\n\nTypedQuery&lt;UserIdProjection&gt; tq = entityManager.createQuery(cq);\n\nList&lt;UserIdProjection&gt; results = tq.getResultList();\n</code></pre>\n<p>This should return a list of <code>UserIdProjection</code> objects, with their related user id's. The original entity won't be fetched this way.</p>\n"}],"owner":{"account_id":13979101,"reputation":3,"user_id":10095757,"display_name":"Cocas27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76374614,"answer_count":1,"score":0,"last_activity_date":1685543638,"creation_date":1685357225,"question_id":76356681,"body_markdown":"I have a User entity with a relatedUsers (Set\\&lt;User\\&gt;) property within, and when fetching a User I don&#39;t want to load all properties of the entities within relatedUsers, just their id.\r\nI&#39;ve been trying to accomplish this using an entity graph but with no success. This is my entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;USERS&quot;)\r\n@NamedEntityGraph(\r\n        name = &quot;User.users&quot;,\r\n        attributeNodes = {\r\n                @NamedAttributeNode(value = &quot;users&quot;, subgraph = &quot;usersSubgraph&quot;)\r\n        },\r\n        subgraphs = {\r\n                @NamedSubgraph(name = &quot;usersSubgraph&quot;, attributeNodes = {\r\n                        @NamedAttributeNode(&quot;id&quot;)\r\n                })\r\n        }\r\n)\r\npublic class User {\r\n    public User() {}\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, unique = true)\r\n    Long id;\r\n    \r\n    @Column(name = &quot;xpto&quot;)\r\n    String xpto;\r\n    \r\n    @Column(name = &quot;xpto2&quot;)\r\n    String xpto2;\r\n    \r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;USERS_USERS&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;User_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;users_id&quot;))\r\n    Set&lt;User&gt; users;\r\n\r\n    // ... the rest are the getters and setters\r\n}\r\n```\r\nAnd this is the query:\r\n```\r\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\nCriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\r\n\r\nEntityGraph&lt;?&gt; eg = entityManager.getEntityGraph(&quot;User.users&quot;);\r\n\r\nRoot&lt;User&gt; root = cq.from(User.class);\r\n\r\nPredicate predicate = cb.or(cb.equal(root.get(&quot;id&quot;), 1L));\r\n\r\ncq.select(root).distinct(true).where(predicate);\r\n\r\nTypedQuery&lt;User&gt; tq = entityManager.createQuery(cq);\r\n\r\nreturn tq.setHint(&quot;jakarta.persistence.fetchgraph&quot;, eg).getSingleResult();\r\n```\r\n\r\nThis query isn&#39;t executing as I expected (assuming i understood what the entity graph is capable of), as it seems the entity graph did nothing, since the entities of relatedUsers are still being fully loaded instead of just loading the ids.\r\nIs what i&#39;m trying to do even possible? If so how can i accomplish it?","title":"Hibernate: How do I fetch specific columns of entities in a Set within an entity?","body":"<p>I have a User entity with a relatedUsers (Set&lt;User&gt;) property within, and when fetching a User I don't want to load all properties of the entities within relatedUsers, just their id.\nI've been trying to accomplish this using an entity graph but with no success. This is my entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;USERS&quot;)\n@NamedEntityGraph(\n        name = &quot;User.users&quot;,\n        attributeNodes = {\n                @NamedAttributeNode(value = &quot;users&quot;, subgraph = &quot;usersSubgraph&quot;)\n        },\n        subgraphs = {\n                @NamedSubgraph(name = &quot;usersSubgraph&quot;, attributeNodes = {\n                        @NamedAttributeNode(&quot;id&quot;)\n                })\n        }\n)\npublic class User {\n    public User() {}\n\n    @Id\n    @Column(name = &quot;id&quot;, unique = true)\n    Long id;\n    \n    @Column(name = &quot;xpto&quot;)\n    String xpto;\n    \n    @Column(name = &quot;xpto2&quot;)\n    String xpto2;\n    \n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;USERS_USERS&quot;,\n            joinColumns = @JoinColumn(name = &quot;User_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;users_id&quot;))\n    Set&lt;User&gt; users;\n\n    // ... the rest are the getters and setters\n}\n</code></pre>\n<p>And this is the query:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\n\nEntityGraph&lt;?&gt; eg = entityManager.getEntityGraph(&quot;User.users&quot;);\n\nRoot&lt;User&gt; root = cq.from(User.class);\n\nPredicate predicate = cb.or(cb.equal(root.get(&quot;id&quot;), 1L));\n\ncq.select(root).distinct(true).where(predicate);\n\nTypedQuery&lt;User&gt; tq = entityManager.createQuery(cq);\n\nreturn tq.setHint(&quot;jakarta.persistence.fetchgraph&quot;, eg).getSingleResult();\n</code></pre>\n<p>This query isn't executing as I expected (assuming i understood what the entity graph is capable of), as it seems the entity graph did nothing, since the entities of relatedUsers are still being fully loaded instead of just loading the ids.\nIs what i'm trying to do even possible? If so how can i accomplish it?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1685545659,"answer_count":0,"score":0,"last_activity_date":1685543626,"creation_date":1685543252,"question_id":76374561,"body_markdown":"Is there a way to set System property from properties within the main method of a SpringBootApplication class?\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n        public static void main(String[] args) {\r\n            System.setProperty(&quot;http.proxyHost&quot;, “proxy.com&quot;);\r\n            System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\r\n            System.setProperty(&quot;https.proxyHost&quot;, “proxy-s.com&quot;);\r\n            System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    }\r\n\r\nCurrently I am hardcoding these values. I would like to pull these values &quot;proxy.com&quot;, &quot;proxy-s.com&quot; from the properties file and not hardcode them.","title":"Is there a way to set System property from properties within the main method of a SpringBootApplication class?","body":"<p>Is there a way to set System property from properties within the main method of a SpringBootApplication class?</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        System.setProperty(&quot;http.proxyHost&quot;, “proxy.com&quot;);\n        System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\n        System.setProperty(&quot;https.proxyHost&quot;, “proxy-s.com&quot;);\n        System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>Currently I am hardcoding these values. I would like to pull these values &quot;proxy.com&quot;, &quot;proxy-s.com&quot; from the properties file and not hardcode them.</p>\n"},{"tags":["java","javafx","audio","mp3","toolkit"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1685541046,"post_id":76374222,"comment_id":134674682,"body_markdown":"You need to have actually started the FX runtime (toolkit and FX Application Thread) to use a `MediaPlayer`. Is this actually part of a JavaFX application? Post a complete [mre].","body":"You need to have actually started the FX runtime (toolkit and FX Application Thread) to use a <code>MediaPlayer</code>. Is this actually part of a JavaFX application? Post a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"score":0,"creation_date":1685541364,"post_id":76374222,"comment_id":134674771,"body_markdown":"im changed code","body":"im changed code"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1685541475,"post_id":76374222,"comment_id":134674800,"body_markdown":"or in other words: start it in an application sub class","body":"or in other words: start it in an application sub class"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1685542223,"post_id":76374222,"comment_id":134675001,"body_markdown":"https://openjfx.io/openjfx-docs/","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685543621,"creation_date":1685542182,"answer_id":76374391,"question_id":76374222,"body_markdown":"You can&#39;t use a `MediaPlayer` without the JavaFX runtime actually running, which you typically ensure with a call to `Application.launch()`. Here is a simple example which will work:\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.nio.channels.Channels;\r\n    import java.nio.channels.ReadableByteChannel;\r\n\r\n    public class Main extends Application {\r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n        \r\n        int id = 467339;\r\n    \r\n        @Override\r\n        public void start(Stage stage){\r\n            try {\r\n                downloadFile(new URL(&quot;https://www.newgrounds.com/audio/download/&quot;+id),id+&quot;.mp3&quot;);\r\n                Media media = new Media(new File(id+&quot;.mp3&quot;).toURI().toString());\r\n                MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n                mediaPlayer.play();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            stage.show();\r\n        }\r\n    \r\n        public void downloadFile(URL url, String outputFileName) throws IOException {\r\n            try (InputStream in = url.openStream();\r\n                 ReadableByteChannel rbc = Channels.newChannel(in);\r\n                 FileOutputStream fos = new FileOutputStream(outputFileName)) {\r\n                fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n            }\r\n        }\r\n    }\r\n\r\nDepending what else your application is doing, it may be important to know that `start()` is executed on the FX Application Thread","title":"Toolkit not initializing","body":"<p>You can't use a <code>MediaPlayer</code> without the JavaFX runtime actually running, which you typically ensure with a call to <code>Application.launch()</code>. Here is a simple example which will work:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.nio.channels.Channels;\nimport java.nio.channels.ReadableByteChannel;\n\npublic class Main extends Application {\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n    \n    int id = 467339;\n\n    @Override\n    public void start(Stage stage){\n        try {\n            downloadFile(new URL(&quot;https://www.newgrounds.com/audio/download/&quot;+id),id+&quot;.mp3&quot;);\n            Media media = new Media(new File(id+&quot;.mp3&quot;).toURI().toString());\n            MediaPlayer mediaPlayer = new MediaPlayer(media);\n            mediaPlayer.play();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        stage.show();\n    }\n\n    public void downloadFile(URL url, String outputFileName) throws IOException {\n        try (InputStream in = url.openStream();\n             ReadableByteChannel rbc = Channels.newChannel(in);\n             FileOutputStream fos = new FileOutputStream(outputFileName)) {\n            fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n        }\n    }\n}\n</code></pre>\n<p>Depending what else your application is doing, it may be important to know that <code>start()</code> is executed on the FX Application Thread</p>\n"}],"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685543621,"creation_date":1685540797,"question_id":76374222,"body_markdown":"When i truing to play sound in mp3 format, code throwes me error: &quot;Exception in thread &quot;main&quot; java.lang.IllegalStateException: Toolkit not initialized&quot;.\r\n\r\n    \r\n\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n    \r\n    import java.io.*;\r\n    import java.net.URL;\r\n    import java.nio.channels.Channels;\r\n    import java.nio.channels.ReadableByteChannel;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n        \r\n        int id = 467339;\r\n    \r\n        public Main(){\r\n            try {\r\n                downloadFile(new URL(&quot;https://www.newgrounds.com/audio/download/&quot;+id),id+&quot;.mp3&quot;);\r\n                Media media = new Media(new File(id+&quot;.mp3&quot;).toURI().toString());\r\n                MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n                mediaPlayer.play();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void downloadFile(URL url, String outputFileName) throws IOException {\r\n            try (InputStream in = url.openStream();\r\n                 ReadableByteChannel rbc = Channels.newChannel(in);\r\n                 FileOutputStream fos = new FileOutputStream(outputFileName)) {\r\n                fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n            }\r\n        }\r\n    }","title":"Toolkit not initializing","body":"<p>When i truing to play sound in mp3 format, code throwes me error: &quot;Exception in thread &quot;main&quot; java.lang.IllegalStateException: Toolkit not initialized&quot;.</p>\n<pre><code>import javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\n\nimport java.io.*;\nimport java.net.URL;\nimport java.nio.channels.Channels;\nimport java.nio.channels.ReadableByteChannel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n    \n    int id = 467339;\n\n    public Main(){\n        try {\n            downloadFile(new URL(&quot;https://www.newgrounds.com/audio/download/&quot;+id),id+&quot;.mp3&quot;);\n            Media media = new Media(new File(id+&quot;.mp3&quot;).toURI().toString());\n            MediaPlayer mediaPlayer = new MediaPlayer(media);\n            mediaPlayer.play();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void downloadFile(URL url, String outputFileName) throws IOException {\n        try (InputStream in = url.openStream();\n             ReadableByteChannel rbc = Channels.newChannel(in);\n             FileOutputStream fos = new FileOutputStream(outputFileName)) {\n            fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","groovy","jmeter"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685532891,"post_id":76373041,"comment_id":134672606,"body_markdown":"Does this answer your question? [How to get specific JSON values for a given key of a JMeter response?](https://stackoverflow.com/questions/42341347/how-to-get-specific-json-values-for-a-given-key-of-a-jmeter-response)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42341347/how-to-get-specific-json-values-for-a-given-key-of-a-jmeter-response\">How to get specific JSON values for a given key of a JMeter response?</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685559221,"post_id":76373041,"comment_id":134678826,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685533993,"creation_date":1685533993,"answer_id":76373204,"question_id":76373041,"body_markdown":"You could use [JSR223 Assertion][1] and the code like:\r\n\r\n    if (prev.getResponseDataAsString().contains(vars.get(&#39;witsml&#39;))) {\r\n        AssertionResult.setFailure(false)\r\n    }\r\n    else {\r\n        AssertionResult.setFailure(true)\r\n        def delta = (vars.get(&#39;endDateTime&#39;) as long) - (vars.get(&#39;startDateTime&#39;) as long)\r\n        AssertionResult.setFailureMessage(&#39;Unable to find witsml variable value in the response, time difference: &#39;  + delta)\r\n    }\r\n\r\nWhere:\r\n\r\n - `AssertionResult` stands for [AssertionResult][2] class instance\r\n - `prev` stands for **prev**ious [SampleResult][3]\r\n - `vars` stands for [JMeterVariables][4]\r\n\r\nMore information: [Top 8 JMeter Java Classes You Should Be Using with Groovy][5]  \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#JSR223_Assertion\r\n  [2]: https://jmeter.apache.org/api/org/apache/jmeter/assertions/AssertionResult.html\r\n  [3]: https://jmeter.apache.org/api/org/apache/jmeter/samplers/SampleResult.html\r\n  [4]: https://jmeter.apache.org/api/org/apache/jmeter/threads/JMeterVariables.html\r\n  [5]: https://www.blazemeter.com/blog/jmeter-java-classes","title":"How can I use groovy script in JMeter to check for the existence of a variable in an API response?","body":"<p>You could use <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#JSR223_Assertion\" rel=\"nofollow noreferrer\">JSR223 Assertion</a> and the code like:</p>\n<pre><code>if (prev.getResponseDataAsString().contains(vars.get('witsml'))) {\n    AssertionResult.setFailure(false)\n}\nelse {\n    AssertionResult.setFailure(true)\n    def delta = (vars.get('endDateTime') as long) - (vars.get('startDateTime') as long)\n    AssertionResult.setFailureMessage('Unable to find witsml variable value in the response, time difference: '  + delta)\n}\n</code></pre>\n<p>Where:</p>\n<ul>\n<li><code>AssertionResult</code> stands for <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/assertions/AssertionResult.html\" rel=\"nofollow noreferrer\">AssertionResult</a> class instance</li>\n<li><code>prev</code> stands for <strong>prev</strong>ious <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/samplers/SampleResult.html\" rel=\"nofollow noreferrer\">SampleResult</a></li>\n<li><code>vars</code> stands for <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/threads/JMeterVariables.html\" rel=\"nofollow noreferrer\">JMeterVariables</a></li>\n</ul>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/jmeter-java-classes\" rel=\"nofollow noreferrer\">Top 8 JMeter Java Classes You Should Be Using with Groovy</a></p>\n"}],"owner":{"account_id":28718648,"reputation":1,"user_id":21992773,"display_name":"Keshav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685543417,"creation_date":1685532817,"question_id":76373041,"body_markdown":"I&#39;m a newbie to scripting.\r\n\r\nI am using Jmeter to test an api and I have to validate the presence of a variable (&quot;witsml&quot;) in my response. If this variable is present in the response then my test case should pass, else it should find a difference between two values in my response which is in time format but set as variable (&quot;startDateTime&quot; and &quot;endDateTime&quot;) and then fail my test case.\r\n\r\nhow the groovy script should look for this scenario?\r\n","title":"How can I use groovy script in JMeter to check for the existence of a variable in an API response?","body":"<p>I'm a newbie to scripting.</p>\n<p>I am using Jmeter to test an api and I have to validate the presence of a variable (&quot;witsml&quot;) in my response. If this variable is present in the response then my test case should pass, else it should find a difference between two values in my response which is in time format but set as variable (&quot;startDateTime&quot; and &quot;endDateTime&quot;) and then fail my test case.</p>\n<p>how the groovy script should look for this scenario?</p>\n"},{"tags":["java","installation","izpack"],"comments":[{"owner":{"account_id":23751376,"reputation":622,"user_id":17768086,"display_name":"Kelechi Daniels"},"score":0,"creation_date":1685964717,"post_id":76374555,"comment_id":134729688,"body_markdown":"Did you found any solution?","body":"Did you found any solution?"},{"owner":{"account_id":2746779,"reputation":150,"user_id":3111810,"display_name":"Marcel Piquet"},"score":0,"creation_date":1686217981,"post_id":76374555,"comment_id":134770072,"body_markdown":"Not currently, but I&#39;ve made some progress using the DefaultFileUnpacker class","body":"Not currently, but I&#39;ve made some progress using the DefaultFileUnpacker class"},{"owner":{"account_id":23751376,"reputation":622,"user_id":17768086,"display_name":"Kelechi Daniels"},"score":0,"creation_date":1686229211,"post_id":76374555,"comment_id":134772394,"body_markdown":"can you edit it to on your question?","body":"can you edit it to on your question?"}],"owner":{"account_id":2746779,"reputation":150,"user_id":3111810,"display_name":"Marcel Piquet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685543208,"creation_date":1685543208,"question_id":76374555,"body_markdown":"I need to modify an installation package produced with [IzPack][1] 5.1.3.\r\n\r\nIn practice I have to update some files present in the installation package.\r\n\r\nThe package was not produced by me and therefore I don&#39;t have the original files to rebuild it.\r\n\r\nI know that in the installer there is a Pack of IzPack, I would like to open this pack (it&#39;s a compressed file of some kind) and replace/add files to it.\r\n\r\nI think I should use [PackFile][2], [PackInfo][3], [Unpacker][4] and [DefaultFileUnpacker][5] classes by IzPack, but I have no idea if it&#39;s feasible, nor how to proceed.\r\n\r\nHere are a couple of image of what it is inside that .jar installer\r\n[![this is the content of /resources diurectory inside the .jar installer][6]][6]\r\n\r\n[![this the pack file][7]][7]\r\n\r\n\r\n  [1]: http://izpack.org/\r\n  [2]: https://github.com/izpack/izpack/blob/master/izpack-api/src/main/java/com/izforge/izpack/api/data/PackFile.java\r\n  [3]: https://github.com/izpack/izpack/blob/master/izpack-api/src/main/java/com/izforge/izpack/api/data/PackInfo.java\r\n  [4]: https://github.com/izpack/izpack/blob/master/izpack-installer/src/main/java/com/izforge/izpack/installer/unpacker/Unpacker.java\r\n  [5]: https://github.com/izpack/izpack/blob/master/izpack-installer/src/main/java/com/izforge/izpack/installer/unpacker/DefaultFileUnpacker.java\r\n  [6]: https://i.stack.imgur.com/6zRJJ.png\r\n  [7]: https://i.stack.imgur.com/yxzxk.png","title":"Adding files to an IzPack .jar installer","body":"<p>I need to modify an installation package produced with <a href=\"http://izpack.org/\" rel=\"nofollow noreferrer\">IzPack</a> 5.1.3.</p>\n<p>In practice I have to update some files present in the installation package.</p>\n<p>The package was not produced by me and therefore I don't have the original files to rebuild it.</p>\n<p>I know that in the installer there is a Pack of IzPack, I would like to open this pack (it's a compressed file of some kind) and replace/add files to it.</p>\n<p>I think I should use <a href=\"https://github.com/izpack/izpack/blob/master/izpack-api/src/main/java/com/izforge/izpack/api/data/PackFile.java\" rel=\"nofollow noreferrer\">PackFile</a>, <a href=\"https://github.com/izpack/izpack/blob/master/izpack-api/src/main/java/com/izforge/izpack/api/data/PackInfo.java\" rel=\"nofollow noreferrer\">PackInfo</a>, <a href=\"https://github.com/izpack/izpack/blob/master/izpack-installer/src/main/java/com/izforge/izpack/installer/unpacker/Unpacker.java\" rel=\"nofollow noreferrer\">Unpacker</a> and <a href=\"https://github.com/izpack/izpack/blob/master/izpack-installer/src/main/java/com/izforge/izpack/installer/unpacker/DefaultFileUnpacker.java\" rel=\"nofollow noreferrer\">DefaultFileUnpacker</a> classes by IzPack, but I have no idea if it's feasible, nor how to proceed.</p>\n<p>Here are a couple of image of what it is inside that .jar installer\n<a href=\"https://i.stack.imgur.com/6zRJJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zRJJ.png\" alt=\"this is the content of /resources diurectory inside the .jar installer\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/yxzxk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yxzxk.png\" alt=\"this the pack file\" /></a></p>\n"},{"tags":["java","spring-boot","maven","swagger","springdoc"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1656849877,"post_id":72846268,"comment_id":128667102,"body_markdown":"The error is telling you that your OpenAPI Specification, obviously documented via Springdoc, cannot find any documented endpoints. How do you configure Springdoc, are you using a openapi.yaml file or java annotations to document on the fly? If you&#39;re using annotations take a look at [Springdoc](https://springdoc.org/), you&#39;re missing a dependency `org.springdoc:springdoc-openapi-webmvc-core` for Spring MVC documentation.","body":"The error is telling you that your OpenAPI Specification, obviously documented via Springdoc, cannot find any documented endpoints. How do you configure Springdoc, are you using a openapi.yaml file or java annotations to document on the fly? If you&#39;re using annotations take a look at <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">Springdoc</a>, you&#39;re missing a dependency <code>org.springdoc:springdoc-openapi-webmvc-core</code> for Spring MVC documentation."},{"owner":{"account_id":25192311,"reputation":1,"user_id":19032365,"display_name":"JarveyD"},"score":0,"creation_date":1656850283,"post_id":72846268,"comment_id":128667187,"body_markdown":"Thank you so much for jumping in! I have an application.yaml file that is currently just pointing to spring, datasource, with username &amp; password and the URL.","body":"Thank you so much for jumping in! I have an application.yaml file that is currently just pointing to spring, datasource, with username &amp; password and the URL."},{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1656850561,"post_id":72846268,"comment_id":128667243,"body_markdown":"`application.yaml` and `openapi.yaml` are completely different files, the first one is configuring Spring as application and the latter is used to document RESTful endpoints using the [OpenAPI Format](https://spec.openapis.org/oas/latest.html), don&#39;t mix them up. But I guess you should using java annotations like `@Tag` and `@Operation` to document endpoints. Hence take a look at the [Springdoc Documentation](https://springdoc.org).","body":"<code>application.yaml</code> and <code>openapi.yaml</code> are completely different files, the first one is configuring Spring as application and the latter is used to document RESTful endpoints using the <a href=\"https://spec.openapis.org/oas/latest.html\" rel=\"nofollow noreferrer\">OpenAPI Format</a>, don&#39;t mix them up. But I guess you should using java annotations like <code>@Tag</code> and <code>@Operation</code> to document endpoints. Hence take a look at the <a href=\"https://springdoc.org\" rel=\"nofollow noreferrer\">Springdoc Documentation</a>."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1656850931,"post_id":72846268,"comment_id":128667317,"body_markdown":"Can you show a short piece of code (a method heading) that you think should show up in Swagger? (doesn&#39;t have a complete [mre] in this case, you can omit the actual implementation)","body":"Can you show a short piece of code (a method heading) that you think should show up in Swagger? (doesn&#39;t have a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in this case, you can omit the actual implementation)"},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1667547571,"post_id":72846268,"comment_id":131196386,"body_markdown":"it can also happen when property springdoc.packagesToScan is not set in application.properties","body":"it can also happen when property springdoc.packagesToScan is not set in application.properties"}],"answers":[{"tags":[],"owner":{"account_id":4096496,"reputation":1292,"user_id":4085134,"accept_rate":50,"display_name":"Ait Friha Zaid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685542809,"creation_date":1685542809,"answer_id":76374504,"question_id":72846268,"body_markdown":"\r\n[https://stackoverflow.com/a/76374465/4085134][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76374465/4085134\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    @Import(SpringDataRestConfiguration.class)\r\n    public class SwaggerConfig {\r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;org.zaid.aitfriha.controller.api&quot;))\r\n                    .paths(PathSelectors.any())\r\n                    .build()\r\n                    .apiInfo(apiInfo());\r\n        }","title":"No operations defined in spec","body":"<p><a href=\"https://stackoverflow.com/a/76374465/4085134\">https://stackoverflow.com/a/76374465/4085134</a></p>\n<pre><code>@Configuration\n@EnableSwagger2\n@Import(SpringDataRestConfiguration.class)\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;org.zaid.aitfriha.controller.api&quot;))\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(apiInfo());\n    }\n</code></pre>\n"}],"owner":{"account_id":25192311,"reputation":1,"user_id":19032365,"display_name":"JarveyD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685542809,"creation_date":1656849163,"question_id":72846268,"body_markdown":"I have a final project that I am trying to complete to finish my program. I am still kind of a newbie to back end, so I am not entirely sure what I need to show you here in terms of code.  \r\n\r\nI created a project using Spring Tool Suite, i have my controller, service, entity and DAO layers all set up. But when I run the app and try to access Swagger I am getting the &quot;no operations defined in spec!&quot; error.  I met with one of my class mentors and she gave me access to her project, and everything seems to matchup with my project.  So this has me thinking that it has to be something in the configuration or setup.  This is my pom file(which also exactly mirrors my mentors pom file, and she has no issues). I have spent the last week searching the entire internet and have not been able to find a solution. Any suggestions or help you can provide is TRULY appreciated. Thanks!\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t\r\n\t&lt;groupId&gt;com.danceevents&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Dance-Events&lt;/artifactId&gt; &lt;!-- come back to this if there is an error --&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Dance-Events&lt;/name&gt;\r\n\t&lt;description&gt;Dance-Events&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \r\n    \r\n \r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n  \r\n&lt;/dependency&gt;\r\n\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"No operations defined in spec","body":"<p>I have a final project that I am trying to complete to finish my program. I am still kind of a newbie to back end, so I am not entirely sure what I need to show you here in terms of code.</p>\n<p>I created a project using Spring Tool Suite, i have my controller, service, entity and DAO layers all set up. But when I run the app and try to access Swagger I am getting the &quot;no operations defined in spec!&quot; error.  I met with one of my class mentors and she gave me access to her project, and everything seems to matchup with my project.  So this has me thinking that it has to be something in the configuration or setup.  This is my pom file(which also exactly mirrors my mentors pom file, and she has no issues). I have spent the last week searching the entire internet and have not been able to find a solution. Any suggestions or help you can provide is TRULY appreciated. Thanks!</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    \n    &lt;groupId&gt;com.danceevents&lt;/groupId&gt;\n    &lt;artifactId&gt;Dance-Events&lt;/artifactId&gt; &lt;!-- come back to this if there is an error --&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Dance-Events&lt;/name&gt;\n    &lt;description&gt;Dance-Events&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n                &lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.9&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n    \n    \n \n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  \n&lt;/dependency&gt;\n\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","arrays","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1509907984,"post_id":47125279,"comment_id":81200711,"body_markdown":"as a side note - no need to return `Integer`, just `int` would suffice.","body":"as a side note - no need to return <code>Integer</code>, just <code>int</code> would suffice."}],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1509908304,"creation_date":1509908304,"answer_id":47125379,"question_id":47125279,"body_markdown":"You are not using the return value. And you need to use it, because the modification in `index++` would never leave the scope of the function.\r\n\r\n    private static int inorderArray(TreeNode root, int[] array, int index) {\r\n        if (root == null) {\r\n            return index;\r\n        }\r\n\r\n        index = inorderArray(root.left, array, index);\r\n        array[index++] = root.key;\r\n        index = inorderArray(root.right, array, index);\r\n        return index;\r\n    }","title":"Storing Binary Tree into an array","body":"<p>You are not using the return value. And you need to use it, because the modification in <code>index++</code> would never leave the scope of the function.</p>\n\n<pre><code>private static int inorderArray(TreeNode root, int[] array, int index) {\n    if (root == null) {\n        return index;\n    }\n\n    index = inorderArray(root.left, array, index);\n    array[index++] = root.key;\n    index = inorderArray(root.right, array, index);\n    return index;\n}\n</code></pre>\n"}],"owner":{"account_id":12177984,"reputation":13,"user_id":8890450,"display_name":"Gina Masson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2720,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47125379,"answer_count":1,"score":1,"last_activity_date":1685542049,"creation_date":1509907696,"question_id":47125279,"body_markdown":"I attempting to store a binary tree into an array with the code below:\r\n\r\n\r\n\r\n    public void inorderArray(int[] array)  {\r\n    \t   inorderArray(root, array, 0);\r\n    }\r\n\r\n    private static Integer inorderArray(TreeNode root, int[] array, int index) { \r\n    \t// an inorder traversal that stores the items in array\r\n    \tif(root == null){return index;}\r\n\r\n    \tinorderArray(root.left, array, index);\r\n    \tarray[index++] = root.key;\r\n    \tinorderArray(root.right, array, index);\r\n\r\n    \treturn index;\r\n    }\r\n\r\nI keep getting `[94, 95, 0, 0, 0, 0, 0, 0, 0, 0]`, \r\nand its not in order either.  \r\n\r\nI have no idea what I am doing wrong.  Any help is appreciated.","title":"Storing Binary Tree into an array","body":"<p>I attempting to store a binary tree into an array with the code below:</p>\n\n<pre><code>public void inorderArray(int[] array)  {\n       inorderArray(root, array, 0);\n}\n\nprivate static Integer inorderArray(TreeNode root, int[] array, int index) { \n    // an inorder traversal that stores the items in array\n    if(root == null){return index;}\n\n    inorderArray(root.left, array, index);\n    array[index++] = root.key;\n    inorderArray(root.right, array, index);\n\n    return index;\n}\n</code></pre>\n\n<p>I keep getting <code>[94, 95, 0, 0, 0, 0, 0, 0, 0, 0]</code>, \nand its not in order either.  </p>\n\n<p>I have no idea what I am doing wrong.  Any help is appreciated.</p>\n"},{"tags":["java","android","webview","zooming"],"comments":[{"owner":{"account_id":8004446,"reputation":363,"user_id":6038143,"display_name":"Ashraf Amin"},"score":0,"creation_date":1662113787,"post_id":13543186,"comment_id":129936160,"body_markdown":"Vote my answer below. Set default zoom out = webview.setInitialScale(-1);","body":"Vote my answer below. Set default zoom out = webview.setInitialScale(-1);"}],"answers":[{"tags":[],"owner":{"account_id":1071625,"reputation":574,"user_id":1070734,"accept_rate":62,"display_name":"Zohaib Brohi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353775630,"creation_date":1353775353,"answer_id":13543203,"question_id":13543186,"body_markdown":"use the [webSettings][1] class to set the zoom level...\r\n\r\n    webview.getSettings().setDefaultZoom(WebSettings.ZoomDensity.FAR);\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/webkit/WebSettings.html","title":"Android Webview initial zoom out","body":"<p>use the <a href=\"http://developer.android.com/reference/android/webkit/WebSettings.html\" rel=\"nofollow\">webSettings</a> class to set the zoom level...</p>\n\n<pre><code>webview.getSettings().setDefaultZoom(WebSettings.ZoomDensity.FAR);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1812756,"reputation":1581,"user_id":1648489,"accept_rate":100,"display_name":"Shakti"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1384952300,"creation_date":1353775421,"answer_id":13543216,"question_id":13543186,"body_markdown":"    webview.getSettings().setLoadWithOverviewMode(true);\t\r\n\r\nThis will cause the webview to be zoomed out initially.   \r\n \r\n    webview.getSettings().setUseWideViewPort(true);\r\n\r\nThe Webview will have a normal viewport (like desktop browser), when false the webview will have a viewport constrained to it&#39;s own dimensions.\r\n\r\n\r\n**EDIT**: With the introduction of &quot;Chrome web view&quot; in Android KitKat, this code might not work.","title":"Android Webview initial zoom out","body":"<pre><code>webview.getSettings().setLoadWithOverviewMode(true);    \n</code></pre>\n\n<p>This will cause the webview to be zoomed out initially.   </p>\n\n<pre><code>webview.getSettings().setUseWideViewPort(true);\n</code></pre>\n\n<p>The Webview will have a normal viewport (like desktop browser), when false the webview will have a viewport constrained to it's own dimensions.</p>\n\n<p><strong>EDIT</strong>: With the introduction of \"Chrome web view\" in Android KitKat, this code might not work.</p>\n"},{"tags":[],"owner":{"account_id":2010077,"reputation":2513,"user_id":1798751,"display_name":"Artyom Kiriliyk"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1353775500,"creation_date":1353775500,"answer_id":13543226,"question_id":13543186,"body_markdown":"Try this:\r\n\t\t\r\n\t\twebView.setInitialScale(50);\r\n\t\twebPlanSettings.setDefaultZoom(WebSettings.ZoomDensity.FAR);\r\n\t\twebPlanSettings.setUseWideViewPort(true);","title":"Android Webview initial zoom out","body":"<p>Try this:</p>\n\n<pre><code>    webView.setInitialScale(50);\n    webPlanSettings.setDefaultZoom(WebSettings.ZoomDensity.FAR);\n    webPlanSettings.setUseWideViewPort(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424466,"reputation":2499,"user_id":804479,"accept_rate":50,"display_name":"aleb"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1374658676,"creation_date":1374658676,"answer_id":17830304,"question_id":13543186,"body_markdown":"This zooms out so that the content (an SVG in my case) fits on the screen but does not make unnecessary space.\r\n\r\n    webView.getSettings().setUseWideViewPort(true);\r\n    webView.setInitialScale(1);\r\n","title":"Android Webview initial zoom out","body":"<p>This zooms out so that the content (an SVG in my case) fits on the screen but does not make unnecessary space.</p>\n\n<pre><code>webView.getSettings().setUseWideViewPort(true);\nwebView.setInitialScale(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6146602,"reputation":688,"user_id":4793190,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429569678,"creation_date":1429569678,"answer_id":29759719,"question_id":13543186,"body_markdown":"For Kit Kat and later devices you need to set the viewport meta tag in the headers of the HTML page loaded by your WebView in order to prevent the default zoom in behavior.\r\n\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;/&gt;","title":"Android Webview initial zoom out","body":"<p>For Kit Kat and later devices you need to set the viewport meta tag in the headers of the HTML page loaded by your WebView in order to prevent the default zoom in behavior.</p>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6284917,"reputation":618,"user_id":4884548,"display_name":"Papa Yev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1453629372,"creation_date":1453629372,"answer_id":34974360,"question_id":13543186,"body_markdown":"        //This the the enabling of the zoom controls \r\n        webView.getSettings().setBuiltInZoomControls(true);\r\n\r\n        //This will zoom out the WebView\r\n        webView.getSettings().setUseWideViewPort(true);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.setInitialScale(1);","title":"Android Webview initial zoom out","body":"<pre><code>    //This the the enabling of the zoom controls \n    webView.getSettings().setBuiltInZoomControls(true);\n\n    //This will zoom out the WebView\n    webView.getSettings().setUseWideViewPort(true);\n    webView.getSettings().setLoadWithOverviewMode(true);\n    webView.setInitialScale(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11714229,"reputation":31,"user_id":8575276,"display_name":"George Vortelinos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685541878,"creation_date":1685541878,"answer_id":76374357,"question_id":13543186,"body_markdown":"Set WebView settings like:\r\n\r\n    webView.settings.run {\r\n        builtInZoomControls = true\r\n        //hide +- zoom buttons\r\n        displayZoomControls = false \r\n        //zooms out the content to fit on screen by width\r\n        loadWithOverviewMode = true \r\n        //when page contains the viewport meta tag\r\n        useWideViewPort = true \r\n    }\r\n\r\nBut consider that zoom settings above, work only for WebView first run.\r\n&lt;br&gt;If you want to full **zoom out every time you load a URL** in WebView (I faced this case), use zoomBy like this \r\n\r\n    webView.loadUrl(url)\r\n    webView.zoomBy(0.02f)","title":"Android Webview initial zoom out","body":"<p>Set WebView settings like:</p>\n<pre><code>webView.settings.run {\n    builtInZoomControls = true\n    //hide +- zoom buttons\n    displayZoomControls = false \n    //zooms out the content to fit on screen by width\n    loadWithOverviewMode = true \n    //when page contains the viewport meta tag\n    useWideViewPort = true \n}\n</code></pre>\n<p>But consider that zoom settings above, work only for WebView first run.\n<br>If you want to full <strong>zoom out every time you load a URL</strong> in WebView (I faced this case), use zoomBy like this</p>\n<pre><code>webView.loadUrl(url)\nwebView.zoomBy(0.02f)\n</code></pre>\n"}],"owner":{"account_id":1187950,"reputation":9156,"user_id":1161520,"accept_rate":60,"display_name":"Carla Dessi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41212,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":13543216,"answer_count":7,"score":25,"last_activity_date":1685541878,"creation_date":1353775217,"question_id":13543186,"body_markdown":"I&#39;m using a webview in my android app, at the moment when the app is started the website is zoomed in quite a lot, i want it to be zoomed out to fit the width of the screen. I currently have this in my activity:\r\n\r\n    super.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.shop);\r\n\t\tWebView webview;\r\n\t\twebview = (WebView) findViewById(R.id.webview);\r\n\t\twebview.setWebViewClient(new WebViewClient());\r\n\t\twebview.getSettings().setJavaScriptEnabled(true);\r\n\t\twebview.loadUrl(&quot;http://www.example.com&quot;);","title":"Android Webview initial zoom out","body":"<p>I'm using a webview in my android app, at the moment when the app is started the website is zoomed in quite a lot, i want it to be zoomed out to fit the width of the screen. I currently have this in my activity:</p>\n\n<pre><code>super.onCreate(savedInstanceState);\n    setContentView(R.layout.shop);\n    WebView webview;\n    webview = (WebView) findViewById(R.id.webview);\n    webview.setWebViewClient(new WebViewClient());\n    webview.getSettings().setJavaScriptEnabled(true);\n    webview.loadUrl(\"http://www.example.com\");\n</code></pre>\n"},{"tags":["java","vaadin","vaadin14"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1685597958,"post_id":76374326,"comment_id":134682955,"body_markdown":"There are two other multiselect combobox add-ons for Vaadin 14, https://vaadin.com/directory/component/accessible-combobox and https://vaadin.com/directory/component/multicombobox-component I recommend to try them out and see if they fit your application better.","body":"There are two other multiselect combobox add-ons for Vaadin 14, <a href=\"https://vaadin.com/directory/component/accessible-combobox\" rel=\"nofollow noreferrer\">vaadin.com/directory/component/accessible-combobox</a> and <a href=\"https://vaadin.com/directory/component/multicombobox-component\" rel=\"nofollow noreferrer\">vaadin.com/directory/component/multicombobox-component</a> I recommend to try them out and see if they fit your application better."},{"owner":{"account_id":8619641,"reputation":23,"user_id":6455058,"display_name":"Muhammet Kurt"},"score":0,"creation_date":1685704829,"post_id":76374326,"comment_id":134701856,"body_markdown":"Thank you, Tatu. By the way, my company is going to upgrade vaadin&#39;s version from 14 to 23 and my team leader said if this bug will be fixed in 23, we can wait until that time. Will this bug be fixed in version 23?","body":"Thank you, Tatu. By the way, my company is going to upgrade vaadin&#39;s version from 14 to 23 and my team leader said if this bug will be fixed in 23, we can wait until that time. Will this bug be fixed in version 23?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1685715732,"post_id":76374326,"comment_id":134704321,"body_markdown":"Vaadin 23 has official MultiSelectComboBox, so no add-on needed with it. Vaadin 23 component is the same as the Accessible ComboBox add-on.","body":"Vaadin 23 has official MultiSelectComboBox, so no add-on needed with it. Vaadin 23 component is the same as the Accessible ComboBox add-on."}],"owner":{"account_id":8619641,"reputation":23,"user_id":6455058,"display_name":"Muhammet Kurt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685541643,"creation_date":1685541643,"question_id":76374326,"body_markdown":"I have created a simple MultiselectComboBox component from &#39;org.vaadin.gatanaso&#39; package and it has 5 String items. Two of these items are single characters. If I type one of these single characters and then select it, everything looks good but after clicking anywhere the item disappears. I record the bug and upload the video on youtube https://youtu.be/c8c84dfSWms . After that, I figure out, the bug is not about selecting a single character after typing it. The bug occurs if I type the full name of any item and then select it by clicking, the bug will occur whenever I click anywhere.\r\n\r\nMy code is:\r\n\r\n    private MultiselectComboBox&lt;String&gt; createTestSelectBox(){\r\n    \t\tMultiselectComboBox&lt;String&gt; multiselectComboBox = new MultiselectComboBox&lt;&gt;(&quot;test&quot;);\r\n    \t\tmultiselectComboBox.setAllowCustomValues(true);\r\n    \t\tArrayList&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n    \t\titems.add(&quot;1&quot;);\r\n    \t\titems.add(&quot;1k&quot;);\r\n    \t\titems.add(&quot;k&quot;);\r\n    \t\titems.add(&quot;klm 1&quot;);\r\n    \t\titems.add(&quot;ku&quot;);\r\n    \r\n    \t\tmultiselectComboBox.setItems(items);\r\n    \r\n    \t\treturn multiselectComboBox;\r\n    \t}\r\n\r\n\r\n\r\nSteps to reproduce\r\n1. Click multi-select combobox and type the full name of any item from the list.\r\n2. Select the item which is filtered by your typing. You need to select with mouse clicking, not pushing enter button on the keyboard.\r\n3. Click anywhere except the combobox.\r\n\r\nEnvironment\r\n\r\nVaadin version(s): 14.8.20\r\n\r\nOS: macOS 13.3.1\r\n\r\nBrowser: Microsoft Edge latest version","title":"Vaadin MultiselectComboBox becomes empty after I select item and click outside of the component","body":"<p>I have created a simple MultiselectComboBox component from 'org.vaadin.gatanaso' package and it has 5 String items. Two of these items are single characters. If I type one of these single characters and then select it, everything looks good but after clicking anywhere the item disappears. I record the bug and upload the video on youtube <a href=\"https://youtu.be/c8c84dfSWms\" rel=\"nofollow noreferrer\">https://youtu.be/c8c84dfSWms</a> . After that, I figure out, the bug is not about selecting a single character after typing it. The bug occurs if I type the full name of any item and then select it by clicking, the bug will occur whenever I click anywhere.</p>\n<p>My code is:</p>\n<pre><code>private MultiselectComboBox&lt;String&gt; createTestSelectBox(){\n        MultiselectComboBox&lt;String&gt; multiselectComboBox = new MultiselectComboBox&lt;&gt;(&quot;test&quot;);\n        multiselectComboBox.setAllowCustomValues(true);\n        ArrayList&lt;String&gt; items = new ArrayList&lt;&gt;();\n\n        items.add(&quot;1&quot;);\n        items.add(&quot;1k&quot;);\n        items.add(&quot;k&quot;);\n        items.add(&quot;klm 1&quot;);\n        items.add(&quot;ku&quot;);\n\n        multiselectComboBox.setItems(items);\n\n        return multiselectComboBox;\n    }\n</code></pre>\n<p>Steps to reproduce</p>\n<ol>\n<li>Click multi-select combobox and type the full name of any item from the list.</li>\n<li>Select the item which is filtered by your typing. You need to select with mouse clicking, not pushing enter button on the keyboard.</li>\n<li>Click anywhere except the combobox.</li>\n</ol>\n<p>Environment</p>\n<p>Vaadin version(s): 14.8.20</p>\n<p>OS: macOS 13.3.1</p>\n<p>Browser: Microsoft Edge latest version</p>\n"},{"tags":["java","pentaho","etl","kettle"],"comments":[{"owner":{"account_id":18043,"reputation":5124,"user_id":40976,"accept_rate":52,"display_name":"Codek"},"score":0,"creation_date":1365405603,"post_id":15865335,"comment_id":22596442,"body_markdown":"Try it without the &quot;start&quot; command at the front of the line. Then you should see the actual error.  Suspect it&#39;s getting confused about 32/64 bit....  Oh; Also you have a space between bin and \\javaw, that can&#39;t help!  (your java_home is wrong)","body":"Try it without the &quot;start&quot; command at the front of the line. Then you should see the actual error.  Suspect it&#39;s getting confused about 32/64 bit....  Oh; Also you have a space between bin and \\javaw, that can&#39;t help!  (your java_home is wrong)"}],"answers":[{"tags":[],"owner":{"account_id":2401212,"reputation":2430,"user_id":2098819,"accept_rate":59,"display_name":"Helping Hand.."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1385636378,"creation_date":1365838108,"answer_id":15985397,"question_id":15865335,"body_markdown":"Their are few things which are not supportable by jdk which are 1.6 or lower then that, try to download jsk 1.7 and configure it may be your problem will solved, because i faced few errors in the past which are because of lower version of jdk.","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>Their are few things which are not supportable by jdk which are 1.6 or lower then that, try to download jsk 1.7 and configure it may be your problem will solved, because i faced few errors in the past which are because of lower version of jdk.</p>\n"},{"tags":[],"owner":{"account_id":3105581,"reputation":2539,"user_id":2628484,"accept_rate":56,"display_name":"SS781"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375052093,"creation_date":1375052093,"answer_id":17913795,"question_id":15865335,"body_markdown":"There seem to be a few folders missing when downloading community edition vs installing EE. Try to install both, and take the &quot;ui&quot; folder from EE and copy it to the CE folder. Running spoon.bat should work now. This worked for me, hope it helps.","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>There seem to be a few folders missing when downloading community edition vs installing EE. Try to install both, and take the \"ui\" folder from EE and copy it to the CE folder. Running spoon.bat should work now. This worked for me, hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":4507919,"reputation":1,"user_id":3664827,"display_name":"MRJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400758240,"creation_date":1400758240,"answer_id":23805587,"question_id":15865335,"body_markdown":"I had the same problem yesterday with the same message after updating Java 7 Update 55.\r\nKettle: pdi-ce-5.0.1.A-stable\r\nWindows 7 32 bits\r\n\r\nSolved: I set the PENTAHO_JAVA_HOME variable to jr6 and now the spoon.bat opens.\r\n\r\n","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>I had the same problem yesterday with the same message after updating Java 7 Update 55.\nKettle: pdi-ce-5.0.1.A-stable\nWindows 7 32 bits</p>\n\n<p>Solved: I set the PENTAHO_JAVA_HOME variable to jr6 and now the spoon.bat opens.</p>\n"},{"tags":[],"owner":{"account_id":6086365,"reputation":11,"user_id":4750253,"display_name":"DanGalizi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443987183,"creation_date":1443987183,"answer_id":32937542,"question_id":15865335,"body_markdown":"I know it is an old commend, but maybe this can help someone.\r\nyou just need to replace all &quot;JAVAW&quot; to &quot;JAVA&quot;, inside the .bat file.\r\nIt worked for me.\r\ntks.\r\n","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>I know it is an old commend, but maybe this can help someone.\nyou just need to replace all \"JAVAW\" to \"JAVA\", inside the .bat file.\nIt worked for me.\ntks.</p>\n"},{"tags":[],"owner":{"account_id":9837864,"reputation":1,"user_id":7287681,"display_name":"Prakhar_G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483418228,"creation_date":1481582569,"answer_id":41110931,"question_id":15865335,"body_markdown":"Thanks for posting the problem and for all the hints above. I was using latest version of spoon with an older version of Java. when I ran spoon.bat in command line without the start.. it told me that the class file major.minor version is not supported. I installed latest version of Java (X64) and pointed my JAVA_HOME folder to the new folder and here you go... In my case the folder path was &quot;C:\\Program Files\\Java\\jre1.8.0_111&quot;. I copied UI folder too from EE to CE.\r\nIf you are using latest version of spoon then use the latest version of Java. I needed to add JAVA_HOME or JAVA_JRE variable pointing to the java&#39;s latest version folder on my system. \r\n\r\n","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>Thanks for posting the problem and for all the hints above. I was using latest version of spoon with an older version of Java. when I ran spoon.bat in command line without the start.. it told me that the class file major.minor version is not supported. I installed latest version of Java (X64) and pointed my JAVA_HOME folder to the new folder and here you go... In my case the folder path was \"C:\\Program Files\\Java\\jre1.8.0_111\". I copied UI folder too from EE to CE.\nIf you are using latest version of spoon then use the latest version of Java. I needed to add JAVA_HOME or JAVA_JRE variable pointing to the java's latest version folder on my system. </p>\n"}],"owner":{"account_id":2401616,"reputation":329,"user_id":2099176,"accept_rate":25,"display_name":"utsavanand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19407,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15985397,"answer_count":5,"score":4,"last_activity_date":1685541003,"creation_date":1365355110,"question_id":15865335,"body_markdown":"Tried pdi-ce-4.1.0-stable and pdi-ce-4.2.0-stable\r\n\r\nMy Machine  - Windows 7 64 bit\r\n\r\nWhen I run Spoon.bat cmd line window appears and disappears and then nothing happens.\r\n\r\nWhen I tried to run it from command line, I get\r\n\r\n&gt; DEBUG: Using JAVA_HOME\r\nDEBUG: _PENTAHO_JAVA_HOME=C:\\Program Files\\Java\\jdk1.5.0_22\r\nDEBUG: _PENTAHO_JAVA=C:\\Program Files\\Java\\jdk1.5.0_22\\bin\\javaw\r\n&gt; \r\n&gt; C:\\pentaho\\data-integration&gt;start &quot;Spoon&quot; &quot;C:\\Program\r\n&gt; Files\\Java\\jdk1.5.0_22\\bin \\javaw&quot; &quot;-Xmx512m&quot; &quot;-XX:MaxPermSize=256m&quot;\r\n&gt; &quot;-Djava.library.path=libswt\\win64&quot; &quot;-D KETTLE_HOME=&quot;\r\n&gt; &quot;-DKETTLE_REPOSITORY=&quot; &quot;-DKETTLE_USER=&quot; &quot;-DKETTLE_PASSWORD=&quot; &quot;-DKE\r\n&gt; TTLE_PLUGIN_PACKAGES=&quot; &quot;-DKETTLE_LOG_SIZE_LIMIT=&quot; -jar\r\n&gt; launcher\\launcher.jar -li b ..\\libswt\\win64\r\n\r\nBut then again the PDI GUI doesn&#39;t open. I have run the same on another 32 bit machine and it runs perfectly.\r\n\r\n","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>Tried pdi-ce-4.1.0-stable and pdi-ce-4.2.0-stable</p>\n\n<p>My Machine  - Windows 7 64 bit</p>\n\n<p>When I run Spoon.bat cmd line window appears and disappears and then nothing happens.</p>\n\n<p>When I tried to run it from command line, I get</p>\n\n<blockquote>\n  <p>DEBUG: Using JAVA_HOME\n  DEBUG: _PENTAHO_JAVA_HOME=C:\\Program Files\\Java\\jdk1.5.0_22\n  DEBUG: _PENTAHO_JAVA=C:\\Program Files\\Java\\jdk1.5.0_22\\bin\\javaw</p>\n  \n  <p>C:\\pentaho\\data-integration>start \"Spoon\" \"C:\\Program\n  Files\\Java\\jdk1.5.0_22\\bin \\javaw\" \"-Xmx512m\" \"-XX:MaxPermSize=256m\"\n  \"-Djava.library.path=libswt\\win64\" \"-D KETTLE_HOME=\"\n  \"-DKETTLE_REPOSITORY=\" \"-DKETTLE_USER=\" \"-DKETTLE_PASSWORD=\" \"-DKE\n  TTLE_PLUGIN_PACKAGES=\" \"-DKETTLE_LOG_SIZE_LIMIT=\" -jar\n  launcher\\launcher.jar -li b ..\\libswt\\win64</p>\n</blockquote>\n\n<p>But then again the PDI GUI doesn't open. I have run the same on another 32 bit machine and it runs perfectly.</p>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685540203,"creation_date":1685540203,"answer_id":76374130,"question_id":76369581,"body_markdown":"The reason why you get `Exceptions$OverflowException` after the 255-th emitted element is in the combination of `.onBackpressureError()` + `.publishOn(Schedulers.parallel())` operators. \r\n\r\nThe `publishOn` operator uses an internal queue to manage the flow of data between the upstream and downstream operators when switching the execution context. If you open implementation of this operator you can see that it actually has one more argument: \r\n\r\n```\r\npublic final Flux&lt;T&gt; publishOn(Scheduler scheduler) {\r\n    return publishOn(scheduler, Queues.SMALL_BUFFER_SIZE);\r\n}\r\n```\r\n\r\nThe second argument is `prefetch` which is by default `Queues.SMALL_BUFFER_SIZE`, which is 256. \r\n\r\nThis queue overflows since the consumer consumes elements slower than the producer produces them. The strategy what to do in case of overflow you configured by `onBackpressureError()`. If you for example change it to `.onBackpressureBuffer(512)` you will have more capacity and get this error later, not after 255-th element.  \r\n\r\nAs for the `requested` parameter. Since Project Reactor supports backpressure it works in the way when the consumer requests elements from the producer. By default, when you call `.subscribe()` method, consumer requests `UNBOUNDED` amount of elements. But different operators like `.publishOn` can change the number of requested elements. You can see it if you add more logging to your code, like this: \r\n```java\r\n.doOnRequest(requested -&gt; System.out.println(&quot;# doOnRequest 2:&quot; + requested))\r\n.publishOn(Schedulers.parallel())\r\n.doOnRequest(requested -&gt; System.out.println(&quot;# doOnRequest 1:&quot; + requested))\r\n```\r\nThis prints \r\n```\r\n# doOnRequest 1:9223372036854775807  &lt;--- which is UNBOUNDED\r\n# doOnRequest 2:256                  &lt;--- after .publishOn()\r\n```","title":"When I configure onBackpressureError in WebFlux, it raises an error based on specific conditions","body":"<p>The reason why you get <code>Exceptions$OverflowException</code> after the 255-th emitted element is in the combination of <code>.onBackpressureError()</code> + <code>.publishOn(Schedulers.parallel())</code> operators.</p>\n<p>The <code>publishOn</code> operator uses an internal queue to manage the flow of data between the upstream and downstream operators when switching the execution context. If you open implementation of this operator you can see that it actually has one more argument:</p>\n<pre><code>public final Flux&lt;T&gt; publishOn(Scheduler scheduler) {\n    return publishOn(scheduler, Queues.SMALL_BUFFER_SIZE);\n}\n</code></pre>\n<p>The second argument is <code>prefetch</code> which is by default <code>Queues.SMALL_BUFFER_SIZE</code>, which is 256.</p>\n<p>This queue overflows since the consumer consumes elements slower than the producer produces them. The strategy what to do in case of overflow you configured by <code>onBackpressureError()</code>. If you for example change it to <code>.onBackpressureBuffer(512)</code> you will have more capacity and get this error later, not after 255-th element.</p>\n<p>As for the <code>requested</code> parameter. Since Project Reactor supports backpressure it works in the way when the consumer requests elements from the producer. By default, when you call <code>.subscribe()</code> method, consumer requests <code>UNBOUNDED</code> amount of elements. But different operators like <code>.publishOn</code> can change the number of requested elements. You can see it if you add more logging to your code, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.doOnRequest(requested -&gt; System.out.println(&quot;# doOnRequest 2:&quot; + requested))\n.publishOn(Schedulers.parallel())\n.doOnRequest(requested -&gt; System.out.println(&quot;# doOnRequest 1:&quot; + requested))\n</code></pre>\n<p>This prints</p>\n<pre><code># doOnRequest 1:9223372036854775807  &lt;--- which is UNBOUNDED\n# doOnRequest 2:256                  &lt;--- after .publishOn()\n</code></pre>\n"}],"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76374130,"answer_count":1,"score":2,"last_activity_date":1685540203,"creation_date":1685496710,"question_id":76369581,"body_markdown":"I&#39;m currently studying webflux Backpressure, and I&#39;m not sure about the criteria for triggering an error when setting onBackpressureError. When testing with the provided source code, I receive data only up to 255, and from 256 onwards, an error occurs. When examining the decompiled code, it seems that the error occurs when DropSubscriber.requested becomes 0. I&#39;m wondering if there is any correlation between these factors.\r\n\r\n```java\r\nclass BackpressureErrorTest {\r\n    private static final Logger log = LoggerFactory.getLogger(BackpressureErrorTest.class);\r\n\r\n    @Test\r\n    void given_when_then() throws InterruptedException {\r\n        Flux\r\n                .interval(Duration.ofMillis(1L))\r\n                .onBackpressureError()\r\n                .doOnNext(data -&gt; log.info(&quot;# doOnNext: {}&quot;, data))\r\n                .publishOn(Schedulers.parallel())\r\n                .subscribe(data -&gt; {\r\n                    try {\r\n                        Thread.sleep(5L);\r\n                    } catch (InterruptedException e) {}\r\n                    log.info(&quot;# onNext: {}&quot;, data);\r\n                }, error -&gt; log.error(&quot;# onError&quot;, error));\r\n\r\n        Thread.sleep(2000L);\r\n    }\r\n}\r\n```","title":"When I configure onBackpressureError in WebFlux, it raises an error based on specific conditions","body":"<p>I'm currently studying webflux Backpressure, and I'm not sure about the criteria for triggering an error when setting onBackpressureError. When testing with the provided source code, I receive data only up to 255, and from 256 onwards, an error occurs. When examining the decompiled code, it seems that the error occurs when DropSubscriber.requested becomes 0. I'm wondering if there is any correlation between these factors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BackpressureErrorTest {\n    private static final Logger log = LoggerFactory.getLogger(BackpressureErrorTest.class);\n\n    @Test\n    void given_when_then() throws InterruptedException {\n        Flux\n                .interval(Duration.ofMillis(1L))\n                .onBackpressureError()\n                .doOnNext(data -&gt; log.info(&quot;# doOnNext: {}&quot;, data))\n                .publishOn(Schedulers.parallel())\n                .subscribe(data -&gt; {\n                    try {\n                        Thread.sleep(5L);\n                    } catch (InterruptedException e) {}\n                    log.info(&quot;# onNext: {}&quot;, data);\n                }, error -&gt; log.error(&quot;# onError&quot;, error));\n\n        Thread.sleep(2000L);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","deep-linking"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1685544007,"post_id":76374023,"comment_id":134675506,"body_markdown":"That&#39;s not a parseable Uri - query parameters need to be [URL encoded](https://en.m.wikipedia.org/wiki/URL_encoding).","body":"That&#39;s not a parseable Uri - query parameters need to be <a href=\"https://en.m.wikipedia.org/wiki/URL_encoding\" rel=\"nofollow noreferrer\">URL encoded</a>."}],"owner":{"account_id":18002107,"reputation":542,"user_id":13083841,"display_name":"mrzbn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685540188,"creation_date":1685539622,"question_id":76374023,"body_markdown":"There is this deeplink:\r\n\r\n    https://example.com/?url=https://google.com/?search=apple&amp;sourceid=chrome\r\ndeeplink is then parsed to:\r\n\r\n    domain = https://example.com\r\n    queryParams = {\r\n        url = https://google.com/?search=apple\r\n        sourceid = chrome\r\n    }\r\n    \r\nwhereas I want it to be parsed like this:\r\n\r\n    domain = https://example.com\r\n    queryParams = {\r\n        url= https://google.com/?search=apple&amp;sourceid=chrome\r\n    }\r\n\r\n","title":"Navigation Component deeplink cuts of query parameter when query value is also a url with query parameters","body":"<p>There is this deeplink:</p>\n<pre><code>https://example.com/?url=https://google.com/?search=apple&amp;sourceid=chrome\n</code></pre>\n<p>deeplink is then parsed to:</p>\n<pre><code>domain = https://example.com\nqueryParams = {\n    url = https://google.com/?search=apple\n    sourceid = chrome\n}\n</code></pre>\n<p>whereas I want it to be parsed like this:</p>\n<pre><code>domain = https://example.com\nqueryParams = {\n    url= https://google.com/?search=apple&amp;sourceid=chrome\n}\n</code></pre>\n"},{"tags":["java","json","serialization","jackson"],"comments":[{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":0,"creation_date":1578055397,"post_id":59578802,"comment_id":105323833,"body_markdown":"I have an arraylist called persons. When I do mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS), it gives me [ { }, { }, { }, { }, { }, { }, { }, { }, { }, { }, { } ]. Without it, it just creates a broken json file: &quot; [&quot;.","body":"I have an arraylist called persons. When I do mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS), it gives me [ { }, { }, { }, { }, { }, { }, { }, { }, { }, { }, { } ]. Without it, it just creates a broken json file: &quot; [&quot;."},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1578055404,"post_id":59578802,"comment_id":105323835,"body_markdown":"Can you put the full code.","body":"Can you put the full code."},{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":3,"creation_date":1578055704,"post_id":59578802,"comment_id":105323972,"body_markdown":"My code is very messy as I am new to Java. I am scraping Wikipedia and collecting data of politicians.","body":"My code is very messy as I am new to Java. I am scraping Wikipedia and collecting data of politicians."},{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":0,"creation_date":1578056072,"post_id":59578802,"comment_id":105324135,"body_markdown":"Do I have to create a new custom serlizer? or is there an easier way?","body":"Do I have to create a new custom serlizer? or is there an easier way?"},{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":1,"creation_date":1578060917,"post_id":59578802,"comment_id":105326368,"body_markdown":"The sample you&#39;ve posted has no public members.  It&#39;s likely that the serializing class simply can&#39;t see anything in those objects _to_ serialize.","body":"The sample you&#39;ve posted has no public members.  It&#39;s likely that the serializing class simply can&#39;t see anything in those objects <i>to</i> serialize."},{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":0,"creation_date":1578063315,"post_id":59578802,"comment_id":105327526,"body_markdown":"Do I have to declare name and age etc. public inside class?","body":"Do I have to declare name and age etc. public inside class?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1578065152,"post_id":59578802,"comment_id":105328400,"body_markdown":"Could you create `POJO` class with getters and setters and try with it?","body":"Could you create <code>POJO</code> class with getters and setters and try with it?"},{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":1,"creation_date":1578087660,"post_id":59578802,"comment_id":105337764,"body_markdown":"Java&#39;s default access modifier (which is what you get if you don&#39;t specify something else, as you&#39;ve done here) only allows access within the same package or from the class itself.  The best practice is to add (public) getters and setters.","body":"Java&#39;s default access modifier (which is what you get if you don&#39;t specify something else, as you&#39;ve done here) only allows access within the same package or from the class itself.  The best practice is to add (public) getters and setters."},{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":0,"creation_date":1578149679,"post_id":59578802,"comment_id":105348773,"body_markdown":"As many of you mentioned, making elements inside the class public seems to be the solution. I solved the problem by creating a custom serializer.","body":"As many of you mentioned, making elements inside the class public seems to be the solution. I solved the problem by creating a custom serializer."}],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1578148570,"creation_date":1578148570,"answer_id":59591684,"question_id":59578802,"body_markdown":"Excerpt from [here](https://www.baeldung.com/jackson-jsonmappingexception):\r\n\r\n&gt; By default, Jackson 2 will only work with with fields that are either public, or have a public getter methods – serializing an entity that has all fields private or package private will fail:\r\n\r\nYour `Person` has all fields [package protected](https://stackoverflow.com/q/215497/6413377) and without getters thus the error message. Disabling the message naturally does not fix the problem since the class is still `empty` from Jackson&#39;s point of view. That is why you see empty objects and it is better to leave the error on.\r\n\r\nYou need to either make all fields `public`, like:\r\n\r\n    public class Person {\r\n        public String name;\r\n        // rest of the stuff...\r\n    }\r\n\r\nor create a public getter for each field (and preferably also set fields private), like:\r\n\r\n    public class Person {\r\n        private String name;\r\n        \r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n        // rest of the stuff...\r\n    }","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>Excerpt from <a href=\"https://www.baeldung.com/jackson-jsonmappingexception\" rel=\"noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>By default, Jackson 2 will only work with with fields that are either public, or have a public getter methods – serializing an entity that has all fields private or package private will fail:</p>\n</blockquote>\n\n<p>Your <code>Person</code> has all fields <a href=\"https://stackoverflow.com/q/215497/6413377\">package protected</a> and without getters thus the error message. Disabling the message naturally does not fix the problem since the class is still <code>empty</code> from Jackson's point of view. That is why you see empty objects and it is better to leave the error on.</p>\n\n<p>You need to either make all fields <code>public</code>, like:</p>\n\n<pre><code>public class Person {\n    public String name;\n    // rest of the stuff...\n}\n</code></pre>\n\n<p>or create a public getter for each field (and preferably also set fields private), like:</p>\n\n<pre><code>public class Person {\n    private String name;\n\n    public String getName() {\n        return this.name;\n    }\n    // rest of the stuff...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3648696,"reputation":699,"user_id":3041354,"display_name":"sandeep vanama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583381636,"creation_date":1583381636,"answer_id":60538104,"question_id":59578802,"body_markdown":"All the fields in Person class are with default access specifier.Either make the fields public or add public getter methods.Below class should work.\r\n\r\n    public class Person {\r\n\t\r\n\t    private String name;\r\n\t    private String age ;\r\n\t    private List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\r\n\t    private List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \r\n\t    private List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \r\n\t    \r\n\t    public String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t    \r\n\t    public String getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\t    \r\n\t    public List&lt;String&gt; getEducation() {\r\n\t\t\treturn education;\r\n\t\t}\r\n\t    \r\n\t    public List&lt;String&gt; getFamily() {\r\n\t\t\treturn family;\r\n\t\t}\r\n\t    \r\n\t    public List&lt;String&gt; getPreviousjobs() {\r\n\t\t\treturn previousjobs;\r\n\t\t}\r\n\t    \r\n\r\n}\r\n\r\nIf POJO is in our control we can modify POJO as above.If POJO is not under control we can set the visibility to any as \r\nbelow objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>All the fields in Person class are with default access specifier.Either make the fields public or add public getter methods.Below class should work.</p>\n\n<pre><code>public class Person {\n\n    private String name;\n    private String age ;\n    private List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\n    private List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \n    private List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \n\n    public String getName() {\n        return name;\n    }\n\n    public String getAge() {\n        return age;\n    }\n\n    public List&lt;String&gt; getEducation() {\n        return education;\n    }\n\n    public List&lt;String&gt; getFamily() {\n        return family;\n    }\n\n    public List&lt;String&gt; getPreviousjobs() {\n        return previousjobs;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>If POJO is in our control we can modify POJO as above.If POJO is not under control we can set the visibility to any as \nbelow objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);</p>\n"},{"tags":[],"owner":{"account_id":19035501,"reputation":11,"user_id":13896678,"display_name":"Purushottam Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671035677,"creation_date":1670651213,"answer_id":74750689,"question_id":59578802,"body_markdown":"create object of **object mapper** class and pass below property to resolve this issue in:\r\n\r\n    given().body(value).when().post(&quot;/workspaces&quot;).then().spec(responseSpecification).log().all();  \r\n    \r\n    String value = objectMapper.writeValueAsString(workspaceRoot);\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper()               .setVisibility(PropertyAccessor.FIELD,JsonAutoDetect.Visibility.ANY).disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>create object of <strong>object mapper</strong> class and pass below property to resolve this issue in:</p>\n<pre><code>given().body(value).when().post(&quot;/workspaces&quot;).then().spec(responseSpecification).log().all();  \n\nString value = objectMapper.writeValueAsString(workspaceRoot);\n\nObjectMapper objectMapper = new ObjectMapper()               .setVisibility(PropertyAccessor.FIELD,JsonAutoDetect.Visibility.ANY).disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11145558,"reputation":124,"user_id":8180448,"display_name":"Nurudeen Amedu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685539831,"creation_date":1685539831,"answer_id":76374063,"question_id":59578802,"body_markdown":"With Lombok Builder you can avoid this with Getter annotation, your class will look like;\r\n\r\n    @Builder\r\n    @Getter\r\n    public class Person {\r\n        String name;\r\n        String age \r\n        List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\r\n        List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \r\n        List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \r\n    }\r\n\r\nYou would have to build a person with the [Lombok builder][1] but the writer will have access to all person values\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Builder","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>With Lombok Builder you can avoid this with Getter annotation, your class will look like;</p>\n<pre><code>@Builder\n@Getter\npublic class Person {\n    String name;\n    String age \n    List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\n    List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \n    List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \n}\n</code></pre>\n<p>You would have to build a person with the <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">Lombok builder</a> but the writer will have access to all person values</p>\n"}],"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39665,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":59591684,"answer_count":4,"score":18,"last_activity_date":1685539831,"creation_date":1578055149,"question_id":59578802,"body_markdown":"I have an ArrayList of a class that looks like this:\r\n\r\n    public class Person {\r\n        String name;\r\n        String age \r\n        List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\r\n        List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \r\n        List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \r\n    }\r\n\r\nI want to write this list as Json and tried this code:\r\n\r\n    Writer out = new PrintWriter(&quot;./test.json&quot;);\r\n    mapper.writerWithDefaultPrettyPrinter().writeValueas(out, persons);\r\n\r\nand got this error message:\r\n\r\n&gt; No serializer found for class ~~~~~~ and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0])`\r\n\r\nI tried adding `mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)` but it made all the Person Objects empty for some unknown reasons.\r\n\r\nWhat am I getting wrong? \r\n\r\n","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>I have an ArrayList of a class that looks like this:</p>\n\n<pre><code>public class Person {\n    String name;\n    String age \n    List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\n    List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \n    List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \n}\n</code></pre>\n\n<p>I want to write this list as Json and tried this code:</p>\n\n<pre><code>Writer out = new PrintWriter(\"./test.json\");\nmapper.writerWithDefaultPrettyPrinter().writeValueas(out, persons);\n</code></pre>\n\n<p>and got this error message:</p>\n\n<blockquote>\n  <p>No serializer found for class ~~~~~~ and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0])`</p>\n</blockquote>\n\n<p>I tried adding <code>mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)</code> but it made all the Person Objects empty for some unknown reasons.</p>\n\n<p>What am I getting wrong? </p>\n"},{"tags":["java","database","couchbase","couchbase-java-api"],"answers":[{"tags":[],"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685539694,"creation_date":1685539694,"answer_id":76374037,"question_id":76369022,"body_markdown":"To update XATTR, use the Sub-Document API. Here&#39;s an example from the [Couchbase Java documentation][1]:\r\n\r\n```\r\nJsonObject docContent = JsonObject.create().put(&quot;body&quot;, &quot;value&quot;);\r\ncollection.mutateIn(&quot;hotel_14006&quot;,\r\n    Arrays.asList(MutateInSpec.upsert(&quot;foo&quot;, &quot;bar&quot;).xattr().createPath(), MutateInSpec.replace(&quot;&quot;, docContent)));\r\n```\r\n\r\nNotice the use of `.xattr()`.\r\n\r\nNote that XATTR&#39;s generally should only be used for framework/library metadata, and are not meant for use in general applications. XATTRs may not be accessible by all Couchbase services (Search, for example).\r\n\r\n  [1]: https://docs.couchbase.com/java-sdk/current/howtos/subdocument-operations.html#extended-attributes","title":"update xattr in meta in couchbase sdk 3.4.0 with java","body":"<p>To update XATTR, use the Sub-Document API. Here's an example from the <a href=\"https://docs.couchbase.com/java-sdk/current/howtos/subdocument-operations.html#extended-attributes\" rel=\"nofollow noreferrer\">Couchbase Java documentation</a>:</p>\n<pre><code>JsonObject docContent = JsonObject.create().put(&quot;body&quot;, &quot;value&quot;);\ncollection.mutateIn(&quot;hotel_14006&quot;,\n    Arrays.asList(MutateInSpec.upsert(&quot;foo&quot;, &quot;bar&quot;).xattr().createPath(), MutateInSpec.replace(&quot;&quot;, docContent)));\n</code></pre>\n<p>Notice the use of <code>.xattr()</code>.</p>\n<p>Note that XATTR's generally should only be used for framework/library metadata, and are not meant for use in general applications. XATTRs may not be accessible by all Couchbase services (Search, for example).</p>\n"}],"owner":{"account_id":1900628,"reputation":586,"user_id":1716558,"accept_rate":64,"display_name":"Amit Sinha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685784479,"accepted_answer_id":76374037,"answer_count":1,"score":0,"last_activity_date":1685539694,"creation_date":1685485790,"question_id":76369022,"body_markdown":"I want to update xattr in meta of a document. I didnt find any document provided by couchbase.\r\n\r\n    {\r\n      &quot;meta&quot;: {\r\n        &quot;id&quot;: &quot;0000c84b-e2bc-43ac-af51-7cf141777f49&quot;,\r\n        &quot;rev&quot;: &quot;102-163756db3f7100000000000002000000&quot;,\r\n        &quot;expiration&quot;: 0,\r\n        &quot;flags&quot;: 33554432,\r\n        &quot;type&quot;: &quot;json&quot;\r\n      },\r\n      &quot;xattrs&quot;: {}\r\n    }\r\n\r\nCan anyone help me.","title":"update xattr in meta in couchbase sdk 3.4.0 with java","body":"<p>I want to update xattr in meta of a document. I didnt find any document provided by couchbase.</p>\n<pre><code>{\n  &quot;meta&quot;: {\n    &quot;id&quot;: &quot;0000c84b-e2bc-43ac-af51-7cf141777f49&quot;,\n    &quot;rev&quot;: &quot;102-163756db3f7100000000000002000000&quot;,\n    &quot;expiration&quot;: 0,\n    &quot;flags&quot;: 33554432,\n    &quot;type&quot;: &quot;json&quot;\n  },\n  &quot;xattrs&quot;: {}\n}\n</code></pre>\n<p>Can anyone help me.</p>\n"},{"tags":["java","visual-studio-code","format"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1658394798,"post_id":73061997,"comment_id":129042309,"body_markdown":"VS Code [Language Support for Java](https://marketplace.visualstudio.com/items?itemName=redhat.java) which is based on Eclipse does not provide an UI for the Java formatter settings, but Eclipse does it.","body":"VS Code <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">Language Support for Java</a> which is based on Eclipse does not provide an UI for the Java formatter settings, but Eclipse does it."}],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658455523,"creation_date":1658455523,"answer_id":73074349,"question_id":73061997,"body_markdown":"1. You can use some special comment to let the extension skip format in a range:\r\n\r\n```java\r\n//@formatter:off\r\nsomeClass.someMethod(\r\n        veryLongParameterOne,\r\n        veryLongParameteTwo,\r\n        veryLongParameterThree\r\n);\r\n//@formatter:on\r\n```\r\n\r\n2. Or you can trigger a command `Java: Open Java Formatter Settings with Preview` to view some basic format settings in UI. Meanwhile it will generate a .xml format profile in .vscode folder, in which you can find all format settings there.","title":"Preserving line breaks in VSCode Java formatter","body":"<ol>\n<li>You can use some special comment to let the extension skip format in a range:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>//@formatter:off\nsomeClass.someMethod(\n        veryLongParameterOne,\n        veryLongParameteTwo,\n        veryLongParameterThree\n);\n//@formatter:on\n</code></pre>\n<ol start=\"2\">\n<li>Or you can trigger a command <code>Java: Open Java Formatter Settings with Preview</code> to view some basic format settings in UI. Meanwhile it will generate a .xml format profile in .vscode folder, in which you can find all format settings there.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":339820,"reputation":1567,"user_id":669518,"accept_rate":0,"display_name":"FrankyHollywood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685539585,"creation_date":1685539585,"answer_id":76374015,"question_id":73061997,"body_markdown":"In your format settings (e.g. eclipse-java-google-style.xml) use this:\r\n\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.join_wrapped_lines&quot; value=&quot;false&quot;/&gt;\r\n\r\n","title":"Preserving line breaks in VSCode Java formatter","body":"<p>In your format settings (e.g. eclipse-java-google-style.xml) use this:</p>\n<pre><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.join_wrapped_lines&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":14975659,"reputation":21,"user_id":10811180,"display_name":"HyeonseokJung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685539585,"creation_date":1658387224,"question_id":73061997,"body_markdown":"I am currently using **`Java`** in **`Visual Studio Code`**, and I am having a problem with formatting.\r\n\r\nI want to preserve the line breaks I made on purpose even after formatting.\r\n\r\n**BUT** **`VSCode`** doesn&#39;t allows me to do that.\r\n\r\nIs there a solution for this problem?\r\n\r\n***[Before formatting]***\r\n\r\n```Java\r\nsomeClass.someMethod(\r\n        veryLongParameterOne,\r\n        veryLongParameteTwo,\r\n        veryLongParameterThree\r\n);\r\n```\r\n\r\n***[After formatting]***\r\n\r\n```Java\r\nsomeClass.someMethod(\r\n        veryLongParameterOne,\r\n        veryLongParameteTwo,\r\n        veryLongParameterThree);\r\n```\r\n\r\nAll I want is to keep the code the same before and after formatting.\r\n","title":"Preserving line breaks in VSCode Java formatter","body":"<p>I am currently using <strong><code>Java</code></strong> in <strong><code>Visual Studio Code</code></strong>, and I am having a problem with formatting.</p>\n<p>I want to preserve the line breaks I made on purpose even after formatting.</p>\n<p><strong>BUT</strong> <strong><code>VSCode</code></strong> doesn't allows me to do that.</p>\n<p>Is there a solution for this problem?</p>\n<p><em><strong>[Before formatting]</strong></em></p>\n<pre><code>someClass.someMethod(\n        veryLongParameterOne,\n        veryLongParameteTwo,\n        veryLongParameterThree\n);\n</code></pre>\n<p><em><strong>[After formatting]</strong></em></p>\n<pre><code>someClass.someMethod(\n        veryLongParameterOne,\n        veryLongParameteTwo,\n        veryLongParameterThree);\n</code></pre>\n<p>All I want is to keep the code the same before and after formatting.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1685525930,"post_id":76371792,"comment_id":134671189,"body_markdown":"Your code is vulnerable to SQL injection. Don&#39;t just interpolate values into a query string. In this case you&#39;re relatively safe because the interpolated values are numbers, but if you apply this pattern anywhere else with strings, then you have a problem.","body":"Your code is vulnerable to SQL injection. Don&#39;t just interpolate values into a query string. In this case you&#39;re relatively safe because the interpolated values are numbers, but if you apply this pattern anywhere else with strings, then you have a problem."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1685525982,"post_id":76371792,"comment_id":134671205,"body_markdown":"One problem in your code is that you don&#39;t close the result set. You don&#39;t show the code of `getDataQuery`, but if you make similar mistakes there, you&#39;re probably also leaking connections and statement objects.","body":"One problem in your code is that you don&#39;t close the result set. You don&#39;t show the code of <code>getDataQuery</code>, but if you make similar mistakes there, you&#39;re probably also leaking connections and statement objects."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1685526917,"post_id":76371792,"comment_id":134671425,"body_markdown":"You aren&#39;t closing your `ResultSet`s. Whatever `sqlConnection.getDataQuery()` may do, it may be leaking `Statements` or `PreparedStatement`s. You may also be leaking `Connection`s. This is a textbook example of how not to write JDBC code.","body":"You aren&#39;t closing your <code>ResultSet</code>s. Whatever <code>sqlConnection.getDataQuery()</code> may do, it may be leaking <code>Statements</code> or <code>PreparedStatement</code>s. You may also be leaking <code>Connection</code>s. This is a textbook example of how not to write JDBC code."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1685587376,"post_id":76371792,"comment_id":134682011,"body_markdown":"How many Threads are created?","body":"How many Threads are created?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1685598110,"post_id":76371792,"comment_id":134682977,"body_markdown":"Re your edit, as suspected, you are leaking not only `ResultSet`s but `Statement`s as well, especially in the event of an exception. Returning a `ResultSet` from a method basically cannot be done. You should put the body of `getDataQuery()` inside the thread block where it is called, and use try-with-resources to ensure the `ResultSet` and the `Statement` get closed. @RickJames It wouldn&#39;t matter if there was only one thread: there are still leaks.","body":"Re your edit, as suspected, you are leaking not only <code>ResultSet</code>s but <code>Statement</code>s as well, especially in the event of an exception. Returning a <code>ResultSet</code> from a method basically cannot be done. You should put the body of <code>getDataQuery()</code> inside the thread block where it is called, and use try-with-resources to ensure the <code>ResultSet</code> and the <code>Statement</code> get closed. @RickJames It wouldn&#39;t matter if there was only one thread: there are still leaks."},{"owner":{"account_id":14727554,"reputation":97,"user_id":18667813,"display_name":"antoo5_11"},"score":0,"creation_date":1685602594,"post_id":76371792,"comment_id":134683588,"body_markdown":"I have already change all in my code, with Try-With_Resources, it really helps me. But I wonder is there any way to shorten my code, I see that any where I want to select, I need to try(Statement, ResultSet..). If I create function to get dataquery as I did in my question, it is impossible to close resultset and statement because it return resultset, and I need to use it in other position. Do I need to answer my question? Thank all of you.","body":"I have already change all in my code, with Try-With_Resources, it really helps me. But I wonder is there any way to shorten my code, I see that any where I want to select, I need to try(Statement, ResultSet..). If I create function to get dataquery as I did in my question, it is impossible to close resultset and statement because it return resultset, and I need to use it in other position. Do I need to answer my question? Thank all of you."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1685603897,"post_id":76371792,"comment_id":134683843,"body_markdown":"That&#39;s exactly what I am telling you to do, and I also told you that returning a `ResultSet` from a method basically cannot be done, as you have just discovered. You have to use a try-with-resources structure, or else return a `CachedRowSet`, but that has its own disadvantages, notably a potentially waste of space.","body":"That&#39;s exactly what I am telling you to do, and I also told you that returning a <code>ResultSet</code> from a method basically cannot be done, as you have just discovered. You have to use a try-with-resources structure, or else return a <code>CachedRowSet</code>, but that has its own disadvantages, notably a potentially waste of space."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685616341,"post_id":76371792,"comment_id":134686420,"body_markdown":"@user207421 You can return result set without leaking a statement, by calling the `closeOnCompletion()` method of the `Statement` object. Then when the result set is closed, it should (assuming JDBC 4.1 compliance) close the originating statement as well.","body":"@user207421 You can return result set without leaking a statement, by calling the <code>closeOnCompletion()</code> method of the <code>Statement</code> object. Then when the result set is closed, it should (assuming JDBC 4.1 compliance) close the originating statement as well."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1685661890,"post_id":76371792,"comment_id":134696001,"body_markdown":"@MarkRotteveel Indeed, indeed, and a compliant impllementation is supposed to release all resources on closing the `ResultSet`, which presumably includes the `Statement`, but he needs to start by closing the `ResultSet`, and once he has the try=-with-resources structure in place it would be madness not to include the `Statement` in that as well.","body":"@MarkRotteveel Indeed, indeed, and a compliant impllementation is supposed to release all resources on closing the <code>ResultSet</code>, which presumably includes the <code>Statement</code>, but he needs to start by closing the <code>ResultSet</code>, and once he has the try=-with-resources structure in place it would be madness not to include the <code>Statement</code> in that as well."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1688842924,"post_id":76371792,"comment_id":135129482,"body_markdown":"Are you seriously using a *database* to track a real time game state? Why not just do it in memory","body":"Are you seriously using a <i>database</i> to track a real time game state? Why not just do it in memory"}],"answers":[{"tags":[],"owner":{"account_id":10025983,"reputation":984,"user_id":7414142,"display_name":"Julien Feniou"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1685526235,"creation_date":1685526235,"answer_id":76372141,"question_id":76371792,"body_markdown":"You should first try an optimisation of your variables. \r\n\r\nYour thread keeps using new String for the query, whereas it seems it could be build only once. Same for your ResultSet, each time you run into a new loop, you will use a new place in RAM for a new object.\r\n\r\nYou can check this by adding a console out of your Java ID object :\r\n\r\n    System.out.println(resultSet);\r\nAnd see it&#39;s different each time\r\n\r\n\r\nSomething like this : \r\n\r\n    Thread thread = new Thread(() -&gt; {\r\n\r\n            ResultSet resultSet;\r\n            final String query = String.format(&quot;select * from matchDetails where matchID = %d and userID = %d&quot;, matchID, opponentID);\r\n\r\n            while (matchID != -1) {\r\n                try {\r\n                    resultSet = sqlConnection.getDataQuery(query);\r\n\r\nThen I let you think about changing your Query, to select only the xPos/yPos not equals to &quot;-1&quot; and get a result only for a real opponent position changing, and finaly, maybe not sending a &quot;new Position&quot; but only the 2 variables opponentX and Y, which will prevent your RAM to store this object.\r\n\r\nDon&#39;t forget that Java will clean your RAM objects only when your code execution is done (in short version), so having a single never ending thread won&#39;t go into this case. ","title":"How to continuously update to database server with JDBC in Java without increase the amount of RAM consumption?","body":"<p>You should first try an optimisation of your variables.</p>\n<p>Your thread keeps using new String for the query, whereas it seems it could be build only once. Same for your ResultSet, each time you run into a new loop, you will use a new place in RAM for a new object.</p>\n<p>You can check this by adding a console out of your Java ID object :</p>\n<pre><code>System.out.println(resultSet);\n</code></pre>\n<p>And see it's different each time</p>\n<p>Something like this :</p>\n<pre><code>Thread thread = new Thread(() -&gt; {\n\n        ResultSet resultSet;\n        final String query = String.format(&quot;select * from matchDetails where matchID = %d and userID = %d&quot;, matchID, opponentID);\n\n        while (matchID != -1) {\n            try {\n                resultSet = sqlConnection.getDataQuery(query);\n</code></pre>\n<p>Then I let you think about changing your Query, to select only the xPos/yPos not equals to &quot;-1&quot; and get a result only for a real opponent position changing, and finaly, maybe not sending a &quot;new Position&quot; but only the 2 variables opponentX and Y, which will prevent your RAM to store this object.</p>\n<p>Don't forget that Java will clean your RAM objects only when your code execution is done (in short version), so having a single never ending thread won't go into this case.</p>\n"}],"owner":{"account_id":14727554,"reputation":97,"user_id":18667813,"display_name":"antoo5_11"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1685539509,"creation_date":1685523634,"question_id":76371792,"body_markdown":"I write a fighting game in JavaFX, using JDBC to update information to a MySQL database. Most tasks that get basic information from the database server will work properly if not repeated continuously. The problem occurs when I need for the program to constantly update information from the opponent, such as position, level, damage in the game. I have to send select commands to the server continuously, which increases the RAM used by the thread running these commands.\r\n\r\n    void startUpdatingOpponentInfo() {\r\n        Thread thread = new Thread(() -&gt; {\r\n            while (matchID != -1) {\r\n                String query = String.format(&quot;select * from matchDetails where matchID = %d and userID = %d&quot;, matchID, opponentID);\r\n                try {\r\n                    ResultSet resultSet = sqlConnection.getDataQuery(query);\r\n                    while (resultSet.next()) {\r\n                        double opponentX = resultSet.getDouble(&quot;xPos&quot;);\r\n                        double opponentY = resultSet.getDouble(&quot;YPos&quot;);\r\n                        if (opponentX != -1 &amp;&amp; opponentY != -1)\r\n                            opponent.move(canvas, new Position(opponentX, opponentY));\r\n                    }\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    Thread.sleep(10);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n      public ResultSet getDataQuery(String query) {\r\n        Statement statement;\r\n        ResultSet resultSet = null;\r\n        try {\r\n            statement = connection.createStatement();\r\n            resultSet = statement.executeQuery(query);\r\n        } catch (SQLException e) {\r\n            System.out.println(query);\r\n            e.printStackTrace();\r\n        }\r\n        return resultSet;\r\n    }\r\n\r\n\r\nI tried searching a few methods and found one that was quite helpful. After each select, I will let that thread sleep for a period of time and then select again. This way increases performance significantly, the amount of RAM consumption remains stable. However, it is not suitable for querying information that always needs to be refreshed, because RAM consumption is still high with a short sleep of &#39;select&#39; thread. Is there any useful method for this problem, where I allow my game to connect directly to the database server without going through an intermediate game server.","title":"How to continuously update to database server with JDBC in Java without increase the amount of RAM consumption?","body":"<p>I write a fighting game in JavaFX, using JDBC to update information to a MySQL database. Most tasks that get basic information from the database server will work properly if not repeated continuously. The problem occurs when I need for the program to constantly update information from the opponent, such as position, level, damage in the game. I have to send select commands to the server continuously, which increases the RAM used by the thread running these commands.</p>\n<pre><code>void startUpdatingOpponentInfo() {\n    Thread thread = new Thread(() -&gt; {\n        while (matchID != -1) {\n            String query = String.format(&quot;select * from matchDetails where matchID = %d and userID = %d&quot;, matchID, opponentID);\n            try {\n                ResultSet resultSet = sqlConnection.getDataQuery(query);\n                while (resultSet.next()) {\n                    double opponentX = resultSet.getDouble(&quot;xPos&quot;);\n                    double opponentY = resultSet.getDouble(&quot;YPos&quot;);\n                    if (opponentX != -1 &amp;&amp; opponentY != -1)\n                        opponent.move(canvas, new Position(opponentX, opponentY));\n                }\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    });\n}\n\n  public ResultSet getDataQuery(String query) {\n    Statement statement;\n    ResultSet resultSet = null;\n    try {\n        statement = connection.createStatement();\n        resultSet = statement.executeQuery(query);\n    } catch (SQLException e) {\n        System.out.println(query);\n        e.printStackTrace();\n    }\n    return resultSet;\n}\n</code></pre>\n<p>I tried searching a few methods and found one that was quite helpful. After each select, I will let that thread sleep for a period of time and then select again. This way increases performance significantly, the amount of RAM consumption remains stable. However, it is not suitable for querying information that always needs to be refreshed, because RAM consumption is still high with a short sleep of 'select' thread. Is there any useful method for this problem, where I allow my game to connect directly to the database server without going through an intermediate game server.</p>\n"},{"tags":["java","slf4j","wiremock"],"answers":[{"tags":[],"owner":{"account_id":22581348,"reputation":113,"user_id":16765942,"display_name":"Gabriela83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685539106,"creation_date":1685539106,"answer_id":76373939,"question_id":72433083,"body_markdown":"Set the `verbose` parameter of `Slf4jNotifier` to false to disable logging.","title":"How to exclude certain logging level from [Test worker] logger","body":"<p>Set the <code>verbose</code> parameter of <code>Slf4jNotifier</code> to false to disable logging.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685539106,"creation_date":1653907679,"question_id":72433083,"body_markdown":"I use `WireMock` library for unit testing and every time I receive a lot of the DEBUG logs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI try to exclude logs with `logbak-test.xml&#39; file but it give an unexpectedly result: even I create an empty file - no one log outputted:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n&lt;/confuguration&gt;\r\n```\r\nBut I need to receive ERROR and WARN logs, etc...\r\n\r\nSo, my WireMock configuration:\r\n\r\n```java\r\n    @ConfigureWireMock\r\n    protected Options options = wireMockConfig()\r\n            .port(8088)\r\n            .notifier(new Slf4jNotifier(true))\r\n            .extensions(ResponseTemplateTransformer.builder()\r\n                    .global(false)\r\n                    .maxCacheEntries(10L)\r\n                    .build());\r\n```\r\n\r\nlogbak-test.xml:\r\n\r\n```xml\r\n&lt;configuration debug=&quot;false&quot; scan=&quot;true&quot;&gt;\r\n    &lt;!-- Turning down the wiremock logging --&gt;\r\n    &lt;logger name=&quot;com.github.tomakehurst.wiremock&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;logger name=&quot;wiremock.org&quot; level=&quot;ERROR&quot;/&gt;\r\n    &lt;logger name=&quot;WireMock&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;!-- wiremock has per endpoint servlet logging --&gt;\r\n    &lt;logger name=&quot;/&quot; level=&quot;WARN&quot;/&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\napplication.properties:\r\n\r\n```properties\r\ncom.github.tomakehurst.wiremock=TRACE\r\n```\r\n\r\n- How to receive exactly ERROR, INFO and WARN logs?\r\n\r\nThere are the code where I need to get a log:\r\n\r\n```java\r\n@Slf4j\r\npublic class TryCatchResponseUtil {\r\n    public void logiingTest(){\r\n        log.error(&quot;error&quot;);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/fFMpL.png","title":"How to exclude certain logging level from [Test worker] logger","body":"<p>I use <code>WireMock</code> library for unit testing and every time I receive a lot of the DEBUG logs:</p>\n<p><a href=\"https://i.stack.imgur.com/fFMpL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fFMpL.png\" alt=\"enter image description here\" /></a></p>\n<p>I try to exclude logs with `logbak-test.xml' file but it give an unexpectedly result: even I create an empty file - no one log outputted:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n&lt;/confuguration&gt;\n</code></pre>\n<p>But I need to receive ERROR and WARN logs, etc...</p>\n<p>So, my WireMock configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ConfigureWireMock\n    protected Options options = wireMockConfig()\n            .port(8088)\n            .notifier(new Slf4jNotifier(true))\n            .extensions(ResponseTemplateTransformer.builder()\n                    .global(false)\n                    .maxCacheEntries(10L)\n                    .build());\n</code></pre>\n<p>logbak-test.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration debug=&quot;false&quot; scan=&quot;true&quot;&gt;\n    &lt;!-- Turning down the wiremock logging --&gt;\n    &lt;logger name=&quot;com.github.tomakehurst.wiremock&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;wiremock.org&quot; level=&quot;ERROR&quot;/&gt;\n    &lt;logger name=&quot;WireMock&quot; level=&quot;WARN&quot;/&gt;\n    &lt;!-- wiremock has per endpoint servlet logging --&gt;\n    &lt;logger name=&quot;/&quot; level=&quot;WARN&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>com.github.tomakehurst.wiremock=TRACE\n</code></pre>\n<ul>\n<li>How to receive exactly ERROR, INFO and WARN logs?</li>\n</ul>\n<p>There are the code where I need to get a log:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class TryCatchResponseUtil {\n    public void logiingTest(){\n        log.error(&quot;error&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685538901,"creation_date":1685538901,"answer_id":76373911,"question_id":76369580,"body_markdown":"Consider setting the container property `asyncAcks`; this causes the container to defer out-of-order commits until any &quot;gaps&quot; are filled.\r\n\r\nIf there are still gaps when all records from a poll have been processed, the consumer is paused until those gaps are filled.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#ooo-commits\r\n\r\n","title":"What acknowledgment strategy can I use when my incoming kafka message sends messages on multiple topics, and I want to batch the sends?","body":"<p>Consider setting the container property <code>asyncAcks</code>; this causes the container to defer out-of-order commits until any &quot;gaps&quot; are filled.</p>\n<p>If there are still gaps when all records from a poll have been processed, the consumer is paused until those gaps are filled.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#ooo-commits\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#ooo-commits</a></p>\n"}],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76373911,"answer_count":1,"score":0,"last_activity_date":1685538901,"creation_date":1685496616,"question_id":76369580,"body_markdown":"My application processes kafka messages and produces a number of outbound messages, on different topics. I use MANUAL acks.\r\n\r\nThe processing (DB access and creation of the outgoing messages) is synchronous, but I want to take advantage of batching in the producers, so I use `KafkaTemplate.send` on each outbound topic and combine the futures with `CompletableFuture.allOf` and attach a `CompletionStage` which acknowledges the incoming kafka message which produced these outgoing messages.\r\n\r\nThis guarantees that I will process the incoming message again if my service crashes before the outgoing messages are all delivered.\r\n\r\nUnfortunately, different incoming messages may produce outgoing messages on different sets of topics. So I believe that a later message may have all its messages sent before an earlier message, depending on the timing of the batches on different outgoing topics.\r\n\r\nThis means that the later message may be acknowledged before the sending for the earlier message is complete, which of course amounts to acknowledging the earlier message too soon.\r\n\r\nIf I synchronously `join()` the future before processing the next incoming message, my throughput falls by a factor of 2 or 3, even with `linger.ms = 0`.\r\n\r\nThis feels like a problem which other people would have come across. Is there a standard approach? I can tolerate duplicate messages.","title":"What acknowledgment strategy can I use when my incoming kafka message sends messages on multiple topics, and I want to batch the sends?","body":"<p>My application processes kafka messages and produces a number of outbound messages, on different topics. I use MANUAL acks.</p>\n<p>The processing (DB access and creation of the outgoing messages) is synchronous, but I want to take advantage of batching in the producers, so I use <code>KafkaTemplate.send</code> on each outbound topic and combine the futures with <code>CompletableFuture.allOf</code> and attach a <code>CompletionStage</code> which acknowledges the incoming kafka message which produced these outgoing messages.</p>\n<p>This guarantees that I will process the incoming message again if my service crashes before the outgoing messages are all delivered.</p>\n<p>Unfortunately, different incoming messages may produce outgoing messages on different sets of topics. So I believe that a later message may have all its messages sent before an earlier message, depending on the timing of the batches on different outgoing topics.</p>\n<p>This means that the later message may be acknowledged before the sending for the earlier message is complete, which of course amounts to acknowledging the earlier message too soon.</p>\n<p>If I synchronously <code>join()</code> the future before processing the next incoming message, my throughput falls by a factor of 2 or 3, even with <code>linger.ms = 0</code>.</p>\n<p>This feels like a problem which other people would have come across. Is there a standard approach? I can tolerate duplicate messages.</p>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":5992697,"reputation":1,"user_id":4708369,"display_name":"gb2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685538876,"creation_date":1685538195,"answer_id":76373793,"question_id":76372724,"body_markdown":"It finally worked when i removed all this lines from the mapper:\r\n\r\n    @Mapping(target = &quot;id.parent.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;id.child.id&quot;, ignore = true)\r\n\r\n    @BeanMapping(qualifiedByName = &quot;afterHierarchieMapping&quot;)\r\n\r\n    @Named(&quot;afterHierarchieMapping&quot;)","title":"ObjectFactory method not recognized in MapStruct mapper - troubleshooting tips","body":"<p>It finally worked when i removed all this lines from the mapper:</p>\n<pre><code>@Mapping(target = &quot;id.parent.id&quot;, ignore = true)\n@Mapping(target = &quot;id.child.id&quot;, ignore = true)\n\n@BeanMapping(qualifiedByName = &quot;afterHierarchieMapping&quot;)\n\n@Named(&quot;afterHierarchieMapping&quot;)\n</code></pre>\n"}],"owner":{"account_id":5992697,"reputation":1,"user_id":4708369,"display_name":"gb2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76373793,"answer_count":1,"score":0,"last_activity_date":1685538876,"creation_date":1685530410,"question_id":76372724,"body_markdown":"I have this entity with a single table inheritance:\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\r\n@DiscriminatorOptions(insert = false)\r\npublic abstract class Hierarchy implements Serializable {\r\n\r\n    private HierarchyId id;\r\n\r\n    protected Hierarchy() {\r\n    }\r\n\r\n    protected Hierarchy(final HierarchyId id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @EmbeddedId\r\n    public HierarchyId getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(final HierarchyId id) {\r\n        this.id = id;\r\n    }\r\n\r\n\r\n    @Embeddable\r\n    public static class HierarchyId implements Serializable {\r\n\r\n        private User parent;\r\n        private User child;\r\n        private String type;\r\n\r\n        public HierarchyId() {\r\n        }\r\n\r\n        public HierarchyId(final User parent, final User child, final String type) {\r\n            this.parent = parent;\r\n            this.child = child;\r\n            this.type = type;\r\n        }\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        public User getParent() {\r\n            return parent;\r\n        }\r\n\r\n        public void setParent(final User parent) {\r\n            this.parent = parent;\r\n        }\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n\r\n        public User getChild() {\r\n            return child;\r\n        }\r\n\r\n        public void setChild(final User child) {\r\n            this.child = child;\r\n        }\r\n\r\n        @Column(name = &quot;type&quot;, nullable = false, length = 1)\r\n        public String getType() {\r\n            return type;\r\n        }\r\n\r\n        public void setType(final String type) {\r\n            this.type = type;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;m trying to create a mapper who can map my generic dto to one of the specific subclasses of my entity:\r\n\r\n```\r\n@Configuration\r\n@Mapper\r\npublic abstract class HierarchyMapper {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Mapping(target = &quot;id.parent.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;id.child.id&quot;, ignore = true)\r\n    @Mapping(source = &quot;type&quot;, target = &quot;id.type&quot;)\r\n    @BeanMapping(qualifiedByName = &quot;afterHierarchyMapping&quot;)\r\n    public abstract Hierarchy mapHierarchy(HierarchyDto hierarchy);\r\n\r\n    @ObjectFactory\r\n    public Hierarchy createHierarchy(HierarchyDto hierarchy) {\r\n        if (SUBTYPE_A.equals(hierarchy.getType())) {\r\n            return new SubtypeA();\r\n        } else if (SUBTYPE_B.equals(hierarchy.getType())) {\r\n            return new SubtypeB();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @AfterMapping\r\n    @Named(&quot;afterHierarchyMapping&quot;)\r\n    void afterHierarchyMapping(@MappingTarget Hierarchy hierarchy, HierarchyDto hierarchyDto) {\r\n        hierarchy.getId()\r\n                  .setParent(userService.getUserById(hierarchyDto.getIdParent()));\r\n        hierarchy.getId()\r\n                  .setChild(userService.getUserById(hierarchyDto.getIdChild()));\r\n    }\r\n}\r\n```\r\nMy problem is that with this mapper, MapStrsuct is giving me an error stating that:\r\n```\r\njava: The return type Hierarchy is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.\r\n```\r\n\r\nSo i wonder if my @ObjectFactory is really taken into account here since it&#39;s supposed to be the factory method MapStruct is looking for. \r\nMaybe it&#39;s something else but i don&#39;t see what it could be.\r\n\r\nI dont think it&#39;s relevant but User is also an abstract class and if for example i remove the     @BeanMapping(qualifiedByName = &quot;afterHierarchyMapping&quot;) from mapHierarchy then i get the same error but for User instead.\r\n","title":"ObjectFactory method not recognized in MapStruct mapper - troubleshooting tips","body":"<p>I have this entity with a single table inheritance:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\n@DiscriminatorOptions(insert = false)\npublic abstract class Hierarchy implements Serializable {\n\n    private HierarchyId id;\n\n    protected Hierarchy() {\n    }\n\n    protected Hierarchy(final HierarchyId id) {\n        this.id = id;\n    }\n\n    @EmbeddedId\n    public HierarchyId getId() {\n        return id;\n    }\n\n    public void setId(final HierarchyId id) {\n        this.id = id;\n    }\n\n\n    @Embeddable\n    public static class HierarchyId implements Serializable {\n\n        private User parent;\n        private User child;\n        private String type;\n\n        public HierarchyId() {\n        }\n\n        public HierarchyId(final User parent, final User child, final String type) {\n            this.parent = parent;\n            this.child = child;\n            this.type = type;\n        }\n\n        @ManyToOne(fetch = FetchType.LAZY)\n        public User getParent() {\n            return parent;\n        }\n\n        public void setParent(final User parent) {\n            this.parent = parent;\n        }\n\n        @ManyToOne(fetch = FetchType.LAZY)\n\n        public User getChild() {\n            return child;\n        }\n\n        public void setChild(final User child) {\n            this.child = child;\n        }\n\n        @Column(name = &quot;type&quot;, nullable = false, length = 1)\n        public String getType() {\n            return type;\n        }\n\n        public void setType(final String type) {\n            this.type = type;\n        }\n\n    }\n\n}\n</code></pre>\n<p>I'm trying to create a mapper who can map my generic dto to one of the specific subclasses of my entity:</p>\n<pre><code>@Configuration\n@Mapper\npublic abstract class HierarchyMapper {\n\n    @Autowired\n    private UserService userService;\n\n    @Mapping(target = &quot;id.parent.id&quot;, ignore = true)\n    @Mapping(target = &quot;id.child.id&quot;, ignore = true)\n    @Mapping(source = &quot;type&quot;, target = &quot;id.type&quot;)\n    @BeanMapping(qualifiedByName = &quot;afterHierarchyMapping&quot;)\n    public abstract Hierarchy mapHierarchy(HierarchyDto hierarchy);\n\n    @ObjectFactory\n    public Hierarchy createHierarchy(HierarchyDto hierarchy) {\n        if (SUBTYPE_A.equals(hierarchy.getType())) {\n            return new SubtypeA();\n        } else if (SUBTYPE_B.equals(hierarchy.getType())) {\n            return new SubtypeB();\n        }\n        return null;\n    }\n\n    @AfterMapping\n    @Named(&quot;afterHierarchyMapping&quot;)\n    void afterHierarchyMapping(@MappingTarget Hierarchy hierarchy, HierarchyDto hierarchyDto) {\n        hierarchy.getId()\n                  .setParent(userService.getUserById(hierarchyDto.getIdParent()));\n        hierarchy.getId()\n                  .setChild(userService.getUserById(hierarchyDto.getIdChild()));\n    }\n}\n</code></pre>\n<p>My problem is that with this mapper, MapStrsuct is giving me an error stating that:</p>\n<pre><code>java: The return type Hierarchy is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.\n</code></pre>\n<p>So i wonder if my @ObjectFactory is really taken into account here since it's supposed to be the factory method MapStruct is looking for.\nMaybe it's something else but i don't see what it could be.</p>\n<p>I dont think it's relevant but User is also an abstract class and if for example i remove the     @BeanMapping(qualifiedByName = &quot;afterHierarchyMapping&quot;) from mapHierarchy then i get the same error but for User instead.</p>\n"},{"tags":["java","spring","spring-boot","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":7505413,"reputation":5686,"user_id":5702105,"display_name":"Ian Mc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519934880,"creation_date":1519934880,"answer_id":49057896,"question_id":49057518,"body_markdown":"You are attempting to access context information before Spring has created the context.  Remove the static references, and access the data from a `@PostConstruct` block instead of main:\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Value(&quot;${server.port}&quot;)\r\n    private int port;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SomeService .class, args);\r\n    }\r\n\r\n    @PostConstruct\r\n\tpublic void init() {\r\n        logger.info(&quot;server.port : {}&quot;, port);\r\n        logger.info(&quot;environment.getProperty(\\&quot;server.port\\&quot;) : {}&quot;, environment.getProperty(&quot;server.port&quot;));\r\n    }\r\n\r\n\r\n\r\n\r\n ","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>You are attempting to access context information before Spring has created the context.  Remove the static references, and access the data from a <code>@PostConstruct</code> block instead of main:</p>\n\n<pre><code>@Autowired\nprivate Environment environment;\n\n@Value(\"${server.port}\")\nprivate int port;\n\npublic static void main(String[] args) {\n    SpringApplication.run(SomeService .class, args);\n}\n\n@PostConstruct\npublic void init() {\n    logger.info(\"server.port : {}\", port);\n    logger.info(\"environment.getProperty(\\\"server.port\\\") : {}\", environment.getProperty(\"server.port\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519934889,"creation_date":1519934889,"answer_id":49057901,"question_id":49057518,"body_markdown":"Static fields are not injected in Spring.  \r\nWhat you need to do is making it an instance field first.  \r\nThen you have to use it only after that the Spring Boot container has initialized it.  \r\nMoving them in a method annotated with `@PostConstruct` should do the job as this is invoked after that the dependency injection was performed.\r\n  \r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaClient\r\n    @SuppressWarnings(&quot;javadoc&quot;)\r\n    public class SomeService {\r\n    \r\n        private static Logger logger  = LoggerFactory.getLogger(SomeService .class);\r\n    \r\n        @LocalServerPort\r\n        private static int randomServerPort;\r\n    \r\n        @LocalManagementPort\r\n        private static int randomManagementPort;\r\n    \r\n        @Autowired\r\n        private static Environment environment;\r\n    \r\n        @Value(&quot;${server.port}&quot;)\r\n        private int port;\r\n\r\n        @PostConstruct\r\n        public void postConstruct(){\r\n            logger.info(&quot;randomServerPort : {}&quot;, randomServerPort);\r\n            logger.info(&quot;randomManagementPort : {}&quot;, randomManagementPort);\r\n            logger.info(&quot;server.port : {}&quot;, port);\r\n            logger.info(&quot;environment.getProperty(\\&quot;server.port\\&quot;) : {}&quot;, environment.getProperty(&quot;server.port&quot;));\r\n        }    \r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SomeService .class, args);\r\n        }\r\n        \r\n    }\r\n\r\n","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>Static fields are not injected in Spring.<br>\nWhat you need to do is making it an instance field first.<br>\nThen you have to use it only after that the Spring Boot container has initialized it.<br>\nMoving them in a method annotated with <code>@PostConstruct</code> should do the job as this is invoked after that the dependency injection was performed.</p>\n\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\n@SuppressWarnings(\"javadoc\")\npublic class SomeService {\n\n    private static Logger logger  = LoggerFactory.getLogger(SomeService .class);\n\n    @LocalServerPort\n    private static int randomServerPort;\n\n    @LocalManagementPort\n    private static int randomManagementPort;\n\n    @Autowired\n    private static Environment environment;\n\n    @Value(\"${server.port}\")\n    private int port;\n\n    @PostConstruct\n    public void postConstruct(){\n        logger.info(\"randomServerPort : {}\", randomServerPort);\n        logger.info(\"randomManagementPort : {}\", randomManagementPort);\n        logger.info(\"server.port : {}\", port);\n        logger.info(\"environment.getProperty(\\\"server.port\\\") : {}\", environment.getProperty(\"server.port\"));\n    }    \n\n    public static void main(String[] args) {\n        SpringApplication.run(SomeService .class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519936265,"creation_date":1519936265,"answer_id":49058225,"question_id":49057518,"body_markdown":"Move your server port configuration from bootstrap.yml to application.yml\r\n\r\n**application.yml**\r\n\r\n    server:\r\n      port: 8088\r\n\r\nTypically bootstrap.yml contains two properties: location of the configuration server (spring.cloud.config.uri) and name of the application (spring.application.name). Upon startup, Spring Cloud makes an HTTP call to the config server with the name of the application and retrieves back that application&#39;s configuration. On the other hand, application.yml contains standard application configurations - typically default configuration since any configuration retrieved during the bootstrap process will override configurations defined here.","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>Move your server port configuration from bootstrap.yml to application.yml</p>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>server:\n  port: 8088\n</code></pre>\n\n<p>Typically bootstrap.yml contains two properties: location of the configuration server (spring.cloud.config.uri) and name of the application (spring.application.name). Upon startup, Spring Cloud makes an HTTP call to the config server with the name of the application and retrieves back that application's configuration. On the other hand, application.yml contains standard application configurations - typically default configuration since any configuration retrieved during the bootstrap process will override configurations defined here.</p>\n"},{"tags":[],"owner":{"account_id":27480178,"reputation":1,"user_id":20967422,"display_name":"BenSev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685538560,"creation_date":1685538465,"answer_id":76373841,"question_id":49057518,"body_markdown":"I had the same issue and found out this solution to get the server.port value set in my application.properties file : \r\n\r\n    @SpringBootApplication\r\n    public class MyApp {\r\n\r\n    \tprivate static final Logger LOG = LogManager.getLogger();\r\n\r\n            public static void main(String[] args) {\r\n                var app = new SpringApplication(MyApp .class);\r\n                app.setLogStartupInfo(false);\r\n                String serverPort = app.run(args).getEnvironment().getProperty(&quot;server.port&quot;);\r\n                LOG.info(&quot;=== Server is up on port {} ===&quot;, serverPort);\r\n            }\r\n        }\r\n\r\nI&#39;m a bit late but I hope this helps :)","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>I had the same issue and found out this solution to get the server.port value set in my application.properties file :</p>\n<pre><code>@SpringBootApplication\npublic class MyApp {\n\n    private static final Logger LOG = LogManager.getLogger();\n\n        public static void main(String[] args) {\n            var app = new SpringApplication(MyApp .class);\n            app.setLogStartupInfo(false);\n            String serverPort = app.run(args).getEnvironment().getProperty(&quot;server.port&quot;);\n            LOG.info(&quot;=== Server is up on port {} ===&quot;, serverPort);\n        }\n    }\n</code></pre>\n<p>I'm a bit late but I hope this helps :)</p>\n"}],"owner":{"account_id":4528750,"reputation":4632,"user_id":3679857,"accept_rate":80,"display_name":"narendra-choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49057901,"answer_count":4,"score":1,"last_activity_date":1685538560,"creation_date":1519933449,"question_id":49057518,"body_markdown":"I&#39;m experimenting with Netflix OSS for implementing a microservice architecture. I wanted to log `server.port` from *bootstrap.yml* file at **runtime** to see which instance is serving the request.\r\n\r\nI&#39;m using Java8.  \r\n\r\nImportant libraries versions are:   \r\n* spring-boot-starter-web-1.5.8  \r\n* spring-boot-starter-tomcat-1.5.8  \r\n* tomcat-embed-core-8.5.23  \r\n\r\nAfter browsing on stackoverflow, I found [this](https://stackoverflow.com/questions/36567207/get-spring-boot-management-port-at-runtime-when-management-port-0) and [this](https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot) but these solution did not work.\r\n\r\nMy bootstrap.yml looks like this:   \r\n\r\n    spring:\r\n      application:\r\n        name: some-service\r\n\r\n    server:\r\n      port: ${port:8088}\r\n\r\n\r\nI have tried following code:\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaClient\r\n    @SuppressWarnings(&quot;javadoc&quot;)\r\n    public class SomeService {\r\n        \r\n        private static Logger logger  = LoggerFactory.getLogger(SomeService .class);\r\n\r\n        @LocalServerPort\r\n        private static int randomServerPort;\r\n\r\n        @LocalManagementPort\r\n        private static int randomManagementPort;\r\n    \r\n        @Autowired\r\n        private static Environment environment;\r\n    \r\n        @Value(&quot;${server.port}&quot;)\r\n        // @Value(&quot;${local.server.port}&quot;)\r\n        private static int port;\r\n        \r\n        public static void main(String[] args) {\r\n\t\t    SpringApplication.run(SomeService .class, args);\r\n\t\t\r\n\t\t    logger.info(&quot;randomServerPort : {}&quot;, randomServerPort);\r\n\t\t    logger.info(&quot;randomManagementPort : {}&quot;, randomManagementPort);\r\n\t\t    logger.info(&quot;server.port : {}&quot;, port);\r\n            logger.info(&quot;environment.getProperty(\\&quot;server.port\\&quot;) : {}&quot;, environment.getProperty(&quot;server.port&quot;));\r\n\t\t\r\n\t}\r\n\r\nCorresponding output is:\r\n\r\n    randomServerPort : 0\r\n    randomManagementPort : 0\r\n    server.port : 0\r\n    java.lang.NullPointerException against environment.getProperty(&quot;server.port&quot;)\r\n\r\nFirst three log statements log `0`, while last one throws a `NullPointerException*.\r\n\r\nAt runtime, the port gets printed in logs on console as:\r\n\r\n    s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8088 (http)\r\n\r\nI want to access this port number in `main` method of `SomeService` class. How can I do this?","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>I'm experimenting with Netflix OSS for implementing a microservice architecture. I wanted to log <code>server.port</code> from <em>bootstrap.yml</em> file at <strong>runtime</strong> to see which instance is serving the request.</p>\n\n<p>I'm using Java8.  </p>\n\n<p>Important libraries versions are:<br>\n* spring-boot-starter-web-1.5.8<br>\n* spring-boot-starter-tomcat-1.5.8<br>\n* tomcat-embed-core-8.5.23  </p>\n\n<p>After browsing on stackoverflow, I found <a href=\"https://stackoverflow.com/questions/36567207/get-spring-boot-management-port-at-runtime-when-management-port-0\">this</a> and <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot\">this</a> but these solution did not work.</p>\n\n<p>My bootstrap.yml looks like this:   </p>\n\n<pre><code>spring:\n  application:\n    name: some-service\n\nserver:\n  port: ${port:8088}\n</code></pre>\n\n<p>I have tried following code:</p>\n\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\n@SuppressWarnings(\"javadoc\")\npublic class SomeService {\n\n    private static Logger logger  = LoggerFactory.getLogger(SomeService .class);\n\n    @LocalServerPort\n    private static int randomServerPort;\n\n    @LocalManagementPort\n    private static int randomManagementPort;\n\n    @Autowired\n    private static Environment environment;\n\n    @Value(\"${server.port}\")\n    // @Value(\"${local.server.port}\")\n    private static int port;\n\n    public static void main(String[] args) {\n        SpringApplication.run(SomeService .class, args);\n\n        logger.info(\"randomServerPort : {}\", randomServerPort);\n        logger.info(\"randomManagementPort : {}\", randomManagementPort);\n        logger.info(\"server.port : {}\", port);\n        logger.info(\"environment.getProperty(\\\"server.port\\\") : {}\", environment.getProperty(\"server.port\"));\n\n}\n</code></pre>\n\n<p>Corresponding output is:</p>\n\n<pre><code>randomServerPort : 0\nrandomManagementPort : 0\nserver.port : 0\njava.lang.NullPointerException against environment.getProperty(\"server.port\")\n</code></pre>\n\n<p>First three log statements log <code>0</code>, while last one throws a `NullPointerException*.</p>\n\n<p>At runtime, the port gets printed in logs on console as:</p>\n\n<pre><code>s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8088 (http)\n</code></pre>\n\n<p>I want to access this port number in <code>main</code> method of <code>SomeService</code> class. How can I do this?</p>\n"},{"tags":["java","angular","spring-boot","architecture","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1685615452,"post_id":76373843,"comment_id":134686246,"body_markdown":"Off topic, but what is the reason for the move? Are there things you want to do that are not possible with Thymeleaf?","body":"Off topic, but what is the reason for the move? Are there things you want to do that are not possible with Thymeleaf?"},{"owner":{"account_id":4252616,"reputation":15,"user_id":3479176,"accept_rate":25,"display_name":"user3479176"},"score":0,"creation_date":1685868629,"post_id":76373843,"comment_id":134718799,"body_markdown":"Just the general advantages a SPA has to server side rendered pages. And as developers to be able to code/test in a proper framework rather than plain typescript/javascript.","body":"Just the general advantages a SPA has to server side rendered pages. And as developers to be able to code/test in a proper framework rather than plain typescript/javascript."}],"owner":{"account_id":4252616,"reputation":15,"user_id":3479176,"accept_rate":25,"display_name":"user3479176"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685538471,"creation_date":1685538471,"question_id":76373843,"body_markdown":"I need to switch an existing Spring Boot + Thymeleaf application gradually to a Spring Boot + Angular application. Part of the webapp to be serverside rendered and parts of it to be an angular application.\r\n\r\nWhat I&#39;ve come up with so far:\r\n1. Create a standard angular application and run it with ng serve\r\n2. For each page I want to switch to angular, I take the Thymeleaf template, insert the corresponding ```&lt;app-angular-component&gt;``` tag and add the ```&lt;script src=&quot;&quot;&gt;``` tags to point to main.js / runtime.js. In the angular-component I can program like a normal angular app.\r\n3. Once every page is migrated, routing logic needs to be added to Angular for it to be a full fledged app on its own.\r\n\r\nIs this valid approach to migrating away from Thymeleaf or do you have better approaches to do this ?","title":"Migrate projects thymeleaf pages to Angular gradually","body":"<p>I need to switch an existing Spring Boot + Thymeleaf application gradually to a Spring Boot + Angular application. Part of the webapp to be serverside rendered and parts of it to be an angular application.</p>\n<p>What I've come up with so far:</p>\n<ol>\n<li>Create a standard angular application and run it with ng serve</li>\n<li>For each page I want to switch to angular, I take the Thymeleaf template, insert the corresponding <code>&lt;app-angular-component&gt;</code> tag and add the <code>&lt;script src=&quot;&quot;&gt;</code> tags to point to main.js / runtime.js. In the angular-component I can program like a normal angular app.</li>\n<li>Once every page is migrated, routing logic needs to be added to Angular for it to be a full fledged app on its own.</li>\n</ol>\n<p>Is this valid approach to migrating away from Thymeleaf or do you have better approaches to do this ?</p>\n"},{"tags":["java","android","kotlin","retrofit","retrofit2"],"owner":{"account_id":23586033,"reputation":11,"user_id":17624468,"display_name":"Maher Abua-Amireh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685538395,"creation_date":1685538395,"question_id":76373816,"body_markdown":"\\[javax.net.ssl.SSLHandshakeException: Handshake failed, javax.net.ssl.SSLHandshakeException: Handshake failed, java.net.SocketTimeoutException: failed to connect to website.com/2a06:98c1:3120::3 (port 443) after 60000ms\\]\r\n\r\nI tried alot of solutions but it didnt work with me .\r\n\r\nanyone can help please ..\r\n\r\nNOTE : My SSL Certificate from cloudflare ..\r\n\r\nAnd this problem working with old devices lollipop and below.\r\n\r\n```\r\ndef retrofit2_v = &#39;2.9.0&#39;\r\n```\r\n\r\nmy code : -\\&gt;\r\n\r\n```\r\n\r\nimport okhttp3.*\r\nimport okhttp3.logging.HttpLoggingInterceptor\r\nimport retrofit2.Call\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\nimport retrofit2.http.*\r\nimport java.io.IOException\r\nimport java.security.KeyStore\r\nimport java.util.Arrays\r\nimport java.util.Collections\r\nimport java.util.concurrent.TimeUnit\r\nimport javax.net.ssl.SSLContext\r\nimport javax.net.ssl.SSLSocketFactory\r\nimport javax.net.ssl.TrustManager\r\nimport javax.net.ssl.TrustManagerFactory\r\nimport javax.net.ssl.X509TrustManager\r\n\r\n\r\nclass RetrofitInstance {\r\n    companion object {\r\n//        val interceptor: HttpLoggingInterceptor = HttpLoggingInterceptor().apply {\r\n//            this.level = HttpLoggingInterceptor.Level.BODY\r\n//        }\r\n//        val client: OkHttpClient = OkHttpClient.Builder().apply {\r\n//            this.addInterceptor(interceptor)\r\n//        }.build()\r\n\r\n        fun getRetrofitInstance(): Retrofit {\r\n\r\n            return Retrofit.Builder()\r\n                .baseUrl(ApIConstant.BASE_URL)\r\n                .client(getHeader()!!)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build()\r\n        }\r\n\r\n        fun getRetrofitInstanceWeather(): Retrofit {\r\n            return Retrofit.Builder()\r\n                .baseUrl(&quot;http://api.weatherapi.com/v1/&quot;)\r\n                .client(getHeader())\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build()\r\n        }\r\n    }\r\n}\r\n\r\nfun getHeader(): OkHttpClient? {\r\n    val spec: ConnectionSpec = ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)\r\n        .tlsVersions(TlsVersion.TLS_1_2)\r\n        .cipherSuites(\r\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\r\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\r\n            CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\r\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA,\r\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\r\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,\r\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,\r\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_RC4_128_SHA,\r\n            CipherSuite.TLS_ECDHE_RSA_WITH_RC4_128_SHA,\r\n            CipherSuite.TLS_DHE_RSA_WITH_AES_128_CBC_SHA,\r\n            CipherSuite.TLS_DHE_DSS_WITH_AES_128_CBC_SHA,\r\n            CipherSuite.TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n        )\r\n        .build()\r\n    val httpClient = OkHttpClient.Builder()\r\n    val trustManagerFactory =\r\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\r\n    trustManagerFactory.init(null as KeyStore?)\r\n    val trustManagers = trustManagerFactory.trustManagers\r\n    check(!(trustManagers.size != 1 || trustManagers[0] !is X509TrustManager)) {\r\n        &quot;Unexpected default trust managers:&quot; + Arrays.toString(\r\n            trustManagers\r\n        )\r\n    }\r\n    val trustManager = trustManagers[0] as X509TrustManager\r\n    val sslContext = SSLContext.getInstance(&quot;SSL&quot;)\r\n    sslContext.init(null, arrayOf&lt;TrustManager&gt;(trustManager), null)\r\n    val sslSocketFactory: SSLSocketFactory = sslContext.socketFactory\r\n    httpClient.sslSocketFactory(sslSocketFactory, trustManager);\r\n    /***********************/\r\n\r\n    val interceptorJ = HttpLoggingInterceptor()\r\n    httpClient.addInterceptor(interceptorJ)\r\n    httpClient.connectionSpecs(Collections.singletonList(spec))\r\n//    httpClient.addInterceptor(ChuckerInterceptor(MyApplication.application))\r\n    httpClient.connectTimeout(60, TimeUnit.SECONDS)\r\n\r\n        .readTimeout(60, TimeUnit.SECONDS)\r\n        .writeTimeout(60, TimeUnit.SECONDS)\r\n    httpClient.addInterceptor(object : Interceptor {\r\n        @Throws(IOException::class)\r\n        override fun intercept(chain: Interceptor.Chain): Response {\r\n            val original: Request = chain.request()\r\n            val builder: Request.Builder = original.newBuilder()\r\n            builder.method(original.method, original.body)\r\n            builder.header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n\r\n//            builder.header(&quot;Content-Type&quot;, &quot;application/json&quot;).addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n//                .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n\r\n            return chain.proceed(builder.build())\r\n        }\r\n    })\r\n\r\n    /*if (android.os.Build.VERSION.SDK_INT &lt;= android.os.Build.VERSION_CODES.LOLLIPOP){\r\n        httpClient.connectionSpecs(Collections.singletonList(spec))\r\n    }*/\r\n    val interceptor = HttpLoggingInterceptor()\r\n    interceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS)\r\n    val client: OkHttpClient = httpClient.build()\r\n\r\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY)\r\n\r\n    return client\r\n}\r\n\r\ninterface GenricApiService {\r\n\r\n\r\n    @DELETE\r\n    fun GenricDELETE(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @QueryMap parameters: Map&lt;String, String&gt;\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n    @GET\r\n    fun GenricGET(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @QueryMap parameters: Map&lt;String, String&gt;\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n\r\n    @GET\r\n    fun GenricGetWeather(\r\n        @Url url: String?,\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n    @FormUrlEncoded\r\n    @POST\r\n    fun GenricPOST(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @FieldMap parameters: Map&lt;String, String&gt;\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n\r\n//    @POST\r\n//    fun POST_RAW(@Url url: String?, @Body body: RequestBody): Call&lt;ResponseBody?&gt;?\r\n\r\n\r\n    @POST()\r\n    fun POST_Multipart(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @Body body: RequestBody?\r\n    ): Call&lt;ResponseBody?&gt;?\r\n    @POST()\r\n    fun saveDataAsJson(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @Body row: Any\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n\r\n\r\n}\r\n\r\n\r\n// aplication class\r\noverride fun onCreate() {\r\n        setLocaleEn(this)\r\n      \r\n\r\n        super.onCreate()\r\n\r\n        try {\r\n            ProviderInstaller.installIfNeeded(applicationContext)\r\n            val sslContext: SSLContext\r\n            sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;)\r\n            sslContext.init(null, null, null)\r\n            sslContext.createSSLEngine()\r\n        } catch (e: GooglePlayServicesRepairableException) {\r\n            e.printStackTrace()\r\n        } catch (e: GooglePlayServicesNotAvailableException) {\r\n            e.printStackTrace()\r\n        } catch (e: NoSuchAlgorithmException) {\r\n            e.printStackTrace()\r\n        } catch (e: KeyManagementException) {\r\n            e.printStackTrace()\r\n        }\r\n        SSLCertificateHandler().nuke()\r\n    }\r\n```","title":"javax.net.ssl.SSLHandshakeException: Handshake failed, javax.net.ssl.SSLHandshakeException","body":"<p>[javax.net.ssl.SSLHandshakeException: Handshake failed, javax.net.ssl.SSLHandshakeException: Handshake failed, java.net.SocketTimeoutException: failed to connect to website.com/2a06:98c1:3120::3 (port 443) after 60000ms]</p>\n<p>I tried alot of solutions but it didnt work with me .</p>\n<p>anyone can help please ..</p>\n<p>NOTE : My SSL Certificate from cloudflare ..</p>\n<p>And this problem working with old devices lollipop and below.</p>\n<pre><code>def retrofit2_v = '2.9.0'\n</code></pre>\n<p>my code : -&gt;</p>\n<pre><code>\nimport okhttp3.*\nimport okhttp3.logging.HttpLoggingInterceptor\nimport retrofit2.Call\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\nimport retrofit2.http.*\nimport java.io.IOException\nimport java.security.KeyStore\nimport java.util.Arrays\nimport java.util.Collections\nimport java.util.concurrent.TimeUnit\nimport javax.net.ssl.SSLContext\nimport javax.net.ssl.SSLSocketFactory\nimport javax.net.ssl.TrustManager\nimport javax.net.ssl.TrustManagerFactory\nimport javax.net.ssl.X509TrustManager\n\n\nclass RetrofitInstance {\n    companion object {\n//        val interceptor: HttpLoggingInterceptor = HttpLoggingInterceptor().apply {\n//            this.level = HttpLoggingInterceptor.Level.BODY\n//        }\n//        val client: OkHttpClient = OkHttpClient.Builder().apply {\n//            this.addInterceptor(interceptor)\n//        }.build()\n\n        fun getRetrofitInstance(): Retrofit {\n\n            return Retrofit.Builder()\n                .baseUrl(ApIConstant.BASE_URL)\n                .client(getHeader()!!)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n        }\n\n        fun getRetrofitInstanceWeather(): Retrofit {\n            return Retrofit.Builder()\n                .baseUrl(&quot;http://api.weatherapi.com/v1/&quot;)\n                .client(getHeader())\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n        }\n    }\n}\n\nfun getHeader(): OkHttpClient? {\n    val spec: ConnectionSpec = ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)\n        .tlsVersions(TlsVersion.TLS_1_2)\n        .cipherSuites(\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\n            CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA,\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_RC4_128_SHA,\n            CipherSuite.TLS_ECDHE_RSA_WITH_RC4_128_SHA,\n            CipherSuite.TLS_DHE_RSA_WITH_AES_128_CBC_SHA,\n            CipherSuite.TLS_DHE_DSS_WITH_AES_128_CBC_SHA,\n            CipherSuite.TLS_DHE_RSA_WITH_AES_256_CBC_SHA\n        )\n        .build()\n    val httpClient = OkHttpClient.Builder()\n    val trustManagerFactory =\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\n    trustManagerFactory.init(null as KeyStore?)\n    val trustManagers = trustManagerFactory.trustManagers\n    check(!(trustManagers.size != 1 || trustManagers[0] !is X509TrustManager)) {\n        &quot;Unexpected default trust managers:&quot; + Arrays.toString(\n            trustManagers\n        )\n    }\n    val trustManager = trustManagers[0] as X509TrustManager\n    val sslContext = SSLContext.getInstance(&quot;SSL&quot;)\n    sslContext.init(null, arrayOf&lt;TrustManager&gt;(trustManager), null)\n    val sslSocketFactory: SSLSocketFactory = sslContext.socketFactory\n    httpClient.sslSocketFactory(sslSocketFactory, trustManager);\n    /***********************/\n\n    val interceptorJ = HttpLoggingInterceptor()\n    httpClient.addInterceptor(interceptorJ)\n    httpClient.connectionSpecs(Collections.singletonList(spec))\n//    httpClient.addInterceptor(ChuckerInterceptor(MyApplication.application))\n    httpClient.connectTimeout(60, TimeUnit.SECONDS)\n\n        .readTimeout(60, TimeUnit.SECONDS)\n        .writeTimeout(60, TimeUnit.SECONDS)\n    httpClient.addInterceptor(object : Interceptor {\n        @Throws(IOException::class)\n        override fun intercept(chain: Interceptor.Chain): Response {\n            val original: Request = chain.request()\n            val builder: Request.Builder = original.newBuilder()\n            builder.method(original.method, original.body)\n            builder.header(&quot;Accept&quot;, &quot;application/json&quot;)\n\n//            builder.header(&quot;Content-Type&quot;, &quot;application/json&quot;).addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n//                .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n\n            return chain.proceed(builder.build())\n        }\n    })\n\n    /*if (android.os.Build.VERSION.SDK_INT &lt;= android.os.Build.VERSION_CODES.LOLLIPOP){\n        httpClient.connectionSpecs(Collections.singletonList(spec))\n    }*/\n    val interceptor = HttpLoggingInterceptor()\n    interceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS)\n    val client: OkHttpClient = httpClient.build()\n\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY)\n\n    return client\n}\n\ninterface GenricApiService {\n\n\n    @DELETE\n    fun GenricDELETE(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @QueryMap parameters: Map&lt;String, String&gt;\n    ): Call&lt;ResponseBody&gt;\n\n    @GET\n    fun GenricGET(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @QueryMap parameters: Map&lt;String, String&gt;\n    ): Call&lt;ResponseBody&gt;\n\n\n    @GET\n    fun GenricGetWeather(\n        @Url url: String?,\n    ): Call&lt;ResponseBody&gt;\n\n    @FormUrlEncoded\n    @POST\n    fun GenricPOST(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @FieldMap parameters: Map&lt;String, String&gt;\n    ): Call&lt;ResponseBody&gt;\n\n\n//    @POST\n//    fun POST_RAW(@Url url: String?, @Body body: RequestBody): Call&lt;ResponseBody?&gt;?\n\n\n    @POST()\n    fun POST_Multipart(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @Body body: RequestBody?\n    ): Call&lt;ResponseBody?&gt;?\n    @POST()\n    fun saveDataAsJson(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @Body row: Any\n    ): Call&lt;ResponseBody&gt;\n\n\n\n}\n\n\n// aplication class\noverride fun onCreate() {\n        setLocaleEn(this)\n      \n\n        super.onCreate()\n\n        try {\n            ProviderInstaller.installIfNeeded(applicationContext)\n            val sslContext: SSLContext\n            sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;)\n            sslContext.init(null, null, null)\n            sslContext.createSSLEngine()\n        } catch (e: GooglePlayServicesRepairableException) {\n            e.printStackTrace()\n        } catch (e: GooglePlayServicesNotAvailableException) {\n            e.printStackTrace()\n        } catch (e: NoSuchAlgorithmException) {\n            e.printStackTrace()\n        } catch (e: KeyManagementException) {\n            e.printStackTrace()\n        }\n        SSLCertificateHandler().nuke()\n    }\n</code></pre>\n"},{"tags":["java","netbeans","linux-mint"],"comments":[{"owner":{"account_id":4619114,"reputation":21782,"user_id":3744681,"accept_rate":87,"display_name":"Jahid"},"score":1,"creation_date":1435788196,"post_id":31154695,"comment_id":50352687,"body_markdown":"This should help: http://community.linuxmint.com/tutorial/view/1502","body":"This should help: <a href=\"http://community.linuxmint.com/tutorial/view/1502\" rel=\"nofollow noreferrer\">community.linuxmint.com/tutorial/view/1502</a>"}],"answers":[{"tags":[],"owner":{"account_id":6315972,"reputation":1776,"user_id":4905916,"display_name":"Filip Bulovic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435735136,"creation_date":1435735136,"answer_id":31154883,"question_id":31154695,"body_markdown":"Go to NetBeans website and download install script. Web app will determine what you are running, you need to pick which bundle you want. When you finish download do \r\n\r\n    $ chmod a+x jdk-8uXY-nb-8_0_2-linux-x64.sh\r\n\r\nand execute it. It will install everything for you. XY is current version of JDK.","title":"How to install Netbeans IDE in linuxmint?","body":"<p>Go to NetBeans website and download install script. Web app will determine what you are running, you need to pick which bundle you want. When you finish download do </p>\n\n<pre><code>$ chmod a+x jdk-8uXY-nb-8_0_2-linux-x64.sh\n</code></pre>\n\n<p>and execute it. It will install everything for you. XY is current version of JDK.</p>\n"},{"tags":[],"owner":{"account_id":6361233,"reputation":79,"user_id":4936663,"accept_rate":100,"display_name":"Vinay Guru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1435832150,"creation_date":1435832150,"answer_id":31181844,"question_id":31154695,"body_markdown":"Follow these steps in terminal,first install jdk and then install these things\r\n\r\n     1)chmod +x ~/Downloads/jdk-8-nb-8-linux-*.sh\r\n     2)cd ~/Downloads &amp;&amp; ./netbeans-8.0.2-linux.sh","title":"How to install Netbeans IDE in linuxmint?","body":"<p>Follow these steps in terminal,first install jdk and then install these things</p>\n\n<pre><code> 1)chmod +x ~/Downloads/jdk-8-nb-8-linux-*.sh\n 2)cd ~/Downloads &amp;&amp; ./netbeans-8.0.2-linux.sh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21428552,"reputation":1,"user_id":15785443,"display_name":"sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685537882,"creation_date":1685537882,"answer_id":76373740,"question_id":31154695,"body_markdown":"\r\n//easy method\r\nstep 1:go to software manager in linuxmint as you can download many software from there\r\nstep 2: go to search bar and type apache netbeans\r\nstep 3: click the install and enter your password;","title":"How to install Netbeans IDE in linuxmint?","body":"<p>//easy method\nstep 1:go to software manager in linuxmint as you can download many software from there\nstep 2: go to search bar and type apache netbeans\nstep 3: click the install and enter your password;</p>\n"}],"owner":{"account_id":6415122,"reputation":35,"user_id":5068102,"display_name":"karun poovaiah Poovaiah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"accepted_answer_id":31181844,"answer_count":3,"score":-3,"last_activity_date":1685537882,"creation_date":1435734534,"question_id":31154695,"body_markdown":"I am new to Linux.I dont know how to install Netbeans IDE in LInuxmint.\r\nPlease write your answers in steps.","title":"How to install Netbeans IDE in linuxmint?","body":"<p>I am new to Linux.I dont know how to install Netbeans IDE in LInuxmint.\nPlease write your answers in steps.</p>\n"},{"tags":["java","spring-boot","asynchronous","transactions"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684150499,"post_id":76253040,"comment_id":134469849,"body_markdown":"Self-invocation — calling the async method from within the same class — won&#39;t work.","body":"Self-invocation — calling the async method from within the same class — won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":737686,"reputation":855,"user_id":709289,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685537754,"creation_date":1685537086,"answer_id":76373617,"question_id":76253040,"body_markdown":"`@Async` wont work in self invocation, but you can make self injection to solve this:\r\n\r\n\r\n```java\r\npublic class MyService {\r\n\r\n  private final MyService self;\r\n  private final ObjectService objectService;\r\n\r\n  public MyService(ObjectService objectService, @Lazy MyService myService) {\r\n    this.self = myService;\r\n    this.objectService = objectService;\r\n  }\r\n\r\n  public void calculate() {\r\n    self.update()\r\n  }\r\n  \r\n  @Async\r\n  @Transactional\r\n  public void update() {\r\n    objectService.update();\r\n  }\r\n}\r\n```\r\n\r\nHere we are adding a proxy to service through the reference named `self`, then just call `self.update()` instead of `update()` and everything will be just fine.\r\n\r\nDon&#39;t forget to annotate the constructor variable with `@Lazy` to avoid getting into circular reference","title":"Spring boot self injection for @async @Transactionalwith simple constructor","body":"<p><code>@Async</code> wont work in self invocation, but you can make self injection to solve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyService {\n\n  private final MyService self;\n  private final ObjectService objectService;\n\n  public MyService(ObjectService objectService, @Lazy MyService myService) {\n    this.self = myService;\n    this.objectService = objectService;\n  }\n\n  public void calculate() {\n    self.update()\n  }\n  \n  @Async\n  @Transactional\n  public void update() {\n    objectService.update();\n  }\n}\n</code></pre>\n<p>Here we are adding a proxy to service through the reference named <code>self</code>, then just call <code>self.update()</code> instead of <code>update()</code> and everything will be just fine.</p>\n<p>Don't forget to annotate the constructor variable with <code>@Lazy</code> to avoid getting into circular reference</p>\n"}],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685537754,"creation_date":1684145610,"question_id":76253040,"body_markdown":"I have class:\r\n```\r\npublic class MyService {\r\n  private final ObjectService objectService;\r\n\r\n  public MyService(ObjectService objectService) {\r\n    this.objectService = objectService;\r\n  }\r\n\r\n  public void calculate() {\r\n update()\r\n  }\r\n@Async\r\n@Transactional\r\n  public void update() {\r\n    objectService.update();\r\n  }\r\n}\r\n```\r\n\r\nbut @async not work. The best way work around? what about using @EnableAspectJAutoProxy(exposeProxy = true) ","title":"Spring boot self injection for @async @Transactionalwith simple constructor","body":"<p>I have class:</p>\n<pre><code>public class MyService {\n  private final ObjectService objectService;\n\n  public MyService(ObjectService objectService) {\n    this.objectService = objectService;\n  }\n\n  public void calculate() {\n update()\n  }\n@Async\n@Transactional\n  public void update() {\n    objectService.update();\n  }\n}\n</code></pre>\n<p>but @async not work. The best way work around? what about using @EnableAspectJAutoProxy(exposeProxy = true)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1685538113,"post_id":76373432,"comment_id":134673936,"body_markdown":"You can only solve this by implementing your own Jackson deserializer. See the duplicates for more information about how to do this. Feel free to tag me when the duplicates do not answer your question so I can reopen it.","body":"You can only solve this by implementing your own Jackson deserializer. See the duplicates for more information about how to do this. Feel free to tag me when the duplicates do not answer your question so I can reopen it."},{"owner":{"account_id":13207996,"reputation":165,"user_id":9539119,"display_name":"Oğuz &#214;ztınaz"},"score":1,"creation_date":1685556176,"post_id":76373432,"comment_id":134678234,"body_markdown":"Thank you @g00glen00b. Overriding the deserializer worked","body":"Thank you @g00glen00b. Overriding the deserializer worked"}],"owner":{"account_id":13207996,"reputation":165,"user_id":9539119,"display_name":"Oğuz &#214;ztınaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685537697,"answer_count":0,"score":0,"last_activity_date":1685537715,"creation_date":1685535530,"question_id":76373432,"body_markdown":"I&#39;ve a simple Spring Boot application that has a single post method route that takes a request body and printing that body&#39;s property to console. This is my controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;v1&quot;)\r\npublic class ExampleController {\r\n    @PostMapping(&quot;example&quot;)\r\n    public ResponseEntity&lt;String&gt; example(@RequestBody ExampleBody body) {\r\n        System.out.println(body.getBarcode());\r\n        return new ResponseEntity&lt;&gt;(&quot;OK&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nand this is the ExampleBody class\r\n```\r\n@Getter\r\n@Setter\r\npublic class ExampleBody {\r\n\r\n    @NonNull\r\n    private String barcode;\r\n}\r\n```\r\n\r\nI&#39;ve expected that when I send a body with my request like that:\r\n```\r\n{\r\n    &quot;barcode&quot;: 1\r\n}\r\n```\r\nit will fails, because I&#39;ve declared that barcode as String in ExampleBody class.\r\n\r\nHowever instead of throwing an exception, it passes and prints 1 to the console. I&#39;ve checked the type of that 1 and it says that it is a java.lang.String. How am I gonna force that barcode to accept only strings?","title":"Spring Boot RequestBody parses property to string even integer given","body":"<p>I've a simple Spring Boot application that has a single post method route that takes a request body and printing that body's property to console. This is my controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;v1&quot;)\npublic class ExampleController {\n    @PostMapping(&quot;example&quot;)\n    public ResponseEntity&lt;String&gt; example(@RequestBody ExampleBody body) {\n        System.out.println(body.getBarcode());\n        return new ResponseEntity&lt;&gt;(&quot;OK&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>and this is the ExampleBody class</p>\n<pre><code>@Getter\n@Setter\npublic class ExampleBody {\n\n    @NonNull\n    private String barcode;\n}\n</code></pre>\n<p>I've expected that when I send a body with my request like that:</p>\n<pre><code>{\n    &quot;barcode&quot;: 1\n}\n</code></pre>\n<p>it will fails, because I've declared that barcode as String in ExampleBody class.</p>\n<p>However instead of throwing an exception, it passes and prints 1 to the console. I've checked the type of that 1 and it says that it is a java.lang.String. How am I gonna force that barcode to accept only strings?</p>\n"},{"tags":["java","paintcomponent","repaint"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1685535097,"post_id":76373119,"comment_id":134673155,"body_markdown":"Generally, you have to repaint everything. Only repainting a part of the component is trickier but possible.","body":"Generally, you have to repaint everything. Only repainting a part of the component is trickier but possible."},{"owner":{"account_id":18113888,"reputation":53,"user_id":21816951,"display_name":"Callum Rae"},"score":0,"creation_date":1685537632,"post_id":76373119,"comment_id":134673816,"body_markdown":"How would I do that? Is it possible to repaint a specific object while keeping everything else as is?","body":"How would I do that? Is it possible to repaint a specific object while keeping everything else as is?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1685542349,"post_id":76373119,"comment_id":134675042,"body_markdown":"Not sure why moving the mouse causes a repaint. Maybe each landmass could be a BufferedImage. Then the paintComponent() methods simply paints each image. Or maybe you only have a single BufferedImage that you recreate whenever a landmass is edited.","body":"Not sure why moving the mouse causes a repaint. Maybe each landmass could be a BufferedImage. Then the paintComponent() methods simply paints each image. Or maybe you only have a single BufferedImage that you recreate whenever a landmass is edited."},{"owner":{"account_id":18113888,"reputation":53,"user_id":21816951,"display_name":"Callum Rae"},"score":0,"creation_date":1685546464,"post_id":76373119,"comment_id":134676126,"body_markdown":"I need to adjust the shape of landmasses using the mouse, meaning that I need to repaint when I do that. It&#39;s not so much a problem with moving the mouse, but it is with dragging the mouse.","body":"I need to adjust the shape of landmasses using the mouse, meaning that I need to repaint when I do that. It&#39;s not so much a problem with moving the mouse, but it is with dragging the mouse."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685537622,"creation_date":1685537622,"answer_id":76373690,"question_id":76373119,"body_markdown":"As mentioned in the technical details [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html), the `Graphics` object has a &quot;clip rectangle&quot; property, which indicates which area should be redrawn:\r\n\r\n&gt; * The `Graphics` object&#39;s *clip rectangle* is set to the area of the component that is in need of repainting.\r\n\r\nIt is used/set when you call the [`repaint()` method with the integer arguments](https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#repaint-int-int-int-int-) to specify the region you need to repaint. So when you call\r\n\r\n    panel.repaint(10, 20, 30, 40); // rectangle of 30x40 at pos (10, 20)\r\n\r\nthe `paint*()` methods get called with a `Graphics` object, where `getClip()` will return a [`Shape`](https://docs.oracle.com/javase/8/docs/api/java/awt/Shape.html)/[`Rectangle`](https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html) with these coordinates (or the coordinates related to *that* GUI component). You can use this information to (re)draw only the parts in that area. But this also means that you have to call `repaint()` on the area that has been changed. If you call `repaint()` without arguments, you will give the Swing/AWT drawing library no information whatsoever what has been &quot;changed&quot; and what is &quot;unchanged&quot;, resulting in repainting *everything* (because that&#39;s what you are requesting).\r\n\r\nSee the following prototype to show the effect of `repaint(...);` and how the `paintComponent()` method is called:\r\n\r\n    public class Testing extends JPanel {\r\n    \t\r\n    \tprivate int paintCounter = 0;\r\n    \t\r\n    \tprivate Color[] colors = new Color[] {\r\n    \t\t\tColor.GREEN,\r\n    \t\t\tColor.RED,\r\n    \t\t\tColor.BLUE,\r\n    \t\t\tColor.YELLOW,\r\n    \t\t\tColor.ORANGE,\r\n    \t\t\tColor.PINK\r\n    \t};\r\n    \t@Override\r\n    \tprotected void paintComponent(Graphics g)\r\n    \t{\r\n    \t\tg.setColor(colors[paintCounter++%colors.length]);\r\n    \t\tRectangle r = (Rectangle)g.getClip();\r\n    \t\tSystem.out.println(r);\r\n    \t\tif (r.getX() == 0) {\r\n    \t\t\tg.setColor(Color.WHITE);\r\n    \t\t}\r\n    \t\tg.fillRect((int)r.getX(), (int)r.getY(), (int)r.getWidth(), (int)r.getHeight());\r\n    \t}\r\n    \t\r\n        public static void main(String[] args) throws Exception {\r\n        \tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n        \tTesting panel = new Testing();\r\n        \tSwingUtilities.invokeLater(() -&gt; {\r\n        \t\tframe.add(panel, BorderLayout.CENTER);\r\n            \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \tframe.setPreferredSize(new Dimension(400, 500));\r\n            \tframe.pack();\r\n            \tframe.setLocationRelativeTo(null);\r\n            \tframe.setVisible(true);        \t\r\n        \t});\r\n        \t\r\n        \tThread t = new Thread(() -&gt; {\r\n        \t\tRandom r = new Random();\r\n            \tfor (int i=0; i&lt;10; i++) {\r\n            \t\ttry {\r\n    \t\t\t\t\tThread.sleep(200);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n            \t\tSystem.out.println(&quot;Going to repaint step &quot;+i);\r\n            \t\tSwingUtilities.invokeLater(() -&gt; {\r\n            \t\t\tint x = r.nextInt(100)+10;\r\n                \t\tint y = r.nextInt(100)+100;\r\n                \t\tint width = r.nextInt(100)+100;\r\n                \t\tint height = r.nextInt(100)+100;\r\n                \t\tSystem.out.println(&quot;Repaint at: x=&quot;+x+&quot;, y=&quot;+y+&quot;, width=&quot;+width+&quot;, height=&quot;+height);\r\n                \t\tframe.repaint(x, y, width, height);\r\n            \t\t});\r\n            \t}\r\n        \t});\r\n        \tt.start();\r\n        }    \r\n    }\r\n\r\nThis will create a window like this:\r\n\r\n[![JFrame screenshot][1]][1]\r\n\r\nThe debug output looks as follow:\r\n\r\n    java.awt.Rectangle[x=0,y=0,width=390,height=470]\r\n    java.awt.Rectangle[x=0,y=0,width=1,height=1]\r\n    java.awt.Rectangle[x=0,y=0,width=390,height=470]\r\n    Going to repaint step 0\r\n    Repaint at: x=60, y=150, width=108, height=191\r\n    java.awt.Rectangle[x=56,y=117,width=108,height=191]\r\n    Going to repaint step 1\r\n    Repaint at: x=58, y=161, width=171, height=112\r\n    java.awt.Rectangle[x=54,y=128,width=171,height=112]\r\n    Going to repaint step 2\r\n    Repaint at: x=91, y=195, width=108, height=153\r\n    java.awt.Rectangle[x=87,y=162,width=108,height=153]\r\n    Going to repaint step 3\r\n    Repaint at: x=96, y=186, width=109, height=117\r\n    java.awt.Rectangle[x=92,y=153,width=109,height=117]\r\n    Going to repaint step 4\r\n    Repaint at: x=81, y=194, width=170, height=128\r\n    java.awt.Rectangle[x=77,y=161,width=170,height=128]\r\n    Going to repaint step 5\r\n    Repaint at: x=11, y=168, width=114, height=101\r\n    java.awt.Rectangle[x=7,y=135,width=114,height=101]\r\n    Going to repaint step 6\r\n    Repaint at: x=96, y=151, width=137, height=199\r\n    java.awt.Rectangle[x=92,y=118,width=137,height=199]\r\n    Going to repaint step 7\r\n    Repaint at: x=99, y=167, width=127, height=130\r\n    java.awt.Rectangle[x=95,y=134,width=127,height=130]\r\n    Going to repaint step 8\r\n    Repaint at: x=23, y=107, width=167, height=118\r\n    java.awt.Rectangle[x=19,y=74,width=167,height=118]\r\n    Going to repaint step 9\r\n    Repaint at: x=42, y=155, width=167, height=103\r\n    java.awt.Rectangle[x=38,y=122,width=167,height=103]\r\n    \r\nAs you see in the output, the `paintComponent()` method is called with a rectangle of the whole `JPanel` size first, since in the beginning it has to been drawn fully at least once. After that only the specific part should be drawn and the `paintComponent()` method does that.\r\n\r\nHowever, keep in mind that the drawing system of Swing/AWT will decide really quick that is must redraw everything. GUI actions like focus switch or resize can result in the Swing/AWT system thinking &quot;Well, what I am currently showing is not current anymore, I have to redraw everything&quot; and calls `repaint()` without any limits.\r\n\r\n  [1]: https://i.stack.imgur.com/DOIS4.png","title":"Can I tell the JPanel paintComponent(Graphics g) function to only repaint the object I&#39;m editing?","body":"<p>As mentioned in the technical details <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>, the <code>Graphics</code> object has a &quot;clip rectangle&quot; property, which indicates which area should be redrawn:</p>\n<blockquote>\n<ul>\n<li>The <code>Graphics</code> object's <em>clip rectangle</em> is set to the area of the component that is in need of repainting.</li>\n</ul>\n</blockquote>\n<p>It is used/set when you call the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#repaint-int-int-int-int-\" rel=\"nofollow noreferrer\"><code>repaint()</code> method with the integer arguments</a> to specify the region you need to repaint. So when you call</p>\n<pre><code>panel.repaint(10, 20, 30, 40); // rectangle of 30x40 at pos (10, 20)\n</code></pre>\n<p>the <code>paint*()</code> methods get called with a <code>Graphics</code> object, where <code>getClip()</code> will return a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Shape.html\" rel=\"nofollow noreferrer\"><code>Shape</code></a>/<a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html\" rel=\"nofollow noreferrer\"><code>Rectangle</code></a> with these coordinates (or the coordinates related to <em>that</em> GUI component). You can use this information to (re)draw only the parts in that area. But this also means that you have to call <code>repaint()</code> on the area that has been changed. If you call <code>repaint()</code> without arguments, you will give the Swing/AWT drawing library no information whatsoever what has been &quot;changed&quot; and what is &quot;unchanged&quot;, resulting in repainting <em>everything</em> (because that's what you are requesting).</p>\n<p>See the following prototype to show the effect of <code>repaint(...);</code> and how the <code>paintComponent()</code> method is called:</p>\n<pre><code>public class Testing extends JPanel {\n    \n    private int paintCounter = 0;\n    \n    private Color[] colors = new Color[] {\n            Color.GREEN,\n            Color.RED,\n            Color.BLUE,\n            Color.YELLOW,\n            Color.ORANGE,\n            Color.PINK\n    };\n    @Override\n    protected void paintComponent(Graphics g)\n    {\n        g.setColor(colors[paintCounter++%colors.length]);\n        Rectangle r = (Rectangle)g.getClip();\n        System.out.println(r);\n        if (r.getX() == 0) {\n            g.setColor(Color.WHITE);\n        }\n        g.fillRect((int)r.getX(), (int)r.getY(), (int)r.getWidth(), (int)r.getHeight());\n    }\n    \n    public static void main(String[] args) throws Exception {\n        JFrame frame = new JFrame(&quot;Testing&quot;);\n        Testing panel = new Testing();\n        SwingUtilities.invokeLater(() -&gt; {\n            frame.add(panel, BorderLayout.CENTER);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setPreferredSize(new Dimension(400, 500));\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);         \n        });\n        \n        Thread t = new Thread(() -&gt; {\n            Random r = new Random();\n            for (int i=0; i&lt;10; i++) {\n                try {\n                    Thread.sleep(200);\n                } catch (InterruptedException e) {\n                    return;\n                }\n                System.out.println(&quot;Going to repaint step &quot;+i);\n                SwingUtilities.invokeLater(() -&gt; {\n                    int x = r.nextInt(100)+10;\n                    int y = r.nextInt(100)+100;\n                    int width = r.nextInt(100)+100;\n                    int height = r.nextInt(100)+100;\n                    System.out.println(&quot;Repaint at: x=&quot;+x+&quot;, y=&quot;+y+&quot;, width=&quot;+width+&quot;, height=&quot;+height);\n                    frame.repaint(x, y, width, height);\n                });\n            }\n        });\n        t.start();\n    }    \n}\n</code></pre>\n<p>This will create a window like this:</p>\n<p><a href=\"https://i.stack.imgur.com/DOIS4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DOIS4.png\" alt=\"JFrame screenshot\" /></a></p>\n<p>The debug output looks as follow:</p>\n<pre><code>java.awt.Rectangle[x=0,y=0,width=390,height=470]\njava.awt.Rectangle[x=0,y=0,width=1,height=1]\njava.awt.Rectangle[x=0,y=0,width=390,height=470]\nGoing to repaint step 0\nRepaint at: x=60, y=150, width=108, height=191\njava.awt.Rectangle[x=56,y=117,width=108,height=191]\nGoing to repaint step 1\nRepaint at: x=58, y=161, width=171, height=112\njava.awt.Rectangle[x=54,y=128,width=171,height=112]\nGoing to repaint step 2\nRepaint at: x=91, y=195, width=108, height=153\njava.awt.Rectangle[x=87,y=162,width=108,height=153]\nGoing to repaint step 3\nRepaint at: x=96, y=186, width=109, height=117\njava.awt.Rectangle[x=92,y=153,width=109,height=117]\nGoing to repaint step 4\nRepaint at: x=81, y=194, width=170, height=128\njava.awt.Rectangle[x=77,y=161,width=170,height=128]\nGoing to repaint step 5\nRepaint at: x=11, y=168, width=114, height=101\njava.awt.Rectangle[x=7,y=135,width=114,height=101]\nGoing to repaint step 6\nRepaint at: x=96, y=151, width=137, height=199\njava.awt.Rectangle[x=92,y=118,width=137,height=199]\nGoing to repaint step 7\nRepaint at: x=99, y=167, width=127, height=130\njava.awt.Rectangle[x=95,y=134,width=127,height=130]\nGoing to repaint step 8\nRepaint at: x=23, y=107, width=167, height=118\njava.awt.Rectangle[x=19,y=74,width=167,height=118]\nGoing to repaint step 9\nRepaint at: x=42, y=155, width=167, height=103\njava.awt.Rectangle[x=38,y=122,width=167,height=103]\n</code></pre>\n<p>As you see in the output, the <code>paintComponent()</code> method is called with a rectangle of the whole <code>JPanel</code> size first, since in the beginning it has to been drawn fully at least once. After that only the specific part should be drawn and the <code>paintComponent()</code> method does that.</p>\n<p>However, keep in mind that the drawing system of Swing/AWT will decide really quick that is must redraw everything. GUI actions like focus switch or resize can result in the Swing/AWT system thinking &quot;Well, what I am currently showing is not current anymore, I have to redraw everything&quot; and calls <code>repaint()</code> without any limits.</p>\n"}],"owner":{"account_id":18113888,"reputation":53,"user_id":21816951,"display_name":"Callum Rae"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685537622,"creation_date":1685533425,"question_id":76373119,"body_markdown":"I&#39;m writing an app in java using a `JPanel` to draw maps, I&#39;ve used `Landmass` as a class, and the workspace (extends JPanel) uses multiple landmasses to represent each continent/island. \r\n\r\ncurrently, the paintComponent runs a for loop over every Landmass every time I `repaint()`, which is everytime the mouse is moved. This seems inefficient as most Landmasses aren&#39;t changing, and is causing my program to slow down when too many Landmass objects are added. I want the landmasses to still be displayed by the graphics, I&#39;m looking for a way to not redraw the ones I haven&#39;t edited. \r\n\r\n````\r\nprotected void paintComponent(Graphics g)\r\n{\r\n   super.paintComponent(g);\r\n   Graphics2D g2= (Graphics2D) g;\r\n\t\t\tzoom(g2);\r\n\t\t\t\r\n   int radius = zoomHandler.divZ(this.radius);\r\n   graphicsHandler.setRadius(radius);\r\n\r\n\t\t\t...\r\n\t\t\t\r\n   if(!landmasses.isEmpty()) \r\n\tfor(int i = 0; i &lt; landmasses.size(); i++)\r\n\t     graphicsHandler.drawLandmass(g2, landmasses.get(i), i);\r\n}\r\n````\r\nWhere landmasses is the `ArrayList&lt;Landmass&gt;` that I&#39;m using to store every Landmass. \r\n\r\nTo be clear, I never directly call the paintComponent, I only ever use repaint();\r\n\r\nIf anyone was wondering drawLandmas does:\r\n````\r\npublic void drawLandmass(Graphics2D g, Landmass l, int index) {\r\n\t\tint[] xPoints = new int[l.nodes.size()]; //setup two integer arrays to store the x and y coordinates of each point\r\n\t\tint[] yPoints = new int[l.nodes.size()];\r\n\t\tfor(int j = 0; j &lt; l.nodes.size(); j++)//and assign each of the arrays with the points we take from the nodes\r\n\t\t{\r\n\t\t\txPoints[j] = l.nodes.get(j).x();\r\n\t\t\tyPoints[j] = l.nodes.get(j).y();\r\n\t\t}\r\n\t\tfillLandmass(l, xPoints, yPoints,g);\r\n\t\tif(l.getIsSelected()) {\r\n\t\t\ttraceLandmass(l, xPoints, yPoints, g);\r\n\t\t\tboxLandmass(l, w.zoomHandler, g);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void fillLandmass(Landmass l, int[] x, int[] y, Graphics2D g) {\r\n\t\tg.setColor(l.getColor());\r\n\t\tg.fillPolygon(x, y, l.nodes.size());\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void traceLandmass(Landmass l, int[] x, int[] y, Graphics2D g) {\r\n\t\tg.setColor(Color.RED);\r\n\t\tg.drawPolygon(x,y,l.nodes.size());\r\n\t\tfor(int j = 0; j &lt; l.nodes.size(); j++)//and assign each of the arrays with the points we take from the nodes\r\n\t\t{\r\n\t\t\tif(l.getSelectedNode() == j)\r\n\t\t\t\tcircle(g, l.nodes.get(j), &quot;fill&quot;, radius,g.getColor());\r\n\t\t\telse\r\n\t\t\t\tcircle(g, l.nodes.get(j), &quot;draw&quot;, radius,g.getColor());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void boxLandmass(Landmass l, ZoomHandler z, Graphics2D g) {\r\n\t\tg.setColor(Color.YELLOW);\r\n\t\tg.drawRect(l.prox[0] - radius, l.prox[1] - radius,\r\n\t\t\t\tl.prox[2]-l.prox[0] + 2*radius, \r\n\t\t\t\tl.prox[3]-l.prox[1] + 2*radius);\r\n\t\tg.fillRect(l.prox[0] - z.divZ(3) - radius, l.prox[1] - z.divZ(3) - radius, 2*z.divZ(3), 2*z.divZ(3));\r\n\t\tg.fillRect(l.prox[2] - z.divZ(3) + radius, l.prox[1] - z.divZ(3) - radius, 2*z.divZ(3), 2*z.divZ(3));\r\n\t\tg.fillRect(l.prox[2] - z.divZ(3) + radius, l.prox[3] - z.divZ(3) + radius, 2*z.divZ(3), 2*z.divZ(3));\r\n\t\tg.fillRect(l.prox[0] - z.divZ(3) - radius, l.prox[3] - z.divZ(3) + radius, 2*z.divZ(3), 2*z.divZ(3));\r\n\t\r\n\t\tif(l.centreNodeVisible)\r\n\t\t\tcircle(g,l.centreNode,&quot;draw&quot;,radius, g.getColor());\r\n\t}\r\n````\r\n\r\nI obviously can&#39;t just use an `if(landmasses.get(i).isEdited())` statement to only draw landmasses which have been edited, and the unedited ones won&#39;t be shown.\r\n\r\nI tried researching the paintComponent, but I couldn&#39;t find anything there that was helpful. ","title":"Can I tell the JPanel paintComponent(Graphics g) function to only repaint the object I&#39;m editing?","body":"<p>I'm writing an app in java using a <code>JPanel</code> to draw maps, I've used <code>Landmass</code> as a class, and the workspace (extends JPanel) uses multiple landmasses to represent each continent/island.</p>\n<p>currently, the paintComponent runs a for loop over every Landmass every time I <code>repaint()</code>, which is everytime the mouse is moved. This seems inefficient as most Landmasses aren't changing, and is causing my program to slow down when too many Landmass objects are added. I want the landmasses to still be displayed by the graphics, I'm looking for a way to not redraw the ones I haven't edited.</p>\n<pre><code>protected void paintComponent(Graphics g)\n{\n   super.paintComponent(g);\n   Graphics2D g2= (Graphics2D) g;\n            zoom(g2);\n            \n   int radius = zoomHandler.divZ(this.radius);\n   graphicsHandler.setRadius(radius);\n\n            ...\n            \n   if(!landmasses.isEmpty()) \n    for(int i = 0; i &lt; landmasses.size(); i++)\n         graphicsHandler.drawLandmass(g2, landmasses.get(i), i);\n}\n</code></pre>\n<p>Where landmasses is the <code>ArrayList&lt;Landmass&gt;</code> that I'm using to store every Landmass.</p>\n<p>To be clear, I never directly call the paintComponent, I only ever use repaint();</p>\n<p>If anyone was wondering drawLandmas does:</p>\n<pre><code>public void drawLandmass(Graphics2D g, Landmass l, int index) {\n        int[] xPoints = new int[l.nodes.size()]; //setup two integer arrays to store the x and y coordinates of each point\n        int[] yPoints = new int[l.nodes.size()];\n        for(int j = 0; j &lt; l.nodes.size(); j++)//and assign each of the arrays with the points we take from the nodes\n        {\n            xPoints[j] = l.nodes.get(j).x();\n            yPoints[j] = l.nodes.get(j).y();\n        }\n        fillLandmass(l, xPoints, yPoints,g);\n        if(l.getIsSelected()) {\n            traceLandmass(l, xPoints, yPoints, g);\n            boxLandmass(l, w.zoomHandler, g);\n        }\n    }\n    \n    public void fillLandmass(Landmass l, int[] x, int[] y, Graphics2D g) {\n        g.setColor(l.getColor());\n        g.fillPolygon(x, y, l.nodes.size());\n    \n        \n    }\n    \n    public void traceLandmass(Landmass l, int[] x, int[] y, Graphics2D g) {\n        g.setColor(Color.RED);\n        g.drawPolygon(x,y,l.nodes.size());\n        for(int j = 0; j &lt; l.nodes.size(); j++)//and assign each of the arrays with the points we take from the nodes\n        {\n            if(l.getSelectedNode() == j)\n                circle(g, l.nodes.get(j), &quot;fill&quot;, radius,g.getColor());\n            else\n                circle(g, l.nodes.get(j), &quot;draw&quot;, radius,g.getColor());\n        }\n    }\n    \n    public void boxLandmass(Landmass l, ZoomHandler z, Graphics2D g) {\n        g.setColor(Color.YELLOW);\n        g.drawRect(l.prox[0] - radius, l.prox[1] - radius,\n                l.prox[2]-l.prox[0] + 2*radius, \n                l.prox[3]-l.prox[1] + 2*radius);\n        g.fillRect(l.prox[0] - z.divZ(3) - radius, l.prox[1] - z.divZ(3) - radius, 2*z.divZ(3), 2*z.divZ(3));\n        g.fillRect(l.prox[2] - z.divZ(3) + radius, l.prox[1] - z.divZ(3) - radius, 2*z.divZ(3), 2*z.divZ(3));\n        g.fillRect(l.prox[2] - z.divZ(3) + radius, l.prox[3] - z.divZ(3) + radius, 2*z.divZ(3), 2*z.divZ(3));\n        g.fillRect(l.prox[0] - z.divZ(3) - radius, l.prox[3] - z.divZ(3) + radius, 2*z.divZ(3), 2*z.divZ(3));\n    \n        if(l.centreNodeVisible)\n            circle(g,l.centreNode,&quot;draw&quot;,radius, g.getColor());\n    }\n</code></pre>\n<p>I obviously can't just use an <code>if(landmasses.get(i).isEdited())</code> statement to only draw landmasses which have been edited, and the unedited ones won't be shown.</p>\n<p>I tried researching the paintComponent, but I couldn't find anything there that was helpful.</p>\n"},{"tags":["java","spring","eclipse","maven"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685537327,"post_id":76373505,"comment_id":134673737,"body_markdown":"`&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;` Java 7? From 2011. Why are you using Java from 12 years ago?","body":"<code>&lt;maven.compiler.source&gt;1.7&lt;&#47;maven.compiler.source&gt;</code> Java 7? From 2011. Why are you using Java from 12 years ago?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1685537624,"post_id":76373505,"comment_id":134673813,"body_markdown":"See abovelinked duplicate. The question might not be the same but the answer is very applicable on your situation too: use Tomcat 10+ or else downgrade Spring to 5-. In other words, simply make sure all the versions are the most recent ones or at least match each other wrt compatibility.","body":"See abovelinked duplicate. The question might not be the same but the answer is very applicable on your situation too: use Tomcat 10+ or else downgrade Spring to 5-. In other words, simply make sure all the versions are the most recent ones or at least match each other wrt compatibility."}],"owner":{"account_id":28719065,"reputation":3,"user_id":21993125,"display_name":"Prajal Saxena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685537573,"answer_count":0,"score":0,"last_activity_date":1685537561,"creation_date":1685536195,"question_id":76373505,"body_markdown":"Getting this error even after inheriting onStartup() method: \r\nThe type LoveCalculatorApplicationInitializer must implement the inherited abstract method WebApplicationInitializer.onStartup(ServletContext). \r\n\r\n**Here&#39;s the pom.xml**\r\n```\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.seleniumexpress&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-love-calculator&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;spring-love-calculator Maven Webapp&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    \r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;spring-love-calculator&lt;/finalName&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n`\r\n```\r\n\r\n**Here&#39;s the LoveCalculatorApplicationInitializer.java:** problem not resolved even after inheriting\r\n\r\n\r\n```\r\n`package com.seleniumexpress.lc.config;\r\n\r\nimport org.springframework.web.WebApplicationInitializer;\r\n\r\nimport jakarta.servlet.ServletContext;\r\nimport jakarta.servlet.ServletException;\r\n\r\npublic class LoveCalculatorApplicationInitializer implements WebApplicationInitializer {\r\n\r\n\t@Override\r\n\tpublic void onStartup(ServletContext servletContext) throws ServletException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n}\r\n`\r\n```","title":"The type LoveCalculatorApplicationInitializer must implement the inherited abstract method WebApplicationInitializer.onStartup(ServletContext)","body":"<p>Getting this error even after inheriting onStartup() method:\nThe type LoveCalculatorApplicationInitializer must implement the inherited abstract method WebApplicationInitializer.onStartup(ServletContext).</p>\n<p><strong>Here's the pom.xml</strong></p>\n<pre><code>\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.seleniumexpress&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-love-calculator&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;spring-love-calculator Maven Webapp&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;6.0.9&lt;/version&gt;\n&lt;/dependency&gt;\n    \n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;spring-love-calculator&lt;/finalName&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n`\n</code></pre>\n<p><strong>Here's the LoveCalculatorApplicationInitializer.java:</strong> problem not resolved even after inheriting</p>\n<pre><code>`package com.seleniumexpress.lc.config;\n\nimport org.springframework.web.WebApplicationInitializer;\n\nimport jakarta.servlet.ServletContext;\nimport jakarta.servlet.ServletException;\n\npublic class LoveCalculatorApplicationInitializer implements WebApplicationInitializer {\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        // TODO Auto-generated method stub\n        \n    }\n\n}\n`\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":3188373,"reputation":1886,"user_id":3957225,"accept_rate":100,"display_name":"Dhaval Simaria"},"score":0,"creation_date":1685524699,"post_id":76371841,"comment_id":134670945,"body_markdown":"You can remove the `@DBRef articles` from User class.  I believe it will form an endless loop if you DBRef two classes into one another.\n\nAlso, please share the exact error that you are getting in your implementation.","body":"You can remove the <code>@DBRef articles</code> from User class.  I believe it will form an endless loop if you DBRef two classes into one another.  Also, please share the exact error that you are getting in your implementation."},{"owner":{"account_id":24199839,"reputation":11,"user_id":18157826,"display_name":"Vitalii Smahlenko"},"score":0,"creation_date":1685525273,"post_id":76371841,"comment_id":134671061,"body_markdown":"error - Invalid path reference user.username! Associations can only be pointed to directly or via their id property!","body":"error - Invalid path reference user.username! Associations can only be pointed to directly or via their id property!"}],"answers":[{"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685525246,"creation_date":1685525246,"answer_id":76372015,"question_id":76371841,"body_markdown":"On `$lookup` stage you&#39;re trying to join on `user` field which is a DBRef in the articles collection and `_id` field in the users collection. The issue is that DBRef is a complex object, and you cannot directly compare it with the `_id` field.\r\n\r\nIn MongoDB, a DBRef is a document that contains the following fields:\r\n\r\n    {\r\n       $ref : &lt;collection name&gt;,\r\n       $id : &lt;id&gt;,\r\n       $db : &lt;database name&gt;\r\n    }\r\n\r\nYour `User` field in the `Article` collection would look something like this:\r\n\r\n    {\r\n        $ref : &#39;user&#39;,\r\n        $id : &lt;user_id&gt;,\r\n        $db : &lt;database_name&gt;\r\n    }\r\n\r\nThus, in your `$lookup` part, you should use `user.$id` as the localField instead of `user`:\r\n\r\n    @Aggregation(pipeline = {\r\n            &quot;{$lookup: {from: &#39;user&#39;, localField: &#39;user.$id&#39;, foreignField: &#39;_id&#39;, as: &#39;user&#39;}}&quot;,\r\n            &quot;{$unwind: &#39;$user&#39;}&quot;,\r\n            &quot;{$match: {&#39;user.username&#39;: ?0}}&quot;\r\n    })\r\n    List&lt;Article&gt; findAllByUserUsername(String username);\r\n\r\n","title":"How to write a join query for mongoDb with Spring boot?","body":"<p>On <code>$lookup</code> stage you're trying to join on <code>user</code> field which is a DBRef in the articles collection and <code>_id</code> field in the users collection. The issue is that DBRef is a complex object, and you cannot directly compare it with the <code>_id</code> field.</p>\n<p>In MongoDB, a DBRef is a document that contains the following fields:</p>\n<pre><code>{\n   $ref : &lt;collection name&gt;,\n   $id : &lt;id&gt;,\n   $db : &lt;database name&gt;\n}\n</code></pre>\n<p>Your <code>User</code> field in the <code>Article</code> collection would look something like this:</p>\n<pre><code>{\n    $ref : 'user',\n    $id : &lt;user_id&gt;,\n    $db : &lt;database_name&gt;\n}\n</code></pre>\n<p>Thus, in your <code>$lookup</code> part, you should use <code>user.$id</code> as the localField instead of <code>user</code>:</p>\n<pre><code>@Aggregation(pipeline = {\n        &quot;{$lookup: {from: 'user', localField: 'user.$id', foreignField: '_id', as: 'user'}}&quot;,\n        &quot;{$unwind: '$user'}&quot;,\n        &quot;{$match: {'user.username': ?0}}&quot;\n})\nList&lt;Article&gt; findAllByUserUsername(String username);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3188373,"reputation":1886,"user_id":3957225,"accept_rate":100,"display_name":"Dhaval Simaria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685529655,"creation_date":1685529655,"answer_id":76372632,"question_id":76371841,"body_markdown":"You can fetch only the list of articles from the User repository as follows:\r\n\r\n\r\nKeep your User class as is in your question.\r\n\r\nRemove `@DBRef private User user;` from your Article class.\r\n\r\n`User Repository`\r\n\r\n    public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\r\n\r\n        @Query(&quot;select u.articles from User u where u.username:=username&quot;)\r\n        List&lt;Article&gt; findArticlesbyUsername(@Param(&quot;username&quot;) String username);\r\n    }\r\n\r\nThis will fetch only the list of articles through your User class.","title":"How to write a join query for mongoDb with Spring boot?","body":"<p>You can fetch only the list of articles from the User repository as follows:</p>\n<p>Keep your User class as is in your question.</p>\n<p>Remove <code>@DBRef private User user;</code> from your Article class.</p>\n<p><code>User Repository</code></p>\n<pre><code>public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\n\n    @Query(&quot;select u.articles from User u where u.username:=username&quot;)\n    List&lt;Article&gt; findArticlesbyUsername(@Param(&quot;username&quot;) String username);\n}\n</code></pre>\n<p>This will fetch only the list of articles through your User class.</p>\n"},{"tags":[],"owner":{"account_id":24199839,"reputation":11,"user_id":18157826,"display_name":"Vitalii Smahlenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685537464,"creation_date":1685537464,"answer_id":76373672,"question_id":76371841,"body_markdown":"I took the idea from the Dhaval Simaria solution, but I tweaked it a bit, and now it works.\r\n\r\n    public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\r\n        Optional&lt;User&gt; findByUsername(String username);\r\n    \r\n        @Aggregation(pipeline = {\r\n                &quot;{$match: {username: ?0}}&quot;,\r\n                &quot;{$lookup: {from: &#39;articles&#39;, localField: &#39;id&#39;, foreignField: &#39;user.id&#39;, as: &#39;articles&#39;}}&quot;,\r\n                &quot;{$unwind: &#39;$articles&#39;}&quot;,\r\n                &quot;{$replaceRoot: {newRoot: &#39;$articles&#39;}}&quot;\r\n        })\r\n        List&lt;Article&gt; findArticlesByUsername(String username);\r\n    }\r\nIt is very important for me to know if it is the right decision to write this method in UserRepository or is it better to look for options to do it in ArticleRepository? ","title":"How to write a join query for mongoDb with Spring boot?","body":"<p>I took the idea from the Dhaval Simaria solution, but I tweaked it a bit, and now it works.</p>\n<pre><code>public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n\n    @Aggregation(pipeline = {\n            &quot;{$match: {username: ?0}}&quot;,\n            &quot;{$lookup: {from: 'articles', localField: 'id', foreignField: 'user.id', as: 'articles'}}&quot;,\n            &quot;{$unwind: '$articles'}&quot;,\n            &quot;{$replaceRoot: {newRoot: '$articles'}}&quot;\n    })\n    List&lt;Article&gt; findArticlesByUsername(String username);\n}\n</code></pre>\n<p>It is very important for me to know if it is the right decision to write this method in UserRepository or is it better to look for options to do it in ArticleRepository?</p>\n"}],"owner":{"account_id":24199839,"reputation":11,"user_id":18157826,"display_name":"Vitalii Smahlenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685537464,"creation_date":1685523996,"question_id":76371841,"body_markdown":"everyone! \r\nI would be very grateful for your help, I am a beginner in working with MongoDB.\r\nI have 2 classes\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(collection = &quot;user&quot;)\r\npublic class User {\r\n    @Transient\r\n    public static final String USER_SEQUENCE = &quot;user_sequence&quot;;\r\n    @Id\r\n    private Long id;\r\n    private String username;\r\n    private String password;\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    @DBRef\r\n    private List&lt;Article&gt; articles = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nand\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(collection = &quot;articles&quot;)\r\npublic class Article {\r\n    @Transient\r\n    public static final String ARTICLE_SEQUENCE = &quot;article_sequence&quot;;\r\n    @Id\r\n    private Long id;\r\n    private String text;\r\n    private int like = 0;\r\n    @Setter(AccessLevel.NONE)\r\n    private Set&lt;Long&gt; likedBy = new HashSet&lt;&gt;();\r\n    @Setter(AccessLevel.NONE)\r\n    private Set&lt;Long&gt; dislikedBy = new HashSet&lt;&gt;();\r\n    @DBRef\r\n    private User user;\r\n\r\n    public Article(Long id, String text, User user) {\r\n        this.id = id;\r\n        this.text = text;\r\n        this.user = user;\r\n    }\r\n}\r\n```\r\nI need to implement a method that will retrieve all articles by username\r\nThis is my implementation, but it doesn&#39;t work(((\r\n```\r\npublic interface ArticleRepository extends MongoRepository&lt;Article, Long&gt; {\r\n    List&lt;Article&gt; findAllByOrderByIdDesc();\r\n\r\n    @Aggregation(pipeline = {\r\n            &quot;{$lookup: {from: &#39;users&#39;, localField: &#39;user&#39;, foreignField: &#39;_id&#39;, as: &#39;user&#39;}}&quot;,\r\n            &quot;{$unwind: &#39;$user&#39;}&quot;,\r\n            &quot;{$match: {&#39;user.username&#39;: ?0}}&quot;\r\n    })\r\n    List&lt;Article&gt; findAllByUserUsername(String username);\r\n}\r\n```\r\n\r\nHelp me understand how to do this, please\r\n\r\n\r\nOf course, I can pull out the User by name and take the gender from it, but I think it&#39;s not right.\r\n\r\n```\r\npublic interface UserRepository extends MongoRepository&lt;User, Long&gt; {\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n}\r\n```","title":"How to write a join query for mongoDb with Spring boot?","body":"<p>everyone!\nI would be very grateful for your help, I am a beginner in working with MongoDB.\nI have 2 classes</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(collection = &quot;user&quot;)\npublic class User {\n    @Transient\n    public static final String USER_SEQUENCE = &quot;user_sequence&quot;;\n    @Id\n    private Long id;\n    private String username;\n    private String password;\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n    @DBRef\n    private List&lt;Article&gt; articles = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(collection = &quot;articles&quot;)\npublic class Article {\n    @Transient\n    public static final String ARTICLE_SEQUENCE = &quot;article_sequence&quot;;\n    @Id\n    private Long id;\n    private String text;\n    private int like = 0;\n    @Setter(AccessLevel.NONE)\n    private Set&lt;Long&gt; likedBy = new HashSet&lt;&gt;();\n    @Setter(AccessLevel.NONE)\n    private Set&lt;Long&gt; dislikedBy = new HashSet&lt;&gt;();\n    @DBRef\n    private User user;\n\n    public Article(Long id, String text, User user) {\n        this.id = id;\n        this.text = text;\n        this.user = user;\n    }\n}\n</code></pre>\n<p>I need to implement a method that will retrieve all articles by username\nThis is my implementation, but it doesn't work(((</p>\n<pre><code>public interface ArticleRepository extends MongoRepository&lt;Article, Long&gt; {\n    List&lt;Article&gt; findAllByOrderByIdDesc();\n\n    @Aggregation(pipeline = {\n            &quot;{$lookup: {from: 'users', localField: 'user', foreignField: '_id', as: 'user'}}&quot;,\n            &quot;{$unwind: '$user'}&quot;,\n            &quot;{$match: {'user.username': ?0}}&quot;\n    })\n    List&lt;Article&gt; findAllByUserUsername(String username);\n}\n</code></pre>\n<p>Help me understand how to do this, please</p>\n<p>Of course, I can pull out the User by name and take the gender from it, but I think it's not right.</p>\n<pre><code>public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","graalvm-native-image","spring-native"],"answers":[{"tags":[],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685537288,"creation_date":1685537288,"answer_id":76373651,"question_id":76370021,"body_markdown":"Fixed by adding below hints  \r\n\r\n```\r\n\t\t// Register Type Hints for class and interface since size() of EmptyList class\r\n\t\t\t// is not accessible because\r\n\t\t\t// JAVA Module system denies that access ; hence to circumvent that , we should\r\n\t\t\t// add hints for both interface and implementing class\r\n\t\t\t// so that Spring can call class methods through interface\r\n\t\t\thints.reflection().registerType(TypeReference.of(&quot;java.util.Collection&quot;),\r\n\t\t\t\t\tbuilder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\r\n\t\t\thints.reflection().registerType(TypeReference.of(&quot;java.util.Collections$EmptyList&quot;),\r\n\t\t\t\t\tbuilder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\r\n  ","title":"Register RuntimeHints for Collections EmptyList class not working","body":"<p>Fixed by adding below hints</p>\n<pre><code>        // Register Type Hints for class and interface since size() of EmptyList class\n            // is not accessible because\n            // JAVA Module system denies that access ; hence to circumvent that , we should\n            // add hints for both interface and implementing class\n            // so that Spring can call class methods through interface\n            hints.reflection().registerType(TypeReference.of(&quot;java.util.Collection&quot;),\n                    builder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\n            hints.reflection().registerType(TypeReference.of(&quot;java.util.Collections$EmptyList&quot;),\n                    builder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\n  \n</code></pre>\n"}],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685537288,"creation_date":1685504692,"question_id":76370021,"body_markdown":"I have the following method and a Cacheable annotation on top of that. \r\n```\r\n@Cacheable(value = &quot;autosuggest&quot;, key = &quot;#term&quot;, unless = &quot;#result.size()==0&quot;)\r\n\t@Override\r\n\tpublic List&lt;AutoSuggestUser&gt; autoSuggestUsers(String term) {\r\n\t\tif (term.length() &lt;= 3)\r\n\t\t\treturn Collections.emptyList();\r\n        ....\r\n}\r\n```\r\nWhen I convert it to native image , I get the following error when function returns an EmptyList. \r\n\r\n```\r\norg.springframework.expression.spel.SpelEvaluationException: EL1029E: A problem occurred when trying to execute method &#39;size&#39; on object of type &#39;java.util.Collections$EmptyList&#39;: &#39;Problem invoking method: public int java.util.Collections$EmptyList.size()&#39;\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:146)\r\n\tat java.base@17.0.5/java.lang.Thread.run(Thread.java:833)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\r\nCaused by: org.springframework.expression.AccessException: Problem invoking method: public int java.util.Collections$EmptyList.size()\r\n\tat org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:143)\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:139)\r\n\t... 70 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public int java.util.Collections$EmptyList.size() accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @2055833f\r\n\tat java.base@17.0.5/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base@17.0.5/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base@17.0.5/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base@17.0.5/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:574)\r\n\tat org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:138)\r\n\t... 71 more\r\n```\r\n\r\nI have added a runtime hint to register EmptyList class but it doesn&#39;t seem to be working. \r\n```\r\n\tstatic class MyRuntimeHints implements RuntimeHintsRegistrar {\r\n\r\n\t\t@Override\r\n\t\tpublic void registerHints(RuntimeHints hints, ClassLoader classLoader) {\r\nhints.reflection().registerType(TypeReference.of(&quot;java.util.Collections$EmptyList&quot;),\r\n\t\t\t\t\tbuilder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\r\n\t\t}\r\n```","title":"Register RuntimeHints for Collections EmptyList class not working","body":"<p>I have the following method and a Cacheable annotation on top of that.</p>\n<pre><code>@Cacheable(value = &quot;autosuggest&quot;, key = &quot;#term&quot;, unless = &quot;#result.size()==0&quot;)\n    @Override\n    public List&lt;AutoSuggestUser&gt; autoSuggestUsers(String term) {\n        if (term.length() &lt;= 3)\n            return Collections.emptyList();\n        ....\n}\n</code></pre>\n<p>When I convert it to native image , I get the following error when function returns an EmptyList.</p>\n<pre><code>org.springframework.expression.spel.SpelEvaluationException: EL1029E: A problem occurred when trying to execute method 'size' on object of type 'java.util.Collections$EmptyList': 'Problem invoking method: public int java.util.Collections$EmptyList.size()'\n    at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:146)\n    at java.base@17.0.5/java.lang.Thread.run(Thread.java:833)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\nCaused by: org.springframework.expression.AccessException: Problem invoking method: public int java.util.Collections$EmptyList.size()\n    at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:143)\n    at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:139)\n    ... 70 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public int java.util.Collections$EmptyList.size() accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @2055833f\n    at java.base@17.0.5/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base@17.0.5/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base@17.0.5/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base@17.0.5/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:574)\n    at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:138)\n    ... 71 more\n</code></pre>\n<p>I have added a runtime hint to register EmptyList class but it doesn't seem to be working.</p>\n<pre><code>    static class MyRuntimeHints implements RuntimeHintsRegistrar {\n\n        @Override\n        public void registerHints(RuntimeHints hints, ClassLoader classLoader) {\nhints.reflection().registerType(TypeReference.of(&quot;java.util.Collections$EmptyList&quot;),\n                    builder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\n        }\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685458341,"creation_date":1685458341,"answer_id":76366099,"question_id":76366017,"body_markdown":"The issue comes because the variable is out of your actual scope. It have been create in another method, and now the variable by itself isn&#39;t accessible.\r\n\r\nIf you want to keep the same inventory (not specially recommended), you can put into an `HashMap&lt;&gt;()` and get it after. Exemple:\r\n```\r\n\r\npublic class Copper_Inventory implements CommandExecutor {\r\n\r\n    public static final HashMap&lt;Player, Inventory&gt; INVENTORIES = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        if(!(sender instanceof Player)) return false;\r\n        Player player = (Player) sender;\r\n\r\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;&#167;5Copper \r\nTrails:&quot;);\r\n        // fill inventory\r\n        player.openInventory(copperInventory);\r\n        INVENTORIES.put(player, copperInventory);\r\n    }\r\n}\r\n```\r\nThen, when closing inventory, use: `player.openInventort(Copper_Inventory.INVENTORIES.get(player))`.\r\n\r\nBut, the most recommended way is not this one.\r\n\r\n### You can simply re-open a new one\r\n\r\nYou can create a new class which can be like that:\r\n```java\r\npublic class Inventories {\r\n\r\n    public static Inventory createCopperInventory(Player p) {\r\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;&#167;5Copper \r\nTrails:&quot;);\r\n        // fill inventory\r\n        return copperInventory;\r\n    }\r\n}\r\n```\r\nAnd then, each time use `player.openInventory(Inventories.createCopperInventory(player))`.","title":"How to open an Inventory with an Item inside an Inventory","body":"<p>The issue comes because the variable is out of your actual scope. It have been create in another method, and now the variable by itself isn't accessible.</p>\n<p>If you want to keep the same inventory (not specially recommended), you can put into an <code>HashMap&lt;&gt;()</code> and get it after. Exemple:</p>\n<pre><code>\npublic class Copper_Inventory implements CommandExecutor {\n\n    public static final HashMap&lt;Player, Inventory&gt; INVENTORIES = new HashMap&lt;&gt;();\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        if(!(sender instanceof Player)) return false;\n        Player player = (Player) sender;\n\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;§5Copper \nTrails:&quot;);\n        // fill inventory\n        player.openInventory(copperInventory);\n        INVENTORIES.put(player, copperInventory);\n    }\n}\n</code></pre>\n<p>Then, when closing inventory, use: <code>player.openInventort(Copper_Inventory.INVENTORIES.get(player))</code>.</p>\n<p>But, the most recommended way is not this one.</p>\n<h3>You can simply re-open a new one</h3>\n<p>You can create a new class which can be like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Inventories {\n\n    public static Inventory createCopperInventory(Player p) {\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;§5Copper \nTrails:&quot;);\n        // fill inventory\n        return copperInventory;\n    }\n}\n</code></pre>\n<p>And then, each time use <code>player.openInventory(Inventories.createCopperInventory(player))</code>.</p>\n"}],"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76366099,"answer_count":1,"score":1,"last_activity_date":1685537111,"creation_date":1685457812,"question_id":76366017,"body_markdown":"By just writing the code in one class and the write:\r\n\r\n```\r\ncase &quot;example&quot;:\r\n     player.openInventory(exampleInv);\r\n     break;\r\n   \r\n```\r\n\r\nBut because I like my things organized and well sorted I wrote the Inventory inside another class as the Inventory Click Event.\r\n\r\nHere is the class with the `InvClickEvent`:\r\n\r\n```\r\npackage de.t0x1ccr34t0r.charactertrails.listeners;\r\n\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.inventory.InventoryClickEvent;\r\n\r\npublic class InventoryListener implements Listener{\r\n\r\n    @EventHandler\r\n    public void onInvClick(InventoryClickEvent event) {\r\n        if(event.getCurrentItem() == null) return;\r\n        if(event.getView().getTitle() == &quot;&#167;5Trails:&quot;){\r\n            Player player = (Player) event.getWhoClicked();\r\n            event.setCancelled(true);\r\n            if(event.getCurrentItem().getItemMeta().hasLocalizedName()) {\r\n                switch (event.getCurrentItem().getItemMeta().getLocalizedName()) {\r\n                    case &quot;Close&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Copper&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Iron&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Gold&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Diamond&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Emerald&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nit all says `player.closeinventory()` because the `player.openInventory()` doesn&#39;t work yet and with that I need help. I made several classes like the `copper_Inventory` which I show you here:\r\n\r\n```\r\npackage de.t0x1ccr34t0r.charactertrails.inventories;\r\n\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.inventory.Inventory;\r\nimport org.bukkit.inventory.ItemStack;\r\nimport org.bukkit.inventory.meta.ItemMeta;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Copper_Inventory implements CommandExecutor {\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender1, Command cmd1, String s1, String[] strings1) {\r\n        if(!(sender1 instanceof Player)) return false;\r\n        Player player1 = (Player) sender1;\r\n\r\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;&#167;5Copper Trails:&quot;);\r\n\r\n        ItemStack ia = new ItemStack(Material.BARRIER);\r\n        ItemMeta ma = ia.getItemMeta();\r\n        ma.setLocalizedName(&quot;Close&quot;);\r\n        ma.setDisplayName(&quot;&#167;cClose&quot;);\r\n        ia.setItemMeta(ma);\r\n        copperInventory.setItem(31 , ia);\r\n\r\n        ItemStack ib = new ItemStack(Material.ARROW);\r\n        ItemMeta mb = ib.getItemMeta();\r\n        mb.setLocalizedName(&quot;Back&quot;);\r\n        mb.setDisplayName(&quot;&#167;7Back&quot;);\r\n        ib.setItemMeta(mb);\r\n        copperInventory.setItem(27 , ib);\r\n\r\n        player1.openInventory(copperInventory);\r\n\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nSo that code actually works. But only with an command in-game. \r\nIn the end, I want something like this:\r\n\r\n```\r\ncase &quot;copper&quot;:\r\n     player.openInventory(copperInventory);\r\n     break;\r\n   \r\n```\r\n\r\nBut this obviously doesn&#39;t work of course, because the program cant find &quot;copperInventory&quot;.\r\n\r\nI use the word copper in case &quot;copper&quot;: from another class which looks like this and this already works:\r\n\r\n```\r\npackage de.t0x1ccr34t0r.charactertrails.inventories;\r\n\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.inventory.Inventory;\r\nimport org.bukkit.inventory.ItemStack;\r\nimport org.bukkit.inventory.meta.ItemMeta;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Main_Inventory implements CommandExecutor {\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        if(!(sender instanceof Player)) return false;\r\n        Player player = (Player) sender;\r\n\r\n        Inventory mainInventory = Bukkit.createInventory(null , 3 * 9 , &quot;&#167;5Trails:&quot;);\r\n\r\n        ItemStack i1 = new ItemStack(Material.COPPER_INGOT);\r\n        ItemMeta m1 = i1.getItemMeta();\r\n        m1.setLocalizedName(&quot;Copper&quot;);\r\n        m1.setDisplayName(ChatColor.WHITE + &quot;example&quot;);\r\n        i1.setItemMeta(m1);\r\n        mainInventory.setItem(11 , i1);\r\n\r\n        player.openInventory(mainInventory);\r\n\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nSo my question is now: How do I do define the variable &quot;copperInventory&quot; from public class Copper_Inventory inside the &quot;case &quot;copper&quot;: in public class InventoryListener.\r\n\r\nAlso, I don&#39;t know if that is important, you may see these classes are not in the same package. I made multiple subpackages to keep everything smooth.\r\n\r\nSo in the end, my code should look like this:\r\n\r\n```\r\ncase &quot;copper&quot;:\r\n     player.openInventory(copperInventory);\r\n     break;\r\n```\r\n\r\nBut I just don&#39;t know how to do this whilst having the variables inside other classes. \r\n\r\nCould you help me with that?","title":"How to open an Inventory with an Item inside an Inventory","body":"<p>By just writing the code in one class and the write:</p>\n<pre><code>case &quot;example&quot;:\n     player.openInventory(exampleInv);\n     break;\n   \n</code></pre>\n<p>But because I like my things organized and well sorted I wrote the Inventory inside another class as the Inventory Click Event.</p>\n<p>Here is the class with the <code>InvClickEvent</code>:</p>\n<pre><code>package de.t0x1ccr34t0r.charactertrails.listeners;\n\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.inventory.InventoryClickEvent;\n\npublic class InventoryListener implements Listener{\n\n    @EventHandler\n    public void onInvClick(InventoryClickEvent event) {\n        if(event.getCurrentItem() == null) return;\n        if(event.getView().getTitle() == &quot;§5Trails:&quot;){\n            Player player = (Player) event.getWhoClicked();\n            event.setCancelled(true);\n            if(event.getCurrentItem().getItemMeta().hasLocalizedName()) {\n                switch (event.getCurrentItem().getItemMeta().getLocalizedName()) {\n                    case &quot;Close&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Copper&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Iron&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Gold&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Diamond&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Emerald&quot;:\n                        player.closeInventory();\n                        break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>it all says <code>player.closeinventory()</code> because the <code>player.openInventory()</code> doesn't work yet and with that I need help. I made several classes like the <code>copper_Inventory</code> which I show you here:</p>\n<pre><code>package de.t0x1ccr34t0r.charactertrails.inventories;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.Material;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.inventory.Inventory;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.meta.ItemMeta;\n\nimport java.util.ArrayList;\n\npublic class Copper_Inventory implements CommandExecutor {\n\n    @Override\n    public boolean onCommand(CommandSender sender1, Command cmd1, String s1, String[] strings1) {\n        if(!(sender1 instanceof Player)) return false;\n        Player player1 = (Player) sender1;\n\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;§5Copper Trails:&quot;);\n\n        ItemStack ia = new ItemStack(Material.BARRIER);\n        ItemMeta ma = ia.getItemMeta();\n        ma.setLocalizedName(&quot;Close&quot;);\n        ma.setDisplayName(&quot;§cClose&quot;);\n        ia.setItemMeta(ma);\n        copperInventory.setItem(31 , ia);\n\n        ItemStack ib = new ItemStack(Material.ARROW);\n        ItemMeta mb = ib.getItemMeta();\n        mb.setLocalizedName(&quot;Back&quot;);\n        mb.setDisplayName(&quot;§7Back&quot;);\n        ib.setItemMeta(mb);\n        copperInventory.setItem(27 , ib);\n\n        player1.openInventory(copperInventory);\n\n        return false;\n    }\n}\n</code></pre>\n<p>So that code actually works. But only with an command in-game.\nIn the end, I want something like this:</p>\n<pre><code>case &quot;copper&quot;:\n     player.openInventory(copperInventory);\n     break;\n   \n</code></pre>\n<p>But this obviously doesn't work of course, because the program cant find &quot;copperInventory&quot;.</p>\n<p>I use the word copper in case &quot;copper&quot;: from another class which looks like this and this already works:</p>\n<pre><code>package de.t0x1ccr34t0r.charactertrails.inventories;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.Material;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.inventory.Inventory;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.meta.ItemMeta;\n\nimport java.util.ArrayList;\n\npublic class Main_Inventory implements CommandExecutor {\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        if(!(sender instanceof Player)) return false;\n        Player player = (Player) sender;\n\n        Inventory mainInventory = Bukkit.createInventory(null , 3 * 9 , &quot;§5Trails:&quot;);\n\n        ItemStack i1 = new ItemStack(Material.COPPER_INGOT);\n        ItemMeta m1 = i1.getItemMeta();\n        m1.setLocalizedName(&quot;Copper&quot;);\n        m1.setDisplayName(ChatColor.WHITE + &quot;example&quot;);\n        i1.setItemMeta(m1);\n        mainInventory.setItem(11 , i1);\n\n        player.openInventory(mainInventory);\n\n        return false;\n    }\n}\n</code></pre>\n<p>So my question is now: How do I do define the variable &quot;copperInventory&quot; from public class Copper_Inventory inside the &quot;case &quot;copper&quot;: in public class InventoryListener.</p>\n<p>Also, I don't know if that is important, you may see these classes are not in the same package. I made multiple subpackages to keep everything smooth.</p>\n<p>So in the end, my code should look like this:</p>\n<pre><code>case &quot;copper&quot;:\n     player.openInventory(copperInventory);\n     break;\n</code></pre>\n<p>But I just don't know how to do this whilst having the variables inside other classes.</p>\n<p>Could you help me with that?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1345966,"reputation":34645,"user_id":1286723,"accept_rate":60,"display_name":"Shankar Agarwal"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1338103991,"creation_date":1338103689,"answer_id":10772354,"question_id":10772329,"body_markdown":"Copied from [Here][1]\r\n\r\n     /**\r\n         * network iso code: referred and listed at:\r\n         * http://en.wikipedia.org/wiki/List_of_mobile_country_codes\r\n         */\r\n          TelephonyManager manager = (TelephonyManager) getApplicationContext().getSystemService(Context.TELEPHONY_SERVICE);\r\n        String DEVICE_COUNTRY = manager.getNetworkCountryIso();\r\n\r\nUpdate:: Copied from [here][2]\r\n\r\n    String locale = getApplicationCOntext().getResources().getConfiguration().locale.getCountry();\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5402253/getting-telephone-country-code-with-android\r\n  [2]: https://stackoverflow.com/questions/3659809/where-am-i-get-country","title":"how to get country phone prefix from iso","body":"<p>Copied from <a href=\"https://stackoverflow.com/questions/5402253/getting-telephone-country-code-with-android\">Here</a></p>\n\n<pre><code> /**\n     * network iso code: referred and listed at:\n     * http://en.wikipedia.org/wiki/List_of_mobile_country_codes\n     */\n      TelephonyManager manager = (TelephonyManager) getApplicationContext().getSystemService(Context.TELEPHONY_SERVICE);\n    String DEVICE_COUNTRY = manager.getNetworkCountryIso();\n</code></pre>\n\n<p>Update:: Copied from <a href=\"https://stackoverflow.com/questions/3659809/where-am-i-get-country\">here</a></p>\n\n<pre><code>String locale = getApplicationCOntext().getResources().getConfiguration().locale.getCountry();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"down_vote_count":2,"up_vote_count":43,"is_accepted":true,"score":41,"last_activity_date":1408827238,"creation_date":1338141361,"answer_id":10776064,"question_id":10772329,"body_markdown":"I found a place where I can get the mapping in csv file. [check here.][1]  \r\n\r\nAlso, I changed it into a class that translate the country code into phone prefix. here it is:  \r\n\r\n        \r\n    public class Iso2Phone {\r\n    public static String getPhone(String code) {\r\n    \treturn country2phone.get(code.toUpperCase());\r\n    }\r\n    public static Map&lt;String, String&gt; getAll(){\r\n    \treturn country2phone;\r\n    }\r\n    private static Map&lt;String, String&gt; country2phone = new HashMap&lt;String, String&gt;();\r\n    static {\r\n    \tcountry2phone.put(&quot;AF&quot;, &quot;+93&quot;);\r\n    \tcountry2phone.put(&quot;AL&quot;, &quot;+355&quot;);\r\n    \tcountry2phone.put(&quot;DZ&quot;, &quot;+213&quot;);\r\n    \tcountry2phone.put(&quot;AD&quot;, &quot;+376&quot;);\r\n    \tcountry2phone.put(&quot;AO&quot;, &quot;+244&quot;);\r\n    \tcountry2phone.put(&quot;AG&quot;, &quot;+1-268&quot;);\r\n    \tcountry2phone.put(&quot;AR&quot;, &quot;+54&quot;);\r\n    \tcountry2phone.put(&quot;AM&quot;, &quot;+374&quot;);\r\n    \tcountry2phone.put(&quot;AU&quot;, &quot;+61&quot;);\r\n    \tcountry2phone.put(&quot;AT&quot;, &quot;+43&quot;);\r\n    \tcountry2phone.put(&quot;AZ&quot;, &quot;+994&quot;);\r\n    \tcountry2phone.put(&quot;BS&quot;, &quot;+1-242&quot;);\r\n    \tcountry2phone.put(&quot;BH&quot;, &quot;+973&quot;);\r\n    \tcountry2phone.put(&quot;BD&quot;, &quot;+880&quot;);\r\n    \tcountry2phone.put(&quot;BB&quot;, &quot;+1-246&quot;);\r\n    \tcountry2phone.put(&quot;BY&quot;, &quot;+375&quot;);\r\n    \tcountry2phone.put(&quot;BE&quot;, &quot;+32&quot;);\r\n    \tcountry2phone.put(&quot;BZ&quot;, &quot;+501&quot;);\r\n    \tcountry2phone.put(&quot;BJ&quot;, &quot;+229&quot;);\r\n    \tcountry2phone.put(&quot;BT&quot;, &quot;+975&quot;);\r\n    \tcountry2phone.put(&quot;BO&quot;, &quot;+591&quot;);\r\n    \tcountry2phone.put(&quot;BA&quot;, &quot;+387&quot;);\r\n    \tcountry2phone.put(&quot;BW&quot;, &quot;+267&quot;);\r\n    \tcountry2phone.put(&quot;BR&quot;, &quot;+55&quot;);\r\n    \tcountry2phone.put(&quot;BN&quot;, &quot;+673&quot;);\r\n    \tcountry2phone.put(&quot;BG&quot;, &quot;+359&quot;);\r\n    \tcountry2phone.put(&quot;BF&quot;, &quot;+226&quot;);\r\n    \tcountry2phone.put(&quot;BI&quot;, &quot;+257&quot;);\r\n    \tcountry2phone.put(&quot;KH&quot;, &quot;+855&quot;);\r\n    \tcountry2phone.put(&quot;CM&quot;, &quot;+237&quot;);\r\n    \tcountry2phone.put(&quot;CA&quot;, &quot;+1&quot;);\r\n    \tcountry2phone.put(&quot;CV&quot;, &quot;+238&quot;);\r\n    \tcountry2phone.put(&quot;CF&quot;, &quot;+236&quot;);\r\n    \tcountry2phone.put(&quot;TD&quot;, &quot;+235&quot;);\r\n    \tcountry2phone.put(&quot;CL&quot;, &quot;+56&quot;);\r\n    \tcountry2phone.put(&quot;CN&quot;, &quot;+86&quot;);\r\n    \tcountry2phone.put(&quot;CO&quot;, &quot;+57&quot;);\r\n    \tcountry2phone.put(&quot;KM&quot;, &quot;+269&quot;);\r\n    \tcountry2phone.put(&quot;CD&quot;, &quot;+243&quot;);\r\n    \tcountry2phone.put(&quot;CG&quot;, &quot;+242&quot;);\r\n    \tcountry2phone.put(&quot;CR&quot;, &quot;+506&quot;);\r\n    \tcountry2phone.put(&quot;CI&quot;, &quot;+225&quot;);\r\n    \tcountry2phone.put(&quot;HR&quot;, &quot;+385&quot;);\r\n    \tcountry2phone.put(&quot;CU&quot;, &quot;+53&quot;);\r\n    \tcountry2phone.put(&quot;CY&quot;, &quot;+357&quot;);\r\n    \tcountry2phone.put(&quot;CZ&quot;, &quot;+420&quot;);\r\n    \tcountry2phone.put(&quot;DK&quot;, &quot;+45&quot;);\r\n    \tcountry2phone.put(&quot;DJ&quot;, &quot;+253&quot;);\r\n    \tcountry2phone.put(&quot;DM&quot;, &quot;+1-767&quot;);\r\n    \tcountry2phone.put(&quot;DO&quot;, &quot;+1-809and1-829&quot;);\r\n    \tcountry2phone.put(&quot;EC&quot;, &quot;+593&quot;);\r\n    \tcountry2phone.put(&quot;EG&quot;, &quot;+20&quot;);\r\n    \tcountry2phone.put(&quot;SV&quot;, &quot;+503&quot;);\r\n    \tcountry2phone.put(&quot;GQ&quot;, &quot;+240&quot;);\r\n    \tcountry2phone.put(&quot;ER&quot;, &quot;+291&quot;);\r\n    \tcountry2phone.put(&quot;EE&quot;, &quot;+372&quot;);\r\n    \tcountry2phone.put(&quot;ET&quot;, &quot;+251&quot;);\r\n    \tcountry2phone.put(&quot;FJ&quot;, &quot;+679&quot;);\r\n    \tcountry2phone.put(&quot;FI&quot;, &quot;+358&quot;);\r\n    \tcountry2phone.put(&quot;FR&quot;, &quot;+33&quot;);\r\n    \tcountry2phone.put(&quot;GA&quot;, &quot;+241&quot;);\r\n    \tcountry2phone.put(&quot;GM&quot;, &quot;+220&quot;);\r\n    \tcountry2phone.put(&quot;GE&quot;, &quot;+995&quot;);\r\n    \tcountry2phone.put(&quot;DE&quot;, &quot;+49&quot;);\r\n    \tcountry2phone.put(&quot;GH&quot;, &quot;+233&quot;);\r\n    \tcountry2phone.put(&quot;GR&quot;, &quot;+30&quot;);\r\n    \tcountry2phone.put(&quot;GD&quot;, &quot;+1-473&quot;);\r\n    \tcountry2phone.put(&quot;GT&quot;, &quot;+502&quot;);\r\n    \tcountry2phone.put(&quot;GN&quot;, &quot;+224&quot;);\r\n    \tcountry2phone.put(&quot;GW&quot;, &quot;+245&quot;);\r\n    \tcountry2phone.put(&quot;GY&quot;, &quot;+592&quot;);\r\n    \tcountry2phone.put(&quot;HT&quot;, &quot;+509&quot;);\r\n    \tcountry2phone.put(&quot;HN&quot;, &quot;+504&quot;);\r\n    \tcountry2phone.put(&quot;HU&quot;, &quot;+36&quot;);\r\n    \tcountry2phone.put(&quot;IS&quot;, &quot;+354&quot;);\r\n    \tcountry2phone.put(&quot;IN&quot;, &quot;+91&quot;);\r\n    \tcountry2phone.put(&quot;ID&quot;, &quot;+62&quot;);\r\n    \tcountry2phone.put(&quot;IR&quot;, &quot;+98&quot;);\r\n    \tcountry2phone.put(&quot;IQ&quot;, &quot;+964&quot;);\r\n    \tcountry2phone.put(&quot;IE&quot;, &quot;+353&quot;);\r\n    \tcountry2phone.put(&quot;IL&quot;, &quot;+972&quot;);\r\n    \tcountry2phone.put(&quot;IT&quot;, &quot;+39&quot;);\r\n    \tcountry2phone.put(&quot;JM&quot;, &quot;+1-876&quot;);\r\n    \tcountry2phone.put(&quot;JP&quot;, &quot;+81&quot;);\r\n    \tcountry2phone.put(&quot;JO&quot;, &quot;+962&quot;);\r\n    \tcountry2phone.put(&quot;KZ&quot;, &quot;+7&quot;);\r\n    \tcountry2phone.put(&quot;KE&quot;, &quot;+254&quot;);\r\n    \tcountry2phone.put(&quot;KI&quot;, &quot;+686&quot;);\r\n    \tcountry2phone.put(&quot;KP&quot;, &quot;+850&quot;);\r\n    \tcountry2phone.put(&quot;KR&quot;, &quot;+82&quot;);\r\n    \tcountry2phone.put(&quot;KW&quot;, &quot;+965&quot;);\r\n    \tcountry2phone.put(&quot;KG&quot;, &quot;+996&quot;);\r\n    \tcountry2phone.put(&quot;LA&quot;, &quot;+856&quot;);\r\n    \tcountry2phone.put(&quot;LV&quot;, &quot;+371&quot;);\r\n    \tcountry2phone.put(&quot;LB&quot;, &quot;+961&quot;);\r\n    \tcountry2phone.put(&quot;LS&quot;, &quot;+266&quot;);\r\n    \tcountry2phone.put(&quot;LR&quot;, &quot;+231&quot;);\r\n    \tcountry2phone.put(&quot;LY&quot;, &quot;+218&quot;);\r\n    \tcountry2phone.put(&quot;LI&quot;, &quot;+423&quot;);\r\n    \tcountry2phone.put(&quot;LT&quot;, &quot;+370&quot;);\r\n    \tcountry2phone.put(&quot;LU&quot;, &quot;+352&quot;);\r\n    \tcountry2phone.put(&quot;MK&quot;, &quot;+389&quot;);\r\n    \tcountry2phone.put(&quot;MG&quot;, &quot;+261&quot;);\r\n    \tcountry2phone.put(&quot;MW&quot;, &quot;+265&quot;);\r\n    \tcountry2phone.put(&quot;MY&quot;, &quot;+60&quot;);\r\n    \tcountry2phone.put(&quot;MV&quot;, &quot;+960&quot;);\r\n    \tcountry2phone.put(&quot;ML&quot;, &quot;+223&quot;);\r\n    \tcountry2phone.put(&quot;MT&quot;, &quot;+356&quot;);\r\n    \tcountry2phone.put(&quot;MH&quot;, &quot;+692&quot;);\r\n    \tcountry2phone.put(&quot;MR&quot;, &quot;+222&quot;);\r\n    \tcountry2phone.put(&quot;MU&quot;, &quot;+230&quot;);\r\n    \tcountry2phone.put(&quot;MX&quot;, &quot;+52&quot;);\r\n    \tcountry2phone.put(&quot;FM&quot;, &quot;+691&quot;);\r\n    \tcountry2phone.put(&quot;MD&quot;, &quot;+373&quot;);\r\n    \tcountry2phone.put(&quot;MC&quot;, &quot;+377&quot;);\r\n    \tcountry2phone.put(&quot;MN&quot;, &quot;+976&quot;);\r\n    \tcountry2phone.put(&quot;ME&quot;, &quot;+382&quot;);\r\n    \tcountry2phone.put(&quot;MA&quot;, &quot;+212&quot;);\r\n    \tcountry2phone.put(&quot;MZ&quot;, &quot;+258&quot;);\r\n    \tcountry2phone.put(&quot;MM&quot;, &quot;+95&quot;);\r\n    \tcountry2phone.put(&quot;NA&quot;, &quot;+264&quot;);\r\n    \tcountry2phone.put(&quot;NR&quot;, &quot;+674&quot;);\r\n    \tcountry2phone.put(&quot;NP&quot;, &quot;+977&quot;);\r\n    \tcountry2phone.put(&quot;NL&quot;, &quot;+31&quot;);\r\n    \tcountry2phone.put(&quot;NZ&quot;, &quot;+64&quot;);\r\n    \tcountry2phone.put(&quot;NI&quot;, &quot;+505&quot;);\r\n    \tcountry2phone.put(&quot;NE&quot;, &quot;+227&quot;);\r\n    \tcountry2phone.put(&quot;NG&quot;, &quot;+234&quot;);\r\n    \tcountry2phone.put(&quot;NO&quot;, &quot;+47&quot;);\r\n    \tcountry2phone.put(&quot;OM&quot;, &quot;+968&quot;);\r\n    \tcountry2phone.put(&quot;PK&quot;, &quot;+92&quot;);\r\n    \tcountry2phone.put(&quot;PW&quot;, &quot;+680&quot;);\r\n    \tcountry2phone.put(&quot;PA&quot;, &quot;+507&quot;);\r\n    \tcountry2phone.put(&quot;PG&quot;, &quot;+675&quot;);\r\n    \tcountry2phone.put(&quot;PY&quot;, &quot;+595&quot;);\r\n    \tcountry2phone.put(&quot;PE&quot;, &quot;+51&quot;);\r\n    \tcountry2phone.put(&quot;PH&quot;, &quot;+63&quot;);\r\n    \tcountry2phone.put(&quot;PL&quot;, &quot;+48&quot;);\r\n    \tcountry2phone.put(&quot;PT&quot;, &quot;+351&quot;);\r\n    \tcountry2phone.put(&quot;QA&quot;, &quot;+974&quot;);\r\n    \tcountry2phone.put(&quot;RO&quot;, &quot;+40&quot;);\r\n    \tcountry2phone.put(&quot;RU&quot;, &quot;+7&quot;);\r\n    \tcountry2phone.put(&quot;RW&quot;, &quot;+250&quot;);\r\n    \tcountry2phone.put(&quot;KN&quot;, &quot;+1-869&quot;);\r\n    \tcountry2phone.put(&quot;LC&quot;, &quot;+1-758&quot;);\r\n    \tcountry2phone.put(&quot;VC&quot;, &quot;+1-784&quot;);\r\n    \tcountry2phone.put(&quot;WS&quot;, &quot;+685&quot;);\r\n    \tcountry2phone.put(&quot;SM&quot;, &quot;+378&quot;);\r\n    \tcountry2phone.put(&quot;ST&quot;, &quot;+239&quot;);\r\n    \tcountry2phone.put(&quot;SA&quot;, &quot;+966&quot;);\r\n    \tcountry2phone.put(&quot;SN&quot;, &quot;+221&quot;);\r\n    \tcountry2phone.put(&quot;RS&quot;, &quot;+381&quot;);\r\n    \tcountry2phone.put(&quot;SC&quot;, &quot;+248&quot;);\r\n    \tcountry2phone.put(&quot;SL&quot;, &quot;+232&quot;);\r\n    \tcountry2phone.put(&quot;SG&quot;, &quot;+65&quot;);\r\n    \tcountry2phone.put(&quot;SK&quot;, &quot;+421&quot;);\r\n    \tcountry2phone.put(&quot;SI&quot;, &quot;+386&quot;);\r\n    \tcountry2phone.put(&quot;SB&quot;, &quot;+677&quot;);\r\n    \tcountry2phone.put(&quot;SO&quot;, &quot;+252&quot;);\r\n    \tcountry2phone.put(&quot;ZA&quot;, &quot;+27&quot;);\r\n    \tcountry2phone.put(&quot;ES&quot;, &quot;+34&quot;);\r\n    \tcountry2phone.put(&quot;LK&quot;, &quot;+94&quot;);\r\n    \tcountry2phone.put(&quot;SD&quot;, &quot;+249&quot;);\r\n    \tcountry2phone.put(&quot;SR&quot;, &quot;+597&quot;);\r\n    \tcountry2phone.put(&quot;SZ&quot;, &quot;+268&quot;);\r\n    \tcountry2phone.put(&quot;SE&quot;, &quot;+46&quot;);\r\n    \tcountry2phone.put(&quot;CH&quot;, &quot;+41&quot;);\r\n    \tcountry2phone.put(&quot;SY&quot;, &quot;+963&quot;);\r\n    \tcountry2phone.put(&quot;TJ&quot;, &quot;+992&quot;);\r\n    \tcountry2phone.put(&quot;TZ&quot;, &quot;+255&quot;);\r\n    \tcountry2phone.put(&quot;TH&quot;, &quot;+66&quot;);\r\n    \tcountry2phone.put(&quot;TL&quot;, &quot;+670&quot;);\r\n    \tcountry2phone.put(&quot;TG&quot;, &quot;+228&quot;);\r\n    \tcountry2phone.put(&quot;TO&quot;, &quot;+676&quot;);\r\n    \tcountry2phone.put(&quot;TT&quot;, &quot;+1-868&quot;);\r\n    \tcountry2phone.put(&quot;TN&quot;, &quot;+216&quot;);\r\n    \tcountry2phone.put(&quot;TR&quot;, &quot;+90&quot;);\r\n    \tcountry2phone.put(&quot;TM&quot;, &quot;+993&quot;);\r\n    \tcountry2phone.put(&quot;TV&quot;, &quot;+688&quot;);\r\n    \tcountry2phone.put(&quot;UG&quot;, &quot;+256&quot;);\r\n    \tcountry2phone.put(&quot;UA&quot;, &quot;+380&quot;);\r\n    \tcountry2phone.put(&quot;AE&quot;, &quot;+971&quot;);\r\n    \tcountry2phone.put(&quot;GB&quot;, &quot;+44&quot;);\r\n    \tcountry2phone.put(&quot;US&quot;, &quot;+1&quot;);\r\n    \tcountry2phone.put(&quot;UY&quot;, &quot;+598&quot;);\r\n    \tcountry2phone.put(&quot;UZ&quot;, &quot;+998&quot;);\r\n    \tcountry2phone.put(&quot;VU&quot;, &quot;+678&quot;);\r\n    \tcountry2phone.put(&quot;VA&quot;, &quot;+379&quot;);\r\n    \tcountry2phone.put(&quot;VE&quot;, &quot;+58&quot;);\r\n    \tcountry2phone.put(&quot;VN&quot;, &quot;+84&quot;);\r\n    \tcountry2phone.put(&quot;YE&quot;, &quot;+967&quot;);\r\n    \tcountry2phone.put(&quot;ZM&quot;, &quot;+260&quot;);\r\n    \tcountry2phone.put(&quot;ZW&quot;, &quot;+263&quot;);\r\n    \tcountry2phone.put(&quot;GE&quot;, &quot;+995&quot;);\r\n    \tcountry2phone.put(&quot;TW&quot;, &quot;+886&quot;);\r\n    \tcountry2phone.put(&quot;AZ&quot;, &quot;+374-97&quot;);\r\n    \tcountry2phone.put(&quot;CY&quot;, &quot;+90-392&quot;);\r\n    \tcountry2phone.put(&quot;MD&quot;, &quot;+373-533&quot;);\r\n    \tcountry2phone.put(&quot;SO&quot;, &quot;+252&quot;);\r\n    \tcountry2phone.put(&quot;GE&quot;, &quot;+995&quot;);\r\n    \tcountry2phone.put(&quot;CX&quot;, &quot;+61&quot;);\r\n    \tcountry2phone.put(&quot;CC&quot;, &quot;+61&quot;);\r\n    \tcountry2phone.put(&quot;NF&quot;, &quot;+672&quot;);\r\n    \tcountry2phone.put(&quot;NC&quot;, &quot;+687&quot;);\r\n    \tcountry2phone.put(&quot;PF&quot;, &quot;+689&quot;);\r\n    \tcountry2phone.put(&quot;YT&quot;, &quot;+262&quot;);\r\n    \tcountry2phone.put(&quot;GP&quot;, &quot;+590&quot;);\r\n    \tcountry2phone.put(&quot;GP&quot;, &quot;+590&quot;);\r\n    \tcountry2phone.put(&quot;PM&quot;, &quot;+508&quot;);\r\n    \tcountry2phone.put(&quot;WF&quot;, &quot;+681&quot;);\r\n    \tcountry2phone.put(&quot;CK&quot;, &quot;+682&quot;);\r\n    \tcountry2phone.put(&quot;NU&quot;, &quot;+683&quot;);\r\n    \tcountry2phone.put(&quot;TK&quot;, &quot;+690&quot;);\r\n    \tcountry2phone.put(&quot;GG&quot;, &quot;+44&quot;);\r\n    \tcountry2phone.put(&quot;IM&quot;, &quot;+44&quot;);\r\n    \tcountry2phone.put(&quot;JE&quot;, &quot;+44&quot;);\r\n    \tcountry2phone.put(&quot;AI&quot;, &quot;+1-264&quot;);\r\n    \tcountry2phone.put(&quot;BM&quot;, &quot;+1-441&quot;);\r\n    \tcountry2phone.put(&quot;IO&quot;, &quot;+246&quot;);\r\n    \tcountry2phone.put(&quot;&quot;, &quot;+357&quot;);\r\n    \tcountry2phone.put(&quot;VG&quot;, &quot;+1-284&quot;);\r\n    \tcountry2phone.put(&quot;KY&quot;, &quot;+1-345&quot;);\r\n    \tcountry2phone.put(&quot;FK&quot;, &quot;+500&quot;);\r\n    \tcountry2phone.put(&quot;GI&quot;, &quot;+350&quot;);\r\n    \tcountry2phone.put(&quot;MS&quot;, &quot;+1-664&quot;);\r\n    \tcountry2phone.put(&quot;SH&quot;, &quot;+290&quot;);\r\n    \tcountry2phone.put(&quot;TC&quot;, &quot;+1-649&quot;);\r\n    \tcountry2phone.put(&quot;MP&quot;, &quot;+1-670&quot;);\r\n    \tcountry2phone.put(&quot;PR&quot;, &quot;+1-787and1-939&quot;);\r\n    \tcountry2phone.put(&quot;AS&quot;, &quot;+1-684&quot;);\r\n    \tcountry2phone.put(&quot;GU&quot;, &quot;+1-671&quot;);\r\n    \tcountry2phone.put(&quot;VI&quot;, &quot;+1-340&quot;);\r\n    \tcountry2phone.put(&quot;HK&quot;, &quot;+852&quot;);\r\n    \tcountry2phone.put(&quot;MO&quot;, &quot;+853&quot;);\r\n    \tcountry2phone.put(&quot;FO&quot;, &quot;+298&quot;);\r\n    \tcountry2phone.put(&quot;GL&quot;, &quot;+299&quot;);\r\n    \tcountry2phone.put(&quot;GF&quot;, &quot;+594&quot;);\r\n    \tcountry2phone.put(&quot;GP&quot;, &quot;+590&quot;);\r\n    \tcountry2phone.put(&quot;MQ&quot;, &quot;+596&quot;);\r\n    \tcountry2phone.put(&quot;RE&quot;, &quot;+262&quot;);\r\n    \tcountry2phone.put(&quot;AX&quot;, &quot;+358-18&quot;);\r\n    \tcountry2phone.put(&quot;AW&quot;, &quot;+297&quot;);\r\n    \tcountry2phone.put(&quot;AN&quot;, &quot;+599&quot;);\r\n    \tcountry2phone.put(&quot;SJ&quot;, &quot;+47&quot;);\r\n    \tcountry2phone.put(&quot;AC&quot;, &quot;+247&quot;);\r\n    \tcountry2phone.put(&quot;TA&quot;, &quot;+290&quot;);\r\n    \tcountry2phone.put(&quot;CS&quot;, &quot;+381&quot;);\r\n    \tcountry2phone.put(&quot;PS&quot;, &quot;+970&quot;);\r\n    \tcountry2phone.put(&quot;EH&quot;, &quot;+212&quot;);\r\n    }\r\n    }\r\n\r\n  [1]: http://www.andrewpatton.com/countrylist.html\r\n","title":"how to get country phone prefix from iso","body":"<p>I found a place where I can get the mapping in csv file. <a href=\"http://www.andrewpatton.com/countrylist.html\" rel=\"noreferrer\">check here.</a>  </p>\n\n<p>Also, I changed it into a class that translate the country code into phone prefix. here it is:  </p>\n\n<pre><code>public class Iso2Phone {\npublic static String getPhone(String code) {\n    return country2phone.get(code.toUpperCase());\n}\npublic static Map&lt;String, String&gt; getAll(){\n    return country2phone;\n}\nprivate static Map&lt;String, String&gt; country2phone = new HashMap&lt;String, String&gt;();\nstatic {\n    country2phone.put(\"AF\", \"+93\");\n    country2phone.put(\"AL\", \"+355\");\n    country2phone.put(\"DZ\", \"+213\");\n    country2phone.put(\"AD\", \"+376\");\n    country2phone.put(\"AO\", \"+244\");\n    country2phone.put(\"AG\", \"+1-268\");\n    country2phone.put(\"AR\", \"+54\");\n    country2phone.put(\"AM\", \"+374\");\n    country2phone.put(\"AU\", \"+61\");\n    country2phone.put(\"AT\", \"+43\");\n    country2phone.put(\"AZ\", \"+994\");\n    country2phone.put(\"BS\", \"+1-242\");\n    country2phone.put(\"BH\", \"+973\");\n    country2phone.put(\"BD\", \"+880\");\n    country2phone.put(\"BB\", \"+1-246\");\n    country2phone.put(\"BY\", \"+375\");\n    country2phone.put(\"BE\", \"+32\");\n    country2phone.put(\"BZ\", \"+501\");\n    country2phone.put(\"BJ\", \"+229\");\n    country2phone.put(\"BT\", \"+975\");\n    country2phone.put(\"BO\", \"+591\");\n    country2phone.put(\"BA\", \"+387\");\n    country2phone.put(\"BW\", \"+267\");\n    country2phone.put(\"BR\", \"+55\");\n    country2phone.put(\"BN\", \"+673\");\n    country2phone.put(\"BG\", \"+359\");\n    country2phone.put(\"BF\", \"+226\");\n    country2phone.put(\"BI\", \"+257\");\n    country2phone.put(\"KH\", \"+855\");\n    country2phone.put(\"CM\", \"+237\");\n    country2phone.put(\"CA\", \"+1\");\n    country2phone.put(\"CV\", \"+238\");\n    country2phone.put(\"CF\", \"+236\");\n    country2phone.put(\"TD\", \"+235\");\n    country2phone.put(\"CL\", \"+56\");\n    country2phone.put(\"CN\", \"+86\");\n    country2phone.put(\"CO\", \"+57\");\n    country2phone.put(\"KM\", \"+269\");\n    country2phone.put(\"CD\", \"+243\");\n    country2phone.put(\"CG\", \"+242\");\n    country2phone.put(\"CR\", \"+506\");\n    country2phone.put(\"CI\", \"+225\");\n    country2phone.put(\"HR\", \"+385\");\n    country2phone.put(\"CU\", \"+53\");\n    country2phone.put(\"CY\", \"+357\");\n    country2phone.put(\"CZ\", \"+420\");\n    country2phone.put(\"DK\", \"+45\");\n    country2phone.put(\"DJ\", \"+253\");\n    country2phone.put(\"DM\", \"+1-767\");\n    country2phone.put(\"DO\", \"+1-809and1-829\");\n    country2phone.put(\"EC\", \"+593\");\n    country2phone.put(\"EG\", \"+20\");\n    country2phone.put(\"SV\", \"+503\");\n    country2phone.put(\"GQ\", \"+240\");\n    country2phone.put(\"ER\", \"+291\");\n    country2phone.put(\"EE\", \"+372\");\n    country2phone.put(\"ET\", \"+251\");\n    country2phone.put(\"FJ\", \"+679\");\n    country2phone.put(\"FI\", \"+358\");\n    country2phone.put(\"FR\", \"+33\");\n    country2phone.put(\"GA\", \"+241\");\n    country2phone.put(\"GM\", \"+220\");\n    country2phone.put(\"GE\", \"+995\");\n    country2phone.put(\"DE\", \"+49\");\n    country2phone.put(\"GH\", \"+233\");\n    country2phone.put(\"GR\", \"+30\");\n    country2phone.put(\"GD\", \"+1-473\");\n    country2phone.put(\"GT\", \"+502\");\n    country2phone.put(\"GN\", \"+224\");\n    country2phone.put(\"GW\", \"+245\");\n    country2phone.put(\"GY\", \"+592\");\n    country2phone.put(\"HT\", \"+509\");\n    country2phone.put(\"HN\", \"+504\");\n    country2phone.put(\"HU\", \"+36\");\n    country2phone.put(\"IS\", \"+354\");\n    country2phone.put(\"IN\", \"+91\");\n    country2phone.put(\"ID\", \"+62\");\n    country2phone.put(\"IR\", \"+98\");\n    country2phone.put(\"IQ\", \"+964\");\n    country2phone.put(\"IE\", \"+353\");\n    country2phone.put(\"IL\", \"+972\");\n    country2phone.put(\"IT\", \"+39\");\n    country2phone.put(\"JM\", \"+1-876\");\n    country2phone.put(\"JP\", \"+81\");\n    country2phone.put(\"JO\", \"+962\");\n    country2phone.put(\"KZ\", \"+7\");\n    country2phone.put(\"KE\", \"+254\");\n    country2phone.put(\"KI\", \"+686\");\n    country2phone.put(\"KP\", \"+850\");\n    country2phone.put(\"KR\", \"+82\");\n    country2phone.put(\"KW\", \"+965\");\n    country2phone.put(\"KG\", \"+996\");\n    country2phone.put(\"LA\", \"+856\");\n    country2phone.put(\"LV\", \"+371\");\n    country2phone.put(\"LB\", \"+961\");\n    country2phone.put(\"LS\", \"+266\");\n    country2phone.put(\"LR\", \"+231\");\n    country2phone.put(\"LY\", \"+218\");\n    country2phone.put(\"LI\", \"+423\");\n    country2phone.put(\"LT\", \"+370\");\n    country2phone.put(\"LU\", \"+352\");\n    country2phone.put(\"MK\", \"+389\");\n    country2phone.put(\"MG\", \"+261\");\n    country2phone.put(\"MW\", \"+265\");\n    country2phone.put(\"MY\", \"+60\");\n    country2phone.put(\"MV\", \"+960\");\n    country2phone.put(\"ML\", \"+223\");\n    country2phone.put(\"MT\", \"+356\");\n    country2phone.put(\"MH\", \"+692\");\n    country2phone.put(\"MR\", \"+222\");\n    country2phone.put(\"MU\", \"+230\");\n    country2phone.put(\"MX\", \"+52\");\n    country2phone.put(\"FM\", \"+691\");\n    country2phone.put(\"MD\", \"+373\");\n    country2phone.put(\"MC\", \"+377\");\n    country2phone.put(\"MN\", \"+976\");\n    country2phone.put(\"ME\", \"+382\");\n    country2phone.put(\"MA\", \"+212\");\n    country2phone.put(\"MZ\", \"+258\");\n    country2phone.put(\"MM\", \"+95\");\n    country2phone.put(\"NA\", \"+264\");\n    country2phone.put(\"NR\", \"+674\");\n    country2phone.put(\"NP\", \"+977\");\n    country2phone.put(\"NL\", \"+31\");\n    country2phone.put(\"NZ\", \"+64\");\n    country2phone.put(\"NI\", \"+505\");\n    country2phone.put(\"NE\", \"+227\");\n    country2phone.put(\"NG\", \"+234\");\n    country2phone.put(\"NO\", \"+47\");\n    country2phone.put(\"OM\", \"+968\");\n    country2phone.put(\"PK\", \"+92\");\n    country2phone.put(\"PW\", \"+680\");\n    country2phone.put(\"PA\", \"+507\");\n    country2phone.put(\"PG\", \"+675\");\n    country2phone.put(\"PY\", \"+595\");\n    country2phone.put(\"PE\", \"+51\");\n    country2phone.put(\"PH\", \"+63\");\n    country2phone.put(\"PL\", \"+48\");\n    country2phone.put(\"PT\", \"+351\");\n    country2phone.put(\"QA\", \"+974\");\n    country2phone.put(\"RO\", \"+40\");\n    country2phone.put(\"RU\", \"+7\");\n    country2phone.put(\"RW\", \"+250\");\n    country2phone.put(\"KN\", \"+1-869\");\n    country2phone.put(\"LC\", \"+1-758\");\n    country2phone.put(\"VC\", \"+1-784\");\n    country2phone.put(\"WS\", \"+685\");\n    country2phone.put(\"SM\", \"+378\");\n    country2phone.put(\"ST\", \"+239\");\n    country2phone.put(\"SA\", \"+966\");\n    country2phone.put(\"SN\", \"+221\");\n    country2phone.put(\"RS\", \"+381\");\n    country2phone.put(\"SC\", \"+248\");\n    country2phone.put(\"SL\", \"+232\");\n    country2phone.put(\"SG\", \"+65\");\n    country2phone.put(\"SK\", \"+421\");\n    country2phone.put(\"SI\", \"+386\");\n    country2phone.put(\"SB\", \"+677\");\n    country2phone.put(\"SO\", \"+252\");\n    country2phone.put(\"ZA\", \"+27\");\n    country2phone.put(\"ES\", \"+34\");\n    country2phone.put(\"LK\", \"+94\");\n    country2phone.put(\"SD\", \"+249\");\n    country2phone.put(\"SR\", \"+597\");\n    country2phone.put(\"SZ\", \"+268\");\n    country2phone.put(\"SE\", \"+46\");\n    country2phone.put(\"CH\", \"+41\");\n    country2phone.put(\"SY\", \"+963\");\n    country2phone.put(\"TJ\", \"+992\");\n    country2phone.put(\"TZ\", \"+255\");\n    country2phone.put(\"TH\", \"+66\");\n    country2phone.put(\"TL\", \"+670\");\n    country2phone.put(\"TG\", \"+228\");\n    country2phone.put(\"TO\", \"+676\");\n    country2phone.put(\"TT\", \"+1-868\");\n    country2phone.put(\"TN\", \"+216\");\n    country2phone.put(\"TR\", \"+90\");\n    country2phone.put(\"TM\", \"+993\");\n    country2phone.put(\"TV\", \"+688\");\n    country2phone.put(\"UG\", \"+256\");\n    country2phone.put(\"UA\", \"+380\");\n    country2phone.put(\"AE\", \"+971\");\n    country2phone.put(\"GB\", \"+44\");\n    country2phone.put(\"US\", \"+1\");\n    country2phone.put(\"UY\", \"+598\");\n    country2phone.put(\"UZ\", \"+998\");\n    country2phone.put(\"VU\", \"+678\");\n    country2phone.put(\"VA\", \"+379\");\n    country2phone.put(\"VE\", \"+58\");\n    country2phone.put(\"VN\", \"+84\");\n    country2phone.put(\"YE\", \"+967\");\n    country2phone.put(\"ZM\", \"+260\");\n    country2phone.put(\"ZW\", \"+263\");\n    country2phone.put(\"GE\", \"+995\");\n    country2phone.put(\"TW\", \"+886\");\n    country2phone.put(\"AZ\", \"+374-97\");\n    country2phone.put(\"CY\", \"+90-392\");\n    country2phone.put(\"MD\", \"+373-533\");\n    country2phone.put(\"SO\", \"+252\");\n    country2phone.put(\"GE\", \"+995\");\n    country2phone.put(\"CX\", \"+61\");\n    country2phone.put(\"CC\", \"+61\");\n    country2phone.put(\"NF\", \"+672\");\n    country2phone.put(\"NC\", \"+687\");\n    country2phone.put(\"PF\", \"+689\");\n    country2phone.put(\"YT\", \"+262\");\n    country2phone.put(\"GP\", \"+590\");\n    country2phone.put(\"GP\", \"+590\");\n    country2phone.put(\"PM\", \"+508\");\n    country2phone.put(\"WF\", \"+681\");\n    country2phone.put(\"CK\", \"+682\");\n    country2phone.put(\"NU\", \"+683\");\n    country2phone.put(\"TK\", \"+690\");\n    country2phone.put(\"GG\", \"+44\");\n    country2phone.put(\"IM\", \"+44\");\n    country2phone.put(\"JE\", \"+44\");\n    country2phone.put(\"AI\", \"+1-264\");\n    country2phone.put(\"BM\", \"+1-441\");\n    country2phone.put(\"IO\", \"+246\");\n    country2phone.put(\"\", \"+357\");\n    country2phone.put(\"VG\", \"+1-284\");\n    country2phone.put(\"KY\", \"+1-345\");\n    country2phone.put(\"FK\", \"+500\");\n    country2phone.put(\"GI\", \"+350\");\n    country2phone.put(\"MS\", \"+1-664\");\n    country2phone.put(\"SH\", \"+290\");\n    country2phone.put(\"TC\", \"+1-649\");\n    country2phone.put(\"MP\", \"+1-670\");\n    country2phone.put(\"PR\", \"+1-787and1-939\");\n    country2phone.put(\"AS\", \"+1-684\");\n    country2phone.put(\"GU\", \"+1-671\");\n    country2phone.put(\"VI\", \"+1-340\");\n    country2phone.put(\"HK\", \"+852\");\n    country2phone.put(\"MO\", \"+853\");\n    country2phone.put(\"FO\", \"+298\");\n    country2phone.put(\"GL\", \"+299\");\n    country2phone.put(\"GF\", \"+594\");\n    country2phone.put(\"GP\", \"+590\");\n    country2phone.put(\"MQ\", \"+596\");\n    country2phone.put(\"RE\", \"+262\");\n    country2phone.put(\"AX\", \"+358-18\");\n    country2phone.put(\"AW\", \"+297\");\n    country2phone.put(\"AN\", \"+599\");\n    country2phone.put(\"SJ\", \"+47\");\n    country2phone.put(\"AC\", \"+247\");\n    country2phone.put(\"TA\", \"+290\");\n    country2phone.put(\"CS\", \"+381\");\n    country2phone.put(\"PS\", \"+970\");\n    country2phone.put(\"EH\", \"+212\");\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1408729788,"creation_date":1408729788,"answer_id":25452862,"question_id":10772329,"body_markdown":"Tidying up @oshai&#39;s answer\r\n\r\n    public class CountryToPhonePrefix {\r\n\r\n    private static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n    public String prefixFor(String iso2CountryCode) {\r\n        String result = map.get(iso2CountryCode);\r\n        if (result == null) {\r\n            throw new IllegalArgumentException(&quot;Unknown country code &quot; + iso2CountryCode);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static {\r\n        map.put(&quot;AC&quot;, &quot;+247&quot;);\r\n        map.put(&quot;AD&quot;, &quot;+376&quot;);\r\n        map.put(&quot;AE&quot;, &quot;+971&quot;);\r\n        map.put(&quot;AF&quot;, &quot;+93&quot;);\r\n        map.put(&quot;AG&quot;, &quot;+1-268&quot;);\r\n        map.put(&quot;AI&quot;, &quot;+1-264&quot;);\r\n        map.put(&quot;AL&quot;, &quot;+355&quot;);\r\n        map.put(&quot;AM&quot;, &quot;+374&quot;);\r\n        map.put(&quot;AN&quot;, &quot;+599&quot;);\r\n        map.put(&quot;AO&quot;, &quot;+244&quot;);\r\n        map.put(&quot;AR&quot;, &quot;+54&quot;);\r\n        map.put(&quot;AS&quot;, &quot;+1-684&quot;);\r\n        map.put(&quot;AT&quot;, &quot;+43&quot;);\r\n        map.put(&quot;AU&quot;, &quot;+61&quot;);\r\n        map.put(&quot;AW&quot;, &quot;+297&quot;);\r\n        map.put(&quot;AX&quot;, &quot;+358-18&quot;);\r\n        map.put(&quot;AZ&quot;, &quot;+374-97&quot;);\r\n        map.put(&quot;AZ&quot;, &quot;+994&quot;);\r\n        map.put(&quot;BA&quot;, &quot;+387&quot;);\r\n        map.put(&quot;BB&quot;, &quot;+1-246&quot;);\r\n        map.put(&quot;BD&quot;, &quot;+880&quot;);\r\n        map.put(&quot;BE&quot;, &quot;+32&quot;);\r\n        map.put(&quot;BF&quot;, &quot;+226&quot;);\r\n        map.put(&quot;BG&quot;, &quot;+359&quot;);\r\n        map.put(&quot;BH&quot;, &quot;+973&quot;);\r\n        map.put(&quot;BI&quot;, &quot;+257&quot;);\r\n        map.put(&quot;BJ&quot;, &quot;+229&quot;);\r\n        map.put(&quot;BM&quot;, &quot;+1-441&quot;);\r\n        map.put(&quot;BN&quot;, &quot;+673&quot;);\r\n        map.put(&quot;BO&quot;, &quot;+591&quot;);\r\n        map.put(&quot;BR&quot;, &quot;+55&quot;);\r\n        map.put(&quot;BS&quot;, &quot;+1-242&quot;);\r\n        map.put(&quot;BT&quot;, &quot;+975&quot;);\r\n        map.put(&quot;BW&quot;, &quot;+267&quot;);\r\n        map.put(&quot;BY&quot;, &quot;+375&quot;);\r\n        map.put(&quot;BZ&quot;, &quot;+501&quot;);\r\n        map.put(&quot;CA&quot;, &quot;+1&quot;);\r\n        map.put(&quot;CC&quot;, &quot;+61&quot;);\r\n        map.put(&quot;CD&quot;, &quot;+243&quot;);\r\n        map.put(&quot;CF&quot;, &quot;+236&quot;);\r\n        map.put(&quot;CG&quot;, &quot;+242&quot;);\r\n        map.put(&quot;CH&quot;, &quot;+41&quot;);\r\n        map.put(&quot;CI&quot;, &quot;+225&quot;);\r\n        map.put(&quot;CK&quot;, &quot;+682&quot;);\r\n        map.put(&quot;CL&quot;, &quot;+56&quot;);\r\n        map.put(&quot;CM&quot;, &quot;+237&quot;);\r\n        map.put(&quot;CN&quot;, &quot;+86&quot;);\r\n        map.put(&quot;CO&quot;, &quot;+57&quot;);\r\n        map.put(&quot;CR&quot;, &quot;+506&quot;);\r\n        map.put(&quot;CS&quot;, &quot;+381&quot;);\r\n        map.put(&quot;CU&quot;, &quot;+53&quot;);\r\n        map.put(&quot;CV&quot;, &quot;+238&quot;);\r\n        map.put(&quot;CX&quot;, &quot;+61&quot;);\r\n        map.put(&quot;CY&quot;, &quot;+90-392&quot;);\r\n        map.put(&quot;CY&quot;, &quot;+357&quot;);\r\n        map.put(&quot;CZ&quot;, &quot;+420&quot;);\r\n        map.put(&quot;DE&quot;, &quot;+49&quot;);\r\n        map.put(&quot;DJ&quot;, &quot;+253&quot;);\r\n        map.put(&quot;DK&quot;, &quot;+45&quot;);\r\n        map.put(&quot;DM&quot;, &quot;+1-767&quot;);\r\n        map.put(&quot;DO&quot;, &quot;+1-809&quot;); // and 1-829?\r\n        map.put(&quot;DZ&quot;, &quot;+213&quot;);\r\n        map.put(&quot;EC&quot;, &quot;+593&quot;);\r\n        map.put(&quot;EE&quot;, &quot;+372&quot;);\r\n        map.put(&quot;EG&quot;, &quot;+20&quot;);\r\n        map.put(&quot;EH&quot;, &quot;+212&quot;);\r\n        map.put(&quot;ER&quot;, &quot;+291&quot;);\r\n        map.put(&quot;ES&quot;, &quot;+34&quot;);\r\n        map.put(&quot;ET&quot;, &quot;+251&quot;);\r\n        map.put(&quot;FI&quot;, &quot;+358&quot;);\r\n        map.put(&quot;FJ&quot;, &quot;+679&quot;);\r\n        map.put(&quot;FK&quot;, &quot;+500&quot;);\r\n        map.put(&quot;FM&quot;, &quot;+691&quot;);\r\n        map.put(&quot;FO&quot;, &quot;+298&quot;);\r\n        map.put(&quot;FR&quot;, &quot;+33&quot;);\r\n        map.put(&quot;GA&quot;, &quot;+241&quot;);\r\n        map.put(&quot;GB&quot;, &quot;+44&quot;);\r\n        map.put(&quot;GD&quot;, &quot;+1-473&quot;);\r\n        map.put(&quot;GE&quot;, &quot;+995&quot;);\r\n        map.put(&quot;GF&quot;, &quot;+594&quot;);\r\n        map.put(&quot;GG&quot;, &quot;+44&quot;);\r\n        map.put(&quot;GH&quot;, &quot;+233&quot;);\r\n        map.put(&quot;GI&quot;, &quot;+350&quot;);\r\n        map.put(&quot;GL&quot;, &quot;+299&quot;);\r\n        map.put(&quot;GM&quot;, &quot;+220&quot;);\r\n        map.put(&quot;GN&quot;, &quot;+224&quot;);\r\n        map.put(&quot;GP&quot;, &quot;+590&quot;);\r\n        map.put(&quot;GQ&quot;, &quot;+240&quot;);\r\n        map.put(&quot;GR&quot;, &quot;+30&quot;);\r\n        map.put(&quot;GT&quot;, &quot;+502&quot;);\r\n        map.put(&quot;GU&quot;, &quot;+1-671&quot;);\r\n        map.put(&quot;GW&quot;, &quot;+245&quot;);\r\n        map.put(&quot;GY&quot;, &quot;+592&quot;);\r\n        map.put(&quot;HK&quot;, &quot;+852&quot;);\r\n        map.put(&quot;HN&quot;, &quot;+504&quot;);\r\n        map.put(&quot;HR&quot;, &quot;+385&quot;);\r\n        map.put(&quot;HT&quot;, &quot;+509&quot;);\r\n        map.put(&quot;HU&quot;, &quot;+36&quot;);\r\n        map.put(&quot;ID&quot;, &quot;+62&quot;);\r\n        map.put(&quot;IE&quot;, &quot;+353&quot;);\r\n        map.put(&quot;IL&quot;, &quot;+972&quot;);\r\n        map.put(&quot;IM&quot;, &quot;+44&quot;);\r\n        map.put(&quot;IN&quot;, &quot;+91&quot;);\r\n        map.put(&quot;IO&quot;, &quot;+246&quot;);\r\n        map.put(&quot;IQ&quot;, &quot;+964&quot;);\r\n        map.put(&quot;IR&quot;, &quot;+98&quot;);\r\n        map.put(&quot;IS&quot;, &quot;+354&quot;);\r\n        map.put(&quot;IT&quot;, &quot;+39&quot;);\r\n        map.put(&quot;JE&quot;, &quot;+44&quot;);\r\n        map.put(&quot;JM&quot;, &quot;+1-876&quot;);\r\n        map.put(&quot;JO&quot;, &quot;+962&quot;);\r\n        map.put(&quot;JP&quot;, &quot;+81&quot;);\r\n        map.put(&quot;KE&quot;, &quot;+254&quot;);\r\n        map.put(&quot;KG&quot;, &quot;+996&quot;);\r\n        map.put(&quot;KH&quot;, &quot;+855&quot;);\r\n        map.put(&quot;KI&quot;, &quot;+686&quot;);\r\n        map.put(&quot;KM&quot;, &quot;+269&quot;);\r\n        map.put(&quot;KN&quot;, &quot;+1-869&quot;);\r\n        map.put(&quot;KP&quot;, &quot;+850&quot;);\r\n        map.put(&quot;KR&quot;, &quot;+82&quot;);\r\n        map.put(&quot;KW&quot;, &quot;+965&quot;);\r\n        map.put(&quot;KY&quot;, &quot;+1-345&quot;);\r\n        map.put(&quot;KZ&quot;, &quot;+7&quot;);\r\n        map.put(&quot;LA&quot;, &quot;+856&quot;);\r\n        map.put(&quot;LB&quot;, &quot;+961&quot;);\r\n        map.put(&quot;LC&quot;, &quot;+1-758&quot;);\r\n        map.put(&quot;LI&quot;, &quot;+423&quot;);\r\n        map.put(&quot;LK&quot;, &quot;+94&quot;);\r\n        map.put(&quot;LR&quot;, &quot;+231&quot;);\r\n        map.put(&quot;LS&quot;, &quot;+266&quot;);\r\n        map.put(&quot;LT&quot;, &quot;+370&quot;);\r\n        map.put(&quot;LU&quot;, &quot;+352&quot;);\r\n        map.put(&quot;LV&quot;, &quot;+371&quot;);\r\n        map.put(&quot;LY&quot;, &quot;+218&quot;);\r\n        map.put(&quot;MA&quot;, &quot;+212&quot;);\r\n        map.put(&quot;MC&quot;, &quot;+377&quot;);\r\n        map.put(&quot;MD&quot;, &quot;+373-533&quot;);\r\n        map.put(&quot;MD&quot;, &quot;+373&quot;);\r\n        map.put(&quot;ME&quot;, &quot;+382&quot;);\r\n        map.put(&quot;MG&quot;, &quot;+261&quot;);\r\n        map.put(&quot;MH&quot;, &quot;+692&quot;);\r\n        map.put(&quot;MK&quot;, &quot;+389&quot;);\r\n        map.put(&quot;ML&quot;, &quot;+223&quot;);\r\n        map.put(&quot;MM&quot;, &quot;+95&quot;);\r\n        map.put(&quot;MN&quot;, &quot;+976&quot;);\r\n        map.put(&quot;MO&quot;, &quot;+853&quot;);\r\n        map.put(&quot;MP&quot;, &quot;+1-670&quot;);\r\n        map.put(&quot;MQ&quot;, &quot;+596&quot;);\r\n        map.put(&quot;MR&quot;, &quot;+222&quot;);\r\n        map.put(&quot;MS&quot;, &quot;+1-664&quot;);\r\n        map.put(&quot;MT&quot;, &quot;+356&quot;);\r\n        map.put(&quot;MU&quot;, &quot;+230&quot;);\r\n        map.put(&quot;MV&quot;, &quot;+960&quot;);\r\n        map.put(&quot;MW&quot;, &quot;+265&quot;);\r\n        map.put(&quot;MX&quot;, &quot;+52&quot;);\r\n        map.put(&quot;MY&quot;, &quot;+60&quot;);\r\n        map.put(&quot;MZ&quot;, &quot;+258&quot;);\r\n        map.put(&quot;NA&quot;, &quot;+264&quot;);\r\n        map.put(&quot;NC&quot;, &quot;+687&quot;);\r\n        map.put(&quot;NE&quot;, &quot;+227&quot;);\r\n        map.put(&quot;NF&quot;, &quot;+672&quot;);\r\n        map.put(&quot;NG&quot;, &quot;+234&quot;);\r\n        map.put(&quot;NI&quot;, &quot;+505&quot;);\r\n        map.put(&quot;NL&quot;, &quot;+31&quot;);\r\n        map.put(&quot;NO&quot;, &quot;+47&quot;);\r\n        map.put(&quot;NP&quot;, &quot;+977&quot;);\r\n        map.put(&quot;NR&quot;, &quot;+674&quot;);\r\n        map.put(&quot;NU&quot;, &quot;+683&quot;);\r\n        map.put(&quot;NZ&quot;, &quot;+64&quot;);\r\n        map.put(&quot;OM&quot;, &quot;+968&quot;);\r\n        map.put(&quot;PA&quot;, &quot;+507&quot;);\r\n        map.put(&quot;PE&quot;, &quot;+51&quot;);\r\n        map.put(&quot;PF&quot;, &quot;+689&quot;);\r\n        map.put(&quot;PG&quot;, &quot;+675&quot;);\r\n        map.put(&quot;PH&quot;, &quot;+63&quot;);\r\n        map.put(&quot;PK&quot;, &quot;+92&quot;);\r\n        map.put(&quot;PL&quot;, &quot;+48&quot;);\r\n        map.put(&quot;PM&quot;, &quot;+508&quot;);\r\n        map.put(&quot;PR&quot;, &quot;+1-787&quot;); // and 1-939 ?\r\n        map.put(&quot;PS&quot;, &quot;+970&quot;);\r\n        map.put(&quot;PT&quot;, &quot;+351&quot;);\r\n        map.put(&quot;PW&quot;, &quot;+680&quot;);\r\n        map.put(&quot;PY&quot;, &quot;+595&quot;);\r\n        map.put(&quot;QA&quot;, &quot;+974&quot;);\r\n        map.put(&quot;RE&quot;, &quot;+262&quot;);\r\n        map.put(&quot;RO&quot;, &quot;+40&quot;);\r\n        map.put(&quot;RS&quot;, &quot;+381&quot;);\r\n        map.put(&quot;RU&quot;, &quot;+7&quot;);\r\n        map.put(&quot;RW&quot;, &quot;+250&quot;);\r\n        map.put(&quot;SA&quot;, &quot;+966&quot;);\r\n        map.put(&quot;SB&quot;, &quot;+677&quot;);\r\n        map.put(&quot;SC&quot;, &quot;+248&quot;);\r\n        map.put(&quot;SD&quot;, &quot;+249&quot;);\r\n        map.put(&quot;SE&quot;, &quot;+46&quot;);\r\n        map.put(&quot;SG&quot;, &quot;+65&quot;);\r\n        map.put(&quot;SH&quot;, &quot;+290&quot;);\r\n        map.put(&quot;SI&quot;, &quot;+386&quot;);\r\n        map.put(&quot;SJ&quot;, &quot;+47&quot;);\r\n        map.put(&quot;SK&quot;, &quot;+421&quot;);\r\n        map.put(&quot;SL&quot;, &quot;+232&quot;);\r\n        map.put(&quot;SM&quot;, &quot;+378&quot;);\r\n        map.put(&quot;SN&quot;, &quot;+221&quot;);\r\n        map.put(&quot;SO&quot;, &quot;+252&quot;);\r\n        map.put(&quot;SO&quot;, &quot;+252&quot;);\r\n        map.put(&quot;SR&quot;, &quot;+597&quot;);\r\n        map.put(&quot;ST&quot;, &quot;+239&quot;);\r\n        map.put(&quot;SV&quot;, &quot;+503&quot;);\r\n        map.put(&quot;SY&quot;, &quot;+963&quot;);\r\n        map.put(&quot;SZ&quot;, &quot;+268&quot;);\r\n        map.put(&quot;TA&quot;, &quot;+290&quot;);\r\n        map.put(&quot;TC&quot;, &quot;+1-649&quot;);\r\n        map.put(&quot;TD&quot;, &quot;+235&quot;);\r\n        map.put(&quot;TG&quot;, &quot;+228&quot;);\r\n        map.put(&quot;TH&quot;, &quot;+66&quot;);\r\n        map.put(&quot;TJ&quot;, &quot;+992&quot;);\r\n        map.put(&quot;TK&quot;, &quot;+690&quot;);\r\n        map.put(&quot;TL&quot;, &quot;+670&quot;);\r\n        map.put(&quot;TM&quot;, &quot;+993&quot;);\r\n        map.put(&quot;TN&quot;, &quot;+216&quot;);\r\n        map.put(&quot;TO&quot;, &quot;+676&quot;);\r\n        map.put(&quot;TR&quot;, &quot;+90&quot;);\r\n        map.put(&quot;TT&quot;, &quot;+1-868&quot;);\r\n        map.put(&quot;TV&quot;, &quot;+688&quot;);\r\n        map.put(&quot;TW&quot;, &quot;+886&quot;);\r\n        map.put(&quot;TZ&quot;, &quot;+255&quot;);\r\n        map.put(&quot;UA&quot;, &quot;+380&quot;);\r\n        map.put(&quot;UG&quot;, &quot;+256&quot;);\r\n        map.put(&quot;US&quot;, &quot;+1&quot;);\r\n        map.put(&quot;UY&quot;, &quot;+598&quot;);\r\n        map.put(&quot;UZ&quot;, &quot;+998&quot;);\r\n        map.put(&quot;VA&quot;, &quot;+379&quot;);\r\n        map.put(&quot;VC&quot;, &quot;+1-784&quot;);\r\n        map.put(&quot;VE&quot;, &quot;+58&quot;);\r\n        map.put(&quot;VG&quot;, &quot;+1-284&quot;);\r\n        map.put(&quot;VI&quot;, &quot;+1-340&quot;);\r\n        map.put(&quot;VN&quot;, &quot;+84&quot;);\r\n        map.put(&quot;VU&quot;, &quot;+678&quot;);\r\n        map.put(&quot;WF&quot;, &quot;+681&quot;);\r\n        map.put(&quot;WS&quot;, &quot;+685&quot;);\r\n        map.put(&quot;YE&quot;, &quot;+967&quot;);\r\n        map.put(&quot;YT&quot;, &quot;+262&quot;);\r\n        map.put(&quot;ZA&quot;, &quot;+27&quot;);\r\n        map.put(&quot;ZM&quot;, &quot;+260&quot;);\r\n        map.put(&quot;ZW&quot;, &quot;+263&quot;);\r\n    }}\r\n","title":"how to get country phone prefix from iso","body":"<p>Tidying up @oshai's answer</p>\n\n<pre><code>public class CountryToPhonePrefix {\n\nprivate static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\npublic String prefixFor(String iso2CountryCode) {\n    String result = map.get(iso2CountryCode);\n    if (result == null) {\n        throw new IllegalArgumentException(\"Unknown country code \" + iso2CountryCode);\n    }\n    return result;\n}\n\nstatic {\n    map.put(\"AC\", \"+247\");\n    map.put(\"AD\", \"+376\");\n    map.put(\"AE\", \"+971\");\n    map.put(\"AF\", \"+93\");\n    map.put(\"AG\", \"+1-268\");\n    map.put(\"AI\", \"+1-264\");\n    map.put(\"AL\", \"+355\");\n    map.put(\"AM\", \"+374\");\n    map.put(\"AN\", \"+599\");\n    map.put(\"AO\", \"+244\");\n    map.put(\"AR\", \"+54\");\n    map.put(\"AS\", \"+1-684\");\n    map.put(\"AT\", \"+43\");\n    map.put(\"AU\", \"+61\");\n    map.put(\"AW\", \"+297\");\n    map.put(\"AX\", \"+358-18\");\n    map.put(\"AZ\", \"+374-97\");\n    map.put(\"AZ\", \"+994\");\n    map.put(\"BA\", \"+387\");\n    map.put(\"BB\", \"+1-246\");\n    map.put(\"BD\", \"+880\");\n    map.put(\"BE\", \"+32\");\n    map.put(\"BF\", \"+226\");\n    map.put(\"BG\", \"+359\");\n    map.put(\"BH\", \"+973\");\n    map.put(\"BI\", \"+257\");\n    map.put(\"BJ\", \"+229\");\n    map.put(\"BM\", \"+1-441\");\n    map.put(\"BN\", \"+673\");\n    map.put(\"BO\", \"+591\");\n    map.put(\"BR\", \"+55\");\n    map.put(\"BS\", \"+1-242\");\n    map.put(\"BT\", \"+975\");\n    map.put(\"BW\", \"+267\");\n    map.put(\"BY\", \"+375\");\n    map.put(\"BZ\", \"+501\");\n    map.put(\"CA\", \"+1\");\n    map.put(\"CC\", \"+61\");\n    map.put(\"CD\", \"+243\");\n    map.put(\"CF\", \"+236\");\n    map.put(\"CG\", \"+242\");\n    map.put(\"CH\", \"+41\");\n    map.put(\"CI\", \"+225\");\n    map.put(\"CK\", \"+682\");\n    map.put(\"CL\", \"+56\");\n    map.put(\"CM\", \"+237\");\n    map.put(\"CN\", \"+86\");\n    map.put(\"CO\", \"+57\");\n    map.put(\"CR\", \"+506\");\n    map.put(\"CS\", \"+381\");\n    map.put(\"CU\", \"+53\");\n    map.put(\"CV\", \"+238\");\n    map.put(\"CX\", \"+61\");\n    map.put(\"CY\", \"+90-392\");\n    map.put(\"CY\", \"+357\");\n    map.put(\"CZ\", \"+420\");\n    map.put(\"DE\", \"+49\");\n    map.put(\"DJ\", \"+253\");\n    map.put(\"DK\", \"+45\");\n    map.put(\"DM\", \"+1-767\");\n    map.put(\"DO\", \"+1-809\"); // and 1-829?\n    map.put(\"DZ\", \"+213\");\n    map.put(\"EC\", \"+593\");\n    map.put(\"EE\", \"+372\");\n    map.put(\"EG\", \"+20\");\n    map.put(\"EH\", \"+212\");\n    map.put(\"ER\", \"+291\");\n    map.put(\"ES\", \"+34\");\n    map.put(\"ET\", \"+251\");\n    map.put(\"FI\", \"+358\");\n    map.put(\"FJ\", \"+679\");\n    map.put(\"FK\", \"+500\");\n    map.put(\"FM\", \"+691\");\n    map.put(\"FO\", \"+298\");\n    map.put(\"FR\", \"+33\");\n    map.put(\"GA\", \"+241\");\n    map.put(\"GB\", \"+44\");\n    map.put(\"GD\", \"+1-473\");\n    map.put(\"GE\", \"+995\");\n    map.put(\"GF\", \"+594\");\n    map.put(\"GG\", \"+44\");\n    map.put(\"GH\", \"+233\");\n    map.put(\"GI\", \"+350\");\n    map.put(\"GL\", \"+299\");\n    map.put(\"GM\", \"+220\");\n    map.put(\"GN\", \"+224\");\n    map.put(\"GP\", \"+590\");\n    map.put(\"GQ\", \"+240\");\n    map.put(\"GR\", \"+30\");\n    map.put(\"GT\", \"+502\");\n    map.put(\"GU\", \"+1-671\");\n    map.put(\"GW\", \"+245\");\n    map.put(\"GY\", \"+592\");\n    map.put(\"HK\", \"+852\");\n    map.put(\"HN\", \"+504\");\n    map.put(\"HR\", \"+385\");\n    map.put(\"HT\", \"+509\");\n    map.put(\"HU\", \"+36\");\n    map.put(\"ID\", \"+62\");\n    map.put(\"IE\", \"+353\");\n    map.put(\"IL\", \"+972\");\n    map.put(\"IM\", \"+44\");\n    map.put(\"IN\", \"+91\");\n    map.put(\"IO\", \"+246\");\n    map.put(\"IQ\", \"+964\");\n    map.put(\"IR\", \"+98\");\n    map.put(\"IS\", \"+354\");\n    map.put(\"IT\", \"+39\");\n    map.put(\"JE\", \"+44\");\n    map.put(\"JM\", \"+1-876\");\n    map.put(\"JO\", \"+962\");\n    map.put(\"JP\", \"+81\");\n    map.put(\"KE\", \"+254\");\n    map.put(\"KG\", \"+996\");\n    map.put(\"KH\", \"+855\");\n    map.put(\"KI\", \"+686\");\n    map.put(\"KM\", \"+269\");\n    map.put(\"KN\", \"+1-869\");\n    map.put(\"KP\", \"+850\");\n    map.put(\"KR\", \"+82\");\n    map.put(\"KW\", \"+965\");\n    map.put(\"KY\", \"+1-345\");\n    map.put(\"KZ\", \"+7\");\n    map.put(\"LA\", \"+856\");\n    map.put(\"LB\", \"+961\");\n    map.put(\"LC\", \"+1-758\");\n    map.put(\"LI\", \"+423\");\n    map.put(\"LK\", \"+94\");\n    map.put(\"LR\", \"+231\");\n    map.put(\"LS\", \"+266\");\n    map.put(\"LT\", \"+370\");\n    map.put(\"LU\", \"+352\");\n    map.put(\"LV\", \"+371\");\n    map.put(\"LY\", \"+218\");\n    map.put(\"MA\", \"+212\");\n    map.put(\"MC\", \"+377\");\n    map.put(\"MD\", \"+373-533\");\n    map.put(\"MD\", \"+373\");\n    map.put(\"ME\", \"+382\");\n    map.put(\"MG\", \"+261\");\n    map.put(\"MH\", \"+692\");\n    map.put(\"MK\", \"+389\");\n    map.put(\"ML\", \"+223\");\n    map.put(\"MM\", \"+95\");\n    map.put(\"MN\", \"+976\");\n    map.put(\"MO\", \"+853\");\n    map.put(\"MP\", \"+1-670\");\n    map.put(\"MQ\", \"+596\");\n    map.put(\"MR\", \"+222\");\n    map.put(\"MS\", \"+1-664\");\n    map.put(\"MT\", \"+356\");\n    map.put(\"MU\", \"+230\");\n    map.put(\"MV\", \"+960\");\n    map.put(\"MW\", \"+265\");\n    map.put(\"MX\", \"+52\");\n    map.put(\"MY\", \"+60\");\n    map.put(\"MZ\", \"+258\");\n    map.put(\"NA\", \"+264\");\n    map.put(\"NC\", \"+687\");\n    map.put(\"NE\", \"+227\");\n    map.put(\"NF\", \"+672\");\n    map.put(\"NG\", \"+234\");\n    map.put(\"NI\", \"+505\");\n    map.put(\"NL\", \"+31\");\n    map.put(\"NO\", \"+47\");\n    map.put(\"NP\", \"+977\");\n    map.put(\"NR\", \"+674\");\n    map.put(\"NU\", \"+683\");\n    map.put(\"NZ\", \"+64\");\n    map.put(\"OM\", \"+968\");\n    map.put(\"PA\", \"+507\");\n    map.put(\"PE\", \"+51\");\n    map.put(\"PF\", \"+689\");\n    map.put(\"PG\", \"+675\");\n    map.put(\"PH\", \"+63\");\n    map.put(\"PK\", \"+92\");\n    map.put(\"PL\", \"+48\");\n    map.put(\"PM\", \"+508\");\n    map.put(\"PR\", \"+1-787\"); // and 1-939 ?\n    map.put(\"PS\", \"+970\");\n    map.put(\"PT\", \"+351\");\n    map.put(\"PW\", \"+680\");\n    map.put(\"PY\", \"+595\");\n    map.put(\"QA\", \"+974\");\n    map.put(\"RE\", \"+262\");\n    map.put(\"RO\", \"+40\");\n    map.put(\"RS\", \"+381\");\n    map.put(\"RU\", \"+7\");\n    map.put(\"RW\", \"+250\");\n    map.put(\"SA\", \"+966\");\n    map.put(\"SB\", \"+677\");\n    map.put(\"SC\", \"+248\");\n    map.put(\"SD\", \"+249\");\n    map.put(\"SE\", \"+46\");\n    map.put(\"SG\", \"+65\");\n    map.put(\"SH\", \"+290\");\n    map.put(\"SI\", \"+386\");\n    map.put(\"SJ\", \"+47\");\n    map.put(\"SK\", \"+421\");\n    map.put(\"SL\", \"+232\");\n    map.put(\"SM\", \"+378\");\n    map.put(\"SN\", \"+221\");\n    map.put(\"SO\", \"+252\");\n    map.put(\"SO\", \"+252\");\n    map.put(\"SR\", \"+597\");\n    map.put(\"ST\", \"+239\");\n    map.put(\"SV\", \"+503\");\n    map.put(\"SY\", \"+963\");\n    map.put(\"SZ\", \"+268\");\n    map.put(\"TA\", \"+290\");\n    map.put(\"TC\", \"+1-649\");\n    map.put(\"TD\", \"+235\");\n    map.put(\"TG\", \"+228\");\n    map.put(\"TH\", \"+66\");\n    map.put(\"TJ\", \"+992\");\n    map.put(\"TK\", \"+690\");\n    map.put(\"TL\", \"+670\");\n    map.put(\"TM\", \"+993\");\n    map.put(\"TN\", \"+216\");\n    map.put(\"TO\", \"+676\");\n    map.put(\"TR\", \"+90\");\n    map.put(\"TT\", \"+1-868\");\n    map.put(\"TV\", \"+688\");\n    map.put(\"TW\", \"+886\");\n    map.put(\"TZ\", \"+255\");\n    map.put(\"UA\", \"+380\");\n    map.put(\"UG\", \"+256\");\n    map.put(\"US\", \"+1\");\n    map.put(\"UY\", \"+598\");\n    map.put(\"UZ\", \"+998\");\n    map.put(\"VA\", \"+379\");\n    map.put(\"VC\", \"+1-784\");\n    map.put(\"VE\", \"+58\");\n    map.put(\"VG\", \"+1-284\");\n    map.put(\"VI\", \"+1-340\");\n    map.put(\"VN\", \"+84\");\n    map.put(\"VU\", \"+678\");\n    map.put(\"WF\", \"+681\");\n    map.put(\"WS\", \"+685\");\n    map.put(\"YE\", \"+967\");\n    map.put(\"YT\", \"+262\");\n    map.put(\"ZA\", \"+27\");\n    map.put(\"ZM\", \"+260\");\n    map.put(\"ZW\", \"+263\");\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416053,"reputation":389,"user_id":791225,"display_name":"Shane Murphy"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1554352866,"creation_date":1455097793,"answer_id":35311732,"question_id":10772329,"body_markdown":"You could use the library called [libphonenumber][1] available on Github, made by Google developers. For example you can get the prefix using:\r\n\r\n    PhoneNumberUtil.getInstance().getCountryCodeForRegion(&quot;DE&quot;);\r\n\r\nIt also has a lot of useful functions to parse phone numbers.\r\n\r\n\r\n[1]: https://github.com/googlei18n/libphonenumber","title":"how to get country phone prefix from iso","body":"<p>You could use the library called <a href=\"https://github.com/googlei18n/libphonenumber\" rel=\"noreferrer\">libphonenumber</a> available on Github, made by Google developers. For example you can get the prefix using:</p>\n\n<pre><code>PhoneNumberUtil.getInstance().getCountryCodeForRegion(\"DE\");\n</code></pre>\n\n<p>It also has a lot of useful functions to parse phone numbers.</p>\n"},{"tags":[],"owner":{"account_id":14958640,"reputation":71,"user_id":10799050,"display_name":"J Rom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685536527,"creation_date":1685536527,"answer_id":76373550,"question_id":10772329,"body_markdown":"I&#39;ve simplified @oshai answer in Kotlin and added a few missing countries:\r\n\r\n    class CountryToPhonePrefix {\r\n\r\n    fun prefixFor(iso2CountryCode: String): String {\r\n        return prefixMap[iso2CountryCode]\r\n            ?: throw IllegalArgumentException(&quot;Unknown country code $iso2CountryCode&quot;)\r\n    }\r\n\r\n    private val prefixMap: Map&lt;String, String&gt; = mapOf(\r\n        &quot;AC&quot; to &quot;+247&quot;,\r\n        &quot;AD&quot; to &quot;+376&quot;,\r\n        &quot;AE&quot; to &quot;+971&quot;,\r\n        &quot;AF&quot; to &quot;+93&quot;,\r\n        &quot;AG&quot; to &quot;+1-268&quot;,\r\n        &quot;AI&quot; to &quot;+1-264&quot;,\r\n        &quot;AL&quot; to &quot;+355&quot;,\r\n        &quot;AM&quot; to &quot;+374&quot;,\r\n        &quot;AN&quot; to &quot;+599&quot;,\r\n        &quot;AO&quot; to &quot;+244&quot;,\r\n        &quot;AQ&quot; to &quot;+672&quot;,\r\n        &quot;AR&quot; to &quot;+54&quot;,\r\n        &quot;AS&quot; to &quot;+1-684&quot;,\r\n        &quot;AT&quot; to &quot;+43&quot;,\r\n        &quot;AU&quot; to &quot;+61&quot;,\r\n        &quot;AW&quot; to &quot;+297&quot;,\r\n        &quot;AX&quot; to &quot;+358-18&quot;,\r\n        &quot;AZ&quot; to &quot;+374-97&quot;,\r\n        &quot;BA&quot; to &quot;+387&quot;,\r\n        &quot;BB&quot; to &quot;+1-246&quot;,\r\n        &quot;BD&quot; to &quot;+880&quot;,\r\n        &quot;BE&quot; to &quot;+32&quot;,\r\n        &quot;BF&quot; to &quot;+226&quot;,\r\n        &quot;BG&quot; to &quot;+359&quot;,\r\n        &quot;BH&quot; to &quot;+973&quot;,\r\n        &quot;BI&quot; to &quot;+257&quot;,\r\n        &quot;BJ&quot; to &quot;+229&quot;,\r\n        &quot;BM&quot; to &quot;+1-441&quot;,\r\n        &quot;BN&quot; to &quot;+673&quot;,\r\n        &quot;BL&quot; to &quot;+590&quot;,\r\n        &quot;BO&quot; to &quot;+591&quot;,\r\n        &quot;BQ&quot; to &quot;+599&quot;,\r\n        &quot;BR&quot; to &quot;+55&quot;,\r\n        &quot;BS&quot; to &quot;+1-242&quot;,\r\n        &quot;BT&quot; to &quot;+975&quot;,\r\n        &quot;BW&quot; to &quot;+267&quot;,\r\n        &quot;BV&quot; to &quot;+47&quot;,\r\n        &quot;BY&quot; to &quot;+375&quot;,\r\n        &quot;BZ&quot; to &quot;+501&quot;,\r\n        &quot;CA&quot; to &quot;+1&quot;,\r\n        &quot;CC&quot; to &quot;+61&quot;,\r\n        &quot;CD&quot; to &quot;+243&quot;,\r\n        &quot;CF&quot; to &quot;+236&quot;,\r\n        &quot;CG&quot; to &quot;+242&quot;,\r\n        &quot;CH&quot; to &quot;+41&quot;,\r\n        &quot;CI&quot; to &quot;+225&quot;,\r\n        &quot;CK&quot; to &quot;+682&quot;,\r\n        &quot;CL&quot; to &quot;+56&quot;,\r\n        &quot;CM&quot; to &quot;+237&quot;,\r\n        &quot;CN&quot; to &quot;+86&quot;,\r\n        &quot;CO&quot; to &quot;+57&quot;,\r\n        &quot;CR&quot; to &quot;+506&quot;,\r\n        &quot;CS&quot; to &quot;+381&quot;,\r\n        &quot;CU&quot; to &quot;+53&quot;,\r\n        &quot;CV&quot; to &quot;+238&quot;,\r\n        &quot;CW&quot; to &quot;+599&quot;,\r\n        &quot;CX&quot; to &quot;+61&quot;,\r\n        &quot;CY&quot; to &quot;+90-392&quot;,\r\n        &quot;CZ&quot; to &quot;+420&quot;,\r\n        &quot;DE&quot; to &quot;+49&quot;,\r\n        &quot;DJ&quot; to &quot;+253&quot;,\r\n        &quot;DK&quot; to &quot;+45&quot;,\r\n        &quot;DM&quot; to &quot;+1-767&quot;,\r\n        &quot;DO&quot; to &quot;+1-809&quot;,\r\n        &quot;DZ&quot; to &quot;+213&quot;,\r\n        &quot;EC&quot; to &quot;+593&quot;,\r\n        &quot;EE&quot; to &quot;+372&quot;,\r\n        &quot;EG&quot; to &quot;+20&quot;,\r\n        &quot;EH&quot; to &quot;+212&quot;,\r\n        &quot;ER&quot; to &quot;+291&quot;,\r\n        &quot;ES&quot; to &quot;+34&quot;,\r\n        &quot;ET&quot; to &quot;+251&quot;,\r\n        &quot;FI&quot; to &quot;+358&quot;,\r\n        &quot;FJ&quot; to &quot;+679&quot;,\r\n        &quot;FK&quot; to &quot;+500&quot;,\r\n        &quot;FM&quot; to &quot;+691&quot;,\r\n        &quot;FO&quot; to &quot;+298&quot;,\r\n        &quot;FR&quot; to &quot;+33&quot;,\r\n        &quot;GA&quot; to &quot;+241&quot;,\r\n        &quot;GB&quot; to &quot;+44&quot;,\r\n        &quot;GD&quot; to &quot;+1-473&quot;,\r\n        &quot;GE&quot; to &quot;+995&quot;,\r\n        &quot;GF&quot; to &quot;+594&quot;,\r\n        &quot;GG&quot; to &quot;+44&quot;,\r\n        &quot;GH&quot; to &quot;+233&quot;,\r\n        &quot;GI&quot; to &quot;+350&quot;,\r\n        &quot;GL&quot; to &quot;+299&quot;,\r\n        &quot;GM&quot; to &quot;+220&quot;,\r\n        &quot;GN&quot; to &quot;+224&quot;,\r\n        &quot;GP&quot; to &quot;+590&quot;,\r\n        &quot;GQ&quot; to &quot;+240&quot;,\r\n        &quot;GR&quot; to &quot;+30&quot;,\r\n        &quot;GS&quot; to &quot;+500&quot;,\r\n        &quot;GT&quot; to &quot;+502&quot;,\r\n        &quot;GU&quot; to &quot;+1-671&quot;,\r\n        &quot;GW&quot; to &quot;+245&quot;,\r\n        &quot;GY&quot; to &quot;+592&quot;,\r\n        &quot;HK&quot; to &quot;+852&quot;,\r\n        &quot;HN&quot; to &quot;+504&quot;,\r\n        &quot;HR&quot; to &quot;+385&quot;,\r\n        &quot;HT&quot; to &quot;+509&quot;,\r\n        &quot;HU&quot; to &quot;+36&quot;,\r\n        &quot;ID&quot; to &quot;+62&quot;,\r\n        &quot;IE&quot; to &quot;+353&quot;,\r\n        &quot;IL&quot; to &quot;+972&quot;,\r\n        &quot;IM&quot; to &quot;+44&quot;,\r\n        &quot;IN&quot; to &quot;+91&quot;,\r\n        &quot;IO&quot; to &quot;+246&quot;,\r\n        &quot;IQ&quot; to &quot;+964&quot;,\r\n        &quot;IR&quot; to &quot;+98&quot;,\r\n        &quot;IS&quot; to &quot;+354&quot;,\r\n        &quot;IT&quot; to &quot;+39&quot;,\r\n        &quot;JE&quot; to &quot;+44&quot;,\r\n        &quot;JM&quot; to &quot;+1-876&quot;,\r\n        &quot;JO&quot; to &quot;+962&quot;,\r\n        &quot;JP&quot; to &quot;+81&quot;,\r\n        &quot;KE&quot; to &quot;+254&quot;,\r\n        &quot;KG&quot; to &quot;+996&quot;,\r\n        &quot;KH&quot; to &quot;+855&quot;,\r\n        &quot;KI&quot; to &quot;+686&quot;,\r\n        &quot;KM&quot; to &quot;+269&quot;,\r\n        &quot;KN&quot; to &quot;+1-869&quot;,\r\n        &quot;KP&quot; to &quot;+850&quot;,\r\n        &quot;KR&quot; to &quot;+82&quot;,\r\n        &quot;KW&quot; to &quot;+965&quot;,\r\n        &quot;KY&quot; to &quot;+1-345&quot;,\r\n        &quot;KZ&quot; to &quot;+7&quot;,\r\n        &quot;LA&quot; to &quot;+856&quot;,\r\n        &quot;LB&quot; to &quot;+961&quot;,\r\n        &quot;LC&quot; to &quot;+1-758&quot;,\r\n        &quot;LI&quot; to &quot;+423&quot;,\r\n        &quot;LK&quot; to &quot;+94&quot;,\r\n        &quot;LR&quot; to &quot;+231&quot;,\r\n        &quot;LS&quot; to &quot;+266&quot;,\r\n        &quot;LT&quot; to &quot;+370&quot;,\r\n        &quot;LU&quot; to &quot;+352&quot;,\r\n        &quot;LV&quot; to &quot;+371&quot;,\r\n        &quot;LY&quot; to &quot;+218&quot;,\r\n        &quot;MA&quot; to &quot;+212&quot;,\r\n        &quot;MC&quot; to &quot;+377&quot;,\r\n        &quot;MD&quot; to &quot;+373-533&quot;,\r\n        &quot;ME&quot; to &quot;+382&quot;,\r\n        &quot;MF&quot; to &quot;+590&quot;,\r\n        &quot;MG&quot; to &quot;+261&quot;,\r\n        &quot;MH&quot; to &quot;+692&quot;,\r\n        &quot;MK&quot; to &quot;+389&quot;,\r\n        &quot;ML&quot; to &quot;+223&quot;,\r\n        &quot;MM&quot; to &quot;+95&quot;,\r\n        &quot;MN&quot; to &quot;+976&quot;,\r\n        &quot;MO&quot; to &quot;+853&quot;,\r\n        &quot;MP&quot; to &quot;+1-670&quot;,\r\n        &quot;MQ&quot; to &quot;+596&quot;,\r\n        &quot;MR&quot; to &quot;+222&quot;,\r\n        &quot;MS&quot; to &quot;+1-664&quot;,\r\n        &quot;MT&quot; to &quot;+356&quot;,\r\n        &quot;MU&quot; to &quot;+230&quot;,\r\n        &quot;MV&quot; to &quot;+960&quot;,\r\n        &quot;MW&quot; to &quot;+265&quot;,\r\n        &quot;MX&quot; to &quot;+52&quot;,\r\n        &quot;MY&quot; to &quot;+60&quot;,\r\n        &quot;MZ&quot; to &quot;+258&quot;,\r\n        &quot;NA&quot; to &quot;+264&quot;,\r\n        &quot;NC&quot; to &quot;+687&quot;,\r\n        &quot;NE&quot; to &quot;+227&quot;,\r\n        &quot;NF&quot; to &quot;+672&quot;,\r\n        &quot;NG&quot; to &quot;+234&quot;,\r\n        &quot;NI&quot; to &quot;+505&quot;,\r\n        &quot;NL&quot; to &quot;+31&quot;,\r\n        &quot;NO&quot; to &quot;+47&quot;,\r\n        &quot;NP&quot; to &quot;+977&quot;,\r\n        &quot;NR&quot; to &quot;+674&quot;,\r\n        &quot;NU&quot; to &quot;+683&quot;,\r\n        &quot;NZ&quot; to &quot;+64&quot;,\r\n        &quot;OM&quot; to &quot;+968&quot;,\r\n        &quot;PA&quot; to &quot;+507&quot;,\r\n        &quot;PE&quot; to &quot;+51&quot;,\r\n        &quot;PF&quot; to &quot;+689&quot;,\r\n        &quot;PG&quot; to &quot;+675&quot;,\r\n        &quot;PH&quot; to &quot;+63&quot;,\r\n        &quot;PK&quot; to &quot;+92&quot;,\r\n        &quot;PL&quot; to &quot;+48&quot;,\r\n        &quot;PM&quot; to &quot;+508&quot;,\r\n        &quot;PR&quot; to &quot;+1-787&quot;,\r\n        &quot;PS&quot; to &quot;+970&quot;,\r\n        &quot;PT&quot; to &quot;+351&quot;,\r\n        &quot;PW&quot; to &quot;+680&quot;,\r\n        &quot;PY&quot; to &quot;+595&quot;,\r\n        &quot;QA&quot; to &quot;+974&quot;,\r\n        &quot;RE&quot; to &quot;+262&quot;,\r\n        &quot;RO&quot; to &quot;+40&quot;,\r\n        &quot;RS&quot; to &quot;+381&quot;,\r\n        &quot;RU&quot; to &quot;+7&quot;,\r\n        &quot;RW&quot; to &quot;+250&quot;,\r\n        &quot;SA&quot; to &quot;+966&quot;,\r\n        &quot;SB&quot; to &quot;+677&quot;,\r\n        &quot;SC&quot; to &quot;+248&quot;,\r\n        &quot;SD&quot; to &quot;+249&quot;,\r\n        &quot;SE&quot; to &quot;+46&quot;,\r\n        &quot;SG&quot; to &quot;+65&quot;,\r\n        &quot;SH&quot; to &quot;+290&quot;,\r\n        &quot;SI&quot; to &quot;+386&quot;,\r\n        &quot;SJ&quot; to &quot;+47&quot;,\r\n        &quot;SK&quot; to &quot;+421&quot;,\r\n        &quot;SL&quot; to &quot;+232&quot;,\r\n        &quot;SM&quot; to &quot;+378&quot;,\r\n        &quot;SN&quot; to &quot;+221&quot;,\r\n        &quot;SO&quot; to &quot;+252&quot;,\r\n        &quot;SR&quot; to &quot;+597&quot;,\r\n        &quot;SS&quot; to &quot;+211&quot;,\r\n        &quot;ST&quot; to &quot;+239&quot;,\r\n        &quot;SV&quot; to &quot;+503&quot;,\r\n        &quot;SX&quot; to &quot;+721&quot;,\r\n        &quot;SY&quot; to &quot;+963&quot;,\r\n        &quot;SZ&quot; to &quot;+268&quot;,\r\n        &quot;TA&quot; to &quot;+290&quot;,\r\n        &quot;TC&quot; to &quot;+1-649&quot;,\r\n        &quot;TD&quot; to &quot;+235&quot;,\r\n        &quot;TG&quot; to &quot;+228&quot;,\r\n        &quot;TH&quot; to &quot;+66&quot;,\r\n        &quot;TJ&quot; to &quot;+992&quot;,\r\n        &quot;TK&quot; to &quot;+690&quot;,\r\n        &quot;TL&quot; to &quot;+670&quot;,\r\n        &quot;TM&quot; to &quot;+993&quot;,\r\n        &quot;TN&quot; to &quot;+216&quot;,\r\n        &quot;TO&quot; to &quot;+676&quot;,\r\n        &quot;TR&quot; to &quot;+90&quot;,\r\n        &quot;TT&quot; to &quot;+1-868&quot;,\r\n        &quot;TV&quot; to &quot;+688&quot;,\r\n        &quot;TW&quot; to &quot;+886&quot;,\r\n        &quot;TZ&quot; to &quot;+255&quot;,\r\n        &quot;UA&quot; to &quot;+380&quot;,\r\n        &quot;UG&quot; to &quot;+256&quot;,\r\n        &quot;US&quot; to &quot;+1&quot;,\r\n        &quot;UY&quot; to &quot;+598&quot;,\r\n        &quot;UZ&quot; to &quot;+998&quot;,\r\n        &quot;VA&quot; to &quot;+379&quot;,\r\n        &quot;VC&quot; to &quot;+1-784&quot;,\r\n        &quot;VE&quot; to &quot;+58&quot;,\r\n        &quot;VG&quot; to &quot;+1-284&quot;,\r\n        &quot;VI&quot; to &quot;+1-340&quot;,\r\n        &quot;VN&quot; to &quot;+84&quot;,\r\n        &quot;VU&quot; to &quot;+678&quot;,\r\n        &quot;WF&quot; to &quot;+681&quot;,\r\n        &quot;WS&quot; to &quot;+685&quot;,\r\n        &quot;YE&quot; to &quot;+967&quot;,\r\n        &quot;YT&quot; to &quot;+262&quot;,\r\n        &quot;ZA&quot; to &quot;+27&quot;,\r\n        &quot;ZM&quot; to &quot;+260&quot;,\r\n        &quot;ZW&quot; to &quot;+263&quot;\r\n    )\r\n}\r\n","title":"how to get country phone prefix from iso","body":"<p>I've simplified @oshai answer in Kotlin and added a few missing countries:</p>\n<pre><code>class CountryToPhonePrefix {\n\nfun prefixFor(iso2CountryCode: String): String {\n    return prefixMap[iso2CountryCode]\n        ?: throw IllegalArgumentException(&quot;Unknown country code $iso2CountryCode&quot;)\n}\n\nprivate val prefixMap: Map&lt;String, String&gt; = mapOf(\n    &quot;AC&quot; to &quot;+247&quot;,\n    &quot;AD&quot; to &quot;+376&quot;,\n    &quot;AE&quot; to &quot;+971&quot;,\n    &quot;AF&quot; to &quot;+93&quot;,\n    &quot;AG&quot; to &quot;+1-268&quot;,\n    &quot;AI&quot; to &quot;+1-264&quot;,\n    &quot;AL&quot; to &quot;+355&quot;,\n    &quot;AM&quot; to &quot;+374&quot;,\n    &quot;AN&quot; to &quot;+599&quot;,\n    &quot;AO&quot; to &quot;+244&quot;,\n    &quot;AQ&quot; to &quot;+672&quot;,\n    &quot;AR&quot; to &quot;+54&quot;,\n    &quot;AS&quot; to &quot;+1-684&quot;,\n    &quot;AT&quot; to &quot;+43&quot;,\n    &quot;AU&quot; to &quot;+61&quot;,\n    &quot;AW&quot; to &quot;+297&quot;,\n    &quot;AX&quot; to &quot;+358-18&quot;,\n    &quot;AZ&quot; to &quot;+374-97&quot;,\n    &quot;BA&quot; to &quot;+387&quot;,\n    &quot;BB&quot; to &quot;+1-246&quot;,\n    &quot;BD&quot; to &quot;+880&quot;,\n    &quot;BE&quot; to &quot;+32&quot;,\n    &quot;BF&quot; to &quot;+226&quot;,\n    &quot;BG&quot; to &quot;+359&quot;,\n    &quot;BH&quot; to &quot;+973&quot;,\n    &quot;BI&quot; to &quot;+257&quot;,\n    &quot;BJ&quot; to &quot;+229&quot;,\n    &quot;BM&quot; to &quot;+1-441&quot;,\n    &quot;BN&quot; to &quot;+673&quot;,\n    &quot;BL&quot; to &quot;+590&quot;,\n    &quot;BO&quot; to &quot;+591&quot;,\n    &quot;BQ&quot; to &quot;+599&quot;,\n    &quot;BR&quot; to &quot;+55&quot;,\n    &quot;BS&quot; to &quot;+1-242&quot;,\n    &quot;BT&quot; to &quot;+975&quot;,\n    &quot;BW&quot; to &quot;+267&quot;,\n    &quot;BV&quot; to &quot;+47&quot;,\n    &quot;BY&quot; to &quot;+375&quot;,\n    &quot;BZ&quot; to &quot;+501&quot;,\n    &quot;CA&quot; to &quot;+1&quot;,\n    &quot;CC&quot; to &quot;+61&quot;,\n    &quot;CD&quot; to &quot;+243&quot;,\n    &quot;CF&quot; to &quot;+236&quot;,\n    &quot;CG&quot; to &quot;+242&quot;,\n    &quot;CH&quot; to &quot;+41&quot;,\n    &quot;CI&quot; to &quot;+225&quot;,\n    &quot;CK&quot; to &quot;+682&quot;,\n    &quot;CL&quot; to &quot;+56&quot;,\n    &quot;CM&quot; to &quot;+237&quot;,\n    &quot;CN&quot; to &quot;+86&quot;,\n    &quot;CO&quot; to &quot;+57&quot;,\n    &quot;CR&quot; to &quot;+506&quot;,\n    &quot;CS&quot; to &quot;+381&quot;,\n    &quot;CU&quot; to &quot;+53&quot;,\n    &quot;CV&quot; to &quot;+238&quot;,\n    &quot;CW&quot; to &quot;+599&quot;,\n    &quot;CX&quot; to &quot;+61&quot;,\n    &quot;CY&quot; to &quot;+90-392&quot;,\n    &quot;CZ&quot; to &quot;+420&quot;,\n    &quot;DE&quot; to &quot;+49&quot;,\n    &quot;DJ&quot; to &quot;+253&quot;,\n    &quot;DK&quot; to &quot;+45&quot;,\n    &quot;DM&quot; to &quot;+1-767&quot;,\n    &quot;DO&quot; to &quot;+1-809&quot;,\n    &quot;DZ&quot; to &quot;+213&quot;,\n    &quot;EC&quot; to &quot;+593&quot;,\n    &quot;EE&quot; to &quot;+372&quot;,\n    &quot;EG&quot; to &quot;+20&quot;,\n    &quot;EH&quot; to &quot;+212&quot;,\n    &quot;ER&quot; to &quot;+291&quot;,\n    &quot;ES&quot; to &quot;+34&quot;,\n    &quot;ET&quot; to &quot;+251&quot;,\n    &quot;FI&quot; to &quot;+358&quot;,\n    &quot;FJ&quot; to &quot;+679&quot;,\n    &quot;FK&quot; to &quot;+500&quot;,\n    &quot;FM&quot; to &quot;+691&quot;,\n    &quot;FO&quot; to &quot;+298&quot;,\n    &quot;FR&quot; to &quot;+33&quot;,\n    &quot;GA&quot; to &quot;+241&quot;,\n    &quot;GB&quot; to &quot;+44&quot;,\n    &quot;GD&quot; to &quot;+1-473&quot;,\n    &quot;GE&quot; to &quot;+995&quot;,\n    &quot;GF&quot; to &quot;+594&quot;,\n    &quot;GG&quot; to &quot;+44&quot;,\n    &quot;GH&quot; to &quot;+233&quot;,\n    &quot;GI&quot; to &quot;+350&quot;,\n    &quot;GL&quot; to &quot;+299&quot;,\n    &quot;GM&quot; to &quot;+220&quot;,\n    &quot;GN&quot; to &quot;+224&quot;,\n    &quot;GP&quot; to &quot;+590&quot;,\n    &quot;GQ&quot; to &quot;+240&quot;,\n    &quot;GR&quot; to &quot;+30&quot;,\n    &quot;GS&quot; to &quot;+500&quot;,\n    &quot;GT&quot; to &quot;+502&quot;,\n    &quot;GU&quot; to &quot;+1-671&quot;,\n    &quot;GW&quot; to &quot;+245&quot;,\n    &quot;GY&quot; to &quot;+592&quot;,\n    &quot;HK&quot; to &quot;+852&quot;,\n    &quot;HN&quot; to &quot;+504&quot;,\n    &quot;HR&quot; to &quot;+385&quot;,\n    &quot;HT&quot; to &quot;+509&quot;,\n    &quot;HU&quot; to &quot;+36&quot;,\n    &quot;ID&quot; to &quot;+62&quot;,\n    &quot;IE&quot; to &quot;+353&quot;,\n    &quot;IL&quot; to &quot;+972&quot;,\n    &quot;IM&quot; to &quot;+44&quot;,\n    &quot;IN&quot; to &quot;+91&quot;,\n    &quot;IO&quot; to &quot;+246&quot;,\n    &quot;IQ&quot; to &quot;+964&quot;,\n    &quot;IR&quot; to &quot;+98&quot;,\n    &quot;IS&quot; to &quot;+354&quot;,\n    &quot;IT&quot; to &quot;+39&quot;,\n    &quot;JE&quot; to &quot;+44&quot;,\n    &quot;JM&quot; to &quot;+1-876&quot;,\n    &quot;JO&quot; to &quot;+962&quot;,\n    &quot;JP&quot; to &quot;+81&quot;,\n    &quot;KE&quot; to &quot;+254&quot;,\n    &quot;KG&quot; to &quot;+996&quot;,\n    &quot;KH&quot; to &quot;+855&quot;,\n    &quot;KI&quot; to &quot;+686&quot;,\n    &quot;KM&quot; to &quot;+269&quot;,\n    &quot;KN&quot; to &quot;+1-869&quot;,\n    &quot;KP&quot; to &quot;+850&quot;,\n    &quot;KR&quot; to &quot;+82&quot;,\n    &quot;KW&quot; to &quot;+965&quot;,\n    &quot;KY&quot; to &quot;+1-345&quot;,\n    &quot;KZ&quot; to &quot;+7&quot;,\n    &quot;LA&quot; to &quot;+856&quot;,\n    &quot;LB&quot; to &quot;+961&quot;,\n    &quot;LC&quot; to &quot;+1-758&quot;,\n    &quot;LI&quot; to &quot;+423&quot;,\n    &quot;LK&quot; to &quot;+94&quot;,\n    &quot;LR&quot; to &quot;+231&quot;,\n    &quot;LS&quot; to &quot;+266&quot;,\n    &quot;LT&quot; to &quot;+370&quot;,\n    &quot;LU&quot; to &quot;+352&quot;,\n    &quot;LV&quot; to &quot;+371&quot;,\n    &quot;LY&quot; to &quot;+218&quot;,\n    &quot;MA&quot; to &quot;+212&quot;,\n    &quot;MC&quot; to &quot;+377&quot;,\n    &quot;MD&quot; to &quot;+373-533&quot;,\n    &quot;ME&quot; to &quot;+382&quot;,\n    &quot;MF&quot; to &quot;+590&quot;,\n    &quot;MG&quot; to &quot;+261&quot;,\n    &quot;MH&quot; to &quot;+692&quot;,\n    &quot;MK&quot; to &quot;+389&quot;,\n    &quot;ML&quot; to &quot;+223&quot;,\n    &quot;MM&quot; to &quot;+95&quot;,\n    &quot;MN&quot; to &quot;+976&quot;,\n    &quot;MO&quot; to &quot;+853&quot;,\n    &quot;MP&quot; to &quot;+1-670&quot;,\n    &quot;MQ&quot; to &quot;+596&quot;,\n    &quot;MR&quot; to &quot;+222&quot;,\n    &quot;MS&quot; to &quot;+1-664&quot;,\n    &quot;MT&quot; to &quot;+356&quot;,\n    &quot;MU&quot; to &quot;+230&quot;,\n    &quot;MV&quot; to &quot;+960&quot;,\n    &quot;MW&quot; to &quot;+265&quot;,\n    &quot;MX&quot; to &quot;+52&quot;,\n    &quot;MY&quot; to &quot;+60&quot;,\n    &quot;MZ&quot; to &quot;+258&quot;,\n    &quot;NA&quot; to &quot;+264&quot;,\n    &quot;NC&quot; to &quot;+687&quot;,\n    &quot;NE&quot; to &quot;+227&quot;,\n    &quot;NF&quot; to &quot;+672&quot;,\n    &quot;NG&quot; to &quot;+234&quot;,\n    &quot;NI&quot; to &quot;+505&quot;,\n    &quot;NL&quot; to &quot;+31&quot;,\n    &quot;NO&quot; to &quot;+47&quot;,\n    &quot;NP&quot; to &quot;+977&quot;,\n    &quot;NR&quot; to &quot;+674&quot;,\n    &quot;NU&quot; to &quot;+683&quot;,\n    &quot;NZ&quot; to &quot;+64&quot;,\n    &quot;OM&quot; to &quot;+968&quot;,\n    &quot;PA&quot; to &quot;+507&quot;,\n    &quot;PE&quot; to &quot;+51&quot;,\n    &quot;PF&quot; to &quot;+689&quot;,\n    &quot;PG&quot; to &quot;+675&quot;,\n    &quot;PH&quot; to &quot;+63&quot;,\n    &quot;PK&quot; to &quot;+92&quot;,\n    &quot;PL&quot; to &quot;+48&quot;,\n    &quot;PM&quot; to &quot;+508&quot;,\n    &quot;PR&quot; to &quot;+1-787&quot;,\n    &quot;PS&quot; to &quot;+970&quot;,\n    &quot;PT&quot; to &quot;+351&quot;,\n    &quot;PW&quot; to &quot;+680&quot;,\n    &quot;PY&quot; to &quot;+595&quot;,\n    &quot;QA&quot; to &quot;+974&quot;,\n    &quot;RE&quot; to &quot;+262&quot;,\n    &quot;RO&quot; to &quot;+40&quot;,\n    &quot;RS&quot; to &quot;+381&quot;,\n    &quot;RU&quot; to &quot;+7&quot;,\n    &quot;RW&quot; to &quot;+250&quot;,\n    &quot;SA&quot; to &quot;+966&quot;,\n    &quot;SB&quot; to &quot;+677&quot;,\n    &quot;SC&quot; to &quot;+248&quot;,\n    &quot;SD&quot; to &quot;+249&quot;,\n    &quot;SE&quot; to &quot;+46&quot;,\n    &quot;SG&quot; to &quot;+65&quot;,\n    &quot;SH&quot; to &quot;+290&quot;,\n    &quot;SI&quot; to &quot;+386&quot;,\n    &quot;SJ&quot; to &quot;+47&quot;,\n    &quot;SK&quot; to &quot;+421&quot;,\n    &quot;SL&quot; to &quot;+232&quot;,\n    &quot;SM&quot; to &quot;+378&quot;,\n    &quot;SN&quot; to &quot;+221&quot;,\n    &quot;SO&quot; to &quot;+252&quot;,\n    &quot;SR&quot; to &quot;+597&quot;,\n    &quot;SS&quot; to &quot;+211&quot;,\n    &quot;ST&quot; to &quot;+239&quot;,\n    &quot;SV&quot; to &quot;+503&quot;,\n    &quot;SX&quot; to &quot;+721&quot;,\n    &quot;SY&quot; to &quot;+963&quot;,\n    &quot;SZ&quot; to &quot;+268&quot;,\n    &quot;TA&quot; to &quot;+290&quot;,\n    &quot;TC&quot; to &quot;+1-649&quot;,\n    &quot;TD&quot; to &quot;+235&quot;,\n    &quot;TG&quot; to &quot;+228&quot;,\n    &quot;TH&quot; to &quot;+66&quot;,\n    &quot;TJ&quot; to &quot;+992&quot;,\n    &quot;TK&quot; to &quot;+690&quot;,\n    &quot;TL&quot; to &quot;+670&quot;,\n    &quot;TM&quot; to &quot;+993&quot;,\n    &quot;TN&quot; to &quot;+216&quot;,\n    &quot;TO&quot; to &quot;+676&quot;,\n    &quot;TR&quot; to &quot;+90&quot;,\n    &quot;TT&quot; to &quot;+1-868&quot;,\n    &quot;TV&quot; to &quot;+688&quot;,\n    &quot;TW&quot; to &quot;+886&quot;,\n    &quot;TZ&quot; to &quot;+255&quot;,\n    &quot;UA&quot; to &quot;+380&quot;,\n    &quot;UG&quot; to &quot;+256&quot;,\n    &quot;US&quot; to &quot;+1&quot;,\n    &quot;UY&quot; to &quot;+598&quot;,\n    &quot;UZ&quot; to &quot;+998&quot;,\n    &quot;VA&quot; to &quot;+379&quot;,\n    &quot;VC&quot; to &quot;+1-784&quot;,\n    &quot;VE&quot; to &quot;+58&quot;,\n    &quot;VG&quot; to &quot;+1-284&quot;,\n    &quot;VI&quot; to &quot;+1-340&quot;,\n    &quot;VN&quot; to &quot;+84&quot;,\n    &quot;VU&quot; to &quot;+678&quot;,\n    &quot;WF&quot; to &quot;+681&quot;,\n    &quot;WS&quot; to &quot;+685&quot;,\n    &quot;YE&quot; to &quot;+967&quot;,\n    &quot;YT&quot; to &quot;+262&quot;,\n    &quot;ZA&quot; to &quot;+27&quot;,\n    &quot;ZM&quot; to &quot;+260&quot;,\n    &quot;ZW&quot; to &quot;+263&quot;\n)\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36394,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10776064,"answer_count":5,"score":14,"last_activity_date":1685536527,"creation_date":1338103333,"question_id":10772329,"body_markdown":"I got the country iso by the code from this [answer][1]:  \r\n\r\n    TelephonyManager tm = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);\r\n    String countryCode = tm.getSimCountryIso();   \r\n\r\nhow can I get the prefix phone number for country?   \r\nfor example +972 for il.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3659809/where-am-i-get-country","title":"how to get country phone prefix from iso","body":"<p>I got the country iso by the code from this <a href=\"https://stackoverflow.com/questions/3659809/where-am-i-get-country\">answer</a>:  </p>\n\n<pre><code>TelephonyManager tm = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);\nString countryCode = tm.getSimCountryIso();   \n</code></pre>\n\n<p>how can I get the prefix phone number for country?<br>\nfor example +972 for il.</p>\n"},{"tags":["java","maven","maven-3"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685516428,"post_id":76370646,"comment_id":134669224,"body_markdown":"according to your configs you are deploying to `busy-libs-release-local` and trying to download from `busy-libs-release`, that seems to be a root cause.","body":"according to your configs you are deploying to <code>busy-libs-release-local</code> and trying to download from <code>busy-libs-release</code>, that seems to be a root cause."},{"owner":{"account_id":243616,"reputation":9537,"user_id":515922,"accept_rate":89,"display_name":"Aravind A"},"score":0,"creation_date":1685534716,"post_id":76370646,"comment_id":134673051,"body_markdown":"@AndreyB.Panfilov, Thank you but busy-libs-release is a virtual repo that reflects the contents of busy-libs-release-local. I can&#39;t write to busy-libs-release (get a 405). Hence I write to busy-libs-release-local and read from busy-libs-release. I can see the file in the virtual repo and curl but maven cannot find it for some reason. Also, I just tried reading directly from release-local and got the same error - Could not find artifact org.xyzCompany:test-parent:pom:0.0.1 in central (https://hidden.jfrog.io/artifactory/busy-libs-release-local) although the pom&#39;s in there.","body":"@AndreyB.Panfilov, Thank you but busy-libs-release is a virtual repo that reflects the contents of busy-libs-release-local. I can&#39;t write to busy-libs-release (get a 405). Hence I write to busy-libs-release-local and read from busy-libs-release. I can see the file in the virtual repo and curl but maven cannot find it for some reason. Also, I just tried reading directly from release-local and got the same error - Could not find artifact org.xyzCompany:test-parent:pom:0.0.1 in central (<a href=\"https://hidden.jfrog.io/artifactory/busy-libs-release-local\" rel=\"nofollow noreferrer\">hidden.jfrog.io/artifactory/busy-libs-release-local</a>) although the pom&#39;s in there."},{"owner":{"account_id":243616,"reputation":9537,"user_id":515922,"accept_rate":89,"display_name":"Aravind A"},"score":0,"creation_date":1685536459,"post_id":76370646,"comment_id":134673530,"body_markdown":"Looks like issue was caused by &quot;Hide Existence of Unauthorized Resources&quot; and needs an additional configuration to use preemptive auth. Answer below. Thanks.","body":"Looks like issue was caused by &quot;Hide Existence of Unauthorized Resources&quot; and needs an additional configuration to use preemptive auth. Answer below. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":243616,"reputation":9537,"user_id":515922,"accept_rate":89,"display_name":"Aravind A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685536311,"creation_date":1685536311,"answer_id":76373523,"question_id":76370646,"body_markdown":"The issue was resolved by\r\n\r\nhttps://stackoverflow.com/questions/43396013/artifactory-file-not-found-by-maven-if-anonymous-access-is-allowed\r\n\r\nUsing pre-emptive authentication seems to have resolved the issue\r\n\r\n           &lt;server&gt;\r\n              &lt;configuration&gt;\r\n    \t\t\t&lt;httpConfiguration&gt;\r\n    \t\t\t  &lt;all&gt;\r\n    \t\t\t\t&lt;usePreemptive&gt;true&lt;/usePreemptive&gt;\r\n    \t\t\t  &lt;/all&gt;\r\n    \t\t\t&lt;/httpConfiguration&gt;\r\n    \t\t  &lt;/configuration&gt;\r\n    \t\t  &lt;username&gt;{username}&lt;/username&gt;\r\n    \t\t  &lt;password&gt;{password}&lt;/password&gt;\r\n    \t\t  &lt;id&gt;central&lt;/id&gt;\r\n    \t\t&lt;/server&gt;\r\n\r\n","title":"Maven cannot find parent pom from artifactory even though it exists","body":"<p>The issue was resolved by</p>\n<p><a href=\"https://stackoverflow.com/questions/43396013/artifactory-file-not-found-by-maven-if-anonymous-access-is-allowed\">Artifactory: file not found by Maven if anonymous access is allowed</a></p>\n<p>Using pre-emptive authentication seems to have resolved the issue</p>\n<pre><code>       &lt;server&gt;\n          &lt;configuration&gt;\n            &lt;httpConfiguration&gt;\n              &lt;all&gt;\n                &lt;usePreemptive&gt;true&lt;/usePreemptive&gt;\n              &lt;/all&gt;\n            &lt;/httpConfiguration&gt;\n          &lt;/configuration&gt;\n          &lt;username&gt;{username}&lt;/username&gt;\n          &lt;password&gt;{password}&lt;/password&gt;\n          &lt;id&gt;central&lt;/id&gt;\n        &lt;/server&gt;\n</code></pre>\n"}],"owner":{"account_id":243616,"reputation":9537,"user_id":515922,"accept_rate":89,"display_name":"Aravind A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685536311,"creation_date":1685513777,"question_id":76370646,"body_markdown":"I have a simple maven parent-child project. The parent pom sits on it&#39;s own project. The project has been tested with a trial artifactory which had maven repo autoconfig. Works smooth there. Unfortunately our corporate artifactory did not have the auto config and the repos were manually created. \r\n\r\nMaven deploy on parent works fine. The deploy on child fails in the corporate artifactory since it cannot find the parent. The issue exists on both release and snapshot repos. Maven does search the repo and the file location looks fine(curl to the  location returns the pom and if I put the url in browser, file gets downloaded). Why isn&#39;t maven able to download it? It is an auth issue? Any help will be much appreciated. Thanks.\r\n\r\nError\r\n\r\n[![mvn clean deploy][1]][1]\r\n\r\n\r\nI can simulate the issue with following pom\r\n\r\nParent\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;parent-pom&lt;/name&gt;\r\n    \t&lt;description&gt;Parent POM&lt;/description&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\t&lt;distributionManagement&gt;\r\n    \t\t&lt;snapshotRepository&gt;\r\n    \t\t\t&lt;id&gt;snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;artifactory-snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://hidden.jfrog.io/artifactory/busy-libs-snapshot-local&lt;/url&gt;\r\n    \t\t&lt;/snapshotRepository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;artifactory-release&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://hidden.jfrog.io/artifactory/busy-libs-release-local&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/distributionManagement&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nChild\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-child&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;mule-application&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;salesforce-data-migration&lt;/name&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;test-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t  &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n    \t\t\t  &lt;configuration&gt;\r\n    \t\t\t\t\t&lt;useReleaseProfile&gt;false&lt;/useReleaseProfile&gt;\r\n    \t\t\t  &lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;42.6.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t\t\r\n    &lt;/project&gt;\r\n\r\nSettings\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNothing much in debug logs either. Please note, busy-libs-release is a virtual repo that reflects the contents of busy-libs-release-local. I am unable to write to the virtual repo. So write to busy-libs-release-local and read from busy-libs-release. Reading directly from busy-libs-release-local also has the same issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4rwI9.png\r\n  [2]: https://i.stack.imgur.com/IpIZg.png","title":"Maven cannot find parent pom from artifactory even though it exists","body":"<p>I have a simple maven parent-child project. The parent pom sits on it's own project. The project has been tested with a trial artifactory which had maven repo autoconfig. Works smooth there. Unfortunately our corporate artifactory did not have the auto config and the repos were manually created.</p>\n<p>Maven deploy on parent works fine. The deploy on child fails in the corporate artifactory since it cannot find the parent. The issue exists on both release and snapshot repos. Maven does search the repo and the file location looks fine(curl to the  location returns the pom and if I put the url in browser, file gets downloaded). Why isn't maven able to download it? It is an auth issue? Any help will be much appreciated. Thanks.</p>\n<p>Error</p>\n<p><a href=\"https://i.stack.imgur.com/4rwI9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4rwI9.png\" alt=\"mvn clean deploy\" /></a></p>\n<p>I can simulate the issue with following pom</p>\n<p>Parent</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\n    &lt;artifactId&gt;test-parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;parent-pom&lt;/name&gt;\n    &lt;description&gt;Parent POM&lt;/description&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n        &lt;distributionManagement&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;artifactory-snapshots&lt;/name&gt;\n            &lt;url&gt;https://hidden.jfrog.io/artifactory/busy-libs-snapshot-local&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;artifactory-release&lt;/name&gt;\n            &lt;url&gt;https://hidden.jfrog.io/artifactory/busy-libs-release-local&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Child</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\n    &lt;artifactId&gt;test-child&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;mule-application&lt;/packaging&gt;\n\n    &lt;name&gt;salesforce-data-migration&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\n        &lt;artifactId&gt;test-parent&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                    &lt;useReleaseProfile&gt;false&lt;/useReleaseProfile&gt;\n              &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n        \n&lt;/project&gt;\n</code></pre>\n<p>Settings</p>\n<p><a href=\"https://i.stack.imgur.com/IpIZg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IpIZg.png\" alt=\"enter image description here\" /></a></p>\n<p>Nothing much in debug logs either. Please note, busy-libs-release is a virtual repo that reflects the contents of busy-libs-release-local. I am unable to write to the virtual repo. So write to busy-libs-release-local and read from busy-libs-release. Reading directly from busy-libs-release-local also has the same issue.</p>\n"},{"tags":["java","mysql","wamp","jakarta-mail"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1685474281,"post_id":76367940,"comment_id":134664357,"body_markdown":"Your design would be better if you refactored the schema to 3rd normal form: one-to-many between receiver and score tables.    Sounds like you have PDF generation with the loop over records inside.  You need to reverse those two: loop over records and create a PDF inside that loop.  Your code is doing too much: query the database, create PDFs, send emails with attachments.  Refactor and test each method individually.","body":"Your design would be better if you refactored the schema to 3rd normal form: one-to-many between receiver and score tables.    Sounds like you have PDF generation with the loop over records inside.  You need to reverse those two: loop over records and create a PDF inside that loop.  Your code is doing too much: query the database, create PDFs, send emails with attachments.  Refactor and test each method individually."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685474606,"post_id":76367940,"comment_id":134664428,"body_markdown":"Your email routine is sub-optimal too. You should establish the `Session` before the loop and send *in it*","body":"Your email routine is sub-optimal too. You should establish the <code>Session</code> before the loop and send <i>in it</i>"},{"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"score":0,"creation_date":1685476980,"post_id":76367940,"comment_id":134664882,"body_markdown":"was thinking thats what i did @duffymo . it seems am not being able to grasp it entirely. kindly give me a sample code let me follow. thanks","body":"was thinking thats what i did @duffymo . it seems am not being able to grasp it entirely. kindly give me a sample code let me follow. thanks"},{"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"score":0,"creation_date":1685477059,"post_id":76367940,"comment_id":134664891,"body_markdown":"i tried establishing the ```session``` before the loop but still same issue @g00se .","body":"i tried establishing the <code>session</code> before the loop but still same issue @g00se ."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685477808,"post_id":76367940,"comment_id":134665030,"body_markdown":"You need to post the jrxml file too","body":"You need to post the jrxml file too"},{"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"score":0,"creation_date":1685479159,"post_id":76367940,"comment_id":134665246,"body_markdown":"still same issue @g00se. am thinking the issue has to do with ```Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();``` . i believe its loading all records instead of a single record from the database. just trying hard to find the issue. if you have any sample code kingly let it assist me. thanks @g00se","body":"still same issue @g00se. am thinking the issue has to do with <code>Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();</code> . i believe its loading all records instead of a single record from the database. just trying hard to find the issue. if you have any sample code kingly let it assist me. thanks @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685485503,"post_id":76367940,"comment_id":134666200,"body_markdown":"Where is the jrxml?","body":"Where is the jrxml?"},{"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"score":0,"creation_date":1685487042,"post_id":76367940,"comment_id":134666364,"body_markdown":"its in my main project folder @g00se. so i refer to it in the code like this : ```jasperReport = JasperCompileManager.compileReport(&quot;studentScore.jrxml&quot;);``` i am able to send the pdf to all emails successfully. but the issue is it loads all records of the database into the jrxml file before converting to pdf. i printed out values in the ```Map&lt;String, Object&gt; parameters = new HarshMap&lt;&gt;()``` and it loaded each single record at a time. i just dont know how all records loaded into jrxml file","body":"its in my main project folder @g00se. so i refer to it in the code like this : <code>jasperReport = JasperCompileManager.compileReport(&quot;studentScore.jrxml&quot;);</code> i am able to send the pdf to all emails successfully. but the issue is it loads all records of the database into the jrxml file before converting to pdf. i printed out values in the <code>Map&lt;String, Object&gt; parameters = new HarshMap&lt;&gt;()</code> and it loaded each single record at a time. i just dont know how all records loaded into jrxml file"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685488697,"post_id":76367940,"comment_id":134666541,"body_markdown":"I wanted you to post the jrxml. I&#39;m guessing you&#39;re doing the full query in that and that it&#39;s filling the report","body":"I wanted you to post the jrxml. I&#39;m guessing you&#39;re doing the full query in that and that it&#39;s filling the report"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685536304,"creation_date":1685494185,"answer_id":76369464,"question_id":76367940,"body_markdown":"Here&#39;s how I might refactor your code.  I end up with four interfaces and four classes.  You&#39;d need to add implementations for two of the interfaces.\r\n\r\nStart with an encapsulation for your data - `User`:\r\n\r\n    package report;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class User {\r\n    \r\n        private final String name;\r\n    \r\n        private final String email;\r\n        private final List&lt;Double&gt; scores;\r\n    \r\n        public User(String name, String email, List&lt;Double&gt; scores) {\r\n            if ((name == null) || (name.trim().length() == 0)) throw new IllegalArgumentException(&quot;Name cannot be blank or null&quot;);\r\n            if ((email == null) || (email.trim().length() == 0)) throw new IllegalArgumentException(&quot;Email cannot be blank or null&quot;);\r\n            this.name = name.trim();\r\n            this.email = email.trim();\r\n            this.scores = (scores != null) ? new ArrayList&lt;&gt;(scores) : new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public List&lt;Double&gt; getScores() {\r\n            return Collections.unmodifiableList(scores);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            User user = (User) o;\r\n    \r\n            if (!getName().equals(user.getName())) return false;\r\n            if (!getEmail().equals(user.getEmail())) return false;\r\n            return getScores().equals(user.getScores());\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = getName().hashCode();\r\n            result = 31 * result + getEmail().hashCode();\r\n            result = 31 * result + getScores().hashCode();\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;User{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, scores=&quot; + scores +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nI created the User class using IntelliJ 2023.1, running under JDK 17.  It might be a good case for using a record class.\r\n\r\nCreate an interface `UserRepository` and an implementation that does nothing but interact with your relational database:\r\n\r\n    package report;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public interface UserRepository {\r\n    \r\n        User findByName(String name);\r\n    \r\n        default void close(ResultSet rs) {\r\n            try {\r\n                if (rs != null) {\r\n                    rs.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                // log at best\r\n            }\r\n        }\r\n        default void close(Statement st) {\r\n            try {\r\n                if (st != null) {\r\n                    st.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                // log at best.\r\n            }\r\n        }\r\n    \r\n        default void close(Connection connection) {\r\n            try {\r\n                if (connection != null) {\r\n                    connection.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                // log at best.\r\n            }\r\n        }\r\n    }\r\n\r\nHere&#39;s an implementation: \r\n\r\n    package report;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    \r\n    public class UserRepositoryImpl implements UserRepository {\r\n    \r\n        public static final String FIND_BY_NAME = &quot;SELECT NAME, EMAIL, SCORE1, SCORE2, SCORE3, SCORE4 FROM SCORE_TABLE WHERE NAME = ?&quot;;\r\n    \r\n        private final Connection connection;\r\n    \r\n        public UserRepositoryImpl(Connection connection) {\r\n            this.connection = connection;\r\n        }\r\n    \r\n        @Override\r\n        public User findByName(String name) {\r\n            User user;\r\n            ResultSet rs = null;\r\n            PreparedStatement ps = null;\r\n            try {\r\n                ps = this.connection.prepareStatement(FIND_BY_NAME);\r\n                rs = ps.executeQuery();\r\n                user = new UserMapper().mapRow(rs);\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            } finally {\r\n                close(rs);\r\n                close(ps);\r\n            }\r\n            return user;\r\n        }\r\n    }\r\n\r\nThe repository implementation uses a `RowMapper` interface and a `UserMapper` implementation:\r\n\r\n    package report;\r\n    \r\n    import java.sql.ResultSet;\r\n    \r\n    public interface RowMapper&lt;T&gt; {\r\n        T mapRow(ResultSet rs);\r\n    }\r\n\r\nHere is the implementation from a `UserMapper`:\r\n\r\n    package report;\r\n    \r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class UserMapper implements RowMapper&lt;User&gt; {\r\n    \r\n        @Override\r\n        public User mapRow(ResultSet rs) {\r\n            User user = null;\r\n            try {\r\n                while (rs.next()) {\r\n                    String name = rs.getString(&quot;NAME&quot;);\r\n                    String email = rs.getString(&quot;EMAIL&quot;);\r\n                    List&lt;Double&gt; scores = new ArrayList&lt;&gt;();\r\n                    scores.add(rs.getDouble(&quot;SCORE1&quot;));\r\n                    scores.add(rs.getDouble(&quot;SCORE2&quot;));\r\n                    scores.add(rs.getDouble(&quot;SCORE3&quot;));\r\n                    scores.add(rs.getDouble(&quot;SCORE4&quot;));\r\n                    user = new User(name, email, scores);\r\n                }\r\n            } catch (SQLException e) {\r\n                user = null;\r\n            }\r\n            return user;\r\n        }\r\n    }\r\n\r\nThere are interfaces for your Jasper report generator and email client:\r\n\r\n    package report;\r\n    \r\n    public interface JasperReportGenerator&lt;T&gt; {\r\n    \r\n        byte [] generate(String jrxml, T data);\r\n    }\r\n\r\n    package report;\r\n    \r\n    public interface EmailClient {\r\n    \r\n        void send(String from, String to, String subject, String body, byte [] attachment);\r\n    }\r\n\r\nThis is more classes than your single method.  This approach has a few advantages:\r\n\r\n - Each class does one thing well (single responsibility principle)\r\n - It&#39;s easy to test each class individually using Junit.\r\n\r\n\r\nSee if this approach helps you.\r\n","title":"generate pdf of each record in database table and send as attachment to email","body":"<p>Here's how I might refactor your code.  I end up with four interfaces and four classes.  You'd need to add implementations for two of the interfaces.</p>\n<p>Start with an encapsulation for your data - <code>User</code>:</p>\n<pre><code>package report;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class User {\n\n    private final String name;\n\n    private final String email;\n    private final List&lt;Double&gt; scores;\n\n    public User(String name, String email, List&lt;Double&gt; scores) {\n        if ((name == null) || (name.trim().length() == 0)) throw new IllegalArgumentException(&quot;Name cannot be blank or null&quot;);\n        if ((email == null) || (email.trim().length() == 0)) throw new IllegalArgumentException(&quot;Email cannot be blank or null&quot;);\n        this.name = name.trim();\n        this.email = email.trim();\n        this.scores = (scores != null) ? new ArrayList&lt;&gt;(scores) : new ArrayList&lt;&gt;();\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public List&lt;Double&gt; getScores() {\n        return Collections.unmodifiableList(scores);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        User user = (User) o;\n\n        if (!getName().equals(user.getName())) return false;\n        if (!getEmail().equals(user.getEmail())) return false;\n        return getScores().equals(user.getScores());\n    }\n\n    @Override\n    public int hashCode() {\n        int result = getName().hashCode();\n        result = 31 * result + getEmail().hashCode();\n        result = 31 * result + getScores().hashCode();\n        return result;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, scores=&quot; + scores +\n                '}';\n    }\n}\n</code></pre>\n<p>I created the User class using IntelliJ 2023.1, running under JDK 17.  It might be a good case for using a record class.</p>\n<p>Create an interface <code>UserRepository</code> and an implementation that does nothing but interact with your relational database:</p>\n<pre><code>package report;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic interface UserRepository {\n\n    User findByName(String name);\n\n    default void close(ResultSet rs) {\n        try {\n            if (rs != null) {\n                rs.close();\n            }\n        } catch (SQLException e) {\n            // log at best\n        }\n    }\n    default void close(Statement st) {\n        try {\n            if (st != null) {\n                st.close();\n            }\n        } catch (SQLException e) {\n            // log at best.\n        }\n    }\n\n    default void close(Connection connection) {\n        try {\n            if (connection != null) {\n                connection.close();\n            }\n        } catch (SQLException e) {\n            // log at best.\n        }\n    }\n}\n</code></pre>\n<p>Here's an implementation:</p>\n<pre><code>package report;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class UserRepositoryImpl implements UserRepository {\n\n    public static final String FIND_BY_NAME = &quot;SELECT NAME, EMAIL, SCORE1, SCORE2, SCORE3, SCORE4 FROM SCORE_TABLE WHERE NAME = ?&quot;;\n\n    private final Connection connection;\n\n    public UserRepositoryImpl(Connection connection) {\n        this.connection = connection;\n    }\n\n    @Override\n    public User findByName(String name) {\n        User user;\n        ResultSet rs = null;\n        PreparedStatement ps = null;\n        try {\n            ps = this.connection.prepareStatement(FIND_BY_NAME);\n            rs = ps.executeQuery();\n            user = new UserMapper().mapRow(rs);\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        } finally {\n            close(rs);\n            close(ps);\n        }\n        return user;\n    }\n}\n</code></pre>\n<p>The repository implementation uses a <code>RowMapper</code> interface and a <code>UserMapper</code> implementation:</p>\n<pre><code>package report;\n\nimport java.sql.ResultSet;\n\npublic interface RowMapper&lt;T&gt; {\n    T mapRow(ResultSet rs);\n}\n</code></pre>\n<p>Here is the implementation from a <code>UserMapper</code>:</p>\n<pre><code>package report;\n\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class UserMapper implements RowMapper&lt;User&gt; {\n\n    @Override\n    public User mapRow(ResultSet rs) {\n        User user = null;\n        try {\n            while (rs.next()) {\n                String name = rs.getString(&quot;NAME&quot;);\n                String email = rs.getString(&quot;EMAIL&quot;);\n                List&lt;Double&gt; scores = new ArrayList&lt;&gt;();\n                scores.add(rs.getDouble(&quot;SCORE1&quot;));\n                scores.add(rs.getDouble(&quot;SCORE2&quot;));\n                scores.add(rs.getDouble(&quot;SCORE3&quot;));\n                scores.add(rs.getDouble(&quot;SCORE4&quot;));\n                user = new User(name, email, scores);\n            }\n        } catch (SQLException e) {\n            user = null;\n        }\n        return user;\n    }\n}\n</code></pre>\n<p>There are interfaces for your Jasper report generator and email client:</p>\n<pre><code>package report;\n\npublic interface JasperReportGenerator&lt;T&gt; {\n\n    byte [] generate(String jrxml, T data);\n}\n\npackage report;\n\npublic interface EmailClient {\n\n    void send(String from, String to, String subject, String body, byte [] attachment);\n}\n</code></pre>\n<p>This is more classes than your single method.  This approach has a few advantages:</p>\n<ul>\n<li>Each class does one thing well (single responsibility principle)</li>\n<li>It's easy to test each class individually using Junit.</li>\n</ul>\n<p>See if this approach helps you.</p>\n"}],"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685536304,"creation_date":1685473986,"question_id":76367940,"body_markdown":"I have 4 records in database table. The table has columns id, name, score1, score2, score3, total, email. each record has a different email. the purpose of the code is to loop through each record, generate a pdf for each record by the records &#39;id&#39; and send pdf as email to the email value of the record. i used the while loop but hard as i try, my code rather generates pdf of all the records and sends to each recipient email. &#39;i only want it to generate pdf of only each record and send to the recipients email at a time&#39;. cant really tell where i am going wrong.\r\n\r\n```\r\ntry{\r\nString sql=&quot;select * from score_table where id=score_table.id&quot;;\r\npst=con.prepareStatement(sql);\r\nrs=pst.executeQuery();\r\n// Loop through each record\r\nwhile (rs.next()) {\r\n  // Retrieve data for current record\r\n  String name = rs.getString(&quot;name&quot;);\r\n  String score1 = rs.getString(&quot;score1&quot;);\r\n  String score2 = rs.getString(&quot;score2&quot;);\r\n  String score3 = rs.getString(&quot;score3&quot;);\r\n  String score4 = rs.getString(&quot;score4&quot;); \r\n  int total = rs.getInt(&quot;total&quot;);\r\n  String recipientEmail = rs.getString(&quot;email&quot;);\r\n\r\n  // Create parameters for the report\r\n  Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n  parameters.put(&quot;name&quot;, name);\r\n  parameters.put(&quot;score1&quot;, score1);\r\n  parameters.put(&quot;score2&quot;, score2);\r\n  parameters.put(&quot;score3&quot;, score3);\r\n  parameters.put(&quot;score4&quot;, score4);\r\n  parameters.put(&quot;total&quot;, total);\r\n\r\n  // Load report template\r\n  JasperReport jasperReport = JasperCompileManager.compileReport(&quot;studentSco.jrxml&quot;);\r\n\r\n  // Populate report with data\r\n  JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, con);\r\n\r\n  // Export report to PDF file\r\n  byte[] pdfBytes = JasperExportManager.exportReportToPdf(jasperPrint);\r\n\r\n  // Create new email message\r\n  Properties props = new Properties();\r\n  props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n  props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n  props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n  props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n  props.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\n  Session session = Session.getInstance(props, new javax.mail.Authenticator() {\r\n    @Override\r\n    protected PasswordAuthentication getPasswordAuthentication() {\r\n        return new PasswordAuthentication(&quot;rodysoftonline@gmail.com&quot;, &quot;wdmssbarmwfgxxxw&quot;);\r\n    }\r\n});\r\n\r\n  Message message = new MimeMessage(session);\r\n  message.setFrom(new InternetAddress(&quot;rodysoftonline@gmail.com&quot;));\r\n  message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(recipientEmail));\r\n  message.setSubject(&quot;Report for &quot; + name);\r\n\r\nMimeBodyPart attachment = new MimeBodyPart();\r\nByteArrayDataSource source = new ByteArrayDataSource(pdfBytes, &quot;application/pdf&quot;);\r\nattachment.setDataHandler(new DataHandler(source));\r\nattachment.setFileName(&quot;report_&quot; + name + &quot;.pdf&quot;);\r\n\r\n  Multipart multipart = new MimeMultipart();\r\n  multipart.addBodyPart(attachment);\r\n\r\n  message.setContent(multipart);\r\n\r\n  // Send email\r\n  Transport.send(message);\r\n  System.out.println(&quot;email sent successfully&quot;);\r\n}\r\n    }catch(SQLException | MessagingException | JRException e){\r\nJOptionPane.showMessageDialog(null,e);\r\n}\r\n// Close database connection and resources\r\nfinally{\r\ntry{\r\nrs.close();\r\npst.close();\r\n  }\r\ncatch(SQLException e){\r\n      }\r\n        }\r\n```\r\n\r\nThis is what i have so far. though its in a while loop, it only generates pdf for all records once and sends to each email in record. i want it to generate pdf for only each record and send to record&#39;s email, generate pdf of next record, send to email and so on... till its done with all records in the table","title":"generate pdf of each record in database table and send as attachment to email","body":"<p>I have 4 records in database table. The table has columns id, name, score1, score2, score3, total, email. each record has a different email. the purpose of the code is to loop through each record, generate a pdf for each record by the records 'id' and send pdf as email to the email value of the record. i used the while loop but hard as i try, my code rather generates pdf of all the records and sends to each recipient email. 'i only want it to generate pdf of only each record and send to the recipients email at a time'. cant really tell where i am going wrong.</p>\n<pre><code>try{\nString sql=&quot;select * from score_table where id=score_table.id&quot;;\npst=con.prepareStatement(sql);\nrs=pst.executeQuery();\n// Loop through each record\nwhile (rs.next()) {\n  // Retrieve data for current record\n  String name = rs.getString(&quot;name&quot;);\n  String score1 = rs.getString(&quot;score1&quot;);\n  String score2 = rs.getString(&quot;score2&quot;);\n  String score3 = rs.getString(&quot;score3&quot;);\n  String score4 = rs.getString(&quot;score4&quot;); \n  int total = rs.getInt(&quot;total&quot;);\n  String recipientEmail = rs.getString(&quot;email&quot;);\n\n  // Create parameters for the report\n  Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n  parameters.put(&quot;name&quot;, name);\n  parameters.put(&quot;score1&quot;, score1);\n  parameters.put(&quot;score2&quot;, score2);\n  parameters.put(&quot;score3&quot;, score3);\n  parameters.put(&quot;score4&quot;, score4);\n  parameters.put(&quot;total&quot;, total);\n\n  // Load report template\n  JasperReport jasperReport = JasperCompileManager.compileReport(&quot;studentSco.jrxml&quot;);\n\n  // Populate report with data\n  JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, con);\n\n  // Export report to PDF file\n  byte[] pdfBytes = JasperExportManager.exportReportToPdf(jasperPrint);\n\n  // Create new email message\n  Properties props = new Properties();\n  props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n  props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n  props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n  props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n  props.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n\n  Session session = Session.getInstance(props, new javax.mail.Authenticator() {\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(&quot;rodysoftonline@gmail.com&quot;, &quot;wdmssbarmwfgxxxw&quot;);\n    }\n});\n\n  Message message = new MimeMessage(session);\n  message.setFrom(new InternetAddress(&quot;rodysoftonline@gmail.com&quot;));\n  message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(recipientEmail));\n  message.setSubject(&quot;Report for &quot; + name);\n\nMimeBodyPart attachment = new MimeBodyPart();\nByteArrayDataSource source = new ByteArrayDataSource(pdfBytes, &quot;application/pdf&quot;);\nattachment.setDataHandler(new DataHandler(source));\nattachment.setFileName(&quot;report_&quot; + name + &quot;.pdf&quot;);\n\n  Multipart multipart = new MimeMultipart();\n  multipart.addBodyPart(attachment);\n\n  message.setContent(multipart);\n\n  // Send email\n  Transport.send(message);\n  System.out.println(&quot;email sent successfully&quot;);\n}\n    }catch(SQLException | MessagingException | JRException e){\nJOptionPane.showMessageDialog(null,e);\n}\n// Close database connection and resources\nfinally{\ntry{\nrs.close();\npst.close();\n  }\ncatch(SQLException e){\n      }\n        }\n</code></pre>\n<p>This is what i have so far. though its in a while loop, it only generates pdf for all records once and sends to each email in record. i want it to generate pdf for only each record and send to record's email, generate pdf of next record, send to email and so on... till its done with all records in the table</p>\n"},{"tags":["java","android","android-canvas"],"comments":[{"owner":{"account_id":3734008,"reputation":1887,"user_id":3105452,"display_name":"GareginSargsyan"},"score":1,"creation_date":1388302331,"post_id":20822977,"comment_id":31225696,"body_markdown":"Paint.setStrokeCap(Paint.Cap.ROUND)","body":"Paint.setStrokeCap(Paint.Cap.ROUND)"},{"owner":{"display_name":"user2726456"},"score":0,"creation_date":1388302840,"post_id":20822977,"comment_id":31225771,"body_markdown":"@GareginSargsyan : Can you post it as answer so that i can accept it","body":"@GareginSargsyan : Can you post it as answer so that i can accept it"},{"owner":{"account_id":3734008,"reputation":1887,"user_id":3105452,"display_name":"GareginSargsyan"},"score":0,"creation_date":1388303061,"post_id":20822977,"comment_id":31225804,"body_markdown":"Your question is put on hold. I cannot post an answer. You should improve it, or remove it. You should read this: http://meta.stackexchange.com/questions/156810/stack-overflow-question-checklist","body":"Your question is put on hold. I cannot post an answer. You should improve it, or remove it. You should read this: <a href=\"http://meta.stackexchange.com/questions/156810/stack-overflow-question-checklist\" title=\"stack overflow question checklist\">meta.stackexchange.com/questions/156810/&hellip;</a>"},{"owner":{"account_id":2866317,"reputation":6243,"user_id":3136246,"display_name":"Avinash Babu"},"score":0,"creation_date":1388308457,"post_id":20822977,"comment_id":31226848,"body_markdown":"http://stackoverflow.com/questions/8287949/android-how-to-draw-a-smooth-line-following-your-finger","body":"<a href=\"http://stackoverflow.com/questions/8287949/android-how-to-draw-a-smooth-line-following-your-finger\" title=\"android how to draw a smooth line following your finger\">stackoverflow.com/questions/8287949/&hellip;</a>"},{"owner":{"display_name":"user2726456"},"score":0,"creation_date":1388308857,"post_id":20822977,"comment_id":31226949,"body_markdown":"@GareginSargsyan : Now you can post your answer. It seems flagging the moderators hold and comment has removed  (also my comments too), they felt touchy perhaps ;)","body":"@GareginSargsyan : Now you can post your answer. It seems flagging the moderators hold and comment has removed  (also my comments too), they felt touchy perhaps ;)"},{"owner":{"account_id":3734008,"reputation":1887,"user_id":3105452,"display_name":"GareginSargsyan"},"score":1,"creation_date":1388309123,"post_id":20822977,"comment_id":31227004,"body_markdown":"Finally the justice has been served :)","body":"Finally the justice has been served :)"}],"answers":[{"tags":[],"owner":{"account_id":3734008,"reputation":1887,"user_id":3105452,"display_name":"GareginSargsyan"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1388309562,"creation_date":1388309562,"answer_id":20823792,"question_id":20822977,"body_markdown":"Use the `Paint.setStrokeCap()` method. You need `Paint.Cap.ROUND`. The default one is `Paint.Cap.BUTT`. There is a similar `Path` property that is called path join. It determines how to draw the parts of the path where it&#39;s constituent segments join. To set it use `Path.setPathJoin()`. You might need it in the future.\r\nGood luck.","title":"Draw a line with curved edges in Android","body":"<p>Use the <code>Paint.setStrokeCap()</code> method. You need <code>Paint.Cap.ROUND</code>. The default one is <code>Paint.Cap.BUTT</code>. There is a similar <code>Path</code> property that is called path join. It determines how to draw the parts of the path where it's constituent segments join. To set it use <code>Path.setPathJoin()</code>. You might need it in the future.\nGood luck.</p>\n"},{"tags":[],"owner":{"account_id":9313381,"reputation":860,"user_id":6914403,"display_name":"Jithin Jude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654073520,"creation_date":1654067819,"answer_id":72457752,"question_id":20822977,"body_markdown":"**You can use below**\r\n\r\n    pitchPaint.setStrokeCap(Paint.Cap.ROUND)","title":"Draw a line with curved edges in Android","body":"<p><strong>You can use below</strong></p>\n<pre><code>pitchPaint.setStrokeCap(Paint.Cap.ROUND)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18845028,"reputation":135,"user_id":13745548,"display_name":"El farouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678526880,"creation_date":1678526880,"answer_id":75703964,"question_id":20822977,"body_markdown":"this is for **kotlin Jetpack Compose** users :\r\nuse the **cap** attribute \r\n\r\n    Canvas(modifier = Modifier.fillMaxSize()) {\r\n    \r\n                // Fetching width and height for\r\n                // setting start x and end y\r\n    \r\n                val canvasHeight = size.height\r\n                \r\n                // drawing a line between start(x,y) and end(x,y)\r\n                drawLine(\r\n                    start = Offset(x = 0f, y = 0.12f * canvasHeight),\r\n                    end = Offset(x = 0f, y =0.5f *canvasHeight),\r\n                    color = Color.Red,\r\n                    strokeWidth = 10F,\r\n                    cap = StrokeCap.Round\r\n                )\r\n            }\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tfzko.png","title":"Draw a line with curved edges in Android","body":"<p>this is for <strong>kotlin Jetpack Compose</strong> users :\nuse the <strong>cap</strong> attribute</p>\n<pre><code>Canvas(modifier = Modifier.fillMaxSize()) {\n\n            // Fetching width and height for\n            // setting start x and end y\n\n            val canvasHeight = size.height\n            \n            // drawing a line between start(x,y) and end(x,y)\n            drawLine(\n                start = Offset(x = 0f, y = 0.12f * canvasHeight),\n                end = Offset(x = 0f, y =0.5f *canvasHeight),\n                color = Color.Red,\n                strokeWidth = 10F,\n                cap = StrokeCap.Round\n            )\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tfzko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tfzko.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22038257,"reputation":1,"user_id":16304396,"display_name":"Aditya Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685536261,"creation_date":1685536261,"answer_id":76373515,"question_id":20822977,"body_markdown":"    path = new Path();\r\n    path.moveTo(50, 50);\r\n    path.lineTo(50, 500);\r\n    path.lineTo(200, 500);\r\n    path.lineTo(200, 300);\r\n    path.lineTo(350, 300);\r\n\r\n    float radius = 50.0f;\r\n    CornerPathEffect cornerPathEffect = new CornerPathEffect(radius);\r\n    paint.setPathEffect(cornerPathEffect);\r\n    // this setPathEffect will set the curve edges for every new joining\r\n\r\n    canvas.drawPath(path, paint);\r\n\r\n&gt; Go through this link , [This Link will teach you proper usages][1]\r\n\r\n\r\n  [1]: http://learing-android.blogspot.com/2014/05/draw-rounded-corner-line-along-path.html","title":"Draw a line with curved edges in Android","body":"<pre><code>path = new Path();\npath.moveTo(50, 50);\npath.lineTo(50, 500);\npath.lineTo(200, 500);\npath.lineTo(200, 300);\npath.lineTo(350, 300);\n\nfloat radius = 50.0f;\nCornerPathEffect cornerPathEffect = new CornerPathEffect(radius);\npaint.setPathEffect(cornerPathEffect);\n// this setPathEffect will set the curve edges for every new joining\n\ncanvas.drawPath(path, paint);\n</code></pre>\n<blockquote>\n<p>Go through this link , <a href=\"http://learing-android.blogspot.com/2014/05/draw-rounded-corner-line-along-path.html\" rel=\"nofollow noreferrer\">This Link will teach you proper usages</a></p>\n</blockquote>\n"}],"owner":{"display_name":"user2726456"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12816,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"accepted_answer_id":20823792,"answer_count":4,"score":18,"last_activity_date":1685536261,"creation_date":1388301266,"question_id":20822977,"body_markdown":"I am using `canvas.drawLine`  to draw some line in android but the lines are too sharp but i need a curved edges\r\n![enter image description here][1]\r\n\r\nHere the 1 is what i have and 2  is what i want to achieve, means a line with curved edges rather than straight edges\r\n\r\nHow can I achieve that ??\r\n\r\n\r\n**EDIT 2:**\r\n\r\nI am trying to use the Canvas object to to draw a line. but the lines have a sharp edge, I need a rounded off edge\r\nI am using the Paint object\r\n\r\n    mPaint = new Paint();\r\n    mPaint.setColor(Color.BLACK)\r\n\r\nAny help would be appreciated great.\r\n\r\n  [1]: http://i.stack.imgur.com/OgrmB.png","title":"Draw a line with curved edges in Android","body":"<p>I am using <code>canvas.drawLine</code>  to draw some line in android but the lines are too sharp but i need a curved edges\n<img src=\"https://i.stack.imgur.com/OgrmB.png\" alt=\"enter image description here\" /></p>\n<p>Here the 1 is what i have and 2  is what i want to achieve, means a line with curved edges rather than straight edges</p>\n<p>How can I achieve that ??</p>\n<p><strong>EDIT 2:</strong></p>\n<p>I am trying to use the Canvas object to to draw a line. but the lines have a sharp edge, I need a rounded off edge\nI am using the Paint object</p>\n<pre><code>mPaint = new Paint();\nmPaint.setColor(Color.BLACK)\n</code></pre>\n<p>Any help would be appreciated great.</p>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1685523643,"post_id":76371757,"comment_id":134670744,"body_markdown":"`A&lt;? super Animal&gt;` only accepts classes that are SUPER of Animal. `Dog` is a child of `Animal`","body":"<code>A&lt;? super Animal&gt;</code> only accepts classes that are SUPER of Animal. <code>Dog</code> is a child of <code>Animal</code>"},{"owner":{"account_id":12786269,"reputation":21,"user_id":9252433,"display_name":"DAN"},"score":0,"creation_date":1685523727,"post_id":76371757,"comment_id":134670759,"body_markdown":"So Dog should not be accepted in Line 2, right?","body":"So Dog should not be accepted in Line 2, right?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1685524233,"post_id":76371757,"comment_id":134670854,"body_markdown":"Is this your actual code or just a summary? `print1` and `print2` are outside of the class body and that&#39;s not allowed.","body":"Is this your actual code or just a summary? <code>print1</code> and <code>print2</code> are outside of the class body and that&#39;s not allowed."},{"owner":{"account_id":12786269,"reputation":21,"user_id":9252433,"display_name":"DAN"},"score":0,"creation_date":1685524307,"post_id":76371757,"comment_id":134670867,"body_markdown":"It is a summary but yes, normaly print1 &amp; print2 are inside a main function.","body":"It is a summary but yes, normaly print1 &amp; print2 are inside a main function."},{"owner":{"account_id":12786269,"reputation":21,"user_id":9252433,"display_name":"DAN"},"score":0,"creation_date":1685526291,"post_id":76371757,"comment_id":134671275,"body_markdown":"So inside ``print1()`` method, I cannot call the ``setter()`` on ``obj`` ?","body":"So inside <code>print1()</code> method, I cannot call the <code>setter()</code> on <code>obj</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":20104740,"reputation":11,"user_id":14742525,"display_name":"Adam Pawelczyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685535622,"creation_date":1685535622,"answer_id":76373436,"question_id":76371757,"body_markdown":"In Java generics, A&lt;? extends Animal&gt; is a declaration of a wildcard type with an upper bound. It means that the type parameter T can be any type that is a subtype of Animal (including Animal itself). When you have a wildcard with an upper bound, it ensures that the type is &quot;read-only&quot; in the sense that you can only retrieve values of type T but you cannot modify the contents.\r\n\r\nIn the print1 method, obj is declared with an upper bound wildcard A&lt;? extends Animal&gt;. This means that you can call the getT() method, which returns a value of type T (which is some subtype of Animal), but you cannot call the setT() method because the exact type of T is not known. The compiler cannot guarantee the safety of assigning a Cat to T because T could be a more specific subtype of Animal, such as Dog.\r\n\r\nOn the other hand, A&lt;? super Animal&gt; is a declaration of a wildcard type with a lower bound. It means that the type parameter T can be any supertype of Animal (including Animal itself). When you have a wildcard with a lower bound, it allows you to both retrieve and modify the contents of the object.\r\n\r\nIn the print2 method, obj is declared with a lower bound wildcard A&lt;? super Animal&gt;. This means that you can call both the getT() and setT() methods. The setT() method accepts any subtype of Animal (including Animal itself) because any such subtype is a valid assignment to T (which could be a supertype of Animal). In this case, you can assign a Dog to T because T can be a supertype of Dog (e.g., Animal).","title":"Why upper bound wildcard works in the following example","body":"<p>In Java generics, A&lt;? extends Animal&gt; is a declaration of a wildcard type with an upper bound. It means that the type parameter T can be any type that is a subtype of Animal (including Animal itself). When you have a wildcard with an upper bound, it ensures that the type is &quot;read-only&quot; in the sense that you can only retrieve values of type T but you cannot modify the contents.</p>\n<p>In the print1 method, obj is declared with an upper bound wildcard A&lt;? extends Animal&gt;. This means that you can call the getT() method, which returns a value of type T (which is some subtype of Animal), but you cannot call the setT() method because the exact type of T is not known. The compiler cannot guarantee the safety of assigning a Cat to T because T could be a more specific subtype of Animal, such as Dog.</p>\n<p>On the other hand, A&lt;? super Animal&gt; is a declaration of a wildcard type with a lower bound. It means that the type parameter T can be any supertype of Animal (including Animal itself). When you have a wildcard with a lower bound, it allows you to both retrieve and modify the contents of the object.</p>\n<p>In the print2 method, obj is declared with a lower bound wildcard A&lt;? super Animal&gt;. This means that you can call both the getT() and setT() methods. The setT() method accepts any subtype of Animal (including Animal itself) because any such subtype is a valid assignment to T (which could be a supertype of Animal). In this case, you can assign a Dog to T because T can be a supertype of Dog (e.g., Animal).</p>\n"}],"owner":{"account_id":12786269,"reputation":21,"user_id":9252433,"display_name":"DAN"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685535622,"creation_date":1685523313,"question_id":76371757,"body_markdown":"````\r\nclass Animal {}\r\nclass Dog extends Animal {}\r\nclass Cat extends Animal {}\r\n\r\nclass A&lt;T&gt; {\r\n    T t;\r\n\r\n    public void setT(T t) {\r\n        this.t = t;\r\n    }\r\n\r\n    T getT() {\r\n        return t;\r\n    }\r\n}\r\n\r\n    public static void print1(A&lt;? extends Animal&gt; obj){\r\n        //obj.setT(new Cat()); //Line 1\r\n        System.out.println(obj.getT().getClass());\r\n\r\n    }\r\n\r\n\r\n    public static void print2(A&lt;? super Animal&gt; obj){\r\n        obj.setT(new Dog()); //Line 2\r\n        System.out.println(obj.getT().getClass());\r\n\r\n    }\r\n````\r\n\r\n\r\nI understand why line 1 does not compile, but do not understand at all why Line 2 compiles.\r\n\r\nI&#39;m trying to understand lower and upper bound wildcard in Java","title":"Why upper bound wildcard works in the following example","body":"<pre><code>class Animal {}\nclass Dog extends Animal {}\nclass Cat extends Animal {}\n\nclass A&lt;T&gt; {\n    T t;\n\n    public void setT(T t) {\n        this.t = t;\n    }\n\n    T getT() {\n        return t;\n    }\n}\n\n    public static void print1(A&lt;? extends Animal&gt; obj){\n        //obj.setT(new Cat()); //Line 1\n        System.out.println(obj.getT().getClass());\n\n    }\n\n\n    public static void print2(A&lt;? super Animal&gt; obj){\n        obj.setT(new Dog()); //Line 2\n        System.out.println(obj.getT().getClass());\n\n    }\n</code></pre>\n<p>I understand why line 1 does not compile, but do not understand at all why Line 2 compiles.</p>\n<p>I'm trying to understand lower and upper bound wildcard in Java</p>\n"},{"tags":["java","spring","oauth","jwt","boot"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1685454226,"post_id":76365380,"comment_id":134659910,"body_markdown":"Does this answer your question? [Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?](https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685535302,"creation_date":1685535302,"answer_id":76373411,"question_id":76365380,"body_markdown":"When your Java code tries to get the contents from that URL (the public key you need to verify JWTs) it can&#39;t establish a proper connection because it doesn&#39;t trust the certificate used by that page. It&#39;s the SSL certificate used by the page itself, not the public key that is returned at that endpoint. What you should do, is to obtain that certificate (you can open the `https://XXXXXXXX/oauth/nam/keys` page in a browser and download the certificate), then add it to your Java truststore. You will find detailed instructions on how to do it under this link posted by juanlumn: https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore ","title":"Spring boot Jwt signed with RS256","body":"<p>When your Java code tries to get the contents from that URL (the public key you need to verify JWTs) it can't establish a proper connection because it doesn't trust the certificate used by that page. It's the SSL certificate used by the page itself, not the public key that is returned at that endpoint. What you should do, is to obtain that certificate (you can open the <code>https://XXXXXXXX/oauth/nam/keys</code> page in a browser and download the certificate), then add it to your Java truststore. You will find detailed instructions on how to do it under this link posted by juanlumn: <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a></p>\n"}],"owner":{"account_id":15380310,"reputation":138,"user_id":11095907,"display_name":"Sergio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76373411,"answer_count":1,"score":1,"last_activity_date":1685535302,"creation_date":1685453491,"question_id":76365380,"body_markdown":"I&#39;m given a url - jwks_uri= https://xxxxx/oauth/nam/keys &lt;br/&gt;\r\n... which produces this json:\r\n```    \r\n{\r\n     &quot;keys&quot;: [{\r\n             &quot;kty&quot;: &quot;RSA&quot;,\r\n             &quot;use&quot;: &quot;sig&quot;,\r\n             &quot;alg&quot;: &quot;RS256&quot;,\r\n             &quot;kid&quot;: &quot;233921010515334582428573459295448396160651486998&quot;,\r\n             &quot;x5c&quot;: [&quot;MIIFQjCCBCqgAwIBAgIUKPlhgf+gbz7h0arpJdYiOXxj5xYwDQYJKoZIhvcNAQELBQAwNTEaMBgGA1UECxMRT3JnYW5pemF0aW9uYWwgQ0ExFzAVBg..........wTBo45axM=&quot;],\r\n             &quot;x5t&quot;: &quot;BBSLHq3rpiVLP2rota71boxAdqE&quot;,\r\n             &quot;x5tS256&quot;: &quot;VAvMs-i58nz5UjOzyOEPpDubjgsNDK_m5z7w8dudPaw&quot;,\r\n             &quot;n&quot;: &quot;okBvqleqjWLqLQ20cd9oajuOFZgOdPgD0rz6PddT1uW0iPkZ53Az68D_9s0fSMh996iGxN8sZFcCO-v0DXFBmUZb8D1VuBbx4v8Q_OUWhUk6V0QgUnzsdEYP39tZqU4gq KMuwzCbqqD1tj1C510tT8LK8lJjYuIjP-eNHv_WaL9QAH0iRwOWXA_a9ZwEoOhI0R-HqnvvJNyuUnh0umHDow3Uu7uuTKMFmziNzcB4ANBrKytVsfqBz2M9qNi6YqpT1ysGyX_M_PCja 2q8CDQxpcUm7XikFNdjutTR_B1gXDEk0Y8O7MgeKQcbYq1jMGEzIUabeka6jbBE2RR-mzV1YQ&quot;,\r\n             &quot;e&quot;: &quot;AQAB&quot;\r\n         }\r\n     ]\r\n}\r\n```\r\nthe company claims that I have everything needed to verify the public key of the jwt but in my code I keep getting the error \r\n\r\n&gt; caused by: javax.net.ssl.SSLHandshakeException: PKIX path building\r\n&gt; failed: sun.security.provider.certpath. SunCertPathBuilderException:\r\n&gt; unable to find valid certification path to requested target.&lt;br/&gt;\r\n\r\nThis is my method:\r\n\r\n\r\n    private RSAPublicKey loadPublicKey(DecodedJWT token) throws JwkException, MalformedURLException {\r\n        \r\n        final String url = &quot;https://XXXXXXXX/oauth/nam/keys&quot;; //getKeycloakCertificateUrl(token);\r\n     //   final String url = &quot;https://XXXXXXXXX/api/GetCA&quot;;\r\n\r\n\r\n\r\n        JwkProvider provider = new UrlJwkProvider(new URL(url));\r\n\r\n        return (RSAPublicKey) provider.get(token.getKeyId()).getPublicKey();\r\n    }\r\n","title":"Spring boot Jwt signed with RS256","body":"<p>I'm given a url - jwks_uri= https://xxxxx/oauth/nam/keys <br/>\n... which produces this json:</p>\n<pre><code>{\n     &quot;keys&quot;: [{\n             &quot;kty&quot;: &quot;RSA&quot;,\n             &quot;use&quot;: &quot;sig&quot;,\n             &quot;alg&quot;: &quot;RS256&quot;,\n             &quot;kid&quot;: &quot;233921010515334582428573459295448396160651486998&quot;,\n             &quot;x5c&quot;: [&quot;MIIFQjCCBCqgAwIBAgIUKPlhgf+gbz7h0arpJdYiOXxj5xYwDQYJKoZIhvcNAQELBQAwNTEaMBgGA1UECxMRT3JnYW5pemF0aW9uYWwgQ0ExFzAVBg..........wTBo45axM=&quot;],\n             &quot;x5t&quot;: &quot;BBSLHq3rpiVLP2rota71boxAdqE&quot;,\n             &quot;x5tS256&quot;: &quot;VAvMs-i58nz5UjOzyOEPpDubjgsNDK_m5z7w8dudPaw&quot;,\n             &quot;n&quot;: &quot;okBvqleqjWLqLQ20cd9oajuOFZgOdPgD0rz6PddT1uW0iPkZ53Az68D_9s0fSMh996iGxN8sZFcCO-v0DXFBmUZb8D1VuBbx4v8Q_OUWhUk6V0QgUnzsdEYP39tZqU4gq KMuwzCbqqD1tj1C510tT8LK8lJjYuIjP-eNHv_WaL9QAH0iRwOWXA_a9ZwEoOhI0R-HqnvvJNyuUnh0umHDow3Uu7uuTKMFmziNzcB4ANBrKytVsfqBz2M9qNi6YqpT1ysGyX_M_PCja 2q8CDQxpcUm7XikFNdjutTR_B1gXDEk0Y8O7MgeKQcbYq1jMGEzIUabeka6jbBE2RR-mzV1YQ&quot;,\n             &quot;e&quot;: &quot;AQAB&quot;\n         }\n     ]\n}\n</code></pre>\n<p>the company claims that I have everything needed to verify the public key of the jwt but in my code I keep getting the error</p>\n<blockquote>\n<p>caused by: javax.net.ssl.SSLHandshakeException: PKIX path building\nfailed: sun.security.provider.certpath. SunCertPathBuilderException:\nunable to find valid certification path to requested target.<br/></p>\n</blockquote>\n<p>This is my method:</p>\n<pre><code>private RSAPublicKey loadPublicKey(DecodedJWT token) throws JwkException, MalformedURLException {\n    \n    final String url = &quot;https://XXXXXXXX/oauth/nam/keys&quot;; //getKeycloakCertificateUrl(token);\n //   final String url = &quot;https://XXXXXXXXX/api/GetCA&quot;;\n\n\n\n    JwkProvider provider = new UrlJwkProvider(new URL(url));\n\n    return (RSAPublicKey) provider.get(token.getKeyId()).getPublicKey();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","filter"],"answers":[{"tags":[],"owner":{"account_id":26712307,"reputation":91,"user_id":20317450,"display_name":"Bastian Hologne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685535216,"creation_date":1685535216,"answer_id":76373398,"question_id":76373192,"body_markdown":"As you inherited OncePerRequestFilter, you can override the shouldNotFilterMethod. Here is an example :\r\n\r\n       @Override\r\n        protected boolean shouldNotFilter(HttpServletRequest request) {\r\n            return !request.getServletPath().startsWith(&quot;/search/&quot;);\r\n        }","title":"Why is ContentCachingFilter being applied to all URLs instead of just /search even after specifying the same in urlPatterns?","body":"<p>As you inherited OncePerRequestFilter, you can override the shouldNotFilterMethod. Here is an example :</p>\n<pre><code>   @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) {\n        return !request.getServletPath().startsWith(&quot;/search/&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":23584006,"reputation":3,"user_id":17622679,"display_name":"meg1311"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76373398,"answer_count":1,"score":0,"last_activity_date":1685535243,"creation_date":1685533932,"question_id":76373192,"body_markdown":"I have an application with multiple filters. I want ContentCachingFilter to be applied to all URLs having `/search`. Since there are other filters too so in the case of `/search` the `ContentCachingFilter` should be the first one to be applied. I tried providing the full URL as well in urlPatterns but still `doFilterInternal` from `ContentCachingFilter` is getting executed for all the URLS. Please find below the code\r\n\r\n```\r\n@Component     \r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@WebFilter(filterName = &quot;ContentCachingFilter&quot;, urlPatterns = &quot;/search/*&quot;)\r\npublic class ContentCachingFilter extends OncePerRequestFilter {\r\n\r\n    @Override \r\n    protected void doFilterInternal(HttpServletRequest httpServletRequest,\r\n                                    HttpServletResponse httpServletResponse,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n        CachedBodyHttpServletRequest cachedBodyHttpServletRequest = \r\n                new CachedBodyHttpServletRequest(httpServletRequest);\r\n\r\n        filterChain.doFilter(cachedBodyHttpServletRequest, httpServletResponse);\r\n    }\r\n}\r\n\r\n```\r\n","title":"Why is ContentCachingFilter being applied to all URLs instead of just /search even after specifying the same in urlPatterns?","body":"<p>I have an application with multiple filters. I want ContentCachingFilter to be applied to all URLs having <code>/search</code>. Since there are other filters too so in the case of <code>/search</code> the <code>ContentCachingFilter</code> should be the first one to be applied. I tried providing the full URL as well in urlPatterns but still <code>doFilterInternal</code> from <code>ContentCachingFilter</code> is getting executed for all the URLS. Please find below the code</p>\n<pre><code>@Component     \n@Order(Ordered.HIGHEST_PRECEDENCE)\n@WebFilter(filterName = &quot;ContentCachingFilter&quot;, urlPatterns = &quot;/search/*&quot;)\npublic class ContentCachingFilter extends OncePerRequestFilter {\n\n    @Override \n    protected void doFilterInternal(HttpServletRequest httpServletRequest,\n                                    HttpServletResponse httpServletResponse,\n                                    FilterChain filterChain) throws ServletException, IOException {\n        CachedBodyHttpServletRequest cachedBodyHttpServletRequest = \n                new CachedBodyHttpServletRequest(httpServletRequest);\n\n        filterChain.doFilter(cachedBodyHttpServletRequest, httpServletResponse);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1685529794,"post_id":76372591,"comment_id":134671989,"body_markdown":"Perhaps if you try `DumperOptions.FlowStyle.FLOW`, is that what you mean?","body":"Perhaps if you try <code>DumperOptions.FlowStyle.FLOW</code>, is that what you mean?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685532742,"post_id":76372591,"comment_id":134672570,"body_markdown":"No, still not . it is not working","body":"No, still not . it is not working"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685533180,"post_id":76372591,"comment_id":134672679,"body_markdown":"What is Values?","body":"What is Values?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685533314,"post_id":76372591,"comment_id":134672716,"body_markdown":"Please see the UPDATE 1 for values","body":"Please see the UPDATE 1 for values"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685533656,"post_id":76372591,"comment_id":134672801,"body_markdown":"There are other classes missing. Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"There are other classes missing. Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685534861,"post_id":76372591,"comment_id":134673088,"body_markdown":"I have added all classes in UPDATE 2 . please suggest @aled","body":"I have added all classes in UPDATE 2 . please suggest @aled"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685540019,"post_id":76372591,"comment_id":134674410,"body_markdown":"The input file does not match the definitions. Fields repository, pullPolicy don&#39;t exist in code. And what version of Snakeyaml are you using?","body":"The input file does not match the definitions. Fields repository, pullPolicy don&#39;t exist in code. And what version of Snakeyaml are you using?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685545434,"post_id":76372591,"comment_id":134675902,"body_markdown":"repository and pullPolicy is there in Image class . Did you see that ? @aled\nSnakeYaml version : 1.33","body":"repository and pullPolicy is there in Image class . Did you see that ? @aled SnakeYaml version : 1.33"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685547330,"post_id":76372591,"comment_id":134676349,"body_markdown":"Yes, the error was confusing but the reason is that image is incorrectly typed as a      `List&lt;Image&gt;` when clearly it is not a list in the input file. I&#39;m not sure how that possibly worked.","body":"Yes, the error was confusing but the reason is that image is incorrectly typed as a      <code>List&lt;Image&gt;</code> when clearly it is not a list in the input file. I&#39;m not sure how that possibly worked."},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1685630926,"post_id":76372591,"comment_id":134690128,"body_markdown":"YAML generally doesn&#39;t give you complete control over formatting and doesn&#39;t let you keep the original format, see [this question](https://stackoverflow.com/q/60891174/347964) for details. It might be that you can achieve what you want in this scenario, but it&#39;s probably not worthwhile figuring that out since it won&#39;t be a general solution and it will probably break on different input / structure.","body":"YAML generally doesn&#39;t give you complete control over formatting and doesn&#39;t let you keep the original format, see <a href=\"https://stackoverflow.com/q/60891174/347964\">this question</a> for details. It might be that you can achieve what you want in this scenario, but it&#39;s probably not worthwhile figuring that out since it won&#39;t be a general solution and it will probably break on different input / structure."}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685534842,"creation_date":1685529412,"question_id":76372591,"body_markdown":"Have following YAML \r\n\r\n    id: &quot;20&quot;\r\n    name: &quot;Bruce&quot;\r\n    year: &quot;2020&quot;\r\n    address: &quot;Gotham City&quot;\r\n    department: &quot;Computer Science&quot;\r\n    image:\r\n      repository: &quot;test.com/test&quot;\r\n      pullPolicy: &quot;IfNotPresent&quot;\r\n      tag: &quot;dfdklf&quot;\r\n    route:\r\n      hosts:\r\n        - host: abc.com\r\n        - host: abc1.com\r\n        - host: abc2.com\r\n\r\nbut when I&#39;m adding new Host entry using JAVA object (serialization and deserialization) and SnakeYaml lib \r\nthe indentation is not proper for Image . it is coming as like below \r\n\r\n    address: Gotham City\r\n    department: Computer Science\r\n    id: &#39;20&#39;\r\n    image: {pullPolicy: IfNotPresent, repository: test.com/test,\r\n      tag: dfdklf}\r\n    name: Bruce\r\n    route:\r\n      hosts:\r\n      - {host: abc.com}\r\n      - {host: abc1.com}\r\n      - {host: abc2.com}\r\n    year: &#39;2020&#39;\r\n\r\nhow to maintain the same structure as the original YAML ? I see that ,  image entry is modified and coming as a single line and the sequence is also not maintained. \r\n\r\nHere is the JAVA code \r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n    \t\t\r\n    \t\tInputStream inputStream = new FileInputStream(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\r\n    \t\r\n    \t\tYaml yaml = new Yaml(new Constructor(Values.class));\r\n    \t\r\n    \t\tValues data = yaml.load(inputStream);\r\n    \t\r\n    \t\tdata.getImage().forEach(x -&gt; System.out.println(x.getTag()));\r\n    \t\tdata.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\r\n    \t\t\r\n    \t\tDumperOptions options = new DumperOptions();\r\n    \t\toptions.setIndent(2);\r\n    \t\toptions.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\n    \t\toptions.setIndicatorIndent(2);\r\n    \t\toptions.setIndentWithIndicator(true);\r\n    \t\t\r\n    \t\tHost host = new Host();\r\n    \t\thost.setHost(&quot;abc.com&quot;);\r\n    \t\tdata.getRoute().getHosts().add(host);\r\n    \t\t\r\n    \t\t\r\n    \t\tdata.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\r\n    \t\t\r\n    \t\tPrintWriter writer = new PrintWriter(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\r\n    \t\tYaml yaml1 = new Yaml(new Constructor(Values.class));\r\n    \t\tyaml1.dump(data, writer);\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**UPDATE 1 :** \r\n\r\n    public class Values {\r\n    \t\r\n    \t private List&lt;Image&gt; image;\r\n    \t private String id;\r\n    \t private String name;\r\n    \t private String year;\r\n    \t private String address;\r\n    \t private Route route;\r\n    \t  \r\n    \t public Route getRoute() {\r\n    \t\treturn route;\r\n    \t}\r\n    \r\n    \tpublic void setRoute(Route route) {\r\n    \t\tthis.route = route;\r\n    \t}\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getYear() {\r\n    \t\treturn year;\r\n    \t}\r\n    \r\n    \tpublic void setYear(String year) {\r\n    \t\tthis.year = year;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getDepartment() {\r\n    \t\treturn department;\r\n    \t}\r\n    \r\n    \tpublic void setDepartment(String department) {\r\n    \t\tthis.department = department;\r\n    \t}\r\n    \r\n    \tprivate String department;\r\n    \t \r\n    \t \r\n    \t public Values()\r\n    \t {\r\n    \t\t \r\n    \t }\r\n    \t \r\n    \t public Values (List&lt;Image&gt; image, String id, String name, String year, String address, String department )\r\n    \t {\r\n    \t\t super ();\r\n    \t\t this.image = image;\r\n    \t\t this.id = id;\r\n    \t\t this.name = name;\r\n    \t\t this.year = year;\r\n    \t\t this.address = address;\r\n    \t\t this.department = department; \r\n    \t }\r\n    \r\n    \tpublic List&lt;Image&gt; getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic void setImage(List&lt;Image&gt; image) {\r\n    \t\tthis.image = image;\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * public Map&lt;String, Object&gt; get(String string) { // TODO Auto-generated method\r\n    \t * stub return null; }\r\n    \t */\r\n    }\r\n\r\n**UPDATE 2** \r\n\r\n    public class Host {\r\n    \t\r\n    \t  private String host;\r\n    \t    public String getHost() {\r\n    \t        return host;\r\n    \t    }\r\n    \t    public void setHost(String host) {\r\n    \t        this.host = host;\r\n    \t    }\r\n    \r\n    }\r\n\r\n\r\n    public class Image {\r\n    \t\r\n    \tprivate String repository;\r\n    \tprivate String pullPolicy;\r\n    \tprivate String tag;\r\n    \t\r\n    \tpublic Image()\r\n    \t{\t\r\n    \t}\r\n    \t\r\n    \tpublic Image (String repository, String pullPolicy, String tags)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.repository = repository;\r\n    \t\tthis.pullPolicy = pullPolicy;\r\n    \t\tthis.tag = tags;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic String getRepository() {\r\n    \t\treturn repository;\r\n    \t}\r\n    \tpublic void setRepository(String repository) {\r\n    \t\tthis.repository = repository;\r\n    \t}\r\n    \tpublic String getPullPolicy() {\r\n    \t\treturn pullPolicy;\r\n    \t}\r\n    \tpublic void setPullPolicy(String pullPolicy) {\r\n    \t\tthis.pullPolicy = pullPolicy;\r\n    \t}\r\n    \tpublic String getTag() {\r\n    \t\treturn tag;\r\n    \t}\r\n    \tpublic void setTag(String tag) {\r\n    \t\tthis.tag = tag;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n\r\n    public class Route {\r\n    \t\r\n    \t   private List&lt;Host&gt; hosts = new ArrayList&lt;Host&gt;();\r\n    \t    public List&lt;Host&gt; getHosts() {\r\n    \t        return hosts;\r\n    \t    }\r\n    \t    public void setHosts(List&lt;Host&gt; hosts) {\r\n    \t        this.hosts = hosts;\r\n    \t    }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"how to add indentation in YAML using SnakeYaml and JAVA object","body":"<p>Have following YAML</p>\n<pre><code>id: &quot;20&quot;\nname: &quot;Bruce&quot;\nyear: &quot;2020&quot;\naddress: &quot;Gotham City&quot;\ndepartment: &quot;Computer Science&quot;\nimage:\n  repository: &quot;test.com/test&quot;\n  pullPolicy: &quot;IfNotPresent&quot;\n  tag: &quot;dfdklf&quot;\nroute:\n  hosts:\n    - host: abc.com\n    - host: abc1.com\n    - host: abc2.com\n</code></pre>\n<p>but when I'm adding new Host entry using JAVA object (serialization and deserialization) and SnakeYaml lib\nthe indentation is not proper for Image . it is coming as like below</p>\n<pre><code>address: Gotham City\ndepartment: Computer Science\nid: '20'\nimage: {pullPolicy: IfNotPresent, repository: test.com/test,\n  tag: dfdklf}\nname: Bruce\nroute:\n  hosts:\n  - {host: abc.com}\n  - {host: abc1.com}\n  - {host: abc2.com}\nyear: '2020'\n</code></pre>\n<p>how to maintain the same structure as the original YAML ? I see that ,  image entry is modified and coming as a single line and the sequence is also not maintained.</p>\n<p>Here is the JAVA code</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n        \n        InputStream inputStream = new FileInputStream(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\n    \n        Yaml yaml = new Yaml(new Constructor(Values.class));\n    \n        Values data = yaml.load(inputStream);\n    \n        data.getImage().forEach(x -&gt; System.out.println(x.getTag()));\n        data.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\n        \n        DumperOptions options = new DumperOptions();\n        options.setIndent(2);\n        options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\n        options.setIndicatorIndent(2);\n        options.setIndentWithIndicator(true);\n        \n        Host host = new Host();\n        host.setHost(&quot;abc.com&quot;);\n        data.getRoute().getHosts().add(host);\n        \n        \n        data.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\n        \n        PrintWriter writer = new PrintWriter(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\n        Yaml yaml1 = new Yaml(new Constructor(Values.class));\n        yaml1.dump(data, writer);\n        \n\n    }\n\n}\n</code></pre>\n<p><strong>UPDATE 1 :</strong></p>\n<pre><code>public class Values {\n    \n     private List&lt;Image&gt; image;\n     private String id;\n     private String name;\n     private String year;\n     private String address;\n     private Route route;\n      \n     public Route getRoute() {\n        return route;\n    }\n\n    public void setRoute(Route route) {\n        this.route = route;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getYear() {\n        return year;\n    }\n\n    public void setYear(String year) {\n        this.year = year;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n\n    private String department;\n     \n     \n     public Values()\n     {\n         \n     }\n     \n     public Values (List&lt;Image&gt; image, String id, String name, String year, String address, String department )\n     {\n         super ();\n         this.image = image;\n         this.id = id;\n         this.name = name;\n         this.year = year;\n         this.address = address;\n         this.department = department; \n     }\n\n    public List&lt;Image&gt; getImage() {\n        return image;\n    }\n\n    public void setImage(List&lt;Image&gt; image) {\n        this.image = image;\n    }\n\n    /*\n     * public Map&lt;String, Object&gt; get(String string) { // TODO Auto-generated method\n     * stub return null; }\n     */\n}\n</code></pre>\n<p><strong>UPDATE 2</strong></p>\n<pre><code>public class Host {\n    \n      private String host;\n        public String getHost() {\n            return host;\n        }\n        public void setHost(String host) {\n            this.host = host;\n        }\n\n}\n\n\npublic class Image {\n    \n    private String repository;\n    private String pullPolicy;\n    private String tag;\n    \n    public Image()\n    {   \n    }\n    \n    public Image (String repository, String pullPolicy, String tags)\n    {\n        super();\n        this.repository = repository;\n        this.pullPolicy = pullPolicy;\n        this.tag = tags;\n        \n    }\n    \n    public String getRepository() {\n        return repository;\n    }\n    public void setRepository(String repository) {\n        this.repository = repository;\n    }\n    public String getPullPolicy() {\n        return pullPolicy;\n    }\n    public void setPullPolicy(String pullPolicy) {\n        this.pullPolicy = pullPolicy;\n    }\n    public String getTag() {\n        return tag;\n    }\n    public void setTag(String tag) {\n        this.tag = tag;\n    }\n    \n\n}\n\n\npublic class Route {\n    \n       private List&lt;Host&gt; hosts = new ArrayList&lt;Host&gt;();\n        public List&lt;Host&gt; getHosts() {\n            return hosts;\n        }\n        public void setHosts(List&lt;Host&gt; hosts) {\n            this.hosts = hosts;\n        }\n\n}\n</code></pre>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1685647168,"post_id":76373164,"comment_id":134693661,"body_markdown":"How many distinct values can you have for PCids? For SCids, LCids, PIEs, and case? If it&#39;s a reasonable number, you could bitmap the individual properties and pack them into a 32-bit or 64-bit integer.","body":"How many distinct values can you have for PCids? For SCids, LCids, PIEs, and case? If it&#39;s a reasonable number, you could bitmap the individual properties and pack them into a 32-bit or 64-bit integer."},{"owner":{"account_id":10427719,"reputation":81,"user_id":7688437,"display_name":"Y_J"},"score":0,"creation_date":1686543166,"post_id":76373164,"comment_id":134807450,"body_markdown":"The number of distinct values can grow over time based on the business logic.","body":"The number of distinct values can grow over time based on the business logic."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1686543774,"post_id":76373164,"comment_id":134807488,"body_markdown":"It can grow over time, but how large? You have four categories: PCids, SCids, LCids, PIEs. Assuming you have fewer than 256 values in each category, you can assign each value within a category a unique number and then pack the four values into a 32-bit integer. If you have fewer than 65,536 values in each category, you can pack them into a 64-bit integer. If your problem fits into those confines, I can provide more detail.","body":"It can grow over time, but how large? You have four categories: PCids, SCids, LCids, PIEs. Assuming you have fewer than 256 values in each category, you can assign each value within a category a unique number and then pack the four values into a 32-bit integer. If you have fewer than 65,536 values in each category, you can pack them into a 64-bit integer. If your problem fits into those confines, I can provide more detail."}],"owner":{"account_id":10427719,"reputation":81,"user_id":7688437,"display_name":"Y_J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685534754,"creation_date":1685533768,"question_id":76373164,"body_markdown":"Let following be the data set:\r\n```\r\n- ref: UNIQUE_VAL_1\r\n  PCids: [ TTT ]\r\n  LCids: [ TTT ]\r\n  SCids: [ TTT ]\r\n  PIEs: [ PIE_1 ]\r\n  case: [ ACC ]\r\n\r\n\r\n- ref: UNIQUE_VAL_2\r\n  PCids: [ CCC ]\r\n  LCids: [ CCC ]\r\n  SCids: [ CCC ]\r\n  PIEs: [ PIE_2 ]\r\n  case: [ ACC ]\r\n\r\n\r\n- ref: UNIQUE_VAL_3\r\n  PCids: [ DDD ]\r\n  SCids: [ PPP ]\r\n  LCids: [ PPP ]\r\n  PIEs: [ PIE_3 ]\r\n  case: [ ACC ]\r\n\r\n```\r\nFor each combination of values of PCids, SCids, LCids, PIEs and case,\r\nthere will be a unique ref value.\r\n\r\n```\r\nEg Input:\r\n  PCids = DDD\r\n  SCids = PPP\r\n  LCids = PPP\r\n  PIEs = PIE_3\r\n  case = ACC\r\n\r\n  Output:\r\n  ref = UNIQUE_VAL_3\r\n\r\n```\r\nHow can we realise this in code ? I am trying to think of a solution where I am not forced to write a huge if-else ladder.\r\n\r\nTried following solution:\r\nCreate an md5 of all the dependant parameters and put it as a key with value as the ref in a hashmap.\r\n\r\nCaveat:\r\nWill have to use an initialiser code which will run before everything else always to create a hashmap in memory.","title":"Build lookup for getting a single value based on multiple static parameters","body":"<p>Let following be the data set:</p>\n<pre><code>- ref: UNIQUE_VAL_1\n  PCids: [ TTT ]\n  LCids: [ TTT ]\n  SCids: [ TTT ]\n  PIEs: [ PIE_1 ]\n  case: [ ACC ]\n\n\n- ref: UNIQUE_VAL_2\n  PCids: [ CCC ]\n  LCids: [ CCC ]\n  SCids: [ CCC ]\n  PIEs: [ PIE_2 ]\n  case: [ ACC ]\n\n\n- ref: UNIQUE_VAL_3\n  PCids: [ DDD ]\n  SCids: [ PPP ]\n  LCids: [ PPP ]\n  PIEs: [ PIE_3 ]\n  case: [ ACC ]\n\n</code></pre>\n<p>For each combination of values of PCids, SCids, LCids, PIEs and case,\nthere will be a unique ref value.</p>\n<pre><code>Eg Input:\n  PCids = DDD\n  SCids = PPP\n  LCids = PPP\n  PIEs = PIE_3\n  case = ACC\n\n  Output:\n  ref = UNIQUE_VAL_3\n\n</code></pre>\n<p>How can we realise this in code ? I am trying to think of a solution where I am not forced to write a huge if-else ladder.</p>\n<p>Tried following solution:\nCreate an md5 of all the dependant parameters and put it as a key with value as the ref in a hashmap.</p>\n<p>Caveat:\nWill have to use an initialiser code which will run before everything else always to create a hashmap in memory.</p>\n"},{"tags":["java","garbage-collection","out-of-memory","metaspace"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1500028269,"post_id":45075721,"comment_id":77172658,"body_markdown":"Metaspace may contain more meta data than class metadata.","body":"Metaspace may contain more meta data than class metadata."}],"answers":[{"tags":[],"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685534403,"creation_date":1685534403,"answer_id":76373271,"question_id":45075721,"body_markdown":"&gt; CompressedClassSpaceSize determines the size of the metaspace\r\n\r\nNo, it&#39;s incorrect. Compressed class space is an memory region inside Metaspace. So MaxMetaspaceSize option always works and limits both Metaspace and inner Compressed class space.  \r\nIf you try to set CompressedClassSpaceSize greater than MaxMetaspaceSize it will not make an effect.  \r\nSee https://stackoverflow.com/questions/54250638/is-compressedclassspacesize-area-contains-maxmetaspacesize-area  \r\nSee also https://stuefe.de/posts/metaspace/what-is-metaspace/","title":"MaxMetaSpace and CompressedClassSpaceSize","body":"<blockquote>\n<p>CompressedClassSpaceSize determines the size of the metaspace</p>\n</blockquote>\n<p>No, it's incorrect. Compressed class space is an memory region inside Metaspace. So MaxMetaspaceSize option always works and limits both Metaspace and inner Compressed class space.<br />\nIf you try to set CompressedClassSpaceSize greater than MaxMetaspaceSize it will not make an effect.<br />\nSee <a href=\"https://stackoverflow.com/questions/54250638/is-compressedclassspacesize-area-contains-maxmetaspacesize-area\">Is CompressedClassSpaceSize area contains MaxMetaspaceSize area?</a><br />\nSee also <a href=\"https://stuefe.de/posts/metaspace/what-is-metaspace/\" rel=\"nofollow noreferrer\">https://stuefe.de/posts/metaspace/what-is-metaspace/</a></p>\n"}],"owner":{"account_id":401412,"reputation":548,"user_id":767949,"accept_rate":20,"display_name":"null"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2483,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685534403,"creation_date":1499935691,"question_id":45075721,"body_markdown":"Can I understand when UseCompressedClassPointers is enabled, MaxMetaspace is not relevance and CompressedClassSpaceSize determines the size of the metaspace?.\r\n\r\nBecause from Oracle doc\r\n https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html (section Exception in thread thread_name: java.lang.OutOfMemoryError: Compressed class space)\r\n\r\n - *If the UseCompressedClassPointers is used, the amount of space   \r\n   available for class metadata is fixed at the amount   \r\n   CompressedClassSpaceSize. If the space needed for   \r\n   UseCompressedClassPointers exceeds CompressedClassSpaceSize, a   \r\n   java.lang.OutOfMemoryError with detail Compressed class space is   \r\n   thrown.*\r\n\r\nkindly point me to some link that explains what is stored in CompressedClassSpaceSize &amp; Metaspace","title":"MaxMetaSpace and CompressedClassSpaceSize","body":"<p>Can I understand when UseCompressedClassPointers is enabled, MaxMetaspace is not relevance and CompressedClassSpaceSize determines the size of the metaspace?.</p>\n\n<p>Because from Oracle doc\n <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html</a> (section Exception in thread thread_name: java.lang.OutOfMemoryError: Compressed class space)</p>\n\n<ul>\n<li><em>If the UseCompressedClassPointers is used, the amount of space<br>\navailable for class metadata is fixed at the amount<br>\nCompressedClassSpaceSize. If the space needed for<br>\nUseCompressedClassPointers exceeds CompressedClassSpaceSize, a<br>\njava.lang.OutOfMemoryError with detail Compressed class space is<br>\nthrown.</em></li>\n</ul>\n\n<p>kindly point me to some link that explains what is stored in CompressedClassSpaceSize &amp; Metaspace</p>\n"},{"tags":["java","jakarta-ee","ejb"],"comments":[{"owner":{"account_id":424958,"reputation":5361,"user_id":805252,"accept_rate":82,"display_name":"Kheldar"},"score":2,"creation_date":1315075460,"post_id":7295096,"comment_id":8788183,"body_markdown":"Check http://stackoverflow.com/questions/1286019/starting-java-ee-mvc","body":"Check <a href=\"http://stackoverflow.com/questions/1286019/starting-java-ee-mvc\">stackoverflow.com/questions/1286019/starting-java-ee-mvc</a>"},{"owner":{"account_id":424958,"reputation":5361,"user_id":805252,"accept_rate":82,"display_name":"Kheldar"},"score":2,"creation_date":1315075748,"post_id":7295096,"comment_id":8788227,"body_markdown":"You should cut this question in two questions though, one is a duplicate, the other I think is not answered in the link there.","body":"You should cut this question in two questions though, one is a duplicate, the other I think is not answered in the link there."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":2,"creation_date":1315081946,"post_id":7295096,"comment_id":8789141,"body_markdown":"Actually, did you read the [java-ee] [tag wiki](http://meta.stackoverflow.com/posts/66297/revisions)?","body":"Actually, did you read the [java-ee] <a href=\"http://meta.stackoverflow.com/posts/66297/revisions\">tag wiki</a>?"},{"owner":{"account_id":65909,"reputation":52734,"user_id":193653,"accept_rate":84,"display_name":"claws"},"score":0,"creation_date":1355343566,"post_id":7295096,"comment_id":19063263,"body_markdown":"also read: http://stackoverflow.com/questions/106820/what-is-java-ee","body":"also read: <a href=\"http://stackoverflow.com/questions/106820/what-is-java-ee\">stackoverflow.com/questions/106820/what-is-java-ee</a>"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1467135870,"post_id":7295096,"comment_id":63602214,"body_markdown":"also: [who-implement-the-specification](http://stackoverflow.com/questions/37983860/java-ee-who-implement-the-specification/37985284?noredirect=1#comment63456009_37985284)","body":"also: <a href=\"http://stackoverflow.com/questions/37983860/java-ee-who-implement-the-specification/37985284?noredirect=1#comment63456009_37985284\">who-implement-the-specification</a>"},{"owner":{"account_id":382980,"reputation":590,"user_id":738556,"display_name":"Viraj"},"score":0,"creation_date":1520442130,"post_id":7295096,"comment_id":85319663,"body_markdown":"Jakarta EE is the new name for Java EE.","body":"Jakarta EE is the new name for Java EE."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1522018474,"post_id":7295096,"comment_id":85966468,"body_markdown":"Related: [*Java EE Web Profile vs Java EE Full Platform*](https://stackoverflow.com/q/24239978/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/24239978/642706\"><i>Java EE Web Profile vs Java EE Full Platform</i></a>"},{"owner":{"account_id":2812914,"reputation":1644,"user_id":2418764,"accept_rate":50,"display_name":"Alex Theedom"},"score":0,"creation_date":1522921159,"post_id":7295096,"comment_id":86348012,"body_markdown":"Java EE past, present and future provides context: https://readlearncode.com/java-ee/java-ee-past-present-and-future/","body":"Java EE past, present and future provides context: <a href=\"https://readlearncode.com/java-ee/java-ee-past-present-and-future/\" rel=\"nofollow noreferrer\">readlearncode.com/java-ee/java-ee-past-present-and-future</a>"},{"owner":{"account_id":1207211,"reputation":506,"user_id":1176557,"accept_rate":83,"display_name":"H.R."},"score":1,"creation_date":1557846284,"post_id":7295096,"comment_id":98898005,"body_markdown":"well java EE is just like ruby on rails EE or javascript EE chose any language today and just call it EE that it sounds niceer....no other language needs some Marketing buzzwords like enterprise edition just to say hey i can do web and db.  \n  &quot;I know java&quot; &quot;wait, you know Java or Java EE&quot; .. WTF its like braging i can do http request in javascript or acces db in rails.. wow magic. but business ppl love the words ENTERPRISE EDITION .... drop the EE Java!","body":"well java EE is just like ruby on rails EE or javascript EE chose any language today and just call it EE that it sounds niceer....no other language needs some Marketing buzzwords like enterprise edition just to say hey i can do web and db.     &quot;I know java&quot; &quot;wait, you know Java or Java EE&quot; .. WTF its like braging i can do http request in javascript or acces db in rails.. wow magic. but business ppl love the words ENTERPRISE EDITION .... drop the EE Java!"}],"answers":[{"tags":[],"owner":{"account_id":424572,"reputation":5911,"user_id":804637,"display_name":"Prabath Siriwardena"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1315145359,"creation_date":1315076204,"answer_id":7295172,"question_id":7295096,"body_markdown":"Java Enterprise Edition (Java EE) is an umbrella specification that references a number of other more detailed specifications, of which Enterprise JavaBeans (EJB) is one of the more important ones.\r\n\r\nRead [this][1] - it explains the difference between Java EE and Spring\r\n\r\nThanks...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2822812/spring-3-0-vs-j2ee-6-0","title":"What exactly is Java EE?","body":"<p>Java Enterprise Edition (Java EE) is an umbrella specification that references a number of other more detailed specifications, of which Enterprise JavaBeans (EJB) is one of the more important ones.</p>\n\n<p>Read <a href=\"https://stackoverflow.com/questions/2822812/spring-3-0-vs-j2ee-6-0\">this</a> - it explains the difference between Java EE and Spring</p>\n\n<p>Thanks...</p>\n"},{"tags":[],"owner":{"account_id":424465,"reputation":2814,"user_id":804477,"display_name":"Srikanth Venkatesh"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1415204977,"creation_date":1315076440,"answer_id":7295207,"question_id":7295096,"body_markdown":" - [Source][1] -- Java 2 Platform, Enterprise Edition (J2EE) defines the standard for developing component-based multitier enterprise applications. J2EE simplifies building enterprise applications that are portable, scalable, and that integrate easily with legacy applications and data .\r\n\r\n - [Source][2] -- Enterprise JavaBeans (EJB) technology is the server-side component architecture for Java Platform, Enterprise Edition (Java EE). EJB technology enables rapid and simplified development of distributed, transactional, secure and portable applications based on Java technology.\r\n\r\n - &gt;Is Java EE just a specification? What I mean is: Is EJB Java EE?\r\n \r\n     -  Java EE is a specification.\r\n  \r\n     -  EJB is server side component architecture for Java EE\r\n\r\n - &gt;Are EJB/Spring different implementations of Java EE?\r\n   \r\n     - Both EJB and Spring are different frameworks following Java EE.\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2ee/\r\n  [2]: http://www.oracle.com/technetwork/java/javaee/ejb/index.html","title":"What exactly is Java EE?","body":"<ul>\n<li><p><a href=\"http://java.sun.com/j2ee/\" rel=\"nofollow\">Source</a> -- Java 2 Platform, Enterprise Edition (J2EE) defines the standard for developing component-based multitier enterprise applications. J2EE simplifies building enterprise applications that are portable, scalable, and that integrate easily with legacy applications and data .</p></li>\n<li><p><a href=\"http://www.oracle.com/technetwork/java/javaee/ejb/index.html\" rel=\"nofollow\">Source</a> -- Enterprise JavaBeans (EJB) technology is the server-side component architecture for Java Platform, Enterprise Edition (Java EE). EJB technology enables rapid and simplified development of distributed, transactional, secure and portable applications based on Java technology.</p></li>\n<li><blockquote>\n  <p>Is Java EE just a specification? What I mean is: Is EJB Java EE?</p>\n</blockquote>\n\n<ul>\n<li><p>Java EE is a specification.</p></li>\n<li><p>EJB is server side component architecture for Java EE</p></li>\n</ul></li>\n<li><blockquote>\n  <p>Are EJB/Spring different implementations of Java EE?</p>\n</blockquote>\n\n<ul>\n<li>Both EJB and Spring are different frameworks following Java EE.</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":231,"is_accepted":false,"score":230,"last_activity_date":1685534080,"creation_date":1315081621,"answer_id":7295697,"question_id":7295096,"body_markdown":"&lt;sup&gt;&lt;sup&gt;(Updated May 2023)&lt;/sup&gt;&lt;/sup&gt;\r\n\r\nFirst of all, &quot;Java EE&quot; has since Sep 2019 been renamed to &quot;**Jakarta EE**&quot;, starting with version 8. Historically, there was also the term &quot;J2EE&quot; which covered versions 1.2 until 1.4. The term &quot;Java EE&quot; covered versions 5 until 8. See also [Jakarta EE, History on Wikipedia][1].\r\n\r\n----------\r\n\r\n\r\n&gt; *Is Jakarta EE just a specification? What I mean is: Is EJB Jakarta EE?*\r\n\r\n[Jakarta EE][2] is indeed an **abstract** specification. Anybody is open to develop and provide a working [implementation][3] of the specification. The *concrete* implementations are the so-called application servers, like [WildFly][4], [TomEE][5], [GlassFish][6], [Liberty][7], [WebLogic][8], etc. There are also servlet containers which implement only the JSP/Servlet part of the huge Jakarta EE API, such as [Tomcat][9], [Jetty][10], etc.\r\n\r\nWe, Jakarta EE developers, should write code utilizing the specification (i.e. import *only* `jakarta.*` classes in our code instead of implementation specific classes such as `org.jboss.wildfly.*`, `com.sun.glassfish.*`, `org.apache.tomcat.*`, etc) and then we&#39;ll be able to run our code on any implementation (thus, on any application server). If you&#39;re familiar with JDBC, it&#39;s basically the same concept as how JDBC drivers work. See also a.o. https://stackoverflow.com/questions/7550612/in-simplest-terms-what-is-a-factory\r\n\r\nEJB is part of the Jakarta EE specification. Look, [it&#39;s in the Jakarta EE API][11]. Full-fledged Jakarta EE application servers support it out the box, but simple JSP/Servlet containers don&#39;t.\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/1958808/java-jakarta-ee-web-development-where-do-i-start-and-what-skills-do-i-need\r\n- https://stackoverflow.com/questions/65703840/how-to-properly-configure-jakarta-ee-libraries-in-maven-pom-xml-for-tomcat/65704617#65704617\r\n\r\n---\r\n\r\n&gt; *Are EJB/Spring different implementations of Jakarta EE?*\r\n\r\nNo, as said, EJB is part of Jakarta EE. Spring is a standalone framework which substitutes and improves many parts of Jakarta EE. Spring doesn&#39;t necessarily require Jakarta EE to run. A bare-bones servlet container like Tomcat is already sufficient. Simply put, Spring is a competitor of Jakarta EE. E.g. &quot;Spring&quot; (standalone) competes EJB/JTA, Spring MVC competes Faces/REST/MVC, Spring DI/IoC/AOP competes CDI, Spring Security competes JASPIC/Security, Spring Boot competes MicroProfile, etc.\r\n\r\nBack during the old J2EE/EJB2 times, the EJB2 API was terrible to implement and maintain. Spring was then a much better alternative to EJB2. But since EJB3 (Java EE 5), the EJB API was much improved based on lessons learnt from Spring. Since CDI (Java EE 6), there&#39;s not really a reason to look at again *another* framework like Spring to make the developers more easy as to developing among others the service layer.\r\n\r\nOnly when you&#39;re using a bare-bones servlet container such as Tomcat and can&#39;t move on to a Jakarta EE server, then Spring is more attractive as it&#39;s easier to install Spring on Tomcat. It isn&#39;t possible to install e.g. an EJB container on Tomcat without modifying the server itself, you would basically be reinventing TomEE.\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/18369356/when-is-it-necessary-or-convenient-to-use-springjsf2-or-ejb3jsf2-or-all-of-the\r\n- https://stackoverflow.com/questions/18744910/using-jsf-as-view-technology-of-spring-mvc\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Jakarta_EE#History\r\n  [2]: https://jakarta.ee\r\n  [3]: https://jakarta.ee/compatibility/\r\n  [4]: https://wildfly.org\r\n  [5]: https://tomee.apache.org\r\n  [6]: https://glassfish.org\r\n  [7]: https://www.ibm.com/cloud/websphere-liberty\r\n  [8]: https://www.oracle.com/middleware/technologies/weblogic.html\r\n  [9]: https://tomcat.apache.org\r\n  [10]: https://www.eclipse.org/jetty/\r\n  [11]: https://jakarta.ee/specifications/enterprise-beans/4.0/apidocs/jakarta/ejb/package-summary.html","title":"What exactly is Java EE?","body":"<p><sup><sup>(Updated May 2023)</sup></sup></p>\n<p>First of all, &quot;Java EE&quot; has since Sep 2019 been renamed to &quot;<strong>Jakarta EE</strong>&quot;, starting with version 8. Historically, there was also the term &quot;J2EE&quot; which covered versions 1.2 until 1.4. The term &quot;Java EE&quot; covered versions 5 until 8. See also <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE#History\" rel=\"nofollow noreferrer\">Jakarta EE, History on Wikipedia</a>.</p>\n<hr />\n<blockquote>\n<p><em>Is Jakarta EE just a specification? What I mean is: Is EJB Jakarta EE?</em></p>\n</blockquote>\n<p><a href=\"https://jakarta.ee\" rel=\"nofollow noreferrer\">Jakarta EE</a> is indeed an <strong>abstract</strong> specification. Anybody is open to develop and provide a working <a href=\"https://jakarta.ee/compatibility/\" rel=\"nofollow noreferrer\">implementation</a> of the specification. The <em>concrete</em> implementations are the so-called application servers, like <a href=\"https://wildfly.org\" rel=\"nofollow noreferrer\">WildFly</a>, <a href=\"https://tomee.apache.org\" rel=\"nofollow noreferrer\">TomEE</a>, <a href=\"https://glassfish.org\" rel=\"nofollow noreferrer\">GlassFish</a>, <a href=\"https://www.ibm.com/cloud/websphere-liberty\" rel=\"nofollow noreferrer\">Liberty</a>, <a href=\"https://www.oracle.com/middleware/technologies/weblogic.html\" rel=\"nofollow noreferrer\">WebLogic</a>, etc. There are also servlet containers which implement only the JSP/Servlet part of the huge Jakarta EE API, such as <a href=\"https://tomcat.apache.org\" rel=\"nofollow noreferrer\">Tomcat</a>, <a href=\"https://www.eclipse.org/jetty/\" rel=\"nofollow noreferrer\">Jetty</a>, etc.</p>\n<p>We, Jakarta EE developers, should write code utilizing the specification (i.e. import <em>only</em> <code>jakarta.*</code> classes in our code instead of implementation specific classes such as <code>org.jboss.wildfly.*</code>, <code>com.sun.glassfish.*</code>, <code>org.apache.tomcat.*</code>, etc) and then we'll be able to run our code on any implementation (thus, on any application server). If you're familiar with JDBC, it's basically the same concept as how JDBC drivers work. See also a.o. <a href=\"https://stackoverflow.com/questions/7550612/in-simplest-terms-what-is-a-factory\">In simplest terms, what is a factory?</a></p>\n<p>EJB is part of the Jakarta EE specification. Look, <a href=\"https://jakarta.ee/specifications/enterprise-beans/4.0/apidocs/jakarta/ejb/package-summary.html\" rel=\"nofollow noreferrer\">it's in the Jakarta EE API</a>. Full-fledged Jakarta EE application servers support it out the box, but simple JSP/Servlet containers don't.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1958808/java-jakarta-ee-web-development-where-do-i-start-and-what-skills-do-i-need\">Java / Jakarta EE web development, where do I start and what skills do I need?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/65703840/how-to-properly-configure-jakarta-ee-libraries-in-maven-pom-xml-for-tomcat/65704617#65704617\">How to properly configure Jakarta EE libraries in Maven pom.xml for Tomcat?</a></li>\n</ul>\n<hr />\n<blockquote>\n<p><em>Are EJB/Spring different implementations of Jakarta EE?</em></p>\n</blockquote>\n<p>No, as said, EJB is part of Jakarta EE. Spring is a standalone framework which substitutes and improves many parts of Jakarta EE. Spring doesn't necessarily require Jakarta EE to run. A bare-bones servlet container like Tomcat is already sufficient. Simply put, Spring is a competitor of Jakarta EE. E.g. &quot;Spring&quot; (standalone) competes EJB/JTA, Spring MVC competes Faces/REST/MVC, Spring DI/IoC/AOP competes CDI, Spring Security competes JASPIC/Security, Spring Boot competes MicroProfile, etc.</p>\n<p>Back during the old J2EE/EJB2 times, the EJB2 API was terrible to implement and maintain. Spring was then a much better alternative to EJB2. But since EJB3 (Java EE 5), the EJB API was much improved based on lessons learnt from Spring. Since CDI (Java EE 6), there's not really a reason to look at again <em>another</em> framework like Spring to make the developers more easy as to developing among others the service layer.</p>\n<p>Only when you're using a bare-bones servlet container such as Tomcat and can't move on to a Jakarta EE server, then Spring is more attractive as it's easier to install Spring on Tomcat. It isn't possible to install e.g. an EJB container on Tomcat without modifying the server itself, you would basically be reinventing TomEE.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18369356/when-is-it-necessary-or-convenient-to-use-springjsf2-or-ejb3jsf2-or-all-of-the\">When is it necessary or convenient to use Spring or EJB3 or all of them together?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18744910/using-jsf-as-view-technology-of-spring-mvc\">Using JSF as view technology of Spring MVC</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2193313,"reputation":1102,"user_id":1939735,"accept_rate":93,"display_name":"SoftwareDeveloper"},"down_vote_count":9,"up_vote_count":3,"is_accepted":false,"score":-6,"last_activity_date":1441569555,"creation_date":1441569555,"answer_id":32427707,"question_id":7295096,"body_markdown":"To put simply - JavaEE is a platform. \r\n\r\nIt is made up of many specifications which are just APIs. The specific concrete implementations of these APIs are the so called &#39;Reference Implementation&#39;\r\n\r\n1. EJB is just one specification within the JavaEE platform\r\n2. No, Spring is a application framework that can allow you/has support for you to develop JavaEE applications\r\n\r\nEJB is Enterprise Java Beans","title":"What exactly is Java EE?","body":"<p>To put simply - JavaEE is a platform. </p>\n\n<p>It is made up of many specifications which are just APIs. The specific concrete implementations of these APIs are the so called 'Reference Implementation'</p>\n\n<ol>\n<li>EJB is just one specification within the JavaEE platform</li>\n<li>No, Spring is a application framework that can allow you/has support for you to develop JavaEE applications</li>\n</ol>\n\n<p>EJB is Enterprise Java Beans</p>\n"},{"tags":[],"owner":{"account_id":22464012,"reputation":5,"user_id":16665454,"display_name":"Ravi R. Oza"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1631812729,"creation_date":1631812729,"answer_id":69212663,"question_id":7295096,"body_markdown":"J2EE/JEE/Jakarta EE\r\n\r\n - Java Enterprise Edition (JEE) is used to develop distributed application &amp;\r\n   web services. \r\n - It’s a component based approach to develop web app.\r\n - JEE web apps are considered as 3 tiered apps, since it is divided on 3   \r\n   different machines/tiers\r\n    - Client (Presentation) \r\n    - J2EE sever (Application/Business)\r\n    - Database (Data Access)","title":"What exactly is Java EE?","body":"<p>J2EE/JEE/Jakarta EE</p>\n<ul>\n<li>Java Enterprise Edition (JEE) is used to develop distributed application &amp;\nweb services.</li>\n<li>It’s a component based approach to develop web app.</li>\n<li>JEE web apps are considered as 3 tiered apps, since it is divided on 3<br />\ndifferent machines/tiers\n<ul>\n<li>Client (Presentation)</li>\n<li>J2EE sever (Application/Business)</li>\n<li>Database (Data Access)</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22063167,"reputation":339,"user_id":16325455,"display_name":"Spyros"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1640792886,"creation_date":1640792886,"answer_id":70521731,"question_id":7295096,"body_markdown":"Everything you need to know about Java EE may be found by starting @ [Oracle official website][1], among other. You may also find interesting to read the [specification APIs for release 8][2]. It is worth taking the time to go through the [Java EE 8 tutorial][3]. You may want to start with it actually, because it provides a very good overview of the whole platform.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/java-ee-glance.html\r\n  [2]: https://javaee.github.io/javaee-spec/javadocs/\r\n  [3]: https://javaee.github.io/tutorial/toc.html","title":"What exactly is Java EE?","body":"<p>Everything you need to know about Java EE may be found by starting @ <a href=\"https://www.oracle.com/java/technologies/java-ee-glance.html\" rel=\"nofollow noreferrer\">Oracle official website</a>, among other. You may also find interesting to read the <a href=\"https://javaee.github.io/javaee-spec/javadocs/\" rel=\"nofollow noreferrer\">specification APIs for release 8</a>. It is worth taking the time to go through the <a href=\"https://javaee.github.io/tutorial/toc.html\" rel=\"nofollow noreferrer\">Java EE 8 tutorial</a>. You may want to start with it actually, because it provides a very good overview of the whole platform.</p>\n"}],"owner":{"account_id":887929,"reputation":1919,"user_id":926906,"display_name":"Frank Zimmer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66628,"favorite_count":0,"down_vote_count":2,"up_vote_count":192,"answer_count":6,"score":190,"last_activity_date":1685534080,"creation_date":1315075347,"question_id":7295096,"body_markdown":"I have been doing Java SE for some years now and moving on to Java EE. However, I have some trouble understanding some aspects of Java EE.\r\n\r\n1. Is Java EE just a specification? What I mean is: Is EJB Java EE?  \r\n\r\n2. Are EJB/Spring different implementations of Java EE?\r\n\r\nI am sorry to ask but I have some difficulties to understand what Java EE is.  \r\n\r\n**Could someone explain what Java EE is? And EJB?**","title":"What exactly is Java EE?","body":"<p>I have been doing Java SE for some years now and moving on to Java EE. However, I have some trouble understanding some aspects of Java EE.</p>\n\n<ol>\n<li><p>Is Java EE just a specification? What I mean is: Is EJB Java EE?  </p></li>\n<li><p>Are EJB/Spring different implementations of Java EE?</p></li>\n</ol>\n\n<p>I am sorry to ask but I have some difficulties to understand what Java EE is.  </p>\n\n<p><strong>Could someone explain what Java EE is? And EJB?</strong></p>\n"},{"tags":["java","soap","service","cxf","ws-security"],"owner":{"account_id":18837021,"reputation":11,"user_id":13739445,"display_name":"Andre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685533234,"creation_date":1592049660,"question_id":62359460,"body_markdown":"I have created a java SOAP ws client for a SOAP web service which expects a username and a password inside a usernametoken element. I used cxf(3.3.2) to create my web service client.I have added as a dependecy cxf-rt-ws-security.My client code looks like this:\r\n\r\n    BindingProvider bp=(BindingProvider) port;\r\n    \r\n    bp.getRequestContext().put(SecurityConstants.USERNAME, username);\r\n    bp.getRequestContext().put(SecurityConstants.PASSWORD, password);\r\n\r\nThe problem is that the cxf automatically adds the &#39;tmu:Timestamp&#39; element at the SOAP header, but the web service does not like it, and I receive &quot;An error occurred when verifying security for the message.&quot;\r\nIf I remove manually the &#39;tmu:Timestamp&#39; element and send the request with SOAP UI, the request is sucessfully processed by the webservice.\r\n\r\nMy soap header looks like this:\r\n\r\n    &lt;soap:Header&gt;\r\n       &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; soap:mustUnderstand=&quot;true&quot;&gt;\r\n            &lt;wsu:Timestamp wsu:Id=&quot;TS-254d999a-5835-49ae-8acf-1f0d8821881b&quot;&gt;\r\n                \t\t&lt;wsu:Created&gt;2020-06-13T11:47:23.160Z&lt;/wsu:Created&gt;\r\n                \t\t&lt;wsu:Expires&gt;2020-06-13T11:52:23.160Z&lt;/wsu:Expires&gt;\r\n                &lt;/wsu:Timestamp&gt;\r\n                &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-39e0a8f0-b3b3-4225-8270-375681fc1866&quot;&gt;\r\n                \t&lt;wsse:Username&gt;username&lt;/wsse:Username&gt;\r\n                \t&lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;password&lt;/wsse:Password&gt;\r\n             &lt;/wsse:UsernameToken&gt;\r\n        &lt;/wsse:Security&gt;\r\n    &lt;/soap:Header&gt;\r\n\r\nI tried to remove the &#39;wsu:Timestamp&#39; element with a SOAPHandler but it failed.\r\nAny help will be usefull. :)\r\n\r\n\r\n\r\n","title":"How to remove cxf &#39;tmu:Timestamp&#39; from SOAP header","body":"<p>I have created a java SOAP ws client for a SOAP web service which expects a username and a password inside a usernametoken element. I used cxf(3.3.2) to create my web service client.I have added as a dependecy cxf-rt-ws-security.My client code looks like this:</p>\n\n<pre><code>BindingProvider bp=(BindingProvider) port;\n\nbp.getRequestContext().put(SecurityConstants.USERNAME, username);\nbp.getRequestContext().put(SecurityConstants.PASSWORD, password);\n</code></pre>\n\n<p>The problem is that the cxf automatically adds the 'tmu:Timestamp' element at the SOAP header, but the web service does not like it, and I receive \"An error occurred when verifying security for the message.\"\nIf I remove manually the 'tmu:Timestamp' element and send the request with SOAP UI, the request is sucessfully processed by the webservice.</p>\n\n<p>My soap header looks like this:</p>\n\n<pre><code>&lt;soap:Header&gt;\n   &lt;wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" soap:mustUnderstand=\"true\"&gt;\n        &lt;wsu:Timestamp wsu:Id=\"TS-254d999a-5835-49ae-8acf-1f0d8821881b\"&gt;\n                    &lt;wsu:Created&gt;2020-06-13T11:47:23.160Z&lt;/wsu:Created&gt;\n                    &lt;wsu:Expires&gt;2020-06-13T11:52:23.160Z&lt;/wsu:Expires&gt;\n            &lt;/wsu:Timestamp&gt;\n            &lt;wsse:UsernameToken wsu:Id=\"UsernameToken-39e0a8f0-b3b3-4225-8270-375681fc1866\"&gt;\n                &lt;wsse:Username&gt;username&lt;/wsse:Username&gt;\n                &lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;password&lt;/wsse:Password&gt;\n         &lt;/wsse:UsernameToken&gt;\n    &lt;/wsse:Security&gt;\n&lt;/soap:Header&gt;\n</code></pre>\n\n<p>I tried to remove the 'wsu:Timestamp' element with a SOAPHandler but it failed.\nAny help will be usefull. :)</p>\n"},{"tags":["java","hibernate","jdbc","transactions"],"answers":[{"tags":[],"owner":{"account_id":1562954,"reputation":1027,"user_id":1452410,"display_name":"Ed Morales"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404448196,"creation_date":1404448196,"answer_id":24566723,"question_id":24566636,"body_markdown":"If its one statement you wouldnt tell the difference, but if you are trying to do ***multiple statements*** in a ***single*** transaction you would see what they are for.\r\n\r\nIf you open a transaction and attempt multiple `CRUD` operations and one fails, you can roll back the transaction and pretty much go back to a previous state within the transaction (even before everything). \r\n\r\nOn the other hand, if you dont open a transaction, its opened and closed implicitly every time you use a statement so if you do multiple `CRUD` operations and one fails, there is no way to roll back the data and you will end up with bad data.\r\n\r\nSide note : this doesnt really matter for ***select*** statements","title":"Hibernate get without explicit Transaction","body":"<p>If its one statement you wouldnt tell the difference, but if you are trying to do <strong><em>multiple statements</em></strong> in a <strong><em>single</em></strong> transaction you would see what they are for.</p>\n\n<p>If you open a transaction and attempt multiple <code>CRUD</code> operations and one fails, you can roll back the transaction and pretty much go back to a previous state within the transaction (even before everything). </p>\n\n<p>On the other hand, if you dont open a transaction, its opened and closed implicitly every time you use a statement so if you do multiple <code>CRUD</code> operations and one fails, there is no way to roll back the data and you will end up with bad data.</p>\n\n<p>Side note : this doesnt really matter for <strong><em>select</em></strong> statements</p>\n"}],"owner":{"account_id":1769821,"reputation":8891,"user_id":1614870,"accept_rate":57,"display_name":"Abhijit Mazumder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685532992,"creation_date":1404447531,"question_id":24566636,"body_markdown":"I am trying to understand the reason behind using transaction in the following piece of code retrieved from Hibernate Documentation.\r\n\r\n\r\n\r\n\r\n    Session session1 = factory1.openSession();\r\n    Transaction tx1 = session1.beginTransaction();\r\n    Cat cat = session1.get(Cat.class, catId);\r\n    tx1.commit();\r\n    session1.close();\r\n    //reconcile with a second database\r\n    Session session2 = factory2.openSession();\r\n    Transaction tx2 = session2.beginTransaction();\r\n    session2.replicate(cat, ReplicationMode.LATEST_VERSION);\r\n    tx2.commit();\r\n    session2.close();\r\n\r\n\r\nWhat I understand from this [JBOSS Docs][1] that even though if I dont use a transaction that should not be a problem in this case. Can some body educate me more on this in terms of isolation etc . what actually happens if we do or dont use transaction in the above scenario\r\n\r\n*Working nontransactionally with Hibernate\r\nLook at the following code, which accesses the database without transaction boundaries:*\r\n\r\n    Session session = sessionFactory.openSession();   \r\n    session.get(Item.class, 123l);   \r\n    session.close();   \r\n     \r\n\r\n*By default, in a Java SE environment with a JDBC configuration, this is what happens if you execute this snippet:\r\n1. A new Session is opened. It doesn’t obtain a database connection at this point.\r\n2. The call to get() triggers an SQL SELECT. The Session now obtains a JDBC Connection from the connection pool. Hibernate, by default, immediately turns off the autocommit mode on this connection with setAutoCommit(false). This effectively starts a JDBC transaction!\r\n3. The SELECT is executed inside this JDBC transaction. The Session is closed, and the connection is returned to the pool and released by Hibernate — Hibernate calls close() on the JDBC Connection. What happens to the uncommitted transaction?   The answer to that question is, “It depends!” The JDBC specification doesn’t say anything about pending transactions when close() is called on a connection. What happens depends on how the vendors implement the specification. With Oracle JDBC drivers, for example, the call to close() commits the transaction! Most other JDBC vendors take the sane route and roll back any pending transaction when the JDBC Connection object is closed and the resource is returned to the pool. Obviously, this won’t be a problem for the SELECT you’ve executed, but look at this variation:*\r\n\r\n\r\n[1]: https://developer.jboss.org/docs/DOC-13953","title":"Hibernate get without explicit Transaction","body":"<p>I am trying to understand the reason behind using transaction in the following piece of code retrieved from Hibernate Documentation.</p>\n<pre><code>Session session1 = factory1.openSession();\nTransaction tx1 = session1.beginTransaction();\nCat cat = session1.get(Cat.class, catId);\ntx1.commit();\nsession1.close();\n//reconcile with a second database\nSession session2 = factory2.openSession();\nTransaction tx2 = session2.beginTransaction();\nsession2.replicate(cat, ReplicationMode.LATEST_VERSION);\ntx2.commit();\nsession2.close();\n</code></pre>\n<p>What I understand from this <a href=\"https://developer.jboss.org/docs/DOC-13953\" rel=\"nofollow noreferrer\">JBOSS Docs</a> that even though if I dont use a transaction that should not be a problem in this case. Can some body educate me more on this in terms of isolation etc . what actually happens if we do or dont use transaction in the above scenario</p>\n<p><em>Working nontransactionally with Hibernate\nLook at the following code, which accesses the database without transaction boundaries:</em></p>\n<pre><code>Session session = sessionFactory.openSession();   \nsession.get(Item.class, 123l);   \nsession.close();   \n \n</code></pre>\n<p>*By default, in a Java SE environment with a JDBC configuration, this is what happens if you execute this snippet:</p>\n<ol>\n<li>A new Session is opened. It doesn’t obtain a database connection at this point.</li>\n<li>The call to get() triggers an SQL SELECT. The Session now obtains a JDBC Connection from the connection pool. Hibernate, by default, immediately turns off the autocommit mode on this connection with setAutoCommit(false). This effectively starts a JDBC transaction!</li>\n<li>The SELECT is executed inside this JDBC transaction. The Session is closed, and the connection is returned to the pool and released by Hibernate — Hibernate calls close() on the JDBC Connection. What happens to the uncommitted transaction?   The answer to that question is, “It depends!” The JDBC specification doesn’t say anything about pending transactions when close() is called on a connection. What happens depends on how the vendors implement the specification. With Oracle JDBC drivers, for example, the call to close() commits the transaction! Most other JDBC vendors take the sane route and roll back any pending transaction when the JDBC Connection object is closed and the resource is returned to the pool. Obviously, this won’t be a problem for the SELECT you’ve executed, but look at this variation:*</li>\n</ol>\n"},{"tags":["java","multithreading","concurrency","java-threads","thread-synchronization"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1684585557,"post_id":76295207,"comment_id":134540384,"body_markdown":"`ada.wait()` will only stop blocking, when `ada.notify()` or `ada.notifyAll()` has been called after `t2` has called `ada.wait()`. For me, the logic of the program looks broken.","body":"<code>ada.wait()</code> will only stop blocking, when <code>ada.notify()</code> or <code>ada.notifyAll()</code> has been called after <code>t2</code> has called <code>ada.wait()</code>. For me, the logic of the program looks broken."}],"answers":[{"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685031540,"creation_date":1684585499,"answer_id":76295221,"question_id":76295207,"body_markdown":"In order to achieve the desired output where &quot;Thread 1 den&quot; is printed before &quot;Thread 2 den&quot;, and &quot;Thread 1 ada&quot; is printed before &quot;Thread 2 ada&quot;, you can use wait() and notifyAll() methods to synchronize the execution of the threads. Here&#39;s an updated version of your code:\r\n\r\n        class MyThreads {\r\n        public final static Object den = new Object();\r\n        public final static Object ada = new Object();\r\n    \r\n        public static Thread t1 = new Thread() {\r\n            public void run() {\r\n                System.out.println(&quot;Thread 1 den&quot;);\r\n                synchronized (den) {\r\n                    try {\r\n                        den.wait();  // Wait until den is notified\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                System.out.println(&quot;Thread 1 ada&quot;);\r\n                \r\n                synchronized (ada) {\r\n                    ada.notifyAll();  // Notify ada to wake up Thread 2\r\n                }\r\n            }\r\n        };\r\n    \r\n        public static Thread t2 = new Thread() {\r\n            public void run() {\r\n                synchronized (den) {\r\n                System.out.println(&quot;Thread 2 den&quot;);\r\n                den.notifyAll();\r\n                }\r\n\r\n                synchronized (ada) {\r\n                    try {\r\n                        ada.wait();  // Wait until ada is notified\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                System.out.println(&quot;Thread 2 ada&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\nIn the updated code, the t1 thread first enters a synchronized block on den and calls den.wait(). This causes t1 to wait until it is notified by another thread. Meanwhile, t2 thread is executed and it enters a synchronized block on den and calls den.notifyAll(), which wakes up the waiting t1 thread.\r\n\r\nAfter t1 is awakened, it prints &quot;Thread 1 den&quot;. Then, it enters a synchronized block on ada and calls ada.notifyAll(), which wakes up the waiting t2 thread.\r\n\r\nFinally, t2 is awakened and it prints &quot;Thread 2 ada&quot;.\r\n\r\nBy using wait() and notifyAll() methods along with synchronized blocks, you can control the order of execution between the threads and achieve the desired output.\r\n\r\n","title":"How to properly synchronized 2 threads on 2 different objects in Java with wait/notify?","body":"<p>In order to achieve the desired output where &quot;Thread 1 den&quot; is printed before &quot;Thread 2 den&quot;, and &quot;Thread 1 ada&quot; is printed before &quot;Thread 2 ada&quot;, you can use wait() and notifyAll() methods to synchronize the execution of the threads. Here's an updated version of your code:</p>\n<pre><code>    class MyThreads {\n    public final static Object den = new Object();\n    public final static Object ada = new Object();\n\n    public static Thread t1 = new Thread() {\n        public void run() {\n            System.out.println(&quot;Thread 1 den&quot;);\n            synchronized (den) {\n                try {\n                    den.wait();  // Wait until den is notified\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            System.out.println(&quot;Thread 1 ada&quot;);\n            \n            synchronized (ada) {\n                ada.notifyAll();  // Notify ada to wake up Thread 2\n            }\n        }\n    };\n\n    public static Thread t2 = new Thread() {\n        public void run() {\n            synchronized (den) {\n            System.out.println(&quot;Thread 2 den&quot;);\n            den.notifyAll();\n            }\n\n            synchronized (ada) {\n                try {\n                    ada.wait();  // Wait until ada is notified\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            System.out.println(&quot;Thread 2 ada&quot;);\n        }\n    };\n}\n</code></pre>\n<p>In the updated code, the t1 thread first enters a synchronized block on den and calls den.wait(). This causes t1 to wait until it is notified by another thread. Meanwhile, t2 thread is executed and it enters a synchronized block on den and calls den.notifyAll(), which wakes up the waiting t1 thread.</p>\n<p>After t1 is awakened, it prints &quot;Thread 1 den&quot;. Then, it enters a synchronized block on ada and calls ada.notifyAll(), which wakes up the waiting t2 thread.</p>\n<p>Finally, t2 is awakened and it prints &quot;Thread 2 ada&quot;.</p>\n<p>By using wait() and notifyAll() methods along with synchronized blocks, you can control the order of execution between the threads and achieve the desired output.</p>\n"},{"tags":[],"owner":{"account_id":28718697,"reputation":1,"user_id":21992811,"display_name":"user21992811"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685532700,"creation_date":1685532700,"answer_id":76373030,"question_id":76295207,"body_markdown":"\r\n[The javadoc for Object.wait(...) methods](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)) advises this:\r\n&gt; The recommended approach to waiting is to check the condition being awaited in a while loop around the call to wait, as shown in the example below. Among other things, this approach avoids problems that can be caused by spurious wakeups.\r\n&gt;\r\n&gt; ```\r\n&gt;    synchronized (obj) {\r\n&gt;        while (&lt;condition does not hold&gt; and &lt;timeout not exceeded&gt;) {\r\n&gt;            long timeoutMillis = ... ; // recompute timeout values\r\n&gt;            int nanos = ... ;\r\n&gt;            obj.wait(timeoutMillis, nanos);\r\n&gt;        }\r\n&gt;        ... // Perform action appropriate to condition or timeout\r\n&gt;    }\r\n&gt; ```\r\n\r\nSo you can do something like this:\r\n\r\n```\r\nclass MyThreads {\r\n  final static Object lockObj = new Object();\r\n  static int lineToPrint;\r\n  \r\n  static {\r\n    synchronized (lockObj) {\r\n      lineToPrint = 1;\r\n    }\r\n  }\r\n\r\n  public static Thread t1 = new Thread() {\r\n    public void run() {\r\n      waitThenPrintLine(1, &quot;Thread 1 den&quot;);\r\n      waitThenPrintLine(3, &quot;Thread 1 ada&quot;);\r\n    }\r\n  };\r\n\r\n  public static Thread t2 = new Thread() {\r\n    public void run() {\r\n      waitThenPrintLine(2, &quot;Thread 2 den&quot;);\r\n      waitThenPrintLine(4, &quot;Thread 2 ada&quot;);\r\n    }\r\n  };\r\n\r\n  static void waitThenPrintLine(int lineNumber, String lineText) {\r\n    try {\r\n      synchronized (lockObj) {\r\n        // wait for the given lineNumber\r\n        while (lineToPrint != lineNumber) {\r\n          lockObj.wait();\r\n        }\r\n\r\n        System.out.println(lineText);\r\n\r\n        // increment lineToPrint and notify another thread about that\r\n        lineToPrint++;\r\n        lockObj.notify();\r\n      }\r\n    } catch (InterruptedException e) {\r\n      throw new Error(e);\r\n    }\r\n  }\r\n}\r\n```","title":"How to properly synchronized 2 threads on 2 different objects in Java with wait/notify?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)\" rel=\"nofollow noreferrer\">The javadoc for Object.wait(...) methods</a> advises this:</p>\n<blockquote>\n<p>The recommended approach to waiting is to check the condition being awaited in a while loop around the call to wait, as shown in the example below. Among other things, this approach avoids problems that can be caused by spurious wakeups.</p>\n<pre><code>   synchronized (obj) {\n       while (&lt;condition does not hold&gt; and &lt;timeout not exceeded&gt;) {\n           long timeoutMillis = ... ; // recompute timeout values\n           int nanos = ... ;\n           obj.wait(timeoutMillis, nanos);\n       }\n       ... // Perform action appropriate to condition or timeout\n   }\n</code></pre>\n</blockquote>\n<p>So you can do something like this:</p>\n<pre><code>class MyThreads {\n  final static Object lockObj = new Object();\n  static int lineToPrint;\n  \n  static {\n    synchronized (lockObj) {\n      lineToPrint = 1;\n    }\n  }\n\n  public static Thread t1 = new Thread() {\n    public void run() {\n      waitThenPrintLine(1, &quot;Thread 1 den&quot;);\n      waitThenPrintLine(3, &quot;Thread 1 ada&quot;);\n    }\n  };\n\n  public static Thread t2 = new Thread() {\n    public void run() {\n      waitThenPrintLine(2, &quot;Thread 2 den&quot;);\n      waitThenPrintLine(4, &quot;Thread 2 ada&quot;);\n    }\n  };\n\n  static void waitThenPrintLine(int lineNumber, String lineText) {\n    try {\n      synchronized (lockObj) {\n        // wait for the given lineNumber\n        while (lineToPrint != lineNumber) {\n          lockObj.wait();\n        }\n\n        System.out.println(lineText);\n\n        // increment lineToPrint and notify another thread about that\n        lineToPrint++;\n        lockObj.notify();\n      }\n    } catch (InterruptedException e) {\n      throw new Error(e);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76295221,"answer_count":2,"score":0,"last_activity_date":1685532700,"creation_date":1684585288,"question_id":76295207,"body_markdown":"I am learning synchronization in Java. I know this is a very basic question, but I can&#39;t figure it out.\r\n\r\nI have class which contains 2 different objects and 2 Threads.\r\n```\r\nclass MyThreads {\r\n\tpublic final static Object den = new Object();\r\n\tpublic final static Object ada = new Object();\r\n\r\n\tpublic static Thread t1 = new Thread() {\r\n\t\tpublic void run() {\r\n\t\t\tSystem.out.println(&quot;Thread 1 den&quot;);\r\n\t\t\tSystem.out.println(&quot;Thread 1 ada&quot;);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic static Thread t2 = new Thread() {\r\n\t\tpublic void run() {\r\n\t\t      System.out.println(&quot;Thread 2 den&quot;);\r\n\t\t      System.out.println(&quot;Thread 2 ada&quot;);\r\n\t\t}\r\n\t};\r\n}\r\n```\r\nAfter execute this code:\r\n```\r\nMyThreads.t1.start();\r\nMyThreads.t2.start();\r\n\r\n```\r\nI should get:\r\n\r\n```\r\nThread 1 den\r\nThread 2 den\r\nThread 1 ada\r\nThread 2 ada\r\n```\r\n\r\nI am struggling here. I don&#39;t understand how thread 1 can awake thread 2. \r\n\r\n```\r\npublic static Thread t1 = new Thread() {\r\n\t\tpublic void run() {\r\n\t\t\tSystem.out.println(&quot;Thread 1 den&quot;);\r\n\t\t\tsynchronized (den) {\r\n\t\t\t\ttry {   \r\n                    den.notifyAll();\r\n\t\t\t\t\tden.wait();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\npublic static Thread t2 = new Thread() {\r\n\t\tpublic void run() {\r\n\t\t\tsynchronized (ada){\r\n                        ada.wait();\r\n//                     How to awake it?\r\n                        }\r\n\t\t}\r\n\t};\r\n\r\n```\r\nI will be thankful for any advice!\r\n","title":"How to properly synchronized 2 threads on 2 different objects in Java with wait/notify?","body":"<p>I am learning synchronization in Java. I know this is a very basic question, but I can't figure it out.</p>\n<p>I have class which contains 2 different objects and 2 Threads.</p>\n<pre><code>class MyThreads {\n    public final static Object den = new Object();\n    public final static Object ada = new Object();\n\n    public static Thread t1 = new Thread() {\n        public void run() {\n            System.out.println(&quot;Thread 1 den&quot;);\n            System.out.println(&quot;Thread 1 ada&quot;);\n        }\n    };\n\n    public static Thread t2 = new Thread() {\n        public void run() {\n              System.out.println(&quot;Thread 2 den&quot;);\n              System.out.println(&quot;Thread 2 ada&quot;);\n        }\n    };\n}\n</code></pre>\n<p>After execute this code:</p>\n<pre><code>MyThreads.t1.start();\nMyThreads.t2.start();\n\n</code></pre>\n<p>I should get:</p>\n<pre><code>Thread 1 den\nThread 2 den\nThread 1 ada\nThread 2 ada\n</code></pre>\n<p>I am struggling here. I don't understand how thread 1 can awake thread 2.</p>\n<pre><code>public static Thread t1 = new Thread() {\n        public void run() {\n            System.out.println(&quot;Thread 1 den&quot;);\n            synchronized (den) {\n                try {   \n                    den.notifyAll();\n                    den.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    };\n\npublic static Thread t2 = new Thread() {\n        public void run() {\n            synchronized (ada){\n                        ada.wait();\n//                     How to awake it?\n                        }\n        }\n    };\n\n</code></pre>\n<p>I will be thankful for any advice!</p>\n"},{"tags":["java","constants"],"answers":[{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358232308,"creation_date":1358231520,"answer_id":14332283,"question_id":14332252,"body_markdown":"declaring it `static` enables you accessing the variale without creating an ojbect of the type .","title":"constant data member","body":"<p>declaring it <code>static</code> enables you accessing the variale without creating an ojbect of the type .</p>\n"},{"tags":[],"owner":{"account_id":1073435,"reputation":12390,"user_id":1072150,"accept_rate":75,"display_name":"EJK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358231533,"creation_date":1358231533,"answer_id":14332285,"question_id":14332252,"body_markdown":"The &quot;final&quot; identifier means that the variable&#39;s value cannot be changed.\r\n\r\n&quot;static&quot; however means that there is one instance of the variable within the class that it is defined. \r\n\r\nSo final and static are 2 different things, but you often see them used together to define constants for a class.","title":"constant data member","body":"<p>The \"final\" identifier means that the variable's value cannot be changed.</p>\n\n<p>\"static\" however means that there is one instance of the variable within the class that it is defined. </p>\n\n<p>So final and static are 2 different things, but you often see them used together to define constants for a class.</p>\n"},{"tags":[],"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358232042,"creation_date":1358231738,"answer_id":14332319,"question_id":14332252,"body_markdown":"**One reason could** be that you do not need to create an object of the class to access that constant that is why you should/may declarer it as `static`. As you can access it with class name as it is static.\r\n\r\nCheck this code\r\n\r\n    public class A{\r\n    public static final int aa = 1;\r\n    }\r\n    \r\n    public class B{\r\n    public final int bb = 1;\r\n    }\r\n    \r\n    public class Testing{\r\n    SOP(A.aa);// a can be accessed with class name\r\n    B b = new B();// where to access the constant bb we need to create class object \r\n    SOP(b.bb);\r\n    }","title":"constant data member","body":"<p><strong>One reason could</strong> be that you do not need to create an object of the class to access that constant that is why you should/may declarer it as <code>static</code>. As you can access it with class name as it is static.</p>\n\n<p>Check this code</p>\n\n<pre><code>public class A{\npublic static final int aa = 1;\n}\n\npublic class B{\npublic final int bb = 1;\n}\n\npublic class Testing{\nSOP(A.aa);// a can be accessed with class name\nB b = new B();// where to access the constant bb we need to create class object \nSOP(b.bb);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358231766,"creation_date":1358231766,"answer_id":14332327,"question_id":14332252,"body_markdown":"A static variable means it is available at class level.Only one instance of that variable will be available for all objects of that class.Static variable can be modified, but the change will reflect in all objects of that class.\r\nA final variable means its value cannot be change after initialization.\r\nA final variable with static modifier means the variable is available at class level.In short, it will act as a constant for all objects of that class","title":"constant data member","body":"<p>A static variable means it is available at class level.Only one instance of that variable will be available for all objects of that class.Static variable can be modified, but the change will reflect in all objects of that class.\nA final variable means its value cannot be change after initialization.\nA final variable with static modifier means the variable is available at class level.In short, it will act as a constant for all objects of that class</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685532664,"creation_date":1358231870,"answer_id":14332343,"question_id":14332252,"body_markdown":"`final` means the variable may not be reassigned to another object/primitive.\r\n\r\n`static` means that all code running in the JVM shares the same variable. It exists once per class, instead of once per object.\r\n\r\nA `final` non-static variable can not be reassigned, but each instance has its own copy.\r\n\r\n`static final` fields (accessible without creating an instance) are generally called &quot;Constants&quot;\r\n\r\n`final` (non static) instance variables are generally called &quot;Immutable fields&quot; ","title":"constant data member","body":"<p><code>final</code> means the variable may not be reassigned to another object/primitive.</p>\n<p><code>static</code> means that all code running in the JVM shares the same variable. It exists once per class, instead of once per object.</p>\n<p>A <code>final</code> non-static variable can not be reassigned, but each instance has its own copy.</p>\n<p><code>static final</code> fields (accessible without creating an instance) are generally called &quot;Constants&quot;</p>\n<p><code>final</code> (non static) instance variables are generally called &quot;Immutable fields&quot;</p>\n"},{"tags":[],"owner":{"account_id":2105298,"reputation":16079,"user_id":1871769,"accept_rate":60,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1358232298,"creation_date":1358231996,"answer_id":14332363,"question_id":14332252,"body_markdown":"**final** means that, once assigned the value of variable cannot be modified.\r\n\r\n**static** means &quot;associated with the class&quot;; without it, the variable is associated with each instance of the class. if not, you&#39;ll have one for each instance you create. `static` means the variable will remain in memory for as long as the class is loaded\r\n\r\nThere is no point in declaring a variable like this. \r\n\r\n    public final int nVar = 12;\r\n\r\nIf this is not meant to be modified, why have one copy per instance.\r\n\r\nHence, Class *constants* need to be declared as `static final` where as the variables which you want to be *immutable* on per instance basis, you declare them as `final`","title":"constant data member","body":"<p><strong>final</strong> means that, once assigned the value of variable cannot be modified.</p>\n\n<p><strong>static</strong> means \"associated with the class\"; without it, the variable is associated with each instance of the class. if not, you'll have one for each instance you create. <code>static</code> means the variable will remain in memory for as long as the class is loaded</p>\n\n<p>There is no point in declaring a variable like this. </p>\n\n<pre><code>public final int nVar = 12;\n</code></pre>\n\n<p>If this is not meant to be modified, why have one copy per instance.</p>\n\n<p>Hence, Class <em>constants</em> need to be declared as <code>static final</code> where as the variables which you want to be <em>immutable</em> on per instance basis, you declare them as <code>final</code></p>\n"}],"owner":{"account_id":1406504,"reputation":2865,"user_id":1334073,"accept_rate":83,"display_name":"Viku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2786,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14332363,"answer_count":6,"score":3,"last_activity_date":1685532664,"creation_date":1358231339,"question_id":14332252,"body_markdown":"when we use final keyword that variable has been declared as constant then what is the necessity of using static ?\r\nI have seen in most of the places that we use\r\n\r\n `public static final int nVar = 12` \r\n\r\nfor constant data member .\r\n","title":"constant data member","body":"<p>when we use final keyword that variable has been declared as constant then what is the necessity of using static ?\nI have seen in most of the places that we use</p>\n\n<p><code>public static final int nVar = 12</code> </p>\n\n<p>for constant data member .</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685445000,"post_id":76363548,"comment_id":134657629,"body_markdown":"I don&#39;t think plugins are allowed to extend other connectors, only implement Connector interface... Note: You shouldn&#39;t put connect plugins as a subfolder of the broker classpath","body":"I don&#39;t think plugins are allowed to extend other connectors, only implement Connector interface... Note: You shouldn&#39;t put connect plugins as a subfolder of the broker classpath"},{"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"score":0,"creation_date":1685446058,"post_id":76363548,"comment_id":134657851,"body_markdown":"I&#39;ve tried extending Connector interface as well, but the log is similar to that of above. The plugin is not added and when listing the available connectors I don&#39;t see my custom connector.","body":"I&#39;ve tried extending Connector interface as well, but the log is similar to that of above. The plugin is not added and when listing the available connectors I don&#39;t see my custom connector."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685446217,"post_id":76363548,"comment_id":134657896,"body_markdown":"Not sure, really. I do know that Kafka isn&#39;t well tested on windows, so could be related to the issue","body":"Not sure, really. I do know that Kafka isn&#39;t well tested on windows, so could be related to the issue"}],"answers":[{"tags":[],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685532651,"creation_date":1685532651,"answer_id":76373018,"question_id":76363548,"body_markdown":"Custom connector was able to load by using maven-assembly-plugin in pom.xml like \r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;com.example.somedir.MainApplication&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;assemble-all&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;  ","title":"Kafka Connect not loading custom connector","body":"<p>Custom connector was able to load by using maven-assembly-plugin in pom.xml like</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;com.example.somedir.MainApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;assemble-all&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;  \n</code></pre>\n"}],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76373018,"answer_count":1,"score":1,"last_activity_date":1685532651,"creation_date":1685439800,"question_id":76363548,"body_markdown":"I have created a custom connector which extends JdbcSinkConnector like this\r\n\r\n    public class CustomJdbcSinkConnector extends JdbcSinkConnector {\r\n    \r\n        @Override\r\n        public Class&lt;? extends Task&gt; taskClass() {\r\n            return CustomJdbcSinkTask.class;\r\n        }\r\n    \r\n        @Override\r\n        public String version() {\r\n            //version of your custom connector\r\n            return &quot;1.0.0&quot;;\r\n        }\r\n    }\r\n\r\n    public class CustomJdbcSinkTask extends JdbcSinkTask {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(CustomJdbcSinkTask.class);\r\n    \r\n        ErrantRecordReporter reporter;\r\n        DatabaseDialect dialect;\r\n        JdbcSinkConfig config;\r\n        JdbcDbWriter writer;\r\n        int remainingRetries;\r\n        private Map&lt;String, String&gt; configProps;\r\n    \r\n    \r\n        @Override\r\n        public void put(Collection&lt;SinkRecord&gt; records) {\r\n            log.info(&quot;hello from custom put&quot;);\r\n            log.info(&quot;custom put method starting...&quot;);\r\n            JdbcSinkTask jdbcSinkTask = new JdbcSinkTask();\r\n            jdbcSinkTask.put(records);\r\n        }\r\n    }\r\n\r\nand I have taken the jar build and added its path to plugin.path in connect-distributed.properties\r\n\r\nThen started the kafka connect but this custom connector is not loading\r\n\r\nThe log shows,\r\n\r\n    [2023-05-30 14:54:01,585] INFO Loading plugin from: C:\\Kafka\\JDBC\\custom-jdbc-sink-1.0.0.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:275)\r\n    [2023-05-30 14:54:01,613] INFO Registered loader: PluginClassLoader{pluginLocation=file:/C:/Kafka/JDBC/custom-jdbc-sink-1.0.0.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:297)\r\n\r\nIt is loaded and registered but the plugin is not added.The jar file is not corrupted, I can run it from the terminal.\r\n\r\n","title":"Kafka Connect not loading custom connector","body":"<p>I have created a custom connector which extends JdbcSinkConnector like this</p>\n<pre><code>public class CustomJdbcSinkConnector extends JdbcSinkConnector {\n\n    @Override\n    public Class&lt;? extends Task&gt; taskClass() {\n        return CustomJdbcSinkTask.class;\n    }\n\n    @Override\n    public String version() {\n        //version of your custom connector\n        return &quot;1.0.0&quot;;\n    }\n}\n\npublic class CustomJdbcSinkTask extends JdbcSinkTask {\n\n    private static final Logger log = LoggerFactory.getLogger(CustomJdbcSinkTask.class);\n\n    ErrantRecordReporter reporter;\n    DatabaseDialect dialect;\n    JdbcSinkConfig config;\n    JdbcDbWriter writer;\n    int remainingRetries;\n    private Map&lt;String, String&gt; configProps;\n\n\n    @Override\n    public void put(Collection&lt;SinkRecord&gt; records) {\n        log.info(&quot;hello from custom put&quot;);\n        log.info(&quot;custom put method starting...&quot;);\n        JdbcSinkTask jdbcSinkTask = new JdbcSinkTask();\n        jdbcSinkTask.put(records);\n    }\n}\n</code></pre>\n<p>and I have taken the jar build and added its path to plugin.path in connect-distributed.properties</p>\n<p>Then started the kafka connect but this custom connector is not loading</p>\n<p>The log shows,</p>\n<pre><code>[2023-05-30 14:54:01,585] INFO Loading plugin from: C:\\Kafka\\JDBC\\custom-jdbc-sink-1.0.0.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:275)\n[2023-05-30 14:54:01,613] INFO Registered loader: PluginClassLoader{pluginLocation=file:/C:/Kafka/JDBC/custom-jdbc-sink-1.0.0.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:297)\n</code></pre>\n<p>It is loaded and registered but the plugin is not added.The jar file is not corrupted, I can run it from the terminal.</p>\n"},{"tags":["java","jersey","wadl"],"answers":[{"tags":[],"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491902047,"creation_date":1491902047,"answer_id":43341597,"question_id":43328130,"body_markdown":"Using ApplicationConfig disable using below property\r\n\r\n&gt; jersey.config.server.wadl.disableWadl = &quot;true&quot;\r\n\r\n\r\n\r\n          @ApplicationPath(&quot;/rest&quot;)\r\n        public class ApplicationConfig extends Application {\r\n        \r\n        \t \r\n            @Override\r\n            public Map&lt;String, Object&gt; getProperties() {\r\n            \t\r\n                Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n                properties.put(&quot;jersey.config.server.provider.packages&quot;, &quot;com.study.rest&quot;);\r\n                properties.put(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\r\n                properties.put(&quot;jersey.config.server.provider.classnames&quot;,&quot;org.glassfish.jersey.media.multipart.MultiPartFeature&quot;);\r\n                properties.put(CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER,&quot;0&quot;);\r\n                System.out.println(&quot;getProperties:-&gt; CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER_SERVER :&quot; + CommonProperties.getValue(properties,CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER,String.class));\r\n                return properties;\r\n            }\r\n    }\r\n\r\n\r\n  Can you check may be instead of **DisableWADL** *disableWadl*  will work.","title":"Disable WADL generation on Jersey 1.19.1","body":"<p>Using ApplicationConfig disable using below property</p>\n\n<blockquote>\n  <p>jersey.config.server.wadl.disableWadl = \"true\"</p>\n</blockquote>\n\n<pre><code>      @ApplicationPath(\"/rest\")\n    public class ApplicationConfig extends Application {\n\n\n        @Override\n        public Map&lt;String, Object&gt; getProperties() {\n\n            Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n            properties.put(\"jersey.config.server.provider.packages\", \"com.study.rest\");\n            properties.put(\"jersey.config.server.wadl.disableWadl\", \"true\");\n            properties.put(\"jersey.config.server.provider.classnames\",\"org.glassfish.jersey.media.multipart.MultiPartFeature\");\n            properties.put(CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER,\"0\");\n            System.out.println(\"getProperties:-&gt; CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER_SERVER :\" + CommonProperties.getValue(properties,CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER,String.class));\n            return properties;\n        }\n}\n</code></pre>\n\n<p>Can you check may be instead of <strong>DisableWADL</strong> <em>disableWadl</em>  will work.</p>\n"},{"tags":[],"owner":{"account_id":7356440,"reputation":245,"user_id":5601029,"accept_rate":78,"display_name":"doughaase"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1492623148,"creation_date":1492623148,"answer_id":43502453,"question_id":43328130,"body_markdown":"Figured it out: on version 1.19.x, the param name needs to be like this:\r\n\r\n    com.sun.jersey.config.feature.DisableWADL\r\n\r\n","title":"Disable WADL generation on Jersey 1.19.1","body":"<p>Figured it out: on version 1.19.x, the param name needs to be like this:</p>\n\n<pre><code>com.sun.jersey.config.feature.DisableWADL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28718681,"reputation":11,"user_id":21992798,"display_name":"Sini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685532580,"creation_date":1685532580,"answer_id":76373008,"question_id":43328130,"body_markdown":"to disable wadl generation disableWadl must be set to true. But also the property allowSystemPropertiesProvider should be set\r\n\r\n    jersey.config.allowSystemPropertiesProvider=true jersey.config.server.wadl.disableWadl=true ","title":"Disable WADL generation on Jersey 1.19.1","body":"<p>to disable wadl generation disableWadl must be set to true. But also the property allowSystemPropertiesProvider should be set</p>\n<pre><code>jersey.config.allowSystemPropertiesProvider=true jersey.config.server.wadl.disableWadl=true \n</code></pre>\n"}],"owner":{"account_id":7356440,"reputation":245,"user_id":5601029,"accept_rate":78,"display_name":"doughaase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7984,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43502453,"answer_count":3,"score":4,"last_activity_date":1685532580,"creation_date":1491840733,"question_id":43328130,"body_markdown":"I&#39;m using Jersey 1.19.1 on a Web project with Java+Jboss.\r\n\r\nEverytime I request something from the Webservice, it shows this entry on the server.log:\r\n\r\n    ERROR [STDERR] com.sun.jersey.server.wadl.generators.AbstractWadlGeneratorGrammarGenerator attachTypes\r\n    INFO: Couldn&#39;t find grammar element for class java.lang.String\r\n\r\nSearching on how to disable it, I&#39;ve found this:\r\n\r\n\t\t&lt;init-param&gt;\r\n\t    \t&lt;param-name&gt;com.sun.jersey.config.server.wadl.DisableWADL&lt;/param-name&gt;\r\n\t    \t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\r\nBut it didn&#39;t changed a thing for me.\r\n\r\nHow can I disable WADL so this annoying message doesn&#39;t show up anymore?\r\n\r\nHere&#39;s the full entry for the servlet:\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;windi-mobile-service&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t    \t&lt;param-name&gt;com.sun.jersey.config.server.wadl.DisableWADL&lt;/param-name&gt;\r\n\t    \t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;br.com.altimus.mobile.service&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;","title":"Disable WADL generation on Jersey 1.19.1","body":"<p>I'm using Jersey 1.19.1 on a Web project with Java+Jboss.</p>\n\n<p>Everytime I request something from the Webservice, it shows this entry on the server.log:</p>\n\n<pre><code>ERROR [STDERR] com.sun.jersey.server.wadl.generators.AbstractWadlGeneratorGrammarGenerator attachTypes\nINFO: Couldn't find grammar element for class java.lang.String\n</code></pre>\n\n<p>Searching on how to disable it, I've found this:</p>\n\n<pre><code>    &lt;init-param&gt;\n        &lt;param-name&gt;com.sun.jersey.config.server.wadl.DisableWADL&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n</code></pre>\n\n<p>But it didn't changed a thing for me.</p>\n\n<p>How can I disable WADL so this annoying message doesn't show up anymore?</p>\n\n<p>Here's the full entry for the servlet:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;windi-mobile-service&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;com.sun.jersey.config.server.wadl.DisableWADL&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n        &lt;param-value&gt;br.com.altimus.mobile.service&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1685494701,"post_id":76368877,"comment_id":134667027,"body_markdown":"You can annotate the JpaGenericRepository  interface with &#39;@NoRepositoryBean&#39; and delete the &#39;@Repository&#39; for : ProfileJpaRepository  and ProfileJpaRepositoryImp .","body":"You can annotate the JpaGenericRepository  interface with &#39;@NoRepositoryBean&#39; and delete the &#39;@Repository&#39; for : ProfileJpaRepository  and ProfileJpaRepositoryImp ."},{"owner":{"account_id":15919644,"reputation":133,"user_id":14420635,"display_name":"gmn_1450"},"score":0,"creation_date":1685495642,"post_id":76368877,"comment_id":134667087,"body_markdown":"@skillup, thanks for your comment :). Unfortunately, your suggestion was one of my initial unsuccessful attempts.","body":"@skillup, thanks for your comment :). Unfortunately, your suggestion was one of my initial unsuccessful attempts."},{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1685496623,"post_id":76368877,"comment_id":134667163,"body_markdown":"Spring Data search count() method and you have your own method count(Query&lt;Profile&gt; query) , you can change the signature of this method only for test, like this long count(); thanks.","body":"Spring Data search count() method and you have your own method count(Query&lt;Profile&gt; query) , you can change the signature of this method only for test, like this long count(); thanks."},{"owner":{"account_id":15919644,"reputation":133,"user_id":14420635,"display_name":"gmn_1450"},"score":0,"creation_date":1685497910,"post_id":76368877,"comment_id":134667252,"body_markdown":"Now he&#39;s complaining about ```findByProfileStringProperty``` method.\n\n```No property &#39;findByProfileStringProperty&#39; found for type &#39;Profile&#39; ```","body":"Now he&#39;s complaining about <code>findByProfileStringProperty</code> method.  <code>No property &#39;findByProfileStringProperty&#39; found for type &#39;Profile&#39; </code>"},{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":1,"creation_date":1685499223,"post_id":76368877,"comment_id":134667359,"body_markdown":"can you put the code of AbstractJpaRepository.java","body":"can you put the code of AbstractJpaRepository.java"}],"owner":{"account_id":15919644,"reputation":133,"user_id":14420635,"display_name":"gmn_1450"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685531497,"creation_date":1685483286,"question_id":76368877,"body_markdown":"I have two repository interfaces.\r\n\r\nOne is more generic:\r\n\r\n``` \r\n@NoRepositoryBean\r\npublic interface JpaGenericRepository&lt;T&gt; {\r\n\r\n    List&lt;T&gt; find(Query&lt;T&gt; query);\r\n\r\n    long count(Query&lt;T&gt; query);\r\n\r\n    List&lt;T&gt; findAllCache();\r\n\r\n}\r\n```\r\n\r\nThe other one extends it, passing the entity class (Profile in this case):\r\n\r\n```\r\npublic interface ProfileJpaRepository extends JpaGenericRepository&lt;Profile&gt; {\r\n\r\n    List&lt;Profile&gt; findAll();\r\n\r\n    List&lt;Profile&gt; findByProfileStringProperty(Set&lt;String&gt; property);\r\n\r\n}\r\n```\r\n\r\nThe implementation is as follows:\r\n\r\n```\r\npublic class ProfileJpaRepositoryImpl extends AbstractJpaRepository&lt;Profile, Long&gt; implements ProfileJpaRepository, Serializable {\r\n\r\n    @Serial\r\n    private static final long serialVersionUID = -4013787249678288423L;\r\n\r\n    @Override\r\n    public Optional&lt;Profile&gt; findById(Long id) { /* method implementation */ }\r\n\r\n\r\n    @Override\r\n    public List&lt;Profile&gt; findAll() { /* method implementation */ }\r\n\r\n\r\n    @Override\r\n    public List&lt;Profile&gt; find(Query&lt;Profile&gt; query) { /* method implementation */ }\r\n\r\n    @Override\r\n    public long count(Query&lt;Profile&gt; query) { /* method implementation */ }\r\n\r\n    @Override\r\n    public List&lt;Profile&gt; findByProfileStringProperty(Set&lt;String&gt; property) { /* method implementation */ }\r\n\r\n    @Override\r\n    public List&lt;Profile&gt; findAllCache() { /* method implementation */ }\r\n\r\n    public JPAQuery&lt;Perfil&gt; createQuery(Query&lt;Profile&gt; query, boolean sortAndPaging) { /* method implementation */ }\r\n}\r\n\r\n```\r\n\r\nThe error message states:\r\n\r\n```\r\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;count&#39; found for type &#39;Profile&#39;\r\n\r\n```\r\n\r\nIt seems that the implementation of the ```count``` method inside ```ProfileJpaRepositoryImpl``` is not being recognized. Can you help me figure out why?\r\n\r\n``` Profile``` class :\r\n\r\n```\r\n\r\n@Entity\r\n@Audited\r\n@Table(name = &quot;PERFIL&quot;)\r\n@Relation(collectionRelation = &quot;profiles&quot;)\r\n@GenericGenerator(\r\n        name = &quot;seqProfile&quot;,\r\n        strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n        parameters = {\r\n                @Parameter(name = &quot;sequence_name&quot;, value = &quot;SEQ_PROFILE&quot;),\r\n                @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\r\n                @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\r\n        }\r\n)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\npublic class Profile implements Serializable, GenericEntity&lt;Profile&gt; {\r\n\r\n    private static final long serialVersionUID = 2386088697024413736L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;seqProfile&quot;)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Size(min = 1, max = 100)\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @NotBlank\r\n    @Size(min = 1, max = 200)\r\n    @Column(name = &quot;DESCRIPTION&quot;)\r\n    private String description;\r\n\r\n    @Audited(targetAuditMode = NOT_AUDITED)\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;PROFILE_PERMISSION&quot;, joinColumns = @JoinColumn(name = &quot;PROFILE_ID&quot;), inverseJoinColumns = @JoinColumn(name = &quot;PERMISSION_ID&quot;))\r\n    private List&lt;Permission&gt; permissions;\r\n\r\n    public Profile() {\r\n    }\r\n\r\n    public Profile(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Transient\r\n    @JsonIgnore\r\n    private AuditLog auditLog;\r\n\r\n    @QueryProjection\r\n    public Profile(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @QueryProjection\r\n    public Profile(Long id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    @QueryProjection\r\n    public Profile(Long id, String name, String description) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.description = description;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || !Util.classOf(this).equals(Util.classOf(o))) return false;\r\n        Profile profile = (Profile) o;\r\n        return Objects.equals(this.getId(), profile.getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.getId());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\n``` Query``` class :\r\n\r\n```\r\npublic final class Query&lt;T&gt; implements Serializable {\r\n\r\n    public static final long LIMIT = 10L;\r\n\r\n    public static final long NO_LIMIT = -1;\r\n\r\n    private final Filter&lt;T&gt; filter;\r\n    private final Sorter&lt;T&gt; sorter;\r\n    private final Long page;\r\n    private final Long limit;\r\n\r\n    // getters, setters and constructors\r\n}\r\n```\r\n\r\n```\r\npublic abstract class AbstractJpaRepository&lt;T, ID&gt; {\r\n\r\n@Serial\r\nprivate static final long serialVersionUID = 7633557834565897303L;\r\nprotected final Class&lt;T&gt; entityClass = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0];\r\n\r\n@PersistenceContext\r\nprotected EntityManager entityManager;\r\n\r\n@Autowired\r\nprotected DecisorManager decisorManager;\r\nprotected Class&lt;? extends T&gt; daoType;\r\n@Autowired\r\nprivate ApplicationContext applicationContext;\r\n@Autowired\r\nprivate BeanUtil beanUtil;\r\n\r\npublic AbstractJpaRepository() {\r\n    daoType = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass())\r\n            .getActualTypeArguments()[0];\r\n}\r\n\r\npublic static List&lt;Field&gt; getAllFields(List&lt;Field&gt; fields, Class&lt;?&gt; type) {\r\n    fields.addAll(Arrays.asList(type.getDeclaredFields()));\r\n\r\n    if (type.getSuperclass() != null) {\r\n        fields = getAllFields(fields, type.getSuperclass());\r\n    }\r\n\r\n    return fields;\r\n}\r\n\r\n/**\r\n * Returns whether the entity&#39;s ID is automatically generated.\r\n *\r\n * @return\r\n */\r\nprivate boolean isGeneratedId() {\r\n    return Arrays.stream(entityClass.getDeclaredFields()).anyMatch(field -&gt; field.isAnnotationPresent(GeneratedValue.class));\r\n}\r\n\r\n/**\r\n * Find an entity by its ID.\r\n *\r\n * @param id\r\n * @return\r\n */\r\npublic Optional&lt;T&gt; findById(ID id) {\r\n    return Optional.ofNullable(entityManager.find(entityClass, id));\r\n}\r\n\r\n\r\npublic T findById(ID key, String... columns) {\r\n    try {\r\n        if (columns == null || columns.length == 0) {\r\n            return entityManager.find(daoType, key);\r\n        } else {\r\n            // PERFORM THE QUERY\r\n            return (T) returnCriteria(columns).add(Restrictions.eq(&quot;id&quot;, key)).uniqueResult();\r\n        }\r\n    } catch (NoResultException ex) {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Insert a new entity.\r\n *\r\n * @param entity\r\n */\r\npublic void create(T entity) {\r\n    Optional&lt;ID&gt; id = getIdentifier(entity);\r\n    if (isGeneratedId() &amp;&amp; id.isPresent()) {\r\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\r\n        throw new BusinessException(&quot;New message&quot;);\r\n    } else if (!isGeneratedId() &amp;&amp; !id.isPresent()) {\r\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\r\n        throw new BusinessException(&quot;New message&quot;);\r\n    } else {\r\n        entityManager.persist(entity);\r\n        entityManager.flush();\r\n        if (decisorManager.checkDecisor(entity))\r\n            applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOINCLUIR, entity));\r\n    }\r\n}\r\n\r\npublic void createWithoutCamunda(T entity) {\r\n    Optional&lt;ID&gt; id = getIdentifier(entity);\r\n    if (isGeneratedId() &amp;&amp; id.isPresent()) {\r\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\r\n        throw new BusinessException(&quot;New message&quot;);\r\n    } else if (!isGeneratedId() &amp;&amp; !id.isPresent()) {\r\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\r\n        throw new BusinessException(&quot;New message&quot;);\r\n    } else {\r\n        entityManager.persist(entity);\r\n        entityManager.flush();\r\n    }\r\n}\r\n\r\n/**\r\n * Update an entity.\r\n *\r\n * @param entity\r\n */\r\npublic void update(T entity) {\r\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\r\n    entityManager.merge(entity);\r\n    entityManager.flush();\r\n    if (decisorManager.checkDecisor(entity))\r\n        applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOALTERAR, entity));\r\n}\r\n\r\npublic void updateBaixaTarefa(T entity) {\r\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\r\n    entityManager.merge(entity);\r\n    entityManager.flush();\r\n    if (decisorManager.checkDecisor(entity))\r\n        applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOBAIXAR, entity));\r\n}\r\n\r\npublic void updateWithoutCamunda(T entity) {\r\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\r\n    entityManager.merge(entity);\r\n    entityManager.flush();\r\n}\r\n\r\n/**\r\n * Remove an entity.\r\n *\r\n * @param entity\r\n */\r\npublic void remove(T entity) {\r\n    removeById(getIdentifier(entity).orElseThrow(BusinessException::new));\r\n}\r\n\r\n/**\r\n * Remove an entity by its ID.\r\n *\r\n * @param id\r\n */\r\npublic void removeById(ID id) {\r\n    entityManager.remove(Optional.ofNullable(entityManager.find(entityClass, id)).orElseThrow(EntityNotFoundException::new));\r\n    entityManager.flush();\r\n}\r\n\r\n/**\r\n * Clear the cache of an entity in the decisor manager.\r\n *\r\n * @param entityCadastro\r\n */\r\npublic void clearCacheDecisor(String entityCadastro) {\r\n    decisorManager.clearCacheDecisor(entityCadastro);\r\n}\r\n\r\n/**\r\n * Get the ID of the entity.\r\n *\r\n * @param entity\r\n * @return\r\n */\r\nprotected Optional&lt;ID&gt; getIdentifier(T entity) {\r\n    return Optional.ofNullable((ID) entityManager\r\n            .getEntityManagerFactory()\r\n            .getPersistenceUnitUtil()\r\n            .getIdentifier(entity));\r\n}\r\n\r\n/**\r\n * Apply sorting to the query based on the {@link JPAQuery} and {@link Sorter}.\r\n *\r\n * @param jpaQuery {@link JPAQuery} used to perform the query, must already have the query itself prepared.\r\n * @param sorter   {@link Sorter} containing information about the property to be sorted.\r\n * @return {@link JPAQuery} with the sorting prepared.\r\n */\r\nprotected JPAQuery&lt;T&gt; applySorter(JPAQuery&lt;T&gt; jpaQuery, Sorter&lt;T&gt; sorter) {\r\n    final PathBuilder&lt;T&gt; path = new PathBuilder&lt;&gt;(this.entityClass, this.entityClass.getSimpleName().substring(0, 1).toLowerCase() + this.entityClass.getSimpleName().substring(1));\r\n\r\n    if (Objects.nonNull(sorter) &amp;&amp; StringUtils.isNotBlank(sorter.getProperty())) {\r\n        if (sorter.isDesc()) {\r\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).desc());\r\n        } else {\r\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).asc());\r\n        }\r\n    } else {\r\n        jpaQuery.orderBy(path.getString(&quot;id&quot;).asc());\r\n    }\r\n\r\n    return jpaQuery;\r\n}\r\n\r\nprotected JPAQuery&lt;T&gt; applySorter(JPAQuery&lt;T&gt; jpaQuery, Sorter sorter, PathBuilder&lt;T&gt; path) {\r\n\r\n    if (Objects.nonNull(sorter) &amp;&amp; StringUtils.isNotBlank(sorter.getProperty())) {\r\n        if (sorter.isDesc()) {\r\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).desc());\r\n        } else {\r\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).asc());\r\n        }\r\n    } else {\r\n        jpaQuery.orderBy(path.getString(&quot;id&quot;).asc());\r\n    }\r\n\r\n    return jpaQuery;\r\n}\r\n\r\n/**\r\n * Apply pagination to the query based on the {@link JPAQuery}.\r\n *\r\n * @param jpaQuery {@link JPAQuery} used to perform the query, must already have the query itself prepared.\r\n * @param page     {@link Long} representing the page to be queried.\r\n * @param limit    {@link Long} representing the number of records to be displayed per page.\r\n * @return {@link JPAQuery} with the pagination prepared.\r\n */\r\nprotected JPAQuery&lt;T&gt; applyPagination(JPAQuery&lt;T&gt; jpaQuery, Long page, Long limit) {\r\n    if (Optional.ofNullable(page).orElse(0L) &gt; 0L) {\r\n        jpaQuery.offset(((page - 1L) * limit));\r\n    }\r\n\r\n    if (!limit.equals(Query.NO_LIMIT)) {\r\n        jpaQuery.limit(limit);\r\n    }\r\n\r\n    return jpaQuery;\r\n}\r\n\r\npublic String getSelectNew(Class&lt;?&gt; tipoDestino, Class&lt;? extends Entidade&gt; tipoOrigem) {\r\n    String prefix = tipoOrigem.getSimpleName().substring(0, 1).toLowerCase();\r\n    return getSelectNewPrefix(tipoDestino, tipoOrigem, prefix);\r\n}\r\n\r\npublic String getSelectNewPrefix(Class&lt;?&gt; tipoDestino, Class&lt;? extends Entidade&gt; tipoOrigem, String prefix) {\r\n    String table = tipoOrigem.getSimpleName();\r\n    StringBuilder sb = new StringBuilder(&quot;Select distinct new &quot;).append(tipoDestino.getName()).append(&quot;(&quot;);\r\n\r\n    Map&lt;Integer, String&gt; campos = new HashMap();\r\n    boolean foundAtLeastOneFieldInConstructor = false;\r\n    for (Field campo : getAllFields(new LinkedList&lt;Field&gt;(), tipoDestino)) {\r\n        ViewInterface viewInterface = campo.getAnnotation(ViewInterface.class);\r\n        if (viewInterface == null) continue;\r\n        campos.put(viewInterface.ordem(), viewInterface.campo());\r\n        foundAtLeastOneFieldInConstructor = true;\r\n    }\r\n\r\n    for (int i = 0; i &lt; campos.size(); i++) {\r\n        sb.append(campos.get(i)).append(&quot;, &quot;);\r\n    }\r\n\r\n    sb.append(&quot;) from &quot;).append(table).append(&quot; &quot;).append(prefix);\r\n\r\n    if (!foundAtLeastOneFieldInConstructor) {\r\n        sb = new StringBuilder(&quot;Select distinct &quot;)\r\n                .append(prefix)\r\n                .append(&quot; from &quot;)\r\n                .append(table)\r\n                .append(&quot; &quot;)\r\n                .append(prefix);\r\n    }\r\n\r\n    return sb.toString().replace(&quot;, )&quot;, &quot;)&quot;);\r\n}\r\n\r\npublic List&lt;?&gt; listByQueryGeneric(String queryString, List&lt;Object&gt; parametros, int maxResults) {\r\n    int index = 1;\r\n    while (queryString.contains(&quot;?&quot;) &amp;&amp; parametros.size() &gt; 0) {\r\n        queryString = queryString.replaceFirst(&quot;\\\\?&quot;, &quot;:param&quot; + index++);\r\n    }\r\n\r\n    javax.persistence.Query query;\r\n    if (maxResults &gt; 0) {\r\n        query = entityManager.createQuery(queryString).setMaxResults(maxResults);\r\n    } else {\r\n        query = entityManager.createQuery(queryString);\r\n    }\r\n\r\n    index = 1;\r\n    for (Object parametro : parametros) {\r\n        query.setParameter((&quot;param&quot; + index++), parametro);\r\n    }\r\n\r\n    return query.getResultList();\r\n}\r\n\r\nprivate Criteria returnCriteria(String... colunas) {\r\n    // Create criteria based on the entity example\r\n    Criteria criteria = entityManager.unwrap(Session.class).createCriteria(daoType);\r\n\r\n    // Check if attributes were passed to avoid querying all object information\r\n    if (colunas != null &amp;&amp; colunas.length &gt; 0) {\r\n\r\n        ProjectionList listaColunas = Projections.projectionList();\r\n\r\n        for (String coluna : colunas) {\r\n            listaColunas.add(Projections.property(coluna.trim()), coluna.trim());\r\n        }\r\n\r\n        criteria.setProjection(listaColunas).setResultTransformer(Transformers.aliasToBean(daoType));\r\n    }\r\n\r\n    // Perform the query\r\n    return criteria;\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n","title":"&quot;Spring Data JPA - Exception: &#39;No Property Found for Type&#39; with Inheritance Between Repository Interfaces&quot;","body":"<p>I have two repository interfaces.</p>\n<p>One is more generic:</p>\n<pre><code>@NoRepositoryBean\npublic interface JpaGenericRepository&lt;T&gt; {\n\n    List&lt;T&gt; find(Query&lt;T&gt; query);\n\n    long count(Query&lt;T&gt; query);\n\n    List&lt;T&gt; findAllCache();\n\n}\n</code></pre>\n<p>The other one extends it, passing the entity class (Profile in this case):</p>\n<pre><code>public interface ProfileJpaRepository extends JpaGenericRepository&lt;Profile&gt; {\n\n    List&lt;Profile&gt; findAll();\n\n    List&lt;Profile&gt; findByProfileStringProperty(Set&lt;String&gt; property);\n\n}\n</code></pre>\n<p>The implementation is as follows:</p>\n<pre><code>public class ProfileJpaRepositoryImpl extends AbstractJpaRepository&lt;Profile, Long&gt; implements ProfileJpaRepository, Serializable {\n\n    @Serial\n    private static final long serialVersionUID = -4013787249678288423L;\n\n    @Override\n    public Optional&lt;Profile&gt; findById(Long id) { /* method implementation */ }\n\n\n    @Override\n    public List&lt;Profile&gt; findAll() { /* method implementation */ }\n\n\n    @Override\n    public List&lt;Profile&gt; find(Query&lt;Profile&gt; query) { /* method implementation */ }\n\n    @Override\n    public long count(Query&lt;Profile&gt; query) { /* method implementation */ }\n\n    @Override\n    public List&lt;Profile&gt; findByProfileStringProperty(Set&lt;String&gt; property) { /* method implementation */ }\n\n    @Override\n    public List&lt;Profile&gt; findAllCache() { /* method implementation */ }\n\n    public JPAQuery&lt;Perfil&gt; createQuery(Query&lt;Profile&gt; query, boolean sortAndPaging) { /* method implementation */ }\n}\n\n</code></pre>\n<p>The error message states:</p>\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'count' found for type 'Profile'\n\n</code></pre>\n<p>It seems that the implementation of the <code>count</code> method inside <code>ProfileJpaRepositoryImpl</code> is not being recognized. Can you help me figure out why?</p>\n<p><code> Profile</code> class :</p>\n<pre><code>\n@Entity\n@Audited\n@Table(name = &quot;PERFIL&quot;)\n@Relation(collectionRelation = &quot;profiles&quot;)\n@GenericGenerator(\n        name = &quot;seqProfile&quot;,\n        strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n        parameters = {\n                @Parameter(name = &quot;sequence_name&quot;, value = &quot;SEQ_PROFILE&quot;),\n                @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\n                @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\n        }\n)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\npublic class Profile implements Serializable, GenericEntity&lt;Profile&gt; {\n\n    private static final long serialVersionUID = 2386088697024413736L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;seqProfile&quot;)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @NotBlank\n    @Size(min = 1, max = 100)\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @NotBlank\n    @Size(min = 1, max = 200)\n    @Column(name = &quot;DESCRIPTION&quot;)\n    private String description;\n\n    @Audited(targetAuditMode = NOT_AUDITED)\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;PROFILE_PERMISSION&quot;, joinColumns = @JoinColumn(name = &quot;PROFILE_ID&quot;), inverseJoinColumns = @JoinColumn(name = &quot;PERMISSION_ID&quot;))\n    private List&lt;Permission&gt; permissions;\n\n    public Profile() {\n    }\n\n    public Profile(Long id) {\n        this.id = id;\n    }\n\n    @Transient\n    @JsonIgnore\n    private AuditLog auditLog;\n\n    @QueryProjection\n    public Profile(String name) {\n        this.name = name;\n    }\n\n    @QueryProjection\n    public Profile(Long id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    @QueryProjection\n    public Profile(Long id, String name, String description) {\n        this.id = id;\n        this.name = name;\n        this.description = description;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || !Util.classOf(this).equals(Util.classOf(o))) return false;\n        Profile profile = (Profile) o;\n        return Objects.equals(this.getId(), profile.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.getId());\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n}\n</code></pre>\n<p><code> Query</code> class :</p>\n<pre><code>public final class Query&lt;T&gt; implements Serializable {\n\n    public static final long LIMIT = 10L;\n\n    public static final long NO_LIMIT = -1;\n\n    private final Filter&lt;T&gt; filter;\n    private final Sorter&lt;T&gt; sorter;\n    private final Long page;\n    private final Long limit;\n\n    // getters, setters and constructors\n}\n</code></pre>\n<pre><code>public abstract class AbstractJpaRepository&lt;T, ID&gt; {\n\n@Serial\nprivate static final long serialVersionUID = 7633557834565897303L;\nprotected final Class&lt;T&gt; entityClass = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0];\n\n@PersistenceContext\nprotected EntityManager entityManager;\n\n@Autowired\nprotected DecisorManager decisorManager;\nprotected Class&lt;? extends T&gt; daoType;\n@Autowired\nprivate ApplicationContext applicationContext;\n@Autowired\nprivate BeanUtil beanUtil;\n\npublic AbstractJpaRepository() {\n    daoType = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass())\n            .getActualTypeArguments()[0];\n}\n\npublic static List&lt;Field&gt; getAllFields(List&lt;Field&gt; fields, Class&lt;?&gt; type) {\n    fields.addAll(Arrays.asList(type.getDeclaredFields()));\n\n    if (type.getSuperclass() != null) {\n        fields = getAllFields(fields, type.getSuperclass());\n    }\n\n    return fields;\n}\n\n/**\n * Returns whether the entity's ID is automatically generated.\n *\n * @return\n */\nprivate boolean isGeneratedId() {\n    return Arrays.stream(entityClass.getDeclaredFields()).anyMatch(field -&gt; field.isAnnotationPresent(GeneratedValue.class));\n}\n\n/**\n * Find an entity by its ID.\n *\n * @param id\n * @return\n */\npublic Optional&lt;T&gt; findById(ID id) {\n    return Optional.ofNullable(entityManager.find(entityClass, id));\n}\n\n\npublic T findById(ID key, String... columns) {\n    try {\n        if (columns == null || columns.length == 0) {\n            return entityManager.find(daoType, key);\n        } else {\n            // PERFORM THE QUERY\n            return (T) returnCriteria(columns).add(Restrictions.eq(&quot;id&quot;, key)).uniqueResult();\n        }\n    } catch (NoResultException ex) {\n        return null;\n    }\n}\n\n/**\n * Insert a new entity.\n *\n * @param entity\n */\npublic void create(T entity) {\n    Optional&lt;ID&gt; id = getIdentifier(entity);\n    if (isGeneratedId() &amp;&amp; id.isPresent()) {\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\n        throw new BusinessException(&quot;New message&quot;);\n    } else if (!isGeneratedId() &amp;&amp; !id.isPresent()) {\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\n        throw new BusinessException(&quot;New message&quot;);\n    } else {\n        entityManager.persist(entity);\n        entityManager.flush();\n        if (decisorManager.checkDecisor(entity))\n            applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOINCLUIR, entity));\n    }\n}\n\npublic void createWithoutCamunda(T entity) {\n    Optional&lt;ID&gt; id = getIdentifier(entity);\n    if (isGeneratedId() &amp;&amp; id.isPresent()) {\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\n        throw new BusinessException(&quot;New message&quot;);\n    } else if (!isGeneratedId() &amp;&amp; !id.isPresent()) {\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\n        throw new BusinessException(&quot;New message&quot;);\n    } else {\n        entityManager.persist(entity);\n        entityManager.flush();\n    }\n}\n\n/**\n * Update an entity.\n *\n * @param entity\n */\npublic void update(T entity) {\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\n    entityManager.merge(entity);\n    entityManager.flush();\n    if (decisorManager.checkDecisor(entity))\n        applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOALTERAR, entity));\n}\n\npublic void updateBaixaTarefa(T entity) {\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\n    entityManager.merge(entity);\n    entityManager.flush();\n    if (decisorManager.checkDecisor(entity))\n        applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOBAIXAR, entity));\n}\n\npublic void updateWithoutCamunda(T entity) {\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\n    entityManager.merge(entity);\n    entityManager.flush();\n}\n\n/**\n * Remove an entity.\n *\n * @param entity\n */\npublic void remove(T entity) {\n    removeById(getIdentifier(entity).orElseThrow(BusinessException::new));\n}\n\n/**\n * Remove an entity by its ID.\n *\n * @param id\n */\npublic void removeById(ID id) {\n    entityManager.remove(Optional.ofNullable(entityManager.find(entityClass, id)).orElseThrow(EntityNotFoundException::new));\n    entityManager.flush();\n}\n\n/**\n * Clear the cache of an entity in the decisor manager.\n *\n * @param entityCadastro\n */\npublic void clearCacheDecisor(String entityCadastro) {\n    decisorManager.clearCacheDecisor(entityCadastro);\n}\n\n/**\n * Get the ID of the entity.\n *\n * @param entity\n * @return\n */\nprotected Optional&lt;ID&gt; getIdentifier(T entity) {\n    return Optional.ofNullable((ID) entityManager\n            .getEntityManagerFactory()\n            .getPersistenceUnitUtil()\n            .getIdentifier(entity));\n}\n\n/**\n * Apply sorting to the query based on the {@link JPAQuery} and {@link Sorter}.\n *\n * @param jpaQuery {@link JPAQuery} used to perform the query, must already have the query itself prepared.\n * @param sorter   {@link Sorter} containing information about the property to be sorted.\n * @return {@link JPAQuery} with the sorting prepared.\n */\nprotected JPAQuery&lt;T&gt; applySorter(JPAQuery&lt;T&gt; jpaQuery, Sorter&lt;T&gt; sorter) {\n    final PathBuilder&lt;T&gt; path = new PathBuilder&lt;&gt;(this.entityClass, this.entityClass.getSimpleName().substring(0, 1).toLowerCase() + this.entityClass.getSimpleName().substring(1));\n\n    if (Objects.nonNull(sorter) &amp;&amp; StringUtils.isNotBlank(sorter.getProperty())) {\n        if (sorter.isDesc()) {\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).desc());\n        } else {\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).asc());\n        }\n    } else {\n        jpaQuery.orderBy(path.getString(&quot;id&quot;).asc());\n    }\n\n    return jpaQuery;\n}\n\nprotected JPAQuery&lt;T&gt; applySorter(JPAQuery&lt;T&gt; jpaQuery, Sorter sorter, PathBuilder&lt;T&gt; path) {\n\n    if (Objects.nonNull(sorter) &amp;&amp; StringUtils.isNotBlank(sorter.getProperty())) {\n        if (sorter.isDesc()) {\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).desc());\n        } else {\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).asc());\n        }\n    } else {\n        jpaQuery.orderBy(path.getString(&quot;id&quot;).asc());\n    }\n\n    return jpaQuery;\n}\n\n/**\n * Apply pagination to the query based on the {@link JPAQuery}.\n *\n * @param jpaQuery {@link JPAQuery} used to perform the query, must already have the query itself prepared.\n * @param page     {@link Long} representing the page to be queried.\n * @param limit    {@link Long} representing the number of records to be displayed per page.\n * @return {@link JPAQuery} with the pagination prepared.\n */\nprotected JPAQuery&lt;T&gt; applyPagination(JPAQuery&lt;T&gt; jpaQuery, Long page, Long limit) {\n    if (Optional.ofNullable(page).orElse(0L) &gt; 0L) {\n        jpaQuery.offset(((page - 1L) * limit));\n    }\n\n    if (!limit.equals(Query.NO_LIMIT)) {\n        jpaQuery.limit(limit);\n    }\n\n    return jpaQuery;\n}\n\npublic String getSelectNew(Class&lt;?&gt; tipoDestino, Class&lt;? extends Entidade&gt; tipoOrigem) {\n    String prefix = tipoOrigem.getSimpleName().substring(0, 1).toLowerCase();\n    return getSelectNewPrefix(tipoDestino, tipoOrigem, prefix);\n}\n\npublic String getSelectNewPrefix(Class&lt;?&gt; tipoDestino, Class&lt;? extends Entidade&gt; tipoOrigem, String prefix) {\n    String table = tipoOrigem.getSimpleName();\n    StringBuilder sb = new StringBuilder(&quot;Select distinct new &quot;).append(tipoDestino.getName()).append(&quot;(&quot;);\n\n    Map&lt;Integer, String&gt; campos = new HashMap();\n    boolean foundAtLeastOneFieldInConstructor = false;\n    for (Field campo : getAllFields(new LinkedList&lt;Field&gt;(), tipoDestino)) {\n        ViewInterface viewInterface = campo.getAnnotation(ViewInterface.class);\n        if (viewInterface == null) continue;\n        campos.put(viewInterface.ordem(), viewInterface.campo());\n        foundAtLeastOneFieldInConstructor = true;\n    }\n\n    for (int i = 0; i &lt; campos.size(); i++) {\n        sb.append(campos.get(i)).append(&quot;, &quot;);\n    }\n\n    sb.append(&quot;) from &quot;).append(table).append(&quot; &quot;).append(prefix);\n\n    if (!foundAtLeastOneFieldInConstructor) {\n        sb = new StringBuilder(&quot;Select distinct &quot;)\n                .append(prefix)\n                .append(&quot; from &quot;)\n                .append(table)\n                .append(&quot; &quot;)\n                .append(prefix);\n    }\n\n    return sb.toString().replace(&quot;, )&quot;, &quot;)&quot;);\n}\n\npublic List&lt;?&gt; listByQueryGeneric(String queryString, List&lt;Object&gt; parametros, int maxResults) {\n    int index = 1;\n    while (queryString.contains(&quot;?&quot;) &amp;&amp; parametros.size() &gt; 0) {\n        queryString = queryString.replaceFirst(&quot;\\\\?&quot;, &quot;:param&quot; + index++);\n    }\n\n    javax.persistence.Query query;\n    if (maxResults &gt; 0) {\n        query = entityManager.createQuery(queryString).setMaxResults(maxResults);\n    } else {\n        query = entityManager.createQuery(queryString);\n    }\n\n    index = 1;\n    for (Object parametro : parametros) {\n        query.setParameter((&quot;param&quot; + index++), parametro);\n    }\n\n    return query.getResultList();\n}\n\nprivate Criteria returnCriteria(String... colunas) {\n    // Create criteria based on the entity example\n    Criteria criteria = entityManager.unwrap(Session.class).createCriteria(daoType);\n\n    // Check if attributes were passed to avoid querying all object information\n    if (colunas != null &amp;&amp; colunas.length &gt; 0) {\n\n        ProjectionList listaColunas = Projections.projectionList();\n\n        for (String coluna : colunas) {\n            listaColunas.add(Projections.property(coluna.trim()), coluna.trim());\n        }\n\n        criteria.setProjection(listaColunas).setResultTransformer(Transformers.aliasToBean(daoType));\n    }\n\n    // Perform the query\n    return criteria;\n}\n\n\n</code></pre>\n"},{"tags":["java","maven","tomcat","cargo"],"comments":[{"owner":{"account_id":6756545,"reputation":1084,"user_id":5204741,"accept_rate":81,"display_name":"quento"},"score":0,"creation_date":1446976850,"post_id":33587299,"comment_id":54960773,"body_markdown":"i see that i dont have here tag &lt;configfiles&gt; but i did that, so dont expext to find mistake here. The main problem is that embedded tomcat are copied later then my custom files and overrides them.","body":"i see that i dont have here tag &lt;configfiles&gt; but i did that, so dont expext to find mistake here. The main problem is that embedded tomcat are copied later then my custom files and overrides them."}],"answers":[{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467841207,"creation_date":1467841207,"answer_id":38234234,"question_id":33587299,"body_markdown":"One of solution is here: https://stackoverflow.com/questions/4305935/is-it-possible-to-supply-tomcat6s-context-xml-file-via-the-maven-cargo-plugin#4417945\r\n\r\nMy working configuration (with jdbc DataSource pool) looks like:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;container&gt;\r\n                        &lt;containerId&gt;tomcat8x&lt;/containerId&gt;\r\n                        &lt;systemProperties&gt;\r\n                            &lt;file.encoding&gt;UTF-8&lt;/file.encoding&gt;\r\n                            &lt;spring.profiles.active&gt;tomcat,datajpa&lt;/spring.profiles.active&gt;\r\n                        &lt;/systemProperties&gt;\r\n                        &lt;dependencies&gt;\r\n                            &lt;dependency&gt;\r\n                                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                            &lt;/dependency&gt;\r\n                        &lt;/dependencies&gt;\r\n                    &lt;/container&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;configfiles&gt;\r\n                            &lt;configfile&gt;\r\n                                &lt;file&gt;src/main/resources/tomcat/context.xml&lt;/file&gt;\r\n                                &lt;todir&gt;conf/Catalina/localhost/&lt;/todir&gt;\r\n                                &lt;tofile&gt;context.xml.default&lt;/tofile&gt;\r\n                            &lt;/configfile&gt;\r\n                        &lt;/configfiles&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;deployables&gt;\r\n                        &lt;deployable&gt;\r\n                            &lt;groupId&gt;ru.javawebinar&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;topjava&lt;/artifactId&gt;\r\n                            &lt;type&gt;war&lt;/type&gt;\r\n                            &lt;properties&gt;\r\n                                &lt;context&gt;${project.build.finalName}&lt;/context&gt;\r\n                            &lt;/properties&gt;\r\n                        &lt;/deployable&gt;\r\n                    &lt;/deployables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Cargo embedded tomcat: custom context.xml","body":"<p>One of solution is here: <a href=\"https://stackoverflow.com/questions/4305935/is-it-possible-to-supply-tomcat6s-context-xml-file-via-the-maven-cargo-plugin#4417945\">Is it possible to supply Tomcat6&#39;s context.xml file via the Maven Cargo plugin?</a></p>\n\n<p>My working configuration (with jdbc DataSource pool) looks like:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n            &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;container&gt;\n                    &lt;containerId&gt;tomcat8x&lt;/containerId&gt;\n                    &lt;systemProperties&gt;\n                        &lt;file.encoding&gt;UTF-8&lt;/file.encoding&gt;\n                        &lt;spring.profiles.active&gt;tomcat,datajpa&lt;/spring.profiles.active&gt;\n                    &lt;/systemProperties&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/container&gt;\n                &lt;configuration&gt;\n                    &lt;configfiles&gt;\n                        &lt;configfile&gt;\n                            &lt;file&gt;src/main/resources/tomcat/context.xml&lt;/file&gt;\n                            &lt;todir&gt;conf/Catalina/localhost/&lt;/todir&gt;\n                            &lt;tofile&gt;context.xml.default&lt;/tofile&gt;\n                        &lt;/configfile&gt;\n                    &lt;/configfiles&gt;\n                &lt;/configuration&gt;\n                &lt;deployables&gt;\n                    &lt;deployable&gt;\n                        &lt;groupId&gt;ru.javawebinar&lt;/groupId&gt;\n                        &lt;artifactId&gt;topjava&lt;/artifactId&gt;\n                        &lt;type&gt;war&lt;/type&gt;\n                        &lt;properties&gt;\n                            &lt;context&gt;${project.build.finalName}&lt;/context&gt;\n                        &lt;/properties&gt;\n                    &lt;/deployable&gt;\n                &lt;/deployables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":6756545,"reputation":1084,"user_id":5204741,"accept_rate":81,"display_name":"quento"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10759,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1685531338,"creation_date":1446927369,"question_id":33587299,"body_markdown":"I am using cargo to automate war deployment on Tomcat. However, i get a trouble: i can`t replace default tomcat files with my custom as my files are copied first and then get overwritten by default. I spent hours for resolving this problem but nothing works. Here is my pom.xml\r\n\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                             &lt;executions&gt;\r\n                                 &lt;execution&gt;\r\n                                     &lt;id&gt;replace-tomcat-users-xml&lt;/id&gt;\r\n                                     &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                                     &lt;goals&gt;\r\n                                         &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                                     &lt;/goals&gt;\r\n                                     &lt;configuration&gt;\r\n                                         &lt;outputDirectory&gt;${basedir}/target/apache-tomcat-${version.tomcat}/conf/&lt;/outputDirectory&gt;\r\n                                         &lt;resources&gt;\r\n                                             &lt;resource&gt;\r\n                                                 &lt;directory&gt;src/test/resources/&lt;/directory&gt;\r\n                                                 &lt;includes&gt;\r\n                                                     &lt;include&gt;context.xml&lt;/include&gt;\r\n                                                 &lt;/includes&gt;\r\n                                             &lt;/resource&gt;\r\n                                         &lt;/resources&gt;\r\n                                     &lt;/configuration&gt;\r\n                                 &lt;/execution&gt;\r\n                                 &lt;execution&gt;\r\n                                     &lt;id&gt;replace-tomcat-users-xml-cargo&lt;/id&gt;\r\n                                     &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                                     &lt;goals&gt;\r\n                                         &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                                     &lt;/goals&gt;\r\n                                     &lt;configuration&gt;\r\n                                         &lt;outputDirectory&gt;${basedir}/target/cargo/installs/tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}&lt;/outputDirectory&gt;\r\n                                         &lt;resources&gt;\r\n                                             &lt;resource&gt;\r\n                                                 &lt;directory&gt;src/test/resources/&lt;/directory&gt;\r\n                                                 &lt;includes&gt;\r\n                                                     &lt;include&gt;context.xml&lt;/include&gt;\r\n                                                 &lt;/includes&gt;\r\n                                             &lt;/resource&gt;\r\n                                         &lt;/resources&gt;\r\n                                     &lt;/configuration&gt;\r\n                                 &lt;/execution&gt;\r\n                             &lt;/executions&gt;\r\n                         &lt;/plugin&gt;\r\nand here is cargo using:\r\n\r\n    &lt;plugin&gt;\r\n                           &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n                           &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\r\n                           &lt;version&gt;1.4.11&lt;/version&gt;\r\n                           &lt;configuration&gt;\r\n                               &lt;skip&gt;false&lt;/skip&gt;\r\n                               &lt;container&gt;\r\n                                   &lt;containerId&gt;tomcat7x&lt;/containerId&gt;\r\n                                   &lt;log&gt;${project.build.directory}/cargo.log&lt;/log&gt;\r\n                                   &lt;artifactInstaller&gt;\r\n                                       &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                                       &lt;artifactId&gt;tomcat&lt;/artifactId&gt;\r\n                                       &lt;version&gt;${version.tomcat}&lt;/version&gt;\r\n                                       &lt;type&gt;zip&lt;/type&gt;\r\n                                   &lt;/artifactInstaller&gt;\r\n                                   &lt;systemProperties&gt;\r\n                                       &lt;tomcat.home.dir&gt;\r\n                                           ${basedir}/target/cargo/installs/apache-tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}\r\n                                       &lt;/tomcat.home.dir&gt;\r\n                                       &lt;tomcat.server.home.dir&gt;\r\n                                           ${basedir}/target/cargo/installs/apache-tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}\r\n                                       &lt;/tomcat.server.home.dir&gt;\r\n                                   &lt;/systemProperties&gt;\r\n                                   &lt;dependencies&gt;\r\n                                       &lt;dependency&gt;\r\n                                           &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                                           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                                       &lt;/dependency&gt;\r\n                                   &lt;/dependencies&gt;\r\n                               &lt;/container&gt;\r\n                               &lt;configuration&gt;\r\n\r\n                                   &lt;configfile&gt;\r\n                                       &lt;file&gt;${basedir}/target/cargo/installs/context.xml&lt;/file&gt;\r\n                                       &lt;todir&gt;conf/&lt;/todir&gt;\r\n                                       &lt;tofile&gt;context.xml&lt;/tofile&gt;\r\n                                       &lt;configfile&gt;true&lt;/configfile&gt;\r\n                                       &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n                                   &lt;/configfile&gt;\r\n                                   &lt;properties&gt;\r\n                                       &lt;cargo.servlet.port&gt;8080&lt;/cargo.servlet.port&gt;\r\n                                       &lt;!--Тут менять--&gt;\r\n                                       &lt;cargo.servlet.users&gt;admin:admin:manager-script&lt;/cargo.servlet.users&gt;\r\n                                       &lt;cargo.jvmargs&gt;\r\n                                           -Xmx1024m -XX:MaxPermSize=512m\r\n                                           -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\r\n                                           -Xnoagent\r\n                                           -Djava.compiler=NONE\r\n                                       &lt;/cargo.jvmargs&gt;&lt;/properties&gt;\r\n                               &lt;/configuration&gt;\r\n","title":"Cargo embedded tomcat: custom context.xml","body":"<p>I am using cargo to automate war deployment on Tomcat. However, i get a trouble: i can`t replace default tomcat files with my custom as my files are copied first and then get overwritten by default. I spent hours for resolving this problem but nothing works. Here is my pom.xml</p>\n\n<pre><code>    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                         &lt;executions&gt;\n                             &lt;execution&gt;\n                                 &lt;id&gt;replace-tomcat-users-xml&lt;/id&gt;\n                                 &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                                 &lt;goals&gt;\n                                     &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                 &lt;/goals&gt;\n                                 &lt;configuration&gt;\n                                     &lt;outputDirectory&gt;${basedir}/target/apache-tomcat-${version.tomcat}/conf/&lt;/outputDirectory&gt;\n                                     &lt;resources&gt;\n                                         &lt;resource&gt;\n                                             &lt;directory&gt;src/test/resources/&lt;/directory&gt;\n                                             &lt;includes&gt;\n                                                 &lt;include&gt;context.xml&lt;/include&gt;\n                                             &lt;/includes&gt;\n                                         &lt;/resource&gt;\n                                     &lt;/resources&gt;\n                                 &lt;/configuration&gt;\n                             &lt;/execution&gt;\n                             &lt;execution&gt;\n                                 &lt;id&gt;replace-tomcat-users-xml-cargo&lt;/id&gt;\n                                 &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                                 &lt;goals&gt;\n                                     &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                 &lt;/goals&gt;\n                                 &lt;configuration&gt;\n                                     &lt;outputDirectory&gt;${basedir}/target/cargo/installs/tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}&lt;/outputDirectory&gt;\n                                     &lt;resources&gt;\n                                         &lt;resource&gt;\n                                             &lt;directory&gt;src/test/resources/&lt;/directory&gt;\n                                             &lt;includes&gt;\n                                                 &lt;include&gt;context.xml&lt;/include&gt;\n                                             &lt;/includes&gt;\n                                         &lt;/resource&gt;\n                                     &lt;/resources&gt;\n                                 &lt;/configuration&gt;\n                             &lt;/execution&gt;\n                         &lt;/executions&gt;\n                     &lt;/plugin&gt;\n</code></pre>\n\n<p>and here is cargo using:</p>\n\n<pre><code>&lt;plugin&gt;\n                       &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n                       &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\n                       &lt;version&gt;1.4.11&lt;/version&gt;\n                       &lt;configuration&gt;\n                           &lt;skip&gt;false&lt;/skip&gt;\n                           &lt;container&gt;\n                               &lt;containerId&gt;tomcat7x&lt;/containerId&gt;\n                               &lt;log&gt;${project.build.directory}/cargo.log&lt;/log&gt;\n                               &lt;artifactInstaller&gt;\n                                   &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                                   &lt;artifactId&gt;tomcat&lt;/artifactId&gt;\n                                   &lt;version&gt;${version.tomcat}&lt;/version&gt;\n                                   &lt;type&gt;zip&lt;/type&gt;\n                               &lt;/artifactInstaller&gt;\n                               &lt;systemProperties&gt;\n                                   &lt;tomcat.home.dir&gt;\n                                       ${basedir}/target/cargo/installs/apache-tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}\n                                   &lt;/tomcat.home.dir&gt;\n                                   &lt;tomcat.server.home.dir&gt;\n                                       ${basedir}/target/cargo/installs/apache-tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}\n                                   &lt;/tomcat.server.home.dir&gt;\n                               &lt;/systemProperties&gt;\n                               &lt;dependencies&gt;\n                                   &lt;dependency&gt;\n                                       &lt;groupId&gt;mysql&lt;/groupId&gt;\n                                       &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                                   &lt;/dependency&gt;\n                               &lt;/dependencies&gt;\n                           &lt;/container&gt;\n                           &lt;configuration&gt;\n\n                               &lt;configfile&gt;\n                                   &lt;file&gt;${basedir}/target/cargo/installs/context.xml&lt;/file&gt;\n                                   &lt;todir&gt;conf/&lt;/todir&gt;\n                                   &lt;tofile&gt;context.xml&lt;/tofile&gt;\n                                   &lt;configfile&gt;true&lt;/configfile&gt;\n                                   &lt;overwrite&gt;true&lt;/overwrite&gt;\n                               &lt;/configfile&gt;\n                               &lt;properties&gt;\n                                   &lt;cargo.servlet.port&gt;8080&lt;/cargo.servlet.port&gt;\n                                   &lt;!--Тут менять--&gt;\n                                   &lt;cargo.servlet.users&gt;admin:admin:manager-script&lt;/cargo.servlet.users&gt;\n                                   &lt;cargo.jvmargs&gt;\n                                       -Xmx1024m -XX:MaxPermSize=512m\n                                       -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\n                                       -Xnoagent\n                                       -Djava.compiler=NONE\n                                   &lt;/cargo.jvmargs&gt;&lt;/properties&gt;\n                           &lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","micronaut","micronaut-data"],"owner":{"account_id":1428782,"reputation":351,"user_id":1432317,"display_name":"Olav Gr&#248;n&#229;s Gjerde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685530866,"creation_date":1685530866,"question_id":76372793,"body_markdown":"I would like to do something similar as with Spring Boot JPA\r\n```java\r\n@ElementCollection\r\n@CollectionTable(name = &quot;timeseries_security_categories&quot;, joinColumns = @JoinColumn(name = &quot;timeseries_id&quot;))\r\n@Column(name = &quot;security_categories_integer&quot;)\r\nprivate Set&lt;Integer&gt; securityCategories = new HashSet&lt;&gt;();\r\n```\r\n\r\nHow can I do this with Micronaut Data JDBC?\r\n\r\n\r\n# I&#39;ve also tried a work around, but I cannot get it to work either\r\n\r\nI&#39;m not sure if this is possible with Micronaut Data yet, however I also tried a workaround where I created a mapped entity. But I cannot get this to work either\r\n\r\nTimeseries class\r\n```java\r\n@MappedEntity(value = &quot;timeseries&quot;)\r\npublic class Timeseries {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @Relation(value = Relation.Kind.ONE_TO_MANY, mappedBy = &quot;timeseries&quot;)\r\n    private Set&lt;TimeseriesSecurityCategory&gt; securityCategories = new HashSet&lt;&gt;();\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public Timeseries setId(Long id) {\r\n        this.id = id;\r\n        return this;\r\n    }\r\n\r\n    public Set&lt;TimeseriesSecurityCategory&gt; getSecurityCategories() {\r\n        return securityCategories;\r\n    }\r\n\r\n    public Timeseries setSecurityCategories(Set&lt;TimeseriesSecurityCategory&gt; securityCategories) {\r\n        this.securityCategories = securityCategories;\r\n        return this;\r\n    }\r\n}\r\n```\r\nTimeseries Security Category association\r\n```java\r\n@MappedEntity(value = &quot;timeseries_security_categories&quot;)\r\n@Serdeable\r\n@Introspected\r\npublic class TimeseriesSecurityCategory {\r\n\r\n    @MappedProperty(&quot;timeseries_id&quot;)\r\n    @Relation(value = Relation.Kind.MANY_TO_ONE)\r\n    private Timeseries timeseries;\r\n\r\n    @MappedProperty(&quot;security_categories_integer&quot;)\r\n    private Integer value;\r\n\r\n    public Timeseries getTimeseries() {\r\n        return timeseries;\r\n    }\r\n\r\n    public Integer getValue() {\r\n        return value;\r\n    }\r\n\r\n    public TimeseriesSecurityCategory setTimeseries(Timeseries t) {\r\n        this.timeseries = t;\r\n        return this;\r\n    }\r\n\r\n    public TimeseriesSecurityCategory setValue(Integer value) {\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n}\r\n```\r\nAnd the repository\r\n```java\r\n@JdbcRepository(dialect = Dialect.POSTGRES)\r\n@Join(value = &quot;securityCategories&quot;, type = Join.Type.LEFT_FETCH)\r\npublic abstract class TimeseriesRepository implements CrudRepository&lt;Timeseries, Long&gt; {\r\n\r\n    private final JdbcOperations jdbcOperations;\r\n\r\n    public TimeseriesRepository(JdbcOperations jdbcOperations) {\r\n        this.jdbcOperations = jdbcOperations;\r\n    }\r\n\r\n    public abstract Collection&lt;Timeseries&gt; list();\r\n\r\n}\r\n```\r\n\r\nThe list method generates a valid SQL, however the returned collection of securityCategory is always empty. Like it cannot bind the association to the timeseries.\r\nThe generated SQL:\r\n```sql\r\nSELECT timeseries_.&quot;id&quot;,\r\n       timeseries_security_categories_.&quot;timeseries_id&quot; AS security_categories_timeseries_id,\r\n       timeseries_security_categories_.&quot;security_categories_integer&quot; AS security_categories_security_categories_integer\r\nFROM &quot;timeseries&quot; timeseries_\r\n    LEFT JOIN &quot;timeseries_security_categories&quot; timeseries_security_categories_ ON timeseries_.&quot;id&quot;=timeseries_security_categories_.&quot;timeseries_id&quot;\r\n\r\n```\r\n\r\n\r\n","title":"How can I create a List of numbers or strings association with Micronaut Data JDBC?","body":"<p>I would like to do something similar as with Spring Boot JPA</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ElementCollection\n@CollectionTable(name = &quot;timeseries_security_categories&quot;, joinColumns = @JoinColumn(name = &quot;timeseries_id&quot;))\n@Column(name = &quot;security_categories_integer&quot;)\nprivate Set&lt;Integer&gt; securityCategories = new HashSet&lt;&gt;();\n</code></pre>\n<p>How can I do this with Micronaut Data JDBC?</p>\n<h1>I've also tried a work around, but I cannot get it to work either</h1>\n<p>I'm not sure if this is possible with Micronaut Data yet, however I also tried a workaround where I created a mapped entity. But I cannot get this to work either</p>\n<p>Timeseries class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedEntity(value = &quot;timeseries&quot;)\npublic class Timeseries {\n\n    @Id\n    private Long id;\n\n    @Relation(value = Relation.Kind.ONE_TO_MANY, mappedBy = &quot;timeseries&quot;)\n    private Set&lt;TimeseriesSecurityCategory&gt; securityCategories = new HashSet&lt;&gt;();\n\n    public Long getId() {\n        return id;\n    }\n\n    public Timeseries setId(Long id) {\n        this.id = id;\n        return this;\n    }\n\n    public Set&lt;TimeseriesSecurityCategory&gt; getSecurityCategories() {\n        return securityCategories;\n    }\n\n    public Timeseries setSecurityCategories(Set&lt;TimeseriesSecurityCategory&gt; securityCategories) {\n        this.securityCategories = securityCategories;\n        return this;\n    }\n}\n</code></pre>\n<p>Timeseries Security Category association</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedEntity(value = &quot;timeseries_security_categories&quot;)\n@Serdeable\n@Introspected\npublic class TimeseriesSecurityCategory {\n\n    @MappedProperty(&quot;timeseries_id&quot;)\n    @Relation(value = Relation.Kind.MANY_TO_ONE)\n    private Timeseries timeseries;\n\n    @MappedProperty(&quot;security_categories_integer&quot;)\n    private Integer value;\n\n    public Timeseries getTimeseries() {\n        return timeseries;\n    }\n\n    public Integer getValue() {\n        return value;\n    }\n\n    public TimeseriesSecurityCategory setTimeseries(Timeseries t) {\n        this.timeseries = t;\n        return this;\n    }\n\n    public TimeseriesSecurityCategory setValue(Integer value) {\n        this.value = value;\n        return this;\n    }\n\n}\n</code></pre>\n<p>And the repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JdbcRepository(dialect = Dialect.POSTGRES)\n@Join(value = &quot;securityCategories&quot;, type = Join.Type.LEFT_FETCH)\npublic abstract class TimeseriesRepository implements CrudRepository&lt;Timeseries, Long&gt; {\n\n    private final JdbcOperations jdbcOperations;\n\n    public TimeseriesRepository(JdbcOperations jdbcOperations) {\n        this.jdbcOperations = jdbcOperations;\n    }\n\n    public abstract Collection&lt;Timeseries&gt; list();\n\n}\n</code></pre>\n<p>The list method generates a valid SQL, however the returned collection of securityCategory is always empty. Like it cannot bind the association to the timeseries.\nThe generated SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT timeseries_.&quot;id&quot;,\n       timeseries_security_categories_.&quot;timeseries_id&quot; AS security_categories_timeseries_id,\n       timeseries_security_categories_.&quot;security_categories_integer&quot; AS security_categories_security_categories_integer\nFROM &quot;timeseries&quot; timeseries_\n    LEFT JOIN &quot;timeseries_security_categories&quot; timeseries_security_categories_ ON timeseries_.&quot;id&quot;=timeseries_security_categories_.&quot;timeseries_id&quot;\n\n</code></pre>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685530722,"creation_date":1685459177,"answer_id":76366209,"question_id":76365333,"body_markdown":"Item writer gets a list of items because it is supposed to write all items gathered in a chunk. But as you set the chunk size to one the list will contain only one item. You can persist just this one and it will be committed immediately.\r\n\r\nAnd if the processor returns null the writer will not be involved for the particular item.\r\n\r\nYou can use JdbcBatchItemWriter even if the size will be one. Or RepositoryItemWriter if you prefer JPA over JDBC.\r\n\r\nHope it helps.","title":"Spring batch: Writer approach to update and insert with a commit for each item","body":"<p>Item writer gets a list of items because it is supposed to write all items gathered in a chunk. But as you set the chunk size to one the list will contain only one item. You can persist just this one and it will be committed immediately.</p>\n<p>And if the processor returns null the writer will not be involved for the particular item.</p>\n<p>You can use JdbcBatchItemWriter even if the size will be one. Or RepositoryItemWriter if you prefer JPA over JDBC.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76366209,"answer_count":1,"score":0,"last_activity_date":1685530722,"creation_date":1685453137,"question_id":76365333,"body_markdown":"My need is to read from a database items to process, have processors to check if each item should be processed according to rules (it retrieves data from tables and completes items with necessary data if it should be processed or return null if it is not to not process the item) and to update and write some data for each item that have been processed. The aim is to do all the update and insert queries for one item, to commit and then to treat the next item. \r\n\r\nI set a chunk size of 1 to have a commit for each item because if an item is processed and the corresponding data has been written in database, this item should not be pocessed again if the batch has failed for an other item after and is restarted.\r\n\r\nI do not understand how I can use a writer (or a compositeItemWriter) to update and insert in some tables the result of the batch. Indeed, I see that a writer receives the list of items as parameter instead of only one item to do all the update and insert queries item by item. Also, I saw that there is some implementations for ItemWriter (RepositoryItemWriter and JdbcBatchItemWriter for example) and I do not know which one I should use. Also, I do not understand if I can create and call one or some services in the writer to do all the update and insert actions.\r\n\r\nCan you help me to have the best approach for the writer part to update, insert and then commit for each item please?","title":"Spring batch: Writer approach to update and insert with a commit for each item","body":"<p>My need is to read from a database items to process, have processors to check if each item should be processed according to rules (it retrieves data from tables and completes items with necessary data if it should be processed or return null if it is not to not process the item) and to update and write some data for each item that have been processed. The aim is to do all the update and insert queries for one item, to commit and then to treat the next item.</p>\n<p>I set a chunk size of 1 to have a commit for each item because if an item is processed and the corresponding data has been written in database, this item should not be pocessed again if the batch has failed for an other item after and is restarted.</p>\n<p>I do not understand how I can use a writer (or a compositeItemWriter) to update and insert in some tables the result of the batch. Indeed, I see that a writer receives the list of items as parameter instead of only one item to do all the update and insert queries item by item. Also, I saw that there is some implementations for ItemWriter (RepositoryItemWriter and JdbcBatchItemWriter for example) and I do not know which one I should use. Also, I do not understand if I can create and call one or some services in the writer to do all the update and insert actions.</p>\n<p>Can you help me to have the best approach for the writer part to update, insert and then commit for each item please?</p>\n"},{"tags":["java","tomcat9","cargo"],"comments":[{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1644486846,"post_id":71062690,"comment_id":125621695,"body_markdown":"Try to introduce tomcat-jaspic-api.","body":"Try to introduce tomcat-jaspic-api."},{"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"score":0,"creation_date":1649753002,"post_id":71062690,"comment_id":126949773,"body_markdown":"Seems to be a problem with recent couple of versions. What if you try `&lt;version&gt;1.9.8&lt;/version&gt;` ?","body":"Seems to be a problem with recent couple of versions. What if you try <code>&lt;version&gt;1.9.8&lt;&#47;version&gt;</code> ?"},{"owner":{"account_id":1614036,"reputation":113,"user_id":21223808,"display_name":"ivan_drago"},"score":0,"creation_date":1694204300,"post_id":71062690,"comment_id":135865604,"body_markdown":"@Tzyy Khong Hiew - Did you ever solve this?  If so, can you post the solution?","body":"@Tzyy Khong Hiew - Did you ever solve this?  If so, can you post the solution?"}],"answers":[{"tags":[],"owner":{"account_id":152480,"reputation":1164,"user_id":1384839,"display_name":"slonik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685530360,"creation_date":1685530360,"answer_id":76372717,"question_id":71062690,"body_markdown":"Using embedded server comes with &quot;health warnings&quot; (https://codehaus-cargo.github.io/cargo/Embedded+Container.html) so when I migrated from tomcat7-maven-plugin to cargo-maven3-plugin I gave up on it and let it run standalone.\r\n\r\nMy configuration that works is below (it copies the db driver and context.xml in before tomcat starts with the \\&lt;files\\&gt; and \\&lt;configfiles\\&gt; tags):\r\n\r\n    \t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.9.9&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;9.0.74&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;javax.security.auth.message&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;javax.security.auth.message-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;xalan&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;xalan&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;skip&gt;${skipITs}&lt;/skip&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;files&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;file&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;file&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/lib/postgresql-${postgres.version}.jar&lt;/file&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;todir&gt;/common/lib&lt;/todir&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;tofile&gt;postgresql-${postgres.version}.jar&lt;/tofile&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/file&gt;\r\n\t\t\t\t\t\t\t\t&lt;/files&gt;\r\n\t\t\t\t\t\t\t\t&lt;configfiles&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;configfile&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;file&gt;src/test/resources/tomcat/context.xml&lt;/file&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;todir&gt;conf/Catalina/localhost/&lt;/todir&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;tofile&gt;context.xml.default&lt;/tofile&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/configfile&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configfiles&gt;\r\n\t\t\t\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;cargo.start.jvmargs&gt;\r\n\t\t\t\t\t\t\t\t\t\t-Xdebug\r\n\t\t\t\t\t\t\t\t\t\t-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\r\n\t\t\t\t\t\t\t\t\t\t-Xnoagent\r\n\t\t\t\t\t\t\t\t\t\t-Dmy.property=value\r\n\t\t\t\t\t\t\t\t\t&lt;/cargo.start.jvmargs&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;cargo.servlet.port&gt;${server.http.port}&lt;/cargo.servlet.port&gt;\r\n\t\t\t\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;container&gt;\r\n\t\t\t\t\t\t\t\t&lt;systemProperties&gt;\r\n\t\t\t\t\t\t\t\t&lt;/systemProperties&gt;\r\n\t\t\t\t\t\t\t\t&lt;containerId&gt;tomcat9x&lt;/containerId&gt;\r\n\t\t\t\t\t\t\t\t&lt;zipUrlInstaller&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;url&gt;\r\n\t\t\t\t\t\t\t\t\t\thttps://repo.maven.apache.org/maven2/org/apache/tomcat/tomcat/9.0.62/tomcat-9.0.62.zip\r\n\t\t\t\t\t\t\t\t\t&lt;/url&gt;\r\n\t\t\t\t\t\t\t\t&lt;/zipUrlInstaller&gt;\r\n\t\t\t\t\t\t\t&lt;/container&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;start-tomcat&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;start&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;skip&gt;${skipITs}&lt;/skip&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;stop-tomcat&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;stop&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;skip&gt;${skipITs}&lt;/skip&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n","title":"upgrade tomcat7-maven-plugin to cargo-maven3-plugin with contianer Id tomcat9x","body":"<p>Using embedded server comes with &quot;health warnings&quot; (<a href=\"https://codehaus-cargo.github.io/cargo/Embedded+Container.html\" rel=\"nofollow noreferrer\">https://codehaus-cargo.github.io/cargo/Embedded+Container.html</a>) so when I migrated from tomcat7-maven-plugin to cargo-maven3-plugin I gave up on it and let it run standalone.</p>\n<p>My configuration that works is below (it copies the db driver and context.xml in before tomcat starts with the &lt;files&gt; and &lt;configfiles&gt; tags):</p>\n<pre><code>                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n                    &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.9.9&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                            &lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\n                            &lt;version&gt;9.0.74&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;javax.security.auth.message&lt;/groupId&gt;\n                            &lt;artifactId&gt;javax.security.auth.message-api&lt;/artifactId&gt;\n                            &lt;version&gt;1.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;xalan&lt;/groupId&gt;\n                            &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n                            &lt;version&gt;2.7.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;${skipITs}&lt;/skip&gt;\n                        &lt;configuration&gt;\n                            &lt;files&gt;\n                                &lt;file&gt;\n                                    &lt;file&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/lib/postgresql-${postgres.version}.jar&lt;/file&gt;\n                                    &lt;todir&gt;/common/lib&lt;/todir&gt;\n                                    &lt;tofile&gt;postgresql-${postgres.version}.jar&lt;/tofile&gt;\n                                &lt;/file&gt;\n                            &lt;/files&gt;\n                            &lt;configfiles&gt;\n                                &lt;configfile&gt;\n                                    &lt;file&gt;src/test/resources/tomcat/context.xml&lt;/file&gt;\n                                    &lt;todir&gt;conf/Catalina/localhost/&lt;/todir&gt;\n                                    &lt;tofile&gt;context.xml.default&lt;/tofile&gt;\n                                &lt;/configfile&gt;\n                            &lt;/configfiles&gt;\n                            &lt;properties&gt;\n                                &lt;cargo.start.jvmargs&gt;\n                                    -Xdebug\n                                    -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\n                                    -Xnoagent\n                                    -Dmy.property=value\n                                &lt;/cargo.start.jvmargs&gt;\n                                &lt;cargo.servlet.port&gt;${server.http.port}&lt;/cargo.servlet.port&gt;\n                            &lt;/properties&gt;\n                        &lt;/configuration&gt;\n                        &lt;container&gt;\n                            &lt;systemProperties&gt;\n                            &lt;/systemProperties&gt;\n                            &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\n                            &lt;zipUrlInstaller&gt;\n                                &lt;url&gt;\n                                    https://repo.maven.apache.org/maven2/org/apache/tomcat/tomcat/9.0.62/tomcat-9.0.62.zip\n                                &lt;/url&gt;\n                            &lt;/zipUrlInstaller&gt;\n                        &lt;/container&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;start-tomcat&lt;/id&gt;\n                            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;start&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;skip&gt;${skipITs}&lt;/skip&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;stop-tomcat&lt;/id&gt;\n                            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;stop&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;skip&gt;${skipITs}&lt;/skip&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":24212663,"reputation":41,"user_id":18168969,"display_name":"Tzyy Khong Hiew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1685530360,"creation_date":1644485607,"question_id":71062690,"body_markdown":"please help , configuring cargo-maven3-plugin and facing the problem below , thank you and appreciate those who have experience on the cargo and tomcat 9 plugin . thank you very much\r\n\r\npom.xml file configuration for cargo-maven3-plugin\r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;container&gt;\r\n\t\t\t\t\t\t&lt;containerId&gt;tomcat9x&lt;/containerId&gt;\r\n\t\t\t\t\t\t&lt;type&gt;embedded&lt;/type&gt;\r\n\t\t\t\t\t\t&lt;zipUrlInstaller&gt;\r\n\t\t\t\t\t\t\t&lt;url&gt;https://repo.maven.apache.org/maven3/org/apache/tomcat/tomcat/9.0.58/tomcat-9.0.58.zip&lt;/url&gt;\r\n\t\t\t\t\t\t&lt;/zipUrlInstaller&gt;\r\n\t\t\t\t\t&lt;/container&gt;\r\n\t\t\t\t\t&lt;deployables&gt;\r\n\t\t\t\t\t\t&lt;deployable&gt;\r\n\t\t\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t\t\t\t&lt;context&gt;&lt;/context&gt;\r\n\t\t\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t\t\t&lt;/deployable&gt;\r\n\t\t\t\t\t&lt;/deployables&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t\t\t&lt;cargo.servlet.port&gt;8082&lt;/cargo.servlet.port&gt;\r\n\t\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\ntomcat 9 server console startup error log : \r\n\r\n    Feb 10, 2022 5:10:20 PM org.apache.catalina.startup.ContextConfig authenticatorConfig\r\n    SEVERE: Cannot instantiate an authenticator of class [org.apache.catalina.authenticator.NonLoginAuthenticator]\r\n    java.lang.NoClassDefFoundError: javax/security/auth/message/config/RegistrationListener\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n    \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:550)\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458)\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n    \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:550)\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458)\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:315)\r\n    \tat org.apache.catalina.startup.ContextConfig.authenticatorConfig(ContextConfig.java:395)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:997)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n    \tat org.apache.catalina.startup.Tomcat.addWebapp(Tomcat.java:788)\r\n    \tat org.apache.catalina.startup.Tomcat.addWebapp(Tomcat.java:738)\r\n    \tat org.apache.catalina.startup.Tomcat.addWebapp(Tomcat.java:249)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.codehaus.cargo.container.tomcat.internal.TomcatEmbedded$Wrapper.invoke(TomcatEmbedded.java:454)\r\n    \tat org.codehaus.cargo.container.tomcat.internal.TomcatEmbedded$Wrapper.invoke(TomcatEmbedded.java:413)\r\n    \tat org.codehaus.cargo.container.tomcat.internal.TomcatEmbedded$Embedded.createContext(TomcatEmbedded.java:712)\r\n    \tat org.codehaus.cargo.container.tomcat.TomcatEmbeddedLocalDeployer.deploy(TomcatEmbeddedLocalDeployer.java:91)\r\n    \tat org.codehaus.cargo.container.tomcat.TomcatEmbeddedLocalDeployer.redeploy(TomcatEmbeddedLocalDeployer.java:149)\r\n    \tat org.codehaus.cargo.container.tomcat.internal.AbstractCatalinaEmbeddedLocalContainer.doStart(AbstractCatalinaEmbeddedLocalContainer.java:166)\r\n    \tat org.codehaus.cargo.container.spi.AbstractEmbeddedLocalContainer.startInternal(AbstractEmbeddedLocalContainer.java:78)\r\n    \tat org.codehaus.cargo.container.spi.AbstractLocalContainer.start(AbstractLocalContainer.java:228)\r\n    \tat org.codehaus.cargo.maven3.ContainerStartMojo.executeLocalContainerAction(ContainerStartMojo.java:83)\r\n    \tat org.codehaus.cargo.maven3.ContainerRunMojo.doExecute(ContainerRunMojo.java:95)\r\n    \tat org.codehaus.cargo.maven3.AbstractCargoMojo.execute(AbstractCargoMojo.java:439)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    \tat org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\n    Caused by: java.lang.ClassNotFoundException: javax.security.auth.message.config.RegistrationListener\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 72 more\r\n\r\nserver startup log show got classNotFoundException for RegistrationListener \r\n\r\ntomcat 7 not problem \r\n\r\nMigrating version tomcat 7 to tomcat 9 , java 8 to java 11\r\n\r\n\r\n\r\nAnyone know what wrong with my configuration ?","title":"upgrade tomcat7-maven-plugin to cargo-maven3-plugin with contianer Id tomcat9x","body":"<p>please help , configuring cargo-maven3-plugin and facing the problem below , thank you and appreciate those who have experience on the cargo and tomcat 9 plugin . thank you very much</p>\n<p>pom.xml file configuration for cargo-maven3-plugin</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n            &lt;artifactId&gt;cargo-maven3-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;container&gt;\n                    &lt;containerId&gt;tomcat9x&lt;/containerId&gt;\n                    &lt;type&gt;embedded&lt;/type&gt;\n                    &lt;zipUrlInstaller&gt;\n                        &lt;url&gt;https://repo.maven.apache.org/maven3/org/apache/tomcat/tomcat/9.0.58/tomcat-9.0.58.zip&lt;/url&gt;\n                    &lt;/zipUrlInstaller&gt;\n                &lt;/container&gt;\n                &lt;deployables&gt;\n                    &lt;deployable&gt;\n                        &lt;properties&gt;\n                            &lt;context&gt;&lt;/context&gt;\n                        &lt;/properties&gt;\n                    &lt;/deployable&gt;\n                &lt;/deployables&gt;\n                &lt;configuration&gt;\n                    &lt;properties&gt;\n                        &lt;cargo.servlet.port&gt;8082&lt;/cargo.servlet.port&gt;\n                    &lt;/properties&gt;\n                &lt;/configuration&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>tomcat 9 server console startup error log :</p>\n<pre><code>Feb 10, 2022 5:10:20 PM org.apache.catalina.startup.ContextConfig authenticatorConfig\nSEVERE: Cannot instantiate an authenticator of class [org.apache.catalina.authenticator.NonLoginAuthenticator]\njava.lang.NoClassDefFoundError: javax/security/auth/message/config/RegistrationListener\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:550)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:550)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:458)\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:452)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:451)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at org.apache.catalina.startup.ContextConfig.authenticatorConfig(ContextConfig.java:395)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:997)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.Tomcat.addWebapp(Tomcat.java:788)\n    at org.apache.catalina.startup.Tomcat.addWebapp(Tomcat.java:738)\n    at org.apache.catalina.startup.Tomcat.addWebapp(Tomcat.java:249)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.cargo.container.tomcat.internal.TomcatEmbedded$Wrapper.invoke(TomcatEmbedded.java:454)\n    at org.codehaus.cargo.container.tomcat.internal.TomcatEmbedded$Wrapper.invoke(TomcatEmbedded.java:413)\n    at org.codehaus.cargo.container.tomcat.internal.TomcatEmbedded$Embedded.createContext(TomcatEmbedded.java:712)\n    at org.codehaus.cargo.container.tomcat.TomcatEmbeddedLocalDeployer.deploy(TomcatEmbeddedLocalDeployer.java:91)\n    at org.codehaus.cargo.container.tomcat.TomcatEmbeddedLocalDeployer.redeploy(TomcatEmbeddedLocalDeployer.java:149)\n    at org.codehaus.cargo.container.tomcat.internal.AbstractCatalinaEmbeddedLocalContainer.doStart(AbstractCatalinaEmbeddedLocalContainer.java:166)\n    at org.codehaus.cargo.container.spi.AbstractEmbeddedLocalContainer.startInternal(AbstractEmbeddedLocalContainer.java:78)\n    at org.codehaus.cargo.container.spi.AbstractLocalContainer.start(AbstractLocalContainer.java:228)\n    at org.codehaus.cargo.maven3.ContainerStartMojo.executeLocalContainerAction(ContainerStartMojo.java:83)\n    at org.codehaus.cargo.maven3.ContainerRunMojo.doExecute(ContainerRunMojo.java:95)\n    at org.codehaus.cargo.maven3.AbstractCargoMojo.execute(AbstractCargoMojo.java:439)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\nCaused by: java.lang.ClassNotFoundException: javax.security.auth.message.config.RegistrationListener\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 72 more\n</code></pre>\n<p>server startup log show got classNotFoundException for RegistrationListener</p>\n<p>tomcat 7 not problem</p>\n<p>Migrating version tomcat 7 to tomcat 9 , java 8 to java 11</p>\n<p>Anyone know what wrong with my configuration ?</p>\n"},{"tags":["java","arraylist","automation","hashmap"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1685530801,"post_id":76372691,"comment_id":134672169,"body_markdown":"You clear the list after adding it. [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value) should be a good read to understand the problem.","body":"You clear the list after adding it. <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a> should be a good read to understand the problem."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1685530805,"post_id":76372691,"comment_id":134672172,"body_markdown":"You only create one `ArrayList &lt;String&gt;recordList` that you fill with data, add a reference to it to `recordbatchof1000` and then empty it again with `recordList.clear();`. After the `if` statement the `recordList` is always empty (and the references that you added to `recordbatchof1000` show that too). To fix this you **must** create new lists that you can add to `recordbatchof1000`.","body":"You only create one <code>ArrayList &lt;String&gt;recordList</code> that you fill with data, add a reference to it to <code>recordbatchof1000</code> and then empty it again with <code>recordList.clear();</code>. After the <code>if</code> statement the <code>recordList</code> is always empty (and the references that you added to <code>recordbatchof1000</code> show that too). To fix this you <b>must</b> create new lists that you can add to <code>recordbatchof1000</code>."}],"owner":{"account_id":14112653,"reputation":33,"user_id":10195099,"display_name":"Shaheaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685530661,"answer_count":0,"score":0,"last_activity_date":1685530161,"creation_date":1685530161,"question_id":76372691,"body_markdown":"What is wrong with this code. why i am not able to get the entryset outside of this if condition?\r\n\r\npublic class test{\r\n\r\n    public static void main(String args[]) {\r\n    \r\n        ArrayList &lt;String&gt;recordList = new ArrayList();\r\n        int c = 1;\r\n        HashMap&lt;Integer, ArrayList&gt; recordbatchof1000 = new HashMap&lt;&gt;();\r\n    \r\n        for (int i = 0; i &lt; 10; i++) {\r\n    \r\n            recordList.add(String.valueOf(i));\r\n            if (recordList.size() &gt; 0) {\r\n                recordbatchof1000.put(c, recordList);\r\n                System.out.println(&quot;DEBUG:: The value of the map is  inside if condition::&quot; + recordbatchof1000.entrySet());\r\n                c++;\r\n                recordList.clear();\r\n            }\r\n                System.out.println(&quot;DEBUG:: The value of the map is  outside if condition::&quot; + recordbatchof1000.entrySet());\r\n        }\r\n        }\r\n\r\nI am getting the output as shown below but I am expecting same output inside and outside of if condition...\r\n`DEBUG:: The value of the map is  inside if condition::[1=[0]]`\r\n\r\n`DEBUG:: The value of the map is  outside if condition::[1=[]]`\r\n\r\n`DEBUG:: The value of the map is  inside if condition::[1=[1], 2=[1]]`\r\n\r\n`DEBUG:: The value of the map is  outside if condition::[1=[], 2=[]]`\r\n\r\nI am trying to add records in hashmap and read it at once outside.","title":"Why HashMap is not showing entryset outside the if condition","body":"<p>What is wrong with this code. why i am not able to get the entryset outside of this if condition?</p>\n<p>public class test{</p>\n<pre><code>public static void main(String args[]) {\n\n    ArrayList &lt;String&gt;recordList = new ArrayList();\n    int c = 1;\n    HashMap&lt;Integer, ArrayList&gt; recordbatchof1000 = new HashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; 10; i++) {\n\n        recordList.add(String.valueOf(i));\n        if (recordList.size() &gt; 0) {\n            recordbatchof1000.put(c, recordList);\n            System.out.println(&quot;DEBUG:: The value of the map is  inside if condition::&quot; + recordbatchof1000.entrySet());\n            c++;\n            recordList.clear();\n        }\n            System.out.println(&quot;DEBUG:: The value of the map is  outside if condition::&quot; + recordbatchof1000.entrySet());\n    }\n    }\n</code></pre>\n<p>I am getting the output as shown below but I am expecting same output inside and outside of if condition...\n<code>DEBUG:: The value of the map is  inside if condition::[1=[0]]</code></p>\n<p><code>DEBUG:: The value of the map is  outside if condition::[1=[]]</code></p>\n<p><code>DEBUG:: The value of the map is  inside if condition::[1=[1], 2=[1]]</code></p>\n<p><code>DEBUG:: The value of the map is  outside if condition::[1=[], 2=[]]</code></p>\n<p>I am trying to add records in hashmap and read it at once outside.</p>\n"},{"tags":["java","windows","rmi","latency"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685469966,"post_id":76366926,"comment_id":134663618,"body_markdown":"Just use sockets. Almost nothing uses RMI these days. Unless you need to learn about RPC concepts.","body":"Just use sockets. Almost nothing uses RMI these days. Unless you need to learn about RPC concepts."},{"owner":{"account_id":14493136,"reputation":41,"user_id":13015518,"display_name":"Benny"},"score":0,"creation_date":1685522496,"post_id":76366926,"comment_id":134670501,"body_markdown":"@aled Yes, ok I see your point. This is a school project and they want us to use RMI, so I have to use it.","body":"@aled Yes, ok I see your point. This is a school project and they want us to use RMI, so I have to use it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1685534197,"post_id":76366926,"comment_id":134672934,"body_markdown":"RMI latency is usually DNS latency. Physical distance only adds milliseconds. You need to look up the `/etc/hosts` file format. Not really on-topic here.","body":"RMI latency is usually DNS latency. Physical distance only adds milliseconds. You need to look up the <code>&#47;etc&#47;hosts</code> file format. Not really on-topic here."},{"owner":{"account_id":14493136,"reputation":41,"user_id":13015518,"display_name":"Benny"},"score":0,"creation_date":1685542992,"post_id":76366926,"comment_id":134675232,"body_markdown":"@user207421 ok I did take a look at it. The thing is that I don&#39;t have any idea what I should set the hostname to.","body":"@user207421 ok I did take a look at it. The thing is that I don&#39;t have any idea what I should set the hostname to."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686039594,"post_id":76366926,"comment_id":134740828,"body_markdown":"Err, to its IP address?","body":"Err, to its IP address?"},{"owner":{"account_id":14493136,"reputation":41,"user_id":13015518,"display_name":"Benny"},"score":0,"creation_date":1686091591,"post_id":76366926,"comment_id":134751145,"body_markdown":"that&#39;s the ip address of the host, but what about the hostname?","body":"that&#39;s the ip address of the host, but what about the hostname?"}],"owner":{"account_id":14493136,"reputation":41,"user_id":13015518,"display_name":"Benny"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685530015,"creation_date":1685464681,"question_id":76366926,"body_markdown":"I&#39;m implementing a client-server game in java. As to the connection layer, you can choose to use RMI or Sockets. I&#39;m experiencing huge lantency (roughly 20-30 seconds) using RMI with a Win10 client and a Win11 server on a private network (created using ZeroTier) run on two different machines with a physical distance of 200km. I thought the latency was due to the distance of the two machines, but if I go for the Socket connection layer, the latency is orders of magnitude smaller. After checking in the java RMI FAQ, I noticed that at C.6 they say that latency in Win Platforms might be a consequence of DNS lookup timeouts. They say that, in order to fix it, you have to add to the &quot;hosts&quot; file a hostname/address mapping. Now, my question is: what entry should I add exactly to the hosts file? I know that the address is determined by what ZeroTier assigns me, but what should the hostname be?","title":"RMI latency on Windows","body":"<p>I'm implementing a client-server game in java. As to the connection layer, you can choose to use RMI or Sockets. I'm experiencing huge lantency (roughly 20-30 seconds) using RMI with a Win10 client and a Win11 server on a private network (created using ZeroTier) run on two different machines with a physical distance of 200km. I thought the latency was due to the distance of the two machines, but if I go for the Socket connection layer, the latency is orders of magnitude smaller. After checking in the java RMI FAQ, I noticed that at C.6 they say that latency in Win Platforms might be a consequence of DNS lookup timeouts. They say that, in order to fix it, you have to add to the &quot;hosts&quot; file a hostname/address mapping. Now, my question is: what entry should I add exactly to the hosts file? I know that the address is determined by what ZeroTier assigns me, but what should the hostname be?</p>\n"},{"tags":["java","maven","cxf"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1685529924,"post_id":76372603,"comment_id":134672010,"body_markdown":"there is `java9-plus` profile defined in parent pom (https://repo1.maven.org/maven2/org/apache/cxf/cxf-parent/3.5.5/cxf-parent-3.5.5.pom), which adds extra dependencies.","body":"there is <code>java9-plus</code> profile defined in parent pom (<a href=\"https://repo1.maven.org/maven2/org/apache/cxf/cxf-parent/3.5.5/cxf-parent-3.5.5.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/apache/cxf/cxf-parent/3.5.5/&hellip;</a>), which adds extra dependencies."},{"owner":{"account_id":3020430,"reputation":909,"user_id":3176108,"display_name":"Raghu"},"score":0,"creation_date":1685530478,"post_id":76372603,"comment_id":134672108,"body_markdown":"Can you add this as an answer so that I can accept it?","body":"Can you add this as an answer so that I can accept it?"}],"owner":{"account_id":3020430,"reputation":909,"user_id":3176108,"display_name":"Raghu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685529490,"creation_date":1685529490,"question_id":76372603,"body_markdown":"I&#39;m using Apache CXF in my project and see a difference in the dependency tree when I&#39;m compiling using different Java Versions. How is maven or CXF controlling this change in the dependency tree based on Java Version?\r\n\r\nFrom whatever I could gather we can either use a Maven Profile with Activation on a specific Java Version or an enforcer plugin but both of these configurations are missing in CXF.\r\n\r\nhttps://repo1.maven.org/maven2/org/apache/cxf/cxf-core/3.5.5/cxf-core-3.5.5.pom\r\n\r\nJDK 8 Dependency Tree\r\n```\r\n[INFO] org.apache.cxf:cxf-core:bundle:3.5.5\r\n[INFO] +- junit:junit:jar:4.13.2:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\r\n[INFO] |     \\- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] +- org.easymock:easymock:jar:5.0.1:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\r\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile (optional) \r\n[INFO] +- org.ow2.asm:asm:jar:9.4:compile (optional) \r\n[INFO] +- xml-resolver:xml-resolver:jar:1.2:compile (optional) \r\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.5:compile\r\n[INFO] |  +- org.glassfish.jaxb:txw2:jar:2.3.5:compile\r\n[INFO] |  +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\r\n[INFO] |  \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\r\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.36:compile (optional) \r\n[INFO] +- org.slf4j:slf4j-jdk14:jar:1.7.36:test\r\n[INFO] +- org.slf4j:jcl-over-slf4j:jar:1.7.36:test\r\n[INFO] +- cglib:cglib-nodep:jar:3.3.0:provided\r\n[INFO] +- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\r\n[INFO] |  \\- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO] +- org.springframework:spring-beans:jar:5.3.22:compile (optional) \r\n[INFO] |  \\- org.springframework:spring-core:jar:5.3.22:compile (optional) \r\n[INFO] |     \\- org.springframework:spring-jcl:jar:5.3.22:compile (optional) \r\n[INFO] +- org.springframework:spring-context:jar:5.3.22:compile (optional) \r\n[INFO] |  \\- org.springframework:spring-expression:jar:5.3.22:compile (optional) \r\n[INFO] +- org.springframework:spring-aop:jar:5.3.22:provided (optional) \r\n[INFO] +- org.apache.aries.blueprint:org.apache.aries.blueprint.core:jar:1.10.3:provided (optional) \r\n[INFO] |  +- org.apache.aries.blueprint:org.apache.aries.blueprint.api:jar:1.0.1:provided (optional) \r\n[INFO] |  +- org.apache.aries.quiesce:org.apache.aries.quiesce.api:jar:1.0.0:provided (optional) \r\n[INFO] |  \\- org.apache.aries.proxy:org.apache.aries.proxy.api:jar:1.1.1:provided (optional) \r\n[INFO] +- org.apache.aries.blueprint:blueprint-parser:jar:1.6.1:provided (optional) \r\n[INFO] +- org.apache.ws.xmlschema:xmlschema-core:jar:2.3.0:compile\r\n[INFO] +- com.sun.mail:jakarta.mail:jar:1.6.7:test\r\n[INFO] +- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.18:compile (optional) \r\n[INFO] +- org.osgi:org.osgi.core:jar:6.0.0:provided\r\n[INFO] +- org.osgi:osgi.cmpn:jar:6.0.0:provided (optional) \r\n[INFO] +- net.java.dev.msv:msv-core:jar:2013.6.1:provided (optional) \r\n[INFO] |  +- net.java.dev.msv:xsdlib:jar:2013.6.1:provided (optional) \r\n[INFO] |  |  \\- relaxngDatatype:relaxngDatatype:jar:20020414:provided (optional) \r\n[INFO] |  \\- com.sun.xml.bind.jaxb:isorelax:jar:20090621:provided (optional) \r\n[INFO] +- org.springframework.osgi:spring-osgi-io:jar:1.2.1:provided (optional) \r\n[INFO] +- org.springframework.osgi:spring-osgi-core:jar:1.2.1:provided (optional) \r\n[INFO] +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n[INFO] \\- xerces:xercesImpl:jar:2.12.2:test\r\n[INFO]    \\- xml-apis:xml-apis:jar:1.4.01:test\r\n```\r\n\r\nJDK 16 Dependency Tree\r\n\r\n```\r\n[INFO] org.apache.cxf:cxf-core:bundle:3.5.5\r\n[INFO] +- junit:junit:jar:4.13.2:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\r\n[INFO] |     \\- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] +- org.easymock:easymock:jar:5.0.1:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\r\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile (optional) \r\n[INFO] +- org.ow2.asm:asm:jar:9.4:compile (optional) \r\n[INFO] +- xml-resolver:xml-resolver:jar:1.2:compile (optional) \r\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.5:compile\r\n[INFO] |  +- org.glassfish.jaxb:txw2:jar:2.3.5:compile\r\n[INFO] |  \\- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\r\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.36:compile (optional) \r\n[INFO] +- org.slf4j:slf4j-jdk14:jar:1.7.36:test\r\n[INFO] +- org.slf4j:jcl-over-slf4j:jar:1.7.36:test\r\n[INFO] +- cglib:cglib-nodep:jar:3.3.0:provided\r\n[INFO] +- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\r\n[INFO] |  \\- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO] +- org.springframework:spring-beans:jar:5.3.22:compile (optional) \r\n[INFO] |  \\- org.springframework:spring-core:jar:5.3.22:compile (optional) \r\n[INFO] |     \\- org.springframework:spring-jcl:jar:5.3.22:compile (optional) \r\n[INFO] +- org.springframework:spring-context:jar:5.3.22:compile (optional) \r\n[INFO] |  \\- org.springframework:spring-expression:jar:5.3.22:compile (optional) \r\n[INFO] +- org.springframework:spring-aop:jar:5.3.22:provided (optional) \r\n[INFO] +- org.apache.aries.blueprint:org.apache.aries.blueprint.core:jar:1.10.3:provided (optional) \r\n[INFO] |  +- org.apache.aries.blueprint:org.apache.aries.blueprint.api:jar:1.0.1:provided (optional) \r\n[INFO] |  +- org.apache.aries.quiesce:org.apache.aries.quiesce.api:jar:1.0.0:provided (optional) \r\n[INFO] |  \\- org.apache.aries.proxy:org.apache.aries.proxy.api:jar:1.1.1:provided (optional) \r\n[INFO] +- org.apache.aries.blueprint:blueprint-parser:jar:1.6.1:provided (optional) \r\n[INFO] +- org.apache.ws.xmlschema:xmlschema-core:jar:2.3.0:compile\r\n[INFO] +- com.sun.mail:jakarta.mail:jar:1.6.7:test\r\n[INFO] +- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.18:compile (optional) \r\n[INFO] +- org.osgi:org.osgi.core:jar:6.0.0:provided\r\n[INFO] +- org.osgi:osgi.cmpn:jar:6.0.0:provided (optional) \r\n[INFO] +- net.java.dev.msv:msv-core:jar:2013.6.1:provided (optional) \r\n[INFO] |  +- net.java.dev.msv:xsdlib:jar:2013.6.1:provided (optional) \r\n[INFO] |  |  \\- relaxngDatatype:relaxngDatatype:jar:20020414:provided (optional) \r\n[INFO] |  \\- com.sun.xml.bind.jaxb:isorelax:jar:20090621:provided (optional) \r\n[INFO] +- org.springframework.osgi:spring-osgi-io:jar:1.2.1:provided (optional) \r\n[INFO] +- org.springframework.osgi:spring-osgi-core:jar:1.2.1:provided (optional) \r\n[INFO] +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n[INFO] +- xerces:xercesImpl:jar:2.12.2:test\r\n[INFO] +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] +- jakarta.xml.ws:jakarta.xml.ws-api:jar:2.3.3:compile\r\n[INFO] +- jakarta.jws:jakarta.jws-api:jar:2.1.0:compile\r\n[INFO] +- jakarta.xml.soap:jakarta.xml.soap-api:jar:1.4.2:compile\r\n[INFO] +- com.sun.activation:jakarta.activation:jar:1.2.2:compile\r\n[INFO] +- com.sun.xml.messaging.saaj:saaj-impl:jar:1.5.3:runtime\r\n[INFO] |  \\- org.jvnet.staxex:stax-ex:jar:1.8.3:runtime\r\n[INFO] +- org.apache.geronimo.specs:geronimo-jta_1.1_spec:jar:1.1.1:compile\r\n[INFO] \\- org.jacorb:jacorb:jar:3.9:test\r\n[INFO]    \\- org.jacorb:jacorb-omgapi:jar:3.9:test\r\n```\r\n\r\nJars that get added in JDK 16,\r\n\r\n```\r\n[INFO] +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] +- jakarta.xml.ws:jakarta.xml.ws-api:jar:2.3.3:compile\r\n[INFO] +- jakarta.jws:jakarta.jws-api:jar:2.1.0:compile\r\n[INFO] +- jakarta.xml.soap:jakarta.xml.soap-api:jar:1.4.2:compile\r\n[INFO] +- com.sun.activation:jakarta.activation:jar:1.2.2:compile\r\n[INFO] +- com.sun.xml.messaging.saaj:saaj-impl:jar:1.5.3:runtime\r\n[INFO] |  \\- org.jvnet.staxex:stax-ex:jar:1.8.3:runtime\r\n[INFO] +- org.apache.geronimo.specs:geronimo-jta_1.1_spec:jar:1.1.1:compile\r\n[INFO] \\- org.jacorb:jacorb:jar:3.9:test\r\n[INFO]    \\- org.jacorb:jacorb-omgapi:jar:3.9:test\r\n```\r\n\r\nI&#39;m trying to understand how a dependency say geronimo-jta_1.1_spec is getting resolved or added to the tree when compiling using JDK 16.","title":"Difference in Dependency Resolution based on JDK Version in Apache CXF","body":"<p>I'm using Apache CXF in my project and see a difference in the dependency tree when I'm compiling using different Java Versions. How is maven or CXF controlling this change in the dependency tree based on Java Version?</p>\n<p>From whatever I could gather we can either use a Maven Profile with Activation on a specific Java Version or an enforcer plugin but both of these configurations are missing in CXF.</p>\n<p><a href=\"https://repo1.maven.org/maven2/org/apache/cxf/cxf-core/3.5.5/cxf-core-3.5.5.pom\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/apache/cxf/cxf-core/3.5.5/cxf-core-3.5.5.pom</a></p>\n<p>JDK 8 Dependency Tree</p>\n<pre><code>[INFO] org.apache.cxf:cxf-core:bundle:3.5.5\n[INFO] +- junit:junit:jar:4.13.2:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\n[INFO] |     \\- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] +- org.easymock:easymock:jar:5.0.1:test\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile (optional) \n[INFO] +- org.ow2.asm:asm:jar:9.4:compile (optional) \n[INFO] +- xml-resolver:xml-resolver:jar:1.2:compile (optional) \n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.5:compile\n[INFO] |  +- org.glassfish.jaxb:txw2:jar:2.3.5:compile\n[INFO] |  +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\n[INFO] |  \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.36:compile (optional) \n[INFO] +- org.slf4j:slf4j-jdk14:jar:1.7.36:test\n[INFO] +- org.slf4j:jcl-over-slf4j:jar:1.7.36:test\n[INFO] +- cglib:cglib-nodep:jar:3.3.0:provided\n[INFO] +- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\n[INFO] |  \\- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] +- org.springframework:spring-beans:jar:5.3.22:compile (optional) \n[INFO] |  \\- org.springframework:spring-core:jar:5.3.22:compile (optional) \n[INFO] |     \\- org.springframework:spring-jcl:jar:5.3.22:compile (optional) \n[INFO] +- org.springframework:spring-context:jar:5.3.22:compile (optional) \n[INFO] |  \\- org.springframework:spring-expression:jar:5.3.22:compile (optional) \n[INFO] +- org.springframework:spring-aop:jar:5.3.22:provided (optional) \n[INFO] +- org.apache.aries.blueprint:org.apache.aries.blueprint.core:jar:1.10.3:provided (optional) \n[INFO] |  +- org.apache.aries.blueprint:org.apache.aries.blueprint.api:jar:1.0.1:provided (optional) \n[INFO] |  +- org.apache.aries.quiesce:org.apache.aries.quiesce.api:jar:1.0.0:provided (optional) \n[INFO] |  \\- org.apache.aries.proxy:org.apache.aries.proxy.api:jar:1.1.1:provided (optional) \n[INFO] +- org.apache.aries.blueprint:blueprint-parser:jar:1.6.1:provided (optional) \n[INFO] +- org.apache.ws.xmlschema:xmlschema-core:jar:2.3.0:compile\n[INFO] +- com.sun.mail:jakarta.mail:jar:1.6.7:test\n[INFO] +- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.18:compile (optional) \n[INFO] +- org.osgi:org.osgi.core:jar:6.0.0:provided\n[INFO] +- org.osgi:osgi.cmpn:jar:6.0.0:provided (optional) \n[INFO] +- net.java.dev.msv:msv-core:jar:2013.6.1:provided (optional) \n[INFO] |  +- net.java.dev.msv:xsdlib:jar:2013.6.1:provided (optional) \n[INFO] |  |  \\- relaxngDatatype:relaxngDatatype:jar:20020414:provided (optional) \n[INFO] |  \\- com.sun.xml.bind.jaxb:isorelax:jar:20090621:provided (optional) \n[INFO] +- org.springframework.osgi:spring-osgi-io:jar:1.2.1:provided (optional) \n[INFO] +- org.springframework.osgi:spring-osgi-core:jar:1.2.1:provided (optional) \n[INFO] +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n[INFO] \\- xerces:xercesImpl:jar:2.12.2:test\n[INFO]    \\- xml-apis:xml-apis:jar:1.4.01:test\n</code></pre>\n<p>JDK 16 Dependency Tree</p>\n<pre><code>[INFO] org.apache.cxf:cxf-core:bundle:3.5.5\n[INFO] +- junit:junit:jar:4.13.2:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\n[INFO] |     \\- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] +- org.easymock:easymock:jar:5.0.1:test\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile (optional) \n[INFO] +- org.ow2.asm:asm:jar:9.4:compile (optional) \n[INFO] +- xml-resolver:xml-resolver:jar:1.2:compile (optional) \n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.5:compile\n[INFO] |  +- org.glassfish.jaxb:txw2:jar:2.3.5:compile\n[INFO] |  \\- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.36:compile (optional) \n[INFO] +- org.slf4j:slf4j-jdk14:jar:1.7.36:test\n[INFO] +- org.slf4j:jcl-over-slf4j:jar:1.7.36:test\n[INFO] +- cglib:cglib-nodep:jar:3.3.0:provided\n[INFO] +- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\n[INFO] |  \\- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] +- org.springframework:spring-beans:jar:5.3.22:compile (optional) \n[INFO] |  \\- org.springframework:spring-core:jar:5.3.22:compile (optional) \n[INFO] |     \\- org.springframework:spring-jcl:jar:5.3.22:compile (optional) \n[INFO] +- org.springframework:spring-context:jar:5.3.22:compile (optional) \n[INFO] |  \\- org.springframework:spring-expression:jar:5.3.22:compile (optional) \n[INFO] +- org.springframework:spring-aop:jar:5.3.22:provided (optional) \n[INFO] +- org.apache.aries.blueprint:org.apache.aries.blueprint.core:jar:1.10.3:provided (optional) \n[INFO] |  +- org.apache.aries.blueprint:org.apache.aries.blueprint.api:jar:1.0.1:provided (optional) \n[INFO] |  +- org.apache.aries.quiesce:org.apache.aries.quiesce.api:jar:1.0.0:provided (optional) \n[INFO] |  \\- org.apache.aries.proxy:org.apache.aries.proxy.api:jar:1.1.1:provided (optional) \n[INFO] +- org.apache.aries.blueprint:blueprint-parser:jar:1.6.1:provided (optional) \n[INFO] +- org.apache.ws.xmlschema:xmlschema-core:jar:2.3.0:compile\n[INFO] +- com.sun.mail:jakarta.mail:jar:1.6.7:test\n[INFO] +- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.18:compile (optional) \n[INFO] +- org.osgi:org.osgi.core:jar:6.0.0:provided\n[INFO] +- org.osgi:osgi.cmpn:jar:6.0.0:provided (optional) \n[INFO] +- net.java.dev.msv:msv-core:jar:2013.6.1:provided (optional) \n[INFO] |  +- net.java.dev.msv:xsdlib:jar:2013.6.1:provided (optional) \n[INFO] |  |  \\- relaxngDatatype:relaxngDatatype:jar:20020414:provided (optional) \n[INFO] |  \\- com.sun.xml.bind.jaxb:isorelax:jar:20090621:provided (optional) \n[INFO] +- org.springframework.osgi:spring-osgi-io:jar:1.2.1:provided (optional) \n[INFO] +- org.springframework.osgi:spring-osgi-core:jar:1.2.1:provided (optional) \n[INFO] +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n[INFO] +- xerces:xercesImpl:jar:2.12.2:test\n[INFO] +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] +- jakarta.xml.ws:jakarta.xml.ws-api:jar:2.3.3:compile\n[INFO] +- jakarta.jws:jakarta.jws-api:jar:2.1.0:compile\n[INFO] +- jakarta.xml.soap:jakarta.xml.soap-api:jar:1.4.2:compile\n[INFO] +- com.sun.activation:jakarta.activation:jar:1.2.2:compile\n[INFO] +- com.sun.xml.messaging.saaj:saaj-impl:jar:1.5.3:runtime\n[INFO] |  \\- org.jvnet.staxex:stax-ex:jar:1.8.3:runtime\n[INFO] +- org.apache.geronimo.specs:geronimo-jta_1.1_spec:jar:1.1.1:compile\n[INFO] \\- org.jacorb:jacorb:jar:3.9:test\n[INFO]    \\- org.jacorb:jacorb-omgapi:jar:3.9:test\n</code></pre>\n<p>Jars that get added in JDK 16,</p>\n<pre><code>[INFO] +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] +- jakarta.xml.ws:jakarta.xml.ws-api:jar:2.3.3:compile\n[INFO] +- jakarta.jws:jakarta.jws-api:jar:2.1.0:compile\n[INFO] +- jakarta.xml.soap:jakarta.xml.soap-api:jar:1.4.2:compile\n[INFO] +- com.sun.activation:jakarta.activation:jar:1.2.2:compile\n[INFO] +- com.sun.xml.messaging.saaj:saaj-impl:jar:1.5.3:runtime\n[INFO] |  \\- org.jvnet.staxex:stax-ex:jar:1.8.3:runtime\n[INFO] +- org.apache.geronimo.specs:geronimo-jta_1.1_spec:jar:1.1.1:compile\n[INFO] \\- org.jacorb:jacorb:jar:3.9:test\n[INFO]    \\- org.jacorb:jacorb-omgapi:jar:3.9:test\n</code></pre>\n<p>I'm trying to understand how a dependency say geronimo-jta_1.1_spec is getting resolved or added to the tree when compiling using JDK 16.</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"score":0,"creation_date":1636962689,"post_id":69970861,"comment_id":123688165,"body_markdown":"What type of API call is this? Are you doing large data transfer in this API call.","body":"What type of API call is this? Are you doing large data transfer in this API call."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1636964445,"post_id":69970861,"comment_id":123688682,"body_markdown":"See if this helps https://kalpads.medium.com/configuring-timeouts-in-spring-reactive-webclient-4bc5faf56411","body":"See if this helps <a href=\"https://kalpads.medium.com/configuring-timeouts-in-spring-reactive-webclient-4bc5faf56411\" rel=\"nofollow noreferrer\">kalpads.medium.com/&hellip;</a>"},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1636992988,"post_id":69970861,"comment_id":123699902,"body_markdown":"Can you please share a code snippet?","body":"Can you please share a code snippet?"},{"owner":{"account_id":23340957,"reputation":1,"user_id":17415866,"display_name":"Dinesh N"},"score":0,"creation_date":1637003872,"post_id":69970861,"comment_id":123703998,"body_markdown":"@MichaelMcFadyen - Please find the below snippet","body":"@MichaelMcFadyen - Please find the below snippet"},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1637008686,"post_id":69970861,"comment_id":123705674,"body_markdown":"@DineshN i&#39;m not sure you added a code snippet. Can you add it to the question?","body":"@DineshN i&#39;m not sure you added a code snippet. Can you add it to the question?"},{"owner":{"account_id":23340957,"reputation":1,"user_id":17415866,"display_name":"Dinesh N"},"score":0,"creation_date":1637149046,"post_id":69970861,"comment_id":123746700,"body_markdown":"@MichaelMcFadyen Apologies may bad - I have just added on the question - Only thing I have observed here is this is not a real TCP timeout and I see its more off a signal timeout that surfaces when there is no subscribeon from consumer or might be the case service is unable to fork a thread in the given duration within the service","body":"@MichaelMcFadyen Apologies may bad - I have just added on the question - Only thing I have observed here is this is not a real TCP timeout and I see its more off a signal timeout that surfaces when there is no subscribeon from consumer or might be the case service is unable to fork a thread in the given duration within the service"},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1637155097,"post_id":69970861,"comment_id":123749273,"body_markdown":"what is the value of `userPrefsAPITimeout`? Is it 5s?","body":"what is the value of <code>userPrefsAPITimeout</code>? Is it 5s?"}],"answers":[{"tags":[],"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667891210,"creation_date":1667891210,"answer_id":74356832,"question_id":69970861,"body_markdown":"For me, removing the `.timeout(Duration.ofSeconds(&lt;secondsHere&gt;))` resolved the issue.","title":"API call error: Did not observe any item or terminal signal within 5000ms (and no fallback has been configured)","body":"<p>For me, removing the <code>.timeout(Duration.ofSeconds(&lt;secondsHere&gt;))</code> resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670908314,"creation_date":1670908314,"answer_id":74780254,"question_id":69970861,"body_markdown":"Try  `onErrorReturn()`\r\n\r\n    public Mono&lt;UserSubscription&gt; getUserPrefs(String userId) {\r\n        return client.get().uri(getUserPrefsApiPath, userId)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .timeout(Duration.ofSeconds(userPrefsAPITimeout))\r\n                .onErrorReturn(//TODO//);\r\n    }","title":"API call error: Did not observe any item or terminal signal within 5000ms (and no fallback has been configured)","body":"<p>Try  <code>onErrorReturn()</code></p>\n<pre><code>public Mono&lt;UserSubscription&gt; getUserPrefs(String userId) {\n    return client.get().uri(getUserPrefsApiPath, userId)\n            .retrieve()\n            .bodyToMono(String.class)\n            .timeout(Duration.ofSeconds(userPrefsAPITimeout))\n            .onErrorReturn(//TODO//);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9336998,"reputation":61,"user_id":6930902,"display_name":"nasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685529191,"creation_date":1685529191,"answer_id":76372559,"question_id":69970861,"body_markdown":"This error tells you that server B failed to respond to service A within 5000ms.\r\nIt was probably important for you that the response time should be done within a limited period of time, otherwise you can remove the timeout.\r\nBut I suggest instead of clearing the timeout, print an error message and return a default value.\r\n\r\n    .timeout(Duration.ofSeconds(userPrefsAPITimeout))\r\n    .onErrorResume(e -&gt; {\r\n          log.error(&quot;error: &quot; + e.getMessage());\r\n          return Mono.empty();\r\n    });","title":"API call error: Did not observe any item or terminal signal within 5000ms (and no fallback has been configured)","body":"<p>This error tells you that server B failed to respond to service A within 5000ms.\nIt was probably important for you that the response time should be done within a limited period of time, otherwise you can remove the timeout.\nBut I suggest instead of clearing the timeout, print an error message and return a default value.</p>\n<pre><code>.timeout(Duration.ofSeconds(userPrefsAPITimeout))\n.onErrorResume(e -&gt; {\n      log.error(&quot;error: &quot; + e.getMessage());\n      return Mono.empty();\n});\n</code></pre>\n"}],"owner":{"account_id":23340957,"reputation":1,"user_id":17415866,"display_name":"Dinesh N"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1685529191,"creation_date":1636962134,"question_id":69970861,"body_markdown":"We are using two service which are completely written in **Spring WebFlux** and while invoking/calling from service **A** to service **B**, we are seeing below error and we are unable to debug further and hard to nail down to what could be ideal root cause for this.\r\n\r\n&gt; API call error: Did not observe any item or terminal signal within 5000ms (and no fallback has been configured)\r\n\r\n    public Mono&lt;UserSubscription&gt; getUserPrefs(String userId) {\r\n        return client.get().uri(getUserPrefsApiPath, userId)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .timeout(Duration.ofSeconds(userPrefsAPITimeout))\r\n                .doOnError(ex -&gt; logError(userId, ex))\r\n                .map(resp-&gt; {\r\n                    UserSubscription us = parseUserOrAppPreferenceData(resp, userId);\r\n                    logger.info(&quot;Retrieved from User Preference API: &quot;+us);\r\n                    return  us;\r\n                })\r\n                .onErrorResume(e-&gt;{\r\n                    logger.error(&quot;Cannot retrieve user preferences - API call error: &quot;+e.getMessage(), e);\r\n                    return Mono.just(new UserSubscription(userId,null, new ArrayList&lt;&gt;()));\r\n                });\r\n    }","title":"API call error: Did not observe any item or terminal signal within 5000ms (and no fallback has been configured)","body":"<p>We are using two service which are completely written in <strong>Spring WebFlux</strong> and while invoking/calling from service <strong>A</strong> to service <strong>B</strong>, we are seeing below error and we are unable to debug further and hard to nail down to what could be ideal root cause for this.</p>\n<blockquote>\n<p>API call error: Did not observe any item or terminal signal within 5000ms (and no fallback has been configured)</p>\n</blockquote>\n<pre><code>public Mono&lt;UserSubscription&gt; getUserPrefs(String userId) {\n    return client.get().uri(getUserPrefsApiPath, userId)\n            .retrieve()\n            .bodyToMono(String.class)\n            .timeout(Duration.ofSeconds(userPrefsAPITimeout))\n            .doOnError(ex -&gt; logError(userId, ex))\n            .map(resp-&gt; {\n                UserSubscription us = parseUserOrAppPreferenceData(resp, userId);\n                logger.info(&quot;Retrieved from User Preference API: &quot;+us);\n                return  us;\n            })\n            .onErrorResume(e-&gt;{\n                logger.error(&quot;Cannot retrieve user preferences - API call error: &quot;+e.getMessage(), e);\n                return Mono.just(new UserSubscription(userId,null, new ArrayList&lt;&gt;()));\n            });\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","automated-tests","h2"],"answers":[{"tags":[],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685528558,"creation_date":1685528558,"answer_id":76372476,"question_id":76371193,"body_markdown":"I have a simple/naive answer, but maybe not the best :\r\n\r\nFor ER_BAD_NULL_ERROR, it shouldn&#39;t be tested analyzing sql error code, but instead validated before the entity is sent to the database.\r\n\r\nFor ER_DUB_ENTRY, it can be tested by fetching potential duplicates before inserting, or by relying only on the generic message.\r\n\r\nPlease feel free to give a better answer, or I will accept my own.","title":"How do you write automated test for sql errors working with both H2 errors and MySQL errors?","body":"<p>I have a simple/naive answer, but maybe not the best :</p>\n<p>For ER_BAD_NULL_ERROR, it shouldn't be tested analyzing sql error code, but instead validated before the entity is sent to the database.</p>\n<p>For ER_DUB_ENTRY, it can be tested by fetching potential duplicates before inserting, or by relying only on the generic message.</p>\n<p>Please feel free to give a better answer, or I will accept my own.</p>\n"}],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685528558,"creation_date":1685518801,"question_id":76371193,"body_markdown":"I&#39;ve read in multiple places it&#39;s a good practice to run tests using an in-memory H2 database to run them without the need to start an external SQL server. Ideally these tests should be able to run both in &quot;local/in-memory&quot; mode with an H2 database and in &quot;integration&quot; mode with a MySQL database.\r\n\r\nI can see it works quite well for &quot;happy path&quot;/nominal scenarios, but how do you test error scenarios (error codes are not the same) ?\r\n\r\n* H2 sql error codes : https://www.h2database.com/javadoc/org/h2/api/ErrorCode.html\r\n* MySQL error codes : https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html\r\n\r\nHere is a Jacoco coverage report of the code under test with H2 database, you can see the error code would be specific in the case of MySQL database, but we get only the default exception path with H2 database :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j4pgG.png","title":"How do you write automated test for sql errors working with both H2 errors and MySQL errors?","body":"<p>I've read in multiple places it's a good practice to run tests using an in-memory H2 database to run them without the need to start an external SQL server. Ideally these tests should be able to run both in &quot;local/in-memory&quot; mode with an H2 database and in &quot;integration&quot; mode with a MySQL database.</p>\n<p>I can see it works quite well for &quot;happy path&quot;/nominal scenarios, but how do you test error scenarios (error codes are not the same) ?</p>\n<ul>\n<li>H2 sql error codes : <a href=\"https://www.h2database.com/javadoc/org/h2/api/ErrorCode.html\" rel=\"nofollow noreferrer\">https://www.h2database.com/javadoc/org/h2/api/ErrorCode.html</a></li>\n<li>MySQL error codes : <a href=\"https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html</a></li>\n</ul>\n<p>Here is a Jacoco coverage report of the code under test with H2 database, you can see the error code would be specific in the case of MySQL database, but we get only the default exception path with H2 database :</p>\n<p><a href=\"https://i.stack.imgur.com/j4pgG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j4pgG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","cpu-usage","tomcat9"],"owner":{"account_id":24680647,"reputation":35,"user_id":18574425,"display_name":"BaiTang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685528424,"creation_date":1685528424,"question_id":76372458,"body_markdown":"An online Tomcat application experiences abnormal CPU usage. Upon inspection using Arthas, it is discovered that the Tomcat poller thread occupies 100% of the CPU. At first, the program was functioning normally, but then the CPU usage suddenly spiked. Afterward, we diverted the traffic away from the problematic instance, but the CPU usage did not alleviate. The Tomcat version is 9.0.68, and the service runs on Kubernetes (k8s).\r\n\r\nHas anyone encountered a similar issue? Or is this a bug in Tomcat?\r\n\r\nstack\r\n```\r\n&quot;http-nio-8080-Poller&quot; Id=148 cpuUsage=99.97% deltaTime=201ms time=7126264ms RUNNABLE\r\n    at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\r\n    at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\r\n    at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)\r\n    at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n    at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n    at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:799)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n```\r\n","title":"An online Tomcat application experiences abnormal CPU usage","body":"<p>An online Tomcat application experiences abnormal CPU usage. Upon inspection using Arthas, it is discovered that the Tomcat poller thread occupies 100% of the CPU. At first, the program was functioning normally, but then the CPU usage suddenly spiked. Afterward, we diverted the traffic away from the problematic instance, but the CPU usage did not alleviate. The Tomcat version is 9.0.68, and the service runs on Kubernetes (k8s).</p>\n<p>Has anyone encountered a similar issue? Or is this a bug in Tomcat?</p>\n<p>stack</p>\n<pre><code>&quot;http-nio-8080-Poller&quot; Id=148 cpuUsage=99.97% deltaTime=201ms time=7126264ms RUNNABLE\n    at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)\n    at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:269)\n    at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:93)\n    at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n    at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n    at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:799)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","android","memory-management","project"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685535193,"post_id":76372444,"comment_id":134673188,"body_markdown":"You can have one project with two flavors, one for root and one for non-root. https://developer.android.com/build/build-variants","body":"You can have one project with two flavors, one for root and one for non-root. <a href=\"https://developer.android.com/build/build-variants\" rel=\"nofollow noreferrer\">developer.android.com/build/build-variants</a>"},{"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"score":0,"creation_date":1685598325,"post_id":76372444,"comment_id":134682996,"body_markdown":"@Robert thanks for the reply! But that would make my app &quot;heavier&quot; and therefore more prone to be killed by the system?","body":"@Robert thanks for the reply! But that would make my app &quot;heavier&quot; and therefore more prone to be killed by the system?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685601017,"post_id":76372444,"comment_id":134683348,"body_markdown":"No, you simply have two apps that share large parts of it&#39;s code. For each flavor you have separate folders where you can include code or assets. And in the end you execute one gradle command and get APKs for each flavor.","body":"No, you simply have two apps that share large parts of it&#39;s code. For each flavor you have separate folders where you can include code or assets. And in the end you execute one gradle command and get APKs for each flavor."},{"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"score":0,"creation_date":1685604182,"post_id":76372444,"comment_id":134683905,"body_markdown":"@Robert do you have an example I can look at, where there is the shared code, the code for FLAVOR_1 and code for FLAVOR_2?","body":"@Robert do you have an example I can look at, where there is the shared code, the code for FLAVOR_1 and code for FLAVOR_2?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685604692,"post_id":76372444,"comment_id":134684001,"body_markdown":"Flavors are a very basic concept of Android Studio/Gradle projects. There are plenty of examples online: https://www.google.com/search?q=android+flavor+example","body":"Flavors are a very basic concept of Android Studio/Gradle projects. There are plenty of examples online: <a href=\"https://www.google.com/search?q=android+flavor+example\" rel=\"nofollow noreferrer\">google.com/search?q=android+flavor+example</a>"},{"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"score":0,"creation_date":1685615634,"post_id":76372444,"comment_id":134686288,"body_markdown":"@Robert please check here: https://stackoverflow.com/questions/76380803/sharing-code-for-root-version-and-rootless-version-with-flavors","body":"@Robert please check here: <a href=\"https://stackoverflow.com/questions/76380803/sharing-code-for-root-version-and-rootless-version-with-flavors\" title=\"sharing code for root version and rootless version with flavors\">stackoverflow.com/questions/76380803/&hellip;</a>"}],"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685528296,"creation_date":1685528296,"question_id":76372444,"body_markdown":"I have an android app that currently performs some tasks (heavy tasks since I am using openCV) with the use of root permissions. \r\nAt the moment I have two different apps but it gets boring handling two projects.\r\nAfter a while it gets killed by the os.\r\nNow I want to put also the option for rootless version. \r\n\r\nSo the code of the Threads would look like something like this:\r\n\r\n    void performTasks(Option option)\r\n    {\r\n    if(Option.ROOT)\r\n    rootTasks();\r\n    else\r\n    rootlessTasks();\r\n    }\r\n\r\nOf course I would need to adjust stuff inside the Service classes and MainActivity.\r\nSo I would like your suggestion if putting everything into a project would decrease efficiency regarding memory-consumption. What is your advice?","title":"Making two distinct apps (root version and rootless version) or put the code in one single app?","body":"<p>I have an android app that currently performs some tasks (heavy tasks since I am using openCV) with the use of root permissions.\nAt the moment I have two different apps but it gets boring handling two projects.\nAfter a while it gets killed by the os.\nNow I want to put also the option for rootless version.</p>\n<p>So the code of the Threads would look like something like this:</p>\n<pre><code>void performTasks(Option option)\n{\nif(Option.ROOT)\nrootTasks();\nelse\nrootlessTasks();\n}\n</code></pre>\n<p>Of course I would need to adjust stuff inside the Service classes and MainActivity.\nSo I would like your suggestion if putting everything into a project would decrease efficiency regarding memory-consumption. What is your advice?</p>\n"},{"tags":["java","file","comparison"],"comments":[{"owner":{"account_id":3046198,"reputation":2660,"user_id":2581783,"display_name":"Rene M."},"score":4,"creation_date":1418128615,"post_id":27379059,"comment_id":43207562,"body_markdown":"The size can differ, also for same content. Depending on several factors. If you realy want to compare the content, then an easy check is to make a checksum of both files and compare them. You can use md5 on the bytearray of the files. Also an compare of the bytearrays can be used.","body":"The size can differ, also for same content. Depending on several factors. If you realy want to compare the content, then an easy check is to make a checksum of both files and compare them. You can use md5 on the bytearray of the files. Also an compare of the bytearrays can be used."},{"owner":{"account_id":6432279,"reputation":882,"user_id":6159217,"accept_rate":85,"display_name":"IntegrateThis"},"score":0,"creation_date":1636857129,"post_id":27379059,"comment_id":123668234,"body_markdown":"@ReneM. I&#39;m curious under what circumstances two files with the same byte content would have different sizes?","body":"@ReneM. I&#39;m curious under what circumstances two files with the same byte content would have different sizes?"},{"owner":{"account_id":3046198,"reputation":2660,"user_id":2581783,"display_name":"Rene M."},"score":0,"creation_date":1649932098,"post_id":27379059,"comment_id":127001969,"body_markdown":"For example the block size and used partition format of the blockstorage can result in different byte sizes for the exact same content.","body":"For example the block size and used partition format of the blockstorage can result in different byte sizes for the exact same content."}],"answers":[{"tags":[],"owner":{"account_id":4138062,"reputation":518,"user_id":3394223,"accept_rate":64,"display_name":"peterremec"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1437314521,"creation_date":1418128579,"answer_id":27379126,"question_id":27379059,"body_markdown":"[This][1] should help you with your problem:\r\n\r\n    package test;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    public class CompareFileContents {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tFile file1 = new File(&quot;test1.txt&quot;);\r\n    \t\tFile file2 = new File(&quot;test2.txt&quot;);\r\n    \t\tFile file3 = new File(&quot;test3.txt&quot;);\r\n    \r\n    \t\tboolean compare1and2 = FileUtils.contentEquals(file1, file2);\r\n    \t\tboolean compare2and3 = FileUtils.contentEquals(file2, file3);\r\n    \t\tboolean compare1and3 = FileUtils.contentEquals(file1, file3);\r\n    \r\n    \t\tSystem.out.println(&quot;Are test1.txt and test2.txt the same? &quot; + compare1and2);\r\n    \t\tSystem.out.println(&quot;Are test2.txt and test3.txt the same? &quot; + compare2and3);\r\n    \t\tSystem.out.println(&quot;Are test1.txt and test3.txt the same? &quot; + compare1and3);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://www.avajava.com/tutorials/lessons/whats-a-quick-way-to-tell-if-the-contents-of-two-files-are-identical-or-not.html","title":"Determine if two files store the same content","body":"<p><a href=\"http://www.avajava.com/tutorials/lessons/whats-a-quick-way-to-tell-if-the-contents-of-two-files-are-identical-or-not.html\" rel=\"noreferrer\">This</a> should help you with your problem:</p>\n\n<pre><code>package test;\n\nimport java.io.File;\nimport java.io.IOException;\n\nimport org.apache.commons.io.FileUtils;\n\npublic class CompareFileContents {\n\n    public static void main(String[] args) throws IOException {\n\n        File file1 = new File(\"test1.txt\");\n        File file2 = new File(\"test2.txt\");\n        File file3 = new File(\"test3.txt\");\n\n        boolean compare1and2 = FileUtils.contentEquals(file1, file2);\n        boolean compare2and3 = FileUtils.contentEquals(file2, file3);\n        boolean compare1and3 = FileUtils.contentEquals(file1, file3);\n\n        System.out.println(\"Are test1.txt and test2.txt the same? \" + compare1and2);\n        System.out.println(\"Are test2.txt and test3.txt the same? \" + compare2and3);\n        System.out.println(\"Are test1.txt and test3.txt the same? \" + compare1and3);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":1,"up_vote_count":106,"is_accepted":false,"score":105,"last_activity_date":1418128959,"creation_date":1418128656,"answer_id":27379155,"question_id":27379059,"body_markdown":"Exactly what `FileUtils.contentEquals` method of Apache commons IO does and api is [here](https://commons.apache.org/proper/commons-io/javadocs/api-2.4/).\r\n\r\nTry something like:\r\n\r\n    File file1 = new File(&quot;file1.txt&quot;);\r\n    File file2 = new File(&quot;file2.txt&quot;);\r\n\tboolean isTwoEqual = FileUtils.contentEquals(file1, file2);\r\n\r\nIt does the following checks before actually doing the comparison:\r\n\r\n- existence of both the files\r\n- Both file&#39;s that are passed are to be of file type and not directory.\r\n- length in bytes should not be the same.\r\n- Both are different files and not one and the same.\r\n- Then compare the contents.","title":"Determine if two files store the same content","body":"<p>Exactly what <code>FileUtils.contentEquals</code> method of Apache commons IO does and api is <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/\">here</a>.</p>\n\n<p>Try something like:</p>\n\n<pre><code>File file1 = new File(\"file1.txt\");\nFile file2 = new File(\"file2.txt\");\nboolean isTwoEqual = FileUtils.contentEquals(file1, file2);\n</code></pre>\n\n<p>It does the following checks before actually doing the comparison:</p>\n\n<ul>\n<li>existence of both the files</li>\n<li>Both file's that are passed are to be of file type and not directory.</li>\n<li>length in bytes should not be the same.</li>\n<li>Both are different files and not one and the same.</li>\n<li>Then compare the contents.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":995810,"reputation":8236,"user_id":1011791,"accept_rate":86,"display_name":"Chthonic Project"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1418129580,"creation_date":1418129580,"answer_id":27379430,"question_id":27379059,"body_markdown":"If you don&#39;t want to use any external libraries, then simply read the files into byte arrays and compare them (won&#39;t work pre Java-7):\r\n\r\n    byte[] f1 = Files.readAllBytes(file1);\r\n    byte[] f2 = Files.readAllBytes(file2);\r\n\r\nby using [Arrays.equals][1].\r\n\r\nIf the files are large, then instead of reading the entire files into arrays, you should use `BufferedInputStream` and read the files chunk-by-chunk as explained [here][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#equals(java.lang.Object[],%20java.lang.Object[])\r\n  [2]: https://stackoverflow.com/questions/13111419/using-java-7-api-to-read-a-file-byte-by-byte","title":"Determine if two files store the same content","body":"<p>If you don't want to use any external libraries, then simply read the files into byte arrays and compare them (won't work pre Java-7):</p>\n\n<pre><code>byte[] f1 = Files.readAllBytes(file1);\nbyte[] f2 = Files.readAllBytes(file2);\n</code></pre>\n\n<p>by using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#equals(java.lang.Object[],%20java.lang.Object[])\" rel=\"noreferrer\">Arrays.equals</a>.</p>\n\n<p>If the files are large, then instead of reading the entire files into arrays, you should use <code>BufferedInputStream</code> and read the files chunk-by-chunk as explained <a href=\"https://stackoverflow.com/questions/13111419/using-java-7-api-to-read-a-file-byte-by-byte\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1437985764,"creation_date":1418130015,"answer_id":27379566,"question_id":27379059,"body_markdown":"If the files are small, you can read both into the memory and compare the byte arrays.\r\n\r\nIf the files are not small, you can either compute the hashes of their content (e.g. MD5 or SHA-1) one after the other and compare the hashes (but this still leaves a very small chance of error), or you can compare their content but for this you still have to read the streams alternating.\r\n\r\nHere is an example:\r\n\r\n    boolean sameContent(Path file1, Path file2) throws IOException {\r\n        final long size = Files.size(file1);\r\n        if (size != Files.size(file2))\r\n            return false;\r\n        \r\n        if (size &lt; 4096)\r\n            return Arrays.equals(Files.readAllBytes(file1), Files.readAllBytes(file2));\r\n        \r\n        try (InputStream is1 = Files.newInputStream(file1);\r\n             InputStream is2 = Files.newInputStream(file2)) {\r\n            // Compare byte-by-byte.\r\n            // Note that this can be sped up drastically by reading large chunks\r\n            // (e.g. 16 KBs) but care must be taken as InputStream.read(byte[])\r\n            // does not neccessarily read a whole array!\r\n            int data;\r\n            while ((data = is1.read()) != -1)\r\n                if (data != is2.read())\r\n                    return false;\r\n        }\r\n        \r\n        return true;\r\n    }\r\n","title":"Determine if two files store the same content","body":"<p>If the files are small, you can read both into the memory and compare the byte arrays.</p>\n\n<p>If the files are not small, you can either compute the hashes of their content (e.g. MD5 or SHA-1) one after the other and compare the hashes (but this still leaves a very small chance of error), or you can compare their content but for this you still have to read the streams alternating.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>boolean sameContent(Path file1, Path file2) throws IOException {\n    final long size = Files.size(file1);\n    if (size != Files.size(file2))\n        return false;\n\n    if (size &lt; 4096)\n        return Arrays.equals(Files.readAllBytes(file1), Files.readAllBytes(file2));\n\n    try (InputStream is1 = Files.newInputStream(file1);\n         InputStream is2 = Files.newInputStream(file2)) {\n        // Compare byte-by-byte.\n        // Note that this can be sped up drastically by reading large chunks\n        // (e.g. 16 KBs) but care must be taken as InputStream.read(byte[])\n        // does not neccessarily read a whole array!\n        int data;\n        while ((data = is1.read()) != -1)\n            if (data != is2.read())\n                return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1561015460,"creation_date":1561015460,"answer_id":56680991,"question_id":27379059,"body_markdown":"Since Java 12 there is method [Files.mismatch][1] which returns ```-1``` if there is no mismatch in the content of the files. Thus the function would look like following:\r\n\r\n    private static boolean sameContent(Path file1, Path file2) throws IOException {\r\n        return Files.mismatch(file1, file2) == -1;\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#mismatch(java.nio.file.Path,java.nio.file.Path)","title":"Determine if two files store the same content","body":"<p>Since Java 12 there is method <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#mismatch(java.nio.file.Path,java.nio.file.Path)\" rel=\"noreferrer\">Files.mismatch</a> which returns <code>-1</code> if there is no mismatch in the content of the files. Thus the function would look like following:</p>\n\n<pre><code>private static boolean sameContent(Path file1, Path file2) throws IOException {\n    return Files.mismatch(file1, file2) == -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16473057,"reputation":1,"user_id":11901672,"display_name":"yolo"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1565264513,"creation_date":1565263735,"answer_id":57411525,"question_id":27379059,"body_markdown":" ```\r\npackage test;  \r\n\r\n       import org.junit.jupiter.api.Test;\r\n\r\n       import java.io.IOException;\r\n       import java.nio.file.FileSystems;\r\n       import java.nio.file.Files;\r\n       import java.nio.file.Path;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\n\r\npublic class CSVResultDIfference {\r\n\r\n    @Test\r\n    public void csvDifference() throws IOException {\r\n        Path file_F = FileSystems.getDefault().getPath(&quot;C:\\\\Projekts\\\\csvTestX&quot;, &quot;yolo2.csv&quot;);\r\n        long size_F = Files.size(file_F);\r\n        Path file_I = FileSystems.getDefault().getPath(&quot;C:\\\\Projekts\\\\csvTestZ&quot;, &quot;yolo2.csv&quot;);\r\n        long size_I = Files.size(file_I);\r\n        assertEquals(size_F, size_I);\r\n    \r\n    }\r\n}\r\n```\r\nit worked for me :)","title":"Determine if two files store the same content","body":"<pre><code>package test;  \n\n      import org.junit.jupiter.api.Test;\n\n      import java.io.IOException;\n      import java.nio.file.FileSystems;\n      import java.nio.file.Files;\n      import java.nio.file.Path;\n\nimport static org.junit.Assert.assertEquals;\n\npublic class CSVResultDIfference {\n\n   @Test\n   public void csvDifference() throws IOException {\n       Path file_F = FileSystems.getDefault().getPath(\"C:\\\\Projekts\\\\csvTestX\", \"yolo2.csv\");\n       long size_F = Files.size(file_F);\n       Path file_I = FileSystems.getDefault().getPath(\"C:\\\\Projekts\\\\csvTestZ\", \"yolo2.csv\");\n       long size_I = Files.size(file_I);\n       assertEquals(size_F, size_I);\n\n   }\n}\n</code></pre>\n\n<p>it worked for me :)</p>\n"},{"tags":[],"owner":{"account_id":4509047,"reputation":3905,"user_id":3665698,"display_name":"mcoolive"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1579561571,"creation_date":1579561571,"answer_id":59832050,"question_id":27379059,"body_markdown":"If it for unit test, then [AssertJ][1] provides a method named [hasSameContentAs][2]. An example:\r\n\r\n    Assertions.assertThat(file1).hasSameContentAs(file2)\r\n\r\n\r\n  [1]: https://joel-costigliola.github.io/assertj/\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractFileAssert.html","title":"Determine if two files store the same content","body":"<p>If it for unit test, then <a href=\"https://joel-costigliola.github.io/assertj/\" rel=\"noreferrer\">AssertJ</a> provides a method named <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractFileAssert.html\" rel=\"noreferrer\">hasSameContentAs</a>. An example:</p>\n\n<pre><code>Assertions.assertThat(file1).hasSameContentAs(file2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11428121,"reputation":91,"user_id":8377704,"display_name":"Patrick Twohig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596064432,"creation_date":1596064128,"answer_id":63163777,"question_id":27379059,"body_markdown":"I know I&#39;m pretty late to the party on this one, but memory mapped IO is a pretty simple way to do this if you want to use straight Java APIs and no third party dependencies. It&#39;s only a few calls to open the files, map them, and then compare use [```ByteBuffer.equals(Object)```](https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#equals(java.lang.Object)) to compare the files.\r\n\r\nThis is probably going to give you the best performance if you expect the particular file to be large because you&#39;re offloading a majority of the IO legwork onto the OS and the otherwise highly optimized bits of the JVM (assuming you&#39;re using a decent JVM).\r\n\r\nStraight from the \r\n[FileChannel JavaDoc](https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,%20long,%20long)):\r\n\r\n&gt;  For most operating systems, mapping a file into memory is more expensive than reading or writing a few tens of kilobytes of data via the usual read and write methods. From the standpoint of performance it is generally only worth mapping relatively large files into memory. \r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.MappedByteBuffer;\r\nimport java.nio.channels.FileChannel;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.StandardOpenOption;\r\n\r\n\r\npublic class MemoryMappedCompare {\r\n\r\n    public static boolean areFilesIdenticalMemoryMapped(final Path a, final Path b) throws IOException {\r\n        try (final FileChannel fca = FileChannel.open(a, StandardOpenOption.READ);\r\n             final FileChannel fcb = FileChannel.open(b, StandardOpenOption.READ)) {\r\n            final MappedByteBuffer mbba = fca.map(FileChannel.MapMode.READ_ONLY, 0, fca.size());\r\n            final MappedByteBuffer mbbb = fcb.map(FileChannel.MapMode.READ_ONLY, 0, fcb.size());\r\n            return mbba.equals(mbbb);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Determine if two files store the same content","body":"<p>I know I'm pretty late to the party on this one, but memory mapped IO is a pretty simple way to do this if you want to use straight Java APIs and no third party dependencies. It's only a few calls to open the files, map them, and then compare use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>ByteBuffer.equals(Object)</code></a> to compare the files.</p>\n<p>This is probably going to give you the best performance if you expect the particular file to be large because you're offloading a majority of the IO legwork onto the OS and the otherwise highly optimized bits of the JVM (assuming you're using a decent JVM).</p>\n<p>Straight from the\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,%20long,%20long)\" rel=\"nofollow noreferrer\">FileChannel JavaDoc</a>:</p>\n<blockquote>\n<p>For most operating systems, mapping a file into memory is more expensive than reading or writing a few tens of kilobytes of data via the usual read and write methods. From the standpoint of performance it is generally only worth mapping relatively large files into memory.</p>\n</blockquote>\n<pre><code>import java.io.IOException;\nimport java.nio.MappedByteBuffer;\nimport java.nio.channels.FileChannel;\nimport java.nio.file.Path;\nimport java.nio.file.StandardOpenOption;\n\n\npublic class MemoryMappedCompare {\n\n    public static boolean areFilesIdenticalMemoryMapped(final Path a, final Path b) throws IOException {\n        try (final FileChannel fca = FileChannel.open(a, StandardOpenOption.READ);\n             final FileChannel fcb = FileChannel.open(b, StandardOpenOption.READ)) {\n            final MappedByteBuffer mbba = fca.map(FileChannel.MapMode.READ_ONLY, 0, fca.size());\n            final MappedByteBuffer mbbb = fcb.map(FileChannel.MapMode.READ_ONLY, 0, fcb.size());\n            return mbba.equals(mbbb);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6302144,"reputation":384,"user_id":4896439,"display_name":"Carlos Jesus Arancibia Taborga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630355971,"creation_date":1630074267,"answer_id":68955056,"question_id":27379059,"body_markdown":"It&#39;s &gt;=JR6 compatible, library-free and don&#39;t read all content at time.\r\n\r\n    public static boolean sameFile(File a, File b) {\r\n        if (a == null || b == null) {\r\n            return false;\r\n        }\r\n\r\n        if (a.getAbsolutePath().equals(b.getAbsolutePath())) {\r\n            return true;\r\n        }\r\n\r\n        if (!a.exists() || !b.exists()) {\r\n            return false;\r\n        }\r\n        if (a.length() != b.length()) {\r\n            return false;\r\n        }\r\n        boolean eq = true;\r\n        \r\n        FileChannel channelA;\r\n        FileChannel channelB;\r\n        try {\r\n            channelA = new RandomAccessFile(a, &quot;r&quot;).getChannel();\r\n            channelB = new RandomAccessFile(b, &quot;r&quot;).getChannel();\r\n\r\n            long channelsSize = channelA.size();\r\n            ByteBuffer buff1 = channelA.map(FileChannel.MapMode.READ_ONLY, 0, channelsSize);\r\n            ByteBuffer buff2 = channelB.map(FileChannel.MapMode.READ_ONLY, 0, channelsSize);\r\n            for (int i = 0; i &lt; channelsSize; i++) {\r\n                if (buff1.get(i) != buff2.get(i)) {\r\n                    eq = false;\r\n                    break;\r\n                }\r\n            }\r\n        } catch (FileNotFoundException ex) {\r\n            Logger.getLogger(HotUtils.class.getName()).log(Level.SEVERE, null, ex);\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(HotUtils.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        return eq; \r\n    }","title":"Determine if two files store the same content","body":"<p>It's &gt;=JR6 compatible, library-free and don't read all content at time.</p>\n<pre><code>public static boolean sameFile(File a, File b) {\n    if (a == null || b == null) {\n        return false;\n    }\n\n    if (a.getAbsolutePath().equals(b.getAbsolutePath())) {\n        return true;\n    }\n\n    if (!a.exists() || !b.exists()) {\n        return false;\n    }\n    if (a.length() != b.length()) {\n        return false;\n    }\n    boolean eq = true;\n    \n    FileChannel channelA;\n    FileChannel channelB;\n    try {\n        channelA = new RandomAccessFile(a, &quot;r&quot;).getChannel();\n        channelB = new RandomAccessFile(b, &quot;r&quot;).getChannel();\n\n        long channelsSize = channelA.size();\n        ByteBuffer buff1 = channelA.map(FileChannel.MapMode.READ_ONLY, 0, channelsSize);\n        ByteBuffer buff2 = channelB.map(FileChannel.MapMode.READ_ONLY, 0, channelsSize);\n        for (int i = 0; i &lt; channelsSize; i++) {\n            if (buff1.get(i) != buff2.get(i)) {\n                eq = false;\n                break;\n            }\n        }\n    } catch (FileNotFoundException ex) {\n        Logger.getLogger(HotUtils.class.getName()).log(Level.SEVERE, null, ex);\n    } catch (IOException ex) {\n        Logger.getLogger(HotUtils.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    return eq; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685528182,"creation_date":1685528182,"answer_id":76372428,"question_id":27379059,"body_markdown":"The checksum check that rene m. told you about in the comments is the best approach","title":"Determine if two files store the same content","body":"<p>The checksum check that rene m. told you about in the comments is the best approach</p>\n"}],"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131539,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"answer_count":10,"score":81,"last_activity_date":1685528182,"creation_date":1418128369,"question_id":27379059,"body_markdown":"How would you write a java function `boolean sameContent(Path file1,Path file2)`which determines if the two given paths point to files which store the same content? Of course, first, I would check if the file sizes are the same. This is a necessary condition for storing the same content. But  then I&#39;d like to listen to your approaches. If the two files are stored on the same hard drive (like in most of my cases) it&#39;s probably not the best way to jump too many times between the two streams.","title":"Determine if two files store the same content","body":"<p>How would you write a java function <code>boolean sameContent(Path file1,Path file2)</code>which determines if the two given paths point to files which store the same content? Of course, first, I would check if the file sizes are the same. This is a necessary condition for storing the same content. But  then I'd like to listen to your approaches. If the two files are stored on the same hard drive (like in most of my cases) it's probably not the best way to jump too many times between the two streams.</p>\n"},{"tags":["java","logging","javafx","gtk","java.util.logging"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1685389209,"post_id":76359908,"comment_id":134650228,"body_markdown":"It is probably gtk or JavaFX native code, not Java which is logging this error (my opinion).","body":"It is probably gtk or JavaFX native code, not Java which is logging this error (my opinion)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685389212,"post_id":76359908,"comment_id":134650229,"body_markdown":"JavaFX typically uses `System.err` directly for low-level logging. In other contexts, I believe it uses its own logger class that wraps a [`java.lang.System.Logger`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.Logger.html) (at least in the more recent versions). But that&#39;s assuming this warning/error was printed by Java code and not native code.","body":"JavaFX typically uses <code>System.err</code> directly for low-level logging. In other contexts, I believe it uses its own logger class that wraps a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.Logger.html\" rel=\"nofollow noreferrer\"><code>java.lang.System.Logger</code></a> (at least in the more recent versions). But that&#39;s assuming this warning/error was printed by Java code and not native code."},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1685389541,"post_id":76359908,"comment_id":134650268,"body_markdown":"@jewelsea Probably these messages are produced only on Linux distros, which use gtk. If it is native code, there is no chance by sending these messages to my log4j2, right?","body":"@jewelsea Probably these messages are produced only on Linux distros, which use gtk. If it is native code, there is no chance by sending these messages to my log4j2, right?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1685391636,"post_id":76359908,"comment_id":134650549,"body_markdown":"I don’t know why you want to do that.  You can redirect system out and err streams elsewhere if you need to. Either in the shell command that runs your app or [in java](https://stackoverflow.com/questions/3228427/redirect-system-out-println) (though the java redirect may not work for messages written by native code).","body":"I don’t know why you want to do that.  You can redirect system out and err streams elsewhere if you need to. Either in the shell command that runs your app or <a href=\"https://stackoverflow.com/questions/3228427/redirect-system-out-println\">in java</a> (though the java redirect may not work for messages written by native code)."},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1685467726,"post_id":76359908,"comment_id":134663164,"body_markdown":"@jewelsea Because i want to log these messages to my log4j2 file as i am elsewhere doing in my code. Its cool that is is possible. However i am afraid its native.","body":"@jewelsea Because i want to log these messages to my log4j2 file as i am elsewhere doing in my code. Its cool that is is possible. However i am afraid its native."}],"answers":[{"tags":[],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685528165,"creation_date":1685528165,"answer_id":76372426,"question_id":76359908,"body_markdown":"It is not possible since these messages are created by native code.\r\n\r\n    System.setOut(IoBuilder.forLogger(LogManager.getLogger(&quot;JAVA SYS OUT&quot;)).buildPrintStream());\r\n    System.setErr(IoBuilder.forLogger(LogManager.getLogger(&quot;JAVA SYS ERR&quot;)).buildPrintStream());\r\n\r\nSetting `out` or `err`, does not work\r\n\r\nIoBuilder is from:\r\n\r\n    &lt;dependency&gt;  \r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-iostreams&lt;/artifactId&gt;\r\n        &lt;version&gt;2.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to get logger(s) of gtk messages in javafx?","body":"<p>It is not possible since these messages are created by native code.</p>\n<pre><code>System.setOut(IoBuilder.forLogger(LogManager.getLogger(&quot;JAVA SYS OUT&quot;)).buildPrintStream());\nSystem.setErr(IoBuilder.forLogger(LogManager.getLogger(&quot;JAVA SYS ERR&quot;)).buildPrintStream());\n</code></pre>\n<p>Setting <code>out</code> or <code>err</code>, does not work</p>\n<p>IoBuilder is from:</p>\n<pre><code>&lt;dependency&gt;  \n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-iostreams&lt;/artifactId&gt;\n    &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76372426,"answer_count":1,"score":0,"last_activity_date":1685528165,"creation_date":1685388399,"question_id":76359908,"body_markdown":"During startup of javafx application I get this error:\r\n\r\n `(java:16412): Gtk-WARNING **: 21:08:43.058: Theme parsing error: gtk.css:1649:16: &#39;-gtk-icon-size&#39; is not a valid property name`\r\n\r\nI do not care about cause of this error. I would like to proxy logging of gtk messages to log4j2 or configure level of gtk messages like the one above ([another example of gtk message][1]), because right now it is logged right into console.\r\n\r\nI do not know what logging system is logging these messages. I am assuming java.util.logging. If so, what is the name of the logger(s) that log gtk messages, so I can proxy it to log4j2 by removing console handler (and other handlers) from java util logger and add new handler that sends messages to log4j2 logger like so:\r\n\r\n\r\n     \r\n    private static final Logger GTK_LOGGER = Logger.getLogger(&quot;&quot;); // searching for logger name here\r\n\r\n    static {\r\n        for (val h : GTK_LOGGER.getHandlers()) {\r\n            GTK_LOGGER.removeHandler(h);\r\n        }\r\n        GTK_LOGGER.setUseParentHandlers(false);\r\n        val handlerProxy = new Handler() {\r\n             @Override\r\n             public void publish(LogRecord record) {\r\n                 final Level level = record.getLevel();\r\n                 if (level.equals(Level.INFO)) {\r\n                     log.info(record.getMessage(), record.getThrown());\r\n                 } else if (level.equals(Level.WARNING)) {\r\n                     log.warn(record.getMessage(), record.getThrown());\r\n                 } else if (level.equals(Level.SEVERE)) {\r\n                     log.error(record.getMessage(), record.getThrown());\r\n                 } else {\r\n                     log.debug(record.getMessage(), record.getThrown());\r\n                 }\r\n             }\r\n        \r\n             @Override\r\n             public void flush() {\r\n        \r\n             }\r\n        \r\n             @Override\r\n             public void close() throws SecurityException {\r\n\r\n             }\r\n        };\r\n        GTK_LOGGER.addHandler(handlerProxy);\r\n    }\r\n\r\nI tried to set javafx logger (&quot;javafx&quot;) :\r\nhttps://stackoverflow.com/questions/53158134/javafx-logging-for-java-1-8-0-192, but this logger does not log gtk messages.\r\n\r\nUsing Lombok. Lastly, if they are not logged with java.util.logging, by any chance, what system is it logged with?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55446534/how-to-fix-java22494-gdk-warning","title":"How to get logger(s) of gtk messages in javafx?","body":"<p>During startup of javafx application I get this error:</p>\n<p><code>(java:16412): Gtk-WARNING **: 21:08:43.058: Theme parsing error: gtk.css:1649:16: '-gtk-icon-size' is not a valid property name</code></p>\n<p>I do not care about cause of this error. I would like to proxy logging of gtk messages to log4j2 or configure level of gtk messages like the one above (<a href=\"https://stackoverflow.com/questions/55446534/how-to-fix-java22494-gdk-warning\">another example of gtk message</a>), because right now it is logged right into console.</p>\n<p>I do not know what logging system is logging these messages. I am assuming java.util.logging. If so, what is the name of the logger(s) that log gtk messages, so I can proxy it to log4j2 by removing console handler (and other handlers) from java util logger and add new handler that sends messages to log4j2 logger like so:</p>\n<pre><code>private static final Logger GTK_LOGGER = Logger.getLogger(&quot;&quot;); // searching for logger name here\n\nstatic {\n    for (val h : GTK_LOGGER.getHandlers()) {\n        GTK_LOGGER.removeHandler(h);\n    }\n    GTK_LOGGER.setUseParentHandlers(false);\n    val handlerProxy = new Handler() {\n         @Override\n         public void publish(LogRecord record) {\n             final Level level = record.getLevel();\n             if (level.equals(Level.INFO)) {\n                 log.info(record.getMessage(), record.getThrown());\n             } else if (level.equals(Level.WARNING)) {\n                 log.warn(record.getMessage(), record.getThrown());\n             } else if (level.equals(Level.SEVERE)) {\n                 log.error(record.getMessage(), record.getThrown());\n             } else {\n                 log.debug(record.getMessage(), record.getThrown());\n             }\n         }\n    \n         @Override\n         public void flush() {\n    \n         }\n    \n         @Override\n         public void close() throws SecurityException {\n\n         }\n    };\n    GTK_LOGGER.addHandler(handlerProxy);\n}\n</code></pre>\n<p>I tried to set javafx logger (&quot;javafx&quot;) :\n<a href=\"https://stackoverflow.com/questions/53158134/javafx-logging-for-java-1-8-0-192\">JavaFX logging for java 1.8.0_192</a>, but this logger does not log gtk messages.</p>\n<p>Using Lombok. Lastly, if they are not logged with java.util.logging, by any chance, what system is it logged with?</p>\n"},{"tags":["java","android","executorservice"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":4,"creation_date":1366480141,"post_id":16122987,"comment_id":23029352,"body_markdown":"&quot;I see many times sample codes, in which all the time, there is a shutdown() invocation right after submiting or executing tasks&quot; -- feel free to use hyperlinks to provide evidence of your claims. Personally, I have never seen any &quot;sample codes&quot; that do what you state. It is possible that you are misinterpreting something, and we can only point that out to you if we know what &quot;sample codes&quot; you are examining.","body":"&quot;I see many times sample codes, in which all the time, there is a shutdown() invocation right after submiting or executing tasks&quot; -- feel free to use hyperlinks to provide evidence of your claims. Personally, I have never seen any &quot;sample codes&quot; that do what you state. It is possible that you are misinterpreting something, and we can only point that out to you if we know what &quot;sample codes&quot; you are examining."},{"owner":{"account_id":537437,"reputation":3531,"user_id":905938,"accept_rate":68,"display_name":"Lucas"},"score":9,"creation_date":1366488810,"post_id":16122987,"comment_id":23031717,"body_markdown":"Hi CommonsWare. First of all, I see an aggresive tone of yours(or so that seems) towards me, which I think is not validated here. I was not trying to portrait people in negative way. As for your quote, I was mostly talking about the Thinking In Java IV edition, Multitasking part. You can find many instances of that in Bruce Eckel&#39;s examples. They are mostly simple, but never the less the impression Bruce put on me, was to use shutdown very often. In any way, you focused on something that was not the main part of my post. I removed those parts cause I really don&#39;t wish to argue about it.","body":"Hi CommonsWare. First of all, I see an aggresive tone of yours(or so that seems) towards me, which I think is not validated here. I was not trying to portrait people in negative way. As for your quote, I was mostly talking about the Thinking In Java IV edition, Multitasking part. You can find many instances of that in Bruce Eckel&#39;s examples. They are mostly simple, but never the less the impression Bruce put on me, was to use shutdown very often. In any way, you focused on something that was not the main part of my post. I removed those parts cause I really don&#39;t wish to argue about it."},{"owner":{"account_id":6707817,"reputation":830,"user_id":5172114,"accept_rate":83,"display_name":"Error"},"score":2,"creation_date":1447320984,"post_id":16122987,"comment_id":55109483,"body_markdown":"hay @CommonsWare in Thinking in java book by Bruce Eckel..in concurrency/Executor page 804 Fourth Edition , he always use shutdown() method right after submitting or executing tasks in simple apps to illustrate how Executor works   as Lucas said","body":"hay @CommonsWare in Thinking in java book by Bruce Eckel..in concurrency/Executor page 804 Fourth Edition , he always use shutdown() method right after submitting or executing tasks in simple apps to illustrate how Executor works   as Lucas said"},{"owner":{"account_id":2484549,"reputation":1547,"user_id":2163245,"accept_rate":49,"display_name":"baekacaek"},"score":2,"creation_date":1449780741,"post_id":16122987,"comment_id":56167191,"body_markdown":"I know this is an old post, but I think the OP&#39;s question still stands and is valid. I&#39;ve also come across many sample codes where &quot;there is a shutdown() invocation right after execute()&quot;. http://tutorials.jenkov.com/java-util-concurrent/executorservice.html (first tutorial that comes up when you google &quot;java executorservice example&quot;)","body":"I know this is an old post, but I think the OP&#39;s question still stands and is valid. I&#39;ve also come across many sample codes where &quot;there is a shutdown() invocation right after execute()&quot;. <a href=\"http://tutorials.jenkov.com/java-util-concurrent/executorservice.html\" rel=\"nofollow noreferrer\">tutorials.jenkov.com/java-util-concurrent/executorservice.ht&zwnj;&#8203;ml</a> (first tutorial that comes up when you google &quot;java executorservice example&quot;)"},{"owner":{"account_id":5355615,"reputation":607,"user_id":4268360,"display_name":"Gregordy"},"score":0,"creation_date":1476723519,"post_id":16122987,"comment_id":67456345,"body_markdown":"Thank you, I had the same question that raised with these &quot;sample codes&quot;.\n\nhttp://www.journaldev.com/2340/java-scheduler-scheduledexecutorservice-scheduledthreadpoolexecutor-example","body":"Thank you, I had the same question that raised with these &quot;sample codes&quot;.  <a href=\"http://www.journaldev.com/2340/java-scheduler-scheduledexecutorservice-scheduledthreadpoolexecutor-example\" rel=\"nofollow noreferrer\">journaldev.com/2340/&hellip;</a>"},{"owner":{"account_id":328119,"reputation":2565,"user_id":650894,"accept_rate":43,"display_name":"Joe Lapp"},"score":0,"creation_date":1525843162,"post_id":16122987,"comment_id":87509375,"body_markdown":"My app would not terminate until I called `shutdown()` on the executor service returned by `Executors.newSingleThreadScheduledExecutor()`.","body":"My app would not terminate until I called <code>shutdown()</code> on the executor service returned by <code>Executors.newSingleThreadScheduledExecutor()</code>."}],"answers":[{"tags":[],"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1616786437,"creation_date":1369423263,"answer_id":16742217,"question_id":16122987,"body_markdown":"The &lt;code&gt;shutdown()&lt;/code&gt; method does one thing: prevents clients to send more work to the executor service. This means all the existing tasks will still run to completion unless other actions are taken. This is true even for scheduled tasks, e.g., for a ScheduledExecutorService: new instances of the scheduled task won&#39;t run. It also frees up any background thread resources.  This can be useful in various scenarios.\r\n\r\nLet&#39;s assume you have a console application which has an executor service running N tasks. If the user hits CTRL-C, you expect the application to terminate, possibly gracefully. What does it mean gracefully? Maybe you want your application to not be able to submit more tasks to the executor service and at the same time you want to wait for your existing N tasks to complete. You could achieve this using a shutdown hook as a last resort:\r\n\r\n    final ExecutorService service = ... // get it somewhere\r\n\r\n    Runtime.getRuntime().addShutdownHook(new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Performing some shutdown cleanup...&quot;);\r\n            service.shutdown();\r\n            while (true) {\r\n                try {\r\n                    System.out.println(&quot;Waiting for the service to terminate...&quot;);\r\n                    if (service.awaitTermination(5, TimeUnit.SECONDS)) {\r\n                        break;\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                }\r\n            }\r\n            System.out.println(&quot;Done cleaning&quot;);\r\n        }\r\n    }));\r\n\r\nThis hook will shutdown the service, which will prevent your application to submit new tasks, and wait for all the existing tasks to complete before shutting down the JVM. The await termination will block for 5 seconds and return true if the service is shutdown. This is done in a loop so that you&#39;re sure the service will shutdown eventually. The InterruptedException gets swallowed each time. This is the best way to shutdown an executor service that gets reused all over your application.\r\n\r\nThis code isn&#39;t perfect. Unless you&#39;re absolutely positive your tasks will eventually terminate, you might want to wait for a given timeout and then just exit, abandoning the running threads. In this case it would make sense to also call &lt;code&gt;shutdownNow()&lt;/code&gt; after the timeout in a final attempt to interrupt the running threads (&lt;code&gt;shutdownNow()&lt;/code&gt; will also give you a list of tasks waiting to run). If your tasks are designed to respond to interruption this will work fine.\r\n\r\nAnother interesting scenario is when you have a ScheduledExecutorService that performs a periodic task. The only way to stop the chain of periodic tasks is to call &lt;code&gt;shutdown()&lt;/code&gt;.\r\n\r\nEDIT: I&#39;d like to add that I wouldn&#39;t recommend using a shutdown hook as shown above in the general case: it can be error-prone and should be a last resort only. Moreover, if you have many shutdown hooks registered, the order in which they will run is undefined, which might be undesirable. I&#39;d rather have the application explicitly call &lt;code&gt;shutdown()&lt;/code&gt; on &lt;code&gt;InterruptedException&lt;/code&gt;.","title":"Reason for calling shutdown() on ExecutorService","body":"<p>The <code>shutdown()</code> method does one thing: prevents clients to send more work to the executor service. This means all the existing tasks will still run to completion unless other actions are taken. This is true even for scheduled tasks, e.g., for a ScheduledExecutorService: new instances of the scheduled task won't run. It also frees up any background thread resources.  This can be useful in various scenarios.</p>\n<p>Let's assume you have a console application which has an executor service running N tasks. If the user hits CTRL-C, you expect the application to terminate, possibly gracefully. What does it mean gracefully? Maybe you want your application to not be able to submit more tasks to the executor service and at the same time you want to wait for your existing N tasks to complete. You could achieve this using a shutdown hook as a last resort:</p>\n<pre><code>final ExecutorService service = ... // get it somewhere\n\nRuntime.getRuntime().addShutdownHook(new Thread(new Runnable() {\n    @Override\n    public void run() {\n        System.out.println(&quot;Performing some shutdown cleanup...&quot;);\n        service.shutdown();\n        while (true) {\n            try {\n                System.out.println(&quot;Waiting for the service to terminate...&quot;);\n                if (service.awaitTermination(5, TimeUnit.SECONDS)) {\n                    break;\n                }\n            } catch (InterruptedException e) {\n            }\n        }\n        System.out.println(&quot;Done cleaning&quot;);\n    }\n}));\n</code></pre>\n<p>This hook will shutdown the service, which will prevent your application to submit new tasks, and wait for all the existing tasks to complete before shutting down the JVM. The await termination will block for 5 seconds and return true if the service is shutdown. This is done in a loop so that you're sure the service will shutdown eventually. The InterruptedException gets swallowed each time. This is the best way to shutdown an executor service that gets reused all over your application.</p>\n<p>This code isn't perfect. Unless you're absolutely positive your tasks will eventually terminate, you might want to wait for a given timeout and then just exit, abandoning the running threads. In this case it would make sense to also call <code>shutdownNow()</code> after the timeout in a final attempt to interrupt the running threads (<code>shutdownNow()</code> will also give you a list of tasks waiting to run). If your tasks are designed to respond to interruption this will work fine.</p>\n<p>Another interesting scenario is when you have a ScheduledExecutorService that performs a periodic task. The only way to stop the chain of periodic tasks is to call <code>shutdown()</code>.</p>\n<p>EDIT: I'd like to add that I wouldn't recommend using a shutdown hook as shown above in the general case: it can be error-prone and should be a last resort only. Moreover, if you have many shutdown hooks registered, the order in which they will run is undefined, which might be undesirable. I'd rather have the application explicitly call <code>shutdown()</code> on <code>InterruptedException</code>.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1503986329,"creation_date":1503731702,"answer_id":45892888,"question_id":16122987,"body_markdown":"&gt; Isn&#39;t the whole idea for the ExecutorService to reuse the threads? So why destroy the ExecutorService so soon?\r\n\r\nYes. You should not destroy and re-create `ExecutorService` frequently. Initialize `ExecutorService` when you require (mostly on start-up) and keep it active until you are done with it. \r\n\r\n&gt;Isn&#39;t it a rational way to simply create ExecutorService (or couple depending on how many you need), then during the application running pass to them the tasks once they come along, and then on the application exit or some other important stages shutdown those executors?\r\n\r\nYes. It&#39;s rational to shutdown `ExecutorService` on important stages like application exit etc. \r\n\r\n\r\n&gt;Second side question, a bit smaller deals with android platform. IF some of you will say that it&#39;s not best idea to shutdown executors every time, and you program on android, could you tell me how you handle those shutdowns (to be specific, when you execute them) when we deal with different events of application life cycle.\r\n\r\nAssume that `ExecutorService` is shared across different Activities in your application. Each activity will be paused/resumed at different intervals of time and still you need one `ExecutorService` per your application.\r\n\r\nInstead of managing the state of `ExecutorService` in Activity life cycle methods, move ExecutorService management ( Creation/Shutdown) to your custom [Service][1].\r\n\r\nCreate `ExecutorService` in Service =&gt; `onCreate()` and shutdown it properly in `onDestroy()`\r\n\r\nRecommended way of shutting down `ExecutorService` :\r\n\r\nhttps://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice/36644320#36644320\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Service.html","title":"Reason for calling shutdown() on ExecutorService","body":"<blockquote>\n  <p>Isn't the whole idea for the ExecutorService to reuse the threads? So why destroy the ExecutorService so soon?</p>\n</blockquote>\n\n<p>Yes. You should not destroy and re-create <code>ExecutorService</code> frequently. Initialize <code>ExecutorService</code> when you require (mostly on start-up) and keep it active until you are done with it. </p>\n\n<blockquote>\n  <p>Isn't it a rational way to simply create ExecutorService (or couple depending on how many you need), then during the application running pass to them the tasks once they come along, and then on the application exit or some other important stages shutdown those executors?</p>\n</blockquote>\n\n<p>Yes. It's rational to shutdown <code>ExecutorService</code> on important stages like application exit etc. </p>\n\n<blockquote>\n  <p>Second side question, a bit smaller deals with android platform. IF some of you will say that it's not best idea to shutdown executors every time, and you program on android, could you tell me how you handle those shutdowns (to be specific, when you execute them) when we deal with different events of application life cycle.</p>\n</blockquote>\n\n<p>Assume that <code>ExecutorService</code> is shared across different Activities in your application. Each activity will be paused/resumed at different intervals of time and still you need one <code>ExecutorService</code> per your application.</p>\n\n<p>Instead of managing the state of <code>ExecutorService</code> in Activity life cycle methods, move ExecutorService management ( Creation/Shutdown) to your custom <a href=\"https://developer.android.com/reference/android/app/Service.html\" rel=\"noreferrer\">Service</a>.</p>\n\n<p>Create <code>ExecutorService</code> in Service => <code>onCreate()</code> and shutdown it properly in <code>onDestroy()</code></p>\n\n<p>Recommended way of shutting down <code>ExecutorService</code> :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice/36644320#36644320\">How to properly shutdown java ExecutorService</a></p>\n"},{"tags":[],"owner":{"account_id":3096713,"reputation":150,"user_id":2621745,"display_name":"Pruthvidhar Rao Nadunooru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506552221,"creation_date":1506552221,"answer_id":46458316,"question_id":16122987,"body_markdown":"**Reason for calling shutdown() on ExecutorService**\r\n\r\nToday I encountered a situation where I have to wait until a machine is ready, before starting a series of tasks on that machine.\r\n\r\nI make a REST call to this machine, if I don&#39;t receive 503 (Server Unavailable) then the machine is ready to process my requests. So, I wait until I get 200 (Success) for the first REST call.\r\n\r\nThere are multiple ways to achieve it, I used ExecutorService to create a thread and scheduled it to run after every X Seconds. So, I need to stop this thread on a condition, check this out...\r\n\r\n    final ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n        Runnable task = () -&gt; {\r\n            try {\r\n                int statusCode = restHelper.firstRESTCall();\r\n\r\n                if (statusCode == 200) {\r\n                    executor.shutdown();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        };\r\n\r\n        int retryAfter = 60;\r\n        executor.scheduleAtFixedRate(task, 0, retryAfter, TimeUnit.SECONDS);\r\n\r\n**Second side question, a bit smaller deals with android platform.**\r\n\r\nMaybe I can answer if you&#39;ll provide bit more context!\r\nAlso from my experience with Android development it&#39;s rarely you need Threads. Are you developing a Game or an app which needs threads for performance? If not, in Android you have other ways to tackle problems like the scenario that I explained above. You can rather use TimerTask, AsyncTask or Handlers or Loaders based on context. This is because if UIThread waits for long you know what happens :/","title":"Reason for calling shutdown() on ExecutorService","body":"<p><strong>Reason for calling shutdown() on ExecutorService</strong></p>\n\n<p>Today I encountered a situation where I have to wait until a machine is ready, before starting a series of tasks on that machine.</p>\n\n<p>I make a REST call to this machine, if I don't receive 503 (Server Unavailable) then the machine is ready to process my requests. So, I wait until I get 200 (Success) for the first REST call.</p>\n\n<p>There are multiple ways to achieve it, I used ExecutorService to create a thread and scheduled it to run after every X Seconds. So, I need to stop this thread on a condition, check this out...</p>\n\n<pre><code>final ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\n    Runnable task = () -&gt; {\n        try {\n            int statusCode = restHelper.firstRESTCall();\n\n            if (statusCode == 200) {\n                executor.shutdown();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    };\n\n    int retryAfter = 60;\n    executor.scheduleAtFixedRate(task, 0, retryAfter, TimeUnit.SECONDS);\n</code></pre>\n\n<p><strong>Second side question, a bit smaller deals with android platform.</strong></p>\n\n<p>Maybe I can answer if you'll provide bit more context!\nAlso from my experience with Android development it's rarely you need Threads. Are you developing a Game or an app which needs threads for performance? If not, in Android you have other ways to tackle problems like the scenario that I explained above. You can rather use TimerTask, AsyncTask or Handlers or Loaders based on context. This is because if UIThread waits for long you know what happens :/</p>\n"},{"tags":[],"owner":{"account_id":7426515,"reputation":1697,"user_id":5648801,"display_name":"emon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1525034069,"creation_date":1525034069,"answer_id":50091038,"question_id":16122987,"body_markdown":"&gt; An ExecutorService should be shut down once it is no longer needed to\r\n&gt; free up system resources and to allow graceful application shutdown.\r\n&gt; Because the threads in an ExecutorService may be nondaemon threads,\r\n&gt; they may prevent normal application termination. In other words, your\r\n&gt; application stays running after completing its main method.\r\n\r\n[Reference Book][1] \r\n\r\n\r\n  [1]: https://www.amazon.com/Programmer-Study-1Z0-803-1Z0-804-Certification/dp/0071772006/ref=sr_1_1?ie=UTF8&amp;qid=1525033978&amp;sr=8-1&amp;keywords=oca%20ocp%207\r\n\r\nChaper:14 \r\nPage:814","title":"Reason for calling shutdown() on ExecutorService","body":"<blockquote>\n  <p>An ExecutorService should be shut down once it is no longer needed to\n  free up system resources and to allow graceful application shutdown.\n  Because the threads in an ExecutorService may be nondaemon threads,\n  they may prevent normal application termination. In other words, your\n  application stays running after completing its main method.</p>\n</blockquote>\n\n<p><a href=\"https://rads.stackoverflow.com/amzn/click/com/0071772006\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Reference Book</a> </p>\n\n<p>Chaper:14 \nPage:814</p>\n"},{"tags":[],"owner":{"account_id":15948958,"reputation":3,"user_id":11508767,"display_name":"Devlax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558244251,"creation_date":1558244251,"answer_id":56205057,"question_id":16122987,"body_markdown":"This is genuine notwithstanding for planned undertakings, e.g., for a ScheduledExecutorService: new cases of the booked assignment won&#39;t run. \r\n\r\nWe should expect you have a comfort application which has an agent administration running N errands. \r\n\r\nI&#39;m not catching it&#39;s meaning effortlessly? Perhaps you need your application to not have the option to submit more assignments to the agent administration and in the meantime you need to sit tight for your current N undertakings to finish. \r\n\r\nExcept if you&#39;re totally positive your errands will in the end, you should need to sit tight for a given break and after that simply exit, deserting the running strings. \r\n\r\nIn the event that your activitys are intended to react to interference this will work fine. \r\n\r\nAnother intriguing situation is the point at which you have a ScheduledExecutorService that plays out an activity.\r\n\r\nThe best way to stop the chain of activity is to call shutdown()","title":"Reason for calling shutdown() on ExecutorService","body":"<p>This is genuine notwithstanding for planned undertakings, e.g., for a ScheduledExecutorService: new cases of the booked assignment won't run. </p>\n\n<p>We should expect you have a comfort application which has an agent administration running N errands. </p>\n\n<p>I'm not catching it's meaning effortlessly? Perhaps you need your application to not have the option to submit more assignments to the agent administration and in the meantime you need to sit tight for your current N undertakings to finish. </p>\n\n<p>Except if you're totally positive your errands will in the end, you should need to sit tight for a given break and after that simply exit, deserting the running strings. </p>\n\n<p>In the event that your activitys are intended to react to interference this will work fine. </p>\n\n<p>Another intriguing situation is the point at which you have a ScheduledExecutorService that plays out an activity.</p>\n\n<p>The best way to stop the chain of activity is to call shutdown()</p>\n"},{"tags":[],"owner":{"account_id":11659632,"reputation":342,"user_id":9820561,"display_name":"Mr.O"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682892588,"creation_date":1682892588,"answer_id":76143778,"question_id":16122987,"body_markdown":"I recently found in my code that if I&#39;m not using shutdown() after finishing some parallel work, the threads are not closed automatically, even if the parallel work was completed. This created many unused threads that eventually crashed the code due to out-of-memory problems.","title":"Reason for calling shutdown() on ExecutorService","body":"<p>I recently found in my code that if I'm not using shutdown() after finishing some parallel work, the threads are not closed automatically, even if the parallel work was completed. This created many unused threads that eventually crashed the code due to out-of-memory problems.</p>\n"}],"owner":{"account_id":537437,"reputation":3531,"user_id":905938,"accept_rate":68,"display_name":"Lucas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110421,"favorite_count":0,"down_vote_count":1,"up_vote_count":113,"answer_count":6,"score":112,"last_activity_date":1685528043,"creation_date":1366477754,"question_id":16122987,"body_markdown":"I was reading about it quite a bit in the past couple of hours, and I simply cannot see any reason (**valid** reason) to call `shutdown()` on the `ExecutorService`, unless we have a humongous application that stores, dozens and dozens of different executor services that are not used for a long time.\r\n\r\nThe only thing (from what I gather) the shutdown does, is doing what a normal Thread does once it&#39;s done. When the normal Thread will finish the run method of the Runnable(or Callable), it will be passed to Garbage Collection to be collected. With Executor Service the threads will simply be put on hold, they will not be ticked for the garbage collection. For that, the shutdown is needed.\r\n\r\nOk back to my question. Is there any reason to call shutdown on `ExecutorService` very often, or even right after submitting to it some tasks? I would like to leave behind the case someone is doing it and right after that calls to `awaitTermination()` as this is validated. Once we do that, we have to recreate a new `ExecutorService` all over again, to do the same thing. Isn&#39;t the whole idea for the `ExecutorService` to reuse the threads? So why destroy the `ExecutorService` so soon?\r\n\r\nIsn&#39;t it a rational way to simply create `ExecutorService` (or couple depending on how many you need), then during the application running pass to them the tasks once they come along, and then on the application exit or some other important stages shutdown those executors?\r\n\r\nI&#39;d like an answer from some experienced coders who do write a lot of asynchronous code using the ExecutorServices.\r\n\r\nSecond side question, a bit smaller deals with the android platform. IF some of you will say that it&#39;s not the best idea to shutdown executors every time, and your program on android, could you tell me how do you handle those shutdowns (to be specific - when you execute them) when we deal with different events of the application life cycle.\r\n\r\nBecause of the CommonsWare comment, I made the post neutral. I really am not interested in arguing about it to death and it seems it&#39;s leading there. I&#39;m only interested in learning about what I asked here from experienced developers if they are willing to share their experiences. Thanks.","title":"Reason for calling shutdown() on ExecutorService","body":"<p>I was reading about it quite a bit in the past couple of hours, and I simply cannot see any reason (<strong>valid</strong> reason) to call <code>shutdown()</code> on the <code>ExecutorService</code>, unless we have a humongous application that stores, dozens and dozens of different executor services that are not used for a long time.</p>\n<p>The only thing (from what I gather) the shutdown does, is doing what a normal Thread does once it's done. When the normal Thread will finish the run method of the Runnable(or Callable), it will be passed to Garbage Collection to be collected. With Executor Service the threads will simply be put on hold, they will not be ticked for the garbage collection. For that, the shutdown is needed.</p>\n<p>Ok back to my question. Is there any reason to call shutdown on <code>ExecutorService</code> very often, or even right after submitting to it some tasks? I would like to leave behind the case someone is doing it and right after that calls to <code>awaitTermination()</code> as this is validated. Once we do that, we have to recreate a new <code>ExecutorService</code> all over again, to do the same thing. Isn't the whole idea for the <code>ExecutorService</code> to reuse the threads? So why destroy the <code>ExecutorService</code> so soon?</p>\n<p>Isn't it a rational way to simply create <code>ExecutorService</code> (or couple depending on how many you need), then during the application running pass to them the tasks once they come along, and then on the application exit or some other important stages shutdown those executors?</p>\n<p>I'd like an answer from some experienced coders who do write a lot of asynchronous code using the ExecutorServices.</p>\n<p>Second side question, a bit smaller deals with the android platform. IF some of you will say that it's not the best idea to shutdown executors every time, and your program on android, could you tell me how do you handle those shutdowns (to be specific - when you execute them) when we deal with different events of the application life cycle.</p>\n<p>Because of the CommonsWare comment, I made the post neutral. I really am not interested in arguing about it to death and it seems it's leading there. I'm only interested in learning about what I asked here from experienced developers if they are willing to share their experiences. Thanks.</p>\n"},{"tags":["java","soap","element"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685541888,"post_id":76372400,"comment_id":134674923,"body_markdown":"Please attach more code/logs","body":"Please attach more code/logs"},{"owner":{"account_id":25077833,"reputation":1,"user_id":18931030,"display_name":"DuqueM"},"score":0,"creation_date":1685542261,"post_id":76372400,"comment_id":134675012,"body_markdown":"I dont have any more logs, the logs from the BW are those that I send and in our application I simply get the INput and do a toString and dont see somethimes this element :( yeah, annoying","body":"I dont have any more logs, the logs from the BW are those that I send and in our application I simply get the INput and do a toString and dont see somethimes this element :( yeah, annoying"}],"owner":{"account_id":25077833,"reputation":1,"user_id":18931030,"display_name":"DuqueM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685527993,"creation_date":1685527993,"question_id":76372400,"body_markdown":"Hello I am having an SOAP app that does not make any sense. We use BW from IBM, we have the logs from the outcoming that shows elementFiveWithProblems being send, but in the application we dont receive the element **sometimes**, it come as &#39;null&#39; sometimes we receive the content. \r\nSomeone has any ideia what can be the problem here?\r\n\r\n```\r\n&lt;ns0:service_input xmlns:ns0=&quot;Bla_Bla_Schema.xsd&quot;&gt;\r\n\t&lt;Header&gt;\r\n\t\t&lt;ClientName/&gt;\r\n\t\t&lt;ClientRequestTime/&gt;\r\n\t\t&lt;ClientRequestID/&gt;\r\n\t&lt;/Header&gt;\r\n\t&lt;Body&gt;\r\n\t\t&lt;elementOne&gt;1234567&lt;/elementOne&gt;\r\n\t\t&lt;elementTwo&gt;5&lt;/elementTwo&gt;\r\n\t\t&lt;elementThree&gt;BLA123456&lt;/elementThree&gt;\r\n\t\t&lt;elementFour&gt;5&lt;/elementFour&gt;\r\n\t\t&lt;elementFiveWithProblems&gt;003&lt;/elementFiveWithProblems&gt;\r\n\t\t&lt;elementSix&gt;2&lt;/elementSix&gt;\r\n\t\t&lt;delayedReleaseID&gt;SERVERNAME:1.2@swnode~EAI_BW@swnode~UUIJI123~45464646464/delayedReleaseID&gt;\r\n\t&lt;/Body&gt;\r\n&lt;/ns0:service_input&gt;\r\n```\r\n\r\n\r\nWe only put logs to identify, and check the cases that works, what happens is that has nothing related.","title":"BW-IBM Soap sometimes does not arrive at the application","body":"<p>Hello I am having an SOAP app that does not make any sense. We use BW from IBM, we have the logs from the outcoming that shows elementFiveWithProblems being send, but in the application we dont receive the element <strong>sometimes</strong>, it come as 'null' sometimes we receive the content.\nSomeone has any ideia what can be the problem here?</p>\n<pre><code>&lt;ns0:service_input xmlns:ns0=&quot;Bla_Bla_Schema.xsd&quot;&gt;\n    &lt;Header&gt;\n        &lt;ClientName/&gt;\n        &lt;ClientRequestTime/&gt;\n        &lt;ClientRequestID/&gt;\n    &lt;/Header&gt;\n    &lt;Body&gt;\n        &lt;elementOne&gt;1234567&lt;/elementOne&gt;\n        &lt;elementTwo&gt;5&lt;/elementTwo&gt;\n        &lt;elementThree&gt;BLA123456&lt;/elementThree&gt;\n        &lt;elementFour&gt;5&lt;/elementFour&gt;\n        &lt;elementFiveWithProblems&gt;003&lt;/elementFiveWithProblems&gt;\n        &lt;elementSix&gt;2&lt;/elementSix&gt;\n        &lt;delayedReleaseID&gt;SERVERNAME:1.2@swnode~EAI_BW@swnode~UUIJI123~45464646464/delayedReleaseID&gt;\n    &lt;/Body&gt;\n&lt;/ns0:service_input&gt;\n</code></pre>\n<p>We only put logs to identify, and check the cases that works, what happens is that has nothing related.</p>\n"},{"tags":["java","android","cordova","sdk"],"owner":{"account_id":28718044,"reputation":1,"user_id":21992270,"display_name":"Sp1nt3lGabT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685527980,"creation_date":1685527980,"question_id":76372396,"body_markdown":"i can&#39;t solve this problem.\r\ni was trying to do a small project in apache cordova but i am totally new to mobile development.\r\nI followed the guide they propose on the apache site for the first simple project but it didn&#39;t work.\r\nI am currently using cordova 11 with jdk 11 and android sdk 13 but something is not working.\r\nCan someone help me?\r\n\r\nbelow find the output of the `cordova requirements` command\r\n\r\n```\r\nRequirements check results for android:\r\nJava JDK: installed 11.0.0\r\nAndroid SDK: installed true\r\nAndroid target: not installed \r\nCommand failed with ENOENT: avdmanager list target\r\nspawn avdmanager ENOENT\r\nGradle: installed ###/.sdkman/candidates/gradle/8.1.1/bin/gradle\r\nSome of requirements check failed\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nfirst I installed the latest version of android studio, then I reinstalled the necessary sdk and also the emulator with google pixel that I had previously created.\r\ni downloaded different versions of openjdk and tried to fix the problem but it doesn&#39;t work\r\n\r\nI use Ubuntu 20.04","title":"How to solve &#39;Requirements check failed&#39; error when installing Apache Cordova on Android using JDK 11 and SDK 13?","body":"<p>i can't solve this problem.\ni was trying to do a small project in apache cordova but i am totally new to mobile development.\nI followed the guide they propose on the apache site for the first simple project but it didn't work.\nI am currently using cordova 11 with jdk 11 and android sdk 13 but something is not working.\nCan someone help me?</p>\n<p>below find the output of the <code>cordova requirements</code> command</p>\n<pre><code>Requirements check results for android:\nJava JDK: installed 11.0.0\nAndroid SDK: installed true\nAndroid target: not installed \nCommand failed with ENOENT: avdmanager list target\nspawn avdmanager ENOENT\nGradle: installed ###/.sdkman/candidates/gradle/8.1.1/bin/gradle\nSome of requirements check failed\n</code></pre>\n<p>first I installed the latest version of android studio, then I reinstalled the necessary sdk and also the emulator with google pixel that I had previously created.\ni downloaded different versions of openjdk and tried to fix the problem but it doesn't work</p>\n<p>I use Ubuntu 20.04</p>\n"},{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":21372668,"reputation":156,"user_id":15739953,"display_name":"Mateusz Rzeszutek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685527447,"creation_date":1685527447,"answer_id":76372327,"question_id":76371490,"body_markdown":"Yes, it is possible to set up and use multiple `OpenTelemetry` instances in an app. The only thing that you have to be careful about is not setting the [`GlobalOpenTelemetry`](https://javadoc.io/doc/io.opentelemetry/opentelemetry-api/latest/io/opentelemetry/api/GlobalOpenTelemetry.html) more than once (you can skip using it entirely).","title":"Two instances of OpenTelemetry running in the same app","body":"<p>Yes, it is possible to set up and use multiple <code>OpenTelemetry</code> instances in an app. The only thing that you have to be careful about is not setting the <a href=\"https://javadoc.io/doc/io.opentelemetry/opentelemetry-api/latest/io/opentelemetry/api/GlobalOpenTelemetry.html\" rel=\"nofollow noreferrer\"><code>GlobalOpenTelemetry</code></a> more than once (you can skip using it entirely).</p>\n"}],"owner":{"account_id":24553001,"reputation":3,"user_id":18461963,"display_name":"aliaksei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76372327,"answer_count":1,"score":0,"last_activity_date":1685527447,"creation_date":1685521074,"question_id":76371490,"body_markdown":"Wanted to ask your opinion: is it possible to have two separate instances of OpenTelemetry collecting different data  in one java application? \r\n\r\nUnfortunately, I can`t test 2 instances, so asking maybe someone had such a problem:) thanks in advance","title":"Two instances of OpenTelemetry running in the same app","body":"<p>Wanted to ask your opinion: is it possible to have two separate instances of OpenTelemetry collecting different data  in one java application?</p>\n<p>Unfortunately, I can`t test 2 instances, so asking maybe someone had such a problem:) thanks in advance</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1685526848,"post_id":76372197,"comment_id":134671411,"body_markdown":"Please reduce your code to a [mcve]. For example, if the error occurs on line 33, is anything after that relevant to show? Do you need to show adding 14 objects to the dataset, or does it still occur if you only add 1 thing?","body":"Please reduce your code to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For example, if the error occurs on line 33, is anything after that relevant to show? Do you need to show adding 14 objects to the dataset, or does it still occur if you only add 1 thing?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1685527001,"post_id":76372197,"comment_id":134671452,"body_markdown":"The actual error seems relatively straightforward: you are trying to cast an `Image` to `Playable`, but `Image` implements just the `NonPlayable` interface. It&#39;s hard to advise you what to do to correct it, because it&#39;s not clear what you&#39;re trying to do.","body":"The actual error seems relatively straightforward: you are trying to cast an <code>Image</code> to <code>Playable</code>, but <code>Image</code> implements just the <code>NonPlayable</code> interface. It&#39;s hard to advise you what to do to correct it, because it&#39;s not clear what you&#39;re trying to do."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685527270,"creation_date":1685526920,"answer_id":76372247,"question_id":76372197,"body_markdown":"The first thing you add to your `DataSet` is\r\n```\r\nnew Image(&quot;imagename1&quot;, &quot;dimension info1&quot;, &quot;other info1&quot;)\r\n```\r\nIn line 33, you are retrieving that image again with\r\n```\r\nds.getDatasetObjects().get(0)\r\n```\r\nand in the same line, you cast that image to `Playable`:\r\n```\r\n(Playable) ds.getDatasetObjects().get(0)\r\n```\r\nHowever, `Image` is not a `Playable`, i.e. `Image` does not implement the `Playable` interface. Quite the opposite is true:\r\n```\r\nclass Image ... implements NonPlayable\r\n```\r\nYou probably need to check if the items you get from your `DataSet` are indeed `Playable`:\r\n```\r\nObject o = ds.getDatasetObjects().get(0);\r\nif (o instanceof Playable) {\r\n  p1.updatePlaylist((Playable) o); \r\n}\r\n```\r\nEven better would be an iterative apporach, if `DataSet` offers one:\r\n```\r\nfor (Object data : ds.getDatasetObjects()) {\r\n  if (data instanceof Playable) {\r\n    p1.updatePlaylist((Playable) data);\r\n  }\r\n  if (data instanceof NonPlayable) {\r\n    v1.updateViewList((NonPlayable) data);\r\n  }\r\n}\r\n```","title":"JAVA OOP Question &quot; cannot be cast to class&quot; error","body":"<p>The first thing you add to your <code>DataSet</code> is</p>\n<pre><code>new Image(&quot;imagename1&quot;, &quot;dimension info1&quot;, &quot;other info1&quot;)\n</code></pre>\n<p>In line 33, you are retrieving that image again with</p>\n<pre><code>ds.getDatasetObjects().get(0)\n</code></pre>\n<p>and in the same line, you cast that image to <code>Playable</code>:</p>\n<pre><code>(Playable) ds.getDatasetObjects().get(0)\n</code></pre>\n<p>However, <code>Image</code> is not a <code>Playable</code>, i.e. <code>Image</code> does not implement the <code>Playable</code> interface. Quite the opposite is true:</p>\n<pre><code>class Image ... implements NonPlayable\n</code></pre>\n<p>You probably need to check if the items you get from your <code>DataSet</code> are indeed <code>Playable</code>:</p>\n<pre><code>Object o = ds.getDatasetObjects().get(0);\nif (o instanceof Playable) {\n  p1.updatePlaylist((Playable) o); \n}\n</code></pre>\n<p>Even better would be an iterative apporach, if <code>DataSet</code> offers one:</p>\n<pre><code>for (Object data : ds.getDatasetObjects()) {\n  if (data instanceof Playable) {\n    p1.updatePlaylist((Playable) data);\n  }\n  if (data instanceof NonPlayable) {\n    v1.updateViewList((NonPlayable) data);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":21212970,"reputation":86,"user_id":15601177,"display_name":"berry.11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685696004,"accepted_answer_id":76372247,"answer_count":1,"score":0,"last_activity_date":1685527270,"creation_date":1685526591,"question_id":76372197,"body_markdown":"I am new to Java and I have a work to do which put below here.\r\n[![Task](https://i.stack.imgur.com/RGxdF.png)]\r\n\r\nAnd i have written code below and i get the error:\r\n\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class CSE_241_PA7.Image cannot be cast to class CSE_241_PA7.Playable (CSE_241_PA7.Image and CSE_241_PA7.Playable are in unnamed module of loader &#39;app&#39;)\r\n\tat CSE_241_PA7.Main.main(Main.java:33)\r\n\r\n\r\nHow could i fix this, i couldn&#39;t find my fault. Please help.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI am giving the code classes that written :\r\n\r\n```\r\npackage CSE_241_PA7;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Dataset ds = new Dataset();\r\n        //different observers\r\n        Player p1 = new Player();\r\n        Player p2 = new Player();\r\n        Viewer v1 = new Viewer();\r\n        Viewer v2 = new Viewer();\r\n\r\n        ds.register(p1);\r\n        ds.register(p2);\r\n        ds.register(v1);\r\n        ds.register(v2);\r\n\r\n        ds.add(new Image(&quot;imagename1&quot;, &quot;dimension info1&quot;, &quot;other info1&quot;));\r\n        ds.add(new Image(&quot;imagename2&quot;, &quot;dimension info2&quot;, &quot;other info2&quot;));\r\n        ds.add(new Image(&quot;imagename3&quot;, &quot;dimension info3&quot;, &quot;other info3&quot;));\r\n        ds.add(new Image(&quot;imagename4&quot;, &quot;dimension info4&quot;, &quot;other info4&quot;));\r\n        ds.add(new Image(&quot;imagename5&quot;, &quot;dimension info5&quot;, &quot;other info5&quot;));\r\n        ds.add(new Audio(&quot;audioname1&quot;, &quot;duration1&quot;, &quot;other info1&quot;));\r\n        ds.add(new Audio(&quot;audioname2&quot;, &quot;duration2&quot;, &quot;other info2&quot;));\r\n        ds.add(new Audio(&quot;audioname3&quot;, &quot;duration3&quot;, &quot;other info3&quot;));\r\n        ds.add(new Video(&quot;videoname1&quot;, &quot;duration1&quot;, &quot;other info1&quot;));\r\n        ds.add(new Video(&quot;videoname2&quot;, &quot;duration2&quot;, &quot;other info2&quot;));\r\n        ds.add(new Video(&quot;videoname3&quot;, &quot;duration3&quot;, &quot;other info3&quot;));\r\n        ds.add(new Text(&quot;textname1&quot;, &quot;other info1&quot;));\r\n        ds.add(new Text(&quot;textname2&quot;, &quot;other info2&quot;));\r\n        ds.add(new Text(&quot;textname3&quot;, &quot;other info3&quot;));\r\n\r\n\r\n        p1.updatePlaylist((Playable) ds.getDatasetObjects().get(0)); //33.line\r\n        p1.updatePlaylist((Playable) ds.getDatasetObjects().get(2));\r\n        p1.updatePlaylist((Playable) ds.getDatasetObjects().get(4));\r\n\r\n\r\n        v1.updateViewList((NonPlayable) ds.getDatasetObjects().get(1));\r\n        v1.updateViewList((NonPlayable) ds.getDatasetObjects().get(3));\r\n        v1.updateViewList((NonPlayable) ds.getDatasetObjects().get(5));\r\n\r\n\r\n        Playable po = p1.currentlyPlaying();\r\n        if (po != null) {\r\n            po.info();\r\n            ds.remove((DatasetObject) po);\r\n        } else {\r\n            System.out.println(&quot;No currently playing item.&quot;);\r\n        }\r\n        NonPlayable np = v1.currentlyViewing();\r\n        if (np != null) {\r\n            np.info();\r\n        }\r\n\r\n        p1.showList();\r\n        p2.showList();\r\n        v1.showList();\r\n        v2.showList();\r\n    }\r\n}\r\n\r\n```\r\nNow i am adding Image class:\r\n\r\n\r\n```\r\npackage CSE_241_PA7;\r\n\r\npublic class Image extends DatasetObject implements NonPlayable {\r\n    private String dimensionInfo;\r\n\r\n    public Image(String name, String dimensionInfo, String otherInfo) {\r\n        super(name, otherInfo);\r\n        this.dimensionInfo = dimensionInfo;\r\n    }\r\n\r\n    public void play() {\r\n        System.out.println(&quot;Playing image: &quot; + getName());\r\n    }\r\n\r\n    @Override\r\n    public void info() {\r\n        System.out.println(&quot;Image Name: &quot; + getName());\r\n        System.out.println(&quot;Dimension Info: &quot; + dimensionInfo);\r\n        System.out.println(&quot;Other Info: &quot; + getOtherInfo());\r\n    }\r\n\r\n    public void view() {\r\n        System.out.println(&quot;Viewing image: &quot; + getName());\r\n    }\r\n\r\n    public String getDimensionInfo() {\r\n        return dimensionInfo;\r\n    }\r\n    public void showList() {\r\n        System.out.println(&quot;This is the showList() method implementation in Audio class.&quot;);\r\n    }\r\n}\r\n\r\n```\r\nNow i am adding Playable interface:\r\n\r\n```\r\npackage CSE_241_PA7;\r\n\r\npublic interface Playable {\r\n    void play();\r\n    void info();\r\n    void showList();\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"JAVA OOP Question &quot; cannot be cast to class&quot; error","body":"<p>I am new to Java and I have a work to do which put below here.\n[<img src=\"https://i.stack.imgur.com/RGxdF.png\" alt=\"Task\" />]</p>\n<p>And i have written code below and i get the error:</p>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException: class CSE_241_PA7.Image cannot be cast to class CSE_241_PA7.Playable (CSE_241_PA7.Image and CSE_241_PA7.Playable are in unnamed module of loader 'app')\nat CSE_241_PA7.Main.main(Main.java:33)</p>\n<p>How could i fix this, i couldn't find my fault. Please help.</p>\n<p>I am giving the code classes that written :</p>\n<pre><code>package CSE_241_PA7;\n\npublic class Main {\n    public static void main(String[] args) {\n        Dataset ds = new Dataset();\n        //different observers\n        Player p1 = new Player();\n        Player p2 = new Player();\n        Viewer v1 = new Viewer();\n        Viewer v2 = new Viewer();\n\n        ds.register(p1);\n        ds.register(p2);\n        ds.register(v1);\n        ds.register(v2);\n\n        ds.add(new Image(&quot;imagename1&quot;, &quot;dimension info1&quot;, &quot;other info1&quot;));\n        ds.add(new Image(&quot;imagename2&quot;, &quot;dimension info2&quot;, &quot;other info2&quot;));\n        ds.add(new Image(&quot;imagename3&quot;, &quot;dimension info3&quot;, &quot;other info3&quot;));\n        ds.add(new Image(&quot;imagename4&quot;, &quot;dimension info4&quot;, &quot;other info4&quot;));\n        ds.add(new Image(&quot;imagename5&quot;, &quot;dimension info5&quot;, &quot;other info5&quot;));\n        ds.add(new Audio(&quot;audioname1&quot;, &quot;duration1&quot;, &quot;other info1&quot;));\n        ds.add(new Audio(&quot;audioname2&quot;, &quot;duration2&quot;, &quot;other info2&quot;));\n        ds.add(new Audio(&quot;audioname3&quot;, &quot;duration3&quot;, &quot;other info3&quot;));\n        ds.add(new Video(&quot;videoname1&quot;, &quot;duration1&quot;, &quot;other info1&quot;));\n        ds.add(new Video(&quot;videoname2&quot;, &quot;duration2&quot;, &quot;other info2&quot;));\n        ds.add(new Video(&quot;videoname3&quot;, &quot;duration3&quot;, &quot;other info3&quot;));\n        ds.add(new Text(&quot;textname1&quot;, &quot;other info1&quot;));\n        ds.add(new Text(&quot;textname2&quot;, &quot;other info2&quot;));\n        ds.add(new Text(&quot;textname3&quot;, &quot;other info3&quot;));\n\n\n        p1.updatePlaylist((Playable) ds.getDatasetObjects().get(0)); //33.line\n        p1.updatePlaylist((Playable) ds.getDatasetObjects().get(2));\n        p1.updatePlaylist((Playable) ds.getDatasetObjects().get(4));\n\n\n        v1.updateViewList((NonPlayable) ds.getDatasetObjects().get(1));\n        v1.updateViewList((NonPlayable) ds.getDatasetObjects().get(3));\n        v1.updateViewList((NonPlayable) ds.getDatasetObjects().get(5));\n\n\n        Playable po = p1.currentlyPlaying();\n        if (po != null) {\n            po.info();\n            ds.remove((DatasetObject) po);\n        } else {\n            System.out.println(&quot;No currently playing item.&quot;);\n        }\n        NonPlayable np = v1.currentlyViewing();\n        if (np != null) {\n            np.info();\n        }\n\n        p1.showList();\n        p2.showList();\n        v1.showList();\n        v2.showList();\n    }\n}\n\n</code></pre>\n<p>Now i am adding Image class:</p>\n<pre><code>package CSE_241_PA7;\n\npublic class Image extends DatasetObject implements NonPlayable {\n    private String dimensionInfo;\n\n    public Image(String name, String dimensionInfo, String otherInfo) {\n        super(name, otherInfo);\n        this.dimensionInfo = dimensionInfo;\n    }\n\n    public void play() {\n        System.out.println(&quot;Playing image: &quot; + getName());\n    }\n\n    @Override\n    public void info() {\n        System.out.println(&quot;Image Name: &quot; + getName());\n        System.out.println(&quot;Dimension Info: &quot; + dimensionInfo);\n        System.out.println(&quot;Other Info: &quot; + getOtherInfo());\n    }\n\n    public void view() {\n        System.out.println(&quot;Viewing image: &quot; + getName());\n    }\n\n    public String getDimensionInfo() {\n        return dimensionInfo;\n    }\n    public void showList() {\n        System.out.println(&quot;This is the showList() method implementation in Audio class.&quot;);\n    }\n}\n\n</code></pre>\n<p>Now i am adding Playable interface:</p>\n<pre><code>package CSE_241_PA7;\n\npublic interface Playable {\n    void play();\n    void info();\n    void showList();\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685527169,"creation_date":1685527169,"answer_id":76372285,"question_id":76332345,"body_markdown":"I have found the issue.\r\n\r\nMy project is using MyBatis for Database queries. Since the configuration is set via hibernate, so using SpringDataJPA or hibernate helped in switching the DB while triggering the query.\r\n","title":"Database/Schema is not being switched when API is called","body":"<p>I have found the issue.</p>\n<p>My project is using MyBatis for Database queries. Since the configuration is set via hibernate, so using SpringDataJPA or hibernate helped in switching the DB while triggering the query.</p>\n"}],"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76372285,"answer_count":1,"score":0,"last_activity_date":1685527169,"creation_date":1685018253,"question_id":76332345,"body_markdown":"I am trying to implement hibernate multitenancy in my SpringBootWebApplication.\r\n\r\n**PROBLEM - tenant is being set in filter but when query is called Datasource is not being switched.\r\nbad SQL grammar []; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;xyz&quot; does not exist.**\r\n\r\nHere are the details\r\n\r\n - spring-boot-starter-parent -- 2.5.12\r\n   \r\n \r\n - MyBatis for BE queries.\r\n\r\n\r\n - Hibernate for multi-tenancy.\r\n\r\n```\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n        basePackages = {&quot;com.xyz.*&quot;}\r\n    )\r\n    public class HibernateConfig {\r\n        @Autowired\r\n        private JpaProperties jpaProperties;\r\n    \r\n        public HibernateConfig() {\r\n        }\r\n    \r\n        @Bean\r\n        JpaVendorAdapter jpaVendorAdapter() {\r\n            return new HibernateJpaVendorAdapter();\r\n        }\r\n    \r\n        @Bean(name = {&quot;entityManagerFactory&quot;})\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource, MultiTenantConnectionProvider multiTenantConnectionProviderImpl, CurrentTenantIdentifierResolver currentTenantIdentifierResolverImpl){\r\n            Map&lt;String, Object&gt; jpaPropertiesMap = new HashMap(this.jpaProperties.getProperties());\r\n            jpaPropertiesMap.put(&quot;hibernate.multiTenancy&quot;, MultiTenancyStrategy.SCHEMA);\r\n            jpaPropertiesMap.put(&quot;hibernate.multi_tenant_connection_provider&quot;, multiTenantConnectionProviderImpl);\r\n            jpaPropertiesMap.put(&quot;hibernate.tenant_identifier_resolver&quot;, currentTenantIdentifierResolverImpl);\r\n            jpaPropertiesMap.put(&quot;hibernate.format_sql&quot;, true);\r\n            jpaPropertiesMap.put(&quot;hibernate.show_sql&quot;, true);\r\n            LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n            em.setDataSource(dataSource);\r\n            em.setJpaVendorAdapter(this.jpaVendorAdapter());\r\n            em.setJpaPropertyMap(jpaPropertiesMap);\r\n            em.setPackagesToScan(new String[]{&quot;com.xyz.*&quot;});\r\n            return em;\r\n        }\r\n    }\r\n```\r\n```\r\n    @Component\r\n    public class DataSourceBasedMultiTenantConnectionProviderImpl extends AbstractDataSourceBasedMultiTenantConnectionProviderImpl {\r\n        private static final long serialVersionUID = 1L;\r\n        private static final String DEFAULT_TENANT_ID = &quot;master&quot;;\r\n        @Autowired\r\n        private DataSource defaultDS;\r\n        @Autowired\r\n        private ApplicationContext context;\r\n        private Map&lt;String, DataSource&gt; map = new HashMap();\r\n        boolean init = false;\r\n    \r\n        public DataSourceBasedMultiTenantConnectionProviderImpl() {\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void load() {\r\n            this.map.put(&quot;master&quot;, this.defaultDS);\r\n        }\r\n    \r\n        protected DataSource selectAnyDataSource() {\r\n            return (DataSource)this.map.get(&quot;master&quot;);\r\n        }\r\n    \r\n        protected DataSource selectDataSource(String tenantIdentifier) {\r\n            if (!this.init) {\r\n                this.init = true;\r\n                TenantDataSource tenantDataSource = (TenantDataSource)this.context.getBean(TenantDataSource.class);\r\n                this.map.putAll(tenantDataSource.getAll());\r\n            }\r\n    \r\n            return this.map.get(tenantIdentifier) != null ? (DataSource)this.map.get(tenantIdentifier) : (DataSource)this.map.get(&quot;master&quot;);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThe above Datasource provider is not being called.\r\nThanks in advance for your Help!!!\r\n","title":"Database/Schema is not being switched when API is called","body":"<p>I am trying to implement hibernate multitenancy in my SpringBootWebApplication.</p>\n<p><strong>PROBLEM - tenant is being set in filter but when query is called Datasource is not being switched.\nbad SQL grammar []; nested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;xyz&quot; does not exist.</strong></p>\n<p>Here are the details</p>\n<ul>\n<li><p>spring-boot-starter-parent -- 2.5.12</p>\n</li>\n<li><p>MyBatis for BE queries.</p>\n</li>\n<li><p>Hibernate for multi-tenancy.</p>\n</li>\n</ul>\n<pre><code>    @Configuration\n    @EnableTransactionManagement\n    @EnableJpaRepositories(\n        basePackages = {&quot;com.xyz.*&quot;}\n    )\n    public class HibernateConfig {\n        @Autowired\n        private JpaProperties jpaProperties;\n    \n        public HibernateConfig() {\n        }\n    \n        @Bean\n        JpaVendorAdapter jpaVendorAdapter() {\n            return new HibernateJpaVendorAdapter();\n        }\n    \n        @Bean(name = {&quot;entityManagerFactory&quot;})\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource, MultiTenantConnectionProvider multiTenantConnectionProviderImpl, CurrentTenantIdentifierResolver currentTenantIdentifierResolverImpl){\n            Map&lt;String, Object&gt; jpaPropertiesMap = new HashMap(this.jpaProperties.getProperties());\n            jpaPropertiesMap.put(&quot;hibernate.multiTenancy&quot;, MultiTenancyStrategy.SCHEMA);\n            jpaPropertiesMap.put(&quot;hibernate.multi_tenant_connection_provider&quot;, multiTenantConnectionProviderImpl);\n            jpaPropertiesMap.put(&quot;hibernate.tenant_identifier_resolver&quot;, currentTenantIdentifierResolverImpl);\n            jpaPropertiesMap.put(&quot;hibernate.format_sql&quot;, true);\n            jpaPropertiesMap.put(&quot;hibernate.show_sql&quot;, true);\n            LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n            em.setDataSource(dataSource);\n            em.setJpaVendorAdapter(this.jpaVendorAdapter());\n            em.setJpaPropertyMap(jpaPropertiesMap);\n            em.setPackagesToScan(new String[]{&quot;com.xyz.*&quot;});\n            return em;\n        }\n    }\n</code></pre>\n<pre><code>    @Component\n    public class DataSourceBasedMultiTenantConnectionProviderImpl extends AbstractDataSourceBasedMultiTenantConnectionProviderImpl {\n        private static final long serialVersionUID = 1L;\n        private static final String DEFAULT_TENANT_ID = &quot;master&quot;;\n        @Autowired\n        private DataSource defaultDS;\n        @Autowired\n        private ApplicationContext context;\n        private Map&lt;String, DataSource&gt; map = new HashMap();\n        boolean init = false;\n    \n        public DataSourceBasedMultiTenantConnectionProviderImpl() {\n        }\n    \n        @PostConstruct\n        public void load() {\n            this.map.put(&quot;master&quot;, this.defaultDS);\n        }\n    \n        protected DataSource selectAnyDataSource() {\n            return (DataSource)this.map.get(&quot;master&quot;);\n        }\n    \n        protected DataSource selectDataSource(String tenantIdentifier) {\n            if (!this.init) {\n                this.init = true;\n                TenantDataSource tenantDataSource = (TenantDataSource)this.context.getBean(TenantDataSource.class);\n                this.map.putAll(tenantDataSource.getAll());\n            }\n    \n            return this.map.get(tenantIdentifier) != null ? (DataSource)this.map.get(tenantIdentifier) : (DataSource)this.map.get(&quot;master&quot;);\n        }\n    }\n</code></pre>\n<p>The above Datasource provider is not being called.\nThanks in advance for your Help!!!</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685527033,"creation_date":1685527033,"answer_id":76372260,"question_id":76371252,"body_markdown":"### Why did the records get nested\r\n\r\nThe root problem of any issues related to generics is located here:\r\n\r\n```java\r\nselect(BOOK_AUTHOR.book())\r\n```\r\n\r\nYou&#39;re nesting a `BookRecord` in your `SELECT` clause, effectively producing a subquery of type `Select&lt;Record1&lt;BookRecord&gt;&gt;`, when you expected this, instead: `Select&lt;BookRecord&gt;`. I.e. you probably expected a &quot;flat&quot; result, not a nested one. Perhaps, it makes more sense if you add more columns to the projection? E.g. if you did this:\r\n\r\n```java\r\nselect(BOOK_AUTHOR.BOOK_ID, BOOK_AUTHOR.book())\r\n```\r\n\r\nThen it would be more obvious that your resulting type is `Select&lt;Record2&lt;Long, BookRecord&gt;&gt;`.\r\n\r\n### How to avoid the nesting\r\n\r\nObviously, in your specific example, you want:\r\n\r\n- No such unnecesary nesting\r\n- Profit from the implicit join in `BOOK_AUTHOR.book()`\r\n\r\n**Starting from jOOQ 3.19**, `to-many` path expressions will be available, including explicit path expressions in the `FROM` clause:\r\n\r\n- [#13639][1] Add support for to-many path expressions\r\n- [#14985][2] Allow for specifying explicit path joins\r\n\r\nIt will then be possible to write something like this:\r\n\r\n```java\r\nmultiset(\r\n  selectFrom(AUTHOR.book()) // Implicit correlation here on many-to-many relationship\r\n)\r\n\r\n// Simple mapping available now:\r\n.convertFrom(r -&gt; r.map(mapping(Book::new)))\r\n```\r\n\r\nKey here is that `selectFrom()` produces a type-safe `TableRecord` (in this case `BookRecord`), but doesn&#39;t nest it.\r\n\r\n**In jOOQ 3.18 or less**, this is not yet available, so your 2 workarounds are probably the simplest approach, knowing that this situation arises because you are nesting records in `SELECT`.\r\n\r\nYou could obviously always avoid the nesting by spelling out the projection explicitly:\r\n\r\n```java\r\nmultiset(\r\n  select(BOOK_AUTHOR.book().ID, BOOK_AUTHOR.book().TITLE, ...)\r\n  ...\r\n)\r\n```\r\n\r\nIn case of which this problem would be avoided. While your desired approach would be convenient, it would also likely project too many columns. Do you really need all of them? The overhead (memory consumption, transfer, etc.) can be significant.\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/13639\r\n  [2]: https://github.com/jOOQ/jOOQ/issues/14985","title":"Fetch grouped POJOs using multiset in JOOQ","body":"<h3>Why did the records get nested</h3>\n<p>The root problem of any issues related to generics is located here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>select(BOOK_AUTHOR.book())\n</code></pre>\n<p>You're nesting a <code>BookRecord</code> in your <code>SELECT</code> clause, effectively producing a subquery of type <code>Select&lt;Record1&lt;BookRecord&gt;&gt;</code>, when you expected this, instead: <code>Select&lt;BookRecord&gt;</code>. I.e. you probably expected a &quot;flat&quot; result, not a nested one. Perhaps, it makes more sense if you add more columns to the projection? E.g. if you did this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>select(BOOK_AUTHOR.BOOK_ID, BOOK_AUTHOR.book())\n</code></pre>\n<p>Then it would be more obvious that your resulting type is <code>Select&lt;Record2&lt;Long, BookRecord&gt;&gt;</code>.</p>\n<h3>How to avoid the nesting</h3>\n<p>Obviously, in your specific example, you want:</p>\n<ul>\n<li>No such unnecesary nesting</li>\n<li>Profit from the implicit join in <code>BOOK_AUTHOR.book()</code></li>\n</ul>\n<p><strong>Starting from jOOQ 3.19</strong>, <code>to-many</code> path expressions will be available, including explicit path expressions in the <code>FROM</code> clause:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/13639\" rel=\"nofollow noreferrer\">#13639</a> Add support for to-many path expressions</li>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/14985\" rel=\"nofollow noreferrer\">#14985</a> Allow for specifying explicit path joins</li>\n</ul>\n<p>It will then be possible to write something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>multiset(\n  selectFrom(AUTHOR.book()) // Implicit correlation here on many-to-many relationship\n)\n\n// Simple mapping available now:\n.convertFrom(r -&gt; r.map(mapping(Book::new)))\n</code></pre>\n<p>Key here is that <code>selectFrom()</code> produces a type-safe <code>TableRecord</code> (in this case <code>BookRecord</code>), but doesn't nest it.</p>\n<p><strong>In jOOQ 3.18 or less</strong>, this is not yet available, so your 2 workarounds are probably the simplest approach, knowing that this situation arises because you are nesting records in <code>SELECT</code>.</p>\n<p>You could obviously always avoid the nesting by spelling out the projection explicitly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>multiset(\n  select(BOOK_AUTHOR.book().ID, BOOK_AUTHOR.book().TITLE, ...)\n  ...\n)\n</code></pre>\n<p>In case of which this problem would be avoided. While your desired approach would be convenient, it would also likely project too many columns. Do you really need all of them? The overhead (memory consumption, transfer, etc.) can be significant.</p>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76372260,"answer_count":1,"score":1,"last_activity_date":1685527033,"creation_date":1685519249,"question_id":76371252,"body_markdown":"Take the usual example of the book and author tables in a many-to-many (book_author) relationship. If I want to fetch a list of books for each author ID, specifically using `multiset`*, based on [this example ](https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/) I&#39;d expect it to look like this:\r\n\r\n    select(\r\n            AUTHOR.ID,\r\n            multiset(\r\n                select(BOOK_AUTHOR.book())\r\n                .from(BOOK_AUTHOR)                                        \r\n                .where(BOOK_AUTHOR.AUTHOR_ID.eq(AUTHOR.ID)))\r\n                .as(&quot;books&quot;).convertFrom(r -&gt; r.map(mapping(Book::new)))\r\n            .from(AUTHOR)\r\n            .fetchMap(...)\r\n\r\nBut the mapper receives `Record1&lt;BookRecord&gt;` and expects `BookRecord`. So I instead have to write nesting mapping:\r\n\r\n\r\n    dsl.select(\r\n            AUTHOR.ID,\r\n            multiset(\r\n                select(BOOK_AUTHOR.book())\r\n                .from(BOOK_AUTHOR)\r\n                .where(BOOK_AUTHOR.AUTHOR_ID.eq(AUTHOR.ID)))\r\n                .as(&quot;books&quot;)\r\n                //&#128071; seems wrong\r\n                .convertFrom(r -&gt; r.map(mapping((b) -&gt; mapping(Book::new).apply(b)))))\r\n            .from(AUTHOR)\r\n            .fetchMap(AUTHOR.ID, mapping((a, b) -&gt; b));\r\n\r\nIs this the most direct/obvious way to express this multiset query?\r\n\r\nEDIT:\r\n\r\nHere&#39;s my improved version after getting my [earlier question](https://stackoverflow.com/questions/76344811) answered (still not what the example promised, though):\r\n\r\n    dsl.select(\r\n        AUTHOR.ID,\r\n        multiset(\r\n                select(BOOK_AUTHOR.book().mapping(Book::new)) //&#128072;\r\n                .from(BOOK_AUTHOR)\r\n                .where(BOOK_AUTHOR.AUTHOR_ID.eq(AUTHOR.ID)))\r\n                .as(&quot;books&quot;).convertFrom(r -&gt; r.map(Record1::value1)))\r\n        .from(AUTHOR)\r\n        .fetchMap(AUTHOR.ID, Record2::value2);\r\n\r\n*I&#39;m aware I don&#39;t really need multiset here. This is a spin-off from my [previous question](https://stackoverflow.com/questions/76344811/fetch-pojos-grouped-by-an-external-field-in-jooq) on grouping POJOs, and I&#39;m just exploring the options.","title":"Fetch grouped POJOs using multiset in JOOQ","body":"<p>Take the usual example of the book and author tables in a many-to-many (book_author) relationship. If I want to fetch a list of books for each author ID, specifically using <code>multiset</code>*, based on <a href=\"https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/\" rel=\"nofollow noreferrer\">this example </a> I'd expect it to look like this:</p>\n<pre><code>select(\n        AUTHOR.ID,\n        multiset(\n            select(BOOK_AUTHOR.book())\n            .from(BOOK_AUTHOR)                                        \n            .where(BOOK_AUTHOR.AUTHOR_ID.eq(AUTHOR.ID)))\n            .as(&quot;books&quot;).convertFrom(r -&gt; r.map(mapping(Book::new)))\n        .from(AUTHOR)\n        .fetchMap(...)\n</code></pre>\n<p>But the mapper receives <code>Record1&lt;BookRecord&gt;</code> and expects <code>BookRecord</code>. So I instead have to write nesting mapping:</p>\n<pre><code>dsl.select(\n        AUTHOR.ID,\n        multiset(\n            select(BOOK_AUTHOR.book())\n            .from(BOOK_AUTHOR)\n            .where(BOOK_AUTHOR.AUTHOR_ID.eq(AUTHOR.ID)))\n            .as(&quot;books&quot;)\n            //👇 seems wrong\n            .convertFrom(r -&gt; r.map(mapping((b) -&gt; mapping(Book::new).apply(b)))))\n        .from(AUTHOR)\n        .fetchMap(AUTHOR.ID, mapping((a, b) -&gt; b));\n</code></pre>\n<p>Is this the most direct/obvious way to express this multiset query?</p>\n<p>EDIT:</p>\n<p>Here's my improved version after getting my <a href=\"https://stackoverflow.com/questions/76344811\">earlier question</a> answered (still not what the example promised, though):</p>\n<pre><code>dsl.select(\n    AUTHOR.ID,\n    multiset(\n            select(BOOK_AUTHOR.book().mapping(Book::new)) //👈\n            .from(BOOK_AUTHOR)\n            .where(BOOK_AUTHOR.AUTHOR_ID.eq(AUTHOR.ID)))\n            .as(&quot;books&quot;).convertFrom(r -&gt; r.map(Record1::value1)))\n    .from(AUTHOR)\n    .fetchMap(AUTHOR.ID, Record2::value2);\n</code></pre>\n<p>*I'm aware I don't really need multiset here. This is a spin-off from my <a href=\"https://stackoverflow.com/questions/76344811/fetch-pojos-grouped-by-an-external-field-in-jooq\">previous question</a> on grouping POJOs, and I'm just exploring the options.</p>\n"},{"tags":["java","aws-lambda","amazon-iam","aws-cdk","aws-codeartifact"],"comments":[{"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"score":0,"creation_date":1680011805,"post_id":75839726,"comment_id":133821448,"body_markdown":"If you want to check if the problem is related with the CDK construction process use the --debug flag","body":"If you want to check if the problem is related with the CDK construction process use the --debug flag"}],"answers":[{"tags":[],"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685527025,"creation_date":1680011691,"answer_id":75867217,"question_id":75839726,"body_markdown":"I think that this error is not comming from the bundling image but from the machine where you run the CDK command, looks like the typical CDK --&gt; AWS SDK --&gt; .aws/.credentials dependency... ","title":"How to access CodeArtifact cross-account when CDK is bundling Java lambda function?","body":"<p>I think that this error is not comming from the bundling image but from the machine where you run the CDK command, looks like the typical CDK --&gt; AWS SDK --&gt; .aws/.credentials dependency...</p>\n"}],"owner":{"account_id":5735759,"reputation":619,"user_id":4529997,"accept_rate":70,"display_name":"Alexiz Hernandez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685527025,"creation_date":1679720417,"question_id":75839726,"body_markdown":"I currently have 2 AWS accounts and Account A holds a CodeArtifact repository that contains a `commons` package that has shared code between my functions. Account B has my functions. I am using the CDK to set everything up and in Account A&#39;s CDK project, I setup the CodeArtifact domain and repository like this\r\n```\r\nexport class CodeArtifactStack extends Stack {\r\n  constructor(scope: Construct, id: string, props: CodeArtifactStackProps) {\r\n    super(scope, id, props);\r\n\r\n    const domain = new CfnDomain(this, &quot;MyDomain&quot;, {\r\n      domainName: &quot;domain&quot;,\r\n    });\r\n\r\n    const repo = new CfnRepository(this, &quot;CentralRepo&quot;, {\r\n      repositoryName: &quot;central-repository&quot;,\r\n      domainName: domain.domainName,\r\n      externalConnections: [&quot;public:maven-central&quot;],\r\n    });\r\n\r\n    const codeArtifactAccessRole = new Role(this, &quot;CodeArtifactAccessRole&quot;, {\r\n      assumedBy: new ServicePrincipal(&quot;codebuild.amazonaws.com&quot;),\r\n    });\r\n\r\n    const repoPolicy = new PolicyStatement({\r\n      actions: [\r\n        &quot;codeartifact:GetAuthorizationToken&quot;,\r\n        &quot;codeartifact:GetRepositoryEndpoint&quot;,\r\n      ],\r\n      resources: [\r\n      `arn:aws:codeartifact:***:***:repository/domain/central-repository`,\r\n      ],\r\n    });\r\n    codeArtifactAccessRole.addToPolicy(repoPolicy);\r\n\r\n    repo.addDependency(domain);\r\n\r\n    new CfnOutput(this, &quot;CodeArtifactAccessRoleArn&quot;, {\r\n      value: codeArtifactAccessRole.roleArn,\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nAnd my function in Account B looks like this\r\n```\r\nconst customEmailSenderFunction = new Function(\r\n  this,\r\n  customEmailSenderFunctionName,\r\n  {\r\n    runtime: Runtime.JAVA_11,\r\n    timeout: Duration.minutes(3),\r\n    memorySize: 1024,\r\n    handler: &quot;com.example.entrypoint.CustomEmailSenderHandlerEntrypoint::handleRequest&quot;,\r\n    code: Code.fromAsset(\r\n      path.join(\r\n        __dirname,\r\n        &quot;..&quot;,\r\n        &quot;..&quot;,\r\n        &quot;functions/custom-email-sender&quot;\r\n      ),\r\n      {\r\n        bundling: {\r\n          entrypoint: [&quot;/bin/sh&quot;, &quot;-c&quot;],\r\n          command: [\r\n            &quot;export CODEARTIFACT_AUTH_TOKEN=`aws codeartifact get-authorization-token --domain domain --domain-owner *** --region *** --query authorizationToken --output text` &quot; +\r\n              &quot;&amp;&amp; mvn -s .mvn/settings.xml clean install &quot; +\r\n              &quot;&amp;&amp; cp target/custom-email-sender-1.0.jar /asset-output/&quot;,\r\n          ],\r\n          image: Runtime.JAVA_11.bundlingImage,\r\n          user: &quot;root&quot;,\r\n          outputType: BundlingOutput.ARCHIVED,\r\n          volumes: [\r\n            {\r\n              hostPath: os.homedir() + &quot;/.m2/&quot;,\r\n              containerPath: &quot;/root/.m2/&quot;,\r\n            },\r\n          ],\r\n          environment: {},\r\n        },\r\n      }\r\n    ),\r\n    environment: {\r\n        QUEUE_URL: emailQueue.queueUrl,\r\n    },\r\n    logRetention: RetentionDays.THREE_MONTHS,\r\n  }\r\n);\r\n```\r\n\r\nIf I try to run `npx cdk synth -- -v -o dist`, I get an error that says `Unable to locate credentials. You can configure credentials by running &quot;aws configure&quot;`. I am assuming this is coming from the bundling image, but I don&#39;t know how to actually give it access to the role inside the bundling process. If I run `export CODEARTIFACT_AUTH_TOKEN=`aws codeartifact get-authorization-token...` locally with the accounts profile, I can run `mvn clean compile` just fine, but at this point I&#39;m not sure how to configure the role in the bundling image.\r\n\r\nAnyone have any ideas on how to accomplish this or maybe a different route I can take?","title":"How to access CodeArtifact cross-account when CDK is bundling Java lambda function?","body":"<p>I currently have 2 AWS accounts and Account A holds a CodeArtifact repository that contains a <code>commons</code> package that has shared code between my functions. Account B has my functions. I am using the CDK to set everything up and in Account A's CDK project, I setup the CodeArtifact domain and repository like this</p>\n<pre><code>export class CodeArtifactStack extends Stack {\n  constructor(scope: Construct, id: string, props: CodeArtifactStackProps) {\n    super(scope, id, props);\n\n    const domain = new CfnDomain(this, &quot;MyDomain&quot;, {\n      domainName: &quot;domain&quot;,\n    });\n\n    const repo = new CfnRepository(this, &quot;CentralRepo&quot;, {\n      repositoryName: &quot;central-repository&quot;,\n      domainName: domain.domainName,\n      externalConnections: [&quot;public:maven-central&quot;],\n    });\n\n    const codeArtifactAccessRole = new Role(this, &quot;CodeArtifactAccessRole&quot;, {\n      assumedBy: new ServicePrincipal(&quot;codebuild.amazonaws.com&quot;),\n    });\n\n    const repoPolicy = new PolicyStatement({\n      actions: [\n        &quot;codeartifact:GetAuthorizationToken&quot;,\n        &quot;codeartifact:GetRepositoryEndpoint&quot;,\n      ],\n      resources: [\n      `arn:aws:codeartifact:***:***:repository/domain/central-repository`,\n      ],\n    });\n    codeArtifactAccessRole.addToPolicy(repoPolicy);\n\n    repo.addDependency(domain);\n\n    new CfnOutput(this, &quot;CodeArtifactAccessRoleArn&quot;, {\n      value: codeArtifactAccessRole.roleArn,\n    });\n  }\n}\n</code></pre>\n<p>And my function in Account B looks like this</p>\n<pre><code>const customEmailSenderFunction = new Function(\n  this,\n  customEmailSenderFunctionName,\n  {\n    runtime: Runtime.JAVA_11,\n    timeout: Duration.minutes(3),\n    memorySize: 1024,\n    handler: &quot;com.example.entrypoint.CustomEmailSenderHandlerEntrypoint::handleRequest&quot;,\n    code: Code.fromAsset(\n      path.join(\n        __dirname,\n        &quot;..&quot;,\n        &quot;..&quot;,\n        &quot;functions/custom-email-sender&quot;\n      ),\n      {\n        bundling: {\n          entrypoint: [&quot;/bin/sh&quot;, &quot;-c&quot;],\n          command: [\n            &quot;export CODEARTIFACT_AUTH_TOKEN=`aws codeartifact get-authorization-token --domain domain --domain-owner *** --region *** --query authorizationToken --output text` &quot; +\n              &quot;&amp;&amp; mvn -s .mvn/settings.xml clean install &quot; +\n              &quot;&amp;&amp; cp target/custom-email-sender-1.0.jar /asset-output/&quot;,\n          ],\n          image: Runtime.JAVA_11.bundlingImage,\n          user: &quot;root&quot;,\n          outputType: BundlingOutput.ARCHIVED,\n          volumes: [\n            {\n              hostPath: os.homedir() + &quot;/.m2/&quot;,\n              containerPath: &quot;/root/.m2/&quot;,\n            },\n          ],\n          environment: {},\n        },\n      }\n    ),\n    environment: {\n        QUEUE_URL: emailQueue.queueUrl,\n    },\n    logRetention: RetentionDays.THREE_MONTHS,\n  }\n);\n</code></pre>\n<p>If I try to run <code>npx cdk synth -- -v -o dist</code>, I get an error that says <code>Unable to locate credentials. You can configure credentials by running &quot;aws configure&quot;</code>. I am assuming this is coming from the bundling image, but I don't know how to actually give it access to the role inside the bundling process. If I run <code>export CODEARTIFACT_AUTH_TOKEN=</code>aws codeartifact get-authorization-token...<code>locally with the accounts profile, I can run</code>mvn clean compile` just fine, but at this point I'm not sure how to configure the role in the bundling image.</p>\n<p>Anyone have any ideas on how to accomplish this or maybe a different route I can take?</p>\n"},{"tags":["javascript","java","spring-boot","jsp"],"answers":[{"tags":[],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685526994,"creation_date":1644427478,"answer_id":71054044,"question_id":71047391,"body_markdown":"This javaScript code was effective. \r\n\r\n```\r\n\r\n\r\n&lt;script&gt;\r\n        $(function () {\r\n            $(&#39;.selectDatabase&#39;).change(function(){\r\n       //         console.log( $(this).val() );\r\n                const driverName=$(&#39;.driverName&#39;);\r\n                const  connectionURL  = $(&#39;.connectionURL&#39;);\r\n\r\n                if($(this).val()===&#39;MySQL&#39;){\r\n                    driverName.val(&#39;com.microsoft.sqlserver.jdbc.SQLServerDriver&#39;);\r\n                    connectionURL.val(&#39;jdbc:sqlserver://localhost:1433;databaseName=database&#39;);\r\n                    driverName.attr(&#39;readonly&#39;,true);\r\n                    connectionURL.attr(&#39;readonly&#39;,true);\r\n\r\n                }else if($(this).val()===&#39;Other&#39;){\r\n                    driverName.val(&#39;&#39;);\r\n                    connectionURL.val(&#39;&#39;);\r\n                    driverName.attr(&#39;readonly&#39;,false);\r\n                    connectionURL.attr(&#39;readonly&#39;,false);\r\n\r\n                }else{\r\n                    driverName.val(&#39;&#39;);\r\n                    connectionURL.val(&#39;&#39;);\r\n                    driverName.attr(&#39;readonly&#39;,true);\r\n                    connectionURL.attr(&#39;readonly&#39;,true);\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n\r\n\r\n    &lt;/script&gt;\r\n\r\n```\r\n```\r\n\r\n\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;form:label path=&quot;databaseServer&quot;&gt;Database Server:&lt;/form:label&gt;\r\n    &lt;form:select path=&quot;databaseServer&quot; class=&quot;form-control selectDatabase&quot;&gt;\r\n        &lt;form:option value=&quot;None&quot; label=&quot;Please Select a Database Server&quot;/&gt;\r\n        &lt;form:options items=&quot;${command.databaseServerMap}&quot; /&gt;\r\n    &lt;/form:select&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;form:label path=&quot;driverName&quot;&gt;Driver Name:&lt;/form:label&gt;\r\n    &lt;form:input path=&quot;driverName&quot; class=&quot;form-control driverName&quot;  readonly=&quot;true&quot;/&gt;\r\n&lt;/div&gt;\r\n","title":"Dynamically filling two fields depending on a dropdown value","body":"<p>This javaScript code was effective.</p>\n<pre><code>\n\n&lt;script&gt;\n        $(function () {\n            $('.selectDatabase').change(function(){\n       //         console.log( $(this).val() );\n                const driverName=$('.driverName');\n                const  connectionURL  = $('.connectionURL');\n\n                if($(this).val()==='MySQL'){\n                    driverName.val('com.microsoft.sqlserver.jdbc.SQLServerDriver');\n                    connectionURL.val('jdbc:sqlserver://localhost:1433;databaseName=database');\n                    driverName.attr('readonly',true);\n                    connectionURL.attr('readonly',true);\n\n                }else if($(this).val()==='Other'){\n                    driverName.val('');\n                    connectionURL.val('');\n                    driverName.attr('readonly',false);\n                    connectionURL.attr('readonly',false);\n\n                }else{\n                    driverName.val('');\n                    connectionURL.val('');\n                    driverName.attr('readonly',true);\n                    connectionURL.attr('readonly',true);\n                }\n\n            });\n\n        });\n\n\n    &lt;/script&gt;\n\n</code></pre>\n<pre><code>\n\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;form:label path=&quot;databaseServer&quot;&gt;Database Server:&lt;/form:label&gt;\n    &lt;form:select path=&quot;databaseServer&quot; class=&quot;form-control selectDatabase&quot;&gt;\n        &lt;form:option value=&quot;None&quot; label=&quot;Please Select a Database Server&quot;/&gt;\n        &lt;form:options items=&quot;${command.databaseServerMap}&quot; /&gt;\n    &lt;/form:select&gt;\n\n&lt;/div&gt;\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;form:label path=&quot;driverName&quot;&gt;Driver Name:&lt;/form:label&gt;\n    &lt;form:input path=&quot;driverName&quot; class=&quot;form-control driverName&quot;  readonly=&quot;true&quot;/&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71054044,"answer_count":1,"score":0,"last_activity_date":1685526994,"creation_date":1644400491,"question_id":71047391,"body_markdown":"I have a database server name recommendation list coming from the backend, where &quot;driverName&quot; and &quot;connectionURL&quot; for that driver should auto-populate once the user picks a server.\r\nI know it&#39;s possible to accomplish it with javascript, but I&#39;m new to the language.\r\nCould someone please assist me? \r\n\r\n```\r\n\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;form:label path=&quot;databaseServer&quot;&gt;Database Server:&lt;/form:label&gt;\r\n                            &lt;form:select path=&quot;databaseServer&quot; class=&quot;form-control&quot;&gt;\r\n                                &lt;form:option value=&quot;None&quot; label=&quot;Please Select a Database Server&quot;/&gt;\r\n                                &lt;form:options items=&quot;${command.databaseServerMap}&quot; /&gt;\r\n                            &lt;/form:select&gt;\r\n\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;form:label path=&quot;driverName&quot;&gt;Driver Name:&lt;/form:label&gt;\r\n                            &lt;form:input path=&quot;driverName&quot; class=&quot;form-control&quot;  readonly=&quot;true&quot;/&gt;\r\n\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;form:label path=&quot;connectionURL&quot;&gt;connection URL:&lt;/form:label&gt;\r\n                            &lt;form:input path=&quot;connectionURL&quot; class=&quot;form-control&quot; readonly=&quot;true&quot;/&gt;\r\n                        &lt;/div&gt;\r\n\r\n```\r\nThese are the maps I&#39;m working with on the backend. \r\n```\r\n\r\n  public Map&lt;String, String&gt; getDatabaseServerMap() {\r\n        Map&lt;String, String&gt; driverList = new LinkedHashMap&lt;&gt;();\r\n        driverList.put(&quot;MySQL&quot;, &quot;MySQL&quot;);\r\n        driverList.put(&quot;Postgres&quot;, &quot;Postgres&quot;);\r\n        return driverList;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HKUWd.png","title":"Dynamically filling two fields depending on a dropdown value","body":"<p>I have a database server name recommendation list coming from the backend, where &quot;driverName&quot; and &quot;connectionURL&quot; for that driver should auto-populate once the user picks a server.\nI know it's possible to accomplish it with javascript, but I'm new to the language.\nCould someone please assist me?</p>\n<pre><code>\n                        &lt;div class=&quot;form-group&quot;&gt;\n                            &lt;form:label path=&quot;databaseServer&quot;&gt;Database Server:&lt;/form:label&gt;\n                            &lt;form:select path=&quot;databaseServer&quot; class=&quot;form-control&quot;&gt;\n                                &lt;form:option value=&quot;None&quot; label=&quot;Please Select a Database Server&quot;/&gt;\n                                &lt;form:options items=&quot;${command.databaseServerMap}&quot; /&gt;\n                            &lt;/form:select&gt;\n\n                        &lt;/div&gt;\n                        &lt;div class=&quot;form-group&quot;&gt;\n                            &lt;form:label path=&quot;driverName&quot;&gt;Driver Name:&lt;/form:label&gt;\n                            &lt;form:input path=&quot;driverName&quot; class=&quot;form-control&quot;  readonly=&quot;true&quot;/&gt;\n\n                        &lt;/div&gt;\n                        &lt;div class=&quot;form-group&quot;&gt;\n                            &lt;form:label path=&quot;connectionURL&quot;&gt;connection URL:&lt;/form:label&gt;\n                            &lt;form:input path=&quot;connectionURL&quot; class=&quot;form-control&quot; readonly=&quot;true&quot;/&gt;\n                        &lt;/div&gt;\n\n</code></pre>\n<p>These are the maps I'm working with on the backend.</p>\n<pre><code>\n  public Map&lt;String, String&gt; getDatabaseServerMap() {\n        Map&lt;String, String&gt; driverList = new LinkedHashMap&lt;&gt;();\n        driverList.put(&quot;MySQL&quot;, &quot;MySQL&quot;);\n        driverList.put(&quot;Postgres&quot;, &quot;Postgres&quot;);\n        return driverList;\n    }\n\n\n  [1]: https://i.stack.imgur.com/HKUWd.png\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","smtp","amazon-ses"],"answers":[{"tags":[],"owner":{"account_id":8104889,"reputation":19431,"user_id":6106791,"display_name":"baduker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685526926,"creation_date":1685526926,"answer_id":76372248,"question_id":76371820,"body_markdown":"I&#39;d double check those metrics, as this might mean your SES Email Acount is unhealthy because your *bounce* and *complaints* rates are too high, which might effectively block you from sending any emails.\r\n\r\nFrom the docs:\r\n\r\n&gt; Amazon SES actively tracks several metrics that may cause your reputation as a sender to be damaged, or that could cause your email delivery rates to decline. Two important metrics that we consider in this process are the bounce and complaint rates for your account.\r\n\r\n**Bounce** – A hard bounce that the recipient&#39;s mail server permanently rejected the email. (Soft bounces are only included when Amazon SES fails to deliver the email after retrying for a period of time.)\r\n\r\n**Complaint** – The email was successfully delivered to the recipient’s mail server, but the recipient marked it as spam.\r\n\r\nAlso, make sure your emails are not being send to an [email spam trap](https://en.wikipedia.org/wiki/Spamtrap).\r\n\r\nTo learn more about monitoring your Amazon SES sender reputation, read [this](https://docs.aws.amazon.com/ses/latest/dg/manage-sending-quotas.html).","title":"AWS SES Warning: Mail health check failed","body":"<p>I'd double check those metrics, as this might mean your SES Email Acount is unhealthy because your <em>bounce</em> and <em>complaints</em> rates are too high, which might effectively block you from sending any emails.</p>\n<p>From the docs:</p>\n<blockquote>\n<p>Amazon SES actively tracks several metrics that may cause your reputation as a sender to be damaged, or that could cause your email delivery rates to decline. Two important metrics that we consider in this process are the bounce and complaint rates for your account.</p>\n</blockquote>\n<p><strong>Bounce</strong> – A hard bounce that the recipient's mail server permanently rejected the email. (Soft bounces are only included when Amazon SES fails to deliver the email after retrying for a period of time.)</p>\n<p><strong>Complaint</strong> – The email was successfully delivered to the recipient’s mail server, but the recipient marked it as spam.</p>\n<p>Also, make sure your emails are not being send to an <a href=\"https://en.wikipedia.org/wiki/Spamtrap\" rel=\"nofollow noreferrer\">email spam trap</a>.</p>\n<p>To learn more about monitoring your Amazon SES sender reputation, read <a href=\"https://docs.aws.amazon.com/ses/latest/dg/manage-sending-quotas.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76372248,"answer_count":1,"score":1,"last_activity_date":1685526926,"creation_date":1685523856,"question_id":76371820,"body_markdown":"We are developing a Java Spring Boot application on AWS and using SES as SMTP server.\r\n\r\nWhen the application starts up (it&#39;s a Docker container running into an ECS Task) We receive the following warning in CloudWatch.\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-05-30T15:57:28.7Z&quot;,\r\n        &quot;logger&quot;: &quot;org.springframework.boot.actuate.mail.MailHealthIndicator&quot;,\r\n        &quot;level&quot;: &quot;WARN&quot;,\r\n        &quot;thread&quot;: &quot;http-nio-8080-exec-4&quot;,\r\n        &quot;stackTrace&quot;: &quot;javax.mail.MessagingException: 501 Syntax: HELO &lt;hostname&gt;\\n\\n\\tat com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:2324)\\n\\tat com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:1678)\\n\\tat .. truncated ...,\r\n        &quot;message&quot;: &quot;Mail health check failed&quot;,\r\n        &quot;exceptionClass&quot;: &quot;MessagingException&quot;\r\n    }\r\n\r\nI&#39;ve searched online but can&#39;t find the root cause of this issue.\r\n\r\nHave you got any suggestion?\r\n\r\nThanks.","title":"AWS SES Warning: Mail health check failed","body":"<p>We are developing a Java Spring Boot application on AWS and using SES as SMTP server.</p>\n<p>When the application starts up (it's a Docker container running into an ECS Task) We receive the following warning in CloudWatch.</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-05-30T15:57:28.7Z&quot;,\n    &quot;logger&quot;: &quot;org.springframework.boot.actuate.mail.MailHealthIndicator&quot;,\n    &quot;level&quot;: &quot;WARN&quot;,\n    &quot;thread&quot;: &quot;http-nio-8080-exec-4&quot;,\n    &quot;stackTrace&quot;: &quot;javax.mail.MessagingException: 501 Syntax: HELO &lt;hostname&gt;\\n\\n\\tat com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:2324)\\n\\tat com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:1678)\\n\\tat .. truncated ...,\n    &quot;message&quot;: &quot;Mail health check failed&quot;,\n    &quot;exceptionClass&quot;: &quot;MessagingException&quot;\n}\n</code></pre>\n<p>I've searched online but can't find the root cause of this issue.</p>\n<p>Have you got any suggestion?</p>\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1512058815,"post_id":47577386,"comment_id":82112960,"body_markdown":"Set testng dependency to scope `test` instead of `compile`","body":"Set testng dependency to scope <code>test</code> instead of <code>compile</code>"},{"owner":{"account_id":11259466,"reputation":1430,"user_id":8258222,"display_name":"helospark"},"score":0,"creation_date":1512071763,"post_id":47577386,"comment_id":82120598,"body_markdown":"Have you tried running Maven from the command line, or only from Eclipse?","body":"Have you tried running Maven from the command line, or only from Eclipse?"}],"answers":[{"tags":[],"owner":{"account_id":9172758,"reputation":995,"user_id":6819602,"accept_rate":55,"display_name":"Arvind Katte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512057947,"creation_date":1512057947,"answer_id":47577682,"question_id":47577386,"body_markdown":"I think you have to convert non-maven project to maven project\r\n\r\n    right click on project-&gt;Configure-&gt;Convert it to Maven","title":"maven is not compiling test/java classes into target folder","body":"<p>I think you have to convert non-maven project to maven project</p>\n\n<pre><code>right click on project-&gt;Configure-&gt;Convert it to Maven\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4872208,"reputation":1786,"user_id":3928295,"accept_rate":80,"display_name":"Manmohan_singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512098131,"creation_date":1512098131,"answer_id":47586121,"question_id":47577386,"body_markdown":"You need to add **maven surefire plugin** to run testNG classes. It&#39;s a miracle if you were able to run the tests earlier without this plugin. You have to add below plugin in the build phase to get going. \r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.20.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;includes&gt;\r\n            &lt;include&gt;Sample.java&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nIf you don&#39;t want to include the tests manually then by default, the Surefire Plugin will automatically include all test classes with the following wildcard patterns:\r\n\r\n    &quot;**/Test*.java&quot;\r\n    \r\n    &quot;**/*Test.java&quot;\r\n    \r\n    &quot;**/*Tests.java&quot;\r\n    \r\n    &quot;**/*TestCase.java&quot;\r\n\r\n","title":"maven is not compiling test/java classes into target folder","body":"<p>You need to add <strong>maven surefire plugin</strong> to run testNG classes. It's a miracle if you were able to run the tests earlier without this plugin. You have to add below plugin in the build phase to get going. </p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.20.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;includes&gt;\n        &lt;include&gt;Sample.java&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>If you don't want to include the tests manually then by default, the Surefire Plugin will automatically include all test classes with the following wildcard patterns:</p>\n\n<pre><code>\"**/Test*.java\"\n\n\"**/*Test.java\"\n\n\"**/*Tests.java\"\n\n\"**/*TestCase.java\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9505388,"reputation":328,"user_id":7065093,"accept_rate":40,"display_name":"Allen H."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523041904,"creation_date":1523041904,"answer_id":49699598,"question_id":47577386,"body_markdown":"Not sure how widely this applies, but I had success with this:\r\n\r\nRight click &gt; Java build path &gt; Source\r\nMake sure Include:(All) and Exclude:(None) is checked for all 4 folders\r\n\r\nsrc/main/java\r\n\r\nsrc/main/resources\r\n\r\nsrc/test/java\r\n\r\nsrc/test/resources","title":"maven is not compiling test/java classes into target folder","body":"<p>Not sure how widely this applies, but I had success with this:</p>\n\n<p>Right click > Java build path > Source\nMake sure Include:(All) and Exclude:(None) is checked for all 4 folders</p>\n\n<p>src/main/java</p>\n\n<p>src/main/resources</p>\n\n<p>src/test/java</p>\n\n<p>src/test/resources</p>\n"},{"tags":[],"owner":{"account_id":6683669,"reputation":4482,"user_id":5155835,"accept_rate":48,"display_name":"user5155835"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551539595,"creation_date":1551539595,"answer_id":54959950,"question_id":47577386,"body_markdown":"The issue for me was that the &quot;Skip Tests&quot; checkbox was checked.\r\n\r\nRClick project -&gt; Run As -&gt; Run Configurations -&gt; Maven Build (select your build configuration) -&gt; Uncheck Skip Tests checkbox \r\n\r\nThis checkbox prevents Maven from compiling tests\r\n\r\nIf you want to compile the tests, but don&#39;t want to execute them during build process, add -DskipTests in Goals","title":"maven is not compiling test/java classes into target folder","body":"<p>The issue for me was that the \"Skip Tests\" checkbox was checked.</p>\n\n<p>RClick project -> Run As -> Run Configurations -> Maven Build (select your build configuration) -> Uncheck Skip Tests checkbox </p>\n\n<p>This checkbox prevents Maven from compiling tests</p>\n\n<p>If you want to compile the tests, but don't want to execute them during build process, add -DskipTests in Goals</p>\n"},{"tags":[],"owner":{"account_id":28717971,"reputation":1,"user_id":21992221,"display_name":"Fenrir0077"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685526886,"creation_date":1685526886,"answer_id":76372239,"question_id":47577386,"body_markdown":"Can you please try using the following maven command. The following maven command will compile the classes inside src/test folder.\r\n\r\n`mvn test-compile`","title":"maven is not compiling test/java classes into target folder","body":"<p>Can you please try using the following maven command. The following maven command will compile the classes inside src/test folder.</p>\n<p><code>mvn test-compile</code></p>\n"}],"owner":{"account_id":12381316,"reputation":45,"user_id":9026807,"accept_rate":50,"display_name":"Yashica"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11087,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1685526886,"creation_date":1512057044,"question_id":47577386,"body_markdown":"I tried cleaning my project through maven-&gt;clean and project-&gt;clean but it didnot work. I tried changing my output folders explicitly under build path but not sure what to select for src/test/java \n\nI also updated my testng plugin in pom.xml\n\n### pom.xml\n\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n                          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; &gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;groupId&gt;abc&lt;/groupId&gt;\n      &lt;artifactId&gt;xyz&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;packaging&gt;jar&lt;/packaging&gt;\n      &lt;description&gt;Test&lt;/description&gt;\n      &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;version&gt;6.11&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n        \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;version&gt;21.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            \n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n             &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n             &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n             &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-ie-driver --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-ie-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;version&gt;1.4.01&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;5.1.37&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;/dependency&gt;\n                &lt;!-- https://mvnrepository.com/artifact/com.relevantcodes/extentreports --&gt;\n            &lt;dependency&gt;\n                 &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n                 &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n                &lt;version&gt;2.41.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n        \n        &lt;/dependencies&gt;\n        &lt;properties&gt;\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;/properties&gt;\n     \n      &lt;build&gt;\n    \n       &lt;resources&gt;\n         &lt;resource&gt;\n           &lt;directory&gt;src/test/resources&lt;/directory&gt;\n           &lt;filtering&gt;false&lt;/filtering&gt;\n           &lt;includes&gt;\n              &lt;include&gt;**/*.properties&lt;/include&gt;\n              \n            &lt;/includes&gt;\n         &lt;/resource&gt;\n       &lt;/resources&gt;\n    \n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n    \n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                 \n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    \n      &lt;/build&gt;\n    &lt;/project&gt;\n\nOutput folders for src/test/java and src/test/resources is /target/classes\n\nand I am getting TestNG class not found in classpath error :\n\n    org.testng.TestNGException: \n    Cannot find class in classpath: testclass file\n\nEarlier this code was working fine. I just tried refractoring the project by changing artifact id of maven project and from then not able to proceed.","title":"maven is not compiling test/java classes into target folder","body":"<p>I tried cleaning my project through maven-&gt;clean and project-&gt;clean but it didnot work. I tried changing my output folders explicitly under build path but not sure what to select for src/test/java</p>\n<p>I also updated my testng plugin in pom.xml</p>\n<h3>pom.xml</h3>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n                      http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; &gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;abc&lt;/groupId&gt;\n  &lt;artifactId&gt;xyz&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;description&gt;Test&lt;/description&gt;\n  &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.11&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n         &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n         &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n         &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-ie-driver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-ie-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.16&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.16&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;version&gt;1.4.01&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.37&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/com.relevantcodes/extentreports --&gt;\n        &lt;dependency&gt;\n             &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n             &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;2.41.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n    \n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n \n  &lt;build&gt;\n\n   &lt;resources&gt;\n     &lt;resource&gt;\n       &lt;directory&gt;src/test/resources&lt;/directory&gt;\n       &lt;filtering&gt;false&lt;/filtering&gt;\n       &lt;includes&gt;\n          &lt;include&gt;**/*.properties&lt;/include&gt;\n          \n        &lt;/includes&gt;\n     &lt;/resource&gt;\n   &lt;/resources&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n             \n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Output folders for src/test/java and src/test/resources is /target/classes</p>\n<p>and I am getting TestNG class not found in classpath error :</p>\n<pre><code>org.testng.TestNGException: \nCannot find class in classpath: testclass file\n</code></pre>\n<p>Earlier this code was working fine. I just tried refractoring the project by changing artifact id of maven project and from then not able to proceed.</p>\n"},{"tags":["java","maven","jaxb"],"answers":[{"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460404215,"creation_date":1460404215,"answer_id":36557960,"question_id":36557308,"body_markdown":"You seem to be running it inside the IDE. For some strange reasons, although the JAXB classes are included in JRE&#39;s rt.jar,\r\n\r\n    ➜  lib jar tvf rt.jar| grep AnnotationReader\r\n      4199 Fri Jan 29 15:35:18 PST 2016 com/sun/xml/internal/bind/v2/model/annotation/AbstractInlineAnnotationReaderImpl.class\r\n      3140 Fri Jan 29 15:35:14 PST 2016 com/sun/xml/internal/bind/v2/model/annotation/AnnotationReader.class\r\n       442 Fri Jan 29 15:35:14 PST 2016 com/sun/xml/internal/bind/v2/model/annotation/RuntimeAnnotationReader.class\r\n      9846 Fri Jan 29 15:35:22 PST 2016 com/sun/xml/internal/bind/v2/model/annotation/RuntimeInlineAnnotationReader.class\r\n      1217 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader$1.class\r\n      1332 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader$2.class\r\n      1278 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader$3.class\r\n      1166 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader$4.class\r\n      3563 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader.class\r\n\r\n they are not available for your app at runtime. \r\n\r\nHowever, if I run the app this way:\r\n\r\n    ➜  target java -cp ./classes com.misc.common.ReadXMLFileJaxb\r\n    Book [firstName=null, lastName=Blo, age=33]\r\n\r\ni.e. from the command line using the standard Maven structure, it does seem to run.\r\n\r\nYour book.xml is somewhat wrong, I believe. It contains an embedded `person` element whereas the Book.java does not. You may want to fix that.","title":"Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader","body":"<p>You seem to be running it inside the IDE. For some strange reasons, although the JAXB classes are included in JRE's rt.jar,</p>\n\n<pre><code>➜  lib jar tvf rt.jar| grep AnnotationReader\n  4199 Fri Jan 29 15:35:18 PST 2016 com/sun/xml/internal/bind/v2/model/annotation/AbstractInlineAnnotationReaderImpl.class\n  3140 Fri Jan 29 15:35:14 PST 2016 com/sun/xml/internal/bind/v2/model/annotation/AnnotationReader.class\n   442 Fri Jan 29 15:35:14 PST 2016 com/sun/xml/internal/bind/v2/model/annotation/RuntimeAnnotationReader.class\n  9846 Fri Jan 29 15:35:22 PST 2016 com/sun/xml/internal/bind/v2/model/annotation/RuntimeInlineAnnotationReader.class\n  1217 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader$1.class\n  1332 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader$2.class\n  1278 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader$3.class\n  1166 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader$4.class\n  3563 Fri Jan 29 15:35:26 PST 2016 com/sun/xml/internal/ws/model/ReflectAnnotationReader.class\n</code></pre>\n\n<p>they are not available for your app at runtime. </p>\n\n<p>However, if I run the app this way:</p>\n\n<pre><code>➜  target java -cp ./classes com.misc.common.ReadXMLFileJaxb\nBook [firstName=null, lastName=Blo, age=33]\n</code></pre>\n\n<p>i.e. from the command line using the standard Maven structure, it does seem to run.</p>\n\n<p>Your book.xml is somewhat wrong, I believe. It contains an embedded <code>person</code> element whereas the Book.java does not. You may want to fix that.</p>\n"},{"tags":[],"owner":{"display_name":"user4821194"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1523040550,"creation_date":1460404324,"answer_id":36557993,"question_id":36557308,"body_markdown":"As per link: https://stackoverflow.com/questions/27046836/why-has-annotationreader-been-removed-from-jaxb-reference-implementation, you need to simply use below maven dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n   \t    &lt;version&gt;2.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou need to refactor code a bit. Also looks like you&#39;ve not created same name fields of model class, it should be like below:\r\nPerson.java\r\n\r\n    @XmlRootElement(name=&quot;Person&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Person {\r\n    \t@XmlElement\r\n    \tprivate String first;\r\n    \t@XmlElement\r\n    \tprivate String last;\r\n    \t@XmlElement\r\n    \tprivate String age;\r\n    \tpublic String getFirst() {\r\n    \t\treturn first;\r\n    \t}\r\n    \tpublic void setFirst(String first) {\r\n    \t\tthis.first = first;\r\n    \t}\r\n    \tpublic String getLast() {\r\n    \t\treturn last;\r\n    \t}\r\n    \tpublic void setLast(String last) {\r\n    \t\tthis.last = last;\r\n    \t}\r\n    \tpublic String getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \tpublic void setAge(String age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Person [first=&quot; + first + &quot;, last=&quot; + last + &quot;, age=&quot; + age\t+ &quot;]&quot;;\r\n    \t}\r\n    } \r\nBook.java\r\n\r\n    @XmlRootElement(name=&quot;book&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Book {\r\n    \tprivate List&lt;Person&gt; person = new ArrayList&lt;Person&gt;();\r\n    \r\n    \tpublic List&lt;Person&gt; getPerson() {\r\n    \t\treturn person;\r\n    \t}\r\n    \r\n    \tpublic void setPerson(List&lt;Person&gt; person) {\r\n    \t\tthis.person = person;\r\n    \t}\r\n    }\r\nReadXMLFileJaxb.java\r\n\r\n    public class ReadXMLFileJaxb {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFile file = new File(ReadXMLFileDOM.class.getClassLoader().getResource(&quot;book.xml&quot;).getFile());\r\n    \r\n    \t\ttry {\r\n    \t\t\tJAXBContext context = JAXBContext.newInstance(Book.class);\r\n    \t\t\tUnmarshaller unmarshaller = context.createUnmarshaller();\r\n    \t\t\tBook book = (Book) unmarshaller.unmarshal(file);\r\n    \t\t\tSystem.out.println(book.getPerson().size());\r\n    \t\t\t\r\n    \t\t\tfor (int i = 0; i &lt; book.getPerson().size(); i++) {\r\n    \t\t\t\tSystem.out.println(&quot;------------&quot;);\r\n    \t\t\t\tSystem.out.println(book.getPerson().get(i).getFirst());\r\n    \t\t\t\tSystem.out.println(book.getPerson().get(i).getLast());\r\n    \t\t\t\tSystem.out.println(book.getPerson().get(i).getAge());\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} catch (JAXBException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe below output I see:\r\n\r\n    3\r\n    ------------\r\n    Kiran\r\n    Pai\r\n    22\r\n    ------------\r\n    Bill\r\n    Gates\r\n    46\r\n    ------------\r\n    Steve\r\n    Jobs\r\n    40\r\n\r\n","title":"Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader","body":"<p>As per link: <a href=\"https://stackoverflow.com/questions/27046836/why-has-annotationreader-been-removed-from-jaxb-reference-implementation\">Why has AnnotationReader been removed from JAXB reference implementation?</a>, you need to simply use below maven dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;version&gt;2.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You need to refactor code a bit. Also looks like you've not created same name fields of model class, it should be like below:\nPerson.java</p>\n\n<pre><code>@XmlRootElement(name=\"Person\")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Person {\n    @XmlElement\n    private String first;\n    @XmlElement\n    private String last;\n    @XmlElement\n    private String age;\n    public String getFirst() {\n        return first;\n    }\n    public void setFirst(String first) {\n        this.first = first;\n    }\n    public String getLast() {\n        return last;\n    }\n    public void setLast(String last) {\n        this.last = last;\n    }\n    public String getAge() {\n        return age;\n    }\n    public void setAge(String age) {\n        this.age = age;\n    }\n    @Override\n    public String toString() {\n        return \"Person [first=\" + first + \", last=\" + last + \", age=\" + age + \"]\";\n    }\n} \n</code></pre>\n\n<p>Book.java</p>\n\n<pre><code>@XmlRootElement(name=\"book\")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Book {\n    private List&lt;Person&gt; person = new ArrayList&lt;Person&gt;();\n\n    public List&lt;Person&gt; getPerson() {\n        return person;\n    }\n\n    public void setPerson(List&lt;Person&gt; person) {\n        this.person = person;\n    }\n}\n</code></pre>\n\n<p>ReadXMLFileJaxb.java</p>\n\n<pre><code>public class ReadXMLFileJaxb {\n    public static void main(String[] args) {\n        File file = new File(ReadXMLFileDOM.class.getClassLoader().getResource(\"book.xml\").getFile());\n\n        try {\n            JAXBContext context = JAXBContext.newInstance(Book.class);\n            Unmarshaller unmarshaller = context.createUnmarshaller();\n            Book book = (Book) unmarshaller.unmarshal(file);\n            System.out.println(book.getPerson().size());\n\n            for (int i = 0; i &lt; book.getPerson().size(); i++) {\n                System.out.println(\"------------\");\n                System.out.println(book.getPerson().get(i).getFirst());\n                System.out.println(book.getPerson().get(i).getLast());\n                System.out.println(book.getPerson().get(i).getAge());\n            }\n\n        } catch (JAXBException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>The below output I see:</p>\n\n<pre><code>3\n------------\nKiran\nPai\n22\n------------\nBill\nGates\n46\n------------\nSteve\nJobs\n40\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3063384,"reputation":550,"user_id":2595609,"display_name":"nirmalsingh"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1475083066,"creation_date":1475083066,"answer_id":39753866,"question_id":36557308,"body_markdown":"Although Issue is very old but still answering. Root cause is that com.sun.xml.bind is obsolete now. org.glassfish.jaxb is latest reference implementation of JAXB API. Using below JAXB RI maven dependency would solve the issue.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n","title":"Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader","body":"<p>Although Issue is very old but still answering. Root cause is that com.sun.xml.bind is obsolete now. org.glassfish.jaxb is latest reference implementation of JAXB API. Using below JAXB RI maven dependency would solve the issue.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14779600,"reputation":51,"user_id":10673417,"display_name":"Juan Mar&#237;"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553250690,"creation_date":1553250690,"answer_id":55297661,"question_id":36557308,"body_markdown":"The best solution that I found is using maven-jaxb2-plugin, then the only dependency that you need is:\r\n\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.jvnet.jaxb2.maven2/maven-jaxb2-plugin --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.14.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader","body":"<p>The best solution that I found is using maven-jaxb2-plugin, then the only dependency that you need is:</p>\n\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.jvnet.jaxb2.maven2/maven-jaxb2-plugin --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4868086,"reputation":3099,"user_id":3925626,"display_name":"prisar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578602493,"creation_date":1578602493,"answer_id":59671792,"question_id":36557308,"body_markdown":"Solve the error by adding these two dependencies in pom\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader","body":"<p>Solve the error by adding these two dependencies in pom</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7327479,"reputation":651,"user_id":5581476,"display_name":"Jonathan Kibet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685526875,"creation_date":1685526875,"answer_id":76372237,"question_id":36557308,"body_markdown":"I tried above options but none worked. The closest solution was one above that required a little version bump to solve the issue:\r\n\r\nThis did not work:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis worked:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.6&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader","body":"<p>I tried above options but none worked. The closest solution was one above that required a little version bump to solve the issue:</p>\n<p>This did not work:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This worked:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"display_name":"user4821194"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107795,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":36557993,"answer_count":6,"score":36,"last_activity_date":1685526875,"creation_date":1460402044,"question_id":36557308,"body_markdown":"You might think that following issue is very simple, but I don&#39;t know what I did wrong here. I feel I added required dependencies. Haven&#39;t I?\r\n\r\nCould anyone please suggest me whats wrong here?\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/xml/bind/v2/model/annotation/AnnotationReader\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:760)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n    \tat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n    \tat java.lang.Class.getMethod0(Class.java:3018)\r\n    \tat java.lang.Class.getMethod(Class.java:1784)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:242)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:234)\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:441)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:641)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:584)\r\n    \tat com.misc.common.ReadXMLFileJaxb.main(ReadXMLFileJaxb.java:14)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 23 more\r\n\r\nBook.java\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Book {\r\n    \t@XmlAttribute\r\n    \tprivate String firstName;\r\n    \t@XmlElement\r\n    \tprivate String lastName;\r\n    \t@XmlElement\r\n    \tprivate String age;\r\n    \t\r\n    \t\r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \tpublic String getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \tpublic void setAge(String age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Book [firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName+ &quot;, age=&quot; + age + &quot;]&quot;;\r\n    \t}\r\n    }\r\nReadXMLFileJaxb.java\r\n\r\n    public class ReadXMLFileJaxb {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFile file = new File(ReadXMLFileDOM.class.getClassLoader().getResource(&quot;book.xml&quot;).getFile());\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tJAXBContext context = JAXBContext.newInstance(Book.class);\r\n    \t\t\tUnmarshaller unmarshaller = context.createUnmarshaller();\r\n    \t\t\tBook book = (Book) unmarshaller.unmarshal(file);\r\n    \t\t\tSystem.out.println(book.toString());\r\n    \t\t} catch (JAXBException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nMy book.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;book&gt;\r\n    \t&lt;person&gt;\r\n    \t\t&lt;first&gt;Kiran&lt;/first&gt;\r\n    \t\t&lt;last&gt;Pai&lt;/last&gt;\r\n    \t\t&lt;age&gt;22&lt;/age&gt;\r\n    \t&lt;/person&gt;\r\n    \t&lt;person&gt;\r\n    \t\t&lt;first&gt;Bill&lt;/first&gt;\r\n    \t\t&lt;last&gt;Gates&lt;/last&gt;\r\n    \t\t&lt;age&gt;46&lt;/age&gt;\r\n    \t&lt;/person&gt;\r\n    \t&lt;person&gt;\r\n    \t\t&lt;first&gt;Steve&lt;/first&gt;\r\n    \t\t&lt;last&gt;Jobs&lt;/last&gt;\r\n    \t\t&lt;age&gt;40&lt;/age&gt;\r\n    \t&lt;/person&gt;\r\n    &lt;/book&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\npom.xml\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- JAXB --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KeT8H.png","title":"Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader","body":"<p>You might think that following issue is very simple, but I don't know what I did wrong here. I feel I added required dependencies. Haven't I?</p>\n\n<p>Could anyone please suggest me whats wrong here?</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/sun/xml/bind/v2/model/annotation/AnnotationReader\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:760)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n    at java.lang.Class.getMethod0(Class.java:3018)\n    at java.lang.Class.getMethod(Class.java:1784)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:242)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:234)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:441)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:641)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:584)\n    at com.misc.common.ReadXMLFileJaxb.main(ReadXMLFileJaxb.java:14)\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 23 more\n</code></pre>\n\n<p>Book.java</p>\n\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Book {\n    @XmlAttribute\n    private String firstName;\n    @XmlElement\n    private String lastName;\n    @XmlElement\n    private String age;\n\n\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    public String getAge() {\n        return age;\n    }\n    public void setAge(String age) {\n        this.age = age;\n    }\n    @Override\n    public String toString() {\n        return \"Book [firstName=\" + firstName + \", lastName=\" + lastName+ \", age=\" + age + \"]\";\n    }\n}\n</code></pre>\n\n<p>ReadXMLFileJaxb.java</p>\n\n<pre><code>public class ReadXMLFileJaxb {\n    public static void main(String[] args) {\n        File file = new File(ReadXMLFileDOM.class.getClassLoader().getResource(\"book.xml\").getFile());\n\n        try {\n            JAXBContext context = JAXBContext.newInstance(Book.class);\n            Unmarshaller unmarshaller = context.createUnmarshaller();\n            Book book = (Book) unmarshaller.unmarshal(file);\n            System.out.println(book.toString());\n        } catch (JAXBException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>My book.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;book&gt;\n    &lt;person&gt;\n        &lt;first&gt;Kiran&lt;/first&gt;\n        &lt;last&gt;Pai&lt;/last&gt;\n        &lt;age&gt;22&lt;/age&gt;\n    &lt;/person&gt;\n    &lt;person&gt;\n        &lt;first&gt;Bill&lt;/first&gt;\n        &lt;last&gt;Gates&lt;/last&gt;\n        &lt;age&gt;46&lt;/age&gt;\n    &lt;/person&gt;\n    &lt;person&gt;\n        &lt;first&gt;Steve&lt;/first&gt;\n        &lt;last&gt;Jobs&lt;/last&gt;\n        &lt;age&gt;40&lt;/age&gt;\n    &lt;/person&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KeT8H.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KeT8H.png\" alt=\"enter image description here\"></a></p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- JAXB --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.12&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","transactions","ejb","weblogic"],"answers":[{"tags":[],"owner":{"account_id":7754714,"reputation":11,"user_id":5869510,"display_name":"Mohamed Abdel Sattar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526540839,"creation_date":1526540839,"answer_id":50385377,"question_id":32098372,"body_markdown":"You can know the type and details of the exception by looking at the server logs which is is AdminServer/logs in your domain directory, it will give you details and description of the exceptions and what happened with the complete stack trace.","title":"weblogic deployment InternalException : Transaction marked rollback or not expected transaction","body":"<p>You can know the type and details of the exception by looking at the server logs which is is AdminServer/logs in your domain directory, it will give you details and description of the exceptions and what happened with the complete stack trace.</p>\n"},{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685526848,"creation_date":1679405603,"answer_id":75801906,"question_id":32098372,"body_markdown":"I am just writing down my own case with encountering a similar error while deploying an EAR-packaged application into `Weblogic 12.1.3`. \r\n\r\nWhat I think happened to me is that there was another error hidden somewhere early in the initialization process, which I wasn&#39;t spotting because of very verbose logging.\r\n\r\nApparently there were some breaking changes in my code, the JPA layer was trying to read some constants from the database during the initialization (there is still some code out there that would trap those errors and hide them from you) and was failing - as the result `EJB` layer wasn&#39;t initialized properly, and the obscure exception with the rollback was issued afterwards. So this wasn&#39;t exactly having to do with the deployment process, but with the initialization of the application itself.\r\n\r\n**EDIT:** to double-check this - if the logs do not show something that would make sense, try restarting Weblogic to better see the initialization process","title":"weblogic deployment InternalException : Transaction marked rollback or not expected transaction","body":"<p>I am just writing down my own case with encountering a similar error while deploying an EAR-packaged application into <code>Weblogic 12.1.3</code>.</p>\n<p>What I think happened to me is that there was another error hidden somewhere early in the initialization process, which I wasn't spotting because of very verbose logging.</p>\n<p>Apparently there were some breaking changes in my code, the JPA layer was trying to read some constants from the database during the initialization (there is still some code out there that would trap those errors and hide them from you) and was failing - as the result <code>EJB</code> layer wasn't initialized properly, and the obscure exception with the rollback was issued afterwards. So this wasn't exactly having to do with the deployment process, but with the initialization of the application itself.</p>\n<p><strong>EDIT:</strong> to double-check this - if the logs do not show something that would make sense, try restarting Weblogic to better see the initialization process</p>\n"}],"owner":{"account_id":5871499,"reputation":442,"user_id":4623702,"accept_rate":86,"display_name":"clapsus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6068,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685526848,"creation_date":1439994560,"question_id":32098372,"body_markdown":"I have an EAR application, and when i try to deploy it to my weblogic server, i get the following error:\r\n\r\n    &lt;[STANDBY] ExecuteThread: &#39;6&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;&gt; &lt;1439994186702&gt; &lt;BEA-149078&gt; &lt;Stack trace for message 149004\r\n    weblogic.application.ModuleException: weblogic.ejb.container.InternalException: Transaction marked rollback or not expected transaction status: 1\r\n    \tat weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\r\n    \tat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\r\n    \tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:216)\r\n    \tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:211)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\r\n    \tat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:73)\r\n    \tat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:24)\r\n    \tat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:729)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\r\n    \tat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:258)\r\n    \tat weblogic.application.internal.EarDeployment.activate(EarDeployment.java:61)\r\n    \tat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\r\n    \tat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:80)\r\n    \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:587)\r\n    \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:150)\r\n    \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:116)\r\n    \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:339)\r\n    \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:846)\r\n    \tat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1275)\r\n    \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:442)\r\n    \tat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:176)\r\n    \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:195)\r\n    \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:13)\r\n    \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:68)\r\n    \tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:548)\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:311)\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:263)\r\n    Caused By: weblogic.ejb.container.InternalException: Transaction marked rollback or not expected transaction status: 1\r\n    \tat weblogic.ejb.container.manager.SingletonSessionManager.handleLifecycleCallbackTx(SingletonSessionManager.java:422)\r\n    \tat weblogic.ejb.container.manager.SingletonSessionManager.constructAndInitBean(SingletonSessionManager.java:339)\r\n    \tat weblogic.ejb.container.manager.SingletonSessionManager.access$300(SingletonSessionManager.java:62)\r\n    \tat weblogic.ejb.container.manager.SingletonSessionManager$SingletonLifecycleManager.doActualInit(SingletonSessionManager.java:753)\r\n    \tat weblogic.ejb.container.manager.SingletonSessionManager$SingletonLifecycleManager.initInternal(SingletonSessionManager.java:701)\r\n    \tat weblogic.ejb.container.manager.SingletonSessionManager$SingletonLifecycleManager.init(SingletonSessionManager.java:588)\r\n    \tat weblogic.ejb.container.manager.SingletonSessionManager.init(SingletonSessionManager.java:255)\r\n    \tat weblogic.ejb.container.manager.SingletonSessionManager.perhapsInit(SingletonSessionManager.java:251)\r\n    \tat weblogic.ejb.container.deployer.EJBDeployer.start(EJBDeployer.java:968)\r\n    \tat weblogic.ejb.container.deployer.EJBModule.start(EJBModule.java:597)\r\n    \tat weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:360)\r\n    \tat weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:356)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\r\n    \tat weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:138)\r\n    \tat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\r\n    \tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:216)\r\n    \tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:211)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\r\n    \tat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:73)\r\n    \tat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:24)\r\n    \tat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:729)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\r\n    \tat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:258)\r\n    \tat weblogic.application.internal.EarDeployment.activate(EarDeployment.java:61)\r\n    \tat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\r\n    \tat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:80)\r\n    \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:587)\r\n    \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:150)\r\n    \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:116)\r\n    \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:339)\r\n    \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:846)\r\n    \tat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1275)\r\n    \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:442)\r\n    \tat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:176)\r\n    \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:195)\r\n    \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:13)\r\n    \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:68)\r\n    \tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:548)\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:311)\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:263)\r\n    &gt; \r\n\r\nI have a `@Singleton` in my application, but it doesn&#39;t seem that the problem is there since it&#39;s not raised from there.\r\n\r\nI looked for in the internet for the same problem, but all the given solutions were not enough for me.\r\n\r\nAny help? \r\n\r\nThank you.\r\n\r\n**EDIT:**\r\n\r\nBy restarting my local machine (on which the weblogic server was installed), the deployment produced more detailed error info, as it was something like this\r\n\r\n    javax.ejb.NoSuchEJBException: Singleton MySingleton(Application:MYEAR-3.0.1_C1, EJBComponent: MYEJB.jar) failed to initialize.\r\n    Caused by: javax.ejb.EJBTransactionRolledbackException: EJB Exception: \r\n    Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-28019] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\n    Exception Description: Deployment of PersistenceUnit [MyPU] failed. Close all factories for this PersistenceUnit.\r\n    Caused by: Exception [EclipseLink-28019] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\n    Exception Description: Deployment of PersistenceUnit [MyPU] failed. Close all factories for this PersistenceUnit.\r\n    Caused by: Exception [EclipseLink-0] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.JPQLException\r\n    Exception Description: Syntax error parsing [select o from Transaction o where o.internalId = :internalId and (o.validUntil is nullor CURRENT_TIMESTAMP between o.validFrom and o.validUntil)]. \r\n    [30, 139] The expression is not a valid conditional expression.\r\n    [139, 140] The query contains a malformed ending.\r\n\r\nIt seems that my issue was an error in a `@NamedQuery`, so i solved it, but i&#39;ll leave this question open, as this doesn&#39;t answer it: How can someone tell what an `weblogic.ejb.container.InternalException` is?","title":"weblogic deployment InternalException : Transaction marked rollback or not expected transaction","body":"<p>I have an EAR application, and when i try to deploy it to my weblogic server, i get the following error:</p>\n\n<pre><code>&lt;[STANDBY] ExecuteThread: '6' for queue: 'weblogic.kernel.Default (self-tuning)'&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;&gt; &lt;1439994186702&gt; &lt;BEA-149078&gt; &lt;Stack trace for message 149004\nweblogic.application.ModuleException: weblogic.ejb.container.InternalException: Transaction marked rollback or not expected transaction status: 1\n    at weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\n    at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\n    at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:216)\n    at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:211)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\n    at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:73)\n    at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:24)\n    at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:729)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\n    at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:258)\n    at weblogic.application.internal.EarDeployment.activate(EarDeployment.java:61)\n    at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\n    at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:80)\n    at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:587)\n    at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:150)\n    at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:116)\n    at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:339)\n    at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:846)\n    at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1275)\n    at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:442)\n    at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:176)\n    at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:195)\n    at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:13)\n    at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:68)\n    at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:548)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:311)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:263)\nCaused By: weblogic.ejb.container.InternalException: Transaction marked rollback or not expected transaction status: 1\n    at weblogic.ejb.container.manager.SingletonSessionManager.handleLifecycleCallbackTx(SingletonSessionManager.java:422)\n    at weblogic.ejb.container.manager.SingletonSessionManager.constructAndInitBean(SingletonSessionManager.java:339)\n    at weblogic.ejb.container.manager.SingletonSessionManager.access$300(SingletonSessionManager.java:62)\n    at weblogic.ejb.container.manager.SingletonSessionManager$SingletonLifecycleManager.doActualInit(SingletonSessionManager.java:753)\n    at weblogic.ejb.container.manager.SingletonSessionManager$SingletonLifecycleManager.initInternal(SingletonSessionManager.java:701)\n    at weblogic.ejb.container.manager.SingletonSessionManager$SingletonLifecycleManager.init(SingletonSessionManager.java:588)\n    at weblogic.ejb.container.manager.SingletonSessionManager.init(SingletonSessionManager.java:255)\n    at weblogic.ejb.container.manager.SingletonSessionManager.perhapsInit(SingletonSessionManager.java:251)\n    at weblogic.ejb.container.deployer.EJBDeployer.start(EJBDeployer.java:968)\n    at weblogic.ejb.container.deployer.EJBModule.start(EJBModule.java:597)\n    at weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:360)\n    at weblogic.application.internal.ExtensibleModuleWrapper$StartStateChange.next(ExtensibleModuleWrapper.java:356)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\n    at weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:138)\n    at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\n    at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:216)\n    at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:211)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\n    at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:73)\n    at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:24)\n    at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:729)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:42)\n    at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:258)\n    at weblogic.application.internal.EarDeployment.activate(EarDeployment.java:61)\n    at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:165)\n    at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:80)\n    at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:587)\n    at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:150)\n    at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:116)\n    at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:339)\n    at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:846)\n    at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1275)\n    at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:442)\n    at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:176)\n    at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:195)\n    at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:13)\n    at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:68)\n    at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:548)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:311)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:263)\n&gt; \n</code></pre>\n\n<p>I have a <code>@Singleton</code> in my application, but it doesn't seem that the problem is there since it's not raised from there.</p>\n\n<p>I looked for in the internet for the same problem, but all the given solutions were not enough for me.</p>\n\n<p>Any help? </p>\n\n<p>Thank you.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>By restarting my local machine (on which the weblogic server was installed), the deployment produced more detailed error info, as it was something like this</p>\n\n<pre><code>javax.ejb.NoSuchEJBException: Singleton MySingleton(Application:MYEAR-3.0.1_C1, EJBComponent: MYEJB.jar) failed to initialize.\nCaused by: javax.ejb.EJBTransactionRolledbackException: EJB Exception: \nCaused by: javax.persistence.PersistenceException: Exception [EclipseLink-28019] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.EntityManagerSetupException\nException Description: Deployment of PersistenceUnit [MyPU] failed. Close all factories for this PersistenceUnit.\nCaused by: Exception [EclipseLink-28019] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.EntityManagerSetupException\nException Description: Deployment of PersistenceUnit [MyPU] failed. Close all factories for this PersistenceUnit.\nCaused by: Exception [EclipseLink-0] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.JPQLException\nException Description: Syntax error parsing [select o from Transaction o where o.internalId = :internalId and (o.validUntil is nullor CURRENT_TIMESTAMP between o.validFrom and o.validUntil)]. \n[30, 139] The expression is not a valid conditional expression.\n[139, 140] The query contains a malformed ending.\n</code></pre>\n\n<p>It seems that my issue was an error in a <code>@NamedQuery</code>, so i solved it, but i'll leave this question open, as this doesn't answer it: How can someone tell what an <code>weblogic.ejb.container.InternalException</code> is?</p>\n"},{"tags":["java","html","mysql","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685559411,"post_id":76372229,"comment_id":134678858,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28517162,"reputation":1,"user_id":21826367,"display_name":"Yordan Chulev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685526808,"creation_date":1685526808,"question_id":76372229,"body_markdown":"I&#39;m currently working on a project where I need to implement a functionality that allows users to dynamically adjust the fields in an INPUT form. The configuration for these fields is stored in a MySQL database table called &quot;additionalFields.&quot; This table has columns for &quot;name,&quot; &quot;type,&quot; and &quot;defaultValue.&quot;\r\n\r\nFor this project, I have chosen to use the Spring Boot framework. My approach involved creating a class that holds a list of objects. I intended to create an object for each record in the MySQL table and add it to the list. However, I encountered an issue when trying to access the name associated with each object, which prevented the desired functionality. It&#39;s important to note that, for now, my goal is only to visualize the HTML form, and I&#39;m not concerned with storing the records in the database.\r\n\r\nTo address this issue, I came up with an idea to create a custom class called &quot;AdditionalField.&quot; This class would have two fields: &quot;name&quot; (for the field name) and &quot;value&quot; (for the field&#39;s type and value). In my main class, I would have a collection of type &quot;AdditionalField.&quot; During the rendering process, I could access the fields by calling &quot;hiring.getFields()&quot; and retrieve the associated name and type using dot notation. This approach eliminates the problem where I cannot access the name of each object.\r\n\r\nI would greatly appreciate any tips, guidance, or relevant links on how to implement this functionality effectively using Spring Boot and MySQL.\r\n\r\nThank you in advance for your assistance!\r\n\r\nI intended to create an object for each record in the MySQL table and add it to the list. However, I encountered an issue when trying to access the name associated with each object, which prevented the desired functionality.","title":"Implementing dynamic field adjustment in an INPUT form using Spring Boot and MySQL","body":"<p>I'm currently working on a project where I need to implement a functionality that allows users to dynamically adjust the fields in an INPUT form. The configuration for these fields is stored in a MySQL database table called &quot;additionalFields.&quot; This table has columns for &quot;name,&quot; &quot;type,&quot; and &quot;defaultValue.&quot;</p>\n<p>For this project, I have chosen to use the Spring Boot framework. My approach involved creating a class that holds a list of objects. I intended to create an object for each record in the MySQL table and add it to the list. However, I encountered an issue when trying to access the name associated with each object, which prevented the desired functionality. It's important to note that, for now, my goal is only to visualize the HTML form, and I'm not concerned with storing the records in the database.</p>\n<p>To address this issue, I came up with an idea to create a custom class called &quot;AdditionalField.&quot; This class would have two fields: &quot;name&quot; (for the field name) and &quot;value&quot; (for the field's type and value). In my main class, I would have a collection of type &quot;AdditionalField.&quot; During the rendering process, I could access the fields by calling &quot;hiring.getFields()&quot; and retrieve the associated name and type using dot notation. This approach eliminates the problem where I cannot access the name of each object.</p>\n<p>I would greatly appreciate any tips, guidance, or relevant links on how to implement this functionality effectively using Spring Boot and MySQL.</p>\n<p>Thank you in advance for your assistance!</p>\n<p>I intended to create an object for each record in the MySQL table and add it to the list. However, I encountered an issue when trying to access the name associated with each object, which prevented the desired functionality.</p>\n"},{"tags":["java","jasper-reports","subreport"],"answers":[{"tags":[],"owner":{"account_id":11889649,"reputation":1404,"user_id":8700934,"display_name":"Lakshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1553073903,"creation_date":1553069840,"answer_id":55256235,"question_id":55239791,"body_markdown":"firstly defined the sub report&#39;s data sources are as fields in the main report (main.jrxml)\r\n\r\n    &lt;field name=&quot;claimHistoryDataSource&quot; class=&quot;java.util.ArrayList&quot;&gt;\r\n        &lt;fieldDescription&gt;&lt;![CDATA[claimHistoryList}]]&gt;&lt;/fieldDescription&gt;\r\n    &lt;/field&gt;\r\n\r\n    &lt;field name=&quot;claimDetailDataSource&quot; class=&quot;java.util.ArrayList&quot;&gt;\r\n        &lt;fieldDescription&gt;&lt;![CDATA[claimDetailList}]]&gt;&lt;/fieldDescription&gt;\r\n    &lt;/field&gt;\r\n\r\n`claimHistoryList` and `claimDetailList` are ArrayLists defined in the java class which used as a data source of the main report.\r\n\r\nthen pass it to the sub report with a `dataSourceExpression`\r\n\r\n    &lt;subreport&gt;\r\n        &lt;reportElement positionType=&quot;Float&quot; x=&quot;18&quot; y=&quot;1&quot; width=&quot;522&quot; height=&quot;65&quot; uuid=&quot;f3063ed3-775f-47df-8306-a939aecc9d89&quot;/&gt;\r\n        &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{claimHistoryDataSource})]]&gt;&lt;/dataSourceExpression&gt;\r\n        &lt;subreportExpression&gt;&lt;![CDATA[&quot;ClaimHistory.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n    &lt;/subreport&gt;\r\n\r\n    &lt;subreport&gt;\r\n        &lt;reportElement positionType=&quot;Float&quot; x=&quot;18&quot; y=&quot;1&quot; width=&quot;522&quot; height=&quot;65&quot; uuid=&quot;f3063ed3-775f-47df-8306-a939aecc9d89&quot;/&gt;\r\n        &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{claimDetailDataSource})]]&gt;&lt;/dataSourceExpression&gt;\r\n        &lt;subreportExpression&gt;&lt;![CDATA[&quot;ClaimDetail.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n    &lt;/subreport&gt;","title":"Jasper Report with multiple Subreport","body":"<p>firstly defined the sub report's data sources are as fields in the main report (main.jrxml)</p>\n\n<pre><code>&lt;field name=\"claimHistoryDataSource\" class=\"java.util.ArrayList\"&gt;\n    &lt;fieldDescription&gt;&lt;![CDATA[claimHistoryList}]]&gt;&lt;/fieldDescription&gt;\n&lt;/field&gt;\n\n&lt;field name=\"claimDetailDataSource\" class=\"java.util.ArrayList\"&gt;\n    &lt;fieldDescription&gt;&lt;![CDATA[claimDetailList}]]&gt;&lt;/fieldDescription&gt;\n&lt;/field&gt;\n</code></pre>\n\n<p><code>claimHistoryList</code> and <code>claimDetailList</code> are ArrayLists defined in the java class which used as a data source of the main report.</p>\n\n<p>then pass it to the sub report with a <code>dataSourceExpression</code></p>\n\n<pre><code>&lt;subreport&gt;\n    &lt;reportElement positionType=\"Float\" x=\"18\" y=\"1\" width=\"522\" height=\"65\" uuid=\"f3063ed3-775f-47df-8306-a939aecc9d89\"/&gt;\n    &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{claimHistoryDataSource})]]&gt;&lt;/dataSourceExpression&gt;\n    &lt;subreportExpression&gt;&lt;![CDATA[\"ClaimHistory.jasper\"]]&gt;&lt;/subreportExpression&gt;\n&lt;/subreport&gt;\n\n&lt;subreport&gt;\n    &lt;reportElement positionType=\"Float\" x=\"18\" y=\"1\" width=\"522\" height=\"65\" uuid=\"f3063ed3-775f-47df-8306-a939aecc9d89\"/&gt;\n    &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{claimDetailDataSource})]]&gt;&lt;/dataSourceExpression&gt;\n    &lt;subreportExpression&gt;&lt;![CDATA[\"ClaimDetail.jasper\"]]&gt;&lt;/subreportExpression&gt;\n&lt;/subreport&gt;\n</code></pre>\n"}],"owner":{"account_id":9985518,"reputation":83,"user_id":7386867,"accept_rate":14,"display_name":"Ari Wibowo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55256235,"answer_count":1,"score":0,"last_activity_date":1685526721,"creation_date":1552994362,"question_id":55239791,"body_markdown":"I&#39;m new with Jasper Reports, and I&#39;m creating a Java program that will export reports to a `.pdf` file.\r\nThis report has multiple subreports and was created in JasperSoft studio.\r\n\r\nThis is one of the subreport-parts in the main report:\r\n\r\n```xml\r\n&lt;subreport&gt;\r\n    &lt;reportElement positionType=&quot;Float&quot; x=&quot;18&quot; y=&quot;1&quot; width=&quot;522&quot; height=&quot;65&quot; uuid=&quot;f3063ed3-775f-47df-8306-a939aecc9d89&quot;/&gt;\r\n    &lt;connectionExpression&gt;&lt;![CDATA[$P{REPORT_CONNECTION}]]&gt;&lt;/connectionExpression&gt;\r\n    &lt;subreportExpression&gt;&lt;![CDATA[&quot;ClaimHistory.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n&lt;/subreport&gt;\r\n```\r\n\r\nThis is another subreport:\r\n\r\n```xml\r\n&lt;subreport&gt;\r\n    &lt;reportElement positionType=&quot;Float&quot; x=&quot;18&quot; y=&quot;2&quot; width=&quot;522&quot; height=&quot;65&quot; uuid=&quot;a70d75e0-b9d0-4f52-bb84-090993c2e90b&quot;/&gt;\r\n    &lt;connectionExpression&gt;&lt;![CDATA[$P{REPORT_CONNECTION}]]&gt;&lt;/connectionExpression&gt;\r\n    &lt;subreportExpression&gt;&lt;![CDATA[&quot;ClaimDetail.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n&lt;/subreport&gt;\r\n```\r\n\r\nEach subreport uses `JRBeanCollectionDataSource(list)` to get its data and below is the Java code doing all the work:\r\n\r\n```java\r\nString jasperFile = &quot;E:/jasper/jasperFile.jrxml&quot;;\r\nFileInputStream inputStream = new FileInputStream(jasperFile);\r\nJasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\r\nList&lt;JasperPrint&gt; jasperPrintList = new ArrayList&lt;JasperPrint&gt;();\r\nJasperPrint print = JasperFillManager.fillReport(jasperReport, params, new JREmptyDataSource());\r\njasperPrintList.add(print);\r\nJRPdfExporter exporter = new JRPdfExporter();\r\nexporter.setExporterInput(SimpleExporterInput.getInstance(jasperPrintList)); //Set as export input my list with JasperPrint s\r\nexporter.setExporterOutput(new SimpleOutputStreamExporterOutput(&quot;E:/output.pdf&quot;)); //or any other out streaam\r\nexporter.exportReport();\r\n```\r\n\r\nMy current skills don&#39;t allow me to properly inject any data into the subreports using `JRBeanCollectionDataSource(...)`.  \r\nHow can I achieve injecting data into the subreports?","title":"Jasper Report with multiple Subreport","body":"<p>I'm new with Jasper Reports, and I'm creating a Java program that will export reports to a <code>.pdf</code> file.\nThis report has multiple subreports and was created in JasperSoft studio.</p>\n<p>This is one of the subreport-parts in the main report:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subreport&gt;\n    &lt;reportElement positionType=&quot;Float&quot; x=&quot;18&quot; y=&quot;1&quot; width=&quot;522&quot; height=&quot;65&quot; uuid=&quot;f3063ed3-775f-47df-8306-a939aecc9d89&quot;/&gt;\n    &lt;connectionExpression&gt;&lt;![CDATA[$P{REPORT_CONNECTION}]]&gt;&lt;/connectionExpression&gt;\n    &lt;subreportExpression&gt;&lt;![CDATA[&quot;ClaimHistory.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\n&lt;/subreport&gt;\n</code></pre>\n<p>This is another subreport:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subreport&gt;\n    &lt;reportElement positionType=&quot;Float&quot; x=&quot;18&quot; y=&quot;2&quot; width=&quot;522&quot; height=&quot;65&quot; uuid=&quot;a70d75e0-b9d0-4f52-bb84-090993c2e90b&quot;/&gt;\n    &lt;connectionExpression&gt;&lt;![CDATA[$P{REPORT_CONNECTION}]]&gt;&lt;/connectionExpression&gt;\n    &lt;subreportExpression&gt;&lt;![CDATA[&quot;ClaimDetail.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\n&lt;/subreport&gt;\n</code></pre>\n<p>Each subreport uses <code>JRBeanCollectionDataSource(list)</code> to get its data and below is the Java code doing all the work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jasperFile = &quot;E:/jasper/jasperFile.jrxml&quot;;\nFileInputStream inputStream = new FileInputStream(jasperFile);\nJasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\nList&lt;JasperPrint&gt; jasperPrintList = new ArrayList&lt;JasperPrint&gt;();\nJasperPrint print = JasperFillManager.fillReport(jasperReport, params, new JREmptyDataSource());\njasperPrintList.add(print);\nJRPdfExporter exporter = new JRPdfExporter();\nexporter.setExporterInput(SimpleExporterInput.getInstance(jasperPrintList)); //Set as export input my list with JasperPrint s\nexporter.setExporterOutput(new SimpleOutputStreamExporterOutput(&quot;E:/output.pdf&quot;)); //or any other out streaam\nexporter.exportReport();\n</code></pre>\n<p>My current skills don't allow me to properly inject any data into the subreports using <code>JRBeanCollectionDataSource(...)</code>.<br />\nHow can I achieve injecting data into the subreports?</p>\n"},{"tags":["java","spring","clone"],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1363855418,"creation_date":1363855418,"answer_id":15542791,"question_id":15542504,"body_markdown":"clone creates a shallow copy of the object, the clone object is always of the same class as the original one. All fields, private or not are copied.\r\n\r\nBeanUtils.copyProperties API *Copy property values from the origin bean to the destination bean for all cases where the property names are the same.*\r\n\r\nAs to me, these two concepts have little in common.","title":"Should we use clone or BeanUtils.copyProperties and why","body":"<p>clone creates a shallow copy of the object, the clone object is always of the same class as the original one. All fields, private or not are copied.</p>\n\n<p>BeanUtils.copyProperties API <em>Copy property values from the origin bean to the destination bean for all cases where the property names are the same.</em></p>\n\n<p>As to me, these two concepts have little in common.</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1515683826,"creation_date":1364066984,"answer_id":15591144,"question_id":15542504,"body_markdown":"Josh Bloch provides some fairly good arguments (including the one you provided) asserting that `Cloneable` is fundamentally flawed, favoring a copy constructor instead.  See [here](http://www.artima.com/intv/bloch13.html).\r\n\r\nI haven&#39;t yet encountered a practical use case for copying an immutable object.  You&#39;re copying objects for a specific reason, presumably to isolate some set of mutable objects into a single transaction for processing, guaranteeing nothing can alter them until that unit of processing is complete.  If they&#39;re already immutable then a reference is as good as a copy.\r\n\r\n`BeanUtils.copyProperties` is often a less intrusive way of copying without having to alter your classes to be supported, and it offers some unique flexibility in compositing objects.\r\n\r\nThat said, `copyProperties` is not always one-size-fits-all.  You may at some point need to support objects containing types that have specialized constructors, but are still mutable.  Your objects can support internal methods or constructors to work around those exceptions, or you can register specific types into some external tool for copying, but it can&#39;t reach some places that even `clone()` can.  It&#39;s good, but still has limits.","title":"Should we use clone or BeanUtils.copyProperties and why","body":"<p>Josh Bloch provides some fairly good arguments (including the one you provided) asserting that <code>Cloneable</code> is fundamentally flawed, favoring a copy constructor instead.  See <a href=\"http://www.artima.com/intv/bloch13.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>I haven't yet encountered a practical use case for copying an immutable object.  You're copying objects for a specific reason, presumably to isolate some set of mutable objects into a single transaction for processing, guaranteeing nothing can alter them until that unit of processing is complete.  If they're already immutable then a reference is as good as a copy.</p>\n\n<p><code>BeanUtils.copyProperties</code> is often a less intrusive way of copying without having to alter your classes to be supported, and it offers some unique flexibility in compositing objects.</p>\n\n<p>That said, <code>copyProperties</code> is not always one-size-fits-all.  You may at some point need to support objects containing types that have specialized constructors, but are still mutable.  Your objects can support internal methods or constructors to work around those exceptions, or you can register specific types into some external tool for copying, but it can't reach some places that even <code>clone()</code> can.  It's good, but still has limits.</p>\n"},{"tags":[],"owner":{"account_id":2248460,"reputation":12996,"user_id":1981279,"display_name":"Vishal K"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1364116304,"creation_date":1364115932,"answer_id":15596731,"question_id":15542504,"body_markdown":"From your question I guess that you need ***deep copy*** of the object . If this is the case don&#39;t use [`clone`][1] method  as it is already specified in `oracle docs` that it provides ***shallow copy*** of the associated object. And I don&#39;t have enough idea about `BeanUtils.copyProperties` API.&lt;br&gt;Given below is the short demo of `deep copy`. Here I am deep copying a `primitive array`. You can try this code with any type of object.\r\n\r\n    import java.io.*;\r\n    class ArrayDeepCopy \r\n    {\r\n    \tByteArrayOutputStream baos;\r\n    \tByteArrayInputStream bins;\r\n    \tpublic void saveState(Object obj)throws Exception //saving the stream of bytes of object to `ObjectOutputStream`.\r\n    \t{\r\n    \t\tbaos = new ByteArrayOutputStream();\r\n    \t\tObjectOutputStream oos = new ObjectOutputStream(baos);\r\n    \t\toos.writeObject(obj);\r\n    \t\toos.close();\r\n    \t}\r\n    \tpublic int[][] readState()throws Exception //reading the state back to object using `ObjectInputStream`\r\n    \t{\r\n    \t\tbins = new ByteArrayInputStream(baos.toByteArray());\r\n    \t\tObjectInputStream oins = new ObjectInputStream(bins);\r\n    \t\tObject obj = oins.readObject();\r\n    \t\toins.close();\r\n    \t\treturn (int[][])obj;\r\n    \t}\r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tint arr[][]= {\r\n    \t\t\t\t\t\t{1,2,3},\r\n    \t\t\t\t\t\t{4,5,7}\r\n    \t\t\t\t\t};\r\n    \t\tArrayDeepCopy ars = new ArrayDeepCopy();\r\n    \t\tSystem.out.println(&quot;Saving state...&quot;);\r\n    \t\tars.saveState(arr);\r\n    \t\tSystem.out.println(&quot;State saved..&quot;);\r\n    \t\tSystem.out.println(&quot;Retrieving state..&quot;);\r\n    \t\tint j[][] = ars.readState();\r\n    \t\tSystem.out.println(&quot;State retrieved..And the retrieved array is:&quot;);\r\n    \t\tfor (int i =0 ; i &lt; j.length ; i++ )\r\n    \t\t{\r\n    \t\t\tfor (int k = 0 ; k &lt; j[i].length ; k++)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(j[i][k]+&quot;\\t&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.print(&quot;\\n&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html#clone%28%29","title":"Should we use clone or BeanUtils.copyProperties and why","body":"<p>From your question I guess that you need <strong><em>deep copy</em></strong> of the object . If this is the case don't use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html#clone%28%29\" rel=\"nofollow\"><code>clone</code></a> method  as it is already specified in <code>oracle docs</code> that it provides <strong><em>shallow copy</em></strong> of the associated object. And I don't have enough idea about <code>BeanUtils.copyProperties</code> API.<br>Given below is the short demo of <code>deep copy</code>. Here I am deep copying a <code>primitive array</code>. You can try this code with any type of object.</p>\n\n<pre><code>import java.io.*;\nclass ArrayDeepCopy \n{\n    ByteArrayOutputStream baos;\n    ByteArrayInputStream bins;\n    public void saveState(Object obj)throws Exception //saving the stream of bytes of object to `ObjectOutputStream`.\n    {\n        baos = new ByteArrayOutputStream();\n        ObjectOutputStream oos = new ObjectOutputStream(baos);\n        oos.writeObject(obj);\n        oos.close();\n    }\n    public int[][] readState()throws Exception //reading the state back to object using `ObjectInputStream`\n    {\n        bins = new ByteArrayInputStream(baos.toByteArray());\n        ObjectInputStream oins = new ObjectInputStream(bins);\n        Object obj = oins.readObject();\n        oins.close();\n        return (int[][])obj;\n    }\n    public static void main(String[] args) throws Exception\n    {\n        int arr[][]= {\n                        {1,2,3},\n                        {4,5,7}\n                    };\n        ArrayDeepCopy ars = new ArrayDeepCopy();\n        System.out.println(\"Saving state...\");\n        ars.saveState(arr);\n        System.out.println(\"State saved..\");\n        System.out.println(\"Retrieving state..\");\n        int j[][] = ars.readState();\n        System.out.println(\"State retrieved..And the retrieved array is:\");\n        for (int i =0 ; i &lt; j.length ; i++ )\n        {\n            for (int k = 0 ; k &lt; j[i].length ; k++)\n            {\n                System.out.print(j[i][k]+\"\\t\");\n            }\n            System.out.print(\"\\n\");\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237656,"reputation":3080,"user_id":506005,"accept_rate":62,"display_name":"Houcem Berrayana"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1364118670,"creation_date":1364118670,"answer_id":15597050,"question_id":15542504,"body_markdown":"BeanUtils is more flexible than standard clone that simply copies field values from an object to another. The clone method copies the fields from beans of the same class, but BeanUtils can do that for 2 instances of different classes having the same attribute names.\r\n\r\nFor example let&#39;s suppose that you have a Bean A that have a field String date and a bean B that have the same field java.util.Date date. with BeanUtils you can copy the string value and convert it automatically to date using DateFormat.\r\n\r\nI&#39;ve used that to convert a SOAP object into Hibernate objects which do not have the same data types.","title":"Should we use clone or BeanUtils.copyProperties and why","body":"<p>BeanUtils is more flexible than standard clone that simply copies field values from an object to another. The clone method copies the fields from beans of the same class, but BeanUtils can do that for 2 instances of different classes having the same attribute names.</p>\n\n<p>For example let's suppose that you have a Bean A that have a field String date and a bean B that have the same field java.util.Date date. with BeanUtils you can copy the string value and convert it automatically to date using DateFormat.</p>\n\n<p>I've used that to convert a SOAP object into Hibernate objects which do not have the same data types.</p>\n"},{"tags":[],"owner":{"account_id":1999199,"reputation":8061,"user_id":1790632,"accept_rate":43,"display_name":"Kishor Prakash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1364461631,"creation_date":1364461631,"answer_id":15677842,"question_id":15542504,"body_markdown":"Cloning is done by you. If the instance which you trying clone contains reference of another instance you have to write cloning code to that one too.\r\nWhat if the instances contains chain of references to other instances?\r\nSo if you do cloning by yourself, there are chances that you might miss a small detail.\r\n\r\nBeanUtils.copyProperties on otherhand take care of everything by itself.\r\nIt reduces your effort.","title":"Should we use clone or BeanUtils.copyProperties and why","body":"<p>Cloning is done by you. If the instance which you trying clone contains reference of another instance you have to write cloning code to that one too.\nWhat if the instances contains chain of references to other instances?\nSo if you do cloning by yourself, there are chances that you might miss a small detail.</p>\n\n<p>BeanUtils.copyProperties on otherhand take care of everything by itself.\nIt reduces your effort.</p>\n"},{"tags":[],"owner":{"account_id":1495455,"reputation":964,"user_id":1401509,"accept_rate":17,"display_name":"Chandru"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1364469674,"creation_date":1364469674,"answer_id":15680471,"question_id":15542504,"body_markdown":"I think you are looking for a deep copy. you can have the below method in a util class and use it for any kind of objct.\r\n\r\n    public static &lt;T extends Serializable&gt; T copy(T input) {\r\n        ByteArrayOutputStream baos = null;\r\n        ObjectOutputStream oos = null;\r\n        ByteArrayInputStream bis = null;\r\n        ObjectInputStream ois = null;\r\n        try {\r\n            baos = new ByteArrayOutputStream();\r\n            oos = new ObjectOutputStream(baos);\r\n            oos.writeObject(input);\r\n            oos.flush();\r\n\r\n            byte[] bytes = baos.toByteArray();\r\n            bis = new ByteArrayInputStream(bytes);\r\n            ois = new ObjectInputStream(bis);\r\n            Object result = ois.readObject();\r\n            return (T) result;\r\n        } catch (IOException e) {\r\n            throw new IllegalArgumentException(&quot;Object can&#39;t be copied&quot;, e);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new IllegalArgumentException(&quot;Unable to reconstruct serialized object due to invalid class definition&quot;, e);\r\n        } finally {\r\n            closeQuietly(oos);\r\n            closeQuietly(baos);\r\n            closeQuietly(bis);\r\n            closeQuietly(ois);\r\n        }\r\n    }","title":"Should we use clone or BeanUtils.copyProperties and why","body":"<p>I think you are looking for a deep copy. you can have the below method in a util class and use it for any kind of objct.</p>\n\n<pre><code>public static &lt;T extends Serializable&gt; T copy(T input) {\n    ByteArrayOutputStream baos = null;\n    ObjectOutputStream oos = null;\n    ByteArrayInputStream bis = null;\n    ObjectInputStream ois = null;\n    try {\n        baos = new ByteArrayOutputStream();\n        oos = new ObjectOutputStream(baos);\n        oos.writeObject(input);\n        oos.flush();\n\n        byte[] bytes = baos.toByteArray();\n        bis = new ByteArrayInputStream(bytes);\n        ois = new ObjectInputStream(bis);\n        Object result = ois.readObject();\n        return (T) result;\n    } catch (IOException e) {\n        throw new IllegalArgumentException(\"Object can't be copied\", e);\n    } catch (ClassNotFoundException e) {\n        throw new IllegalArgumentException(\"Unable to reconstruct serialized object due to invalid class definition\", e);\n    } finally {\n        closeQuietly(oos);\n        closeQuietly(baos);\n        closeQuietly(bis);\n        closeQuietly(ois);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1685526700,"creation_date":1567372872,"answer_id":57749587,"question_id":15542504,"body_markdown":"I have checked the source code and I found that it is only copying the &quot;first level&quot; of **primitive** properties. When it comes to a nested object, the nested properties are still referencing the original object&#39;s fields, so it is not a &quot;deep copy&quot;. \r\n\r\nCheck this snippets from Spring source code from `org.springframework.beans.BeanUtils.java`, version 5.1.3:\r\n\r\n```\r\n/**\r\n\t * Copy the property values of the given source bean into the target bean.\r\n\t * &lt;p&gt;Note: The source and target classes do not have to match or even be derived\r\n\t * from each other, as long as the properties match. Any bean properties that the\r\n\t * source bean exposes but the target bean does not will silently be ignored.\r\n\t * &lt;p&gt;This is just a convenience method. For more complex transfer needs,\r\n\t * consider using a full BeanWrapper.\r\n\t * @param source the source bean\r\n\t * @param target the target bean\r\n\t * @throws BeansException if the copying failed\r\n\t * @see BeanWrapper\r\n\t */\r\n\tpublic static void copyProperties(Object source, Object target) throws BeansException {\r\n\t\tcopyProperties(source, target, null, (String[]) null);\r\n\t}\r\n\r\n...\r\n\r\n\t/**\r\n\t * Copy the property values of the given source bean into the given target bean.\r\n\t * &lt;p&gt;Note: The source and target classes do not have to match or even be derived\r\n\t * from each other, as long as the properties match. Any bean properties that the\r\n\t * source bean exposes but the target bean does not will silently be ignored.\r\n\t * @param source the source bean\r\n\t * @param target the target bean\r\n\t * @param editable the class (or interface) to restrict property setting to\r\n\t * @param ignoreProperties array of property names to ignore\r\n\t * @throws BeansException if the copying failed\r\n\t * @see BeanWrapper\r\n\t */\r\n\tprivate static void copyProperties(Object source, Object target, @Nullable Class&lt;?&gt; editable,\r\n\t\t\t@Nullable String... ignoreProperties) throws BeansException {\r\n\r\n\t\tAssert.notNull(source, &quot;Source must not be null&quot;);\r\n\t\tAssert.notNull(target, &quot;Target must not be null&quot;);\r\n\r\n\t\tClass&lt;?&gt; actualEditable = target.getClass();\r\n\t\tif (editable != null) {\r\n\t\t\tif (!editable.isInstance(target)) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Target class [&quot; + target.getClass().getName() +\r\n\t\t\t\t\t\t&quot;] not assignable to Editable class [&quot; + editable.getName() + &quot;]&quot;);\r\n\t\t\t}\r\n\t\t\tactualEditable = editable;\r\n\t\t}\r\n\t\tPropertyDescriptor[] targetPds = getPropertyDescriptors(actualEditable);\r\n\t\tList&lt;String&gt; ignoreList = (ignoreProperties != null ? Arrays.asList(ignoreProperties) : null);\r\n\r\n\t\tfor (PropertyDescriptor targetPd : targetPds) {\r\n\t\t\tMethod writeMethod = targetPd.getWriteMethod();\r\n\t\t\tif (writeMethod != null &amp;&amp; (ignoreList == null || !ignoreList.contains(targetPd.getName()))) {\r\n\t\t\t\tPropertyDescriptor sourcePd = getPropertyDescriptor(source.getClass(), targetPd.getName());\r\n\t\t\t\tif (sourcePd != null) {\r\n\t\t\t\t\tMethod readMethod = sourcePd.getReadMethod();\r\n\t\t\t\t\tif (readMethod != null &amp;&amp;\r\n\t\t\t\t\t\t\tClassUtils.isAssignable(writeMethod.getParameterTypes()[0], readMethod.getReturnType())) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (!Modifier.isPublic(readMethod.getDeclaringClass().getModifiers())) {\r\n\t\t\t\t\t\t\t\treadMethod.setAccessible(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tObject value = readMethod.invoke(source);\r\n\t\t\t\t\t\t\tif (!Modifier.isPublic(writeMethod.getDeclaringClass().getModifiers())) {\r\n\t\t\t\t\t\t\t\twriteMethod.setAccessible(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\twriteMethod.invoke(target, value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (Throwable ex) {\r\n\t\t\t\t\t\t\tthrow new FatalBeanException(\r\n\t\t\t\t\t\t\t\t\t&quot;Could not copy property &#39;&quot; + targetPd.getName() + &quot;&#39; from source to target&quot;, ex);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n```\r\n\r\nJust focus on these lines:\r\n\r\n```\r\nObject value = readMethod.invoke(source);\r\n...\r\nwriteMethod.invoke(target, value);\r\n```\r\n\r\nThis line calls the setter on the target object. Imagine this class:\r\n\r\n```\r\nclass Student {\r\n    private String name;\r\n    private Address address;\r\n}\r\n```\r\nIf we have `student1` and `student2`, the second is just intanciated and not assigned any fields, `student1` has `address1` and name `John`. \r\n\r\nSo, if we call:\r\n\r\n```\r\n    BeanUtils.copyProperties(student1, student2);\r\n```\r\nWe are doing:\r\n```\r\n    student2.setName(student1.getName()); // this is copy because String is immutable\r\n    student2.setAddress(student1.getAddress()); // this is NOT copy, we still are referencing `address1`\r\n```\r\nWhen `address1` changes, it changes `student2` too. \r\n\r\nSo, `BeanUtils.copyProperties()` *only works on primitive types and String fields* of the object; if it is nested, it does not work; or, you have to make sure the immutability of the original object during the whole lifecycle of the target object, which, is not easy and desirable.\r\n\r\n---\r\n\r\nIf you really want to make it a deep copy, you have to implement some way to *recursively* calls this method on fields which are not primitives. At last you will reach a class with only primitive/immutable fields and then you are done. \r\n\r\n","title":"Should we use clone or BeanUtils.copyProperties and why","body":"<p>I have checked the source code and I found that it is only copying the &quot;first level&quot; of <strong>primitive</strong> properties. When it comes to a nested object, the nested properties are still referencing the original object's fields, so it is not a &quot;deep copy&quot;.</p>\n<p>Check this snippets from Spring source code from <code>org.springframework.beans.BeanUtils.java</code>, version 5.1.3:</p>\n<pre><code>/**\n     * Copy the property values of the given source bean into the target bean.\n     * &lt;p&gt;Note: The source and target classes do not have to match or even be derived\n     * from each other, as long as the properties match. Any bean properties that the\n     * source bean exposes but the target bean does not will silently be ignored.\n     * &lt;p&gt;This is just a convenience method. For more complex transfer needs,\n     * consider using a full BeanWrapper.\n     * @param source the source bean\n     * @param target the target bean\n     * @throws BeansException if the copying failed\n     * @see BeanWrapper\n     */\n    public static void copyProperties(Object source, Object target) throws BeansException {\n        copyProperties(source, target, null, (String[]) null);\n    }\n\n...\n\n    /**\n     * Copy the property values of the given source bean into the given target bean.\n     * &lt;p&gt;Note: The source and target classes do not have to match or even be derived\n     * from each other, as long as the properties match. Any bean properties that the\n     * source bean exposes but the target bean does not will silently be ignored.\n     * @param source the source bean\n     * @param target the target bean\n     * @param editable the class (or interface) to restrict property setting to\n     * @param ignoreProperties array of property names to ignore\n     * @throws BeansException if the copying failed\n     * @see BeanWrapper\n     */\n    private static void copyProperties(Object source, Object target, @Nullable Class&lt;?&gt; editable,\n            @Nullable String... ignoreProperties) throws BeansException {\n\n        Assert.notNull(source, &quot;Source must not be null&quot;);\n        Assert.notNull(target, &quot;Target must not be null&quot;);\n\n        Class&lt;?&gt; actualEditable = target.getClass();\n        if (editable != null) {\n            if (!editable.isInstance(target)) {\n                throw new IllegalArgumentException(&quot;Target class [&quot; + target.getClass().getName() +\n                        &quot;] not assignable to Editable class [&quot; + editable.getName() + &quot;]&quot;);\n            }\n            actualEditable = editable;\n        }\n        PropertyDescriptor[] targetPds = getPropertyDescriptors(actualEditable);\n        List&lt;String&gt; ignoreList = (ignoreProperties != null ? Arrays.asList(ignoreProperties) : null);\n\n        for (PropertyDescriptor targetPd : targetPds) {\n            Method writeMethod = targetPd.getWriteMethod();\n            if (writeMethod != null &amp;&amp; (ignoreList == null || !ignoreList.contains(targetPd.getName()))) {\n                PropertyDescriptor sourcePd = getPropertyDescriptor(source.getClass(), targetPd.getName());\n                if (sourcePd != null) {\n                    Method readMethod = sourcePd.getReadMethod();\n                    if (readMethod != null &amp;&amp;\n                            ClassUtils.isAssignable(writeMethod.getParameterTypes()[0], readMethod.getReturnType())) {\n                        try {\n                            if (!Modifier.isPublic(readMethod.getDeclaringClass().getModifiers())) {\n                                readMethod.setAccessible(true);\n                            }\n                            Object value = readMethod.invoke(source);\n                            if (!Modifier.isPublic(writeMethod.getDeclaringClass().getModifiers())) {\n                                writeMethod.setAccessible(true);\n                            }\n                            writeMethod.invoke(target, value);\n                        }\n                        catch (Throwable ex) {\n                            throw new FatalBeanException(\n                                    &quot;Could not copy property '&quot; + targetPd.getName() + &quot;' from source to target&quot;, ex);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n</code></pre>\n<p>Just focus on these lines:</p>\n<pre><code>Object value = readMethod.invoke(source);\n...\nwriteMethod.invoke(target, value);\n</code></pre>\n<p>This line calls the setter on the target object. Imagine this class:</p>\n<pre><code>class Student {\n    private String name;\n    private Address address;\n}\n</code></pre>\n<p>If we have <code>student1</code> and <code>student2</code>, the second is just intanciated and not assigned any fields, <code>student1</code> has <code>address1</code> and name <code>John</code>.</p>\n<p>So, if we call:</p>\n<pre><code>    BeanUtils.copyProperties(student1, student2);\n</code></pre>\n<p>We are doing:</p>\n<pre><code>    student2.setName(student1.getName()); // this is copy because String is immutable\n    student2.setAddress(student1.getAddress()); // this is NOT copy, we still are referencing `address1`\n</code></pre>\n<p>When <code>address1</code> changes, it changes <code>student2</code> too.</p>\n<p>So, <code>BeanUtils.copyProperties()</code> <em>only works on primitive types and String fields</em> of the object; if it is nested, it does not work; or, you have to make sure the immutability of the original object during the whole lifecycle of the target object, which, is not easy and desirable.</p>\n<hr />\n<p>If you really want to make it a deep copy, you have to implement some way to <em>recursively</em> calls this method on fields which are not primitives. At last you will reach a class with only primitive/immutable fields and then you are done.</p>\n"},{"tags":[],"owner":{"account_id":11839714,"reputation":1,"user_id":8663939,"display_name":"Umang Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633914692,"creation_date":1633914692,"answer_id":69520095,"question_id":15542504,"body_markdown":"The best solution for a deep copy of Objects of any class would be where there is recursion to handle Object inside an Object as well, and the real GET &amp; SET functions are used to maintain Object Integrity.\r\n\r\nThe solution I would like to put forward is to find all GET functions of the Source Object and match them with the SET functions of Target Object. If they match in ReturnType -&gt; Parameter then execute the copy. If they are not matching, try to call deep copy for those internal objects.\r\n\r\n    private void objectCopier(Object SourceObject, Object TargetObject) {\r\n        \t// Get Class Objects of Source and Target\r\n        \tClass&lt;?&gt; SourceClass = SourceObject.getClass();\r\n        \tClass&lt;?&gt; TargetClass = TargetObject.getClass();\r\n        \t// Get all Methods of Source Class\r\n        \tMethod[] sourceClassMethods = SourceClass.getDeclaredMethods();\r\n        \tfor(Method getter : sourceClassMethods) {\r\n        \t\tString getterName = getter.getName();\r\n        \t\t// Check if method is Getter\r\n        \t\tif(getterName.substring(0,3).equals(&quot;get&quot;)){\r\n        \t\t\ttry {\r\n        \t\t\t\t// Call Setter of TargetClass with getter return as parameter\r\n        \t\t\t\tTargetClass.getMethod(&quot;set&quot;+getterName.substring(3), getter.getReturnType()).invoke(TargetObject, getter.invoke(SourceObject));\r\n        \t\t\t}catch(IllegalAccessException | IllegalArgumentException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\r\n        \t\t\t\ttry {\r\n    \t    \t\t\t\t// Get Class of the type Setter in Target object is expecting\r\n    \t\t    \t\t\tClass&lt;?&gt; SetTargetClass = TargetClass.getMethod(getterName).getReturnType();\r\n    \t\t    \t\t\t// Create new object of Setter Parameter of Target\r\n    \t\t\t\t\t\tObject setTargetObject = SetTargetClass.newInstance();\r\n    \t\t\t\t\t\t// Copy properties of return object of the Source Object to Target Object\r\n    \t\t\t\t\t\tobjectCopier(getter.invoke(SourceObject), setTargetObject);\r\n    \t\t\t\t\t\t// Set the copied object to the Target Object property\r\n    \t\t\t\t\t\tTargetClass.getMethod(&quot;set&quot;+getterName.substring(3),SetTargetClass).invoke(TargetObject, setTargetObject);\r\n        \t\t\t\t} catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException\r\n            \t\t\t\t\t| NoSuchMethodException | SecurityException | InstantiationException ef) {\r\n            \t\t\t\tSystem.out.println(getterName);\r\n            \t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }","title":"Should we use clone or BeanUtils.copyProperties and why","body":"<p>The best solution for a deep copy of Objects of any class would be where there is recursion to handle Object inside an Object as well, and the real GET &amp; SET functions are used to maintain Object Integrity.</p>\n<p>The solution I would like to put forward is to find all GET functions of the Source Object and match them with the SET functions of Target Object. If they match in ReturnType -&gt; Parameter then execute the copy. If they are not matching, try to call deep copy for those internal objects.</p>\n<pre><code>private void objectCopier(Object SourceObject, Object TargetObject) {\n        // Get Class Objects of Source and Target\n        Class&lt;?&gt; SourceClass = SourceObject.getClass();\n        Class&lt;?&gt; TargetClass = TargetObject.getClass();\n        // Get all Methods of Source Class\n        Method[] sourceClassMethods = SourceClass.getDeclaredMethods();\n        for(Method getter : sourceClassMethods) {\n            String getterName = getter.getName();\n            // Check if method is Getter\n            if(getterName.substring(0,3).equals(&quot;get&quot;)){\n                try {\n                    // Call Setter of TargetClass with getter return as parameter\n                    TargetClass.getMethod(&quot;set&quot;+getterName.substring(3), getter.getReturnType()).invoke(TargetObject, getter.invoke(SourceObject));\n                }catch(IllegalAccessException | IllegalArgumentException | InvocationTargetException | NoSuchMethodException | SecurityException e) {\n                    try {\n                        // Get Class of the type Setter in Target object is expecting\n                        Class&lt;?&gt; SetTargetClass = TargetClass.getMethod(getterName).getReturnType();\n                        // Create new object of Setter Parameter of Target\n                        Object setTargetObject = SetTargetClass.newInstance();\n                        // Copy properties of return object of the Source Object to Target Object\n                        objectCopier(getter.invoke(SourceObject), setTargetObject);\n                        // Set the copied object to the Target Object property\n                        TargetClass.getMethod(&quot;set&quot;+getterName.substring(3),SetTargetClass).invoke(TargetObject, setTargetObject);\n                    } catch (IllegalAccessException | IllegalArgumentException | InvocationTargetException\n                            | NoSuchMethodException | SecurityException | InstantiationException ef) {\n                        System.out.println(getterName);\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62030,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":15591144,"answer_count":8,"score":37,"last_activity_date":1685526700,"creation_date":1363854283,"question_id":15542504,"body_markdown":"By the looks of it - `BeanUtils.copyProperties` seems to create a clone of an object. If this is the case, and what with the concerns around implementing the Cloneable interface (Only immutable objects are new where as mutable objects have references copied) which is the best and why?\r\n\r\nI yesterday implemented cloneable and then realised I had to provide my own modifications for non **String/Primative** elements. I was then informed about `BeanUtils.copyProperties` which I am now using. Both implementations seem to provide a similar functionality.\r\n\r\n\r\nThanks","title":"Should we use clone or BeanUtils.copyProperties and why","body":"<p>By the looks of it - <code>BeanUtils.copyProperties</code> seems to create a clone of an object. If this is the case, and what with the concerns around implementing the Cloneable interface (Only immutable objects are new where as mutable objects have references copied) which is the best and why?</p>\n\n<p>I yesterday implemented cloneable and then realised I had to provide my own modifications for non <strong>String/Primative</strong> elements. I was then informed about <code>BeanUtils.copyProperties</code> which I am now using. Both implementations seem to provide a similar functionality.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","button"],"comments":[{"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"score":8,"creation_date":1454698003,"post_id":17960599,"comment_id":58177167,"body_markdown":"DATerre&#39;s answer has been correct for two years. Can you mark it as so?","body":"DATerre&#39;s answer has been correct for two years. Can you mark it as so?"},{"owner":{"account_id":4958971,"reputation":7891,"user_id":3990767,"accept_rate":100,"display_name":"SOFe"},"score":1,"creation_date":1469790802,"post_id":17960599,"comment_id":64695807,"body_markdown":"This question requires editing to have a better title. It has become the first result in Google Search whiile it doesn&#39;t really answer the question.","body":"This question requires editing to have a better title. It has become the first result in Google Search whiile it doesn&#39;t really answer the question."}],"answers":[{"tags":[],"owner":{"account_id":105929,"reputation":8881,"user_id":282398,"accept_rate":100,"display_name":"Delyan"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1375237819,"creation_date":1375237819,"answer_id":17960625,"question_id":17960599,"body_markdown":"That&#39;s not padding, it&#39;s the shadow around the button in its background drawable. Create your own background and it will disappear.","title":"How to remove padding around buttons in Android?","body":"<p>That's not padding, it's the shadow around the button in its background drawable. Create your own background and it will disappear.</p>\n"},{"tags":[],"owner":{"account_id":1371289,"reputation":25857,"user_id":1306419,"accept_rate":85,"display_name":"Shobhit Puri"},"down_vote_count":5,"up_vote_count":32,"is_accepted":false,"score":27,"last_activity_date":1375238774,"creation_date":1375238421,"answer_id":17960713,"question_id":17960599,"body_markdown":"A workaround may be to try to use `-ve` values for margins like following:\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button_back&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick=&quot;CloseActivity&quot;\r\n        android:padding=&quot;0dp&quot;\r\n        android:layout_marginLeft=&quot;-5dip&quot;\r\n        android:layout_marginRight=&quot;-5dip&quot;\r\n        android:layout_marginTop=&quot;-5dip&quot;\r\n        android:layout_marginBottom=&quot;-5dip&quot;\r\n        android:text=&quot;@string/back&quot; /&gt;\r\n    \r\n    \r\nIt will make that space vanish. I mean you can choose the appropriate `dip` value, which makes it go away. It worked for me. Hope it works for you.\r\n    ","title":"How to remove padding around buttons in Android?","body":"<p>A workaround may be to try to use <code>-ve</code> values for margins like following:</p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/button_back\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:onClick=\"CloseActivity\"\n    android:padding=\"0dp\"\n    android:layout_marginLeft=\"-5dip\"\n    android:layout_marginRight=\"-5dip\"\n    android:layout_marginTop=\"-5dip\"\n    android:layout_marginBottom=\"-5dip\"\n    android:text=\"@string/back\" /&gt;\n</code></pre>\n\n<p>It will make that space vanish. I mean you can choose the appropriate <code>dip</code> value, which makes it go away. It worked for me. Hope it works for you.</p>\n"},{"tags":[],"owner":{"account_id":3065497,"reputation":1582,"user_id":2597290,"accept_rate":71,"display_name":"Casey Murray"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1447855081,"creation_date":1375238623,"answer_id":17960736,"question_id":17960599,"body_markdown":"I am new to android but I had a similar situation. I did what @Delyan suggested and also used android:background=&quot;@null&quot; in the xml layout file.","title":"How to remove padding around buttons in Android?","body":"<p>I am new to android but I had a similar situation. I did what @Delyan suggested and also used android:background=\"@null\" in the xml layout file.</p>\n"},{"tags":[],"owner":{"account_id":134493,"reputation":6152,"user_id":336666,"accept_rate":100,"display_name":"D. A. Terre"},"down_vote_count":2,"up_vote_count":585,"is_accepted":true,"score":583,"last_activity_date":1385972689,"creation_date":1385972689,"answer_id":20323723,"question_id":17960599,"body_markdown":"For me the problem turned out to be minHeight and minWidth on some of the Android themes.\r\n\r\nOn the Button element, add:\r\n\r\n    &lt;Button android:minHeight=&quot;0dp&quot; android:minWidth=&quot;0dp&quot; ...\r\n\r\nOr in your button&#39;s style:\r\n\r\n    &lt;item name=&quot;android:minHeight&quot;&gt;0dp&lt;/item&gt;\r\n    &lt;item name=&quot;android:minWidth&quot;&gt;0dp&lt;/item&gt;\r\n","title":"How to remove padding around buttons in Android?","body":"<p>For me the problem turned out to be minHeight and minWidth on some of the Android themes.</p>\n\n<p>On the Button element, add:</p>\n\n<pre><code>&lt;Button android:minHeight=\"0dp\" android:minWidth=\"0dp\" ...\n</code></pre>\n\n<p>Or in your button's style:</p>\n\n<pre><code>&lt;item name=\"android:minHeight\"&gt;0dp&lt;/item&gt;\n&lt;item name=\"android:minWidth\"&gt;0dp&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":387432,"reputation":2388,"user_id":745776,"accept_rate":67,"display_name":"juil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466714163,"creation_date":1466714163,"answer_id":38001356,"question_id":17960599,"body_markdown":"It doesn&#39;t seem to be padding, margin, or minheight/width.\r\nSetting `android:background=&quot;@null&quot;` the button loses its touch animation, but it turns out that setting the background to anything at all fixes that border.\r\n\r\n\r\n----------\r\n\r\n\r\nI am currently working with:\r\n\r\n    minSdkVersion 19\r\n    targetSdkVersion 23\r\n\r\n","title":"How to remove padding around buttons in Android?","body":"<p>It doesn't seem to be padding, margin, or minheight/width.\nSetting <code>android:background=\"@null\"</code> the button loses its touch animation, but it turns out that setting the background to anything at all fixes that border.</p>\n\n<hr>\n\n<p>I am currently working with:</p>\n\n<pre><code>minSdkVersion 19\ntargetSdkVersion 23\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201081,"reputation":165,"user_id":1005462,"display_name":"user1005462"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1471307322,"creation_date":1470815933,"answer_id":38867440,"question_id":17960599,"body_markdown":"In the button&#39;s XML set `android:includeFontPadding=&quot;false&quot;`","title":"How to remove padding around buttons in Android?","body":"<p>In the button's XML set <code>android:includeFontPadding=\"false\"</code></p>\n"},{"tags":[],"owner":{"account_id":6540319,"reputation":93,"user_id":5058162,"display_name":"Panagiotis"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1522753043,"creation_date":1484320755,"answer_id":41637837,"question_id":17960599,"body_markdown":"I had the same problem and it seems that it is because of the **background color** of the button. Try changing the background color to another color eg:\r\n\r\n    android:background=&quot;@color/colorActive&quot;\r\n\r\nand see if it works. You can then *define a style* if you want for the button to use.","title":"How to remove padding around buttons in Android?","body":"<p>I had the same problem and it seems that it is because of the <strong>background color</strong> of the button. Try changing the background color to another color eg:</p>\n\n<pre><code>android:background=\"@color/colorActive\"\n</code></pre>\n\n<p>and see if it works. You can then <em>define a style</em> if you want for the button to use.</p>\n"},{"tags":[],"owner":{"account_id":8937446,"reputation":399,"user_id":6667795,"display_name":"Yashoda Bane"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1506165952,"creation_date":1506165952,"answer_id":46379073,"question_id":17960599,"body_markdown":"For removing padding around toggle button we need set minWidth and minHeight 0dp.`android:minWidth=&quot;0dp&quot; android:minHeight=&quot;0dp&quot;`\r\n\r\n      &lt;ToggleButton\r\n            android:id=&quot;@+id/toggle_row_notifications&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:minWidth=&quot;0dp&quot;\r\n            android:minHeight=&quot;0dp&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:padding=&quot;@dimen/_5sdp&quot;\r\n            android:textOn=&quot;&quot;\r\n            android:textOff=&quot;&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:button=&quot;@drawable/toggle_selector&quot;\r\n            /&gt;\r\n\r\nset your drawable file to button attribute like: ` android:button=&quot;@drawable/toggle_selector&quot;`\r\n\r\n\r\nBelow is my `toggle_selecter.xml` file\r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n         &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n                &lt;item android:drawable=&quot;@drawable/notifications_toggle_on&quot; \r\n                      android:state_checked=&quot;true&quot;/&gt;\r\n                &lt;item android:drawable=&quot;@drawable/notifications_toggle_off&quot; \r\n                      android:state_checked=&quot;false&quot;/&gt;\r\n         &lt;/selector&gt;","title":"How to remove padding around buttons in Android?","body":"<p>For removing padding around toggle button we need set minWidth and minHeight 0dp.<code>android:minWidth=\"0dp\" android:minHeight=\"0dp\"</code></p>\n\n<pre><code>  &lt;ToggleButton\n        android:id=\"@+id/toggle_row_notifications\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:minWidth=\"0dp\"\n        android:minHeight=\"0dp\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_centerVertical=\"true\"\n        android:padding=\"@dimen/_5sdp\"\n        android:textOn=\"\"\n        android:textOff=\"\"\n        android:background=\"@android:color/transparent\"\n        android:button=\"@drawable/toggle_selector\"\n        /&gt;\n</code></pre>\n\n<p>set your drawable file to button attribute like: <code>android:button=\"@drawable/toggle_selector\"</code></p>\n\n<p>Below is my <code>toggle_selecter.xml</code> file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n     &lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n            &lt;item android:drawable=\"@drawable/notifications_toggle_on\" \n                  android:state_checked=\"true\"/&gt;\n            &lt;item android:drawable=\"@drawable/notifications_toggle_off\" \n                  android:state_checked=\"false\"/&gt;\n     &lt;/selector&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360355,"reputation":5911,"user_id":2067157,"accept_rate":78,"display_name":"Allan Veloso"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1552350995,"creation_date":1531713400,"answer_id":51354387,"question_id":17960599,"body_markdown":"It&#39;s not a padding but or the shadow of the background drawable or a problem with the `minHeight` and `minWidth`.\r\n\r\nIf you still want the nice ripple affect, you can make your own button style using the `?attr/selectableItemBackground`:\r\n\r\n    &lt;style name=&quot;Widget.AppTheme.MyCustomButton&quot; parent=&quot;Widget.AppCompat.Button.Borderless&quot;&gt;\r\n        &lt;item name=&quot;android:minHeight&quot;&gt;0dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:minWidth&quot;&gt;0dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;48dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;?attr/selectableItemBackground&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAnd apply it to the button:\r\n\r\n    &lt;Button \r\n        style=&quot;@style/Widget.AppTheme.MyCustomButton&quot;\r\n        ... /&gt;\r\n\r\n","title":"How to remove padding around buttons in Android?","body":"<p>It's not a padding but or the shadow of the background drawable or a problem with the <code>minHeight</code> and <code>minWidth</code>.</p>\n\n<p>If you still want the nice ripple affect, you can make your own button style using the <code>?attr/selectableItemBackground</code>:</p>\n\n<pre><code>&lt;style name=\"Widget.AppTheme.MyCustomButton\" parent=\"Widget.AppCompat.Button.Borderless\"&gt;\n    &lt;item name=\"android:minHeight\"&gt;0dp&lt;/item&gt;\n    &lt;item name=\"android:minWidth\"&gt;0dp&lt;/item&gt;\n    &lt;item name=\"android:layout_height\"&gt;48dp&lt;/item&gt;\n    &lt;item name=\"android:background\"&gt;?attr/selectableItemBackground&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>And apply it to the button:</p>\n\n<pre><code>&lt;Button \n    style=\"@style/Widget.AppTheme.MyCustomButton\"\n    ... /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244719,"reputation":5617,"user_id":517733,"accept_rate":50,"display_name":"Mike6679"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538398745,"creation_date":1538398745,"answer_id":52591719,"question_id":17960599,"body_markdown":"Give your button a custom background:   &lt;item name=&quot;android:background&quot;&gt;@drawable/material_btn_blue&lt;/item&gt;","title":"How to remove padding around buttons in Android?","body":"<p>Give your button a custom background:   @drawable/material_btn_blue</p>\n"},{"tags":[],"owner":{"account_id":9470871,"reputation":1070,"user_id":7041761,"display_name":"Neuron"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1540144051,"creation_date":1540144051,"answer_id":52918174,"question_id":17960599,"body_markdown":"You can also do it with `layout_width(height)` parameters. \r\n\r\nE.g. I have deleted top and bottom space with `android:layout_height=&quot;18dp&quot;` code.","title":"How to remove padding around buttons in Android?","body":"<p>You can also do it with <code>layout_width(height)</code> parameters. </p>\n\n<p>E.g. I have deleted top and bottom space with <code>android:layout_height=\"18dp\"</code> code.</p>\n"},{"tags":[],"owner":{"account_id":3944321,"reputation":1019,"user_id":3257579,"accept_rate":88,"display_name":"golkarm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568295496,"creation_date":1568295496,"answer_id":57907991,"question_id":17960599,"body_markdown":"A standard button is not supposed to be used at _full width_ which is why you experience this.\r\n\r\n## Background\r\n\r\nIf you have a look at the [_Material Design - Button Style_][2] you will see that a button has a 48dp height click area, but will be displayed as 36dp of height for...some reason.\r\n\r\nThis is the background outline you see, which will not cover the whole area of the button itself.  \r\nIt has rounded corners and some padding and is supposed to be clickable by itself, wrap its content, and not span the whole width at the bottom of your screen.\r\n\r\n## Solution\r\n\r\nAs mentioned above, what you want is a different _background_. Not a standard button, but a background for a selectable item with this nice ripple effect.\r\n\r\nFor this use case there is the `?selectableItemBackground` theme attribute which you can use for your backgrounds (especially in lists).  \r\nIt will add a platform standard ripple (or some color state list on &lt; 21) and will use your current theme colors.\r\n\r\nFor your usecase you might just use the following:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/sign_in_button&quot;\r\n        style=&quot;?android:attr/buttonBarButtonStyle&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Login&quot;\r\n        android:background=&quot;?attr/selectableItemBackground&quot; /&gt;\r\n                       &lt;!--  /\\ that&#39;s all --&gt;\r\n\r\n_There is also no need to add layout weights if your view is the only one and spans the whole screen_\r\n\r\nIf you have some different idea on what your background should look like you have to create a custom drawable yourself, and manage color and state there.\r\n\r\n&gt; This answer copied from [**Question:** How to properly remove padding (or margin?) around buttons in Android?\r\n][1]\r\n\r\n  [1]: https://stackoverflow.com/a/43298421/3257579\r\n  [2]:https://material.io/guidelines/components/buttons.html#buttons-style","title":"How to remove padding around buttons in Android?","body":"<p>A standard button is not supposed to be used at <em>full width</em> which is why you experience this.</p>\n\n<h2>Background</h2>\n\n<p>If you have a look at the <a href=\"https://material.io/guidelines/components/buttons.html#buttons-style\" rel=\"nofollow noreferrer\"><em>Material Design - Button Style</em></a> you will see that a button has a 48dp height click area, but will be displayed as 36dp of height for...some reason.</p>\n\n<p>This is the background outline you see, which will not cover the whole area of the button itself.<br>\nIt has rounded corners and some padding and is supposed to be clickable by itself, wrap its content, and not span the whole width at the bottom of your screen.</p>\n\n<h2>Solution</h2>\n\n<p>As mentioned above, what you want is a different <em>background</em>. Not a standard button, but a background for a selectable item with this nice ripple effect.</p>\n\n<p>For this use case there is the <code>?selectableItemBackground</code> theme attribute which you can use for your backgrounds (especially in lists).<br>\nIt will add a platform standard ripple (or some color state list on &lt; 21) and will use your current theme colors.</p>\n\n<p>For your usecase you might just use the following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Button\n    android:id=\"@+id/sign_in_button\"\n    style=\"?android:attr/buttonBarButtonStyle\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Login\"\n    android:background=\"?attr/selectableItemBackground\" /&gt;\n                   &lt;!--  /\\ that's all --&gt;\n</code></pre>\n\n<p><em>There is also no need to add layout weights if your view is the only one and spans the whole screen</em></p>\n\n<p>If you have some different idea on what your background should look like you have to create a custom drawable yourself, and manage color and state there.</p>\n\n<blockquote>\n  <p>This answer copied from <a href=\"https://stackoverflow.com/a/43298421/3257579\"><strong>Question:</strong> How to properly remove padding (or margin?) around buttons in Android?\n  </a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6420798,"reputation":2371,"user_id":4977596,"display_name":"sochas"},"down_vote_count":0,"up_vote_count":212,"is_accepted":false,"score":212,"last_activity_date":1569408084,"creation_date":1569408084,"answer_id":58096571,"question_id":17960599,"body_markdown":"My solution was set to 0 the insetTop and insetBottom properties.\r\n\r\n    &lt;android.support.design.button.MaterialButton\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:insetTop=&quot;0dp&quot;\r\n            android:insetBottom=&quot;0dp&quot;\r\n            android:text=&quot;@string/view_video&quot;\r\n            android:textColor=&quot;@color/white&quot;/&gt;","title":"How to remove padding around buttons in Android?","body":"<p>My solution was set to 0 the insetTop and insetBottom properties.</p>\n\n<pre><code>&lt;android.support.design.button.MaterialButton\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:insetTop=\"0dp\"\n        android:insetBottom=\"0dp\"\n        android:text=\"@string/view_video\"\n        android:textColor=\"@color/white\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4665479,"reputation":2847,"user_id":3778645,"display_name":"Alec Gerona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576061793,"creation_date":1576061793,"answer_id":59284250,"question_id":17960599,"body_markdown":"After hours of digging around multiple answers I finally found a solution that doesn&#39;t use a different element, manipulate `minHeight` or `minWidth`, or even wrapping `Button` around a `RelativeLayout`. \r\n\r\n    &lt;Button\r\n        android:foreground=&quot;?attr/selectableItemBackground&quot;\r\n        android:background=&quot;@color/whatever&quot; /&gt;\r\nThe main takeaway here is the setting of the foreground instead of background as many of the answers stipulate. Changing the background itself to `selectableItemBackground` will just overwrite any changes you made to the button&#39;s color/background, if any. \r\n\r\nChanging the foreground gives you the best of both worlds: get rid of the &quot;invisible&quot; padding and retain your button&#39;s design.\r\n","title":"How to remove padding around buttons in Android?","body":"<p>After hours of digging around multiple answers I finally found a solution that doesn't use a different element, manipulate <code>minHeight</code> or <code>minWidth</code>, or even wrapping <code>Button</code> around a <code>RelativeLayout</code>. </p>\n\n<pre><code>&lt;Button\n    android:foreground=\"?attr/selectableItemBackground\"\n    android:background=\"@color/whatever\" /&gt;\n</code></pre>\n\n<p>The main takeaway here is the setting of the foreground instead of background as many of the answers stipulate. Changing the background itself to <code>selectableItemBackground</code> will just overwrite any changes you made to the button's color/background, if any. </p>\n\n<p>Changing the foreground gives you the best of both worlds: get rid of the \"invisible\" padding and retain your button's design.</p>\n"},{"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589440402,"creation_date":1589440041,"answer_id":61791288,"question_id":17960599,"body_markdown":"You can use **Borderless** style in **AppCompatButton** like below. and use **android:background** with it.\r\n\r\n\r\n&gt; **style=&quot;@style/Widget.AppCompat.Button.Borderless.Colored&quot;**\r\n\r\nButton code\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n            android:id=&quot;@+id/button_visa_next&quot;\r\n            android:background=&quot;@color/colorPrimary&quot;\r\n            style=&quot;@style/Widget.AppCompat.Button.Borderless.Colored&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;@dimen/spacing_normal&quot;\r\n            android:text=&quot;@string/next&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iKKJb.png","title":"How to remove padding around buttons in Android?","body":"<p>You can use <strong>Borderless</strong> style in <strong>AppCompatButton</strong> like below. and use <strong>android:background</strong> with it.</p>\n\n<blockquote>\n  <p><strong>style=\"@style/Widget.AppCompat.Button.Borderless.Colored\"</strong></p>\n</blockquote>\n\n<p>Button code</p>\n\n<pre><code>&lt;androidx.appcompat.widget.AppCompatButton\n        android:id=\"@+id/button_visa_next\"\n        android:background=\"@color/colorPrimary\"\n        style=\"@style/Widget.AppCompat.Button.Borderless.Colored\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"@dimen/spacing_normal\"\n        android:text=\"@string/next\"\n        android:textColor=\"@color/white\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n</code></pre>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iKKJb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iKKJb.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6832619,"reputation":3111,"user_id":5255963,"display_name":"Ali Rezaiyan"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1591866284,"creation_date":1591866284,"answer_id":62320792,"question_id":17960599,"body_markdown":"To remove the Top and Bottom padding\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:minHeight=&quot;0dp&quot;//to effect the following parameters, this must be added!\r\n            android:insetTop=&quot;0dp&quot;\r\n            android:insetBottom=&quot;0dp&quot;/&gt;\r\n\r\nTo remove the Left and Right padding\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:minWidth=&quot;0dp&quot;//to effect the following parameters, this must be added!\r\n            android:insetLeft=&quot;0dp&quot;\r\n            android:insetRight=&quot;0dp&quot;/&gt;","title":"How to remove padding around buttons in Android?","body":"<p>To remove the Top and Bottom padding</p>\n\n<pre><code>&lt;com.google.android.material.button.MaterialButton\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:minHeight=\"0dp\"//to effect the following parameters, this must be added!\n        android:insetTop=\"0dp\"\n        android:insetBottom=\"0dp\"/&gt;\n</code></pre>\n\n<p>To remove the Left and Right padding</p>\n\n<pre><code>&lt;com.google.android.material.button.MaterialButton\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:minWidth=\"0dp\"//to effect the following parameters, this must be added!\n        android:insetLeft=\"0dp\"\n        android:insetRight=\"0dp\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17095722,"reputation":954,"user_id":12370758,"display_name":"Prakash Reddy"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1596796423,"creation_date":1596796423,"answer_id":63300025,"question_id":17960599,"body_markdown":"for MaterialButton, add below properties, it will work perfectly\r\n\r\n    &lt;android.support.design.button.MaterialButton\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:insetTop=&quot;0dp&quot;\r\n        android:insetBottom=&quot;0dp&quot;/&gt;","title":"How to remove padding around buttons in Android?","body":"<p>for MaterialButton, add below properties, it will work perfectly</p>\n<pre><code>&lt;android.support.design.button.MaterialButton\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:insetTop=&quot;0dp&quot;\n    android:insetBottom=&quot;0dp&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2620825,"reputation":723,"user_id":4272167,"accept_rate":83,"display_name":"Maduro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629998001,"creation_date":1629998001,"answer_id":68942812,"question_id":17960599,"body_markdown":"For `&lt;androidx.appcompat.widget.AppCompatButton&gt;`\r\n\r\n               &lt;androidx.appcompat.widget.AppCompatButton\r\n                    .\r\n                    .\r\n                    android:minHeight=&quot;0dp&quot;\r\n                    android:minWidth=&quot;0dp&quot; \r\n                   &gt;\r\n\r\n                &lt;/androidx.appcompat.widget.AppCompatButton&gt;","title":"How to remove padding around buttons in Android?","body":"<p>For <code>&lt;androidx.appcompat.widget.AppCompatButton&gt;</code></p>\n<pre><code>           &lt;androidx.appcompat.widget.AppCompatButton\n                .\n                .\n                android:minHeight=&quot;0dp&quot;\n                android:minWidth=&quot;0dp&quot; \n               &gt;\n\n            &lt;/androidx.appcompat.widget.AppCompatButton&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3447122,"reputation":3809,"user_id":4850553,"display_name":"Mikhail Sharin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640178001,"creation_date":1640178001,"answer_id":70449478,"question_id":17960599,"body_markdown":"To remove `AppCompatButton` paddings programmatically:\r\n\r\n    button.setPadding(0, 0, 0, 0)\r\n    button.minHeight = 0\r\n    button.minimumHeight = 0","title":"How to remove padding around buttons in Android?","body":"<p>To remove <code>AppCompatButton</code> paddings programmatically:</p>\n<pre><code>button.setPadding(0, 0, 0, 0)\nbutton.minHeight = 0\nbutton.minimumHeight = 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21255563,"reputation":143,"user_id":15637138,"display_name":"Fawzi Abd-Elaal"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1676497686,"creation_date":1656538562,"answer_id":72808137,"question_id":17960599,"body_markdown":"Add these properties:\r\n    \r\n        android:insetTop=&quot;0dp&quot;\r\n        android:insetBottom=&quot;0dp&quot;\r\n        android:minWidth=&quot;0dp&quot;\r\n        android:minHeight=&quot;0dp&quot;\r\n        android:padding=&quot;0dp&quot;","title":"How to remove padding around buttons in Android?","body":"<p>Add these properties:</p>\n<pre><code>    android:insetTop=&quot;0dp&quot;\n    android:insetBottom=&quot;0dp&quot;\n    android:minWidth=&quot;0dp&quot;\n    android:minHeight=&quot;0dp&quot;\n    android:padding=&quot;0dp&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685526519,"creation_date":1684892037,"answer_id":76319571,"question_id":17960599,"body_markdown":"If you use (now material) `Button` with style, add there parameters:\r\n\r\n    &lt;style name=&quot;SomeButton&quot; parent=&quot;Widget.MaterialComponents.Button.TextButton&quot;&gt;\r\n        &lt;item name=&quot;android:insetTop&quot;&gt;0dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:insetBottom&quot;&gt;0dp&lt;/item&gt;\r\n        &lt;!-- Margins between buttons --&gt;\r\n        &lt;item name=&quot;android:layout_marginTop&quot;&gt;4dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_marginBottom&quot;&gt;4dp&lt;/item&gt;\r\n        &lt;!-- Remove extra paddings --&gt;\r\n        &lt;item name=&quot;android:minHeight&quot;&gt;0dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;Button\r\n        style=&quot;@style/SomeButton&quot;\r\n        ...\r\n\r\nIn case you set a drawable as a background and want to add some margins, don&#39;t use upper code. You should add *top and bottom margins* to the drawable:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;!-- Top and bottom margins --&gt;\r\n        &lt;item\r\n            android:bottom=&quot;4dp&quot;\r\n            android:top=&quot;4dp&quot;&gt;\r\n            &lt;!-- Below follows your drawable --&gt;\r\n            &lt;selector&gt;\r\n                &lt;item android:state_enabled=&quot;false&quot;&gt;\r\n                    &lt;shape&gt;\r\n                        &lt;solid android:color=&quot;#f0f0f0&quot; /&gt;\r\n                    &lt;/shape&gt;\r\n                &lt;/item&gt;\r\n                &lt;item android:state_enabled=&quot;true&quot;&gt;\r\n                    &lt;shape&gt;\r\n                        &lt;solid android:color=&quot;#ffff80&quot; /&gt;\r\n                    &lt;/shape&gt;\r\n                &lt;/item&gt;\r\n            &lt;/selector&gt;\r\n        &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\n    &lt;Button\r\n        android:background=&quot;@drawable/some_drawable&quot;\r\n        app:backgroundTint=&quot;@null&quot;\r\n        ...\r\n","title":"How to remove padding around buttons in Android?","body":"<p>If you use (now material) <code>Button</code> with style, add there parameters:</p>\n<pre><code>&lt;style name=&quot;SomeButton&quot; parent=&quot;Widget.MaterialComponents.Button.TextButton&quot;&gt;\n    &lt;item name=&quot;android:insetTop&quot;&gt;0dp&lt;/item&gt;\n    &lt;item name=&quot;android:insetBottom&quot;&gt;0dp&lt;/item&gt;\n    &lt;!-- Margins between buttons --&gt;\n    &lt;item name=&quot;android:layout_marginTop&quot;&gt;4dp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_marginBottom&quot;&gt;4dp&lt;/item&gt;\n    &lt;!-- Remove extra paddings --&gt;\n    &lt;item name=&quot;android:minHeight&quot;&gt;0dp&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;Button\n    style=&quot;@style/SomeButton&quot;\n    ...\n</code></pre>\n<p>In case you set a drawable as a background and want to add some margins, don't use upper code. You should add <em>top and bottom margins</em> to the drawable:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;!-- Top and bottom margins --&gt;\n    &lt;item\n        android:bottom=&quot;4dp&quot;\n        android:top=&quot;4dp&quot;&gt;\n        &lt;!-- Below follows your drawable --&gt;\n        &lt;selector&gt;\n            &lt;item android:state_enabled=&quot;false&quot;&gt;\n                &lt;shape&gt;\n                    &lt;solid android:color=&quot;#f0f0f0&quot; /&gt;\n                &lt;/shape&gt;\n            &lt;/item&gt;\n            &lt;item android:state_enabled=&quot;true&quot;&gt;\n                &lt;shape&gt;\n                    &lt;solid android:color=&quot;#ffff80&quot; /&gt;\n                &lt;/shape&gt;\n            &lt;/item&gt;\n        &lt;/selector&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n\n&lt;Button\n    android:background=&quot;@drawable/some_drawable&quot;\n    app:backgroundTint=&quot;@null&quot;\n    ...\n</code></pre>\n"}],"owner":{"account_id":1620855,"reputation":41209,"user_id":1497454,"accept_rate":42,"display_name":"omega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180401,"favorite_count":0,"down_vote_count":0,"up_vote_count":268,"accepted_answer_id":20323723,"answer_count":21,"score":268,"last_activity_date":1685526519,"creation_date":1375237628,"question_id":17960599,"body_markdown":"In my Android app, I have this layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; \r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n    \t  android:layout_width=&quot;match_parent&quot; \r\n    \t  android:layout_height=&quot;match_parent&quot; \r\n    \t  android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \t&lt;fragment\r\n    \t\t android:id=&quot;@+id/map&quot;\r\n    \t     android:layout_width=&quot;match_parent&quot;\r\n    \t     android:layout_height=&quot;0dp&quot; \r\n    \t     android:layout_weight=&quot;1&quot; \r\n    \t\t class=&quot;com.google.android.gms.maps.SupportMapFragment&quot;/&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button_back&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:onClick=&quot;CloseActivity&quot;\r\n            android:padding=&quot;0dp&quot;\r\n            android:text=&quot;@+string/back&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nIn the preview and on the phone, it looks like:\r\n\r\n![][1]\r\n\r\nAs you can see on the button in the bottom area, there is some padding there.\r\n\r\nHow can I get rid of that, and let the button fully fill the bottom area?\r\n\r\n  [1]: http://i.stack.imgur.com/6VZqB.png","title":"How to remove padding around buttons in Android?","body":"<p>In my Android app, I have this layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt; \n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" \n      android:layout_width=\"match_parent\" \n      android:layout_height=\"match_parent\" \n      android:orientation=\"vertical\"&gt;\n\n    &lt;fragment\n         android:id=\"@+id/map\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"0dp\" \n         android:layout_weight=\"1\" \n         class=\"com.google.android.gms.maps.SupportMapFragment\"/&gt;\n\n    &lt;Button\n        android:id=\"@+id/button_back\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"CloseActivity\"\n        android:padding=\"0dp\"\n        android:text=\"@+string/back\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>In the preview and on the phone, it looks like:</p>\n\n<p><img src=\"https://i.stack.imgur.com/6VZqB.png\" alt=\"\"></p>\n\n<p>As you can see on the button in the bottom area, there is some padding there.</p>\n\n<p>How can I get rid of that, and let the button fully fill the bottom area?</p>\n"},{"tags":["java","amcharts5"],"answers":[{"tags":[],"owner":{"account_id":28678221,"reputation":1,"user_id":21959925,"display_name":"Maas goudswaard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685526425,"creation_date":1685526328,"answer_id":76372163,"question_id":76331888,"body_markdown":"I was able to solve it; it turned out to be quite a simple syntax; have posted this here so others might be able to use it:\r\n\r\nThere is some other structure around this; but I did not want to copy the complete code.\r\nClearly it is not the most efficient way to do this but for this prototype chart it works fine!\r\n\r\n        var myDropdown = am5stock.DropdownListControl.new(root, {\r\n            stockChart: stockChart,\r\n            name: &quot;Select Chart&quot;,\r\n            fixedLabel: true,\r\n            items: [{\r\n                id: &quot;emotionprocess&quot;,\r\n                label: &quot;Smiley/ Activity&quot;,\r\n                form: &quot;checkbox&quot;,\r\n                value: &quot;&quot;,\r\n                checked: false\r\n            },\r\n            {\r\n                id: &quot;category&quot;,\r\n                label: &quot;Categories&quot;,\r\n                form: &quot;checkbox&quot;,\r\n                value: &quot;&quot;,\r\n                checked: false\r\n            },\r\n            {\r\n                id: &quot;totalhours&quot;,\r\n                label: &quot;Total Hours&quot;,\r\n                form: &quot;checkbox&quot;,\r\n                value: &quot;&quot;,\r\n                checked: false\r\n            },\r\n            {\r\n                id: &quot;emotionresult&quot;,\r\n                label: &quot;Emotion of result&quot;,\r\n                form: &quot;checkbox&quot;,\r\n                value: &quot;&quot;,\r\n                checked: false\r\n            },\r\n            ]\r\n        });\r\n\r\n\r\n        myDropdown.getPrivate(&quot;dropdown&quot;).events.on(&quot;changed&quot;, function (ev) {\r\n            //     tooltiptoggle = !tooltiptoggle;\r\n            console.log(ev);\r\n            if (ev.item.id == &#39;category&#39;) {\r\n                if (ev.checked == true) {\r\n                    series.show();\r\n                    yAxis.show();\r\n                }\r\n                else {\r\n                    series.hide();\r\n                    yAxis.hide();\r\n                }\r\n            }\r\n            if (ev.item.id == &#39;totalhours&#39;) {\r\n                if (ev.checked == true) {\r\n                    seriesTotalHours.show();\r\n                    yAxisTotalHours.show();\r\n                }\r\n                else {\r\n                    seriesTotalHours.hide();\r\n                    yAxisTotalHours.hide();\r\n                }\r\n            }\r\n            if (ev.item.id == &#39;emotionresult&#39;) {\r\n                if (ev.checked == true) {\r\n                    seriesavg.show();\r\n                    yAxisavg.show();\r\n                }\r\n                else {\r\n                    seriesavg.hide();\r\n                    yAxisavg.hide();\r\n                }\r\n            }\r\n            if (ev.item.id == &#39;emotionprocess&#39;) {\r\n                if (ev.checked == true) {\r\n                    seriessmiley5.show();\r\n                    seriessmiley6.show();\r\n                    seriessmiley7.show();;\r\n                    seriessmiley8.show();\r\n                    seriessmiley9.show();\r\n                    seriessmiley10.show();\r\n                    seriessmiley11.show();\r\n                    seriessmiley12.show();\r\n                    seriessmiley13.show();\r\n                    seriessmiley14.show();\r\n                    seriessmiley15.show();\r\n                    seriessmiley16.show();\r\n                    seriessmiley17.show();\r\n                }\r\n                else {\r\n                    seriessmiley5.hide();\r\n                    seriessmiley6.hide();\r\n                    seriessmiley7.hide();\r\n                    seriessmiley8.hide();\r\n                    seriessmiley9.hide();\r\n                    seriessmiley10.hide();\r\n                    seriessmiley11.hide();\r\n                    seriessmiley12.hide();\r\n                    seriessmiley13.hide();\r\n                    seriessmiley14.hide();\r\n                    seriessmiley15.hide();\r\n                    seriessmiley16.hide();\r\n                    seriessmiley17.hide();\r\n                }\r\n            }","title":"How can I slice values from data in amcharts Java based on a selected checkbox in a dropdown list?","body":"<p>I was able to solve it; it turned out to be quite a simple syntax; have posted this here so others might be able to use it:</p>\n<p>There is some other structure around this; but I did not want to copy the complete code.\nClearly it is not the most efficient way to do this but for this prototype chart it works fine!</p>\n<pre><code>    var myDropdown = am5stock.DropdownListControl.new(root, {\n        stockChart: stockChart,\n        name: &quot;Select Chart&quot;,\n        fixedLabel: true,\n        items: [{\n            id: &quot;emotionprocess&quot;,\n            label: &quot;Smiley/ Activity&quot;,\n            form: &quot;checkbox&quot;,\n            value: &quot;&quot;,\n            checked: false\n        },\n        {\n            id: &quot;category&quot;,\n            label: &quot;Categories&quot;,\n            form: &quot;checkbox&quot;,\n            value: &quot;&quot;,\n            checked: false\n        },\n        {\n            id: &quot;totalhours&quot;,\n            label: &quot;Total Hours&quot;,\n            form: &quot;checkbox&quot;,\n            value: &quot;&quot;,\n            checked: false\n        },\n        {\n            id: &quot;emotionresult&quot;,\n            label: &quot;Emotion of result&quot;,\n            form: &quot;checkbox&quot;,\n            value: &quot;&quot;,\n            checked: false\n        },\n        ]\n    });\n\n\n    myDropdown.getPrivate(&quot;dropdown&quot;).events.on(&quot;changed&quot;, function (ev) {\n        //     tooltiptoggle = !tooltiptoggle;\n        console.log(ev);\n        if (ev.item.id == 'category') {\n            if (ev.checked == true) {\n                series.show();\n                yAxis.show();\n            }\n            else {\n                series.hide();\n                yAxis.hide();\n            }\n        }\n        if (ev.item.id == 'totalhours') {\n            if (ev.checked == true) {\n                seriesTotalHours.show();\n                yAxisTotalHours.show();\n            }\n            else {\n                seriesTotalHours.hide();\n                yAxisTotalHours.hide();\n            }\n        }\n        if (ev.item.id == 'emotionresult') {\n            if (ev.checked == true) {\n                seriesavg.show();\n                yAxisavg.show();\n            }\n            else {\n                seriesavg.hide();\n                yAxisavg.hide();\n            }\n        }\n        if (ev.item.id == 'emotionprocess') {\n            if (ev.checked == true) {\n                seriessmiley5.show();\n                seriessmiley6.show();\n                seriessmiley7.show();;\n                seriessmiley8.show();\n                seriessmiley9.show();\n                seriessmiley10.show();\n                seriessmiley11.show();\n                seriessmiley12.show();\n                seriessmiley13.show();\n                seriessmiley14.show();\n                seriessmiley15.show();\n                seriessmiley16.show();\n                seriessmiley17.show();\n            }\n            else {\n                seriessmiley5.hide();\n                seriessmiley6.hide();\n                seriessmiley7.hide();\n                seriessmiley8.hide();\n                seriessmiley9.hide();\n                seriessmiley10.hide();\n                seriessmiley11.hide();\n                seriessmiley12.hide();\n                seriessmiley13.hide();\n                seriessmiley14.hide();\n                seriessmiley15.hide();\n                seriessmiley16.hide();\n                seriessmiley17.hide();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":28678221,"reputation":1,"user_id":21959925,"display_name":"Maas goudswaard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685526425,"creation_date":1685014941,"question_id":76331888,"body_markdown":"I am trying to access data from an Java array (or some other concept I can&#39;t seem to find). I am familiar with Python but not so much with Java.\r\n\r\nWhat I&#39;m trying to accomplish is to select the ev[id] from a dataset, to execute a function based on the value.\r\n\r\n- The console.log(ev); results:\r\n\r\n      checked: false\r\n      item:{id: &#39;activities&#39;, label: &#39;Display activities&#39;, form: &#39;checkbox&#39;, \r\n      value: &#39;&#39;, checked: true}\r\n      target: et {uid: 153, _settings: {…}, _privateSettings: {…}, \r\n      _settingEvents: {…}, _privateSettingEvents: {…}, …}\r\n      type: &#39;changed&#39;\r\n      value: false\r\n      [[Prototype]]: Object\r\n\r\n- So I&#39;m trying to access the Item.id and use it in an if statement. This is a function in AMcharts5:\r\n\r\n        myDropdown.getPrivate(&quot;dropdown&quot;).events.on(&quot;changed&quot;, function (ev) {\r\n            tooltiptoggle = !tooltiptoggle;\r\n            console.log(ev);\r\n            console.log(tooltiptoggle);\r\n            if (ev[&#39;id&#39;] == &quot;emotion&quot;) {\r\n                if (tooltiptoggle == true) {\r\n                    series.show();\r\n                    //yaxis.show();\r\n\r\n                }\r\n                if (tooltiptoggle == false) {\r\n                    series.hide();\r\n                    //  yaxis.hide();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n- Below is the full dropdown code; I am trying to add series and remove them based on the checkmarks.\r\n  \r\n      var myDropdown = am5stock.DropdownListControl.new(root, {\r\n            stockChart: stockChart,\r\n            name: &quot;Options&quot;,\r\n            fixedLabel: true,\r\n            items: [{\r\n                id: &quot;emotion&quot;,\r\n                label: &quot;Display emotion result&quot;,\r\n                form: &quot;checkbox&quot;,\r\n                value: &quot;&quot;,\r\n                checked: true\r\n            },\r\n            {\r\n                id: &quot;activities&quot;,\r\n                label: &quot;Display activities&quot;,\r\n                form: &quot;checkbox&quot;,\r\n                value: &quot;&quot;,\r\n                checked: true\r\n            }\r\n            ]\r\n        });\r\n\r\n\r\n        myDropdown.getPrivate(&quot;dropdown&quot;).events.on(&quot;changed&quot;, function (ev) {\r\n            tooltiptoggle = !tooltiptoggle;\r\n            console.log(ev);\r\n            console.log(tooltiptoggle);\r\n            if (ev[&#39;id&#39;] == &quot;emotion&quot;) {\r\n                if (tooltiptoggle == true) {\r\n                    series.show();\r\n                    //yaxis.show();\r\n\r\n                }\r\n                if (tooltiptoggle == false) {\r\n                    series.hide();\r\n                    //  yaxis.hide();\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n\r\n        var toolbar = am5stock.StockToolbar.new(root, {\r\n            container: document.getElementById(&quot;chartcontrols&quot;),\r\n            stockChart: stockChart,\r\n            controls: [\r\n\r\n\r\n                am5stock.DrawingControl.new(root, {\r\n                    stockChart: stockChart\r\n                }),\r\n                am5stock.ResetControl.new(root, {\r\n                    stockChart: stockChart\r\n                }),\r\n                myDropdown,\r\n            ]\r\n        })\r\n","title":"How can I slice values from data in amcharts Java based on a selected checkbox in a dropdown list?","body":"<p>I am trying to access data from an Java array (or some other concept I can't seem to find). I am familiar with Python but not so much with Java.</p>\n<p>What I'm trying to accomplish is to select the ev[id] from a dataset, to execute a function based on the value.</p>\n<ul>\n<li><p>The console.log(ev); results:</p>\n<pre><code>checked: false\nitem:{id: 'activities', label: 'Display activities', form: 'checkbox', \nvalue: '', checked: true}\ntarget: et {uid: 153, _settings: {…}, _privateSettings: {…}, \n_settingEvents: {…}, _privateSettingEvents: {…}, …}\ntype: 'changed'\nvalue: false\n[[Prototype]]: Object\n</code></pre>\n</li>\n<li><p>So I'm trying to access the Item.id and use it in an if statement. This is a function in AMcharts5:</p>\n<pre><code>  myDropdown.getPrivate(&quot;dropdown&quot;).events.on(&quot;changed&quot;, function (ev) {\n      tooltiptoggle = !tooltiptoggle;\n      console.log(ev);\n      console.log(tooltiptoggle);\n      if (ev['id'] == &quot;emotion&quot;) {\n          if (tooltiptoggle == true) {\n              series.show();\n              //yaxis.show();\n\n          }\n          if (tooltiptoggle == false) {\n              series.hide();\n              //  yaxis.hide();\n          }\n      }\n  });\n</code></pre>\n</li>\n<li><p>Below is the full dropdown code; I am trying to add series and remove them based on the checkmarks.</p>\n<pre><code>var myDropdown = am5stock.DropdownListControl.new(root, {\n      stockChart: stockChart,\n      name: &quot;Options&quot;,\n      fixedLabel: true,\n      items: [{\n          id: &quot;emotion&quot;,\n          label: &quot;Display emotion result&quot;,\n          form: &quot;checkbox&quot;,\n          value: &quot;&quot;,\n          checked: true\n      },\n      {\n          id: &quot;activities&quot;,\n          label: &quot;Display activities&quot;,\n          form: &quot;checkbox&quot;,\n          value: &quot;&quot;,\n          checked: true\n      }\n      ]\n  });\n\n\n  myDropdown.getPrivate(&quot;dropdown&quot;).events.on(&quot;changed&quot;, function (ev) {\n      tooltiptoggle = !tooltiptoggle;\n      console.log(ev);\n      console.log(tooltiptoggle);\n      if (ev['id'] == &quot;emotion&quot;) {\n          if (tooltiptoggle == true) {\n              series.show();\n              //yaxis.show();\n\n          }\n          if (tooltiptoggle == false) {\n              series.hide();\n              //  yaxis.hide();\n          }\n      }\n\n  });\n\n\n  var toolbar = am5stock.StockToolbar.new(root, {\n      container: document.getElementById(&quot;chartcontrols&quot;),\n      stockChart: stockChart,\n      controls: [\n\n\n          am5stock.DrawingControl.new(root, {\n              stockChart: stockChart\n          }),\n          am5stock.ResetControl.new(root, {\n              stockChart: stockChart\n          }),\n          myDropdown,\n      ]\n  })\n</code></pre>\n</li>\n</ul>\n"},{"tags":["java","scheduledexecutorservice","uncaughtexceptionhandler","thread-exceptions"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1685526739,"post_id":76370552,"comment_id":134671383,"body_markdown":"You might want to look at other questions like https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools","body":"You might want to look at other questions like <a href=\"https://stackoverflow.com/questions/3875739/exception-handling-in-threadpools\" title=\"exception handling in threadpools\">stackoverflow.com/questions/3875739/&hellip;</a>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1685527240,"post_id":76370552,"comment_id":134671496,"body_markdown":"Why do you not check the returned `ScheduledFuture` instance to see, if the task executed successfully?","body":"Why do you not check the returned <code>ScheduledFuture</code> instance to see, if the task executed successfully?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1685529743,"post_id":76370552,"comment_id":134671974,"body_markdown":"Does this answer your question? [SchduledExecutorService not executing UncaughtExceptionHandler when exception happens in the thread](https://stackoverflow.com/questions/58318817/schduledexecutorservice-not-executing-uncaughtexceptionhandler-when-exception-ha)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58318817/schduledexecutorservice-not-executing-uncaughtexceptionhandler-when-exception-ha\">SchduledExecutorService not executing UncaughtExceptionHandler when exception happens in the thread</a>"}],"owner":{"account_id":26373773,"reputation":11,"user_id":20028059,"display_name":"CoderBendl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685526354,"creation_date":1685512588,"question_id":76370552,"body_markdown":"I have this code here. I was trying to get information about unchecked exceptions in `Runnable`s of a scheduler without using try catch or the `ScheduledFuture` to check for exceptions. I thought this would be the easiest way but it doesn&#39;t show any exception. Why isn&#39;t there any output visible?\r\n\r\n    Thread.UncaughtExceptionHandler handler = new Thread.UncaughtExceptionHandler() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void uncaughtException(Thread t, Throwable e) {\r\n\t\t\t\tSystem.err.println(&quot;Exception in thread &quot;+t.getName()+&quot;:&quot;);\r\n\t\t\t\te.printStackTrace();\t\t\t\t\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tThreadFactory tf = new ThreadFactory() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Thread newThread(Runnable r) {\r\n\t\t\t\tThread t = new Thread(r);\r\n\t\t\t\tt.setUncaughtExceptionHandler(handler);\r\n\t\t\t\treturn t;\r\n\t\t\t}\r\n\t\t};\r\n\t\tScheduledExecutorService ses = new ScheduledThreadPoolExecutor(1, tf);\r\n\t\tses.schedule(()-&gt;Objects.requireNonNull(null), 100, TimeUnit.MILLISECONDS);\r\n\r\n","title":"UncaughtExceptionHandler for ScheduledExecutorService doesn&#39;t work?","body":"<p>I have this code here. I was trying to get information about unchecked exceptions in <code>Runnable</code>s of a scheduler without using try catch or the <code>ScheduledFuture</code> to check for exceptions. I thought this would be the easiest way but it doesn't show any exception. Why isn't there any output visible?</p>\n<pre><code>Thread.UncaughtExceptionHandler handler = new Thread.UncaughtExceptionHandler() {\n        \n        @Override\n        public void uncaughtException(Thread t, Throwable e) {\n            System.err.println(&quot;Exception in thread &quot;+t.getName()+&quot;:&quot;);\n            e.printStackTrace();                \n        }\n    };\n    \n    ThreadFactory tf = new ThreadFactory() {\n\n        @Override\n        public Thread newThread(Runnable r) {\n            Thread t = new Thread(r);\n            t.setUncaughtExceptionHandler(handler);\n            return t;\n        }\n    };\n    ScheduledExecutorService ses = new ScheduledThreadPoolExecutor(1, tf);\n    ses.schedule(()-&gt;Objects.requireNonNull(null), 100, TimeUnit.MILLISECONDS);\n</code></pre>\n"},{"tags":["java","hibernate"],"owner":{"account_id":27581092,"reputation":3,"user_id":21050285,"display_name":"martuo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685526267,"creation_date":1685467428,"question_id":76367223,"body_markdown":"I updated the Hibernate 4.3 to Hibernate 5.0 in my application, i updated the deprecated wasCommitted() and wasRolledBack() in my code to TransactionStatus.COMMITTED and TransactionStatus.ROLLED_BACK in my HibernateUtils, but when executing it, I am having the problem that close all transactions and i don&#39;t know why, this is the log (i have ojdbc v8):\r\n\r\n    *INFO ajp-nio-127.0.0.1-8009-exec-1 login.Loginin - LOGIN USER....... user1\r\n    DEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl - Initiating JDBC connection release from afterTransaction\r\n    DEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl - Initiating JDBC connection release from afterTransaction\r\n    DEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.engine.transaction.internal.TransactionImpl - begin\r\n    DEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.engine.transaction.internal.TransactionImpl - rolling back\r\n    DEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl - Initiating JDBC connection release from afterTransaction\r\n    DEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl - Initiating JDBC connection release from afterTransaction*\r\n\r\n**My hibernateUtils:**\r\n\r\n```\r\npackage database.config;\r\nimport java.io.Serializable;\r\n\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\nimport org.hibernate.HibernateException;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.resource.transaction.spi.TransactionStatus;\r\n\r\npublic class HibernateUtil implements Serializable {  \r\n      \r\n      \r\n      \r\n      private static final long serialVersionUID = 1L;\r\n      private static SessionFactory sessionFactory;\r\n      \r\n      private static final ThreadLocal&lt;Session&gt; threadSession;\r\n      private static final ThreadLocal&lt;Transaction&gt; threadTransaction;\r\n      \r\n      private static Log log = LogFactory.getLog(HibernateUtil.class);  \r\n        \r\n      static {\r\n            \r\n                  try{\r\n                        log.info(&quot;Creating threadSession and threadTransaction...&quot;);\r\n                        threadSession = new ThreadLocal&lt;Session&gt;();\r\n                        threadTransaction = new ThreadLocal&lt;Transaction&gt;();\r\n                        \r\n                        Configuration configuration = new Configuration().configure();\r\n                        \r\n                        StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder()\r\n                          .applySettings(configuration.getProperties());\r\n                        sessionFactory = configuration.buildSessionFactory(builder.build());\r\n                \r\n                      \r\n                        }catch (HibernateException he) {\r\n                              log.error(&quot;Initial SessionFactory creation failed.&quot; + he);\r\n                              throw new ExceptionInInitializerError(he);\r\n                        }\r\n            \r\n            }\r\n            \r\n          public static SessionFactory getSessionFactory() {\r\n            \r\n              return sessionFactory;\r\n          }\r\n          \r\n          \r\n          \r\n          public static void openSession() {\r\n            \r\n            sessionFactory.openSession();\r\n            \r\n          }\r\n          \r\n          public static Session getSession() throws Exception{\r\n            \r\n            Session s =  (Session) threadSession.get();\r\n            \r\n                        \r\n            \r\n              try {\r\n                 if (s == null || !s.isOpen()) {\r\n                    if (log.isInfoEnabled()) {\r\n                          log.info(&quot;Opening new Session for this thread - &quot;  + Thread.currentThread().getName());\r\n                    }\r\n                    s = sessionFactory.openSession();\r\n                    threadSession.set(s);\r\n                             }\r\n                 else {\r\n                    \r\n                    \r\n                    if (log.isDebugEnabled()) {\r\n                          log.debug(&quot;Using current session in this thread - &quot; + Thread.currentThread().getName());\r\n                    }\r\n                 }\r\n              }\r\n              catch (HibernateException ex) {\r\n                 throw ex;\r\n              }\r\n              \r\n//            if (s.isDirty()) {\r\n//                \r\n//                log.info(&quot;Session is Dirty&quot;);\r\n//                      s.flush();\r\n//                      s.clear();\r\n//                }\r\n\r\n              return s;\r\n            \r\n            \r\n          }\r\n          \r\n          public static void beginTransaction()\r\n                throws Exception\r\n              {\r\n                Transaction localTransaction = null;\r\n                try\r\n                {\r\n                  \r\n                  localTransaction = (Transaction)threadTransaction.get();\r\n                  if (localTransaction == null)\r\n                  {\r\n                   getSession();\r\n                    localTransaction = ((Session)threadSession.get()).beginTransaction();\r\n                    threadTransaction.set(localTransaction);\r\n                  }\r\n                }\r\n                catch (HibernateException localHibernateException)\r\n                {\r\n                  throw new Exception(localHibernateException);\r\n                }\r\n              }\r\n              \r\n              public static void commitTransaction() throws Exception\r\n              {\r\n                Transaction localTransaction = null;\r\n                try\r\n                {\r\n                   getSession();\r\n                  \r\n                   localTransaction = (Transaction)threadTransaction.get();\r\n                  \r\n                  \r\n                  \r\n                  \r\n                   if (localTransaction != null &amp;&amp; !localTransaction.getStatus().isOneOf(TransactionStatus.COMMITTED, TransactionStatus.ROLLED_BACK)) {\r\n                            localTransaction.commit();\r\n                            threadTransaction.set(null);\r\n                  }\r\n                }\r\n                catch (HibernateException localHibernateException)\r\n                {\r\n                  rollbackTransaction();\r\n              \r\n                }\r\n              }\r\n              \r\n\r\n              \r\n       public static void rollbackTransaction() throws Exception\r\n              {\r\n                Transaction localTransaction = null;\r\n                try\r\n                {\r\n                   getSession();\r\n                  localTransaction = (Transaction)threadTransaction.get();\r\n                  threadTransaction.set(null);\r\n                  if (localTransaction != null &amp;&amp; !localTransaction.getStatus().isOneOf(TransactionStatus.COMMITTED, TransactionStatus.ROLLED_BACK)) {\r\n                      localTransaction.rollback();\r\n                      threadTransaction.set(null);\r\n                  }\r\n                }\r\n                catch (HibernateException localHibernateException)\r\n                {\r\n                \r\n                }\r\n              \r\n              }       \r\n          \r\n              public static void closeSession()\r\n              {\r\n                Session localSession = null;\r\n                try\r\n                {\r\n                  localSession = (Session)threadSession.get();\r\n                  threadSession.set(null);\r\n                  if ((localSession != null) &amp;&amp; (localSession.isOpen()))\r\n                  {\r\n                    try\r\n                    {\r\n                      localSession.flush();\r\n                    }\r\n                    catch (Exception localException1) {}\r\n                    try\r\n                    {\r\n                      localSession.disconnect();\r\n                    }\r\n                    catch (Exception localException2) {}\r\n                    try\r\n                    {\r\n                      localSession.close();\r\n                \r\n                          \r\n                    }\r\n                    catch (Exception localException3) {}\r\n                  }\r\n                }\r\n                catch (HibernateException localHibernateException)\r\n                {\r\n                  localHibernateException.printStackTrace();\r\n                }\r\n              }\r\n              \r\n              \r\n}\r\n```","title":"Hibernate 5.0 close connections","body":"<p>I updated the Hibernate 4.3 to Hibernate 5.0 in my application, i updated the deprecated wasCommitted() and wasRolledBack() in my code to TransactionStatus.COMMITTED and TransactionStatus.ROLLED_BACK in my HibernateUtils, but when executing it, I am having the problem that close all transactions and i don't know why, this is the log (i have ojdbc v8):</p>\n<pre><code>*INFO ajp-nio-127.0.0.1-8009-exec-1 login.Loginin - LOGIN USER....... user1\nDEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl - Initiating JDBC connection release from afterTransaction\nDEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl - Initiating JDBC connection release from afterTransaction\nDEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.engine.transaction.internal.TransactionImpl - begin\nDEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.engine.transaction.internal.TransactionImpl - rolling back\nDEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl - Initiating JDBC connection release from afterTransaction\nDEBUG ajp-nio-127.0.0.1-8009-exec-1 org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl - Initiating JDBC connection release from afterTransaction*\n</code></pre>\n<p><strong>My hibernateUtils:</strong></p>\n<pre><code>package database.config;\nimport java.io.Serializable;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.hibernate.HibernateException;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.resource.transaction.spi.TransactionStatus;\n\npublic class HibernateUtil implements Serializable {  \n      \n      \n      \n      private static final long serialVersionUID = 1L;\n      private static SessionFactory sessionFactory;\n      \n      private static final ThreadLocal&lt;Session&gt; threadSession;\n      private static final ThreadLocal&lt;Transaction&gt; threadTransaction;\n      \n      private static Log log = LogFactory.getLog(HibernateUtil.class);  \n        \n      static {\n            \n                  try{\n                        log.info(&quot;Creating threadSession and threadTransaction...&quot;);\n                        threadSession = new ThreadLocal&lt;Session&gt;();\n                        threadTransaction = new ThreadLocal&lt;Transaction&gt;();\n                        \n                        Configuration configuration = new Configuration().configure();\n                        \n                        StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder()\n                          .applySettings(configuration.getProperties());\n                        sessionFactory = configuration.buildSessionFactory(builder.build());\n                \n                      \n                        }catch (HibernateException he) {\n                              log.error(&quot;Initial SessionFactory creation failed.&quot; + he);\n                              throw new ExceptionInInitializerError(he);\n                        }\n            \n            }\n            \n          public static SessionFactory getSessionFactory() {\n            \n              return sessionFactory;\n          }\n          \n          \n          \n          public static void openSession() {\n            \n            sessionFactory.openSession();\n            \n          }\n          \n          public static Session getSession() throws Exception{\n            \n            Session s =  (Session) threadSession.get();\n            \n                        \n            \n              try {\n                 if (s == null || !s.isOpen()) {\n                    if (log.isInfoEnabled()) {\n                          log.info(&quot;Opening new Session for this thread - &quot;  + Thread.currentThread().getName());\n                    }\n                    s = sessionFactory.openSession();\n                    threadSession.set(s);\n                             }\n                 else {\n                    \n                    \n                    if (log.isDebugEnabled()) {\n                          log.debug(&quot;Using current session in this thread - &quot; + Thread.currentThread().getName());\n                    }\n                 }\n              }\n              catch (HibernateException ex) {\n                 throw ex;\n              }\n              \n//            if (s.isDirty()) {\n//                \n//                log.info(&quot;Session is Dirty&quot;);\n//                      s.flush();\n//                      s.clear();\n//                }\n\n              return s;\n            \n            \n          }\n          \n          public static void beginTransaction()\n                throws Exception\n              {\n                Transaction localTransaction = null;\n                try\n                {\n                  \n                  localTransaction = (Transaction)threadTransaction.get();\n                  if (localTransaction == null)\n                  {\n                   getSession();\n                    localTransaction = ((Session)threadSession.get()).beginTransaction();\n                    threadTransaction.set(localTransaction);\n                  }\n                }\n                catch (HibernateException localHibernateException)\n                {\n                  throw new Exception(localHibernateException);\n                }\n              }\n              \n              public static void commitTransaction() throws Exception\n              {\n                Transaction localTransaction = null;\n                try\n                {\n                   getSession();\n                  \n                   localTransaction = (Transaction)threadTransaction.get();\n                  \n                  \n                  \n                  \n                   if (localTransaction != null &amp;&amp; !localTransaction.getStatus().isOneOf(TransactionStatus.COMMITTED, TransactionStatus.ROLLED_BACK)) {\n                            localTransaction.commit();\n                            threadTransaction.set(null);\n                  }\n                }\n                catch (HibernateException localHibernateException)\n                {\n                  rollbackTransaction();\n              \n                }\n              }\n              \n\n              \n       public static void rollbackTransaction() throws Exception\n              {\n                Transaction localTransaction = null;\n                try\n                {\n                   getSession();\n                  localTransaction = (Transaction)threadTransaction.get();\n                  threadTransaction.set(null);\n                  if (localTransaction != null &amp;&amp; !localTransaction.getStatus().isOneOf(TransactionStatus.COMMITTED, TransactionStatus.ROLLED_BACK)) {\n                      localTransaction.rollback();\n                      threadTransaction.set(null);\n                  }\n                }\n                catch (HibernateException localHibernateException)\n                {\n                \n                }\n              \n              }       \n          \n              public static void closeSession()\n              {\n                Session localSession = null;\n                try\n                {\n                  localSession = (Session)threadSession.get();\n                  threadSession.set(null);\n                  if ((localSession != null) &amp;&amp; (localSession.isOpen()))\n                  {\n                    try\n                    {\n                      localSession.flush();\n                    }\n                    catch (Exception localException1) {}\n                    try\n                    {\n                      localSession.disconnect();\n                    }\n                    catch (Exception localException2) {}\n                    try\n                    {\n                      localSession.close();\n                \n                          \n                    }\n                    catch (Exception localException3) {}\n                  }\n                }\n                catch (HibernateException localHibernateException)\n                {\n                  localHibernateException.printStackTrace();\n                }\n              }\n              \n              \n}\n</code></pre>\n"},{"tags":["java","websocket","jetty","java-websocket"],"comments":[{"owner":{"account_id":10226265,"reputation":376,"user_id":7548747,"display_name":"Lachlan"},"score":0,"creation_date":1685536031,"post_id":76372147,"comment_id":134673424,"body_markdown":"which way are you configuring the idleTimeout?","body":"which way are you configuring the idleTimeout?"},{"owner":{"account_id":6800547,"reputation":29,"user_id":5233988,"display_name":"Umair Sayed"},"score":0,"creation_date":1685598707,"post_id":76372147,"comment_id":134683032,"body_markdown":"I have used this in configure method factory.setIdleTimeout(Duration.ofMillis(0));","body":"I have used this in configure method factory.setIdleTimeout(Duration.ofMillis(0));"},{"owner":{"account_id":6800547,"reputation":29,"user_id":5233988,"display_name":"Umair Sayed"},"score":0,"creation_date":1685599214,"post_id":76372147,"comment_id":134683091,"body_markdown":"I have also checked with factory.setIdleTimeout(Duration.ofMillis(3600000));","body":"I have also checked with factory.setIdleTimeout(Duration.ofMillis(3600000));"},{"owner":{"account_id":10226265,"reputation":376,"user_id":7548747,"display_name":"Lachlan"},"score":0,"creation_date":1685601364,"post_id":76372147,"comment_id":134683394,"body_markdown":"It would be helpful if you shared some of your code in the question or a simple reproducer.","body":"It would be helpful if you shared some of your code in the question or a simple reproducer."},{"owner":{"account_id":6800547,"reputation":29,"user_id":5233988,"display_name":"Umair Sayed"},"score":0,"creation_date":1687358050,"post_id":76372147,"comment_id":134926021,"body_markdown":"It&#39;s resolved now. The issue was with the entropy. Installed haveged service and it started working. Thank you for your time.","body":"It&#39;s resolved now. The issue was with the entropy. Installed haveged service and it started working. Thank you for your time."}],"owner":{"account_id":6800547,"reputation":29,"user_id":5233988,"display_name":"Umair Sayed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1685526247,"creation_date":1685526247,"question_id":76372147,"body_markdown":"websocket-jetty-server 11.0.12 socket connection is breaking after 2 mins\r\n\r\nI am using websocket-jetty-server version 11.0.12 to use websocket.\r\nI wanted to use the java verion 17 so I upgraded websocket-jetty-server from 9.4.48.v20220622 to 11.0.12 \r\nNow, my socket connection is breaking after 2 mins and getting the below error message\r\n\r\norg.eclipse.jetty.websocket.api.exceptions.WebSocketTimeoutException: Connection Idle Timeout\r\n\r\nStrange thing is, it is working fine on my local Ubuntu VM but failing on RHEL machine.","title":"Why my socket connection is breaking after 2 mins after upgrading websocket-jetty-server from 9.4.48.v20220622 to 11.0.12?","body":"<p>websocket-jetty-server 11.0.12 socket connection is breaking after 2 mins</p>\n<p>I am using websocket-jetty-server version 11.0.12 to use websocket.\nI wanted to use the java verion 17 so I upgraded websocket-jetty-server from 9.4.48.v20220622 to 11.0.12\nNow, my socket connection is breaking after 2 mins and getting the below error message</p>\n<p>org.eclipse.jetty.websocket.api.exceptions.WebSocketTimeoutException: Connection Idle Timeout</p>\n<p>Strange thing is, it is working fine on my local Ubuntu VM but failing on RHEL machine.</p>\n"},{"tags":["java","pdf"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1685527255,"post_id":76372108,"comment_id":134671504,"body_markdown":"If you sign in append mode, the **ByteRange** entry will be part of the new incremental update which is appended at the end of the file. But out of interest, what difference does it make for you where that array is located?","body":"If you sign in append mode, the <b>ByteRange</b> entry will be part of the new incremental update which is appended at the end of the file. But out of interest, what difference does it make for you where that array is located?"},{"owner":{"account_id":24048244,"reputation":13,"user_id":18027026,"display_name":"zcnc"},"score":0,"creation_date":1685528232,"post_id":76372108,"comment_id":134671688,"body_markdown":"If there are 2 more than signs in a pdf file,those ByteRanges were all placed at the front of the pdf file, so it&#39;s difficult to determine the data range of each ByteRange","body":"If there are 2 more than signs in a pdf file,those ByteRanges were all placed at the front of the pdf file, so it&#39;s difficult to determine the data range of each ByteRange"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1685530485,"post_id":76372108,"comment_id":134672111,"body_markdown":"If you apply a second signature to a PDF, you **must** use append mode at least for the second signing unless invalidating the first signature is not an issue for you. Other than that, though, it is clear which byte ranges are related to which signature, simply follow the object references from the signature field dictionaries.","body":"If you apply a second signature to a PDF, you <b>must</b> use append mode at least for the second signing unless invalidating the first signature is not an issue for you. Other than that, though, it is clear which byte ranges are related to which signature, simply follow the object references from the signature field dictionaries."},{"owner":{"account_id":24048244,"reputation":13,"user_id":18027026,"display_name":"zcnc"},"score":0,"creation_date":1686821601,"post_id":76372108,"comment_id":134853186,"body_markdown":"Thanks for your reply,the problem was fixed.","body":"Thanks for your reply,the problem was fixed."}],"owner":{"account_id":24048244,"reputation":13,"user_id":18027026,"display_name":"zcnc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685526038,"creation_date":1685526038,"question_id":76372108,"body_markdown":"I implemented interface com.itextpdf.signatures.IExternalSignatureContainer to sign a pdf file using Java,I found that the ByteRange was always placed at the front of the pdf file,but I want to place the ByteRange to the end of the pdf file,could anyone tell me how to do this.\r\n\r\nI tried to modify the method void modifySigningDictionary(PdfDictionary signDic),but it hasn&#39;t any effect","title":"How can I move the ByteRange from the front to the end of a PDF file using IExternalSignatureContainer in iTextPdf?","body":"<p>I implemented interface com.itextpdf.signatures.IExternalSignatureContainer to sign a pdf file using Java,I found that the ByteRange was always placed at the front of the pdf file,but I want to place the ByteRange to the end of the pdf file,could anyone tell me how to do this.</p>\n<p>I tried to modify the method void modifySigningDictionary(PdfDictionary signDic),but it hasn't any effect</p>\n"},{"tags":["java","android","arcore","sceneform","ply"],"owner":{"account_id":18232817,"reputation":11,"user_id":13271419,"display_name":"Sancy Devassy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685525862,"creation_date":1685513599,"question_id":76370632,"body_markdown":"I need to load .ply file instead of glb. Can anyone help me out with ways to load ply 3d models in arcore. i have attached a sample ply file here\r\n\r\nPly file : [1679314339602.ply][1]\r\n\r\n\r\n  [1]: https://unitear.s3.amazonaws.com/xr_assist/models/user_1019/1679314339602.ply","title":"How can I load ply file in arcore instead of glb","body":"<p>I need to load .ply file instead of glb. Can anyone help me out with ways to load ply 3d models in arcore. i have attached a sample ply file here</p>\n<p>Ply file : <a href=\"https://unitear.s3.amazonaws.com/xr_assist/models/user_1019/1679314339602.ply\" rel=\"nofollow noreferrer\">1679314339602.ply</a></p>\n"},{"tags":["java","laravel","authorization","pusher"],"comments":[{"owner":{"account_id":22117604,"reputation":21,"user_id":16371420,"display_name":"Nerdy Live"},"score":0,"creation_date":1685292034,"post_id":76346535,"comment_id":134638119,"body_markdown":"Please if anyone needs any more info don&#39;t hesitate to comment too","body":"Please if anyone needs any more info don&#39;t hesitate to comment too"}],"owner":{"account_id":22117604,"reputation":21,"user_id":16371420,"display_name":"Nerdy Live"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685525760,"creation_date":1685184682,"question_id":76346535,"body_markdown":"I need help with a Laravel application that uses Soketi and Java Pusher client to communicate with a Pusher server. I get a 403 error when I try to subscribe to a private channel using the Java Pusher client. The public channels work fine.\r\n\r\nHere are some details:\r\n\r\n- channels.php in Laravel:\r\n\r\n```php\r\n&lt;?php\r\n\r\nBroadcast::channel(&#39;private-{id}&#39;, function ($user) {\r\n\treturn true; // always return true for testing\r\n});\r\n```\r\n- BroadcastServiceProvider in Laravel:\r\n```php\r\nclass BroadcastServiceProvider extends ServiceProvider\r\n{\r\n\tpublic function boot(): void\r\n\t{\r\n\t\tBroadcast::routes([&#39;middleware&#39; =&gt; [&#39;auth:sanctum&#39;]]); // im using sanctum&#39;s tokens to authorize user\r\n\t\trequire base_path(&#39;routes/channels.php&#39;);\r\n\t}\r\n}\r\n```\r\n- Java Pusher client code:\r\n```\r\npublic PusherConnector(String bearer) {\r\n\ttry {\r\n\t\tPusherOptions options = new PusherOptions();\r\n\t\tHttpChannelAuthorizer channelAuthorizer = new HttpChannelAuthorizer(&quot;http://localhost/broadcasting/auth&quot;); // this is my broadcasting endpoint from Laravel&#39;s package\r\n\t\tHashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n\t\theaders.put(&quot;Authorization&quot;, &quot;Bearer &quot; + bearer); // bearer token from sanctum\r\n\t\tchannelAuthorizer.setHeaders(headers);\r\n\r\n\t\toptions.setHost(&quot;localhost&quot;)\r\n\t\t\t.setWsPort(6001).setUseTLS(false).setChannelAuthorizer(channelAuthorizer);\r\n\r\n\t\tPusher pusher = new Pusher(&quot;MY-PUSHER-APIKEY&quot;, options);\r\n\t\tpusher.connect(new ConnectionEventListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onConnectionStateChange(ConnectionStateChange change) {\r\n\t\t\t\tSystem.out.println(&quot;Pusher&quot; + &quot;State changed from &quot; + change.getPreviousState() + &quot; to &quot; + change.getCurrentState());\r\n\t\t\t\tSystem.out.println(pusher.getConnection().getSocketId());\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onError(String message, String code, Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Pusher&quot; + &quot;There was a problem connecting! &quot; + &quot;\\ncode: &quot; + code + &quot;\\nmessage: &quot; + message + &quot;\\nException: &quot; + e);\r\n\t\t\t}\r\n\t\t}, ConnectionState.ALL);\r\n\r\n\t\tPrivateChannel cn = pusher.subscribePrivate(&quot;private-&quot; + bearer, new PrivateChannelEventListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onAuthenticationFailure(String s, Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Pusher&quot; + &quot;Authentication failed: &quot; + s);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onSubscriptionSucceeded(String s) {\r\n\t\t\t\tSystem.out.println(&quot;Pusher&quot; + &quot;Subscription succeeded: &quot; + s);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onEvent(PusherEvent pusherEvent) {\r\n\t\t\t\tSystem.out.println(&quot;Pusher&quot; + &quot; -&gt; Event received: &quot; + pusherEvent.getData());\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onError(String message, Exception e) {\r\n\t\t\t\tPrivateChannelEventListener.super.onError(message, e);\r\n\t\t\t}\r\n\t\t});\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n- Output from the Java program:\r\n``\r\nPusherState changed from DISCONNECTED to CONNECTING\r\nnull // the socket id ( not yet connected )\r\nPusherState changed from CONNECTING to CONNECTED\r\n6069547637.4178363411 // the socket id\r\nPusherAuthentication failed: java.io.IOException: Server returned HTTP response code: 403 for URL: http://localhost/broadcasting/auth // the error\r\n``\r\n\r\n**I have tried removing the sanctum’s auth middleware but it still gives the same error. I have also verified that the sanctum’s authentication works well with other parts of Laravel. I don’t understand why I can’t subscribe to the private channel with authorization. Any ideas?**\r\n\r\n# ** EDIT! **\r\n## So I&#39;ve fixed it by watching the logics behind the laravel classes and tried to debug it by logging the requests, tried to modify the broadcasting&#39;s library code for debugging and heres what I&#39;ve changed to make it work:\r\n\r\n- the BroadcastServiceProvider\r\n```\r\n\t/**\r\n\t * Bootstrap any application services.\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tpublic function boot(): void\r\n\t{\r\n\t\trequire base_path(&#39;routes/channels.php&#39;);\r\n\t\tBroadcast::routes([&#39;middleware&#39; =&gt; [&quot;auth:sanctum&quot;]]); // to use the sanctum&#39;s auth and be able to get the current logged in user in the backend auth of Laravel&#39;s broadcasting\r\n\t}\r\n```\r\n\r\n- channels.php (Laravel&#39;s broadcasting channels file )\r\n```php\r\nRoute::middleware([&quot;auth:sanctum&quot;, TestyaMiddleware::class])-&gt;group(function () {\r\n// TestyaMiddleware is a custom middleware for debugging ( i will remove that from my code later )\r\n\tBroadcast::channel(&#39;{id}&#39;, function ($user, $id) { // also removed the &quot;private-&quot; or &quot;presence-&quot; prefix ( because its not needed )\r\n\t\treturn true;\r\n\t});\r\n});\r\n```\r\n\r\nThats all, i expect the problem happened because of the auth middleware isn&#39;t setted somewhere in the broadcasting channels route file or the broadcasting&#39;s auth route","title":"How to solve &#39;PusherAuthentication failed&#39; error when trying to subscribe to a private channel with authorization using Soketi and Java Pusher client?","body":"<p>I need help with a Laravel application that uses Soketi and Java Pusher client to communicate with a Pusher server. I get a 403 error when I try to subscribe to a private channel using the Java Pusher client. The public channels work fine.</p>\n<p>Here are some details:</p>\n<ul>\n<li>channels.php in Laravel:</li>\n</ul>\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n\nBroadcast::channel('private-{id}', function ($user) {\n    return true; // always return true for testing\n});\n</code></pre>\n<ul>\n<li>BroadcastServiceProvider in Laravel:</li>\n</ul>\n<pre class=\"lang-php prettyprint-override\"><code>class BroadcastServiceProvider extends ServiceProvider\n{\n    public function boot(): void\n    {\n        Broadcast::routes(['middleware' =&gt; ['auth:sanctum']]); // im using sanctum's tokens to authorize user\n        require base_path('routes/channels.php');\n    }\n}\n</code></pre>\n<ul>\n<li>Java Pusher client code:</li>\n</ul>\n<pre><code>public PusherConnector(String bearer) {\n    try {\n        PusherOptions options = new PusherOptions();\n        HttpChannelAuthorizer channelAuthorizer = new HttpChannelAuthorizer(&quot;http://localhost/broadcasting/auth&quot;); // this is my broadcasting endpoint from Laravel's package\n        HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;Authorization&quot;, &quot;Bearer &quot; + bearer); // bearer token from sanctum\n        channelAuthorizer.setHeaders(headers);\n\n        options.setHost(&quot;localhost&quot;)\n            .setWsPort(6001).setUseTLS(false).setChannelAuthorizer(channelAuthorizer);\n\n        Pusher pusher = new Pusher(&quot;MY-PUSHER-APIKEY&quot;, options);\n        pusher.connect(new ConnectionEventListener() {\n            @Override\n            public void onConnectionStateChange(ConnectionStateChange change) {\n                System.out.println(&quot;Pusher&quot; + &quot;State changed from &quot; + change.getPreviousState() + &quot; to &quot; + change.getCurrentState());\n                System.out.println(pusher.getConnection().getSocketId());\n            }\n\n            @Override\n            public void onError(String message, String code, Exception e) {\n                System.out.println(&quot;Pusher&quot; + &quot;There was a problem connecting! &quot; + &quot;\\ncode: &quot; + code + &quot;\\nmessage: &quot; + message + &quot;\\nException: &quot; + e);\n            }\n        }, ConnectionState.ALL);\n\n        PrivateChannel cn = pusher.subscribePrivate(&quot;private-&quot; + bearer, new PrivateChannelEventListener() {\n            @Override\n            public void onAuthenticationFailure(String s, Exception e) {\n                System.out.println(&quot;Pusher&quot; + &quot;Authentication failed: &quot; + s);\n            }\n\n            @Override\n            public void onSubscriptionSucceeded(String s) {\n                System.out.println(&quot;Pusher&quot; + &quot;Subscription succeeded: &quot; + s);\n            }\n\n            @Override\n            public void onEvent(PusherEvent pusherEvent) {\n                System.out.println(&quot;Pusher&quot; + &quot; -&gt; Event received: &quot; + pusherEvent.getData());\n            }\n\n            @Override\n            public void onError(String message, Exception e) {\n                PrivateChannelEventListener.super.onError(message, e);\n            }\n        });\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<ul>\n<li>Output from the Java program:\n<code>PusherState changed from DISCONNECTED to CONNECTING null // the socket id ( not yet connected ) PusherState changed from CONNECTING to CONNECTED 6069547637.4178363411 // the socket id PusherAuthentication failed: java.io.IOException: Server returned HTTP response code: 403 for URL: http://localhost/broadcasting/auth // the error</code></li>\n</ul>\n<p><strong>I have tried removing the sanctum’s auth middleware but it still gives the same error. I have also verified that the sanctum’s authentication works well with other parts of Laravel. I don’t understand why I can’t subscribe to the private channel with authorization. Any ideas?</strong></p>\n<h1>** EDIT! **</h1>\n<h2>So I've fixed it by watching the logics behind the laravel classes and tried to debug it by logging the requests, tried to modify the broadcasting's library code for debugging and heres what I've changed to make it work:</h2>\n<ul>\n<li>the BroadcastServiceProvider</li>\n</ul>\n<pre><code>    /**\n     * Bootstrap any application services.\n     *\n     * @return void\n     */\n    public function boot(): void\n    {\n        require base_path('routes/channels.php');\n        Broadcast::routes(['middleware' =&gt; [&quot;auth:sanctum&quot;]]); // to use the sanctum's auth and be able to get the current logged in user in the backend auth of Laravel's broadcasting\n    }\n</code></pre>\n<ul>\n<li>channels.php (Laravel's broadcasting channels file )</li>\n</ul>\n<pre class=\"lang-php prettyprint-override\"><code>Route::middleware([&quot;auth:sanctum&quot;, TestyaMiddleware::class])-&gt;group(function () {\n// TestyaMiddleware is a custom middleware for debugging ( i will remove that from my code later )\n    Broadcast::channel('{id}', function ($user, $id) { // also removed the &quot;private-&quot; or &quot;presence-&quot; prefix ( because its not needed )\n        return true;\n    });\n});\n</code></pre>\n<p>Thats all, i expect the problem happened because of the auth middleware isn't setted somewhere in the broadcasting channels route file or the broadcasting's auth route</p>\n"},{"tags":["java","spring","mongodb","mongodb-query","spring-data-mongodb"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1685446100,"post_id":76364180,"comment_id":134657860,"body_markdown":"*we used to allow birth year, but we do not require it anymore* … Does that mean you are only interested in the day/date of someones birthday without being interested in the actual age?","body":"<i>we used to allow birth year, but we do not require it anymore</i> … Does that mean you are only interested in the day/date of someones birthday without being interested in the actual age?"},{"owner":{"account_id":18044530,"reputation":23,"user_id":13115866,"display_name":"LaplacesCat"},"score":0,"creation_date":1685447373,"post_id":76364180,"comment_id":134658131,"body_markdown":"yes, that is correct","body":"yes, that is correct"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1685447414,"post_id":76364180,"comment_id":134658137,"body_markdown":"I hope the last date of the desired result is a typo and should be `&quot;2003-12-08&quot;`…","body":"I hope the last date of the desired result is a typo and should be <code>&quot;2003-12-08&quot;</code>…"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685454153,"creation_date":1685447643,"answer_id":76364532,"question_id":76364180,"body_markdown":"### For sorting in Java…\r\nYou can write your own `Comparator`…\r\n\r\n#### `Comparator&lt;LocalDate&gt;`\r\nIf you write a custom `Comparator&lt;LocalDate&gt;`, you can simply sort by a *sub-unit* or *part* of the `LocalDate`:  \r\nThe `MonthDay`, which only holds information about the day-of-month and the month-of-year and it is already implementing `Comparable&lt;MonthDay&gt;` exactly as desired.\r\n\r\n#### Code example\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// create the list of Strings to be sorted\r\n\tList&lt;String&gt; birthdayStrings = List.of(\r\n\t\t\t\t&quot;2004-03-05&quot;,\r\n\t\t\t\t&quot;2001-03-03&quot;,\r\n\t\t\t\t&quot;2003-12-08&quot;,\r\n\t\t\t\t&quot;2015-10-08&quot;,\r\n\t\t\t\t&quot;1999-09-24&quot;,\r\n\t\t\t\t&quot;1999-07-16&quot;,\r\n\t\t\t\t&quot;2005-01-28&quot;\r\n\t\t\t);\r\n\t// map this list to a sortable one by parsing the Strings to LocalDates\r\n\tList&lt;LocalDate&gt; birthdays = birthdayStrings.stream()\r\n\t\t\t\t\t\t\t\t\t\t\t   .map(LocalDate::parse)\r\n\t\t\t\t\t\t\t\t\t\t\t   .collect(Collectors.toList());\r\n\t// print the list once\r\n\tbirthdays.forEach(System.out::println);\r\n\t// print some separator in order to visually separate the unsorted from the sorted result\r\n\tSystem.out.println(&quot;—&quot;.repeat(12));\r\n\t// define a comparator for LocalDates that sorts by month-of-year first, then by day-of-month\r\n\tComparator&lt;LocalDate&gt; monthDayComp = new Comparator&lt;LocalDate&gt;() {\r\n\t\t@Override\r\n\t\tpublic int compare(LocalDate o1, LocalDate o2) {\r\n\t\t\t// simply sort by (already comparable) part of the LocalDate: MonthDay\r\n\t\t\treturn MonthDay.from(o1).compareTo(MonthDay.from(o2));\r\n\t\t}\r\n\t};\r\n\t// sort the list using the comparator\r\n\tbirthdays.sort(monthDayComp);\r\n\t// print the sorted list\r\n\tbirthdays.forEach(System.out::println);\r\n}\r\n```\r\n\r\n#### Output\r\n```none\r\n2004-03-05\r\n2001-03-03\r\n2003-12-08\r\n2015-10-08\r\n1999-09-24\r\n1999-07-16\r\n2005-01-28\r\n————————————\r\n2005-01-28\r\n2001-03-03\r\n2004-03-05\r\n1999-07-16\r\n1999-09-24\r\n2015-10-08\r\n2003-12-08\r\n```","title":"Sorting date field by Day and Month in a MongoDB Query in Spring","body":"<h3>For sorting in Java…</h3>\n<p>You can write your own <code>Comparator</code>…</p>\n<h4><code>Comparator&lt;LocalDate&gt;</code></h4>\n<p>If you write a custom <code>Comparator&lt;LocalDate&gt;</code>, you can simply sort by a <em>sub-unit</em> or <em>part</em> of the <code>LocalDate</code>:<br />\nThe <code>MonthDay</code>, which only holds information about the day-of-month and the month-of-year and it is already implementing <code>Comparable&lt;MonthDay&gt;</code> exactly as desired.</p>\n<h4>Code example</h4>\n<pre><code>public static void main(String[] args) {\n    // create the list of Strings to be sorted\n    List&lt;String&gt; birthdayStrings = List.of(\n                &quot;2004-03-05&quot;,\n                &quot;2001-03-03&quot;,\n                &quot;2003-12-08&quot;,\n                &quot;2015-10-08&quot;,\n                &quot;1999-09-24&quot;,\n                &quot;1999-07-16&quot;,\n                &quot;2005-01-28&quot;\n            );\n    // map this list to a sortable one by parsing the Strings to LocalDates\n    List&lt;LocalDate&gt; birthdays = birthdayStrings.stream()\n                                               .map(LocalDate::parse)\n                                               .collect(Collectors.toList());\n    // print the list once\n    birthdays.forEach(System.out::println);\n    // print some separator in order to visually separate the unsorted from the sorted result\n    System.out.println(&quot;—&quot;.repeat(12));\n    // define a comparator for LocalDates that sorts by month-of-year first, then by day-of-month\n    Comparator&lt;LocalDate&gt; monthDayComp = new Comparator&lt;LocalDate&gt;() {\n        @Override\n        public int compare(LocalDate o1, LocalDate o2) {\n            // simply sort by (already comparable) part of the LocalDate: MonthDay\n            return MonthDay.from(o1).compareTo(MonthDay.from(o2));\n        }\n    };\n    // sort the list using the comparator\n    birthdays.sort(monthDayComp);\n    // print the sorted list\n    birthdays.forEach(System.out::println);\n}\n</code></pre>\n<h4>Output</h4>\n<pre class=\"lang-none prettyprint-override\"><code>2004-03-05\n2001-03-03\n2003-12-08\n2015-10-08\n1999-09-24\n1999-07-16\n2005-01-28\n————————————\n2005-01-28\n2001-03-03\n2004-03-05\n1999-07-16\n1999-09-24\n2015-10-08\n2003-12-08\n</code></pre>\n"}],"owner":{"account_id":18044530,"reputation":23,"user_id":13115866,"display_name":"LaplacesCat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685525281,"creation_date":1685444917,"question_id":76364180,"body_markdown":"I wanted to sort the results of a query by a Date of Birth field, but while storing a garbage year value.\r\nThis is because, we used to allow birth year, but we do not require it anymore.\r\n\r\nI am using Spring in Java, with MongoDB as the database. \r\n\r\nThe data should be sorted like this:\r\n```\r\n1. 2004-03-05        7. 2005-01-28\r\n2. 2001-03-03        2. 2001-03-03\r\n3. 2003-12-08        1. 2004-03-05\r\n4. 2015-10-08   -&gt;   6. 1999-07-16\r\n5. 1999-09-24        5. 1999-09-24\r\n6. 1999-07-16        4. 2015-10-08\r\n7. 2005-01-28        3. 2003-12-08\r\n```\r\n\r\nThis is how I am currently sorting the query.\r\nI first sort by the specified field `sortingField`, and then by the `_id` of the object so that the data is always in the same order. In the case of my question, `sortingField = &quot;dob&quot;`\r\n\r\n```\r\nList&lt;Sort.Order&gt; sortList = new ArrayList&lt;&gt;();\r\n\r\nsortList.add(\r\n\tnew Sort.Order(\r\n\t\tsortDirection.compareToIgnoreCase(&quot;d&quot;) == 0\r\n\t\t\t\t? Sort.Direction.DESC\r\n\t\t\t\t: Sort.Direction.ASC,\r\n\t\tsortingField));\r\n\r\nsortList.add(new Sort.Order(Sort.Direction.ASC, &quot;_id&quot;));\r\n\r\nquery.with(Sort.by(sortList));\r\n```\r\n\r\nI then get the result using `List&lt;Customer&gt; = mongoTemplate.find(query, Customer.class);`\r\n\r\nIs this possible?","title":"Sorting date field by Day and Month in a MongoDB Query in Spring","body":"<p>I wanted to sort the results of a query by a Date of Birth field, but while storing a garbage year value.\nThis is because, we used to allow birth year, but we do not require it anymore.</p>\n<p>I am using Spring in Java, with MongoDB as the database.</p>\n<p>The data should be sorted like this:</p>\n<pre><code>1. 2004-03-05        7. 2005-01-28\n2. 2001-03-03        2. 2001-03-03\n3. 2003-12-08        1. 2004-03-05\n4. 2015-10-08   -&gt;   6. 1999-07-16\n5. 1999-09-24        5. 1999-09-24\n6. 1999-07-16        4. 2015-10-08\n7. 2005-01-28        3. 2003-12-08\n</code></pre>\n<p>This is how I am currently sorting the query.\nI first sort by the specified field <code>sortingField</code>, and then by the <code>_id</code> of the object so that the data is always in the same order. In the case of my question, <code>sortingField = &quot;dob&quot;</code></p>\n<pre><code>List&lt;Sort.Order&gt; sortList = new ArrayList&lt;&gt;();\n\nsortList.add(\n    new Sort.Order(\n        sortDirection.compareToIgnoreCase(&quot;d&quot;) == 0\n                ? Sort.Direction.DESC\n                : Sort.Direction.ASC,\n        sortingField));\n\nsortList.add(new Sort.Order(Sort.Direction.ASC, &quot;_id&quot;));\n\nquery.with(Sort.by(sortList));\n</code></pre>\n<p>I then get the result using <code>List&lt;Customer&gt; = mongoTemplate.find(query, Customer.class);</code></p>\n<p>Is this possible?</p>\n"},{"tags":["java","android-studio","google-play-console","android-keystore"],"owner":{"account_id":12091301,"reputation":81,"user_id":8837332,"display_name":"Scott van Duin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685525211,"creation_date":1685524622,"question_id":76371934,"body_markdown":"I have a Java application in Android Studio which includes a mobile and a wear directory. I want both of them uploaded for internal testing, and the mobile app works fine.\r\n\r\nI just added an extra release track for the wear app, but when I try to sign it with the generated zip from the pepk tool it says I should upload a valid key and that the uploadkey and implementation key should be different.\r\n\r\nI&#39;ve tried uploading the same zip file used to sign the mobile .aab, and also tried generating a new one with the same keystore. I was told to use the same keystore, but it the signing doesn&#39;t seem to work. How do I solve this?","title":"How do I sign my wearOS app with the same keystore as my mobile app?","body":"<p>I have a Java application in Android Studio which includes a mobile and a wear directory. I want both of them uploaded for internal testing, and the mobile app works fine.</p>\n<p>I just added an extra release track for the wear app, but when I try to sign it with the generated zip from the pepk tool it says I should upload a valid key and that the uploadkey and implementation key should be different.</p>\n<p>I've tried uploading the same zip file used to sign the mobile .aab, and also tried generating a new one with the same keystore. I was told to use the same keystore, but it the signing doesn't seem to work. How do I solve this?</p>\n"},{"tags":["java","enums","vaadin","converters","vaadin-flow"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1685523666,"post_id":76371543,"comment_id":134670749,"body_markdown":"&quot;but it does not seem to work like expected.&quot;, could you describe in more detail what is not working as expected, how would you expect it to work?","body":"&quot;but it does not seem to work like expected.&quot;, could you describe in more detail what is not working as expected, how would you expect it to work?"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685523987,"creation_date":1685523987,"answer_id":76371838,"question_id":76371543,"body_markdown":"Binding `TextField` to `Enum` with `Converter` should work, although from user experience perspective I would not use `TextField` with `Enum&#39;s`. Conversion from arbitrary inputs will produce null or empty string, if user makes a typo. I would prefer `ComboBox` or `Select` instead, see simple example\r\n\r\n        ComboBox&lt;UserRole&gt; role = new ComboBox&lt;&gt;(\r\n                &quot;Role&quot;);\r\n        role.setItems(UserRole.values());","title":"How can I use Enum values in Vaadin UI components, and why isn&#39;t my custom converter working as expected?","body":"<p>Binding <code>TextField</code> to <code>Enum</code> with <code>Converter</code> should work, although from user experience perspective I would not use <code>TextField</code> with <code>Enum's</code>. Conversion from arbitrary inputs will produce null or empty string, if user makes a typo. I would prefer <code>ComboBox</code> or <code>Select</code> instead, see simple example</p>\n<pre><code>    ComboBox&lt;UserRole&gt; role = new ComboBox&lt;&gt;(\n            &quot;Role&quot;);\n    role.setItems(UserRole.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685524111,"creation_date":1685524111,"answer_id":76371865,"question_id":76371543,"body_markdown":"It looks like your converter implementation is &quot;inverted&quot;.\r\nThe Converter interface is defined as `Converter&lt;PRESENTATION, MODEL&gt;`, so in your case `PRESENTATION` should be `String` and `MODEL` the enum.\r\n\r\nPut simply, `PRESENTATION` is what you see in the TextField, `MODEL` is the type you use in the application\r\n\r\n`class StringToEnumConverter&lt;T extends Enum&lt;T&gt;&gt; implements Converter&lt;String, T&gt;`","title":"How can I use Enum values in Vaadin UI components, and why isn&#39;t my custom converter working as expected?","body":"<p>It looks like your converter implementation is &quot;inverted&quot;.\nThe Converter interface is defined as <code>Converter&lt;PRESENTATION, MODEL&gt;</code>, so in your case <code>PRESENTATION</code> should be <code>String</code> and <code>MODEL</code> the enum.</p>\n<p>Put simply, <code>PRESENTATION</code> is what you see in the TextField, <code>MODEL</code> is the type you use in the application</p>\n<p><code>class StringToEnumConverter&lt;T extends Enum&lt;T&gt;&gt; implements Converter&lt;String, T&gt;</code></p>\n"}],"owner":{"account_id":28717065,"reputation":11,"user_id":21991481,"display_name":"NaoMon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685524984,"creation_date":1685521530,"question_id":76371543,"body_markdown":"Using Vaadin 24.\r\n\r\nI am trying to put Enum names into Textfields (which only accept Strings) with a custom converter, but it does not seem to work like expected.\r\n\r\nIs there maybe some better way to use Enum Values in UI Components?\r\n\r\n\r\n\r\nI am using the converter like this:\r\n\r\nBut i am a bit confused that theres a difference between the documentation: https://vaadin.com/docs/latest/binding-data/components-binder-validation\r\n\r\nWhich describes the 2 Methods:\r\n\r\nYou need to implement two methods from the Converter interface:\r\n\r\nconvertToModel() receives a value that originates from the user.\r\nThe method returns a Result that contains either a converted value or a conversion error message.\r\n\r\nconvertToPresentation() receives a value that originates from the business object.\r\nThis method returns the converted value directly. It’s assumed that the business object contains only valid values.\r\n\r\nhttps://github.com/vaadin/flow/blob/main/flow-data/src/main/java/com/vaadin/flow/data/converter/StringToLongConverter.java\r\n\r\nI would expect that the converter calls the right Method depending on what input type it gets, but either my implementation or my tought process is wrong.\r\n\r\n```\r\nimport com.vaadin.flow.data.binder.Result;\r\nimport com.vaadin.flow.data.binder.ValueContext;\r\nimport com.vaadin.flow.data.converter.Converter;\r\n\r\npublic class EnumToStringConverter&lt;T extends Enum&lt;T&gt;&gt; implements Converter&lt;T, String&gt; {\r\n    private final Class&lt;T&gt; enumClass;\r\n\r\n    public EnumToStringConverter(Class&lt;T&gt; enumClass) {\r\n        this.enumClass = enumClass;\r\n    }\r\n\r\n    @Override\r\n    public Result&lt;String&gt; convertToModel(T enumValue, ValueContext context) {\r\n        try {\r\n            return Result.ok(enumValue.name());\r\n        } catch (IllegalArgumentException e) {\r\n            return Result.error(&quot;Invalid enum value&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public T convertToPresentation(String fieldValue, ValueContext context) {\r\n        return Enum.valueOf(enumClass, fieldValue.toUpperCase());\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n// Convert Role as Enum to String for TextField\r\nbinder.forField(userRole)\r\n    .withConverter(new EnumToStringConverter&lt;&gt;(UserRole.class))\r\n    .bind(Users::getUserRole, Users::setUserRole);\r\n```\r\n\r\n\r\nEDIT:\r\n\r\nI switched to using a read-only combobox for my component, which works like a charm now.","title":"How can I use Enum values in Vaadin UI components, and why isn&#39;t my custom converter working as expected?","body":"<p>Using Vaadin 24.</p>\n<p>I am trying to put Enum names into Textfields (which only accept Strings) with a custom converter, but it does not seem to work like expected.</p>\n<p>Is there maybe some better way to use Enum Values in UI Components?</p>\n<p>I am using the converter like this:</p>\n<p>But i am a bit confused that theres a difference between the documentation: <a href=\"https://vaadin.com/docs/latest/binding-data/components-binder-validation\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/binding-data/components-binder-validation</a></p>\n<p>Which describes the 2 Methods:</p>\n<p>You need to implement two methods from the Converter interface:</p>\n<p>convertToModel() receives a value that originates from the user.\nThe method returns a Result that contains either a converted value or a conversion error message.</p>\n<p>convertToPresentation() receives a value that originates from the business object.\nThis method returns the converted value directly. It’s assumed that the business object contains only valid values.</p>\n<p><a href=\"https://github.com/vaadin/flow/blob/main/flow-data/src/main/java/com/vaadin/flow/data/converter/StringToLongConverter.java\" rel=\"nofollow noreferrer\">https://github.com/vaadin/flow/blob/main/flow-data/src/main/java/com/vaadin/flow/data/converter/StringToLongConverter.java</a></p>\n<p>I would expect that the converter calls the right Method depending on what input type it gets, but either my implementation or my tought process is wrong.</p>\n<pre><code>import com.vaadin.flow.data.binder.Result;\nimport com.vaadin.flow.data.binder.ValueContext;\nimport com.vaadin.flow.data.converter.Converter;\n\npublic class EnumToStringConverter&lt;T extends Enum&lt;T&gt;&gt; implements Converter&lt;T, String&gt; {\n    private final Class&lt;T&gt; enumClass;\n\n    public EnumToStringConverter(Class&lt;T&gt; enumClass) {\n        this.enumClass = enumClass;\n    }\n\n    @Override\n    public Result&lt;String&gt; convertToModel(T enumValue, ValueContext context) {\n        try {\n            return Result.ok(enumValue.name());\n        } catch (IllegalArgumentException e) {\n            return Result.error(&quot;Invalid enum value&quot;);\n        }\n    }\n\n    @Override\n    public T convertToPresentation(String fieldValue, ValueContext context) {\n        return Enum.valueOf(enumClass, fieldValue.toUpperCase());\n    }\n}\n</code></pre>\n<pre><code>// Convert Role as Enum to String for TextField\nbinder.forField(userRole)\n    .withConverter(new EnumToStringConverter&lt;&gt;(UserRole.class))\n    .bind(Users::getUserRole, Users::setUserRole);\n</code></pre>\n<p>EDIT:</p>\n<p>I switched to using a read-only combobox for my component, which works like a charm now.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","repository","crud"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1685457491,"post_id":76365761,"comment_id":134660812,"body_markdown":"Please don&#39;t post source code as image but formatted text only.","body":"Please don&#39;t post source code as image but formatted text only."}],"answers":[{"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685523710,"creation_date":1685456489,"answer_id":76365820,"question_id":76365761,"body_markdown":"Suppose you have a **User** model and a corresponding repository name **UserRepository**:\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\r\n     \r\nNow create an instance of this UserRepository like:\r\n\r\n    @Autowired\r\n    private UserRepository userRepo;\r\n\r\nThen update your User data:\r\n\r\n    var user = userRepo.findById(id).orElseThrow();\r\n    user.setName(name); // password or email\r\n    userRepo.save(user);\r\n\r\n**Note**: CrudRepository interface has  **Optional&lt;T&gt; findById(ID id)** method definition.\r\nSince Optional reference, If no user found it throws an exception, use orElseThrow().","title":"What is the correct approach to update only specific fields in Spring Boot using Spring Data JPA repository?","body":"<p>Suppose you have a <strong>User</strong> model and a corresponding repository name <strong>UserRepository</strong>:</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\n \n</code></pre>\n<p>Now create an instance of this UserRepository like:</p>\n<pre><code>@Autowired\nprivate UserRepository userRepo;\n</code></pre>\n<p>Then update your User data:</p>\n<pre><code>var user = userRepo.findById(id).orElseThrow();\nuser.setName(name); // password or email\nuserRepo.save(user);\n</code></pre>\n<p><strong>Note</strong>: CrudRepository interface has  <strong>Optional findById(ID id)</strong> method definition.\nSince Optional reference, If no user found it throws an exception, use orElseThrow().</p>\n"}],"owner":{"account_id":20299330,"reputation":19,"user_id":14889133,"display_name":"Deniz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685523710,"creation_date":1685456042,"question_id":76365761,"body_markdown":"[![this is my update method](https://i.stack.imgur.com/IbO5S.png)](https://i.stack.imgur.com/IbO5S.png)\r\n[![my update request class](https://i.stack.imgur.com/BdJg4.png)](https://i.stack.imgur.com/BdJg4.png)\r\n[![and my modelmapper forRequest](https://i.stack.imgur.com/zGwW4.png)](https://i.stack.imgur.com/zGwW4.png)\r\n[![and controller](https://i.stack.imgur.com/lgh9R.png)](https://i.stack.imgur.com/lgh9R.png)\r\n\r\nI just want to update just some field.\r\n\r\n For example; just name or password or gmail but when ı try to add just one field, other datas is being recorded null. How can ı solve this problem? Should ı try to add @Query for my repository ? ","title":"What is the correct approach to update only specific fields in Spring Boot using Spring Data JPA repository?","body":"<p><a href=\"https://i.stack.imgur.com/IbO5S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IbO5S.png\" alt=\"this is my update method\" /></a>\n<a href=\"https://i.stack.imgur.com/BdJg4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BdJg4.png\" alt=\"my update request class\" /></a>\n<a href=\"https://i.stack.imgur.com/zGwW4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGwW4.png\" alt=\"and my modelmapper forRequest\" /></a>\n<a href=\"https://i.stack.imgur.com/lgh9R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lgh9R.png\" alt=\"and controller\" /></a></p>\n<p>I just want to update just some field.</p>\n<p>For example; just name or password or gmail but when ı try to add just one field, other datas is being recorded null. How can ı solve this problem? Should ı try to add @Query for my repository ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9593,"page":399,"page_size":100}
