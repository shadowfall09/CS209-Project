{"items":[{"tags":["java","spring","spring-boot","spring-security","spring-saml"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686723863,"post_id":76470509,"comment_id":134836484,"body_markdown":"You have fallen into the trap to register your filter as Spring managed bean. When Spring Boot detects a `Filter` in your application context it will automatically register this in the filter chain. As it is also part of the Sprng Security filter chain it will be invoked twice. To fix add a `FilterRegistrationBean` to disable the automatic registration of this bean by Spring Boot.","body":"You have fallen into the trap to register your filter as Spring managed bean. When Spring Boot detects a <code>Filter</code> in your application context it will automatically register this in the filter chain. As it is also part of the Sprng Security filter chain it will be invoked twice. To fix add a <code>FilterRegistrationBean</code> to disable the automatic registration of this bean by Spring Boot."},{"owner":{"account_id":3390495,"reputation":12113,"user_id":2845414,"accept_rate":94,"display_name":"Sumeet Kumar Yadav"},"score":0,"creation_date":1686725772,"post_id":76470509,"comment_id":134836853,"body_markdown":"Do I need to register filter using ‘ FilterRegistrationBean’ ? How do I can make sure it’s only called once after successful saml2 login ?","body":"Do I need to register filter using ‘ FilterRegistrationBean’ ? How do I can make sure it’s only called once after successful saml2 login ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686725852,"post_id":76470509,"comment_id":134836869,"body_markdown":"No you need to add a `FilterRegistrationBean` so that you can disable the automatic registration by Spring Boot and as such it is only part of the security chain. Else it will always execute **before** the securiry filter chain. See https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.servlets-filters-listeners.beans","body":"No you need to add a <code>FilterRegistrationBean</code> so that you can disable the automatic registration by Spring Boot and as such it is only part of the security chain. Else it will always execute <b>before</b> the securiry filter chain. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.servlets-filters-listeners.beans\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686726666,"creation_date":1686726288,"answer_id":76470921,"question_id":76470509,"body_markdown":"As [documented][1] Spring Boot will automatically register any `Filter`, `Servlet` etc. with the servlet container. When this happens the `Filter` will be registered twice (it executes once because it extends `OncePerRequestFilter`!) once as part of the regular chain and next to the embedded Spring Security Filter Chain. \r\n\r\nAs the regular chain always executes before the embedded Spring Security one it will thus always execute before that. \r\n\r\nTo prevent the registration add a `FilterRegistrationBean` to tell Spring Boot to ignore this filter for registration. In short set `enabled` to `false`. \r\n\r\n```\r\n@Bean\r\npublic FilterRegistrationBean&lt;SetToken&gt; setTokenRegistrationBean(SetToken filter) {\r\n  var registration = new FilterRegistrationBean(filter);\r\n  registration.setEnabled(false);\r\n  return registration;\r\n}\r\n```\r\nThis will prevent Spring Boot from automatically adding it to the normal filter chain. It will now execute only as part of the security chain. Assuming that your SAML filter throws an exception of some sort instead of proceeding the filter chain this should now only execute after authentication. \r\n\r\nDuplicate/Similar answers/questions \r\n\r\n* https://stackoverflow.com/questions/24381191/what-is-implication-of-adding-component-to-custom-spring-security-filter\r\n* https://stackoverflow.com/questions/64241555/spring-boot-filter-called-twice-or-not-called-at-all\r\n* https://stackoverflow.com/questions/24364436/adding-a-custom-filter-to-be-invoked-after-spring-security-filter-in-a-servlet-3\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.servlets-filters-listeners.beans\r\n","title":"How to execute a filter or handler only once after successful SAML2 login?","body":"<p>As <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.embedded-container.servlets-filters-listeners.beans\" rel=\"nofollow noreferrer\">documented</a> Spring Boot will automatically register any <code>Filter</code>, <code>Servlet</code> etc. with the servlet container. When this happens the <code>Filter</code> will be registered twice (it executes once because it extends <code>OncePerRequestFilter</code>!) once as part of the regular chain and next to the embedded Spring Security Filter Chain.</p>\n<p>As the regular chain always executes before the embedded Spring Security one it will thus always execute before that.</p>\n<p>To prevent the registration add a <code>FilterRegistrationBean</code> to tell Spring Boot to ignore this filter for registration. In short set <code>enabled</code> to <code>false</code>.</p>\n<pre><code>@Bean\npublic FilterRegistrationBean&lt;SetToken&gt; setTokenRegistrationBean(SetToken filter) {\n  var registration = new FilterRegistrationBean(filter);\n  registration.setEnabled(false);\n  return registration;\n}\n</code></pre>\n<p>This will prevent Spring Boot from automatically adding it to the normal filter chain. It will now execute only as part of the security chain. Assuming that your SAML filter throws an exception of some sort instead of proceeding the filter chain this should now only execute after authentication.</p>\n<p>Duplicate/Similar answers/questions</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24381191/what-is-implication-of-adding-component-to-custom-spring-security-filter\">What is implication of adding @Component to custom Spring Security filter</a></li>\n<li><a href=\"https://stackoverflow.com/questions/64241555/spring-boot-filter-called-twice-or-not-called-at-all\">Spring boot filter called twice or not called at all</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24364436/adding-a-custom-filter-to-be-invoked-after-spring-security-filter-in-a-servlet-3\">Adding a custom filter to be invoked after spring-security filter in a Servlet 3+ environment</a></li>\n</ul>\n"}],"owner":{"account_id":3390495,"reputation":12113,"user_id":2845414,"accept_rate":94,"display_name":"Sumeet Kumar Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76470921,"answer_count":1,"score":0,"last_activity_date":1686726666,"creation_date":1686722381,"question_id":76470509,"body_markdown":"I am using Spring Security with SAML2 service provider and have a requirement to set custom tokens as part of cookies in the response after a successful SAML2 login.I have created a filter SetToken and configure to call after Saml2WebSsoAuthenticationFilter. The filter is  getting called every time, whereas our requirement is to set custom cookie once after the SAML2 login is successful.\r\n\r\nHere is my Spring configuration class:\r\n\r\n    @Configuration\r\n    public class SAMLConfiguration {\r\n    \r\n        @Autowired\r\n        SetToken token;\r\n    \r\n        @Bean\r\n        SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n            OpenSaml4AuthenticationProvider authenticationProvider = new OpenSaml4AuthenticationProvider();\r\n    \r\n            Saml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationRepository, new OpenSamlMetadataResolver());\r\n            http.addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\r\n    \r\n            http.authorizeHttpRequests(requests -&gt; requests\r\n                    .requestMatchers(&quot;/saml2/service-provider-metadata/**&quot;)\r\n                    .permitAll()\r\n            ).addFilterAfter(token, Saml2WebSsoAuthenticationFilter.class)\r\n            .addFilterAfter(refresh, SecurityContextHolderFilter.class)\r\n            .saml2Login(saml2 -&gt; saml2\r\n                    .authenticationManager(new ProviderManager(authenticationProvider))\r\n                    .relyingPartyRegistrationRepository(relyingPartyRegistrationRepository)\r\n            ).saml2Logout(withDefaults());\r\n        }\r\n    }\r\n\r\nThe SetToken filter, which is supposed to be called after SAML2 authorization, is defined as follows, this class is getting called every time which we do not want as token setting happens only once.\r\n\r\n    @Component\r\n    public class SetToken extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            // Get principle and make an API call to a third-party system to set the cookie\r\n            // SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n    \r\n            response.addCookie(customCookie);\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nI also tried setting the session authentication strategy in the configuration, but it is also getting invoked in every request after a successful SAML2 login. We want to attach a handler that is only invoked once after a successful SAML2 login.\r\n\r\n    http.sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .sessionAuthenticationStrategy(tokenStrategy);\r\n\r\n\r\nThe TokenStrategy class implements SessionAuthenticationStrategy and is defined as follows:\r\n\r\n    public class TokenStrategy implements SessionAuthenticationStrategy {\r\n    \r\n        @Override\r\n        public void onAuthentication(\r\n                Authentication authentication,\r\n                HttpServletRequest request,\r\n                HttpServletResponse response\r\n        ) throws SessionAuthenticationException {\r\n            // Custom logic to get the cookie\r\n            response.addCookie(customCookie);\r\n        }\r\n    }\r\n\r\n**How can I attach a one-time event listener that is executed only after a successful SAML2 login?** Is there a way to have a filter that is only called after the SAML2 filter successfully logs in and is not invoked in any other api/url calls?\r\n\r\n\r\n","title":"How to execute a filter or handler only once after successful SAML2 login?","body":"<p>I am using Spring Security with SAML2 service provider and have a requirement to set custom tokens as part of cookies in the response after a successful SAML2 login.I have created a filter SetToken and configure to call after Saml2WebSsoAuthenticationFilter. The filter is  getting called every time, whereas our requirement is to set custom cookie once after the SAML2 login is successful.</p>\n<p>Here is my Spring configuration class:</p>\n<pre><code>@Configuration\npublic class SAMLConfiguration {\n\n    @Autowired\n    SetToken token;\n\n    @Bean\n    SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        OpenSaml4AuthenticationProvider authenticationProvider = new OpenSaml4AuthenticationProvider();\n\n        Saml2MetadataFilter filter = new Saml2MetadataFilter(relyingPartyRegistrationRepository, new OpenSamlMetadataResolver());\n        http.addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class);\n\n        http.authorizeHttpRequests(requests -&gt; requests\n                .requestMatchers(&quot;/saml2/service-provider-metadata/**&quot;)\n                .permitAll()\n        ).addFilterAfter(token, Saml2WebSsoAuthenticationFilter.class)\n        .addFilterAfter(refresh, SecurityContextHolderFilter.class)\n        .saml2Login(saml2 -&gt; saml2\n                .authenticationManager(new ProviderManager(authenticationProvider))\n                .relyingPartyRegistrationRepository(relyingPartyRegistrationRepository)\n        ).saml2Logout(withDefaults());\n    }\n}\n</code></pre>\n<p>The SetToken filter, which is supposed to be called after SAML2 authorization, is defined as follows, this class is getting called every time which we do not want as token setting happens only once.</p>\n<pre><code>@Component\npublic class SetToken extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        // Get principle and make an API call to a third-party system to set the cookie\n        // SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\n        response.addCookie(customCookie);\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>I also tried setting the session authentication strategy in the configuration, but it is also getting invoked in every request after a successful SAML2 login. We want to attach a handler that is only invoked once after a successful SAML2 login.</p>\n<pre><code>http.sessionManagement()\n    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n    .sessionAuthenticationStrategy(tokenStrategy);\n</code></pre>\n<p>The TokenStrategy class implements SessionAuthenticationStrategy and is defined as follows:</p>\n<pre><code>public class TokenStrategy implements SessionAuthenticationStrategy {\n\n    @Override\n    public void onAuthentication(\n            Authentication authentication,\n            HttpServletRequest request,\n            HttpServletResponse response\n    ) throws SessionAuthenticationException {\n        // Custom logic to get the cookie\n        response.addCookie(customCookie);\n    }\n}\n</code></pre>\n<p><strong>How can I attach a one-time event listener that is executed only after a successful SAML2 login?</strong> Is there a way to have a filter that is only called after the SAML2 filter successfully logs in and is not invoked in any other api/url calls?</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":76713,"reputation":2792,"user_id":219408,"accept_rate":100,"display_name":"lidermin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581948169,"creation_date":1581948169,"answer_id":60264178,"question_id":59935009,"body_markdown":"As many other questions and answers related this topic suggests, the error is related to a duplicity with java.xml import. By default, on Java 11, java.xml is part of the JDK libraries, and is added in the modulepath.\r\n\r\nCheck the dependencies of your graddle, at least one of then is also adding a transitive dependence to java.xml but in the classpath (unnamed module),thus it is present twice.\r\n\r\nLocate the dependency that is adding it, and try adding something similar to this on you gradle (in my case the duplicity was due to Apache Tika library):\r\n\r\n    compile (&#39;org.apache.tika:tika-parsers:1.22&#39;) {\r\n    \texclude (group: &#39;xml-apis&#39;)\r\n  \t}","title":"The package javax.xml.namespace is accessible from more than one module","body":"<p>As many other questions and answers related this topic suggests, the error is related to a duplicity with java.xml import. By default, on Java 11, java.xml is part of the JDK libraries, and is added in the modulepath.</p>\n\n<p>Check the dependencies of your graddle, at least one of then is also adding a transitive dependence to java.xml but in the classpath (unnamed module),thus it is present twice.</p>\n\n<p>Locate the dependency that is adding it, and try adding something similar to this on you gradle (in my case the duplicity was due to Apache Tika library):</p>\n\n<pre><code>compile ('org.apache.tika:tika-parsers:1.22') {\n    exclude (group: 'xml-apis')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4544308,"reputation":141,"user_id":3691339,"display_name":"shane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644012730,"creation_date":1644012730,"answer_id":70993403,"question_id":59935009,"body_markdown":"I had a similar problem.  \r\nMy envt was Java, Eclipse IDE, Java 8.  \r\nThe fix for me was:\r\nProperties -&gt; Java Build Path -&gt; Move my JRE System Library from the Modules to the Classpath.\r\n\r\nWonder if it has something to do with this package being both in my system library rt.jar file and in my project lib/jaxb-api.jar file and the way module imports work in Eclipse. ","title":"The package javax.xml.namespace is accessible from more than one module","body":"<p>I had a similar problem.<br />\nMy envt was Java, Eclipse IDE, Java 8.<br />\nThe fix for me was:\nProperties -&gt; Java Build Path -&gt; Move my JRE System Library from the Modules to the Classpath.</p>\n<p>Wonder if it has something to do with this package being both in my system library rt.jar file and in my project lib/jaxb-api.jar file and the way module imports work in Eclipse.</p>\n"}],"owner":{"account_id":17354175,"reputation":115,"user_id":12572009,"display_name":"Igor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13958,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1686726430,"creation_date":1580141942,"question_id":59935009,"body_markdown":"My environment:\r\n\r\n - Java 11\r\n - Spring Boot\r\n - Gradle\r\n\r\nNot sure how to fix this error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    The package javax.xml.namespace is accessible from more than one module: &lt;unnamed&gt;, java.xml","title":"The package javax.xml.namespace is accessible from more than one module","body":"<p>My environment:</p>\n<ul>\n<li>Java 11</li>\n<li>Spring Boot</li>\n<li>Gradle</li>\n</ul>\n<p>Not sure how to fix this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The package javax.xml.namespace is accessible from more than one module: &lt;unnamed&gt;, java.xml\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686726408,"creation_date":1686726408,"answer_id":76470934,"question_id":76470893,"body_markdown":"In the example the program first passes ```case &#39;A&#39;``` since the char in ```c``` is ```A```, but then it &quot;falls through&quot; to ```case &#39;Y&#39;``` since ```case &#39;A&#39;``` does not end with a ```break```.\r\n\r\nIf this behaviour is not desired, add a ```break``` to ```case &#39;A&#39;```.\r\n\r\nRead https://medium.com/swlh/understanding-switch-case-fall-through-in-java-70b448427b0a for more details.","title":"Java program problem: Unexpected value num","body":"<p>In the example the program first passes <code>case 'A'</code> since the char in <code>c</code> is <code>A</code>, but then it &quot;falls through&quot; to <code>case 'Y'</code> since <code>case 'A'</code> does not end with a <code>break</code>.</p>\n<p>If this behaviour is not desired, add a <code>break</code> to <code>case 'A'</code>.</p>\n<p>Read <a href=\"https://medium.com/swlh/understanding-switch-case-fall-through-in-java-70b448427b0a\" rel=\"nofollow noreferrer\">https://medium.com/swlh/understanding-switch-case-fall-through-in-java-70b448427b0a</a> for more details.</p>\n"}],"owner":{"account_id":28409555,"reputation":3,"user_id":21733132,"display_name":"Franz Kafka"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1686726404,"accepted_answer_id":76470934,"answer_count":1,"score":-1,"last_activity_date":1686726408,"creation_date":1686726033,"question_id":76470893,"body_markdown":"```\r\npublic class Demo {\r\n    public static void main(String args[]) {\r\n        char c = &#39;A&#39; ;\r\n        int num = 10 ;\r\n\r\n        switch(c) {\r\n            case &#39;B&#39; :\r\n                num++ ;\r\n            case &#39;A&#39; :\r\n                num++ ;\r\n            case &#39;Y&#39; :\r\n                num++ ;\r\n                break ;\r\n            default :\r\n                num-- ;\r\n        }\r\n\r\n        System.out.println(num);\r\n    }\r\n}\r\n```\r\n\r\nI think the program will passed `case &#39;A&#39;` so the num will be 11.\r\nI ran it in Idea and saw that the program passed `case &#39;A&#39;` and `case &#39;Y&#39;`(???). Finally, the num is 12.\r\n\r\nI try this:\r\n`System.out.println(&#39;A&#39; == &#39;Y&#39;);`\r\nand it return`false`","title":"Java program problem: Unexpected value num","body":"<pre><code>public class Demo {\n    public static void main(String args[]) {\n        char c = 'A' ;\n        int num = 10 ;\n\n        switch(c) {\n            case 'B' :\n                num++ ;\n            case 'A' :\n                num++ ;\n            case 'Y' :\n                num++ ;\n                break ;\n            default :\n                num-- ;\n        }\n\n        System.out.println(num);\n    }\n}\n</code></pre>\n<p>I think the program will passed <code>case 'A'</code> so the num will be 11.\nI ran it in Idea and saw that the program passed <code>case 'A'</code> and <code>case 'Y'</code>(???). Finally, the num is 12.</p>\n<p>I try this:\n<code>System.out.println('A' == 'Y');</code>\nand it return<code>false</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686725492,"post_id":76470814,"comment_id":134836796,"body_markdown":"have you tried running this code through a debugger?","body":"have you tried running this code through a debugger?"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":4,"creation_date":1686726340,"post_id":76470814,"comment_id":134836968,"body_markdown":"setting clutch to null at line 08 does not change the reference of clutch added to list in line 06 to null. That&#39;s why clutch still exists in list and so does car because it&#39;s the enclosing class.","body":"setting clutch to null at line 08 does not change the reference of clutch added to list in line 06 to null. That&#39;s why clutch still exists in list and so does car because it&#39;s the enclosing class."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686726513,"post_id":76470814,"comment_id":134836998,"body_markdown":"&quot;and so does car because it&#39;s the enclosing class&quot; The `Car` instance became unreachable at line `11` as the local variable `car` is already null, and now it is no longer in the list.","body":"&quot;and so does car because it&#39;s the enclosing class&quot; The <code>Car</code> instance became unreachable at line <code>11</code> as the local variable <code>car</code> is already null, and now it is no longer in the list."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1686726904,"post_id":76470814,"comment_id":134837074,"body_markdown":"@tgdavies Yes but as the enclosing class it is reachable *via* the `Clutch` inner class instance.","body":"@tgdavies Yes but as the enclosing class it is reachable <i>via</i> the <code>Clutch</code> inner class instance."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686727045,"post_id":76470814,"comment_id":134837101,"body_markdown":"@KonradRudolph From the question there&#39;s no reason to think that Clutch is an inner class.","body":"@KonradRudolph From the question there&#39;s no reason to think that Clutch is an inner class."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1686727468,"post_id":76470814,"comment_id":134837165,"body_markdown":"@tgdavies It is, if you follow the link.","body":"@tgdavies It is, if you follow the link."}],"answers":[{"tags":[],"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686726296,"creation_date":1686725973,"answer_id":76470887,"question_id":76470814,"body_markdown":"&gt;  I am particularly surprised by the statement &quot;Line 12 removes the item at index 1, which is the null. The list, therefore, contains nothing except the clutch.&quot;\r\n\r\nI was too, until I remembered that `remove` *shifts the indices* in the `ArrayList`!\r\n\r\nHere is what’s happening to `rl`:\r\n\r\n1. Before line 11:\r\n\r\n    | 0 | 1 | 2 |\r\n    |---|---|---|\r\n    |`car`|`clutch`|`null`|\r\n\r\n2. After line 11 (`rl.remove(0);`):\r\n\r\n    | 0 | 1 |\r\n    |---|---|\r\n    |`clutch`|`null`|\r\n\r\n3. After line 12 (`rl.remove(1);`):\r\n\r\n    | 0 |\r\n    |---|\r\n    |`clutch`|\r\n\r\nConsequently, the `Clutch` object created in the `Car` object constructor is still alive at the end of the code snippet, and so is its containing `Car` instance.","title":"When is a Java object still reachable?","body":"<blockquote>\n<p>I am particularly surprised by the statement &quot;Line 12 removes the item at index 1, which is the null. The list, therefore, contains nothing except the clutch.&quot;</p>\n</blockquote>\n<p>I was too, until I remembered that <code>remove</code> <em>shifts the indices</em> in the <code>ArrayList</code>!</p>\n<p>Here is what’s happening to <code>rl</code>:</p>\n<ol>\n<li><p>Before line 11:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>0</th>\n<th>1</th>\n<th>2</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>car</code></td>\n<td><code>clutch</code></td>\n<td><code>null</code></td>\n</tr>\n</tbody>\n</table>\n</div></li>\n<li><p>After line 11 (<code>rl.remove(0);</code>):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>0</th>\n<th>1</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>clutch</code></td>\n<td><code>null</code></td>\n</tr>\n</tbody>\n</table>\n</div></li>\n<li><p>After line 12 (<code>rl.remove(1);</code>):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>clutch</code></td>\n</tr>\n</tbody>\n</table>\n</div></li>\n</ol>\n<p>Consequently, the <code>Clutch</code> object created in the <code>Car</code> object constructor is still alive at the end of the code snippet, and so is its containing <code>Car</code> instance.</p>\n"}],"owner":{"account_id":5449771,"reputation":43,"user_id":4334999,"display_name":"kyy8080"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76470887,"answer_count":1,"score":1,"last_activity_date":1686726296,"creation_date":1686725435,"question_id":76470814,"body_markdown":"It is about the quiz from java magazine https://blogs.oracle.com/javamagazine/post/java-quiz-object-reachability. Here is the code snippet: \r\n```\r\n01: var rl = new ArrayList&lt;Repairable&gt;();\r\n02: var car = new Car();\r\n03: var clutch = car.getClutch();\r\n04: var engine = (Repairable) null;\r\n05: rl.add(car);\r\n06: rl.add(clutch);\r\n07: car = null;\r\n08: clutch = null;\r\n09: rl.add(engine);\r\n10: rl.set(2, engine);\r\n11: rl.remove(0);\r\n12: rl.remove(1);\r\n```\r\nI am quite irritated by this quiz. I am particularly surprised by the statement &quot;Line 12 removes the item at index 1, which is the null. The list, therefore, contains nothing except the clutch.&quot; At this point in time is clutch also zero(line 08) and accordingly that is not right.","title":"When is a Java object still reachable?","body":"<p>It is about the quiz from java magazine <a href=\"https://blogs.oracle.com/javamagazine/post/java-quiz-object-reachability\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/javamagazine/post/java-quiz-object-reachability</a>. Here is the code snippet:</p>\n<pre><code>01: var rl = new ArrayList&lt;Repairable&gt;();\n02: var car = new Car();\n03: var clutch = car.getClutch();\n04: var engine = (Repairable) null;\n05: rl.add(car);\n06: rl.add(clutch);\n07: car = null;\n08: clutch = null;\n09: rl.add(engine);\n10: rl.set(2, engine);\n11: rl.remove(0);\n12: rl.remove(1);\n</code></pre>\n<p>I am quite irritated by this quiz. I am particularly surprised by the statement &quot;Line 12 removes the item at index 1, which is the null. The list, therefore, contains nothing except the clutch.&quot; At this point in time is clutch also zero(line 08) and accordingly that is not right.</p>\n"},{"tags":["java","maven","jersey","jetty"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686693464,"post_id":76468315,"comment_id":134833860,"body_markdown":"*config.packages(&quot;Controllers&quot;);* I don&#39;t know this API but it looks like that&#39;s going to make &#39;Controllers&#39; (incidentally package names should be all lower case in Java) the place where it&#39;s going to look for resources. You&#39;ve got them in &#39;/&#39; and you don&#39;t want to be mixing them in with your classes. You might *try* creating src/main/resources/resources and put them in the &#39;package&#39; called &#39;resources&#39;. Your code would then be  `config.packages(&quot;resources&quot;);` Worth a try ;) **OR** try creating an *actual* package /src/main/java/resources and put them in there. I&#39;d be surprised if both fail","body":"<i>config.packages(&quot;Controllers&quot;);</i> I don&#39;t know this API but it looks like that&#39;s going to make &#39;Controllers&#39; (incidentally package names should be all lower case in Java) the place where it&#39;s going to look for resources. You&#39;ve got them in &#39;/&#39; and you don&#39;t want to be mixing them in with your classes. You might <i>try</i> creating src/main/resources/resources and put them in the &#39;package&#39; called &#39;resources&#39;. Your code would then be  <code>config.packages(&quot;resources&quot;);</code> Worth a try ;) <b>OR</b> try creating an <i>actual</i> package /src/main/java/resources and put them in there. I&#39;d be surprised if both fail"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686730413,"post_id":76468315,"comment_id":134837790,"body_markdown":"The `src` directory isn&#39;t there at runtime. You&#39;re trying to serve from the wrong place.","body":"The <code>src</code> directory isn&#39;t there at runtime. You&#39;re trying to serve from the wrong place."}],"answers":[{"tags":[],"owner":{"account_id":10226265,"reputation":376,"user_id":7548747,"display_name":"Lachlan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686725744,"creation_date":1686725744,"answer_id":76470863,"question_id":76468315,"body_markdown":"The `ServletContextHandler` wont serve static files on its own you need to add a `DefaultServlet` to that. Or configure an additional `ResourceHandler`.\r\n\r\nhttps://www.eclipse.org/jetty/javadoc/jetty-10/org/eclipse/jetty/servlet/DefaultServlet.html\r\n\r\nhttps://www.eclipse.org/jetty/javadoc/jetty-10/org/eclipse/jetty/server/handler/ResourceHandler.html","title":"Serving files in src/main/resources using Java Jetty","body":"<p>The <code>ServletContextHandler</code> wont serve static files on its own you need to add a <code>DefaultServlet</code> to that. Or configure an additional <code>ResourceHandler</code>.</p>\n<p><a href=\"https://www.eclipse.org/jetty/javadoc/jetty-10/org/eclipse/jetty/servlet/DefaultServlet.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/javadoc/jetty-10/org/eclipse/jetty/servlet/DefaultServlet.html</a></p>\n<p><a href=\"https://www.eclipse.org/jetty/javadoc/jetty-10/org/eclipse/jetty/server/handler/ResourceHandler.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/javadoc/jetty-10/org/eclipse/jetty/server/handler/ResourceHandler.html</a></p>\n"}],"owner":{"account_id":20708690,"reputation":55,"user_id":15205883,"display_name":"brownandrew15"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686725744,"creation_date":1686686348,"question_id":76468315,"body_markdown":"I am trying to create a simple Java Jetty/Jersey project with Maven and have successfully got Jersey to return content back to the client from the methods defined in Java classes. I believe that I have set up my Jetty server such that the files in `src/main/resources` can also be returned to the client through the use of `ServletContextHandler.setBaseResource` method in `WebServer.createServer`. However, when I navigate to the URL for one of these files, Jetty returns a 404 file not found error.\r\n\r\nMy understanding of the server setup is that when a request is made, the Jersey classes are checked for a matching path, if one is found then the content is returned, if there isn&#39;t a matching path then the base resources are searched and if a file matches the path it is returned.\r\n\r\nMy Jetty server class is located in `src/main/java/WebServer.java` and is as follows:\r\n```\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.servlet.ServletContextHandler;\r\nimport org.eclipse.jetty.servlet.ServletHolder;\r\nimport org.eclipse.jetty.util.resource.Resource;\r\nimport org.eclipse.jetty.util.resource.ResourceCollection;\r\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\nimport org.glassfish.jersey.servlet.ServletContainer;\r\n\r\npublic class WebServer {\r\n\r\n    public static void main(String[] args) {\r\n        Server server = createServer();\r\n        try {\r\n            server.start();\r\n            System.out.println(&quot;Server started&quot;);\r\n            server.join();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static Server createServer() {\r\n        Server server = new Server(9090);\r\n        ServletContextHandler context = new ServletContextHandler(server, &quot;/&quot;);\r\n        Resource resources = createStaticResources();\r\n        context.setBaseResource(resources);\r\n        ServletHolder servlet = createServlet();\r\n        context.addServlet(servlet, &quot;/*&quot;);\r\n        return server;\r\n    }\r\n\r\n    private static ResourceConfig createResourceConfig() {\r\n        ResourceConfig config = new ResourceConfig();\r\n        config.packages(&quot;Controllers&quot;);\r\n        config.register(MultiPartFeature.class);\r\n        return config;\r\n    }\r\n\r\n    private static ServletHolder createServlet() {\r\n        ResourceConfig config = createResourceConfig();\r\n        ServletContainer container = new ServletContainer(config);\r\n        ServletHolder servlet = new ServletHolder(container);\r\n        return servlet;\r\n    }\r\n\r\n    private static Resource createStaticResources() {\r\n        String[] locations = new String[] {\r\n            &quot;src/main/resources/&quot;\r\n        };\r\n        Resource resources = new ResourceCollection(locations);\r\n        return resources;\r\n    }\r\n}\r\n```\r\n\r\nMy Jersey handler class is located in `src/main/java/Controllers/Main.java` and is as follows:\r\n```\r\npackage Controllers;\r\n\r\nimport javax.ws.rs.*;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\n@Path(&quot;/&quot;)\r\npublic class Main {\r\n    \r\n    @GET\r\n    @Path(&quot;/&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String helloWorld() {\r\n        return &quot;Hello World!&quot;;\r\n    }\r\n\r\n    @GET\r\n    @Path(&quot;/page1&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String page1() {\r\n        return &quot;Page 1&quot;;\r\n    }\r\n}\r\n```\r\n\r\nWhere have I misunderstood the Jetty server setup that is resulting in these 404 errors?\r\n","title":"Serving files in src/main/resources using Java Jetty","body":"<p>I am trying to create a simple Java Jetty/Jersey project with Maven and have successfully got Jersey to return content back to the client from the methods defined in Java classes. I believe that I have set up my Jetty server such that the files in <code>src/main/resources</code> can also be returned to the client through the use of <code>ServletContextHandler.setBaseResource</code> method in <code>WebServer.createServer</code>. However, when I navigate to the URL for one of these files, Jetty returns a 404 file not found error.</p>\n<p>My understanding of the server setup is that when a request is made, the Jersey classes are checked for a matching path, if one is found then the content is returned, if there isn't a matching path then the base resources are searched and if a file matches the path it is returned.</p>\n<p>My Jetty server class is located in <code>src/main/java/WebServer.java</code> and is as follows:</p>\n<pre><code>import org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.ServletContextHandler;\nimport org.eclipse.jetty.servlet.ServletHolder;\nimport org.eclipse.jetty.util.resource.Resource;\nimport org.eclipse.jetty.util.resource.ResourceCollection;\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.servlet.ServletContainer;\n\npublic class WebServer {\n\n    public static void main(String[] args) {\n        Server server = createServer();\n        try {\n            server.start();\n            System.out.println(&quot;Server started&quot;);\n            server.join();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static Server createServer() {\n        Server server = new Server(9090);\n        ServletContextHandler context = new ServletContextHandler(server, &quot;/&quot;);\n        Resource resources = createStaticResources();\n        context.setBaseResource(resources);\n        ServletHolder servlet = createServlet();\n        context.addServlet(servlet, &quot;/*&quot;);\n        return server;\n    }\n\n    private static ResourceConfig createResourceConfig() {\n        ResourceConfig config = new ResourceConfig();\n        config.packages(&quot;Controllers&quot;);\n        config.register(MultiPartFeature.class);\n        return config;\n    }\n\n    private static ServletHolder createServlet() {\n        ResourceConfig config = createResourceConfig();\n        ServletContainer container = new ServletContainer(config);\n        ServletHolder servlet = new ServletHolder(container);\n        return servlet;\n    }\n\n    private static Resource createStaticResources() {\n        String[] locations = new String[] {\n            &quot;src/main/resources/&quot;\n        };\n        Resource resources = new ResourceCollection(locations);\n        return resources;\n    }\n}\n</code></pre>\n<p>My Jersey handler class is located in <code>src/main/java/Controllers/Main.java</code> and is as follows:</p>\n<pre><code>package Controllers;\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.MediaType;\n\n@Path(&quot;/&quot;)\npublic class Main {\n    \n    @GET\n    @Path(&quot;/&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    public String helloWorld() {\n        return &quot;Hello World!&quot;;\n    }\n\n    @GET\n    @Path(&quot;/page1&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    public String page1() {\n        return &quot;Page 1&quot;;\n    }\n}\n</code></pre>\n<p>Where have I misunderstood the Jetty server setup that is resulting in these 404 errors?</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"down_vote_count":5,"up_vote_count":1323,"is_accepted":true,"score":1318,"last_activity_date":1647938764,"creation_date":1343833054,"answer_id":11761975,"question_id":11757487,"body_markdown":"To suppress serializing properties with null values using Jackson &gt;2.0, you can [configure the `ObjectMapper` directly][1], or make use of the [`@JsonInclude`][2] annotation:\r\n\r\n    mapper.setSerializationInclusion(Include.NON_NULL);\r\n\r\nor:\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    class Foo\r\n    {\r\n      String bar;\r\n    }\r\n\r\nAlternatively, you could use `@JsonInclude` in a getter so that the attribute would be shown if the value is not null.\r\n\r\nA more complete example is available in [my answer][3] to https://stackoverflow.com/questions/11449211/.\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonInclude.Include.html\r\n  [2]: http://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonInclude.html\r\n  [3]: https://stackoverflow.com/questions/11449211/how-to-prevent-null-values-inside-a-map-and-null-fields-inside-a-bean-from-getti/11464975#11464975","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>To suppress serializing properties with null values using Jackson &gt;2.0, you can <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonInclude.Include.html\" rel=\"noreferrer\">configure the <code>ObjectMapper</code> directly</a>, or make use of the <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonInclude.html\" rel=\"noreferrer\"><code>@JsonInclude</code></a> annotation:</p>\n<pre><code>mapper.setSerializationInclusion(Include.NON_NULL);\n</code></pre>\n<p>or:</p>\n<pre><code>@JsonInclude(Include.NON_NULL)\nclass Foo\n{\n  String bar;\n}\n</code></pre>\n<p>Alternatively, you could use <code>@JsonInclude</code> in a getter so that the attribute would be shown if the value is not null.</p>\n<p>A more complete example is available in <a href=\"https://stackoverflow.com/questions/11449211/how-to-prevent-null-values-inside-a-map-and-null-fields-inside-a-bean-from-getti/11464975#11464975\">my answer</a> to <a href=\"https://stackoverflow.com/questions/11449211/\">How to prevent null values inside a Map and null fields inside a bean from getting serialized through Jackson</a>.</p>\n"},{"tags":[],"owner":{"account_id":466640,"reputation":1112,"user_id":871511,"accept_rate":33,"display_name":"Eren Yilmaz"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1474932200,"creation_date":1364827649,"answer_id":15745630,"question_id":11757487,"body_markdown":"You can use the following mapper configuration:\r\n\r\n    mapper.getSerializationConfig().setSerializationInclusion(Inclusion.NON_NULL);\r\n\r\nSince 2.5 you can user:\r\n\r\n    mapper.setSerializationInclusion(Include.NON_NULL);\r\n","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>You can use the following mapper configuration:</p>\n\n<pre><code>mapper.getSerializationConfig().setSerializationInclusion(Inclusion.NON_NULL);\n</code></pre>\n\n<p>Since 2.5 you can user:</p>\n\n<pre><code>mapper.setSerializationInclusion(Include.NON_NULL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":541053,"reputation":16663,"user_id":909376,"accept_rate":100,"display_name":"WTK"},"down_vote_count":1,"up_vote_count":141,"is_accepted":false,"score":140,"last_activity_date":1493973035,"creation_date":1372318773,"answer_id":17337373,"question_id":11757487,"body_markdown":"With Jackson &gt; 1.9.11 and &lt; 2.x use `@JsonSerialize` annotation to do that:\r\n\r\n`@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL)`","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>With Jackson > 1.9.11 and &lt; 2.x use <code>@JsonSerialize</code> annotation to do that:</p>\n\n<p><code>@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL)</code></p>\n"},{"tags":[],"owner":{"account_id":1086954,"reputation":29057,"user_id":1082449,"accept_rate":71,"display_name":"davnicwil"},"down_vote_count":0,"up_vote_count":191,"is_accepted":false,"score":191,"last_activity_date":1626351006,"creation_date":1375105561,"answer_id":17925746,"question_id":11757487,"body_markdown":"Just to expand on the other answers - if you need to control the omission of null values on a per-field basis, annotate the field in question (or alternatively annotate the field&#39;s &#39;getter&#39;).\r\n\r\n**example -** here only `fieldOne` will be omitted from the JSON if it is null. `fieldTwo` will always be included in the JSON regardless of if it is null.\r\n\r\n    public class Foo {\r\n\r\n        @JsonInclude(JsonInclude.Include.NON_NULL) \r\n        private String fieldOne;\r\n\r\n        private String fieldTwo;\r\n    }\r\n\r\n\r\nTo omit all null values in the class as a default, annotate the class. Per-field/getter annotations can still be used to override this default if necessary.\r\n\r\n**example -** here `fieldOne` and `fieldTwo` will be omitted from the JSON if they are null, respectively, because this is the default set by the class annotation. `fieldThree` however will override the default and will always be included, because of the annotation on the field.\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class Foo {\r\n  \r\n        private String fieldOne;\r\n\r\n        private String fieldTwo;\r\n        \r\n        @JsonInclude(JsonInclude.Include.ALWAYS)\r\n        private String fieldThree;\r\n    }\r\n\r\n---\r\n\r\n**UPDATE** \r\n\r\nThe above is for **Jackson 2**. For **earlier versions** of Jackson you need to use:\r\n \r\n    @JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL) \r\n\r\ninstead of\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n\r\n*If this update is useful, please upvote ZiglioUK&#39;s answer below, it pointed out the newer Jackson 2 annotation long before I updated my answer to use it!*","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>Just to expand on the other answers - if you need to control the omission of null values on a per-field basis, annotate the field in question (or alternatively annotate the field's 'getter').</p>\n<p><strong>example -</strong> here only <code>fieldOne</code> will be omitted from the JSON if it is null. <code>fieldTwo</code> will always be included in the JSON regardless of if it is null.</p>\n<pre><code>public class Foo {\n\n    @JsonInclude(JsonInclude.Include.NON_NULL) \n    private String fieldOne;\n\n    private String fieldTwo;\n}\n</code></pre>\n<p>To omit all null values in the class as a default, annotate the class. Per-field/getter annotations can still be used to override this default if necessary.</p>\n<p><strong>example -</strong> here <code>fieldOne</code> and <code>fieldTwo</code> will be omitted from the JSON if they are null, respectively, because this is the default set by the class annotation. <code>fieldThree</code> however will override the default and will always be included, because of the annotation on the field.</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Foo {\n\n    private String fieldOne;\n\n    private String fieldTwo;\n    \n    @JsonInclude(JsonInclude.Include.ALWAYS)\n    private String fieldThree;\n}\n</code></pre>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>The above is for <strong>Jackson 2</strong>. For <strong>earlier versions</strong> of Jackson you need to use:</p>\n<pre><code>@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL) \n</code></pre>\n<p>instead of</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n</code></pre>\n<p><em>If this update is useful, please upvote ZiglioUK's answer below, it pointed out the newer Jackson 2 annotation long before I updated my answer to use it!</em></p>\n"},{"tags":[],"owner":{"account_id":427657,"reputation":2580,"user_id":809536,"accept_rate":80,"display_name":"ZiglioUK"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1483071871,"creation_date":1390184923,"answer_id":21225339,"question_id":11757487,"body_markdown":"In Jackson 2.x, use:\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n\r\n","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>In Jackson 2.x, use:</p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2024994,"reputation":468,"user_id":1810439,"display_name":"mekdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437062547,"creation_date":1411762326,"answer_id":26067611,"question_id":11757487,"body_markdown":"Jackson 2.x+ use\r\n\r\n    mapper.getSerializationConfig().withSerializationInclusion(JsonInclude.Include.NON_NULL);","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>Jackson 2.x+ use</p>\n\n<pre><code>mapper.getSerializationConfig().withSerializationInclusion(JsonInclude.Include.NON_NULL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6199734,"reputation":463,"user_id":4829972,"accept_rate":50,"display_name":"alfthan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1429902427,"creation_date":1429902427,"answer_id":29855562,"question_id":11757487,"body_markdown":"in my case  \r\n\r\n    @JsonInclude(Include.NON_EMPTY)\r\n\r\nmade it work.","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>in my case  </p>\n\n<pre><code>@JsonInclude(Include.NON_EMPTY)\n</code></pre>\n\n<p>made it work.</p>\n"},{"tags":[],"owner":{"account_id":5824602,"reputation":1154,"user_id":4591461,"accept_rate":78,"display_name":"Bilal BBB"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437340445,"creation_date":1437340445,"answer_id":31505998,"question_id":11757487,"body_markdown":"For Jackson 2.5 use : \r\n\r\n    @JsonInclude(content=Include.NON_NULL)","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>For Jackson 2.5 use : </p>\n\n<pre><code>@JsonInclude(content=Include.NON_NULL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5417399,"reputation":1030,"user_id":4312184,"display_name":"Ilia Kurtov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461793929,"creation_date":1461793929,"answer_id":36901591,"question_id":11757487,"body_markdown":"If you want to add this rule to all models in Jackson 2.6+ use:\r\n\r\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>If you want to add this rule to all models in Jackson 2.6+ use:</p>\n\n<pre><code>mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5017917,"reputation":670,"user_id":4032261,"accept_rate":100,"display_name":"Neha Gangwar"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1462203855,"creation_date":1462203855,"answer_id":36986422,"question_id":11757487,"body_markdown":"    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n\r\nshould work.\r\n\r\n`Include.NON_EMPTY` indicates that property is serialized if its value is not null and not empty.\r\n`Include.NON_NULL` indicates that property is serialized if its value is not null.","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\n</code></pre>\n\n<p>should work.</p>\n\n<p><code>Include.NON_EMPTY</code> indicates that property is serialized if its value is not null and not empty.\n<code>Include.NON_NULL</code> indicates that property is serialized if its value is not null.</p>\n"},{"tags":[],"owner":{"account_id":4204312,"reputation":55,"user_id":3443646,"accept_rate":80,"display_name":"prateek_cs_2012"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477293217,"creation_date":1477293217,"answer_id":40212604,"question_id":11757487,"body_markdown":"This has been troubling me for quite some time and I finally found the issue. The issue was due to a wrong import. Earlier I had been using \r\n\r\n    com.fasterxml.jackson.databind.annotation.JsonSerialize\r\n\r\nWhich had been deprecated. Just replace the import by\r\n\r\n    import org.codehaus.jackson.map.annotate.JsonSerialize;\r\n    import org.codehaus.jackson.map.annotate.JsonSerialize.Inclusion;\r\n\r\nand use it as \r\n\r\n    @JsonSerialize(include=Inclusion.NON_NULL)\r\n\r\n\r\n","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>This has been troubling me for quite some time and I finally found the issue. The issue was due to a wrong import. Earlier I had been using </p>\n\n<pre><code>com.fasterxml.jackson.databind.annotation.JsonSerialize\n</code></pre>\n\n<p>Which had been deprecated. Just replace the import by</p>\n\n<pre><code>import org.codehaus.jackson.map.annotate.JsonSerialize;\nimport org.codehaus.jackson.map.annotate.JsonSerialize.Inclusion;\n</code></pre>\n\n<p>and use it as </p>\n\n<pre><code>@JsonSerialize(include=Inclusion.NON_NULL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6197888,"reputation":571,"user_id":4828657,"display_name":"Yury"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1533506875,"creation_date":1479283498,"answer_id":40626871,"question_id":11757487,"body_markdown":"You can set `application.properties`:\r\n\r\n    spring.jackson.default-property-inclusion=non_null\r\nor `application.yaml`:\r\n\r\n    spring:\r\n      jackson:\r\n        default-property-inclusion: non_null\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>You can set <code>application.properties</code>:</p>\n\n<pre><code>spring.jackson.default-property-inclusion=non_null\n</code></pre>\n\n<p>or <code>application.yaml</code>:</p>\n\n<pre><code>spring:\n  jackson:\n    default-property-inclusion: non_null\n</code></pre>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html</a></p>\n"},{"tags":[],"owner":{"account_id":4246469,"reputation":993,"user_id":3474985,"display_name":"user3474985"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568316951,"creation_date":1511419355,"answer_id":47449137,"question_id":11757487,"body_markdown":"If you&#39;re trying to serialize a list of object and one of them is null you&#39;ll end up including the null item in the JSON even with \r\n\r\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\r\nwill result in:\r\n\r\n    [{myObject},null]\r\n\r\nto get this:\r\n\r\n    [{myObject}]\r\n\r\none can do something like:\r\n\r\n    mapper.getSerializerProvider().setNullValueSerializer(new JsonSerializer&lt;Object&gt;() {\r\n            @Override\r\n            public void serialize(Object obj, JsonGenerator jsonGen, SerializerProvider unused)\r\n                    throws IOException\r\n            {\r\n                //IGNORES NULL VALUES!\r\n            }\r\n        });\r\n\r\nTIP: If you&#39;re using DropWizard you can retrieve the `ObjectMapper` being used by Jersey using `environment.getObjectMapper()`","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>If you're trying to serialize a list of object and one of them is null you'll end up including the null item in the JSON even with </p>\n\n<pre><code>mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n</code></pre>\n\n<p>will result in:</p>\n\n<pre><code>[{myObject},null]\n</code></pre>\n\n<p>to get this:</p>\n\n<pre><code>[{myObject}]\n</code></pre>\n\n<p>one can do something like:</p>\n\n<pre><code>mapper.getSerializerProvider().setNullValueSerializer(new JsonSerializer&lt;Object&gt;() {\n        @Override\n        public void serialize(Object obj, JsonGenerator jsonGen, SerializerProvider unused)\n                throws IOException\n        {\n            //IGNORES NULL VALUES!\n        }\n    });\n</code></pre>\n\n<p>TIP: If you're using DropWizard you can retrieve the <code>ObjectMapper</code> being used by Jersey using <code>environment.getObjectMapper()</code></p>\n"},{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1511902563,"creation_date":1511902563,"answer_id":47540771,"question_id":11757487,"body_markdown":"If in **Spring Boot**, you can customize the jackson `ObjectMapper` directly through property files.\r\n\r\nExample `application.yml`:\r\n\r\n&lt;!-- language: lang-yml --&gt;\r\n\r\n    spring:\r\n      jackson:\r\n        default-property-inclusion: non_null # only include props if non-null\r\n\r\nPossible values are:\r\n\r\n    always|non_null|non_absent|non_default|non_empty\r\n\r\nMore: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper\r\n","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>If in <strong>Spring Boot</strong>, you can customize the jackson <code>ObjectMapper</code> directly through property files.</p>\n\n<p>Example <code>application.yml</code>:</p>\n\n<pre class=\"lang-yml prettyprint-override\"><code>spring:\n  jackson:\n    default-property-inclusion: non_null # only include props if non-null\n</code></pre>\n\n<p>Possible values are:</p>\n\n<pre><code>always|non_null|non_absent|non_default|non_empty\n</code></pre>\n\n<p>More: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper</a></p>\n"},{"tags":[],"owner":{"account_id":1921531,"reputation":16820,"user_id":1732936,"accept_rate":66,"display_name":"Xelian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516654654,"creation_date":1516654654,"answer_id":48390142,"question_id":11757487,"body_markdown":"Global configuration if you use Spring\r\n\r\n    @Configuration\r\n    public class JsonConfigurations {\r\n    \r\n        @Bean\r\n        public Jackson2ObjectMapperBuilder objectMapperBuilder() {\r\n            Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n            builder.serializationInclusion(JsonInclude.Include.NON_NULL);\r\n            builder.serializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n            builder.failOnUnknownProperties(false);\r\n            return builder;\r\n        }\r\n    \r\n    }","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>Global configuration if you use Spring</p>\n\n<pre><code>@Configuration\npublic class JsonConfigurations {\n\n    @Bean\n    public Jackson2ObjectMapperBuilder objectMapperBuilder() {\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n        builder.serializationInclusion(JsonInclude.Include.NON_NULL);\n        builder.serializationInclusion(JsonInclude.Include.NON_EMPTY);\n        builder.failOnUnknownProperties(false);\n        return builder;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7113112,"reputation":1881,"user_id":5440323,"display_name":"Deva"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1549868911,"creation_date":1542867683,"answer_id":53424948,"question_id":11757487,"body_markdown":"This Will work in **Spring boot 2.0.3+ and Jackson 2.0+**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    \r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class ApiDTO\r\n    {\r\n        // your class variable and \r\n        // methods\r\n    }","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>This Will work in <strong>Spring boot 2.0.3+ and Jackson 2.0+</strong></p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ApiDTO\n{\n    // your class variable and \n    // methods\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3851650,"reputation":1455,"user_id":3191676,"accept_rate":50,"display_name":"atom88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558047405,"creation_date":1558047405,"answer_id":56177578,"question_id":11757487,"body_markdown":"Also, you have to change your approach when using Map&lt;Object,Object&gt; myVariable as described in the documentation to eleminate nulls:\r\n\r\n    From documentation:\r\n    com.fasterxml.jackson.annotation.JsonInclude\r\n    \r\n    @JacksonAnnotation\r\n    @Target(value={ANNOTATION_TYPE, FIELD, METHOD, PARAMETER, TYPE})\r\n    @Retention(value=RUNTIME)\r\n    Annotation used to indicate when value of the annotated property (when used for a field, method or constructor parameter), or all properties of the annotated class, is to be serialized. Without annotation property values are always included, but by using this annotation one can specify simple exclusion rules to reduce amount of properties to write out.\r\n    \r\n    *Note that the main inclusion criteria (one annotated with value) is checked on Java object level, for the annotated type, and NOT on JSON output -- so even with Include.NON_NULL it is possible that JSON null values are output, if object reference in question is not `null`. An example is java.util.concurrent.atomic.AtomicReference instance constructed to reference null value: such a value would be serialized as JSON null, and not filtered out.\r\n    \r\n    To base inclusion on value of contained value(s), you will typically also need to specify content() annotation; for example, specifying only value as Include.NON_EMPTY for a {link java.util.Map} would exclude Maps with no values, but would include Maps with `null` values. To exclude Map with only `null` value, you would use both annotations like so:\r\n    public class Bean {\r\n       @JsonInclude(value=Include.NON_EMPTY, content=Include.NON_NULL)\r\n       public Map&lt;String,String&gt; entries;\r\n    }\r\n    \r\n    Similarly you could Maps that only contain &quot;empty&quot; elements, or &quot;non-default&quot; values (see Include.NON_EMPTY and Include.NON_DEFAULT for more details).\r\n    In addition to `Map`s, `content` concept is also supported for referential types (like java.util.concurrent.atomic.AtomicReference). Note that `content` is NOT currently (as of Jackson 2.9) supported for arrays or java.util.Collections, but supported may be added in future versions.\r\n    Since:\r\n    2.0\r\n\r\n","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>Also, you have to change your approach when using Map myVariable as described in the documentation to eleminate nulls:</p>\n\n<pre><code>From documentation:\ncom.fasterxml.jackson.annotation.JsonInclude\n\n@JacksonAnnotation\n@Target(value={ANNOTATION_TYPE, FIELD, METHOD, PARAMETER, TYPE})\n@Retention(value=RUNTIME)\nAnnotation used to indicate when value of the annotated property (when used for a field, method or constructor parameter), or all properties of the annotated class, is to be serialized. Without annotation property values are always included, but by using this annotation one can specify simple exclusion rules to reduce amount of properties to write out.\n\n*Note that the main inclusion criteria (one annotated with value) is checked on Java object level, for the annotated type, and NOT on JSON output -- so even with Include.NON_NULL it is possible that JSON null values are output, if object reference in question is not `null`. An example is java.util.concurrent.atomic.AtomicReference instance constructed to reference null value: such a value would be serialized as JSON null, and not filtered out.\n\nTo base inclusion on value of contained value(s), you will typically also need to specify content() annotation; for example, specifying only value as Include.NON_EMPTY for a {link java.util.Map} would exclude Maps with no values, but would include Maps with `null` values. To exclude Map with only `null` value, you would use both annotations like so:\npublic class Bean {\n   @JsonInclude(value=Include.NON_EMPTY, content=Include.NON_NULL)\n   public Map&lt;String,String&gt; entries;\n}\n\nSimilarly you could Maps that only contain \"empty\" elements, or \"non-default\" values (see Include.NON_EMPTY and Include.NON_DEFAULT for more details).\nIn addition to `Map`s, `content` concept is also supported for referential types (like java.util.concurrent.atomic.AtomicReference). Note that `content` is NOT currently (as of Jackson 2.9) supported for arrays or java.util.Collections, but supported may be added in future versions.\nSince:\n2.0\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user12057507"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576155914,"creation_date":1576155914,"answer_id":59305293,"question_id":11757487,"body_markdown":"We have lot of answers to this question. This answer may be helpful in some scenarios\r\nIf you want to ignore the null values you can use the NOT_NULL in class level. \r\nas below\r\n```\r\n@JsonInclude(Include.NON_NULL)\r\nclass Foo\r\n{\r\n  String bar;\r\n}\r\n```\r\nSome times you may need to ignore the empty values such as you may have initialized the arrayList but there is no elements in that list.In that time using NOT_EMPTY annotation to ignore those empty value fields\r\n\r\n```\r\n@JsonInclude(Include.NON_EMPTY)\r\nclass Foo\r\n{\r\n  String bar;\r\n}\r\n````\r\n ","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>We have lot of answers to this question. This answer may be helpful in some scenarios\nIf you want to ignore the null values you can use the NOT_NULL in class level. \nas below</p>\n\n<pre><code>@JsonInclude(Include.NON_NULL)\nclass Foo\n{\n  String bar;\n}\n</code></pre>\n\n<p>Some times you may need to ignore the empty values such as you may have initialized the arrayList but there is no elements in that list.In that time using NOT_EMPTY annotation to ignore those empty value fields</p>\n\n<pre><code>@JsonInclude(Include.NON_EMPTY)\nclass Foo\n{\n  String bar;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2967696,"reputation":455,"user_id":2520509,"display_name":"Nguyen Minh Hien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590522212,"creation_date":1590522212,"answer_id":62030154,"question_id":11757487,"body_markdown":"Case one \r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    private String someString;\r\n    \r\nCase two\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    private String someString;\r\n   \r\nIf `someString` is null, it will be ignored on both of cases. \r\nIf `someString` is &quot;&quot; it just only be ignored on case two. \r\n\r\nThe same for `List = null` or `List.size() = 0`\r\n\r\n","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>Case one </p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\nprivate String someString;\n</code></pre>\n\n<p>Case two</p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_EMPTY)\nprivate String someString;\n</code></pre>\n\n<p>If <code>someString</code> is null, it will be ignored on both of cases. \nIf <code>someString</code> is \"\" it just only be ignored on case two. </p>\n\n<p>The same for <code>List = null</code> or <code>List.size() = 0</code></p>\n"},{"tags":[],"owner":{"account_id":11388057,"reputation":97,"user_id":8349096,"display_name":"Rishab Jula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627888278,"creation_date":1627888278,"answer_id":68617679,"question_id":11757487,"body_markdown":"Try this -\r\n\r\n```\r\n@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL)\r\npublic class XYZ {\r\n\t\r\n\tprotected String field1;\r\n\t\r\n\tprotected String field2;\r\n }\r\n```\r\n\r\nAnd for non-null values (On getters/class level) -\r\n\r\n```\r\n@JsonSerialize(include=JsonSerialize.Inclusion.NON_EMPTY)\r\n```\r\n","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>Try this -</p>\n<pre><code>@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL)\npublic class XYZ {\n    \n    protected String field1;\n    \n    protected String field2;\n }\n</code></pre>\n<p>And for non-null values (On getters/class level) -</p>\n<pre><code>@JsonSerialize(include=JsonSerialize.Inclusion.NON_EMPTY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10496904,"reputation":939,"user_id":7736814,"display_name":"peterzinho16"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679074921,"creation_date":1679074921,"answer_id":75770625,"question_id":11757487,"body_markdown":"In Jackson 2.0 or greater, `@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL)` the include property was deprecated, we need replace with:\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    public class MyClass","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>In Jackson 2.0 or greater, <code>@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL)</code> the include property was deprecated, we need replace with:</p>\n<pre><code>@JsonInclude(Include.NON_NULL)\npublic class MyClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13729131,"reputation":1,"user_id":16598004,"display_name":"Md Rejaul Islam Reaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686725727,"creation_date":1686725693,"answer_id":76470853,"question_id":11757487,"body_markdown":"\r\n\r\n`@JsonInclude(Include.NON_EMPTY)` OR `@JsonInclude(Include.NON_NULL)`\r\n","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p><code>@JsonInclude(Include.NON_EMPTY)</code> OR <code>@JsonInclude(Include.NON_NULL)</code></p>\n"}],"owner":{"account_id":195439,"reputation":60906,"user_id":438319,"accept_rate":73,"display_name":"ams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856112,"favorite_count":0,"down_vote_count":1,"up_vote_count":859,"accepted_answer_id":11761975,"answer_count":22,"score":858,"last_activity_date":1686725727,"creation_date":1343817631,"question_id":11757487,"body_markdown":"How can Jackson be configured to ignore a field value during serialization if that field&#39;s value is null. \r\n\r\nFor example:\r\n\r\n    public class SomeClass {\r\n       // what jackson annotation causes jackson to skip over this value if it is null but will \r\n       // serialize it otherwise \r\n       private String someValue; \r\n    }","title":"How to tell Jackson to ignore a field during serialization if its value is null?","body":"<p>How can Jackson be configured to ignore a field value during serialization if that field's value is null. </p>\n\n<p>For example:</p>\n\n<pre><code>public class SomeClass {\n   // what jackson annotation causes jackson to skip over this value if it is null but will \n   // serialize it otherwise \n   private String someValue; \n}\n</code></pre>\n"},{"tags":["java","base64","gmail"],"comments":[{"owner":{"account_id":4596872,"reputation":2115,"user_id":3728639,"accept_rate":89,"display_name":"Chathura Buddhika"},"score":0,"creation_date":1574311829,"post_id":58967244,"comment_id":104189535,"body_markdown":"please provide minimum and complete code sample to reproduce your issue","body":"please provide minimum and complete code sample to reproduce your issue"},{"owner":{"account_id":12143927,"reputation":51,"user_id":8866864,"display_name":"Ramesh Kumar"},"score":0,"creation_date":1574312120,"post_id":58967244,"comment_id":104189617,"body_markdown":"i updated full code","body":"i updated full code"}],"answers":[{"tags":[],"owner":{"account_id":28816975,"reputation":32,"user_id":22070376,"display_name":"Zulkifal Zubairi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686725605,"creation_date":1686725605,"answer_id":76470840,"question_id":58967244,"body_markdown":"Unfortunately Gmail does not support the use of Base64 encoded images within HTML emails. While Base64 encoding allows for embedding image data directly within the HTML markup, Gmail may not consistently render these images. It&#39;s important to note that email clients can have varying levels of support for different features, and Gmail&#39;s limitations are in place to ensure security, maintain a consistent user experience, and prevent potential abuse of the platform.\r\n\r\nYou can [check][1] the base 64 support table.\r\n\r\n\r\n  [1]: https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fwww.caniemail.com%2Ffeatures%2Fimage-base64%2F&amp;psig=AOvVaw1BRQawIFnuhlEZYjik2NQV&amp;ust=1686811573678000&amp;source=images&amp;cd=vfe&amp;ved=0CBEQjRxqFwoTCJCC5PeUwv8CFQAAAAAdAAAAABAE","title":"sending base 64 encoded image to gmail","body":"<p>Unfortunately Gmail does not support the use of Base64 encoded images within HTML emails. While Base64 encoding allows for embedding image data directly within the HTML markup, Gmail may not consistently render these images. It's important to note that email clients can have varying levels of support for different features, and Gmail's limitations are in place to ensure security, maintain a consistent user experience, and prevent potential abuse of the platform.</p>\n<p>You can <a href=\"https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fwww.caniemail.com%2Ffeatures%2Fimage-base64%2F&amp;psig=AOvVaw1BRQawIFnuhlEZYjik2NQV&amp;ust=1686811573678000&amp;source=images&amp;cd=vfe&amp;ved=0CBEQjRxqFwoTCJCC5PeUwv8CFQAAAAAdAAAAABAE\" rel=\"nofollow noreferrer\">check</a> the base 64 support table.</p>\n"}],"owner":{"account_id":12143927,"reputation":51,"user_id":8866864,"display_name":"Ramesh Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686725605,"creation_date":1574309940,"question_id":58967244,"body_markdown":"   i&#39;m trying to send the base 64 encoded image to gmail but i could not able to see the original image.\r\n   i can only able to see the encoded text format.\r\n   i want to see the original image in gmail but i don&#39;t know how to show the original image in gamil. i want to show the html format. method name is email sender\r\n\r\n\r\n   \r\n\r\n    private void emailSender(CompanyInfo companyInfo) {\r\n\t\t final String username = &quot;rk.ramesh0609@gmail.com&quot;;\r\n\t        final String password = &quot;#######&quot;;\r\n\r\n\t        Properties prop = new Properties();\r\n\t\t\tprop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n\t        prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n\t        prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t        prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); //TLS\r\n\t        prop.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);\r\n\t        Session session = Session.getInstance(prop,\r\n\t                new javax.mail.Authenticator() {\r\n\t                    protected PasswordAuthentication getPasswordAuthentication() {\r\n\t                        return new PasswordAuthentication(username, password);\r\n\t                    }\r\n\t                });\r\n\r\n\t        try {\r\n\r\n\t        \t\r\n\t        \tMap&lt;String, String&gt; inlineImage = new HashMap&lt;String, String&gt;();\r\n\t        \t String body = companyInfo.getLocation();\r\n\t        \t final Matcher matcher = imgRegExp.matcher( body );\r\n\t        \t   int i = 0;\r\n\t        \t   while ( matcher.find() ) {\r\n\t        \t\t      String src = matcher.group();\r\n\t        \t\t      if ( body.indexOf( src ) != -1 ) {\r\n\t        \t\t         String srcToken = &quot;src=\\&quot;&quot;;\r\n\t        \t\t         int x = src.indexOf( srcToken );\r\n\t        \t\t         int y = src.indexOf( &quot;\\&quot;&quot;, x + srcToken.length() );\r\n\t        \t\t         String srcText = src.substring( x + srcToken.length(), y );\r\n\t        \t\t         String cid = &quot;image&quot; + i;\r\n\t        \t\t         String newSrc = src.replace( srcText, &quot;cid:&quot; + cid );\r\n\t        \t\t         inlineImage.put( cid, srcText.split( &quot;,&quot; )[1] );\r\n\t        \t\t         body = body.replace( src, newSrc );\r\n\t        \t\t         i++;\r\n\t        \t\t      }\r\n\t        \t\t   }\r\n\t        \t   \r\n\t        \t   \r\n\t        \t   \r\n\t        \t\r\n\t            Message message = new MimeMessage(session);\r\n\t            message.setFrom(new InternetAddress(&quot;rk.ramesh0609@gmail.com&quot;));\r\n\t            message.setRecipients(\r\n\t                    Message.RecipientType.TO,\r\n\t                    InternetAddress.parse(&quot;rameshparthi1991@gmail.com&quot;)\r\n\t            );\r\n\t            message.setSubject(&quot;Company info&quot;);\r\n\t            message.setText(&quot;Company name:&quot;+companyInfo.getComapanyName()\r\n\t                    + &quot;\\n\\n Pic Name:&quot;+companyInfo.getPictureName()\r\n\t                    + &quot;\\n\\n Phone Number:&quot;+companyInfo.getPhone()\r\n\t                    + &quot;\\n\\n Email:&quot;+companyInfo.getEmail()\r\n\t                    //+ &quot;\\n\\n Location:&quot;+companyInfo.getLocation()\r\n\t                  );\r\n\r\n\t            \r\n\t            BodyPart bp = new MimeBodyPart();\r\n\t            bp.setContent( body, &quot;text/html; charset=ISO-8859-1&quot; );\r\n\t            MimeMultipart mmp = new MimeMultipart();\r\n\t            mmp.addBodyPart( bp );\r\n\t            Iterator&lt;Entry&lt;String, String&gt;&gt; it = inlineImage.entrySet().iterator();\r\n\t            while ( it.hasNext() ) {\r\n\t               Entry&lt;String, String&gt; pairs = it.next();\r\n\t               PreencodedMimeBodyPart pmp = new PreencodedMimeBodyPart( &quot;base64&quot; );\r\n\t               pmp.setHeader( &quot;Content-ID&quot;, &quot;&lt;&quot; + pairs.getKey() + &quot;&gt;&quot; );\r\n\t               pmp.setDisposition( MimeBodyPart.INLINE );\r\n\t               pmp.setText( pairs.getValue() );\r\n\t               mmp.addBodyPart( pmp );\r\n\t            }\r\n\t            message.setContent( mmp );\r\n\t            \r\n\t            Transport.send(message,message.getAllRecipients());\r\n\r\n\t            System.out.println(&quot;Done&quot;);\r\n\r\n\t        } catch (MessagingException e) {\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t\t\r\n\t}\r\n\r\n","title":"sending base 64 encoded image to gmail","body":"<p>i'm trying to send the base 64 encoded image to gmail but i could not able to see the original image.\n   i can only able to see the encoded text format.\n   i want to see the original image in gmail but i don't know how to show the original image in gamil. i want to show the html format. method name is email sender</p>\n\n<pre><code>private void emailSender(CompanyInfo companyInfo) {\n     final String username = \"rk.ramesh0609@gmail.com\";\n        final String password = \"#######\";\n\n        Properties prop = new Properties();\n        prop.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n        prop.put(\"mail.smtp.port\", \"587\");\n        prop.put(\"mail.smtp.auth\", \"true\");\n        prop.put(\"mail.smtp.starttls.enable\", \"true\"); //TLS\n        prop.put(\"mail.smtp.ssl.trust\", \"smtp.gmail.com\");\n        Session session = Session.getInstance(prop,\n                new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username, password);\n                    }\n                });\n\n        try {\n\n\n            Map&lt;String, String&gt; inlineImage = new HashMap&lt;String, String&gt;();\n             String body = companyInfo.getLocation();\n             final Matcher matcher = imgRegExp.matcher( body );\n               int i = 0;\n               while ( matcher.find() ) {\n                      String src = matcher.group();\n                      if ( body.indexOf( src ) != -1 ) {\n                         String srcToken = \"src=\\\"\";\n                         int x = src.indexOf( srcToken );\n                         int y = src.indexOf( \"\\\"\", x + srcToken.length() );\n                         String srcText = src.substring( x + srcToken.length(), y );\n                         String cid = \"image\" + i;\n                         String newSrc = src.replace( srcText, \"cid:\" + cid );\n                         inlineImage.put( cid, srcText.split( \",\" )[1] );\n                         body = body.replace( src, newSrc );\n                         i++;\n                      }\n                   }\n\n\n\n\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(\"rk.ramesh0609@gmail.com\"));\n            message.setRecipients(\n                    Message.RecipientType.TO,\n                    InternetAddress.parse(\"rameshparthi1991@gmail.com\")\n            );\n            message.setSubject(\"Company info\");\n            message.setText(\"Company name:\"+companyInfo.getComapanyName()\n                    + \"\\n\\n Pic Name:\"+companyInfo.getPictureName()\n                    + \"\\n\\n Phone Number:\"+companyInfo.getPhone()\n                    + \"\\n\\n Email:\"+companyInfo.getEmail()\n                    //+ \"\\n\\n Location:\"+companyInfo.getLocation()\n                  );\n\n\n            BodyPart bp = new MimeBodyPart();\n            bp.setContent( body, \"text/html; charset=ISO-8859-1\" );\n            MimeMultipart mmp = new MimeMultipart();\n            mmp.addBodyPart( bp );\n            Iterator&lt;Entry&lt;String, String&gt;&gt; it = inlineImage.entrySet().iterator();\n            while ( it.hasNext() ) {\n               Entry&lt;String, String&gt; pairs = it.next();\n               PreencodedMimeBodyPart pmp = new PreencodedMimeBodyPart( \"base64\" );\n               pmp.setHeader( \"Content-ID\", \"&lt;\" + pairs.getKey() + \"&gt;\" );\n               pmp.setDisposition( MimeBodyPart.INLINE );\n               pmp.setText( pairs.getValue() );\n               mmp.addBodyPart( pmp );\n            }\n            message.setContent( mmp );\n\n            Transport.send(message,message.getAllRecipients());\n\n            System.out.println(\"Done\");\n\n        } catch (MessagingException e) {\n            e.printStackTrace();\n        }\n\n}\n</code></pre>\n"},{"tags":["java","macos","jvm","homebrew"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684150641,"post_id":76253641,"comment_id":134469877,"body_markdown":"Does this answer your question? [How to install specific Java version using Homebrew?](https://stackoverflow.com/questions/44632292/how-to-install-specific-java-version-using-homebrew)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/44632292/how-to-install-specific-java-version-using-homebrew\">How to install specific Java version using Homebrew?</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684150715,"post_id":76253641,"comment_id":134469896,"body_markdown":"Or how to select alternative versions already installed: https://stackoverflow.com/questions/26252591/mac-os-x-and-multiple-java-versions","body":"Or how to select alternative versions already installed: <a href=\"https://stackoverflow.com/questions/26252591/mac-os-x-and-multiple-java-versions\" title=\"mac os x and multiple java versions\">stackoverflow.com/questions/26252591/&hellip;</a>"},{"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"score":0,"creation_date":1684150842,"post_id":76253641,"comment_id":134469922,"body_markdown":"Regrettably not - homebrew doesn&#39;t recognise that 19 and 20 are different versions","body":"Regrettably not - homebrew doesn&#39;t recognise that 19 and 20 are different versions"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1684151552,"post_id":76253641,"comment_id":134470115,"body_markdown":"Why not fix the underlying problem: why does the code you are trying to compile not compile with Java 20? Oracle is very careful with keeping Java backwards compatible, so if your code does not compile with 20 then there is likely something strange in your code.","body":"Why not fix the underlying problem: why does the code you are trying to compile not compile with Java 20? Oracle is very careful with keeping Java backwards compatible, so if your code does not compile with 20 then there is likely something strange in your code."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1684151611,"post_id":76253641,"comment_id":134470131,"body_markdown":"If you really cannot fix the real problem, then you can find 19 in the [archive](https://www.oracle.com/uk/java/technologies/downloads/archive/).","body":"If you really cannot fix the real problem, then you can find 19 in the <a href=\"https://www.oracle.com/uk/java/technologies/downloads/archive/\" rel=\"nofollow noreferrer\">archive</a>."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1684151635,"post_id":76253641,"comment_id":134470137,"body_markdown":"OpenJDK 19 is already end of life. It was one of the short-lived versions. You are supposed to move on to the next version, or stay in one of the long term version like JDK 11 or 17.","body":"OpenJDK 19 is already end of life. It was one of the short-lived versions. You are supposed to move on to the next version, or stay in one of the long term version like JDK 11 or 17."},{"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"score":0,"creation_date":1684152684,"post_id":76253641,"comment_id":134470393,"body_markdown":"@aled except that I can&#39;t, because Gradle won&#39;t run under 20 yet. And yes, I can run Gradle with a different JVM, but OMFG it&#39;s a mess","body":"@aled except that I can&#39;t, because Gradle won&#39;t run under 20 yet. And yes, I can run Gradle with a different JVM, but OMFG it&#39;s a mess"},{"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"score":0,"creation_date":1684152799,"post_id":76253641,"comment_id":134470420,"body_markdown":"@Jesper It&#39;s a complete pain when a toolchain that was working fine stops working because of a random upgrade, especially when my code runs fine under 19, but Gradle doesn&#39;t.","body":"@Jesper It&#39;s a complete pain when a toolchain that was working fine stops working because of a random upgrade, especially when my code runs fine under 19, but Gradle doesn&#39;t."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1684156403,"post_id":76253641,"comment_id":134471296,"body_markdown":"I appologize for the unnecessary snark, but your problem *is* a direct result of using a JDK which is explicitly not supported for a long time. It&#39;s unfortunate that the Gradle support windows don&#39;t align usefully with the Java support windows, but the fact that Java 19 is (and was always known to be!) supported only for a very short time makes problems like this much more likely when depending on it. What I&#39;m trying to say: within my snark there was also a kernel of a suggestion to use this as a useful lesson: LTS versions exist for a reason.","body":"I appologize for the unnecessary snark, but your problem <i>is</i> a direct result of using a JDK which is explicitly not supported for a long time. It&#39;s unfortunate that the Gradle support windows don&#39;t align usefully with the Java support windows, but the fact that Java 19 is (and was always known to be!) supported only for a very short time makes problems like this much more likely when depending on it. What I&#39;m trying to say: within my snark there was also a kernel of a suggestion to use this as a useful lesson: LTS versions exist for a reason."},{"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"score":0,"creation_date":1684160297,"post_id":76253641,"comment_id":134472272,"body_markdown":"Thanks for the apology, and you have a point, but it feels that the window for upgrading from the current to the next version should be longer than 2 weeks!","body":"Thanks for the apology, and you have a point, but it feels that the window for upgrading from the current to the next version should be longer than 2 weeks!"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1684165754,"post_id":76253641,"comment_id":134473740,"body_markdown":"Agreed, that&#39;s why I treat the non-LTS releases as &quot;playthings&quot;. It&#39;s annoying, but since the LTS releases are *roughly* as far apart as real releases were pre-Java-9, it means the cadence of &quot;releases I can fully upgrade to&quot; has stayed very consistent throughout the last decade.","body":"Agreed, that&#39;s why I treat the non-LTS releases as &quot;playthings&quot;. It&#39;s annoying, but since the LTS releases are <i>roughly</i> as far apart as real releases were pre-Java-9, it means the cadence of &quot;releases I can fully upgrade to&quot; has stayed very consistent throughout the last decade."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684171526,"post_id":76253641,"comment_id":134475097,"body_markdown":"You can [upgrade your version of Gradle](https://docs.gradle.org/current/userguide/upgrading_version_7.html)","body":"You can <a href=\"https://docs.gradle.org/current/userguide/upgrading_version_7.html\" rel=\"nofollow noreferrer\">upgrade your version of Gradle</a>"},{"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"score":0,"creation_date":1684224062,"post_id":76253641,"comment_id":134482337,"body_markdown":"@BasilBourque is that enough? The docs say it doesn&#39;t support 20 https://docs.gradle.org/current/userguide/compatibility.html","body":"@BasilBourque is that enough? The docs say it doesn&#39;t support 20 <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686725366,"creation_date":1684151514,"answer_id":76253778,"question_id":76253641,"body_markdown":"https://jdk.java.net/ leads to https://jdk.java.net/19/ which has tar.gz downloads available.\r\n\r\nOnce the file is downloaded and expanded, the JVM it can be moved into the place that things seem to expect it with eg\r\n\r\n```\r\nsudo mv jdk-19.0.2.jdk /Library/Java/JavaVirtualMachines/\r\n```\r\n\r\n@Jesper points out a larger archive https://www.oracle.com/uk/java/technologies/downloads/archive/\r\n\r\nThere are script-friendly URLs and checksums available for many releases and architectures - https://www.oracle.com/java/technologies/jdk-script-friendly-urls/\r\n\r\n","title":"How can I install a Java 19 JVM for Apple Silicon?","body":"<p><a href=\"https://jdk.java.net/\" rel=\"nofollow noreferrer\">https://jdk.java.net/</a> leads to <a href=\"https://jdk.java.net/19/\" rel=\"nofollow noreferrer\">https://jdk.java.net/19/</a> which has tar.gz downloads available.</p>\n<p>Once the file is downloaded and expanded, the JVM it can be moved into the place that things seem to expect it with eg</p>\n<pre><code>sudo mv jdk-19.0.2.jdk /Library/Java/JavaVirtualMachines/\n</code></pre>\n<p>@Jesper points out a larger archive <a href=\"https://www.oracle.com/uk/java/technologies/downloads/archive/\" rel=\"nofollow noreferrer\">https://www.oracle.com/uk/java/technologies/downloads/archive/</a></p>\n<p>There are script-friendly URLs and checksums available for many releases and architectures - <a href=\"https://www.oracle.com/java/technologies/jdk-script-friendly-urls/\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/jdk-script-friendly-urls/</a></p>\n"}],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76253778,"answer_count":1,"score":-1,"last_activity_date":1686725366,"creation_date":1684150435,"question_id":76253641,"body_markdown":"I had a Java 19 VM installed with homebrew, but it seems it was installed as openjdk not openjdk@19. Another brew install (ffmeg seeing as you ask) decided to upgrade openjdk, which upgraded my 19 to 20.\r\n\r\nNow I cannot find anywhere to download a version 19 JVM, and Gradle will not build with Java 20 ;-(\r\n\r\n```\r\n$ brew list\r\n...\r\nopenjdk\t\r\nopenjdk@17\r\n...\r\n\r\n$ brew install openjdk@19\r\nWarning: openjdk 19.0.2 is already installed and up-to-date.\r\nTo reinstall 19.0.2, run:\r\n  brew reinstall openjdk\r\n```\r\n\r\nhttps://www.oracle.com/uk/java/technologies/downloads/ has only versions 17 and 20 to download.\r\n\r\n","title":"How can I install a Java 19 JVM for Apple Silicon?","body":"<p>I had a Java 19 VM installed with homebrew, but it seems it was installed as openjdk not openjdk@19. Another brew install (ffmeg seeing as you ask) decided to upgrade openjdk, which upgraded my 19 to 20.</p>\n<p>Now I cannot find anywhere to download a version 19 JVM, and Gradle will not build with Java 20 ;-(</p>\n<pre><code>$ brew list\n...\nopenjdk \nopenjdk@17\n...\n\n$ brew install openjdk@19\nWarning: openjdk 19.0.2 is already installed and up-to-date.\nTo reinstall 19.0.2, run:\n  brew reinstall openjdk\n</code></pre>\n<p><a href=\"https://www.oracle.com/uk/java/technologies/downloads/\" rel=\"nofollow noreferrer\">https://www.oracle.com/uk/java/technologies/downloads/</a> has only versions 17 and 20 to download.</p>\n"},{"tags":["java","database","netbeans","get","null"],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686725239,"creation_date":1686724898,"answer_id":76470756,"question_id":76470574,"body_markdown":"Your global variable is &quot;private&quot;   tipoUsuario access. &quot;Set&quot; it with a private method. Check for all other set methods on your globals and correct them.\r\n\r\n\r\n    private void setTipoUsuar(String tipousuario) {\r\n        this.tipoUsuario = tipousuario;\r\n    }\r\n    \r\n    \r\n    public void setTipoUsuario(String tipousuario) {\r\n      setTipoUsuar(tipousuario);\r\n    }\r\n\r\n\r\n","title":"I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?","body":"<p>Your global variable is &quot;private&quot;   tipoUsuario access. &quot;Set&quot; it with a private method. Check for all other set methods on your globals and correct them.</p>\n<pre><code>private void setTipoUsuar(String tipousuario) {\n    this.tipoUsuario = tipousuario;\n}\n\n\npublic void setTipoUsuario(String tipousuario) {\n  setTipoUsuar(tipousuario);\n}\n</code></pre>\n"}],"owner":{"account_id":28815495,"reputation":9,"user_id":22069365,"display_name":"Ukantor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686725239,"creation_date":1686723132,"question_id":76470574,"body_markdown":"I have a problem, I have a system that is a point of sale made in netBeans, 2 users can register in my system: &quot;Administrador&quot; and &quot;Vendedor&quot;, there are several modules in the system, including the &quot;Inventario&quot; module that allows you to enter, modify, delete and search for articles in the database, the problem is that I want only the administrator to have permission to enter that module, and that the seller cannot access it.\r\n\r\nI had an idea that it was to put a code like this in the &quot;Inventario&quot; button method to prohibit it from entering but it didn&#39;t work for me, the code was like this:\r\n\r\n\r\n```\r\n//&quot;usu&quot; is the object of the &quot;Login&quot; class, which is where I declare the sets and gets of the user information, and &quot;admin&quot; is the name that is assigned to someone in the &quot;tipoUsuario&quot; variable when you register them as admin \r\n    String tUsuario=usu.getTipoUsuario();\r\n\r\n   \r\n    if(tUsuario.equals(&quot;admin&quot;))\r\n    {\r\n    LimpiarTable();\r\n    ListarArticulo();\r\n    jTabbedPane1.setSelectedIndex(1);\r\n    }\r\n```\r\n\r\nThe problem is that the code didn&#39;t work, and when printing what value the &quot;getTipoUsuario&quot; was taking, it told me that it was returning the value &quot;null&quot;.\r\nI know that the code is probably wrong and doesn&#39;t work since I&#39;m new to programming.\r\nTry another code that is the following, to try to take the value of the &quot;tipoUsuario&quot; variable through the &quot;id_usuario&quot; variable, the code is the following:\r\n\r\n\r\n```\r\n//&quot;login&quot; is the class where I have all the information of the users, the sets and gets, &quot;usuarios&quot; is the object of another class called &quot;loginDAO&quot; in which I have the method &quot;ListarUsuarios()&quot;\r\n\r\nList&lt;login&gt; ListarUsuario = usuarios.ListarUsuarios();\r\n   modelo = (DefaultTableModel) tablaUsuarios.getModel();\r\n    Object [] ob = new Object[4];\r\n    for(int i=0; i &lt; ListarUsuario.size();i++){\r\n        ob[0] = ListarUsuario.get(i).getId_usuario();\r\n        ob[1] = ListarUsuario.get(i).getTipoUsuario();\r\n        ob[2] = ListarUsuario.get(i).getNombre();\r\n        //ob[3] = ListarUsuario.get(i).getApellido_paterno();\r\n        //ob[4] = ListarUsuario.get(i).getApellido_materno();\r\n        ob[3] = ListarUsuario.get(i).getContrasena();\r\n        modelo.addRow(ob);\r\n    }\r\n        int tID  = usu.getId_usuario();\r\n    String tUsuario = ListarUsuario.get(tID).getTipoUsuario();//usu.getTipoUsuario();\r\n   \r\n    if(tUsuario.equals(&quot;admin&quot;))\r\n    {\r\n    LimpiarTable();\r\n    ListarArticulo();\r\n    jTabbedPane1.setSelectedIndex(1);\r\n    }\r\n```\r\n\r\nThe problem with the previous code is that when I gave print to the value of &quot;tUsuario&quot; it always gave me the typeUser of the first one in the list, not of the others.\r\n\r\nBelow I leave the code of the &quot;ListarUsuarios&quot; method that is in another class called &quot;LoginDAO&quot;:\r\n\r\n\r\n```\r\npublic List ListarUsuarios(){\r\n    List&lt;login&gt; ListaUsuarios = new ArrayList();\r\n    String sql = &quot;SELECT * FROM usuarios&quot;;\r\n    try{\r\n        con = cn.getConnection();\r\n        ps = con.prepareStatement(sql);\r\n        rs=ps.executeQuery();\r\n        while(rs.next()){\r\n            login ld = new login();\r\n            ld.setId_usuario(rs.getInt(&quot;id_usuario&quot;));\r\n            ld.setTipoUsuario(rs.getString(&quot;tipoUsuario&quot;));\r\n            ld.setNombre(rs.getString(&quot;nombre&quot;));\r\n            //ld.setApellido_paterno(rs.getString(&quot;apellido_paterno&quot;));\r\n            //ld.setApellido_materno(rs.getString(&quot;apellido_materno&quot;));\r\n            ld.setContrasena(rs.getString(&quot;contrasena&quot;));\r\n            ListaUsuarios.add(ld);\r\n        }\r\n    }catch(SQLException e){\r\n        System.out.println(e.toString());\r\n    }\r\n    return ListaUsuarios;\r\n}\r\n```\r\n\r\nAnd finally I leave you the code of the &quot;login&quot; class, which is where the sets and gets of the information of each user are located:\r\n\r\n\r\n```\r\npackage Modelo;\r\n//Constructor para varibles del Usario con getters y seters\r\npublic class login {\r\nprivate int id_usuario;\r\nprivate String nombre;\r\nprivate String apellido_paterno;\r\nprivate String apellido_materno;\r\nprivate String tipoUsuario;\r\nprivate String contrasena;\r\nprivate String correo;\r\nprivate int id_proveedor;\r\nprivate String nombre_proveedor;\r\nprivate String telefono_proveedor;\r\nprivate String direccion_proveedor;\r\nprivate String domicilio_proveedor;\r\nprivate String email_proveedor;\r\n\r\npublic login() {\r\n}\r\n\r\npublic String getDomicilio_proveedor() {\r\n    return domicilio_proveedor;\r\n}\r\n\r\npublic void setDomicilio_proveedor(String domicilio_proveedor) {\r\n    this.domicilio_proveedor = domicilio_proveedor;\r\n}\r\n\r\npublic login(int id_usuario, String nombre, String contrasena, String tipoUsuario, int id_proveedor,String nombre_proveedor,String telefono_proveedor,String direccion_proveedor,String email_proveedor) {\r\n    this.id_usuario = id_usuario;\r\n    this.nombre = nombre;\r\n    this.contrasena = contrasena;\r\n    this.apellido_paterno = apellido_paterno;\r\n    this.apellido_materno = apellido_materno;\r\n    this.tipoUsuario = tipoUsuario;\r\n    this.correo = correo;\r\n    this.id_proveedor = id_proveedor;\r\n    this.nombre_proveedor = nombre_proveedor;\r\n    this.telefono_proveedor = telefono_proveedor;\r\n    this.direccion_proveedor = direccion_proveedor;\r\n    this.email_proveedor = email_proveedor;\r\n}\r\n\r\npublic int getId_proveedor() {\r\n    return id_proveedor;\r\n}\r\n\r\npublic void setId_proveedor(int id_proveedor) {\r\n    this.id_proveedor = id_proveedor;\r\n}\r\n\r\n\r\n\r\npublic String getNombre_proveedor() {\r\n    return nombre_proveedor;\r\n}\r\n\r\npublic void setNombre_proveedor(String nombre_proveedor) {\r\n    this.nombre_proveedor = nombre_proveedor;\r\n}\r\n\r\npublic String getTelefono_proveedor() {\r\n    return telefono_proveedor;\r\n}\r\n\r\npublic void setTelefono_proveedor(String telefono_proveedor) {\r\n    this.telefono_proveedor = telefono_proveedor;\r\n}\r\n\r\npublic String getDireccion_proveedor() {\r\n    return direccion_proveedor;\r\n}\r\n\r\npublic void setDireccion_proveedor(String direccion_proveedor) {\r\n    this.direccion_proveedor = direccion_proveedor;\r\n}\r\n\r\npublic String getEmail_proveedor() {\r\n    return email_proveedor;\r\n}\r\n\r\npublic void setEmail_proveedor(String email_proveedor) {\r\n    this.email_proveedor = email_proveedor;\r\n}\r\n\r\npublic int getId_usuario() {\r\n    return id_usuario;\r\n}\r\n\r\npublic String getApellido_paterno() {\r\n    return apellido_paterno;\r\n}\r\n\r\npublic void setApellido_paterno(String apellido_paterno) {\r\n    this.apellido_paterno = apellido_paterno;\r\n}\r\n\r\npublic String getApellido_materno() {\r\n    return apellido_materno;\r\n}\r\n\r\npublic void setApellido_materno(String apellido_materno) {\r\n    this.apellido_materno = apellido_materno;\r\n}\r\n\r\npublic String getTipoUsuario() {\r\n    return tipoUsuario;\r\n}\r\n\r\npublic void setTipoUsuario(String tipoUsuario) {\r\n    this.tipoUsuario = tipoUsuario;\r\n}\r\n\r\npublic String getCorreo() {\r\n    return correo;\r\n}\r\n\r\npublic void setCorreo(String correo) {\r\n    this.correo = correo;\r\n}\r\n\r\npublic void setId_usuario(int id_usuario) {\r\n    this.id_usuario = id_usuario;\r\n}\r\n\r\npublic String getNombre() {\r\n    return nombre;\r\n}\r\n\r\npublic void setNombre(String nombre) {\r\n    this.nombre = nombre;\r\n}\r\n\r\npublic String getContrasena() {\r\n    return contrasena;\r\n}\r\n\r\npublic void setContrasena(String contrasena) {\r\n    this.contrasena = contrasena;\r\n}\r\n\r\n}\r\n```\r\n\r\nCould you tell me why my codes don&#39;t work or why the variable &quot;tUsuario&quot; returns &quot;null&quot;? Or if you see that my methods are wrong, could you leave me a method that works for that?\r\n\r\nThank you very much and have a nice afternoon!\r\n\r\n\r\nTry to solve with an &quot;if&quot; and retrieve the value of &quot;tipoUsuario&quot; to compare it with the string of &quot;admin&quot;, which is the value that takes &quot;tipoUsuarios&quot; when the user is administrator","title":"I want to give privileges to the users of my point of sale but I don&#39;t know how, any suggestions?","body":"<p>I have a problem, I have a system that is a point of sale made in netBeans, 2 users can register in my system: &quot;Administrador&quot; and &quot;Vendedor&quot;, there are several modules in the system, including the &quot;Inventario&quot; module that allows you to enter, modify, delete and search for articles in the database, the problem is that I want only the administrator to have permission to enter that module, and that the seller cannot access it.</p>\n<p>I had an idea that it was to put a code like this in the &quot;Inventario&quot; button method to prohibit it from entering but it didn't work for me, the code was like this:</p>\n<pre><code>//&quot;usu&quot; is the object of the &quot;Login&quot; class, which is where I declare the sets and gets of the user information, and &quot;admin&quot; is the name that is assigned to someone in the &quot;tipoUsuario&quot; variable when you register them as admin \n    String tUsuario=usu.getTipoUsuario();\n\n   \n    if(tUsuario.equals(&quot;admin&quot;))\n    {\n    LimpiarTable();\n    ListarArticulo();\n    jTabbedPane1.setSelectedIndex(1);\n    }\n</code></pre>\n<p>The problem is that the code didn't work, and when printing what value the &quot;getTipoUsuario&quot; was taking, it told me that it was returning the value &quot;null&quot;.\nI know that the code is probably wrong and doesn't work since I'm new to programming.\nTry another code that is the following, to try to take the value of the &quot;tipoUsuario&quot; variable through the &quot;id_usuario&quot; variable, the code is the following:</p>\n<pre><code>//&quot;login&quot; is the class where I have all the information of the users, the sets and gets, &quot;usuarios&quot; is the object of another class called &quot;loginDAO&quot; in which I have the method &quot;ListarUsuarios()&quot;\n\nList&lt;login&gt; ListarUsuario = usuarios.ListarUsuarios();\n   modelo = (DefaultTableModel) tablaUsuarios.getModel();\n    Object [] ob = new Object[4];\n    for(int i=0; i &lt; ListarUsuario.size();i++){\n        ob[0] = ListarUsuario.get(i).getId_usuario();\n        ob[1] = ListarUsuario.get(i).getTipoUsuario();\n        ob[2] = ListarUsuario.get(i).getNombre();\n        //ob[3] = ListarUsuario.get(i).getApellido_paterno();\n        //ob[4] = ListarUsuario.get(i).getApellido_materno();\n        ob[3] = ListarUsuario.get(i).getContrasena();\n        modelo.addRow(ob);\n    }\n        int tID  = usu.getId_usuario();\n    String tUsuario = ListarUsuario.get(tID).getTipoUsuario();//usu.getTipoUsuario();\n   \n    if(tUsuario.equals(&quot;admin&quot;))\n    {\n    LimpiarTable();\n    ListarArticulo();\n    jTabbedPane1.setSelectedIndex(1);\n    }\n</code></pre>\n<p>The problem with the previous code is that when I gave print to the value of &quot;tUsuario&quot; it always gave me the typeUser of the first one in the list, not of the others.</p>\n<p>Below I leave the code of the &quot;ListarUsuarios&quot; method that is in another class called &quot;LoginDAO&quot;:</p>\n<pre><code>public List ListarUsuarios(){\n    List&lt;login&gt; ListaUsuarios = new ArrayList();\n    String sql = &quot;SELECT * FROM usuarios&quot;;\n    try{\n        con = cn.getConnection();\n        ps = con.prepareStatement(sql);\n        rs=ps.executeQuery();\n        while(rs.next()){\n            login ld = new login();\n            ld.setId_usuario(rs.getInt(&quot;id_usuario&quot;));\n            ld.setTipoUsuario(rs.getString(&quot;tipoUsuario&quot;));\n            ld.setNombre(rs.getString(&quot;nombre&quot;));\n            //ld.setApellido_paterno(rs.getString(&quot;apellido_paterno&quot;));\n            //ld.setApellido_materno(rs.getString(&quot;apellido_materno&quot;));\n            ld.setContrasena(rs.getString(&quot;contrasena&quot;));\n            ListaUsuarios.add(ld);\n        }\n    }catch(SQLException e){\n        System.out.println(e.toString());\n    }\n    return ListaUsuarios;\n}\n</code></pre>\n<p>And finally I leave you the code of the &quot;login&quot; class, which is where the sets and gets of the information of each user are located:</p>\n<pre><code>package Modelo;\n//Constructor para varibles del Usario con getters y seters\npublic class login {\nprivate int id_usuario;\nprivate String nombre;\nprivate String apellido_paterno;\nprivate String apellido_materno;\nprivate String tipoUsuario;\nprivate String contrasena;\nprivate String correo;\nprivate int id_proveedor;\nprivate String nombre_proveedor;\nprivate String telefono_proveedor;\nprivate String direccion_proveedor;\nprivate String domicilio_proveedor;\nprivate String email_proveedor;\n\npublic login() {\n}\n\npublic String getDomicilio_proveedor() {\n    return domicilio_proveedor;\n}\n\npublic void setDomicilio_proveedor(String domicilio_proveedor) {\n    this.domicilio_proveedor = domicilio_proveedor;\n}\n\npublic login(int id_usuario, String nombre, String contrasena, String tipoUsuario, int id_proveedor,String nombre_proveedor,String telefono_proveedor,String direccion_proveedor,String email_proveedor) {\n    this.id_usuario = id_usuario;\n    this.nombre = nombre;\n    this.contrasena = contrasena;\n    this.apellido_paterno = apellido_paterno;\n    this.apellido_materno = apellido_materno;\n    this.tipoUsuario = tipoUsuario;\n    this.correo = correo;\n    this.id_proveedor = id_proveedor;\n    this.nombre_proveedor = nombre_proveedor;\n    this.telefono_proveedor = telefono_proveedor;\n    this.direccion_proveedor = direccion_proveedor;\n    this.email_proveedor = email_proveedor;\n}\n\npublic int getId_proveedor() {\n    return id_proveedor;\n}\n\npublic void setId_proveedor(int id_proveedor) {\n    this.id_proveedor = id_proveedor;\n}\n\n\n\npublic String getNombre_proveedor() {\n    return nombre_proveedor;\n}\n\npublic void setNombre_proveedor(String nombre_proveedor) {\n    this.nombre_proveedor = nombre_proveedor;\n}\n\npublic String getTelefono_proveedor() {\n    return telefono_proveedor;\n}\n\npublic void setTelefono_proveedor(String telefono_proveedor) {\n    this.telefono_proveedor = telefono_proveedor;\n}\n\npublic String getDireccion_proveedor() {\n    return direccion_proveedor;\n}\n\npublic void setDireccion_proveedor(String direccion_proveedor) {\n    this.direccion_proveedor = direccion_proveedor;\n}\n\npublic String getEmail_proveedor() {\n    return email_proveedor;\n}\n\npublic void setEmail_proveedor(String email_proveedor) {\n    this.email_proveedor = email_proveedor;\n}\n\npublic int getId_usuario() {\n    return id_usuario;\n}\n\npublic String getApellido_paterno() {\n    return apellido_paterno;\n}\n\npublic void setApellido_paterno(String apellido_paterno) {\n    this.apellido_paterno = apellido_paterno;\n}\n\npublic String getApellido_materno() {\n    return apellido_materno;\n}\n\npublic void setApellido_materno(String apellido_materno) {\n    this.apellido_materno = apellido_materno;\n}\n\npublic String getTipoUsuario() {\n    return tipoUsuario;\n}\n\npublic void setTipoUsuario(String tipoUsuario) {\n    this.tipoUsuario = tipoUsuario;\n}\n\npublic String getCorreo() {\n    return correo;\n}\n\npublic void setCorreo(String correo) {\n    this.correo = correo;\n}\n\npublic void setId_usuario(int id_usuario) {\n    this.id_usuario = id_usuario;\n}\n\npublic String getNombre() {\n    return nombre;\n}\n\npublic void setNombre(String nombre) {\n    this.nombre = nombre;\n}\n\npublic String getContrasena() {\n    return contrasena;\n}\n\npublic void setContrasena(String contrasena) {\n    this.contrasena = contrasena;\n}\n\n}\n</code></pre>\n<p>Could you tell me why my codes don't work or why the variable &quot;tUsuario&quot; returns &quot;null&quot;? Or if you see that my methods are wrong, could you leave me a method that works for that?</p>\n<p>Thank you very much and have a nice afternoon!</p>\n<p>Try to solve with an &quot;if&quot; and retrieve the value of &quot;tipoUsuario&quot; to compare it with the string of &quot;admin&quot;, which is the value that takes &quot;tipoUsuarios&quot; when the user is administrator</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":4711512,"reputation":1278,"user_id":3811895,"display_name":"vinsce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667594630,"creation_date":1667594630,"answer_id":74322764,"question_id":74313151,"body_markdown":"If you have a `WrappedArray` there are several ways to convert it to a Java collection.\r\nYou can leverage `scala.collection.JavaConverters` helper methods:\r\n\r\n```java\r\nWrappedArray&lt;Long&gt; wrappedArray = row.getAs(&quot;ids&quot;);\r\nList&lt;Long&gt; list = scala.collection.JavaConverters.seqAsJavaList(wrappedArray.seq());\r\n```\r\n\r\nAlternatively, you can use the `Row.getList` method to obtain directly a Java List:\r\n```java\r\nList&lt;Long&gt; list = row.getList(row.fieldIndex(&quot;ids&quot;));\r\n```","title":"How to convert wrappedArray column in spark dataset to java array?","body":"<p>If you have a <code>WrappedArray</code> there are several ways to convert it to a Java collection.\nYou can leverage <code>scala.collection.JavaConverters</code> helper methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WrappedArray&lt;Long&gt; wrappedArray = row.getAs(&quot;ids&quot;);\nList&lt;Long&gt; list = scala.collection.JavaConverters.seqAsJavaList(wrappedArray.seq());\n</code></pre>\n<p>Alternatively, you can use the <code>Row.getList</code> method to obtain directly a Java List:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; list = row.getList(row.fieldIndex(&quot;ids&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12245143,"reputation":11,"user_id":8936993,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686725119,"creation_date":1686362342,"answer_id":76444449,"question_id":74313151,"body_markdown":"To convert scala wrappedArray column to Java list in java spark.\r\nhere line is of type Row.\r\n\r\n    List&lt;Long&gt; list = scala.collection.JavaConverters.seqAsJavaList(line.getAs(&quot;fieldName&quot;)));","title":"How to convert wrappedArray column in spark dataset to java array?","body":"<p>To convert scala wrappedArray column to Java list in java spark.\nhere line is of type Row.</p>\n<pre><code>List&lt;Long&gt; list = scala.collection.JavaConverters.seqAsJavaList(line.getAs(&quot;fieldName&quot;)));\n</code></pre>\n"}],"owner":{"account_id":26826113,"reputation":11,"user_id":20414730,"display_name":"Abigor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686725119,"creation_date":1667544475,"question_id":74313151,"body_markdown":"In my project I got a column after applying collect_list aggregate function, which is of format wrappedArray , I wanted to know is there anyway to convert that wrappedArray to normal array or list So that I can iterate over that column and extract values row by row in that column? \r\n\r\nLanguage:- JAVA\r\nUsing Apache spark library\r\n\r\nBy this I am getting that column which is of wrappedArray type\r\n\r\n\r\n```\r\ndataset.groupBy( &quot;department&quot;,&quot;salary&quot;,&quot;tag&quot;)\r\n.agg(collect_list(col(&quot;id&quot;)));\r\n```\r\n\r\n\r\n```\r\ndataset.foreach(row -&gt;\r\n      row.getAs(&quot;id)&quot;)\r\n\r\n);\r\n\r\n```\r\n\r\nI am confused how should I proceed further to iterate in that column.\r\n\r\n","title":"How to convert wrappedArray column in spark dataset to java array?","body":"<p>In my project I got a column after applying collect_list aggregate function, which is of format wrappedArray , I wanted to know is there anyway to convert that wrappedArray to normal array or list So that I can iterate over that column and extract values row by row in that column?</p>\n<p>Language:- JAVA\nUsing Apache spark library</p>\n<p>By this I am getting that column which is of wrappedArray type</p>\n<pre><code>dataset.groupBy( &quot;department&quot;,&quot;salary&quot;,&quot;tag&quot;)\n.agg(collect_list(col(&quot;id&quot;)));\n</code></pre>\n<pre><code>dataset.foreach(row -&gt;\n      row.getAs(&quot;id)&quot;)\n\n);\n\n</code></pre>\n<p>I am confused how should I proceed further to iterate in that column.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1686723913,"post_id":76470615,"comment_id":134836491,"body_markdown":"why do you think that `&quot;2+3*4&quot;` is a double?","body":"why do you think that <code>&quot;2+3*4&quot;</code> is a double?"},{"owner":{"account_id":24933731,"reputation":13,"user_id":18800556,"display_name":"LeviantArt"},"score":0,"creation_date":1686724404,"post_id":76470615,"comment_id":134836605,"body_markdown":"I change to double if later the value of x is decimal","body":"I change to double if later the value of x is decimal"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1686724572,"post_id":76470615,"comment_id":134836638,"body_markdown":"12.345 is a double,  2;3*4 is an equation","body":"12.345 is a double,  2;3*4 is an equation"},{"owner":{"account_id":24933731,"reputation":13,"user_id":18800556,"display_name":"LeviantArt"},"score":0,"creation_date":1686724886,"post_id":76470615,"comment_id":134836684,"body_markdown":"ok. so what should I do so that I get the result as I want","body":"ok. so what should I do so that I get the result as I want"},{"owner":{"account_id":7151624,"reputation":2308,"user_id":5465447,"display_name":"Roaim"},"score":0,"creation_date":1686725717,"post_id":76470615,"comment_id":134836841,"body_markdown":"You need to iterate over the string (equation) to parse the numbers as double and calculate based on the operator/symbol between 2 numbers until you get the final result.","body":"You need to iterate over the string (equation) to parse the numbers as double and calculate based on the operator/symbol between 2 numbers until you get the final result."},{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":2,"creation_date":1686726155,"post_id":76470615,"comment_id":134836921,"body_markdown":"@LeviantArt is your question not answered by using this method: https://stackoverflow.com/a/26227947/3324415 ? Sample: https://www.jdoodle.com/ia/J9y","body":"@LeviantArt is your question not answered by using this method: <a href=\"https://stackoverflow.com/a/26227947/3324415\">stackoverflow.com/a/26227947/3324415</a> ? Sample: <a href=\"https://www.jdoodle.com/ia/J9y\" rel=\"nofollow noreferrer\">jdoodle.com/ia/J9y</a>"},{"owner":{"account_id":24933731,"reputation":13,"user_id":18800556,"display_name":"LeviantArt"},"score":0,"creation_date":1686727218,"post_id":76470615,"comment_id":134837124,"body_markdown":"@BernardV  Bro Thank you very much this is what I need &#128077;","body":"@BernardV  Bro Thank you very much this is what I need 👍"},{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1686727717,"post_id":76470615,"comment_id":134837216,"body_markdown":"No problem @LeviantArt, may I suggest for next time, really work on the way you ask your questions, spend just a bit more time on it, as you can see in the comments, your question was not 100% clear.","body":"No problem @LeviantArt, may I suggest for next time, really work on the way you ask your questions, spend just a bit more time on it, as you can see in the comments, your question was not 100% clear."}],"owner":{"account_id":24933731,"reputation":13,"user_id":18800556,"display_name":"LeviantArt"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686725061,"creation_date":1686723596,"question_id":76470615,"body_markdown":"i am trying to sum String data type\r\n\r\ni have code like this :\r\n\r\n```\r\nString x = dis.getText();\r\n        // i assume the value of x is &quot;2+3*4&quot;\r\n        \r\n        dis.setText(&quot;Result :&quot; + x);\r\n        // the output is : 2+3*4\r\n        // but i want the result to be 2+3*4 = 14\r\n```\r\n\r\nI&#39;ve tried changing it to double but it still doesn&#39;t work :\r\n\r\n```\r\nString x = dis.getText();\r\n        \r\n        double y = Double.parseDouble(x);\r\n        \r\n        dis.setText(&quot;Result :&quot; + y);\r\n```","title":"sums values ​of type String data","body":"<p>i am trying to sum String data type</p>\n<p>i have code like this :</p>\n<pre><code>String x = dis.getText();\n        // i assume the value of x is &quot;2+3*4&quot;\n        \n        dis.setText(&quot;Result :&quot; + x);\n        // the output is : 2+3*4\n        // but i want the result to be 2+3*4 = 14\n</code></pre>\n<p>I've tried changing it to double but it still doesn't work :</p>\n<pre><code>String x = dis.getText();\n        \n        double y = Double.parseDouble(x);\n        \n        dis.setText(&quot;Result :&quot; + y);\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":0,"creation_date":1592573607,"post_id":62471232,"comment_id":110481635,"body_markdown":"Which part are you stack with? As you said, StdDraw is something made for your course so we have no idea how to use that.","body":"Which part are you stack with? As you said, StdDraw is something made for your course so we have no idea how to use that."},{"owner":{"account_id":18843787,"reputation":11,"user_id":13747093,"display_name":"Sameer Acharya"},"score":0,"creation_date":1592574387,"post_id":62471232,"comment_id":110482053,"body_markdown":"I am confused about what to use for my base case.   \nhttps://upload.wikimedia.org/wikipedia/commons/b/b7/A_size_illustration.png\nThis is the format in which we have to cut the paper and StdDraw just helps me to draw a line which represents cutting a paper. If we have a width and height of say 1000 by 1000 we have to cut it into 2^n pieces. so we have to reduce the x coordinate and y coordinate repeatedly so what can i use for my base case?","body":"I am confused about what to use for my base case.    <a href=\"https://upload.wikimedia.org/wikipedia/commons/b/b7/A_size_illustration.png\" rel=\"nofollow noreferrer\">upload.wikimedia.org/wikipedia/commons/b/b7/&hellip;</a> This is the format in which we have to cut the paper and StdDraw just helps me to draw a line which represents cutting a paper. If we have a width and height of say 1000 by 1000 we have to cut it into 2^n pieces. so we have to reduce the x coordinate and y coordinate repeatedly so what can i use for my base case?"},{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":0,"creation_date":1592574964,"post_id":62471232,"comment_id":110482416,"body_markdown":"Ask a person who gave you the assignment. How are we supposed to know which size are you supposed to use as a base. I&#39;d assume A0 but who knows.","body":"Ask a person who gave you the assignment. How are we supposed to know which size are you supposed to use as a base. I&#39;d assume A0 but who knows."}],"answers":[{"tags":[],"owner":{"account_id":18824156,"reputation":135,"user_id":13761074,"display_name":"Khashayar Baghizadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592755592,"creation_date":1592664462,"answer_id":62487327,"question_id":62471232,"body_markdown":"Based on your question and the link that you provided I think 2&lt;sup&gt;n&lt;/sup&gt; should be replaced with 2n and if that is the case then the following recursive static method produces your desired result:\r\n\r\n\tpublic static void papercut(int n, double size, double x, double y)\r\n\t{\r\n\t\tif (n == 0) return;\r\n\t\tdouble x2 = x + size, y2 = y + 2*size;\r\n\t\tStdDraw.line(x, y, x, y+4*size);\r\n\t\tStdDraw.line(x-2*size, y, x+2*size, y);\r\n\t\tpapercut(n-1, size/2, x2, y2);\t\r\n\t}\r\n\r\nYou could test it with:\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint n = Integer.parseInt(args[0]);\r\n\t\tpapercut(n, 0.25, 0.5, 0);\r\n\t}\r\n\r\nand see that it exactly produces a figure like the one you provided in your link (but the first cut in the link is horizontal while your question asks that the first cut should be vertical).","title":"How to cut a paper recursively?","body":"<p>Based on your question and the link that you provided I think 2<sup>n</sup> should be replaced with 2n and if that is the case then the following recursive static method produces your desired result:</p>\n<pre><code>public static void papercut(int n, double size, double x, double y)\n{\n    if (n == 0) return;\n    double x2 = x + size, y2 = y + 2*size;\n    StdDraw.line(x, y, x, y+4*size);\n    StdDraw.line(x-2*size, y, x+2*size, y);\n    papercut(n-1, size/2, x2, y2);  \n}\n</code></pre>\n<p>You could test it with:</p>\n<pre><code>public static void main(String[] args)\n{\n    int n = Integer.parseInt(args[0]);\n    papercut(n, 0.25, 0.5, 0);\n}\n</code></pre>\n<p>and see that it exactly produces a figure like the one you provided in your link (but the first cut in the link is horizontal while your question asks that the first cut should be vertical).</p>\n"},{"tags":[],"owner":{"account_id":20197558,"reputation":1,"user_id":16845281,"display_name":"R.Jean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686724983,"creation_date":1686498702,"answer_id":76451276,"question_id":62471232,"body_markdown":"When the paper is in Portrait Orientation, the following works;\r\n\r\n    import java.awt.Color;\r\n\r\n\r\n    public class PaperCut {\r\n\r\n    // draw a rectangle with the given coordinates and color\r\n        public static void drawRectangle(double x, double y, double width, double height, Color color) {\r\n        StdDraw.setPenColor(color);\r\n        StdDraw.rectangle(x, y, width / 2, height / 2);\r\n    }\r\n\r\n    // recursively cut a rectangle into four smaller rectangles\r\n        public static void cutRectangle(double x, double y, double width, double height, int n) {\r\n            if (n == 0) return; // base case\r\n        // draw the current rectangle\r\n            drawRectangle(x, y, width, height, StdDraw.BLUE);\r\n\r\n            StdDraw.show();\r\n            StdDraw.pause(1000);\r\n        // cut the rectangle along the longer side\r\n            if (width &gt;= height) {\r\n            // cut into left and right halves\r\n                cutRectangle(x - width / 4, y, width / 2, height, n - 1); // left half\r\n                cutRectangle(x + width / 4, y, width / 2, height, n - 1); // right half\r\n        } else {\r\n            // cut into top and bottom halves\r\n                cutRectangle(x, y + height / 4, width, height / 2, n - 1); // top half\r\n                cutRectangle(x, y - height / 4, width, height / 2, n - 1); // bottom half\r\n        }\r\n    }\r\n\r\n        public static void main(String[] args) {\r\n            int n = Integer.parseInt(args[0]); // get the command-line argument\r\n            double width = 1; // width of A0 paper\r\n            double height = Math.sqrt(2); // height of A0 paper\r\n        \r\n            StdDraw.setScale(-width / 2, width / 2); // set the scale of the canvas\r\n            StdDraw.enableDoubleBuffering(); // enable double buffering for smooth animation\r\n            cutRectangle(0, 0, width/2, height/2, i);\r\n            \r\n    }\r\n    }","title":"How to cut a paper recursively?","body":"<p>When the paper is in Portrait Orientation, the following works;</p>\n<pre><code>import java.awt.Color;\n\n\npublic class PaperCut {\n\n// draw a rectangle with the given coordinates and color\n    public static void drawRectangle(double x, double y, double width, double height, Color color) {\n    StdDraw.setPenColor(color);\n    StdDraw.rectangle(x, y, width / 2, height / 2);\n}\n\n// recursively cut a rectangle into four smaller rectangles\n    public static void cutRectangle(double x, double y, double width, double height, int n) {\n        if (n == 0) return; // base case\n    // draw the current rectangle\n        drawRectangle(x, y, width, height, StdDraw.BLUE);\n\n        StdDraw.show();\n        StdDraw.pause(1000);\n    // cut the rectangle along the longer side\n        if (width &gt;= height) {\n        // cut into left and right halves\n            cutRectangle(x - width / 4, y, width / 2, height, n - 1); // left half\n            cutRectangle(x + width / 4, y, width / 2, height, n - 1); // right half\n    } else {\n        // cut into top and bottom halves\n            cutRectangle(x, y + height / 4, width, height / 2, n - 1); // top half\n            cutRectangle(x, y - height / 4, width, height / 2, n - 1); // bottom half\n    }\n}\n\n    public static void main(String[] args) {\n        int n = Integer.parseInt(args[0]); // get the command-line argument\n        double width = 1; // width of A0 paper\n        double height = Math.sqrt(2); // height of A0 paper\n    \n        StdDraw.setScale(-width / 2, width / 2); // set the scale of the canvas\n        StdDraw.enableDoubleBuffering(); // enable double buffering for smooth animation\n        cutRectangle(0, 0, width/2, height/2, i);\n        \n}\n}\n</code></pre>\n"}],"owner":{"account_id":18843787,"reputation":11,"user_id":13747093,"display_name":"Sameer Acharya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686724983,"creation_date":1592572872,"question_id":62471232,"body_markdown":"I am doing an assignment on recursion and I am really stuck in this question..\r\n\r\nA4 paper. The width-to-height ratio of paper in the ISO format is the square root of 2 to 1. Format A0 has an area of 1 square meter. Format A1 is A0 cut with a vertical line into two equal halves, A2 is A1 cut with a horizontal line into two halves, and so on. Write a program that takes an integer command-line argument n and uses StdDraw to show how to cut a sheet of A0 paper into 2^n pieces.\r\n\r\nStdDraw is just a library to draw something in the canvas specifically made for the course. In this case we can use StdDraw to draw a line to represent cutting a paper.\r\n\r\n","title":"How to cut a paper recursively?","body":"<p>I am doing an assignment on recursion and I am really stuck in this question..</p>\n\n<p>A4 paper. The width-to-height ratio of paper in the ISO format is the square root of 2 to 1. Format A0 has an area of 1 square meter. Format A1 is A0 cut with a vertical line into two equal halves, A2 is A1 cut with a horizontal line into two halves, and so on. Write a program that takes an integer command-line argument n and uses StdDraw to show how to cut a sheet of A0 paper into 2^n pieces.</p>\n\n<p>StdDraw is just a library to draw something in the canvas specifically made for the course. In this case we can use StdDraw to draw a line to represent cutting a paper.</p>\n"},{"tags":["java","android-recyclerview","adapter","android-glide","withcontext"],"answers":[{"tags":[],"owner":{"account_id":18911844,"reputation":1,"user_id":22059973,"display_name":"fovarit86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686724882,"creation_date":1686563835,"answer_id":76455510,"question_id":75518971,"body_markdown":"The error ```Cannot resolve method &#39;with(Context)&#39;``` occurs because the wrong ```Context``` class has been imported. The code has imported ```com.google.api.Context``` instead of ```android.content.Context```.\r\n\r\nTo fix this error, you need to replace the incorrect import statement:\r\n\r\n```java\r\nimport com.google.api.Context;\r\n```\r\nwith the correct import statement:\r\n```java\r\nimport android.content.Context;\r\n```","title":"Cannot resolve method &#39;with(Context)&#39;","body":"<p>The error <code>Cannot resolve method 'with(Context)'</code> occurs because the wrong <code>Context</code> class has been imported. The code has imported <code>com.google.api.Context</code> instead of <code>android.content.Context</code>.</p>\n<p>To fix this error, you need to replace the incorrect import statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.api.Context;\n</code></pre>\n<p>with the correct import statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.content.Context;\n</code></pre>\n"}],"owner":{"account_id":26351821,"reputation":1,"user_id":20009325,"display_name":"Sainath Konduri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686724882,"creation_date":1676974212,"question_id":75518971,"body_markdown":"I am using the latest version of android studio this my adapter program  this was used in my previous projects glide version: 4.14.2 the context is showing the following error Cannot resolve method &#39;with(Context)&#39;.\r\n\r\n    package com.example.mystorein.adapters;\r\n\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import com.bumptech.glide.Glide;\r\n    import com.example.mystorein.R;\r\n    import com.example.mystorein.modal.Restaurent;\r\n    import com.google.api.Context;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class RestaurentAdapter extends RecyclerView.Adapter&lt;RestaurentAdapter.ViewHolder&gt; {\r\n\r\n       Context context;\r\n       ArrayList&lt;Restaurent&gt; list;\r\n\r\n       public RestaurentAdapter(Context context, ArrayList&lt;Restaurent&gt; list) {\r\n           this.context = context;\r\n           this.list = list;\r\n       }\r\n\r\n       @NonNull\r\n       @Override\r\n       public RestaurentAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n           return new      ViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.toprated_near_item,parent,false));\r\n          }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n           Glide.with(context).load(list.get(position)).into(holder.Img);\r\n           holder.name.setText(list.get(position).getName());\r\n           holder.delTime.setText(list.get(position).getTime());\r\n\r\n        }\r\n\r\n       @Override\r\n       public int getItemCount() {\r\n           return list.size();\r\n       }\r\n\r\n       public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n           ImageView Img;\r\n           TextView name, delTime;\r\n\r\n           public ViewHolder(@NonNull View itemView) {\r\n               super(itemView);\r\n\r\n               Img = itemView.findViewById(R.id.Img);\r\n               name = itemView.findViewById(R.id.name);\r\n              delTime = itemView.findViewById(R.id.delTime);\r\n\r\n           }\r\n        }\r\n    }\r\n\r\nI&#39;d like to know the reason for this error and any suggestions to solve this","title":"Cannot resolve method &#39;with(Context)&#39;","body":"<p>I am using the latest version of android studio this my adapter program  this was used in my previous projects glide version: 4.14.2 the context is showing the following error Cannot resolve method 'with(Context)'.</p>\n<pre><code>package com.example.mystorein.adapters;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.example.mystorein.R;\nimport com.example.mystorein.modal.Restaurent;\nimport com.google.api.Context;\n\nimport java.util.ArrayList;\n\npublic class RestaurentAdapter extends RecyclerView.Adapter&lt;RestaurentAdapter.ViewHolder&gt; {\n\n   Context context;\n   ArrayList&lt;Restaurent&gt; list;\n\n   public RestaurentAdapter(Context context, ArrayList&lt;Restaurent&gt; list) {\n       this.context = context;\n       this.list = list;\n   }\n\n   @NonNull\n   @Override\n   public RestaurentAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       return new      ViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.toprated_near_item,parent,false));\n      }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n       Glide.with(context).load(list.get(position)).into(holder.Img);\n       holder.name.setText(list.get(position).getName());\n       holder.delTime.setText(list.get(position).getTime());\n\n    }\n\n   @Override\n   public int getItemCount() {\n       return list.size();\n   }\n\n   public static class ViewHolder extends RecyclerView.ViewHolder {\n\n       ImageView Img;\n       TextView name, delTime;\n\n       public ViewHolder(@NonNull View itemView) {\n           super(itemView);\n\n           Img = itemView.findViewById(R.id.Img);\n           name = itemView.findViewById(R.id.name);\n          delTime = itemView.findViewById(R.id.delTime);\n\n       }\n    }\n}\n</code></pre>\n<p>I'd like to know the reason for this error and any suggestions to solve this</p>\n"},{"tags":["java","completable-future","helidon"],"answers":[{"tags":[],"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686675824,"creation_date":1686675824,"answer_id":76467210,"question_id":76466911,"body_markdown":"You are consuming the resource inside the `CompletableFuture.supplyAsync`, which means it would be executing on its own separate thread at a later point as decided by the thread executor. However, your resource `dataChunkInputStream` would be closed immediately by the try block as soon as the enclosed Single.create() returns - which is always before the spawned thread gets a chance to read it. This is a typical mistake we all do when we to mix async coding style with a synchronous approach.\r\n\r\nThe below should work. (Excuse the syntax errors if any, I typed this inline here in the answer)\r\n\r\n    public Flow.Publisher&lt;DataChunk&gt; apply(final Flow.Publisher&lt;DataChunk&gt; dataChunkPublisher) {\r\n        final var span = tracer.buildSpan(&quot;request-preprocessing&quot;)\r\n                .asChildOf(spanContext)\r\n                .start();\r\n        \r\n        return Single.create(CompletableFuture.supplyAsync(() -&gt; Contexts.runInContext(ctx, () -&gt; {\r\n                    final var jsonNode = OM.readTree(dataChunkInputStream);\r\n                    dataChunkInputStream.close();\r\n                   }));\r\n    }\r\n\r\n","title":"DataChunkInputStream causing IOException in Helidon MessageBodyFilter","body":"<p>You are consuming the resource inside the <code>CompletableFuture.supplyAsync</code>, which means it would be executing on its own separate thread at a later point as decided by the thread executor. However, your resource <code>dataChunkInputStream</code> would be closed immediately by the try block as soon as the enclosed Single.create() returns - which is always before the spawned thread gets a chance to read it. This is a typical mistake we all do when we to mix async coding style with a synchronous approach.</p>\n<p>The below should work. (Excuse the syntax errors if any, I typed this inline here in the answer)</p>\n<pre><code>public Flow.Publisher&lt;DataChunk&gt; apply(final Flow.Publisher&lt;DataChunk&gt; dataChunkPublisher) {\n    final var span = tracer.buildSpan(&quot;request-preprocessing&quot;)\n            .asChildOf(spanContext)\n            .start();\n    \n    return Single.create(CompletableFuture.supplyAsync(() -&gt; Contexts.runInContext(ctx, () -&gt; {\n                final var jsonNode = OM.readTree(dataChunkInputStream);\n                dataChunkInputStream.close();\n               }));\n}\n</code></pre>\n"}],"owner":{"account_id":13845940,"reputation":393,"user_id":9995089,"display_name":"Casey Daly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76467210,"answer_count":1,"score":1,"last_activity_date":1686724478,"creation_date":1686673328,"question_id":76466911,"body_markdown":"I am using Helidon SE and trying to create a MessageBodyFilter to modify certain fields on the incoming request payload. When trying to override the apply function as you see below, we are getting an IOException thrown stating that the input stream has been closed...\r\n\r\n```\r\n@Override\r\n    public Flow.Publisher&lt;DataChunk&gt; apply(final Flow.Publisher&lt;DataChunk&gt; dataChunkPublisher) {\r\n        final var span = tracer.buildSpan(&quot;request-preprocessing&quot;)\r\n                .asChildOf(spanContext)\r\n                .start();\r\n        try (final InputStream dataChunkInputStream = new DataChunkInputStream(dataChunkPublisher)) {\r\n            return Single.create(CompletableFuture.supplyAsync(() -&gt; Contexts.runInContext(ctx, () -&gt; {\r\n                try {\r\n                    final var jsonNode = OM.readTree(dataChunkInputStream);\r\n```\r\n\r\nThis is only happening when we create the DataChunkInputStream in a try-with-resources, and not when we create it outside of it. The exception gets thrown in the last line you see where we try to read the stream with the ObjectMapper","title":"DataChunkInputStream causing IOException in Helidon MessageBodyFilter","body":"<p>I am using Helidon SE and trying to create a MessageBodyFilter to modify certain fields on the incoming request payload. When trying to override the apply function as you see below, we are getting an IOException thrown stating that the input stream has been closed...</p>\n<pre><code>@Override\n    public Flow.Publisher&lt;DataChunk&gt; apply(final Flow.Publisher&lt;DataChunk&gt; dataChunkPublisher) {\n        final var span = tracer.buildSpan(&quot;request-preprocessing&quot;)\n                .asChildOf(spanContext)\n                .start();\n        try (final InputStream dataChunkInputStream = new DataChunkInputStream(dataChunkPublisher)) {\n            return Single.create(CompletableFuture.supplyAsync(() -&gt; Contexts.runInContext(ctx, () -&gt; {\n                try {\n                    final var jsonNode = OM.readTree(dataChunkInputStream);\n</code></pre>\n<p>This is only happening when we create the DataChunkInputStream in a try-with-resources, and not when we create it outside of it. The exception gets thrown in the last line you see where we try to read the stream with the ObjectMapper</p>\n"},{"tags":["java","android","arm64"],"answers":[{"tags":[],"owner":{"account_id":27662493,"reputation":1,"user_id":21115015,"display_name":"Nik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683321875,"creation_date":1683257691,"answer_id":76178690,"question_id":76178494,"body_markdown":"I&#39;ve found the solution, it&#39;s because I have no `.so` files at all in my project, normally this will be in the plugin but my plugin doesn&#39;t have it.\r\n\r\nSo, I had to generate my own `.so` files by creating my project with c++ support to add the native code, following [this][1].\r\n\r\nAdd the ABI filters as follows:\r\n\r\n```groovy\r\nandroid {\r\n    splits {\r\n        abi {\r\n            enable true\r\n            reset()\r\n            include &#39;armeabi&#39;, &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;\r\n            universalApk false\r\n        }\r\n    }\r\n    \r\n    sourceSets {\r\n        main {\r\n            assets.srcDirs = [&#39;src/main/assets&#39;, &#39;src/main/assets/&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ndependencies { \r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n}\r\n```\r\n\r\nIn your `build.gradle` (app) file, build your `apk` and you can see that the `.so` files and `arm64` folders will be included in your `apk`.\r\n\r\nNow you can build and run your app on your physical device.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/projects/add-native-code","title":"Android Studio: INSTALL_FAILED_NO_MATCHING_ABIS on physical device","body":"<p>I've found the solution, it's because I have no <code>.so</code> files at all in my project, normally this will be in the plugin but my plugin doesn't have it.</p>\n<p>So, I had to generate my own <code>.so</code> files by creating my project with c++ support to add the native code, following <a href=\"https://developer.android.com/studio/projects/add-native-code\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>Add the ABI filters as follows:</p>\n<pre><code>android {\n    splits {\n        abi {\n            enable true\n            reset()\n            include 'armeabi', 'armeabi-v7a', 'arm64-v8a'\n            universalApk false\n        }\n    }\n    \n    sourceSets {\n        main {\n            assets.srcDirs = ['src/main/assets', 'src/main/assets/']\n        }\n    }\n}\n\ndependencies { \n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n}\n</code></pre>\n<p>In your <code>build.gradle</code> (app) file, build your <code>apk</code> and you can see that the <code>.so</code> files and <code>arm64</code> folders will be included in your <code>apk</code>.</p>\n<p>Now you can build and run your app on your physical device.</p>\n"}],"owner":{"account_id":27662493,"reputation":1,"user_id":21115015,"display_name":"Nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686724214,"creation_date":1683254056,"question_id":76178494,"body_markdown":"I;m building a dummy android project in android studio that uses a java plugin.\r\nWhen I try to run my app on my physical device it&#39;s giving me the error \r\n\r\nLaunching &#39;app&#39; on OPPO A9.\r\nInstallation did not succeed.\r\nThe application could not be installed: INSTALL_FAILED_NO_MATCHING_ABIS \r\n\r\nIn the build.gradle file i have specified for this \r\n`splits {\r\n        abi {\r\n            enable true\r\n            reset()\r\n            include &#39;armeabi&#39;, &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;\r\n            universalApk false\r\n        }`\r\n\r\nbut it&#39;s still causing the problem\r\n\r\nand i know my phone supports the abi list because i&#39;ve verified it on the hardware info app on my phone\r\n\r\nvirtual devices for API 21 arm64 can run this app but it&#39;s useless if physical devices fail, since the main goal is to make the plugin be useable on an android phone.\r\n","title":"Android Studio: INSTALL_FAILED_NO_MATCHING_ABIS on physical device","body":"<p>I;m building a dummy android project in android studio that uses a java plugin.\nWhen I try to run my app on my physical device it's giving me the error</p>\n<p>Launching 'app' on OPPO A9.\nInstallation did not succeed.\nThe application could not be installed: INSTALL_FAILED_NO_MATCHING_ABIS</p>\n<p>In the build.gradle file i have specified for this\n<code>splits { abi { enable true reset() include 'armeabi', 'armeabi-v7a', 'arm64-v8a' universalApk false }</code></p>\n<p>but it's still causing the problem</p>\n<p>and i know my phone supports the abi list because i've verified it on the hardware info app on my phone</p>\n<p>virtual devices for API 21 arm64 can run this app but it's useless if physical devices fail, since the main goal is to make the plugin be useable on an android phone.</p>\n"},{"tags":["java","azure","azure-keyvault"],"answers":[{"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686724106,"creation_date":1686724106,"answer_id":76470667,"question_id":76463957,"body_markdown":"I made some changes with your code and I got the **secrete** of my **key vault** at output.\r\n\r\n**Code:**\r\n\r\n```java\r\nimport com.azure.identity.ClientSecretCredential;\r\nimport com.azure.identity.ClientSecretCredentialBuilder;\r\nimport com.azure.security.keyvault.secrets.SecretClient;\r\nimport com.azure.security.keyvault.secrets.SecretClientBuilder;\r\nimport com.azure.security.keyvault.secrets.models.KeyVaultSecret;\r\n\r\npublic class KeyVaultKam {\r\n    public static void main(String[] args) {\r\n        String keyVaultUri = &quot;https://&lt;keyvault-name&gt;.vault.azure.net/&quot;;\r\n        String secretName = &quot;&lt;secrete-name&gt;&quot;;\r\n\r\n        ClientSecretCredential credential = new ClientSecretCredentialBuilder()\r\n                .clientId(&quot;&lt;client-ID&gt;&quot;)\r\n                .clientSecret(&quot;&lt;client-secrete&gt;&quot;)\r\n                .tenantId(&quot;&lt;tenant-ID&gt;&quot;)\r\n                .build();\r\n\r\n        SecretClient secretClient = new SecretClientBuilder()\r\n                .vaultUrl(keyVaultUri)\r\n                .credential(credential)\r\n                .buildClient();\r\n\r\n        try {\r\n            KeyVaultSecret secret = secretClient.getSecret(secretName);\r\n            System.out.println(&quot;Secret value: &quot; + secret.getValue());\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error retrieving secret: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**pom.xml:**\r\n\r\nI added below **dependencies** to the **pom.xml** file,\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n     \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-security-keyvault-secrets&lt;/artifactId&gt;\r\n            &lt;version&gt;4.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.39.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n&lt;/dependencies&gt;\r\n```\r\n\r\nI created **access policy** for the **client application** as below,\r\n\r\n\r\n![enter image description here](https://i.imgur.com/NZUpmfl.png)\r\n\r\n\r\n\r\n**Output:**\r\n\r\nIt **runs successfully** and got the output of my **secrete** as below,\r\n\r\n![enter image description here](https://i.imgur.com/0cmcEsr.png)","title":"Azure Key Vault error message &quot;AKV10000: Request is missing a Bearer or PoP token.&quot;","body":"<p>I made some changes with your code and I got the <strong>secrete</strong> of my <strong>key vault</strong> at output.</p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.identity.ClientSecretCredential;\nimport com.azure.identity.ClientSecretCredentialBuilder;\nimport com.azure.security.keyvault.secrets.SecretClient;\nimport com.azure.security.keyvault.secrets.SecretClientBuilder;\nimport com.azure.security.keyvault.secrets.models.KeyVaultSecret;\n\npublic class KeyVaultKam {\n    public static void main(String[] args) {\n        String keyVaultUri = &quot;https://&lt;keyvault-name&gt;.vault.azure.net/&quot;;\n        String secretName = &quot;&lt;secrete-name&gt;&quot;;\n\n        ClientSecretCredential credential = new ClientSecretCredentialBuilder()\n                .clientId(&quot;&lt;client-ID&gt;&quot;)\n                .clientSecret(&quot;&lt;client-secrete&gt;&quot;)\n                .tenantId(&quot;&lt;tenant-ID&gt;&quot;)\n                .build();\n\n        SecretClient secretClient = new SecretClientBuilder()\n                .vaultUrl(keyVaultUri)\n                .credential(credential)\n                .buildClient();\n\n        try {\n            KeyVaultSecret secret = secretClient.getSecret(secretName);\n            System.out.println(&quot;Secret value: &quot; + secret.getValue());\n        } catch (Exception e) {\n            System.out.println(&quot;Error retrieving secret: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong>pom.xml:</strong></p>\n<p>I added below <strong>dependencies</strong> to the <strong>pom.xml</strong> file,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n     \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-security-keyvault-secrets&lt;/artifactId&gt;\n            &lt;version&gt;4.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n            &lt;version&gt;1.39.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n&lt;/dependencies&gt;\n</code></pre>\n<p>I created <strong>access policy</strong> for the <strong>client application</strong> as below,</p>\n<p><img src=\"https://i.imgur.com/NZUpmfl.png\" alt=\"enter image description here\" /></p>\n<p><strong>Output:</strong></p>\n<p>It <strong>runs successfully</strong> and got the output of my <strong>secrete</strong> as below,</p>\n<p><img src=\"https://i.imgur.com/0cmcEsr.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":8572878,"reputation":33,"user_id":6423114,"display_name":"dzivi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1954,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76470667,"answer_count":1,"score":0,"last_activity_date":1686724106,"creation_date":1686652150,"question_id":76463957,"body_markdown":"I have Key Vault on Azure and I added Access policies for App registrations with Secret permissions (Get, List, Set, Delete, Recover, Backup, Restore)\r\nI wrote Java code:\r\n\r\n        String keyVaultUri = &quot;https://myKeyVault.azure.net&quot;;\r\n\r\n        ClientSecretCredential paramClientSecretCredential = new ClientSecretCredentialBuilder()\r\n                .clientId(&quot;MyApplicationId&quot;)\r\n                .clientSecret(&quot;MyApplicationSecretKey&quot;)\r\n                .tenantId(&quot;MyTenantId&quot;)\r\n                .build();\r\n\r\n         SecretClient secretClient = new SecretClientBuilder()\r\n            .vaultUrl(keyVaultUri)\r\n            .credential(paramClientSecretCredential)\r\n            .httpLogOptions(new HttpLogOptions().setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS))\r\n            .buildClient();\r\n\r\n         KeyVaultSecret storedSecret = secretClient.getSecret(&quot;mySecret&quot;);\r\n\r\n         System.out.println(&quot;Secret value: &quot;+storedSecret.getValue());\r\nI&#39;m using these Maven dependencies:\r\n\r\n 1. azure-security-keyvault-secretss (version 4.6.2)\r\n 2. azure-core (version 1.39.0)\r\n 3. azure-identity (version 1.9.0-beta.1)\r\n\r\n\r\nAfter I started my code I got this error message Status code 401, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;AKV10000: Request is missing a Bearer or PoP token.&quot;}}&quot;\r\n\r\nDo you have any suggestions on how to fix this?","title":"Azure Key Vault error message &quot;AKV10000: Request is missing a Bearer or PoP token.&quot;","body":"<p>I have Key Vault on Azure and I added Access policies for App registrations with Secret permissions (Get, List, Set, Delete, Recover, Backup, Restore)\nI wrote Java code:</p>\n<pre><code>    String keyVaultUri = &quot;https://myKeyVault.azure.net&quot;;\n\n    ClientSecretCredential paramClientSecretCredential = new ClientSecretCredentialBuilder()\n            .clientId(&quot;MyApplicationId&quot;)\n            .clientSecret(&quot;MyApplicationSecretKey&quot;)\n            .tenantId(&quot;MyTenantId&quot;)\n            .build();\n\n     SecretClient secretClient = new SecretClientBuilder()\n        .vaultUrl(keyVaultUri)\n        .credential(paramClientSecretCredential)\n        .httpLogOptions(new HttpLogOptions().setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS))\n        .buildClient();\n\n     KeyVaultSecret storedSecret = secretClient.getSecret(&quot;mySecret&quot;);\n\n     System.out.println(&quot;Secret value: &quot;+storedSecret.getValue());\n</code></pre>\n<p>I'm using these Maven dependencies:</p>\n<ol>\n<li>azure-security-keyvault-secretss (version 4.6.2)</li>\n<li>azure-core (version 1.39.0)</li>\n<li>azure-identity (version 1.9.0-beta.1)</li>\n</ol>\n<p>After I started my code I got this error message Status code 401, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;AKV10000: Request is missing a Bearer or PoP token.&quot;}}&quot;</p>\n<p>Do you have any suggestions on how to fix this?</p>\n"},{"tags":["java","json","spring","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":14358777,"reputation":1,"user_id":10371778,"display_name":"Atul Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620025575,"creation_date":1620016021,"answer_id":67363471,"question_id":66756854,"body_markdown":"Create **BiFunctional Row Mapper** for mapping DB row with java object [On Repository]\r\n\r\n**Example** - \r\n\r\n    @Autowired\r\n    private DatabaseClient databaseClient;\r\n    \r\n    @Autowired\r\n    private ObjectMapper objectMapper\r\n    public static final BiFunction&lt;Row, RowMetadata, Customer&gt; customerRowMapper = (row, rowMetadata) -&gt; Customer.builder()\r\n              // ...rest of the field\r\n              // call your setter fun here \r\n              .customerAuthorities(objectMapper.readValue(row.get(&quot;customer_authorities&quot;, String.class), Customer.CustomerAuthorities.class))\r\n              .build();\r\n\r\n    public Flux&lt;Customer&gt; getAllCustomer() {\r\n      return databaseClient\r\n                .sql(&quot;YOUR SQL QUERY&quot;)\r\n                .map(customerRowMapper) // here will call the biFunctional row mapper\r\n                .all();\r\n      }\r\n    }","title":"How to mapping postgresql jsonb to java object r2dbc","body":"<p>Create <strong>BiFunctional Row Mapper</strong> for mapping DB row with java object [On Repository]</p>\n<p><strong>Example</strong> -</p>\n<pre><code>@Autowired\nprivate DatabaseClient databaseClient;\n\n@Autowired\nprivate ObjectMapper objectMapper\npublic static final BiFunction&lt;Row, RowMetadata, Customer&gt; customerRowMapper = (row, rowMetadata) -&gt; Customer.builder()\n          // ...rest of the field\n          // call your setter fun here \n          .customerAuthorities(objectMapper.readValue(row.get(&quot;customer_authorities&quot;, String.class), Customer.CustomerAuthorities.class))\n          .build();\n\npublic Flux&lt;Customer&gt; getAllCustomer() {\n  return databaseClient\n            .sql(&quot;YOUR SQL QUERY&quot;)\n            .map(customerRowMapper) // here will call the biFunctional row mapper\n            .all();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14389550,"reputation":11,"user_id":10394520,"display_name":"Hoang Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686723907,"creation_date":1616469924,"question_id":66756854,"body_markdown":"I have an entity mapping with a table `pc_customer` in PostgreSQL.\r\nI have an issue when mapping a field `jsonb` from PostgreSQL to Object in Java using R2DBC. \r\n\r\nHere is my code:\r\n\r\n```\r\n@EqualsAndHashCode(callSuper = false)\r\n@Data\r\n@Builder\r\n@AllArgsConstructor(access = AccessLevel.PROTECTED)\r\n@Table(&quot;pc_customer&quot;)\r\npublic class Customer extends KunlunDomain {\r\n    @Id\r\n    private Long id;\r\n    private String secret;\r\n    private String code;\r\n\r\n    @Column(value = &quot;customer_authorities&quot;)\r\n    CustomerAuthorities customerAuthorities;\r\n    String zaloId;\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor(access = AccessLevel.PROTECTED)\r\n    public static class CustomerAuthorities implements Serializable {\r\n        boolean importParcel = false;\r\n        boolean printParcelStamp = false;\r\n        boolean draftServicesEnable = true;\r\n    }\r\n}\r\n``` \r\n\r\nHere is the error received:\r\n\r\n```\r\nCaused by: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [io.r2dbc.postgresql.codec.Json$JsonByteArrayInput] to type [***com.example.Customer$CustomerAuthorities]\r\n```\r\n\r\nColumn `customer_authorities` is `jsonb`.\r\nSo what can I do to map `jsonb` to a class in this case?","title":"How to mapping postgresql jsonb to java object r2dbc","body":"<p>I have an entity mapping with a table <code>pc_customer</code> in PostgreSQL.\nI have an issue when mapping a field <code>jsonb</code> from PostgreSQL to Object in Java using R2DBC.</p>\n<p>Here is my code:</p>\n<pre><code>@EqualsAndHashCode(callSuper = false)\n@Data\n@Builder\n@AllArgsConstructor(access = AccessLevel.PROTECTED)\n@Table(&quot;pc_customer&quot;)\npublic class Customer extends KunlunDomain {\n    @Id\n    private Long id;\n    private String secret;\n    private String code;\n\n    @Column(value = &quot;customer_authorities&quot;)\n    CustomerAuthorities customerAuthorities;\n    String zaloId;\n\n    @Data\n    @Builder\n    @AllArgsConstructor(access = AccessLevel.PROTECTED)\n    public static class CustomerAuthorities implements Serializable {\n        boolean importParcel = false;\n        boolean printParcelStamp = false;\n        boolean draftServicesEnable = true;\n    }\n}\n</code></pre>\n<p>Here is the error received:</p>\n<pre><code>Caused by: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [io.r2dbc.postgresql.codec.Json$JsonByteArrayInput] to type [***com.example.Customer$CustomerAuthorities]\n</code></pre>\n<p>Column <code>customer_authorities</code> is <code>jsonb</code>.\nSo what can I do to map <code>jsonb</code> to a class in this case?</p>\n"},{"tags":["java","get","quarkus"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686702837,"creation_date":1686702837,"answer_id":76469466,"question_id":76467864,"body_markdown":"There is an _RFC_ for the _Uniform Resource Locators_, which defines a form.  \r\n_[RFC 1738 - Uniform Resource Locators (URL) &amp;ndash; Section 5 &amp;ndash; BNF for specific URL schemes](https://datatracker.ietf.org/doc/html/rfc1738#section-5)_.\r\n\r\nThe _[BNF](https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form)_ for _httpurl_ is defined as follows.\r\n\r\n```none\r\nhttpurl        = &quot;http://&quot; hostport [ &quot;/&quot; hpath [ &quot;?&quot; search ]]\r\nhostport       = host [ &quot;:&quot; port ]\r\nhpath          = hsegment *[ &quot;/&quot; hsegment ]\r\nhsegment       = *[ uchar | &quot;;&quot; | &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\r\nsearch         = *[ uchar | &quot;;&quot; | &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\r\n\r\nuchar          = unreserved | escape\r\nunreserved     = alpha | digit | safe | extra\r\nescape         = &quot;%&quot; hex hex\r\nsafe           = &quot;$&quot; | &quot;-&quot; | &quot;_&quot; | &quot;.&quot; | &quot;+&quot;\r\nextra          = &quot;!&quot; | &quot;*&quot; | &quot;&#39;&quot; | &quot;(&quot; | &quot;)&quot; | &quot;,&quot;\r\n```\r\n\r\n&gt; _&quot;... can I retrieve the query parameters from the user_id field as indicated in the example url or can this only apply the query parameters to the end of the URL?&quot;_\r\n\r\nIt would appear that you would, most likely, not be able to utilize that form.  \r\nThe parameters would be part of the _hsegment_ field, which does not typically allow for a _?_ character.","title":"How can I receive a get method in quarkus, in which the input parameter to be taken is in the url in the middle of it","body":"<p>There is an <em>RFC</em> for the <em>Uniform Resource Locators</em>, which defines a form.<br />\n<em><a href=\"https://datatracker.ietf.org/doc/html/rfc1738#section-5\" rel=\"nofollow noreferrer\">RFC 1738 - Uniform Resource Locators (URL) – Section 5 – BNF for specific URL schemes</a></em>.</p>\n<p>The <em><a href=\"https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form\" rel=\"nofollow noreferrer\">BNF</a></em> for <em>httpurl</em> is defined as follows.</p>\n<pre class=\"lang-none prettyprint-override\"><code>httpurl        = &quot;http://&quot; hostport [ &quot;/&quot; hpath [ &quot;?&quot; search ]]\nhostport       = host [ &quot;:&quot; port ]\nhpath          = hsegment *[ &quot;/&quot; hsegment ]\nhsegment       = *[ uchar | &quot;;&quot; | &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\nsearch         = *[ uchar | &quot;;&quot; | &quot;:&quot; | &quot;@&quot; | &quot;&amp;&quot; | &quot;=&quot; ]\n\nuchar          = unreserved | escape\nunreserved     = alpha | digit | safe | extra\nescape         = &quot;%&quot; hex hex\nsafe           = &quot;$&quot; | &quot;-&quot; | &quot;_&quot; | &quot;.&quot; | &quot;+&quot;\nextra          = &quot;!&quot; | &quot;*&quot; | &quot;'&quot; | &quot;(&quot; | &quot;)&quot; | &quot;,&quot;\n</code></pre>\n<blockquote>\n<p><em>&quot;... can I retrieve the query parameters from the user_id field as indicated in the example url or can this only apply the query parameters to the end of the URL?&quot;</em></p>\n</blockquote>\n<p>It would appear that you would, most likely, not be able to utilize that form.<br />\nThe parameters would be part of the <em>hsegment</em> field, which does not typically allow for a <em>?</em> character.</p>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686723899,"creation_date":1686723899,"answer_id":76470646,"question_id":76467864,"body_markdown":"I&#39;m pretty sure the syntax you may want to use is not supported (or you have to encode/decode data by youself), but what about using [matrix param][1]?&lt;br/&gt;\r\n\r\n`/users/user_id;id=1;value=12345678/customers`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/401981/when-to-use-query-parameters-versus-matrix-parameters?rq=3","title":"How can I receive a get method in quarkus, in which the input parameter to be taken is in the url in the middle of it","body":"<p>I'm pretty sure the syntax you may want to use is not supported (or you have to encode/decode data by youself), but what about using <a href=\"https://stackoverflow.com/questions/401981/when-to-use-query-parameters-versus-matrix-parameters?rq=3\">matrix param</a>?<br/></p>\n<p><code>/users/user_id;id=1;value=12345678/customers</code></p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686723899,"creation_date":1686681880,"question_id":76467864,"body_markdown":"\r\nGood afternoon.\r\n\r\nI am currently working with an API of the GET type in which we must use the following url for the get method as standard:\r\n\r\n/users/{user_id}/customers\r\n\r\nThe question here is that I don&#39;t know how I can get this value, if I can only use RequestMapping and if so, my user_id input parameter is a combination of the Query Parameters type like the following example:\r\n\r\n/users/**user_id?id=1&amp;value=12345678**/customers\r\n\r\nThat is, can I retrieve the query parameters from the user_id field as indicated in the example url or can this only apply the query parameters to the end of the URL?\r\n","title":"How can I receive a get method in quarkus, in which the input parameter to be taken is in the url in the middle of it","body":"<p>Good afternoon.</p>\n<p>I am currently working with an API of the GET type in which we must use the following url for the get method as standard:</p>\n<p>/users/{user_id}/customers</p>\n<p>The question here is that I don't know how I can get this value, if I can only use RequestMapping and if so, my user_id input parameter is a combination of the Query Parameters type like the following example:</p>\n<p>/users/<strong>user_id?id=1&amp;value=12345678</strong>/customers</p>\n<p>That is, can I retrieve the query parameters from the user_id field as indicated in the example url or can this only apply the query parameters to the end of the URL?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":15892535,"reputation":445,"user_id":11467234,"display_name":"Adarsh Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686723147,"creation_date":1686375561,"answer_id":76444872,"question_id":76444582,"body_markdown":"The design that you have mentioned is not of edit text but of *TextInputLayout*\r\nand inside it *TextInputEditText* is present. You can create like this in XML\r\n\r\n\r\n      &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Label&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\nor programmatically\r\n\r\n  \r\n\r\n     TextInputLayout textInputLayout = new TextInputLayout(this);\r\n     LinearLayout.LayoutParams textInputLayoutParams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT,\r\n                LinearLayout.LayoutParams.WRAP_CONTENT);\r\n          EditText myEditText  = new EditText(this);\r\n    \r\n        RelativeLayout.LayoutParams editTextParams = new RelativeLayout.LayoutParams(\r\n                RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.WRAP_CONTENT);\r\n        editText.setLayoutParams(editTextParams);\r\n    \r\n        myEditText.setTextSize(16);\r\n        myEditText.setTextColor(getResources().getColor(R.color.black));\r\n        myEditText.setHint(&quot;hint&quot;);\r\n        myEditText.setHintTextColor(getResources().getColor(R.color.gray));\r\n    \r\n        textInputLayout.addView(myEditText, editTextParams);\r\n\r\n","title":"How do I implement a floating label to a dynamically created edittext in android?","body":"<p>The design that you have mentioned is not of edit text but of <em>TextInputLayout</em>\nand inside it <em>TextInputEditText</em> is present. You can create like this in XML</p>\n<pre><code>  &lt;com.google.android.material.textfield.TextInputLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;Label&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>or programmatically</p>\n<pre><code> TextInputLayout textInputLayout = new TextInputLayout(this);\n LinearLayout.LayoutParams textInputLayoutParams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT,\n            LinearLayout.LayoutParams.WRAP_CONTENT);\n      EditText myEditText  = new EditText(this);\n\n    RelativeLayout.LayoutParams editTextParams = new RelativeLayout.LayoutParams(\n            RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.WRAP_CONTENT);\n    editText.setLayoutParams(editTextParams);\n\n    myEditText.setTextSize(16);\n    myEditText.setTextColor(getResources().getColor(R.color.black));\n    myEditText.setHint(&quot;hint&quot;);\n    myEditText.setHintTextColor(getResources().getColor(R.color.gray));\n\n    textInputLayout.addView(myEditText, editTextParams);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22352554,"reputation":146,"user_id":16570381,"display_name":"Prem Chaudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686409325,"creation_date":1686408865,"answer_id":76446744,"question_id":76444582,"body_markdown":"Here are the steps you can follow to create Floating Label EditText dynamically:\r\n\r\nCreate `EditText` and set layout, styles and hint on it\r\n\r\n    EditText editText = new EditText(this);\r\n    editText.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT));\r\n    editText.setTypeface(Typeface.create(&quot;sans-serif-smallcaps&quot;, Typeface.NORMAL));\r\n    editText.setText(arr.get(0).get(0));\r\n    editText.setHint(&quot;Floating Label&quot;); // replace text with required label text\r\n    editText.setPadding(45,30,45,30); // replace padding as per your requirements\r\n    editText.setBackground(null); // This allows TextInputLayout to set the EditText &#39;s background to an outlined or filled box\r\n\r\n\r\nCreate `TextInputLayout` with some properties\r\n\r\n    TextInputLayout textInputLayout = new TextInputLayout(this);\r\n    textInputLayout.setHintEnabled(true);\r\n    textInputLayout.setHintAnimationEnabled(true);\r\n\r\nAttach border outlined theme to `TextInputLayout`\r\n\r\n    textInputLayout.setBoxBackgroundMode(TextInputLayout.BOX_BACKGROUND_OUTLINE);\r\n    textInputLayout.setBoxBackgroundColor(ContextCompat.getColor(this, android.R.color.transparent));\r\n\r\nAdd `EditText` to the `TextInputLayout`\r\n\r\n    textInputLayout.addView(editText);\r\n\r\nFinally add the `TextInputLayout` to the `parent` view\r\n\r\n    parent.addView(textInputLayout);","title":"How do I implement a floating label to a dynamically created edittext in android?","body":"<p>Here are the steps you can follow to create Floating Label EditText dynamically:</p>\n<p>Create <code>EditText</code> and set layout, styles and hint on it</p>\n<pre><code>EditText editText = new EditText(this);\neditText.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT));\neditText.setTypeface(Typeface.create(&quot;sans-serif-smallcaps&quot;, Typeface.NORMAL));\neditText.setText(arr.get(0).get(0));\neditText.setHint(&quot;Floating Label&quot;); // replace text with required label text\neditText.setPadding(45,30,45,30); // replace padding as per your requirements\neditText.setBackground(null); // This allows TextInputLayout to set the EditText 's background to an outlined or filled box\n</code></pre>\n<p>Create <code>TextInputLayout</code> with some properties</p>\n<pre><code>TextInputLayout textInputLayout = new TextInputLayout(this);\ntextInputLayout.setHintEnabled(true);\ntextInputLayout.setHintAnimationEnabled(true);\n</code></pre>\n<p>Attach border outlined theme to <code>TextInputLayout</code></p>\n<pre><code>textInputLayout.setBoxBackgroundMode(TextInputLayout.BOX_BACKGROUND_OUTLINE);\ntextInputLayout.setBoxBackgroundColor(ContextCompat.getColor(this, android.R.color.transparent));\n</code></pre>\n<p>Add <code>EditText</code> to the <code>TextInputLayout</code></p>\n<pre><code>textInputLayout.addView(editText);\n</code></pre>\n<p>Finally add the <code>TextInputLayout</code> to the <code>parent</code> view</p>\n<pre><code>parent.addView(textInputLayout);\n</code></pre>\n"}],"owner":{"account_id":28625477,"reputation":81,"user_id":21917572,"display_name":"abhishek_6198"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76446744,"answer_count":2,"score":1,"last_activity_date":1686723147,"creation_date":1686367304,"question_id":76444582,"body_markdown":"This is how I am dynamically creating my edittext element:\r\n```\r\nEditText myEditText = new EditText(MainActivity.this);\r\n\r\nmyEditText.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, \r\nLinearLayout.LayoutParams.MATCH_PARENT));\r\n\r\nmyEditText.setTypeface(Typeface.create(&quot;sans-serif-smallcaps&quot;, Typeface.NORMAL));\r\n\r\nmyEditText.setText(arr.get(0).get(0));\r\n\r\nparent.addView(myEditText);\r\n```\r\nRight now my edittext looks like this:\r\n\r\n[![enter image description here][1]][1],\r\n\r\nwhereas I want it to be like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/to419.jpg\r\n  [2]: https://i.stack.imgur.com/PuB7L.jpg\r\n\r\nHow do I proceed?","title":"How do I implement a floating label to a dynamically created edittext in android?","body":"<p>This is how I am dynamically creating my edittext element:</p>\n<pre><code>EditText myEditText = new EditText(MainActivity.this);\n\nmyEditText.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, \nLinearLayout.LayoutParams.MATCH_PARENT));\n\nmyEditText.setTypeface(Typeface.create(&quot;sans-serif-smallcaps&quot;, Typeface.NORMAL));\n\nmyEditText.setText(arr.get(0).get(0));\n\nparent.addView(myEditText);\n</code></pre>\n<p>Right now my edittext looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/to419.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/to419.jpg\" alt=\"enter image description here\" /></a>,</p>\n<p>whereas I want it to be like this:</p>\n<p><a href=\"https://i.stack.imgur.com/PuB7L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PuB7L.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How do I proceed?</p>\n"},{"tags":["java","spring","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1686679311,"post_id":76467522,"comment_id":134831460,"body_markdown":"Yes, current versions of spring boot don&#39;t run on java 8. Was that your question?","body":"Yes, current versions of spring boot don&#39;t run on java 8. Was that your question?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1686679447,"post_id":76467522,"comment_id":134831487,"body_markdown":"Spring Boot 3.x has a minimum requirement of Java17, if your server doesn&#39;t provide that, use Spring Boot 2.7 instead.","body":"Spring Boot 3.x has a minimum requirement of Java17, if your server doesn&#39;t provide that, use Spring Boot 2.7 instead."},{"owner":{"account_id":7732618,"reputation":336,"user_id":5859299,"display_name":"Austin"},"score":0,"creation_date":1686682351,"post_id":76467522,"comment_id":134832098,"body_markdown":"@M.Deinum that worked, thanks. If you want to post that as an answer I will mark it correct.","body":"@M.Deinum that worked, thanks. If you want to post that as an answer I will mark it correct."},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1686684162,"post_id":76467522,"comment_id":134832377,"body_markdown":"Ref: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support","body":"Ref: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686723139,"creation_date":1686723139,"answer_id":76470576,"question_id":76467522,"body_markdown":"As [documented][1] the minimal requirement for Spring Boot 3.x is Java17, trying to use Java 1.8 will simply fail.\r\n\r\nSo either get your server to provide Java 17 or downgrade to Spring Boot 2.7 for which the minimum requirement is Java 8.\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started.system-requirements","title":"Cant compile spring boot on java 1.8","body":"<p>As <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started.system-requirements\" rel=\"nofollow noreferrer\">documented</a> the minimal requirement for Spring Boot 3.x is Java17, trying to use Java 1.8 will simply fail.</p>\n<p>So either get your server to provide Java 17 or downgrade to Spring Boot 2.7 for which the minimum requirement is Java 8.</p>\n"}],"owner":{"account_id":7732618,"reputation":336,"user_id":5859299,"display_name":"Austin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1185,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76470576,"answer_count":1,"score":-2,"last_activity_date":1686723139,"creation_date":1686678651,"question_id":76467522,"body_markdown":"I am trying to build a demo spring boot app but cannot compile in java 1.8.\r\n\r\nI can compile this with java 17 just fine. However, the server I am going to run this on can only have 1.8. When I set my java home to my 1.8 jdk and I am not able to build my demo spring boot app. This is the error I get when I run ./mvnw.cmd package\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project demo: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\r\n```\r\n\r\nHere is my pom.xml.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Cant compile spring boot on java 1.8","body":"<p>I am trying to build a demo spring boot app but cannot compile in java 1.8.</p>\n<p>I can compile this with java 17 just fine. However, the server I am going to run this on can only have 1.8. When I set my java home to my 1.8 jdk and I am not able to build my demo spring boot app. This is the error I get when I run ./mvnw.cmd package</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project demo: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\n</code></pre>\n<p>Here is my pom.xml.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686722913,"creation_date":1686717981,"answer_id":76470206,"question_id":76470007,"body_markdown":"Replace `@SpringBootTest(classes = SmokeTest.class)` with `@SpringBootTest`.\r\n\r\nThe `classes` parameter is not used correctly. It should be used to define the component classes to use for loading an `ApplicationContext` and if it&#39;s not defined whole context is loaded, referring to [the docs][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html","title":"SpringBoot: ApplicationContext failed to load","body":"<p>Replace <code>@SpringBootTest(classes = SmokeTest.class)</code> with <code>@SpringBootTest</code>.</p>\n<p>The <code>classes</code> parameter is not used correctly. It should be used to define the component classes to use for loading an <code>ApplicationContext</code> and if it's not defined whole context is loaded, referring to <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"nofollow noreferrer\">the docs</a>.</p>\n"}],"owner":{"account_id":19352742,"reputation":203,"user_id":14149761,"display_name":"skoleosho97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686722913,"creation_date":1686713815,"question_id":76470007,"body_markdown":"Been at it for days, unable to figure out how to get around this issue with my spring boot tests. I&#39;ve tried many different solutions here and tried to understand how tests work on SpringBoot, but I haven&#39;t had any luck and I&#39;ve made myself more confused honestly.\r\n\r\n```\r\n2023-06-14 03:31:21.256  INFO 7691 --- [           main] c.a.underwritermicroservice.SmokeTest    : Starting SmokeTest using Java 17.0.7 on ip-172-31-84-196 with PID 7691 (started by ubuntu in /home/ubuntu/jenkins/workspace/Sam/underwriter-microservice-pipeline/underwriter-microservice)\r\n2023-06-14 03:31:21.256  INFO 7691 --- [           main] c.a.underwritermicroservice.SmokeTest    : No active profile set, falling back to default profiles: default\r\n2023-06-14 03:31:21.264  WARN 7691 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;smokeTest&#39;: Unsatisfied dependency expressed through field &#39;application&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.aline.underwritermicroservice.UnderwriterMicroserviceApplication&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2023-06-14 03:31:21.267 ERROR 7691 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField application in com.aline.underwritermicroservice.SmokeTest required a bean of type &#39;com.aline.underwritermicroservice.UnderwriterMicroserviceApplication&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.aline.underwritermicroservice.UnderwriterMicroserviceApplication&#39; in your configuration.\r\n```\r\n\r\nSmokeTest.java\r\n```java\r\npackage com.aline.underwritermicroservice;\r\n\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport com.aline.underwritermicroservice.controller.ApplicantController;\r\nimport com.aline.underwritermicroservice.controller.RootController;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.SpringVersion;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\n@SpringBootTest(classes = SmokeTest.class)\r\nclass SmokeTest {\r\n\r\n    @Autowired\r\n    UnderwriterMicroserviceApplication application;\r\n\r\n    @Autowired\r\n    RootController rootController;\r\n\r\n    @Autowired\r\n    ApplicantController applicantController;\r\n\r\n    @Test\r\n    void contextLoads() {\r\n        assertNotNull(application);\r\n        assertNotNull(rootController);\r\n        assertNotNull(applicantController);\r\n    }\r\n\r\n    @Test\r\n    void usingCorrectVersions() {\r\n        assertNotNull(SpringVersion.getVersion());\r\n        assertTrue(SpringVersion.getVersion().startsWith(&quot;5&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\nUnderwriterMicroserviceApplication.java\r\n```java\r\npackage com.aline.underwritermicroservice;\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport com.aline.core.annotation.EnableCoreModule;\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\nimport io.swagger.v3.oas.annotations.info.Info;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@EnableCoreModule\r\n@ComponentScan(basePackages = &quot;com.aline.underwritermicroservice&quot;)\r\n@OpenAPIDefinition(info = @Info(\r\n    title = &quot;Underwriter Microservice API&quot;,\r\n    description = &quot;This API provides operations to either accept or deny an application for an account as well as Applicant and Member creation and management.&quot;,\r\n    version = &quot;1.0&quot;\r\n))\r\npublic class UnderwriterMicroserviceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(UnderwriterMicroserviceApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.aline&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aline-underwriter-microservice&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;core&lt;/module&gt;\r\n        &lt;module&gt;underwriter-microservice&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.9.0.2155&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.8.8&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;coverage&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.8.8&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;report&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;report&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"SpringBoot: ApplicationContext failed to load","body":"<p>Been at it for days, unable to figure out how to get around this issue with my spring boot tests. I've tried many different solutions here and tried to understand how tests work on SpringBoot, but I haven't had any luck and I've made myself more confused honestly.</p>\n<pre><code>2023-06-14 03:31:21.256  INFO 7691 --- [           main] c.a.underwritermicroservice.SmokeTest    : Starting SmokeTest using Java 17.0.7 on ip-172-31-84-196 with PID 7691 (started by ubuntu in /home/ubuntu/jenkins/workspace/Sam/underwriter-microservice-pipeline/underwriter-microservice)\n2023-06-14 03:31:21.256  INFO 7691 --- [           main] c.a.underwritermicroservice.SmokeTest    : No active profile set, falling back to default profiles: default\n2023-06-14 03:31:21.264  WARN 7691 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'smokeTest': Unsatisfied dependency expressed through field 'application'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.aline.underwritermicroservice.UnderwriterMicroserviceApplication' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2023-06-14 03:31:21.267 ERROR 7691 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField application in com.aline.underwritermicroservice.SmokeTest required a bean of type 'com.aline.underwritermicroservice.UnderwriterMicroserviceApplication' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.aline.underwritermicroservice.UnderwriterMicroserviceApplication' in your configuration.\n</code></pre>\n<p>SmokeTest.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.aline.underwritermicroservice;\n\nimport org.springframework.boot.test.context.SpringBootTest;\nimport com.aline.underwritermicroservice.controller.ApplicantController;\nimport com.aline.underwritermicroservice.controller.RootController;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.SpringVersion;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n@SpringBootTest(classes = SmokeTest.class)\nclass SmokeTest {\n\n    @Autowired\n    UnderwriterMicroserviceApplication application;\n\n    @Autowired\n    RootController rootController;\n\n    @Autowired\n    ApplicantController applicantController;\n\n    @Test\n    void contextLoads() {\n        assertNotNull(application);\n        assertNotNull(rootController);\n        assertNotNull(applicantController);\n    }\n\n    @Test\n    void usingCorrectVersions() {\n        assertNotNull(SpringVersion.getVersion());\n        assertTrue(SpringVersion.getVersion().startsWith(&quot;5&quot;));\n    }\n\n}\n</code></pre>\n<p>UnderwriterMicroserviceApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.aline.underwritermicroservice;\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport com.aline.core.annotation.EnableCoreModule;\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\nimport io.swagger.v3.oas.annotations.info.Info;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@EnableCoreModule\n@ComponentScan(basePackages = &quot;com.aline.underwritermicroservice&quot;)\n@OpenAPIDefinition(info = @Info(\n    title = &quot;Underwriter Microservice API&quot;,\n    description = &quot;This API provides operations to either accept or deny an application for an account as well as Applicant and Member creation and management.&quot;,\n    version = &quot;1.0&quot;\n))\npublic class UnderwriterMicroserviceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(UnderwriterMicroserviceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.aline&lt;/groupId&gt;\n    &lt;artifactId&gt;aline-underwriter-microservice&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;core&lt;/module&gt;\n        &lt;module&gt;underwriter-microservice&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.9.0.2155&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;0.8.8&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;coverage&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.8.8&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;prepare-agent&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;report&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;report&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","quarkus","quarkus-panache","mutiny","quarkus-reactive"],"answers":[{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686722423,"creation_date":1686722423,"answer_id":76470512,"question_id":72526811,"body_markdown":"The request context is not propagated to your second thread. In addition, I would use the worker thread pool of Quarkus, to avoid creating an uncontrolled number of threads:\r\n\r\n\r\n```java\r\n@Inject ExecutorService executor;\r\n\r\n@OnMessage\r\npublic void onMessage(Session session, String message) {\r\n  executor.submit(() -&gt; find());\r\n}\r\n\r\n@ActivateRequestContext\r\nvoid find() {\r\nSystem.out.println(\r\n  MyHibernateEntity.findAll().firstResult().await().indefinitely());\r\n}\r\n```\r\n\r\nBTW, why are you using hibernate reactive in this case? If you need an `await`, I don&#39;t think it&#39;s a good match. You should use Hibernate classic.","title":"Quarkus Reactive Websocket Hibernate Query RequestScoped context was not active","body":"<p>The request context is not propagated to your second thread. In addition, I would use the worker thread pool of Quarkus, to avoid creating an uncontrolled number of threads:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject ExecutorService executor;\n\n@OnMessage\npublic void onMessage(Session session, String message) {\n  executor.submit(() -&gt; find());\n}\n\n@ActivateRequestContext\nvoid find() {\nSystem.out.println(\n  MyHibernateEntity.findAll().firstResult().await().indefinitely());\n}\n</code></pre>\n<p>BTW, why are you using hibernate reactive in this case? If you need an <code>await</code>, I don't think it's a good match. You should use Hibernate classic.</p>\n"}],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686722423,"creation_date":1654583630,"question_id":72526811,"body_markdown":"I&#39;m trying to do reactive Hibernate Panache queries on a websocket message in quarkus, but unfortunately, the reactive call just fails (without errors!).\r\nI now tried to get the result directly via the `.await().indefinitely()` methods, and now I can actually see an error (surprisingly).\r\n```\r\nException in thread &quot;Thread-752&quot; java.util.concurrent.CompletionException: javax.enterprise.context.ContextNotActiveException: RequestScoped context was not active when trying to obtain a bean instance for a client proxy of PRODUCER_METHOD bean [class=io.quarkus.hibernate.reactive.runtime.ReactiveSessionProducer, id=404040404040]\r\n\t- you can activate the request context for a specific method using the @ActivateRequestContext interceptor binding\r\n```\r\nI tried to do what the error message says and annotate pretty much anything I can with `@ActivateRequestContext`, but it keeps showing this message. I even tried `Panache.withTransaction` (even though I only need to do a query and no updates) or using a injected `Mutinity.SessionFactory`, but it keeps failing.\r\n\r\nMy reproduction code:\r\n```java\r\n@OnMessage\r\n@ActivateRequestContext\r\npublic void onMessage(Session session, String message) {\r\n   // the websocket thread can&#39;t be blocked\r\n   new Thread(() -&gt; {\r\n      System.out.println(MyHibernateEntity.findAll().firstResult().await().indefinitely());\r\n   }).start();\r\n}\r\n```\r\nI even tried to put the query into it&#39;s own method annotated with `@ActivateRequestContext`, but that doesn&#39;t help either.","title":"Quarkus Reactive Websocket Hibernate Query RequestScoped context was not active","body":"<p>I'm trying to do reactive Hibernate Panache queries on a websocket message in quarkus, but unfortunately, the reactive call just fails (without errors!).\nI now tried to get the result directly via the <code>.await().indefinitely()</code> methods, and now I can actually see an error (surprisingly).</p>\n<pre><code>Exception in thread &quot;Thread-752&quot; java.util.concurrent.CompletionException: javax.enterprise.context.ContextNotActiveException: RequestScoped context was not active when trying to obtain a bean instance for a client proxy of PRODUCER_METHOD bean [class=io.quarkus.hibernate.reactive.runtime.ReactiveSessionProducer, id=404040404040]\n    - you can activate the request context for a specific method using the @ActivateRequestContext interceptor binding\n</code></pre>\n<p>I tried to do what the error message says and annotate pretty much anything I can with <code>@ActivateRequestContext</code>, but it keeps showing this message. I even tried <code>Panache.withTransaction</code> (even though I only need to do a query and no updates) or using a injected <code>Mutinity.SessionFactory</code>, but it keeps failing.</p>\n<p>My reproduction code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OnMessage\n@ActivateRequestContext\npublic void onMessage(Session session, String message) {\n   // the websocket thread can't be blocked\n   new Thread(() -&gt; {\n      System.out.println(MyHibernateEntity.findAll().firstResult().await().indefinitely());\n   }).start();\n}\n</code></pre>\n<p>I even tried to put the query into it's own method annotated with <code>@ActivateRequestContext</code>, but that doesn't help either.</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686722311,"creation_date":1686722311,"answer_id":76470503,"question_id":76468860,"body_markdown":"You cannot disable meta-data, a Spring Batch job requires a job repository to report its meta-data to. You can use an in-memory database for the job repository like H2, HSQLDB, etc. Otherwise, you can implement `JobRepository` yourself and choose to use something different than a database.","title":"How to disable spring batch 5 metadata table calls or entries","body":"<p>You cannot disable meta-data, a Spring Batch job requires a job repository to report its meta-data to. You can use an in-memory database for the job repository like H2, HSQLDB, etc. Otherwise, you can implement <code>JobRepository</code> yourself and choose to use something different than a database.</p>\n"}],"owner":{"account_id":20281276,"reputation":1,"user_id":14874978,"display_name":"Shailesh Bhatsangave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686722311,"creation_date":1686691796,"question_id":76468860,"body_markdown":"How to disable spring batch metadata table calls or entries in Spring 5 through xml configuration or Java configuration ?\r\n\r\nSpring 5 uses JobRepositoryFactoryBean which uses dataSource for db and it starts creating tables and entries once batch runs. I would like to avoid that creation and entries.","title":"How to disable spring batch 5 metadata table calls or entries","body":"<p>How to disable spring batch metadata table calls or entries in Spring 5 through xml configuration or Java configuration ?</p>\n<p>Spring 5 uses JobRepositoryFactoryBean which uses dataSource for db and it starts creating tables and entries once batch runs. I would like to avoid that creation and entries.</p>\n"},{"tags":["java","android","kotlin","layout","android-softkeyboard"],"comments":[{"owner":{"account_id":3670691,"reputation":1950,"user_id":3057983,"display_name":"JohnH"},"score":0,"creation_date":1687216418,"post_id":76464158,"comment_id":134902843,"body_markdown":"Consider including the applicable HTML, script or code with your question.","body":"Consider including the applicable HTML, script or code with your question."}],"answers":[{"tags":[],"owner":{"account_id":21752129,"reputation":111,"user_id":16057905,"display_name":"Byte Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686658859,"creation_date":1686658859,"answer_id":76464880,"question_id":76464158,"body_markdown":"add this attribute to your Activity in AndoridManifest.xml\r\n \r\n\r\n    android:windowSoftInputMode=&quot;adjustPan&quot;\r\n\r\nJust like below:\r\n\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:windowSoftInputMode=&quot;adjustPan&quot;\r\n        &gt;","title":"How to keep original layout when click show softkey in android","body":"<p>add this attribute to your Activity in AndoridManifest.xml</p>\n<pre><code>android:windowSoftInputMode=&quot;adjustPan&quot;\n</code></pre>\n<p>Just like below:</p>\n<pre><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:exported=&quot;true&quot;\n    android:windowSoftInputMode=&quot;adjustPan&quot;\n    &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686722245,"creation_date":1686722230,"answer_id":76470497,"question_id":76464158,"body_markdown":"add `android:windowSoftInputMode=&quot;adjustPan&quot;` or `android:windowsSoftInputMode=&quot;adjustResize&quot;` in you manifest file.\r\nYou can choose one of them which is most preferable to your activity layout. \r\nFor more details you can refer this answer. [adjustPan or adjustResize][1]\r\n\r\nPlease accept this answer if it solved your problem or was the most helpful in finding your solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17410528/9793289","title":"How to keep original layout when click show softkey in android","body":"<p>add <code>android:windowSoftInputMode=&quot;adjustPan&quot;</code> or <code>android:windowsSoftInputMode=&quot;adjustResize&quot;</code> in you manifest file.\nYou can choose one of them which is most preferable to your activity layout.\nFor more details you can refer this answer. <a href=\"https://stackoverflow.com/a/17410528/9793289\">adjustPan or adjustResize</a></p>\n<p>Please accept this answer if it solved your problem or was the most helpful in finding your solution.</p>\n"}],"owner":{"account_id":24659405,"reputation":67,"user_id":18555779,"display_name":"WilliamVietnam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76464880,"answer_count":2,"score":0,"last_activity_date":1686722245,"creation_date":1686653542,"question_id":76464158,"body_markdown":"After I click edit text to show soft key, layout banner at bottom position layout moved up.\r\nI want to keep origin layout after click show key board in android","title":"How to keep original layout when click show softkey in android","body":"<p>After I click edit text to show soft key, layout banner at bottom position layout moved up.\nI want to keep origin layout after click show key board in android</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686722077,"creation_date":1686722077,"question_id":76470483,"body_markdown":"I have a Spring Boot project with Java 11 which consists of an API to download the zip file which works fine. If I try to hit the API from the Swagger UI it show the option to download the file and when I click on it it downloads the file with a different name without any extension and does not consider the Content-Disposition header. \r\n\r\n    @GetMapping(&quot;/generate-report&quot;)\r\n      public ResponseEntity&lt;Resource&gt; generateReport(\r\n          @RequestParam @Schema(example = &quot;2023-01-01&quot;, description = &quot;Format: yyyy-MM-dd&quot;)\r\n              String startDate,\r\n          @RequestParam @Schema(example = &quot;2023-01-31&quot;, description = &quot;Format: yyyy-MM-dd&quot;)\r\n              String endDate,\r\n          @RequestParam(required = false) @Schema(example = &quot;99&quot;, description = &quot;Project Id&quot;)\r\n              List&lt;Integer&gt; projectIds)\r\n          throws IOException {\r\n        log.info(&quot;Request to generate report with start date: {}, end date: {}, project-id: {}&quot;,\r\n            startDate, endDate, projectIds);\r\n    \r\n        List&lt;String&gt; filenames = reportService.generateReport(startDate, endDate, projectIds);\r\n        String zipFilename = &quot;Report_&quot;\r\n            +\r\n            Instant.now().toString()\r\n                .replace(&quot;:&quot;, &quot;-&quot;)\r\n                .replace(&quot;\\\\.&quot;, &quot;-&quot;)\r\n            +\r\n            &quot;.zip&quot;;\r\n    \r\n        HttpHeaders header = new HttpHeaders();\r\n        header.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + zipFilename);\r\n        header.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\r\n        header.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n        header.add(&quot;Expires&quot;, &quot;0&quot;);\r\n    \r\n        try (ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(zipFilename))) {\r\n          for (String filePath : filenames) {\r\n            File fileToZip = new File(filePath);\r\n            zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\r\n            Files.copy(fileToZip.toPath(), zipOut);\r\n          }\r\n        }\r\n    \r\n        File file = new File(zipFilename);\r\n        long fileLength = file.length();\r\n    \r\n        Path path = Paths.get(file.getAbsolutePath());\r\n        ByteArrayResource resource = new ByteArrayResource(Files.readAllBytes(path));\r\n    \r\n        filenames.add(zipFilename);\r\n        deleteFiles(filenames);\r\n    \r\n        return ResponseEntity.ok()\r\n            .headers(header)\r\n            .contentLength(fileLength)\r\n            .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n            .body(resource);\r\n    \r\n      }\r\n\r\n**openapi.yml**\r\n\r\n    openapi: 3.0.3\r\n    paths:\r\n      /api/generate-report:\r\n        get:\r\n          tags:\r\n            - report-controller\r\n          description: Generate stats report for redmine and download it\r\n          operationId: generateReport\r\n          parameters:\r\n            - name: startDate\r\n              in: query\r\n              description: &quot;Format: yyyy-MM-dd&quot;\r\n              required: true\r\n              schema:\r\n                type: string\r\n                description: &quot;Format: yyyy-MM-dd&quot;\r\n                example: &quot;2023-01-01&quot;\r\n              example: &quot;2023-01-01&quot;\r\n            - name: endDate\r\n              in: query\r\n              description: &quot;Format: yyyy-MM-dd&quot;\r\n              required: true\r\n              schema:\r\n                type: string\r\n                description: &quot;Format: yyyy-MM-dd&quot;\r\n                example: &quot;2023-01-31&quot;\r\n              example: &quot;2023-01-31&quot;\r\n            - name: projectIds\r\n              in: query\r\n              description: Project Id\r\n              required: true\r\n              schema:\r\n                type: string\r\n                description: Project Ids\r\n                example: &quot;99&quot;\r\n              example: &quot;99&quot;\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: On successful processing of request\r\n              content:\r\n                &#39;*/*&#39;:\r\n                  schema:\r\n                    type: string\r\n                    format: binary\r\n              headers:\r\n                Content-Disposition:\r\n                  schema:\r\n                    type: string\r\n                    description: header for file attachment\r\n                    example: attachment; filename=&quot;name.zip&quot; ","title":"Download Zip file from Swagger UI","body":"<p>I have a Spring Boot project with Java 11 which consists of an API to download the zip file which works fine. If I try to hit the API from the Swagger UI it show the option to download the file and when I click on it it downloads the file with a different name without any extension and does not consider the Content-Disposition header.</p>\n<pre><code>@GetMapping(&quot;/generate-report&quot;)\n  public ResponseEntity&lt;Resource&gt; generateReport(\n      @RequestParam @Schema(example = &quot;2023-01-01&quot;, description = &quot;Format: yyyy-MM-dd&quot;)\n          String startDate,\n      @RequestParam @Schema(example = &quot;2023-01-31&quot;, description = &quot;Format: yyyy-MM-dd&quot;)\n          String endDate,\n      @RequestParam(required = false) @Schema(example = &quot;99&quot;, description = &quot;Project Id&quot;)\n          List&lt;Integer&gt; projectIds)\n      throws IOException {\n    log.info(&quot;Request to generate report with start date: {}, end date: {}, project-id: {}&quot;,\n        startDate, endDate, projectIds);\n\n    List&lt;String&gt; filenames = reportService.generateReport(startDate, endDate, projectIds);\n    String zipFilename = &quot;Report_&quot;\n        +\n        Instant.now().toString()\n            .replace(&quot;:&quot;, &quot;-&quot;)\n            .replace(&quot;\\\\.&quot;, &quot;-&quot;)\n        +\n        &quot;.zip&quot;;\n\n    HttpHeaders header = new HttpHeaders();\n    header.add(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + zipFilename);\n    header.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\n    header.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\n    header.add(&quot;Expires&quot;, &quot;0&quot;);\n\n    try (ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(zipFilename))) {\n      for (String filePath : filenames) {\n        File fileToZip = new File(filePath);\n        zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\n        Files.copy(fileToZip.toPath(), zipOut);\n      }\n    }\n\n    File file = new File(zipFilename);\n    long fileLength = file.length();\n\n    Path path = Paths.get(file.getAbsolutePath());\n    ByteArrayResource resource = new ByteArrayResource(Files.readAllBytes(path));\n\n    filenames.add(zipFilename);\n    deleteFiles(filenames);\n\n    return ResponseEntity.ok()\n        .headers(header)\n        .contentLength(fileLength)\n        .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\n        .body(resource);\n\n  }\n</code></pre>\n<p><strong>openapi.yml</strong></p>\n<pre><code>openapi: 3.0.3\npaths:\n  /api/generate-report:\n    get:\n      tags:\n        - report-controller\n      description: Generate stats report for redmine and download it\n      operationId: generateReport\n      parameters:\n        - name: startDate\n          in: query\n          description: &quot;Format: yyyy-MM-dd&quot;\n          required: true\n          schema:\n            type: string\n            description: &quot;Format: yyyy-MM-dd&quot;\n            example: &quot;2023-01-01&quot;\n          example: &quot;2023-01-01&quot;\n        - name: endDate\n          in: query\n          description: &quot;Format: yyyy-MM-dd&quot;\n          required: true\n          schema:\n            type: string\n            description: &quot;Format: yyyy-MM-dd&quot;\n            example: &quot;2023-01-31&quot;\n          example: &quot;2023-01-31&quot;\n        - name: projectIds\n          in: query\n          description: Project Id\n          required: true\n          schema:\n            type: string\n            description: Project Ids\n            example: &quot;99&quot;\n          example: &quot;99&quot;\n      responses:\n        '200':\n          description: On successful processing of request\n          content:\n            '*/*':\n              schema:\n                type: string\n                format: binary\n          headers:\n            Content-Disposition:\n              schema:\n                type: string\n                description: header for file attachment\n                example: attachment; filename=&quot;name.zip&quot; \n</code></pre>\n"},{"tags":["java","eclipse","ide","hierarchy","developer-tools"],"owner":{"account_id":26028769,"reputation":1,"user_id":19735325,"display_name":"suraj mali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686721769,"creation_date":1686721769,"question_id":76470458,"body_markdown":"Everytime I try to run my project on Eclipse it shows progress information Creating type hierarchy on  and its takes so much time to run please give me solution to stop this and run my project without waiting [progress information creating type heirarchy on](https://i.stack.imgur.com/84afv.jpg)\r\n\r\nResolve my issue to wait for running my project","title":"Everytime I try to run my project on Eclipse it shows progress information Creating type hierarchy on and its takes so much time to run","body":"<p>Everytime I try to run my project on Eclipse it shows progress information Creating type hierarchy on  and its takes so much time to run please give me solution to stop this and run my project without waiting <a href=\"https://i.stack.imgur.com/84afv.jpg\" rel=\"nofollow noreferrer\">progress information creating type heirarchy on</a></p>\n<p>Resolve my issue to wait for running my project</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1387364187,"post_id":20655958,"comment_id":30923953,"body_markdown":"So.. you should read it... and not display it???","body":"So.. you should read it... and not display it???"},{"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"score":0,"creation_date":1387364249,"post_id":20655958,"comment_id":30924000,"body_markdown":"When you print the answer check for &#39;0&#39; and ignore them.","body":"When you print the answer check for &#39;0&#39; and ignore them."},{"owner":{"account_id":362767,"reputation":2017,"user_id":706130,"accept_rate":100,"display_name":"Andreas"},"score":0,"creation_date":1387378879,"post_id":20655958,"comment_id":30933566,"body_markdown":"You may want to define a constant variable with value 5 for your while loop (or simply replace sid.length with the number 5, since your not using it anywhere else). Not a huge difference, but it is slightly more efficient than having to check for the length of the array each time (since the size of the array remains the same)","body":"You may want to define a constant variable with value 5 for your while loop (or simply replace sid.length with the number 5, since your not using it anywhere else). Not a huge difference, but it is slightly more efficient than having to check for the length of the array each time (since the size of the array remains the same)"}],"answers":[{"tags":[],"owner":{"account_id":3225359,"reputation":6722,"user_id":2721865,"accept_rate":100,"display_name":"kai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1387363757,"creation_date":1387363757,"answer_id":20656073,"question_id":20655958,"body_markdown":"You only have to add an if condition to your output loop.\r\n\r\n\t            for (int i =0;  i &lt; x; i++) {\r\n\t            \tif(sid[i]!=0)\r\n\t            \t\tSystem.out.print(sid[i] +&quot; &quot;);\r\n\t            }","title":"using an Array to display user inputed values hav","body":"<p>You only have to add an if condition to your output loop.</p>\n\n<pre><code>            for (int i =0;  i &lt; x; i++) {\n                if(sid[i]!=0)\n                    System.out.print(sid[i] +\" \");\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2971110,"reputation":14744,"user_id":2523147,"accept_rate":38,"display_name":"prime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387364419,"creation_date":1387364419,"answer_id":20656294,"question_id":20655958,"body_markdown":"When you print the answer check for &#39;0&#39; and ignore them. or else decrements x when you found out the current number is a duplicate.\r\n\r\n\r\n     for (int i = 0; i &lt; sid.length; i++) \r\n                 {   if (sid[i] == num)     \r\n                     digit = true;\r\n                     x--;\r\n                 }  \r\n\r\nor \r\n\r\n     for (int i =0;  i &lt; x; i++) {\r\n                if(sid[i]!=0)\r\n                    System.out.print(sid[i] +&quot; &quot;);\r\n            }\r\n\r\n\r\nAnd if it is not necessary to use arrays you can use `Sets`. Then It would be much easier.","title":"using an Array to display user inputed values hav","body":"<p>When you print the answer check for '0' and ignore them. or else decrements x when you found out the current number is a duplicate.</p>\n\n<pre><code> for (int i = 0; i &lt; sid.length; i++) \n             {   if (sid[i] == num)     \n                 digit = true;\n                 x--;\n             }  \n</code></pre>\n\n<p>or </p>\n\n<pre><code> for (int i =0;  i &lt; x; i++) {\n            if(sid[i]!=0)\n                System.out.print(sid[i] +\" \");\n        }\n</code></pre>\n\n<p>And if it is not necessary to use arrays you can use <code>Sets</code>. Then It would be much easier.</p>\n"},{"tags":[],"owner":{"account_id":17278167,"reputation":1,"user_id":12512374,"display_name":"Justice Kelvin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575996411,"creation_date":1575990348,"answer_id":59270177,"question_id":20655958,"body_markdown":" Put the x increment (`x++`) in the `if (!digit)`\r\n\r\n```\r\nif (!digit) {\r\n\r\n    sid[count] = num;\r\n\r\n    count++;\r\n\r\n    x++;\r\n}\r\n```\r\n\r\nremove the x-increment (`x++`) from the if statement below\r\n\r\n```\r\nif ((num &gt;= 10) &amp;&amp; (num &lt;= 100)) {\r\n    boolean digit = false;\r\n    x++;\r\n}\r\n```\r\nthat way the zeros are eliminated and the program still runs no matter the number of duplicates tried.","title":"using an Array to display user inputed values hav","body":"<p>Put the x increment (<code>x++</code>) in the <code>if (!digit)</code></p>\n\n<pre><code>if (!digit) {\n\n    sid[count] = num;\n\n    count++;\n\n    x++;\n}\n</code></pre>\n\n<p>remove the x-increment (<code>x++</code>) from the if statement below</p>\n\n<pre><code>if ((num &gt;= 10) &amp;&amp; (num &lt;= 100)) {\n    boolean digit = false;\n    x++;\n}\n</code></pre>\n\n<p>that way the zeros are eliminated and the program still runs no matter the number of duplicates tried.</p>\n"},{"tags":[],"owner":{"account_id":22900420,"reputation":11,"user_id":17039223,"display_name":"Sachintha Dilshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686720816,"creation_date":1686720816,"answer_id":76470383,"question_id":20655958,"body_markdown":"    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    class Example{\r\n        public static void main(String args[]){\r\n            Scanner scanner = new Scanner(System.in);\r\n            int[] numbers = new int[5];\r\n    \r\n            int uCount = 0; //number of unique entries\r\n            int entered = 0; //number of entered entries\r\n            int num = 0;\r\n    \r\n            while(uCount&lt;numbers.length){\r\n                System.out.println(&quot;Enter number &quot;+uCount);\r\n                num = scanner.nextInt();\r\n                if (num&gt;=10 | num&lt;=100){\r\n                    boolean isRepeat = false;\r\n                    entered++;\r\n    \r\n                    for (int i = 0; i &lt; numbers.length; i++) {\r\n                        if(numbers[i]==num) isRepeat = true;\r\n                    }\r\n                    if(!isRepeat){\r\n                        numbers[uCount] = num;\r\n                        uCount++;\r\n                    }\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Number should be between 10 and 100&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;Array is &quot;+ Arrays.toString(numbers));\r\n        }\r\n    }","title":"using an Array to display user inputed values hav","body":"<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\nclass Example{\n    public static void main(String args[]){\n        Scanner scanner = new Scanner(System.in);\n        int[] numbers = new int[5];\n\n        int uCount = 0; //number of unique entries\n        int entered = 0; //number of entered entries\n        int num = 0;\n\n        while(uCount&lt;numbers.length){\n            System.out.println(&quot;Enter number &quot;+uCount);\n            num = scanner.nextInt();\n            if (num&gt;=10 | num&lt;=100){\n                boolean isRepeat = false;\n                entered++;\n\n                for (int i = 0; i &lt; numbers.length; i++) {\n                    if(numbers[i]==num) isRepeat = true;\n                }\n                if(!isRepeat){\n                    numbers[uCount] = num;\n                    uCount++;\n                }\n            }\n            else {\n                System.out.println(&quot;Number should be between 10 and 100&quot;);\n            }\n        }\n        System.out.println(&quot;Array is &quot;+ Arrays.toString(numbers));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3746144,"reputation":45,"user_id":3114770,"display_name":"user3114770"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7574,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":20656073,"answer_count":4,"score":0,"last_activity_date":1686720816,"creation_date":1387363436,"question_id":20655958,"body_markdown":"i have an assignment , i have been working on it all day, i finished it, and it works, but not in the way my teacher wants it, i have been racking my brain for hours without any luck\r\n\r\nthis is the assignment question  \r\n\r\n&quot;write a program that inputs five each of which is between 10 and 100 inclusive,as each number i read, display it only if it is not a duplicate number already read, provide for the &quot;worst case,&quot; in which all five numbers are different, use the smallest possible array to solve this problem. Display the complete set of unique values input after the user inputs each new value.&quot;\r\n\r\nthis is the code i wrote \r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t Scanner input = new Scanner(System.in);\r\n\t\t\tint sid[] = new int[5];\r\n\t\t \r\n\t\t\tint count = 0; \r\n\t\t\tint x = 0;\r\n\t\t\tint num = 0;\r\n\t\t \r\n\t\t\twhile (x &lt; sid.length) \r\n\t\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Enter number: &quot;);\r\n\t\t\t\tnum = input.nextInt();\r\n\t\t \r\n\t\t\t\tif ((num &gt;= 10) &amp;&amp; (num &lt;= 100)) {\r\n\t\t\t\t\tboolean digit = false;\r\n\t\t\t\t\tx++;\r\n\t\t \r\n\t\t\t\t\tfor (int i = 0; i &lt; sid.length; i++) \r\n\t\t\t\t\t {   if (sid[i] == num)\t\t\r\n\t\t\t\t\t\t digit = true;\r\n\t\t\t\t\t }\t\r\n\t\t \r\n\t\t\t\tif (!digit) {\r\n\r\n\t\t\t\t\t\tsid[count] = num;\r\n\t\t \r\n\t\t\t\t\t\tcount++;\r\n\t\t \r\n\t\t\t\t} \r\n\t\t \r\n\t\t\t\t\telse\r\n\t\t \r\n\t\t\t\t\tSystem.out.printf(&quot;the number was entered before \\n&quot;);\r\n\t\t \r\n\t\t\t     \t      }\r\n\t\t \r\n\t\t\t\t  else\r\n\t\t\t\t   System.out.println(&quot;number must be between 10 and 100&quot;);\r\n\t\t \r\n\t\t\t\t\r\n\t\t\t\tfor (int i =0;  i &lt; x; i++) {\r\n\t\t\t\t\tSystem.out.print(sid[i] +&quot; &quot;);\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tSystem.out.println();  \r\n\t\t\t} \r\n\t\t\t\r\n\t\t    } \r\n\t\t} \r\n\r\n\r\nmy problem is in the output the output is like this\r\n\r\n\t\t\r\n\t\t{\r\n\t\t\tEnter number: \r\n\t\t\t\t11\r\n\t\t\t\t11 \r\n\t\t\t\tEnter number: \r\n\t\t\t\t21\r\n\t\t\t\t11 21 \r\n\t\t\t\tEnter number: \r\n\t\t\t\t34\r\n\t\t\t\t11 21 34 \r\n\t\t\t\tEnter number: \r\n\t\t\t\t11\r\n\t\t\t\tthe number was entered before\r\n\t\t\t\t11 21 34 0 \r\n\t\t\t\tEnter number: \r\n\t\t\t\t44\r\n\t\t\t\t11 21 34 44 0\r\n\r\n\t}\r\n\r\nBut my teacher wants the output too look like this, without the 0&#39;s at the end, and without changing the value of the array sid from sid[5] to sid[4]\r\n\t\t\r\n\t\t{\r\n\t\t\tEnter number: \r\n\t\t\t\t11\r\n\t\t\t\t11 \r\n\t\t\t\tEnter number: \r\n\t\t\t\t21\r\n\t\t\t\t11 21 \r\n\t\t\t\tEnter number: \r\n\t\t\t\t34\r\n\t\t\t\t11 21 34 \r\n\t\t\t\tEnter number: \r\n\t\t\t\t11\r\n\t\t\t\tthe number was entered before\r\n\t\t\t\t11 21 34  \r\n\t\t\t\tEnter number: \r\n\t\t\t\t44\r\n\t\t\t\t11 21 34 44 \r\n\r\n\t}\r\n\r\n\r\ni have been trying for hours now without any luck.\r\n\r\nANY help is appreciated.\r\n\r\nThank you.\r\n\r\ncheers.\r\n\r\n\r\n\r\n","title":"using an Array to display user inputed values hav","body":"<p>i have an assignment , i have been working on it all day, i finished it, and it works, but not in the way my teacher wants it, i have been racking my brain for hours without any luck</p>\n\n<p>this is the assignment question  </p>\n\n<p>\"write a program that inputs five each of which is between 10 and 100 inclusive,as each number i read, display it only if it is not a duplicate number already read, provide for the \"worst case,\" in which all five numbers are different, use the smallest possible array to solve this problem. Display the complete set of unique values input after the user inputs each new value.\"</p>\n\n<p>this is the code i wrote </p>\n\n<pre><code>public static void main(String[] args) {\n     Scanner input = new Scanner(System.in);\n        int sid[] = new int[5];\n\n        int count = 0; \n        int x = 0;\n        int num = 0;\n\n        while (x &lt; sid.length) \n            {\n            System.out.println(\"Enter number: \");\n            num = input.nextInt();\n\n            if ((num &gt;= 10) &amp;&amp; (num &lt;= 100)) {\n                boolean digit = false;\n                x++;\n\n                for (int i = 0; i &lt; sid.length; i++) \n                 {   if (sid[i] == num)     \n                     digit = true;\n                 }  \n\n            if (!digit) {\n\n                    sid[count] = num;\n\n                    count++;\n\n            } \n\n                else\n\n                System.out.printf(\"the number was entered before \\n\");\n\n                      }\n\n              else\n               System.out.println(\"number must be between 10 and 100\");\n\n\n            for (int i =0;  i &lt; x; i++) {\n                System.out.print(sid[i] +\" \");\n\n            }\n\n            System.out.println();  \n        } \n\n        } \n    } \n</code></pre>\n\n<p>my problem is in the output the output is like this</p>\n\n<pre><code>    {\n        Enter number: \n            11\n            11 \n            Enter number: \n            21\n            11 21 \n            Enter number: \n            34\n            11 21 34 \n            Enter number: \n            11\n            the number was entered before\n            11 21 34 0 \n            Enter number: \n            44\n            11 21 34 44 0\n\n}\n</code></pre>\n\n<p>But my teacher wants the output too look like this, without the 0's at the end, and without changing the value of the array sid from sid[5] to sid[4]</p>\n\n<pre><code>    {\n        Enter number: \n            11\n            11 \n            Enter number: \n            21\n            11 21 \n            Enter number: \n            34\n            11 21 34 \n            Enter number: \n            11\n            the number was entered before\n            11 21 34  \n            Enter number: \n            44\n            11 21 34 44 \n\n}\n</code></pre>\n\n<p>i have been trying for hours now without any luck.</p>\n\n<p>ANY help is appreciated.</p>\n\n<p>Thank you.</p>\n\n<p>cheers.</p>\n"},{"tags":["java","spring-boot","open-telemetry"],"comments":[{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":0,"creation_date":1686588396,"post_id":76441058,"comment_id":134816239,"body_markdown":"are you using opentelemetry-javaagent? or opentelemetry-spring-boot-starter?","body":"are you using opentelemetry-javaagent? or opentelemetry-spring-boot-starter?"},{"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"score":0,"creation_date":1686648582,"post_id":76441058,"comment_id":134824495,"body_markdown":"I am able to use this using java agent extensions.","body":"I am able to use this using java agent extensions."}],"answers":[{"tags":[],"owner":{"account_id":12629406,"reputation":1,"user_id":9181484,"display_name":"ElectronKnight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686324820,"creation_date":1686324525,"answer_id":76441679,"question_id":76441058,"body_markdown":"From code, I think you are trying to test if the configuration successful.\r\n\r\nIf you **just** write the code you showed, you \r\n1. **register** the *OtelConfig* in Spring.\r\n\r\n2. If you want Spring call the method you wrote, you should in somewhere **inject** the bean and call the method.\r\n \r\nA bean will **NOT** automaticlly called/used by Spring.\r\n\r\nYou can\r\n1. In your application configuration, use ApplicationContext and getBean().\r\n\r\n2.  You should use @Autowired to inject the OtelConfig class which implements Provider interface, and then call the method through a Manager class. \r\nJust like this [Spring Security Authentication Provider][1].\r\nThis may contain in the tutorial of Otel, I quickly glance it, and not find the similar content.\r\n\r\n3. You can write a unit test for the class, but I think the step will like what mentioned in 2.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-security-authentication-provider","title":"Customize configuration in spring boot java using open telemetry automatic instrumentation","body":"<p>From code, I think you are trying to test if the configuration successful.</p>\n<p>If you <strong>just</strong> write the code you showed, you</p>\n<ol>\n<li><p><strong>register</strong> the <em>OtelConfig</em> in Spring.</p>\n</li>\n<li><p>If you want Spring call the method you wrote, you should in somewhere <strong>inject</strong> the bean and call the method.</p>\n</li>\n</ol>\n<p>A bean will <strong>NOT</strong> automaticlly called/used by Spring.</p>\n<p>You can</p>\n<ol>\n<li><p>In your application configuration, use ApplicationContext and getBean().</p>\n</li>\n<li><p>You should use @Autowired to inject the OtelConfig class which implements Provider interface, and then call the method through a Manager class.\nJust like this <a href=\"https://www.baeldung.com/spring-security-authentication-provider\" rel=\"nofollow noreferrer\">Spring Security Authentication Provider</a>.\nThis may contain in the tutorial of Otel, I quickly glance it, and not find the similar content.</p>\n</li>\n<li><p>You can write a unit test for the class, but I think the step will like what mentioned in 2.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686720241,"creation_date":1686720241,"answer_id":76470340,"question_id":76441058,"body_markdown":" I am able to use this using Java agent extensions. Please refer [this][1] for more info.\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension","title":"Customize configuration in spring boot java using open telemetry automatic instrumentation","body":"<p>I am able to use this using Java agent extensions. Please refer <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension\" rel=\"nofollow noreferrer\">this</a> for more info.</p>\n"}],"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76470340,"answer_count":2,"score":0,"last_activity_date":1686720241,"creation_date":1686319742,"question_id":76441058,"body_markdown":"I am trying to customize otel configuration pragmatically and used the following code:\r\n\r\n    @Configuration\r\n    public class OtelConfig implements AutoConfigurationCustomizerProvider {\r\n    \r\n            @Override\r\n            public void customize(AutoConfigurationCustomizer provider) {\r\n                System.out.println(&quot;Setting OtelConfig&quot;);\r\n                provider.addPropertiesSupplier(new Supplier&lt;Map&lt;String, String&gt;&gt;() {\r\n                    @Override\r\n                    public Map&lt;String, String&gt; get() {\r\n                        System.out.println(&quot;Setting OtelConfig&quot;);\r\n                        Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n                       // properties.put(&quot;otel.trace.sampler&quot;, &quot;always&quot;);\r\n                        properties.put(&quot;otel.exporter.jaeger.endpoint&quot;, &quot;http://localhost:14250&quot;);\r\n                        return properties;\r\n                    }\r\n                });\r\n            }\r\n    \r\n    }\r\n\r\n But spring is not calling this method. Not sure what I am missing here.","title":"Customize configuration in spring boot java using open telemetry automatic instrumentation","body":"<p>I am trying to customize otel configuration pragmatically and used the following code:</p>\n<pre><code>@Configuration\npublic class OtelConfig implements AutoConfigurationCustomizerProvider {\n\n        @Override\n        public void customize(AutoConfigurationCustomizer provider) {\n            System.out.println(&quot;Setting OtelConfig&quot;);\n            provider.addPropertiesSupplier(new Supplier&lt;Map&lt;String, String&gt;&gt;() {\n                @Override\n                public Map&lt;String, String&gt; get() {\n                    System.out.println(&quot;Setting OtelConfig&quot;);\n                    Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n                   // properties.put(&quot;otel.trace.sampler&quot;, &quot;always&quot;);\n                    properties.put(&quot;otel.exporter.jaeger.endpoint&quot;, &quot;http://localhost:14250&quot;);\n                    return properties;\n                }\n            });\n        }\n\n}\n</code></pre>\n<p>But spring is not calling this method. Not sure what I am missing here.</p>\n"},{"tags":["java","spring","spring-test"],"comments":[{"owner":{"account_id":16025918,"reputation":4676,"user_id":11566161,"display_name":"Shri Hari L"},"score":0,"creation_date":1686721321,"post_id":76470310,"comment_id":134836136,"body_markdown":"Does this answer your question? [java.lang.ClassNotFoundException: org.springframework.core.io.Resource](https://stackoverflow.com/questions/24259508/java-lang-classnotfoundexception-org-springframework-core-io-resource)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24259508/java-lang-classnotfoundexception-org-springframework-core-io-resource\">java.lang.ClassNotFoundException: org.springframework.core.io.Resource</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686723313,"post_id":76470310,"comment_id":134836389,"body_markdown":"If you get that you are mixing jars from differnt versions of Spring. Post your build file.","body":"If you get that you are mixing jars from differnt versions of Spring. Post your build file."},{"owner":{"account_id":19582383,"reputation":33,"user_id":14331146,"display_name":"Saintka"},"score":0,"creation_date":1686723687,"post_id":76470310,"comment_id":134836452,"body_markdown":"@M.Deinum if uprade spring-ws-core from 2.4.0 to 3.1.1 and need upgrade Spring Security (use guide https://spring.io/blog/2021/05/20/spring-web-services-3-1-1-is-out) build UNIT test is complete.","body":"@M.Deinum if uprade spring-ws-core from 2.4.0 to 3.1.1 and need upgrade Spring Security (use guide <a href=\"https://spring.io/blog/2021/05/20/spring-web-services-3-1-1-is-out\" rel=\"nofollow noreferrer\">spring.io/blog/2021/05/20/spring-web-services-3-1-1-is-out</a>) build UNIT test is complete."},{"owner":{"account_id":19582383,"reputation":33,"user_id":14331146,"display_name":"Saintka"},"score":0,"creation_date":1686723886,"post_id":76470310,"comment_id":134836487,"body_markdown":"Need to check the launch of applications on the server","body":"Need to check the launch of applications on the server"},{"owner":{"account_id":19582383,"reputation":33,"user_id":14331146,"display_name":"Saintka"},"score":0,"creation_date":1686724024,"post_id":76470310,"comment_id":134836514,"body_markdown":"@ShriHariL no, i saw this question","body":"@ShriHariL no, i saw this question"}],"owner":{"account_id":19582383,"reputation":33,"user_id":14331146,"display_name":"Saintka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686719850,"creation_date":1686719850,"question_id":76470310,"body_markdown":"I upgrade spring framework version form 5.2.x to 5.3.x and get eror when running tests\r\n\r\n    java.lang.NoClassDefFoundError: org/springframework/core/io/support/ResourcePropertiesPersister\r\n\r\nHow fix this problem?","title":"java.lang.NoClassDefFoundError: org/springframework/core/io/support/ResourcePropertiesPersister","body":"<p>I upgrade spring framework version form 5.2.x to 5.3.x and get eror when running tests</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/core/io/support/ResourcePropertiesPersister\n</code></pre>\n<p>How fix this problem?</p>\n"},{"tags":["java","java-8","nio"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1686720446,"post_id":76470293,"comment_id":134836037,"body_markdown":"Some process is accessing the file you want to delete and Windows prevents the deletion. You need to [find out which process is locking a file or folder in Windows](https://superuser.com/questions/117902/find-out-which-process-is-locking-a-file-or-folder-in-windows) and either terminate that process or make it release the file in some other way. (Perhaps you have opened the .jar file in some explorer or archive manager or it is used by some JVM instance?)","body":"Some process is accessing the file you want to delete and Windows prevents the deletion. You need to <a href=\"https://superuser.com/questions/117902/find-out-which-process-is-locking-a-file-or-folder-in-windows\">find out which process is locking a file or folder in Windows</a> and either terminate that process or make it release the file in some other way. (Perhaps you have opened the .jar file in some explorer or archive manager or it is used by some JVM instance?)"},{"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"score":0,"creation_date":1686721394,"post_id":76470293,"comment_id":134836142,"body_markdown":"This is happening even in Linux machine also.","body":"This is happening even in Linux machine also."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686726861,"post_id":76470293,"comment_id":134837064,"body_markdown":"What&#39;s in C:\\ProgramData\\XYZ\\FileManager\\local\\work\\2b5f439e-cb80-4be9-a4ff-c7c796ba\\test.1.0.jar?","body":"What&#39;s in C:\\ProgramData\\XYZ\\FileManager\\local\\work\\2b5f439e-cb80-4be9&zwnj;&#8203;-a4ff-c7c796ba\\test.&zwnj;&#8203;1.0.jar?"}],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686719477,"creation_date":1686719477,"question_id":76470293,"body_markdown":"When I&#39;m trying to delete files very few files in the same directory get access issues as below in error logs. There are 8 files in that directory but only 2 files are not able to delete and throwing the below error. Find the below code sample, anything I am missing?\r\n\r\nCode Sample:-\r\n\r\n    public class ExtraFileCleaner implements AutoCloseable {\r\n        \r\n        private static final ExecutorService EXE_SERVICE = Executors.newFixedThreadPool(1);\r\n        \r\n        protected ExtraFileCleaner() {\r\n            //TODO\r\n        }\r\n    \r\n        public void deleteFilePath(final Path path) {\r\n            if (path != null &amp;&amp; Files.exists(path) &amp;&amp; Files.isWritable(path)) {\r\n                EXE_SERVICE.submit(() -&gt; {\r\n                    try {\r\n                        Files.walkFileTree(path, new DeletingFileVistor());\r\n                    } catch (NoSuchFileException e) {\r\n                        log.debug(&quot;Path does not exist: &quot; + path);\r\n                    } catch (IOException e) {\r\n                        log.warn(&quot;Delete failed: {} &quot;, e.getMessage());\r\n                    }\r\n                });\r\n            }\r\n        }  \r\n         \r\n           \r\n    \r\n        @Override\r\n        public void close() throws InterruptedException {\r\n            DELETE_SERVICE.shutdown();\r\n            if (!EXE_SERVICE.awaitTermination(1 * 60 * 1000, TimeUnit.MILLISECONDS)) {\r\n                EXE_SERVICE.shutdownNow();\r\n            }       \r\n        }\r\n        \r\n        public static class DeletingFileVistor extends SimpleFileVisitor&lt;Path&gt; {\r\n                                    \r\n            @Override\r\n            public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\r\n            \tlog.info(&quot;visitFile: {}&quot;, path.toString());\r\n                return visit(path);\r\n            }\r\n    \r\n            @Override\r\n            public FileVisitResult postVisitDirectory(Path path, IOException exc) throws IOException {\r\n            \tlog.info(&quot;POSTvisitFile: {}&quot;, path.toString());\r\n                return visit(path);\r\n            }\r\n            \r\n            private FileVisitResult visit(Path path) {\r\n                FibonacciDelay delay = new FibonacciDelay();\r\n                for (int attempt = 0; attempt &lt; delay.getMaxAttempts(); attempt++) {\r\n                    try {\r\n                        Files.deleteIfExists(path);\r\n                        log.info(&quot;Deleted: {}&quot;, path.toString());\r\n                        break;\r\n                    } catch (IOException e) {\r\n                        String msg = e.getMessage();\r\n                        \r\n                        log.info(&quot;exception-2 {}&quot;, msg);\r\n                        if (e instanceof FileSystemException &amp;&amp; msg != null &amp;&amp; msg.contains(&quot;The process cannot access the file because it is being used by another process&quot;)) {\r\n                            log.debug(&quot;File is in use: {}&quot;, path.toString());\r\n                        } else {\r\n                            log.debug(&quot;{}: {}&quot;, new Object[]{e.getClass().getSimpleName(), e.getMessage()});\r\n                        }\r\n                        delay.doWait(attempt);   \r\n                    }\r\n                    if (attempt == delay.getMaxAttempts() - 1) {\r\n                        log.warn(&quot;Delete aborted: {}&quot;, path.toString());\r\n                    }\r\n                }\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        }\r\n        \r\n       \r\n    }\r\n\r\nI getting this below error :\r\n\r\n    java.nio.file.FileSystemException: C:\\ProgramData\\XYZ\\FileManager\\local\\work\\2b5f439e-cb80-4be9-a4ff-c7c796ba\\test.1.0.jar: The process cannot access the file because it is being used by another process.\r\n    \r\n    \tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92)\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n    \tat java.base/sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:274)\r\n    \tat java.base/sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:110)\r\n    \tat java.base/java.nio.file.Files.deleteIfExists(Files.java:1181)\r\n    \tat com.zyz.abc.file.WorkDirectoryCleaner$DeletingFileVistor.visit(WorkDirectoryCleaner.java:110)\r\n    \tat com.zyz.abc.file.WorkDirectoryCleaner$DeletingFileVistor.visitFile(WorkDirectoryCleaner.java:98)\r\n    \tat com.zyz.abc.file.WorkDirectoryCleaner$DeletingFileVistor.visitFile(WorkDirectoryCleaner.java:94)\r\n    \tat java.base/java.nio.file.Files.walkFileTree(Files.java:2725)\r\n    \tat java.base/java.nio.file.Files.walkFileTree(Files.java:2797)\r\n    \tat com.zyz.abc.file.WorkDirectoryCleaner.lambda$deletePath$0(WorkDirectoryCleaner.java:40)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)","title":"Using Java deleting files with walkFileTree and SimpleFileVisitor - FileSystemException","body":"<p>When I'm trying to delete files very few files in the same directory get access issues as below in error logs. There are 8 files in that directory but only 2 files are not able to delete and throwing the below error. Find the below code sample, anything I am missing?</p>\n<p>Code Sample:-</p>\n<pre><code>public class ExtraFileCleaner implements AutoCloseable {\n    \n    private static final ExecutorService EXE_SERVICE = Executors.newFixedThreadPool(1);\n    \n    protected ExtraFileCleaner() {\n        //TODO\n    }\n\n    public void deleteFilePath(final Path path) {\n        if (path != null &amp;&amp; Files.exists(path) &amp;&amp; Files.isWritable(path)) {\n            EXE_SERVICE.submit(() -&gt; {\n                try {\n                    Files.walkFileTree(path, new DeletingFileVistor());\n                } catch (NoSuchFileException e) {\n                    log.debug(&quot;Path does not exist: &quot; + path);\n                } catch (IOException e) {\n                    log.warn(&quot;Delete failed: {} &quot;, e.getMessage());\n                }\n            });\n        }\n    }  \n     \n       \n\n    @Override\n    public void close() throws InterruptedException {\n        DELETE_SERVICE.shutdown();\n        if (!EXE_SERVICE.awaitTermination(1 * 60 * 1000, TimeUnit.MILLISECONDS)) {\n            EXE_SERVICE.shutdownNow();\n        }       \n    }\n    \n    public static class DeletingFileVistor extends SimpleFileVisitor&lt;Path&gt; {\n                                \n        @Override\n        public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\n            log.info(&quot;visitFile: {}&quot;, path.toString());\n            return visit(path);\n        }\n\n        @Override\n        public FileVisitResult postVisitDirectory(Path path, IOException exc) throws IOException {\n            log.info(&quot;POSTvisitFile: {}&quot;, path.toString());\n            return visit(path);\n        }\n        \n        private FileVisitResult visit(Path path) {\n            FibonacciDelay delay = new FibonacciDelay();\n            for (int attempt = 0; attempt &lt; delay.getMaxAttempts(); attempt++) {\n                try {\n                    Files.deleteIfExists(path);\n                    log.info(&quot;Deleted: {}&quot;, path.toString());\n                    break;\n                } catch (IOException e) {\n                    String msg = e.getMessage();\n                    \n                    log.info(&quot;exception-2 {}&quot;, msg);\n                    if (e instanceof FileSystemException &amp;&amp; msg != null &amp;&amp; msg.contains(&quot;The process cannot access the file because it is being used by another process&quot;)) {\n                        log.debug(&quot;File is in use: {}&quot;, path.toString());\n                    } else {\n                        log.debug(&quot;{}: {}&quot;, new Object[]{e.getClass().getSimpleName(), e.getMessage()});\n                    }\n                    delay.doWait(attempt);   \n                }\n                if (attempt == delay.getMaxAttempts() - 1) {\n                    log.warn(&quot;Delete aborted: {}&quot;, path.toString());\n                }\n            }\n            return FileVisitResult.CONTINUE;\n        }\n    }\n    \n   \n}\n</code></pre>\n<p>I getting this below error :</p>\n<pre><code>java.nio.file.FileSystemException: C:\\ProgramData\\XYZ\\FileManager\\local\\work\\2b5f439e-cb80-4be9-a4ff-c7c796ba\\test.1.0.jar: The process cannot access the file because it is being used by another process.\n\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:274)\n    at java.base/sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:110)\n    at java.base/java.nio.file.Files.deleteIfExists(Files.java:1181)\n    at com.zyz.abc.file.WorkDirectoryCleaner$DeletingFileVistor.visit(WorkDirectoryCleaner.java:110)\n    at com.zyz.abc.file.WorkDirectoryCleaner$DeletingFileVistor.visitFile(WorkDirectoryCleaner.java:98)\n    at com.zyz.abc.file.WorkDirectoryCleaner$DeletingFileVistor.visitFile(WorkDirectoryCleaner.java:94)\n    at java.base/java.nio.file.Files.walkFileTree(Files.java:2725)\n    at java.base/java.nio.file.Files.walkFileTree(Files.java:2797)\n    at com.zyz.abc.file.WorkDirectoryCleaner.lambda$deletePath$0(WorkDirectoryCleaner.java:40)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","node.js","express","jwt","express-jwt"],"answers":[{"tags":[],"owner":{"account_id":2812217,"reputation":5723,"user_id":2418224,"display_name":"juzraai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1598821967,"creation_date":1598820331,"answer_id":63661974,"question_id":63661915,"body_markdown":"With the curly brackets\r\n\r\n    const { expressJwt } = require(&#39;express-jwt&#39;);\r\n          ^            ^\r\n\r\nyou are trying to do *object destructuring*, which looks for a field named `expressJwt` in the object exported by `express-jwt` module. But according to the error message that object doesn&#39;t have such field.\r\n\r\nAs per [`express-jwt`&#39;s documentation](https://www.npmjs.com/package/express-jwt#usage), you don&#39;t need destructuring but to simply assign the exported object into a variable, so try the following form (without curly brackets):\r\n\r\n\r\n    const expressJwt = require(&#39;express-jwt&#39;);","title":"TypeError: expressJwt is not a function","body":"<p>With the curly brackets</p>\n<pre><code>const { expressJwt } = require('express-jwt');\n      ^            ^\n</code></pre>\n<p>you are trying to do <em>object destructuring</em>, which looks for a field named <code>expressJwt</code> in the object exported by <code>express-jwt</code> module. But according to the error message that object doesn't have such field.</p>\n<p>As per <a href=\"https://www.npmjs.com/package/express-jwt#usage\" rel=\"noreferrer\"><code>express-jwt</code>'s documentation</a>, you don't need destructuring but to simply assign the exported object into a variable, so try the following form (without curly brackets):</p>\n<pre><code>const expressJwt = require('express-jwt');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8736804,"reputation":41,"user_id":6535167,"display_name":"Hasham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598820380,"creation_date":1598820380,"answer_id":63661981,"question_id":63661915,"body_markdown":"Reference to the [readme](https://github.com/auth0/express-jwt).\r\n\r\nIf I am not mistaken the right function is named jwt\r\n```\r\n//const { expressJwt } = require(&#39;express-jwt&#39;);\r\n\r\n//use this \r\nvar jwt = require(&#39;express-jwt&#39;);\r\n```","title":"TypeError: expressJwt is not a function","body":"<p>Reference to the <a href=\"https://github.com/auth0/express-jwt\" rel=\"nofollow noreferrer\">readme</a>.</p>\n<p>If I am not mistaken the right function is named jwt</p>\n<pre><code>//const { expressJwt } = require('express-jwt');\n\n//use this \nvar jwt = require('express-jwt');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18791277,"reputation":1,"user_id":13703652,"display_name":"Mohsin Bilal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651600434,"creation_date":1651594618,"answer_id":72102427,"question_id":63661915,"body_markdown":"I tried all the possible solution found on multiple programming forums, but nothing worked, so I just downgrade my `express-jwt` version to `5.3.1` and it start working perfectly, so it means error is in new update, just uninstall current version with `npm uninstall express-jwt` and install again `npm I express-jwt@5.3.1`, it will help.","title":"TypeError: expressJwt is not a function","body":"<p>I tried all the possible solution found on multiple programming forums, but nothing worked, so I just downgrade my <code>express-jwt</code> version to <code>5.3.1</code> and it start working perfectly, so it means error is in new update, just uninstall current version with <code>npm uninstall express-jwt</code> and install again <code>npm I express-jwt@5.3.1</code>, it will help.</p>\n"},{"tags":[],"owner":{"account_id":12039918,"reputation":3380,"user_id":8807231,"display_name":"Alaindeseine"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1677054366,"creation_date":1652691632,"answer_id":72256590,"question_id":63661915,"body_markdown":"**2023 UPDATE**\r\n\r\nWith version greater than 7.x, use this as doc said (https://www.npmjs.com/package/express-jwt) : \r\n\r\n    const { expressjwt: jwt } = require(&quot;express-jwt&quot;);\r\n\r\nThen you can use `jwt`:\r\n\r\n    jwt({\r\n      secret: &quot;shhhhhhared-secret&quot;,\r\n      audience: &quot;http://myapi/protected&quot;,\r\n      issuer: &quot;http://issuer&quot;,\r\n      algorithms: [&quot;HS256&quot;],\r\n    });\r\n\r\n","title":"TypeError: expressJwt is not a function","body":"<p><strong>2023 UPDATE</strong></p>\n<p>With version greater than 7.x, use this as doc said (<a href=\"https://www.npmjs.com/package/express-jwt\" rel=\"noreferrer\">https://www.npmjs.com/package/express-jwt</a>) :</p>\n<pre><code>const { expressjwt: jwt } = require(&quot;express-jwt&quot;);\n</code></pre>\n<p>Then you can use <code>jwt</code>:</p>\n<pre><code>jwt({\n  secret: &quot;shhhhhhared-secret&quot;,\n  audience: &quot;http://myapi/protected&quot;,\n  issuer: &quot;http://issuer&quot;,\n  algorithms: [&quot;HS256&quot;],\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18817001,"reputation":1,"user_id":15956711,"display_name":"user1186419"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660888597,"creation_date":1660556609,"answer_id":73359268,"question_id":63661915,"body_markdown":"Following the documentation worked for me:\r\n\r\n    var { expressjwt: jwt } = require(&quot;express-jwt&quot;);\r\n    \r\n    var jwtCheck = jwt({\r\n          secret: jwks.expressJwtSecret({\r\n              cache: true,\r\n              ...more stuff\r\n    })","title":"TypeError: expressJwt is not a function","body":"<p>Following the documentation worked for me:</p>\n<pre><code>var { expressjwt: jwt } = require(&quot;express-jwt&quot;);\n\nvar jwtCheck = jwt({\n      secret: jwks.expressJwtSecret({\n          cache: true,\n          ...more stuff\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26560926,"reputation":41,"user_id":20188753,"display_name":"フィービー"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665589973,"creation_date":1665198460,"answer_id":73994078,"question_id":63661915,"body_markdown":"this work for me without high severity vulnerability caused by low version:\r\n\r\n1. `npm uninstall express-jwt`\r\n2. `npm install express-jwt@6.1.0`","title":"TypeError: expressJwt is not a function","body":"<p>this work for me without high severity vulnerability caused by low version:</p>\n<ol>\n<li><code>npm uninstall express-jwt</code></li>\n<li><code>npm install express-jwt@6.1.0</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26834432,"reputation":19,"user_id":20421900,"display_name":"Boban Banjevic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667643004,"creation_date":1667605614,"answer_id":74324024,"question_id":63661915,"body_markdown":"If you don&#39;t have an algorithm in the expressJwt object, add it next to the secret, separated by `,` and use cypher such as RS256. It happened to me. ","title":"TypeError: expressJwt is not a function","body":"<p>If you don't have an algorithm in the expressJwt object, add it next to the secret, separated by <code>,</code> and use cypher such as RS256. It happened to me.</p>\n"},{"tags":[],"owner":{"account_id":10713557,"reputation":11,"user_id":7885089,"display_name":"Muhammad Najeeb Ul Hassan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680158084,"creation_date":1679876464,"answer_id":75851285,"question_id":63661915,"body_markdown":"    const { expressjwt: expressjwt } = require(&#39;express-jwt&#39;);\r\n\r\n**OR**\r\n\r\n    const { expressjwt } = require(&#39;express-jwt&#39;);\r\n\r\nTry lowercase this worked for me..","title":"TypeError: expressJwt is not a function","body":"<pre><code>const { expressjwt: expressjwt } = require('express-jwt');\n</code></pre>\n<p><strong>OR</strong></p>\n<pre><code>const { expressjwt } = require('express-jwt');\n</code></pre>\n<p>Try lowercase this worked for me..</p>\n"},{"tags":[],"owner":{"account_id":8084325,"reputation":1,"user_id":6092342,"display_name":"bakari said"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686718975,"creation_date":1686661250,"answer_id":76465232,"question_id":63661915,"body_markdown":"    const { expressjwt: ejwt } = require(&quot;express-jwt&quot;);\r\n\r\nThis worked for me, it should be `expressjwt` not `expressJwt` as documentation state.","title":"TypeError: expressJwt is not a function","body":"<pre><code>const { expressjwt: ejwt } = require(&quot;express-jwt&quot;);\n</code></pre>\n<p>This worked for me, it should be <code>expressjwt</code> not <code>expressJwt</code> as documentation state.</p>\n"}],"owner":{"account_id":13162399,"reputation":353,"user_id":9507446,"display_name":"user9507446"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13023,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63661974,"answer_count":9,"score":6,"last_activity_date":1686718975,"creation_date":1598819914,"question_id":63661915,"body_markdown":"I&#39;m trying to write middleware for user authorization in my app. I use this function to check if a route requires being sign in.\r\nThe code is as follows:\r\n\r\n    const { expressJwt } = require(&#39;express-jwt&#39;); \r\n    \r\n    exports.requireSignin = expressJwt({\r\n    secret: process.env.JWT_SECRET,\r\n    algorithms: [&quot;HS256&quot;],\r\n    userProperty: &quot;auth&quot;,});\r\n\r\nHowever, I get the following error:\r\n\r\n    TypeError: expressJwt is not a function at Object.&lt;anonymous&gt; (path to the file)\\\r\nWhat could be the problem? None of the other answers seem to be helpful. \r\n\r\n","title":"TypeError: expressJwt is not a function","body":"<p>I'm trying to write middleware for user authorization in my app. I use this function to check if a route requires being sign in.\nThe code is as follows:</p>\n<pre><code>const { expressJwt } = require('express-jwt'); \n\nexports.requireSignin = expressJwt({\nsecret: process.env.JWT_SECRET,\nalgorithms: [&quot;HS256&quot;],\nuserProperty: &quot;auth&quot;,});\n</code></pre>\n<p>However, I get the following error:</p>\n<pre><code>TypeError: expressJwt is not a function at Object.&lt;anonymous&gt; (path to the file)\\\n</code></pre>\n<p>What could be the problem? None of the other answers seem to be helpful.</p>\n"},{"tags":["java","ssl","https","jax-rs","tls1.2"],"comments":[{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1686719467,"post_id":76470265,"comment_id":134835961,"body_markdown":"These headers are purely a suggestion. Client and server are allowed to close the connection anytime after a response was finished.","body":"These headers are purely a suggestion. Client and server are allowed to close the connection anytime after a response was finished."}],"owner":{"account_id":17169212,"reputation":71,"user_id":12426697,"display_name":"Pory"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686718953,"creation_date":1686718953,"question_id":76470265,"body_markdown":"I am using **JAX-RS** and **SOAP** protocol on my service\r\n\r\nIm finding a way to utilize the TLS connection made when initializing http client connection and handshake, so the subsequent connections will reuse the created TLS.\r\n\r\nWhen I enable the ssl debugging, within the 20 transactions 5 handshakes were made. What I want is to override that behavior something like:\r\n\r\n&#39;for 20 transactions only 1 handshake were made&#39; --&gt; all transactions used same TLS connection. OR\r\n\r\nprolong the duration of TLS connection like 10mins (*if that is compliant*)\r\n\r\nI have tried sending the following in the header:\r\n\r\n    Connection: Keep-Alive\r\n    Keep-Alive: timeout=10, max=10\r\n\r\nWhat is the proper way to do it in **JAX-RS**?\r\n\r\n\r\nI also tried customizing the http headers (see screenshot of code below)\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; httpHeaders = new HashMap&lt;&gt;();\r\n    httpHeaders.put(&quot;Connection&quot;, Collections.singletonList(&quot;Keep-Alive&quot;));\r\n    httpHeaders.put(&quot;Keep-Alive&quot;, Collections.singletonList(&quot;timeout=10, max=10&quot;));\r\n    bindProvider.getRequestContext().put(HTTP_REQUEST_HEADERS, httpHeaders);\r\n\r\nThe load test results did not really differ vs without those headers. So I&#39;m thinking if there is another layer of configuration in JAX-RS that overrides this customized headers.","title":"How to increase the duration and usage of TLS connection","body":"<p>I am using <strong>JAX-RS</strong> and <strong>SOAP</strong> protocol on my service</p>\n<p>Im finding a way to utilize the TLS connection made when initializing http client connection and handshake, so the subsequent connections will reuse the created TLS.</p>\n<p>When I enable the ssl debugging, within the 20 transactions 5 handshakes were made. What I want is to override that behavior something like:</p>\n<p>'for 20 transactions only 1 handshake were made' --&gt; all transactions used same TLS connection. OR</p>\n<p>prolong the duration of TLS connection like 10mins (<em>if that is compliant</em>)</p>\n<p>I have tried sending the following in the header:</p>\n<pre><code>Connection: Keep-Alive\nKeep-Alive: timeout=10, max=10\n</code></pre>\n<p>What is the proper way to do it in <strong>JAX-RS</strong>?</p>\n<p>I also tried customizing the http headers (see screenshot of code below)</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; httpHeaders = new HashMap&lt;&gt;();\nhttpHeaders.put(&quot;Connection&quot;, Collections.singletonList(&quot;Keep-Alive&quot;));\nhttpHeaders.put(&quot;Keep-Alive&quot;, Collections.singletonList(&quot;timeout=10, max=10&quot;));\nbindProvider.getRequestContext().put(HTTP_REQUEST_HEADERS, httpHeaders);\n</code></pre>\n<p>The load test results did not really differ vs without those headers. So I'm thinking if there is another layer of configuration in JAX-RS that overrides this customized headers.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686718839,"creation_date":1686718839,"answer_id":76470256,"question_id":76469873,"body_markdown":"If you want to increment a counter in the database, use its [atomic increment operation](https://firebase.google.com/docs/database/android/read-and-write#atomic_server-side_increments). For your structure, that&#39;d look like this:\r\n```\r\nmDatabase.child(&quot;FeedBack&quot;).child(&quot;Likes&quot;).setValue(ServerValue.increment(1))\r\n```","title":"Android Studio (Java) Increment Value in Firebase Real-time Database","body":"<p>If you want to increment a counter in the database, use its <a href=\"https://firebase.google.com/docs/database/android/read-and-write#atomic_server-side_increments\" rel=\"nofollow noreferrer\">atomic increment operation</a>. For your structure, that'd look like this:</p>\n<pre><code>mDatabase.child(&quot;FeedBack&quot;).child(&quot;Likes&quot;).setValue(ServerValue.increment(1))\n</code></pre>\n"}],"owner":{"account_id":28816451,"reputation":3,"user_id":22069969,"display_name":"FishCakes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76470256,"answer_count":1,"score":0,"last_activity_date":1686718839,"creation_date":1686711687,"question_id":76469873,"body_markdown":"I&#39;m having a problem updating the value in my Firebase real-time database when clicking the 2 imagebutton. This is a survey app that i&#39;m creating. So, there&#39;s no need to retrieve and display the data on the app itself. \r\n\r\nThe buttons are working and it displays the data in firebase. Unfortunately, the two buttons only displays 1 as its value no matter how many times i&#39;ve clicked the button. It doesn&#39;t update itself in the database.\r\n\r\n```\r\n private int clickCount1 = 0;\r\n private int clickCount2 = 0;\r\n private DatabaseReference mDatabase;\r\n\r\n\r\n @Override\r\n protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n//Firebase Database\r\nmDatabase = FirebaseDatabase.getInstance().getReference();\r\n\r\nlikebutton = findViewById(R.id.imageButton11);\r\ndownbutton = findViewById(R.id.imageButton10);\r\n\r\n//Like Button Action\r\n        likebutton.setOnClickListener(v -&gt; {\r\n            incrementClickCount1();\r\n            saveClickCountToDatabase1();\r\n            animationView1.playAnimation();\r\n            Intent intent = new Intent(MainActivity.this, Landscape.class);\r\n            startActivity(intent);\r\n            finish();\r\n        });\r\n\r\n //Down Button Action\r\n        downbutton.setOnClickListener(v -&gt; {\r\n            incrementClickCount2();\r\n            saveClickCountToDatabase2();\r\n            animationView2.playAnimation();\r\n            Intent intent = new Intent(MainActivity.this, NotifActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        });\r\n    }\r\n    private void incrementClickCount1() {\r\n        clickCount1++;\r\n    }\r\n    private void incrementClickCount2() {\r\n        clickCount2++;\r\n    }\r\n    private void saveClickCountToDatabase1(){\r\n        mDatabase.child(&quot;FeedBack&quot;).child(&quot;Likes&quot;).setValue(clickCount1);\r\n    }\r\n    private void saveClickCountToDatabase2(){\r\n        mDatabase.child(&quot;FeedBack&quot;).child(&quot;Dislikes&quot;).setValue(clickCount2);\r\n    }\r\n}\r\n```","title":"Android Studio (Java) Increment Value in Firebase Real-time Database","body":"<p>I'm having a problem updating the value in my Firebase real-time database when clicking the 2 imagebutton. This is a survey app that i'm creating. So, there's no need to retrieve and display the data on the app itself.</p>\n<p>The buttons are working and it displays the data in firebase. Unfortunately, the two buttons only displays 1 as its value no matter how many times i've clicked the button. It doesn't update itself in the database.</p>\n<pre><code> private int clickCount1 = 0;\n private int clickCount2 = 0;\n private DatabaseReference mDatabase;\n\n\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n//Firebase Database\nmDatabase = FirebaseDatabase.getInstance().getReference();\n\nlikebutton = findViewById(R.id.imageButton11);\ndownbutton = findViewById(R.id.imageButton10);\n\n//Like Button Action\n        likebutton.setOnClickListener(v -&gt; {\n            incrementClickCount1();\n            saveClickCountToDatabase1();\n            animationView1.playAnimation();\n            Intent intent = new Intent(MainActivity.this, Landscape.class);\n            startActivity(intent);\n            finish();\n        });\n\n //Down Button Action\n        downbutton.setOnClickListener(v -&gt; {\n            incrementClickCount2();\n            saveClickCountToDatabase2();\n            animationView2.playAnimation();\n            Intent intent = new Intent(MainActivity.this, NotifActivity.class);\n            startActivity(intent);\n            finish();\n        });\n    }\n    private void incrementClickCount1() {\n        clickCount1++;\n    }\n    private void incrementClickCount2() {\n        clickCount2++;\n    }\n    private void saveClickCountToDatabase1(){\n        mDatabase.child(&quot;FeedBack&quot;).child(&quot;Likes&quot;).setValue(clickCount1);\n    }\n    private void saveClickCountToDatabase2(){\n        mDatabase.child(&quot;FeedBack&quot;).child(&quot;Dislikes&quot;).setValue(clickCount2);\n    }\n}\n</code></pre>\n"},{"tags":["java","graphics","colors"],"comments":[{"owner":{"account_id":3491791,"reputation":131,"user_id":2921292,"accept_rate":50,"display_name":"Zaffaro"},"score":0,"creation_date":1488067488,"post_id":42463024,"comment_id":72068341,"body_markdown":"Added some code. Just thought it&#39;d be kinda trivial. Believe it or not, it&#39;s not my homework but a larger hobby project I&#39;m working on. But all the details are irrelevant to the question and I thought maybe there was a stupidly easy solution to this like some sorta g.setColorMixMode.","body":"Added some code. Just thought it&#39;d be kinda trivial. Believe it or not, it&#39;s not my homework but a larger hobby project I&#39;m working on. But all the details are irrelevant to the question and I thought maybe there was a stupidly easy solution to this like some sorta g.setColorMixMode."},{"owner":{"account_id":9213875,"reputation":1258,"user_id":6845907,"accept_rate":100,"display_name":"Nick Ziebert"},"score":0,"creation_date":1488071285,"post_id":42463024,"comment_id":72069163,"body_markdown":"There&#39;s a method in rectangle that returns the intersecting rectangle between 2 rectangles.  I&#39;m sure your solution can include that. \tintersection(Rectangle r)\nComputes the intersection of this Rectangle with the specified Rectangle.  Is that yellow intersection in your picture supposed to be light blue?","body":"There&#39;s a method in rectangle that returns the intersecting rectangle between 2 rectangles.  I&#39;m sure your solution can include that. \tintersection(Rectangle r) Computes the intersection of this Rectangle with the specified Rectangle.  Is that yellow intersection in your picture supposed to be light blue?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1488079969,"post_id":42463024,"comment_id":72070716,"body_markdown":"@Zaffaro, `I figured out that using g.setXORMode(Color.Black) Made the colors mix as intended:` - where did you add that code? I copied the code you posted and added that statement at the beginning of the painting method and it didn&#39;t work. Post the code you used as a solution for the benefit or others.","body":"@Zaffaro, <code>I figured out that using g.setXORMode(Color.Black) Made the colors mix as intended:</code> - where did you add that code? I copied the code you posted and added that statement at the beginning of the painting method and it didn&#39;t work. Post the code you used as a solution for the benefit or others."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1488116644,"post_id":42463024,"comment_id":72079246,"body_markdown":"By the way, whenever you override paintComponent it&#39;s important to always call `super.paintComponent(g)`; I initially forgot to include that in my answer below, but I&#39;ve added it now. It doesn&#39;t affect the compositing of colors, but it&#39;s the best practice. See this question for more info: http://stackoverflow.com/questions/28724609/what-does-super-paintcomponentg-do","body":"By the way, whenever you override paintComponent it&#39;s important to always call <code>super.paintComponent(g)</code>; I initially forgot to include that in my answer below, but I&#39;ve added it now. It doesn&#39;t affect the compositing of colors, but it&#39;s the best practice. See this question for more info: <a href=\"http://stackoverflow.com/questions/28724609/what-does-super-paintcomponentg-do\" title=\"what does super paintcomponentg do\">stackoverflow.com/questions/28724609/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488124373,"creation_date":1488072348,"answer_id":42463677,"question_id":42463024,"body_markdown":"A Java `Graphics2D` has a `Composite` which, in conjuction with `CompositeContext`, determines how colors are composited. Unfortunately, none of the modes provided by `AlphaComposite` do what you want. It is possible to create a custom compositor that adds colors together, but it isn&#39;t simple. Once you have such a compositor, call [`Graphics2D::setComposite`](https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics2D.html#setComposite-java.awt.Composite-) to set it as the compositor to use for drawing.\r\n\r\nI found someone who had already created [an additive compositor](http://www.java-gaming.org/index.php?topic=22467.0). I&#39;ve copied that code here with some modifications, in case that post becomes unavailable. In particular, I changed it to use `int` instead of `float` for the samples, which is more likely to match the actual `SampleModel` backing the `Rasters`.\r\n\r\nThere is one problem with additive composition which is that the background color of the JPanel is also included in the addition. To get results like the ones you&#39;re looking for, you need to exclude this background color the way a &quot;green screen&quot; is used as a [chroma-key](https://en.wikipedia.org/wiki/Chroma_key). I&#39;ve added that to the additive compositor from JuddMann:\r\n\r\nAdditiveComposite.java:\r\n\r\n    import java.awt.*;\r\n    import java.awt.image.*;\r\n    import java.util.Objects;\r\n    \r\n    public class AdditiveComposite implements Composite {\r\n        private final Color chromaKey;\r\n    \r\n        public AdditiveComposite(final Color chromaKey) {\r\n            this.chromaKey = Objects.requireNonNull(chromaKey);\r\n        }\r\n    \r\n        public CompositeContext createContext(ColorModel srcColorModel,\r\n                ColorModel dstColorModel, RenderingHints hints) {\r\n            return new AdditiveCompositeContext(chromaKey);\r\n        }\r\n    }\r\n\r\nAdditiveCompositeContext.java:\r\n\r\n    import java.awt.*;\r\n    import java.awt.image.*;\r\n    import java.util.Objects;\r\n    \r\n    public class AdditiveCompositeContext implements CompositeContext {\r\n        private final Color chromaKey;\r\n    \r\n        public AdditiveCompositeContext(final Color chromaKey) {\r\n            this.chromaKey = Objects.requireNonNull(chromaKey);\r\n        }\r\n    \r\n        public void compose(Raster src, Raster dstIn, WritableRaster dstOut) {\r\n            int r = chromaKey.getRed(), g = chromaKey.getGreen(), b = chromaKey.getBlue();\r\n            int[] pxSrc = new int[src.getNumBands()];\r\n            int[] pxDst = new int[dstIn.getNumBands()];\r\n            int chans = Math.min(src.getNumBands(), dstIn.getNumBands());\r\n    \r\n            for (int x = 0; x &lt; dstIn.getWidth(); x++) {\r\n                for (int y = 0; y &lt; dstIn.getHeight(); y++) {\r\n                    pxSrc = src.getPixel(x, y, pxSrc);\r\n                    pxDst = dstIn.getPixel(x, y, pxDst);\r\n    \r\n                    int alpha = pxSrc.length &gt; 3? alpha = pxSrc[3] : 255;\r\n    \r\n                    if (pxDst[0] == r &amp;&amp; pxDst[1] == g &amp;&amp; pxDst[2] == b) {\r\n                        pxDst[0] = 0; pxDst[1] = 0; pxDst[2] = 0;\r\n                    }\r\n    \r\n                    for (int i = 0; i &lt; 3 &amp;&amp; i &lt; chans; i++) {\r\n                        pxDst[i] = Math.min(255, (pxSrc[i] * alpha / 255) + (pxDst[i]));\r\n                        dstOut.setPixel(x, y, pxDst);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override public void dispose() { }\r\n    }\r\n\r\n(I also made some formatting changes and removed unused variables.)\r\n\r\nThe author, JuddMann, mentioned some performance considerations in a comment. The code calls `getPixel` twice and `setPixel` once for every pixel in the region being composited. It is possible to call `getPixels` and `setPixels` instead to get entire scan lines or blocks of pixels at a time, but in some tests I did this seemed to have little effect on the time it took, with either method taking a few tens of milliseconds for the paint method in the demo below.\r\n\r\nHere is a quick demo. Compo.java:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Compo extends JPanel {\r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame(&quot;Compo&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(600, 600);\r\n            frame.setLocation(400, 100);\r\n            JPanel buttons = new JPanel();\r\n            frame.add(buttons, BorderLayout.NORTH);\r\n            frame.add(new Compo(), BorderLayout.CENTER);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        @Override public void paintComponent(Graphics g1) {\r\n            super.paintComponent(g1);\r\n            Graphics2D g = (Graphics2D) g1;\r\n            g.setComposite(new AdditiveComposite(getBackground()));\r\n    \r\n            int x = getWidth() / 5;\r\n            int y = getHeight() / 5;\r\n    \r\n            g.setColor(Color.RED);\r\n            g.fillOval(3*x/2, y, 2*x, 2*y);\r\n            g.setColor(Color.BLUE);\r\n            g.fillOval(2*x, 2*y, 2*x, 2*y);\r\n            g.setColor(Color.GREEN);\r\n            g.fillOval(x, 2*y, 2*x, 2*y);\r\n        }\r\n    }\r\n","title":"How can I make overlapping drawn shapes in a Java use additive color mixing?","body":"<p>A Java <code>Graphics2D</code> has a <code>Composite</code> which, in conjuction with <code>CompositeContext</code>, determines how colors are composited. Unfortunately, none of the modes provided by <code>AlphaComposite</code> do what you want. It is possible to create a custom compositor that adds colors together, but it isn't simple. Once you have such a compositor, call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics2D.html#setComposite-java.awt.Composite-\" rel=\"nofollow noreferrer\"><code>Graphics2D::setComposite</code></a> to set it as the compositor to use for drawing.</p>\n\n<p>I found someone who had already created <a href=\"http://www.java-gaming.org/index.php?topic=22467.0\" rel=\"nofollow noreferrer\">an additive compositor</a>. I've copied that code here with some modifications, in case that post becomes unavailable. In particular, I changed it to use <code>int</code> instead of <code>float</code> for the samples, which is more likely to match the actual <code>SampleModel</code> backing the <code>Rasters</code>.</p>\n\n<p>There is one problem with additive composition which is that the background color of the JPanel is also included in the addition. To get results like the ones you're looking for, you need to exclude this background color the way a \"green screen\" is used as a <a href=\"https://en.wikipedia.org/wiki/Chroma_key\" rel=\"nofollow noreferrer\">chroma-key</a>. I've added that to the additive compositor from JuddMann:</p>\n\n<p>AdditiveComposite.java:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.image.*;\nimport java.util.Objects;\n\npublic class AdditiveComposite implements Composite {\n    private final Color chromaKey;\n\n    public AdditiveComposite(final Color chromaKey) {\n        this.chromaKey = Objects.requireNonNull(chromaKey);\n    }\n\n    public CompositeContext createContext(ColorModel srcColorModel,\n            ColorModel dstColorModel, RenderingHints hints) {\n        return new AdditiveCompositeContext(chromaKey);\n    }\n}\n</code></pre>\n\n<p>AdditiveCompositeContext.java:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.image.*;\nimport java.util.Objects;\n\npublic class AdditiveCompositeContext implements CompositeContext {\n    private final Color chromaKey;\n\n    public AdditiveCompositeContext(final Color chromaKey) {\n        this.chromaKey = Objects.requireNonNull(chromaKey);\n    }\n\n    public void compose(Raster src, Raster dstIn, WritableRaster dstOut) {\n        int r = chromaKey.getRed(), g = chromaKey.getGreen(), b = chromaKey.getBlue();\n        int[] pxSrc = new int[src.getNumBands()];\n        int[] pxDst = new int[dstIn.getNumBands()];\n        int chans = Math.min(src.getNumBands(), dstIn.getNumBands());\n\n        for (int x = 0; x &lt; dstIn.getWidth(); x++) {\n            for (int y = 0; y &lt; dstIn.getHeight(); y++) {\n                pxSrc = src.getPixel(x, y, pxSrc);\n                pxDst = dstIn.getPixel(x, y, pxDst);\n\n                int alpha = pxSrc.length &gt; 3? alpha = pxSrc[3] : 255;\n\n                if (pxDst[0] == r &amp;&amp; pxDst[1] == g &amp;&amp; pxDst[2] == b) {\n                    pxDst[0] = 0; pxDst[1] = 0; pxDst[2] = 0;\n                }\n\n                for (int i = 0; i &lt; 3 &amp;&amp; i &lt; chans; i++) {\n                    pxDst[i] = Math.min(255, (pxSrc[i] * alpha / 255) + (pxDst[i]));\n                    dstOut.setPixel(x, y, pxDst);\n                }\n            }\n        }\n    }\n\n    @Override public void dispose() { }\n}\n</code></pre>\n\n<p>(I also made some formatting changes and removed unused variables.)</p>\n\n<p>The author, JuddMann, mentioned some performance considerations in a comment. The code calls <code>getPixel</code> twice and <code>setPixel</code> once for every pixel in the region being composited. It is possible to call <code>getPixels</code> and <code>setPixels</code> instead to get entire scan lines or blocks of pixels at a time, but in some tests I did this seemed to have little effect on the time it took, with either method taking a few tens of milliseconds for the paint method in the demo below.</p>\n\n<p>Here is a quick demo. Compo.java:</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Compo extends JPanel {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(\"Compo\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(600, 600);\n        frame.setLocation(400, 100);\n        JPanel buttons = new JPanel();\n        frame.add(buttons, BorderLayout.NORTH);\n        frame.add(new Compo(), BorderLayout.CENTER);\n        frame.setVisible(true);\n    }\n\n    @Override public void paintComponent(Graphics g1) {\n        super.paintComponent(g1);\n        Graphics2D g = (Graphics2D) g1;\n        g.setComposite(new AdditiveComposite(getBackground()));\n\n        int x = getWidth() / 5;\n        int y = getHeight() / 5;\n\n        g.setColor(Color.RED);\n        g.fillOval(3*x/2, y, 2*x, 2*y);\n        g.setColor(Color.BLUE);\n        g.fillOval(2*x, 2*y, 2*x, 2*y);\n        g.setColor(Color.GREEN);\n        g.fillOval(x, 2*y, 2*x, 2*y);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3491791,"reputation":131,"user_id":2921292,"accept_rate":50,"display_name":"Zaffaro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1960,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1686718735,"creation_date":1488066429,"question_id":42463024,"body_markdown":"I am working on a Java application with lots of geoemtric shapes of color red, green and blue are drawn on a JPanel.\r\n\r\nNow, I&#39;d like for overlapping shapes to have their overlap area drawn with the color of adding those two colors like the diagram on right image.\r\n    \r\nPictured below is the current real screenshot using draw colors with transparency, but that didn&#39;t work. Next by is an edited image of the desired result. How can I achieve this?\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nCurrent graphics drawn with:\r\n\r\n    public class DrawPanel extends JPanel\r\n        Color red, green, blue;\r\n        DrawPanel(){\r\n            red = new Color(255, 0, 0, 150);\r\n            green = new Color(0, 255, 0, 150);\r\n            blue = new Color(0, 0, 255, 150);\r\n            this.setBackground(Color.WHITE);\r\n            this.setSize(400, 300);\r\n            this.setFocusable(true);\r\n            this.requestFocus();\r\n            this.setVisible(true);\r\n        }        \r\n\r\n        @Override\r\n        protected void paintComponent(java.awt.Graphics g) {\r\n            g.setColor(red);\r\n            g.fillRect(50, 50, 100, 100);\r\n            g.setColor(blue);\r\n            g.fillRect(75, 75, 100, 100);\r\n            g.setColor(green);\r\n            g.fillRect(100, 100, 100, 100);\r\n        }\r\n    }\r\n\r\nEdit: I figured out that using \r\n    \r\n    g.setXORMode(Color.Black)\r\n\r\nMade the colors mix as intended:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y7GI2.png\r\n  [2]: https://i.stack.imgur.com/twHal.png\r\n  [3]: https://i.stack.imgur.com/4K7QA.png\r\n\r\nHOWEVER! It seemed to be extremely resource heavy to do it this way. The program would freeze for several seconds and even crash my computer!","title":"How can I make overlapping drawn shapes in a Java use additive color mixing?","body":"<p>I am working on a Java application with lots of geoemtric shapes of color red, green and blue are drawn on a JPanel.</p>\n\n<p>Now, I'd like for overlapping shapes to have their overlap area drawn with the color of adding those two colors like the diagram on right image.</p>\n\n<p>Pictured below is the current real screenshot using draw colors with transparency, but that didn't work. Next by is an edited image of the desired result. How can I achieve this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Y7GI2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y7GI2.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/twHal.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/twHal.png\" alt=\"enter image description here\"></a></p>\n\n<p>Current graphics drawn with:</p>\n\n<pre><code>public class DrawPanel extends JPanel\n    Color red, green, blue;\n    DrawPanel(){\n        red = new Color(255, 0, 0, 150);\n        green = new Color(0, 255, 0, 150);\n        blue = new Color(0, 0, 255, 150);\n        this.setBackground(Color.WHITE);\n        this.setSize(400, 300);\n        this.setFocusable(true);\n        this.requestFocus();\n        this.setVisible(true);\n    }        \n\n    @Override\n    protected void paintComponent(java.awt.Graphics g) {\n        g.setColor(red);\n        g.fillRect(50, 50, 100, 100);\n        g.setColor(blue);\n        g.fillRect(75, 75, 100, 100);\n        g.setColor(green);\n        g.fillRect(100, 100, 100, 100);\n    }\n}\n</code></pre>\n\n<p>Edit: I figured out that using </p>\n\n<pre><code>g.setXORMode(Color.Black)\n</code></pre>\n\n<p>Made the colors mix as intended:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4K7QA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4K7QA.png\" alt=\"enter image description here\"></a></p>\n\n<p>HOWEVER! It seemed to be extremely resource heavy to do it this way. The program would freeze for several seconds and even crash my computer!</p>\n"},{"tags":["java","spring","websocket"],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686718589,"creation_date":1686714210,"answer_id":76470026,"question_id":76469543,"body_markdown":"Please ensure that the class where the code you provide is managed by Spring in a singleton manner\r\n\r\nWhen spring initializes beans, the default is singleton mode, which is only initialized once, but if you do not initialize in singleton mode, it will cause initialization every time you access it.\r\n\r\n\r\n\r\nThere are several situations where this result can occur, I will list one first.Refer to the following code：\r\n\r\n    public class Index {\r\n        public static void main(String[] args) {\r\n            ApplicationContext AcContext = new AnnotationConfigApplicationContext(MyConfigration.class);\r\n    \r\n            C1 C1_1 = AcContext.getBean(&quot;c1&quot;, C1.class);\r\n            C1 C1_2 = AcContext.getBean(&quot;c1&quot;, C1.class);\r\n            C2 C2_1 = AcContext.getBean(&quot;c2&quot;, C2.class);\r\n            C2 C2_2 = AcContext.getBean(&quot;c2&quot;, C2.class);\r\n        }\r\n    }\r\n    \r\n    @Configuration\r\n    class MyConfigration {\r\n        @Bean\r\n        @Scope(&quot;prototype&quot;)\r\n        public C1 c1() {\r\n            return new C1();\r\n        }\r\n        @Bean\r\n        public C2 c2() {\r\n            return new C2();\r\n        }\r\n    }\r\n    \r\n    class C1 {\r\n        @PostConstruct\r\n        public void init() throws Exception {\r\n            System.out.println(&quot;C1 init&quot;);\r\n        }\r\n    }\r\n    \r\n    class C2 {\r\n        @PostConstruct\r\n        public void init() throws Exception {\r\n            System.out.println(&quot;C2 init&quot;);\r\n        }\r\n    }\r\n\r\nWhen this code is executed, it will output：\r\n\r\n    C2 init\r\n    C1 init\r\n    C1 init\r\n\r\n`@Scope(&quot;prototype&quot;)` makes the bean no longer initialized in singleton mode, that is, every time you try to access the bean, a new object will be reinitialized\r\n\r\nSo the `init()` method of class `C1` is executed twice","title":"JAVA - @PostConstruct called everytime browser refreshes. Is it normal?","body":"<p>Please ensure that the class where the code you provide is managed by Spring in a singleton manner</p>\n<p>When spring initializes beans, the default is singleton mode, which is only initialized once, but if you do not initialize in singleton mode, it will cause initialization every time you access it.</p>\n<p>There are several situations where this result can occur, I will list one first.Refer to the following code：</p>\n<pre><code>public class Index {\n    public static void main(String[] args) {\n        ApplicationContext AcContext = new AnnotationConfigApplicationContext(MyConfigration.class);\n\n        C1 C1_1 = AcContext.getBean(&quot;c1&quot;, C1.class);\n        C1 C1_2 = AcContext.getBean(&quot;c1&quot;, C1.class);\n        C2 C2_1 = AcContext.getBean(&quot;c2&quot;, C2.class);\n        C2 C2_2 = AcContext.getBean(&quot;c2&quot;, C2.class);\n    }\n}\n\n@Configuration\nclass MyConfigration {\n    @Bean\n    @Scope(&quot;prototype&quot;)\n    public C1 c1() {\n        return new C1();\n    }\n    @Bean\n    public C2 c2() {\n        return new C2();\n    }\n}\n\nclass C1 {\n    @PostConstruct\n    public void init() throws Exception {\n        System.out.println(&quot;C1 init&quot;);\n    }\n}\n\nclass C2 {\n    @PostConstruct\n    public void init() throws Exception {\n        System.out.println(&quot;C2 init&quot;);\n    }\n}\n</code></pre>\n<p>When this code is executed, it will output：</p>\n<pre><code>C2 init\nC1 init\nC1 init\n</code></pre>\n<p><code>@Scope(&quot;prototype&quot;)</code> makes the bean no longer initialized in singleton mode, that is, every time you try to access the bean, a new object will be reinitialized</p>\n<p>So the <code>init()</code> method of class <code>C1</code> is executed twice</p>\n"}],"owner":{"account_id":28816077,"reputation":1,"user_id":22069669,"display_name":"unyo66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686718589,"creation_date":1686704639,"question_id":76469543,"body_markdown":"There&#39;s a method with @PostConstruct that has to be called once when WAS initialized, but it called everytime when I refresh the browser. The method is in a Websocket and I&#39;m using Tomcat, Chrome, Spring and node.js.\r\n\r\n\r\n```\r\n    @Autowired\r\n    private WebPushDao temp;\r\n    \r\n    private static WebPushDao service;\r\n    \r\n    @PostConstruct     \r\n    private void WebPushDao() {service = temp;}\r\n```\r\n\r\n\r\nThis problem happens only on my computer with same codes, not on my colleagues&#39;s computer. I got a new clone of the source and put a new Tomcat but same problem happened.","title":"JAVA - @PostConstruct called everytime browser refreshes. Is it normal?","body":"<p>There's a method with @PostConstruct that has to be called once when WAS initialized, but it called everytime when I refresh the browser. The method is in a Websocket and I'm using Tomcat, Chrome, Spring and node.js.</p>\n<pre><code>    @Autowired\n    private WebPushDao temp;\n    \n    private static WebPushDao service;\n    \n    @PostConstruct     \n    private void WebPushDao() {service = temp;}\n</code></pre>\n<p>This problem happens only on my computer with same codes, not on my colleagues's computer. I got a new clone of the source and put a new Tomcat but same problem happened.</p>\n"},{"tags":["java","spring-boot","vaadin","hilla"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1686655338,"post_id":76463353,"comment_id":134825885,"body_markdown":"You want to mix Hilla and Vaadin, right?","body":"You want to mix Hilla and Vaadin, right?"},{"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"score":0,"creation_date":1686664081,"post_id":76463353,"comment_id":134827970,"body_markdown":"yes that is exacly right","body":"yes that is exacly right"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1686669614,"post_id":76463353,"comment_id":134829393,"body_markdown":"You need to use Lit, since currently Flow knows only about vaadin-router. You also need to use stateful authentication.","body":"You need to use Lit, since currently Flow knows only about vaadin-router. You also need to use stateful authentication."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1686670015,"post_id":76463353,"comment_id":134829478,"body_markdown":"The demo app of Hilla/Flow hybrid is old and uses 1.0 instead of current versions, but could still give the idea https://github.com/vaadin/vaadin-hilla-hybrid","body":"The demo app of Hilla/Flow hybrid is old and uses 1.0 instead of current versions, but could still give the idea <a href=\"https://github.com/vaadin/vaadin-hilla-hybrid\" rel=\"nofollow noreferrer\">github.com/vaadin/vaadin-hilla-hybrid</a>"}],"answers":[{"tags":[],"owner":{"account_id":325589,"reputation":2118,"user_id":646863,"display_name":"eeq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686718511,"creation_date":1686718511,"answer_id":76470238,"question_id":76463353,"body_markdown":"If you have a fairly recent Vaadin application you should be able to add Hilla dependencies in your `pom.xml`. \r\n\r\nAdd the version into `&lt;properties&gt;` section. This helps you to change the version later:\r\n\r\n    &lt;hilla.version&gt;2.1.0&lt;/hilla.version&gt;\r\n\r\nIn the `&lt;dependencyManagement&gt;` section add the &quot;bill of material&quot;: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;dev.hilla&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hilla-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;${hilla.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow you can include actual Hilla dependency in `&lt;dependencies&gt;` using: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;dev.hilla&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hilla&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nLast thing is to add the plugin into `&lt;build&gt;` &gt; `&lt;plugins&gt;` section:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;dev.hilla&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hilla-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${hilla.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n[Here is an example from start.vaadin.com][1] you can use for a starting point, if you want to starts from scratch or browse the source code. \r\n\r\n\r\n  [1]: https://start.vaadin.com/app?id=77b1ead1-ef81-4c8f-8b50-0b0cf0be7e4a","title":"how to start a hilla project on an arleady finished vaadin Project","body":"<p>If you have a fairly recent Vaadin application you should be able to add Hilla dependencies in your <code>pom.xml</code>.</p>\n<p>Add the version into <code>&lt;properties&gt;</code> section. This helps you to change the version later:</p>\n<pre><code>&lt;hilla.version&gt;2.1.0&lt;/hilla.version&gt;\n</code></pre>\n<p>In the <code>&lt;dependencyManagement&gt;</code> section add the &quot;bill of material&quot;:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;dev.hilla&lt;/groupId&gt;\n    &lt;artifactId&gt;hilla-bom&lt;/artifactId&gt;\n    &lt;version&gt;${hilla.version}&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now you can include actual Hilla dependency in <code>&lt;dependencies&gt;</code> using:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;dev.hilla&lt;/groupId&gt;\n    &lt;artifactId&gt;hilla&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Last thing is to add the plugin into <code>&lt;build&gt;</code> &gt; <code>&lt;plugins&gt;</code> section:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;dev.hilla&lt;/groupId&gt;\n    &lt;artifactId&gt;hilla-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hilla.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://start.vaadin.com/app?id=77b1ead1-ef81-4c8f-8b50-0b0cf0be7e4a\" rel=\"nofollow noreferrer\">Here is an example from start.vaadin.com</a> you can use for a starting point, if you want to starts from scratch or browse the source code.</p>\n"}],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76470238,"answer_count":1,"score":0,"last_activity_date":1686718511,"creation_date":1686647543,"question_id":76463353,"body_markdown":"Pretty much the title, i have a Vaadin-SpringBoot project already fit with the frontend in vaadin.  \r\nMy goal is to install Hilla and try React or Lit.  \r\nhow could i do that?  \r\n\r\nI have looked in the documentation all i could found is how to start a Hilla project from scratch that would not do because we already have all the spring application up and running, we just want to experiment with the frontEnd a little.\r\n\r\nis it possibile?\r\n\r\nThis is my pom so far:\r\n`&lt;repositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n\r\n        &lt;!-- Main Maven repository --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- ###################### DRIVER ####################### --&gt;\r\n        \r\n\t\t&lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${mysql5.version}&lt;/version&gt;\r\n            &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n        &lt;/dependency&gt;   \r\n        \r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n \t\t    &lt;version&gt;${sqlserver.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- ############################################## --&gt;\r\n\t\t&lt;!-- TOMCAT BOOT --&gt;\r\n\t\t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- spring framework --&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Include JUnit 4 support for TestBench and others --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;`\r\n\r\nThanks for the time you given me i really need some help","title":"how to start a hilla project on an arleady finished vaadin Project","body":"<p>Pretty much the title, i have a Vaadin-SpringBoot project already fit with the frontend in vaadin.<br />\nMy goal is to install Hilla and try React or Lit.<br />\nhow could i do that?</p>\n<p>I have looked in the documentation all i could found is how to start a Hilla project from scratch that would not do because we already have all the spring application up and running, we just want to experiment with the frontEnd a little.</p>\n<p>is it possibile?</p>\n<p>This is my pom so far:\n`\n</p>\n<pre><code>    &lt;!-- Main Maven repository --&gt;\n    &lt;repository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n        &lt;url&gt;\n            https://maven.vaadin.com/vaadin-prereleases/\n        &lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;!-- Repository used by many Vaadin add-ons --&gt;\n    &lt;repository&gt;\n        &lt;id&gt;Vaadin Directory&lt;/id&gt;\n        &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;pluginRepositories&gt;\n    &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n        &lt;url&gt;\n            https://maven.vaadin.com/vaadin-prereleases/\n        &lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n            &lt;version&gt;${vaadin.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n        &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n        &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n        &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- ###################### DRIVER ####################### --&gt;\n    \n    &lt;!--\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;${mysql5.version}&lt;/version&gt;\n        &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;   \n    \n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;${sqlserver.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- ############################################## --&gt;\n    &lt;!-- TOMCAT BOOT --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- spring framework --&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n        &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Include JUnit 4 support for TestBench and others --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;`\n</code></pre>\n<p>Thanks for the time you given me i really need some help</p>\n"},{"tags":["java","mysql","spring","database","binlog"],"comments":[{"owner":{"account_id":14145574,"reputation":91,"user_id":10219008,"display_name":"Anush B M"},"score":0,"creation_date":1696910745,"post_id":76454661,"comment_id":136209727,"body_markdown":"Hi Th&#224;nh Đặng, did you find a solution for this? \n\nI saw the accepted answer but that is more on the MySQL server end not on the Java app. Correct me if I have mistaken.","body":"Hi Th&#224;nh Đặng, did you find a solution for this?   I saw the accepted answer but that is more on the MySQL server end not on the Java app. Correct me if I have mistaken."},{"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"score":0,"creation_date":1697011019,"post_id":76454661,"comment_id":136224259,"body_markdown":"Hi Aush, thanks for your attendtion for my question. \nI use Java to read mysql binlogs. When my java application crashes and I restore it, it may still read the old log files again while mysql  append a new logs in a new file. Therefore, I want to ask when my sql saves new logs and files so that I can consider it as a condition so that when I restore the java application, it still works normally.","body":"Hi Aush, thanks for your attendtion for my question.  I use Java to read mysql binlogs. When my java application crashes and I restore it, it may still read the old log files again while mysql  append a new logs in a new file. Therefore, I want to ask when my sql saves new logs and files so that I can consider it as a condition so that when I restore the java application, it still works normally."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686580598,"creation_date":1686580598,"answer_id":76457719,"question_id":76454661,"body_markdown":"MySQL opens a new binary log file in three cases:\r\n\r\n- The current binary log file exceeds `max_binlog_size`. The file can go over that size slightly, to allow the current event to finish writing.\r\n\r\n- Some client runs the command `FLUSH LOGS`. For example, mysqldump does this if you use the `--flush-logs` command option.\r\n\r\n- The MySQL Server restarts.","title":"When are mysql save a new binlog file?","body":"<p>MySQL opens a new binary log file in three cases:</p>\n<ul>\n<li><p>The current binary log file exceeds <code>max_binlog_size</code>. The file can go over that size slightly, to allow the current event to finish writing.</p>\n</li>\n<li><p>Some client runs the command <code>FLUSH LOGS</code>. For example, mysqldump does this if you use the <code>--flush-logs</code> command option.</p>\n</li>\n<li><p>The MySQL Server restarts.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":26035358,"reputation":43,"user_id":19740880,"display_name":"Th&#224;nh Đặng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76457719,"answer_count":1,"score":2,"last_activity_date":1686717177,"creation_date":1686557193,"question_id":76454661,"body_markdown":"I&#39;m developing 1 java application to reading a `binlog file` to catch query event.  Everything would be fine without exception. But what will happen if my application was crashed, i will miss many event to from my database. So i wondering when mysql save new bin log position in a new binlog file? So i can save a checkpoint so as not to miss any event from my database.\r\n\r\nMy external library use to read binlog mysql :\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.shyiko&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-binlog-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;0.21.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"When are mysql save a new binlog file?","body":"<p>I'm developing 1 java application to reading a <code>binlog file</code> to catch query event.  Everything would be fine without exception. But what will happen if my application was crashed, i will miss many event to from my database. So i wondering when mysql save new bin log position in a new binlog file? So i can save a checkpoint so as not to miss any event from my database.</p>\n<p>My external library use to read binlog mysql :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.shyiko&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-binlog-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;0.21.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686716270,"creation_date":1686716270,"answer_id":76470126,"question_id":76470002,"body_markdown":"You will need to make sure you have a Postgresql driver available in your dependencies. These are the changes you can make\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://xyz.companyname.com:5432/my_db\r\nspring.datasource.username=your_username\r\nspring.datasource.password=your_password\r\nspring.jpa.database=postgresql\r\n```\r\n\r\nThis is from a gradle file, but it should be easy to convert it to your prefered build tool.\r\n\r\n```\r\nimplementation(&quot;org.postgresql:postgresql:42.5.0&quot;)\r\n```\r\n\r\n[This link is really useful for troubleshooting questions like that][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html","title":"Connect postgreSQL sever in spring boot","body":"<p>You will need to make sure you have a Postgresql driver available in your dependencies. These are the changes you can make</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://xyz.companyname.com:5432/my_db\nspring.datasource.username=your_username\nspring.datasource.password=your_password\nspring.jpa.database=postgresql\n</code></pre>\n<p>This is from a gradle file, but it should be easy to convert it to your prefered build tool.</p>\n<pre><code>implementation(&quot;org.postgresql:postgresql:42.5.0&quot;)\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">This link is really useful for troubleshooting questions like that</a></p>\n"}],"owner":{"account_id":20886065,"reputation":1,"user_id":15342635,"display_name":"Saksham Bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686716270,"creation_date":1686713791,"question_id":76470002,"body_markdown":"I&#39;m trying to connect a remote postgreSQL server to my spring boot application but I&#39;m not sure how should I update the `application.properties` file.\r\n\r\nFor example hostname of the postgreSQL sever is `xyz.companyname.com` and port is `5432`\r\nWhat should I update in `application.properties` ?","title":"Connect postgreSQL sever in spring boot","body":"<p>I'm trying to connect a remote postgreSQL server to my spring boot application but I'm not sure how should I update the <code>application.properties</code> file.</p>\n<p>For example hostname of the postgreSQL sever is <code>xyz.companyname.com</code> and port is <code>5432</code>\nWhat should I update in <code>application.properties</code> ?</p>\n"},{"tags":["java","weka"],"comments":[{"owner":{"account_id":152705,"reputation":1475,"user_id":367391,"accept_rate":68,"display_name":"ali"},"score":0,"creation_date":1376925796,"post_id":18293584,"comment_id":26880712,"body_markdown":"How are your text files formatted?","body":"How are your text files formatted?"},{"owner":{"account_id":3195294,"reputation":84,"user_id":2698586,"display_name":"abhinna11"},"score":0,"creation_date":1377148692,"post_id":18293584,"comment_id":26977055,"body_markdown":"please state clearly, whether you want to merge all the files in the directory to create a single ARFF file of make separate ARFF files for each txt file?","body":"please state clearly, whether you want to merge all the files in the directory to create a single ARFF file of make separate ARFF files for each txt file?"},{"owner":{"account_id":1017368,"reputation":77,"user_id":1028634,"accept_rate":75,"display_name":"mohamed salem"},"score":0,"creation_date":1377262976,"post_id":18293584,"comment_id":27030608,"body_markdown":"The files are in the text format ( .txt) , inside each file, i can&#39;t tell exactly how they are organized as it&#39;s a captured data set &quot; EEG data set &quot;  -  i want to merge all the files in the directory to create a single ARFF file.","body":"The files are in the text format ( .txt) , inside each file, i can&#39;t tell exactly how they are organized as it&#39;s a captured data set &quot; EEG data set &quot;  -  i want to merge all the files in the directory to create a single ARFF file."},{"owner":{"account_id":939794,"reputation":2423,"user_id":968064,"accept_rate":86,"display_name":"Rushdi Shams"},"score":0,"creation_date":1377318918,"post_id":18293584,"comment_id":27051547,"body_markdown":"Are those text files containing attribute values or are they documents?","body":"Are those text files containing attribute values or are they documents?"},{"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"score":1,"creation_date":1398541697,"post_id":18293584,"comment_id":35697115,"body_markdown":"possible duplicate of [How to convert a text file into ARFF format?](http://stackoverflow.com/questions/9192318/how-to-convert-a-text-file-into-arff-format)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9192318/how-to-convert-a-text-file-into-arff-format\">How to convert a text file into ARFF format?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2290300,"reputation":1,"user_id":2013310,"display_name":"Anamika Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398840010,"creation_date":1398840010,"answer_id":23381285,"question_id":18293584,"body_markdown":"I was getting the same problem. I used CLI for conversion using the command: java weka.core.converters.TextDirectoryLoader -dir A:\\train &gt; A:\\train.\r\nI got the empty .arff file. I had the content ready in .txt file. I copied the content from .txt file to the .arff file and saved it. it worked for me. ","title":"Weka tool : how to convert txt files into arff format?","body":"<p>I was getting the same problem. I used CLI for conversion using the command: java weka.core.converters.TextDirectoryLoader -dir A:\\train > A:\\train.\nI got the empty .arff file. I had the content ready in .txt file. I copied the content from .txt file to the .arff file and saved it. it worked for me. </p>\n"},{"tags":[],"owner":{"account_id":69659,"reputation":9188,"user_id":202553,"accept_rate":71,"display_name":"knb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471170571,"creation_date":1471170234,"answer_id":38941288,"question_id":18293584,"body_markdown":"Checkout the github repository\r\n\r\nhttps://github.com/jeroenjanssens/data-science-at-the-command-line\r\n\r\nand use the `csv2arff` tool. \r\n\r\nExample:\r\n\r\n    &lt; /home/knut/R/x86_64-pc-linux-gnu-library/3.1/knitr/misc/tweak_bib.csv \r\n    csv2arff  \r\n    &gt; tweak_bib.csv.arff\r\n\r\n`csv2arff` is a very simple bash script. I recommend to check out the repository because you should also use `csv2arff` in conjunction with the loading script `data-science-at-the-command-line/tools/weka` supplied with this book/repo. The script then loads `weka.jar`.  \r\n\r\n\r\nLast time I checked, the `csv2arff`, or rather the class `core.converters.CSVLoader` did not work properly with weka 3.7. \r\n\r\n....\r\n\r\njust checking \r\n\r\n....\r\n\r\nOK. It works with weka 3.8.\r\n\r\nYou should set an environment variable WEKAPATH to the directory which contains your weka.jar.","title":"Weka tool : how to convert txt files into arff format?","body":"<p>Checkout the github repository</p>\n\n<p><a href=\"https://github.com/jeroenjanssens/data-science-at-the-command-line\" rel=\"nofollow\">https://github.com/jeroenjanssens/data-science-at-the-command-line</a></p>\n\n<p>and use the <code>csv2arff</code> tool. </p>\n\n<p>Example:</p>\n\n<pre><code>&lt; /home/knut/R/x86_64-pc-linux-gnu-library/3.1/knitr/misc/tweak_bib.csv \ncsv2arff  \n&gt; tweak_bib.csv.arff\n</code></pre>\n\n<p><code>csv2arff</code> is a very simple bash script. I recommend to check out the repository because you should also use <code>csv2arff</code> in conjunction with the loading script <code>data-science-at-the-command-line/tools/weka</code> supplied with this book/repo. The script then loads <code>weka.jar</code>.  </p>\n\n<p>Last time I checked, the <code>csv2arff</code>, or rather the class <code>core.converters.CSVLoader</code> did not work properly with weka 3.7. </p>\n\n<p>....</p>\n\n<p>just checking </p>\n\n<p>....</p>\n\n<p>OK. It works with weka 3.8.</p>\n\n<p>You should set an environment variable WEKAPATH to the directory which contains your weka.jar.</p>\n"}],"owner":{"account_id":1017368,"reputation":77,"user_id":1028634,"accept_rate":75,"display_name":"mohamed salem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7907,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686715686,"creation_date":1376775886,"question_id":18293584,"body_markdown":"I&#39;m having a data set composed of 100 txt files all contained in one folder &quot; named Z &quot;  &amp; I want to convert them into ARFF format. I&#39;m using Weka tool.\r\n\r\nI have done that in 2 ways but in both ways I got an empty ARFF file.\r\n\r\n1st way :  through Simple CLI contained in weka by using the below : \r\n\r\njava weka.core.converters.TextDirectoryLoader -dir D:\\Z &gt; D:\\ss.arff\r\n\r\n2nd way : through the GUI by trying to load the files using the same above convertor.\r\n\r\n==========================\r\nNote : the files are in text format &quot; .txt &quot; but they actually contain numbers not characters\r\n\r\n\r\n-------------\r\nIs there any way to get through that problem, if anyone can help or support I would be much appreciated.\r\n==\r\nThanks &amp; Best regards,\r\nMohamed ","title":"Weka tool : how to convert txt files into arff format?","body":"<p>I'm having a data set composed of 100 txt files all contained in one folder \" named Z \"  &amp; I want to convert them into ARFF format. I'm using Weka tool.</p>\n\n<p>I have done that in 2 ways but in both ways I got an empty ARFF file.</p>\n\n<p>1st way :  through Simple CLI contained in weka by using the below : </p>\n\n<p>java weka.core.converters.TextDirectoryLoader -dir D:\\Z > D:\\ss.arff</p>\n\n<p>2nd way : through the GUI by trying to load the files using the same above convertor.</p>\n\n<p>==========================\nNote : the files are in text format \" .txt \" but they actually contain numbers not characters</p>\n\n<hr>\n\n<h1>Is there any way to get through that problem, if anyone can help or support I would be much appreciated.</h1>\n\n<p>Thanks &amp; Best regards,\nMohamed </p>\n"},{"tags":["java","timestamp","rfc3339"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1636088684,"post_id":289311,"comment_id":123469059,"body_markdown":"For new readers to this question I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Use `OffsetDateTime` or `ZonedDateTime` from java.time, the modern Java date and time API. See [the answer by Arvind Kumar Avinash](https://stackoverflow.com/a/68428268/5772882).","body":"For new readers to this question I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Use <code>OffsetDateTime</code> or <code>ZonedDateTime</code> from java.time, the modern Java date and time API. See <a href=\"https://stackoverflow.com/a/68428268/5772882\">the answer by Arvind Kumar Avinash</a>."}],"answers":[{"tags":[],"owner":{"account_id":10282,"reputation":5778,"user_id":19347,"accept_rate":80,"display_name":"FoxyBOA"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1226641165,"creation_date":1226641165,"answer_id":289322,"question_id":289311,"body_markdown":"    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;h:m:ss.SZ&quot;);\r\n\r\nIs not what exactly you need?","title":"Output RFC 3339 Timestamp in Java","body":"<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd'T'h:m:ss.SZ\");\n</code></pre>\n\n<p>Is not what exactly you need?</p>\n"},{"tags":[],"owner":{"account_id":15912,"reputation":356,"user_id":34113,"display_name":"Biff"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1533117650,"creation_date":1226665711,"answer_id":289927,"question_id":289311,"body_markdown":"Check out the [Joda Time][1] package.  They make RFC 3339 date formatting a lot easier.\r\n\r\n**Joda Example:**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    DateTime dt = new DateTime(2011,1,2,12,45,0,0, DateTimeZone.UTC);\r\n    DateTimeFormatter fmt = ISODateTimeFormat.dateTime();\r\n    String outRfc = fmt.print(dt);\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"Output RFC 3339 Timestamp in Java","body":"<p>Check out the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda Time</a> package.  They make RFC 3339 date formatting a lot easier.</p>\n\n<p><strong>Joda Example:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DateTime dt = new DateTime(2011,1,2,12,45,0,0, DateTimeZone.UTC);\nDateTimeFormatter fmt = ISODateTimeFormat.dateTime();\nString outRfc = fmt.print(dt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24257,"reputation":615,"user_id":61588,"display_name":"Christian K."},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1233594434,"creation_date":1233594434,"answer_id":503968,"question_id":289311,"body_markdown":"The problem is that Z produces the time zone offset without a colon (:) as the separator.","title":"Output RFC 3339 Timestamp in Java","body":"<p>The problem is that Z produces the time zone offset without a colon (:) as the separator.</p>\n"},{"tags":[],"owner":{"account_id":9035,"reputation":9796,"user_id":16513,"display_name":"jjohn"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1399284419,"creation_date":1342466987,"answer_id":11511199,"question_id":289311,"body_markdown":"From the &quot;get it done dept,&quot; one solution is to use regexes to fix up the string after SimpleDateFormat has completed.  Something like s/(\\d{2})(\\d{2})$/$1:$2/ in Perl.  \r\n\r\nIf you are even remotely interested in this, I will edit this response with the working Java code.\r\n\r\nBut, yeah.  I am hitting this problem too.  RFC3339, I&#39;m looking at you!\r\n \r\nEDIT:\r\n\r\nThis works for me\r\n\r\n    // As a private class member\r\n    private SimpleDateFormat rfc3339 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n\r\n    String toRFC3339(Date d)\r\n    {\r\n       return rfc3339.format(d).replaceAll(&quot;(\\\\d\\\\d)(\\\\d\\\\d)$&quot;, &quot;$1:$2&quot;);\r\n    }\r\n\r\n","title":"Output RFC 3339 Timestamp in Java","body":"<p>From the \"get it done dept,\" one solution is to use regexes to fix up the string after SimpleDateFormat has completed.  Something like s/(\\d{2})(\\d{2})$/$1:$2/ in Perl.  </p>\n\n<p>If you are even remotely interested in this, I will edit this response with the working Java code.</p>\n\n<p>But, yeah.  I am hitting this problem too.  RFC3339, I'm looking at you!</p>\n\n<p>EDIT:</p>\n\n<p>This works for me</p>\n\n<pre><code>// As a private class member\nprivate SimpleDateFormat rfc3339 = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\");\n\nString toRFC3339(Date d)\n{\n   return rfc3339.format(d).replaceAll(\"(\\\\d\\\\d)(\\\\d\\\\d)$\", \"$1:$2\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382307,"reputation":12822,"user_id":737455,"accept_rate":95,"display_name":"crockpotveggies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344996659,"creation_date":1344996659,"answer_id":11963257,"question_id":289311,"body_markdown":"I found a stray PasteBin that helped me out with the issue: http://pastebin.com/y3TCAikc\r\n\r\nJust in case its contents later get deleted:\r\n\r\n    // I want 2008-11-13T12:23:30-08:00\r\n    String timestamp = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;h:m:ssZ&quot;).format(new Date());\r\n    System.out.println(timestamp); \r\n    // prints &quot;2008-11-13T12:23:30-0800&quot; See the difference?\r\n    \t\r\n    // Throws a ParseException\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;h:m:ssZ&quot;).parse(&quot;2008-11-13T13:23:30-08:00&quot;)\r\n    \t\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;h:m:ss.SZ&quot;);","title":"Output RFC 3339 Timestamp in Java","body":"<p>I found a stray PasteBin that helped me out with the issue: <a href=\"http://pastebin.com/y3TCAikc\" rel=\"nofollow\">http://pastebin.com/y3TCAikc</a></p>\n\n<p>Just in case its contents later get deleted:</p>\n\n<pre><code>// I want 2008-11-13T12:23:30-08:00\nString timestamp = new SimpleDateFormat(\"yyyy-MM-dd'T'h:m:ssZ\").format(new Date());\nSystem.out.println(timestamp); \n// prints \"2008-11-13T12:23:30-0800\" See the difference?\n\n// Throws a ParseException\nnew SimpleDateFormat(\"yyyy-MM-dd'T'h:m:ssZ\").parse(\"2008-11-13T13:23:30-08:00\")\n\nSimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd'T'h:m:ss.SZ\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306560,"reputation":524,"user_id":617376,"display_name":"Bladean Mericle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372935900,"creation_date":1368752275,"answer_id":16599814,"question_id":289311,"body_markdown":"I made a [InternetDateFormat][1] class for RFC3339.\r\n\r\nBut source code comment is Japanese.\r\n\r\nPS:I created English edition and refactoring a little.\r\n\r\n  [1]: http://mericleclerin.blogspot.jp/2013/07/internetdateformat-for-rfc3339.html","title":"Output RFC 3339 Timestamp in Java","body":"<p>I made a <a href=\"http://mericleclerin.blogspot.jp/2013/07/internetdateformat-for-rfc3339.html\" rel=\"nofollow\">InternetDateFormat</a> class for RFC3339.</p>\n\n<p>But source code comment is Japanese.</p>\n\n<p>PS:I created English edition and refactoring a little.</p>\n"},{"tags":[],"owner":{"account_id":11921,"reputation":6383,"user_id":23222,"accept_rate":73,"display_name":"Daniel Beck"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1396267971,"creation_date":1396267971,"answer_id":22761247,"question_id":289311,"body_markdown":"Starting in Java 7, there&#39;s the `X` pattern string for ISO8601 time zone. For strings in the format you describe, use `XXX`. [See the documentation](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#iso8601timezone).\r\n\r\nSample:\r\n\r\n    System.out.println(new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)\r\n            .format(new Date()));\r\n\r\nResult:\r\n\r\n    2014-03-31T14:11:29+02:00","title":"Output RFC 3339 Timestamp in Java","body":"<p>Starting in Java 7, there's the <code>X</code> pattern string for ISO8601 time zone. For strings in the format you describe, use <code>XXX</code>. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#iso8601timezone\" rel=\"noreferrer\">See the documentation</a>.</p>\n\n<p>Sample:</p>\n\n<pre><code>System.out.println(new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssXXX\")\n        .format(new Date()));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>2014-03-31T14:11:29+02:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6131871,"reputation":462,"user_id":4781799,"display_name":"Rahul Ravindran"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1432115533,"creation_date":1432115533,"answer_id":30346202,"question_id":289311,"body_markdown":"I spent quite a lot of time looking for an answer to the same issue and I found something here : http://developer.android.com/reference/java/text/SimpleDateFormat.html\r\n\r\nSuggested answer:\r\n\r\n`String timestamp = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;h:m:ssZZZZZ&quot;).format(new Date());`\r\n\r\nIf you notice I am using 5 &#39;Z&#39; instead of one. This gives the output with a colon in the offset like this: &quot;2008-11-13T12:23:30-08:00&quot;.  Hope it  helps.","title":"Output RFC 3339 Timestamp in Java","body":"<p>I spent quite a lot of time looking for an answer to the same issue and I found something here : <a href=\"http://developer.android.com/reference/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">http://developer.android.com/reference/java/text/SimpleDateFormat.html</a></p>\n\n<p>Suggested answer:</p>\n\n<p><code>String timestamp = new SimpleDateFormat(\"yyyy-MM-dd'T'h:m:ssZZZZZ\").format(new Date());</code></p>\n\n<p>If you notice I am using 5 'Z' instead of one. This gives the output with a colon in the offset like this: \"2008-11-13T12:23:30-08:00\".  Hope it  helps.</p>\n"},{"tags":[],"owner":{"account_id":11888988,"reputation":79,"user_id":8700476,"display_name":"Vijay Upadhyay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585548021,"creation_date":1585548021,"answer_id":60924847,"question_id":289311,"body_markdown":"We can simply use [ZonedDateTime class](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html &quot;Go To Java Doc&quot;) and [DateTimeFormatter class](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html &quot;Go To Java Doc&quot;) for this.\r\n\r\n```\r\nDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssxxx&quot;);\r\nZonedDateTime z2 = ZonedDateTime.now(ZoneOffset.UTC).truncatedTo(ChronoUnit.SECONDS);\r\nSystem.out.println(&quot;format =======&gt; &quot; + z2.format(format));\r\n```\r\nOutput: format =======&gt; 30-03-2020T05:57:37+00:00","title":"Output RFC 3339 Timestamp in Java","body":"<p>We can simply use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\" title=\"Go To Java Doc\">ZonedDateTime class</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\" title=\"Go To Java Doc\">DateTimeFormatter class</a> for this.</p>\n\n<pre><code>DateTimeFormatter format = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ssxxx\");\nZonedDateTime z2 = ZonedDateTime.now(ZoneOffset.UTC).truncatedTo(ChronoUnit.SECONDS);\nSystem.out.println(\"format =======&gt; \" + z2.format(format));\n</code></pre>\n\n<p>Output: format =======> 30-03-2020T05:57:37+00:00</p>\n"},{"tags":[],"owner":{"account_id":2805650,"reputation":300,"user_id":2412948,"display_name":"Mahan Hazrati Sagharchi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623337910,"creation_date":1623337910,"answer_id":67923953,"question_id":289311,"body_markdown":"i tried this format and worked for me `yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;`","title":"Output RFC 3339 Timestamp in Java","body":"<p>i tried this format and worked for me <code>yyyy-MM-dd'T'HH:mm:ss'Z'</code></p>\n"},{"tags":[],"owner":{"account_id":4337490,"reputation":91,"user_id":3541649,"display_name":"user3541649"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627200183,"creation_date":1626184016,"answer_id":68363670,"question_id":289311,"body_markdown":"I tested a lot with this one, works well for me... In particular when it comes to parsing (and for formatting too), it is the closest I have found so far\r\n\r\n    DateTimeFormatter rfc3339Formatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\r\n\r\n    DateTimeFormatter rfc3339Parser = new DateTimeFormatterBuilder()\r\n        .parseCaseInsensitive()\r\n        .appendValue(ChronoField.YEAR, 4)\r\n        .appendLiteral(&#39;-&#39;)\r\n        .appendValue(ChronoField.MONTH_OF_YEAR, 2)\r\n        .appendLiteral(&#39;-&#39;)\r\n        .appendValue(ChronoField.DAY_OF_MONTH, 2)\r\n        .appendLiteral(&#39;T&#39;)\r\n        .appendValue(ChronoField.HOUR_OF_DAY, 2)\r\n        .appendLiteral(&#39;:&#39;)\r\n        .appendValue(ChronoField.MINUTE_OF_HOUR, 2)\r\n        .appendLiteral(&#39;:&#39;)\r\n        .appendValue(ChronoField.SECOND_OF_MINUTE, 2)\r\n        .optionalStart()\r\n        .appendFraction(ChronoField.NANO_OF_SECOND, 2, 9, true) //2nd parameter: 2 for JRE (8, 11 LTS), 1 for JRE (17 LTS)\r\n        .optionalEnd()\r\n        .appendOffset(&quot;+HH:MM&quot;,&quot;Z&quot;)\r\n        .toFormatter()\r\n        .withResolverStyle(ResolverStyle.STRICT)\r\n        .withChronology(IsoChronology.INSTANCE);\r\n\r\nTest cases at https://github.com/guyplusplus/RFC3339-DateTimeFormatter","title":"Output RFC 3339 Timestamp in Java","body":"<p>I tested a lot with this one, works well for me... In particular when it comes to parsing (and for formatting too), it is the closest I have found so far</p>\n<pre><code>DateTimeFormatter rfc3339Formatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\n\nDateTimeFormatter rfc3339Parser = new DateTimeFormatterBuilder()\n    .parseCaseInsensitive()\n    .appendValue(ChronoField.YEAR, 4)\n    .appendLiteral('-')\n    .appendValue(ChronoField.MONTH_OF_YEAR, 2)\n    .appendLiteral('-')\n    .appendValue(ChronoField.DAY_OF_MONTH, 2)\n    .appendLiteral('T')\n    .appendValue(ChronoField.HOUR_OF_DAY, 2)\n    .appendLiteral(':')\n    .appendValue(ChronoField.MINUTE_OF_HOUR, 2)\n    .appendLiteral(':')\n    .appendValue(ChronoField.SECOND_OF_MINUTE, 2)\n    .optionalStart()\n    .appendFraction(ChronoField.NANO_OF_SECOND, 2, 9, true) //2nd parameter: 2 for JRE (8, 11 LTS), 1 for JRE (17 LTS)\n    .optionalEnd()\n    .appendOffset(&quot;+HH:MM&quot;,&quot;Z&quot;)\n    .toFormatter()\n    .withResolverStyle(ResolverStyle.STRICT)\n    .withChronology(IsoChronology.INSTANCE);\n</code></pre>\n<p>Test cases at <a href=\"https://github.com/guyplusplus/RFC3339-DateTimeFormatter\" rel=\"nofollow noreferrer\">https://github.com/guyplusplus/RFC3339-DateTimeFormatter</a></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626605205,"creation_date":1626604850,"answer_id":68428268,"question_id":289311,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nAlso, quoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:** The largest city in the [Pacific Time Zone][1] is Los Angeles whose timezone name is *America/Los_Angeles*. Using `ZoneId.of(&quot;America/Los_Angeles&quot;)`, you can create an instance of  `ZonedDateTime` which has been designed to adjust the timezone offset automatically on [DST](https://en.wikipedia.org/wiki/Daylight_saving_time) transitions.\r\n\r\nIf you need timezone offset but not the timezone name, you can convert a `ZonedDateTime` into `OffsetDateTime` using [`ZonedDateTime#toOffsetDateTime`][2]. Some other uses of `OffsetDateTime` are to create a Date-Time instance with a fixed timezone offset (e.g. `Instant.now().atOffset(ZoneOffset.of(&quot;+05:30&quot;))`, and to parse a Date-Time string with timezone offset. \r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.LocalTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tZoneId zoneIdLosAngeles = ZoneId.of(&quot;America/Los_Angeles&quot;);\r\n    \t\tZonedDateTime zdtNowLosAngeles = ZonedDateTime.now(zoneIdLosAngeles);\r\n    \t\tSystem.out.println(zdtNowLosAngeles);\r\n    \r\n    \t\t// With zone offset but without time zone name\r\n    \t\tOffsetDateTime odtNowLosAngeles = zdtNowLosAngeles.toOffsetDateTime();\r\n    \t\tSystem.out.println(odtNowLosAngeles);\r\n    \r\n    \t\t// Truncated up to seconds\r\n    \t\todtNowLosAngeles = odtNowLosAngeles.truncatedTo(ChronoUnit.SECONDS);\r\n    \t\tSystem.out.println(odtNowLosAngeles);\r\n    \r\n    \t\t// ################ A winter date-time ################\r\n    \t\tZonedDateTime zdtLosAngelesWinter = ZonedDateTime\r\n    \t\t\t\t.of(LocalDateTime.of(LocalDate.of(2021, 11, 20), LocalTime.of(10, 20)), zoneIdLosAngeles);\r\n    \t\tSystem.out.println(zdtLosAngelesWinter); // 2021-11-20T10:20-08:00[America/Los_Angeles]\r\n    \t\tSystem.out.println(zdtLosAngelesWinter.toOffsetDateTime()); // 2021-11-20T10:20-08:00\r\n    \r\n    \t\t// ################ Parsing a date-time string with zone offset ################\r\n    \t\tString strDateTime = &quot;2008-11-13T13:23:30-08:00&quot;;\r\n    \t\tOffsetDateTime odt = OffsetDateTime.parse(strDateTime);\r\n    \t\tSystem.out.println(odt); // 2008-11-13T13:23:30-08:00\r\n    \t}\r\n    }\r\n**Output from a sample run:**\r\n\r\n    2021-07-18T03:27:15.578028-07:00[America/Los_Angeles]\r\n    2021-07-18T03:27:15.578028-07:00\r\n    2021-07-18T03:27:15-07:00\r\n    2021-11-20T10:20-08:00[America/Los_Angeles]\r\n    2021-11-20T10:20-08:00\r\n    2008-11-13T13:23:30-08:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][3]\r\n\r\nYou must have noticed that I have not used a `DateTimeFormatter` to parse the Date-Time string of your question. It is because your Date-Time string is compliant with ISO-8601 standards. The modern Date-Time API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and does not require using a `DateTimeFormatter` object explicitly as long as the Date-Time string conforms to the ISO 8601 standards.\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Pacific_Time_Zone\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toOffsetDateTime--\r\n  [3]: https://ideone.com/LOGLlN","title":"Output RFC 3339 Timestamp in Java","body":"<h1 id=\"java.time-c5v4\"><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p>Also, quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong> The largest city in the <a href=\"https://en.wikipedia.org/wiki/Pacific_Time_Zone\" rel=\"nofollow noreferrer\">Pacific Time Zone</a> is Los Angeles whose timezone name is <em>America/Los_Angeles</em>. Using <code>ZoneId.of(&quot;America/Los_Angeles&quot;)</code>, you can create an instance of  <code>ZonedDateTime</code> which has been designed to adjust the timezone offset automatically on <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">DST</a> transitions.</p>\n<p>If you need timezone offset but not the timezone name, you can convert a <code>ZonedDateTime</code> into <code>OffsetDateTime</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toOffsetDateTime--\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#toOffsetDateTime</code></a>. Some other uses of <code>OffsetDateTime</code> are to create a Date-Time instance with a fixed timezone offset (e.g. <code>Instant.now().atOffset(ZoneOffset.of(&quot;+05:30&quot;))</code>, and to parse a Date-Time string with timezone offset.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n    public static void main(String[] args) {\n        ZoneId zoneIdLosAngeles = ZoneId.of(&quot;America/Los_Angeles&quot;);\n        ZonedDateTime zdtNowLosAngeles = ZonedDateTime.now(zoneIdLosAngeles);\n        System.out.println(zdtNowLosAngeles);\n\n        // With zone offset but without time zone name\n        OffsetDateTime odtNowLosAngeles = zdtNowLosAngeles.toOffsetDateTime();\n        System.out.println(odtNowLosAngeles);\n\n        // Truncated up to seconds\n        odtNowLosAngeles = odtNowLosAngeles.truncatedTo(ChronoUnit.SECONDS);\n        System.out.println(odtNowLosAngeles);\n\n        // ################ A winter date-time ################\n        ZonedDateTime zdtLosAngelesWinter = ZonedDateTime\n                .of(LocalDateTime.of(LocalDate.of(2021, 11, 20), LocalTime.of(10, 20)), zoneIdLosAngeles);\n        System.out.println(zdtLosAngelesWinter); // 2021-11-20T10:20-08:00[America/Los_Angeles]\n        System.out.println(zdtLosAngelesWinter.toOffsetDateTime()); // 2021-11-20T10:20-08:00\n\n        // ################ Parsing a date-time string with zone offset ################\n        String strDateTime = &quot;2008-11-13T13:23:30-08:00&quot;;\n        OffsetDateTime odt = OffsetDateTime.parse(strDateTime);\n        System.out.println(odt); // 2008-11-13T13:23:30-08:00\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2021-07-18T03:27:15.578028-07:00[America/Los_Angeles]\n2021-07-18T03:27:15.578028-07:00\n2021-07-18T03:27:15-07:00\n2021-11-20T10:20-08:00[America/Los_Angeles]\n2021-11-20T10:20-08:00\n2008-11-13T13:23:30-08:00\n</code></pre>\n<p><a href=\"https://ideone.com/LOGLlN\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>You must have noticed that I have not used a <code>DateTimeFormatter</code> to parse the Date-Time string of your question. It is because your Date-Time string is compliant with ISO-8601 standards. The modern Date-Time API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and does not require using a <code>DateTimeFormatter</code> object explicitly as long as the Date-Time string conforms to the ISO 8601 standards.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686713706,"creation_date":1686713706,"answer_id":76469995,"question_id":289311,"body_markdown":"Using Google Library\r\n\r\n```\r\nnew com.google.api.client.util.DateTime(new Date()).toStringRfc3339()\r\n```","title":"Output RFC 3339 Timestamp in Java","body":"<p>Using Google Library</p>\n<pre><code>new com.google.api.client.util.DateTime(new Date()).toStringRfc3339()\n</code></pre>\n"}],"owner":{"account_id":523,"reputation":42883,"user_id":680,"accept_rate":73,"display_name":"Cristian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66910,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":22761247,"answer_count":13,"score":47,"last_activity_date":1686713706,"creation_date":1226640365,"question_id":289311,"body_markdown":"I want to output a timestamp with a PST offset (e.g., 2008-11-13T13:23:30-08:00). `java.util.SimpleDateFormat` does not seem to output timezone offsets in the *hour:minute* format, it excludes the colon. Is there a simple way to get that timestamp in Java?\r\n\r\n    // I want 2008-11-13T12:23:30-08:00\r\n    String timestamp = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;h:m:ssZ&quot;).format(new Date());\r\n    System.out.println(timestamp); \r\n    // prints &quot;2008-11-13T12:23:30-0800&quot; See the difference?\r\n\r\nAlso, `SimpleDateFormat` cannot properly parse the example above. It throws a `ParseException`.\r\n\r\n    // Throws a ParseException\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;h:m:ssZ&quot;).parse(&quot;2008-11-13T13:23:30-08:00&quot;)","title":"Output RFC 3339 Timestamp in Java","body":"<p>I want to output a timestamp with a PST offset (e.g., 2008-11-13T13:23:30-08:00). <code>java.util.SimpleDateFormat</code> does not seem to output timezone offsets in the <em>hour:minute</em> format, it excludes the colon. Is there a simple way to get that timestamp in Java?</p>\n\n<pre><code>// I want 2008-11-13T12:23:30-08:00\nString timestamp = new SimpleDateFormat(\"yyyy-MM-dd'T'h:m:ssZ\").format(new Date());\nSystem.out.println(timestamp); \n// prints \"2008-11-13T12:23:30-0800\" See the difference?\n</code></pre>\n\n<p>Also, <code>SimpleDateFormat</code> cannot properly parse the example above. It throws a <code>ParseException</code>.</p>\n\n<pre><code>// Throws a ParseException\nnew SimpleDateFormat(\"yyyy-MM-dd'T'h:m:ssZ\").parse(\"2008-11-13T13:23:30-08:00\")\n</code></pre>\n"},{"tags":["java","logging","log4j","slf4j"],"comments":[{"owner":{"account_id":302679,"reputation":9593,"user_id":611182,"display_name":"Martin Ellis"},"score":4,"creation_date":1353262216,"post_id":13442967,"comment_id":18379377,"body_markdown":"You can&#39;t do this using the SLF4J API; you have to configure the logging backend (log4j, in your case) using its own API.","body":"You can&#39;t do this using the SLF4J API; you have to configure the logging backend (log4j, in your case) using its own API."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1353264525,"post_id":13442967,"comment_id":18379999,"body_markdown":"Do you want to change the level at which some messages are sent into the logging framework, or the level which is used to filter messages written to the log?","body":"Do you want to change the level at which some messages are sent into the logging framework, or the level which is used to filter messages written to the log?"},{"owner":{"account_id":226571,"reputation":5653,"user_id":487694,"accept_rate":67,"display_name":"Narendra"},"score":0,"creation_date":1353302718,"post_id":13442967,"comment_id":18388797,"body_markdown":"Can you tell me the difference between both?","body":"Can you tell me the difference between both?"},{"owner":{"account_id":435063,"reputation":4304,"user_id":821436,"accept_rate":79,"display_name":"Martin Schr&#246;der"},"score":0,"creation_date":1492593333,"post_id":13442967,"comment_id":74037445,"body_markdown":"Possible duplicate of [Setting log level of message at runtime in slf4j](http://stackoverflow.com/questions/2621701/setting-log-level-of-message-at-runtime-in-slf4j)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2621701/setting-log-level-of-message-at-runtime-in-slf4j\">Setting log level of message at runtime in slf4j</a>"},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":2,"creation_date":1513850655,"post_id":13442967,"comment_id":82812432,"body_markdown":"There are actually three ways of changing the logging level. (1) changing the level of all logging that is output by an appender, (2) changing the level of logging output for a class-specific logger, and (3) changing the level of individual logging statements at places in the code. With `SLF4j` you can&#39;t do #3, but you could in log4j if you use `logger.log(&quot;stuff&quot;, LEVEL);` since `LEVEL` could be from a variable. The latter would be something only required in very specific situations. So it&#39;s most likely Narendra meant changing the logging level per appender.","body":"There are actually three ways of changing the logging level. (1) changing the level of all logging that is output by an appender, (2) changing the level of logging output for a class-specific logger, and (3) changing the level of individual logging statements at places in the code. With <code>SLF4j</code> you can&#39;t do #3, but you could in log4j if you use <code>logger.log(&quot;stuff&quot;, LEVEL);</code> since <code>LEVEL</code> could be from a variable. The latter would be something only required in very specific situations. So it&#39;s most likely Narendra meant changing the logging level per appender."}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":2,"up_vote_count":12,"is_accepted":true,"score":10,"last_activity_date":1353264133,"creation_date":1353264133,"answer_id":13443307,"question_id":13442967,"body_markdown":"Consider Logback [http://logback.qos.ch/][1] - &quot;a successor to the popular log4j project, picking up where log4j leaves off&quot;. If instructed to do so, logback-classic will scan for changes in its configuration file and automatically reconfigure itself when the configuration file changes. Besides, you can control Logback&#39;s logging levels with JMX.\r\n\r\n\r\n  [1]: http://logback.qos.ch/\r\n\r\n","title":"How to dynamically change log level in SLF4j OR Log4J","body":"<p>Consider Logback <a href=\"http://logback.qos.ch/\" rel=\"noreferrer\">http://logback.qos.ch/</a> - \"a successor to the popular log4j project, picking up where log4j leaves off\". If instructed to do so, logback-classic will scan for changes in its configuration file and automatically reconfigure itself when the configuration file changes. Besides, you can control Logback's logging levels with JMX.</p>\n"},{"tags":[],"owner":{"account_id":50884,"reputation":500,"user_id":151887,"display_name":"David A"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1353266946,"creation_date":1353266946,"answer_id":13443723,"question_id":13442967,"body_markdown":"I had to do this once with log4j. The only way I could figure out how to do it was to call [getAllAppenders][1] on the Logger object. Then, loop through the appenders. If they extend the AppenderSkeleton class (they should), they will have the [setThreshold][2] method. Call this method with your new Level as the parameter. Subsequent calls to the logger should use the new level. This will set the level in memory, but not in your log4j configuration file. You may want to do this, too, unless it gets changed automatically when the admin changes the level via the front end. If it&#39;s an option, you may want to consider following Evgeniy Dorofeev&#39;s advice and use logback. It sounds like it would be easier.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Category.html#getAllAppenders%28%29\r\n  [2]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/AppenderSkeleton.html#setThreshold%28org.apache.log4j.Priority%29","title":"How to dynamically change log level in SLF4j OR Log4J","body":"<p>I had to do this once with log4j. The only way I could figure out how to do it was to call <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Category.html#getAllAppenders%28%29\" rel=\"noreferrer\">getAllAppenders</a> on the Logger object. Then, loop through the appenders. If they extend the AppenderSkeleton class (they should), they will have the <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/AppenderSkeleton.html#setThreshold%28org.apache.log4j.Priority%29\" rel=\"noreferrer\">setThreshold</a> method. Call this method with your new Level as the parameter. Subsequent calls to the logger should use the new level. This will set the level in memory, but not in your log4j configuration file. You may want to do this, too, unless it gets changed automatically when the admin changes the level via the front end. If it's an option, you may want to consider following Evgeniy Dorofeev's advice and use logback. It sounds like it would be easier.</p>\n"},{"tags":[],"owner":{"account_id":7687109,"reputation":517,"user_id":5824489,"display_name":"outofthecave"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1457808183,"creation_date":1457808183,"answer_id":35961823,"question_id":13442967,"body_markdown":"It is not possible to change the log level dynamically in slf4j, but some backends for slf4j support it, including log4j.\r\n\r\nThis solution worked for me:\r\n\r\n    org.apache.log4j.Logger logger4j = org.apache.log4j.Logger.getRootLogger();\r\n\tlogger4j.setLevel(org.apache.log4j.Level.toLevel(&quot;ERROR&quot;));\r\n\r\n(Source: http://prateep.info/2015/12/12/Dynamically-change-log-level-in-SLF4j-Log4J-with-Standalone-Java-Class/)\r\n\r\nThe disadvantage of this solution is that it uses the backend directly, which you&#39;re not supposed to do when using slf4j because the point of slf4j is to provide an abstraction away from the specific backend you&#39;re using.","title":"How to dynamically change log level in SLF4j OR Log4J","body":"<p>It is not possible to change the log level dynamically in slf4j, but some backends for slf4j support it, including log4j.</p>\n\n<p>This solution worked for me:</p>\n\n<pre><code>org.apache.log4j.Logger logger4j = org.apache.log4j.Logger.getRootLogger();\nlogger4j.setLevel(org.apache.log4j.Level.toLevel(\"ERROR\"));\n</code></pre>\n\n<p>(Source: <a href=\"http://prateep.info/2015/12/12/Dynamically-change-log-level-in-SLF4j-Log4J-with-Standalone-Java-Class/\">http://prateep.info/2015/12/12/Dynamically-change-log-level-in-SLF4j-Log4J-with-Standalone-Java-Class/</a>)</p>\n\n<p>The disadvantage of this solution is that it uses the backend directly, which you're not supposed to do when using slf4j because the point of slf4j is to provide an abstraction away from the specific backend you're using.</p>\n"},{"tags":[],"owner":{"account_id":9365523,"reputation":330,"user_id":6950568,"accept_rate":83,"display_name":"ScottSummers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567843201,"creation_date":1566298932,"answer_id":57572183,"question_id":13442967,"body_markdown":"As of `slf4j` version `1.7.26`, I was able to change the logging level.\r\n\r\nHere is the `logback.xml` in the source folder. In case of spring boot app, you might want to place it in the resources folder.\r\n\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;20000&quot;&gt;\r\n    \t&lt;include file=&quot;C:/logback-ext.xml&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\nThe `logback-ext.xml` file is kept at any external location. The `scanPeriod` is in milliseconds. In case this fails, try using `include resource` instead of `include file` in `logback.xml`.\r\n\r\n    &lt;included&gt;\r\n      &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n          &lt;pattern&gt;\r\n              %d{yyyy-MM-dd HH:mm:ss} %-5p [%t] --- %c{1}.%M:%L :: %m %n\r\n          &lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n      &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/root&gt;\r\n    &lt;/included&gt;\r\nI was able to change the logging level, logging pattern, attach/ detach new appenders and add/ remove appenders.\r\n\r\nThese are the dependencies in `pom.xml`\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.7.25&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCheers!","title":"How to dynamically change log level in SLF4j OR Log4J","body":"<p>As of <code>slf4j</code> version <code>1.7.26</code>, I was able to change the logging level.</p>\n\n<p>Here is the <code>logback.xml</code> in the source folder. In case of spring boot app, you might want to place it in the resources folder.</p>\n\n<pre><code>&lt;configuration scan=\"true\" scanPeriod=\"20000\"&gt;\n    &lt;include file=\"C:/logback-ext.xml\"/&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>The <code>logback-ext.xml</code> file is kept at any external location. The <code>scanPeriod</code> is in milliseconds. In case this fails, try using <code>include resource</code> instead of <code>include file</code> in <code>logback.xml</code>.</p>\n\n<pre><code>&lt;included&gt;\n  &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;\n          %d{yyyy-MM-dd HH:mm:ss} %-5p [%t] --- %c{1}.%M:%L :: %m %n\n      &lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n  &lt;root level=\"INFO\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n  &lt;/root&gt;\n&lt;/included&gt;\n</code></pre>\n\n<p>I was able to change the logging level, logging pattern, attach/ detach new appenders and add/ remove appenders.</p>\n\n<p>These are the dependencies in <code>pom.xml</code></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.25&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1667050263,"creation_date":1598970901,"answer_id":63689834,"question_id":13442967,"body_markdown":"For [SLF4J][1], this code will demonstrate how to control logger level programmatically (at run-time).\r\n\r\nThis answer assumes you are using [Logback Classic][2]:\r\n* Maven Central: https://search.maven.org/artifact/ch.qos.logback/logback-classic\r\n\r\nAssuming default SLF4J configuration:\r\n\r\n    final Logger logger = LoggerFactory.getLogger(LoggerListener.class);\r\n    // These five statements will log.\r\n    logger.error(&quot;error&quot;);\r\n    logger.warn(&quot;warn&quot;);\r\n    logger.info(&quot;info&quot;);\r\n    logger.debug(&quot;debug&quot;);\r\n    logger.trace(&quot;trace&quot;);\r\n\r\n    final ch.qos.logback.classic.Logger logger2 = (ch.qos.logback.classic.Logger) logger2;\r\n    @Nullable\r\n    final Level nullablePrevLevel = logger2.getLevel();\r\n    final Level level = Level.INFO;\r\n    logger2.setLevel(level);\r\n    logger.info(&quot;Change log level: [{}]-&gt;[{}]&quot;, nullablePrevLevel, level);\r\n\r\n    // These three statements will log.\r\n    logger.error(&quot;error&quot;);\r\n    logger.warn(&quot;warn&quot;);\r\n    logger.info(&quot;info&quot;);\r\n    // These two statements will not log.\r\n    logger.debug(&quot;debug&quot;);\r\n    logger.trace(&quot;trace&quot;);\r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://logback.qos.ch/","title":"How to dynamically change log level in SLF4j OR Log4J","body":"<p>For <a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">SLF4J</a>, this code will demonstrate how to control logger level programmatically (at run-time).</p>\n<p>This answer assumes you are using <a href=\"http://logback.qos.ch/\" rel=\"nofollow noreferrer\">Logback Classic</a>:</p>\n<ul>\n<li>Maven Central: <a href=\"https://search.maven.org/artifact/ch.qos.logback/logback-classic\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/ch.qos.logback/logback-classic</a></li>\n</ul>\n<p>Assuming default SLF4J configuration:</p>\n<pre><code>final Logger logger = LoggerFactory.getLogger(LoggerListener.class);\n// These five statements will log.\nlogger.error(&quot;error&quot;);\nlogger.warn(&quot;warn&quot;);\nlogger.info(&quot;info&quot;);\nlogger.debug(&quot;debug&quot;);\nlogger.trace(&quot;trace&quot;);\n\nfinal ch.qos.logback.classic.Logger logger2 = (ch.qos.logback.classic.Logger) logger2;\n@Nullable\nfinal Level nullablePrevLevel = logger2.getLevel();\nfinal Level level = Level.INFO;\nlogger2.setLevel(level);\nlogger.info(&quot;Change log level: [{}]-&gt;[{}]&quot;, nullablePrevLevel, level);\n\n// These three statements will log.\nlogger.error(&quot;error&quot;);\nlogger.warn(&quot;warn&quot;);\nlogger.info(&quot;info&quot;);\n// These two statements will not log.\nlogger.debug(&quot;debug&quot;);\nlogger.trace(&quot;trace&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21837,"reputation":1262,"user_id":53387,"display_name":"jdwyah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686713277,"creation_date":1686713277,"answer_id":76469969,"question_id":13442967,"body_markdown":"We&#39;re building [dynamic log adjustment](https://www.prefab.cloud/features/log-levels/) like this as a service and yes, slf4j itself doesn&#39;t support this. We solved this by doing an implementation in each popular logging framework and then publishing a different maven artifact.\r\n\r\nRather than set the level on the root logger, you may get better control / precision by using the filtering APIs. eg\r\n\r\n```java\r\npublic abstract class BaseTurboFilter extends TurboFilter {\r\n\r\n  @Override\r\n  public FilterReply decide(Marker marker, Logger logger, Level level, String s, Object[] objects, Throwable throwable) {\r\n    if (YOUR_LOGIC) {\r\n      return FilterReply.ACCEPT;\r\n    } \r\n    return FilterReply.NEUTRAL;\r\n  }\r\n}\r\n```\r\n\r\n\r\nFull example in a [Logback turbo filter](https://github.com/prefab-cloud/prefab-cloud-java/blob/main/logback-listener/src/main/java/cloud/prefab/client/config/logging/BaseTurboFilter.java)\r\n\r\nFull example in a [Log4j2 AbstractLoggingListener](https://github.com/prefab-cloud/prefab-cloud-java/blob/main/log4j-two-listener/src/main/java/cloud/prefab/client/config/logging/Log4j2ConfigListener.java) ","title":"How to dynamically change log level in SLF4j OR Log4J","body":"<p>We're building <a href=\"https://www.prefab.cloud/features/log-levels/\" rel=\"nofollow noreferrer\">dynamic log adjustment</a> like this as a service and yes, slf4j itself doesn't support this. We solved this by doing an implementation in each popular logging framework and then publishing a different maven artifact.</p>\n<p>Rather than set the level on the root logger, you may get better control / precision by using the filtering APIs. eg</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseTurboFilter extends TurboFilter {\n\n  @Override\n  public FilterReply decide(Marker marker, Logger logger, Level level, String s, Object[] objects, Throwable throwable) {\n    if (YOUR_LOGIC) {\n      return FilterReply.ACCEPT;\n    } \n    return FilterReply.NEUTRAL;\n  }\n}\n</code></pre>\n<p>Full example in a <a href=\"https://github.com/prefab-cloud/prefab-cloud-java/blob/main/logback-listener/src/main/java/cloud/prefab/client/config/logging/BaseTurboFilter.java\" rel=\"nofollow noreferrer\">Logback turbo filter</a></p>\n<p>Full example in a <a href=\"https://github.com/prefab-cloud/prefab-cloud-java/blob/main/log4j-two-listener/src/main/java/cloud/prefab/client/config/logging/Log4j2ConfigListener.java\" rel=\"nofollow noreferrer\">Log4j2 AbstractLoggingListener</a></p>\n"}],"owner":{"account_id":226571,"reputation":5653,"user_id":487694,"accept_rate":67,"display_name":"Narendra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45177,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":13443307,"answer_count":6,"score":27,"last_activity_date":1686713277,"creation_date":1353261997,"question_id":13442967,"body_markdown":"Recently I encountered a situation where Application `Loglevel` changes dynamically. Application Admin can set it to `INFO/DEBUG/ WARN` from front end. Based on the log level choosen be him application logging must be changed.\r\n\r\nI am sure loggers support this scenario. How can I achieve this?","title":"How to dynamically change log level in SLF4j OR Log4J","body":"<p>Recently I encountered a situation where Application <code>Loglevel</code> changes dynamically. Application Admin can set it to <code>INFO/DEBUG/ WARN</code> from front end. Based on the log level choosen be him application logging must be changed.</p>\n<p>I am sure loggers support this scenario. How can I achieve this?</p>\n"},{"tags":["java","linux","spring-boot","docker","smtp"],"answers":[{"tags":[],"owner":{"account_id":13305389,"reputation":13,"user_id":9605360,"display_name":"Quim PerVal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686713054,"creation_date":1686713054,"answer_id":76469956,"question_id":76285665,"body_markdown":"I found what was happening and successfully loaded the certificates.\r\n\r\nFirst, the container has his own path to the cacerts, in /etc/ssl/cacerts. \r\nAnd the tomcat server (catalina) has his own version of cacerts, /usr/tomcat/cacerts. \r\n\r\nIn the yaml file, as I mentioned before, in the volumes I added a reference to the path where in the host is placed the certificate of the CA authority:\r\n\r\n```\r\n    volumes:\r\n        - /pathInthehostTotheSSL:sslPathInTheContainer\r\n```\r\n\r\nAnd in the environment entry added the below\r\n```\r\n    environment:\r\n        - -JAVA-OPTS=-Djavax.net.ssl.trustStore=/etc/ssl/cacerts\r\n```\r\nin this way, catalina takes that as an argument an loads the certificate you added with keytool.\r\n\r\nIn the command entry, the keytool command shall point to the cacerts path you&#180;re passing in the JAVA-OPTS.\r\n\r\n```\r\ncommand: bash -c &quot;\r\n keytool -importcert -alias ca1 -noprompt -file /sslfolder/ca1.pem -trustcacerts -storepass changeit -keystore /etc/ssl/cacerts &amp;&amp;\r\n keytool -importcert -alias ca2 -noprompt -file /sslfolder/ca2.pem -trustcacerts -storepass changeit -keystore /etc/ssl/cacerts &amp;&amp;\r\ncatalina.sh run&quot;\r\n```\r\n\r\nAnd with this in the configuration the application was able to do the handshake while calling a remote server through HTTPS.","title":"load server certificate and CA certificate to be used in a Linux container, with keytool","body":"<p>I found what was happening and successfully loaded the certificates.</p>\n<p>First, the container has his own path to the cacerts, in /etc/ssl/cacerts.\nAnd the tomcat server (catalina) has his own version of cacerts, /usr/tomcat/cacerts.</p>\n<p>In the yaml file, as I mentioned before, in the volumes I added a reference to the path where in the host is placed the certificate of the CA authority:</p>\n<pre><code>    volumes:\n        - /pathInthehostTotheSSL:sslPathInTheContainer\n</code></pre>\n<p>And in the environment entry added the below</p>\n<pre><code>    environment:\n        - -JAVA-OPTS=-Djavax.net.ssl.trustStore=/etc/ssl/cacerts\n</code></pre>\n<p>in this way, catalina takes that as an argument an loads the certificate you added with keytool.</p>\n<p>In the command entry, the keytool command shall point to the cacerts path you´re passing in the JAVA-OPTS.</p>\n<pre><code>command: bash -c &quot;\n keytool -importcert -alias ca1 -noprompt -file /sslfolder/ca1.pem -trustcacerts -storepass changeit -keystore /etc/ssl/cacerts &amp;&amp;\n keytool -importcert -alias ca2 -noprompt -file /sslfolder/ca2.pem -trustcacerts -storepass changeit -keystore /etc/ssl/cacerts &amp;&amp;\ncatalina.sh run&quot;\n</code></pre>\n<p>And with this in the configuration the application was able to do the handshake while calling a remote server through HTTPS.</p>\n"}],"owner":{"account_id":13305389,"reputation":13,"user_id":9605360,"display_name":"Quim PerVal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76469956,"answer_count":1,"score":0,"last_activity_date":1686713054,"creation_date":1684463770,"question_id":76285665,"body_markdown":"I have a server running linux, Red Hat, and in the server I have docker running in swarm mode, and the way I create the containers is using yaml files. \r\n\r\nThe containers have alpine with tomcat server. The tomcat server is used to deploy an application built with Java 8 and Spring Boot 2.6.6.\r\n\r\nIn the application exist a logic to send emails, and now I&#39;m updating that to use a new email server that supports encryption and authentication. \r\n\r\nI already added the required variables in spring boot: port, server, user, password, start encryption, and so on. \r\n\r\nWhen I want to send an email I receive the below error: \r\n\r\n```\r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\r\nunable to find valid certification path to requested target at \r\nsun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:397)\r\n```\r\n\r\nBased on that error I pulled the certificate of the email server by using ssl tools, and as well I got the CA certificates. \r\n\r\nIn the yaml file I added the command key as shown below to import the certificates: \r\n\r\n```\r\n    command: bash -c &quot;keytool -importcert -alias smtp-server -keystore truststore -file /sslfolder/email.crt -storepass changeit -noprompt &amp;&amp;\r\n keytool -importcert -trustcacerts -alias ca-cert-smtp -keystore cacerts -file /sslfolder/ca.pem -storepass changeit -noprompt &amp;&amp;\r\n keytool -importcert -alias ca1 -noprompt -file /sslfolder/ca1.pem -trustcacerts -storepass changeit -keystore cacerts &amp;&amp;\r\n keytool -importcert -alias ca2 -noprompt -file /sslfolder/ca2.pem -trustcacerts -storepass changeit -keystore cacerts &amp;&amp;\r\ncatalina.sh run&quot;\r\n```\r\n\r\nAnd after that I&#39;m still getting the error PKIX path building failed. \r\n\r\nI also validated the certificates were imported by entering in the container and retrieving the certificates in truststore and cacerts, and they were imported.\r\n\r\nHas anyone faced the same error?","title":"load server certificate and CA certificate to be used in a Linux container, with keytool","body":"<p>I have a server running linux, Red Hat, and in the server I have docker running in swarm mode, and the way I create the containers is using yaml files.</p>\n<p>The containers have alpine with tomcat server. The tomcat server is used to deploy an application built with Java 8 and Spring Boot 2.6.6.</p>\n<p>In the application exist a logic to send emails, and now I'm updating that to use a new email server that supports encryption and authentication.</p>\n<p>I already added the required variables in spring boot: port, server, user, password, start encryption, and so on.</p>\n<p>When I want to send an email I receive the below error:</p>\n<pre><code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target at \nsun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:397)\n</code></pre>\n<p>Based on that error I pulled the certificate of the email server by using ssl tools, and as well I got the CA certificates.</p>\n<p>In the yaml file I added the command key as shown below to import the certificates:</p>\n<pre><code>    command: bash -c &quot;keytool -importcert -alias smtp-server -keystore truststore -file /sslfolder/email.crt -storepass changeit -noprompt &amp;&amp;\n keytool -importcert -trustcacerts -alias ca-cert-smtp -keystore cacerts -file /sslfolder/ca.pem -storepass changeit -noprompt &amp;&amp;\n keytool -importcert -alias ca1 -noprompt -file /sslfolder/ca1.pem -trustcacerts -storepass changeit -keystore cacerts &amp;&amp;\n keytool -importcert -alias ca2 -noprompt -file /sslfolder/ca2.pem -trustcacerts -storepass changeit -keystore cacerts &amp;&amp;\ncatalina.sh run&quot;\n</code></pre>\n<p>And after that I'm still getting the error PKIX path building failed.</p>\n<p>I also validated the certificates were imported by entering in the container and retrieving the certificates in truststore and cacerts, and they were imported.</p>\n<p>Has anyone faced the same error?</p>\n"},{"tags":["java","eclipse","console","printf","system.out"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1686759062,"post_id":76469802,"comment_id":134844276,"body_markdown":"This is when you would take advantage of Eclipse containing an actual debugger you can use to step through your code, line by line. Use the Debug menu instead of the Run menu to make use of it, after setting a breakpoint in your source code.","body":"This is when you would take advantage of Eclipse containing an actual debugger you can use to step through your code, line by line. Use the Debug menu instead of the Run menu to make use of it, after setting a breakpoint in your source code."}],"answers":[{"tags":[],"owner":{"account_id":19646623,"reputation":36,"user_id":14381483,"display_name":"Manan Dhiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686712895,"creation_date":1686712895,"answer_id":76469948,"question_id":76469802,"body_markdown":"There is nothing wrong the printf statement. It&#39;s the inner for loop that&#39;s wrong. The variable multiplier is initialised as 1, and the condition is &lt; 1.\r\n\r\nThe loop will never run because the condition is never met. As you&#39;re printing table, correct the inner for loop to:\r\n\r\n```java\r\nfor(int multiplier = 1; multiplier &lt;= 10; multiplier++)\r\n```","title":"printf is not showing up in the console Java Eclipse 19","body":"<p>There is nothing wrong the printf statement. It's the inner for loop that's wrong. The variable multiplier is initialised as 1, and the condition is &lt; 1.</p>\n<p>The loop will never run because the condition is never met. As you're printing table, correct the inner for loop to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int multiplier = 1; multiplier &lt;= 10; multiplier++)\n</code></pre>\n"}],"owner":{"account_id":20941872,"reputation":5,"user_id":15385735,"display_name":"Castaspella"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76469948,"answer_count":1,"score":0,"last_activity_date":1686712895,"creation_date":1686710519,"question_id":76469802,"body_markdown":"Every time I run my Java code on Eclipse JDK 19, the console says it&#39;s terminated but nothing shows up in there.\r\n\r\n```\r\npackage rnt;\r\n\r\nimport java.util.Arrays;\r\npublic class App {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tfor(int number = 1; number &lt; 10; number++) {\r\n\t\t\tfor(int multiplier = 1; multiplier &lt; 1; multiplier++) {\r\n\t\t\t\tSystem.out.printf(&quot;%d X %d = %d \\n&quot;, number, multiplier, number * multiplier);\r\n\t\t\t}\r\n\t\t}\t\r\n\r\n\t}\r\n}\r\n```\r\n\r\n[Image of my console](https://i.stack.imgur.com/ZPZDq.png)\r\n\r\nSo far I tried checking the compiler in the properties of my project, and [everything is running on version 19.](https://i.stack.imgur.com/FTGQW.png) I tried changing it to version 18 but still getting the same results.\r\n\r\nI checked if Eclipse needs updates and as of right now, everything is updated.\r\n\r\nI notice I tend to get errors whenever I try to use `System.out.printf` when I code in Java. Sometimes it works, sometimes it doesn&#39;t. I&#39;m following along with this [video ](https://youtu.be/A74TOX803D0?t=9629)it&#39;s just not working on mine.\r\n\r\nIs there any reason why `System.out.printf` is like this in Java?","title":"printf is not showing up in the console Java Eclipse 19","body":"<p>Every time I run my Java code on Eclipse JDK 19, the console says it's terminated but nothing shows up in there.</p>\n<pre><code>package rnt;\n\nimport java.util.Arrays;\npublic class App {\n\n    public static void main(String[] args) {\n\n        for(int number = 1; number &lt; 10; number++) {\n            for(int multiplier = 1; multiplier &lt; 1; multiplier++) {\n                System.out.printf(&quot;%d X %d = %d \\n&quot;, number, multiplier, number * multiplier);\n            }\n        }   \n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZPZDq.png\" rel=\"nofollow noreferrer\">Image of my console</a></p>\n<p>So far I tried checking the compiler in the properties of my project, and <a href=\"https://i.stack.imgur.com/FTGQW.png\" rel=\"nofollow noreferrer\">everything is running on version 19.</a> I tried changing it to version 18 but still getting the same results.</p>\n<p>I checked if Eclipse needs updates and as of right now, everything is updated.</p>\n<p>I notice I tend to get errors whenever I try to use <code>System.out.printf</code> when I code in Java. Sometimes it works, sometimes it doesn't. I'm following along with this <a href=\"https://youtu.be/A74TOX803D0?t=9629\" rel=\"nofollow noreferrer\">video </a>it's just not working on mine.</p>\n<p>Is there any reason why <code>System.out.printf</code> is like this in Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1407195535,"post_id":25129111,"comment_id":39113044,"body_markdown":"start by defining final data structure","body":"start by defining final data structure"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1407195679,"post_id":25129111,"comment_id":39113072,"body_markdown":"`HashSet` and `TreeSet` don&#39;t preserve insertion order, were you planning on using [`LinkedHashSet`](http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html)?","body":"<code>HashSet</code> and <code>TreeSet</code> don&#39;t preserve insertion order, were you planning on using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a>?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1407195746,"post_id":25129111,"comment_id":39113085,"body_markdown":"Check out guava&#39;s multimap","body":"Check out guava&#39;s multimap"},{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":1,"creation_date":1407195925,"post_id":25129111,"comment_id":39113129,"body_markdown":"One approach would be to provide both mappings when you insert an item (Note: this will double the space complexity of your algorithm). So when you insert the key `&#39;jacob&#39;` with the value `&#39;red&#39;`, you would also insert the key `&#39;red&#39;` with the value `&#39;jacob&#39;` (This would also change your map definition to `Map&lt;String, List&lt;String&gt;&gt;`","body":"One approach would be to provide both mappings when you insert an item (Note: this will double the space complexity of your algorithm). So when you insert the key <code>&#39;jacob&#39;</code> with the value <code>&#39;red&#39;</code>, you would also insert the key <code>&#39;red&#39;</code> with the value <code>&#39;jacob&#39;</code> (This would also change your map definition to <code>Map&lt;String, List&lt;String&gt;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407195889,"creation_date":1407195889,"answer_id":25129186,"question_id":25129111,"body_markdown":"As *Bohemian* mentionned, I&#39;d recommend you to use [Guava](http://code.google.com/p/guava-libraries/)&#39;s [`Multimap`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multimap.html).\r\n\r\nFor example:\r\n\r\n\t\tfinal Map&lt;String, String&gt; favoriteColors = new HashMap&lt;&gt;();\r\n\t\tfavoriteColors.put(&quot;Jacob&quot;, &quot;Red&quot;);\r\n\t\tfavoriteColors.put(&quot;Mason&quot;, &quot;Blue&quot;);\r\n\t\tfavoriteColors.put(&quot;Ethan&quot;, &quot;Green&quot;);\r\n\t\tfavoriteColors.put(&quot;William&quot;, &quot;Red&quot;);\r\n\r\n\t\tfinal Multimap&lt;String, String&gt; map = Multimaps.forMap(favoriteColors);\r\n\t\tfinal Multimap&lt;String, String&gt; inverted = ArrayListMultimap.create();\r\n\t\tMultimaps.invertFrom(map, inverted);\r\n\r\n\t\tSystem.out.println(inverted);\r\n\r\nOutput:\r\n\r\n    {Blue=[Mason], Red=[William, Jacob], Green=[Ethan]}","title":"Reverse a Map with results in a Set","body":"<p>As <em>Bohemian</em> mentionned, I'd recommend you to use <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava</a>'s <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multimap.html\" rel=\"nofollow\"><code>Multimap</code></a>.</p>\n\n<p>For example:</p>\n\n<pre><code>    final Map&lt;String, String&gt; favoriteColors = new HashMap&lt;&gt;();\n    favoriteColors.put(\"Jacob\", \"Red\");\n    favoriteColors.put(\"Mason\", \"Blue\");\n    favoriteColors.put(\"Ethan\", \"Green\");\n    favoriteColors.put(\"William\", \"Red\");\n\n    final Multimap&lt;String, String&gt; map = Multimaps.forMap(favoriteColors);\n    final Multimap&lt;String, String&gt; inverted = ArrayListMultimap.create();\n    Multimaps.invertFrom(map, inverted);\n\n    System.out.println(inverted);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{Blue=[Mason], Red=[William, Jacob], Green=[Ethan]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3249666,"reputation":336,"user_id":2740324,"display_name":"ipinyol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1407197588,"creation_date":1407197362,"answer_id":25129403,"question_id":25129111,"body_markdown":"Just in plain Java:\r\n\r\n        private Map&lt;String, Set&lt;String&gt;&gt; reverseMap(Map&lt;String, String&gt; map) {\r\n            Collection&lt;String&gt; values = map.values();\r\n            Iterator&lt;String&gt; it = values.iterator();\r\n            Map&lt;String, Set&lt;String&gt;&gt; reverseMap = new HashMap&lt;String, Set&lt;String&gt;&gt;();\r\n            while(it.hasNext()) {\r\n                String val = it.next();\r\n                Set&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n                reverseMap.put(val, set);\r\n            }\r\n        \r\n            Set&lt;String&gt; keys = map.keySet();\r\n            for (String key:keys) {\r\n                String val = map.get(key);\r\n                Set&lt;String&gt; set = reverseMap.get(val);\r\n                set.add(key);\r\n            }\r\n            return reverseMap;\r\n        }\r\n\r\nThe following code:\r\n\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n        map.put(&quot;John&quot;, &quot;Red&quot;);\r\n        map.put(&quot;Pepe&quot;, &quot;Blue&quot;);\r\n        map.put(&quot;Myself&quot;, &quot;Red&quot;);\r\n        \r\n        Map&lt;String, Set&lt;String&gt;&gt; out = reverseMap(map);\r\n        System.out.println(out);\r\n\r\nProduces:\r\n\r\n    {Blue=[Pepe], Red=[John, Myself]}","title":"Reverse a Map with results in a Set","body":"<p>Just in plain Java:</p>\n\n<pre><code>    private Map&lt;String, Set&lt;String&gt;&gt; reverseMap(Map&lt;String, String&gt; map) {\n        Collection&lt;String&gt; values = map.values();\n        Iterator&lt;String&gt; it = values.iterator();\n        Map&lt;String, Set&lt;String&gt;&gt; reverseMap = new HashMap&lt;String, Set&lt;String&gt;&gt;();\n        while(it.hasNext()) {\n            String val = it.next();\n            Set&lt;String&gt; set = new HashSet&lt;String&gt;();\n            reverseMap.put(val, set);\n        }\n\n        Set&lt;String&gt; keys = map.keySet();\n        for (String key:keys) {\n            String val = map.get(key);\n            Set&lt;String&gt; set = reverseMap.get(val);\n            set.add(key);\n        }\n        return reverseMap;\n    }\n</code></pre>\n\n<p>The following code:</p>\n\n<pre><code>    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    map.put(\"John\", \"Red\");\n    map.put(\"Pepe\", \"Blue\");\n    map.put(\"Myself\", \"Red\");\n\n    Map&lt;String, Set&lt;String&gt;&gt; out = reverseMap(map);\n    System.out.println(out);\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>{Blue=[Pepe], Red=[John, Myself]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686712778,"creation_date":1686712778,"answer_id":76469940,"question_id":25129111,"body_markdown":"Here is a stream-based approach using [`Collectors.groupingBy`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)) to perform the grouping:\r\n\r\n```lang-java\r\nprivate static &lt;K, V&gt; Map&lt;V, Set&lt;K&gt;&gt; reverseMapping(Map&lt;K, V&gt; map) {\r\n    return map.entrySet().stream()\r\n            .collect(Collectors.groupingBy(\r\n                    Map.Entry::getValue,\r\n                    Collectors.mapping(\r\n                            Map.Entry::getKey,\r\n                            Collectors.toSet())));\r\n}\r\n```","title":"Reverse a Map with results in a Set","body":"<p>Here is a stream-based approach using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>Collectors.groupingBy</code></a> to perform the grouping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;K, V&gt; Map&lt;V, Set&lt;K&gt;&gt; reverseMapping(Map&lt;K, V&gt; map) {\n    return map.entrySet().stream()\n            .collect(Collectors.groupingBy(\n                    Map.Entry::getValue,\n                    Collectors.mapping(\n                            Map.Entry::getKey,\n                            Collectors.toSet())));\n}\n</code></pre>\n"}],"owner":{"account_id":4844259,"reputation":25,"user_id":3908397,"display_name":"wpaverd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25129403,"answer_count":3,"score":0,"last_activity_date":1686712778,"creation_date":1407195248,"question_id":25129111,"body_markdown":"I am attempting to get a Map&lt;String, String&gt; to reverse the keys and values, then combine the new values into a Set.\r\n\r\nFor example,\r\n\r\n    Map&lt;String, String&gt; favoriteColors = new HashMap&lt;String, String&gt;();\r\n        favoriteColors.put(&quot;Jacob&quot;, &quot;Red&quot;);\r\n        favoriteColors.put(&quot;Mason&quot;, &quot;Blue&quot;);\r\n        favoriteColors.put(&quot;Ethan&quot;, &quot;Green&quot;);\r\n        favoriteColors.put(&quot;William&quot;, &quot;Red&quot;); reverseMapping(favoriteColors).entrySet()`\r\n\r\nWould return\r\n\r\nRed=(Jacob, William), Blue=(Mason), Green=(Ethan)\r\n\r\n\r\nI&#39;m not even really sure where to start with this. \r\n\r\nI&#39;ve thought about iterating through the original Map, but I can&#39;t think of a way to create new, unique Sets for every different color.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Reverse a Map with results in a Set","body":"<p>I am attempting to get a Map to reverse the keys and values, then combine the new values into a Set.</p>\n\n<p>For example,</p>\n\n<pre><code>Map&lt;String, String&gt; favoriteColors = new HashMap&lt;String, String&gt;();\n    favoriteColors.put(\"Jacob\", \"Red\");\n    favoriteColors.put(\"Mason\", \"Blue\");\n    favoriteColors.put(\"Ethan\", \"Green\");\n    favoriteColors.put(\"William\", \"Red\"); reverseMapping(favoriteColors).entrySet()`\n</code></pre>\n\n<p>Would return</p>\n\n<p>Red=(Jacob, William), Blue=(Mason), Green=(Ethan)</p>\n\n<p>I'm not even really sure where to start with this. </p>\n\n<p>I've thought about iterating through the original Map, but I can't think of a way to create new, unique Sets for every different color.</p>\n"},{"tags":["java","postman","postman-pre-request-script"],"comments":[{"owner":{"account_id":7990413,"reputation":23810,"user_id":6028443,"display_name":"Danny Dainton"},"score":1,"creation_date":1637738975,"post_id":70091370,"comment_id":123903586,"body_markdown":"This post from the Postman community fourm might help here. It explains how this can be achieved in the pre-request script. https://community.postman.com/t/async-operations/24314","body":"This post from the Postman community fourm might help here. It explains how this can be achieved in the pre-request script. <a href=\"https://community.postman.com/t/async-operations/24314\" rel=\"nofollow noreferrer\">community.postman.com/t/async-operations/24314</a>"}],"answers":[{"tags":[],"owner":{"account_id":2909645,"reputation":125,"user_id":2494203,"display_name":"elyod72"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686233460,"creation_date":1686233460,"answer_id":76432745,"question_id":70091370,"body_markdown":"I had this exact issue. The trick is that you have to nest the second request inside the first.\r\nSo, it should look something like this:\r\n\r\n    const sessionRequestData = {\r\n       ...\r\n    };\r\n    pm.sendRequest(sessionRequestData, function (err, res) {\r\n        ...\r\n        const customerSignonRequestData = {\r\n            ...\r\n        };\r\n        pm.sendRequest(customerSignonRequestData, function(err, res){\r\n            ...\r\n        });\r\n    });\r\n","title":"How to send multiple requests using Postman pre request script?","body":"<p>I had this exact issue. The trick is that you have to nest the second request inside the first.\nSo, it should look something like this:</p>\n<pre><code>const sessionRequestData = {\n   ...\n};\npm.sendRequest(sessionRequestData, function (err, res) {\n    ...\n    const customerSignonRequestData = {\n        ...\n    };\n    pm.sendRequest(customerSignonRequestData, function(err, res){\n        ...\n    });\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686712616,"creation_date":1686712616,"answer_id":76469928,"question_id":70091370,"body_markdown":"Here is how I did:\r\n\r\n```javascript\r\n\r\npm.sendRequest({\r\n    url: &quot;http://myurl.com/session&quot;,\r\n    method: &#39;POST&#39;,\r\n    header: { &#39;content-type&#39;: &#39;application/json&#39; },\r\n    body: {\r\n        mode: &#39;raw&#39;,\r\n        raw: JSON.stringify({\r\n            &quot;device&quot;: {\r\n                &quot;id&quot;: &quot;web&quot;,\r\n                &quot;type&quot;: &quot;WEB&quot;\r\n            }\r\n        })\r\n    }\r\n}, function (err, res) {\r\n    if (err) {\r\n        console.log(&quot;Error retrieving session id: &quot; + err);\r\n    } else {\r\n        console.log(&quot;Retrieved session data successfully&quot;);\r\n        const sessionId = res.json().session.id;\r\n        pm.sendRequest({\r\n            url: &quot;http://myurl.com/CustomerSignOn&quot;,\r\n            method: &#39;POST&#39;,\r\n            header: { &#39;content-type&#39;: &#39;application/json&#39; },\r\n            body: {\r\n                mode: &#39;raw&#39;,\r\n                raw: JSON.stringify({\r\n                    &quot;customerRequest&quot;: {\r\n                        &quot;identities&quot;: {\r\n                            &quot;identity&quot;: [\r\n                                {\r\n                                    &quot;data&quot;: &quot;sessionId&quot;,\r\n                                    &quot;value&quot;: sessionId\r\n                                }\r\n                            ]\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }, function (err, res) {\r\n            if (err) {\r\n                console.log(&quot;Unable to signon: &quot; + err);\r\n            } else {\r\n                console.log(&quot;Login successful: &quot; + JSON.stringify(res.json()));\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n```","title":"How to send multiple requests using Postman pre request script?","body":"<p>Here is how I did:</p>\n<pre class=\"lang-js prettyprint-override\"><code>\npm.sendRequest({\n    url: &quot;http://myurl.com/session&quot;,\n    method: 'POST',\n    header: { 'content-type': 'application/json' },\n    body: {\n        mode: 'raw',\n        raw: JSON.stringify({\n            &quot;device&quot;: {\n                &quot;id&quot;: &quot;web&quot;,\n                &quot;type&quot;: &quot;WEB&quot;\n            }\n        })\n    }\n}, function (err, res) {\n    if (err) {\n        console.log(&quot;Error retrieving session id: &quot; + err);\n    } else {\n        console.log(&quot;Retrieved session data successfully&quot;);\n        const sessionId = res.json().session.id;\n        pm.sendRequest({\n            url: &quot;http://myurl.com/CustomerSignOn&quot;,\n            method: 'POST',\n            header: { 'content-type': 'application/json' },\n            body: {\n                mode: 'raw',\n                raw: JSON.stringify({\n                    &quot;customerRequest&quot;: {\n                        &quot;identities&quot;: {\n                            &quot;identity&quot;: [\n                                {\n                                    &quot;data&quot;: &quot;sessionId&quot;,\n                                    &quot;value&quot;: sessionId\n                                }\n                            ]\n                        }\n                    }\n                })\n            }\n        }, function (err, res) {\n            if (err) {\n                console.log(&quot;Unable to signon: &quot; + err);\n            } else {\n                console.log(&quot;Login successful: &quot; + JSON.stringify(res.json()));\n            }\n        });\n    }\n});\n\n</code></pre>\n"}],"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686712616,"creation_date":1637733650,"question_id":70091370,"body_markdown":"In the following postman pre request script, I need to call multiple requests before I make an actual postman request. \r\n\r\nFirstly, it will call session API to retrieve the session id \r\n\r\nAfter session id is success only, then I need to call customer signon to make the user logged in. \r\n\r\nSo I did the following changes in my postman prerequest script but some how the **LocalSessionId** in the customer signon request is undefined.\r\n\r\n\r\n```javascript\r\nconst sessionRequestData = {\r\n    url: &quot;http://myurl.com/session&quot;,\r\n    method: &#39;POST&#39;,\r\n    header: { &#39;content-type&#39;: &#39;application/json&#39; },\r\n    body: {\r\n        mode: &#39;raw&#39;,\r\n        raw: JSON.stringify({\r\n    &quot;device&quot;: {\r\n        &quot;id&quot;: &quot;web&quot;,\r\n        &quot;type&quot;: &quot;WEB&quot;\r\n    }\r\n    }\r\n};\r\n\r\npm.sendRequest(sessionRequestData, function (err, res) {\r\n   var jsonData = res.json();\r\n    if (err) {\r\n        console.log(&quot;mailman: error retrieving session id&quot;+err);\r\n    }\r\n    else {\r\n        console.log(&quot;mailman: retrieved session data succesfully&quot;+ jsonData.session.id);\r\n        pm.variables.set(&quot;LocalSessionId&quot;, jsonData.security.session.id);\r\n       \r\n    }\r\n});\r\n\r\n\r\nconst customerSignonRequestData = {\r\n    url: &quot;http://myurl.com/CustomerSignOn&quot;,\r\n    method: &#39;POST&#39;,\r\n    header: { &#39;content-type&#39;: &#39;application/json&#39; },\r\n    body: {\r\n        mode: &#39;raw&#39;,\r\n        raw: JSON.stringify(  &quot;customerRequest&quot;: {\r\n        &quot;identities&quot;: {\r\n            &quot;identity&quot;: [\r\n                {\r\n                    &quot;data&quot;: &quot;sessionId&quot;,\r\n                    &quot;value&quot;: `${pm.variables.get(&quot;LocalSessionId&quot;)}`\r\n                }\r\n            ]\r\n        }\r\n    });\r\n\r\n\r\n pm.sendRequest(customerSignonRequestData, function(err, res){\r\n     console.log(&quot;customer sign on request &quot;+ JSON.stringify(customerSignonRequestData.body.raw))\r\n            var jsonData = res.json();\r\n            if (err) {\r\n       console.log(&quot;mailman: unable to signon&quot;+err);\r\n    } else {\r\n        \r\nconsole.log(&quot;mailman: login successful&quot;+ JSON.stringify(jsonData))\r\n    }\r\n        });\r\n\r\n```\r\n\r\nCan anyone suggest  how can I make sure that the customer signon is called after the session is retrieved only.\r\n\r\n","title":"How to send multiple requests using Postman pre request script?","body":"<p>In the following postman pre request script, I need to call multiple requests before I make an actual postman request.</p>\n<p>Firstly, it will call session API to retrieve the session id</p>\n<p>After session id is success only, then I need to call customer signon to make the user logged in.</p>\n<p>So I did the following changes in my postman prerequest script but some how the <strong>LocalSessionId</strong> in the customer signon request is undefined.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const sessionRequestData = {\n    url: &quot;http://myurl.com/session&quot;,\n    method: 'POST',\n    header: { 'content-type': 'application/json' },\n    body: {\n        mode: 'raw',\n        raw: JSON.stringify({\n    &quot;device&quot;: {\n        &quot;id&quot;: &quot;web&quot;,\n        &quot;type&quot;: &quot;WEB&quot;\n    }\n    }\n};\n\npm.sendRequest(sessionRequestData, function (err, res) {\n   var jsonData = res.json();\n    if (err) {\n        console.log(&quot;mailman: error retrieving session id&quot;+err);\n    }\n    else {\n        console.log(&quot;mailman: retrieved session data succesfully&quot;+ jsonData.session.id);\n        pm.variables.set(&quot;LocalSessionId&quot;, jsonData.security.session.id);\n       \n    }\n});\n\n\nconst customerSignonRequestData = {\n    url: &quot;http://myurl.com/CustomerSignOn&quot;,\n    method: 'POST',\n    header: { 'content-type': 'application/json' },\n    body: {\n        mode: 'raw',\n        raw: JSON.stringify(  &quot;customerRequest&quot;: {\n        &quot;identities&quot;: {\n            &quot;identity&quot;: [\n                {\n                    &quot;data&quot;: &quot;sessionId&quot;,\n                    &quot;value&quot;: `${pm.variables.get(&quot;LocalSessionId&quot;)}`\n                }\n            ]\n        }\n    });\n\n\n pm.sendRequest(customerSignonRequestData, function(err, res){\n     console.log(&quot;customer sign on request &quot;+ JSON.stringify(customerSignonRequestData.body.raw))\n            var jsonData = res.json();\n            if (err) {\n       console.log(&quot;mailman: unable to signon&quot;+err);\n    } else {\n        \nconsole.log(&quot;mailman: login successful&quot;+ JSON.stringify(jsonData))\n    }\n        });\n\n</code></pre>\n<p>Can anyone suggest  how can I make sure that the customer signon is called after the session is retrieved only.</p>\n"},{"tags":["java","eclipse","compiler-errors","java.util.scanner"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686713174,"post_id":76469909,"comment_id":134835482,"body_markdown":"Java is case sensitive, so `scanner cannot be resolved` is telling you about a symbol named `scanner` rather than a symbol named `Scanner`.","body":"Java is case sensitive, so <code>scanner cannot be resolved</code> is telling you about a symbol named <code>scanner</code> rather than a symbol named <code>Scanner</code>."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686712409,"creation_date":1686712409,"answer_id":76469912,"question_id":76469909,"body_markdown":"The `Scanner` reference is named `input` (not `scanner`). Change\r\n\r\n    String name = scanner.nextLine();\r\n\r\nto\r\n\r\n    String name = input.nextLine();\r\n\r\n**Or**, change\r\n\r\n    Scanner input = new Scanner(System.in);\r\n\r\nto\r\n\r\n    Scanner scanner = new Scanner(System.in);","title":"Unresolved compilation problem: scanner cannot be resolved. How do I solve this problem?","body":"<p>The <code>Scanner</code> reference is named <code>input</code> (not <code>scanner</code>). Change</p>\n<pre><code>String name = scanner.nextLine();\n</code></pre>\n<p>to</p>\n<pre><code>String name = input.nextLine();\n</code></pre>\n<p><strong>Or</strong>, change</p>\n<pre><code>Scanner input = new Scanner(System.in);\n</code></pre>\n<p>to</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\n</code></pre>\n"}],"owner":{"account_id":28816414,"reputation":1,"user_id":22069936,"display_name":"Mongoose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1686809935,"accepted_answer_id":76469912,"answer_count":1,"score":-1,"last_activity_date":1686712409,"creation_date":1686712333,"question_id":76469909,"body_markdown":"When running this code;\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Welcome to Bank of America&quot;);\r\n\t\tSystem.out.println(&quot;Input your name;&quot;);\r\n\t\tString name = scanner.nextLine();\r\n\t\tSystem.out.println(&quot;Hello there &quot;+name);\r\n\t}\r\n}\r\n```\r\n\r\nI receive the following error message;\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tscanner cannot be resolved\r\n\r\n\tat Main.main(Main.java:7)\r\n\r\n```\r\n\r\nI&#39;ve already searched online for solutions, and none of them work for me. Most of them show examples where a &#180;;&#180; is missing, or it wasn&#39;t imported, or that the JDK was out of date. I&#39;ve already imported java.util.Scanner, my JDK and version of Eclipse are up to date, I mean I installed them all 5 hours ago, I don&#39;t understand what the problem is or how to begin resolving it. I&#39;m working with the Eclipse IDE 2023-03 and jdk-20.","title":"Unresolved compilation problem: scanner cannot be resolved. How do I solve this problem?","body":"<p>When running this code;</p>\n<pre><code>import java.util.Scanner;\npublic class Main {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Welcome to Bank of America&quot;);\n        System.out.println(&quot;Input your name;&quot;);\n        String name = scanner.nextLine();\n        System.out.println(&quot;Hello there &quot;+name);\n    }\n}\n</code></pre>\n<p>I receive the following error message;</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    scanner cannot be resolved\n\n    at Main.main(Main.java:7)\n\n</code></pre>\n<p>I've already searched online for solutions, and none of them work for me. Most of them show examples where a ´;´ is missing, or it wasn't imported, or that the JDK was out of date. I've already imported java.util.Scanner, my JDK and version of Eclipse are up to date, I mean I installed them all 5 hours ago, I don't understand what the problem is or how to begin resolving it. I'm working with the Eclipse IDE 2023-03 and jdk-20.</p>\n"},{"tags":["java","android","build","aide-ide"],"owner":{"account_id":26255977,"reputation":1,"user_id":19928026,"display_name":"Laza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686711694,"creation_date":1686568888,"question_id":76456164,"body_markdown":"I installed a few libs and after installation, I compile the application during the compile *I obtained this error:*\r\n\r\n&lt;h1&gt;Build error&lt;/h1&gt;\r\n\r\n&lt;strong&gt;Packaging error: &lt;/strong&gt;java.io.FileNotFoundException: /storage/emulated/0/Android/data/com.aide.ui/cache/apk/app.apk-unsigned: open failed: ENOENT(No such file or directory","title":"Build Errror AIDE","body":"<p>I installed a few libs and after installation, I compile the application during the compile <em>I obtained this error:</em></p>\n<h1>Build error</h1>\n<p><strong>Packaging error: </strong>java.io.FileNotFoundException: /storage/emulated/0/Android/data/com.aide.ui/cache/apk/app.apk-unsigned: open failed: ENOENT(No such file or directory</p>\n"},{"tags":["java","apache-kafka","ksqldb"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1643838738,"post_id":70963086,"comment_id":125449254,"body_markdown":"A `NoClassDefFoundError` with message `Could not initialize class ...` says that the JVM has already tried and failed to load that class. If you go back further through the logs/output, do you get a different error message the first time the JVM tried and failed to load the class? Do you get a different error message the first time after you start Kafka?","body":"A <code>NoClassDefFoundError</code> with message <code>Could not initialize class ...</code> says that the JVM has already tried and failed to load that class. If you go back further through the logs/output, do you get a different error message the first time the JVM tried and failed to load the class? Do you get a different error message the first time after you start Kafka?"},{"owner":{"account_id":24066744,"reputation":155,"user_id":18043204,"display_name":"AE93"},"score":0,"creation_date":1643846377,"post_id":70963086,"comment_id":125451134,"body_markdown":"Thanks a lot for your reply! The error is the same whenever i run the command on ksql (even when i load different topics/data). The error does not appear in any other context. Looking into logs I see this &#39;org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Mac and os.arch=aarch64&#39; and &#39;Could not initialize class org.xerial.snappy.Snappyatorg.apache.kafka.common.compress.SnappyFactory.wrapForOutput(SnappyFactory.java:38)&#39; there are then many lines like that. Could it be the JVM I&#39;m running or permissions I am giving?","body":"Thanks a lot for your reply! The error is the same whenever i run the command on ksql (even when i load different topics/data). The error does not appear in any other context. Looking into logs I see this &#39;org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Mac and os.arch=aarch64&#39; and &#39;Could not initialize class org.xerial.snappy.Snappyatorg.apache.kafka.common.compress.S&zwnj;&#8203;nappyFactory.wrapFor&zwnj;&#8203;Output(SnappyFactory&zwnj;&#8203;.java:38)&#39; there are then many lines like that. Could it be the JVM I&#39;m running or permissions I am giving?"},{"owner":{"account_id":24066744,"reputation":155,"user_id":18043204,"display_name":"AE93"},"score":0,"creation_date":1643847559,"post_id":70963086,"comment_id":125451355,"body_markdown":"Ok so I think it may be because the snappy.jar file i have does not have a directory for Mac m1 (only intel x86) - any ideas where I could get this file? FYI this is just an idea after looking into it","body":"Ok so I think it may be because the snappy.jar file i have does not have a directory for Mac m1 (only intel x86) - any ideas where I could get this file? FYI this is just an idea after looking into it"}],"answers":[{"tags":[],"owner":{"account_id":24066744,"reputation":155,"user_id":18043204,"display_name":"AE93"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643853855,"creation_date":1643852910,"answer_id":70965044,"question_id":70963086,"body_markdown":"Solved the issue: The snappy.jar files in Confluent do not have M1 Mac compatibility. Download the jar files (https://repo1.maven.org/maven2/org/xerial/snappy/snappy-java/1.1.8.4/) and replace the existing files (do a search to find where the snappy.jar files exist as there are multiple).","title":"KSQL Java error when trying to create stream","body":"<p>Solved the issue: The snappy.jar files in Confluent do not have M1 Mac compatibility. Download the jar files (<a href=\"https://repo1.maven.org/maven2/org/xerial/snappy/snappy-java/1.1.8.4/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/xerial/snappy/snappy-java/1.1.8.4/</a>) and replace the existing files (do a search to find where the snappy.jar files exist as there are multiple).</p>\n"},{"tags":[],"owner":{"account_id":16666809,"reputation":1,"user_id":12045241,"display_name":"Jeffrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686710901,"creation_date":1686709133,"answer_id":76469742,"question_id":70963086,"body_markdown":"I had a issue were maven unit tests were failing with `java.lang.NoClassDefFoundError: Could not initialize class org.xerial.snappy.Snappy`\r\n\r\nThis issue did not happen in my peer&#39;s non M1 processor Macbooks.\r\n\r\nAs AE93 pointed adding `snappy-java` jar in the pom dependency list resolved the issue\r\n\r\nRef: &lt;https://mvnrepository.com/artifact/org.xerial.snappy/snappy-java/1.1.8.4&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.xerial.snappy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;snappy-java&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.8.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThank you AE93.","title":"KSQL Java error when trying to create stream","body":"<p>I had a issue were maven unit tests were failing with <code>java.lang.NoClassDefFoundError: Could not initialize class org.xerial.snappy.Snappy</code></p>\n<p>This issue did not happen in my peer's non M1 processor Macbooks.</p>\n<p>As AE93 pointed adding <code>snappy-java</code> jar in the pom dependency list resolved the issue</p>\n<p>Ref: <a href=\"https://mvnrepository.com/artifact/org.xerial.snappy/snappy-java/1.1.8.4\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.xerial.snappy/snappy-java/1.1.8.4</a></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.xerial.snappy&lt;/groupId&gt;\n  &lt;artifactId&gt;snappy-java&lt;/artifactId&gt;\n  &lt;version&gt;1.1.8.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thank you AE93.</p>\n"}],"owner":{"account_id":24066744,"reputation":155,"user_id":18043204,"display_name":"AE93"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686710901,"creation_date":1643837170,"question_id":70963086,"body_markdown":"I have a topic in Kafka with data and I want to create a stream in KSQL but i keep getting an error with Java. Any ideas what may be going on? The error is (note i have replaced some of the ksql command with xxx for brevity):\r\n\r\n&gt; Could not write the statement &#39;CREATE STREAM MESSAGES_00 (xxx) WITH\r\n&gt; (KAFKA_TOPIC=&#39;messages&#39;,VALUE_FORMAT=&#39;JSON&#39;);&#39; into the command topic.\r\n&gt; \r\n&gt; Caused by: Could not write the statement xxx into the command topic.\r\n&gt; \r\n&gt; Caused by: **java.lang.NoClassDefFoundError: Could not initialize\r\n&gt; class \torg.xerial.snappy.Snappy**\r\n&gt; \r\n&gt; Caused by: **Could not initialize class org.xerial.snappy.Snappy**\r\n\r\nAny ideas what may be causing this? I am running Java Azul 11 on Mac M1.\r\n\r\nThanks a lot for your help!","title":"KSQL Java error when trying to create stream","body":"<p>I have a topic in Kafka with data and I want to create a stream in KSQL but i keep getting an error with Java. Any ideas what may be going on? The error is (note i have replaced some of the ksql command with xxx for brevity):</p>\n<blockquote>\n<p>Could not write the statement 'CREATE STREAM MESSAGES_00 (xxx) WITH\n(KAFKA_TOPIC='messages',VALUE_FORMAT='JSON');' into the command topic.</p>\n<p>Caused by: Could not write the statement xxx into the command topic.</p>\n<p>Caused by: <strong>java.lang.NoClassDefFoundError: Could not initialize\nclass     org.xerial.snappy.Snappy</strong></p>\n<p>Caused by: <strong>Could not initialize class org.xerial.snappy.Snappy</strong></p>\n</blockquote>\n<p>Any ideas what may be causing this? I am running Java Azul 11 on Mac M1.</p>\n<p>Thanks a lot for your help!</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":15010990,"reputation":1358,"user_id":10835478,"display_name":"niceumang"},"score":0,"creation_date":1580733089,"post_id":60039244,"comment_id":106182248,"body_markdown":"show your Activity Code","body":"show your Activity Code"},{"owner":{"account_id":7124421,"reputation":1285,"user_id":5447822,"display_name":"Hussain"},"score":0,"creation_date":1580733280,"post_id":60039244,"comment_id":106182360,"body_markdown":"`images` is integer array? Are you sure you passing correct image path reference?","body":"<code>images</code> is integer array? Are you sure you passing correct image path reference?"},{"owner":{"account_id":16596017,"reputation":359,"user_id":11992856,"display_name":"Erald Developer"},"score":0,"creation_date":1580733315,"post_id":60039244,"comment_id":106182379,"body_markdown":"I want to know how do this in my activity","body":"I want to know how do this in my activity"},{"owner":{"account_id":7124421,"reputation":1285,"user_id":5447822,"display_name":"Hussain"},"score":0,"creation_date":1580733407,"post_id":60039244,"comment_id":106182419,"body_markdown":"You can check this [example](https://demonuts.com/select-multiple-images-gallery/)","body":"You can check this <a href=\"https://demonuts.com/select-multiple-images-gallery/\" rel=\"nofollow noreferrer\">example</a>"},{"owner":{"account_id":13038046,"reputation":867,"user_id":9422267,"display_name":"Avinash"},"score":0,"creation_date":1580733477,"post_id":60039244,"comment_id":106182454,"body_markdown":"check https://demonuts.com/select-multiple-images-gallery/","body":"check <a href=\"https://demonuts.com/select-multiple-images-gallery/\" rel=\"nofollow noreferrer\">demonuts.com/select-multiple-images-gallery</a>"},{"owner":{"account_id":16596017,"reputation":359,"user_id":11992856,"display_name":"Erald Developer"},"score":0,"creation_date":1580733490,"post_id":60039244,"comment_id":106182463,"body_markdown":"Yeah, but how can attach images to recyclerview","body":"Yeah, but how can attach images to recyclerview"},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1580733872,"post_id":60039244,"comment_id":106182654,"body_markdown":"What does `images` contain ? When you pass an `int` to `Picasso.get().load(..)` that `int` has to be the ID of a drawable (something like `R.drawable.image_name`).","body":"What does <code>images</code> contain ? When you pass an <code>int</code> to <code>Picasso.get().load(..)</code> that <code>int</code> has to be the ID of a drawable (something like <code>R.drawable.image_name</code>)."},{"owner":{"account_id":16596017,"reputation":359,"user_id":11992856,"display_name":"Erald Developer"},"score":0,"creation_date":1580736154,"post_id":60039244,"comment_id":106183866,"body_markdown":"@FedericoNavarrete Yes I did this","body":"@FedericoNavarrete Yes I did this"},{"owner":{"account_id":9212565,"reputation":1510,"user_id":6845131,"accept_rate":70,"display_name":"Vishist Varugeese"},"score":0,"creation_date":1580907248,"post_id":60039244,"comment_id":106251142,"body_markdown":"Please add relevant code along with the question","body":"Please add relevant code along with the question"}],"answers":[{"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580734976,"creation_date":1580734976,"answer_id":60039796,"question_id":60039244,"body_markdown":"Please refer to [this question][1] and [this question][2] \r\n\r\n    // before onCreate declare ---\r\n    final int PICK_IMAGE_MULTIPLE = 1;\r\n   \r\n    // in onclick listener\r\n    Intent intent = new Intent();\r\n    intent.setType(&quot;image/*&quot;);\r\n    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n    intent.setAction(Intent.ACTION_GET_CONTENT);\r\n    startActivityForResult(Intent.createChooser(intent,&quot;Select Picture&quot;), PICK_IMAGE_MULTIPLE);\r\n\r\nThen you should also override onActivityResult\r\n\r\n&gt;     @Override\r\n&gt;     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n&gt;         try {\r\n&gt;             // When an Image is picked\r\n&gt;             if (requestCode == PICK_IMAGE_MULTIPLE &amp;&amp; resultCode == RESULT_OK\r\n                    &amp;&amp; null != data) {\r\n&gt;                 // Get the Image from data\r\n\r\n&gt;                 String[] filePathColumn = { MediaStore.Images.Media.DATA };\r\n            imagesEncodedList = new ArrayList&lt;String&gt;();\r\n            if(data.getData()!=null){\r\n\r\n&gt;                     Uri mImageUri=data.getData();\r\n\r\n&gt;                     // Get the cursor\r\n&gt;                     Cursor cursor = getContentResolver().query(mImageUri,\r\n                            filePathColumn, null, null, null);\r\n&gt;                     // Move to first row\r\n&gt;                     cursor.moveToFirst();\r\n\r\n&gt;                     int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n&gt;                     imageEncoded  = cursor.getString(columnIndex);\r\n&gt;                     cursor.close();\r\n\r\n&gt;                 } else {\r\n&gt;                     if (data.getClipData() != null) {\r\n                    ClipData mClipData = data.getClipData();\r\n                    ArrayList&lt;Uri&gt; mArrayUri = new ArrayList&lt;Uri&gt;();\r\n                    for (int i = 0; i &lt; mClipData.getItemCount(); i++) {\r\n\r\n&gt;                             ClipData.Item item = mClipData.getItemAt(i);\r\n                        Uri uri = item.getUri();\r\n                        mArrayUri.add(uri);\r\n                        // Get the cursor\r\n                        Cursor cursor = getContentResolver().query(uri, filePathColumn, null, null, null);\r\n                        // Move to first row\r\n                        cursor.moveToFirst();\r\n\r\n&gt;                             int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n                        imageEncoded  = cursor.getString(columnIndex);\r\n                        imagesEncodedList.add(imageEncoded);\r\n                        cursor.close();\r\n\r\n&gt;                         }\r\n&gt;                         Log.v(&quot;LOG_TAG&quot;, &quot;Selected Images&quot; + mArrayUri.size());\r\n                }\r\n            }\r\n        } else {\r\n            Toast.makeText(this, &quot;You haven&#39;t picked Image&quot;,\r\n                        Toast.LENGTH_LONG).show();\r\n        }\r\n    } catch (Exception e) {\r\n        Toast.makeText(this, &quot;Something went wrong&quot;, Toast.LENGTH_LONG)\r\n                    .show();\r\n    }\r\n\r\n&gt;         super.onActivityResult(requestCode, resultCode, data);\r\n&gt;     }\r\n\r\nQuoted from https://stackoverflow.com/a/34047251/9640177\r\n  [1]: https://stackoverflow.com/q/5309190/9640177\r\n  [2]: https://stackoverflow.com/q/19585815/9640177","title":"Select multiple images from gallery and show in recyclerview","body":"<p>Please refer to <a href=\"https://stackoverflow.com/q/5309190/9640177\">this question</a> and <a href=\"https://stackoverflow.com/q/19585815/9640177\">this question</a> </p>\n\n<pre><code>// before onCreate declare ---\nfinal int PICK_IMAGE_MULTIPLE = 1;\n\n// in onclick listener\nIntent intent = new Intent();\nintent.setType(\"image/*\");\nintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\nintent.setAction(Intent.ACTION_GET_CONTENT);\nstartActivityForResult(Intent.createChooser(intent,\"Select Picture\"), PICK_IMAGE_MULTIPLE);\n</code></pre>\n\n<p>Then you should also override onActivityResult</p>\n\n<blockquote>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    try {\n        // When an Image is picked\n        if (requestCode == PICK_IMAGE_MULTIPLE &amp;&amp; resultCode == RESULT_OK\n                &amp;&amp; null != data) {\n            // Get the Image from data\n\n            String[] filePathColumn = { MediaStore.Images.Media.DATA };\n        imagesEncodedList = new ArrayList&lt;String&gt;();\n        if(data.getData()!=null){\n\n                Uri mImageUri=data.getData();\n\n                // Get the cursor\n                Cursor cursor = getContentResolver().query(mImageUri,\n                        filePathColumn, null, null, null);\n                // Move to first row\n                cursor.moveToFirst();\n\n                int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n                imageEncoded  = cursor.getString(columnIndex);\n                cursor.close();\n\n            } else {\n                if (data.getClipData() != null) {\n                ClipData mClipData = data.getClipData();\n                ArrayList&lt;Uri&gt; mArrayUri = new ArrayList&lt;Uri&gt;();\n                for (int i = 0; i &lt; mClipData.getItemCount(); i++) {\n\n                        ClipData.Item item = mClipData.getItemAt(i);\n                    Uri uri = item.getUri();\n                    mArrayUri.add(uri);\n                    // Get the cursor\n                    Cursor cursor = getContentResolver().query(uri, filePathColumn, null, null, null);\n                    // Move to first row\n                    cursor.moveToFirst();\n\n                        int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n                    imageEncoded  = cursor.getString(columnIndex);\n                    imagesEncodedList.add(imageEncoded);\n                    cursor.close();\n\n                    }\n                    Log.v(\"LOG_TAG\", \"Selected Images\" + mArrayUri.size());\n            }\n        }\n    } else {\n        Toast.makeText(this, \"You haven't picked Image\",\n                    Toast.LENGTH_LONG).show();\n    }\n} catch (Exception e) {\n    Toast.makeText(this, \"Something went wrong\", Toast.LENGTH_LONG)\n                .show();\n}\n\n    super.onActivityResult(requestCode, resultCode, data);\n}\n</code></pre>\n</blockquote>\n\n<p>Quoted from <a href=\"https://stackoverflow.com/a/34047251/9640177\">https://stackoverflow.com/a/34047251/9640177</a></p>\n"},{"tags":[],"owner":{"account_id":9212565,"reputation":1510,"user_id":6845131,"accept_rate":70,"display_name":"Vishist Varugeese"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580735101,"creation_date":1580735101,"answer_id":60039828,"question_id":60039244,"body_markdown":"You can try something like, \r\n\r\nDefine your recyclerView and adapter like this,\r\n\r\n    ArrayList&lt;Uri&gt; uri = new ArrayList&lt;&gt;();\r\n    RecyclerView recyclerView;\r\n    HorizontalRecyclerView adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        recyclerView = findViewById(R.id.recyclerview);\r\n\r\n        adapter = new HorizontalRecyclerView(uri);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n    }\r\n\r\nStep 1: Select multiple images from Gallery (can be inside an onClick)\r\n\r\n    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n    intent.setType(&quot;image/*&quot;);\r\n    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n    startActivityForResult(Intent.createChooser(intent, &quot;Pictures: &quot;), 1);\r\n\r\nStep 2: Once selected you need to extract the selected image&#39;s URI and store it in an `ArrayList&lt;Uri&gt;`\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 1) {\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                if (data.getClipData() != null) {\r\n                    int count = data.getClipData().getItemCount();\r\n                    for (int i = 0; i &lt; count; i++) {\r\n                        uri.add(data.getClipData().getItemAt(i).getUri());\r\n                    }\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n            } else if (data.getData() != null) {\r\n                String imagePath = data.getData().getPath();\r\n            }\r\n        }\r\n    }\r\n\r\nStep 3: Make changes to your Adapter like this\r\n\r\n    public class HorizontalRecyclerView extends RecyclerView.Adapter&lt;HorizontalRecyclerView.HorizontalViewHolder&gt; {\r\n        \r\n        private ArrayList&lt;Uri&gt; uri;\r\n    \r\n        public HorizontalRecyclerView(ArrayList&lt;Uri&gt; uri) {\r\n            this.uri = uri;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public HorizontalViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int i) {\r\n            LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n            View view = inflater.inflate(R.layout.item, parent, false);\r\n            return new HorizontalViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull HorizontalViewHolder horizontalViewHolder, int position) {\r\n            horizontalViewHolder.mImageRecyclerView.setImageURI(uri.get(position));\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return uri.size();\r\n        }\r\n    \r\n        public class HorizontalViewHolder extends RecyclerView.ViewHolder {\r\n            ImageView mImageRecyclerView;\r\n    \r\n            public HorizontalViewHolder(View itemView) {\r\n                super(itemView);\r\n                mImageRecyclerView = itemView.findViewById(R.id.imageView);\r\n            }\r\n        }\r\n    }\r\n\r\nThis should do the trick. Refer this [link][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47023265/6845131","title":"Select multiple images from gallery and show in recyclerview","body":"<p>You can try something like, </p>\n\n<p>Define your recyclerView and adapter like this,</p>\n\n<pre><code>ArrayList&lt;Uri&gt; uri = new ArrayList&lt;&gt;();\nRecyclerView recyclerView;\nHorizontalRecyclerView adapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    recyclerView = findViewById(R.id.recyclerview);\n\n    adapter = new HorizontalRecyclerView(uri);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(adapter);\n\n}\n</code></pre>\n\n<p>Step 1: Select multiple images from Gallery (can be inside an onClick)</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\nintent.setType(\"image/*\");\nintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\nstartActivityForResult(Intent.createChooser(intent, \"Pictures: \"), 1);\n</code></pre>\n\n<p>Step 2: Once selected you need to extract the selected image's URI and store it in an <code>ArrayList&lt;Uri&gt;</code></p>\n\n<pre><code>@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 1) {\n        if (resultCode == Activity.RESULT_OK) {\n            if (data.getClipData() != null) {\n                int count = data.getClipData().getItemCount();\n                for (int i = 0; i &lt; count; i++) {\n                    uri.add(data.getClipData().getItemAt(i).getUri());\n                }\n                adapter.notifyDataSetChanged();\n            }\n        } else if (data.getData() != null) {\n            String imagePath = data.getData().getPath();\n        }\n    }\n}\n</code></pre>\n\n<p>Step 3: Make changes to your Adapter like this</p>\n\n<pre><code>public class HorizontalRecyclerView extends RecyclerView.Adapter&lt;HorizontalRecyclerView.HorizontalViewHolder&gt; {\n\n    private ArrayList&lt;Uri&gt; uri;\n\n    public HorizontalRecyclerView(ArrayList&lt;Uri&gt; uri) {\n        this.uri = uri;\n    }\n\n    @NonNull\n    @Override\n    public HorizontalViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int i) {\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.item, parent, false);\n        return new HorizontalViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull HorizontalViewHolder horizontalViewHolder, int position) {\n        horizontalViewHolder.mImageRecyclerView.setImageURI(uri.get(position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return uri.size();\n    }\n\n    public class HorizontalViewHolder extends RecyclerView.ViewHolder {\n        ImageView mImageRecyclerView;\n\n        public HorizontalViewHolder(View itemView) {\n            super(itemView);\n            mImageRecyclerView = itemView.findViewById(R.id.imageView);\n        }\n    }\n}\n</code></pre>\n\n<p>This should do the trick. Refer this <a href=\"https://stackoverflow.com/a/47023265/6845131\">link</a>.</p>\n"}],"owner":{"account_id":16596017,"reputation":359,"user_id":11992856,"display_name":"Erald Developer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7982,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":60039828,"answer_count":2,"score":1,"last_activity_date":1686710216,"creation_date":1580732893,"question_id":60039244,"body_markdown":"I have to select multiple images from gallery and display them into horizontal recycler view, but I&#39;m confusing how to do it right. I&#39;ve created a recyclerview adapter for it\r\n```\r\npublic class HorizontalRecyclerView extends RecyclerView.Adapter&lt;HorizontalRecyclerView.HorizontalViewHolder&gt; {\r\n\r\n    private int[] images;\r\n    private Uri uri;\r\n\r\n    public HorizontalRecyclerView(int[] images, Uri uri) {\r\n        this.images = images;\r\n        this.uri = uri;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public HorizontalViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int i) {\r\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n        View view = inflater.inflate(R.layout.row_image, parent, false);\r\n        return new HorizontalViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull HorizontalViewHolder horizontalViewHolder, int position) {\r\n        //horizontalViewHolder.mImageRecyclerView.setImageResource(images[position]);\r\n        horizontalViewHolder.mImageRecyclerView.setImageURI(uri);\r\n\r\n        Picasso.get()\r\n                .load(images[position])\r\n                .into(horizontalViewHolder.mImageRecyclerView);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return images.length;\r\n    }\r\n\r\n    public class HorizontalViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView mImageRecyclerView;\r\n\r\n        public HorizontalViewHolder(View itemView) {\r\n            super(itemView);\r\n            mImageRecyclerView = itemView.findViewById(R.id.imgLoader);\r\n        }\r\n    }\r\n}\r\n```\r\nCan someone explain how can I do right?","title":"Select multiple images from gallery and show in recyclerview","body":"<p>I have to select multiple images from gallery and display them into horizontal recycler view, but I'm confusing how to do it right. I've created a recyclerview adapter for it</p>\n\n<pre><code>public class HorizontalRecyclerView extends RecyclerView.Adapter&lt;HorizontalRecyclerView.HorizontalViewHolder&gt; {\n\n    private int[] images;\n    private Uri uri;\n\n    public HorizontalRecyclerView(int[] images, Uri uri) {\n        this.images = images;\n        this.uri = uri;\n    }\n\n    @NonNull\n    @Override\n    public HorizontalViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int i) {\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.row_image, parent, false);\n        return new HorizontalViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull HorizontalViewHolder horizontalViewHolder, int position) {\n        //horizontalViewHolder.mImageRecyclerView.setImageResource(images[position]);\n        horizontalViewHolder.mImageRecyclerView.setImageURI(uri);\n\n        Picasso.get()\n                .load(images[position])\n                .into(horizontalViewHolder.mImageRecyclerView);\n    }\n\n    @Override\n    public int getItemCount() {\n        return images.length;\n    }\n\n    public class HorizontalViewHolder extends RecyclerView.ViewHolder {\n        ImageView mImageRecyclerView;\n\n        public HorizontalViewHolder(View itemView) {\n            super(itemView);\n            mImageRecyclerView = itemView.findViewById(R.id.imgLoader);\n        }\n    }\n}\n</code></pre>\n\n<p>Can someone explain how can I do right?</p>\n"},{"tags":["java","angular","spring-boot","cors"],"comments":[{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1686596409,"post_id":76454041,"comment_id":134817735,"body_markdown":"What does your `GET` request look like? Is it preflighted? If so, what does the preflight request look like?","body":"What does your <code>GET</code> request look like? Is it preflighted? If so, what does the preflight request look like?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1686627819,"post_id":76454041,"comment_id":134821371,"body_markdown":"@jub0bs Thanks for your help! I&#39;ve added a debug session experienced from client side (Angular) in my question.","body":"@jub0bs Thanks for your help! I&#39;ve added a debug session experienced from client side (Angular) in my question."},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1686629160,"post_id":76454041,"comment_id":134821463,"body_markdown":"Have you tried using @CrossOrigin","body":"Have you tried using @CrossOrigin"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1686638513,"post_id":76454041,"comment_id":134822436,"body_markdown":"About preflight, see https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request","body":"About preflight, see <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Glossary/Preflight_request</a>"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1686638542,"post_id":76454041,"comment_id":134822440,"body_markdown":"Also, screenshots of the relevant request(s) in your browser&#39;s Network tab would be more useful.","body":"Also, screenshots of the relevant request(s) in your browser&#39;s Network tab would be more useful."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1686640157,"post_id":76454041,"comment_id":134822753,"body_markdown":"@ZahidKhan I saw that exchanging `@CorsConfig` implementation by `@CrossOrigin(origins={&quot;http://localhost:4200&quot;, &quot;http://localhost:8080&quot;...}` on the top of the REST controller seems to solve the issue. I&#39;m investingating to ensure this, everywhere. But then, this would tend to confirm that what is inside my `@Config` annotated class isn&#39;t taken into account.","body":"@ZahidKhan I saw that exchanging <code>@CorsConfig</code> implementation by <code>@CrossOrigin(origins={&quot;http:&#47;&#47;localhost:4200&quot;, &quot;http:&#47;&#47;localhost:8080&quot;...}</code> on the top of the REST controller seems to solve the issue. I&#39;m investingating to ensure this, everywhere. But then, this would tend to confirm that what is inside my <code>@Config</code> annotated class isn&#39;t taken into account."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":1,"creation_date":1686640281,"post_id":76454041,"comment_id":134822783,"body_markdown":"@jub0bs I&#39;ll try to get these screenshot later (I&#39;m not in front of my computer, yet)","body":"@jub0bs I&#39;ll try to get these screenshot later (I&#39;m not in front of my computer, yet)"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1686710354,"post_id":76454041,"comment_id":134835269,"body_markdown":"@jub0bs I&#39;ve checked. The Network tab content of my browser is dumped as Request and Reponse at the beginning of my question. But I don&#39;t know of to get the preflight request if some has been emitted. Neither on _Firefox_ or _Chrome_ I see where to go to dump it.","body":"@jub0bs I&#39;ve checked. The Network tab content of my browser is dumped as Request and Reponse at the beginning of my question. But I don&#39;t know of to get the preflight request if some has been emitted. Neither on <i>Firefox</i> or <i>Chrome</i> I see where to go to dump it."}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686710066,"creation_date":1686550956,"question_id":76454041,"body_markdown":"My web site on `http://localhost:4200`  \r\nis calling a REST service implemented by _Spring Boot_ on `http://localhost:9090`.\r\n\r\nThe REST service is declared that way:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(value=&quot;/cog&quot;, name=&quot;cog&quot;)\r\n@OpenAPIDefinition(info = @Info(title = &quot;Maillage territorial par le Code Officiel G&#233;ographique&quot;))\r\npublic class COGController {\r\n   @RequestMapping(value = &quot;/communesTriLocale&quot;, method=RequestMethod.GET)\r\n   public List&lt;Commune&gt; obtenirCommunesTriParLocale(\r\n      @RequestParam(name=&quot;anneeCOG&quot;) int anneeCOG, @RequestParam(name=&quot;locale&quot;) String locale) {\r\n      [...]\r\n   }\r\n}\r\n```\r\n\r\nIt needs CORS settings, I introduce with a `@Config`:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class CorsConfig implements WebMvcConfigurer {\r\n   /** Logger. */\r\n   private static final Logger LOGGER = LoggerFactory.getLogger(CorsConfig.class);\r\n\r\n   /** Mapping pour CORS. */\r\n   @Value(&quot;${backend.cors.mapping}&quot;)\r\n   private String corsMapping;\r\n\r\n   /** Origine autoris&#233;e pour CORS. */\r\n   @Value(&quot;${backend.cors.allowedOrigins:null}&quot;)\r\n   private String corsAllowedOrigins;\r\n\r\n   /** M&#233;thodes HTTP autoris&#233;es pour CORS. */\r\n   @Value(&quot;${backend.cors.allowedMethods:null}&quot;)\r\n   private String corsAllowedMethods;\r\n\r\n   /** Exposed headers pour CORS. */\r\n   @Value(&quot;${backend.cors.exposedHeaders:null}&quot;)\r\n   private String corsExposedHeaders;\r\n\r\n   /**\r\n    * {@inheritDoc}\r\n    */\r\n   @Override\r\n   public void addCorsMappings(CorsRegistry registry) {\r\n      CorsRegistration registration = registry.addMapping(this.corsMapping);\r\n      LOGGER.info(&quot;Les r&#232;gles CORS du backend m&#233;tier autorisent pour pour le mapping {} :&quot;, this.corsMapping);\r\n\r\n      if (this.corsAllowedOrigins != null) {\r\n         registration.allowedOrigins(this.corsAllowedOrigins);\r\n         LOGGER.info(&quot;\\t- AllowedOrigins : {}&quot;, this.corsAllowedOrigins);\r\n      }\r\n\r\n      if (this.corsAllowedMethods != null) {\r\n         registration.allowedMethods(this.corsAllowedMethods);\r\n         LOGGER.info(&quot;\\t- AllowedMethods : {}&quot;, this.corsAllowedMethods);\r\n      }\r\n\r\n      if (this.corsExposedHeaders != null) {\r\n         registration.exposedHeaders(this.corsExposedHeaders);\r\n         LOGGER.info(&quot;\\t- ExposedHeaders : {}&quot;, this.corsExposedHeaders);\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nThings look OK at the beginning, as with my chosen properties values, _Spring Boot_ is logging this, after starting this web server on the port `9090`:\r\n\r\n```log\r\nINFO Application : Starting Application v0.0.12-SNAPSHOT using Java 17.0.6 on debian with PID 449341 [...]\r\nINFO TomcatWebServer: Tomcat initialized with port(s): 9090 (http)\r\n[...]\r\nINFO CorsConfig : Les r&#232;gles CORS du backend m&#233;tier autorisent pour pour le mapping /** :\r\nINFO CorsConfig :         - AllowedOrigins : http://localhost:4200\r\nINFO CorsConfig :         - AllowedMethods : GET,POST,PUT,PATCH,DELETE,OPTIONS\r\nINFO CorsConfig :         - ExposedHeaders : Authorization\r\n```\r\n\r\nHowever, my web request to `http://localhost:9090/cog/communesTriLocale?anneeCOG=2022&amp;locale=fr_FR`, done through an _Angular_ web site using _OpenApi_ for that, is failing with a `403` HTTP code, and the message:\r\n\r\n```\r\nBlocage d’une requ&#234;te multiorigines (Cross-Origin Request) : \r\nla politique &#171; Same Origin &#187; ne permet pas de consulter la ressource distante situ&#233;e sur \r\nhttp://localhost:9090/cog/communesTriLocale?anneeCOG=2022&amp;locale=fr_FR. \r\nRaison : l’en-t&#234;te CORS &#171; Access-Control-Allow-Origin &#187; est manquant. Code d’&#233;tat : 403.\r\n```\r\n\r\n\r\nThe browser exposing this exchange on the Network debug tab (coming from the Browser):\r\n\r\nfor request header:\r\n\r\n```http\r\nGET /cog/communesTriLocale?anneeCOG=2022&amp;locale=fr_FR HTTP/1.1\r\nHost: localhost:9090\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101 Firefox/102.0\r\nAccept: */*\r\nAccept-Language: fr,fr-FR;q=0.8,en-US;q=0.5,en;q=0.3\r\nAccept-Encoding: gzip, deflate, br\r\nOrigin: http://localhost:4200\r\nConnection: keep-alive\r\nReferer: http://localhost:4200/\r\nSec-Fetch-Dest: empty\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Site: same-site\r\n```\r\n\r\nfor response header:\r\n\r\n```http\r\nHTTP/1.1 403 \r\nVary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers\r\nTransfer-Encoding: chunked\r\nDate: Mon, 12 Jun 2023 06:00:33 GMT\r\nKeep-Alive: timeout=60\r\nConnection: keep-alive\r\n```\r\n\r\nOr, if I do a curl from a command line, I&#39;m receiving this:\r\n\r\n```http\r\n* Connected to localhost (::1) port 9090 (#0)\r\n&gt; GET /cog/communesTriLocale?anneeCOG=2022&amp;locale=fr_FR HTTP/1.1\r\n&gt; Host: localhost:9090\r\n&gt; User-Agent: curl/7.74.0\r\n&gt; Accept: */*\r\n```\r\n\r\n```http\r\n&lt; HTTP/1.1 200 \r\n&lt; Vary: Origin\r\n&lt; Vary: Access-Control-Request-Method\r\n&lt; Vary: Access-Control-Request-Headers\r\n&lt; Content-Type: application/json\r\n&lt; Transfer-Encoding: chunked\r\n&lt; Date: Mon, 12 Jun 2023 06:13:38 GMT\r\n```\r\n\r\nI have searched in my code for parasite `@CrossConfig` wrote elsewhere, or something else that could mislead _Spring Boot_ and make it reconfigure something behind the scene, but found none.\r\n\r\n----------\r\n\r\nEdit: responding to your question, @jub0bs, the GET request is emitted with _OpenApi_ generated code, by _Angular_:\r\n\r\n```ts\r\nthis.cogService.obtenirCommunesTriParLocale(this.anneeCOG, this.locale).subscribe(data =&gt; {\r\n   this.communes = data;\r\n\r\n   this.communes.forEach(commune =&gt; {\r\n      this.communesMap.set(commune.codeCommune, commune);\r\n   });\r\n});\r\n```\r\n\r\nIt leads it to that generated method:\r\n\r\n```ts\r\npublic obtenirCommunesTriParLocale(anneeCOG: number, locale: string, observe?: &#39;body&#39;, reportProgress?: boolean, options?: {httpHeaderAccept?: &#39;*/*&#39;}): Observable&lt;Array&lt;Commune&gt;&gt;;\r\npublic obtenirCommunesTriParLocale(anneeCOG: number, locale: string, observe?: &#39;response&#39;, reportProgress?: boolean, options?: {httpHeaderAccept?: &#39;*/*&#39;}): Observable&lt;HttpResponse&lt;Array&lt;Commune&gt;&gt;&gt;;\r\npublic obtenirCommunesTriParLocale(anneeCOG: number, locale: string, observe?: &#39;events&#39;, reportProgress?: boolean, options?: {httpHeaderAccept?: &#39;*/*&#39;}): Observable&lt;HttpEvent&lt;Array&lt;Commune&gt;&gt;&gt;;\r\npublic obtenirCommunesTriParLocale(anneeCOG: number, locale: string, observe: any = &#39;body&#39;, reportProgress: boolean = false, options?: {httpHeaderAccept?: &#39;*/*&#39;}): Observable&lt;any&gt; {\r\n    if (anneeCOG === null || anneeCOG === undefined) {\r\n        throw new Error(&#39;Required parameter anneeCOG was null or undefined when calling obtenirCommunesTriParLocale.&#39;);\r\n    }\r\n    if (locale === null || locale === undefined) {\r\n        throw new Error(&#39;Required parameter locale was null or undefined when calling obtenirCommunesTriParLocale.&#39;);\r\n    }\r\n\r\n    let queryParameters = new HttpParams({encoder: this.encoder});\r\n    if (anneeCOG !== undefined &amp;&amp; anneeCOG !== null) {\r\n      queryParameters = this.addToHttpParams(queryParameters,\r\n        &lt;any&gt;anneeCOG, &#39;anneeCOG&#39;);\r\n    }\r\n    if (locale !== undefined &amp;&amp; locale !== null) {\r\n      queryParameters = this.addToHttpParams(queryParameters,\r\n        &lt;any&gt;locale, &#39;locale&#39;);\r\n    }\r\n\r\n    let headers = this.defaultHeaders;\r\n\r\n    let httpHeaderAcceptSelected: string | undefined = options &amp;&amp; options.httpHeaderAccept;\r\n    if (httpHeaderAcceptSelected === undefined) {\r\n        // to determine the Accept header\r\n        const httpHeaderAccepts: string[] = [\r\n               &#39;*/*&#39;\r\n        ];\r\n        httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);\r\n    }\r\n    if (httpHeaderAcceptSelected !== undefined) {\r\n        headers = headers.set(&#39;Accept&#39;, httpHeaderAcceptSelected);\r\n    }\r\n\r\n\r\n    let responseType: &#39;text&#39; | &#39;json&#39; = &#39;json&#39;;\r\n    if(httpHeaderAcceptSelected &amp;&amp; httpHeaderAcceptSelected.startsWith(&#39;text&#39;)) {\r\n        responseType = &#39;text&#39;;\r\n    }\r\n\r\n    return this.httpClient.get&lt;Array&lt;Commune&gt;&gt;(`${this.configuration.basePath}/cog/communesTriLocale`,\r\n    {\r\n       params: queryParameters,\r\n       responseType: &lt;any&gt;responseType,\r\n       withCredentials: this.configuration.withCredentials,\r\n       headers: headers,\r\n       observe: observe,\r\n       reportProgress: reportProgress\r\n     }\r\n  );\r\n}\r\n```\r\n\r\nIf I put a breakpoint at the level of the line calling `this.httpClient.get`, I have this state:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFrom http.get to its ErrorHandler, I have no way to stop its running to another interesting point: debugger goes straight forward, and ends with in `ErrorHandler` class with this debug state:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat is a preflight in CORS? That notion of preflight, in general, is unknown to me. But looks something important to know.\r\n\r\n----------\r\n\r\n\r\nWhy is `Access-Control-Allow-Origin` said missing?\r\n\r\nIt looks like my _Spring Boot_ `@Config` isn&#39;t taken into account.  \r\nOr is it something else that is happening?\r\n\r\n----------\r\n\r\nAs @ZahidKhan suggested and I&#39;ve experienced, if I comment my `CorsConfig` `@Config` class, and choose to add to my REST controller this annotation instead:\r\n\r\n```java\r\n@CrossOrigin(origins = {&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;, \r\n    &quot;http://localhost:9090&quot;, &quot;http://localhost:9091&quot;})\r\n```\r\n\r\nIt works. So one way or another, the configuration `CorsConfig` should find a way to work too.\r\n\r\n  [1]: https://i.stack.imgur.com/qPsNx.png\r\n  [2]: https://i.stack.imgur.com/3MBBL.png","title":"A Spring-Boot CORS configuration red, but not applied? Access-Control-Allow-Origin is said missing but I gave it","body":"<p>My web site on <code>http://localhost:4200</code><br />\nis calling a REST service implemented by <em>Spring Boot</em> on <code>http://localhost:9090</code>.</p>\n<p>The REST service is declared that way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value=&quot;/cog&quot;, name=&quot;cog&quot;)\n@OpenAPIDefinition(info = @Info(title = &quot;Maillage territorial par le Code Officiel Géographique&quot;))\npublic class COGController {\n   @RequestMapping(value = &quot;/communesTriLocale&quot;, method=RequestMethod.GET)\n   public List&lt;Commune&gt; obtenirCommunesTriParLocale(\n      @RequestParam(name=&quot;anneeCOG&quot;) int anneeCOG, @RequestParam(name=&quot;locale&quot;) String locale) {\n      [...]\n   }\n}\n</code></pre>\n<p>It needs CORS settings, I introduce with a <code>@Config</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class CorsConfig implements WebMvcConfigurer {\n   /** Logger. */\n   private static final Logger LOGGER = LoggerFactory.getLogger(CorsConfig.class);\n\n   /** Mapping pour CORS. */\n   @Value(&quot;${backend.cors.mapping}&quot;)\n   private String corsMapping;\n\n   /** Origine autorisée pour CORS. */\n   @Value(&quot;${backend.cors.allowedOrigins:null}&quot;)\n   private String corsAllowedOrigins;\n\n   /** Méthodes HTTP autorisées pour CORS. */\n   @Value(&quot;${backend.cors.allowedMethods:null}&quot;)\n   private String corsAllowedMethods;\n\n   /** Exposed headers pour CORS. */\n   @Value(&quot;${backend.cors.exposedHeaders:null}&quot;)\n   private String corsExposedHeaders;\n\n   /**\n    * {@inheritDoc}\n    */\n   @Override\n   public void addCorsMappings(CorsRegistry registry) {\n      CorsRegistration registration = registry.addMapping(this.corsMapping);\n      LOGGER.info(&quot;Les règles CORS du backend métier autorisent pour pour le mapping {} :&quot;, this.corsMapping);\n\n      if (this.corsAllowedOrigins != null) {\n         registration.allowedOrigins(this.corsAllowedOrigins);\n         LOGGER.info(&quot;\\t- AllowedOrigins : {}&quot;, this.corsAllowedOrigins);\n      }\n\n      if (this.corsAllowedMethods != null) {\n         registration.allowedMethods(this.corsAllowedMethods);\n         LOGGER.info(&quot;\\t- AllowedMethods : {}&quot;, this.corsAllowedMethods);\n      }\n\n      if (this.corsExposedHeaders != null) {\n         registration.exposedHeaders(this.corsExposedHeaders);\n         LOGGER.info(&quot;\\t- ExposedHeaders : {}&quot;, this.corsExposedHeaders);\n      }\n   }\n}\n</code></pre>\n<p>Things look OK at the beginning, as with my chosen properties values, <em>Spring Boot</em> is logging this, after starting this web server on the port <code>9090</code>:</p>\n<pre><code>INFO Application : Starting Application v0.0.12-SNAPSHOT using Java 17.0.6 on debian with PID 449341 [...]\nINFO TomcatWebServer: Tomcat initialized with port(s): 9090 (http)\n[...]\nINFO CorsConfig : Les règles CORS du backend métier autorisent pour pour le mapping /** :\nINFO CorsConfig :         - AllowedOrigins : http://localhost:4200\nINFO CorsConfig :         - AllowedMethods : GET,POST,PUT,PATCH,DELETE,OPTIONS\nINFO CorsConfig :         - ExposedHeaders : Authorization\n</code></pre>\n<p>However, my web request to <code>http://localhost:9090/cog/communesTriLocale?anneeCOG=2022&amp;locale=fr_FR</code>, done through an <em>Angular</em> web site using <em>OpenApi</em> for that, is failing with a <code>403</code> HTTP code, and the message:</p>\n<pre><code>Blocage d’une requête multiorigines (Cross-Origin Request) : \nla politique « Same Origin » ne permet pas de consulter la ressource distante située sur \nhttp://localhost:9090/cog/communesTriLocale?anneeCOG=2022&amp;locale=fr_FR. \nRaison : l’en-tête CORS « Access-Control-Allow-Origin » est manquant. Code d’état : 403.\n</code></pre>\n<p>The browser exposing this exchange on the Network debug tab (coming from the Browser):</p>\n<p>for request header:</p>\n<pre class=\"lang-http prettyprint-override\"><code>GET /cog/communesTriLocale?anneeCOG=2022&amp;locale=fr_FR HTTP/1.1\nHost: localhost:9090\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101 Firefox/102.0\nAccept: */*\nAccept-Language: fr,fr-FR;q=0.8,en-US;q=0.5,en;q=0.3\nAccept-Encoding: gzip, deflate, br\nOrigin: http://localhost:4200\nConnection: keep-alive\nReferer: http://localhost:4200/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-site\n</code></pre>\n<p>for response header:</p>\n<pre class=\"lang-http prettyprint-override\"><code>HTTP/1.1 403 \nVary: Origin, Access-Control-Request-Method, Access-Control-Request-Headers\nTransfer-Encoding: chunked\nDate: Mon, 12 Jun 2023 06:00:33 GMT\nKeep-Alive: timeout=60\nConnection: keep-alive\n</code></pre>\n<p>Or, if I do a curl from a command line, I'm receiving this:</p>\n<pre class=\"lang-http prettyprint-override\"><code>* Connected to localhost (::1) port 9090 (#0)\n&gt; GET /cog/communesTriLocale?anneeCOG=2022&amp;locale=fr_FR HTTP/1.1\n&gt; Host: localhost:9090\n&gt; User-Agent: curl/7.74.0\n&gt; Accept: */*\n</code></pre>\n<pre class=\"lang-http prettyprint-override\"><code>&lt; HTTP/1.1 200 \n&lt; Vary: Origin\n&lt; Vary: Access-Control-Request-Method\n&lt; Vary: Access-Control-Request-Headers\n&lt; Content-Type: application/json\n&lt; Transfer-Encoding: chunked\n&lt; Date: Mon, 12 Jun 2023 06:13:38 GMT\n</code></pre>\n<p>I have searched in my code for parasite <code>@CrossConfig</code> wrote elsewhere, or something else that could mislead <em>Spring Boot</em> and make it reconfigure something behind the scene, but found none.</p>\n<hr />\n<p>Edit: responding to your question, @jub0bs, the GET request is emitted with <em>OpenApi</em> generated code, by <em>Angular</em>:</p>\n<pre><code>this.cogService.obtenirCommunesTriParLocale(this.anneeCOG, this.locale).subscribe(data =&gt; {\n   this.communes = data;\n\n   this.communes.forEach(commune =&gt; {\n      this.communesMap.set(commune.codeCommune, commune);\n   });\n});\n</code></pre>\n<p>It leads it to that generated method:</p>\n<pre><code>public obtenirCommunesTriParLocale(anneeCOG: number, locale: string, observe?: 'body', reportProgress?: boolean, options?: {httpHeaderAccept?: '*/*'}): Observable&lt;Array&lt;Commune&gt;&gt;;\npublic obtenirCommunesTriParLocale(anneeCOG: number, locale: string, observe?: 'response', reportProgress?: boolean, options?: {httpHeaderAccept?: '*/*'}): Observable&lt;HttpResponse&lt;Array&lt;Commune&gt;&gt;&gt;;\npublic obtenirCommunesTriParLocale(anneeCOG: number, locale: string, observe?: 'events', reportProgress?: boolean, options?: {httpHeaderAccept?: '*/*'}): Observable&lt;HttpEvent&lt;Array&lt;Commune&gt;&gt;&gt;;\npublic obtenirCommunesTriParLocale(anneeCOG: number, locale: string, observe: any = 'body', reportProgress: boolean = false, options?: {httpHeaderAccept?: '*/*'}): Observable&lt;any&gt; {\n    if (anneeCOG === null || anneeCOG === undefined) {\n        throw new Error('Required parameter anneeCOG was null or undefined when calling obtenirCommunesTriParLocale.');\n    }\n    if (locale === null || locale === undefined) {\n        throw new Error('Required parameter locale was null or undefined when calling obtenirCommunesTriParLocale.');\n    }\n\n    let queryParameters = new HttpParams({encoder: this.encoder});\n    if (anneeCOG !== undefined &amp;&amp; anneeCOG !== null) {\n      queryParameters = this.addToHttpParams(queryParameters,\n        &lt;any&gt;anneeCOG, 'anneeCOG');\n    }\n    if (locale !== undefined &amp;&amp; locale !== null) {\n      queryParameters = this.addToHttpParams(queryParameters,\n        &lt;any&gt;locale, 'locale');\n    }\n\n    let headers = this.defaultHeaders;\n\n    let httpHeaderAcceptSelected: string | undefined = options &amp;&amp; options.httpHeaderAccept;\n    if (httpHeaderAcceptSelected === undefined) {\n        // to determine the Accept header\n        const httpHeaderAccepts: string[] = [\n               '*/*'\n        ];\n        httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);\n    }\n    if (httpHeaderAcceptSelected !== undefined) {\n        headers = headers.set('Accept', httpHeaderAcceptSelected);\n    }\n\n\n    let responseType: 'text' | 'json' = 'json';\n    if(httpHeaderAcceptSelected &amp;&amp; httpHeaderAcceptSelected.startsWith('text')) {\n        responseType = 'text';\n    }\n\n    return this.httpClient.get&lt;Array&lt;Commune&gt;&gt;(`${this.configuration.basePath}/cog/communesTriLocale`,\n    {\n       params: queryParameters,\n       responseType: &lt;any&gt;responseType,\n       withCredentials: this.configuration.withCredentials,\n       headers: headers,\n       observe: observe,\n       reportProgress: reportProgress\n     }\n  );\n}\n</code></pre>\n<p>If I put a breakpoint at the level of the line calling <code>this.httpClient.get</code>, I have this state:</p>\n<p><a href=\"https://i.stack.imgur.com/qPsNx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qPsNx.png\" alt=\"enter image description here\" /></a></p>\n<p>From http.get to its ErrorHandler, I have no way to stop its running to another interesting point: debugger goes straight forward, and ends with in <code>ErrorHandler</code> class with this debug state:</p>\n<p><a href=\"https://i.stack.imgur.com/3MBBL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3MBBL.png\" alt=\"enter image description here\" /></a></p>\n<p>What is a preflight in CORS? That notion of preflight, in general, is unknown to me. But looks something important to know.</p>\n<hr />\n<p>Why is <code>Access-Control-Allow-Origin</code> said missing?</p>\n<p>It looks like my <em>Spring Boot</em> <code>@Config</code> isn't taken into account.<br />\nOr is it something else that is happening?</p>\n<hr />\n<p>As @ZahidKhan suggested and I've experienced, if I comment my <code>CorsConfig</code> <code>@Config</code> class, and choose to add to my REST controller this annotation instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin(origins = {&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;, \n    &quot;http://localhost:9090&quot;, &quot;http://localhost:9091&quot;})\n</code></pre>\n<p>It works. So one way or another, the configuration <code>CorsConfig</code> should find a way to work too.</p>\n"},{"tags":["java","android","android-softbuttons"],"answers":[{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1545038608,"creation_date":1545038608,"answer_id":53812199,"question_id":53812045,"body_markdown":"You can use [**`setSystemUiVisibility()`**][1]\r\n\r\n - Request that the visibility of the status bar or other screen/window decorations be changed. \r\n\r\n**SAMPLE CODE**\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TextView tvTextView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            getWindow().getDecorView().setSystemUiVisibility(\r\n                    View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                            | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                            | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n    \r\n            setContentView(R.layout.activity_main);\r\n    \r\n            tvTextView=findViewById(R.id.tvTextView);\r\n            tvTextView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    getWindow().getDecorView().setSystemUiVisibility(View.VISIBLE);\r\n                }\r\n            });\r\n            \r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View.html#setSystemUiVisibility(int)","title":"Android - How to unhide soft buttons after programatically hiding them?","body":"<p>You can use <a href=\"https://developer.android.com/reference/android/view/View.html#setSystemUiVisibility(int)\" rel=\"noreferrer\"><strong><code>setSystemUiVisibility()</code></strong></a></p>\n\n<ul>\n<li>Request that the visibility of the status bar or other screen/window decorations be changed. </li>\n</ul>\n\n<p><strong>SAMPLE CODE</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView tvTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        getWindow().getDecorView().setSystemUiVisibility(\n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN\n                        | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n\n        setContentView(R.layout.activity_main);\n\n        tvTextView=findViewById(R.id.tvTextView);\n        tvTextView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                getWindow().getDecorView().setSystemUiVisibility(View.VISIBLE);\n            }\n        });\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545039158,"creation_date":1545039062,"answer_id":53812311,"question_id":53812045,"body_markdown":"Setting `View.SYSTEM_UI_FLAG_VISIBLE` worked for me.\r\n\r\n    getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_VISIBLE);","title":"Android - How to unhide soft buttons after programatically hiding them?","body":"<p>Setting <code>View.SYSTEM_UI_FLAG_VISIBLE</code> worked for me.</p>\n\n<pre><code>getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_VISIBLE);\n</code></pre>\n"}],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53812199,"answer_count":2,"score":5,"last_activity_date":1686709975,"creation_date":1545038128,"question_id":53812045,"body_markdown":"Some android phones have soft buttons (back, home, menu). I manage to hide them using `setSystemUiVisibility` as described [here][1].\r\n\r\nHowever, how to make the softbuttons visible pragmatically?\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36966855/9640177","title":"Android - How to unhide soft buttons after programatically hiding them?","body":"<p>Some android phones have soft buttons (back, home, menu). I manage to hide them using <code>setSystemUiVisibility</code> as described <a href=\"https://stackoverflow.com/a/36966855/9640177\">here</a>.</p>\n\n<p>However, how to make the softbuttons visible pragmatically?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":154393,"reputation":108787,"user_id":370305,"accept_rate":71,"display_name":"user370305"},"score":1,"creation_date":1343038973,"post_id":11610646,"comment_id":15371288,"body_markdown":"Look at http://stackoverflow.com/questions/9480045/how-to-download-adobe-reader-programatically-if-not-exists/9480211#9480211","body":"Look at <a href=\"http://stackoverflow.com/questions/9480045/how-to-download-adobe-reader-programatically-if-not-exists/9480211#9480211\" title=\"how to download adobe reader programatically if not exists\">stackoverflow.com/questions/9480045/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":162189,"reputation":2158,"user_id":383498,"display_name":"Vivek Kumar Srivastava"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1443691546,"creation_date":1343039652,"answer_id":11610829,"question_id":11610646,"body_markdown":"use below code\r\n\r\n    String packageName = &quot;app_package_name&quot;;\r\n\tIntent intent = getPackageManager().getLaunchIntentForPackage(packageName);\r\n\t\t\t\t\r\n\tif(intent == null) {\r\n\t   intent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=&quot;+packageName));\r\n\t}\r\n      startActivity(intent);\r\n\t\r\n\r\n\t","title":"how to open android application if installed and go to android market if not install","body":"<p>use below code</p>\n\n<pre><code>String packageName = \"app_package_name\";\nIntent intent = getPackageManager().getLaunchIntentForPackage(packageName);\n\nif(intent == null) {\n   intent = new Intent(Intent.ACTION_VIEW, Uri.parse(\"market://details?id=\"+packageName));\n}\n  startActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":905032,"reputation":24172,"user_id":940096,"accept_rate":88,"display_name":"Praveenkumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343039684,"creation_date":1343039684,"answer_id":11610838,"question_id":11610646,"body_markdown":"Try with this - \r\n\r\nJust create one `Button` in your layout. And, onClick of that button check below condition -\r\n\r\n\tButton calculateButton = (Button) findViewById(R.id.buttonCalculate);\r\n\t    calculateButton.setOnClickListener(new View.OnClickListener() {\r\n\r\n\t\t      public void onClick(View v) \r\n\t\t      {\r\n\t\t    \t  if(check() == true)\r\n\t\t    \t  {\r\n\t\t    \t\t  PackageManager pack = this.getPackageManager();\r\n\t\t    \t\t  Intent app = pack.getLaunchIntentForPackage(packagename);\r\n\t\t    \t\t  startActivity(app);\r\n\t\t    \t  }else\r\n\t\t    \t  {\r\n\t                  Intent marketIntent = new Intent(Intent.ACTION_VIEW);\r\n\t                  marketIntent.setData(Uri.parse(&quot;market://details?id=packagename&quot;));\r\n\t\t              startActivity(marketIntent);\r\n\t\t    \t  }\r\n\t\t     }\r\n\t    });\r\n\t}\r\n\t\r\n\tpublic boolean check()\r\n\t{\r\n\t\ttry{\r\n\t\t    ApplicationInfo info = getPackageManager().getApplicationInfo(&quot;packagename&quot;, 0 );\r\n\t\t    return true;\r\n\t\t} catch( PackageManager.NameNotFoundException e ){\r\n\t\t    return false;\r\n\t\t}\r\n\t}","title":"how to open android application if installed and go to android market if not install","body":"<p>Try with this - </p>\n\n<p>Just create one <code>Button</code> in your layout. And, onClick of that button check below condition -</p>\n\n<pre><code>Button calculateButton = (Button) findViewById(R.id.buttonCalculate);\n    calculateButton.setOnClickListener(new View.OnClickListener() {\n\n          public void onClick(View v) \n          {\n              if(check() == true)\n              {\n                  PackageManager pack = this.getPackageManager();\n                  Intent app = pack.getLaunchIntentForPackage(packagename);\n                  startActivity(app);\n              }else\n              {\n                  Intent marketIntent = new Intent(Intent.ACTION_VIEW);\n                  marketIntent.setData(Uri.parse(\"market://details?id=packagename\"));\n                  startActivity(marketIntent);\n              }\n         }\n    });\n}\n\npublic boolean check()\n{\n    try{\n        ApplicationInfo info = getPackageManager().getApplicationInfo(\"packagename\", 0 );\n        return true;\n    } catch( PackageManager.NameNotFoundException e ){\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954771,"reputation":3181,"user_id":980283,"accept_rate":62,"display_name":"Kartihkraj Duraisamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386622023,"creation_date":1343039711,"answer_id":11610846,"question_id":11610646,"body_markdown":"Try to call the Application activity from your code using the, other application package name and activity name or by the Intent filters which is belongs to that other application you need to call...\r\n\r\n\r\n\r\n        Intent newIntent;\r\n        newIntent = new Intent(&quot;other application Package name&quot;,&quot;class name&quot;);\r\n        startActivity(newIntent);\r\n\r\n\r\n\r\nCheck whether it is launched or not.\r\n\r\n//If it is launched, don&#39;t do anything\r\n\r\n//If it isn&#39;t, then navigate the UI to Google Play Intent.\r\n\r\n      Intent googlePlay = new Intent(Intent.ACTION_VIEW);\r\n      googlePlay.setData(Uri.parse(&quot;market://details?id=&quot;+&quot;other application package name&quot;));\r\n      startActivity(googlePlay);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to open android application if installed and go to android market if not install","body":"<p>Try to call the Application activity from your code using the, other application package name and activity name or by the Intent filters which is belongs to that other application you need to call...</p>\n\n<pre><code>    Intent newIntent;\n    newIntent = new Intent(\"other application Package name\",\"class name\");\n    startActivity(newIntent);\n</code></pre>\n\n<p>Check whether it is launched or not.</p>\n\n<p>//If it is launched, don't do anything</p>\n\n<p>//If it isn't, then navigate the UI to Google Play Intent.</p>\n\n<pre><code>  Intent googlePlay = new Intent(Intent.ACTION_VIEW);\n  googlePlay.setData(Uri.parse(\"market://details?id=\"+\"other application package name\"));\n  startActivity(googlePlay);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543727211,"creation_date":1543727211,"answer_id":53577577,"question_id":11610646,"body_markdown":"inside onclick\r\n\r\n    @Override\r\n    public void onClick(View view){\r\n      try{\r\n        startActivity(getPackageManager().getLaunchIntentForPackage(&quot;applicationId&quot;));\r\n      } catch (PackageManager.NameNotFoundException e) {\r\n        startActivity(new Intent(Intent.ACTION_VIEW).setData(Uri.parse(&quot;https://play.google.com/store/apps/details?id=&quot; + &quot;applicationId&quot;)));\r\n     }\r\n    }","title":"how to open android application if installed and go to android market if not install","body":"<p>inside onclick</p>\n\n<pre><code>@Override\npublic void onClick(View view){\n  try{\n    startActivity(getPackageManager().getLaunchIntentForPackage(\"applicationId\"));\n  } catch (PackageManager.NameNotFoundException e) {\n    startActivity(new Intent(Intent.ACTION_VIEW).setData(Uri.parse(\"https://play.google.com/store/apps/details?id=\" + \"applicationId\")));\n }\n}\n</code></pre>\n"}],"owner":{"account_id":1464375,"reputation":961,"user_id":1377695,"accept_rate":74,"display_name":"SopheakVirak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10342,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":11610829,"answer_count":4,"score":19,"last_activity_date":1686709918,"creation_date":1343038908,"question_id":11610646,"body_markdown":"I would like to make android button and able to launch other application if already installed and go to android market if not yet installed.\r\n\r\nHow to do this?\r\n\r\nRegards,\r\nVirak","title":"how to open android application if installed and go to android market if not install","body":"<p>I would like to make android button and able to launch other application if already installed and go to android market if not yet installed.</p>\n\n<p>How to do this?</p>\n\n<p>Regards,\nVirak</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544300749,"creation_date":1544212183,"answer_id":53675983,"question_id":53675689,"body_markdown":"This is because you are recycling view using viewholder. Your postDelayed method doesn&#39;t know that the view is now recycled and used for creating a new raw in the listView. \r\n\r\nOne possible solution is to not recycle your views, which however may not be efficient in case your list is large enough.","title":"ListView adapter switches seekbars position while scrolling","body":"<p>This is because you are recycling view using viewholder. Your postDelayed method doesn't know that the view is now recycled and used for creating a new raw in the listView. </p>\n\n<p>One possible solution is to not recycle your views, which however may not be efficient in case your list is large enough.</p>\n"}],"owner":{"account_id":13846537,"reputation":101,"user_id":10291555,"display_name":"Truthwillcome 35"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686709887,"creation_date":1544210723,"question_id":53675689,"body_markdown":"I am developing chat app with three different chat messages text ,photo and audio messages my problem now with audio message which consists of button , *textview* and seekbar so when button clicked seekbar and textview get updated.\r\n   \r\n\r\n      //global variables\r\n        Context context;\r\n        ImageLoader imageLoader;\r\n        private List&lt;RowItem&gt; items = null;\r\n        ViewHolder holder = null;\r\n        String audioFileURL;\r\n        ViewHolder clicked_holder = null;\r\n        private SeekBarUpdater seekBarUpdater;\r\n        MediaPlayer mediaPlayer;\r\n\r\n      public CustomListViewAdapter(Context context, int resourceId,\r\n                                 List&lt;RowItem&gt; items) {\r\n        super(context, resourceId, items);\r\n        this.context = context;\r\n        imageLoader = new ImageLoader(context);\r\n        this.items = items;\r\n        seekBarUpdater = new SeekBarUpdater();\r\n    }\r\n\r\n\r\n     private static class ViewHolder {\r\n        public com.example.truth.lang.messanger.RoundedImageView imageView;\r\n        public TextView msgText;\r\n        public TextView msgDate;\r\n        public  SeekBar seekBar_message;\r\n        public ImageView play_audio;\r\n        public LinearLayout.LayoutParams params;\r\n        public LinearLayout.LayoutParams audioparams;\r\n        public LinearLayout linearLayout;\r\n        public LinearLayout audio_layout;\r\n        public RelativeLayout intermediate_bar;\r\n        public TextView audio_duration;\r\n        public TextView audio_date;\r\n        int pos;\r\n\r\n \r\n    }\r\n\r\n \r\n\r\n       //this is getView();\r\n    if (convertView == null) {\r\n    ..... convertView.setTag(holder);\r\n\r\n\r\n        } else\r\n            holder = (ViewHolder) convertView.getTag();\r\n\r\n        RowItem rowItem = getItem(position);\r\n        holder = (ViewHolder) convertView.getTag();\r\n        holder.play_audio.setTag(holder);\r\n                    holder.play_audio.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n    \r\n                            if (items.get(position).getAudio_url() != null) {\r\n                                 try {\r\n                                    if (mediaPlayer != null&amp;&amp;clicked_holder!=null) {\r\n                                      //check if there any media playing \r\n                                        if(position!=clicked_holder.pos){\r\n                                            clicked_holder.seekBar_message.setProgress(0);\r\n                                            clicked_holder.play_audio.setImageResource(R.drawable.play_audio_icon_1);\r\n                                            clicked_holder.intermediate_bar.setVisibility(View.GONE);\r\n                                            clicked_holder.play_audio.setVisibility(View.VISIBLE);\r\n                                            clicked_holder = (ViewHolder) view.getTag();\r\n                                            clicked_holder.pos=position;\r\n                                             \r\n                                            if(mediaPlayer.isPlaying()){\r\n                                                mediaPlayer.stop();\r\n                                                mediaPlayer.reset();\r\n                                                mediaPlayer=(null);\r\n                                            }\r\n                                           clicked_holder.intermediate_bar.setVisibility(View.VISIBLE);\r\n                                            clicked_holder.play_audio.setVisibility(View.GONE);\r\n    \r\n                                             mediaPlayer=new MediaPlayer();\r\n    \r\n                                            audioFileURL = items.get(position).getAudio_url();\r\n                                            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n                                            try {\r\n                                                mediaPlayer.setDataSource(audioFileURL);\r\n                                            } catch (IOException e) {\r\n                                                e.printStackTrace();\r\n                                            }\r\n                                           \r\n                                            }\r\n                                            mediaPlayer.prepareAsync();\r\n                                            mediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                                                @Override\r\n                                                public void onPrepared(MediaPlayer mp) {\r\n                                                    clicked_holder.play_audio.setImageResource(R.drawable.pause_audio_icon);\r\n                                                    mp.start();\r\n                                               \r\n                                                    if (mp.isPlaying()) {\r\n                                                        clicked_holder.intermediate_bar.setVisibility(View.GONE);\r\n                                                        clicked_holder.play_audio.setVisibility(View.VISIBLE);\r\n                                                        updatePlayingView();\r\n                                                    }\r\n                                                }\r\n                                            });\r\n    \r\n    \r\n                                        }else{\r\n                                        mediaPlayer.stop();\r\n                                        mediaPlayer.reset();\r\n                                        clicked_holder.intermediate_bar.setVisibility(View.GONE);\r\n                                        clicked_holder.play_audio.setVisibility(View.VISIBLE);\r\n                                        clicked_holder.play_audio.setImageResource(R.drawable.play_audio_icon_1);\r\n                                        clicked_holder.seekBar_message.setProgress(0);\r\n                                        mediaPlayer=null;\r\n                                        clicked_holder=null;\r\n                                    }\r\n                                    } else  {\r\n                                       \r\n                                        clicked_holder = (ViewHolder) view.getTag();\r\n                                        clicked_holder.pos=position;\r\n                                        holder.seekBar_message.setTag(position);\r\n                                        clicked_holder.intermediate_bar.setVisibility(View.VISIBLE);\r\n                                        clicked_holder.play_audio.setVisibility(View.GONE);\r\n                                         \r\n                                        mediaPlayer=new MediaPlayer();\r\n    \r\n                                        audioFileURL = items.get(position).getAudio_url();\r\n                                        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n                                        try {\r\n                                            mediaPlayer.setDataSource(audioFileURL);\r\n                                        } catch (IOException e) {\r\n                                            e.printStackTrace();\r\n                                        }\r\n     \r\n                                        mediaPlayer.prepareAsync();\r\n                                        mediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                                            @Override\r\n                                            public void onPrepared(MediaPlayer mp) {\r\n                                                clicked_holder.play_audio.setImageResource(R.drawable.pause_audio_icon);\r\n                                                mp.start();\r\n                                               \r\n                                                if (mp.isPlaying()) {\r\n                                                    clicked_holder.intermediate_bar.setVisibility(View.GONE);\r\n                                                    clicked_holder.play_audio.setVisibility(View.VISIBLE);\r\n                                                    updatePlayingView();\r\n                                                  \r\n                                                     \r\n                                                }\r\n                                            }\r\n                                        });\r\n                                  \r\n          mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n        \r\n                                                @Override\r\n                                                public void onCompletion(MediaPlayer mp) {\r\n                                                    clicked_holder.play_audio.setImageResource(R.drawable.play_audio_icon_1);\r\n        \r\n                                                     \r\n                                                    mediaPlayer=null;\r\n                                                    clicked_holder.seekBar_message.setProgress(0);\r\n                                                    clicked_holder.play_audio.setImageResource(R.drawable.play_audio_icon_1);\r\n                                                    Log.i(&quot;holderpositionupdate1&quot;, &quot;media player&quot;);\r\n                                                    updateNonPlayingView(clicked_holder);\r\n                                                    clicked_holder=null;\r\n        \r\n                                                }\r\n                                            });\r\n                                        mediaPlayer.setOnErrorListener(new MediaPlayer.OnErrorListener() {\r\n                                            @Override\r\n                                            public boolean onError(MediaPlayer mp, int what, int extra) {\r\n                                                Log.i(&quot;setOnErrorListener&quot;,&quot;&quot;+what+&quot; &quot;+ extra);\r\n    \r\n                                                return true;\r\n                                            }\r\n                                        });\r\n                                    }\r\n    \r\n    \r\n                                } catch (IllegalArgumentException e1) {\r\n                                    e1.printStackTrace();\r\n                                   \r\n                                } catch (SecurityException e1) {\r\n                                    e1.printStackTrace();\r\n                                 \r\n                                }\r\n                            }else {\r\n                                clicked_holder.intermediate_bar.setVisibility(View.VISIBLE);\r\n                                clicked_holder.play_audio.setVisibility(View.GONE);\r\n                            }\r\n                        }\r\n                    });\r\n    \r\n\r\n**strong text**\r\n\r\nand i am updating my seekbar like this ...\r\n\r\n \r\n\r\n    private void updateNonPlayingView(ViewHolder clicked_holder) {\r\n            clicked_holder.seekBar_message.removeCallbacks(seekBarUpdater);\r\n            clicked_holder.seekBar_message.setEnabled(true);\r\n            clicked_holder.seekBar_message.setProgress(0);\r\n        }\r\n    \r\n\r\n     private void updatePlayingView() {\r\n\r\n      if(mediaPlayer!=null){\r\n\r\n        clicked_holder.seekBar_message.setMax(mediaPlayer.getDuration()); \r\n    \r\n        clicked_holder.seekBar_message.setProgress(mediaPlayer.getCurrentPosition());             \r\n    \r\n            clicked_holder.seekBar_message.setEnabled(true);\r\n\r\n            if (mediaPlayer.isPlaying()) {\r\n                clicked_holder.seekBar_message.postDelayed(seekBarUpdater, 100); \r\n            }\r\n    \r\n        }else {\r\n                clicked_holder.seekBar_message.removeCallbacks(seekBarUpdater);\r\n            }\r\n        }\r\n        private class SeekBarUpdater implements Runnable {\r\n            @Override\r\n            public void run() {\r\n                if (clicked_holder!=null) {\r\n                    if(mediaPlayer.isPlaying() ) {        \r\n                        clicked_holder.seekBar_message.postDelayed(this, 100);\r\n                      //also update my textview with audio time left til finsish\r\n                    } \r\n                } \r\n            }\r\n        }\r\n\r\n**strong text**\r\nNow my seekbar gets updated right and reset to its normal as long as no scrolling but when ever scroll the screen other seekbars gets updated randomly i think i needed to update my seekbar only when it is visible and reset all visible seekbar progress to zero but i can not achieve this i have tried a lot for 2 weeks now but with no progress any help. ","title":"ListView adapter switches seekbars position while scrolling","body":"<p>I am developing chat app with three different chat messages text ,photo and audio messages my problem now with audio message which consists of button , <em>textview</em> and seekbar so when button clicked seekbar and textview get updated.</p>\n\n<pre><code>  //global variables\n    Context context;\n    ImageLoader imageLoader;\n    private List&lt;RowItem&gt; items = null;\n    ViewHolder holder = null;\n    String audioFileURL;\n    ViewHolder clicked_holder = null;\n    private SeekBarUpdater seekBarUpdater;\n    MediaPlayer mediaPlayer;\n\n  public CustomListViewAdapter(Context context, int resourceId,\n                             List&lt;RowItem&gt; items) {\n    super(context, resourceId, items);\n    this.context = context;\n    imageLoader = new ImageLoader(context);\n    this.items = items;\n    seekBarUpdater = new SeekBarUpdater();\n}\n\n\n private static class ViewHolder {\n    public com.example.truth.lang.messanger.RoundedImageView imageView;\n    public TextView msgText;\n    public TextView msgDate;\n    public  SeekBar seekBar_message;\n    public ImageView play_audio;\n    public LinearLayout.LayoutParams params;\n    public LinearLayout.LayoutParams audioparams;\n    public LinearLayout linearLayout;\n    public LinearLayout audio_layout;\n    public RelativeLayout intermediate_bar;\n    public TextView audio_duration;\n    public TextView audio_date;\n    int pos;\n\n\n}\n\n\n\n   //this is getView();\nif (convertView == null) {\n..... convertView.setTag(holder);\n\n\n    } else\n        holder = (ViewHolder) convertView.getTag();\n\n    RowItem rowItem = getItem(position);\n    holder = (ViewHolder) convertView.getTag();\n    holder.play_audio.setTag(holder);\n                holder.play_audio.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n\n                        if (items.get(position).getAudio_url() != null) {\n                             try {\n                                if (mediaPlayer != null&amp;&amp;clicked_holder!=null) {\n                                  //check if there any media playing \n                                    if(position!=clicked_holder.pos){\n                                        clicked_holder.seekBar_message.setProgress(0);\n                                        clicked_holder.play_audio.setImageResource(R.drawable.play_audio_icon_1);\n                                        clicked_holder.intermediate_bar.setVisibility(View.GONE);\n                                        clicked_holder.play_audio.setVisibility(View.VISIBLE);\n                                        clicked_holder = (ViewHolder) view.getTag();\n                                        clicked_holder.pos=position;\n\n                                        if(mediaPlayer.isPlaying()){\n                                            mediaPlayer.stop();\n                                            mediaPlayer.reset();\n                                            mediaPlayer=(null);\n                                        }\n                                       clicked_holder.intermediate_bar.setVisibility(View.VISIBLE);\n                                        clicked_holder.play_audio.setVisibility(View.GONE);\n\n                                         mediaPlayer=new MediaPlayer();\n\n                                        audioFileURL = items.get(position).getAudio_url();\n                                        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n                                        try {\n                                            mediaPlayer.setDataSource(audioFileURL);\n                                        } catch (IOException e) {\n                                            e.printStackTrace();\n                                        }\n\n                                        }\n                                        mediaPlayer.prepareAsync();\n                                        mediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n                                            @Override\n                                            public void onPrepared(MediaPlayer mp) {\n                                                clicked_holder.play_audio.setImageResource(R.drawable.pause_audio_icon);\n                                                mp.start();\n\n                                                if (mp.isPlaying()) {\n                                                    clicked_holder.intermediate_bar.setVisibility(View.GONE);\n                                                    clicked_holder.play_audio.setVisibility(View.VISIBLE);\n                                                    updatePlayingView();\n                                                }\n                                            }\n                                        });\n\n\n                                    }else{\n                                    mediaPlayer.stop();\n                                    mediaPlayer.reset();\n                                    clicked_holder.intermediate_bar.setVisibility(View.GONE);\n                                    clicked_holder.play_audio.setVisibility(View.VISIBLE);\n                                    clicked_holder.play_audio.setImageResource(R.drawable.play_audio_icon_1);\n                                    clicked_holder.seekBar_message.setProgress(0);\n                                    mediaPlayer=null;\n                                    clicked_holder=null;\n                                }\n                                } else  {\n\n                                    clicked_holder = (ViewHolder) view.getTag();\n                                    clicked_holder.pos=position;\n                                    holder.seekBar_message.setTag(position);\n                                    clicked_holder.intermediate_bar.setVisibility(View.VISIBLE);\n                                    clicked_holder.play_audio.setVisibility(View.GONE);\n\n                                    mediaPlayer=new MediaPlayer();\n\n                                    audioFileURL = items.get(position).getAudio_url();\n                                    mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n                                    try {\n                                        mediaPlayer.setDataSource(audioFileURL);\n                                    } catch (IOException e) {\n                                        e.printStackTrace();\n                                    }\n\n                                    mediaPlayer.prepareAsync();\n                                    mediaPlayer.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n                                        @Override\n                                        public void onPrepared(MediaPlayer mp) {\n                                            clicked_holder.play_audio.setImageResource(R.drawable.pause_audio_icon);\n                                            mp.start();\n\n                                            if (mp.isPlaying()) {\n                                                clicked_holder.intermediate_bar.setVisibility(View.GONE);\n                                                clicked_holder.play_audio.setVisibility(View.VISIBLE);\n                                                updatePlayingView();\n\n\n                                            }\n                                        }\n                                    });\n\n      mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n\n                                            @Override\n                                            public void onCompletion(MediaPlayer mp) {\n                                                clicked_holder.play_audio.setImageResource(R.drawable.play_audio_icon_1);\n\n\n                                                mediaPlayer=null;\n                                                clicked_holder.seekBar_message.setProgress(0);\n                                                clicked_holder.play_audio.setImageResource(R.drawable.play_audio_icon_1);\n                                                Log.i(\"holderpositionupdate1\", \"media player\");\n                                                updateNonPlayingView(clicked_holder);\n                                                clicked_holder=null;\n\n                                            }\n                                        });\n                                    mediaPlayer.setOnErrorListener(new MediaPlayer.OnErrorListener() {\n                                        @Override\n                                        public boolean onError(MediaPlayer mp, int what, int extra) {\n                                            Log.i(\"setOnErrorListener\",\"\"+what+\" \"+ extra);\n\n                                            return true;\n                                        }\n                                    });\n                                }\n\n\n                            } catch (IllegalArgumentException e1) {\n                                e1.printStackTrace();\n\n                            } catch (SecurityException e1) {\n                                e1.printStackTrace();\n\n                            }\n                        }else {\n                            clicked_holder.intermediate_bar.setVisibility(View.VISIBLE);\n                            clicked_holder.play_audio.setVisibility(View.GONE);\n                        }\n                    }\n                });\n</code></pre>\n\n<p><strong>strong text</strong></p>\n\n<p>and i am updating my seekbar like this ...</p>\n\n<pre><code>private void updateNonPlayingView(ViewHolder clicked_holder) {\n        clicked_holder.seekBar_message.removeCallbacks(seekBarUpdater);\n        clicked_holder.seekBar_message.setEnabled(true);\n        clicked_holder.seekBar_message.setProgress(0);\n    }\n\n\n private void updatePlayingView() {\n\n  if(mediaPlayer!=null){\n\n    clicked_holder.seekBar_message.setMax(mediaPlayer.getDuration()); \n\n    clicked_holder.seekBar_message.setProgress(mediaPlayer.getCurrentPosition());             \n\n        clicked_holder.seekBar_message.setEnabled(true);\n\n        if (mediaPlayer.isPlaying()) {\n            clicked_holder.seekBar_message.postDelayed(seekBarUpdater, 100); \n        }\n\n    }else {\n            clicked_holder.seekBar_message.removeCallbacks(seekBarUpdater);\n        }\n    }\n    private class SeekBarUpdater implements Runnable {\n        @Override\n        public void run() {\n            if (clicked_holder!=null) {\n                if(mediaPlayer.isPlaying() ) {        \n                    clicked_holder.seekBar_message.postDelayed(this, 100);\n                  //also update my textview with audio time left til finsish\n                } \n            } \n        }\n    }\n</code></pre>\n\n<p><strong>strong text</strong>\nNow my seekbar gets updated right and reset to its normal as long as no scrolling but when ever scroll the screen other seekbars gets updated randomly i think i needed to update my seekbar only when it is visible and reset all visible seekbar progress to zero but i can not achieve this i have tried a lot for 2 weeks now but with no progress any help. </p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1543683128,"post_id":53573003,"comment_id":94010317,"body_markdown":"A particular file, or a particular folder?","body":"A particular file, or a particular folder?"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1543683229,"post_id":53573003,"comment_id":94010341,"body_markdown":"There is no difference I have a file in my project and inside it I want to know the number of images using the code","body":"There is no difference I have a file in my project and inside it I want to know the number of images using the code"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1543683259,"post_id":53573003,"comment_id":94010350,"body_markdown":"Number of images inside what? What type of file holds multiple images?","body":"Number of images inside what? What type of file holds multiple images?"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1543683328,"post_id":53573003,"comment_id":94010374,"body_markdown":"inside assets folder for example assets/Images/here all Images","body":"inside assets folder for example assets/Images/here all Images"}],"answers":[{"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1543686876,"creation_date":1543686876,"answer_id":53573528,"question_id":53573003,"body_markdown":"One line code\r\n\r\n    Int no_of_imgs = getResources().getAssets().list(&quot;foldar_name&quot;).length;\r\n\r\nThis works inside activity or fragment class.\r\n\r\n","title":"How I can get the number of files inside the folder in assets?","body":"<p>One line code</p>\n\n<pre><code>Int no_of_imgs = getResources().getAssets().list(\"foldar_name\").length;\n</code></pre>\n\n<p>This works inside activity or fragment class.</p>\n"},{"tags":[],"owner":{"account_id":11312373,"reputation":271,"user_id":8295173,"display_name":"Mehdi Varse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543693407,"creation_date":1543692373,"answer_id":53574313,"question_id":53573003,"body_markdown":"this code count android assets folder all files also containing in subfolders\r\n\r\n    private int countAssetFiles(String path) {\r\n        int filesCount = 0;\r\n        String [] list;\r\n        try {\r\n            list = getAssets().list(path);\r\n            if (list.length &gt; 0) {  \r\n                for (String file : list) {\r\n                    // if there is a subfolder this line add count of that subfolder to  total count else add 1(one file)\r\n                    filesCount += listAssetFiles(path + &quot;/&quot; + file);\r\n                }\r\n            } \r\n        } catch (IOException e) {\r\n             //path is a file\r\n             return 1;\r\n        }\r\n    \r\n        return filesCount; \r\n    }\r\n\r\n \r\n\r\nby below code you can get all files count in asset folder\r\n\r\n    int allFilesCount = countAssetFiles(&quot;&quot;);\r\n\r\nif you want to get certain folder files in asset use this\r\n\r\n    int filesInSubFolder = countAssetFiles(&quot;/subFolderName&quot;);\r\n","title":"How I can get the number of files inside the folder in assets?","body":"<p>this code count android assets folder all files also containing in subfolders</p>\n\n<pre><code>private int countAssetFiles(String path) {\n    int filesCount = 0;\n    String [] list;\n    try {\n        list = getAssets().list(path);\n        if (list.length &gt; 0) {  \n            for (String file : list) {\n                // if there is a subfolder this line add count of that subfolder to  total count else add 1(one file)\n                filesCount += listAssetFiles(path + \"/\" + file);\n            }\n        } \n    } catch (IOException e) {\n         //path is a file\n         return 1;\n    }\n\n    return filesCount; \n}\n</code></pre>\n\n<p>by below code you can get all files count in asset folder</p>\n\n<pre><code>int allFilesCount = countAssetFiles(\"\");\n</code></pre>\n\n<p>if you want to get certain folder files in asset use this</p>\n\n<pre><code>int filesInSubFolder = countAssetFiles(\"/subFolderName\");\n</code></pre>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1543692015,"answer_count":2,"score":-1,"last_activity_date":1686709842,"creation_date":1543683050,"question_id":53573003,"body_markdown":"How can I know the number of images inside a particular file in assets What should I use?","title":"How I can get the number of files inside the folder in assets?","body":"<p>How can I know the number of images inside a particular file in assets What should I use?</p>\n"},{"tags":["java","swing","repaint"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686700720,"post_id":76469351,"comment_id":134834568,"body_markdown":"DO NOT call `createNumbers`  from within a paint pass - this is not what painting is for.  You should also be making use of one or more appropriate layout managers","body":"DO NOT call <code>createNumbers</code>  from within a paint pass - this is not what painting is for.  You should also be making use of one or more appropriate layout managers"},{"owner":{"account_id":27910902,"reputation":1,"user_id":21313124,"display_name":"Max Allan Jonathan Fotchin"},"score":0,"creation_date":1686701552,"post_id":76469351,"comment_id":134834629,"body_markdown":"yeah but were should I put it when I try to do it outside ot the paint method the numbers get rearranged in a sort of pyramid","body":"yeah but were should I put it when I try to do it outside ot the paint method the numbers get rearranged in a sort of pyramid"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686701763,"post_id":76469351,"comment_id":134834643,"body_markdown":"Use an appropriate layout manager, like `GridLayout` - also, there is a significant difference between a fonts &quot;point size&quot; and it&#39;s pixel size","body":"Use an appropriate layout manager, like <code>GridLayout</code> - also, there is a significant difference between a fonts &quot;point size&quot; and it&#39;s pixel size"},{"owner":{"account_id":27910902,"reputation":1,"user_id":21313124,"display_name":"Max Allan Jonathan Fotchin"},"score":0,"creation_date":1686702295,"post_id":76469351,"comment_id":134834673,"body_markdown":"I can&#39;t use font metrics because I just know the size of a dimension of a square and I can&#39;t get a font metrics object without any font and you need the size for creating a font anyway so how am I supposed to make letter be in range of a ceil area","body":"I can&#39;t use font metrics because I just know the size of a dimension of a square and I can&#39;t get a font metrics object without any font and you need the size for creating a font anyway so how am I supposed to make letter be in range of a ceil area"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686702517,"post_id":76469351,"comment_id":134834695,"body_markdown":"Use an appropriate layout manager.  Start with a &quot;base&quot; font size and pack the contents of the window around it - you seem to have an &quot;xy&quot; problem which be best solved by starting with a base set of parameters - the width/height parameters are, as far as I can tell, useless and are just making your life more difficult","body":"Use an appropriate layout manager.  Start with a &quot;base&quot; font size and pack the contents of the window around it - you seem to have an &quot;xy&quot; problem which be best solved by starting with a base set of parameters - the width/height parameters are, as far as I can tell, useless and are just making your life more difficult"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686702545,"post_id":76469351,"comment_id":134834699,"body_markdown":"*&quot;I can&#39;t use font metrics because I just know the size of a dimension of a square&quot;* and yes you can, but it&#39;s not a pretty thing to do","body":"<i>&quot;I can&#39;t use font metrics because I just know the size of a dimension of a square&quot;</i> and yes you can, but it&#39;s not a pretty thing to do"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1686782639,"post_id":76469351,"comment_id":134848357,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686708847,"creation_date":1686703962,"answer_id":76469510,"question_id":76469351,"body_markdown":"Your core problem is you&#39;re trying to add more components to the UI within a paint pass.  This is not what you should be doing at this phase of the program, and even if you could, you&#39;d need to remove the old components first.\r\n\r\n\r\nInstead, start with some base properties.  For example, set the initial font size to something sensible (or use the default font size of the text fields), then use an appropriate layout manager to handle the actual sizing/positing of the components and forget about the &quot;width&quot;/&quot;height&quot; of the &quot;squares&quot;.\r\n\r\nIf the &quot;width&quot; &amp; &quot;height&quot; are important, then I&#39;d consider starting with a custom component and override it&#39;s `getPreferredSize` method with these values and add a single `JTextField` to it (maybe using a `BorderLayout`).\r\n\r\nNow, the next problem is the font size, there is a significant difference between a fonts &quot;point size&quot; and it&#39;s pixel size, which should also include it&#39;s width and height of the text been rendered.\r\n\r\nWhat you need to do, is when the component is resized, is calculate the desired &quot;cell size&quot;, calculate the largest piece of text you need to render and then increase or decrease the point size until that piece of text fits within the bounds of the cell ... easy &#129322;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.geom.Line2D;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private List&lt;JTextField&gt; fields = new ArrayList&lt;&gt;(9);\r\n            private Font textFont = new Font(&quot;Arial&quot;, Font.PLAIN, 48);\r\n\r\n            public TestPane() {\r\n                setBackground(Color.BLACK);\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridLayout(3, 3, 8, 8));\r\n                for (int index = 0; index &lt; 3 * 3; index++) {\r\n                    JTextField textField = makeTextField();\r\n                    fields.add(textField);\r\n                    textField.setText(Integer.toString(index));\r\n                    add(textField);\r\n                }\r\n\r\n                addComponentListener(new ComponentAdapter() {\r\n                    @Override\r\n                    public void componentResized(ComponentEvent e) {\r\n                        Insets insets = getInsets();\r\n                        int width = getWidth() - (insets.left + insets.right);\r\n                        int height = getHeight() - (insets.top + insets.bottom);\r\n\r\n                        width -= 2 * 8; // (numberOfColumns) - 1 * horizontalGap\r\n                        height -= 2 * 8; // (numberOfRows) - 1 * verticalGap\r\n\r\n                        double colWidth = width / 3;\r\n                        double rowHeight = height / 3;\r\n\r\n                        System.out.println(&quot;Cell = &quot; + colWidth + &quot;x&quot; + rowHeight);\r\n\r\n                        FontMetrics fm = getFontMetrics(textFont);\r\n                        String biggestText = &quot;&quot;;\r\n                        int maxWidth = 0;\r\n                        for (JTextField field : fields) {\r\n                            int textWidth = fm.stringWidth(field.getText());\r\n                            if (textWidth &gt; maxWidth) {\r\n                                maxWidth = textWidth;\r\n                                biggestText = field.getText();\r\n                            }\r\n                        }\r\n\r\n                        int textWidth = fm.stringWidth(biggestText);\r\n                        int textHeight = fm.getHeight();\r\n\r\n                        if (textWidth &gt; colWidth || textHeight &gt; rowHeight) {\r\n                            // Reduce the font size\r\n                            textFont = reduceFontPointToFit(biggestText, colWidth, rowHeight);\r\n                        } else if (textWidth &lt; colWidth || textHeight &lt; rowHeight) {\r\n                            // Increase the font size\r\n                            textFont = increaseFontPointToFit(biggestText, colWidth, rowHeight);\r\n                        }\r\n\r\n                        for (JTextField field : fields) {\r\n                            field.setFont(textFont);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected Font reduceFontPointToFit(String text, double targetWidth, double targetHeight) {\r\n                int pointSize = textFont.getSize();\r\n                FontMetrics fm = getFontMetrics(textFont);\r\n                Font font = textFont;\r\n                do {\r\n                    pointSize -= 2;\r\n                    font = new Font(&quot;Arial&quot;, Font.PLAIN, pointSize);\r\n                    fm = getFontMetrics(font);\r\n                } while (pointSize &gt; 5 &amp;&amp; fm.stringWidth(text) &gt; targetWidth &amp;&amp; fm.getHeight() &gt; targetHeight);\r\n                return font;\r\n            }\r\n\r\n            protected Font increaseFontPointToFit(String text, double targetWidth, double targetHeight) {\r\n                int pointSize = textFont.getSize();\r\n                FontMetrics fm = getFontMetrics(textFont);\r\n                Font font = textFont;\r\n                do {\r\n                    pointSize += 2;\r\n                    font = new Font(&quot;Arial&quot;, Font.PLAIN, pointSize);\r\n                    fm = getFontMetrics(font);\r\n                } while (pointSize &lt; 256 &amp;&amp; fm.stringWidth(text) &gt; targetWidth &amp;&amp; fm.getHeight() &gt; targetHeight);\r\n                return font;\r\n            }\r\n\r\n            protected JTextField makeTextField() {\r\n                JTextField text = new JTextField(1);\r\n                text.setBorder(null);\r\n                text.setEditable(false);\r\n                text.setFocusable(false);\r\n                text.setForeground(Color.WHITE);\r\n                text.setOpaque(false);\r\n                text.setFont(textFont);\r\n                text.setHorizontalAlignment(JTextField.CENTER);\r\n\r\n                return text;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                Insets insets = getInsets();\r\n\r\n                int width = getWidth() - (insets.left + insets.right);\r\n                int height = getHeight() - (insets.top + insets.bottom);\r\n\r\n                int xOffset = insets.left;\r\n                int yOffset = insets.top;\r\n\r\n                g2d.setColor(Color.WHITE);\r\n                g2d.drawRect(xOffset, yOffset, width, height);\r\n\r\n                double colWidth = width / 3d;\r\n                for (int col = 1; col &lt; 3; col++) {\r\n                    double xPos = xOffset + (col * colWidth);\r\n                    g2d.draw(new Line2D.Double(xPos, yOffset, xPos, yOffset + height));\r\n                }\r\n                double rowHeight = height / 3d;\r\n                for (int row = 1; row &lt; 3; row++) {\r\n                    double yPos = xOffset + (row * rowHeight);\r\n                    g2d.draw(new Line2D.Double(xOffset, yPos, xOffset + width, yPos));\r\n                }\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nNow, this is FAR from optimised and you should make some time to see if there are ways to improve it&#39;s overall performance.  For example `componentResized` can be called a lot of times within a short period of time, so it might be worth while delaying any updates until it stabilizes.\r\n\r\nI would also recommend taking the time learn and understand the layout API, see [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) as a starting point\r\n\r\n  [1]: https://i.stack.imgur.com/GGueS.gif","title":"When I resize my App the Components get paints into the one who where already paint and it create a mess","body":"<p>Your core problem is you're trying to add more components to the UI within a paint pass.  This is not what you should be doing at this phase of the program, and even if you could, you'd need to remove the old components first.</p>\n<p>Instead, start with some base properties.  For example, set the initial font size to something sensible (or use the default font size of the text fields), then use an appropriate layout manager to handle the actual sizing/positing of the components and forget about the &quot;width&quot;/&quot;height&quot; of the &quot;squares&quot;.</p>\n<p>If the &quot;width&quot; &amp; &quot;height&quot; are important, then I'd consider starting with a custom component and override it's <code>getPreferredSize</code> method with these values and add a single <code>JTextField</code> to it (maybe using a <code>BorderLayout</code>).</p>\n<p>Now, the next problem is the font size, there is a significant difference between a fonts &quot;point size&quot; and it's pixel size, which should also include it's width and height of the text been rendered.</p>\n<p>What you need to do, is when the component is resized, is calculate the desired &quot;cell size&quot;, calculate the largest piece of text you need to render and then increase or decrease the point size until that piece of text fits within the bounds of the cell ... easy 🤪</p>\n<p><a href=\"https://i.stack.imgur.com/GGueS.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GGueS.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridLayout;\nimport java.awt.Insets;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.awt.geom.Line2D;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private List&lt;JTextField&gt; fields = new ArrayList&lt;&gt;(9);\n        private Font textFont = new Font(&quot;Arial&quot;, Font.PLAIN, 48);\n\n        public TestPane() {\n            setBackground(Color.BLACK);\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridLayout(3, 3, 8, 8));\n            for (int index = 0; index &lt; 3 * 3; index++) {\n                JTextField textField = makeTextField();\n                fields.add(textField);\n                textField.setText(Integer.toString(index));\n                add(textField);\n            }\n\n            addComponentListener(new ComponentAdapter() {\n                @Override\n                public void componentResized(ComponentEvent e) {\n                    Insets insets = getInsets();\n                    int width = getWidth() - (insets.left + insets.right);\n                    int height = getHeight() - (insets.top + insets.bottom);\n\n                    width -= 2 * 8; // (numberOfColumns) - 1 * horizontalGap\n                    height -= 2 * 8; // (numberOfRows) - 1 * verticalGap\n\n                    double colWidth = width / 3;\n                    double rowHeight = height / 3;\n\n                    System.out.println(&quot;Cell = &quot; + colWidth + &quot;x&quot; + rowHeight);\n\n                    FontMetrics fm = getFontMetrics(textFont);\n                    String biggestText = &quot;&quot;;\n                    int maxWidth = 0;\n                    for (JTextField field : fields) {\n                        int textWidth = fm.stringWidth(field.getText());\n                        if (textWidth &gt; maxWidth) {\n                            maxWidth = textWidth;\n                            biggestText = field.getText();\n                        }\n                    }\n\n                    int textWidth = fm.stringWidth(biggestText);\n                    int textHeight = fm.getHeight();\n\n                    if (textWidth &gt; colWidth || textHeight &gt; rowHeight) {\n                        // Reduce the font size\n                        textFont = reduceFontPointToFit(biggestText, colWidth, rowHeight);\n                    } else if (textWidth &lt; colWidth || textHeight &lt; rowHeight) {\n                        // Increase the font size\n                        textFont = increaseFontPointToFit(biggestText, colWidth, rowHeight);\n                    }\n\n                    for (JTextField field : fields) {\n                        field.setFont(textFont);\n                    }\n                }\n            });\n        }\n\n        protected Font reduceFontPointToFit(String text, double targetWidth, double targetHeight) {\n            int pointSize = textFont.getSize();\n            FontMetrics fm = getFontMetrics(textFont);\n            Font font = textFont;\n            do {\n                pointSize -= 2;\n                font = new Font(&quot;Arial&quot;, Font.PLAIN, pointSize);\n                fm = getFontMetrics(font);\n            } while (pointSize &gt; 5 &amp;&amp; fm.stringWidth(text) &gt; targetWidth &amp;&amp; fm.getHeight() &gt; targetHeight);\n            return font;\n        }\n\n        protected Font increaseFontPointToFit(String text, double targetWidth, double targetHeight) {\n            int pointSize = textFont.getSize();\n            FontMetrics fm = getFontMetrics(textFont);\n            Font font = textFont;\n            do {\n                pointSize += 2;\n                font = new Font(&quot;Arial&quot;, Font.PLAIN, pointSize);\n                fm = getFontMetrics(font);\n            } while (pointSize &lt; 256 &amp;&amp; fm.stringWidth(text) &gt; targetWidth &amp;&amp; fm.getHeight() &gt; targetHeight);\n            return font;\n        }\n\n        protected JTextField makeTextField() {\n            JTextField text = new JTextField(1);\n            text.setBorder(null);\n            text.setEditable(false);\n            text.setFocusable(false);\n            text.setForeground(Color.WHITE);\n            text.setOpaque(false);\n            text.setFont(textFont);\n            text.setHorizontalAlignment(JTextField.CENTER);\n\n            return text;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            Insets insets = getInsets();\n\n            int width = getWidth() - (insets.left + insets.right);\n            int height = getHeight() - (insets.top + insets.bottom);\n\n            int xOffset = insets.left;\n            int yOffset = insets.top;\n\n            g2d.setColor(Color.WHITE);\n            g2d.drawRect(xOffset, yOffset, width, height);\n\n            double colWidth = width / 3d;\n            for (int col = 1; col &lt; 3; col++) {\n                double xPos = xOffset + (col * colWidth);\n                g2d.draw(new Line2D.Double(xPos, yOffset, xPos, yOffset + height));\n            }\n            double rowHeight = height / 3d;\n            for (int row = 1; row &lt; 3; row++) {\n                double yPos = xOffset + (row * rowHeight);\n                g2d.draw(new Line2D.Double(xOffset, yPos, xOffset + width, yPos));\n            }\n\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Now, this is FAR from optimised and you should make some time to see if there are ways to improve it's overall performance.  For example <code>componentResized</code> can be called a lot of times within a short period of time, so it might be worth while delaying any updates until it stabilizes.</p>\n<p>I would also recommend taking the time learn and understand the layout API, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> as a starting point</p>\n"}],"owner":{"account_id":27910902,"reputation":1,"user_id":21313124,"display_name":"Max Allan Jonathan Fotchin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686709210,"creation_date":1686700169,"question_id":76469351,"body_markdown":"When I resize my app the Jtextfields before the resizement get paint over and it creates an huge mess [enter image description here](https://i.stack.imgur.com/ON48j.png)\r\nMy code is simple I am trying to create a grid from an existing 2d array with the numbered centered in the grid like sudoku but when I resize my app the application it makes this mess here is my code: \r\n\r\n```\r\npackage graphics;\r\nimport java.awt.*;\r\n\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\npublic class Table  {\r\n    int currentX;\r\n    int currentY;\r\n    final Color currrentColor = Color.yellow;\r\n    final Color pasteColor = Color.red;\r\n    int[][] array;\r\n    int[][] selectedCase;\r\n    int selectedSize;\r\n    TableRepresentation tab;\r\n    void setRepresentation(Color backgroundColor, int width, int height) \r\n    {\r\n       tab = new TableRepresentation(backgroundColor,width,height);\r\n    }\r\n    JPanel getRepresentation() \r\n    {\r\n        \r\n        return tab;\r\n    }\r\n    public Table(int[][] array)\r\n    {\r\n        this.array = array;\r\n        selectedCase = new int[2][array.length * array[0].length];\r\n        currentX = 0;\r\n        currentY = 0;\r\n        selectedSize = 0;\r\n        updateCase(currentX , currentY);\r\n    }\r\n    public void updateCase(int x , int y) {\r\n        currentX = x;\r\n        currentY = y;\r\n        selectedCase[0][selectedSize] = x;\r\n        selectedCase[1][selectedSize] = y;\r\n        selectedSize++;\r\n    }\r\n    private class TableRepresentation extends JPanel {\r\n        double width;\r\n        double height;\r\n        Dimension ceil;\r\n        TableRepresentation(Color backgroundColor, int width, int height){\r\n            setSize(width, height);\r\n            setBackground(backgroundColor);\r\n            this.width = (double) width / array[0].length - 3;\r\n            this.height = (double) height / array.length - 3;\r\n            ceil = new Dimension((int)this.width - 2,(int)this.height - 2);\r\n            \r\n        }\r\n        \r\n        void createGrid(Graphics2D g2d) {\r\n            g2d.drawRect(0,0,getWidth(), getWidth());\r\n            for (int i = 1; i &lt;= array[0].length ; i++) \r\n            {\r\n                if (i == 1) \r\n                {\r\n                    g2d.drawLine((5+(int) width) * i,0,(5+(int) width) * i,getWidth());\r\n                }\r\n                g2d.drawLine((4+(int) width) * i,0,(4+(int) width) * i,getWidth());\r\n            }\r\n            for (int i = 1; i &lt; array[0].length ; i++) \r\n            {\r\n                if (i == 1) \r\n                {\r\n                    g2d.drawLine(0,((int) height + 5) * i,getHeight(),((int) height + 5) * i);\r\n                }\r\n                g2d.drawLine(0,((int) height + 4) * i,getHeight(),((int) height + 4) * i);\r\n            }\r\n            \r\n        }\r\n        Point getCeilAtLocation(int x, int y) {\r\n            return new Point(3 + ((int) width + 3) * x,(3 + ((int) height + 3) * y));\r\n        }\r\n        JTextField setAtributes() {\r\n            JTextField text = new JTextField();\r\n            text.setSize(ceil);\r\n            text.setBorder(null);\r\n            text.setEditable(false);\r\n            text.setFocusable(false);\r\n            text.setForeground(Color.white);\r\n            text.setBackground(Color.BLACK);\r\n            text.setFont(new Font(&quot;Arial&quot;, Font.PLAIN,(int) width - 10));\r\n            text.setHorizontalAlignment(JTextField.CENTER);\r\n            \r\n            return text;\r\n        }\r\n        void createNumbers()\r\n        {\r\n            \r\n            JTextField text = null;\r\n     \r\n            for (int i = 0; i &lt; array.length; i++) \r\n            {\r\n                for (int j = 0; j &lt; array[0].length; j++) \r\n                {\r\n                    text = setAtributes();\r\n                    text.setText(Integer.toString(array[i][j]));\r\n                    text.setLocation(getCeilAtLocation(j,i));\r\n                    add(text, -1);\r\n                    text.setVisible(true);\r\n                }\r\n                \r\n            }\r\n            \r\n        }\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2d = (Graphics2D) g;\r\n            g2d.setColor(Color.white);\r\n            Stroke basic = new BasicStroke(3);\r\n            g2d.setStroke(basic);\r\n            createGrid(g2d);\r\n            createNumbers();\r\n            \r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nHow can I stop the textfields to get paint over please help\r\n","title":"When I resize my App the Components get paints into the one who where already paint and it create a mess","body":"<p>When I resize my app the Jtextfields before the resizement get paint over and it creates an huge mess <a href=\"https://i.stack.imgur.com/ON48j.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nMy code is simple I am trying to create a grid from an existing 2d array with the numbered centered in the grid like sudoku but when I resize my app the application it makes this mess here is my code:</p>\n<pre><code>package graphics;\nimport java.awt.*;\n\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\npublic class Table  {\n    int currentX;\n    int currentY;\n    final Color currrentColor = Color.yellow;\n    final Color pasteColor = Color.red;\n    int[][] array;\n    int[][] selectedCase;\n    int selectedSize;\n    TableRepresentation tab;\n    void setRepresentation(Color backgroundColor, int width, int height) \n    {\n       tab = new TableRepresentation(backgroundColor,width,height);\n    }\n    JPanel getRepresentation() \n    {\n        \n        return tab;\n    }\n    public Table(int[][] array)\n    {\n        this.array = array;\n        selectedCase = new int[2][array.length * array[0].length];\n        currentX = 0;\n        currentY = 0;\n        selectedSize = 0;\n        updateCase(currentX , currentY);\n    }\n    public void updateCase(int x , int y) {\n        currentX = x;\n        currentY = y;\n        selectedCase[0][selectedSize] = x;\n        selectedCase[1][selectedSize] = y;\n        selectedSize++;\n    }\n    private class TableRepresentation extends JPanel {\n        double width;\n        double height;\n        Dimension ceil;\n        TableRepresentation(Color backgroundColor, int width, int height){\n            setSize(width, height);\n            setBackground(backgroundColor);\n            this.width = (double) width / array[0].length - 3;\n            this.height = (double) height / array.length - 3;\n            ceil = new Dimension((int)this.width - 2,(int)this.height - 2);\n            \n        }\n        \n        void createGrid(Graphics2D g2d) {\n            g2d.drawRect(0,0,getWidth(), getWidth());\n            for (int i = 1; i &lt;= array[0].length ; i++) \n            {\n                if (i == 1) \n                {\n                    g2d.drawLine((5+(int) width) * i,0,(5+(int) width) * i,getWidth());\n                }\n                g2d.drawLine((4+(int) width) * i,0,(4+(int) width) * i,getWidth());\n            }\n            for (int i = 1; i &lt; array[0].length ; i++) \n            {\n                if (i == 1) \n                {\n                    g2d.drawLine(0,((int) height + 5) * i,getHeight(),((int) height + 5) * i);\n                }\n                g2d.drawLine(0,((int) height + 4) * i,getHeight(),((int) height + 4) * i);\n            }\n            \n        }\n        Point getCeilAtLocation(int x, int y) {\n            return new Point(3 + ((int) width + 3) * x,(3 + ((int) height + 3) * y));\n        }\n        JTextField setAtributes() {\n            JTextField text = new JTextField();\n            text.setSize(ceil);\n            text.setBorder(null);\n            text.setEditable(false);\n            text.setFocusable(false);\n            text.setForeground(Color.white);\n            text.setBackground(Color.BLACK);\n            text.setFont(new Font(&quot;Arial&quot;, Font.PLAIN,(int) width - 10));\n            text.setHorizontalAlignment(JTextField.CENTER);\n            \n            return text;\n        }\n        void createNumbers()\n        {\n            \n            JTextField text = null;\n     \n            for (int i = 0; i &lt; array.length; i++) \n            {\n                for (int j = 0; j &lt; array[0].length; j++) \n                {\n                    text = setAtributes();\n                    text.setText(Integer.toString(array[i][j]));\n                    text.setLocation(getCeilAtLocation(j,i));\n                    add(text, -1);\n                    text.setVisible(true);\n                }\n                \n            }\n            \n        }\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g;\n            g2d.setColor(Color.white);\n            Stroke basic = new BasicStroke(3);\n            g2d.setStroke(basic);\n            createGrid(g2d);\n            createNumbers();\n            \n        }\n    }\n}\n\n</code></pre>\n<p>How can I stop the textfields to get paint over please help</p>\n"},{"tags":["java","selenium","webdriver"],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660764999,"creation_date":1660764999,"answer_id":73394055,"question_id":73373750,"body_markdown":"please retry once with below options also\r\n\r\n    chromeOptions.addArguments(&quot;--no-sandbox&quot;);\r\n\tchromeOptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\r\n\r\nMore Info on this \r\n[WebDriverException: unknown error: DevToolsActivePort file doesn&#39;t exist while trying to initiate Chrome Browser][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50642308/webdriverexception-unknown-error-devtoolsactiveport-file-doesnt-exist-while-t/50642913#50642913","title":"Could not start a new session. Response code 500. Message: unknown error: Microsoft Edge failed to start: crashed","body":"<p>please retry once with below options also</p>\n<pre><code>chromeOptions.addArguments(&quot;--no-sandbox&quot;);\nchromeOptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\n</code></pre>\n<p>More Info on this\n<a href=\"https://stackoverflow.com/questions/50642308/webdriverexception-unknown-error-devtoolsactiveport-file-doesnt-exist-while-t/50642913#50642913\">WebDriverException: unknown error: DevToolsActivePort file doesn't exist while trying to initiate Chrome Browser</a></p>\n"}],"owner":{"account_id":25781561,"reputation":51,"user_id":19527105,"display_name":"gaurav kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2000,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686706343,"creation_date":1660651677,"question_id":73373750,"body_markdown":"I&#39;m trying to open Edge browser using selenium java code.\r\n\r\n```java\r\nChromeOptions chromeOptions = new ChromeOptions();\r\nchromeOptions.setBinary(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\r\nchromeOptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\nchromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\r\n\r\nif (browser.equals(&quot;chrome&quot;)) {\r\n\tWebDriverManager.chromedriver().setup();\r\n\ttlDriver.set(new ChromeDriver());\r\n} else if (browser.equals(&quot;firefox&quot;)) {\r\n\tWebDriverManager.firefoxdriver().setup();\r\n\ttlDriver.set(new FirefoxDriver());\r\n} else if (browser.equals(&quot;InternetExplorerDriver&quot;)) {\r\n\tWebDriverManager.edgedriver().setup();\r\n\ttlDriver.set(new EdgeDriver(chromeOptions));\r\n} else {\r\n\tSystem.out.println(&quot;Please pass the correct browser value: &quot; + browser);\r\n}\r\n```\r\n\r\n\r\nafter i will got issue \r\n\r\n```\r\n@sanity\r\nScenario Outline: MYTIP - Customer JTG Scenario                    # src/test/java/features/Features/sanity.feature:22\r\nStarting Microsoft Edge WebDriver 103.0.1264.77 (2b250f2585e4f7418e51e230b93685cdc0ed9db5) on port 62823\r\nTo submit feedback, report a bug, or suggest new features, please visit https://github.com/MicrosoftEdge/EdgeWebDriver\r\n\r\nOnly local connections are allowed.\r\nPlease see https://aka.ms/WebDriverSecurity for suggestions on keeping Microsoft Edge WebDriver safe.\r\n\r\nMicrosoft Edge WebDriver was started successfully.\r\n[1660649521.964][WARNING]: Deprecated Microsoft Edge option is ignored: useAutomationExtension\r\n[1660649521.965][WARNING]: Deprecated Microsoft Edge option is ignored: useAutomationExtension\r\n      org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Microsoft Edge failed to start: crashed.\r\n  (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n  (The process started from msedge location C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe is no longer running, so msedgedriver is assuming that msedge has crashed.)\r\nBuild info: version: &#39;4.1.2&#39;, revision: &#39;9a5a329c5a&#39;\r\nSystem info: host: &#39;EQ-EQ6296022&#39;, ip: &#39;10.225.5.135&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_202&#39;\r\nDriver info: org.openqa.selenium.edge.EdgeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {ms:edgeOptions: {args: [], binary: C:\\Program Files (x86)\\Micr..., excludeSwitches: [enable-automation], extensions: [], useAutomationExtension: false}}, Capabilities {browserName: chrome, goog:chromeOptions: {args: [], binary: C:\\Program Files (x86)\\Micr..., excludeSwitches: [enable-automation], extensions: [], useAutomationExtension: false}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [], binary: C:\\Program Files (x86)\\Micr..., excludeSwitches: [enable-automation], extensions: [], useAutomationExtension: false}, ms:edgeOptions: {args: [], binary: C:\\Program Files (x86)\\Micr..., excludeSwitches: [enable-automation], extensions: [], useAutomationExtension: false}}}]\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:558)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:245)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:161)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\r\n\tat org.openqa.selenium.edge.EdgeDriver.&lt;init&gt;(EdgeDriver.java:52)\r\n\tat org.openqa.selenium.edge.EdgeDriver.&lt;init&gt;(EdgeDriver.java:59)\r\n\tat qa.factory.DriverFactory.init_driver(DriverFactory.java:62)\r\n\tat stepDefinations.Hooks.launchBrowser(Hooks.java:37)\r\n```","title":"Could not start a new session. Response code 500. Message: unknown error: Microsoft Edge failed to start: crashed","body":"<p>I'm trying to open Edge browser using selenium java code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setBinary(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\nchromeOptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\nchromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\n\nif (browser.equals(&quot;chrome&quot;)) {\n    WebDriverManager.chromedriver().setup();\n    tlDriver.set(new ChromeDriver());\n} else if (browser.equals(&quot;firefox&quot;)) {\n    WebDriverManager.firefoxdriver().setup();\n    tlDriver.set(new FirefoxDriver());\n} else if (browser.equals(&quot;InternetExplorerDriver&quot;)) {\n    WebDriverManager.edgedriver().setup();\n    tlDriver.set(new EdgeDriver(chromeOptions));\n} else {\n    System.out.println(&quot;Please pass the correct browser value: &quot; + browser);\n}\n</code></pre>\n<p>after i will got issue</p>\n<pre><code>@sanity\nScenario Outline: MYTIP - Customer JTG Scenario                    # src/test/java/features/Features/sanity.feature:22\nStarting Microsoft Edge WebDriver 103.0.1264.77 (2b250f2585e4f7418e51e230b93685cdc0ed9db5) on port 62823\nTo submit feedback, report a bug, or suggest new features, please visit https://github.com/MicrosoftEdge/EdgeWebDriver\n\nOnly local connections are allowed.\nPlease see https://aka.ms/WebDriverSecurity for suggestions on keeping Microsoft Edge WebDriver safe.\n\nMicrosoft Edge WebDriver was started successfully.\n[1660649521.964][WARNING]: Deprecated Microsoft Edge option is ignored: useAutomationExtension\n[1660649521.965][WARNING]: Deprecated Microsoft Edge option is ignored: useAutomationExtension\n      org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Microsoft Edge failed to start: crashed.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from msedge location C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe is no longer running, so msedgedriver is assuming that msedge has crashed.)\nBuild info: version: '4.1.2', revision: '9a5a329c5a'\nSystem info: host: 'EQ-EQ6296022', ip: '10.225.5.135', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_202'\nDriver info: org.openqa.selenium.edge.EdgeDriver\nCommand: [null, newSession {capabilities=[Capabilities {ms:edgeOptions: {args: [], binary: C:\\Program Files (x86)\\Micr..., excludeSwitches: [enable-automation], extensions: [], useAutomationExtension: false}}, Capabilities {browserName: chrome, goog:chromeOptions: {args: [], binary: C:\\Program Files (x86)\\Micr..., excludeSwitches: [enable-automation], extensions: [], useAutomationExtension: false}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [], binary: C:\\Program Files (x86)\\Micr..., excludeSwitches: [enable-automation], extensions: [], useAutomationExtension: false}, ms:edgeOptions: {args: [], binary: C:\\Program Files (x86)\\Micr..., excludeSwitches: [enable-automation], extensions: [], useAutomationExtension: false}}}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:558)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:245)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:161)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\n    at org.openqa.selenium.edge.EdgeDriver.&lt;init&gt;(EdgeDriver.java:52)\n    at org.openqa.selenium.edge.EdgeDriver.&lt;init&gt;(EdgeDriver.java:59)\n    at qa.factory.DriverFactory.init_driver(DriverFactory.java:62)\n    at stepDefinations.Hooks.launchBrowser(Hooks.java:37)\n</code></pre>\n"},{"tags":["java","maven","intellij-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686724469,"post_id":76469600,"comment_id":134836619,"body_markdown":"You know that IntelliJ already has a lot of things to show dependency information etc. Can you explain more in detail what you mean by: `when a component is introduced in the pom file without writing the version number` ??","body":"You know that IntelliJ already has a lot of things to show dependency information etc. Can you explain more in detail what you mean by: <code>when a component is introduced in the pom file without writing the version number</code> ??"},{"owner":{"account_id":14598934,"reputation":11,"user_id":10543751,"display_name":"dongge"},"score":0,"creation_date":1686796688,"post_id":76469600,"comment_id":134849611,"body_markdown":"I solved it, I didn&#39;t use the maven plugin correctly","body":"I solved it, I didn&#39;t use the maven plugin correctly"}],"owner":{"account_id":14598934,"reputation":11,"user_id":10543751,"display_name":"dongge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686705975,"creation_date":1686705975,"question_id":76469600,"body_markdown":"I am developing an idea plugin, the requirement is to get the component dependency information introduced in the pom file of the current project, now I can get some information, when a component is introduced in the pom file without writing the version number, I can&#39;t get the version of the component, but in fact, in the project opened by idea, ctrl+ click on the component to enter the actual introduced version of the pom file. How can this situation be obtained?\r\n\r\n    MavenXpp3Reader reader = new MavenXpp3Reader();\r\n    Model model = reader.read(new FileReader(pomFilePath));\r\n    List&lt;Dependency&gt; dependencies = model.getDependencies();\r\n    for (Dependency dependency : dependencies) {\r\n       String groupId = dependency.getGroupId();\r\n       String artifactId = dependency.getArtifactId();\r\n        String version = dependency.getVersion();\r\n     } \r\n\r\n  ","title":"In the development of the idea plugin, how to obtain the information of component dependencies introduced by the POM file in the current project?","body":"<p>I am developing an idea plugin, the requirement is to get the component dependency information introduced in the pom file of the current project, now I can get some information, when a component is introduced in the pom file without writing the version number, I can't get the version of the component, but in fact, in the project opened by idea, ctrl+ click on the component to enter the actual introduced version of the pom file. How can this situation be obtained?</p>\n<pre><code>MavenXpp3Reader reader = new MavenXpp3Reader();\nModel model = reader.read(new FileReader(pomFilePath));\nList&lt;Dependency&gt; dependencies = model.getDependencies();\nfor (Dependency dependency : dependencies) {\n   String groupId = dependency.getGroupId();\n   String artifactId = dependency.getArtifactId();\n    String version = dependency.getVersion();\n } \n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","spring-data","hibernate-6.x"],"comments":[{"owner":{"account_id":1623532,"reputation":687,"user_id":1499616,"accept_rate":35,"display_name":"Manan Kapoor"},"score":0,"creation_date":1700568321,"post_id":76468008,"comment_id":136668223,"body_markdown":"Hi, I am also facing same issue.. any solution to this? Pls help","body":"Hi, I am also facing same issue.. any solution to this? Pls help"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":1,"creation_date":1700583601,"post_id":76468008,"comment_id":136671276,"body_markdown":"@MananKapoor I couldn&#39;t find the reason yet. However, as I have mentioned in the question, we can embed the like operator within single quotes. This will work, but we don&#39;t know if it Is the official migration change.","body":"@MananKapoor I couldn&#39;t find the reason yet. However, as I have mentioned in the question, we can embed the like operator within single quotes. This will work, but we don&#39;t know if it Is the official migration change."},{"owner":{"account_id":1623532,"reputation":687,"user_id":1499616,"accept_rate":35,"display_name":"Manan Kapoor"},"score":0,"creation_date":1701515357,"post_id":76468008,"comment_id":136787079,"body_markdown":"Thank you! As per your mention, it worked for me.","body":"Thank you! As per your mention, it worked for me."}],"owner":{"account_id":21874390,"reputation":43,"user_id":16163542,"display_name":"Sunil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686705318,"creation_date":1686683230,"question_id":76468008,"body_markdown":"Before migration to spring6 following query used to work :\r\n\r\n```java\r\n@Query(value=&quot;select id,name,email from table1 where name like %:userName% &quot;,nativeQuery = true)\r\nList&lt;Object[]&gt; getUserDetails(@Param(&quot;userName&quot;)String userName);\r\n```\r\n\r\nPost migration to spring6 (hibernate 6), we will have to embed the like operator with single quote to make the query work :\r\n\r\n```sql\r\n@Query(value=&quot;select id,name,email from table1 where name like &#39;%:userName%&#39; &quot;,nativeQuery = true)\r\nList&lt;Object[]&gt; getUserDetails(@Param(&quot;userName&quot;)String userName);\r\n```\r\n\r\nI enabled the debug logs of Hibernate and found the following\r\n\r\nBefore migration the query generated looks like this : \r\n\r\n    where name like ?\r\n\r\nPost migration the query that is generated looks like :\r\n\r\n    where name like CONCAT(&#39;%&#39;,?,&#39;%&#39;)\r\n\r\nand above query execution fails with following error\r\n\r\n    [http-nio-8080-exec-2] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 909, SQLState: 42000\r\n    [http-nio-8080-exec-2] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ORA-00909: invalid number of arguments\r\n\r\n\r\nMy upgraded maven has following versions :\r\n\r\nspring boot : 3.1.0\r\n\r\nhibernate core : 6.2.2.Final\r\n\r\n\r\nI wanted to check if this is a bug or we are expected to update our native queries.\r\n","title":"Native query with like operator fails after migrating to spring6 (hibernate6 )","body":"<p>Before migration to spring6 following query used to work :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value=&quot;select id,name,email from table1 where name like %:userName% &quot;,nativeQuery = true)\nList&lt;Object[]&gt; getUserDetails(@Param(&quot;userName&quot;)String userName);\n</code></pre>\n<p>Post migration to spring6 (hibernate 6), we will have to embed the like operator with single quote to make the query work :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>@Query(value=&quot;select id,name,email from table1 where name like '%:userName%' &quot;,nativeQuery = true)\nList&lt;Object[]&gt; getUserDetails(@Param(&quot;userName&quot;)String userName);\n</code></pre>\n<p>I enabled the debug logs of Hibernate and found the following</p>\n<p>Before migration the query generated looks like this :</p>\n<pre><code>where name like ?\n</code></pre>\n<p>Post migration the query that is generated looks like :</p>\n<pre><code>where name like CONCAT('%',?,'%')\n</code></pre>\n<p>and above query execution fails with following error</p>\n<pre><code>[http-nio-8080-exec-2] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 909, SQLState: 42000\n[http-nio-8080-exec-2] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ORA-00909: invalid number of arguments\n</code></pre>\n<p>My upgraded maven has following versions :</p>\n<p>spring boot : 3.1.0</p>\n<p>hibernate core : 6.2.2.Final</p>\n<p>I wanted to check if this is a bug or we are expected to update our native queries.</p>\n"},{"tags":["java","kotlin","jooq","r2dbc"],"owner":{"account_id":424357,"reputation":165,"user_id":804314,"display_name":"Soichi Takamura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686705312,"creation_date":1686662871,"question_id":76465467,"body_markdown":"I learned JOOQ with R2DBC cannot call `.execute()`, instead it can call something like `.asFlow().toList()` to get a SELECT result.\r\n\r\nHowever, batch methods such as `batchUpdate` doesn&#39;t seem to support that way. The following code causes an error below.\r\n\r\n```kotlin\r\nbatchUpdate(myecords).execute()\r\n```\r\n\r\n```\r\nAttempt to execute a blocking method (e.g. Query.execute() or ResultQuery.fetch()) when only an R2BDC ConnectionFactory was configured. jOOQ&#39;s RowCountQuery and ResultQuery extend Publisher, which allows for reactive streams implementations to subscribe to the results of a jOOQ query. Simply embed your query in the stream, e.g. using Flux.from(query). See also: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/reactive-fetching/\r\n```\r\n\r\nCan we even call batch methods with R2DBC? Thanks.","title":"JOOQ 3.17.x - How can I call batch methods with R2DBC?","body":"<p>I learned JOOQ with R2DBC cannot call <code>.execute()</code>, instead it can call something like <code>.asFlow().toList()</code> to get a SELECT result.</p>\n<p>However, batch methods such as <code>batchUpdate</code> doesn't seem to support that way. The following code causes an error below.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>batchUpdate(myecords).execute()\n</code></pre>\n<pre><code>Attempt to execute a blocking method (e.g. Query.execute() or ResultQuery.fetch()) when only an R2BDC ConnectionFactory was configured. jOOQ's RowCountQuery and ResultQuery extend Publisher, which allows for reactive streams implementations to subscribe to the results of a jOOQ query. Simply embed your query in the stream, e.g. using Flux.from(query). See also: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/reactive-fetching/\n</code></pre>\n<p>Can we even call batch methods with R2DBC? Thanks.</p>\n"},{"tags":["java","apache-axis"],"owner":{"account_id":28813134,"reputation":1,"user_id":22067402,"display_name":"Lowly Spartn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686704774,"creation_date":1686704774,"question_id":76469549,"body_markdown":"I&#39;m using Axis2 (v1.7.4) with a custom converter class. I was able to deploy it and everything was working fine.\r\n\r\nMy machine had its JDK and JRE updated via a GPO update and it no longer finds the converter class. I get  the following: &quot;Can not load the converter util class [CLASSNAME] using default org.apache.axis2.databinding.utils.ConverterUtil class&quot;. I&#39;ve confirmed that the class is in my jar file. \r\n\r\nI&#39;m using Netbeans with Ant, if that makes a difference.\r\n\r\nI&#39;ve tried recompiling on different machines. I&#39;ve also tried downgrading the JDK version, but can only go down one version.\r\n\r\n","title":"Custom converter class not being found after JDK update","body":"<p>I'm using Axis2 (v1.7.4) with a custom converter class. I was able to deploy it and everything was working fine.</p>\n<p>My machine had its JDK and JRE updated via a GPO update and it no longer finds the converter class. I get  the following: &quot;Can not load the converter util class [CLASSNAME] using default org.apache.axis2.databinding.utils.ConverterUtil class&quot;. I've confirmed that the class is in my jar file.</p>\n<p>I'm using Netbeans with Ant, if that makes a difference.</p>\n<p>I've tried recompiling on different machines. I've also tried downgrading the JDK version, but can only go down one version.</p>\n"},{"tags":["java","android"],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686704130,"answer_count":0,"score":0,"last_activity_date":1686704033,"creation_date":1686704033,"question_id":76469516,"body_markdown":"how to minus date in Java like 10-11-2007 minus 10-01-2006.\r\n\r\nI want to get days. How many days difference between them? I check some but there is no option to minus date between two dates and get Days.\r\n\r\nHow can I get it in Java? Is there any way in Java?","title":"how to minus two dates in Java like 10-11-2007 minus 10-01-2006","body":"<p>how to minus date in Java like 10-11-2007 minus 10-01-2006.</p>\n<p>I want to get days. How many days difference between them? I check some but there is no option to minus date between two dates and get Days.</p>\n<p>How can I get it in Java? Is there any way in Java?</p>\n"},{"tags":["java","csv","filereader","trie","opencsv"],"comments":[{"owner":{"account_id":16370655,"reputation":1878,"user_id":11983046,"display_name":"Ryan Zhang"},"score":0,"creation_date":1686017005,"post_id":76410978,"comment_id":134738343,"body_markdown":"`The issue starts when I try to reference the first word on the line trie.search(&quot;abacus&quot;)`. How? Can you show us how you tried to do it other than hard-coding &quot;abacus&quot;?","body":"<code>The issue starts when I try to reference the first word on the line trie.search(&quot;abacus&quot;)</code>. How? Can you show us how you tried to do it other than hard-coding &quot;abacus&quot;?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686039970,"post_id":76410978,"comment_id":134740907,"body_markdown":"Why are most of your fields empty? Splitting like that will still leave you with all the fields, empty or not, as array elements so the array will always be of length nine. That&#39;s just how CSV works","body":"Why are most of your fields empty? Splitting like that will still leave you with all the fields, empty or not, as array elements so the array will always be of length nine. That&#39;s just how CSV works"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686018472,"creation_date":1686018472,"answer_id":76411077,"question_id":76410978,"body_markdown":"In your code, you have the following _if-conditional_.\r\n\r\n```java\r\nif (words.length == 2)\r\n```\r\n\r\nYour _split_ method call is going to return _9_ elements.\r\n\r\nI believe what you are intending to use is a _&quot;,+&quot;_, as you&#39;re _split_ parameter.  \r\nThe _[split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ parameter is evaluated as a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_.\r\n\r\nWhich, in this case, a plus character is going to assimilate 1 or more of the character which precedes it.\r\n\r\nFor example, here are the array elements when a single comma is used.\r\n\r\n```none\r\n0 abacus\r\n1 \r\n2 \r\n3 \r\n4 \r\n5 \r\n6 \r\n7 \r\n8  trust\r\n```\r\n\r\nAnd, here are the elements when a _&quot;,+&quot;_ is used.\r\n\r\n```none\r\n0 abacus\r\n1  trust\r\n```","title":"Can&#39;t figure out why my CSV file is not converting to a string when adding to trie node","body":"<p>In your code, you have the following <em>if-conditional</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (words.length == 2)\n</code></pre>\n<p>Your <em>split</em> method call is going to return <em>9</em> elements.</p>\n<p>I believe what you are intending to use is a <em>&quot;,+&quot;</em>, as you're <em>split</em> parameter.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">split</a></em> parameter is evaluated as a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>.</p>\n<p>Which, in this case, a plus character is going to assimilate 1 or more of the character which precedes it.</p>\n<p>For example, here are the array elements when a single comma is used.</p>\n<pre class=\"lang-none prettyprint-override\"><code>0 abacus\n1 \n2 \n3 \n4 \n5 \n6 \n7 \n8  trust\n</code></pre>\n<p>And, here are the elements when a <em>&quot;,+&quot;</em> is used.</p>\n<pre class=\"lang-none prettyprint-override\"><code>0 abacus\n1  trust\n</code></pre>\n"}],"owner":{"account_id":28761181,"reputation":1,"user_id":22027042,"display_name":"Tate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686703410,"creation_date":1686016783,"question_id":76410978,"body_markdown":"Reading in a basic csv file, the first line,(csv), is &quot;abacus,,,,,,,, trust,,&quot;. Trying to take out the commas and add the two words to some sort of list or array. The issue starts when I try to reference the first word on the line trie.search(&quot;abacus&quot;). Still very new to coding but this one has me stuck.\r\n```\r\ntry {\r\n\twhile ((csv = br.readLine()) != null) {\r\n        String[] words = csv.split(&quot;,&quot;);\r\n        System.out.println(csv);\r\n        if (words.length == 2) {\r\n            String word = words[0].trim();\r\n            int code = 0;\r\n            trie.insert(word, code);\r\n        }\r\n\t}\r\n} catch(FileNotFoundException e) {\r\n\te.printStackTrace();\r\n}\r\n\t\t\r\nSystem.out.println(trie.search(&quot;abacus&quot;));\r\n```\r\n\r\n\r\nI tried inserting the word in several different ways within the word parameter but each time it does not work unless I type &quot;abacus&quot; as the parameter.","title":"Can&#39;t figure out why my CSV file is not converting to a string when adding to trie node","body":"<p>Reading in a basic csv file, the first line,(csv), is &quot;abacus,,,,,,,, trust,,&quot;. Trying to take out the commas and add the two words to some sort of list or array. The issue starts when I try to reference the first word on the line trie.search(&quot;abacus&quot;). Still very new to coding but this one has me stuck.</p>\n<pre><code>try {\n    while ((csv = br.readLine()) != null) {\n        String[] words = csv.split(&quot;,&quot;);\n        System.out.println(csv);\n        if (words.length == 2) {\n            String word = words[0].trim();\n            int code = 0;\n            trie.insert(word, code);\n        }\n    }\n} catch(FileNotFoundException e) {\n    e.printStackTrace();\n}\n        \nSystem.out.println(trie.search(&quot;abacus&quot;));\n</code></pre>\n<p>I tried inserting the word in several different ways within the word parameter but each time it does not work unless I type &quot;abacus&quot; as the parameter.</p>\n"},{"tags":["java","spring-boot","jvm","garbage-collection"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1686702643,"post_id":76469325,"comment_id":134834710,"body_markdown":"The problem has nothing to do with GC. The process didn&#39;t receive CPU time slice, presumably because of I/O or memory issues.","body":"The problem has nothing to do with GC. The process didn&#39;t receive CPU time slice, presumably because of I/O or memory issues."},{"owner":{"account_id":15692733,"reputation":35,"user_id":11323245,"display_name":"sweet_summer_child"},"score":0,"creation_date":1686703605,"post_id":76469325,"comment_id":134834777,"body_markdown":"This is what I was suspecting as well. But looking at the logs, Object copy has taken most of the time that should mean that the problem is related to GC right?","body":"This is what I was suspecting as well. But looking at the logs, Object copy has taken most of the time that should mean that the problem is related to GC right?"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":2,"creation_date":1686705770,"post_id":76469325,"comment_id":134834930,"body_markdown":"No, it&#39;s a typical [survival bias](https://en.wikipedia.org/wiki/Survivorship_bias): GC activity is covered with stats and logs pretty well, while other operations are not. That said, GC may provoke the issue by doing memory intensive operations, but it&#39;s unlikely to be the root cause.","body":"No, it&#39;s a typical <a href=\"https://en.wikipedia.org/wiki/Survivorship_bias\" rel=\"nofollow noreferrer\">survival bias</a>: GC activity is covered with stats and logs pretty well, while other operations are not. That said, GC may provoke the issue by doing memory intensive operations, but it&#39;s unlikely to be the root cause."}],"answers":[{"tags":[],"owner":{"account_id":17089178,"reputation":21,"user_id":12365707,"display_name":"BoboTheKnight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686702470,"creation_date":1686702470,"answer_id":76469443,"question_id":76469325,"body_markdown":"&lt;h5&gt;1. Check CPU usage&lt;/h5&gt;\r\nAs you mentioned, real-time is very large. For this, try looking at CPU usage.\r\n\r\n&gt;Another situation to look out for is real time being a lot larger than the sum of the others this may indicate that the VM did not get enough CPU time on a possibly overloaded machine.\r\n\r\n\r\n&lt;h5&gt;2. Decrease -XX:G1NewSizePercent&lt;/h5&gt;\r\nAlso, from the logs, we can see that the Object Copy is taking a lot of time.\r\n\r\n&gt; [Object Copy (ms): Min: 8854.5, Avg: 8904.6, Max: 8954.6, Diff: 100.1, Sum: 35618.3]\r\n\r\nYou can try the following options from [HotSpot Virtual Machine Garbage Collection Tuning Guide][2].\r\n\r\n\r\n&gt;If the Evacuate Collection Set phase takes too long, in particular, the Object Copy sub-phase, decrease -XX:G1NewSizePercent. This decreases the minimum size of the young generation, allowing for potentially shorter pauses.\r\n\r\n&lt;h5&gt;3. Adjust -XX:MaxGCPauseMillis&lt;/h5&gt;\r\n\r\nYou can also specify the desired maximum pause time with `-XX:MaxGCPauseMillis` .\r\n\r\n&gt; If you prefer high throughput, then relax the pause-time goal by using -XX:MaxGCPauseMillis or provide a larger heap. If latency is the main requirement, then modify the pause-time target. \r\n\r\n  [2]: https://docs.oracle.com/en/java/javase/11/gctuning/garbage-first-garbage-collector-tuning.html#GUID-90E30ACA-8040-432E-B3A0-1E0440AB556A","title":"How to understand cause of G1 GC running for too long","body":"<h5>1. Check CPU usage</h5>\nAs you mentioned, real-time is very large. For this, try looking at CPU usage.\n<blockquote>\n<p>Another situation to look out for is real time being a lot larger than the sum of the others this may indicate that the VM did not get enough CPU time on a possibly overloaded machine.</p>\n</blockquote>\n<h5>2. Decrease -XX:G1NewSizePercent</h5>\nAlso, from the logs, we can see that the Object Copy is taking a lot of time.\n<blockquote>\n<p>[Object Copy (ms): Min: 8854.5, Avg: 8904.6, Max: 8954.6, Diff: 100.1, Sum: 35618.3]</p>\n</blockquote>\n<p>You can try the following options from <a href=\"https://docs.oracle.com/en/java/javase/11/gctuning/garbage-first-garbage-collector-tuning.html#GUID-90E30ACA-8040-432E-B3A0-1E0440AB556A\" rel=\"nofollow noreferrer\">HotSpot Virtual Machine Garbage Collection Tuning Guide</a>.</p>\n<blockquote>\n<p>If the Evacuate Collection Set phase takes too long, in particular, the Object Copy sub-phase, decrease -XX:G1NewSizePercent. This decreases the minimum size of the young generation, allowing for potentially shorter pauses.</p>\n</blockquote>\n<h5>3. Adjust -XX:MaxGCPauseMillis</h5>\n<p>You can also specify the desired maximum pause time with <code>-XX:MaxGCPauseMillis</code> .</p>\n<blockquote>\n<p>If you prefer high throughput, then relax the pause-time goal by using -XX:MaxGCPauseMillis or provide a larger heap. If latency is the main requirement, then modify the pause-time target.</p>\n</blockquote>\n"}],"owner":{"account_id":15692733,"reputation":35,"user_id":11323245,"display_name":"sweet_summer_child"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686702470,"creation_date":1686699491,"question_id":76469325,"body_markdown":"I&#39;m trying to figure out cause of the GC running for 10-15 seconds at times. Most of the pause GCs are small but at times there&#39;s a sudden spike in pause GC time. I was trying to analyse GC logs.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    2023-06-08T05:32:10.709+0000: 593903.305: [GC pause (G1 Evacuation Pause) (young), 8.9649309 secs]\r\n       [Parallel Time: 8963.5 ms, GC Workers: 4]\r\n          [GC Worker Start (ms): Min: 593903305.3, Avg: 593903306.2, Max: 593903308.9, Diff: 3.6]\r\n          [Ext Root Scanning (ms): Min: 0.0, Avg: 2.4, Max: 3.3, Diff: 3.2, Sum: 9.6]\r\n          [Update RS (ms): Min: 5.3, Avg: 5.6, Max: 6.0, Diff: 0.7, Sum: 22.3]\r\n             [Processed Buffers: Min: 9, Avg: 62.8, Max: 84, Diff: 75, Sum: 251]\r\n          [Scan RS (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n          [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n          [Object Copy (ms): Min: 8854.5, Avg: 8904.6, Max: 8954.6, Diff: 100.1, Sum: 35618.3]\r\n          [Termination (ms): Min: 0.0, Avg: 49.9, Max: 100.4, Diff: 100.4, Sum: 199.8]\r\n             [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 4]\r\n          [GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n          [GC Worker Total (ms): Min: 8959.9, Avg: 8962.5, Max: 8963.5, Diff: 3.6, Sum: 35850.2]\r\n          [GC Worker End (ms): Min: 593912268.7, Avg: 593912268.7, Max: 593912268.8, Diff: 0.1]\r\n       [Code Root Fixup: 0.0 ms]\r\n       [Code Root Purge: 0.0 ms]\r\n       [Clear CT: 0.1 ms]\r\n       [Other: 1.3 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 0.5 ms]\r\n          [Ref Enq: 0.0 ms]\r\n          [Redirty Cards: 0.1 ms]\r\n          [Humongous Register: 0.1 ms]\r\n          [Humongous Reclaim: 0.0 ms]\r\n          [Free CSet: 0.1 ms]\r\n       [Eden: 132.0M(132.0M)-&gt;0.0B(145.0M) Survivors: 21.0M-&gt;8192.0K Heap: 690.6M(3072.0M)-&gt;559.1M(3072.0M)]\r\n     [Times: user=0.27 sys=0.01, real=8.97 secs] \r\n    2023-06-08T05:32:19.674+0000: 593912.270: Total time for which application threads were stopped: 8.9664744 seconds, Stopping threads took: 0.0001051 seconds\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nI can see here that the real GC time is significantly higher than user and sys times, can anyone help me figure out what the problem might be?","title":"How to understand cause of G1 GC running for too long","body":"<p>I'm trying to figure out cause of the GC running for 10-15 seconds at times. Most of the pause GCs are small but at times there's a sudden spike in pause GC time. I was trying to analyse GC logs.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>2023-06-08T05:32:10.709+0000: 593903.305: [GC pause (G1 Evacuation Pause) (young), 8.9649309 secs]\n   [Parallel Time: 8963.5 ms, GC Workers: 4]\n      [GC Worker Start (ms): Min: 593903305.3, Avg: 593903306.2, Max: 593903308.9, Diff: 3.6]\n      [Ext Root Scanning (ms): Min: 0.0, Avg: 2.4, Max: 3.3, Diff: 3.2, Sum: 9.6]\n      [Update RS (ms): Min: 5.3, Avg: 5.6, Max: 6.0, Diff: 0.7, Sum: 22.3]\n         [Processed Buffers: Min: 9, Avg: 62.8, Max: 84, Diff: 75, Sum: 251]\n      [Scan RS (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n      [Object Copy (ms): Min: 8854.5, Avg: 8904.6, Max: 8954.6, Diff: 100.1, Sum: 35618.3]\n      [Termination (ms): Min: 0.0, Avg: 49.9, Max: 100.4, Diff: 100.4, Sum: 199.8]\n         [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 4]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\n      [GC Worker Total (ms): Min: 8959.9, Avg: 8962.5, Max: 8963.5, Diff: 3.6, Sum: 35850.2]\n      [GC Worker End (ms): Min: 593912268.7, Avg: 593912268.7, Max: 593912268.8, Diff: 0.1]\n   [Code Root Fixup: 0.0 ms]\n   [Code Root Purge: 0.0 ms]\n   [Clear CT: 0.1 ms]\n   [Other: 1.3 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 0.5 ms]\n      [Ref Enq: 0.0 ms]\n      [Redirty Cards: 0.1 ms]\n      [Humongous Register: 0.1 ms]\n      [Humongous Reclaim: 0.0 ms]\n      [Free CSet: 0.1 ms]\n   [Eden: 132.0M(132.0M)-&gt;0.0B(145.0M) Survivors: 21.0M-&gt;8192.0K Heap: 690.6M(3072.0M)-&gt;559.1M(3072.0M)]\n [Times: user=0.27 sys=0.01, real=8.97 secs] \n2023-06-08T05:32:19.674+0000: 593912.270: Total time for which application threads were stopped: 8.9664744 seconds, Stopping threads took: 0.0001051 seconds</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I can see here that the real GC time is significantly higher than user and sys times, can anyone help me figure out what the problem might be?</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1416600748,"creation_date":1416600395,"answer_id":27069423,"question_id":27069361,"body_markdown":"If I understand your question, you might use [`java.lang.reflect.Array`](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html) and something like\r\n\r\n\tif (field.getType().isArray()) { // &lt;-- should be getType(), thx @Pshemo\r\n\t\tObject array = field.get(obj);\r\n\t\tint len = Array.getLength(array);\r\n\t\tfor (int i = 0; i &lt; len; i++) {\r\n\t\t\tObject v = Array.get(array, i);\r\n\t\t\tSystem.out.println(v);\r\n\t\t}\r\n\t} // ...","title":"java going through array field without creating new instance","body":"<p>If I understand your question, you might use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html\" rel=\"nofollow\"><code>java.lang.reflect.Array</code></a> and something like</p>\n\n<pre><code>if (field.getType().isArray()) { // &lt;-- should be getType(), thx @Pshemo\n    Object array = field.get(obj);\n    int len = Array.getLength(array);\n    for (int i = 0; i &lt; len; i++) {\n        Object v = Array.get(array, i);\n        System.out.println(v);\n    }\n} // ...\n</code></pre>\n"}],"owner":{"account_id":4512390,"reputation":4458,"user_id":3668129,"accept_rate":49,"display_name":"user3668129"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27069423,"answer_count":1,"score":1,"last_activity_date":1686702457,"creation_date":1416600134,"question_id":27069361,"body_markdown":"I&#39;m trying to write a method which gets an `Object` and does some logic with the `Object`&#39;s fields.\r\n\r\nMy method looks like:\r\n\r\n&lt;!-- language-all: java --&gt;\r\n    public void exampleCast(Object obj) {\r\n    \tField[] fields = obj.getClass().getFields();\r\n    \tfor (Field field : fields) {\t\t\t\t\t\r\n    \t\tif (field.getClass().isArray()) {\r\n    \t\t\r\n    \t\t/*\r\n    \t\t\tHOW CAN I GO OVER THE ARRAY FIELDS , WITHOUT CREATING NEW INSATCNE ?\r\n    \t\t\tSOMETHING LIKE:\r\n    \t\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\t\t   array[i] ...\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t*/\t\r\n    \t\t} else {\r\n    \t\t\t...\r\n    \t\t\t...\r\n    \t\t}\r\n    \t}\r\n    }\t\r\n\r\n\r\nAnd an example of objects:\r\n\r\n    class TBD1 {\r\n        public int x;\r\n        public int y;\r\n        public int[] arrInt = new int[10];\r\n        public byte[] arrByte = new byte[10];\r\n    }\r\n\r\nAnd the call to my method:\r\n\r\n    TBD1 tbd1 = new TBD1();\r\n    exampleCast(tbd1);\r\n\r\nIn my method, I don&#39;t know how can I get the array values without create new instance (using the `newInstance` method)\r\nIs it possible?  (please see the comment I wrote in my example)\r\n\r\nI have read those 2 websites:\r\n- http://jroller.com/eyallupu/entry/two_side_notes_about_arrays\r\n- http://tutorials.jenkov.com/java-reflection/arrays.html\r\n\r\n... but I didn&#39;t get what I wanted to.","title":"java going through array field without creating new instance","body":"<p>I'm trying to write a method which gets an <code>Object</code> and does some logic with the <code>Object</code>'s fields.</p>\n<p>My method looks like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void exampleCast(Object obj) {\n    Field[] fields = obj.getClass().getFields();\n    for (Field field : fields) {                    \n        if (field.getClass().isArray()) {\n        \n        /*\n            HOW CAN I GO OVER THE ARRAY FIELDS , WITHOUT CREATING NEW INSATCNE ?\n            SOMETHING LIKE:\n            for (int i = 0; i &lt; array.length; i++) {\n               array[i] ...\n            }\n            \n        */  \n        } else {\n            ...\n            ...\n        }\n    }\n}   \n</code></pre>\n<p>And an example of objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TBD1 {\n    public int x;\n    public int y;\n    public int[] arrInt = new int[10];\n    public byte[] arrByte = new byte[10];\n}\n</code></pre>\n<p>And the call to my method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TBD1 tbd1 = new TBD1();\nexampleCast(tbd1);\n</code></pre>\n<p>In my method, I don't know how can I get the array values without create new instance (using the <code>newInstance</code> method)\nIs it possible?  (please see the comment I wrote in my example)</p>\n<p>I have read those 2 websites:</p>\n<ul>\n<li><a href=\"http://jroller.com/eyallupu/entry/two_side_notes_about_arrays\" rel=\"nofollow noreferrer\">http://jroller.com/eyallupu/entry/two_side_notes_about_arrays</a></li>\n<li><a href=\"http://tutorials.jenkov.com/java-reflection/arrays.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java-reflection/arrays.html</a></li>\n</ul>\n<p>... but I didn't get what I wanted to.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683762203,"post_id":76223251,"comment_id":134417999,"body_markdown":"Similar: [*Why Eclipse 2018-12 says &quot;No JREs found&quot; in JDK-11?*](https://stackoverflow.com/q/54629793/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/54629793/642706\"><i>Why Eclipse 2018-12 says &quot;No JREs found&quot; in JDK-11?</i></a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1683762644,"post_id":76223251,"comment_id":134418035,"body_markdown":"Don&#39;t specify the bin folder, try pointing to the root folder (that contains the bin folder).","body":"Don&#39;t specify the bin folder, try pointing to the root folder (that contains the bin folder)."},{"owner":{"account_id":22667771,"reputation":11,"user_id":16839875,"display_name":"Juancito1201"},"score":0,"creation_date":1683764286,"post_id":76223251,"comment_id":134418182,"body_markdown":"@MaartenBodewes When I pointed to &quot;C:\\Program Files\\Java\\jdk-20&quot; it gave me the same error message","body":"@MaartenBodewes When I pointed to &quot;C:\\Program Files\\Java\\jdk-20&quot; it gave me the same error message"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683767302,"post_id":76223251,"comment_id":134418426,"body_markdown":"Which search function? Please be more specific to describe the steps you are following.","body":"Which search function? Please be more specific to describe the steps you are following."},{"owner":{"account_id":22667771,"reputation":11,"user_id":16839875,"display_name":"Juancito1201"},"score":0,"creation_date":1683768850,"post_id":76223251,"comment_id":134418547,"body_markdown":"@aled I click on Properties &lt; Java Build Path &lt; Libraries &lt; Modulepath &lt; Edit &lt; Installed JREs &lt; Search","body":"@aled I click on Properties &lt; Java Build Path &lt; Libraries &lt; Modulepath &lt; Edit &lt; Installed JREs &lt; Search"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683769280,"post_id":76223251,"comment_id":134418596,"body_markdown":"Have you tried the solution suggested in the link that @BasilBourque shared?","body":"Have you tried the solution suggested in the link that @BasilBourque shared?"},{"owner":{"account_id":22667771,"reputation":11,"user_id":16839875,"display_name":"Juancito1201"},"score":0,"creation_date":1683769474,"post_id":76223251,"comment_id":134418617,"body_markdown":"I haven&#39;t, I will try and notify if it worked or not.  I mistook it for an automatic post as I&#39;m pretty new to this website.","body":"I haven&#39;t, I will try and notify if it worked or not.  I mistook it for an automatic post as I&#39;m pretty new to this website."},{"owner":{"account_id":22667771,"reputation":11,"user_id":16839875,"display_name":"Juancito1201"},"score":0,"creation_date":1683769943,"post_id":76223251,"comment_id":134418649,"body_markdown":"Yes, it worked. The solution was to use Properties &lt; Java Build Path &lt; Libraries &lt; Modulepath &lt; Edit &lt; Installed JREs &lt; Add and go to &quot;C:\\Program Files\\Java\\jdk-20&quot;, thank you.","body":"Yes, it worked. The solution was to use Properties &lt; Java Build Path &lt; Libraries &lt; Modulepath &lt; Edit &lt; Installed JREs &lt; Add and go to &quot;C:\\Program Files\\Java\\jdk-20&quot;, thank you."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1683776614,"post_id":76223251,"comment_id":134419291,"body_markdown":"Which version of Eclipse is it? One that was released when Java 20 was out?","body":"Which version of Eclipse is it? One that was released when Java 20 was out?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1683789443,"post_id":76223251,"comment_id":134421014,"body_markdown":"Java 20 was released after the current Eclipse version 2023-03. So you need to install [Java 20 Support for Eclipse 2023-03 (4.27)](https://marketplace.eclipse.org/content/java-20-support-eclipse-2023-03-427) (in Eclipse via _Help &gt; Eclipse Marketplace..._). Java 20 has no long time support (LTS), which means it will become obsolete with the Java 21 release in September. As Java beginner, better use the Java 17 that is shipped with Eclipse.","body":"Java 20 was released after the current Eclipse version 2023-03. So you need to install <a href=\"https://marketplace.eclipse.org/content/java-20-support-eclipse-2023-03-427\" rel=\"nofollow noreferrer\">Java 20 Support for Eclipse 2023-03 (4.27)</a> (in Eclipse via <i>Help &gt; Eclipse Marketplace...</i>). Java 20 has no long time support (LTS), which means it will become obsolete with the Java 21 release in September. As Java beginner, better use the Java 17 that is shipped with Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":16331633,"reputation":21,"user_id":13097800,"display_name":"PROX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686702163,"creation_date":1686702163,"answer_id":76469435,"question_id":76223251,"body_markdown":"howlger was right. You need to download the Java 20 Support for Eclipse 2023-03 through MarketPlace in Eclipse, install it and then restart Eclipse, once did that you only have to change the configuration once you are creating a new project.\r\n\r\n 1. Go to Help -&gt; Eclipse MarketPlace\r\n 2. Search Java 20 Support for Eclipse 2023-03\r\n 3. Install\r\n 4. Let Eclipse Restart itself\r\n 5. Use create project to change the JavaSE and Java JDK\r\n 6. And you are ready to go\r\n\r\n","title":"How to install Java SE-20 in Eclipse?","body":"<p>howlger was right. You need to download the Java 20 Support for Eclipse 2023-03 through MarketPlace in Eclipse, install it and then restart Eclipse, once did that you only have to change the configuration once you are creating a new project.</p>\n<ol>\n<li>Go to Help -&gt; Eclipse MarketPlace</li>\n<li>Search Java 20 Support for Eclipse 2023-03</li>\n<li>Install</li>\n<li>Let Eclipse Restart itself</li>\n<li>Use create project to change the JavaSE and Java JDK</li>\n<li>And you are ready to go</li>\n</ol>\n"}],"owner":{"account_id":22667771,"reputation":11,"user_id":16839875,"display_name":"Juancito1201"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1801,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686702163,"creation_date":1683762109,"question_id":76223251,"body_markdown":"I&#39;m new to Java and I&#39;m using Eclipse for the first time. I installed JDK 20 manually, but Eclipse didn&#39;t find it.\r\n\r\nI&#39;ve tried:\r\n1- Installing Java SE-20 from the marketplace. JRE 20 is still unbound.\r\n2- Using the search function \r\n`(C:\\Program Files\\Java\\jdk-20\\bin)`\r\n\r\nand it says \r\n\r\n`No JREs found in C:\\Program Files\\Java\\jdk-20\\bin`\r\n\r\nHow would I solve this?","title":"How to install Java SE-20 in Eclipse?","body":"<p>I'm new to Java and I'm using Eclipse for the first time. I installed JDK 20 manually, but Eclipse didn't find it.</p>\n<p>I've tried:\n1- Installing Java SE-20 from the marketplace. JRE 20 is still unbound.\n2- Using the search function\n<code>(C:\\Program Files\\Java\\jdk-20\\bin)</code></p>\n<p>and it says</p>\n<p><code>No JREs found in C:\\Program Files\\Java\\jdk-20\\bin</code></p>\n<p>How would I solve this?</p>\n"},{"tags":["java","spring","mjpeg"],"owner":{"account_id":1449355,"reputation":140,"user_id":2941173,"display_name":"tommynicoletti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686702054,"creation_date":1570643945,"question_id":58309784,"body_markdown":"I need to expose a local Motion JPEG endpoint (ex. &quot;http://192.168.1.10/video.mjpg&quot;) passing from an endpoint in a RestController of my Application Server (jhipster gateway), because I need to gurantee grants and authorization to stream it.\r\n\r\nI already tried [this](https://stackoverflow.com/questions/41856005/spring-resttemplate-streaming-response-into-another-request) solution\r\n\r\n```java\r\n@GetMapping(&quot;/video&quot;)\r\n@Timed\r\npublic void stream(@RequestParam(name = &quot;url&quot;) String url, HttpServletResponse response) throws IOException {\r\n        log.debug(&quot;REST request to stream : {}&quot;, url);\r\n        response.setStatus(HttpStatus.OK.value());\r\n        response.setHeader(HttpHeaders.CONTENT_TYPE, &quot;multipart/x-mixed-replace&quot;);\r\n        response.setHeader(HttpHeaders.CACHE_CONTROL, &quot;no-cache&quot;);\r\n        response.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        restTemplate.execute(\r\n            url,\r\n            HttpMethod.GET,\r\n            (ClientHttpRequest requestCallback) -&gt; {},\r\n            responseExtractor -&gt; {\r\n                IOUtils.copy(responseExtractor.getBody(), response.getOutputStream());\r\n                return null;\r\n            });\r\n    }\r\n```\r\n\r\nBut it didn&#39;t work.\r\nAny suggestion?","title":"How to proxy internal mjpeg endpoint via RestController","body":"<p>I need to expose a local Motion JPEG endpoint (ex. \"<a href=\"http://192.168.1.10/video.mjpg\" rel=\"nofollow noreferrer\">http://192.168.1.10/video.mjpg</a>\") passing from an endpoint in a RestController of my Application Server (jhipster gateway), because I need to gurantee grants and authorization to stream it.</p>\n\n<p>I already tried <a href=\"https://stackoverflow.com/questions/41856005/spring-resttemplate-streaming-response-into-another-request\">this</a> solution</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(\"/video\")\n@Timed\npublic void stream(@RequestParam(name = \"url\") String url, HttpServletResponse response) throws IOException {\n        log.debug(\"REST request to stream : {}\", url);\n        response.setStatus(HttpStatus.OK.value());\n        response.setHeader(HttpHeaders.CONTENT_TYPE, \"multipart/x-mixed-replace\");\n        response.setHeader(HttpHeaders.CACHE_CONTROL, \"no-cache\");\n        response.setHeader(\"Pragma\", \"no-cache\");\n        RestTemplate restTemplate = new RestTemplate();\n        restTemplate.execute(\n            url,\n            HttpMethod.GET,\n            (ClientHttpRequest requestCallback) -&gt; {},\n            responseExtractor -&gt; {\n                IOUtils.copy(responseExtractor.getBody(), response.getOutputStream());\n                return null;\n            });\n    }\n</code></pre>\n\n<p>But it didn't work.\nAny suggestion?</p>\n"},{"tags":["java","mysql","multithreading","spring"],"comments":[{"owner":{"account_id":1051387,"reputation":14943,"user_id":1055241,"accept_rate":86,"display_name":"gprathour"},"score":0,"creation_date":1328339939,"post_id":9139128,"comment_id":11488041,"body_markdown":"You need to provide some source code of your program, then we can see what is going on there.","body":"You need to provide some source code of your program, then we can see what is going on there."},{"owner":{"account_id":334402,"reputation":1621,"user_id":660833,"accept_rate":51,"display_name":"Anupam Gupta"},"score":0,"creation_date":1328340669,"post_id":9139128,"comment_id":11488135,"body_markdown":"Hi GPS I am still trying to figure out which part of code is causing this thread interruption and what scenario is causing this interruption. This interruption is very sporadic.. I am not getting this error always..hence not sure about code will put the code as soon as i will figure out what code is throwing this exception","body":"Hi GPS I am still trying to figure out which part of code is causing this thread interruption and what scenario is causing this interruption. This interruption is very sporadic.. I am not getting this error always..hence not sure about code will put the code as soon as i will figure out what code is throwing this exception"}],"answers":[{"tags":[],"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1328339891,"creation_date":1328339891,"answer_id":9139139,"question_id":9139128,"body_markdown":"A thread cannot process an interrupt while it&#39;s sleeping. So you need to catch the exception when the thread comes out of sleep and then process the interrupt. The method is explained well in [this answer](https://stackoverflow.com/a/1024719/721269). Usually it looks like this:\r\n\r\n      try\r\n      {\r\n          Thread.sleep(whatever);\r\n      }\r\n      catch (InterruptedException e)\r\n      {\r\n           Thread.currentThread().interrupt(); // restore interrupted status\r\n      }\r\n","title":"a sleeping Thread is getting interrupted causing loss of connection to db","body":"<p>A thread cannot process an interrupt while it's sleeping. So you need to catch the exception when the thread comes out of sleep and then process the interrupt. The method is explained well in <a href=\"https://stackoverflow.com/a/1024719/721269\">this answer</a>. Usually it looks like this:</p>\n\n<pre><code>  try\n  {\n      Thread.sleep(whatever);\n  }\n  catch (InterruptedException e)\n  {\n       Thread.currentThread().interrupt(); // restore interrupted status\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328342338,"creation_date":1328342338,"answer_id":9139377,"question_id":9139128,"body_markdown":"Are you throwing an interrupted Exception somewhere in your code may be to signal that a Thread should stop? Can you provide the code for this method:\r\n\r\n    com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run","title":"a sleeping Thread is getting interrupted causing loss of connection to db","body":"<p>Are you throwing an interrupted Exception somewhere in your code may be to signal that a Thread should stop? Can you provide the code for this method:</p>\n\n<pre><code>com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3319340,"reputation":884,"user_id":2790894,"accept_rate":0,"display_name":"Milan Sheth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583262009,"creation_date":1583262009,"answer_id":60513899,"question_id":9139128,"body_markdown":"Let&#39;s understand with your code:\r\n\r\n    while (true) {\r\n      // Your logic code\r\n    }\r\n\r\nWhat does it do? Nothing, it just spins the CPU endlessly. Can we terminate it? Not in Java. It will only stop when the entire **JVM stops**, when you hit **Ctrl-C**. There is no way in Java to terminate a thread unless the thread exits by itself. That’s the principle we have to have in mind, and everything else will just be obvious.\r\n\r\nSo, how do we stop a thread when we need it to stop?\r\n\r\nHere is how it is designed in Java. There is a flag in every thread that we can set from the outside. And the thread may check it occasionally and stop its execution. Voluntarily! Here is how:\r\n\r\n    Thread loop = new Thread(\r\n      new Runnable() {\r\n        @Override\r\n        public void run() {\r\n          while (true) {\r\n            if (Thread.interrupted()) {\r\n              break;\r\n            }\r\n            // Your logic code\r\n          }\r\n        }\r\n      }\r\n    );\r\n    loop.start();\r\n\r\n","title":"a sleeping Thread is getting interrupted causing loss of connection to db","body":"<p>Let's understand with your code:</p>\n\n<pre><code>while (true) {\n  // Your logic code\n}\n</code></pre>\n\n<p>What does it do? Nothing, it just spins the CPU endlessly. Can we terminate it? Not in Java. It will only stop when the entire <strong>JVM stops</strong>, when you hit <strong>Ctrl-C</strong>. There is no way in Java to terminate a thread unless the thread exits by itself. That’s the principle we have to have in mind, and everything else will just be obvious.</p>\n\n<p>So, how do we stop a thread when we need it to stop?</p>\n\n<p>Here is how it is designed in Java. There is a flag in every thread that we can set from the outside. And the thread may check it occasionally and stop its execution. Voluntarily! Here is how:</p>\n\n<pre><code>Thread loop = new Thread(\n  new Runnable() {\n    @Override\n    public void run() {\n      while (true) {\n        if (Thread.interrupted()) {\n          break;\n        }\n        // Your logic code\n      }\n    }\n  }\n);\nloop.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20928407,"reputation":1,"user_id":15375340,"display_name":"Hritik Shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686701467,"creation_date":1686642467,"answer_id":76462721,"question_id":9139128,"body_markdown":"You may check whether the h2 database lock file survived the server shutdown. The file’s name is `&lt;keycloak_dir&gt;/data/h2/keycloakdb.lock.db`.\r\n\r\nRemove the file and start the server.","title":"a sleeping Thread is getting interrupted causing loss of connection to db","body":"<p>You may check whether the h2 database lock file survived the server shutdown. The file’s name is <code>&lt;keycloak_dir&gt;/data/h2/keycloakdb.lock.db</code>.</p>\n<p>Remove the file and start the server.</p>\n"}],"owner":{"account_id":334402,"reputation":1621,"user_id":660833,"accept_rate":51,"display_name":"Anupam Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44890,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9139139,"answer_count":4,"score":4,"last_activity_date":1686701467,"creation_date":1328339701,"question_id":9139128,"body_markdown":"I am new to Multi-threading in JAVA and am facing a problem. I am getting an exception which says that \r\n\r\n&gt; java.lang.InterruptedException: sleep interrupted\r\n\r\nthis follows a loss to connection to db. I am clueless regarding what is going wrong there. It looks like after thread is interrupted, they are being re-initialized but are not getting started.. \r\n\r\nfollowing is my run method\r\n\r\n    public void run() {\r\n            LOG.info(&quot;Started&quot;);\r\n            running = true;\r\n            while (running) {\r\n                Lock readLock = readWriteLock.readLock();\r\n                readLock.lock();\r\n                long loopDelay;\r\n                try {\r\n                    loopDelay = executor.execute();\r\n                    if (loopDelay &gt; 0) {\r\n                        Thread.sleep(loopDelay);\r\n                    }\r\n                } catch (Exception e) {\r\n                    LOG.info(&quot;Executor Interrupted&quot;, e);\r\n                    break;\r\n                } finally {\r\n                    readLock.unlock();\r\n                }\r\n            }\r\n            LOG.info(&quot;Stopped&quot;);\r\n        }\r\n\r\n**possible solution:** after going through the link suggested by david I feel the problem here is the same mentioned by David i.e **&quot;A thread cannot process an interrupt while it&#39;s sleeping.&quot;** so to fix this I should handle the Interrrupted Exception in a better way i.e as suggesteb by david.\r\n\r\nFollowing is my stack trace.. Can Some one please help me in understanding the issue\r\n\r\n        2012-02-03 10:38:09,260   150696427 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:89) - Executor Interrupted\r\n        java.lang.InterruptedException: sleep interrupted\r\n        \tat java.lang.Thread.sleep(Native Method)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:86)\r\n        2012-02-03 10:38:09,261   150696428 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:95) - Stopped\r\n        2012-02-03 10:38:09,261   150696428 [main] INFO  (TaskExecutorThread.java:69) - shutdown\r\n        2012-02-03 10:38:09,262   150696429 [taskRuleExecutorThread] ERROR (JDBCExceptionReporter.java:101) - Cannot get a connection, general error\r\n        2012-02-03 10:38:09,262   150696429 [taskRuleExecutorThread] ERROR (JDBCExceptionReporter.java:101) - Cannot get a connection, general error\r\n        2012-02-03 10:38:09,294   150696461 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer c02c5ac7-8dee-42aa-b344-ff7f7f6894f5\r\n        2012-02-03 10:38:09,294   150696461 [taskRuleExecutorThread] ERROR (TaskExecutor.java:205) - Catch exception\r\n        org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot get a connection, general error; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot get a connection, general error\r\n        \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:83)\r\n        \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\r\n        \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\r\n        \tat org.springframework.orm.hibernate3.HibernateAccessor.convertJdbcAccessException(HibernateAccessor.java:424)\r\n        \tat org.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:410)\r\n        \tat org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:411)\r\n        \tat org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\r\n        \tat org.springframework.orm.hibernate3.HibernateTemplate.findByCriteria(HibernateTemplate.java:1046)\r\n        \tat org.springframework.orm.hibernate3.HibernateTemplate.findByCriteria(HibernateTemplate.java:1039)\r\n        \tat com.xyz.abc.web.dao.RuleDao.loadActive(RuleDao.java:53)\r\n        \tat com.xyz.abc.web.service.RuleServiceImpl.createRulesByTemplate(RuleServiceImpl.java:39)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n        \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        \tat $Proxy60.createRulesByTemplate(Unknown Source)\r\n        \tat com.xyz.abc.rules.RulesInvoker.checkIsInitialized(RulesInvoker.java:97)\r\n        \tat com.xyz.abc.rules.RulesInvoker.invokeForEvent(RulesInvoker.java:73)\r\n        \tat com.xyz.abc.mdp.RabbitMqMessageProcessor.processMessage(RabbitMqMessageProcessor.java:53)\r\n        \tat sun.reflect.GeneratedMethodAccessor101.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n        \tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:156)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:139)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:116)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:104)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutor.access$200(TaskExecutor.java:39)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:85)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:79)\r\n        \tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:79)\r\n        \tat com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:84)\r\n        Caused by: org.apache.commons.dbcp.SQLNestedException: Cannot get a connection, general error\r\n        \tat org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:118)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\r\n        \tat org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\r\n        \tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\r\n        \tat org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\r\n        \tat org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)\r\n        \tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1596)\r\n        \tat org.hibernate.loader.Loader.doQuery(Loader.java:717)\r\n        \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:270)\r\n        \tat org.hibernate.loader.Loader.doList(Loader.java:2294)\r\n        \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2172)\r\n        \tat org.hibernate.loader.Loader.list(Loader.java:2167)\r\n        \tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:119)\r\n        \tat org.hibernate.impl.SessionImpl.list(SessionImpl.java:1706)\r\n        \tat org.hibernate.impl.CriteriaImpl.list(CriteriaImpl.java:347)\r\n        \tat org.springframework.orm.hibernate3.HibernateTemplate$36.doInHibernate(HibernateTemplate.java:1056)\r\n        \tat org.springframework.orm.hibernate3.HibernateTemplate$36.doInHibernate(HibernateTemplate.java:1)\r\n        \tat org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)\r\n        \t... 33 more\r\n        Caused by: java.lang.InterruptedException\r\n        \tat java.lang.Object.wait(Native Method)\r\n        \tat java.lang.Object.wait(Object.java:485)\r\n        \tat org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1104)\r\n        \tat org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106)\r\n        \t... 50 more\r\n        2012-02-03 10:38:09,399   150696566 [taskRuleExecutorThread] INFO  (TaskExecutor.java:93) - org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only\r\n    2012-02-03 10:38:09,399   150696566 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:89) - Executor Interrupted\r\n    java.lang.InterruptedException: sleep interrupted\r\n    \tat java.lang.Thread.sleep(Native Method)\r\n    \tat com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:86)\r\n    2012-02-03 10:38:09,399   150696566 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:95) - Stopped\r\n    2012-02-03 10:38:09,400   150696567 [main] INFO  (TaskExecutorThread.java:69) - shutdown\r\n    2012-02-03 10:38:09,400   150696567 [taskParatureExecutorThread] INFO  (TaskExecutorThread.java:89) - Executor Interrupted\r\n    java.lang.InterruptedException: sleep interrupted\r\n    \tat java.lang.Thread.sleep(Native Method)\r\n    \tat com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:86)\r\n    2012-02-03 10:38:09,400   150696567 [taskParatureExecutorThread] INFO  \r\n\r\n    (TaskExecutorThread.java:95) - Stopped\r\n    2012-02-03 10:38:09,400   150696567 [main] INFO  (TaskExecutorThread.java:69) - shutdown","title":"a sleeping Thread is getting interrupted causing loss of connection to db","body":"<p>I am new to Multi-threading in JAVA and am facing a problem. I am getting an exception which says that </p>\n\n<blockquote>\n  <p>java.lang.InterruptedException: sleep interrupted</p>\n</blockquote>\n\n<p>this follows a loss to connection to db. I am clueless regarding what is going wrong there. It looks like after thread is interrupted, they are being re-initialized but are not getting started.. </p>\n\n<p>following is my run method</p>\n\n<pre><code>public void run() {\n        LOG.info(\"Started\");\n        running = true;\n        while (running) {\n            Lock readLock = readWriteLock.readLock();\n            readLock.lock();\n            long loopDelay;\n            try {\n                loopDelay = executor.execute();\n                if (loopDelay &gt; 0) {\n                    Thread.sleep(loopDelay);\n                }\n            } catch (Exception e) {\n                LOG.info(\"Executor Interrupted\", e);\n                break;\n            } finally {\n                readLock.unlock();\n            }\n        }\n        LOG.info(\"Stopped\");\n    }\n</code></pre>\n\n<p><strong>possible solution:</strong> after going through the link suggested by david I feel the problem here is the same mentioned by David i.e <strong>\"A thread cannot process an interrupt while it's sleeping.\"</strong> so to fix this I should handle the Interrrupted Exception in a better way i.e as suggesteb by david.</p>\n\n<p>Following is my stack trace.. Can Some one please help me in understanding the issue</p>\n\n<pre><code>    2012-02-03 10:38:09,260   150696427 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:89) - Executor Interrupted\n    java.lang.InterruptedException: sleep interrupted\n        at java.lang.Thread.sleep(Native Method)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:86)\n    2012-02-03 10:38:09,261   150696428 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:95) - Stopped\n    2012-02-03 10:38:09,261   150696428 [main] INFO  (TaskExecutorThread.java:69) - shutdown\n    2012-02-03 10:38:09,262   150696429 [taskRuleExecutorThread] ERROR (JDBCExceptionReporter.java:101) - Cannot get a connection, general error\n    2012-02-03 10:38:09,262   150696429 [taskRuleExecutorThread] ERROR (JDBCExceptionReporter.java:101) - Cannot get a connection, general error\n    2012-02-03 10:38:09,294   150696461 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer c02c5ac7-8dee-42aa-b344-ff7f7f6894f5\n    2012-02-03 10:38:09,294   150696461 [taskRuleExecutorThread] ERROR (TaskExecutor.java:205) - Catch exception\n    org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot get a connection, general error; nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot get a connection, general error\n        at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:83)\n        at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\n        at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\n        at org.springframework.orm.hibernate3.HibernateAccessor.convertJdbcAccessException(HibernateAccessor.java:424)\n        at org.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:410)\n        at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:411)\n        at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\n        at org.springframework.orm.hibernate3.HibernateTemplate.findByCriteria(HibernateTemplate.java:1046)\n        at org.springframework.orm.hibernate3.HibernateTemplate.findByCriteria(HibernateTemplate.java:1039)\n        at com.xyz.abc.web.dao.RuleDao.loadActive(RuleDao.java:53)\n        at com.xyz.abc.web.service.RuleServiceImpl.createRulesByTemplate(RuleServiceImpl.java:39)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n        at $Proxy60.createRulesByTemplate(Unknown Source)\n        at com.xyz.abc.rules.RulesInvoker.checkIsInitialized(RulesInvoker.java:97)\n        at com.xyz.abc.rules.RulesInvoker.invokeForEvent(RulesInvoker.java:73)\n        at com.xyz.abc.mdp.RabbitMqMessageProcessor.processMessage(RabbitMqMessageProcessor.java:53)\n        at sun.reflect.GeneratedMethodAccessor101.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:156)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:139)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:116)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:104)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutor.access$200(TaskExecutor.java:39)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:85)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:79)\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:79)\n        at com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:84)\n    Caused by: org.apache.commons.dbcp.SQLNestedException: Cannot get a connection, general error\n        at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:118)\n        at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\n        at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\n        at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\n        at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1596)\n        at org.hibernate.loader.Loader.doQuery(Loader.java:717)\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:270)\n        at org.hibernate.loader.Loader.doList(Loader.java:2294)\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2172)\n        at org.hibernate.loader.Loader.list(Loader.java:2167)\n        at org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:119)\n        at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1706)\n        at org.hibernate.impl.CriteriaImpl.list(CriteriaImpl.java:347)\n        at org.springframework.orm.hibernate3.HibernateTemplate$36.doInHibernate(HibernateTemplate.java:1056)\n        at org.springframework.orm.hibernate3.HibernateTemplate$36.doInHibernate(HibernateTemplate.java:1)\n        at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)\n        ... 33 more\n    Caused by: java.lang.InterruptedException\n        at java.lang.Object.wait(Native Method)\n        at java.lang.Object.wait(Object.java:485)\n        at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1104)\n        at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106)\n        ... 50 more\n    2012-02-03 10:38:09,399   150696566 [taskRuleExecutorThread] INFO  (TaskExecutor.java:93) - org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only\n2012-02-03 10:38:09,399   150696566 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:89) - Executor Interrupted\njava.lang.InterruptedException: sleep interrupted\n    at java.lang.Thread.sleep(Native Method)\n    at com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:86)\n2012-02-03 10:38:09,399   150696566 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:95) - Stopped\n2012-02-03 10:38:09,400   150696567 [main] INFO  (TaskExecutorThread.java:69) - shutdown\n2012-02-03 10:38:09,400   150696567 [taskParatureExecutorThread] INFO  (TaskExecutorThread.java:89) - Executor Interrupted\njava.lang.InterruptedException: sleep interrupted\n    at java.lang.Thread.sleep(Native Method)\n    at com.xyz.abc.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:86)\n2012-02-03 10:38:09,400   150696567 [taskParatureExecutorThread] INFO  \n\n(TaskExecutorThread.java:95) - Stopped\n2012-02-03 10:38:09,400   150696567 [main] INFO  (TaskExecutorThread.java:69) - shutdown\n</code></pre>\n"},{"tags":["java","java-bytecode-asm"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686645725,"post_id":76463005,"comment_id":134823834,"body_markdown":"I think this would be easier to do if you use the visitor API... Anyway, I don&#39;t get where you are stuck at. What do you want as output? Overwrite the old class file with the new one?","body":"I think this would be easier to do if you use the visitor API... Anyway, I don&#39;t get where you are stuck at. What do you want as output? Overwrite the old class file with the new one?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686645822,"post_id":76463005,"comment_id":134823857,"body_markdown":"There’s no sense in trying to calculate `mergedMethod.maxStack` and `mergedMethod.maxLocals` when you use `COMPUTE_MAXS`. When this code contains branches, this will not be enough; you would have to use `COMPUTE_FRAMES` then (which still implies calculating max). Further, this approach won’t work with appending to the end, as you’re placing the code after the last `return` or `throw` which has no effect. While putting a complete method’s code at the beginning effectively replaces the entire code with the other method.","body":"There’s no sense in trying to calculate <code>mergedMethod.maxStack</code> and <code>mergedMethod.maxLocals</code> when you use <code>COMPUTE_MAXS</code>. When this code contains branches, this will not be enough; you would have to use <code>COMPUTE_FRAMES</code> then (which still implies calculating max). Further, this approach won’t work with appending to the end, as you’re placing the code after the last <code>return</code> or <code>throw</code> which has no effect. While putting a complete method’s code at the beginning effectively replaces the entire code with the other method."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686646050,"post_id":76463005,"comment_id":134823917,"body_markdown":"There is no way to “write the bytecode back to the original method” in the Reflection API. You can a) use the modified code to produce a new runtime class b) overwrite the persistent class files, to affect the next run, c) write a Java Agent using the Instrumentation API, or d) write a debugger using the debugging API.","body":"There is no way to “write the bytecode back to the original method” in the Reflection API. You can a) use the modified code to produce a new runtime class b) overwrite the persistent class files, to affect the next run, c) write a Java Agent using the Instrumentation API, or d) write a debugger using the debugging API."}],"owner":{"account_id":25716295,"reputation":46,"user_id":19474029,"display_name":"Qweru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686701196,"creation_date":1686644714,"question_id":76463005,"body_markdown":"I am trying to make something similar to Mixins (from the Minecraft mod loader Fabric)\r\nand what I made so far seems to work (doesn&#39;t throw any errors, I don&#39;t know how else to check), but I got stuck now that I need to write the bytecode back to the original method.\r\n\r\nHow do I do this?\r\n\r\nMy code; \r\n```\r\n/**\r\n     * @param method1 The base method\r\n     * @param method2 The code that should be added\r\n     * @param descriptor The descriptor for both of the methods\r\n     * @param access_level The access level for both of the methods (private, public, etc.)\r\n     * @param pos The position to inject to\r\n     * @param method1Class The base methods source class\r\n     * @param method The base method as a Method object\r\n     * @throws Exception when something went wrong\r\n     */\r\n    public static void mixin(MethodNode method1, MethodNode method2, String descriptor, int access_level, String pos, Class&lt;?&gt; method1Class, Method method) throws Exception {\r\n        // Create a new method with merged characteristics\r\n        MethodNode mergedMethod = new MethodNode(\r\n                access_level,\r\n                &quot;mergedMethod&quot;,\r\n                descriptor,\r\n                null,\r\n                null\r\n        );\r\n\r\n        // Merge the instructions from both methods into the merged method\r\n        switch (pos){\r\n            case &quot;HEAD&quot; -&gt; {\r\n                mergedMethod.instructions.add(method2.instructions);\r\n                mergedMethod.instructions.add(method1.instructions);\r\n            }\r\n            case &quot;TAIL&quot; -&gt; {\r\n                mergedMethod.instructions.add(method1.instructions);\r\n                mergedMethod.instructions.add(method2.instructions);\r\n            }\r\n            default -&gt; {\r\n                throw new IllegalArgumentException(&quot;Invalid mixin point provided!&quot;);\r\n            }\r\n        }\r\n\r\n        // Recalculate the stack size and max locals\r\n        mergedMethod.maxStack = Math.max(method1.maxStack, method2.maxStack);\r\n        mergedMethod.maxLocals = Math.max(method1.maxLocals, method2.maxLocals);\r\n\r\n        // Generate the bytecode for the merged method\r\n        ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_MAXS);\r\n        mergedMethod.accept(cw);\r\n\r\n        byte[] bytecode = cw.toByteArray();\r\n\r\n        method.setAccessible(true);\r\n    }\r\n```","title":"Write bytecode to a method with ASM in java","body":"<p>I am trying to make something similar to Mixins (from the Minecraft mod loader Fabric)\nand what I made so far seems to work (doesn't throw any errors, I don't know how else to check), but I got stuck now that I need to write the bytecode back to the original method.</p>\n<p>How do I do this?</p>\n<p>My code;</p>\n<pre><code>/**\n     * @param method1 The base method\n     * @param method2 The code that should be added\n     * @param descriptor The descriptor for both of the methods\n     * @param access_level The access level for both of the methods (private, public, etc.)\n     * @param pos The position to inject to\n     * @param method1Class The base methods source class\n     * @param method The base method as a Method object\n     * @throws Exception when something went wrong\n     */\n    public static void mixin(MethodNode method1, MethodNode method2, String descriptor, int access_level, String pos, Class&lt;?&gt; method1Class, Method method) throws Exception {\n        // Create a new method with merged characteristics\n        MethodNode mergedMethod = new MethodNode(\n                access_level,\n                &quot;mergedMethod&quot;,\n                descriptor,\n                null,\n                null\n        );\n\n        // Merge the instructions from both methods into the merged method\n        switch (pos){\n            case &quot;HEAD&quot; -&gt; {\n                mergedMethod.instructions.add(method2.instructions);\n                mergedMethod.instructions.add(method1.instructions);\n            }\n            case &quot;TAIL&quot; -&gt; {\n                mergedMethod.instructions.add(method1.instructions);\n                mergedMethod.instructions.add(method2.instructions);\n            }\n            default -&gt; {\n                throw new IllegalArgumentException(&quot;Invalid mixin point provided!&quot;);\n            }\n        }\n\n        // Recalculate the stack size and max locals\n        mergedMethod.maxStack = Math.max(method1.maxStack, method2.maxStack);\n        mergedMethod.maxLocals = Math.max(method1.maxLocals, method2.maxLocals);\n\n        // Generate the bytecode for the merged method\n        ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_MAXS);\n        mergedMethod.accept(cw);\n\n        byte[] bytecode = cw.toByteArray();\n\n        method.setAccessible(true);\n    }\n</code></pre>\n"},{"tags":["java","minecraft","g1gc"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686700172,"creation_date":1677427977,"answer_id":75573293,"question_id":75573017,"body_markdown":"If it was me, I would get rid of all of these options:\r\n\r\n    -XX:G1NewSizePercent=40 -XX:G1MaxNewSizePercent=50 \r\n    -XX:G1HeapRegionSize=16M -XX:G1ReservePercent=15 \r\n    -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 \r\n    -XX:InitiatingHeapOccupancyPercent=20\r\n    -XX:G1MixedGCLiveThresholdPercent=90\r\n    -XX:G1RSetUpdatingPauseTimePercent=5 \r\n    -XX:SurvivorRatio=32 -XX:MaxTenuringThreshold=1\r\n\r\nThen tell the G1GC what pause time to aim for, and let it work things out for itself.\r\n\r\nIn particular, the options that set sizes or ratios for the new space will override G1GC&#39;s self-tuning that is intended to meet your specified pause time goals.  The new space collection is stop-the-world, so a collection of a large new space is going to *inevitably* lead to long pauses.\r\n\r\nFor more advice, read:\r\n\r\n  - [Garbage First Garbage Collector Tuning](https://www.oracle.com/technical-resources/articles/java/g1gc.html) by Monica Beckwith\r\n  - [10 - Garbage-First Garbage Collector Tuning](https://docs.oracle.com/javase/9/gctuning/garbage-first-garbage-collector-tuning.htm)","title":"Application freezing on g1 old run","body":"<p>If it was me, I would get rid of all of these options:</p>\n<pre><code>-XX:G1NewSizePercent=40 -XX:G1MaxNewSizePercent=50 \n-XX:G1HeapRegionSize=16M -XX:G1ReservePercent=15 \n-XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 \n-XX:InitiatingHeapOccupancyPercent=20\n-XX:G1MixedGCLiveThresholdPercent=90\n-XX:G1RSetUpdatingPauseTimePercent=5 \n-XX:SurvivorRatio=32 -XX:MaxTenuringThreshold=1\n</code></pre>\n<p>Then tell the G1GC what pause time to aim for, and let it work things out for itself.</p>\n<p>In particular, the options that set sizes or ratios for the new space will override G1GC's self-tuning that is intended to meet your specified pause time goals.  The new space collection is stop-the-world, so a collection of a large new space is going to <em>inevitably</em> lead to long pauses.</p>\n<p>For more advice, read:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/technical-resources/articles/java/g1gc.html\" rel=\"nofollow noreferrer\">Garbage First Garbage Collector Tuning</a> by Monica Beckwith</li>\n<li><a href=\"https://docs.oracle.com/javase/9/gctuning/garbage-first-garbage-collector-tuning.htm\" rel=\"nofollow noreferrer\">10 - Garbage-First Garbage Collector Tuning</a></li>\n</ul>\n"}],"owner":{"account_id":26855220,"reputation":1,"user_id":20439621,"display_name":"Pedro Pagani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1678130634,"accepted_answer_id":75573293,"answer_count":1,"score":-2,"last_activity_date":1686700172,"creation_date":1677425389,"question_id":75573017,"body_markdown":"we currently run DonutSMP.net, a minecraft server that handles concurrently more than 4000 players online every day and it runs a survival gamemode, chunk-intensive, currently we have been experiencing some G1 OLD issues, every time the g1 old runs the server freezes, and mainly we would avoid the G1 old running since its not a cheap process at all.\r\nIs there anything I can do to investigate what would be causing it to run, not only once but its consitent.\r\n\r\nHere is the startup flags of all the applications, we run about 30 mc boxes &amp; all of them seem to be having the same issue.\r\n\r\n-Xms16G -Xmx16G -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=40 -XX:G1MaxNewSizePercent=50 -XX:G1HeapRegionSize=16M -XX:G1ReservePercent=15 -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=20 -XX:G1MixedGCLiveThresholdPercent=90 -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32 -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1 --add-modules=jdk.incubator.vector -Dusing.aikars.flags=https://mcflags.emc.gs/ -Daikars.new.flags=true\r\n\r\nI have heap dumps of the most intensive memory usage moments, I just dont know exactly what to be looking for.\r\n\r\nI already tried analyzing the heapdump but there doesnt seem to be a memory leak that&#39;s visible fast, the instances arent really crashing for now. \r\nIve already tried reducing memory usage by lowering the view distance etc, so far some things havent worked.\r\nI have also tried to change hte startup flag parameters, but if they are the cause, i havent achieved the good values one yet.\r\nI am expecting the G1 old not to run because every time it does the server freezes, these instances run about 90 players survival and everything is really tunnned tweaked, it shouldnt be happening.","title":"Application freezing on g1 old run","body":"<p>we currently run DonutSMP.net, a minecraft server that handles concurrently more than 4000 players online every day and it runs a survival gamemode, chunk-intensive, currently we have been experiencing some G1 OLD issues, every time the g1 old runs the server freezes, and mainly we would avoid the G1 old running since its not a cheap process at all.\nIs there anything I can do to investigate what would be causing it to run, not only once but its consitent.</p>\n<p>Here is the startup flags of all the applications, we run about 30 mc boxes &amp; all of them seem to be having the same issue.</p>\n<p>-Xms16G -Xmx16G -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1NewSizePercent=40 -XX:G1MaxNewSizePercent=50 -XX:G1HeapRegionSize=16M -XX:G1ReservePercent=15 -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=20 -XX:G1MixedGCLiveThresholdPercent=90 -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32 -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1 --add-modules=jdk.incubator.vector -Dusing.aikars.flags=https://mcflags.emc.gs/ -Daikars.new.flags=true</p>\n<p>I have heap dumps of the most intensive memory usage moments, I just dont know exactly what to be looking for.</p>\n<p>I already tried analyzing the heapdump but there doesnt seem to be a memory leak that's visible fast, the instances arent really crashing for now.\nIve already tried reducing memory usage by lowering the view distance etc, so far some things havent worked.\nI have also tried to change hte startup flag parameters, but if they are the cause, i havent achieved the good values one yet.\nI am expecting the G1 old not to run because every time it does the server freezes, these instances run about 90 players survival and everything is really tunnned tweaked, it shouldnt be happening.</p>\n"},{"tags":["java","spring-boot","api"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686698237,"creation_date":1686695218,"answer_id":76469076,"question_id":76468904,"body_markdown":"Well the exception clearly states the reason of 500: `IndexOutOfBoundsException` in `EarthQuakeDataParser.getEarthQuakeDataFromAfad`, line 93.\r\n\r\nAccording to code above that line, your `Jsoup.connect(Constants.AFAD_LINK).get()` fetches a response with no `tr` html tag in it.\r\n\r\nIf requested page uses javascript to load data dynamically, you might need [HTML Unit][1] library to get page as it looks in a browser. [Here][2] is a brief example.\r\n\r\n\r\n  [1]: https://htmlunit.sourceforge.io\r\n  [2]: https://riptutorial.com/jsoup/example/16274/parsing-javascript-generated-page-with-jsoup-and-htmunit","title":"Spring Boot Jsoup Get values from website (load values through javascript (Dynamic Loading)) - Sometimes 500 error , Sometimes 200 Ok","body":"<p>Well the exception clearly states the reason of 500: <code>IndexOutOfBoundsException</code> in <code>EarthQuakeDataParser.getEarthQuakeDataFromAfad</code>, line 93.</p>\n<p>According to code above that line, your <code>Jsoup.connect(Constants.AFAD_LINK).get()</code> fetches a response with no <code>tr</code> html tag in it.</p>\n<p>If requested page uses javascript to load data dynamically, you might need <a href=\"https://htmlunit.sourceforge.io\" rel=\"nofollow noreferrer\">HTML Unit</a> library to get page as it looks in a browser. <a href=\"https://riptutorial.com/jsoup/example/16274/parsing-javascript-generated-page-with-jsoup-and-htmunit\" rel=\"nofollow noreferrer\">Here</a> is a brief example.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686700161,"creation_date":1686692550,"question_id":76468904,"body_markdown":"I created a spring boot web API to get earthquake values from the website.\r\n\r\nI have a problem in `getEarthQuakeDataFromAfad` method. After sending a request to `http://localhost:8080/api/v1/earthquakes/afad` , I got sometimes two results (500 and 200) shown below . It could be due to network latency or other factors but I couldn&#39;t solve it.\r\n\r\n**500 Internal Error**\r\n    \r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-06-13T21:35:37.408+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;path&quot;: &quot;/api/v1/earthquakes/afad&quot;\r\n    }\r\n    \r\n    java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100) ~[na:na]\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106) ~[na:na]\r\n    \tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302) ~[na:na]\r\n    \tat java.base/java.util.Objects.checkIndex(Objects.java:385) ~[na:na]\r\n    \tat java.base/java.util.ArrayList.remove(ArrayList.java:504) ~[na:na]\r\n    \tat com.deprem.depremapi.utils.EarthQuakeDataParser.getEarthQuakeDataFromAfad(EarthQuakeDataParser.java:93) ~[classes/:na]\r\n    \tat com.deprem.depremapi.service.EarthQuakeService.getEarthQuakeDataFromAfad(EarthQuakeService.java:31) ~[classes/:na]\r\n    \tat com.deprem.depremapi.api.EarthquakeController.getAllEarthquakesForAfad(EarthquakeController.java:39)\r\n\r\n**200 OK**\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;date&quot;: &quot;2023-06-14 00:10:03&quot;,\r\n            &quot;timestamp&quot;: -1231544328,\r\n            &quot;latitude&quot;: 38.421,\r\n            &quot;longitude&quot;: 36.639,\r\n            &quot;depth&quot;: 7.0,\r\n            &quot;size&quot;: {\r\n                &quot;md&quot;: 0.0,\r\n                &quot;ml&quot;: 2.8,\r\n                &quot;mw&quot;: 0.0\r\n            },\r\n            &quot;location&quot;: &quot;Localtion Value&quot;,\r\n            &quot;afadId&quot;: &quot;590282&quot;,\r\n            &quot;attribute&quot;: &quot;ML&quot;\r\n        },\r\n        ...\r\n    \r\n    }\r\n\r\nHere is the method shown below\r\n\r\n    public List&lt;EarthquakeAfad&gt; getEarthQuakeDataFromAfad() throws IOException, ParseException {\r\n    \r\n            log.info(&quot;EarthQuakeDataParser | getEarthQuakeDataFromAfad is working&quot;);\r\n    \r\n            List&lt;EarthquakeAfad&gt; earthquakeList = new ArrayList&lt;&gt;();\r\n    \r\n            Document doc = Jsoup.connect(Constants.AFAD_LINK).get();\r\n    \r\n            Elements trs = doc.select(&quot;tr&quot;);\r\n    \r\n            trs.remove(0);\r\n    \r\n            log.info(&quot;EarthQuakeDataParser | getEarthQuakeDataFromAfad | trs size : &quot; + trs.size());\r\n    \r\n            for (int i = 0; i &lt; trs.size(); i++) {\r\n    \r\n                Element tr = trs.get(i);\r\n                Elements tds = tr.select(&quot;td&quot;);\r\n    \r\n                String earthquakeType = tds.get(4).text();\r\n    \r\n                EarthquakeAfad earthquake = EarthquakeAfad.builder()\r\n                        .id((i+1))\r\n                        .date(tds.get(0).text())\r\n                        .timestamp((int) LocalDateTime.parse(tds.get(0).text(), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))\r\n                                .atZone(ZoneId.systemDefault()).toInstant().toEpochMilli())\r\n                        .latitude(Double.parseDouble(tds.get(1).text()))\r\n                        .longitude(Double.parseDouble(tds.get(2).text()))\r\n                        .depth(Double.parseDouble(tds.get(3).text()))\r\n                        .size(Size.builder()\r\n                                .md(earthquakeType.equals(&quot;MD&quot;) ? Double.parseDouble(tds.get(5).text()) : 0)\r\n                                .ml(earthquakeType.equals(&quot;ML&quot;) ? Double.parseDouble(tds.get(5).text()) : 0)\r\n                                .mw(earthquakeType.equals(&quot;MW&quot;) ? Double.parseDouble(tds.get(5).text()) : 0)\r\n                                .build())\r\n                        .location(tds.get(6).text())\r\n                        .afadId(tds.get(7).text())\r\n                        .attribute(earthquakeType)\r\n                        .build();\r\n    \r\n                earthquakeList.add(earthquake);\r\n            }\r\n    \r\n            return earthquakeList;\r\n        }\r\n\r\nHow can I fix the issue?\r\n\r\n**Editted**\r\n\r\nI also use httputil but it still got the same error.\r\n\r\nHere is the dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n        &lt;version&gt;2.57.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHere is the code shown below\r\n\r\n    // Create a WebClient instance (headless browser)\r\n    WebClient webClient = new WebClient(BrowserVersion.CHROME);\r\n\r\n    // Enable JavaScript execution\r\n    webClient.getOptions().setJavaScriptEnabled(true);\r\n\r\n    // Disable CSS to improve performance (optional)\r\n    webClient.getOptions().setCssEnabled(false);\r\n\r\n    // Load the AFAD link in HtmlUnit\r\n    HtmlPage page = webClient.getPage(Constants.AFAD_LINK);\r\n\r\n    // Wait for the page to finish loading JavaScript and rendering\r\n    webClient.waitForBackgroundJavaScript(5000);\r\n\r\n    // Get the updated HTML content from HtmlUnit\r\n    String html = page.asXml();\r\n\r\n    // Close the WebClient to free up resources\r\n    webClient.close();\r\n\r\n    // Parse the HTML using Jsoup\r\n    Document doc = Jsoup.parse(html);\r\n\r\n    Elements trs = doc.select(&quot;tr&quot;);\r\n\r\nHere is the link : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/DepremApi","title":"Spring Boot Jsoup Get values from website (load values through javascript (Dynamic Loading)) - Sometimes 500 error , Sometimes 200 Ok","body":"<p>I created a spring boot web API to get earthquake values from the website.</p>\n<p>I have a problem in <code>getEarthQuakeDataFromAfad</code> method. After sending a request to <code>http://localhost:8080/api/v1/earthquakes/afad</code> , I got sometimes two results (500 and 200) shown below . It could be due to network latency or other factors but I couldn't solve it.</p>\n<p><strong>500 Internal Error</strong></p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-06-13T21:35:37.408+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/api/v1/earthquakes/afad&quot;\n}\n\njava.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100) ~[na:na]\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106) ~[na:na]\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302) ~[na:na]\n    at java.base/java.util.Objects.checkIndex(Objects.java:385) ~[na:na]\n    at java.base/java.util.ArrayList.remove(ArrayList.java:504) ~[na:na]\n    at com.deprem.depremapi.utils.EarthQuakeDataParser.getEarthQuakeDataFromAfad(EarthQuakeDataParser.java:93) ~[classes/:na]\n    at com.deprem.depremapi.service.EarthQuakeService.getEarthQuakeDataFromAfad(EarthQuakeService.java:31) ~[classes/:na]\n    at com.deprem.depremapi.api.EarthquakeController.getAllEarthquakesForAfad(EarthquakeController.java:39)\n</code></pre>\n<p><strong>200 OK</strong></p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;date&quot;: &quot;2023-06-14 00:10:03&quot;,\n        &quot;timestamp&quot;: -1231544328,\n        &quot;latitude&quot;: 38.421,\n        &quot;longitude&quot;: 36.639,\n        &quot;depth&quot;: 7.0,\n        &quot;size&quot;: {\n            &quot;md&quot;: 0.0,\n            &quot;ml&quot;: 2.8,\n            &quot;mw&quot;: 0.0\n        },\n        &quot;location&quot;: &quot;Localtion Value&quot;,\n        &quot;afadId&quot;: &quot;590282&quot;,\n        &quot;attribute&quot;: &quot;ML&quot;\n    },\n    ...\n\n}\n</code></pre>\n<p>Here is the method shown below</p>\n<pre><code>public List&lt;EarthquakeAfad&gt; getEarthQuakeDataFromAfad() throws IOException, ParseException {\n\n        log.info(&quot;EarthQuakeDataParser | getEarthQuakeDataFromAfad is working&quot;);\n\n        List&lt;EarthquakeAfad&gt; earthquakeList = new ArrayList&lt;&gt;();\n\n        Document doc = Jsoup.connect(Constants.AFAD_LINK).get();\n\n        Elements trs = doc.select(&quot;tr&quot;);\n\n        trs.remove(0);\n\n        log.info(&quot;EarthQuakeDataParser | getEarthQuakeDataFromAfad | trs size : &quot; + trs.size());\n\n        for (int i = 0; i &lt; trs.size(); i++) {\n\n            Element tr = trs.get(i);\n            Elements tds = tr.select(&quot;td&quot;);\n\n            String earthquakeType = tds.get(4).text();\n\n            EarthquakeAfad earthquake = EarthquakeAfad.builder()\n                    .id((i+1))\n                    .date(tds.get(0).text())\n                    .timestamp((int) LocalDateTime.parse(tds.get(0).text(), DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))\n                            .atZone(ZoneId.systemDefault()).toInstant().toEpochMilli())\n                    .latitude(Double.parseDouble(tds.get(1).text()))\n                    .longitude(Double.parseDouble(tds.get(2).text()))\n                    .depth(Double.parseDouble(tds.get(3).text()))\n                    .size(Size.builder()\n                            .md(earthquakeType.equals(&quot;MD&quot;) ? Double.parseDouble(tds.get(5).text()) : 0)\n                            .ml(earthquakeType.equals(&quot;ML&quot;) ? Double.parseDouble(tds.get(5).text()) : 0)\n                            .mw(earthquakeType.equals(&quot;MW&quot;) ? Double.parseDouble(tds.get(5).text()) : 0)\n                            .build())\n                    .location(tds.get(6).text())\n                    .afadId(tds.get(7).text())\n                    .attribute(earthquakeType)\n                    .build();\n\n            earthquakeList.add(earthquake);\n        }\n\n        return earthquakeList;\n    }\n</code></pre>\n<p>How can I fix the issue?</p>\n<p><strong>Editted</strong></p>\n<p>I also use httputil but it still got the same error.</p>\n<p>Here is the dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n    &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n    &lt;version&gt;2.57.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the code shown below</p>\n<pre><code>// Create a WebClient instance (headless browser)\nWebClient webClient = new WebClient(BrowserVersion.CHROME);\n\n// Enable JavaScript execution\nwebClient.getOptions().setJavaScriptEnabled(true);\n\n// Disable CSS to improve performance (optional)\nwebClient.getOptions().setCssEnabled(false);\n\n// Load the AFAD link in HtmlUnit\nHtmlPage page = webClient.getPage(Constants.AFAD_LINK);\n\n// Wait for the page to finish loading JavaScript and rendering\nwebClient.waitForBackgroundJavaScript(5000);\n\n// Get the updated HTML content from HtmlUnit\nString html = page.asXml();\n\n// Close the WebClient to free up resources\nwebClient.close();\n\n// Parse the HTML using Jsoup\nDocument doc = Jsoup.parse(html);\n\nElements trs = doc.select(&quot;tr&quot;);\n</code></pre>\n<p>Here is the link : <a href=\"https://github.com/Rapter1990/DepremApi\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","android","jsp","pdf","webview"],"owner":{"account_id":28815798,"reputation":1,"user_id":22069455,"display_name":"Jhilik Kundu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686696351,"creation_date":1686696351,"question_id":76469138,"body_markdown":"In my JSP file - \r\n\r\n```\r\nwindows.open(&quot;pdflink.pdf&quot;,&quot;_self&quot;);\r\n```\r\n\r\nI am calling the JSP file inside webview.After performing some operation,there will be a button.On button click it should open the above url.Does not matter inside webview or not.\r\nI have tried modifying the with **Google PDF viewer** in .jsp and .java file both.But it is not working.\r\n\r\nAny solution on this?\r\nI am thinking of getting out of the webview and then open the pdf. But as a newbie don&#39;t have much idea.\r\nA little help with link/code is much much appreciated.\r\n\r\nTried using Google pdf viewer.But not sure about windows.open() method.","title":"Opening outside pdf link inside Android webview(Java)","body":"<p>In my JSP file -</p>\n<pre><code>windows.open(&quot;pdflink.pdf&quot;,&quot;_self&quot;);\n</code></pre>\n<p>I am calling the JSP file inside webview.After performing some operation,there will be a button.On button click it should open the above url.Does not matter inside webview or not.\nI have tried modifying the with <strong>Google PDF viewer</strong> in .jsp and .java file both.But it is not working.</p>\n<p>Any solution on this?\nI am thinking of getting out of the webview and then open the pdf. But as a newbie don't have much idea.\nA little help with link/code is much much appreciated.</p>\n<p>Tried using Google pdf viewer.But not sure about windows.open() method.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686685320,"post_id":76468221,"comment_id":134832579,"body_markdown":"Have you tried to multiply and modulo by 100?","body":"Have you tried to multiply and modulo by 100?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1686685379,"post_id":76468221,"comment_id":134832592,"body_markdown":"Or, read the data as a string then check `endsWith(&quot;.20&quot;)` for example?","body":"Or, read the data as a string then check <code>endsWith(&quot;.20&quot;)</code> for example?"},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":2,"creation_date":1686685380,"post_id":76468221,"comment_id":134832593,"body_markdown":"Normally, do/while is used for that, not for.  You could also just read the input as String.","body":"Normally, do/while is used for that, not for.  You could also just read the input as String."}],"answers":[{"tags":[],"owner":{"account_id":27653278,"reputation":395,"user_id":21107707,"display_name":"vs07"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686685953,"creation_date":1686685953,"answer_id":76468283,"question_id":76468221,"body_markdown":"You convert the decimal to a String.\r\n\r\n```java\r\nSystem.out.println(&quot;Enter a positive value ending in .20 or .45)&quot;);\r\ndouble x = input.nextDouble();\r\nString x_str = String.valueOf(x);\r\nString x_last3digs = x.substring(len(x_str)-3);\r\nboolean xPos = x &gt; 0;\r\nboolean x20 = x_last3digs.equals(&quot;.20&quot;);\r\nboolean x45 = x_last3digs.equals(&quot;.45&quot;);\r\n```\r\n\r\nTo make this loop until you get a valid answer, do this: \r\n\r\n```java\r\ndo {\r\n    double x = input.nextDouble();\r\n    String x_str = String.valueOf(x);\r\n    String x_last3digs = x.substring(len(x_str)-3);\r\n    boolean xPos = x &gt; 0;\r\n    boolean x20 = x_last3digs.equals(&quot;.20&quot;);\r\n    boolean x45 = x_last3digs.equals(&quot;.45&quot;);\r\n} while (!x20 &amp;&amp; !x45)","title":"How to prompt the user for a number that ends in a specific decimal?","body":"<p>You convert the decimal to a String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Enter a positive value ending in .20 or .45)&quot;);\ndouble x = input.nextDouble();\nString x_str = String.valueOf(x);\nString x_last3digs = x.substring(len(x_str)-3);\nboolean xPos = x &gt; 0;\nboolean x20 = x_last3digs.equals(&quot;.20&quot;);\nboolean x45 = x_last3digs.equals(&quot;.45&quot;);\n</code></pre>\n<p>To make this loop until you get a valid answer, do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>do {\n    double x = input.nextDouble();\n    String x_str = String.valueOf(x);\n    String x_last3digs = x.substring(len(x_str)-3);\n    boolean xPos = x &gt; 0;\n    boolean x20 = x_last3digs.equals(&quot;.20&quot;);\n    boolean x45 = x_last3digs.equals(&quot;.45&quot;);\n} while (!x20 &amp;&amp; !x45)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686695636,"creation_date":1686686849,"answer_id":76468386,"question_id":76468221,"body_markdown":"Instead of capturing the input as a numeric value, utilize the _String_ object.\r\n\r\nThe _[String#endsWith](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#endsWith(java.lang.String))_ method will allow you to equate a suffix value.  \r\n\r\nAnd, the _[Double#parseDouble](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#parseDouble(java.lang.String))_ will return the _double_ value, of a given _String_ value.\r\n\r\n```java\r\nSystem.out.println(&quot;Enter a positive value ending in .20 or .45)&quot;);\r\nString string = input.nextLine();\r\nif (string.endsWith(&quot;.20&quot;) || string.endsWith(&quot;.45&quot;)) {\r\n    double x = Double.parseDouble(string);\r\n    \r\n}\r\n```","title":"How to prompt the user for a number that ends in a specific decimal?","body":"<p>Instead of capturing the input as a numeric value, utilize the <em>String</em> object.</p>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#endsWith(java.lang.String)\" rel=\"nofollow noreferrer\">String#endsWith</a></em> method will allow you to equate a suffix value.</p>\n<p>And, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#parseDouble(java.lang.String)\" rel=\"nofollow noreferrer\">Double#parseDouble</a></em> will return the <em>double</em> value, of a given <em>String</em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Enter a positive value ending in .20 or .45)&quot;);\nString string = input.nextLine();\nif (string.endsWith(&quot;.20&quot;) || string.endsWith(&quot;.45&quot;)) {\n    double x = Double.parseDouble(string);\n    \n}\n</code></pre>\n"}],"owner":{"account_id":28815086,"reputation":1,"user_id":22068896,"display_name":"Qurqoise"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1686695636,"creation_date":1686685235,"question_id":76468221,"body_markdown":"I need an input that ends in .20 or .45, and is also positive. Until the user enters a value that satisfies those conditions, it will keep prompting for a value. I know I need a for loop, but how do I write that specific decimal condition?\r\n\r\n\r\n        System.out.println(&quot;Enter a positive value ending in .20 or .45)&quot;);\r\n        double x = input.nextDouble();\r\n        boolean xPos = x&gt;0;\r\n        boolean x20 = // This is what I don&#39;t understand","title":"How to prompt the user for a number that ends in a specific decimal?","body":"<p>I need an input that ends in .20 or .45, and is also positive. Until the user enters a value that satisfies those conditions, it will keep prompting for a value. I know I need a for loop, but how do I write that specific decimal condition?</p>\n<pre><code>    System.out.println(&quot;Enter a positive value ending in .20 or .45)&quot;);\n    double x = input.nextDouble();\n    boolean xPos = x&gt;0;\n    boolean x20 = // This is what I don't understand\n</code></pre>\n"},{"tags":["java","eclipse","maven","java-11","annotation-processing"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686605497,"post_id":76460037,"comment_id":134819290,"body_markdown":"Why have you change `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;`? Keep the defaults. Also why using soo much spring framework... why not directly using spring boot and packaging to WAR file... etc.?","body":"Why have you change <code>&lt;sourceDirectory&gt;src&lt;&#47;sourceDirectory&gt;</code>? Keep the defaults. Also why using soo much spring framework... why not directly using spring boot and packaging to WAR file... etc.?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1686619707,"post_id":76460037,"comment_id":134820718,"body_markdown":"Hmm, what version of Eclipse was this? And of Maven? And the M2Eclipse plug-ins?","body":"Hmm, what version of Eclipse was this? And of Maven? And the M2Eclipse plug-ins?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1686637269,"post_id":76460037,"comment_id":134822248,"body_markdown":"You know that Java 17 supports multi line strings directly in code? This is called text blocks. I would suggest refactor your code to these instead.","body":"You know that Java 17 supports multi line strings directly in code? This is called text blocks. I would suggest refactor your code to these instead."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1686639159,"post_id":76460037,"comment_id":134822569,"body_markdown":"@Thorbj&#248;rnRavnAndersen this is great news, I don&#39;t know if we are able to refactor, but I would absolutely consider it!","body":"@Thorbj&#248;rnRavnAndersen this is great news, I don&#39;t know if we are able to refactor, but I would absolutely consider it!"},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1686639183,"post_id":76460037,"comment_id":134822576,"body_markdown":"@nitind thanks for your notice, I&#39;m updating the question with versions.","body":"@nitind thanks for your notice, I&#39;m updating the question with versions."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1686639619,"post_id":76460037,"comment_id":134822659,"body_markdown":"@khmarbaise thanks for your tips, this project has a long history and was started when SpringBoot did not exist. To be honest we don&#39;t need an embedded application server so I don&#39;t know how much advantages will bring a migration to Boot. BTW I think this is a useful discussion but a bit offtopic, because for sure annotations processing is not spring dependent.","body":"@khmarbaise thanks for your tips, this project has a long history and was started when SpringBoot did not exist. To be honest we don&#39;t need an embedded application server so I don&#39;t know how much advantages will bring a migration to Boot. BTW I think this is a useful discussion but a bit offtopic, because for sure annotations processing is not spring dependent."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1686641888,"post_id":76460037,"comment_id":134823100,"body_markdown":"Annotation processors are not supposed to modify the source code. The standard API doesn’t offer such features. Hence, this annotation processor can only work by accessing compiler internals which can change between versions.","body":"Annotation processors are not supposed to modify the source code. The standard API doesn’t offer such features. Hence, this annotation processor can only work by accessing compiler internals which can change between versions."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1686655726,"post_id":76460037,"comment_id":134825996,"body_markdown":"Finally I could refactor to java native multi line string. I was faster than find a solution. Thanks everybody","body":"Finally I could refactor to java native multi line string. I was faster than find a solution. Thanks everybody"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686695327,"creation_date":1686661128,"answer_id":76465210,"question_id":76460037,"body_markdown":"Java 17 supports multi line strings directly in code (so-called *text blocks*). \r\n\r\nInstead of making some ancient hack work again, just refactor to modern Java.","title":"Why annotation processor doesn&#39;t work with Maven and java11?","body":"<p>Java 17 supports multi line strings directly in code (so-called <em>text blocks</em>).</p>\n<p>Instead of making some ancient hack work again, just refactor to modern Java.</p>\n"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76465210,"answer_count":1,"score":0,"last_activity_date":1686695327,"creation_date":1686600929,"question_id":76460037,"body_markdown":"I&#39;m migrating a Java webapp from Java8 to Java17.\r\nThis project uses this very nice solution to embed strings (ex. SQL queries) in constanst:\r\nhttps://github.com/adrianwalker/multiline-string  \r\nThis library requires the annotation processor.\r\n\r\nWith the old version I could run &quot;mvn clean install&quot; to get the war file of my application, this process correctly processed annotations. I had just to add the library in the pom dependencies.\r\n\r\nNow using java17 the annotation doesn&#39;t work. Then I tried to use in my Eclipse IDE and here the compilation doesn&#39;t work too.  \r\n\r\nThen I tried to downgrade to Java11 and I could start the project from Eclipse, setting the library as annotation processor in java compile option of Eclipse.  \r\nFinally I tried the maven install, it completed successfully but the annotations are not processed.\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;MyApp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;MyApp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.1.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    \t\t&lt;finalName&gt;ROOT&lt;/finalName&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\r\n    \t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.so&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.dll&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n    \t\t\t\t\t&lt;include&gt;**/*.jrxml&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t        &lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t  &lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;3.3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n    \t\t\t\t    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t\t    &lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.60&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.7.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.11.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.11.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.11.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.60&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.2.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;batik-bridge&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.lyncode&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jtwig-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.5.38&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.adrianwalker&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;multiline-string&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.2&lt;/version&gt;\r\n    \t\t    &lt;scope&gt;system&lt;/scope&gt;\r\n    \t        &lt;systemPath&gt;${projectPath}\\WebContent\\WEB-INF\\lib\\multilineo-string-0.1.2b.jar&lt;/systemPath&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t   &lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.5.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.1.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.w3c&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;dom&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.3.0-jaxb-1.0.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\t\t\r\n            &lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nI also tried to add this option in maven compilter plugin settings of pom.xml\r\n \r\n\r\n    &lt;configuration&gt;\r\n              &lt;annotationProcessors&gt;\r\n                &lt;annotationProcessor&gt;\r\n                  org.adrianwalker.multilinestring.MultilineProcessor&lt;/annotationProcessor&gt;\r\n              &lt;/annotationProcessors&gt;\r\n      &lt;/configuration&gt;\r\n\r\nI cannot understand why Eclipse can compile and run the application with annotations, it can also **export** valid ROOT.war, but Maven ignores (without errors) completely the annotations.\r\n\r\nDo you have any idea why maven doesnt run the annotation processor?  \r\nDo you know how can I get the eclipse command called when I export WAR file from a project?\r\n\r\nEDIT\r\n\r\nThese are the versions:\r\nApache Maven 3.8.7 \r\nJava version: 17.0.7\r\nEclipse Version: 2023-03 (4.27.0)\r\nM2E Maven Integration for Eclipse: 2.2.1.20230307-1553","title":"Why annotation processor doesn&#39;t work with Maven and java11?","body":"<p>I'm migrating a Java webapp from Java8 to Java17.\nThis project uses this very nice solution to embed strings (ex. SQL queries) in constanst:\n<a href=\"https://github.com/adrianwalker/multiline-string\" rel=\"nofollow noreferrer\">https://github.com/adrianwalker/multiline-string</a><br />\nThis library requires the annotation processor.</p>\n<p>With the old version I could run &quot;mvn clean install&quot; to get the war file of my application, this process correctly processed annotations. I had just to add the library in the pom dependencies.</p>\n<p>Now using java17 the annotation doesn't work. Then I tried to use in my Eclipse IDE and here the compilation doesn't work too.</p>\n<p>Then I tried to downgrade to Java11 and I could start the project from Eclipse, setting the library as annotation processor in java compile option of Eclipse.<br />\nFinally I tried the maven install, it completed successfully but the annotations are not processed.</p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;MyApp&lt;/groupId&gt;\n    &lt;artifactId&gt;MyApp&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;finalName&gt;ROOT&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.so&lt;/include&gt;\n                    &lt;include&gt;**/*.dll&lt;/include&gt;\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                    &lt;include&gt;**/*.jrxml&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                  &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.60&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;6.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n            &lt;version&gt;3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.60&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\n            &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n            &lt;artifactId&gt;javase&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n            &lt;artifactId&gt;batik-bridge&lt;/artifactId&gt;\n            &lt;version&gt;1.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lyncode&lt;/groupId&gt;\n            &lt;artifactId&gt;jtwig-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.5.38&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.adrianwalker&lt;/groupId&gt;\n            &lt;artifactId&gt;multiline-string&lt;/artifactId&gt;\n            &lt;version&gt;0.1.2&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${projectPath}\\WebContent\\WEB-INF\\lib\\multilineo-string-0.1.2b.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n            &lt;version&gt;3.5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\n            &lt;version&gt;1.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.w3c&lt;/groupId&gt;\n            &lt;artifactId&gt;dom&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0-jaxb-1.0.6&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I also tried to add this option in maven compilter plugin settings of pom.xml</p>\n<pre><code>&lt;configuration&gt;\n          &lt;annotationProcessors&gt;\n            &lt;annotationProcessor&gt;\n              org.adrianwalker.multilinestring.MultilineProcessor&lt;/annotationProcessor&gt;\n          &lt;/annotationProcessors&gt;\n  &lt;/configuration&gt;\n</code></pre>\n<p>I cannot understand why Eclipse can compile and run the application with annotations, it can also <strong>export</strong> valid ROOT.war, but Maven ignores (without errors) completely the annotations.</p>\n<p>Do you have any idea why maven doesnt run the annotation processor?<br />\nDo you know how can I get the eclipse command called when I export WAR file from a project?</p>\n<p>EDIT</p>\n<p>These are the versions:\nApache Maven 3.8.7\nJava version: 17.0.7\nEclipse Version: 2023-03 (4.27.0)\nM2E Maven Integration for Eclipse: 2.2.1.20230307-1553</p>\n"},{"tags":["java","android","kotlin","gradle","build.gradle"],"owner":{"account_id":25260933,"reputation":11,"user_id":19091849,"display_name":"Jo&#227;o manoel "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686693728,"creation_date":1686693728,"question_id":76468988,"body_markdown":"&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n\r\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.0)\r\n\r\n**Build.gradle**\r\n```\r\nbuildscript {\r\n    ext {\r\n        compose_ui_version = &#39;1.4.3&#39;\r\n    }\r\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;8.0.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;8.0.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.0&#39; apply false\r\n    id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44&#39; apply false\r\n}\r\n```\r\n\r\n**Build.gradle:app**\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;kotlin-android&#39;\r\n    id &#39;kotlin-kapt&#39;\r\n    id &#39;dagger.hilt.android.plugin&#39;\r\n    id &#39;kotlin-parcelize&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.denuncieagora&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.denuncieagora&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables {\r\n            useSupportLibrary true\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        compose true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.2.0&#39;\r\n    }\r\n    packagingOptions {\r\n        resources {\r\n            excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.10.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.7.2&#39;\r\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\r\n    implementation &#39;androidx.compose.material:material:1.4.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_ui_version&quot;\r\n    debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\r\n    debugImplementation &quot;androidx.compose.ui:ui-test-manifest:$compose_ui_version&quot;\r\n\r\n    // Dagger - Hilt\r\n    implementation &#39;com.google.dagger:hilt-android:2.46.1&#39;\r\n    kapt &#39;com.google.dagger:hilt-compiler:2.46.1&#39;\r\n    implementation &#39;androidx.hilt:hilt-navigation-compose:1.0.0&#39;\r\n\r\n    // Retrofit\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &quot;com.squareup.okhttp3:okhttp:5.0.0-alpha.2&quot;\r\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.2&quot;\r\n}\r\n```","title":"Class Duplicate on Android","body":"<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable</p>\n</blockquote>\n<p>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.0)</p>\n<p><strong>Build.gradle</strong></p>\n<pre><code>buildscript {\n    ext {\n        compose_ui_version = '1.4.3'\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '8.0.2' apply false\n    id 'com.android.library' version '8.0.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.7.0' apply false\n    id 'com.google.dagger.hilt.android' version '2.44' apply false\n}\n</code></pre>\n<p><strong>Build.gradle:app</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'dagger.hilt.android.plugin'\n    id 'kotlin-parcelize'\n}\n\nandroid {\n    namespace 'com.example.denuncieagora'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.denuncieagora&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.2.0'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.10.1'\n    implementation 'androidx.activity:activity-compose:1.7.2'\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\n    implementation 'androidx.compose.material:material:1.4.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_ui_version&quot;\n    debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\n    debugImplementation &quot;androidx.compose.ui:ui-test-manifest:$compose_ui_version&quot;\n\n    // Dagger - Hilt\n    implementation 'com.google.dagger:hilt-android:2.46.1'\n    kapt 'com.google.dagger:hilt-compiler:2.46.1'\n    implementation 'androidx.hilt:hilt-navigation-compose:1.0.0'\n\n    // Retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation &quot;com.squareup.okhttp3:okhttp:5.0.0-alpha.2&quot;\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.2&quot;\n}\n</code></pre>\n"},{"tags":["java","php","cryptography","public-key-encryption","phpseclib"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1686694230,"post_id":76468618,"comment_id":134833961,"body_markdown":"For quick-and-dirty purposes implement the Java decryptor with MGF1ParameterSpec.SHA1 OAEP parameterization and see if it works.","body":"For quick-and-dirty purposes implement the Java decryptor with MGF1ParameterSpec.SHA1 OAEP parameterization and see if it works."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1686724515,"post_id":76468618,"comment_id":134836626,"body_markdown":"The code looks OK. I can&#39;t reproduce the problem either, i.e. for me a ciphertext created with the PHP code can be decrypted with the Java code. Possibly a problem with the data (inconsistent keys, etc.) or a problem in the code portions not posted. Post non-productive sample data (key pair, plaintext, ciphertext) and complete the Java code (Base64url decoding, key import).","body":"The code looks OK. I can&#39;t reproduce the problem either, i.e. for me a ciphertext created with the PHP code can be decrypted with the Java code. Possibly a problem with the data (inconsistent keys, etc.) or a problem in the code portions not posted. Post non-productive sample data (key pair, plaintext, ciphertext) and complete the Java code (Base64url decoding, key import)."}],"owner":{"account_id":8712207,"reputation":131,"user_id":6518059,"display_name":"Morpheus.47"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686693162,"creation_date":1686689352,"question_id":76468618,"body_markdown":"I have PHP code that encrypts some plaintext, it looks something like the following\r\n\r\n    function encryptSecretKeyWithCertificate($plainKey, $certFilePath) {\r\n        $certContent = file_get_contents($certFilePath);\r\n        if (!$certContent) {\r\n            throw new Exception(&quot;can&#39;t load certificate: $certFilePath&quot;);\r\n        }\r\n        \r\n        $rsa = PublicKeyLoader::load($certContent)\r\n        -&gt;withHash(&#39;sha256&#39;)\r\n        -&gt;withMGFHash(&#39;sha256&#39;)\r\n        -&gt;withPadding(RSA::ENCRYPTION_OAEP);\r\n        return rtrim(strtr(base64_encode($rsa-&gt;encrypt($plainKey)), &#39;+/&#39;, &#39;-_&#39;), &#39;=&#39;);\r\n    }\r\n\r\nI used phpseclib3. It returns a base64urlsafe encoded string. This string will be sent to another application (implemented using java) and is decrypted by the following function.\r\n\r\n        private static byte[] decryptSecretKey(PrivateKey privKey, byte[] encKey)  {\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n            OAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA256,\r\n                    PSource.PSpecified.DEFAULT);\r\n            cipher.init(Cipher.DECRYPT_MODE, privKey, oaepParams);\r\n            return cipher.doFinal(encKey, 0, encKey.length);\r\n        }catch (Exception ex){\r\n            ex.printStackTrace();\r\n            return  null;\r\n        }\r\n    }\r\n    \r\nI have verified that both encoding and decoding are done correctly (base64) but trying to decrypt the data throws the following exception. \r\n\r\n    javax.crypto.BadPaddingException: Decryption error\r\n\tat java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:488)\r\n\tat java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:284)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:366)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:400)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2303)\r\n\tat org.example.CryptoUtil.decryptSecretKey(CryptoUtil.java:264)\r\n\tat org.example.CryptoUtil.symmetricDecryptResponse(CryptoUtil.java:224)\r\n\tat org.example.Main.main(Main.java:40)\r\n\r\nJust for testing I implemented the encryption function in Java (which works) and it looks like this\r\n\r\n    public static String encryptSecretKeyAsymmetric(byte[] key, PublicKey publicKey) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n        final OAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA256,\r\n                PSource.PSpecified.DEFAULT);\r\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey, oaepParams);\r\n        byte[] cipherText = cipher.doFinal(key);\r\n        String encodedCipher =  doEncode(cipherText);\r\n        return encodedCipher;\r\n    }\r\n\r\nI would appreciate any help. Is it even possible to implement this type of encryption with the RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING transform and the various specs in PHP? ","title":"Ciphertext generated using PHP fails to be decrypted by a java backend with &quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot; transformation","body":"<p>I have PHP code that encrypts some plaintext, it looks something like the following</p>\n<pre><code>function encryptSecretKeyWithCertificate($plainKey, $certFilePath) {\n    $certContent = file_get_contents($certFilePath);\n    if (!$certContent) {\n        throw new Exception(&quot;can't load certificate: $certFilePath&quot;);\n    }\n    \n    $rsa = PublicKeyLoader::load($certContent)\n    -&gt;withHash('sha256')\n    -&gt;withMGFHash('sha256')\n    -&gt;withPadding(RSA::ENCRYPTION_OAEP);\n    return rtrim(strtr(base64_encode($rsa-&gt;encrypt($plainKey)), '+/', '-_'), '=');\n}\n</code></pre>\n<p>I used phpseclib3. It returns a base64urlsafe encoded string. This string will be sent to another application (implemented using java) and is decrypted by the following function.</p>\n<pre><code>    private static byte[] decryptSecretKey(PrivateKey privKey, byte[] encKey)  {\n    try {\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\n        OAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA256,\n                PSource.PSpecified.DEFAULT);\n        cipher.init(Cipher.DECRYPT_MODE, privKey, oaepParams);\n        return cipher.doFinal(encKey, 0, encKey.length);\n    }catch (Exception ex){\n        ex.printStackTrace();\n        return  null;\n    }\n}\n</code></pre>\n<p>I have verified that both encoding and decoding are done correctly (base64) but trying to decrypt the data throws the following exception.</p>\n<pre><code>javax.crypto.BadPaddingException: Decryption error\nat java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:488)\nat java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:284)\nat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:366)\nat java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:400)\nat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2303)\nat org.example.CryptoUtil.decryptSecretKey(CryptoUtil.java:264)\nat org.example.CryptoUtil.symmetricDecryptResponse(CryptoUtil.java:224)\nat org.example.Main.main(Main.java:40)\n</code></pre>\n<p>Just for testing I implemented the encryption function in Java (which works) and it looks like this</p>\n<pre><code>public static String encryptSecretKeyAsymmetric(byte[] key, PublicKey publicKey) throws Exception {\n    Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\n    final OAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA256,\n            PSource.PSpecified.DEFAULT);\n    cipher.init(Cipher.ENCRYPT_MODE, publicKey, oaepParams);\n    byte[] cipherText = cipher.doFinal(key);\n    String encodedCipher =  doEncode(cipherText);\n    return encodedCipher;\n}\n</code></pre>\n<p>I would appreciate any help. Is it even possible to implement this type of encryption with the RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING transform and the various specs in PHP?</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":24455181,"reputation":669,"user_id":18376867,"display_name":"LauraT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686693146,"creation_date":1686693146,"answer_id":76468951,"question_id":76468772,"body_markdown":"Looks like Stripe requires you to send the current and any/all future phases so using params is the right way to go about it: https://stripe.com/docs/billing/subscriptions/subscription-schedules#updating","title":"Updating a subscription schedule with Stripe java APIs","body":"<p>Looks like Stripe requires you to send the current and any/all future phases so using params is the right way to go about it: <a href=\"https://stripe.com/docs/billing/subscriptions/subscription-schedules#updating\" rel=\"nofollow noreferrer\">https://stripe.com/docs/billing/subscriptions/subscription-schedules#updating</a></p>\n"}],"owner":{"account_id":317225,"reputation":1,"user_id":21310236,"display_name":"Franck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686693146,"creation_date":1686690726,"question_id":76468772,"body_markdown":"After a completed check session that contains recurring prices I have attached a schedule to the subscription created by Stripe.\r\n\r\nI am now trying to update that schedule to set the iteration count on its single phase, and the API is making this extremely clumsy... am I missing something?\r\n\r\n\r\n\r\nThe method below is a webhook handler that receives the current schedule; the update request seems to require SubscriptionScheduleUpdateParams inner classes, meaning I have to manually reconstruct the phases, their items, their prices and so on using Params classes: is there any better way??\r\n\r\n```\r\n // case &quot;subscription_schedule.created&quot; -&gt; configureSchedule(event, (SubscriptionSchedule) stripeObject);\r\n private void configureSchedule(Event event, SubscriptionSchedule schedule)\r\n {\r\n    Phase phase = schedule.getPhases().get(0);\r\n\r\n    // All I need is to set that phase&#39;s iteration count, but:\r\n    SubscriptionScheduleUpdateParams params =\r\n                SubscriptionScheduleUpdateParams.builder().\r\n                        setApplicationFeePercent(phase.getApplicationFeePercent()).\r\n                        // ... set 10 other properties :( \r\n                        addPhase(SubscriptionScheduleUpdateParams.Phase.builder().\r\n                                addAllItem(SubscriptionScheduleUpdateParams.Phase.Item.builder().\r\n                                             // again manual transfer of each item property\r\n }\r\n```\r\n\r\nAm I missing something about those APIs? I can&#39;t find any bridge between the objects/classes sent by webhooks and the ones required in update requests.","title":"Updating a subscription schedule with Stripe java APIs","body":"<p>After a completed check session that contains recurring prices I have attached a schedule to the subscription created by Stripe.</p>\n<p>I am now trying to update that schedule to set the iteration count on its single phase, and the API is making this extremely clumsy... am I missing something?</p>\n<p>The method below is a webhook handler that receives the current schedule; the update request seems to require SubscriptionScheduleUpdateParams inner classes, meaning I have to manually reconstruct the phases, their items, their prices and so on using Params classes: is there any better way??</p>\n<pre><code> // case &quot;subscription_schedule.created&quot; -&gt; configureSchedule(event, (SubscriptionSchedule) stripeObject);\n private void configureSchedule(Event event, SubscriptionSchedule schedule)\n {\n    Phase phase = schedule.getPhases().get(0);\n\n    // All I need is to set that phase's iteration count, but:\n    SubscriptionScheduleUpdateParams params =\n                SubscriptionScheduleUpdateParams.builder().\n                        setApplicationFeePercent(phase.getApplicationFeePercent()).\n                        // ... set 10 other properties :( \n                        addPhase(SubscriptionScheduleUpdateParams.Phase.builder().\n                                addAllItem(SubscriptionScheduleUpdateParams.Phase.Item.builder().\n                                             // again manual transfer of each item property\n }\n</code></pre>\n<p>Am I missing something about those APIs? I can't find any bridge between the objects/classes sent by webhooks and the ones required in update requests.</p>\n"},{"tags":["java","scope"],"owner":{"account_id":28815601,"reputation":1,"user_id":22069299,"display_name":"Gustavo Garc&#237;a Novo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686693137,"creation_date":1686693137,"question_id":76468949,"body_markdown":"I have the following problem:\r\nA class called &quot;PanelPrincipal&quot; which extends &quot;JPanel&quot; and implements &quot;Externalizable&quot;.\r\n\r\nRun the methods:\r\n\r\n\tpublic PanelPrincipal() {\r\n\t\r\n \t}\r\n\tpublic void writeExternal(ObjectOutput out) throws IOException {\r\n\t\tout.writeObject(vectorControles);\r\n\t\t...\r\n\t}\r\n\tpublic void readExternal(ObjectInput in) throws IOException,  ClassNotFoundException {\r\n\t\tvectorControles.clear();\r\n\t\tvectorControles = (Vector&lt;Control&gt;)in.readObject();\r\n\t\t...\r\n\t\tSystem.out.println(&quot;PanelPrincipal.readExternal(ObjectInput in).vectorControles: &quot; + vectorControles  );\r\n\t}\r\n\r\nWhere it saves and retrieves the vector &quot;vectorControles&quot;, which is a global variable of a &quot;Vector&quot; containing graphics.\r\nIt happens that when I save the project, modify the vector and reload it, the dump of the last line of &quot;readExternal()&quot; tells me that the modifications have been retrieved correctly, however, the modifications have no scope to &quot;paintComponent()&quot;:\r\n\r\n\tpublic void paintComponent(Graphics g){\t\r\n\t\tsuper.paintComponent(g);\r\n\t\tg2 = (Graphics2D) g; \t\t\r\n\r\n\t\tSystem.out.println(&quot;PanelPrincipal.paintComponent(Graphics g).vectorControles: &quot; + vectorControles  );\r\n\r\n\t\tfor(int i=0; i &lt; vectorControles.size(); i++){\r\n\t\t\tif(vectorControles.get(i).getIdPanelContenedor() == 0) {\t\r\n\t\t\t\tvectorControles.get(i).dibujar(g2);\r\n\t\t\t}\r\n\t\t} \r\n\t}\r\n\r\n\r\nThe terminal output and the &quot;paintComponent()&quot; method do not show the changes. In the middle, nothing should modify the vector.\r\nThe code is abbreviated for clarity.\r\nI&#39;ve been kicking this code around for weeks. \r\nI would appreciate any help.\r\nThanks.\r\n\r\nI need the variable &quot;vectorControles&quot; to be updated for the &quot;paintComponent()&quot; method, which is not happening.","title":"Why is my global variable &quot;vectorControles&quot; not updated after externalization?","body":"<p>I have the following problem:\nA class called &quot;PanelPrincipal&quot; which extends &quot;JPanel&quot; and implements &quot;Externalizable&quot;.</p>\n<p>Run the methods:</p>\n<pre><code>public PanelPrincipal() {\n\n}\npublic void writeExternal(ObjectOutput out) throws IOException {\n    out.writeObject(vectorControles);\n    ...\n}\npublic void readExternal(ObjectInput in) throws IOException,  ClassNotFoundException {\n    vectorControles.clear();\n    vectorControles = (Vector&lt;Control&gt;)in.readObject();\n    ...\n    System.out.println(&quot;PanelPrincipal.readExternal(ObjectInput in).vectorControles: &quot; + vectorControles  );\n}\n</code></pre>\n<p>Where it saves and retrieves the vector &quot;vectorControles&quot;, which is a global variable of a &quot;Vector&quot; containing graphics.\nIt happens that when I save the project, modify the vector and reload it, the dump of the last line of &quot;readExternal()&quot; tells me that the modifications have been retrieved correctly, however, the modifications have no scope to &quot;paintComponent()&quot;:</p>\n<pre><code>public void paintComponent(Graphics g){ \n    super.paintComponent(g);\n    g2 = (Graphics2D) g;        \n\n    System.out.println(&quot;PanelPrincipal.paintComponent(Graphics g).vectorControles: &quot; + vectorControles  );\n\n    for(int i=0; i &lt; vectorControles.size(); i++){\n        if(vectorControles.get(i).getIdPanelContenedor() == 0) {    \n            vectorControles.get(i).dibujar(g2);\n        }\n    } \n}\n</code></pre>\n<p>The terminal output and the &quot;paintComponent()&quot; method do not show the changes. In the middle, nothing should modify the vector.\nThe code is abbreviated for clarity.\nI've been kicking this code around for weeks.\nI would appreciate any help.\nThanks.</p>\n<p>I need the variable &quot;vectorControles&quot; to be updated for the &quot;paintComponent()&quot; method, which is not happening.</p>\n"},{"tags":["java","stream","iterator"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1686689056,"post_id":76468560,"comment_id":134833230,"body_markdown":"You forgot to ask a question.","body":"You forgot to ask a question."},{"owner":{"account_id":4183630,"reputation":79,"user_id":3427898,"display_name":"almegdadi"},"score":0,"creation_date":1686689228,"post_id":76468560,"comment_id":134833267,"body_markdown":"@talex I updated the question .. I was exaplaning the problem","body":"@talex I updated the question .. I was exaplaning the problem"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":2,"creation_date":1686689477,"post_id":76468560,"comment_id":134833306,"body_markdown":"`scanner.nextLine()` wait for input. You have to pres enter for it to complete.","body":"<code>scanner.nextLine()</code> wait for input. You have to pres enter for it to complete."},{"owner":{"account_id":4183630,"reputation":79,"user_id":3427898,"display_name":"almegdadi"},"score":0,"creation_date":1686691963,"post_id":76468560,"comment_id":134833670,"body_markdown":"@talex ..you are right .. the problem was at `scanner.nextline()` I updated the code .. now it creates observations, but not stopping when I press &quot;s&quot;","body":"@talex ..you are right .. the problem was at <code>scanner.nextline()</code> I updated the code .. now it creates observations, but not stopping when I press &quot;s&quot;"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1686692372,"post_id":76468560,"comment_id":134833716,"body_markdown":"You should use `scanner.hasNextLine()` to see if there&#39;s any input and if there is, check if it&#39;s &quot;s&quot;. But read [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/q/6166).","body":"You should use <code>scanner.hasNextLine()</code> to see if there&#39;s any input and if there is, check if it&#39;s &quot;s&quot;. But read <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a>."}],"answers":[{"tags":[],"owner":{"account_id":4183630,"reputation":79,"user_id":3427898,"display_name":"almegdadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686693122,"creation_date":1686693122,"answer_id":76468947,"question_id":76468560,"body_markdown":"I added a listener to stop when I press &quot;s&quot;, and added a time frame to control the time of observations creation\r\n\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    import javax.swing.JFrame;\r\n    \r\n    public class RandomStreamMatrix {\r\n        private static final int MATRIX_SIZE = 4;\r\n        private static final int MAX_VALUE = 999;\r\n        private static final long SEED = 1234; // Seed value for random number generation\r\n        private static boolean generateObservations = true;\r\n        private static int observationCount = 0;\r\n        private static final int TIME_FRAME_MS = 10; // Time frame in milliseconds (adjust as needed)\r\n    \r\n        public static void main(String[] args) {\r\n            RandomStreamMatrix generator = new RandomStreamMatrix();\r\n            Iterator&lt;int[]&gt; iterator = generator.new RandomMatrixIterator();\r\n    \r\n            // Create a file to write the observations\r\n            String filePath = &quot;observations.txt&quot;;\r\n            try {\r\n                FileWriter fileWriter = new FileWriter(filePath);\r\n    \r\n                // Create a JFrame to capture key events\r\n                JFrame frame = new JFrame();\r\n                frame.addKeyListener(new KeyListener() {\r\n                    @Override\r\n                    public void keyPressed(KeyEvent e) {\r\n                        if (e.getKeyChar() == &#39;s&#39;) {\r\n                            generateObservations = false;\r\n                            System.out.println(&quot;Generation stopped by user.&quot;);\r\n                            System.out.println(&quot;Total observations created: &quot; + observationCount);\r\n                        }\r\n                    }\r\n    \r\n                    @Override\r\n                    public void keyTyped(KeyEvent e) {}\r\n    \r\n                    @Override\r\n                    public void keyReleased(KeyEvent e) {}\r\n                });\r\n    \r\n                frame.setSize(200, 200);\r\n                frame.setVisible(true);\r\n                frame.setFocusable(true);\r\n                frame.requestFocus();\r\n    \r\n                while (generateObservations) {\r\n                    int[] observation = iterator.next();\r\n                    System.out.println(&quot;Observation: &quot; + java.util.Arrays.toString(observation));\r\n                    observationCount++;\r\n    \r\n                    // Write the observation to the file\r\n                    for (int value : observation) {\r\n                        fileWriter.write(Integer.toString(value) + &quot; &quot;);\r\n                    }\r\n                    fileWriter.write(&quot;\\n&quot;);\r\n                    fileWriter.flush();\r\n    \r\n                    try {\r\n                        Thread.sleep(TIME_FRAME_MS); // Pause execution for the specified time frame\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n    \r\n                fileWriter.close();\r\n                System.out.println(&quot;Observations written to &quot; + filePath);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private class RandomMatrixIterator implements Iterator&lt;int[]&gt; {\r\n            private Random random;\r\n    \r\n            public RandomMatrixIterator() {\r\n                random = new Random(SEED); // Use the seed value for random number generation\r\n            }\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n                return true; // Always have next element\r\n            }\r\n    \r\n            @Override\r\n            public int[] next() {\r\n                int[] observation = new int[MATRIX_SIZE];\r\n                for (int i = 0; i &lt; MATRIX_SIZE; i++) {\r\n                    observation[i] = random.nextInt(MAX_VALUE + 1);\r\n                }\r\n                return observation;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Creating random stream in java and stop at event","body":"<p>I added a listener to stop when I press &quot;s&quot;, and added a time frame to control the time of observations creation</p>\n<pre><code>import java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.Random;\nimport java.util.Scanner;\nimport javax.swing.JFrame;\n\npublic class RandomStreamMatrix {\n    private static final int MATRIX_SIZE = 4;\n    private static final int MAX_VALUE = 999;\n    private static final long SEED = 1234; // Seed value for random number generation\n    private static boolean generateObservations = true;\n    private static int observationCount = 0;\n    private static final int TIME_FRAME_MS = 10; // Time frame in milliseconds (adjust as needed)\n\n    public static void main(String[] args) {\n        RandomStreamMatrix generator = new RandomStreamMatrix();\n        Iterator&lt;int[]&gt; iterator = generator.new RandomMatrixIterator();\n\n        // Create a file to write the observations\n        String filePath = &quot;observations.txt&quot;;\n        try {\n            FileWriter fileWriter = new FileWriter(filePath);\n\n            // Create a JFrame to capture key events\n            JFrame frame = new JFrame();\n            frame.addKeyListener(new KeyListener() {\n                @Override\n                public void keyPressed(KeyEvent e) {\n                    if (e.getKeyChar() == 's') {\n                        generateObservations = false;\n                        System.out.println(&quot;Generation stopped by user.&quot;);\n                        System.out.println(&quot;Total observations created: &quot; + observationCount);\n                    }\n                }\n\n                @Override\n                public void keyTyped(KeyEvent e) {}\n\n                @Override\n                public void keyReleased(KeyEvent e) {}\n            });\n\n            frame.setSize(200, 200);\n            frame.setVisible(true);\n            frame.setFocusable(true);\n            frame.requestFocus();\n\n            while (generateObservations) {\n                int[] observation = iterator.next();\n                System.out.println(&quot;Observation: &quot; + java.util.Arrays.toString(observation));\n                observationCount++;\n\n                // Write the observation to the file\n                for (int value : observation) {\n                    fileWriter.write(Integer.toString(value) + &quot; &quot;);\n                }\n                fileWriter.write(&quot;\\n&quot;);\n                fileWriter.flush();\n\n                try {\n                    Thread.sleep(TIME_FRAME_MS); // Pause execution for the specified time frame\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            fileWriter.close();\n            System.out.println(&quot;Observations written to &quot; + filePath);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private class RandomMatrixIterator implements Iterator&lt;int[]&gt; {\n        private Random random;\n\n        public RandomMatrixIterator() {\n            random = new Random(SEED); // Use the seed value for random number generation\n        }\n\n        @Override\n        public boolean hasNext() {\n            return true; // Always have next element\n        }\n\n        @Override\n        public int[] next() {\n            int[] observation = new int[MATRIX_SIZE];\n            for (int i = 0; i &lt; MATRIX_SIZE; i++) {\n                observation[i] = random.nextInt(MAX_VALUE + 1);\n            }\n            return observation;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4183630,"reputation":79,"user_id":3427898,"display_name":"almegdadi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686693122,"creation_date":1686688720,"question_id":76468560,"body_markdown":"Update the code: \r\nThis is a java code .. it should create stream of random observations, each observation contains 4 cloumns, each one is an integer from 0 to 999 ... The code should keep generationg the values and append the observation values to a text file until i press the &quot;s&quot; from the keyboard ..  note that the created observations should only be kept temporarily, and each observation will be deleted after it wrote at the consol and append on the file ..  \r\nQuestion: How to modify the code to create a stream of continous observations  stopped when I press &quot;s&quot;\r\n\r\n\r\nHere is the code\r\n\r\n        import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import java.util.Random;\r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    import java.util.Scanner;\r\n    \r\n    public class RandomStreamMatrix {\r\n        private static final int MATRIX_SIZE = 4;\r\n        private static final int MAX_VALUE = 999;\r\n        private static final long SEED = 1234L; // Seed value for random number generation\r\n    \r\n        public static void main(String[] args) {\r\n            RandomStreamMatrix generator = new RandomStreamMatrix();\r\n            Iterator&lt;int[]&gt; iterator = generator.new RandomMatrixIterator();\r\n    \r\n            // Create a file to write the observations\r\n            String filePath = &quot;observations.txt&quot;;\r\n            try {\r\n                FileWriter fileWriter = new FileWriter(filePath);\r\n                AtomicBoolean generateObservations = new AtomicBoolean(true);\r\n    \r\n                // Create a separate thread for user input\r\n                Thread userInputThread = new Thread(() -&gt; {\r\n                    System.out.println(&quot;Press &#39;s&#39; to stop the generation...&quot;);\r\n                    Scanner scanner = new Scanner(System.in);\r\n                    while (generateObservations.get()) {\r\n                        String input = scanner.nextLine();\r\n                        if (input.trim().equalsIgnoreCase(&quot;s&quot;)) {\r\n                            generateObservations.set(false);\r\n                            System.out.println(&quot;Generation stopped by user.&quot;);\r\n                            break;\r\n                        }\r\n                    }\r\n                    scanner.close();\r\n                });\r\n                userInputThread.start();\r\n    \r\n                while (generateObservations.get()) {\r\n                    int[] observation = iterator.next();\r\n                    System.out.println(&quot;Observation: &quot; + java.util.Arrays.toString(observation));\r\n    \r\n                    // Write the observation to the file\r\n                    for (int value : observation) {\r\n                        fileWriter.write(Integer.toString(value) + &quot; &quot;);\r\n                    }\r\n                    fileWriter.write(&quot;\\n&quot;);\r\n                    fileWriter.flush();\r\n                }\r\n                fileWriter.close();\r\n                System.out.println(&quot;Observations written to &quot; + filePath);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private class RandomMatrixIterator implements Iterator&lt;int[]&gt; {\r\n            private Random random;\r\n    \r\n            public RandomMatrixIterator() {\r\n                random = new Random(SEED); // Use the seed value for random number generation\r\n            }\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n                return true;  // Always have next element\r\n            }\r\n    \r\n            @Override\r\n            public int[] next() {\r\n                int[] observation = new int[MATRIX_SIZE];\r\n                for (int i = 0; i &lt; MATRIX_SIZE; i++) {\r\n                    observation[i] = random.nextInt(MAX_VALUE + 1);\r\n                }\r\n                return observation;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Creating random stream in java and stop at event","body":"<p>Update the code:\nThis is a java code .. it should create stream of random observations, each observation contains 4 cloumns, each one is an integer from 0 to 999 ... The code should keep generationg the values and append the observation values to a text file until i press the &quot;s&quot; from the keyboard ..  note that the created observations should only be kept temporarily, and each observation will be deleted after it wrote at the consol and append on the file ..<br />\nQuestion: How to modify the code to create a stream of continous observations  stopped when I press &quot;s&quot;</p>\n<p>Here is the code</p>\n<pre><code>    import java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.Random;\nimport java.util.concurrent.atomic.AtomicBoolean;\nimport java.util.Scanner;\n\npublic class RandomStreamMatrix {\n    private static final int MATRIX_SIZE = 4;\n    private static final int MAX_VALUE = 999;\n    private static final long SEED = 1234L; // Seed value for random number generation\n\n    public static void main(String[] args) {\n        RandomStreamMatrix generator = new RandomStreamMatrix();\n        Iterator&lt;int[]&gt; iterator = generator.new RandomMatrixIterator();\n\n        // Create a file to write the observations\n        String filePath = &quot;observations.txt&quot;;\n        try {\n            FileWriter fileWriter = new FileWriter(filePath);\n            AtomicBoolean generateObservations = new AtomicBoolean(true);\n\n            // Create a separate thread for user input\n            Thread userInputThread = new Thread(() -&gt; {\n                System.out.println(&quot;Press 's' to stop the generation...&quot;);\n                Scanner scanner = new Scanner(System.in);\n                while (generateObservations.get()) {\n                    String input = scanner.nextLine();\n                    if (input.trim().equalsIgnoreCase(&quot;s&quot;)) {\n                        generateObservations.set(false);\n                        System.out.println(&quot;Generation stopped by user.&quot;);\n                        break;\n                    }\n                }\n                scanner.close();\n            });\n            userInputThread.start();\n\n            while (generateObservations.get()) {\n                int[] observation = iterator.next();\n                System.out.println(&quot;Observation: &quot; + java.util.Arrays.toString(observation));\n\n                // Write the observation to the file\n                for (int value : observation) {\n                    fileWriter.write(Integer.toString(value) + &quot; &quot;);\n                }\n                fileWriter.write(&quot;\\n&quot;);\n                fileWriter.flush();\n            }\n            fileWriter.close();\n            System.out.println(&quot;Observations written to &quot; + filePath);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private class RandomMatrixIterator implements Iterator&lt;int[]&gt; {\n        private Random random;\n\n        public RandomMatrixIterator() {\n            random = new Random(SEED); // Use the seed value for random number generation\n        }\n\n        @Override\n        public boolean hasNext() {\n            return true;  // Always have next element\n        }\n\n        @Override\n        public int[] next() {\n            int[] observation = new int[MATRIX_SIZE];\n            for (int i = 0; i &lt; MATRIX_SIZE; i++) {\n                observation[i] = random.nextInt(MAX_VALUE + 1);\n            }\n            return observation;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7574015,"reputation":2216,"user_id":5746918,"accept_rate":100,"display_name":"Ishita Sinha"},"score":0,"creation_date":1471373861,"post_id":38982361,"comment_id":65317851,"body_markdown":"Go to the `.java` files in the lib directory and delete all the imports like `android.support.design.R`.","body":"Go to the <code>.java</code> files in the lib directory and delete all the imports like <code>android.support.design.R</code>."},{"owner":{"account_id":8513827,"reputation":2445,"user_id":6383029,"accept_rate":42,"display_name":"Mustansir"},"score":0,"creation_date":1471374052,"post_id":38982361,"comment_id":65317947,"body_markdown":"Try clean project, see if it helps.","body":"Try clean project, see if it helps."},{"owner":{"account_id":6982738,"reputation":11,"user_id":5354959,"accept_rate":0,"display_name":"MustafaTaj"},"score":0,"creation_date":1471377820,"post_id":38982361,"comment_id":65319856,"body_markdown":"I tried to delete &quot;import com.mikepepnz.materialdrawe.R&quot;,\nTried clean project, Tried rebuild project, Tried sync project with gradle\n\nNon of above worked","body":"I tried to delete &quot;import com.mikepepnz.materialdrawe.R&quot;, Tried clean project, Tried rebuild project, Tried sync project with gradle  Non of above worked"},{"owner":{"account_id":127956,"reputation":12758,"user_id":325479,"accept_rate":92,"display_name":"mikepenz"},"score":0,"creation_date":1474628287,"post_id":38982361,"comment_id":66619925,"body_markdown":"Normally such issues come up when there are resource errors. or similar. what did you do prior to getting this error?","body":"Normally such issues come up when there are resource errors. or similar. what did you do prior to getting this error?"}],"answers":[{"tags":[],"owner":{"account_id":6982738,"reputation":11,"user_id":5354959,"accept_rate":0,"display_name":"MustafaTaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471377867,"creation_date":1471377867,"answer_id":38983527,"question_id":38982361,"body_markdown":"I tried to delete &quot;import com.mikepepnz.materialdrawe.R&quot;\nTried clean project,\nTried rebuild project,\nTried sync project with gradle,\n\nNon of above worked\nThe app run version work but gralde release versiom don&#39;t work","title":"Android Studio &quot;mikepenz materialdrawer&quot; cannot find symbol class R [ release apk ]","body":"<p>I tried to delete \"import com.mikepepnz.materialdrawe.R\"\nTried clean project,\nTried rebuild project,\nTried sync project with gradle,</p>\n\n<p>Non of above worked\nThe app run version work but gralde release versiom don't work</p>\n"},{"tags":[],"owner":{"account_id":28779899,"reputation":61,"user_id":22041725,"display_name":"Shejan Mahamud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686690844,"creation_date":1686690844,"answer_id":76468779,"question_id":38982361,"body_markdown":"Hover or Click on old package name in android studio.\r\n\r\nFollow Steps: \r\n\r\n&gt; Ctrl + Shift + R \r\n\r\n&gt; Replace your new package name with old package name.\r\n\r\n&gt; File &gt; Invalidate cache\r\n\r\nDone!","title":"Android Studio &quot;mikepenz materialdrawer&quot; cannot find symbol class R [ release apk ]","body":"<p>Hover or Click on old package name in android studio.</p>\n<p>Follow Steps:</p>\n<blockquote>\n<p>Ctrl + Shift + R</p>\n</blockquote>\n<blockquote>\n<p>Replace your new package name with old package name.</p>\n</blockquote>\n<blockquote>\n<p>File &gt; Invalidate cache</p>\n</blockquote>\n<p>Done!</p>\n"}],"owner":{"account_id":6982738,"reputation":11,"user_id":5354959,"accept_rate":0,"display_name":"MustafaTaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":690,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686690844,"creation_date":1471373254,"question_id":38982361,"body_markdown":"so am working with mikepenz materialdrawer in my project and everything was fine and i was able to get Release apk from android studio\r\n\r\nsuddenly i have this error [ cannot find symbol class R ] when i try to get the release APK\r\n\r\ngradle file \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 24\r\n        buildToolsVersion &quot;24.0.1&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;sd.edu.oiu.medicine.mustafa&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 24\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        packagingOptions {\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/LICENSE-FIREBASE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:appcompat-v7:24.1.1&#39;\r\n        //compile &#39;com.android.support:design:24.0.1&#39;\r\n        // Firebase\r\n        compile &#39;com.firebase:firebase-client-android:2.5.1+&#39;\r\n        compile &#39;com.mcxiaoke.volley:library:1.0.19&#39;\r\n    \r\n        compile project(&quot;:libs:MikepenzMaterialDrawer&quot;)\r\n        // used to showcase how to load images\r\n        //compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        compile &#39;com.github.bumptech.glide:glide:3.7.0&#39;\r\n    \r\n        // used to generate the Open Source section\r\n        // https://github.com/mikepenz/AboutLibraries\r\n        compile(&#39;com.mikepenz:aboutlibraries:5.7.0@aar&#39;) {\r\n            transitive = true\r\n            exclude module: &quot;fastadapter&quot;\r\n        }\r\n        //used to provide different itemAnimators for the RecyclerView\r\n        //https://github.com/mikepenz/ItemAnimators\r\n        compile &#39;com.mikepenz:itemanimators:0.2.4@aar&#39;\r\n        // used to provide the MiniDrawer to normal Drawer crossfade effect via a SlidingPane layout\r\n        // --&gt; https://github.com/mikepenz/MaterialDrawer/blob/develop/app/src/main/java/com/mikepenz/materialdrawer/app/MiniDrawerActivity.java\r\n        // https://github.com/mikepenz/Crossfader\r\n        compile &#39;com.mikepenz:crossfader:1.3.7@aar&#39;\r\n        // used to provide the two step crossfade DrawerLayout. Which allows to have a mini layout which transforms to a normal layout within the drawer\r\n        // --&gt; https://github.com/mikepenz/MaterialDrawer/blob/develop/app/src/main/java/com/mikepenz/materialdrawer/app/CrossfadeDrawerLayoutActvitiy.java\r\n        // https://github.com/mikepenz/CrossfadeDrawerLayout\r\n        compile(&#39;com.mikepenz:crossfadedrawerlayout:0.3.4@aar&#39;)\r\n    \r\n        // icon fonts used inside the sample\r\n        // https://github.com/mikepenz/Android-Iconics\r\n        compile &#39;com.mikepenz:google-material-typeface:2.2.0.1@aar&#39;\r\n        compile &#39;com.mikepenz:fontawesome-typeface:4.4.0.1@aar&#39;\r\n        compile &#39;com.mikepenz:octicons-typeface:3.0.0.1@aar&#39;\r\n    \r\n        // Charts\r\n        compile &#39;com.github.blackfizz:eazegraph:1.0.10-SNAPSHOT@aar&#39;\r\n        //compile project(&quot;:libs:EazeGraph&quot;)\r\n        //compile &#39;com.github.blackfizz:eazegraph:1.2.2@aar&#39;\r\n        //compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n    }\r\n\r\n\r\nError log\r\n\r\n    Information:Gradle tasks [assemble]\r\n    Observed package id &#39;add-ons;addon-google_apis-google-23&#39; in inconsistent location &#39;E:\\Android\\sdk\\add-ons\\addon-google_apis-google-23-1&#39; (Expected &#39;E:\\Android\\sdk\\add-ons\\addon-google_apis-google-23&#39;)\r\n    Already observed package id &#39;add-ons;addon-google_apis-google-23&#39; in &#39;E:\\Android\\sdk\\add-ons\\addon-google_apis-google-23&#39;. Skipping duplicate at &#39;E:\\Android\\sdk\\add-ons\\addon-google_apis-google-23-1&#39;\r\n    :app:preBuild UP-TO-DATE\r\n    :app:preDebugBuild UP-TO-DATE\r\n    :app:checkDebugManifest\r\n    :app:preReleaseBuild UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:preBuild UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:preReleaseBuild UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileReleaseNdk UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileLint\r\n    :libs:MikepenzMaterialDrawer:copyReleaseLint UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:checkReleaseManifest\r\n    :libs:MikepenzMaterialDrawer:preDebugAndroidTestBuild UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:preDebugBuild UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:preDebugUnitTestBuild UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:preReleaseUnitTestBuild UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareComAndroidSupportAnimatedVectorDrawable2411Library UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareComAndroidSupportAppcompatV72411Library UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareComAndroidSupportDesign2411Library UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareComAndroidSupportRecyclerviewV72411Library UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareComAndroidSupportSupportV42411Library UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareComAndroidSupportSupportVectorDrawable2411Library UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareComMikepenzFastadapter160Library UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareComMikepenzIconicsCore267Library UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareComMikepenzMaterialize090Library UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:prepareReleaseDependencies\r\n    :libs:MikepenzMaterialDrawer:compileReleaseAidl UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileReleaseRenderscript UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateReleaseBuildConfig UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeReleaseShaders UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileReleaseShaders UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateReleaseAssets UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeReleaseAssets UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateReleaseResValues UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateReleaseResources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeReleaseResources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:processReleaseManifest UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:processReleaseResources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateReleaseSources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:incrementalReleaseJavaCompilationSafeguard UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileReleaseJavaWithJavac UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:extractReleaseAnnotations UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeReleaseProguardFiles UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:packageReleaseRenderscript UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:packageReleaseResources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:processReleaseJavaRes UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:transformResourcesWithMergeJavaResForRelease UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:transformClassesAndResourcesWithSyncLibJarsForRelease UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeReleaseJniLibFolders UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:transformNative_libsWithMergeJniLibsForRelease UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:transformNative_libsWithSyncJniLibsForRelease UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:bundleRelease UP-TO-DATE\r\n    :app:prepareComAndroidSupportAnimatedVectorDrawable2411Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportAppcompatV72411Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportCardviewV72400Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportDesign2411Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportRecyclerviewV72411Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportSupportV42411Library UP-TO-DATE\r\n    :app:prepareComAndroidSupportSupportVectorDrawable2411Library UP-TO-DATE\r\n    :app:prepareComGithubBlackfizzEazegraph1010SNAPSHOTLibrary UP-TO-DATE\r\n    :app:prepareComMikepenzAboutlibraries570Library UP-TO-DATE\r\n    :app:prepareComMikepenzCrossfadedrawerlayout034Library UP-TO-DATE\r\n    :app:prepareComMikepenzCrossfader137Library UP-TO-DATE\r\n    :app:prepareComMikepenzFastadapter160Library UP-TO-DATE\r\n    :app:prepareComMikepenzFontawesomeTypeface4401Library UP-TO-DATE\r\n    :app:prepareComMikepenzGoogleMaterialTypeface2201Library UP-TO-DATE\r\n    :app:prepareComMikepenzIconicsCore267Library UP-TO-DATE\r\n    :app:prepareComMikepenzItemanimators024Library UP-TO-DATE\r\n    :app:prepareComMikepenzMaterialize090Library UP-TO-DATE\r\n    :app:prepareComMikepenzOcticonsTypeface3001Library UP-TO-DATE\r\n    :app:prepareOIU_with_API_FinalLibsMikepenzMaterialDrawerUnspecifiedLibrary UP-TO-DATE\r\n    :app:prepareDebugDependencies\r\n    :app:compileDebugAidl UP-TO-DATE\r\n    :app:compileDebugRenderscript UP-TO-DATE\r\n    :app:generateDebugBuildConfig UP-TO-DATE\r\n    :app:mergeDebugShaders UP-TO-DATE\r\n    :app:compileDebugShaders UP-TO-DATE\r\n    :app:generateDebugAssets UP-TO-DATE\r\n    :app:mergeDebugAssets UP-TO-DATE\r\n    :app:generateDebugResValues UP-TO-DATE\r\n    :app:generateDebugResources UP-TO-DATE\r\n    :app:mergeDebugResources UP-TO-DATE\r\n    :app:processDebugManifest UP-TO-DATE\r\n    :app:processDebugResources UP-TO-DATE\r\n    :app:generateDebugSources UP-TO-DATE\r\n    :app:incrementalDebugJavaCompilationSafeguard\r\n    :app:compileDebugJavaWithJavac\r\n    :app:compileDebugJavaWithJavac - is not incremental (e.g. outputs have changed, no previous execution, etc.).\r\n    Note: E:\\Projects\\Android\\OIU_with_API_Final\\app\\src\\main\\java\\sd\\edu\\oiu\\medicine\\mustafa\\RobotNoor.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    :app:compileDebugNdk UP-TO-DATE\r\n    :app:compileDebugSources\r\n    :app:prePackageMarkerForDebug\r\n    :app:transformClassesWithDexForDebug\r\n    To run dex in process, the Gradle daemon needs a larger heap.\r\n    It currently has approximately 910 MB.\r\n    For faster builds, increase the maximum heap size for the Gradle daemon to more than 2048 MB.\r\n    To do this set org.gradle.jvmargs=-Xmx2048M in the project gradle.properties.\r\n    For more information see https://docs.gradle.org/current/userguide/build_environment.html\r\n    :app:mergeDebugJniLibFolders\r\n    :app:transformNative_libsWithMergeJniLibsForDebug\r\n    :app:processDebugJavaRes UP-TO-DATE\r\n    :app:transformResourcesWithMergeJavaResForDebug\r\n    :app:validateDebugSigning\r\n    :app:packageDebug\r\n    :app:zipalignDebug\r\n    :app:assembleDebug\r\n    :app:checkReleaseManifest\r\n    :app:prepareReleaseDependencies\r\n    :app:compileReleaseAidl\r\n    :app:compileReleaseRenderscript\r\n    :app:generateReleaseBuildConfig\r\n    :app:mergeReleaseShaders\r\n    :app:compileReleaseShaders\r\n    :app:generateReleaseAssets\r\n    :app:mergeReleaseAssets\r\n    :app:generateReleaseResValues UP-TO-DATE\r\n    :app:generateReleaseResources\r\n    :app:mergeReleaseResources\r\n    :app:processReleaseManifest\r\n    :app:processReleaseResources\r\n    :app:generateReleaseSources\r\n    :app:incrementalReleaseJavaCompilationSafeguard\r\n    :app:compileReleaseJavaWithJavac\r\n    :app:compileReleaseJavaWithJavac - is not incremental (e.g. outputs have changed, no previous execution, etc.).\r\n    Note: E:\\Projects\\Android\\OIU_with_API_Final\\app\\src\\main\\java\\sd\\edu\\oiu\\medicine\\mustafa\\RobotNoor.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    :app:compileReleaseNdk UP-TO-DATE\r\n    :app:compileReleaseSources\r\n    :app:lintVitalRelease\r\n    :app:prePackageMarkerForRelease\r\n    :app:transformClassesWithDexForRelease\r\n    :app:mergeReleaseJniLibFolders\r\n    :app:transformNative_libsWithMergeJniLibsForRelease\r\n    :app:processReleaseJavaRes UP-TO-DATE\r\n    :app:transformResourcesWithMergeJavaResForRelease\r\n    :app:packageRelease\r\n    :app:assembleRelease\r\n    :app:assemble\r\n    :libs:MikepenzMaterialDrawer:compileDebugNdk UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:copyDebugLint UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:checkDebugManifest\r\n    :libs:MikepenzMaterialDrawer:prepareDebugDependencies\r\n    :libs:MikepenzMaterialDrawer:compileDebugAidl UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileDebugRenderscript UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateDebugBuildConfig UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeDebugShaders UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileDebugShaders UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateDebugAssets UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeDebugAssets UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateDebugResValues UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateDebugResources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeDebugResources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:processDebugManifest UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:processDebugResources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateDebugSources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:incrementalDebugJavaCompilationSafeguard UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileDebugJavaWithJavac UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:extractDebugAnnotations UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeDebugProguardFiles UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:packageDebugRenderscript UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:packageDebugResources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:processDebugJavaRes UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:transformResourcesWithMergeJavaResForDebug UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:transformClassesAndResourcesWithSyncLibJarsForDebug UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:mergeDebugJniLibFolders UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:transformNative_libsWithMergeJniLibsForDebug UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:transformNative_libsWithSyncJniLibsForDebug UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:bundleDebug UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileDebugSources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:assembleDebug UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:compileReleaseSources UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:assembleRelease UP-TO-DATE\r\n    :libs:MikepenzMaterialDrawer:generateDebugJavadoc\r\n    100 warnings\r\n    :libs:MikepenzMaterialDrawer:jarDebugJavadoc\r\n    :libs:MikepenzMaterialDrawer:jarDebugSources\r\n    :libs:MikepenzMaterialDrawer:generateReleaseJavadoc\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\view\\BezelImageView.java\r\n    Error:(50, 35) error: cannot find symbol class R\r\n    Error:(50, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\holder\\BadgeStyle.java\r\n    Error:(11, 35) error: cannot find symbol class R\r\n    Error:(11, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\BaseViewHolder.java\r\n    Error:(8, 35) error: cannot find symbol class R\r\n    Error:(8, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ContainerDrawerItem.java\r\n    Error:(11, 35) error: cannot find symbol class R\r\n    Error:(11, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\DividerDrawerItem.java\r\n    Error:(10, 35) error: cannot find symbol class R\r\n    Error:(10, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ExpandableDrawerItem.java\r\n    Error:(15, 35) error: cannot find symbol class R\r\n    Error:(15, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\MiniDrawerItem.java\r\n    Error:(13, 35) error: cannot find symbol class R\r\n    Error:(13, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\PrimaryDrawerItem.java\r\n    Error:(10, 35) error: cannot find symbol class R\r\n    Error:(10, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\MiniProfileDrawerItem.java\r\n    Error:(15, 35) error: cannot find symbol class R\r\n    Error:(15, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ProfileSettingDrawerItem.java\r\n    Error:(19, 35) error: cannot find symbol class R\r\n    Error:(19, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SwitchDrawerItem.java\r\n    Error:(10, 35) error: cannot find symbol class R\r\n    Error:(10, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ToggleDrawerItem.java\r\n    Error:(10, 35) error: cannot find symbol class R\r\n    Error:(10, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SectionDrawerItem.java\r\n    Error:(12, 35) error: cannot find symbol class R\r\n    Error:(12, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\util\\DrawerItemViewHelper.java\r\n    Error:(8, 35) error: cannot find symbol class R\r\n    Error:(8, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\util\\DrawerUIUtils.java\r\n    Error:(16, 35) error: cannot find symbol class R\r\n    Error:(16, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\AbstractDrawerItem.java\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\BaseDrawerItem.java\r\n    Error:(16, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\BasePrimaryDrawerItem.java\r\n    Warning:(54, 8) no description for @param\r\n    Warning:(54, 8) no description for @param\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ProfileDrawerItem.java\r\n    Error:(21, 35) error: cannot find symbol class R\r\n    Error:(21, 35) error: cannot find symbol class R\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SecondaryDrawerItem.java\r\n    Error:(6, 35) error: cannot find symbol class R\r\n    Warning:(29, 8) no description for @param\r\n    Warning:(30, 8) no description for @return\r\n    Error:(6, 35) error: cannot find symbol class R\r\n    Warning:(29, 8) no description for @param\r\n    Warning:(30, 8) no description for @return\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SecondarySwitchDrawerItem.java\r\n    Error:(6, 35) error: cannot find symbol class R\r\n    Warning:(29, 8) no description for @param\r\n    Warning:(30, 8) no description for @return\r\n    Error:(6, 35) error: cannot find symbol class R\r\n    Warning:(29, 8) no description for @param\r\n    Warning:(30, 8) no description for @return\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SecondaryToggleDrawerItem.java\r\n    Error:(6, 35) error: cannot find symbol class R\r\n    Warning:(29, 8) no description for @param\r\n    Warning:(30, 8) no description for @return\r\n    Error:(6, 35) error: cannot find symbol class R\r\n    Warning:(29, 8) no description for @param\r\n    Warning:(30, 8) no description for @return\r\n    E:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\AccountHeader.java\r\n\r\n","title":"Android Studio &quot;mikepenz materialdrawer&quot; cannot find symbol class R [ release apk ]","body":"<p>so am working with mikepenz materialdrawer in my project and everything was fine and i was able to get Release apk from android studio</p>\n\n<p>suddenly i have this error [ cannot find symbol class R ] when i try to get the release APK</p>\n\n<p>gradle file </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.1\"\n\n    defaultConfig {\n        applicationId \"sd.edu.oiu.medicine.mustafa\"\n        minSdkVersion 15\n        targetSdkVersion 24\n        versionCode 1\n        versionName \"1.0\"\n    }\n    packagingOptions {\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE-FIREBASE.txt'\n        exclude 'META-INF/NOTICE'\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:24.1.1'\n    //compile 'com.android.support:design:24.0.1'\n    // Firebase\n    compile 'com.firebase:firebase-client-android:2.5.1+'\n    compile 'com.mcxiaoke.volley:library:1.0.19'\n\n    compile project(\":libs:MikepenzMaterialDrawer\")\n    // used to showcase how to load images\n    //compile 'com.squareup.picasso:picasso:2.5.2'\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n\n    // used to generate the Open Source section\n    // https://github.com/mikepenz/AboutLibraries\n    compile('com.mikepenz:aboutlibraries:5.7.0@aar') {\n        transitive = true\n        exclude module: \"fastadapter\"\n    }\n    //used to provide different itemAnimators for the RecyclerView\n    //https://github.com/mikepenz/ItemAnimators\n    compile 'com.mikepenz:itemanimators:0.2.4@aar'\n    // used to provide the MiniDrawer to normal Drawer crossfade effect via a SlidingPane layout\n    // --&gt; https://github.com/mikepenz/MaterialDrawer/blob/develop/app/src/main/java/com/mikepenz/materialdrawer/app/MiniDrawerActivity.java\n    // https://github.com/mikepenz/Crossfader\n    compile 'com.mikepenz:crossfader:1.3.7@aar'\n    // used to provide the two step crossfade DrawerLayout. Which allows to have a mini layout which transforms to a normal layout within the drawer\n    // --&gt; https://github.com/mikepenz/MaterialDrawer/blob/develop/app/src/main/java/com/mikepenz/materialdrawer/app/CrossfadeDrawerLayoutActvitiy.java\n    // https://github.com/mikepenz/CrossfadeDrawerLayout\n    compile('com.mikepenz:crossfadedrawerlayout:0.3.4@aar')\n\n    // icon fonts used inside the sample\n    // https://github.com/mikepenz/Android-Iconics\n    compile 'com.mikepenz:google-material-typeface:2.2.0.1@aar'\n    compile 'com.mikepenz:fontawesome-typeface:4.4.0.1@aar'\n    compile 'com.mikepenz:octicons-typeface:3.0.0.1@aar'\n\n    // Charts\n    compile 'com.github.blackfizz:eazegraph:1.0.10-SNAPSHOT@aar'\n    //compile project(\":libs:EazeGraph\")\n    //compile 'com.github.blackfizz:eazegraph:1.2.2@aar'\n    //compile 'com.nineoldandroids:library:2.4.0'\n}\n</code></pre>\n\n<p>Error log</p>\n\n<pre><code>Information:Gradle tasks [assemble]\nObserved package id 'add-ons;addon-google_apis-google-23' in inconsistent location 'E:\\Android\\sdk\\add-ons\\addon-google_apis-google-23-1' (Expected 'E:\\Android\\sdk\\add-ons\\addon-google_apis-google-23')\nAlready observed package id 'add-ons;addon-google_apis-google-23' in 'E:\\Android\\sdk\\add-ons\\addon-google_apis-google-23'. Skipping duplicate at 'E:\\Android\\sdk\\add-ons\\addon-google_apis-google-23-1'\n:app:preBuild UP-TO-DATE\n:app:preDebugBuild UP-TO-DATE\n:app:checkDebugManifest\n:app:preReleaseBuild UP-TO-DATE\n:libs:MikepenzMaterialDrawer:preBuild UP-TO-DATE\n:libs:MikepenzMaterialDrawer:preReleaseBuild UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileReleaseNdk UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileLint\n:libs:MikepenzMaterialDrawer:copyReleaseLint UP-TO-DATE\n:libs:MikepenzMaterialDrawer:checkReleaseManifest\n:libs:MikepenzMaterialDrawer:preDebugAndroidTestBuild UP-TO-DATE\n:libs:MikepenzMaterialDrawer:preDebugBuild UP-TO-DATE\n:libs:MikepenzMaterialDrawer:preDebugUnitTestBuild UP-TO-DATE\n:libs:MikepenzMaterialDrawer:preReleaseUnitTestBuild UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareComAndroidSupportAnimatedVectorDrawable2411Library UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareComAndroidSupportAppcompatV72411Library UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareComAndroidSupportDesign2411Library UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareComAndroidSupportRecyclerviewV72411Library UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareComAndroidSupportSupportV42411Library UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareComAndroidSupportSupportVectorDrawable2411Library UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareComMikepenzFastadapter160Library UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareComMikepenzIconicsCore267Library UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareComMikepenzMaterialize090Library UP-TO-DATE\n:libs:MikepenzMaterialDrawer:prepareReleaseDependencies\n:libs:MikepenzMaterialDrawer:compileReleaseAidl UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileReleaseRenderscript UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateReleaseBuildConfig UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeReleaseShaders UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileReleaseShaders UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateReleaseAssets UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeReleaseAssets UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateReleaseResValues UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateReleaseResources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeReleaseResources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:processReleaseManifest UP-TO-DATE\n:libs:MikepenzMaterialDrawer:processReleaseResources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateReleaseSources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:incrementalReleaseJavaCompilationSafeguard UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileReleaseJavaWithJavac UP-TO-DATE\n:libs:MikepenzMaterialDrawer:extractReleaseAnnotations UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeReleaseProguardFiles UP-TO-DATE\n:libs:MikepenzMaterialDrawer:packageReleaseRenderscript UP-TO-DATE\n:libs:MikepenzMaterialDrawer:packageReleaseResources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:processReleaseJavaRes UP-TO-DATE\n:libs:MikepenzMaterialDrawer:transformResourcesWithMergeJavaResForRelease UP-TO-DATE\n:libs:MikepenzMaterialDrawer:transformClassesAndResourcesWithSyncLibJarsForRelease UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeReleaseJniLibFolders UP-TO-DATE\n:libs:MikepenzMaterialDrawer:transformNative_libsWithMergeJniLibsForRelease UP-TO-DATE\n:libs:MikepenzMaterialDrawer:transformNative_libsWithSyncJniLibsForRelease UP-TO-DATE\n:libs:MikepenzMaterialDrawer:bundleRelease UP-TO-DATE\n:app:prepareComAndroidSupportAnimatedVectorDrawable2411Library UP-TO-DATE\n:app:prepareComAndroidSupportAppcompatV72411Library UP-TO-DATE\n:app:prepareComAndroidSupportCardviewV72400Library UP-TO-DATE\n:app:prepareComAndroidSupportDesign2411Library UP-TO-DATE\n:app:prepareComAndroidSupportRecyclerviewV72411Library UP-TO-DATE\n:app:prepareComAndroidSupportSupportV42411Library UP-TO-DATE\n:app:prepareComAndroidSupportSupportVectorDrawable2411Library UP-TO-DATE\n:app:prepareComGithubBlackfizzEazegraph1010SNAPSHOTLibrary UP-TO-DATE\n:app:prepareComMikepenzAboutlibraries570Library UP-TO-DATE\n:app:prepareComMikepenzCrossfadedrawerlayout034Library UP-TO-DATE\n:app:prepareComMikepenzCrossfader137Library UP-TO-DATE\n:app:prepareComMikepenzFastadapter160Library UP-TO-DATE\n:app:prepareComMikepenzFontawesomeTypeface4401Library UP-TO-DATE\n:app:prepareComMikepenzGoogleMaterialTypeface2201Library UP-TO-DATE\n:app:prepareComMikepenzIconicsCore267Library UP-TO-DATE\n:app:prepareComMikepenzItemanimators024Library UP-TO-DATE\n:app:prepareComMikepenzMaterialize090Library UP-TO-DATE\n:app:prepareComMikepenzOcticonsTypeface3001Library UP-TO-DATE\n:app:prepareOIU_with_API_FinalLibsMikepenzMaterialDrawerUnspecifiedLibrary UP-TO-DATE\n:app:prepareDebugDependencies\n:app:compileDebugAidl UP-TO-DATE\n:app:compileDebugRenderscript UP-TO-DATE\n:app:generateDebugBuildConfig UP-TO-DATE\n:app:mergeDebugShaders UP-TO-DATE\n:app:compileDebugShaders UP-TO-DATE\n:app:generateDebugAssets UP-TO-DATE\n:app:mergeDebugAssets UP-TO-DATE\n:app:generateDebugResValues UP-TO-DATE\n:app:generateDebugResources UP-TO-DATE\n:app:mergeDebugResources UP-TO-DATE\n:app:processDebugManifest UP-TO-DATE\n:app:processDebugResources UP-TO-DATE\n:app:generateDebugSources UP-TO-DATE\n:app:incrementalDebugJavaCompilationSafeguard\n:app:compileDebugJavaWithJavac\n:app:compileDebugJavaWithJavac - is not incremental (e.g. outputs have changed, no previous execution, etc.).\nNote: E:\\Projects\\Android\\OIU_with_API_Final\\app\\src\\main\\java\\sd\\edu\\oiu\\medicine\\mustafa\\RobotNoor.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n:app:compileDebugNdk UP-TO-DATE\n:app:compileDebugSources\n:app:prePackageMarkerForDebug\n:app:transformClassesWithDexForDebug\nTo run dex in process, the Gradle daemon needs a larger heap.\nIt currently has approximately 910 MB.\nFor faster builds, increase the maximum heap size for the Gradle daemon to more than 2048 MB.\nTo do this set org.gradle.jvmargs=-Xmx2048M in the project gradle.properties.\nFor more information see https://docs.gradle.org/current/userguide/build_environment.html\n:app:mergeDebugJniLibFolders\n:app:transformNative_libsWithMergeJniLibsForDebug\n:app:processDebugJavaRes UP-TO-DATE\n:app:transformResourcesWithMergeJavaResForDebug\n:app:validateDebugSigning\n:app:packageDebug\n:app:zipalignDebug\n:app:assembleDebug\n:app:checkReleaseManifest\n:app:prepareReleaseDependencies\n:app:compileReleaseAidl\n:app:compileReleaseRenderscript\n:app:generateReleaseBuildConfig\n:app:mergeReleaseShaders\n:app:compileReleaseShaders\n:app:generateReleaseAssets\n:app:mergeReleaseAssets\n:app:generateReleaseResValues UP-TO-DATE\n:app:generateReleaseResources\n:app:mergeReleaseResources\n:app:processReleaseManifest\n:app:processReleaseResources\n:app:generateReleaseSources\n:app:incrementalReleaseJavaCompilationSafeguard\n:app:compileReleaseJavaWithJavac\n:app:compileReleaseJavaWithJavac - is not incremental (e.g. outputs have changed, no previous execution, etc.).\nNote: E:\\Projects\\Android\\OIU_with_API_Final\\app\\src\\main\\java\\sd\\edu\\oiu\\medicine\\mustafa\\RobotNoor.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n:app:compileReleaseNdk UP-TO-DATE\n:app:compileReleaseSources\n:app:lintVitalRelease\n:app:prePackageMarkerForRelease\n:app:transformClassesWithDexForRelease\n:app:mergeReleaseJniLibFolders\n:app:transformNative_libsWithMergeJniLibsForRelease\n:app:processReleaseJavaRes UP-TO-DATE\n:app:transformResourcesWithMergeJavaResForRelease\n:app:packageRelease\n:app:assembleRelease\n:app:assemble\n:libs:MikepenzMaterialDrawer:compileDebugNdk UP-TO-DATE\n:libs:MikepenzMaterialDrawer:copyDebugLint UP-TO-DATE\n:libs:MikepenzMaterialDrawer:checkDebugManifest\n:libs:MikepenzMaterialDrawer:prepareDebugDependencies\n:libs:MikepenzMaterialDrawer:compileDebugAidl UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileDebugRenderscript UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateDebugBuildConfig UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeDebugShaders UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileDebugShaders UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateDebugAssets UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeDebugAssets UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateDebugResValues UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateDebugResources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeDebugResources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:processDebugManifest UP-TO-DATE\n:libs:MikepenzMaterialDrawer:processDebugResources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateDebugSources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:incrementalDebugJavaCompilationSafeguard UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileDebugJavaWithJavac UP-TO-DATE\n:libs:MikepenzMaterialDrawer:extractDebugAnnotations UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeDebugProguardFiles UP-TO-DATE\n:libs:MikepenzMaterialDrawer:packageDebugRenderscript UP-TO-DATE\n:libs:MikepenzMaterialDrawer:packageDebugResources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:processDebugJavaRes UP-TO-DATE\n:libs:MikepenzMaterialDrawer:transformResourcesWithMergeJavaResForDebug UP-TO-DATE\n:libs:MikepenzMaterialDrawer:transformClassesAndResourcesWithSyncLibJarsForDebug UP-TO-DATE\n:libs:MikepenzMaterialDrawer:mergeDebugJniLibFolders UP-TO-DATE\n:libs:MikepenzMaterialDrawer:transformNative_libsWithMergeJniLibsForDebug UP-TO-DATE\n:libs:MikepenzMaterialDrawer:transformNative_libsWithSyncJniLibsForDebug UP-TO-DATE\n:libs:MikepenzMaterialDrawer:bundleDebug UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileDebugSources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:assembleDebug UP-TO-DATE\n:libs:MikepenzMaterialDrawer:compileReleaseSources UP-TO-DATE\n:libs:MikepenzMaterialDrawer:assembleRelease UP-TO-DATE\n:libs:MikepenzMaterialDrawer:generateDebugJavadoc\n100 warnings\n:libs:MikepenzMaterialDrawer:jarDebugJavadoc\n:libs:MikepenzMaterialDrawer:jarDebugSources\n:libs:MikepenzMaterialDrawer:generateReleaseJavadoc\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\view\\BezelImageView.java\nError:(50, 35) error: cannot find symbol class R\nError:(50, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\holder\\BadgeStyle.java\nError:(11, 35) error: cannot find symbol class R\nError:(11, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\BaseViewHolder.java\nError:(8, 35) error: cannot find symbol class R\nError:(8, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ContainerDrawerItem.java\nError:(11, 35) error: cannot find symbol class R\nError:(11, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\DividerDrawerItem.java\nError:(10, 35) error: cannot find symbol class R\nError:(10, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ExpandableDrawerItem.java\nError:(15, 35) error: cannot find symbol class R\nError:(15, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\MiniDrawerItem.java\nError:(13, 35) error: cannot find symbol class R\nError:(13, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\PrimaryDrawerItem.java\nError:(10, 35) error: cannot find symbol class R\nError:(10, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\MiniProfileDrawerItem.java\nError:(15, 35) error: cannot find symbol class R\nError:(15, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ProfileSettingDrawerItem.java\nError:(19, 35) error: cannot find symbol class R\nError:(19, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SwitchDrawerItem.java\nError:(10, 35) error: cannot find symbol class R\nError:(10, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ToggleDrawerItem.java\nError:(10, 35) error: cannot find symbol class R\nError:(10, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SectionDrawerItem.java\nError:(12, 35) error: cannot find symbol class R\nError:(12, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\util\\DrawerItemViewHelper.java\nError:(8, 35) error: cannot find symbol class R\nError:(8, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\util\\DrawerUIUtils.java\nError:(16, 35) error: cannot find symbol class R\nError:(16, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\AbstractDrawerItem.java\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\BaseDrawerItem.java\nError:(16, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\BasePrimaryDrawerItem.java\nWarning:(54, 8) no description for @param\nWarning:(54, 8) no description for @param\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\ProfileDrawerItem.java\nError:(21, 35) error: cannot find symbol class R\nError:(21, 35) error: cannot find symbol class R\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SecondaryDrawerItem.java\nError:(6, 35) error: cannot find symbol class R\nWarning:(29, 8) no description for @param\nWarning:(30, 8) no description for @return\nError:(6, 35) error: cannot find symbol class R\nWarning:(29, 8) no description for @param\nWarning:(30, 8) no description for @return\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SecondarySwitchDrawerItem.java\nError:(6, 35) error: cannot find symbol class R\nWarning:(29, 8) no description for @param\nWarning:(30, 8) no description for @return\nError:(6, 35) error: cannot find symbol class R\nWarning:(29, 8) no description for @param\nWarning:(30, 8) no description for @return\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\model\\SecondaryToggleDrawerItem.java\nError:(6, 35) error: cannot find symbol class R\nWarning:(29, 8) no description for @param\nWarning:(30, 8) no description for @return\nError:(6, 35) error: cannot find symbol class R\nWarning:(29, 8) no description for @param\nWarning:(30, 8) no description for @return\nE:\\Projects\\Android\\OIU_with_API_Final\\libs\\MikepenzMaterialDrawer\\src\\main\\java\\com\\mikepenz\\materialdrawer\\AccountHeader.java\n</code></pre>\n"},{"tags":["java","loops","methods"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":6,"creation_date":1686676211,"post_id":76467237,"comment_id":134830835,"body_markdown":"what is `exit(0)` expected to do, after the &quot;...Try Again&quot; message? [documentation of exit](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#exit(int)): &quot;Initiates the shutdown sequence of the Java Virtual Machine. This method always blocks indefinitely.&quot;","body":"what is <code>exit(0)</code> expected to do, after the &quot;...Try Again&quot; message? <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#exit(int)\" rel=\"nofollow noreferrer\">documentation of exit</a>: &quot;Initiates the shutdown sequence of the Java Virtual Machine. This method always blocks indefinitely.&quot;"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1686676300,"post_id":76467237,"comment_id":134830853,"body_markdown":"You&#39;re only reading the input once, outside your loop. Your `password` method is also only ever running once.","body":"You&#39;re only reading the input once, outside your loop. Your <code>password</code> method is also only ever running once."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1686676885,"post_id":76467237,"comment_id":134830978,"body_markdown":"`while (true) System.exit(0);` is not a loop for the same reason.","body":"<code>while (true) System.exit(0);</code> is not a loop for the same reason."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686690538,"creation_date":1686690538,"answer_id":76468752,"question_id":76467237,"body_markdown":"The reason it is not looping 3 times is because your 3rd condition contains an _exit_ call.\r\n\r\n```java\r\nelse if (!passkey.equals(&quot;TerrorX&quot;)) {\r\n    System.out.println(&quot;Invalid Passphrase \\n Kindly Try Again&quot;);\r\n    exit(0);\r\n}\r\n```\r\n\r\nThus, if I enter the wrong password, it will exit the program.\r\n\r\nFurthermore, it will simply loop 3 times on an incorrect _passkey_ value, and exit.  \r\nIt will not have been provided with an updated user input.\r\n\r\n```none\r\nWelcome to Self Taught AI\r\nCreator Puneet Sharma\r\nTo Proceed further Please enter your passkey\r\nabc\r\nInvalid Passphrase \r\n Kindly Try Again\r\nInvalid Passphrase \r\n Kindly Try Again\r\nYou have exceeded multiple attempts\r\nInvalid Passphrase \r\n Kindly Try Again\r\n```\r\n\r\nHere is how to resolve the issue.\r\n\r\nIncrease the scope of the _Scanner_ object, and place it as a class variable.&amp;nbsp; So, outside of a method.  \r\nAdditionally, it must be declared as _static_, since your method is static.\r\n\r\nYou can then access it from within the _password_ method, in order to capture a new input value from the user.\r\n\r\nOn a final note, the _while-loop_ conditional statement should be checking for an _i_ value lesser-than _3_, and not equal-to it.\r\n\r\n```none\r\nWelcome to Self Taught AI\r\nCreator Puneet Sharma\r\nTo Proceed further Please enter your passkey\r\nabc\r\nInvalid Passphrase \r\n Kindly Try Again\r\nPlease enter your passkey\r\nabc\r\nInvalid Passphrase \r\n Kindly Try Again\r\nPlease enter your passkey\r\nabc\r\nYou have exceeded multiple attempts\r\n```\r\n\r\nHere is the re-factored code.\r\n\r\n```java\r\nstatic Scanner input = new Scanner(System.in);\r\n\r\npublic static void password(String passkey, int i) {\r\n    while (i &lt; 3) {\r\n        //Switch can be used too!\r\n        i++;\r\n        if (passkey.equals(&quot;TerrorX&quot;)) {\r\n            System.out.println(&quot;Welcome Master Puneet \\nI am really happy to see you here&quot;);\r\n            exit(0);\r\n        } else if (i == 3) {\r\n            System.out.println(&quot;You have exceeded multiple attempts&quot;);\r\n        } else if (!passkey.equals(&quot;TerrorX&quot;)) {\r\n            System.out.println(&quot;Invalid Passphrase \\n Kindly Try Again&quot;);\r\n            System.out.println(&quot;Please enter your passkey&quot;);\r\n            passkey = input.next();\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;Welcome to Self Taught AI&quot;);\r\n    System.out.println(&quot;Creator Puneet Sharma&quot;);\r\n    System.out.println(&quot;To Proceed further Please enter your passkey&quot;);\r\n\r\n    String passkey1 = input.next();\r\n    // Taking Commands here\r\n    password(passkey1,0);\r\n}\r\n```","title":"why loop is not working in my given method","body":"<p>The reason it is not looping 3 times is because your 3rd condition contains an <em>exit</em> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>else if (!passkey.equals(&quot;TerrorX&quot;)) {\n    System.out.println(&quot;Invalid Passphrase \\n Kindly Try Again&quot;);\n    exit(0);\n}\n</code></pre>\n<p>Thus, if I enter the wrong password, it will exit the program.</p>\n<p>Furthermore, it will simply loop 3 times on an incorrect <em>passkey</em> value, and exit.<br />\nIt will not have been provided with an updated user input.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Welcome to Self Taught AI\nCreator Puneet Sharma\nTo Proceed further Please enter your passkey\nabc\nInvalid Passphrase \n Kindly Try Again\nInvalid Passphrase \n Kindly Try Again\nYou have exceeded multiple attempts\nInvalid Passphrase \n Kindly Try Again\n</code></pre>\n<p>Here is how to resolve the issue.</p>\n<p>Increase the scope of the <em>Scanner</em> object, and place it as a class variable.  So, outside of a method.<br />\nAdditionally, it must be declared as <em>static</em>, since your method is static.</p>\n<p>You can then access it from within the <em>password</em> method, in order to capture a new input value from the user.</p>\n<p>On a final note, the <em>while-loop</em> conditional statement should be checking for an <em>i</em> value lesser-than <em>3</em>, and not equal-to it.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Welcome to Self Taught AI\nCreator Puneet Sharma\nTo Proceed further Please enter your passkey\nabc\nInvalid Passphrase \n Kindly Try Again\nPlease enter your passkey\nabc\nInvalid Passphrase \n Kindly Try Again\nPlease enter your passkey\nabc\nYou have exceeded multiple attempts\n</code></pre>\n<p>Here is the re-factored code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Scanner input = new Scanner(System.in);\n\npublic static void password(String passkey, int i) {\n    while (i &lt; 3) {\n        //Switch can be used too!\n        i++;\n        if (passkey.equals(&quot;TerrorX&quot;)) {\n            System.out.println(&quot;Welcome Master Puneet \\nI am really happy to see you here&quot;);\n            exit(0);\n        } else if (i == 3) {\n            System.out.println(&quot;You have exceeded multiple attempts&quot;);\n        } else if (!passkey.equals(&quot;TerrorX&quot;)) {\n            System.out.println(&quot;Invalid Passphrase \\n Kindly Try Again&quot;);\n            System.out.println(&quot;Please enter your passkey&quot;);\n            passkey = input.next();\n        }\n\n\n    }\n\n}\n\npublic static void main(String[] args) {\n    System.out.println(&quot;Welcome to Self Taught AI&quot;);\n    System.out.println(&quot;Creator Puneet Sharma&quot;);\n    System.out.println(&quot;To Proceed further Please enter your passkey&quot;);\n\n    String passkey1 = input.next();\n    // Taking Commands here\n    password(passkey1,0);\n}\n</code></pre>\n"}],"owner":{"account_id":27288435,"reputation":1,"user_id":20807242,"display_name":"Puneet Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686690538,"creation_date":1686676034,"question_id":76467237,"body_markdown":"I am trying to create a method by which if a wrong passkey is entered, then a loop will run saying invalid passkey and on the 3rd turn it will exit.\r\nbut loop is not working why i am creating it in a method.\r\n\r\n\timport java.util.*;\r\n\r\n\timport static java.lang.System.exit;\r\n\r\n\tpublic class Main {\r\n\r\n\t\tpublic static void password(String passkey, int i) {\r\n\t\t\twhile (i &lt;= 3) {\r\n\t\t\t\t//Switch can be used too!\r\n\t\t\t\ti++;\r\n\t\t\t\tif (passkey.equals(&quot;TerrorX&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Welcome Master Puneet \\nI am really happy to see you here&quot;);\r\n\t\t\t\t\texit(0);\r\n\t\t\t\t} else if (i == 3) {\r\n\t\t\t\t\tSystem.out.println(&quot;You have exceeded multiple attempts&quot;);\r\n\t\t\t\t} else if (!passkey.equals(&quot;TerrorX&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid Passphrase \\n Kindly Try Again&quot;);\r\n\t\t\t\t\texit(0);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(&quot;Welcome to Self Taught AI&quot;);\r\n\t\t\tSystem.out.println(&quot;Creator Puneet Sharma&quot;);\r\n\t\t\tSystem.out.println(&quot;To Proceed further Please enter your passkey&quot;);\r\n\r\n\t\t\tScanner input = new Scanner(System.in);\r\n\t\t\tString passkey1 = input.next();\r\n\t\t\t// Taking Commands here\r\n\t\t\tpassword(passkey1,0);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nI was expecting a loop to run but it not, only while i created it in a method.","title":"why loop is not working in my given method","body":"<p>I am trying to create a method by which if a wrong passkey is entered, then a loop will run saying invalid passkey and on the 3rd turn it will exit.\nbut loop is not working why i am creating it in a method.</p>\n<pre><code>import java.util.*;\n\nimport static java.lang.System.exit;\n\npublic class Main {\n\n    public static void password(String passkey, int i) {\n        while (i &lt;= 3) {\n            //Switch can be used too!\n            i++;\n            if (passkey.equals(&quot;TerrorX&quot;)) {\n                System.out.println(&quot;Welcome Master Puneet \\nI am really happy to see you here&quot;);\n                exit(0);\n            } else if (i == 3) {\n                System.out.println(&quot;You have exceeded multiple attempts&quot;);\n            } else if (!passkey.equals(&quot;TerrorX&quot;)) {\n                System.out.println(&quot;Invalid Passphrase \\n Kindly Try Again&quot;);\n                exit(0);\n            }\n\n\n        }\n\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Welcome to Self Taught AI&quot;);\n        System.out.println(&quot;Creator Puneet Sharma&quot;);\n        System.out.println(&quot;To Proceed further Please enter your passkey&quot;);\n\n        Scanner input = new Scanner(System.in);\n        String passkey1 = input.next();\n        // Taking Commands here\n        password(passkey1,0);\n    }\n}\n</code></pre>\n<p>I was expecting a loop to run but it not, only while i created it in a method.</p>\n"},{"tags":["java","bindy"],"owner":{"account_id":26009715,"reputation":1,"user_id":19718981,"display_name":"Aruna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686690048,"creation_date":1686679466,"question_id":76467597,"body_markdown":"Camel Bindy FixedLengthRecord paddingChar and delimiter not working in DataField.\r\n\r\nExample:\r\n\r\n    @DataField(pos = 1, length = 5, paddingChar = &#39;0&#39;, delimiter = &quot;|&quot;)\r\n\r\nFor fixed length, when I use paddingChar separately its working and delimiter separately its working.\r\nWhen i use both, paddingChar not working. only delimiter working. Is there option to use both?\r\n\r\nthis worked fine:\r\n\r\n    @DataField(pos = 1, length = 5, paddingChar = &#39;0&#39;)\r\n\r\nthis also worked fine:\r\n\r\n    @DataField(pos = 1, length = 5, delimiter = &quot;|&quot;)\r\n\r\n","title":"Camel Bindy FixedLengthRecord paddingChar and delimiter not working in DataField","body":"<p>Camel Bindy FixedLengthRecord paddingChar and delimiter not working in DataField.</p>\n<p>Example:</p>\n<pre><code>@DataField(pos = 1, length = 5, paddingChar = '0', delimiter = &quot;|&quot;)\n</code></pre>\n<p>For fixed length, when I use paddingChar separately its working and delimiter separately its working.\nWhen i use both, paddingChar not working. only delimiter working. Is there option to use both?</p>\n<p>this worked fine:</p>\n<pre><code>@DataField(pos = 1, length = 5, paddingChar = '0')\n</code></pre>\n<p>this also worked fine:</p>\n<pre><code>@DataField(pos = 1, length = 5, delimiter = &quot;|&quot;)\n</code></pre>\n"},{"tags":["java","python-3.x","pyinstaller","executable","tabula-py"],"answers":[{"tags":[],"owner":{"account_id":15042846,"reputation":852,"user_id":10856873,"display_name":"EcSync"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560434153,"creation_date":1560434153,"answer_id":56582124,"question_id":56550410,"body_markdown":"It looks like the tabula module hasn&#39;t been copied to the dist folder of your executable, in my experience this is a common problem with pyinstaller it can often miss packages in the python directory.\r\n\r\nGo to the dist folder and check if the tabula folder is there, if it&#39;s not then you&#39;ll need to copy it over.\r\n\r\nGo to your python directory, it should be somewhere like this:\r\n`C:\\Users\\&lt;user_name&gt;\\AppData\\Local\\Programs\\Python\\Python37-32\\Lib\\site-packages`\r\n\r\nCopy over any packages from here that need to be in the dist folder","title":"Unable to execute my script when converting it to exe","body":"<p>It looks like the tabula module hasn't been copied to the dist folder of your executable, in my experience this is a common problem with pyinstaller it can often miss packages in the python directory.</p>\n\n<p>Go to the dist folder and check if the tabula folder is there, if it's not then you'll need to copy it over.</p>\n\n<p>Go to your python directory, it should be somewhere like this:\n<code>C:\\Users\\&lt;user_name&gt;\\AppData\\Local\\Programs\\Python\\Python37-32\\Lib\\site-packages</code></p>\n\n<p>Copy over any packages from here that need to be in the dist folder</p>\n"},{"tags":[],"owner":{"account_id":11390446,"reputation":76,"user_id":8350710,"display_name":"alleycat10"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1567119058,"creation_date":1567119058,"answer_id":57718558,"question_id":56550410,"body_markdown":"I had a similar problem, and I was able to solve it using the solution at this link: https://stackoverflow.com/questions/50544515/unable-to-access-jarfile-tabula-1-0-2-jar-with-dependencies-jar\r\n\r\nI built my app within a virtual environment, so I added a ```tabula``` folder with the ````tabula-1.0.2-jar-with-dependencies.jar```` file to my ````site-packages```` folder. Running the command ````pyinstaller --add-data apps\\Lib\\site-packages\\tabula\\tabula-1.0.2-jar-with-dependencies.jar;tabula --onefile Table_OCR.py```` builds the executable correctly for me.\r\n","title":"Unable to execute my script when converting it to exe","body":"<p>I had a similar problem, and I was able to solve it using the solution at this link: <a href=\"https://stackoverflow.com/questions/50544515/unable-to-access-jarfile-tabula-1-0-2-jar-with-dependencies-jar\">Unable to access jarfile &#39;tabula-1.0.2-jar-with-dependencies.jar&#39;</a></p>\n\n<p>I built my app within a virtual environment, so I added a <code>tabula</code> folder with the <code>tabula-1.0.2-jar-with-dependencies.jar</code> file to my <code>site-packages</code> folder. Running the command <code>pyinstaller --add-data apps\\Lib\\site-packages\\tabula\\tabula-1.0.2-jar-with-dependencies.jar;tabula --onefile Table_OCR.py</code> builds the executable correctly for me.</p>\n"},{"tags":[],"owner":{"account_id":10433926,"reputation":6726,"user_id":7692859,"display_name":"Anis R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686689583,"creation_date":1686689583,"answer_id":76468639,"question_id":56550410,"body_markdown":"I found [this GitHub post][1] to be helpful.\r\n\r\nEssentially:\r\n\r\n1- Locate the tabula jar file on your system. The path may look something like this:\r\n\r\n    C:\\ProgramData\\Miniconda3\\Lib\\site-packages\\tabula\\tabula-1.0.5-jar-with-dependencies.jar\r\n\r\n2- Use the --add-file option when running pyinstaller:\r\n\r\n    pyinstaller your_file.py --add-data &quot;C:\\ProgramData\\Miniconda3\\Lib\\site-packages\\tabula\\tabula-1.0.5-jar-with-dependencies.jar;tabula&quot;\r\n\r\n(Notice the `;tabula` appended to the path. It is `;tabula` for Windows, `:tabula` for Linux).\r\n\r\n  [1]: https://github.com/chezou/tabula-py/issues/198#issuecomment-1198839621","title":"Unable to execute my script when converting it to exe","body":"<p>I found <a href=\"https://github.com/chezou/tabula-py/issues/198#issuecomment-1198839621\" rel=\"nofollow noreferrer\">this GitHub post</a> to be helpful.</p>\n<p>Essentially:</p>\n<p>1- Locate the tabula jar file on your system. The path may look something like this:</p>\n<pre><code>C:\\ProgramData\\Miniconda3\\Lib\\site-packages\\tabula\\tabula-1.0.5-jar-with-dependencies.jar\n</code></pre>\n<p>2- Use the --add-file option when running pyinstaller:</p>\n<pre><code>pyinstaller your_file.py --add-data &quot;C:\\ProgramData\\Miniconda3\\Lib\\site-packages\\tabula\\tabula-1.0.5-jar-with-dependencies.jar;tabula&quot;\n</code></pre>\n<p>(Notice the <code>;tabula</code> appended to the path. It is <code>;tabula</code> for Windows, <code>:tabula</code> for Linux).</p>\n"}],"owner":{"account_id":12605043,"reputation":121,"user_id":9166295,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57718558,"answer_count":3,"score":3,"last_activity_date":1686689583,"creation_date":1560280575,"question_id":56550410,"body_markdown":"I created a script to extract data from a pdf using tabula-py and PyPDF2. When I run my program through Jupyter-notebook and from the cmd, it works perfectly. After converting it to executable with pyinstaller, I get this error:\r\n\r\n    Error: Unable to access jarfile \r\n    E:\\Users\\paulhong\\AppData\\Local\\Temp\\_MEI175522\\tabula\\tabula-1.0.2-jar-with-dependencies.jar\r\n    Error:\r\n    Traceback (most recent call last):\r\n    File &quot;test.py&quot;, line 115, in &lt;module&gt;\r\n\r\n    File &quot;test.py&quot;, line 32, in extractDataDik\r\n    tempDf = tabula.read_pdf(file, area = (72, 252, 115.2, 352.8), guess=False, pages=&#39;1&#39;)\r\n    File &quot;site-packages\\tabula\\wrapper.py&quot;, line 108, in read_pdf\r\n    File &quot;subprocess.py&quot;, line 395, in check_output\r\n    File &quot;subprocess.py&quot;, line 487, in run\r\n    subprocess.CalledProcessError: Command &#39;[&#39;java&#39;, &#39;-Dfile.encoding=UTF8&#39;, &#39;-jar&#39;, \r\n    &#39;E:\\\\Users\\\\paulhong\\\\AppData\\\\Local\\\\Temp\\\\_MEI175522\\\\tabula\\\\tabula-1.0.2-jar-with-dependencies.jar&#39;, &#39;--pages&#39;, &#39;1&#39;, &#39;--area&#39;, \r\n    &#39;72,252,115.2,352.8&#39;, &#39;E:\\\\Users\\\\paulhong\\\\Desktop\\\\Purchase Order \r\n    2\\\\SKM_C45819060508450 (003).pdf&#39;]&#39; returned non-zero exit status 1. [47140] Failed to execute script test\r\n\r\nI also couldn&#39;t find the folder _MEI175522 on the specified path.\r\n\r\nMy python version is 3.7.1\r\nJava version is 1.8\r\npyinstaller version is 3.4\r\nTabula-py is the latest version\r\n\r\nHow can I fix this issue?","title":"Unable to execute my script when converting it to exe","body":"<p>I created a script to extract data from a pdf using tabula-py and PyPDF2. When I run my program through Jupyter-notebook and from the cmd, it works perfectly. After converting it to executable with pyinstaller, I get this error:</p>\n\n<pre><code>Error: Unable to access jarfile \nE:\\Users\\paulhong\\AppData\\Local\\Temp\\_MEI175522\\tabula\\tabula-1.0.2-jar-with-dependencies.jar\nError:\nTraceback (most recent call last):\nFile \"test.py\", line 115, in &lt;module&gt;\n\nFile \"test.py\", line 32, in extractDataDik\ntempDf = tabula.read_pdf(file, area = (72, 252, 115.2, 352.8), guess=False, pages='1')\nFile \"site-packages\\tabula\\wrapper.py\", line 108, in read_pdf\nFile \"subprocess.py\", line 395, in check_output\nFile \"subprocess.py\", line 487, in run\nsubprocess.CalledProcessError: Command '['java', '-Dfile.encoding=UTF8', '-jar', \n'E:\\\\Users\\\\paulhong\\\\AppData\\\\Local\\\\Temp\\\\_MEI175522\\\\tabula\\\\tabula-1.0.2-jar-with-dependencies.jar', '--pages', '1', '--area', \n'72,252,115.2,352.8', 'E:\\\\Users\\\\paulhong\\\\Desktop\\\\Purchase Order \n2\\\\SKM_C45819060508450 (003).pdf']' returned non-zero exit status 1. [47140] Failed to execute script test\n</code></pre>\n\n<p>I also couldn't find the folder _MEI175522 on the specified path.</p>\n\n<p>My python version is 3.7.1\nJava version is 1.8\npyinstaller version is 3.4\nTabula-py is the latest version</p>\n\n<p>How can I fix this issue?</p>\n"},{"tags":["java","eclipse","jvm","jvm-arguments"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686691899,"post_id":76468606,"comment_id":134833660,"body_markdown":"What is the task doing exactly? Please provide a https://stackoverflow.com/help/minimal-reproducible-example","body":"What is the task doing exactly? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686692183,"post_id":76468606,"comment_id":134833694,"body_markdown":"I can&#39;t explain why that happens but why not simply copy those props from the ini file into build.xml?. Incidentally, key-&gt;value pairs in an ini file are not really the same as system properties as they are taken from a file and generally don&#39;t use the shell","body":"I can&#39;t explain why that happens but why not simply copy those props from the ini file into build.xml?. Incidentally, key-&gt;value pairs in an ini file are not really the same as system properties as they are taken from a file and generally don&#39;t use the shell"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686836054,"post_id":76468606,"comment_id":134856385,"body_markdown":"The purpose of `eclipse.ini` is to configure Eclipse itself, not for providing properties to some other software. Why would anyone even want to make an Ant build dependent on an Eclipse configuration?","body":"The purpose of <code>eclipse.ini</code> is to configure Eclipse itself, not for providing properties to some other software. Why would anyone even want to make an Ant build dependent on an Eclipse configuration?"}],"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686689291,"creation_date":1686689291,"question_id":76468606,"body_markdown":"I have a build.xml containing an ANT task(which is an eclipse plugin) which does import operations. During this import I want to read some system properties which are specified in eclipse.ini. For example -Dmyprop=value.\r\n\r\nWhen I execute build.xml in my local, system properties are accessible and everything works fine. When the build.xml is triggered from Azure pipeline the java system properties are not available to the JVM. No matter where the build.xml is triggered from it always starts the eclipse runtime and uses the same eclipse.ini file but why is the system properties accessible in first case and not the other?","title":"Java System Properties defined in eclipse.ini is not accessible in Java runtime","body":"<p>I have a build.xml containing an ANT task(which is an eclipse plugin) which does import operations. During this import I want to read some system properties which are specified in eclipse.ini. For example -Dmyprop=value.</p>\n<p>When I execute build.xml in my local, system properties are accessible and everything works fine. When the build.xml is triggered from Azure pipeline the java system properties are not available to the JVM. No matter where the build.xml is triggered from it always starts the eclipse runtime and uses the same eclipse.ini file but why is the system properties accessible in first case and not the other?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1686323231,"post_id":76425404,"comment_id":134787613,"body_markdown":"Are you looking for [`assertThrows`](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable))? Given your example, you can use it like `var ex = assertThrows(RetryExhaustedException.class, () -&gt; exampleService.exampleMethod());`.","body":"Are you looking for <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertThrows(java.lang.Class,org.junit.jupiter.api.function.Executable)\" rel=\"nofollow noreferrer\"><code>assertThrows</code></a>? Given your example, you can use it like <code>var ex = assertThrows(RetryExhaustedException.class, () -&gt; exampleService.exampleMethod());</code>."},{"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"score":0,"creation_date":1686568151,"post_id":76425404,"comment_id":134811489,"body_markdown":"It&#39;s good answer but I can&#39;t access RetryExhaustedException (private). The only way is to access it with reflection and I do not know how (if possible).","body":"It&#39;s good answer but I can&#39;t access RetryExhaustedException (private). The only way is to access it with reflection and I do not know how (if possible)."},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1686684192,"post_id":76425404,"comment_id":134832385,"body_markdown":"OK, I see. Check out [this answer](https://stackoverflow.com/a/76468109/3429133).","body":"OK, I see. Check out <a href=\"https://stackoverflow.com/a/76468109/3429133\">this answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686689105,"creation_date":1686684137,"answer_id":76468109,"question_id":76425404,"body_markdown":"Given your example code, I assume you use AssertJ:\r\n\r\n```java\r\n@Test\r\nvoid exampleTest() {\r\n\tstubToForce5xxResponse();\r\n\r\n\tassertThatThrownBy(() -&gt; exampleService.exampleMethod())\r\n\t\t.isInstanceOfSatisfying(IllegalStateException.class, ex -&gt; {\r\n\t\t\tassertThat(ex.getClass().getName()).isEqualTo(&quot;reactor.core.Exceptions$RetryExhaustedException&quot;);\r\n\t\t\tassertThat(ex).hasMessage(&quot;Retries exhausted: 3/3&quot;);\r\n\t\t});\r\n}\r\n```\r\n\r\nIf you want to stick to JUnit Jupiter assertions:\r\n\r\n```java\r\n@Test\r\nvoid exampleTest() {\r\n\tstubToForce5xxResponse();\r\n\r\n\tvar ex = assertThrows(IllegalStateException.class, () -&gt; exampleService.exampleMethod());\r\n\r\n\tassertEquals(&quot;reactor.core.Exceptions$RetryExhaustedException&quot;, ex.getClass().getName());\r\n\tassertEquals(&quot;Retries exhausted: 3/3&quot;, ex.getMessage());\r\n}\r\n```\r\n\r\n(Note that AssertJ is `asserThat(actual).isEqualTo(expected)`, whereas JUnit Jupiter is `assertEquals(expected, actual)`.)","title":"Intercept and assert private exception using junit","body":"<p>Given your example code, I assume you use AssertJ:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid exampleTest() {\n    stubToForce5xxResponse();\n\n    assertThatThrownBy(() -&gt; exampleService.exampleMethod())\n        .isInstanceOfSatisfying(IllegalStateException.class, ex -&gt; {\n            assertThat(ex.getClass().getName()).isEqualTo(&quot;reactor.core.Exceptions$RetryExhaustedException&quot;);\n            assertThat(ex).hasMessage(&quot;Retries exhausted: 3/3&quot;);\n        });\n}\n</code></pre>\n<p>If you want to stick to JUnit Jupiter assertions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid exampleTest() {\n    stubToForce5xxResponse();\n\n    var ex = assertThrows(IllegalStateException.class, () -&gt; exampleService.exampleMethod());\n\n    assertEquals(&quot;reactor.core.Exceptions$RetryExhaustedException&quot;, ex.getClass().getName());\n    assertEquals(&quot;Retries exhausted: 3/3&quot;, ex.getMessage());\n}\n</code></pre>\n<p>(Note that AssertJ is <code>asserThat(actual).isEqualTo(expected)</code>, whereas JUnit Jupiter is <code>assertEquals(expected, actual)</code>.)</p>\n"}],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76468109,"answer_count":1,"score":0,"last_activity_date":1686689105,"creation_date":1686155483,"question_id":76425404,"body_markdown":"There are multiple question similar to mine with a small difference I want to catch private inner exception (if that&#39;s accurate definition), and then assert it. I come up with test below. I&#39;m looking for similar method to one is Spock `thrown()`. Thanks for your help in advance. I do not have much experience with junit, if that&#39;s trivial for you just answer or link page that might help me understand.\r\n\r\nThanks for your help and support! :D\r\n\r\nThe Exception `reactor.core.Exceptions$RetryExhaustedException`\r\n```\r\npublic abstract class Exceptions {\r\n\r\n\tstatic final class RetryExhaustedException extends IllegalStateException {\r\n\r\n\t\tRetryExhaustedException(String message) {\r\n\t\t\tsuper(message);\r\n\t\t}\r\n\r\n\t\tRetryExhaustedException(String message, Throwable cause) {\r\n\t\t\tsuper(message, cause);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nMy test \r\n```\r\n    @Test\r\n    void exampleTest() {\r\n        // given:\r\n        stubToForce5xxResponse();\r\n\r\n        // when:\r\n        var ex = getExceptionThrown(() -&gt; exampleService.exampleMethod());\r\n\r\n        // then:\r\n        Assertions.assertThat(ex).isNotNull();\r\n        Assertions.assertThat(ex.getClass().getName()).isEqualTo(&quot;reactor.core.Exceptions$RetryExhaustedException&quot;);\r\n        Assertions.assertThat(ex.getMessage()).isEqualTo(&quot;Retries exhausted: 3/3&quot;);\r\n    }\r\n\r\n    private Throwable getExceptionThrown(Runnable runnable) {\r\n        try {\r\n            runnable.run();\r\n            return null;\r\n        } catch (Exception ex) {\r\n            return ex;\r\n        }\r\n    }\r\n```","title":"Intercept and assert private exception using junit","body":"<p>There are multiple question similar to mine with a small difference I want to catch private inner exception (if that's accurate definition), and then assert it. I come up with test below. I'm looking for similar method to one is Spock <code>thrown()</code>. Thanks for your help in advance. I do not have much experience with junit, if that's trivial for you just answer or link page that might help me understand.</p>\n<p>Thanks for your help and support! :D</p>\n<p>The Exception <code>reactor.core.Exceptions$RetryExhaustedException</code></p>\n<pre><code>public abstract class Exceptions {\n\n    static final class RetryExhaustedException extends IllegalStateException {\n\n        RetryExhaustedException(String message) {\n            super(message);\n        }\n\n        RetryExhaustedException(String message, Throwable cause) {\n            super(message, cause);\n        }\n    }\n}\n</code></pre>\n<p>My test</p>\n<pre><code>    @Test\n    void exampleTest() {\n        // given:\n        stubToForce5xxResponse();\n\n        // when:\n        var ex = getExceptionThrown(() -&gt; exampleService.exampleMethod());\n\n        // then:\n        Assertions.assertThat(ex).isNotNull();\n        Assertions.assertThat(ex.getClass().getName()).isEqualTo(&quot;reactor.core.Exceptions$RetryExhaustedException&quot;);\n        Assertions.assertThat(ex.getMessage()).isEqualTo(&quot;Retries exhausted: 3/3&quot;);\n    }\n\n    private Throwable getExceptionThrown(Runnable runnable) {\n        try {\n            runnable.run();\n            return null;\n        } catch (Exception ex) {\n            return ex;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":14466713,"reputation":1409,"user_id":10449848,"display_name":"Real Noob"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1677509914,"creation_date":1677509914,"answer_id":75582056,"question_id":75581976,"body_markdown":"I figured it out. The Gradle version has to be changed to 7.6 for it to be compatible with Java 19.0.2.","title":"Your build is currently configured to use Java 19.0.2 and Gradle 7.5","body":"<p>I figured it out. The Gradle version has to be changed to 7.6 for it to be compatible with Java 19.0.2.</p>\n"},{"tags":[],"owner":{"account_id":20947447,"reputation":264,"user_id":15389957,"display_name":"Dilshod Sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681825484,"creation_date":1681825484,"answer_id":76045372,"question_id":75581976,"body_markdown":"In My case I upgraded gradle to 8.1,and its working now","title":"Your build is currently configured to use Java 19.0.2 and Gradle 7.5","body":"<p>In My case I upgraded gradle to 8.1,and its working now</p>\n"},{"tags":[],"owner":{"account_id":2128309,"reputation":6169,"user_id":1889825,"accept_rate":38,"display_name":"Somnath Kadam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682766154,"creation_date":1682766154,"answer_id":76135863,"question_id":75581976,"body_markdown":"For Java 19, need to set gradle version as 7.6 and above.\r\nAlso check below compatibility matrix \r\n\r\nhttps://docs.gradle.org/current/userguide/compatibility.html ","title":"Your build is currently configured to use Java 19.0.2 and Gradle 7.5","body":"<p>For Java 19, need to set gradle version as 7.6 and above.\nAlso check below compatibility matrix</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a></p>\n"}],"owner":{"account_id":14466713,"reputation":1409,"user_id":10449848,"display_name":"Real Noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9319,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75582056,"answer_count":3,"score":5,"last_activity_date":1686689038,"creation_date":1677509436,"question_id":75581976,"body_markdown":"I am getting this error when building my project:\r\n\r\n```\r\nUnsupported Java. \r\nYour build is currently configured to use Java 19.0.2 and Gradle 7.5.\r\n\r\nPossible solution:\r\n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\r\n```\r\n\r\nMy `gradle-wrapper.properties` file looks like this:\r\n\r\n```\r\n#Mon Feb 27 20:08:12 IST 2023\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\r\ndistributionPath=wrapper/dists\r\nzipStorePath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\n```\r\n\r\nSo, the Gradle value is already 7.5. What other change do I need to make here?\r\n\r\nThanks.","title":"Your build is currently configured to use Java 19.0.2 and Gradle 7.5","body":"<p>I am getting this error when building my project:</p>\n<pre><code>Unsupported Java. \nYour build is currently configured to use Java 19.0.2 and Gradle 7.5.\n\nPossible solution:\n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\n</code></pre>\n<p>My <code>gradle-wrapper.properties</code> file looks like this:</p>\n<pre><code>#Mon Feb 27 20:08:12 IST 2023\ndistributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>So, the Gradle value is already 7.5. What other change do I need to make here?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","spring-context"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1686658049,"post_id":76464347,"comment_id":134826482,"body_markdown":"replace `com.example.TopLevelConfiguration` by `com.example. TopLevelAutoConfiguration`","body":"replace <code>com.example.TopLevelConfiguration</code> by <code>com.example. TopLevelAutoConfiguration</code>"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1686688568,"post_id":76464347,"comment_id":134833129,"body_markdown":"@Numichi this was just a typo, fixed","body":"@Numichi this was just a typo, fixed"}],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686688544,"creation_date":1686654911,"question_id":76464347,"body_markdown":"I am trying to create a SB3 library that exports auto-configurations. \r\n\r\nHere is the simplified scenario: \r\n\r\n```\r\n@AutoConfiguration\r\n@ConditionalOnWebApplication\r\n// some other conditions\r\npublic class TopLevelAutoConfiguration {}\r\n\r\n@Configuration\r\n@ConditionalOnBean(DataSource.class)\r\npublic class AdditionalConfiguration {}\r\n```\r\n\r\n*META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports*: \r\n\r\n```\r\ncom.example.TopLevelAutoConfiguration\r\n```\r\n\r\n**Question**: How to import `AdditionalConfiguration` into `TopLevelConfiguration`, so that `@ConditionalOnBean(DataSource.class)` is respected?\r\n\r\nA simple `@Import` does not respect the condition put on top of `AdditionalConfiguration`, and `@ImportAutoConfiguration` does not seem to have any effect. \r\n\r\nAppending `AdditionalConfiguration` to *org.springframework.boot.autoconfigure.AutoConfiguration.imports* works, of course, but I would need to duplicate the conditions from `TopLevelAutoConfiguration` in `AdditionalConfiguration` *in addition to specifying `@ConditionalOnBean`*, which I really don&#39;t like. ","title":"Spring Boot import one autoconfiguration into another","body":"<p>I am trying to create a SB3 library that exports auto-configurations.</p>\n<p>Here is the simplified scenario:</p>\n<pre><code>@AutoConfiguration\n@ConditionalOnWebApplication\n// some other conditions\npublic class TopLevelAutoConfiguration {}\n\n@Configuration\n@ConditionalOnBean(DataSource.class)\npublic class AdditionalConfiguration {}\n</code></pre>\n<p><em>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</em>:</p>\n<pre><code>com.example.TopLevelAutoConfiguration\n</code></pre>\n<p><strong>Question</strong>: How to import <code>AdditionalConfiguration</code> into <code>TopLevelConfiguration</code>, so that <code>@ConditionalOnBean(DataSource.class)</code> is respected?</p>\n<p>A simple <code>@Import</code> does not respect the condition put on top of <code>AdditionalConfiguration</code>, and <code>@ImportAutoConfiguration</code> does not seem to have any effect.</p>\n<p>Appending <code>AdditionalConfiguration</code> to <em>org.springframework.boot.autoconfigure.AutoConfiguration.imports</em> works, of course, but I would need to duplicate the conditions from <code>TopLevelAutoConfiguration</code> in <code>AdditionalConfiguration</code> <em>in addition to specifying <code>@ConditionalOnBean</code></em>, which I really don't like.</p>\n"},{"tags":["java","sorting","java-8","java-stream","comparator"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686687436,"creation_date":1686687436,"answer_id":76468436,"question_id":76468328,"body_markdown":"I do not believe it is possible to use a standard sorting algorithm to solve this issue.  \r\n\r\nI see that you are trying to just make these elements compare as zero to everything else, but the sorting algorithms available in Java make assumptions like transitivity of ordering that won&#39;t just take that and  treat it as &quot;don&#39;t move these elements.&quot;","title":"Custom ordering using Java Comparator - Retain the position for objects with certain value","body":"<p>I do not believe it is possible to use a standard sorting algorithm to solve this issue.</p>\n<p>I see that you are trying to just make these elements compare as zero to everything else, but the sorting algorithms available in Java make assumptions like transitivity of ordering that won't just take that and  treat it as &quot;don't move these elements.&quot;</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686687703,"creation_date":1686687703,"answer_id":76468462,"question_id":76468328,"body_markdown":"There is no solution using a single `Comparator` (or at least I failed to find it so). Here is a working solution requiring two steps:\r\n\r\n1. Sort all the values in the descending (`reversed()`) order **without** the specific value and collect it as a mutable list:\r\n\r\n   ```java\r\n   List&lt;Candidate&gt; sorted = inputCandidates.stream()\r\n\t\t.filter(candidate -&gt; candidate.getValue() != -1.0)\r\n\t\t.sorted(Comparator.comparing(Candidate::getValue).reversed())\r\n\t\t.collect(Collectors.toCollection(ArrayList::new));\r\n   ```\r\n\r\n2. Iterate through the **former** collection and add the candidates **with** the specific value (`-1.0`) to its original index position in the newly sorted list:\r\n\r\n   ```java\r\n   for (int i=0; i&lt;inputCandidates.size(); i++) {\r\n\t\tCandidate candidate = inputCandidates.get(i);\r\n\t\tif (candidate.getValue() == -1.0) {\r\n\t\t\tsorted.add(i, candidate);\r\n\t\t}\r\n\t}\r\n   ```\r\n\r\n_____\r\nExample input:\r\n&gt; ```\r\n&gt; Candidate candidate1 = new Candidate(&quot;id1&quot;,  0.4);\r\n&gt; Candidate candidate2 = new Candidate(&quot;id2&quot;, -1.0); // fixed position\r\n&gt; Candidate candidate3 = new Candidate(&quot;id3&quot;, -1.0); // fixed position\r\n&gt; Candidate candidate4 = new Candidate(&quot;id4&quot;,  0.8); \r\n&gt; Candidate candidate5 = new Candidate(&quot;id5&quot;, -1.0); // fixed position\r\n&gt; Candidate candidate6 = new Candidate(&quot;id6&quot;,  0.5);\r\n&gt; ```\r\nExample output:\r\n```java\r\nsorted.forEach(c -&gt; System.out.println(c.getId() + &quot; : &quot; + c.getValue()));\r\n```\r\n&gt; ```\r\n&gt; id4 : 0.8\r\n&gt; id2 : -1.0  // fixed position    \r\n&gt; id3 : -1.0  // fixed position\r\n&gt; id6 : 0.5 \r\n&gt; id5 : -1.0  // fixed position\r\n&gt; id1 : 0.4\r\n&gt;","title":"Custom ordering using Java Comparator - Retain the position for objects with certain value","body":"<p>There is no solution using a single <code>Comparator</code> (or at least I failed to find it so). Here is a working solution requiring two steps:</p>\n<ol>\n<li><p>Sort all the values in the descending (<code>reversed()</code>) order <strong>without</strong> the specific value and collect it as a mutable list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Candidate&gt; sorted = inputCandidates.stream()\n     .filter(candidate -&gt; candidate.getValue() != -1.0)\n     .sorted(Comparator.comparing(Candidate::getValue).reversed())\n     .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n</li>\n<li><p>Iterate through the <strong>former</strong> collection and add the candidates <strong>with</strong> the specific value (<code>-1.0</code>) to its original index position in the newly sorted list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i=0; i&lt;inputCandidates.size(); i++) {\n     Candidate candidate = inputCandidates.get(i);\n     if (candidate.getValue() == -1.0) {\n         sorted.add(i, candidate);\n     }\n }\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>Example input:</p>\n<blockquote>\n<pre><code>Candidate candidate1 = new Candidate(&quot;id1&quot;,  0.4);\nCandidate candidate2 = new Candidate(&quot;id2&quot;, -1.0); // fixed position\nCandidate candidate3 = new Candidate(&quot;id3&quot;, -1.0); // fixed position\nCandidate candidate4 = new Candidate(&quot;id4&quot;,  0.8); \nCandidate candidate5 = new Candidate(&quot;id5&quot;, -1.0); // fixed position\nCandidate candidate6 = new Candidate(&quot;id6&quot;,  0.5);\n</code></pre>\n</blockquote>\n<p>Example output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sorted.forEach(c -&gt; System.out.println(c.getId() + &quot; : &quot; + c.getValue()));\n</code></pre>\n<blockquote>\n<pre><code>id4 : 0.8\nid2 : -1.0  // fixed position    \nid3 : -1.0  // fixed position\nid6 : 0.5 \nid5 : -1.0  // fixed position\nid1 : 0.4\n\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686688537,"creation_date":1686688537,"answer_id":76468545,"question_id":76468328,"body_markdown":"Great question.\r\n\r\nI don&#39;t believe there is any functionality that allows you to do this.  \r\nFor example, with _[streams](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)_.\r\n\r\nHere is a concept you can use.  \r\n\r\nFirst, identify the indices that you&#39;d like to preserve, and create a _[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html)_ to hold the data.\r\n\r\nUsing the _map_, remove each of the identified values, from the original list.\r\n\r\nSort the list collection, and then add, back in, the identified values.\r\n\r\n```java\r\n/* original content */\r\nList&lt;Character&gt; list = new ArrayList&lt;&gt;(List.of(&#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;));\r\n\r\n/* identified, preserved values */\r\nchar[] values = { &#39;e&#39;, &#39;b&#39; };\r\n\r\n/* map each identified value */\r\nMap&lt;Integer, Character&gt; map = new HashMap&lt;&gt;();\r\nfor (char value : values) map.put(list.indexOf(value), value);\r\n\r\n/* remove identified indices, from list */\r\nfor (int index = list.size() - 1; index &gt;= 0; index--) {\r\n    if (map.containsKey(index)) list.remove(index);\r\n}\r\n\r\n/* sort the list */\r\nCollections.sort(list);\r\n\r\n/* add in the identified values */\r\nfor (Map.Entry&lt;Integer, Character&gt; entry : map.entrySet())\r\n    list.add(entry.getKey(), entry.getValue());\r\n```\r\n\r\nHere is the original list, before sorting.\r\n\r\n```none\r\n[d, e, f, a, b, c]\r\n```\r\n\r\nAnd, here it is after.\r\n\r\n```none\r\n[a, e, c, d, b, f]\r\n```","title":"Custom ordering using Java Comparator - Retain the position for objects with certain value","body":"<p>Great question.</p>\n<p>I don't believe there is any functionality that allows you to do this.<br />\nFor example, with <em><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">streams</a></em>.</p>\n<p>Here is a concept you can use.</p>\n<p>First, identify the indices that you'd like to preserve, and create a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em> to hold the data.</p>\n<p>Using the <em>map</em>, remove each of the identified values, from the original list.</p>\n<p>Sort the list collection, and then add, back in, the identified values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* original content */\nList&lt;Character&gt; list = new ArrayList&lt;&gt;(List.of('d', 'e', 'f', 'a', 'b', 'c'));\n\n/* identified, preserved values */\nchar[] values = { 'e', 'b' };\n\n/* map each identified value */\nMap&lt;Integer, Character&gt; map = new HashMap&lt;&gt;();\nfor (char value : values) map.put(list.indexOf(value), value);\n\n/* remove identified indices, from list */\nfor (int index = list.size() - 1; index &gt;= 0; index--) {\n    if (map.containsKey(index)) list.remove(index);\n}\n\n/* sort the list */\nCollections.sort(list);\n\n/* add in the identified values */\nfor (Map.Entry&lt;Integer, Character&gt; entry : map.entrySet())\n    list.add(entry.getKey(), entry.getValue());\n</code></pre>\n<p>Here is the original list, before sorting.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[d, e, f, a, b, c]\n</code></pre>\n<p>And, here it is after.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[a, e, c, d, b, f]\n</code></pre>\n"}],"owner":{"account_id":12490535,"reputation":115,"user_id":9092223,"display_name":"Prathamesh Mahankal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76468462,"answer_count":3,"score":2,"last_activity_date":1686688537,"creation_date":1686686477,"question_id":76468328,"body_markdown":"I am trying to implement a custom comparator that sorts a list of objects in descending order, but while doing so, it ignores when the object has a specific value (-1 in my case). Thus, the objects with that value retain their original position, but all the objects around them will be sorted in descending order. For example, if the list is :\r\n\r\n    Candidate candidate1 = new Candidate(&quot;id1&quot;,  0.4);\r\n    Candidate candidate2 = new Candidate(&quot;id2&quot;, -1.0);\r\n    Candidate candidate3 = new Candidate(&quot;id3&quot;, 0.8);\r\n    List&lt;Candidate&gt; inputCandidates = ImmutableList.of(candidate1, candidate2, candidate3)\r\n\r\nThe resulting order should be \r\n\r\n    [\r\n        Candidate(super=Candidate(id=id3), value=0.8), \r\n        Candidate(super=Candidate(id=id2), value=-1.0), \r\n        Candidate(super=Candidate(id=id1), value=0.4)\r\n    ]\r\n\r\nCurrently, I am trying something like this:\r\n\r\n    public final Comparator&lt;Candidate&gt; customComparator() {\r\n        return (Candidate one, Candidate two) -&gt; {\r\n            double scoreOne =  one.getValue() != null ? one.getValue() : 0d;\r\n            double scoreTwo =  two.getValue() != null ? two.getValue() : 0d;\r\n            if (scoreOne == scoreTwo) return 0;\r\n            if (scoreOne == -1.0d) return 1;\r\n            if (scoreTwo == -1.0d) return -1;\r\n            return Double.compare(scoreTwo, scoreOne);\r\n        };\r\n    }\r\n\r\nHowever, this instead gives me:\r\n\r\n    [\r\n        Candidate(super=Candidate(id=id3), value=0.8), \r\n        Candidate(super=Candidate(id=id1), value=0.4), \r\n        Candidate(super=Candidate(id=id2), value=-1.0)\r\n    ]\r\n\r\nCould someone please help me figure out where I am going wrong?","title":"Custom ordering using Java Comparator - Retain the position for objects with certain value","body":"<p>I am trying to implement a custom comparator that sorts a list of objects in descending order, but while doing so, it ignores when the object has a specific value (-1 in my case). Thus, the objects with that value retain their original position, but all the objects around them will be sorted in descending order. For example, if the list is :</p>\n<pre><code>Candidate candidate1 = new Candidate(&quot;id1&quot;,  0.4);\nCandidate candidate2 = new Candidate(&quot;id2&quot;, -1.0);\nCandidate candidate3 = new Candidate(&quot;id3&quot;, 0.8);\nList&lt;Candidate&gt; inputCandidates = ImmutableList.of(candidate1, candidate2, candidate3)\n</code></pre>\n<p>The resulting order should be</p>\n<pre><code>[\n    Candidate(super=Candidate(id=id3), value=0.8), \n    Candidate(super=Candidate(id=id2), value=-1.0), \n    Candidate(super=Candidate(id=id1), value=0.4)\n]\n</code></pre>\n<p>Currently, I am trying something like this:</p>\n<pre><code>public final Comparator&lt;Candidate&gt; customComparator() {\n    return (Candidate one, Candidate two) -&gt; {\n        double scoreOne =  one.getValue() != null ? one.getValue() : 0d;\n        double scoreTwo =  two.getValue() != null ? two.getValue() : 0d;\n        if (scoreOne == scoreTwo) return 0;\n        if (scoreOne == -1.0d) return 1;\n        if (scoreTwo == -1.0d) return -1;\n        return Double.compare(scoreTwo, scoreOne);\n    };\n}\n</code></pre>\n<p>However, this instead gives me:</p>\n<pre><code>[\n    Candidate(super=Candidate(id=id3), value=0.8), \n    Candidate(super=Candidate(id=id1), value=0.4), \n    Candidate(super=Candidate(id=id2), value=-1.0)\n]\n</code></pre>\n<p>Could someone please help me figure out where I am going wrong?</p>\n"},{"tags":["java","list","lambda","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1686251399,"post_id":76434888,"comment_id":134777179,"body_markdown":"It might be possible, but it&#39;ll be much simpler and probably just as efficient to just do two streams.  Your code as written is what I would write every time.","body":"It might be possible, but it&#39;ll be much simpler and probably just as efficient to just do two streams.  Your code as written is what I would write every time."}],"answers":[{"tags":[],"owner":{"account_id":3593904,"reputation":129,"user_id":2999226,"display_name":"user2999226"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686254154,"creation_date":1686253827,"answer_id":76435267,"question_id":76434888,"body_markdown":"I would use two streams or rewrite it as a loop.\r\n\r\nHowever, if you really want to use a (and one) stream, here is what you could do (but **not recommended**, in my opinion **streams should not have side effects**).\r\n```java\r\nvar count = new AtomicInteger(0);\r\n\r\nvar filteredClasses = myClasses.stream()\r\n    .peek(clazz-&gt; {\r\n        if (!clazz.isX() &amp;&amp; clazz.isZ()) {\r\n            count.incrementAndGet();\r\n        }\r\n    })\r\n    .filter(clazz -&gt; class.isX() &amp;&amp; clazz.isY())\r\n    .toList();\r\n```\r\nBut this would probably take longer to execute and has more compelexity than the solution you already have.","title":"Filtering list of Objects on condition while counting on different condition","body":"<p>I would use two streams or rewrite it as a loop.</p>\n<p>However, if you really want to use a (and one) stream, here is what you could do (but <strong>not recommended</strong>, in my opinion <strong>streams should not have side effects</strong>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>var count = new AtomicInteger(0);\n\nvar filteredClasses = myClasses.stream()\n    .peek(clazz-&gt; {\n        if (!clazz.isX() &amp;&amp; clazz.isZ()) {\n            count.incrementAndGet();\n        }\n    })\n    .filter(clazz -&gt; class.isX() &amp;&amp; clazz.isY())\n    .toList();\n</code></pre>\n<p>But this would probably take longer to execute and has more compelexity than the solution you already have.</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686688526,"creation_date":1686688526,"answer_id":76468540,"question_id":76434888,"body_markdown":"&gt; Is it possible to do it inside one stream without having to loop though my list twice?\r\n\r\nYes, use the for-cycle where you perform all the operations required at once. Then you will not need to loop through the list twice or more...\r\n\r\n```java\r\nmyClasses.forEach(myClass -&gt; {\r\n\tif (myClass.isX()) {\r\n\t\tif (myClass.isY()) {\r\n\t\t\tfilteredClasses.add(myClass);   // x &amp;&amp; y\r\n\t\t}\r\n\t} else {\r\n\t\tif (myClass.isZ()) {\r\n\t\t\tisNotXandZCounter++;            // !x &amp;&amp; z\r\n\t\t}\r\n\t}\r\n});\r\n```\r\n\r\n____\r\n\r\nBy the way, none of your lambda expressions are compilable.\r\n\r\nWrong:\r\n- `MyClass::isX() &amp;&amp; MyClass::isY()`\r\n- `!MyClass::isX() &amp;&amp; MyClass::isZ()`\r\n\r\nCorrect:\r\n- `myClass -&gt; myClass.isX() &amp;&amp; myClass.isY()`\r\n- `myClass -&gt; !myClass.isX() &amp;&amp; myClass.isZ()`\r\n\r\nAnd collecting into a list is done via `.collect(Collectors.toList())` and not `.Collectors.toList()`.","title":"Filtering list of Objects on condition while counting on different condition","body":"<blockquote>\n<p>Is it possible to do it inside one stream without having to loop though my list twice?</p>\n</blockquote>\n<p>Yes, use the for-cycle where you perform all the operations required at once. Then you will not need to loop through the list twice or more...</p>\n<pre class=\"lang-java prettyprint-override\"><code>myClasses.forEach(myClass -&gt; {\n    if (myClass.isX()) {\n        if (myClass.isY()) {\n            filteredClasses.add(myClass);   // x &amp;&amp; y\n        }\n    } else {\n        if (myClass.isZ()) {\n            isNotXandZCounter++;            // !x &amp;&amp; z\n        }\n    }\n});\n</code></pre>\n<hr />\n<p>By the way, none of your lambda expressions are compilable.</p>\n<p>Wrong:</p>\n<ul>\n<li><code>MyClass::isX() &amp;&amp; MyClass::isY()</code></li>\n<li><code>!MyClass::isX() &amp;&amp; MyClass::isZ()</code></li>\n</ul>\n<p>Correct:</p>\n<ul>\n<li><code>myClass -&gt; myClass.isX() &amp;&amp; myClass.isY()</code></li>\n<li><code>myClass -&gt; !myClass.isX() &amp;&amp; myClass.isZ()</code></li>\n</ul>\n<p>And collecting into a list is done via <code>.collect(Collectors.toList())</code> and not <code>.Collectors.toList()</code>.</p>\n"}],"owner":{"account_id":18704506,"reputation":21,"user_id":13635986,"display_name":"artificialdeathinthewest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686688526,"creation_date":1686250185,"question_id":76434888,"body_markdown":"Let&#39;s say I have a list of Objects that I would like to filter on condition (x &amp;&amp; y) but I&#39;d also want to count the occurences of a different condition while it&#39;s streaming, let&#39;s say (!x and z), I don&#39;t want to filter on this last condition I just want to count the occurences of it for whatever reason.\r\n\r\nIs it possible to do it inside one stream without having to loop though my list twice?\r\n\r\nBecause at the moment I&#39;d have to do something like this:\r\n\r\n        List&lt;MyClass&gt; myClasses = ... //initialization of list of MyClass\r\n\r\n        //filtering the objects that I need\r\n        List&lt;MyClass&gt; filteredClasses = myClasses.stream().filter(MyClass::isX() &amp;&amp; MyClass::isY()).Collectors.toList();\r\n\r\n        //counting to store in a variable\r\n        int isNotXandZCounter = myClasses.stream().filter(!MyClass::isX() &amp;&amp; MyClass::isZ()).count();\r\n\r\n ","title":"Filtering list of Objects on condition while counting on different condition","body":"<p>Let's say I have a list of Objects that I would like to filter on condition (x &amp;&amp; y) but I'd also want to count the occurences of a different condition while it's streaming, let's say (!x and z), I don't want to filter on this last condition I just want to count the occurences of it for whatever reason.</p>\n<p>Is it possible to do it inside one stream without having to loop though my list twice?</p>\n<p>Because at the moment I'd have to do something like this:</p>\n<pre><code>    List&lt;MyClass&gt; myClasses = ... //initialization of list of MyClass\n\n    //filtering the objects that I need\n    List&lt;MyClass&gt; filteredClasses = myClasses.stream().filter(MyClass::isX() &amp;&amp; MyClass::isY()).Collectors.toList();\n\n    //counting to store in a variable\n    int isNotXandZCounter = myClasses.stream().filter(!MyClass::isX() &amp;&amp; MyClass::isZ()).count();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686602562,"creation_date":1686602562,"answer_id":76460199,"question_id":76460087,"body_markdown":"You are getting error because the query is returning multiple rows.\r\n\r\nSo to fix this, you can create a list of Map instead of passing the Map.\r\n\r\n    @Query(&quot;SELECT u.id AS id, u.name AS name FROM User u WHERE u.role = :role&quot;)\r\n    List&lt;Map&lt;String, Object&gt;&gt; findIdAndNameByRole(String role);\r\n\r\n\r\nAnd for iterating this list of map, you can create a method like below:\r\n\r\n    public Map&lt;Long, String&gt; getIdAndNameMapByRole(String role) {\r\n        List&lt;Map&lt;String, Object&gt;&gt; resultList = userRepository.findIdAndNameByRole(role);\r\n        Map&lt;Long, String&gt; idAndNameMap = new HashMap&lt;&gt;();\r\n    \r\n        \r\n        for (Map&lt;String, Object&gt; result : resultList) {\r\n            Long id = (Long) result.get(&quot;id&quot;);\r\n            String name = (String) result.get(&quot;name&quot;);\r\n            idAndNameMap.put(id, name);\r\n        }\r\n    \r\n        return idAndNameMap;\r\n    }\r\n\r\n","title":"Return Map&lt;Long, String&gt; directly from CrudRepository","body":"<p>You are getting error because the query is returning multiple rows.</p>\n<p>So to fix this, you can create a list of Map instead of passing the Map.</p>\n<pre><code>@Query(&quot;SELECT u.id AS id, u.name AS name FROM User u WHERE u.role = :role&quot;)\nList&lt;Map&lt;String, Object&gt;&gt; findIdAndNameByRole(String role);\n</code></pre>\n<p>And for iterating this list of map, you can create a method like below:</p>\n<pre><code>public Map&lt;Long, String&gt; getIdAndNameMapByRole(String role) {\n    List&lt;Map&lt;String, Object&gt;&gt; resultList = userRepository.findIdAndNameByRole(role);\n    Map&lt;Long, String&gt; idAndNameMap = new HashMap&lt;&gt;();\n\n    \n    for (Map&lt;String, Object&gt; result : resultList) {\n        Long id = (Long) result.get(&quot;id&quot;);\n        String name = (String) result.get(&quot;name&quot;);\n        idAndNameMap.put(id, name);\n    }\n\n    return idAndNameMap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686688166,"creation_date":1686668569,"answer_id":76466283,"question_id":76460087,"body_markdown":"According to the [documentation][1] repository methods basically only can single primitive values, a single objects of the repository type (`User` in your case) or various collections of it.\r\n\r\nYou will have to use a conversion method of some type in any case. Can you elaborate why you can&#39;t use any &quot;projections or other conversions&quot;? It&#39;s generally good practice for your business logic classes not to access repositories directly anyway, but use an intermediate service class that do exactly such conversions, since it&#39;s not an uncommon scenario.\r\n\r\nThe only alternative I can think of is to use a `default` method in the repository interface that does the conversion, but that may not work.\r\n\r\nExample:\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n        // Normal repository method. No @Query needed.\r\n        Stream&lt;User&gt; findByRole(String role);\r\n\r\n        default Map&lt;Long, String&gt; findIdAndNameByRole(String role) {\r\n             return findByRole(role).collect(toMap(User::getId, User::getName));\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-return-types\r\n","title":"Return Map&lt;Long, String&gt; directly from CrudRepository","body":"<p>According to the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-return-types\" rel=\"nofollow noreferrer\">documentation</a> repository methods basically only can single primitive values, a single objects of the repository type (<code>User</code> in your case) or various collections of it.</p>\n<p>You will have to use a conversion method of some type in any case. Can you elaborate why you can't use any &quot;projections or other conversions&quot;? It's generally good practice for your business logic classes not to access repositories directly anyway, but use an intermediate service class that do exactly such conversions, since it's not an uncommon scenario.</p>\n<p>The only alternative I can think of is to use a <code>default</code> method in the repository interface that does the conversion, but that may not work.</p>\n<p>Example:</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n    // Normal repository method. No @Query needed.\n    Stream&lt;User&gt; findByRole(String role);\n\n    default Map&lt;Long, String&gt; findIdAndNameByRole(String role) {\n         return findByRole(role).collect(toMap(User::getId, User::getName));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76466283,"answer_count":2,"score":1,"last_activity_date":1686688166,"creation_date":1686601478,"question_id":76460087,"body_markdown":"Say I have a table `users` with columns `id`, `role`, `name` etc.\r\n\r\nThere&#39;s `UserRepository` defined as:\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n        ...\r\n    }\r\n\r\nI need to return all ids and names of users with role=&#39;ADMIN&#39; as `Map&lt;Long, String&gt;` e.g.:\r\n\r\n    @Query(&quot;SELECT u.id, u.name FROM User u WHERE u.role = :role&quot;)\r\n    Map&lt;Long, String&gt; findIdAndNameByRole(String role);\r\n\r\nBut this call returns an error:\r\n\r\n&gt; javax.persistence.NonUniqueResultException: query did not return a unique result\r\n\r\nQuestion: how (if possible at all) to map the response from CrudRepository **directly** to Map&lt;Long, String&gt; **without** using projections or other conversions? Perhaps using `nativeQuery=true` somehow?\r\n","title":"Return Map&lt;Long, String&gt; directly from CrudRepository","body":"<p>Say I have a table <code>users</code> with columns <code>id</code>, <code>role</code>, <code>name</code> etc.</p>\n<p>There's <code>UserRepository</code> defined as:</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n    ...\n}\n</code></pre>\n<p>I need to return all ids and names of users with role='ADMIN' as <code>Map&lt;Long, String&gt;</code> e.g.:</p>\n<pre><code>@Query(&quot;SELECT u.id, u.name FROM User u WHERE u.role = :role&quot;)\nMap&lt;Long, String&gt; findIdAndNameByRole(String role);\n</code></pre>\n<p>But this call returns an error:</p>\n<blockquote>\n<p>javax.persistence.NonUniqueResultException: query did not return a unique result</p>\n</blockquote>\n<p>Question: how (if possible at all) to map the response from CrudRepository <strong>directly</strong> to Map&lt;Long, String&gt; <strong>without</strong> using projections or other conversions? Perhaps using <code>nativeQuery=true</code> somehow?</p>\n"},{"tags":["java","spring","spring-boot","cglib"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686635351,"post_id":76460642,"comment_id":134822008,"body_markdown":"Is this **really** your dao or is there something else on there like `@Transactional` or some other aspect in your library that leads to proxy creation? Something triggers the need for a proxy which won&#39;t work with a `final` method.","body":"Is this <b>really</b> your dao or is there something else on there like <code>@Transactional</code> or some other aspect in your library that leads to proxy creation? Something triggers the need for a proxy which won&#39;t work with a <code>final</code> method."},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1686680324,"post_id":76460642,"comment_id":134831667,"body_markdown":"I forgot to add the `@Repository`, good catch. Edited the question.","body":"I forgot to add the <code>@Repository</code>, good catch. Edited the question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686680397,"post_id":76460642,"comment_id":134831684,"body_markdown":"`@Repository` will lead to proxy creation, as that is needed to intercept the methods and do the exception translation.","body":"<code>@Repository</code> will lead to proxy creation, as that is needed to intercept the methods and do the exception translation."},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1686688038,"post_id":76460642,"comment_id":134833053,"body_markdown":"I&#39;m aware, but I&#39;m hoping there was a way to disable CGLIB as the `@Configuration` seems to have a way to do so.\n\nIs there a better pattern I should consider if there&#39;s no work around in that case?","body":"I&#39;m aware, but I&#39;m hoping there was a way to disable CGLIB as the <code>@Configuration</code> seems to have a way to do so.  Is there a better pattern I should consider if there&#39;s no work around in that case?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686723172,"post_id":76460642,"comment_id":134836360,"body_markdown":"No there isn&#39;t, you need a proxy as there are no interfaces on this class this will automatically be a cglib proxy. There is no way around that. `@Configuration` classes are processed differently as regular components.","body":"No there isn&#39;t, you need a proxy as there are no interfaces on this class this will automatically be a cglib proxy. There is no way around that. <code>@Configuration</code> classes are processed differently as regular components."}],"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686688115,"creation_date":1686608108,"question_id":76460642,"body_markdown":"I have a pretty simple use-case in spring boot (currently 2.7, we do have plans to upgrade down the line) around a DAO:\r\n\r\n```java\r\n@Repository\r\npublic class Dao {\r\n\r\n   private final DbMapper mapper;\r\n\r\n    @Autowired\r\n    public Dao(DbMapper mapper) {\r\n        this.mapper = mapper;\r\n    }\r\n\r\n   @SafeVarargs\r\n   public final Flux&lt;Dto&gt; getAll(Consumer&lt;Dto&gt;... filters) {\r\n      return Flux.fromIterable(LibraryQueryBuilder. builder()\r\n              .filters(filters)\r\n              .build()\r\n              .execute(mapper)\r\n              .getAll());\r\n   }\r\n}\r\n```\r\n\r\nThis is perfectly valid java, but during runtime I see that mapper is null. During my investigation, I ran into: https://stackoverflow.com/questions/44386068/spring-accessing-field-from-final-method-returning-null which lead me to https://stackoverflow.com/questions/55853108/spring-boot-2-forces-cglib-proxy-even-with-proxytargetclass-false and [GitHub Issue 12194](https://github.com/spring-projects/spring-boot/issues/12194) which were both disappointing responses in the context of this issue.\r\n\r\nConsidering `@SafeVarargs` is a Java core language feature to stop compiler warnings and requires the method to be final, and I don&#39;t want to see warnings all over my usage code when I&#39;m using the varags safely is there any way to get `@SafeVarargs` to play nice with spring boot?","title":"Using @SafeVarags in a spring boot @Autowired class","body":"<p>I have a pretty simple use-case in spring boot (currently 2.7, we do have plans to upgrade down the line) around a DAO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class Dao {\n\n   private final DbMapper mapper;\n\n    @Autowired\n    public Dao(DbMapper mapper) {\n        this.mapper = mapper;\n    }\n\n   @SafeVarargs\n   public final Flux&lt;Dto&gt; getAll(Consumer&lt;Dto&gt;... filters) {\n      return Flux.fromIterable(LibraryQueryBuilder. builder()\n              .filters(filters)\n              .build()\n              .execute(mapper)\n              .getAll());\n   }\n}\n</code></pre>\n<p>This is perfectly valid java, but during runtime I see that mapper is null. During my investigation, I ran into: <a href=\"https://stackoverflow.com/questions/44386068/spring-accessing-field-from-final-method-returning-null\">Spring: Accessing field from final method returning null</a> which lead me to <a href=\"https://stackoverflow.com/questions/55853108/spring-boot-2-forces-cglib-proxy-even-with-proxytargetclass-false\">Spring-Boot 2+ forces CGLIB proxy even with proxyTargetClass = false</a> and <a href=\"https://github.com/spring-projects/spring-boot/issues/12194\" rel=\"nofollow noreferrer\">GitHub Issue 12194</a> which were both disappointing responses in the context of this issue.</p>\n<p>Considering <code>@SafeVarargs</code> is a Java core language feature to stop compiler warnings and requires the method to be final, and I don't want to see warnings all over my usage code when I'm using the varags safely is there any way to get <code>@SafeVarargs</code> to play nice with spring boot?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1686686863,"post_id":76467890,"comment_id":134832849,"body_markdown":"Consider adding `@EntityScan` to a Configuration class, in it include the package that contains your BaseEntity as well as the package that contains your application entities.   Something like this, `@EntityScan(basePackages = {&quot;com.myapp.entities&quot;, &quot;com.mysharedlibrary.sharedentities&quot;})`","body":"Consider adding <code>@EntityScan</code> to a Configuration class, in it include the package that contains your BaseEntity as well as the package that contains your application entities.   Something like this, <code>@EntityScan(basePackages = {&quot;com.myapp.entities&quot;, &quot;com.mysharedlibrary.sharedentities&quot;})</code>"},{"owner":{"account_id":19921098,"reputation":1,"user_id":14596931,"display_name":"javanator"},"score":0,"creation_date":1686687879,"post_id":76467890,"comment_id":134833033,"body_markdown":"Still the same problem, additionally I noticed that no field is added to the child class - I manually added @Id to &#39;Test&#39; class - application started but created table consist only of two columns: &#39;id&#39; and &#39;a&#39; - both columns: &#39;modified&#39; and &#39;created&#39; are missing.","body":"Still the same problem, additionally I noticed that no field is added to the child class - I manually added @Id to &#39;Test&#39; class - application started but created table consist only of two columns: &#39;id&#39; and &#39;a&#39; - both columns: &#39;modified&#39; and &#39;created&#39; are missing."}],"owner":{"account_id":19921098,"reputation":1,"user_id":14596931,"display_name":"javanator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686688073,"creation_date":1686682028,"question_id":76467890,"body_markdown":"I would like to create a library that includes all the basic operations and models that I can use in other applications. Therefore, I created a JAR library in which I added a class called **BaseEntity**, which is intended to be the base class for other classes. I built the JAR and added it to another project using Maven. I created a class **Test** that extends BaseEntity, but unfortunately, the @Id annotation was not inherited from the base class. \r\n\r\nIn IntelliJ, an error is displayed: &quot;Persistent entity &#39;Test&#39; should have a primary key.&quot; \r\n\r\nWhen I run the application, I receive an error: &quot;Entity &#39;Test&#39; has no identifier (every &#39;@Entity&#39; class must declare or inherit at least one &#39;@Id&#39; or &#39;@EmbeddedId&#39; property)&quot;\r\n\r\n\r\nBaseEntity:\r\n```\r\n@MappedSuperclass\r\npublic class BaseEntity {\r\n    @Id\r\n    @GeneratedValue\r\n    protected UUID id;\r\n    @LastModifiedDate\r\n    protected LocalDateTime modified;\r\n    @CreatedDate\r\n    protected LocalDateTime created;\r\n    //getters, setters\r\n}\r\n```\r\n\r\n\r\nTest:\r\n```\r\n@Entity\r\npublic class Test extends BaseEntity {\r\n    private String a;\r\n    //getters, setters\r\n}\r\n```\r\n\r\nThe problem only occurs when BaseEntity is in an another JAR, if I create BaseEntity in the same project application works fine.\r\n\r\nHow to make it work?\r\n\r\n\\\\Update:\r\nI noticed that no field is added to the child class - I manually added @Id to &#39;Test&#39; class - application started but created table consist only of two columns: &#39;id&#39; and &#39;a&#39; - both columns: &#39;modified&#39; and &#39;created&#39; are missing.\r\n","title":"Unable to inherit @Id from @MappedSuperclass from another JAR","body":"<p>I would like to create a library that includes all the basic operations and models that I can use in other applications. Therefore, I created a JAR library in which I added a class called <strong>BaseEntity</strong>, which is intended to be the base class for other classes. I built the JAR and added it to another project using Maven. I created a class <strong>Test</strong> that extends BaseEntity, but unfortunately, the @Id annotation was not inherited from the base class.</p>\n<p>In IntelliJ, an error is displayed: &quot;Persistent entity 'Test' should have a primary key.&quot;</p>\n<p>When I run the application, I receive an error: &quot;Entity 'Test' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)&quot;</p>\n<p>BaseEntity:</p>\n<pre><code>@MappedSuperclass\npublic class BaseEntity {\n    @Id\n    @GeneratedValue\n    protected UUID id;\n    @LastModifiedDate\n    protected LocalDateTime modified;\n    @CreatedDate\n    protected LocalDateTime created;\n    //getters, setters\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>@Entity\npublic class Test extends BaseEntity {\n    private String a;\n    //getters, setters\n}\n</code></pre>\n<p>The problem only occurs when BaseEntity is in an another JAR, if I create BaseEntity in the same project application works fine.</p>\n<p>How to make it work?</p>\n<p>\\Update:\nI noticed that no field is added to the child class - I manually added @Id to 'Test' class - application started but created table consist only of two columns: 'id' and 'a' - both columns: 'modified' and 'created' are missing.</p>\n"},{"tags":["java","spring","spring-boot","autowired"],"answers":[{"tags":[],"owner":{"account_id":6814970,"reputation":1416,"user_id":5243983,"display_name":"Felix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686687014,"creation_date":1686687014,"answer_id":76468404,"question_id":76468371,"body_markdown":"`Print` should also be an `@Component`.","title":"@Autowired function don&#39;t work with @SpringBootApplication","body":"<p><code>Print</code> should also be an <code>@Component</code>.</p>\n"},{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686687935,"creation_date":1686687935,"answer_id":76468484,"question_id":76468371,"body_markdown":"At this point\r\n\r\n    Print print = new Print();\r\n\r\nThe Spring framework is not aware at all of the object creation and it won&#39;t inject anything, anywhere in the object tree.\r\n\r\nIf you want to use Spring DI at this point `main()`, then `run()` gives back a Spring context:\r\n\r\n    ApplicationContext ctx = SpringApplication.run(DbApplication.class, args);\r\n    Print print = ctx.getBean(Print.class);\r\n\r\n","title":"@Autowired function don&#39;t work with @SpringBootApplication","body":"<p>At this point</p>\n<pre><code>Print print = new Print();\n</code></pre>\n<p>The Spring framework is not aware at all of the object creation and it won't inject anything, anywhere in the object tree.</p>\n<p>If you want to use Spring DI at this point <code>main()</code>, then <code>run()</code> gives back a Spring context:</p>\n<pre><code>ApplicationContext ctx = SpringApplication.run(DbApplication.class, args);\nPrint print = ctx.getBean(Print.class);\n</code></pre>\n"}],"owner":{"account_id":28807295,"reputation":1,"user_id":22062872,"display_name":"overloewner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686723506,"answer_count":2,"score":0,"last_activity_date":1686687935,"creation_date":1686686690,"question_id":76468371,"body_markdown":"I&#39;m a beginner\r\nwhen I used the usual config and context everything was fine.\r\nhow to fix it with @SpringBootApplication\r\n\r\nHere is the code of the simplest program:\r\n\r\n\r\n```\r\npackage com.example;\r\n\r\nimport com.example.domain.Print;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DbApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(DbApplication.class, args);\r\n    Print print = new Print();\r\n    print.testSayHello();\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.domain;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class Test {\r\n    public void sayHello(){\r\n        System.out.println(&quot;Hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage com.example.domain;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\npublic class Print {\r\n\r\n    @Autowired\r\n    public Test test;\r\n\r\n    public void testSayHello(){\r\n        test.sayHello();\r\n    }\r\n}\r\n```\r\n\r\nreturns the following Exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.example.domain.Test.sayHello()&quot; because &quot;this.test&quot; is null\r\n  at com.example.domain.Print.testSayHello(Print.java:11)\r\n  at com.example.DbApplication.main(DbApplication.java:14)\r\n```\r\n\r\nI tried to replace everything with the usual сontext and config, everything worked, but now I need @SpringBootApplication, help pls","title":"@Autowired function don&#39;t work with @SpringBootApplication","body":"<p>I'm a beginner\nwhen I used the usual config and context everything was fine.\nhow to fix it with @SpringBootApplication</p>\n<p>Here is the code of the simplest program:</p>\n<pre><code>package com.example;\n\nimport com.example.domain.Print;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DbApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(DbApplication.class, args);\n    Print print = new Print();\n    print.testSayHello();\n  }\n}\n</code></pre>\n<pre><code>package com.example.domain;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Test {\n    public void sayHello(){\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<pre><code>package com.example.domain;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class Print {\n\n    @Autowired\n    public Test test;\n\n    public void testSayHello(){\n        test.sayHello();\n    }\n}\n</code></pre>\n<p>returns the following Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.example.domain.Test.sayHello()&quot; because &quot;this.test&quot; is null\n  at com.example.domain.Print.testSayHello(Print.java:11)\n  at com.example.DbApplication.main(DbApplication.java:14)\n</code></pre>\n<p>I tried to replace everything with the usual сontext and config, everything worked, but now I need @SpringBootApplication, help pls</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1686689514,"post_id":76468470,"comment_id":134833309,"body_markdown":"did you try  `org.hibernate.dialect.MySQL8Dialect` ?","body":"did you try  <code>org.hibernate.dialect.MySQL8Dialect</code> ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686724413,"post_id":76468470,"comment_id":134836606,"body_markdown":"It has nothing to do with versions etc. you simply cannot connect to the database. Make sure it is active and accesible. Also is this at startup or after some time of running your application?","body":"It has nothing to do with versions etc. you simply cannot connect to the database. Make sure it is active and accesible. Also is this at startup or after some time of running your application?"},{"owner":{"account_id":7916297,"reputation":1632,"user_id":5978625,"display_name":"DevAnuragGarg"},"score":0,"creation_date":1687184127,"post_id":76468470,"comment_id":134897479,"body_markdown":"Got the solution, running the latest version of mysql with spring is not working. I just downgraded the spring version and it worked. Voila..!!! I wasted 2 days on this..","body":"Got the solution, running the latest version of mysql with spring is not working. I just downgraded the spring version and it worked. Voila..!!! I wasted 2 days on this.."}],"owner":{"account_id":7916297,"reputation":1632,"user_id":5978625,"display_name":"DevAnuragGarg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686687781,"creation_date":1686687781,"question_id":76468470,"body_markdown":"I am trying to connect to mysql server, but unable to. There is some weird error coming up. Logs are present as below\r\n\r\n```\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\ncurrency_exchange  | 2023-06-13T20:06:18.957Z DEBUG 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Cannot acquire connection from data source\r\ncurrency_exchange  |\r\ncurrency_exchange  | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\ncurrency_exchange  |\r\ncurrency_exchange  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\ncurrency_exchange  |    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\r\n```\r\n\r\nI am using the latest version of Spring boot 3.1.0, mysql connector of 8.0.32 in pom.xml, mysql as 8.0, and below is the configuration for application.yaml\r\n```\r\n  database configuration\r\n  datasource:\r\n    url: jdbc:mysql://mysqldb-service:3306/currency_exchange_db?autoReconnect=true&amp;useSSL=false\r\n    username: root\r\n    password: root\r\n    driverClassName: com.mysql.cj.jdbc.Driver\r\n\r\n  # jpa configuration\r\n  jpa:\r\n    show-sql: true\r\n    generate-ddl: true\r\n    hibernate.ddl-auto: update\r\n    database-platform: org.hibernate.dialect.MySQLDialect \r\n```\r\n\r\nI know issue is with the versions of these, which versions would work perfect, please let me know. Stuck from 2 days.","title":"Version for mysql connector, Dialect and mysql server version are not being compatible for mysql 8.0 version","body":"<p>I am trying to connect to mysql server, but unable to. There is some weird error coming up. Logs are present as below</p>\n<pre><code>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\ncurrency_exchange  | 2023-06-13T20:06:18.957Z DEBUG 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Cannot acquire connection from data source\ncurrency_exchange  |\ncurrency_exchange  | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\ncurrency_exchange  |\ncurrency_exchange  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\ncurrency_exchange  |    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.32.jar!/:8.0.32]\n</code></pre>\n<p>I am using the latest version of Spring boot 3.1.0, mysql connector of 8.0.32 in pom.xml, mysql as 8.0, and below is the configuration for application.yaml</p>\n<pre><code>  database configuration\n  datasource:\n    url: jdbc:mysql://mysqldb-service:3306/currency_exchange_db?autoReconnect=true&amp;useSSL=false\n    username: root\n    password: root\n    driverClassName: com.mysql.cj.jdbc.Driver\n\n  # jpa configuration\n  jpa:\n    show-sql: true\n    generate-ddl: true\n    hibernate.ddl-auto: update\n    database-platform: org.hibernate.dialect.MySQLDialect \n</code></pre>\n<p>I know issue is with the versions of these, which versions would work perfect, please let me know. Stuck from 2 days.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":18,"creation_date":1516958437,"post_id":48458528,"comment_id":83909804,"body_markdown":"Don&#39;t call your class `String` .","body":"Don&#39;t call your class <code>String</code> ."},{"owner":{"account_id":5156654,"reputation":10601,"user_id":4129726,"display_name":"Sergii Lagutin"},"score":2,"creation_date":1516958477,"post_id":48458528,"comment_id":83909825,"body_markdown":"rename your `public class String` to something else","body":"rename your <code>public class String</code> to something else"}],"answers":[{"tags":[],"owner":{"account_id":7007079,"reputation":12271,"user_id":5375403,"display_name":"Jiri Tousek"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1535356380,"creation_date":1516958507,"answer_id":48458546,"question_id":48458528,"body_markdown":"Since your class is named `String`, unqualified type reference in `String city` is taken as reference to your own class.\r\n\r\nEither rename the class to some other name, or you&#39;ll have to write `java.lang.String` wherever you reference the &quot;built-in&quot; Java `String` class.","title":"error: incompatible types: java.lang.String cannot be converted to String","body":"<p>Since your class is named <code>String</code>, unqualified type reference in <code>String city</code> is taken as reference to your own class.</p>\n\n<p>Either rename the class to some other name, or you'll have to write <code>java.lang.String</code> wherever you reference the \"built-in\" Java <code>String</code> class.</p>\n"},{"tags":[],"owner":{"account_id":426601,"reputation":961,"user_id":807890,"display_name":"Anton Tupy"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1535389522,"creation_date":1516959458,"answer_id":48458744,"question_id":48458528,"body_markdown":"It is conflict between system class java.lang.String and your class named String. Rename your class String to say MyString, i.e. replace line:\r\n\r\n    public class String\r\n\r\nwith\r\n\r\n    public class MyString\r\n\r\nAnd rename file String.java containing this class to MyString.java.","title":"error: incompatible types: java.lang.String cannot be converted to String","body":"<p>It is conflict between system class java.lang.String and your class named String. Rename your class String to say MyString, i.e. replace line:</p>\n\n<pre><code>public class String\n</code></pre>\n\n<p>with</p>\n\n<pre><code>public class MyString\n</code></pre>\n\n<p>And rename file String.java containing this class to MyString.java.</p>\n"},{"tags":[],"owner":{"account_id":18534248,"reputation":1,"user_id":13504307,"display_name":"Shubham kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679659113,"creation_date":1679659113,"answer_id":75833372,"question_id":48458528,"body_markdown":"write one statement java.lang.String.*;\r\nimport java.lang.String; your problem will be solved","title":"error: incompatible types: java.lang.String cannot be converted to String","body":"<p>write one statement java.lang.String.*;\nimport java.lang.String; your problem will be solved</p>\n"},{"tags":[],"owner":{"account_id":12523194,"reputation":1,"user_id":9113901,"display_name":"Vijay Krishnamoorthy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1686686793,"creation_date":1686686793,"answer_id":76468379,"question_id":48458528,"body_markdown":"String is a reserved key word in Java, Please refer to the reserved keywords in java [Java Reserved Keywords][1].\r\n\r\nRenaming the class to something other than these keywords would be the solution to your problem. Or you can follow the import statement solution above.\r\n\r\nBTW, Please use a good IDE to develop java programs, it seems that your IDE is not showing or linting basic rules.\r\n\r\n\r\n  [1]: https://www.javatpoint.com/java-keywords#:~:text=A%20list%20of%20Java%20keywords%20or%20reserved%20words,that%20can%20hold%208-bit%20data%20values.%20More%20items","title":"error: incompatible types: java.lang.String cannot be converted to String","body":"<p>String is a reserved key word in Java, Please refer to the reserved keywords in java <a href=\"https://www.javatpoint.com/java-keywords#:%7E:text=A%20list%20of%20Java%20keywords%20or%20reserved%20words,that%20can%20hold%208-bit%20data%20values.%20More%20items\" rel=\"nofollow noreferrer\">Java Reserved Keywords</a>.</p>\n<p>Renaming the class to something other than these keywords would be the solution to your problem. Or you can follow the import statement solution above.</p>\n<p>BTW, Please use a good IDE to develop java programs, it seems that your IDE is not showing or linting basic rules.</p>\n"}],"owner":{"display_name":"user9271508"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23616,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":4,"score":0,"last_activity_date":1686686793,"creation_date":1516958397,"question_id":48458528,"body_markdown":"I&#39;m taking a Java class for college, and was working on some given tasks. This is the code I wrote for it.\r\n\r\n    public class String\r\n    {\r\n     public static void main(String[] args)\r\n     {\r\n      String city = &quot;San Francisco&quot;;\r\n      int stringLength = city.length();\r\n      char oneChar = city.charAt(0);\r\n      String upperCity = city.toUpperCase();\r\n      String lowerCity = city.toLowerCase();\r\n  \r\n      System.out.println(city);\r\n      System.out.println(stringLength);\r\n      System.out.println(oneChar);\r\n      System.out.println(upperCity);\r\n      System.out.println();\r\n      }\r\n     }\r\n\r\nwhich yielded these results\r\n\r\n    C:\\Users\\sam\\Documents\\Java&gt;javac String.java\r\n    String.java:8: error: incompatible types: java.lang.String cannot be \r\n    converted to String\r\n              String city = &quot;San Franciso&quot;;\r\n                            ^\r\n    String.java:9: error: cannot find symbol\r\n                int stringLength = city.length();\r\n                                       ^\r\n    symbol:   method length()\r\n    location: variable city of type String\r\n    String.java:10: error: cannot find symbol\r\n                char oneChar = city.charAt(0);\r\n                                   ^\r\n    symbol:   method charAt(int)\r\n    location: variable city of type String\r\n    String.java:11: error: cannot find symbol\r\n                String upperCity = city.toUpperCase();\r\n                                       ^\r\n    symbol:   method toUpperCase()\r\n    location: variable city of type String\r\n    String.java:12: error: cannot find symbol\r\n                String lowerCity = city.toLowerCase();\r\n                                       ^\r\n    symbol:   method toLowerCase()\r\n    location: variable city of type String\r\n    5 errors\r\n\r\nI&#39;ve tried searching for an answer but I didn&#39;t really find anything that helps. Any help is appreciated, thanks.","title":"error: incompatible types: java.lang.String cannot be converted to String","body":"<p>I'm taking a Java class for college, and was working on some given tasks. This is the code I wrote for it.</p>\n\n<pre><code>public class String\n{\n public static void main(String[] args)\n {\n  String city = \"San Francisco\";\n  int stringLength = city.length();\n  char oneChar = city.charAt(0);\n  String upperCity = city.toUpperCase();\n  String lowerCity = city.toLowerCase();\n\n  System.out.println(city);\n  System.out.println(stringLength);\n  System.out.println(oneChar);\n  System.out.println(upperCity);\n  System.out.println();\n  }\n }\n</code></pre>\n\n<p>which yielded these results</p>\n\n<pre><code>C:\\Users\\sam\\Documents\\Java&gt;javac String.java\nString.java:8: error: incompatible types: java.lang.String cannot be \nconverted to String\n          String city = \"San Franciso\";\n                        ^\nString.java:9: error: cannot find symbol\n            int stringLength = city.length();\n                                   ^\nsymbol:   method length()\nlocation: variable city of type String\nString.java:10: error: cannot find symbol\n            char oneChar = city.charAt(0);\n                               ^\nsymbol:   method charAt(int)\nlocation: variable city of type String\nString.java:11: error: cannot find symbol\n            String upperCity = city.toUpperCase();\n                                   ^\nsymbol:   method toUpperCase()\nlocation: variable city of type String\nString.java:12: error: cannot find symbol\n            String lowerCity = city.toLowerCase();\n                                   ^\nsymbol:   method toLowerCase()\nlocation: variable city of type String\n5 errors\n</code></pre>\n\n<p>I've tried searching for an answer but I didn't really find anything that helps. Any help is appreciated, thanks.</p>\n"},{"tags":["java","performance","directory-walk"],"comments":[{"owner":{"account_id":369,"reputation":47061,"user_id":462,"display_name":"Greg Case"},"score":0,"creation_date":1228868434,"post_id":354703,"comment_id":186644,"body_markdown":"What&#39;s your target architecture?  Do you need to maintain cross-platform execution?","body":"What&#39;s your target architecture?  Do you need to maintain cross-platform execution?"},{"owner":{"account_id":5807,"reputation":392461,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"score":8,"creation_date":1389222762,"post_id":354703,"comment_id":31575006,"body_markdown":"I realize that this is a very old question, but for anyone using the latest JDK7, this functionality is now available via the [`Files.newDirectoryStream()`](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#newDirectoryStream%28java.nio.file.Path%29) API in the `java.nio.file` package.","body":"I realize that this is a very old question, but for anyone using the latest JDK7, this functionality is now available via the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#newDirectoryStream%28java.nio.file.Path%29\" rel=\"nofollow noreferrer\"><code>Files.newDirectoryStream()</code></a> API in the <code>java.nio.file</code> package."},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1571258695,"post_id":354703,"comment_id":103185076,"body_markdown":"On a side note, we were able to speed up performance dramatically by using subdirectories extensively to limit the number of files/directories in any one single directory. Made certain file operations like file checking and writing much much faster but certain things like `du` and `rm -rf` did take longer. It&#39;s a trade off, depending on what is more important for your use case.","body":"On a side note, we were able to speed up performance dramatically by using subdirectories extensively to limit the number of files/directories in any one single directory. Made certain file operations like file checking and writing much much faster but certain things like <code>du</code> and <code>rm -rf</code> did take longer. It&#39;s a trade off, depending on what is more important for your use case."}],"answers":[{"tags":[],"owner":{"account_id":8101,"reputation":5979,"user_id":14388,"display_name":"grepsedawk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1228868563,"creation_date":1228868563,"answer_id":354721,"question_id":354703,"body_markdown":"A non-portable solution would be to make native calls to the operating system and stream the results.\n\n**For Linux**\n\n  You can look at something like &lt;a href=&quot;http://linux.die.net/man/3/readdir&quot;&gt;readdir&lt;/a&gt;. You can walk the directory structure like a linked list and return results in batches or individually.\n\n**For Windows**\n\n  In windows the behavior would be fairly similar using &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/aa364418(VS.85).aspx&quot;&gt;FindFirstFile&lt;/a&gt; and &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/aa364428(VS.85).aspx&quot;&gt;FindNextFile&lt;/a&gt; apis.","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>A non-portable solution would be to make native calls to the operating system and stream the results.</p>\n<p><strong>For Linux</strong></p>\n<p>You can look at something like <a href=\"http://linux.die.net/man/3/readdir\" rel=\"nofollow noreferrer\">readdir</a>. You can walk the directory structure like a linked list and return results in batches or individually.</p>\n<p><strong>For Windows</strong></p>\n<p>In windows the behavior would be fairly similar using <a href=\"http://msdn.microsoft.com/en-us/library/aa364418(VS.85).aspx\" rel=\"nofollow noreferrer\">FindFirstFile</a> and <a href=\"http://msdn.microsoft.com/en-us/library/aa364428(VS.85).aspx\" rel=\"nofollow noreferrer\">FindNextFile</a> apis.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1228869402,"creation_date":1228869402,"answer_id":354743,"question_id":354703,"body_markdown":"An alternative is to have the files served over a different protocol. As I understand you&#39;re using SMB for that and java is just trying to list them as a regular file.\r\n\r\n\r\nThe problem here might not be java alone ( how does it behaves when you open that directory with Microsoft Explorer  x:\\shared )  In my experience it also take a considerably amount of time.\r\n\r\n\r\n\r\nYou can change the protocol to something like HTTP, only to fetch the file names. This way you can retrieve the list of files over http ( 10k lines should&#39;t be too much ) and let the server deal with file listing. This would be very fast, since it will run with local resources ( those in the server ) \r\n\r\n\r\nThen when you have the list, you can process them one by exactly the way you&#39;re doing right now.\r\n\r\n\r\nThe keypoint is to have an aid mechanism in the other side of the node.\r\n\r\n\r\nIs this feasible?\r\n\r\nToday:\r\n\r\n    File [] content = new File(&quot;X:\\\\remote\\\\dir&quot;).listFiles();\r\n\r\n    for ( File f : content ) {\r\n        process( f );\r\n    }\r\n  \r\nProposed:\r\n\r\n    String [] content = fetchViaHttpTheListNameOf(&quot;x:\\\\remote\\\\dir&quot;);\r\n\r\n    for ( String fileName : content ) {\r\n        process( new File( fileName ) );\r\n    }\r\n\r\nThe http server could be a very small small and simple file.\r\n\r\nIf this is the way you have it right now, what you&#39;re doing is to fetch all the 10k files information to your client machine ( I don&#39;t know how much of that info ) when you only need the file name for later processing. \r\n\r\nIf the processing is very fast right now it may be slowed down a bit. This is because the information prefetched is no longer available.\r\n\r\nGive it a try.\r\n\r\n\r\n","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>An alternative is to have the files served over a different protocol. As I understand you're using SMB for that and java is just trying to list them as a regular file.</p>\n\n<p>The problem here might not be java alone ( how does it behaves when you open that directory with Microsoft Explorer  x:\\shared )  In my experience it also take a considerably amount of time.</p>\n\n<p>You can change the protocol to something like HTTP, only to fetch the file names. This way you can retrieve the list of files over http ( 10k lines should't be too much ) and let the server deal with file listing. This would be very fast, since it will run with local resources ( those in the server ) </p>\n\n<p>Then when you have the list, you can process them one by exactly the way you're doing right now.</p>\n\n<p>The keypoint is to have an aid mechanism in the other side of the node.</p>\n\n<p>Is this feasible?</p>\n\n<p>Today:</p>\n\n<pre><code>File [] content = new File(\"X:\\\\remote\\\\dir\").listFiles();\n\nfor ( File f : content ) {\n    process( f );\n}\n</code></pre>\n\n<p>Proposed:</p>\n\n<pre><code>String [] content = fetchViaHttpTheListNameOf(\"x:\\\\remote\\\\dir\");\n\nfor ( String fileName : content ) {\n    process( new File( fileName ) );\n}\n</code></pre>\n\n<p>The http server could be a very small small and simple file.</p>\n\n<p>If this is the way you have it right now, what you're doing is to fetch all the 10k files information to your client machine ( I don't know how much of that info ) when you only need the file name for later processing. </p>\n\n<p>If the processing is very fast right now it may be slowed down a bit. This is because the information prefetched is no longer available.</p>\n\n<p>Give it a try.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1389219845,"creation_date":1228870637,"answer_id":354779,"question_id":354703,"body_markdown":"Although it&#39;s not pretty, I solved this kind of problem once by piping the output of dir/ls to a file before starting my app, and passing in the filename.\r\n\r\nIf you needed to do it within the app, you could just use system.exec(), but it would create some nastiness.\r\n\r\nYou asked.  The first form is going to be blazingly fast, the second should be pretty fast as well.\r\n\r\nBe sure to do the one item per line (bare, no decoration, no graphics), full path and recurse options of your selected command.\r\n\r\nEDIT: \r\n\r\n30 minutes just to get a directory listing, wow.\r\n\r\nIt just struck me that if you use exec(), you can get it&#39;s stdout redirected into a pipe instead of writing it to a file.\r\n\r\nIf you did that, you should start getting the files immediately and be able to begin processing before the command has completed.\r\n\r\nThe interaction may actually slow things down, but maybe not--you might give it a try.\r\n\r\nWow, I just went to find the syntax of the .exec command for you and came across this, possibly exactly what you want (it lists a directory using exec and &quot;ls&quot; and pipes the result into your program for processing):  [good link in wayback][2] (J&#246;rg provided in a comment to replace [this one][1] from sun that Oracle broke)\r\n\r\nAnyway, the idea is straightforward but getting the code right is annoying. I&#39;ll go steal some codes from the internets and hack them up--brb\r\n\r\n&lt;pre&gt;\r\n\r\n/**\r\n * Note: Only use this as a last resort!  It&#39;s specific to windows and even\r\n * at that it&#39;s not a good solution, but it should be fast.\r\n * \r\n * to use it, extend FileProcessor and call processFiles(&quot;...&quot;) with a list\r\n * of options if you want them like /s... I highly recommend /b\r\n * \r\n * override processFile and it will be called once for each line of output.\r\n */\r\nimport java.io.*;\r\n \r\npublic abstract class FileProcessor\r\n{\r\n   public void processFiles(String dirOptions)\r\n   {\r\n      Process theProcess = null;\r\n      BufferedReader inStream = null;\r\n \r\n      // call the Hello class\r\n      try\r\n      {\r\n          theProcess = Runtime.getRuntime().exec(&quot;cmd /c dir &quot; + dirOptions);\r\n      }\r\n      catch(IOException e)\r\n      {\r\n         System.err.println(&quot;Error on exec() method&quot;);\r\n         e.printStackTrace();  \r\n      }\r\n        \r\n      // read from the called program&#39;s standard output stream\r\n      try\r\n      {\r\n         inStream = new BufferedReader(\r\n                                new InputStreamReader( theProcess.getInputStream() ));  \r\n         processFile(inStream.readLine());\r\n      }\r\n      catch(IOException e)\r\n      {\r\n         System.err.println(&quot;Error on inStream.readLine()&quot;);\r\n         e.printStackTrace();  \r\n      }\r\n \r\n   } // end method\r\n   /** Override this method--it will be called once for each file */\r\n   public abstract void processFile(String filename);\r\n   \r\n\r\n} // end class\r\n&lt;/pre&gt;\r\n\r\nAnd thank you code donor at [IBM][3]\r\n\r\n\r\n  [1]: http://java.sun.com/developer/JDCTechTips/2003/tt0304.html &quot;this broken link here&quot;\r\n  [2]: http://web.archive.org/web/20080912133319/http://java.sun.com/developer/JDCTechTips/2003/tt0304.html\r\n  [3]: http://publib.boulder.ibm.com/infocenter/iseries/v5r3/index.jsp?topic=/rzaha/jvlngex1.htm &quot;IBM&quot;","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>Although it's not pretty, I solved this kind of problem once by piping the output of dir/ls to a file before starting my app, and passing in the filename.</p>\n\n<p>If you needed to do it within the app, you could just use system.exec(), but it would create some nastiness.</p>\n\n<p>You asked.  The first form is going to be blazingly fast, the second should be pretty fast as well.</p>\n\n<p>Be sure to do the one item per line (bare, no decoration, no graphics), full path and recurse options of your selected command.</p>\n\n<p>EDIT: </p>\n\n<p>30 minutes just to get a directory listing, wow.</p>\n\n<p>It just struck me that if you use exec(), you can get it's stdout redirected into a pipe instead of writing it to a file.</p>\n\n<p>If you did that, you should start getting the files immediately and be able to begin processing before the command has completed.</p>\n\n<p>The interaction may actually slow things down, but maybe not--you might give it a try.</p>\n\n<p>Wow, I just went to find the syntax of the .exec command for you and came across this, possibly exactly what you want (it lists a directory using exec and \"ls\" and pipes the result into your program for processing):  <a href=\"http://web.archive.org/web/20080912133319/http://java.sun.com/developer/JDCTechTips/2003/tt0304.html\" rel=\"nofollow noreferrer\">good link in wayback</a> (Jörg provided in a comment to replace <a href=\"http://java.sun.com/developer/JDCTechTips/2003/tt0304.html\" rel=\"nofollow noreferrer\" title=\"this broken link here\">this one</a> from sun that Oracle broke)</p>\n\n<p>Anyway, the idea is straightforward but getting the code right is annoying. I'll go steal some codes from the internets and hack them up--brb</p>\n\n<pre>\n\n/**\n * Note: Only use this as a last resort!  It's specific to windows and even\n * at that it's not a good solution, but it should be fast.\n * \n * to use it, extend FileProcessor and call processFiles(\"...\") with a list\n * of options if you want them like /s... I highly recommend /b\n * \n * override processFile and it will be called once for each line of output.\n */\nimport java.io.*;\n\npublic abstract class FileProcessor\n{\n   public void processFiles(String dirOptions)\n   {\n      Process theProcess = null;\n      BufferedReader inStream = null;\n\n      // call the Hello class\n      try\n      {\n          theProcess = Runtime.getRuntime().exec(\"cmd /c dir \" + dirOptions);\n      }\n      catch(IOException e)\n      {\n         System.err.println(\"Error on exec() method\");\n         e.printStackTrace();  \n      }\n\n      // read from the called program's standard output stream\n      try\n      {\n         inStream = new BufferedReader(\n                                new InputStreamReader( theProcess.getInputStream() ));  \n         processFile(inStream.readLine());\n      }\n      catch(IOException e)\n      {\n         System.err.println(\"Error on inStream.readLine()\");\n         e.printStackTrace();  \n      }\n\n   } // end method\n   /** Override this method--it will be called once for each file */\n   public abstract void processFile(String filename);\n\n\n} // end class\n</pre>\n\n<p>And thank you code donor at <a href=\"http://publib.boulder.ibm.com/infocenter/iseries/v5r3/index.jsp?topic=/rzaha/jvlngex1.htm\" rel=\"nofollow noreferrer\" title=\"IBM\">IBM</a></p>\n"},{"tags":[],"owner":{"account_id":13068,"reputation":2596,"user_id":26056,"accept_rate":0,"display_name":"kohlerm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1228898975,"creation_date":1228898975,"answer_id":355448,"question_id":354703,"body_markdown":"I doubt the problem is relate to the bug report you referenced. \r\nThe issue there is &quot;only&quot; memory usage, but not necessarily speed. \r\nIf you have enough memory the bug is not relevant for your problem. \r\n\r\nYou should measure whether your problem is memory related or not. Turn on your Garbage Collector log and use for example [gcviewer][1] to analyze your memory usage.\r\n\r\n\r\nI suspect that it has to do with the SMB protocol causing the problem. \r\nYou can try to write a test in another language and see if it&#39;s faster, or you can try to get the list of filenames through some other method, such as described here in another post. \r\n \r\n\r\n\r\n  [1]: http://www.tagtraum.com/gcviewer.html ","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>I doubt the problem is relate to the bug report you referenced. \nThe issue there is \"only\" memory usage, but not necessarily speed. \nIf you have enough memory the bug is not relevant for your problem. </p>\n\n<p>You should measure whether your problem is memory related or not. Turn on your Garbage Collector log and use for example <a href=\"http://www.tagtraum.com/gcviewer.html\" rel=\"nofollow noreferrer\">gcviewer</a> to analyze your memory usage.</p>\n\n<p>I suspect that it has to do with the SMB protocol causing the problem. \nYou can try to write a test in another language and see if it's faster, or you can try to get the list of filenames through some other method, such as described here in another post. </p>\n"},{"tags":[],"owner":{"account_id":15137,"reputation":7882,"user_id":1356709,"accept_rate":53,"display_name":"user2427"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1228943444,"creation_date":1228911496,"answer_id":355867,"question_id":354703,"body_markdown":"I wonder why there are 10k files in a directory. Some file systems do not work well with so many files. There are specifics limitations for file systems like max amount of files per directory and max amount of levels of subdirectory.\r\n\r\nI solve a similar problem with an iterator solution.  \r\n\r\nI needed to walk across huge directorys and several levels of directory tree recursively.\r\n\r\nI try FileUtils.iterateFiles() of Apache commons io. But it implement the iterator by adding all the files in a List and then returning List.iterator(). It&#39;s very bad for memory.\r\n\r\nSo I prefer to write something like this:\r\n\r\n    private static class SequentialIterator implements Iterator&lt;File&gt; {\r\n    \tprivate DirectoryStack dir = null;\r\n    \tprivate File current = null;\r\n    \tprivate long limit;\r\n    \tprivate FileFilter filter = null;\r\n    \r\n    \tpublic SequentialIterator(String path, long limit, FileFilter ff) {\r\n    \t\tcurrent = new File(path);\r\n    \t\tthis.limit = limit;\r\n    \t\tfilter = ff;\r\n    \t\tdir = DirectoryStack.getNewStack(current);\r\n    \t}\r\n    \r\n    \tpublic boolean hasNext() {\r\n    \t\twhile(walkOver());\r\n    \t\treturn isMore &amp;&amp; (limit &gt; count || limit &lt; 0) &amp;&amp; dir.getCurrent() != null;\r\n    \t}\r\n    \r\n    \tprivate long count = 0;\r\n    \r\n    \tpublic File next() {\r\n    \t\tFile aux = dir.getCurrent();\r\n    \t\tdir.advancePostition();\r\n    \t\tcount++;\r\n    \t\treturn aux;\r\n    \t}\r\n    \r\n    \tprivate boolean walkOver() {\r\n    \t\tif (dir.isOutOfDirListRange()) {\r\n    \t\t\tif (dir.isCantGoParent()) {\r\n    \t\t\t\tisMore = false;\r\n    \t\t\t\treturn false;\r\n    \t\t\t} else {\r\n    \t\t\t\tdir.goToParent();\r\n    \t\t\t\tdir.advancePostition();\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tif (dir.isCurrentDirectory()) {\r\n    \t\t\t\tif (dir.isDirectoryEmpty()) {\r\n    \t\t\t\t\tdir.advancePostition();\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tdir.goIntoDir();\r\n    \t\t\t\t}\r\n    \t\t\t\treturn true;\r\n    \t\t\t} else {\r\n    \t\t\t\tif (filter.accept(dir.getCurrent())) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tdir.advancePostition();\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate boolean isMore = true;\r\n    \r\n    \tpublic void remove() {\r\n    \t\tthrow new UnsupportedOperationException();\r\n    \t}\r\n    \r\n    }\r\n\r\nNote that the iterator stop by an amount of files iterateds and it has a FileFilter also.\r\n\r\nAnd DirectoryStack is:\r\n\r\n    public class DirectoryStack {\r\n    \tprivate class Element{\r\n    \t\tprivate File files[] = null;\r\n    \t\tprivate int currentPointer;\r\n    \t\tpublic Element(File current) {\r\n    \t\t\tcurrentPointer = 0;\r\n    \t\t\tif (current.exists()) {\r\n    \t\t\t\tif(current.isDirectory()){\r\n    \t\t\t\t\tfiles = current.listFiles();\r\n    \t\t\t\t\tSet&lt;File&gt; set = new TreeSet&lt;File&gt;();\r\n    \t\t\t\t\tfor (int i = 0; i &lt; files.length; i++) {\r\n    \t\t\t\t\t\tFile file = files[i];\r\n    \t\t\t\t\t\tset.add(file);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tset.toArray(files);\r\n    \t\t\t\t}else{\r\n    \t\t\t\t\tthrow new IllegalArgumentException(&quot;File current must be directory&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new IllegalArgumentException(&quot;File current not exist&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tpublic String toString(){\r\n    \t\t\treturn &quot;current=&quot;+getCurrent().toString();\r\n    \t\t}\r\n    \t\tpublic int getCurrentPointer() {\r\n    \t\t\treturn currentPointer;\r\n    \t\t}\r\n    \t\tpublic void setCurrentPointer(int currentPointer) {\r\n    \t\t\tthis.currentPointer = currentPointer;\r\n    \t\t}\r\n    \t\tpublic File[] getFiles() {\r\n    \t\t\treturn files;\r\n    \t\t}\r\n    \t\tpublic File getCurrent(){\r\n    \t\t\tFile ret = null;\r\n    \t\t\ttry{\r\n    \t\t\t\tret = getFiles()[getCurrentPointer()];\r\n    \t\t\t}catch (Exception e){\r\n    \t\t\t}\r\n    \t\t\treturn ret;\r\n    \t\t}\r\n    \t\tpublic boolean isDirectoryEmpty(){\r\n    \t\t\treturn !(getFiles().length&gt;0);\r\n    \t\t}\r\n    \t\tpublic Element advancePointer(){\r\n    \t\t\tsetCurrentPointer(getCurrentPointer()+1);\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \t}\r\n    \tprivate DirectoryStack(File first){\r\n    \t\tgetStack().push(new Element(first));\r\n    \t}\r\n    \tpublic static DirectoryStack getNewStack(File first){\r\n    \t\treturn new DirectoryStack(first);\r\n    \t}\r\n    \tpublic String toString(){\r\n    \t\tString ret = &quot;stack:\\n&quot;;\r\n    \t\tint i = 0;\r\n    \t\tfor (Element elem : stack) {\r\n    \t\t\tret += &quot;nivel &quot; + i++ + elem.toString()+&quot;\\n&quot;;\r\n    \t\t}\r\n    \t\treturn ret;\r\n    \t}\r\n    \tprivate Stack&lt;Element&gt; stack=null;\r\n    \tprivate Stack&lt;Element&gt; getStack(){\r\n    \t\tif(stack==null){\r\n    \t\t\tstack = new Stack&lt;Element&gt;();\r\n    \t\t}\r\n    \t\treturn stack;\r\n    \t}\r\n    \tpublic File getCurrent(){\r\n    \t\treturn getStack().peek().getCurrent();\r\n    \t}\r\n    \tpublic boolean isDirectoryEmpty(){\r\n    \t\treturn getStack().peek().isDirectoryEmpty();\r\n    \t}\r\n    \tpublic DirectoryStack downLevel(){\r\n    \t\tgetStack().pop();\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic DirectoryStack goToParent(){\r\n    \t\treturn downLevel();\r\n    \t}\r\n    \tpublic DirectoryStack goIntoDir(){\r\n    \t\treturn upLevel();\r\n    \t}\r\n    \tpublic DirectoryStack upLevel(){\r\n    \t\tif(isCurrentNotNull())\r\n    \t\t\tgetStack().push(new Element(getCurrent()));\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic DirectoryStack advancePostition(){\r\n    \t\tgetStack().peek().advancePointer();\r\n    \t\treturn this;\r\n    \t}\r\n    \tpublic File[] peekDirectory(){\r\n    \t\treturn getStack().peek().getFiles();\r\n    \t}\r\n    \tpublic boolean isLastFileOfDirectory(){\r\n    \t\treturn getStack().peek().getFiles().length &lt;= getStack().peek().getCurrentPointer();\r\n    \t}\r\n    \tpublic boolean gotMoreLevels() {\r\n    \t\treturn getStack().size()&gt;0;\r\n    \t}\r\n    \tpublic boolean gotMoreInCurrentLevel() {\r\n    \t\treturn getStack().peek().getFiles().length &gt; getStack().peek().getCurrentPointer()+1;\r\n    \t}\r\n    \tpublic boolean isRoot() {\r\n    \t\treturn !(getStack().size()&gt;1);\r\n    \t}\r\n    \tpublic boolean isCurrentNotNull() {\r\n    \t\tif(!getStack().isEmpty()){\r\n    \t\t\tint currentPointer = getStack().peek().getCurrentPointer();\r\n    \t\t\tint maxFiles = getStack().peek().getFiles().length;\r\n    \t\t\treturn currentPointer &lt; maxFiles;\r\n    \t\t}else{\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \tpublic boolean isCurrentDirectory() {\r\n    \t\treturn getStack().peek().getCurrent().isDirectory();\r\n    \t}\r\n    \tpublic boolean isLastFromDirList() {\r\n    \t\treturn getStack().peek().getCurrentPointer() == (getStack().peek().getFiles().length-1);\r\n    \t}\r\n    \tpublic boolean isCantGoParent() {\r\n    \t\treturn !(getStack().size()&gt;1);\r\n    \t}\r\n    \tpublic boolean isOutOfDirListRange() {\r\n    \t\treturn getStack().peek().getFiles().length &lt;= getStack().peek().getCurrentPointer();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>I wonder why there are 10k files in a directory. Some file systems do not work well with so many files. There are specifics limitations for file systems like max amount of files per directory and max amount of levels of subdirectory.</p>\n\n<p>I solve a similar problem with an iterator solution.  </p>\n\n<p>I needed to walk across huge directorys and several levels of directory tree recursively.</p>\n\n<p>I try FileUtils.iterateFiles() of Apache commons io. But it implement the iterator by adding all the files in a List and then returning List.iterator(). It's very bad for memory.</p>\n\n<p>So I prefer to write something like this:</p>\n\n<pre><code>private static class SequentialIterator implements Iterator&lt;File&gt; {\n    private DirectoryStack dir = null;\n    private File current = null;\n    private long limit;\n    private FileFilter filter = null;\n\n    public SequentialIterator(String path, long limit, FileFilter ff) {\n        current = new File(path);\n        this.limit = limit;\n        filter = ff;\n        dir = DirectoryStack.getNewStack(current);\n    }\n\n    public boolean hasNext() {\n        while(walkOver());\n        return isMore &amp;&amp; (limit &gt; count || limit &lt; 0) &amp;&amp; dir.getCurrent() != null;\n    }\n\n    private long count = 0;\n\n    public File next() {\n        File aux = dir.getCurrent();\n        dir.advancePostition();\n        count++;\n        return aux;\n    }\n\n    private boolean walkOver() {\n        if (dir.isOutOfDirListRange()) {\n            if (dir.isCantGoParent()) {\n                isMore = false;\n                return false;\n            } else {\n                dir.goToParent();\n                dir.advancePostition();\n                return true;\n            }\n        } else {\n            if (dir.isCurrentDirectory()) {\n                if (dir.isDirectoryEmpty()) {\n                    dir.advancePostition();\n                } else {\n                    dir.goIntoDir();\n                }\n                return true;\n            } else {\n                if (filter.accept(dir.getCurrent())) {\n                    return false;\n                } else {\n                    dir.advancePostition();\n                    return true;\n                }\n            }\n        }\n    }\n\n    private boolean isMore = true;\n\n    public void remove() {\n        throw new UnsupportedOperationException();\n    }\n\n}\n</code></pre>\n\n<p>Note that the iterator stop by an amount of files iterateds and it has a FileFilter also.</p>\n\n<p>And DirectoryStack is:</p>\n\n<pre><code>public class DirectoryStack {\n    private class Element{\n        private File files[] = null;\n        private int currentPointer;\n        public Element(File current) {\n            currentPointer = 0;\n            if (current.exists()) {\n                if(current.isDirectory()){\n                    files = current.listFiles();\n                    Set&lt;File&gt; set = new TreeSet&lt;File&gt;();\n                    for (int i = 0; i &lt; files.length; i++) {\n                        File file = files[i];\n                        set.add(file);\n                    }\n                    set.toArray(files);\n                }else{\n                    throw new IllegalArgumentException(\"File current must be directory\");\n                }\n            } else {\n                throw new IllegalArgumentException(\"File current not exist\");\n            }\n\n        }\n        public String toString(){\n            return \"current=\"+getCurrent().toString();\n        }\n        public int getCurrentPointer() {\n            return currentPointer;\n        }\n        public void setCurrentPointer(int currentPointer) {\n            this.currentPointer = currentPointer;\n        }\n        public File[] getFiles() {\n            return files;\n        }\n        public File getCurrent(){\n            File ret = null;\n            try{\n                ret = getFiles()[getCurrentPointer()];\n            }catch (Exception e){\n            }\n            return ret;\n        }\n        public boolean isDirectoryEmpty(){\n            return !(getFiles().length&gt;0);\n        }\n        public Element advancePointer(){\n            setCurrentPointer(getCurrentPointer()+1);\n            return this;\n        }\n    }\n    private DirectoryStack(File first){\n        getStack().push(new Element(first));\n    }\n    public static DirectoryStack getNewStack(File first){\n        return new DirectoryStack(first);\n    }\n    public String toString(){\n        String ret = \"stack:\\n\";\n        int i = 0;\n        for (Element elem : stack) {\n            ret += \"nivel \" + i++ + elem.toString()+\"\\n\";\n        }\n        return ret;\n    }\n    private Stack&lt;Element&gt; stack=null;\n    private Stack&lt;Element&gt; getStack(){\n        if(stack==null){\n            stack = new Stack&lt;Element&gt;();\n        }\n        return stack;\n    }\n    public File getCurrent(){\n        return getStack().peek().getCurrent();\n    }\n    public boolean isDirectoryEmpty(){\n        return getStack().peek().isDirectoryEmpty();\n    }\n    public DirectoryStack downLevel(){\n        getStack().pop();\n        return this;\n    }\n    public DirectoryStack goToParent(){\n        return downLevel();\n    }\n    public DirectoryStack goIntoDir(){\n        return upLevel();\n    }\n    public DirectoryStack upLevel(){\n        if(isCurrentNotNull())\n            getStack().push(new Element(getCurrent()));\n        return this;\n    }\n    public DirectoryStack advancePostition(){\n        getStack().peek().advancePointer();\n        return this;\n    }\n    public File[] peekDirectory(){\n        return getStack().peek().getFiles();\n    }\n    public boolean isLastFileOfDirectory(){\n        return getStack().peek().getFiles().length &lt;= getStack().peek().getCurrentPointer();\n    }\n    public boolean gotMoreLevels() {\n        return getStack().size()&gt;0;\n    }\n    public boolean gotMoreInCurrentLevel() {\n        return getStack().peek().getFiles().length &gt; getStack().peek().getCurrentPointer()+1;\n    }\n    public boolean isRoot() {\n        return !(getStack().size()&gt;1);\n    }\n    public boolean isCurrentNotNull() {\n        if(!getStack().isEmpty()){\n            int currentPointer = getStack().peek().getCurrentPointer();\n            int maxFiles = getStack().peek().getFiles().length;\n            return currentPointer &lt; maxFiles;\n        }else{\n            return false;\n        }\n    }\n    public boolean isCurrentDirectory() {\n        return getStack().peek().getCurrent().isDirectory();\n    }\n    public boolean isLastFromDirList() {\n        return getStack().peek().getCurrentPointer() == (getStack().peek().getFiles().length-1);\n    }\n    public boolean isCantGoParent() {\n        return !(getStack().size()&gt;1);\n    }\n    public boolean isOutOfDirListRange() {\n        return getStack().peek().getFiles().length &lt;= getStack().peek().getCurrentPointer();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228911969,"creation_date":1228911969,"answer_id":355884,"question_id":354703,"body_markdown":"If you need to eventually process all files, then having Iterable over String[] won&#39;t give you any advantage, as you&#39;ll still have to go and fetch the whole list of files.","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>If you need to eventually process all files, then having Iterable over String[] won't give you any advantage, as you'll still have to go and fetch the whole list of files.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1235894191,"creation_date":1235894191,"answer_id":599458,"question_id":354703,"body_markdown":"Using an Iterable doesn&#39;t imply that the Files will be streamed to you. In fact its usually the opposite.  So an array is typically faster than an Iterable.","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>Using an Iterable doesn't imply that the Files will be streamed to you. In fact its usually the opposite.  So an array is typically faster than an Iterable.</p>\n"},{"tags":[],"owner":{"account_id":7823,"reputation":62812,"user_id":13724,"accept_rate":29,"display_name":"MarkR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1235894801,"creation_date":1235894801,"answer_id":599469,"question_id":354703,"body_markdown":"Are you sure it&#39;s due to Java, not just a general problem with having 10k entries in one directory, particularly over the network?\r\n\r\nHave you tried writing a proof-of-concept program to do the same thing in C using the win32 findfirst/findnext functions to see whether it&#39;s any faster?\r\n\r\nI don&#39;t know the ins and outs of SMB, but I strongly suspect that it needs a round trip for every file in the list - which is not going to be fast, particularly over a network with moderate latency.\r\n\r\nHaving 10k strings in an array sounds like something which should not tax the modern Java VM too much either.","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>Are you sure it's due to Java, not just a general problem with having 10k entries in one directory, particularly over the network?</p>\n\n<p>Have you tried writing a proof-of-concept program to do the same thing in C using the win32 findfirst/findnext functions to see whether it's any faster?</p>\n\n<p>I don't know the ins and outs of SMB, but I strongly suspect that it needs a round trip for every file in the list - which is not going to be fast, particularly over a network with moderate latency.</p>\n\n<p>Having 10k strings in an array sounds like something which should not tax the modern Java VM too much either.</p>\n"},{"tags":[],"owner":{"account_id":407393,"reputation":1182,"user_id":777443,"accept_rate":89,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359307810,"creation_date":1359307810,"answer_id":14550059,"question_id":354703,"body_markdown":"If you&#39;re on Java 1.5 or 1.6, shelling out &quot;dir&quot; commands and parsing the standard output stream on Windows is a perfectly acceptable approach. I&#39;ve used this approach in the past for processing network drives and it has generally been a lot faster than waiting for the native java.io.File listFiles() method to return. \r\n\r\nOf course, a JNI call should be faster and potentially safer than shelling out &quot;dir&quot; commands. The following JNI code can be used to retrieve a list of files/directories using the Windows API. This function can be easily refactored into a new class so the caller can retrieve file paths incrementally (i.e. get one path at a time). For example, you can refactor the code so that FindFirstFileW is called in a constructor and have a seperate method to call FindNextFileW.\r\n\r\n    JNIEXPORT jstring JNICALL Java_javaxt_io_File_GetFiles(JNIEnv *env, jclass, jstring directory)\r\n    {\r\n        HANDLE hFind;\r\n        try {\r\n\r\n          //Convert jstring to wstring\r\n            const jchar *_directory = env-&gt;GetStringChars(directory, 0);\r\n            jsize x = env-&gt;GetStringLength(directory);\r\n            wstring path;  //L&quot;C:\\\\temp\\\\*&quot;;\r\n            path.assign(_directory, _directory + x);\r\n            env-&gt;ReleaseStringChars(directory, _directory);\r\n\r\n            if (x&lt;2){\r\n                jclass exceptionClass = env-&gt;FindClass(&quot;java/lang/Exception&quot;);\r\n                env-&gt;ThrowNew(exceptionClass, &quot;Invalid path, less than 2 characters long.&quot;);\r\n            }\r\n\r\n            wstringstream ss;\r\n            BOOL bContinue = TRUE;\r\n            WIN32_FIND_DATAW data;\r\n            hFind = FindFirstFileW(path.c_str(), &amp;data);\r\n            if (INVALID_HANDLE_VALUE == hFind){\r\n                jclass exceptionClass = env-&gt;FindClass(&quot;java/lang/Exception&quot;);\r\n                env-&gt;ThrowNew(exceptionClass, &quot;FindFirstFileW returned invalid handle.&quot;);\r\n            }\r\n\r\n\r\n            //HANDLE hStdOut = GetStdHandle(STD_OUTPUT_HANDLE);\r\n            //DWORD dwBytesWritten;\r\n\r\n\r\n            // If we have no error, loop thru the files in this dir\r\n            while (hFind &amp;&amp; bContinue){\r\n\r\n              /*\r\n              //Debug Print Statment. DO NOT DELETE! cout and wcout do not print unicode correctly.\r\n                WriteConsole(hStdOut, data.cFileName, (DWORD)_tcslen(data.cFileName), &amp;dwBytesWritten, NULL);\r\n                WriteConsole(hStdOut, L&quot;\\n&quot;, 1, &amp;dwBytesWritten, NULL);\r\n                */\r\n\r\n              //Check if this entry is a directory\r\n                if (data.dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY){\r\n                    // Make sure this dir is not . or ..\r\n                    if (wstring(data.cFileName) != L&quot;.&quot; &amp;&amp;\r\n                        wstring(data.cFileName) != L&quot;..&quot;)\r\n                    {   \r\n                        ss &lt;&lt; wstring(data.cFileName) &lt;&lt; L&quot;\\\\&quot; &lt;&lt; L&quot;\\n&quot;;\r\n                    }\r\n                }\r\n                else{\r\n                    ss &lt;&lt; wstring(data.cFileName) &lt;&lt; L&quot;\\n&quot;;\r\n                }\r\n                bContinue = FindNextFileW(hFind, &amp;data);\r\n            }   \r\n            FindClose(hFind); // Free the dir structure\r\n\r\n\r\n\r\n            wstring cstr = ss.str();\r\n            int len = cstr.size();\r\n            //WriteConsole(hStdOut, cstr.c_str(), len, &amp;dwBytesWritten, NULL);\r\n            //WriteConsole(hStdOut, L&quot;\\n&quot;, 1, &amp;dwBytesWritten, NULL);\r\n            jchar* raw = new jchar[len];\r\n            memcpy(raw, cstr.c_str(), len*sizeof(wchar_t));\r\n            jstring result = env-&gt;NewString(raw, len);\r\n            delete[] raw;\r\n            return result;\r\n        }\r\n        catch(...){\r\n            FindClose(hFind);\r\n            jclass exceptionClass = env-&gt;FindClass(&quot;java/lang/Exception&quot;);\r\n            env-&gt;ThrowNew(exceptionClass, &quot;Exception occured.&quot;);\r\n        }\r\n\r\n        return NULL;\r\n    }\r\nCredit:\r\n https://sites.google.com/site/jozsefbekes/Home/windows-programming/miscellaneous-functions\r\n\r\n\r\nEven with this approach, there are still efficiencies to be gained. If you serialize the path to a java.io.File, there is a huge performance hit - especially if the path represents a file on a network drive. I have no idea what Sun/Oracle is doing under the hood but if you need additional file attributes other than the file path (e.g. size, mod date, etc), I have found that the following JNI function is much faster than instantiating a java.io.File object on a network the path.\r\n\r\n\r\n    JNIEXPORT jlongArray JNICALL Java_javaxt_io_File_GetFileAttributesEx(JNIEnv *env, jclass, jstring filename)\r\n    {   \r\n\r\n      //Convert jstring to wstring\r\n        const jchar *_filename = env-&gt;GetStringChars(filename, 0);\r\n        jsize len = env-&gt;GetStringLength(filename);\r\n        wstring path;\r\n        path.assign(_filename, _filename + len);\r\n        env-&gt;ReleaseStringChars(filename, _filename);\r\n\r\n\r\n      //Get attributes\r\n        WIN32_FILE_ATTRIBUTE_DATA fileAttrs;\r\n        BOOL result = GetFileAttributesExW(path.c_str(), GetFileExInfoStandard, &amp;fileAttrs);\r\n        if (!result) {\r\n            jclass exceptionClass = env-&gt;FindClass(&quot;java/lang/Exception&quot;);\r\n            env-&gt;ThrowNew(exceptionClass, &quot;Exception Occurred&quot;);\r\n        }\r\n\r\n      //Create an array to store the WIN32_FILE_ATTRIBUTE_DATA\r\n        jlong buffer[6];\r\n        buffer[0] = fileAttrs.dwFileAttributes;\r\n        buffer[1] = date2int(fileAttrs.ftCreationTime);\r\n        buffer[2] = date2int(fileAttrs.ftLastAccessTime);\r\n        buffer[3] = date2int(fileAttrs.ftLastWriteTime);\r\n        buffer[4] = fileAttrs.nFileSizeHigh;\r\n        buffer[5] = fileAttrs.nFileSizeLow;\r\n\r\n        jlongArray jLongArray = env-&gt;NewLongArray(6);\r\n        env-&gt;SetLongArrayRegion(jLongArray, 0, 6, buffer);\r\n        return jLongArray;\r\n    }\r\n\r\n\r\nYou can find a full working example of this JNI-based approach in the [javaxt-core][1] library. In my tests using Java 1.6.0_38 with a Windows host hitting a Windows share, I have found this JNI approach approximately 10x faster then calling java.io.File listFiles() or shelling out &quot;dir&quot; commands.\r\n\r\n\r\n  [1]: http://www.javaxt.com/","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>If you're on Java 1.5 or 1.6, shelling out \"dir\" commands and parsing the standard output stream on Windows is a perfectly acceptable approach. I've used this approach in the past for processing network drives and it has generally been a lot faster than waiting for the native java.io.File listFiles() method to return. </p>\n\n<p>Of course, a JNI call should be faster and potentially safer than shelling out \"dir\" commands. The following JNI code can be used to retrieve a list of files/directories using the Windows API. This function can be easily refactored into a new class so the caller can retrieve file paths incrementally (i.e. get one path at a time). For example, you can refactor the code so that FindFirstFileW is called in a constructor and have a seperate method to call FindNextFileW.</p>\n\n<pre><code>JNIEXPORT jstring JNICALL Java_javaxt_io_File_GetFiles(JNIEnv *env, jclass, jstring directory)\n{\n    HANDLE hFind;\n    try {\n\n      //Convert jstring to wstring\n        const jchar *_directory = env-&gt;GetStringChars(directory, 0);\n        jsize x = env-&gt;GetStringLength(directory);\n        wstring path;  //L\"C:\\\\temp\\\\*\";\n        path.assign(_directory, _directory + x);\n        env-&gt;ReleaseStringChars(directory, _directory);\n\n        if (x&lt;2){\n            jclass exceptionClass = env-&gt;FindClass(\"java/lang/Exception\");\n            env-&gt;ThrowNew(exceptionClass, \"Invalid path, less than 2 characters long.\");\n        }\n\n        wstringstream ss;\n        BOOL bContinue = TRUE;\n        WIN32_FIND_DATAW data;\n        hFind = FindFirstFileW(path.c_str(), &amp;data);\n        if (INVALID_HANDLE_VALUE == hFind){\n            jclass exceptionClass = env-&gt;FindClass(\"java/lang/Exception\");\n            env-&gt;ThrowNew(exceptionClass, \"FindFirstFileW returned invalid handle.\");\n        }\n\n\n        //HANDLE hStdOut = GetStdHandle(STD_OUTPUT_HANDLE);\n        //DWORD dwBytesWritten;\n\n\n        // If we have no error, loop thru the files in this dir\n        while (hFind &amp;&amp; bContinue){\n\n          /*\n          //Debug Print Statment. DO NOT DELETE! cout and wcout do not print unicode correctly.\n            WriteConsole(hStdOut, data.cFileName, (DWORD)_tcslen(data.cFileName), &amp;dwBytesWritten, NULL);\n            WriteConsole(hStdOut, L\"\\n\", 1, &amp;dwBytesWritten, NULL);\n            */\n\n          //Check if this entry is a directory\n            if (data.dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY){\n                // Make sure this dir is not . or ..\n                if (wstring(data.cFileName) != L\".\" &amp;&amp;\n                    wstring(data.cFileName) != L\"..\")\n                {   \n                    ss &lt;&lt; wstring(data.cFileName) &lt;&lt; L\"\\\\\" &lt;&lt; L\"\\n\";\n                }\n            }\n            else{\n                ss &lt;&lt; wstring(data.cFileName) &lt;&lt; L\"\\n\";\n            }\n            bContinue = FindNextFileW(hFind, &amp;data);\n        }   \n        FindClose(hFind); // Free the dir structure\n\n\n\n        wstring cstr = ss.str();\n        int len = cstr.size();\n        //WriteConsole(hStdOut, cstr.c_str(), len, &amp;dwBytesWritten, NULL);\n        //WriteConsole(hStdOut, L\"\\n\", 1, &amp;dwBytesWritten, NULL);\n        jchar* raw = new jchar[len];\n        memcpy(raw, cstr.c_str(), len*sizeof(wchar_t));\n        jstring result = env-&gt;NewString(raw, len);\n        delete[] raw;\n        return result;\n    }\n    catch(...){\n        FindClose(hFind);\n        jclass exceptionClass = env-&gt;FindClass(\"java/lang/Exception\");\n        env-&gt;ThrowNew(exceptionClass, \"Exception occured.\");\n    }\n\n    return NULL;\n}\n</code></pre>\n\n<p>Credit:\n <a href=\"https://sites.google.com/site/jozsefbekes/Home/windows-programming/miscellaneous-functions\" rel=\"nofollow\">https://sites.google.com/site/jozsefbekes/Home/windows-programming/miscellaneous-functions</a></p>\n\n<p>Even with this approach, there are still efficiencies to be gained. If you serialize the path to a java.io.File, there is a huge performance hit - especially if the path represents a file on a network drive. I have no idea what Sun/Oracle is doing under the hood but if you need additional file attributes other than the file path (e.g. size, mod date, etc), I have found that the following JNI function is much faster than instantiating a java.io.File object on a network the path.</p>\n\n<pre><code>JNIEXPORT jlongArray JNICALL Java_javaxt_io_File_GetFileAttributesEx(JNIEnv *env, jclass, jstring filename)\n{   \n\n  //Convert jstring to wstring\n    const jchar *_filename = env-&gt;GetStringChars(filename, 0);\n    jsize len = env-&gt;GetStringLength(filename);\n    wstring path;\n    path.assign(_filename, _filename + len);\n    env-&gt;ReleaseStringChars(filename, _filename);\n\n\n  //Get attributes\n    WIN32_FILE_ATTRIBUTE_DATA fileAttrs;\n    BOOL result = GetFileAttributesExW(path.c_str(), GetFileExInfoStandard, &amp;fileAttrs);\n    if (!result) {\n        jclass exceptionClass = env-&gt;FindClass(\"java/lang/Exception\");\n        env-&gt;ThrowNew(exceptionClass, \"Exception Occurred\");\n    }\n\n  //Create an array to store the WIN32_FILE_ATTRIBUTE_DATA\n    jlong buffer[6];\n    buffer[0] = fileAttrs.dwFileAttributes;\n    buffer[1] = date2int(fileAttrs.ftCreationTime);\n    buffer[2] = date2int(fileAttrs.ftLastAccessTime);\n    buffer[3] = date2int(fileAttrs.ftLastWriteTime);\n    buffer[4] = fileAttrs.nFileSizeHigh;\n    buffer[5] = fileAttrs.nFileSizeLow;\n\n    jlongArray jLongArray = env-&gt;NewLongArray(6);\n    env-&gt;SetLongArrayRegion(jLongArray, 0, 6, buffer);\n    return jLongArray;\n}\n</code></pre>\n\n<p>You can find a full working example of this JNI-based approach in the <a href=\"http://www.javaxt.com/\" rel=\"nofollow\">javaxt-core</a> library. In my tests using Java 1.6.0_38 with a Windows host hitting a Windows share, I have found this JNI approach approximately 10x faster then calling java.io.File listFiles() or shelling out \"dir\" commands.</p>\n"},{"tags":[],"owner":{"account_id":207587,"reputation":1022,"user_id":457541,"accept_rate":73,"display_name":"NiTiN"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1382451645,"creation_date":1382451645,"answer_id":19520486,"question_id":354703,"body_markdown":"How about using File.list(FilenameFilter filter) method and implementing FilenameFilter.accept(File dir, String name) to process each file and return false.\r\n\r\nI ran this on Linux vm for directory with 10K+ files and it took &lt;10 seconds.\r\n\r\n    import java.io.File;  \r\n    import java.io.FilenameFilter;\r\n    \r\n    public class Temp {\r\n        private static void processFile(File dir, String name) {\r\n            File file = new File(dir, name);\r\n            System.out.println(&quot;processing file &quot; + file.getName());\r\n        }\r\n    \r\n        private static void forEachFile(File dir) {\r\n            String [] ignore = dir.list(new FilenameFilter() {\r\n                public boolean accept(File dir, String name) {\r\n                    processFile(dir, name);\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            long before, after;\r\n            File dot = new File(&quot;.&quot;);\r\n            before = System.currentTimeMillis();\r\n            forEachFile(dot);\r\n            after = System.currentTimeMillis();\r\n            System.out.println(&quot;after call, delta is &quot; + (after - before));\r\n        }  \r\n    }\r\n\r\n","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>How about using File.list(FilenameFilter filter) method and implementing FilenameFilter.accept(File dir, String name) to process each file and return false.</p>\n\n<p>I ran this on Linux vm for directory with 10K+ files and it took &lt;10 seconds.</p>\n\n<pre><code>import java.io.File;  \nimport java.io.FilenameFilter;\n\npublic class Temp {\n    private static void processFile(File dir, String name) {\n        File file = new File(dir, name);\n        System.out.println(\"processing file \" + file.getName());\n    }\n\n    private static void forEachFile(File dir) {\n        String [] ignore = dir.list(new FilenameFilter() {\n            public boolean accept(File dir, String name) {\n                processFile(dir, name);\n                return false;\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        long before, after;\n        File dot = new File(\".\");\n        before = System.currentTimeMillis();\n        forEachFile(dot);\n        after = System.currentTimeMillis();\n        System.out.println(\"after call, delta is \" + (after - before));\n    }  \n}\n</code></pre>\n"}],"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18969,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":354779,"answer_count":10,"score":24,"last_activity_date":1686686537,"creation_date":1228868074,"question_id":354703,"body_markdown":"I am trying to process files one at a time that are stored over a network.  Reading the files is fast due to buffering is not the issue.  The problem I have is just listing the directories in a folder.  I have at least 10k files per folder over many folders.\r\n\r\nPerformance is super slow since File.list() returns an array instead of an iterable.  Java goes off and collects all the names in a folder and packs it into an array before returning.\r\n\r\nThe bug entry for this is &lt;https://bugs.java.com/bugdatabase/view_bug;jsessionid=db7fcf25bcce13541c4289edeb4?bug_id=4285834&gt; and doesn&#39;t have a work around.  They just say this has been fixed for JDK7.\r\n\r\nA few questions:\r\n\r\n1. Does anybody have a workaround to this performance bottleneck?\r\n2. Am I trying to achieve the impossible?  Is performance still going to be poor even if it just iterates over the directories?\r\n3. Could I use the beta JDK7 builds that have this functionality without having to build my entire project on it?\r\n\r\n","title":"Is there a workaround for Java&#39;s poor performance on walking huge directories?","body":"<p>I am trying to process files one at a time that are stored over a network.  Reading the files is fast due to buffering is not the issue.  The problem I have is just listing the directories in a folder.  I have at least 10k files per folder over many folders.</p>\n<p>Performance is super slow since File.list() returns an array instead of an iterable.  Java goes off and collects all the names in a folder and packs it into an array before returning.</p>\n<p>The bug entry for this is <a href=\"https://bugs.java.com/bugdatabase/view_bug;jsessionid=db7fcf25bcce13541c4289edeb4?bug_id=4285834\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug;jsessionid=db7fcf25bcce13541c4289edeb4?bug_id=4285834</a> and doesn't have a work around.  They just say this has been fixed for JDK7.</p>\n<p>A few questions:</p>\n<ol>\n<li>Does anybody have a workaround to this performance bottleneck?</li>\n<li>Am I trying to achieve the impossible?  Is performance still going to be poor even if it just iterates over the directories?</li>\n<li>Could I use the beta JDK7 builds that have this functionality without having to build my entire project on it?</li>\n</ol>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1686671346,"post_id":76448516,"comment_id":134829800,"body_markdown":"Shouldn&#39;t your `countMap` key be a `String` type?","body":"Shouldn&#39;t your <code>countMap</code> key be a <code>String</code> type?"},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1686671532,"post_id":76448516,"comment_id":134829837,"body_markdown":"No, after deserialization, I need the key to be of type `MyType`.","body":"No, after deserialization, I need the key to be of type <code>MyType</code>."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1686671538,"post_id":76448516,"comment_id":134829841,"body_markdown":"Duplicates https://stackoverflow.com/questions/54187982/deserialize-map-key-as-pojo-reference","body":"Duplicates <a href=\"https://stackoverflow.com/questions/54187982/deserialize-map-key-as-pojo-reference\" title=\"deserialize map key as pojo reference\">stackoverflow.com/questions/54187982/&hellip;</a>"},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1686672373,"post_id":76448516,"comment_id":134830052,"body_markdown":"Created an issue in Jackson: https://github.com/FasterXML/jackson-annotations/issues/231","body":"Created an issue in Jackson: <a href=\"https://github.com/FasterXML/jackson-annotations/issues/231\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-annotations/issues/231</a>"}],"answers":[{"tags":[],"owner":{"account_id":7774964,"reputation":91,"user_id":5883358,"display_name":"Andreea Frincu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686680886,"creation_date":1686680886,"answer_id":76467744,"question_id":76448516,"body_markdown":"The only way I was able to deserialize was using a custom deserializer.\r\nSo having the class\r\n\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\r\n        property = &quot;id&quot;)\r\n    @JsonIdentityReference(alwaysAsId = true)\r\n    public class MyType {\r\n    \r\n      String id;\r\n      String longText;\r\n    \r\n      public MyType() {\r\n      }\r\n    \r\n      public MyType(String id) {\r\n        this.id = id;\r\n      }\r\n    //getter&amp;setters\r\n    }\r\nand\r\n\r\n    public class MyData {\r\n    \r\n      List&lt;MyType&gt; types;\r\n      // Does not work\r\n      @JsonDeserialize(keyUsing = MyTypeDeserializer.class)\r\n      Map&lt;MyType, Integer&gt; countMap;\r\n    //getters&amp;setters\r\n    }\r\n\r\n    public class MyTypeDeserializer extends KeyDeserializer {\r\n      @Override\r\n      public Object deserializeKey(String key, DeserializationContext deserializationContext) throws IOException {\r\n        return new MyType(key);\r\n      }\r\n    }\r\n\r\nRunning the test below I was able to see the json properly deserialized.\r\n \r\n\r\n    @Test\r\n      public void testDeserialize() throws IOException {\r\n        final String testData = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;types\\&quot;: [\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;id\\&quot;: \\&quot;123\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;longText\\&quot;: \\&quot;very long text 1 ...\\&quot;\\n&quot; +\r\n            &quot;    },\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;id\\&quot;: \\&quot;456\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;longText\\&quot;: \\&quot;very long text 2 ...\\&quot;\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;  ],\\n&quot; +\r\n            &quot;  \\&quot;countMap\\&quot;: {\\n&quot; +\r\n            &quot;    \\&quot;123\\&quot;: 100,\\n&quot; +\r\n            &quot;    \\&quot;456\\&quot;: 200\\n&quot; +\r\n            &quot;  }\\n&quot; +\r\n            &quot;}\\n&quot;;\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        MyData myData = mapper.readValue(testData, MyData.class);\r\n      }\r\n","title":"Jackson: deserialize a Map&lt;MyType, String&gt; which uses @JsonIdentityInfo on MyType","body":"<p>The only way I was able to deserialize was using a custom deserializer.\nSo having the class</p>\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\n    property = &quot;id&quot;)\n@JsonIdentityReference(alwaysAsId = true)\npublic class MyType {\n\n  String id;\n  String longText;\n\n  public MyType() {\n  }\n\n  public MyType(String id) {\n    this.id = id;\n  }\n//getter&amp;setters\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class MyData {\n\n  List&lt;MyType&gt; types;\n  // Does not work\n  @JsonDeserialize(keyUsing = MyTypeDeserializer.class)\n  Map&lt;MyType, Integer&gt; countMap;\n//getters&amp;setters\n}\n\npublic class MyTypeDeserializer extends KeyDeserializer {\n  @Override\n  public Object deserializeKey(String key, DeserializationContext deserializationContext) throws IOException {\n    return new MyType(key);\n  }\n}\n</code></pre>\n<p>Running the test below I was able to see the json properly deserialized.</p>\n<pre><code>@Test\n  public void testDeserialize() throws IOException {\n    final String testData = &quot;{\\n&quot; +\n        &quot;  \\&quot;types\\&quot;: [\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;      \\&quot;id\\&quot;: \\&quot;123\\&quot;,\\n&quot; +\n        &quot;      \\&quot;longText\\&quot;: \\&quot;very long text 1 ...\\&quot;\\n&quot; +\n        &quot;    },\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;      \\&quot;id\\&quot;: \\&quot;456\\&quot;,\\n&quot; +\n        &quot;      \\&quot;longText\\&quot;: \\&quot;very long text 2 ...\\&quot;\\n&quot; +\n        &quot;    }\\n&quot; +\n        &quot;  ],\\n&quot; +\n        &quot;  \\&quot;countMap\\&quot;: {\\n&quot; +\n        &quot;    \\&quot;123\\&quot;: 100,\\n&quot; +\n        &quot;    \\&quot;456\\&quot;: 200\\n&quot; +\n        &quot;  }\\n&quot; +\n        &quot;}\\n&quot;;\n    ObjectMapper mapper = new ObjectMapper();\n    MyData myData = mapper.readValue(testData, MyData.class);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686685857,"creation_date":1686685857,"answer_id":76468274,"question_id":76448516,"body_markdown":"Using references you provided in your comment it is possible to deserialize the provided json with a class extending the [KeyDeserializer](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/KeyDeserializer.html) class. Starting from a simplified version of classes you defined in the question like below:\r\n\r\n~~~\r\n@Data\r\npublic class MyType {\r\n    String id;\r\n    String longText;\r\n}\r\n\r\n@Data\r\npublic class MyData {\r\n\r\n    private List&lt;MyType&gt; types;\r\n\r\n    //added annotation to the original class\r\n    @JsonDeserialize(keyUsing = MyKeyDeserializer.class)\r\n    private Map&lt;MyType, Integer&gt; countMap;\r\n}\r\n~~~\r\n\r\nWith the assumption that *types* field is always present you can create a custom class extending the `KeyDeserializer`:\r\n\r\n~~~\r\npublic class MyKeyDeserializer extends KeyDeserializer {\r\n\r\n    @Override\r\n    public MyType deserializeKey(String id, DeserializationContext dc) throws IOException {\r\n        \r\n        MyType myType = new MyType();\r\n        myType.setId(id);\r\n        MyData myData = (MyData) dc.getParser()\r\n                                .getParsingContext()\r\n                                .getParent()\r\n                                .getCurrentValue();\r\n        \r\n        MyType elem = myData.getTypes()\r\n                                .stream()\r\n                                .filter(el -&gt; el.id.equals(id))\r\n                                .findFirst()\r\n                                .orElse(null);\r\n        \r\n        if (elem != null) { myType.setLongText(elem.getLongText()); }\r\n        return myType;\r\n    }\r\n\r\n}\r\n~~~\r\n\r\n\r\n\r\nBasically in the code for every key of your `CountMap` map the json will be parsed to a `MyData` instance and then the *types* element will be searched to extract the type element with the same *id* returning the new *MyType* key completed with the *longText* field. ","title":"Jackson: deserialize a Map&lt;MyType, String&gt; which uses @JsonIdentityInfo on MyType","body":"<p>Using references you provided in your comment it is possible to deserialize the provided json with a class extending the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/KeyDeserializer.html\" rel=\"nofollow noreferrer\">KeyDeserializer</a> class. Starting from a simplified version of classes you defined in the question like below:</p>\n<pre><code>@Data\npublic class MyType {\n    String id;\n    String longText;\n}\n\n@Data\npublic class MyData {\n\n    private List&lt;MyType&gt; types;\n\n    //added annotation to the original class\n    @JsonDeserialize(keyUsing = MyKeyDeserializer.class)\n    private Map&lt;MyType, Integer&gt; countMap;\n}\n</code></pre>\n<p>With the assumption that <em>types</em> field is always present you can create a custom class extending the <code>KeyDeserializer</code>:</p>\n<pre><code>public class MyKeyDeserializer extends KeyDeserializer {\n\n    @Override\n    public MyType deserializeKey(String id, DeserializationContext dc) throws IOException {\n        \n        MyType myType = new MyType();\n        myType.setId(id);\n        MyData myData = (MyData) dc.getParser()\n                                .getParsingContext()\n                                .getParent()\n                                .getCurrentValue();\n        \n        MyType elem = myData.getTypes()\n                                .stream()\n                                .filter(el -&gt; el.id.equals(id))\n                                .findFirst()\n                                .orElse(null);\n        \n        if (elem != null) { myType.setLongText(elem.getLongText()); }\n        return myType;\n    }\n\n}\n</code></pre>\n<p>Basically in the code for every key of your <code>CountMap</code> map the json will be parsed to a <code>MyData</code> instance and then the <em>types</em> element will be searched to extract the type element with the same <em>id</em> returning the new <em>MyType</em> key completed with the <em>longText</em> field.</p>\n"}],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76468274,"answer_count":2,"score":1,"last_activity_date":1686685857,"creation_date":1686439236,"question_id":76448516,"body_markdown":"How do I deserialize a `Map` with a `MyType` key that uses only the id of `MyType` in the json format?\r\n\r\nFor example, given \r\n\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\r\n            property = &quot;id&quot;)\r\n    public class MyType {\r\n    \r\n       String id;\r\n       ... // Getters and setters for id\r\n    \r\n       String longText;\r\n    }\r\n    \r\n    public class MyData {\r\n    \r\n       List&lt;MyType&gt; types;\r\n    \r\n       @JsonIdentityReference(alwaysAsId = true) // Does not work\r\n       Map&lt;MyType, Integer&gt; countMap;\r\n    }\r\n\r\nit properly serializes `MyData` in:\r\n\r\n    {\r\n      &quot;types&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;123&quot;,\r\n          &quot;longText&quot;: &quot;very long text 1 ...&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;456&quot;,\r\n          &quot;longText&quot;: &quot;very long text 2 ...&quot;\r\n        }\r\n      ],\r\n      &quot;countMap&quot;: {\r\n        &quot;123&quot;: 100,\r\n        &quot;456&quot;: 200\r\n      }\r\n    }\r\n\r\nBut when I deserialize that, I get an error:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot find a (Map) Key deserializer for type [simple type, class MyType]\r\n\r\nHow do I get Jackson to deserialize it correctly?","title":"Jackson: deserialize a Map&lt;MyType, String&gt; which uses @JsonIdentityInfo on MyType","body":"<p>How do I deserialize a <code>Map</code> with a <code>MyType</code> key that uses only the id of <code>MyType</code> in the json format?</p>\n<p>For example, given</p>\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;)\npublic class MyType {\n\n   String id;\n   ... // Getters and setters for id\n\n   String longText;\n}\n\npublic class MyData {\n\n   List&lt;MyType&gt; types;\n\n   @JsonIdentityReference(alwaysAsId = true) // Does not work\n   Map&lt;MyType, Integer&gt; countMap;\n}\n</code></pre>\n<p>it properly serializes <code>MyData</code> in:</p>\n<pre><code>{\n  &quot;types&quot;: [\n    {\n      &quot;id&quot;: &quot;123&quot;,\n      &quot;longText&quot;: &quot;very long text 1 ...&quot;\n    },\n    {\n      &quot;id&quot;: &quot;456&quot;,\n      &quot;longText&quot;: &quot;very long text 2 ...&quot;\n    }\n  ],\n  &quot;countMap&quot;: {\n    &quot;123&quot;: 100,\n    &quot;456&quot;: 200\n  }\n}\n</code></pre>\n<p>But when I deserialize that, I get an error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot find a (Map) Key deserializer for type [simple type, class MyType]\n</code></pre>\n<p>How do I get Jackson to deserialize it correctly?</p>\n"},{"tags":["java","spring","apache-kafka","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686685570,"creation_date":1686685570,"answer_id":76468250,"question_id":76468124,"body_markdown":"Your problem is here `Sftp.inboundStreamingAdapter()` and here `.split(s -&gt; s.delimiters(&quot;\\n&quot;))`. You are asking for an `InputStream` for a file, but then you try to split this `InputStream` by line delimiter. Since splitter cannot do find anything like that for us in the `InputStream`, it produces an input as is. And now you don&#39;t have any transformers and just dump that payload into Kafka producer.\r\n\r\nSee a `FileSplitter` instead. It supports an `InputStream` as a payload and it really was designed to emit line by line from a file.\r\n\r\nDocs are here: https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-splitter","title":"Can&#39;t convert .csv file to Json object and send to kafka due to cast exception","body":"<p>Your problem is here <code>Sftp.inboundStreamingAdapter()</code> and here <code>.split(s -&gt; s.delimiters(&quot;\\n&quot;))</code>. You are asking for an <code>InputStream</code> for a file, but then you try to split this <code>InputStream</code> by line delimiter. Since splitter cannot do find anything like that for us in the <code>InputStream</code>, it produces an input as is. And now you don't have any transformers and just dump that payload into Kafka producer.</p>\n<p>See a <code>FileSplitter</code> instead. It supports an <code>InputStream</code> as a payload and it really was designed to emit line by line from a file.</p>\n<p>Docs are here: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-splitter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-splitter</a></p>\n"}],"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76468250,"answer_count":1,"score":0,"last_activity_date":1686685570,"creation_date":1686684249,"question_id":76468124,"body_markdown":"I am trying to SFTP into a server grab all the .csv files, split them into single line objects and transform to json. Once transformed to json I would like to send them to a kafka topic. However I am seeing a casting exception: \r\n\r\n`Can&#39;t convert value of class org.apache.sshd.sftp.client.impl.SftpInputStreamAsync to class org.apache.kafka.common.serialization.StringSerializer specified in value.serializer`\r\n\r\nFull Stack Trace: \r\n\r\n```\r\n023-06-13T14:15:44.196-05:00 ERROR 71399 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean &#39;publishToKafkaFlow.kafka:outbound-channel-adapter#0&#39; for component &#39;EngageKafkaProducer&#39;; defined in: &#39;class path resource [com/thrivent/enterprisemarketingchannelactivation/engage/config/AcousticEngageDataSftpToKafkaIntegrationFlow.class]&#39;; from source: &#39;bean method publishToKafkaFlow&#39;], failedMessage=GenericMessage [payload=SftpInputStreamAsync[ClientSessionImpl[cp.api@engage.thrivent@transfer-campaign-us-2.goacoustic.com/54.88.73.172:22]][/download/email_metadata_UNICA_CUSTID_Recipient-Event-Bulk-Export_6748469_Email_Jun-08-2023-20-10-00_20-21.csv], headers={file_remoteHostPort=transfer-campaign-us-2.goacoustic.com:22, file_remoteFileInfo={&quot;directory&quot;:false,&quot;filename&quot;:&quot;email_metadata_UNICA_CUSTID_Recipient-Event-Bulk-Export_6748469_Email_Jun-08-2023-20-10-00_20-21.csv&quot;,&quot;link&quot;:false,&quot;modified&quot;:1686258599000,&quot;permissions&quot;:&quot;rw-rw-r--&quot;,&quot;remoteDirectory&quot;:&quot;/download&quot;,&quot;size&quot;:7358023}, sequenceNumber=1, file_remoteDirectory=/download, sequenceSize=1, correlationId=79dc50e4-5bb3-8ff6-9edc-1c9ec8f9e88f, id=fa20238f-c641-a407-f8c9-8d318238b4c2, closeableResource=org.springframework.integration.file.remote.session.CachingSessionFactory$CachedSession@64b375da, file_remoteFile=email_metadata_UNICA_CUSTID_Recipient-Event-Bulk-Export_6748469_Email_Jun-08-2023-20-10-00_20-21.csv, timestamp=1686683743081}]\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:108)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\r\n\tat org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:158)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:474)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:460)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Can&#39;t convert value of class org.apache.sshd.sftp.client.impl.SftpInputStreamAsync to class org.apache.kafka.common.serialization.StringSerializer specified in value.serializer\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1008)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:952)\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1022)\r\n\tat org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:783)\r\n\tat org.springframework.kafka.core.KafkaTemplate.observeSend(KafkaTemplate.java:754)\r\n\tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:564)\r\n\tat org.springframework.integration.kafka.outbound.KafkaProducerMessageHandler.handleRequestMessage(KafkaProducerMessageHandler.java:528)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\r\n\t... 20 more\r\nCaused by: java.lang.ClassCastException: class org.apache.sshd.sftp.client.impl.SftpInputStreamAsync cannot be cast to class java.lang.String (org.apache.sshd.sftp.client.impl.SftpInputStreamAsync is in unnamed module of loader &#39;app&#39;; java.lang.String is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat org.apache.kafka.common.serialization.StringSerializer.serialize(StringSerializer.java:29)\r\n\tat org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1005)\r\n\t... 28 more\r\n```\r\n\r\nHere is my full Integration flow - \r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class AcousticEngageDataSftpToKafkaIntegrationFlow {\r\n\r\n    private static final String KAFKA_TOPIC = &quot;my-topic&quot;;\r\n\r\n    @Bean\r\n    public QueueChannel inboundFilesMessageChannel() {\r\n        return MessageChannels.queue().get();\r\n    }\r\n\r\n    @Bean\r\n    public QueueChannel kafkaPojoMessageChannel() {\r\n        return MessageChannels.queue().get();\r\n    }\r\n\r\n    @Bean\r\n    public MessageChannel kafkaProducerErrorRecordChannel() {\r\n        return MessageChannels.direct().get();\r\n    }\r\n\r\n    @Bean\r\n    public IntegrationFlow sftpFileTransferFlow(SessionFactory&lt;SftpClient.DirEntry&gt; engageSftpSessionFactory,\r\n                                                IntegrationFlowProperties engageProperties,\r\n                                                MessageChannel inboundFilesMessageChannel) {\r\n\r\n        return IntegrationFlow\r\n                .from(Sftp.inboundStreamingAdapter(new RemoteFileTemplate&lt;&gt;(engageSftpSessionFactory))\r\n                          .filter(new SftpRegexPatternFileListFilter(engageProperties.getRemoteFilePattern()))\r\n                              .remoteDirectory(engageProperties.getRemoteDirectory()),\r\n                e -&gt; e.id(&quot;sftpInboundAdapter&quot;)\r\n                        .autoStartup(true)\r\n                        .poller(Pollers.fixedRate(5000)))\r\n                .log(LoggingHandler.Level.DEBUG, &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;,\r\n                     &quot;headers[&#39;file_remoteDirectory&#39;] + + T(java.io.File).separator  + headers[&#39;file_remoteFile&#39;]&quot;)\r\n                .channel(inboundFilesMessageChannel)\r\n                              .get();\r\n    }\r\n\r\n    @Bean\r\n    public IntegrationFlow readCsvFileFlow(MessageChannel inboundFilesMessageChannel,\r\n                                           QueueChannel kafkaPojoMessageChannel) {\r\n\r\n        return IntegrationFlow.from(inboundFilesMessageChannel)\r\n                              .split(s -&gt; s.delimiters(&quot;\\n&quot;))\r\n                              .log(LoggingHandler.Level.DEBUG,\r\n                                   &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;,\r\n                                   m -&gt; &quot;Payload: &quot; + m.getPayload())\r\n                              .channel(kafkaPojoMessageChannel)\r\n                              .get();\r\n    }\r\n\r\n    @Bean\r\n    public IntegrationFlow publishToKafkaFlow(KafkaTemplate&lt;String, String&gt; kafkaTemplate,\r\n                                              MessageChannel kafkaProducerErrorRecordChannel,\r\n                                              QueueChannel kafkaPojoMessageChannel) {\r\n\r\n        return IntegrationFlow.from(kafkaPojoMessageChannel)\r\n                .log(LoggingHandler.Level.DEBUG,\r\n                     &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;, e -&gt; &quot;Payload: &quot; + e.getPayload())\r\n                              .handle(Kafka.outboundChannelAdapter(kafkaTemplate)\r\n                                           .topic(KAFKA_TOPIC),\r\n                                      e -&gt; e.id(&quot;EngageKafkaProducer&quot;))\r\n                              .routeByException(r -&gt; r\r\n                                      .channelMapping(KafkaProducerException.class, kafkaProducerErrorRecordChannel)\r\n                                      .defaultOutputChannel(&quot;errorChannel&quot;))\r\n                              .get();\r\n    }\r\n\r\n    @Bean\r\n    @Transformer(inputChannel=&quot;inboundFilesMessageChannel&quot;, outputChannel=&quot;kafkaPojoMessageChannel&quot;)\r\n    ObjectToJsonTransformer objectToJsonTransformer() {\r\n        return new ObjectToJsonTransformer();\r\n    }\r\n\r\n    @Bean\r\n    public IntegrationFlow logErrorsInErrorQueue() {\r\n        return IntegrationFlow.from(&quot;errorChannel&quot;)\r\n                              .wireTap(f -&gt; f.handle(m -&gt; log.error(&quot;Error occurred in AcousticEngageDataSftpToKafkaIntegrationFlow: {}&quot;, m)))\r\n                              .channel(&quot;kafkaProducerErrorRecordChannel&quot;)\r\n                              .get();\r\n    }\r\n\r\n    @Bean\r\n    public IntegrationFlow kafkaProducerErrorFlow(\r\n            final MessageChannel kafkaProducerErrorRecordChannel) {\r\n\r\n        return IntegrationFlow.from(kafkaProducerErrorRecordChannel)\r\n                               .handle(&quot;KafkaExceptionHandler&quot;,\r\n                                       &quot;kafkaProducerErrorChannel&quot;)\r\n                               .get();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried using different transformers and a custom transformer.  As of right now my value and key serializers are set to Spring. I feel like the problem is in my transformer, but could also be in my serializing. The goal is to move it to a json schema, however as of right now I just want to see some data on the topic. Any help would be appreciated, thanks. \r\n","title":"Can&#39;t convert .csv file to Json object and send to kafka due to cast exception","body":"<p>I am trying to SFTP into a server grab all the .csv files, split them into single line objects and transform to json. Once transformed to json I would like to send them to a kafka topic. However I am seeing a casting exception:</p>\n<p><code>Can't convert value of class org.apache.sshd.sftp.client.impl.SftpInputStreamAsync to class org.apache.kafka.common.serialization.StringSerializer specified in value.serializer</code></p>\n<p>Full Stack Trace:</p>\n<pre><code>023-06-13T14:15:44.196-05:00 ERROR 71399 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean 'publishToKafkaFlow.kafka:outbound-channel-adapter#0' for component 'EngageKafkaProducer'; defined in: 'class path resource [com/thrivent/enterprisemarketingchannelactivation/engage/config/AcousticEngageDataSftpToKafkaIntegrationFlow.class]'; from source: 'bean method publishToKafkaFlow'], failedMessage=GenericMessage [payload=SftpInputStreamAsync[ClientSessionImpl[cp.api@engage.thrivent@transfer-campaign-us-2.goacoustic.com/54.88.73.172:22]][/download/email_metadata_UNICA_CUSTID_Recipient-Event-Bulk-Export_6748469_Email_Jun-08-2023-20-10-00_20-21.csv], headers={file_remoteHostPort=transfer-campaign-us-2.goacoustic.com:22, file_remoteFileInfo={&quot;directory&quot;:false,&quot;filename&quot;:&quot;email_metadata_UNICA_CUSTID_Recipient-Event-Bulk-Export_6748469_Email_Jun-08-2023-20-10-00_20-21.csv&quot;,&quot;link&quot;:false,&quot;modified&quot;:1686258599000,&quot;permissions&quot;:&quot;rw-rw-r--&quot;,&quot;remoteDirectory&quot;:&quot;/download&quot;,&quot;size&quot;:7358023}, sequenceNumber=1, file_remoteDirectory=/download, sequenceSize=1, correlationId=79dc50e4-5bb3-8ff6-9edc-1c9ec8f9e88f, id=fa20238f-c641-a407-f8c9-8d318238b4c2, closeableResource=org.springframework.integration.file.remote.session.CachingSessionFactory$CachedSession@64b375da, file_remoteFile=email_metadata_UNICA_CUSTID_Recipient-Event-Bulk-Export_6748469_Email_Jun-08-2023-20-10-00_20-21.csv, timestamp=1686683743081}]\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:108)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\n    at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:158)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:474)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:460)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.apache.kafka.common.errors.SerializationException: Can't convert value of class org.apache.sshd.sftp.client.impl.SftpInputStreamAsync to class org.apache.kafka.common.serialization.StringSerializer specified in value.serializer\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1008)\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:952)\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:1022)\n    at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:783)\n    at org.springframework.kafka.core.KafkaTemplate.observeSend(KafkaTemplate.java:754)\n    at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:564)\n    at org.springframework.integration.kafka.outbound.KafkaProducerMessageHandler.handleRequestMessage(KafkaProducerMessageHandler.java:528)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\n    ... 20 more\nCaused by: java.lang.ClassCastException: class org.apache.sshd.sftp.client.impl.SftpInputStreamAsync cannot be cast to class java.lang.String (org.apache.sshd.sftp.client.impl.SftpInputStreamAsync is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')\n    at org.apache.kafka.common.serialization.StringSerializer.serialize(StringSerializer.java:29)\n    at org.apache.kafka.common.serialization.Serializer.serialize(Serializer.java:62)\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1005)\n    ... 28 more\n</code></pre>\n<p>Here is my full Integration flow -</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n@Slf4j\npublic class AcousticEngageDataSftpToKafkaIntegrationFlow {\n\n    private static final String KAFKA_TOPIC = &quot;my-topic&quot;;\n\n    @Bean\n    public QueueChannel inboundFilesMessageChannel() {\n        return MessageChannels.queue().get();\n    }\n\n    @Bean\n    public QueueChannel kafkaPojoMessageChannel() {\n        return MessageChannels.queue().get();\n    }\n\n    @Bean\n    public MessageChannel kafkaProducerErrorRecordChannel() {\n        return MessageChannels.direct().get();\n    }\n\n    @Bean\n    public IntegrationFlow sftpFileTransferFlow(SessionFactory&lt;SftpClient.DirEntry&gt; engageSftpSessionFactory,\n                                                IntegrationFlowProperties engageProperties,\n                                                MessageChannel inboundFilesMessageChannel) {\n\n        return IntegrationFlow\n                .from(Sftp.inboundStreamingAdapter(new RemoteFileTemplate&lt;&gt;(engageSftpSessionFactory))\n                          .filter(new SftpRegexPatternFileListFilter(engageProperties.getRemoteFilePattern()))\n                              .remoteDirectory(engageProperties.getRemoteDirectory()),\n                e -&gt; e.id(&quot;sftpInboundAdapter&quot;)\n                        .autoStartup(true)\n                        .poller(Pollers.fixedRate(5000)))\n                .log(LoggingHandler.Level.DEBUG, &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;,\n                     &quot;headers['file_remoteDirectory'] + + T(java.io.File).separator  + headers['file_remoteFile']&quot;)\n                .channel(inboundFilesMessageChannel)\n                              .get();\n    }\n\n    @Bean\n    public IntegrationFlow readCsvFileFlow(MessageChannel inboundFilesMessageChannel,\n                                           QueueChannel kafkaPojoMessageChannel) {\n\n        return IntegrationFlow.from(inboundFilesMessageChannel)\n                              .split(s -&gt; s.delimiters(&quot;\\n&quot;))\n                              .log(LoggingHandler.Level.DEBUG,\n                                   &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;,\n                                   m -&gt; &quot;Payload: &quot; + m.getPayload())\n                              .channel(kafkaPojoMessageChannel)\n                              .get();\n    }\n\n    @Bean\n    public IntegrationFlow publishToKafkaFlow(KafkaTemplate&lt;String, String&gt; kafkaTemplate,\n                                              MessageChannel kafkaProducerErrorRecordChannel,\n                                              QueueChannel kafkaPojoMessageChannel) {\n\n        return IntegrationFlow.from(kafkaPojoMessageChannel)\n                .log(LoggingHandler.Level.DEBUG,\n                     &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;, e -&gt; &quot;Payload: &quot; + e.getPayload())\n                              .handle(Kafka.outboundChannelAdapter(kafkaTemplate)\n                                           .topic(KAFKA_TOPIC),\n                                      e -&gt; e.id(&quot;EngageKafkaProducer&quot;))\n                              .routeByException(r -&gt; r\n                                      .channelMapping(KafkaProducerException.class, kafkaProducerErrorRecordChannel)\n                                      .defaultOutputChannel(&quot;errorChannel&quot;))\n                              .get();\n    }\n\n    @Bean\n    @Transformer(inputChannel=&quot;inboundFilesMessageChannel&quot;, outputChannel=&quot;kafkaPojoMessageChannel&quot;)\n    ObjectToJsonTransformer objectToJsonTransformer() {\n        return new ObjectToJsonTransformer();\n    }\n\n    @Bean\n    public IntegrationFlow logErrorsInErrorQueue() {\n        return IntegrationFlow.from(&quot;errorChannel&quot;)\n                              .wireTap(f -&gt; f.handle(m -&gt; log.error(&quot;Error occurred in AcousticEngageDataSftpToKafkaIntegrationFlow: {}&quot;, m)))\n                              .channel(&quot;kafkaProducerErrorRecordChannel&quot;)\n                              .get();\n    }\n\n    @Bean\n    public IntegrationFlow kafkaProducerErrorFlow(\n            final MessageChannel kafkaProducerErrorRecordChannel) {\n\n        return IntegrationFlow.from(kafkaProducerErrorRecordChannel)\n                               .handle(&quot;KafkaExceptionHandler&quot;,\n                                       &quot;kafkaProducerErrorChannel&quot;)\n                               .get();\n    }\n}\n</code></pre>\n<p>I have tried using different transformers and a custom transformer.  As of right now my value and key serializers are set to Spring. I feel like the problem is in my transformer, but could also be in my serializing. The goal is to move it to a json schema, however as of right now I just want to see some data on the topic. Any help would be appreciated, thanks.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686685293,"creation_date":1686684681,"question_id":76468169,"body_markdown":"I&#39;m using Spring Boot with Hibernate to implement card game stats and I want to optimize my query for loading duels from the database.\r\n\r\nMy entity relations are setup as follows:  \r\nA `duel` contains `player` 1 and `player` 2, each `player` contains a list of `duel card`s in the main `deck` and extra `deck`. Each `duel card` has a rarity and a `card`. Each `card` can have an `archetype` (or not).\r\n\r\nHibernate generates the following query for resolving the cards in player&#39;s decks:\r\n\r\n```\r\nselect m1_0.deck_id,m1_1.id,c1_0.id,a1_0.id,a1_0.name,c1_0.card_id,c1_0.name,m1_1.rarity from deck_main_deck m1_0 join deck_card m1_1 on m1_1.id=m1_0.main_deck_id left join card c1_0 on c1_0.id=m1_1.card_id left join archetype a1_0 on a1_0.id=c1_0.archetype_id where m1_0.deck_id in(1207,58,59,110,111,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,402,403,404,405,406,407,408,409,410,411,412,413,414,415,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,552,553,554,555,556,557,558,559,560,561,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,752,753,754,755,802,803,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1202,1203,1204,1205,1206)\r\n```\r\n\r\nThe issue with this query is that with a longer id list and a bigger duel table (which can have 1000s of rows), the query will become very, very slow. But, only on the Java side, running the query on PgAdmin 4 is pretty fast, however, around 21,000 rows are returned. This query does not fetch all decks at once, I&#39;m already customizing the batch fetching sizes via `@BatchSize(size = XXX)` in my entity definitions for the deck lists.\r\n\r\nWhen I run this query with `explain (analyze, buffers)` in PgAdmin 4, I get the following query plan:\r\n\r\n    &quot;Gather  (cost=9928.27..23382.21 rows=21632 width=72) (actual time=215.012..510.135 rows=21427 loops=1)&quot;\r\n    &quot;  Workers Planned: 2&quot;\r\n    &quot;  Workers Launched: 2&quot;\r\n    &quot;  Buffers: shared hit=10546&quot;\r\n    &quot;  -&gt;  Hash Left Join  (cost=8928.27..20219.01 rows=9013 width=72) (actual time=130.749..402.611 rows=7142 loops=3)&quot;\r\n    &quot;        Hash Cond: (c1_0.archetype_id = a1_0.id)&quot;\r\n    &quot;        Buffers: shared hit=10546&quot;\r\n    &quot;        -&gt;  Hash Left Join  (cost=8915.22..20182.14 rows=9013 width=62) (actual time=129.414..395.421 rows=7142 loops=3)&quot;\r\n    &quot;              Hash Cond: (m1_1.card_id = c1_0.id)&quot;\r\n    &quot;              Buffers: shared hit=10537&quot;\r\n    &quot;              -&gt;  Parallel Hash Join  (cost=8658.20..19901.45 rows=9013 width=26) (actual time=122.704..380.588 rows=7142 loops=3)&quot;\r\n    &quot;                    Hash Cond: (m1_1.id = m1_0.main_deck_id)&quot;\r\n    &quot;                    Buffers: shared hit=10315&quot;\r\n    &quot;                    -&gt;  Parallel Seq Scan on deck_card m1_1  (cost=0.00..10185.92 rows=402792 width=18) (actual time=0.013..81.695 rows=322234 loops=3)&quot;\r\n    &quot;                          Buffers: shared hit=6158&quot;\r\n    &quot;                    -&gt;  Parallel Hash  (cost=8545.54..8545.54 rows=9013 width=16) (actual time=121.051..121.053 rows=7142 loops=3)&quot;\r\n    &quot;                          Buckets: 32768  Batches: 1  Memory Usage: 1280kB&quot;\r\n    &quot;                          Buffers: shared hit=3963&quot;\r\n    &quot;                          -&gt;  Parallel Seq Scan on deck_main_deck m1_0  (cost=1.25..8545.54 rows=9013 width=16) (actual time=52.449..117.443 rows=7142 loops=3)&quot;\r\n    &quot;                                Filter: (deck_id = ANY (&#39;{1207,58,59,110,111,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,402,403,404,405,406,407,408,409,410,411,412,413,414,415,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,552,553,554,555,556,557,558,559,560,561,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,752,753,754,755,802,803,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1202,1203,1204,1205,1206}&#39;::bigint[]))&quot;\r\n    &quot;                                Rows Removed by Filter: 237193&quot;\r\n    &quot;                                Buffers: shared hit=3963&quot;\r\n    &quot;              -&gt;  Hash  (cost=155.34..155.34 rows=8134 width=44) (actual time=6.636..6.637 rows=8134 loops=3)&quot;\r\n    &quot;                    Buckets: 8192  Batches: 1  Memory Usage: 672kB&quot;\r\n    &quot;                    Buffers: shared hit=222&quot;\r\n    &quot;                    -&gt;  Seq Scan on card c1_0  (cost=0.00..155.34 rows=8134 width=44) (actual time=0.864..2.636 rows=8134 loops=3)&quot;\r\n    &quot;                          Buffers: shared hit=222&quot;\r\n    &quot;        -&gt;  Hash  (cost=7.47..7.47 rows=447 width=18) (actual time=1.310..1.311 rows=447 loops=3)&quot;\r\n    &quot;              Buckets: 1024  Batches: 1  Memory Usage: 30kB&quot;\r\n    &quot;              Buffers: shared hit=9&quot;\r\n    &quot;              -&gt;  Seq Scan on archetype a1_0  (cost=0.00..7.47 rows=447 width=18) (actual time=1.012..1.109 rows=447 loops=3)&quot;\r\n    &quot;                    Buffers: shared hit=9&quot;\r\n    &quot;Planning:&quot;\r\n    &quot;  Buffers: shared hit=44&quot;\r\n    &quot;Planning Time: 4.240 ms&quot;\r\n    &quot;Execution Time: 513.047 ms&quot;\r\n\r\nIt seems like PostgreSQL does a good job at optimizing the query. I&#39;m still wondering if I can add any additional optimizations such as indexes? PostgreSQL indexes primary keys by default so that&#39;s already taken care of.\r\n\r\n**Why does Hibernate parse the result rows so slowly?**  \r\nIf I reduce the duel count fetched per query (e.g. working with [`Pageable`][1]s and looping manually), the row parsing time seems to decrease significantly but the performance is still not great, reading 1000s of duels will take minutes. I was hoping to reduce this time to seconds since performance and a reasonably low memory footprint are both crucial for my use case. Note that I&#39;m using standard CRUD repository methods such as\r\n\r\n    @EntityGraph(value = &quot;Duel.withPlayers&quot;, type = EntityGraph.EntityGraphType.LOAD)\r\n    List&lt;Duel&gt; findAllByGameMode(final GameMode gameMode, final Pageable pageable);\r\n\r\nIt&#39;s also strange that just fetching all is way faster:  \r\n\r\n    @EntityGraph(value = &quot;Duel.withPlayers&quot;, type = EntityGraph.EntityGraphType.LOAD)\r\n    List&lt;Duel&gt; findAll(final Pageable pageable);\r\n\r\nFiltering out rows by e.g. game mode is enormously slower. How does that make sense? The returned row count is even higher than in the previous query but Hibernate processes it way faster anyway.\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html","title":"Filtering rows is way slower in Hibernate than returning all rows","body":"<p>I'm using Spring Boot with Hibernate to implement card game stats and I want to optimize my query for loading duels from the database.</p>\n<p>My entity relations are setup as follows:<br />\nA <code>duel</code> contains <code>player</code> 1 and <code>player</code> 2, each <code>player</code> contains a list of <code>duel card</code>s in the main <code>deck</code> and extra <code>deck</code>. Each <code>duel card</code> has a rarity and a <code>card</code>. Each <code>card</code> can have an <code>archetype</code> (or not).</p>\n<p>Hibernate generates the following query for resolving the cards in player's decks:</p>\n<pre><code>select m1_0.deck_id,m1_1.id,c1_0.id,a1_0.id,a1_0.name,c1_0.card_id,c1_0.name,m1_1.rarity from deck_main_deck m1_0 join deck_card m1_1 on m1_1.id=m1_0.main_deck_id left join card c1_0 on c1_0.id=m1_1.card_id left join archetype a1_0 on a1_0.id=c1_0.archetype_id where m1_0.deck_id in(1207,58,59,110,111,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,402,403,404,405,406,407,408,409,410,411,412,413,414,415,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,552,553,554,555,556,557,558,559,560,561,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,752,753,754,755,802,803,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1202,1203,1204,1205,1206)\n</code></pre>\n<p>The issue with this query is that with a longer id list and a bigger duel table (which can have 1000s of rows), the query will become very, very slow. But, only on the Java side, running the query on PgAdmin 4 is pretty fast, however, around 21,000 rows are returned. This query does not fetch all decks at once, I'm already customizing the batch fetching sizes via <code>@BatchSize(size = XXX)</code> in my entity definitions for the deck lists.</p>\n<p>When I run this query with <code>explain (analyze, buffers)</code> in PgAdmin 4, I get the following query plan:</p>\n<pre><code>&quot;Gather  (cost=9928.27..23382.21 rows=21632 width=72) (actual time=215.012..510.135 rows=21427 loops=1)&quot;\n&quot;  Workers Planned: 2&quot;\n&quot;  Workers Launched: 2&quot;\n&quot;  Buffers: shared hit=10546&quot;\n&quot;  -&gt;  Hash Left Join  (cost=8928.27..20219.01 rows=9013 width=72) (actual time=130.749..402.611 rows=7142 loops=3)&quot;\n&quot;        Hash Cond: (c1_0.archetype_id = a1_0.id)&quot;\n&quot;        Buffers: shared hit=10546&quot;\n&quot;        -&gt;  Hash Left Join  (cost=8915.22..20182.14 rows=9013 width=62) (actual time=129.414..395.421 rows=7142 loops=3)&quot;\n&quot;              Hash Cond: (m1_1.card_id = c1_0.id)&quot;\n&quot;              Buffers: shared hit=10537&quot;\n&quot;              -&gt;  Parallel Hash Join  (cost=8658.20..19901.45 rows=9013 width=26) (actual time=122.704..380.588 rows=7142 loops=3)&quot;\n&quot;                    Hash Cond: (m1_1.id = m1_0.main_deck_id)&quot;\n&quot;                    Buffers: shared hit=10315&quot;\n&quot;                    -&gt;  Parallel Seq Scan on deck_card m1_1  (cost=0.00..10185.92 rows=402792 width=18) (actual time=0.013..81.695 rows=322234 loops=3)&quot;\n&quot;                          Buffers: shared hit=6158&quot;\n&quot;                    -&gt;  Parallel Hash  (cost=8545.54..8545.54 rows=9013 width=16) (actual time=121.051..121.053 rows=7142 loops=3)&quot;\n&quot;                          Buckets: 32768  Batches: 1  Memory Usage: 1280kB&quot;\n&quot;                          Buffers: shared hit=3963&quot;\n&quot;                          -&gt;  Parallel Seq Scan on deck_main_deck m1_0  (cost=1.25..8545.54 rows=9013 width=16) (actual time=52.449..117.443 rows=7142 loops=3)&quot;\n&quot;                                Filter: (deck_id = ANY ('{1207,58,59,110,111,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,402,403,404,405,406,407,408,409,410,411,412,413,414,415,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,552,553,554,555,556,557,558,559,560,561,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,752,753,754,755,802,803,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1202,1203,1204,1205,1206}'::bigint[]))&quot;\n&quot;                                Rows Removed by Filter: 237193&quot;\n&quot;                                Buffers: shared hit=3963&quot;\n&quot;              -&gt;  Hash  (cost=155.34..155.34 rows=8134 width=44) (actual time=6.636..6.637 rows=8134 loops=3)&quot;\n&quot;                    Buckets: 8192  Batches: 1  Memory Usage: 672kB&quot;\n&quot;                    Buffers: shared hit=222&quot;\n&quot;                    -&gt;  Seq Scan on card c1_0  (cost=0.00..155.34 rows=8134 width=44) (actual time=0.864..2.636 rows=8134 loops=3)&quot;\n&quot;                          Buffers: shared hit=222&quot;\n&quot;        -&gt;  Hash  (cost=7.47..7.47 rows=447 width=18) (actual time=1.310..1.311 rows=447 loops=3)&quot;\n&quot;              Buckets: 1024  Batches: 1  Memory Usage: 30kB&quot;\n&quot;              Buffers: shared hit=9&quot;\n&quot;              -&gt;  Seq Scan on archetype a1_0  (cost=0.00..7.47 rows=447 width=18) (actual time=1.012..1.109 rows=447 loops=3)&quot;\n&quot;                    Buffers: shared hit=9&quot;\n&quot;Planning:&quot;\n&quot;  Buffers: shared hit=44&quot;\n&quot;Planning Time: 4.240 ms&quot;\n&quot;Execution Time: 513.047 ms&quot;\n</code></pre>\n<p>It seems like PostgreSQL does a good job at optimizing the query. I'm still wondering if I can add any additional optimizations such as indexes? PostgreSQL indexes primary keys by default so that's already taken care of.</p>\n<p><strong>Why does Hibernate parse the result rows so slowly?</strong><br />\nIf I reduce the duel count fetched per query (e.g. working with <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Pageable.html\" rel=\"nofollow noreferrer\"><code>Pageable</code></a>s and looping manually), the row parsing time seems to decrease significantly but the performance is still not great, reading 1000s of duels will take minutes. I was hoping to reduce this time to seconds since performance and a reasonably low memory footprint are both crucial for my use case. Note that I'm using standard CRUD repository methods such as</p>\n<pre><code>@EntityGraph(value = &quot;Duel.withPlayers&quot;, type = EntityGraph.EntityGraphType.LOAD)\nList&lt;Duel&gt; findAllByGameMode(final GameMode gameMode, final Pageable pageable);\n</code></pre>\n<p>It's also strange that just fetching all is way faster:</p>\n<pre><code>@EntityGraph(value = &quot;Duel.withPlayers&quot;, type = EntityGraph.EntityGraphType.LOAD)\nList&lt;Duel&gt; findAll(final Pageable pageable);\n</code></pre>\n<p>Filtering out rows by e.g. game mode is enormously slower. How does that make sense? The returned row count is even higher than in the previous query but Hibernate processes it way faster anyway.</p>\n"},{"tags":["java","gradle","dependency-management","jdb"],"comments":[{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":3,"creation_date":1686607967,"post_id":76442534,"comment_id":134819588,"body_markdown":"The Spring dependency management plugin has nothing to do with source code. It only allows to control dependency versions coming from BOMs. Actually, it is a relict from times when Gradle had no built-in BOM support. Even the maintainer of that plugin recommends to not use it anymore, but instead use the built-in BOM support. But anyway this has nothing to do with your actual question either way.","body":"The Spring dependency management plugin has nothing to do with source code. It only allows to control dependency versions coming from BOMs. Actually, it is a relict from times when Gradle had no built-in BOM support. Even the maintainer of that plugin recommends to not use it anymore, but instead use the built-in BOM support. But anyway this has nothing to do with your actual question either way."}],"answers":[{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686684388,"creation_date":1686684388,"answer_id":76468138,"question_id":76442534,"body_markdown":"See this answer to download the sources of your dependencies : https://stackoverflow.com/questions/39975780/how-can-i-use-gradle-to-download-dependencies-and-their-source-files-and-place-t/39981143#39981143\r\n\r\nThen, use the sourcepath jdb option to let him know where the sources are:\r\n`jdb -sourcepath &quot;.:/path/to/download&quot;`.","title":"Gradle: How to debug a source code of a dependency","body":"<p>See this answer to download the sources of your dependencies : <a href=\"https://stackoverflow.com/questions/39975780/how-can-i-use-gradle-to-download-dependencies-and-their-source-files-and-place-t/39981143#39981143\">How can I use Gradle to download dependencies and their source files and place them all in one directory?</a></p>\n<p>Then, use the sourcepath jdb option to let him know where the sources are:\n<code>jdb -sourcepath &quot;.:/path/to/download&quot;</code>.</p>\n"}],"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76468138,"answer_count":1,"score":1,"last_activity_date":1686684388,"creation_date":1686332036,"question_id":76442534,"body_markdown":"I&#39;m using `jdb` debugger and I&#39;d like to step into the dependency code. I&#39;m using `gradle` as well.\r\nHere is my `build.gradle`\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &quot;io.spring.dependency-management&quot; version &quot;1.1.0&quot;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.squareup.okhttp3:okhttp:4.9.0&#39;\r\n    }\r\n    \r\n    task runApp(type: JavaExec) {\r\n        main = &#39;App&#39;\r\n        classpath = sourceSets.main.runtimeClasspath\r\n    }\r\n\r\nI&#39;m using a plugin, that should automatically download and manage the source code for my dependencies (`io.spring.dependency-management`). I&#39;m not sure, if this is the right plugin.\r\n\r\nBut when I run\r\n\r\n    $ gradle clean\r\n    $ gradle build\r\n\r\nand then I run `jdb` I can view my source code file but I can&#39;t view (list) the source code of a dependency.\r\n\r\nWhat I&#39;d like to achieve?\r\n\r\n 1. step into the code of a dependency\r\n 2. list the source code with the `list` command\r\n\r\nHow can I do it?\r\n\r\n","title":"Gradle: How to debug a source code of a dependency","body":"<p>I'm using <code>jdb</code> debugger and I'd like to step into the dependency code. I'm using <code>gradle</code> as well.\nHere is my <code>build.gradle</code></p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;io.spring.dependency-management&quot; version &quot;1.1.0&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.squareup.okhttp3:okhttp:4.9.0'\n}\n\ntask runApp(type: JavaExec) {\n    main = 'App'\n    classpath = sourceSets.main.runtimeClasspath\n}\n</code></pre>\n<p>I'm using a plugin, that should automatically download and manage the source code for my dependencies (<code>io.spring.dependency-management</code>). I'm not sure, if this is the right plugin.</p>\n<p>But when I run</p>\n<pre><code>$ gradle clean\n$ gradle build\n</code></pre>\n<p>and then I run <code>jdb</code> I can view my source code file but I can't view (list) the source code of a dependency.</p>\n<p>What I'd like to achieve?</p>\n<ol>\n<li>step into the code of a dependency</li>\n<li>list the source code with the <code>list</code> command</li>\n</ol>\n<p>How can I do it?</p>\n"},{"tags":["java","junit","mockito","mapper"],"comments":[{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1686121210,"post_id":76419674,"comment_id":134753864,"body_markdown":"Manually instantiate mapper like\nprivate UserToUserDTOMapper mapper = new UserToUserDTOMapperImpl();\nAnd remove &#39;@beforeEach&#39; method and @RequiredArgConstructor. you do not need it","body":"Manually instantiate mapper like private UserToUserDTOMapper mapper = new UserToUserDTOMapperImpl(); And remove &#39;@beforeEach&#39; method and @RequiredArgConstructor. you do not need it"},{"owner":{"account_id":1466631,"reputation":283,"user_id":3652852,"accept_rate":60,"display_name":"user1379280"},"score":0,"creation_date":1686164197,"post_id":76419674,"comment_id":134763153,"body_markdown":"@Feelfree : I dont think thats a good idea , DI is already injecting the mapper instance.","body":"@Feelfree : I dont think thats a good idea , DI is already injecting the mapper instance."},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1686311182,"post_id":76419674,"comment_id":134784867,"body_markdown":"can you post your entire stack track?","body":"can you post your entire stack track?"}],"answers":[{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686684224,"creation_date":1686322930,"answer_id":76441436,"question_id":76419674,"body_markdown":"Since `mapper` is `final`, `@RequiredArgsConstructor` is creating a constructor like:\r\n\r\n```java\r\nUserToUserDTOMapperTest(UserToUserDTOMapper mapper) {\r\n    this.mapper = mapper;\r\n}\r\n```\r\n\r\nNow, when JUnit tries to instantiate the test class, it cannot resolve that constructor parameter – hence the `ParameterResolutionException`.\r\n\r\nYou are using MapStruct, so you can change the test as follows:\r\n\r\n```java\r\n// No @RequiredArgsConstructor / Lombok needed.\r\nclass UserToUserDTOMapperTest {\r\n\r\n    UserToUserDTOMapper classUnderTest = Mappers.getMapper(UserToUserDTOMapper.class);\r\n\r\n    String NAME = &quot;asd&quot;;\r\n    String EMAIL = &quot;asd@gmail.com&quot;;\r\n\r\n    @Test\r\n    void testMapUserToUserDTO() {\r\n        User user = User.builder()\r\n                .name(NAME)\r\n                .email(EMAIL)\r\n                .build();\r\n\r\n        UserDTO userDTO = classUnderTest.mapUserToUserDTO(user);\r\n\r\n        assertNotNull(userDTO);\r\n        assertEquals(NAME, userDTO.getName());\r\n        assertEquals(EMAIL, userDTO.getEmail());\r\n    }\r\n}\r\n```\r\n\r\nSee also:\r\n\r\nhttps://mapstruct.org/documentation/stable/reference/html/#mappers-factory","title":"Getting Exception in mappers test &#39;ParameterResolutionException&#39;","body":"<p>Since <code>mapper</code> is <code>final</code>, <code>@RequiredArgsConstructor</code> is creating a constructor like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserToUserDTOMapperTest(UserToUserDTOMapper mapper) {\n    this.mapper = mapper;\n}\n</code></pre>\n<p>Now, when JUnit tries to instantiate the test class, it cannot resolve that constructor parameter – hence the <code>ParameterResolutionException</code>.</p>\n<p>You are using MapStruct, so you can change the test as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// No @RequiredArgsConstructor / Lombok needed.\nclass UserToUserDTOMapperTest {\n\n    UserToUserDTOMapper classUnderTest = Mappers.getMapper(UserToUserDTOMapper.class);\n\n    String NAME = &quot;asd&quot;;\n    String EMAIL = &quot;asd@gmail.com&quot;;\n\n    @Test\n    void testMapUserToUserDTO() {\n        User user = User.builder()\n                .name(NAME)\n                .email(EMAIL)\n                .build();\n\n        UserDTO userDTO = classUnderTest.mapUserToUserDTO(user);\n\n        assertNotNull(userDTO);\n        assertEquals(NAME, userDTO.getName());\n        assertEquals(EMAIL, userDTO.getEmail());\n    }\n}\n</code></pre>\n<p>See also:</p>\n<p><a href=\"https://mapstruct.org/documentation/stable/reference/html/#mappers-factory\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#mappers-factory</a></p>\n"}],"owner":{"account_id":1466631,"reputation":283,"user_id":3652852,"accept_rate":60,"display_name":"user1379280"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686684224,"creation_date":1686107531,"question_id":76419674,"body_markdown":"I have two domain classes User and UserDTO\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class User {\r\n        private String name;\r\n        private String email;\r\n    }\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class UserDTO {\r\n        private String name;\r\n        private String email;\r\n    }\r\n\r\nand I have configured a Mapper class\r\n\r\n    import org.mapstruct.Builder;\r\n    import org.mapstruct.Mapper;\r\n    \r\n    import java.time.LocalDateTime;\r\n    \r\n    @Mapper\r\n            (\r\n                    componentModel = &quot;spring&quot;,\r\n                    builder = @Builder(disableBuilder = true),\r\n                    imports = {LocalDateTime.class}\r\n            )\r\n    public abstract class UserToUserDTOMapper {\r\n        public abstract UserDTO mapUserToUserDTO(User user);\r\n    \r\n        public abstract User mapUserDTOToUser(UserDTO userDTO);\r\n    }\r\n\r\nI can see the Mapper class generated in the generated source\r\n\r\nI have written a Unit Test For it\r\n\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    import org.junit.jupiter.api.BeforeEach;\r\n    \r\n    @RequiredArgsConstructor\r\n    class UserToUserDTOMapperTest {\r\n        private final UserToUserDTOMapper mapper;\r\n    \r\n        String NAME = &quot;asd&quot;;\r\n        String EMAIL = &quot;asd@gmail.com&quot;;\r\n    \r\n        @BeforeEach\r\n        public void setUp() {\r\n        }\r\n    \r\n        @Test\r\n        public void testMapUserToUserDTO() {\r\n            User user = User.builder().name(NAME).email(EMAIL).build();\r\n            UserDTO userDTO = mapper.mapUserToUserDTO(user);\r\n    \t\tassertNotNull(userDTO);\r\n            assertEquals(NAME, userDTO.getName());\r\n            assertEquals(EMAIL, userDTO.getEmail());\r\n        }\r\n    }\r\n\r\nBut When I try to execute the test , It Fails with the error message\r\n**org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter [final com.asd.mapper.UserToUserDTOMapper mapper] in constructor [public com.asd.mapper.UserToUserDTOMapperTest(com.asd.mapper.UserToUserDTOMapper)]**\r\n\r\n\r\n\r\n","title":"Getting Exception in mappers test &#39;ParameterResolutionException&#39;","body":"<p>I have two domain classes User and UserDTO</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n    private String name;\n    private String email;\n}\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserDTO {\n    private String name;\n    private String email;\n}\n</code></pre>\n<p>and I have configured a Mapper class</p>\n<pre><code>import org.mapstruct.Builder;\nimport org.mapstruct.Mapper;\n\nimport java.time.LocalDateTime;\n\n@Mapper\n        (\n                componentModel = &quot;spring&quot;,\n                builder = @Builder(disableBuilder = true),\n                imports = {LocalDateTime.class}\n        )\npublic abstract class UserToUserDTOMapper {\n    public abstract UserDTO mapUserToUserDTO(User user);\n\n    public abstract User mapUserDTOToUser(UserDTO userDTO);\n}\n</code></pre>\n<p>I can see the Mapper class generated in the generated source</p>\n<p>I have written a Unit Test For it</p>\n<pre><code>import lombok.RequiredArgsConstructor;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.BeforeEach;\n\n@RequiredArgsConstructor\nclass UserToUserDTOMapperTest {\n    private final UserToUserDTOMapper mapper;\n\n    String NAME = &quot;asd&quot;;\n    String EMAIL = &quot;asd@gmail.com&quot;;\n\n    @BeforeEach\n    public void setUp() {\n    }\n\n    @Test\n    public void testMapUserToUserDTO() {\n        User user = User.builder().name(NAME).email(EMAIL).build();\n        UserDTO userDTO = mapper.mapUserToUserDTO(user);\n        assertNotNull(userDTO);\n        assertEquals(NAME, userDTO.getName());\n        assertEquals(EMAIL, userDTO.getEmail());\n    }\n}\n</code></pre>\n<p>But When I try to execute the test , It Fails with the error message\n<strong>org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter [final com.asd.mapper.UserToUserDTOMapper mapper] in constructor [public com.asd.mapper.UserToUserDTOMapperTest(com.asd.mapper.UserToUserDTOMapper)]</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9621,"page":371,"page_size":100}
