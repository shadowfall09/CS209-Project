{"items":[{"tags":["java","json","spring-boot","api","exception"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659126103,"creation_date":1659126103,"answer_id":73170652,"question_id":73169821,"body_markdown":"In spring boot the `ObjectMapper` by default used the `getters` and `setters` for [Serialization and Deserialization][1], while the response type is `CompletionStage` the object mapper will be serializing corresponding child object (for example [CompletableFuture][1]) and serializing method starts with `get` and `is`\r\n\r\n    public boolean isDone()\r\n    public boolean isCancelled()\r\n    public boolean isCompletedExceptionally()\r\n    public int getNumberOfDependents()\r\n\r\nAnd since then name of method is `get` which returns the final object, the `objectmapper` is simply ignoring it\r\n\r\n    public T get() throws InterruptedException, ExecutionException \r\n    \r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/CompletableFuture.java","title":"Spring Exception Handling using @ControllerAdvice","body":"<p>In spring boot the <code>ObjectMapper</code> by default used the <code>getters</code> and <code>setters</code> for <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/CompletableFuture.java\" rel=\"nofollow noreferrer\">Serialization and Deserialization</a>, while the response type is <code>CompletionStage</code> the object mapper will be serializing corresponding child object (for example <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/CompletableFuture.java\" rel=\"nofollow noreferrer\">CompletableFuture</a>) and serializing method starts with <code>get</code> and <code>is</code></p>\n<pre><code>public boolean isDone()\npublic boolean isCancelled()\npublic boolean isCompletedExceptionally()\npublic int getNumberOfDependents()\n</code></pre>\n<p>And since then name of method is <code>get</code> which returns the final object, the <code>objectmapper</code> is simply ignoring it</p>\n<pre><code>public T get() throws InterruptedException, ExecutionException \n</code></pre>\n"}],"owner":{"account_id":17484901,"reputation":90,"user_id":12678146,"display_name":"Aman Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659126103,"creation_date":1659120488,"question_id":73169821,"body_markdown":"I have created an **APIExceptionHandler** class to handle custom **Runtime Exceptions**.\r\nOne of the **Exception** classes that I have created is **PasswordMismatchException**. So whenever an exception is encountered I return a response of type **APIResponse**.\r\n\r\nNow my question is why the expected **Response** is not getting generated when using **CompletableFuture**.\r\n\r\n**APIResponse.java**\r\n```\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class APIResponse {\r\n    private Map&lt;String, String&gt; response;\r\n}\r\n```\r\n\r\n**Exception Handler (CompletableFuture)**\r\n```\r\n    @ExceptionHandler(PasswordMismatchException.class)\r\n    public CompletionStage&lt;ResponseEntity&lt;APIResponse&gt;&gt; passwordMismatchExceptionHandler(PasswordMismatchException exception) {\r\n        return CompletableFuture.completedFuture(Collections.singletonMap(MESSAGE_FIELD, exception.getMessage()))\r\n                .thenApply(APIResponse::new)\r\n                .thenApply(response -&gt; new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST));\r\n    }\r\n```\r\n\r\n**Response (not as expected)**\r\n```\r\n{\r\n    &quot;done&quot;: true,\r\n    &quot;cancelled&quot;: false,\r\n    &quot;completedExceptionally&quot;: false,\r\n    &quot;numberOfDependents&quot;: 0\r\n}\r\n```\r\n\r\n**Exception Handler (normal)**\r\n```\r\n    @ExceptionHandler(PasswordMismatchException.class)\r\n    public ResponseEntity&lt;APIResponse&gt; passwordMismatchExceptionHandler(PasswordMismatchException exception) {\r\n        Map&lt;String, String&gt; errorMessageMap = Collections.singletonMap(MESSAGE_FIELD, exception.getMessage());\r\n        APIResponse response = new APIResponse(errorMessageMap);\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\n\r\n**Response (as expected)**\r\n```\r\n{\r\n    &quot;response&quot;: {\r\n        &quot;message&quot;: &quot;Password did not match with Repeated Password.&quot;\r\n    }\r\n}\r\n```","title":"Spring Exception Handling using @ControllerAdvice","body":"<p>I have created an <strong>APIExceptionHandler</strong> class to handle custom <strong>Runtime Exceptions</strong>.\nOne of the <strong>Exception</strong> classes that I have created is <strong>PasswordMismatchException</strong>. So whenever an exception is encountered I return a response of type <strong>APIResponse</strong>.</p>\n<p>Now my question is why the expected <strong>Response</strong> is not getting generated when using <strong>CompletableFuture</strong>.</p>\n<p><strong>APIResponse.java</strong></p>\n<pre><code>@AllArgsConstructor\n@Getter\n@Setter\npublic class APIResponse {\n    private Map&lt;String, String&gt; response;\n}\n</code></pre>\n<p><strong>Exception Handler (CompletableFuture)</strong></p>\n<pre><code>    @ExceptionHandler(PasswordMismatchException.class)\n    public CompletionStage&lt;ResponseEntity&lt;APIResponse&gt;&gt; passwordMismatchExceptionHandler(PasswordMismatchException exception) {\n        return CompletableFuture.completedFuture(Collections.singletonMap(MESSAGE_FIELD, exception.getMessage()))\n                .thenApply(APIResponse::new)\n                .thenApply(response -&gt; new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST));\n    }\n</code></pre>\n<p><strong>Response (not as expected)</strong></p>\n<pre><code>{\n    &quot;done&quot;: true,\n    &quot;cancelled&quot;: false,\n    &quot;completedExceptionally&quot;: false,\n    &quot;numberOfDependents&quot;: 0\n}\n</code></pre>\n<p><strong>Exception Handler (normal)</strong></p>\n<pre><code>    @ExceptionHandler(PasswordMismatchException.class)\n    public ResponseEntity&lt;APIResponse&gt; passwordMismatchExceptionHandler(PasswordMismatchException exception) {\n        Map&lt;String, String&gt; errorMessageMap = Collections.singletonMap(MESSAGE_FIELD, exception.getMessage());\n        APIResponse response = new APIResponse(errorMessageMap);\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n<p><strong>Response (as expected)</strong></p>\n<pre><code>{\n    &quot;response&quot;: {\n        &quot;message&quot;: &quot;Password did not match with Repeated Password.&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","grpc","spigot","bungeecord"],"answers":[{"tags":[],"owner":{"account_id":25928469,"reputation":36,"user_id":19649986,"display_name":"soban"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659125886,"creation_date":1659125886,"answer_id":73170621,"question_id":72820928,"body_markdown":"Try to lower the version of io.grpc eg. to `1.30.0`, worked for me. \r\nI had issue with jar packaged grpc client, what worked in IDE did not worked from jar, the `-Djava.net.preferIPv4Stack=true` only changed the exception...\r\nSpent some time on that as I&#39;ve started to track the issue from k8s pod :/","title":"java.net.SocketException: Invalid argument: connect with BungeeCord","body":"<p>Try to lower the version of io.grpc eg. to <code>1.30.0</code>, worked for me.\nI had issue with jar packaged grpc client, what worked in IDE did not worked from jar, the <code>-Djava.net.preferIPv4Stack=true</code> only changed the exception...\nSpent some time on that as I've started to track the issue from k8s pod :/</p>\n"}],"owner":{"account_id":11696529,"reputation":33,"user_id":8563084,"display_name":"oniumy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73170621,"answer_count":1,"score":3,"last_activity_date":1659125886,"creation_date":1656616308,"question_id":72820928,"body_markdown":"I wrote a Java dependency that uses gRPC to connect to a server. Using this dependency in my spigot plugins and plain java projects works fine, but using it in BungeeCord plugins produces the following exception:\r\n\r\n```\r\nCaused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Invalid argument: /www.google.com\r\nCaused by: java.net.ConnectException: connect(..) failed: Invalid argument\r\n     at io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:155)\r\n     at io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\r\n     at io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:312)\r\n     at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\r\n     at io.grpc.netty.shaded.io.netty.channel.epoll.EpollSocketChannel.doConnect0(EpollSocketChannel.java:138)\r\n     at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\r\n     at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\r\n     at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\n     at io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\r\n     at io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\r\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\r\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\r\n     at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n     at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\r\n     at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:387)\r\n     at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n     at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     at java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n## What I tried ##\r\n\r\nI tested this with the exact same java runtime, as well as newer versions. I also tried the suggestions in https://stackoverflow.com/questions/8216713/java-net-socketexception-invalid-argument-connect and similar questions asked previously, but none of the proposed solutions worked for me.\r\n\r\nThe most suggested fix of using `-Djava.net.preferIPv4Stack=true` changes the exception to\r\n\r\n```\r\nCaused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Address family not supported by protocol: /www.google.com\r\nCaused by: java.net.ConnectException: connect(..) failed: Address family not supported by protocol\r\n```\r\n\r\nbut I&#39;m stuck there as well. I already tried to switch the host I&#39;m running this code on and enabled both IPv4 and IPv6 support on the server gRPC endpoint, with no luck. `www.google.com` is just a placeholder in these exceptions.\r\n\r\n## What I suspect ##\r\n\r\nGiven it works with all the other projects, I suspect that is has to do with BungeeCord. As far as I investigated BungeeCord itself does not use gRPC (I could be wrong about that). Relocating `io.grpc.netty.shaded.io.netty` with maven unfortunately did not work for me (maybe because it is already relocated?).\r\n\r\nAfter two days of trying I&#39;m out of my depth and have no idea how to further debug this.","title":"java.net.SocketException: Invalid argument: connect with BungeeCord","body":"<p>I wrote a Java dependency that uses gRPC to connect to a server. Using this dependency in my spigot plugins and plain java projects works fine, but using it in BungeeCord plugins produces the following exception:</p>\n<pre><code>Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Invalid argument: /www.google.com\nCaused by: java.net.ConnectException: connect(..) failed: Invalid argument\n     at io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:155)\n     at io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\n     at io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:312)\n     at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\n     at io.grpc.netty.shaded.io.netty.channel.epoll.EpollSocketChannel.doConnect0(EpollSocketChannel.java:138)\n     at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\n     at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\n     at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\n     at io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\n     at io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\n     at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\n     at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n     at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\n     at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:387)\n     at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n     at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n     at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n     at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<h2>What I tried</h2>\n<p>I tested this with the exact same java runtime, as well as newer versions. I also tried the suggestions in <a href=\"https://stackoverflow.com/questions/8216713/java-net-socketexception-invalid-argument-connect\">java.net.SocketException: Invalid argument: connect</a> and similar questions asked previously, but none of the proposed solutions worked for me.</p>\n<p>The most suggested fix of using <code>-Djava.net.preferIPv4Stack=true</code> changes the exception to</p>\n<pre><code>Caused by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Address family not supported by protocol: /www.google.com\nCaused by: java.net.ConnectException: connect(..) failed: Address family not supported by protocol\n</code></pre>\n<p>but I'm stuck there as well. I already tried to switch the host I'm running this code on and enabled both IPv4 and IPv6 support on the server gRPC endpoint, with no luck. <code>www.google.com</code> is just a placeholder in these exceptions.</p>\n<h2>What I suspect</h2>\n<p>Given it works with all the other projects, I suspect that is has to do with BungeeCord. As far as I investigated BungeeCord itself does not use gRPC (I could be wrong about that). Relocating <code>io.grpc.netty.shaded.io.netty</code> with maven unfortunately did not work for me (maybe because it is already relocated?).</p>\n<p>After two days of trying I'm out of my depth and have no idea how to further debug this.</p>\n"},{"tags":["java","xml","jaxb","unmarshalling"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659125727,"creation_date":1659124818,"answer_id":73170458,"question_id":73153991,"body_markdown":"In your class `Error` you have annoated the properties\r\n`type` and `message` with `@XmlAttribute`.\r\nThat means, you can handle XML input with XML *attributes*, like this:\r\n\r\n    &lt;error type=&quot;MalformedXML&quot; message=&quot;Message&quot;&gt;&lt;/error&gt;\r\n\r\nBut actually you have input with XML *elements*, like this:\r\n\r\n\t&lt;error&gt;\r\n\t\t&lt;type&gt;MalformedXML&lt;/type&gt;\r\n\t\t&lt;message&gt;Message 1&lt;/message&gt;\r\n\t&lt;/error&gt;\r\n\r\nSo, in your class `Error` you need to replace `@XmlAttribute` by\r\n`@XmlElement`, or just omit it altogether.\r\n\r\nAfter doing this, the `&lt;error&gt;` parts of your XML input\r\nwill be unmarshalled correctly.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OTyVC.png","title":"JAXB - unmarshall XML message to list","body":"<p>In your class <code>Error</code> you have annoated the properties\n<code>type</code> and <code>message</code> with <code>@XmlAttribute</code>.\nThat means, you can handle XML input with XML <em>attributes</em>, like this:</p>\n<pre><code>&lt;error type=&quot;MalformedXML&quot; message=&quot;Message&quot;&gt;&lt;/error&gt;\n</code></pre>\n<p>But actually you have input with XML <em>elements</em>, like this:</p>\n<pre><code>&lt;error&gt;\n    &lt;type&gt;MalformedXML&lt;/type&gt;\n    &lt;message&gt;Message 1&lt;/message&gt;\n&lt;/error&gt;\n</code></pre>\n<p>So, in your class <code>Error</code> you need to replace <code>@XmlAttribute</code> by\n<code>@XmlElement</code>, or just omit it altogether.</p>\n<p>After doing this, the <code>&lt;error&gt;</code> parts of your XML input\nwill be unmarshalled correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/OTyVC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OTyVC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73170458,"answer_count":1,"score":0,"last_activity_date":1659125727,"creation_date":1659016129,"question_id":73153991,"body_markdown":"could someone help me how should my Java class look like when I would like to unmarshall this xml?\r\n\r\n```xml\r\n&lt;content&gt;\r\n        &lt;status&gt;NACK&lt;/status&gt;\r\n        &lt;securitiesFinancingTrade&gt;\r\n            &lt;id version=&quot;1&quot; type=&quot;originalDealId&quot;&gt;999999&lt;/id&gt;\r\n        &lt;/securitiesFinancingTrade&gt;\r\n        &lt;schemaVersion&gt;Schema1&lt;/schemaVersion&gt;\r\n        &lt;error&gt;\r\n            &lt;type&gt;MalformedXML&lt;/type&gt;\r\n            &lt;message&gt;Message 1&lt;/message&gt;\r\n        &lt;/error&gt;\r\n        &lt;error&gt;\r\n            &lt;type&gt;MalformedXML&lt;/type&gt;\r\n            &lt;message&gt;Message 2&lt;/message&gt;\r\n        &lt;/error&gt;\r\n    &lt;/content&gt;\r\n```\r\n\r\nCurrently I have it like this:\r\n\r\n```java\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;content&quot;, propOrder = {\r\n        &quot;status&quot;,\r\n        &quot;securitiesFinancingTrade&quot;,\r\n        &quot;schemaVersion&quot;,\r\n        &quot;error&quot;\r\n})\r\npublic class Content  implements Serializable {\r\n\r\n    private final static long serialVersionUID = -1L;\r\n    protected ContentStatusEnumType status;\r\n    protected SecuritiesFinancingTrade securitiesFinancingTrade;\r\n    protected String schemaVersion;\r\n    protected List&lt;Error&gt; error;\r\n\r\n    public ContentStatusEnumType getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(ContentStatusEnumType status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public SecuritiesFinancingTrade getSecuritiesFinancingTrade() {\r\n        return securitiesFinancingTrade;\r\n    }\r\n\r\n    public void setSecuritiesFinancingTrade(SecuritiesFinancingTrade securitiesFinancingTrade) {\r\n        this.securitiesFinancingTrade = securitiesFinancingTrade;\r\n    }\r\n\r\n    public String getSchemaVersion() {\r\n        return schemaVersion;\r\n    }\r\n\r\n    public void setSchemaVersion(String schemaVersion) {\r\n        this.schemaVersion = schemaVersion;\r\n    }\r\n\r\n    public List&lt;Error&gt; getError() {\r\n        return error;\r\n    }\r\n\r\n    public void setError(List&lt;Error&gt; error) {\r\n        this.error = error;\r\n    }\r\n}\r\n```\r\n\r\nand the Error class looks like this:\r\n\r\n```java\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;error&quot;, propOrder = {\r\n        &quot;type&quot;,\r\n        &quot;message&quot;\r\n})\r\npublic class Error  implements Serializable {\r\n\r\n    private final static long serialVersionUID = -1L;\r\n    @XmlAttribute(name = &quot;type&quot;, required = true)\r\n    protected String type;\r\n    @XmlAttribute(name = &quot;message&quot;, required = true)\r\n    protected String message;\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(String type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n}\r\n```\r\n\r\nI do not receive any unmarshalling error from JAXB, it even puts two errors in the list as expected, but the type and message there are null.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/be0iq.png","title":"JAXB - unmarshall XML message to list","body":"<p>could someone help me how should my Java class look like when I would like to unmarshall this xml?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;content&gt;\n        &lt;status&gt;NACK&lt;/status&gt;\n        &lt;securitiesFinancingTrade&gt;\n            &lt;id version=&quot;1&quot; type=&quot;originalDealId&quot;&gt;999999&lt;/id&gt;\n        &lt;/securitiesFinancingTrade&gt;\n        &lt;schemaVersion&gt;Schema1&lt;/schemaVersion&gt;\n        &lt;error&gt;\n            &lt;type&gt;MalformedXML&lt;/type&gt;\n            &lt;message&gt;Message 1&lt;/message&gt;\n        &lt;/error&gt;\n        &lt;error&gt;\n            &lt;type&gt;MalformedXML&lt;/type&gt;\n            &lt;message&gt;Message 2&lt;/message&gt;\n        &lt;/error&gt;\n    &lt;/content&gt;\n</code></pre>\n<p>Currently I have it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;content&quot;, propOrder = {\n        &quot;status&quot;,\n        &quot;securitiesFinancingTrade&quot;,\n        &quot;schemaVersion&quot;,\n        &quot;error&quot;\n})\npublic class Content  implements Serializable {\n\n    private final static long serialVersionUID = -1L;\n    protected ContentStatusEnumType status;\n    protected SecuritiesFinancingTrade securitiesFinancingTrade;\n    protected String schemaVersion;\n    protected List&lt;Error&gt; error;\n\n    public ContentStatusEnumType getStatus() {\n        return status;\n    }\n\n    public void setStatus(ContentStatusEnumType status) {\n        this.status = status;\n    }\n\n    public SecuritiesFinancingTrade getSecuritiesFinancingTrade() {\n        return securitiesFinancingTrade;\n    }\n\n    public void setSecuritiesFinancingTrade(SecuritiesFinancingTrade securitiesFinancingTrade) {\n        this.securitiesFinancingTrade = securitiesFinancingTrade;\n    }\n\n    public String getSchemaVersion() {\n        return schemaVersion;\n    }\n\n    public void setSchemaVersion(String schemaVersion) {\n        this.schemaVersion = schemaVersion;\n    }\n\n    public List&lt;Error&gt; getError() {\n        return error;\n    }\n\n    public void setError(List&lt;Error&gt; error) {\n        this.error = error;\n    }\n}\n</code></pre>\n<p>and the Error class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;error&quot;, propOrder = {\n        &quot;type&quot;,\n        &quot;message&quot;\n})\npublic class Error  implements Serializable {\n\n    private final static long serialVersionUID = -1L;\n    @XmlAttribute(name = &quot;type&quot;, required = true)\n    protected String type;\n    @XmlAttribute(name = &quot;message&quot;, required = true)\n    protected String message;\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n<p>I do not receive any unmarshalling error from JAXB, it even puts two errors in the list as expected, but the type and message there are null.</p>\n<p><a href=\"https://i.stack.imgur.com/be0iq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/be0iq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659124309,"creation_date":1659124007,"answer_id":73170350,"question_id":73170238,"body_markdown":"`(i%2==0)` doesn&#39;t have a way of considering a space on subsequent iterations, so could introduce a boolean and do something like this:\r\n\r\n    boolean toUpper = true;\r\n    for(int i =0; i&lt;split.length;i++){\r\n        if(split[i].equals(&quot; &quot;)) {\r\n            retorno += split[i];\r\n        } else if (toUpper) {\r\n           retorno +=split[i].toUpperCase();\r\n           toUpper = false;\r\n        } else {\r\n           retorno +=split[i].toLowerCase();\r\n           toUpper = true;\r\n       }\r\n    }","title":"How to ignore spaces in String?","body":"<p><code>(i%2==0)</code> doesn't have a way of considering a space on subsequent iterations, so could introduce a boolean and do something like this:</p>\n<pre><code>boolean toUpper = true;\nfor(int i =0; i&lt;split.length;i++){\n    if(split[i].equals(&quot; &quot;)) {\n        retorno += split[i];\n    } else if (toUpper) {\n       retorno +=split[i].toUpperCase();\n       toUpper = false;\n    } else {\n       retorno +=split[i].toLowerCase();\n       toUpper = true;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19551634,"reputation":104,"user_id":14307094,"display_name":"MBD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659125180,"creation_date":1659125180,"answer_id":73170516,"question_id":73170238,"body_markdown":"What you need to do is:\r\n1. if a character is a space ignore it. \r\n2. Otherwise alternatively convert characters to uppercase and lowercase.\r\n\r\nA possible way to do this is:\r\n\r\n     import java.util.Scanner;\r\n    \r\n    \r\n    public class Main {\r\n         String retorno=&quot;&quot;;\r\n        Main(){\r\n        }\r\n    String    concatena(String frase){\r\n          String[] split = frase.split(&quot;&quot;);\r\n          Boolean flag = true;\r\n        for(int i =0; i&lt;split.length;i++){\r\n            if(!split[i].equals(&quot; &quot;)){\r\n                if(flag){\r\n             retorno +=split[i].toUpperCase();\r\n             flag = false;\r\n            }\r\n           else{\r\n               retorno +=split[i].toLowerCase();\r\n               flag = true;\r\n           }\r\n             \r\n           }else{\r\n                retorno +=split[i];\r\n            }\r\n        }\r\n             \r\n             return retorno;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Main teste = new Main();\r\n            System.out.println(&quot;Write the dancing sentence: \\n&quot;);\r\n           Scanner scanner = new Scanner(System.in);\r\n          teste.concatena(scanner.nextLine());\r\n            System.out.println(&quot;Dancing sentence: &quot;+teste.retorno);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nWhat done here is basically we have a `flag` variable initialized to true. if this flag is true, we turn the current character to uppercase, if false we turn it to lowercase. \r\n\r\nfor each character we first check if its a space. \r\n\r\n    if(!split[i].equals(&quot; &quot;)){\r\n\r\nif it is not, then we can turn it to upper or lower case based on the flag variable and toggle flag value for next character.\r\n\r\n    if(flag){\r\n             retorno +=split[i].toUpperCase();\r\n             flag = false;\r\n            }\r\n           else{\r\n               retorno +=split[i].toLowerCase();\r\n               flag = true;\r\n           }\r\n\r\n\r\nif it is a space, we simply append it to the result string without any modification. \r\n\r\n    retorno +=split[i];\r\n\r\nThis is just one way of doing it. There are many more you just need to take care of 2 things mentioned above.\r\n","title":"How to ignore spaces in String?","body":"<p>What you need to do is:</p>\n<ol>\n<li>if a character is a space ignore it.</li>\n<li>Otherwise alternatively convert characters to uppercase and lowercase.</li>\n</ol>\n<p>A possible way to do this is:</p>\n<pre><code> import java.util.Scanner;\n\n\npublic class Main {\n     String retorno=&quot;&quot;;\n    Main(){\n    }\nString    concatena(String frase){\n      String[] split = frase.split(&quot;&quot;);\n      Boolean flag = true;\n    for(int i =0; i&lt;split.length;i++){\n        if(!split[i].equals(&quot; &quot;)){\n            if(flag){\n         retorno +=split[i].toUpperCase();\n         flag = false;\n        }\n       else{\n           retorno +=split[i].toLowerCase();\n           flag = true;\n       }\n         \n       }else{\n            retorno +=split[i];\n        }\n    }\n         \n         return retorno;\n    }\n\n    public static void main(String[] args) {\n        Main teste = new Main();\n        System.out.println(&quot;Write the dancing sentence: \\n&quot;);\n       Scanner scanner = new Scanner(System.in);\n      teste.concatena(scanner.nextLine());\n        System.out.println(&quot;Dancing sentence: &quot;+teste.retorno);\n\n    }\n}\n</code></pre>\n<p>What done here is basically we have a <code>flag</code> variable initialized to true. if this flag is true, we turn the current character to uppercase, if false we turn it to lowercase.</p>\n<p>for each character we first check if its a space.</p>\n<pre><code>if(!split[i].equals(&quot; &quot;)){\n</code></pre>\n<p>if it is not, then we can turn it to upper or lower case based on the flag variable and toggle flag value for next character.</p>\n<pre><code>if(flag){\n         retorno +=split[i].toUpperCase();\n         flag = false;\n        }\n       else{\n           retorno +=split[i].toLowerCase();\n           flag = true;\n       }\n</code></pre>\n<p>if it is a space, we simply append it to the result string without any modification.</p>\n<pre><code>retorno +=split[i];\n</code></pre>\n<p>This is just one way of doing it. There are many more you just need to take care of 2 things mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659125483,"creation_date":1659125483,"answer_id":73170559,"question_id":73170238,"body_markdown":"Yet another way while sticking with your current theme:\r\n\r\n    public String concatena(String frase) {\r\n        String[] split = frase.split(&quot;&quot;);\r\n        int spaces = 0;\r\n        for (int i = 0; i &lt; split.length; i++) {\r\n            String str = split[i].toUpperCase();\r\n            if (str.equals(&quot; &quot;)) { \r\n                retorno += str;\r\n                spaces++;\r\n                continue; \r\n            }\r\n            if ((i - spaces) % 2 == 0) {\r\n                retorno += str;\r\n            }\r\n            else {\r\n                retorno += str.toLowerCase();\r\n            }\r\n        }\r\n        return retorno;\r\n    }\r\n","title":"How to ignore spaces in String?","body":"<p>Yet another way while sticking with your current theme:</p>\n<pre><code>public String concatena(String frase) {\n    String[] split = frase.split(&quot;&quot;);\n    int spaces = 0;\n    for (int i = 0; i &lt; split.length; i++) {\n        String str = split[i].toUpperCase();\n        if (str.equals(&quot; &quot;)) { \n            retorno += str;\n            spaces++;\n            continue; \n        }\n        if ((i - spaces) % 2 == 0) {\n            retorno += str;\n        }\n        else {\n            retorno += str.toLowerCase();\n        }\n    }\n    return retorno;\n}\n</code></pre>\n"}],"owner":{"account_id":25624630,"reputation":9,"user_id":19395904,"display_name":"ffffffff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73170350,"answer_count":3,"score":-2,"last_activity_date":1659125483,"creation_date":1659123305,"question_id":73170238,"body_markdown":"I&#39;m trying do a code where transform a String into a &quot;Dancing string&quot;. My code are working but I want ignore spaces &quot; &quot;, how can I do it?\r\n\r\n**Example:**\r\n\r\n**Scanner input:** \r\n*Hello Guys*\r\n\r\n**Output:**\r\n*Dancing sentence: HeLlO GuYs*\r\n\r\nI want this output: &quot; HeLlO gUyS&quot;\r\n\r\n     import java.util.Scanner;\r\n\r\n    \r\n    public class Main {\r\n         String retorno=&quot;&quot;;\r\n         \r\n        Main(){\r\n        }\r\n    String    concatena(String frase){\r\n          String[] split = frase.split(&quot;&quot;);\r\n    \r\n        for(int i =0; i&lt;split.length;i++){\r\n             if(i%2==0){\r\n             retorno +=split[i].toUpperCase();\r\n            }\r\n           else \r\n             retorno +=split[i].toLowerCase();\r\n           }\r\n             return retorno;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Main teste = new Main();\r\n            System.out.println(&quot;Write the dancing sentence: \\n&quot;);\r\n           Scanner scanner = new Scanner(System.in);\r\n          teste.concatena(scanner.nextLine());\r\n            System.out.println(&quot;Dancing sentence: &quot;+teste.retorno);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"How to ignore spaces in String?","body":"<p>I'm trying do a code where transform a String into a &quot;Dancing string&quot;. My code are working but I want ignore spaces &quot; &quot;, how can I do it?</p>\n<p><strong>Example:</strong></p>\n<p><strong>Scanner input:</strong>\n<em>Hello Guys</em></p>\n<p><strong>Output:</strong>\n<em>Dancing sentence: HeLlO GuYs</em></p>\n<p>I want this output: &quot; HeLlO gUyS&quot;</p>\n<pre><code> import java.util.Scanner;\n\n\npublic class Main {\n     String retorno=&quot;&quot;;\n     \n    Main(){\n    }\nString    concatena(String frase){\n      String[] split = frase.split(&quot;&quot;);\n\n    for(int i =0; i&lt;split.length;i++){\n         if(i%2==0){\n         retorno +=split[i].toUpperCase();\n        }\n       else \n         retorno +=split[i].toLowerCase();\n       }\n         return retorno;\n    }\n\n    public static void main(String[] args) {\n        Main teste = new Main();\n        System.out.println(&quot;Write the dancing sentence: \\n&quot;);\n       Scanner scanner = new Scanner(System.in);\n      teste.concatena(scanner.nextLine());\n        System.out.println(&quot;Dancing sentence: &quot;+teste.retorno);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","artifactory"],"answers":[{"tags":[],"owner":{"account_id":6828543,"reputation":158,"user_id":5253456,"display_name":"Med Aziz CHETOUI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659125157,"creation_date":1658219751,"answer_id":73033720,"question_id":73024804,"body_markdown":"To get a connection with Jfrog Artifactory in a spring boot app and download some files using `HttpURLConnection`\r\n\r\nMy response based on official documentation from JFrog [Artifactory REST API][1].\r\n\r\nJFrog has an Artifactory REST API endpoints can be invoked in any of the standard ways to invoke a RESTful API.\r\n\r\nSo first of all, we need to get an API Key:\r\n\r\n 1. Click your login name on the top right-hand corner of the page.\r\n 2. In the menu above, select Edit Profile.\r\n 3. Copy your API Key.\r\n\r\nAPI key can be used to authenticate you when using the REST API.\r\n\r\nNow we need, to implement our connection to JFrog using the REST API in our code java.\r\n\r\n    private BufferedReader getFileContentFromArtifactory(String arifactoryUrl) throws Exception {\r\n\r\n        URL repositoryUrl = new URL(arifactoryUrl);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) repositoryUrl.openConnection();\r\n\t\tconnection.addRequestProperty(&quot;X-JFrog-Art-Api&quot;, env.getProperty(&quot;arifactoryApiKey&quot;));\r\n\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\tconnection.connect();\r\n\t\treturn new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n\t}\r\n\r\nIn this code we need to add the following header to all REST API calls: \r\n\r\n&gt; X-JFrog-Art-Api: &lt;YOUR_API_KEY&gt;\r\n\r\nAnd finally, to verify if we have our conection work finely, we can show or use `connection.getResponseCode()` or `connection.getResponseMessage()` and if we have **200** or **OK** thats mean we have our connection.\r\n\r\nThe next part of question is download file from JFrog, here, we need to use `BufferedReader` and convert the content in object or showin screen, thats depend on  our needs.\r\n\r\n  [1]: https://www.jfrog.com/confluence/display/JFROG/Artifactory+REST+API#ArtifactoryRESTAPI-BaseURL","title":"How to connect and download artifacts from JFrog Artifactory in a Spring boot application","body":"<p>To get a connection with Jfrog Artifactory in a spring boot app and download some files using <code>HttpURLConnection</code></p>\n<p>My response based on official documentation from JFrog <a href=\"https://www.jfrog.com/confluence/display/JFROG/Artifactory+REST+API#ArtifactoryRESTAPI-BaseURL\" rel=\"nofollow noreferrer\">Artifactory REST API</a>.</p>\n<p>JFrog has an Artifactory REST API endpoints can be invoked in any of the standard ways to invoke a RESTful API.</p>\n<p>So first of all, we need to get an API Key:</p>\n<ol>\n<li>Click your login name on the top right-hand corner of the page.</li>\n<li>In the menu above, select Edit Profile.</li>\n<li>Copy your API Key.</li>\n</ol>\n<p>API key can be used to authenticate you when using the REST API.</p>\n<p>Now we need, to implement our connection to JFrog using the REST API in our code java.</p>\n<pre><code>private BufferedReader getFileContentFromArtifactory(String arifactoryUrl) throws Exception {\n\n    URL repositoryUrl = new URL(arifactoryUrl);\n    HttpURLConnection connection = (HttpURLConnection) repositoryUrl.openConnection();\n    connection.addRequestProperty(&quot;X-JFrog-Art-Api&quot;, env.getProperty(&quot;arifactoryApiKey&quot;));\n    connection.setRequestMethod(&quot;GET&quot;);\n    connection.connect();\n    return new BufferedReader(new InputStreamReader(connection.getInputStream()));\n}\n</code></pre>\n<p>In this code we need to add the following header to all REST API calls:</p>\n<blockquote>\n<p>X-JFrog-Art-Api: &lt;YOUR_API_KEY&gt;</p>\n</blockquote>\n<p>And finally, to verify if we have our conection work finely, we can show or use <code>connection.getResponseCode()</code> or <code>connection.getResponseMessage()</code> and if we have <strong>200</strong> or <strong>OK</strong> thats mean we have our connection.</p>\n<p>The next part of question is download file from JFrog, here, we need to use <code>BufferedReader</code> and convert the content in object or showin screen, thats depend on  our needs.</p>\n"}],"owner":{"account_id":6828543,"reputation":158,"user_id":5253456,"display_name":"Med Aziz CHETOUI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2077,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73033720,"answer_count":1,"score":0,"last_activity_date":1659125157,"creation_date":1658157914,"question_id":73024804,"body_markdown":"I tried to connect my spring boot application to JFrog Artifactory to retrieve a file. Anyone have any idea how to do that or what are the steps, we need to do.","title":"How to connect and download artifacts from JFrog Artifactory in a Spring boot application","body":"<p>I tried to connect my spring boot application to JFrog Artifactory to retrieve a file. Anyone have any idea how to do that or what are the steps, we need to do.</p>\n"},{"tags":["java","android","arrays"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1659169570,"post_id":73170479,"comment_id":129233210,"body_markdown":"What are the actions of those intents? Can you share how do you create intents for each of those launchers? Knowing the intents&#39; actions I can recommend you a compact way to handle the all results with just one launcher.","body":"What are the actions of those intents? Can you share how do you create intents for each of those launchers? Knowing the intents&#39; actions I can recommend you a compact way to handle the all results with just one launcher."},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1659191012,"post_id":73170479,"comment_id":129237438,"body_markdown":"@Kozmotronik The migration from onActivityResult to ActivityResultContracts removing the resultCode, requires having as many ActivityResultLauncher as there are cases (in any case, that&#39;s what I&#39;ve read everywhere).\nI can personally have up to 6 in the same activity. It&#39;s very cumbersome to pass in parameters, and above all, it makes the code less readable to me.\nIf there is no other solution, I do like this, but if there is a way to group all this, I would like to know it, but in fact, it does not matter what my ActivityResultLauncher are used for.","body":"@Kozmotronik The migration from onActivityResult to ActivityResultContracts removing the resultCode, requires having as many ActivityResultLauncher as there are cases (in any case, that&#39;s what I&#39;ve read everywhere). I can personally have up to 6 in the same activity. It&#39;s very cumbersome to pass in parameters, and above all, it makes the code less readable to me. If there is no other solution, I do like this, but if there is a way to group all this, I would like to know it, but in fact, it does not matter what my ActivityResultLauncher are used for."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1659196198,"post_id":73170479,"comment_id":129238573,"body_markdown":"You need to create an intent for each launcher don&#39;t you? Knowing this I was thinking that only one launcher would be enough to process all results within the same activity. All you need to know woul only the actions of your intents.","body":"You need to create an intent for each launcher don&#39;t you? Knowing this I was thinking that only one launcher would be enough to process all results within the same activity. All you need to know woul only the actions of your intents."}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659124982,"creation_date":1659124956,"question_id":73170479,"body_markdown":"In my activity, I declare several ActivityResultLauncher&lt;Intent&gt; which I must then pass as parameters of the constructor of a class, which gives things like:\r\n\r\n    private ActivityResultLauncher&lt;Intent&gt; rangtGalleryActivityResultLauncher;\r\n    private ActivityResultLauncher&lt;Intent&gt; rangtCameraActivityResultLauncher;\r\n    private ActivityResultLauncher&lt;Intent&gt; stockGalleryActivityResultLauncher;\r\n    private ActivityResultLauncher&lt;Intent&gt; stockCameraActivityResultLauncher;\r\n     myparam = new myClass(\r\n           rangtGalleryActivityResultLauncher,\r\n           rangtCameraActivityResultLauncher,\r\n           stockGalleryActivityResultLauncher,\r\n           stockCameraActivityResultLauncher);\r\n\r\nHow could I do to simplify declarations and appeals?\r\nFor example, with an array whose indexes are named:\r\n\r\n    myArray[\r\n            &quot;rangtGallery&quot; =&gt; ActivityResultLauncher&lt;Intent&gt; rangtGalleryActivityResultLauncher,\r\n            &quot;rangtCamera&quot; =&gt; ActivityResultLauncher&lt;Intent&gt; rangtCameraActivityResultLauncher, ...\r\n    ]\r\n\r\npassing myArray as a parameter and calling\r\n\r\n    myArray[&quot;rangGallery&quot;].launch()\r\n\r\n?\r\n\r\nAll is fixed, nothing dynamic.","title":"array of ActivityResultLaunchers&lt;Intent&gt; with named indexes","body":"<p>In my activity, I declare several ActivityResultLauncher which I must then pass as parameters of the constructor of a class, which gives things like:</p>\n<pre><code>private ActivityResultLauncher&lt;Intent&gt; rangtGalleryActivityResultLauncher;\nprivate ActivityResultLauncher&lt;Intent&gt; rangtCameraActivityResultLauncher;\nprivate ActivityResultLauncher&lt;Intent&gt; stockGalleryActivityResultLauncher;\nprivate ActivityResultLauncher&lt;Intent&gt; stockCameraActivityResultLauncher;\n myparam = new myClass(\n       rangtGalleryActivityResultLauncher,\n       rangtCameraActivityResultLauncher,\n       stockGalleryActivityResultLauncher,\n       stockCameraActivityResultLauncher);\n</code></pre>\n<p>How could I do to simplify declarations and appeals?\nFor example, with an array whose indexes are named:</p>\n<pre><code>myArray[\n        &quot;rangtGallery&quot; =&gt; ActivityResultLauncher&lt;Intent&gt; rangtGalleryActivityResultLauncher,\n        &quot;rangtCamera&quot; =&gt; ActivityResultLauncher&lt;Intent&gt; rangtCameraActivityResultLauncher, ...\n]\n</code></pre>\n<p>passing myArray as a parameter and calling</p>\n<pre><code>myArray[&quot;rangGallery&quot;].launch()\n</code></pre>\n<p>?</p>\n<p>All is fixed, nothing dynamic.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659124673,"creation_date":1659124673,"answer_id":73170440,"question_id":73170356,"body_markdown":"Sound on a per-`Notification` basis has been deprecated since Android 5.0. Sounds are now set on the notification channel, and each channel has one sound.","title":"Can notification.setSound() be used with multiple audio sources?","body":"<p>Sound on a per-<code>Notification</code> basis has been deprecated since Android 5.0. Sounds are now set on the notification channel, and each channel has one sound.</p>\n"}],"owner":{"account_id":25216486,"reputation":1,"user_id":19053566,"display_name":"Amanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659124783,"creation_date":1659124064,"question_id":73170356,"body_markdown":"**Expected:** A different audio file plays for each if statement\r\n\r\n**Actual:** The first audio file plays for all notifications. The text message updates correctly, so it is meeting the if statement requirements.\r\n\r\nIs there a way to have the correct audio file play?\r\n\r\n```\r\nif (alarm.getMINS().equals(&quot;0&quot;)) {\r\n  alarmSound = audioAlert;\r\n  text = context.getString(R.string.message);\r\n\r\n} else if (alarmn.getMINS().equals(&quot;2&quot;)) {\r\n  alarmSound = audioReminder;\r\n  text = context.getString(R.string.reminder);\r\n\r\n} else if (alarm.getMINS().equals(&quot;5&quot;)) {\r\n  alarmSound = audioImportant;\r\n  text = context.getString(R.string.important);\r\n}\r\n\r\nnotification.setSound(alarmSound, audioAttributes);\r\n\r\n...\r\n\r\n  .setContentText(text)\r\n```\r\n\r\n\r\n","title":"Can notification.setSound() be used with multiple audio sources?","body":"<p><strong>Expected:</strong> A different audio file plays for each if statement</p>\n<p><strong>Actual:</strong> The first audio file plays for all notifications. The text message updates correctly, so it is meeting the if statement requirements.</p>\n<p>Is there a way to have the correct audio file play?</p>\n<pre><code>if (alarm.getMINS().equals(&quot;0&quot;)) {\n  alarmSound = audioAlert;\n  text = context.getString(R.string.message);\n\n} else if (alarmn.getMINS().equals(&quot;2&quot;)) {\n  alarmSound = audioReminder;\n  text = context.getString(R.string.reminder);\n\n} else if (alarm.getMINS().equals(&quot;5&quot;)) {\n  alarmSound = audioImportant;\n  text = context.getString(R.string.important);\n}\n\nnotification.setSound(alarmSound, audioAttributes);\n\n...\n\n  .setContentText(text)\n</code></pre>\n"},{"tags":["java","formatting"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1659123313,"post_id":73170133,"comment_id":129226712,"body_markdown":"In `[f` the `[` means *one dimensional array* and `f` stands for `float`. In other words `[f` represents `float[]`. The `%5.2f` expects single `float` but received `float[]` instead which caused exception. Why it received whole array? Because in `format(pattenr, Object... values)` the varargs `Object... values` represent `Object[]`, but `float[]` is not its subtype (the `Float[]` would be, but Java doesn&#39;t automatically convert float[] to Float[]). In other words `Object... values` considers `float[]` as *single* element (single Object).","body":"In <code>[f</code> the <code>[</code> means <i>one dimensional array</i> and <code>f</code> stands for <code>float</code>. In other words <code>[f</code> represents <code>float[]</code>. The <code>%5.2f</code> expects single <code>float</code> but received <code>float[]</code> instead which caused exception. Why it received whole array? Because in <code>format(pattenr, Object... values)</code> the varargs <code>Object... values</code> represent <code>Object[]</code>, but <code>float[]</code> is not its subtype (the <code>Float[]</code> would be, but Java doesn&#39;t automatically convert float[] to Float[]). In other words <code>Object... values</code> considers <code>float[]</code> as <i>single</i> element (single Object)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1659123849,"post_id":73170133,"comment_id":129226842,"body_markdown":"&quot;*why this question was downvoted*&quot; only the down-voter knows. But people are not obligated to explain their votes so I doubt you will get his response. Also he may no longer read this question - usually people cast their votes and move on to next question - so he probably is not aware of your comment.","body":"&quot;<i>why this question was downvoted</i>&quot; only the down-voter knows. But people are not obligated to explain their votes so I doubt you will get his response. Also he may no longer read this question - usually people cast their votes and move on to next question - so he probably is not aware of your comment."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659122718,"creation_date":1659122718,"answer_id":73170165,"question_id":73170133,"body_markdown":"You&#39;re correct.  When you pass in a `float[]`, Java thinks you are trying to print _one argument_, a `float[]`, rather than all the individual float elements of the array.  Only an `Object[]` is compatible with the varargs used by `String.format`, allowing each individual float to be interpreted as a separate `format` argument.\r\n\r\nNote that `Float[]` will also work, since `Float[]` can be upcast to `Object[]`, but `float[]` cannot.","title":"Java: String.format not working &#39;f != [F&#39;","body":"<p>You're correct.  When you pass in a <code>float[]</code>, Java thinks you are trying to print <em>one argument</em>, a <code>float[]</code>, rather than all the individual float elements of the array.  Only an <code>Object[]</code> is compatible with the varargs used by <code>String.format</code>, allowing each individual float to be interpreted as a separate <code>format</code> argument.</p>\n<p>Note that <code>Float[]</code> will also work, since <code>Float[]</code> can be upcast to <code>Object[]</code>, but <code>float[]</code> cannot.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659124263,"creation_date":1659124263,"answer_id":73170386,"question_id":73170133,"body_markdown":"You can use your first rendition of the `formatFloats()` method, you just need to actually do the formatting within the StringBuilder append, for example:\r\n\r\n    private static String formatFloats(float... fs) {\r\n        StringBuilder formatStr = new StringBuilder(&quot;&quot;);\r\n        for (float v: fs) {\r\n            formatStr.append(String.format(&quot;%-6.2f &quot;, v));\r\n        }\r\n        return formatStr.toString();\r\n    }","title":"Java: String.format not working &#39;f != [F&#39;","body":"<p>You can use your first rendition of the <code>formatFloats()</code> method, you just need to actually do the formatting within the StringBuilder append, for example:</p>\n<pre><code>private static String formatFloats(float... fs) {\n    StringBuilder formatStr = new StringBuilder(&quot;&quot;);\n    for (float v: fs) {\n        formatStr.append(String.format(&quot;%-6.2f &quot;, v));\n    }\n    return formatStr.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73170165,"answer_count":2,"score":0,"last_activity_date":1659124263,"creation_date":1659122481,"question_id":73170133,"body_markdown":"I tried using ``String.format`` to format some floats.\r\n\r\nIf I do this:\r\n\r\n````java\r\npublic class TestClass {\r\n\tpublic static void main(String[] args) {\r\n        System.out.println(String.format(&quot;%5.2f %5.2f&quot;, 2.35792f, 8.9479f));\r\n    }\r\n}\r\n````\r\n\r\nThen it seems to work and prints out `` 2.36  8.95``.\r\n\r\nHowever, if I extract this to a method:\r\n\r\n````java\r\npublic class TestClass {\r\n\tpublic static void main(String[] args) {\r\n        System.out.println(formatFloats(2.35792f, 8.9479f));\r\n    }\r\n\r\n\tprivate static String formatFloats(float...fs) {\r\n\t\tStringBuilder formatStr = new StringBuilder();\r\n\t\tfor (float v: fs) {\r\n\t\t\tformatStr.append(&quot;%5.2f &quot;);\r\n\t\t}\r\n\t\treturn String.format(formatStr.toString().trim(), fs);\r\n\t}\r\n}\r\n````\r\n\r\nthen it raises an exception:\r\n\r\n````\r\nException in thread &quot;main&quot; java.util.IllegalFormatConversionException: f != [F\r\n\tat java.base/java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4426)\r\n\tat java.base/java.util.Formatter$FormatSpecifier.printFloat(Formatter.java:2951)\r\n\tat java.base/java.util.Formatter$FormatSpecifier.print(Formatter.java:2898)\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2673)\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2609)\r\n\tat java.base/java.lang.String.format(String.java:3292)\r\n\tat demo.vec3.TestClass.formatFloats(TestClass.java:12)\r\n\tat demo.vec3.TestClass.main(TestClass.java:4)\r\n````\r\n\r\nI tried to print ``formatStr.toString().trim()``, but it does output ``%5.2f %5.2f``.\r\n\r\nThe error message is cryptic, and I don&#39;t understand what it means at all. I believe it has something to do with how I am using ``float...fs``.\r\n\r\n(I am using Eclipse IDE to write and run my application.)\r\n\r\n---\r\nRemark: It turns out that if I change my function code slightly to this: \r\n\r\n````java\r\nprivate static String formatFloats(Object...fs) {\r\n\tStringBuilder formatStr = new StringBuilder();\r\n\tfor (Object v: fs) {\r\n\t\tformatStr.append(&quot;%5.2f &quot;);\r\n\t}\r\n\treturn String.format(formatStr.toString().trim(), fs);\r\n}\r\n````\r\n\r\nthen it works, outputting `` 2.36  8.95`` again.","title":"Java: String.format not working &#39;f != [F&#39;","body":"<p>I tried using <code>String.format</code> to format some floats.</p>\n<p>If I do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n    public static void main(String[] args) {\n        System.out.println(String.format(&quot;%5.2f %5.2f&quot;, 2.35792f, 8.9479f));\n    }\n}\n</code></pre>\n<p>Then it seems to work and prints out <code> 2.36  8.95</code>.</p>\n<p>However, if I extract this to a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n    public static void main(String[] args) {\n        System.out.println(formatFloats(2.35792f, 8.9479f));\n    }\n\n    private static String formatFloats(float...fs) {\n        StringBuilder formatStr = new StringBuilder();\n        for (float v: fs) {\n            formatStr.append(&quot;%5.2f &quot;);\n        }\n        return String.format(formatStr.toString().trim(), fs);\n    }\n}\n</code></pre>\n<p>then it raises an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: f != [F\n    at java.base/java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4426)\n    at java.base/java.util.Formatter$FormatSpecifier.printFloat(Formatter.java:2951)\n    at java.base/java.util.Formatter$FormatSpecifier.print(Formatter.java:2898)\n    at java.base/java.util.Formatter.format(Formatter.java:2673)\n    at java.base/java.util.Formatter.format(Formatter.java:2609)\n    at java.base/java.lang.String.format(String.java:3292)\n    at demo.vec3.TestClass.formatFloats(TestClass.java:12)\n    at demo.vec3.TestClass.main(TestClass.java:4)\n</code></pre>\n<p>I tried to print <code>formatStr.toString().trim()</code>, but it does output <code>%5.2f %5.2f</code>.</p>\n<p>The error message is cryptic, and I don't understand what it means at all. I believe it has something to do with how I am using <code>float...fs</code>.</p>\n<p>(I am using Eclipse IDE to write and run my application.)</p>\n<hr />\n<p>Remark: It turns out that if I change my function code slightly to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String formatFloats(Object...fs) {\n    StringBuilder formatStr = new StringBuilder();\n    for (Object v: fs) {\n        formatStr.append(&quot;%5.2f &quot;);\n    }\n    return String.format(formatStr.toString().trim(), fs);\n}\n</code></pre>\n<p>then it works, outputting <code> 2.36  8.95</code> again.</p>\n"},{"tags":["java","single-sign-on","appfuse"],"comments":[{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":0,"creation_date":1422333241,"post_id":28163057,"comment_id":44697531,"body_markdown":"Not sure what framework the code generated is.  Check this answer http://stackoverflow.com/a/22983189/643500 it will generate a Spring MVC code that you can customize.","body":"Not sure what framework the code generated is.  Check this answer <a href=\"http://stackoverflow.com/a/22983189/643500\">stackoverflow.com/a/22983189/643500</a> it will generate a Spring MVC code that you can customize."}],"answers":[{"tags":[],"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1422372352,"creation_date":1422372352,"answer_id":28173981,"question_id":28163057,"body_markdown":"In a JSP, you can use the following to see if they&#39;re logged in:\r\n\r\n    &lt;c:if test=&quot;${empty pageContext.request.remoteUser}&quot;&gt;\r\n        not logged in\r\n    &lt;/c:if&gt;\r\n    &lt;c:if test=&quot;${not empty pageContext.request.remoteUser}&quot;&gt;\r\n        logged in\r\n    &lt;/c:if&gt;","title":"Check whether user is Logged In to Application (Appfuse Project)","body":"<p>In a JSP, you can use the following to see if they're logged in:</p>\n\n<pre><code>&lt;c:if test=\"${empty pageContext.request.remoteUser}\"&gt;\n    not logged in\n&lt;/c:if&gt;\n&lt;c:if test=\"${not empty pageContext.request.remoteUser}\"&gt;\n    logged in\n&lt;/c:if&gt;\n</code></pre>\n"}],"owner":{"account_id":1390952,"reputation":65,"user_id":1321815,"display_name":"idzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28173981,"answer_count":1,"score":0,"last_activity_date":1659123615,"creation_date":1422331448,"question_id":28163057,"body_markdown":"How can I check whether a certain user is already signed into my application? I want to do this so I can redirect someone that tries to login using the same username to logout. \r\n\r\nFYI: I use appfuse project generator.","title":"Check whether user is Logged In to Application (Appfuse Project)","body":"<p>How can I check whether a certain user is already signed into my application? I want to do this so I can redirect someone that tries to login using the same username to logout.</p>\n<p>FYI: I use appfuse project generator.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13015872,"reputation":165,"user_id":9407148,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659123421,"creation_date":1659123421,"answer_id":73170258,"question_id":73170050,"body_markdown":"    while ((i = me.read())!=-1 &amp;&amp; (i = ne.read())!=-1){\r\n\r\nHere you set `i` to `me.read()` and then immediatly overwrite it to `ne.read()`. Consequently, only `ne.read()` gets written in the loop body.","title":"How can i read from two text files and write to one text file","body":"<pre><code>while ((i = me.read())!=-1 &amp;&amp; (i = ne.read())!=-1){\n</code></pre>\n<p>Here you set <code>i</code> to <code>me.read()</code> and then immediatly overwrite it to <code>ne.read()</code>. Consequently, only <code>ne.read()</code> gets written in the loop body.</p>\n"}],"owner":{"account_id":25928171,"reputation":1,"user_id":19649731,"display_name":"thattCharles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1659379486,"answer_count":1,"score":-1,"last_activity_date":1659123421,"creation_date":1659121967,"question_id":73170050,"body_markdown":"I have written a basic practice program that will read an even and old text files... after that i want my program to write to another textfile named both.txt. i want this both.txt file to containt data from both the even and old text files but after writing my code as shown bwlow, it is only writting the old text file to it rather than taking both files even and old!\r\n\r\nHow can i go about it?\r\n\r\nBelow is my code\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage files;\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Files {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n    Scanner thoko = new Scanner(System.in);\r\n    System.out.println(&quot;Choose the file you want to write to:&quot;);\r\n        \r\n    int number = thoko.nextInt();\r\n    switch (number){\r\n        case 1:\r\n            try{\r\n                File even = new File(&quot;even.txt&quot;);\r\n                even.createNewFile();\r\n\r\n                PrintWriter write = new PrintWriter(new FileWriter(&quot;even.txt&quot;));\r\n\r\n                for (int i=1; i&lt;=10; i++){\r\n                    if(i%2==0){\r\n                        write.print(i+&quot;,&quot;);\r\n                    }\r\n                }\r\n                System.out.println(&quot;Writting to an even text file is a succes&quot;);\r\n                write.close();\r\n                \r\n                \r\n            }\r\n            \r\n            catch (FileNotFoundException e){\r\n                    System.out.println(&quot;Error opening the file even.txt&quot;);\r\n                    System.exit(0);\r\n                }   break;\r\n                \r\n        case 2:\r\n            try{\r\n                File old = new File(&quot;old.txt&quot;);\r\n                old.createNewFile();\r\n\r\n                PrintWriter write = new PrintWriter(new FileWriter(&quot;old.txt&quot;));\r\n\r\n                for (int i=1; i&lt;=10; i++){\r\n                    if(i%2==1){\r\n                        write.print(i+&quot;,&quot;);`\r\n`\r\n                    }\r\n                }\r\n                System.out.println(&quot;Writting to an old text file is a succes&quot;);\r\n                write.close();\r\n                \r\n\r\n            }\r\n            \r\n            catch (FileNotFoundException e){\r\n                    System.out.println(&quot;Error opening the file old.txt&quot;);\r\n                    System.exit(0);\r\n                }   break;\r\n                \r\n        case 3:\r\n            try{\r\n                FileReader me = new FileReader(&quot;even.txt&quot;);\r\n                FileReader ne = new FileReader(&quot;old.txt&quot;);\r\n                \r\n                FileWriter de = new FileWriter(&quot;both.txt&quot;);\r\n                \r\n                String str = &quot;&quot;;\r\n                int i;\r\n                \r\n                while ((i = me.read())!=-1 &amp;&amp; (i = ne.read())!=-1){\r\n                    str +=(char)i;\r\n                }\r\n                System.out.println(&quot;Writting to both file done&quot;);\r\n                de.write(str);\r\n                \r\n                \r\n                me.close();\r\n                ne.close();\r\n                de.close();\r\n                }\r\n            catch (FileNotFoundException e){\r\n                    System.out.println(&quot;Error opening the file old.txt&quot;);\r\n                    System.exit(0);\r\n                }   break;\r\n            }\r\n            \r\n            }\r\n            \r\n    } \r\n```   \r\n   \r\n    \r\n\r\n","title":"How can i read from two text files and write to one text file","body":"<p>I have written a basic practice program that will read an even and old text files... after that i want my program to write to another textfile named both.txt. i want this both.txt file to containt data from both the even and old text files but after writing my code as shown bwlow, it is only writting the old text file to it rather than taking both files even and old!</p>\n<p>How can i go about it?</p>\n<p>Below is my code</p>\n<pre><code>package files;\nimport java.io.*;\nimport java.util.*;\n\npublic class Files {\n\n    public static void main(String[] args) throws IOException {\n        \n    Scanner thoko = new Scanner(System.in);\n    System.out.println(&quot;Choose the file you want to write to:&quot;);\n        \n    int number = thoko.nextInt();\n    switch (number){\n        case 1:\n            try{\n                File even = new File(&quot;even.txt&quot;);\n                even.createNewFile();\n\n                PrintWriter write = new PrintWriter(new FileWriter(&quot;even.txt&quot;));\n\n                for (int i=1; i&lt;=10; i++){\n                    if(i%2==0){\n                        write.print(i+&quot;,&quot;);\n                    }\n                }\n                System.out.println(&quot;Writting to an even text file is a succes&quot;);\n                write.close();\n                \n                \n            }\n            \n            catch (FileNotFoundException e){\n                    System.out.println(&quot;Error opening the file even.txt&quot;);\n                    System.exit(0);\n                }   break;\n                \n        case 2:\n            try{\n                File old = new File(&quot;old.txt&quot;);\n                old.createNewFile();\n\n                PrintWriter write = new PrintWriter(new FileWriter(&quot;old.txt&quot;));\n\n                for (int i=1; i&lt;=10; i++){\n                    if(i%2==1){\n                        write.print(i+&quot;,&quot;);`\n`\n                    }\n                }\n                System.out.println(&quot;Writting to an old text file is a succes&quot;);\n                write.close();\n                \n\n            }\n            \n            catch (FileNotFoundException e){\n                    System.out.println(&quot;Error opening the file old.txt&quot;);\n                    System.exit(0);\n                }   break;\n                \n        case 3:\n            try{\n                FileReader me = new FileReader(&quot;even.txt&quot;);\n                FileReader ne = new FileReader(&quot;old.txt&quot;);\n                \n                FileWriter de = new FileWriter(&quot;both.txt&quot;);\n                \n                String str = &quot;&quot;;\n                int i;\n                \n                while ((i = me.read())!=-1 &amp;&amp; (i = ne.read())!=-1){\n                    str +=(char)i;\n                }\n                System.out.println(&quot;Writting to both file done&quot;);\n                de.write(str);\n                \n                \n                me.close();\n                ne.close();\n                de.close();\n                }\n            catch (FileNotFoundException e){\n                    System.out.println(&quot;Error opening the file old.txt&quot;);\n                    System.exit(0);\n                }   break;\n            }\n            \n            }\n            \n    } \n</code></pre>\n"},{"tags":["java","itext7"],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659122436,"creation_date":1659122436,"answer_id":73170123,"question_id":73070957,"body_markdown":"You need a custom renderer for it - the renderer knows the context in which the element is going to be placed. Here is example code:\r\n\r\n```\r\nprivate static class VariableLeadingParagraphRenderer extends ParagraphRenderer {\r\n    public VariableLeadingParagraphRenderer(Paragraph modelElement) {\r\n        super(modelElement);\r\n    }\r\n\r\n    @Override\r\n    public LayoutResult layout(LayoutContext layoutContext) {\r\n        setLeadingBasedOnPageNumber(layoutContext.getArea().getPageNumber());\r\n        return super.layout(layoutContext);\r\n    }\r\n\r\n    private void setLeadingBasedOnPageNumber(int pageNumber) {\r\n        if (pageNumber == 1) {\r\n            this.setProperty(Property.LEADING, new Leading(Leading.FIXED, 100));\r\n        } else {\r\n            this.setProperty(Property.LEADING, new Leading(Leading.FIXED, 50));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public IRenderer getNextRenderer() {\r\n        return new ParagraphRenderer((Paragraph) modelElement);\r\n    }\r\n}\r\n```\r\n\r\nNote that the logic of determining the desired leading depending on the page number resides in `VariableLeadingParagraphRenderer#setLeadingBasedOnPageNumber`\r\n\r\nYou can then use the custom renderer as follows:\r\n\r\n```\r\nDocument document = new Document(pdfDocument);\r\n\r\nString line = &quot;Hello! Welcome to iTextPdf&quot;;\r\nfor (int i = 0; i &lt; 30; i++) {\r\n    Paragraph element = new Paragraph();\r\n    element.add(line + &quot; &quot; + i);\r\n    element.setNextRenderer(new VariableLeadingParagraphRenderer(element));\r\n    document.add(element);\r\n}\r\n\r\n```\r\n\r\nVisual result. Page 1:\r\n\r\n[![page 1][1]][1]\r\n\r\nPage 2:\r\n\r\n[![page 2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iRjzD.png\r\n  [2]: https://i.stack.imgur.com/pvFLX.png","title":"Different Leading for each page in itext 7","body":"<p>You need a custom renderer for it - the renderer knows the context in which the element is going to be placed. Here is example code:</p>\n<pre><code>private static class VariableLeadingParagraphRenderer extends ParagraphRenderer {\n    public VariableLeadingParagraphRenderer(Paragraph modelElement) {\n        super(modelElement);\n    }\n\n    @Override\n    public LayoutResult layout(LayoutContext layoutContext) {\n        setLeadingBasedOnPageNumber(layoutContext.getArea().getPageNumber());\n        return super.layout(layoutContext);\n    }\n\n    private void setLeadingBasedOnPageNumber(int pageNumber) {\n        if (pageNumber == 1) {\n            this.setProperty(Property.LEADING, new Leading(Leading.FIXED, 100));\n        } else {\n            this.setProperty(Property.LEADING, new Leading(Leading.FIXED, 50));\n        }\n    }\n\n    @Override\n    public IRenderer getNextRenderer() {\n        return new ParagraphRenderer((Paragraph) modelElement);\n    }\n}\n</code></pre>\n<p>Note that the logic of determining the desired leading depending on the page number resides in <code>VariableLeadingParagraphRenderer#setLeadingBasedOnPageNumber</code></p>\n<p>You can then use the custom renderer as follows:</p>\n<pre><code>Document document = new Document(pdfDocument);\n\nString line = &quot;Hello! Welcome to iTextPdf&quot;;\nfor (int i = 0; i &lt; 30; i++) {\n    Paragraph element = new Paragraph();\n    element.add(line + &quot; &quot; + i);\n    element.setNextRenderer(new VariableLeadingParagraphRenderer(element));\n    document.add(element);\n}\n\n</code></pre>\n<p>Visual result. Page 1:</p>\n<p><a href=\"https://i.stack.imgur.com/iRjzD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iRjzD.png\" alt=\"page 1\" /></a></p>\n<p>Page 2:</p>\n<p><a href=\"https://i.stack.imgur.com/pvFLX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pvFLX.png\" alt=\"page 2\" /></a></p>\n"}],"owner":{"account_id":25334822,"reputation":101,"user_id":19154125,"display_name":"mobiw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73170123,"answer_count":1,"score":1,"last_activity_date":1659122436,"creation_date":1658427436,"question_id":73070957,"body_markdown":"How i can set different fixedLending on specific page page ?\r\nHow i can specific page when i add a paragraph?\r\n   \r\n\r\n     String line = &quot;Hello! Welcome to iTextPdf&quot;;\r\n        Div div = new Div();\r\n            for (int i = 0; i &lt; 30; i++) {\r\n                Paragraph element = new Paragraph();\r\n                element.add(line + &quot; &quot; + i);\r\n          \r\n    \r\n                paragraphs.add(element);\r\n    \r\n            }\r\n    \r\n      \r\n    --------------\r\n          if(page==1) // This is just for an example. How I want it to be\r\n           element.setFixedLeading(100);\r\n           else if(page==3)\r\n         element.setFixedLeading(50);\r\n\r\nAfter adding paragraphs, I need to do different setFixedLeading for the first and third page\r\n\r\n\r\n","title":"Different Leading for each page in itext 7","body":"<p>How i can set different fixedLending on specific page page ?\nHow i can specific page when i add a paragraph?</p>\n<pre><code> String line = &quot;Hello! Welcome to iTextPdf&quot;;\n    Div div = new Div();\n        for (int i = 0; i &lt; 30; i++) {\n            Paragraph element = new Paragraph();\n            element.add(line + &quot; &quot; + i);\n      \n\n            paragraphs.add(element);\n\n        }\n\n  \n--------------\n      if(page==1) // This is just for an example. How I want it to be\n       element.setFixedLeading(100);\n       else if(page==3)\n     element.setFixedLeading(50);\n</code></pre>\n<p>After adding paragraphs, I need to do different setFixedLeading for the first and third page</p>\n"},{"tags":["java","sql","postgresql","jpa"],"comments":[{"owner":{"account_id":1735045,"reputation":14800,"user_id":1587819,"accept_rate":100,"display_name":"HoneyBadger"},"score":1,"creation_date":1659127571,"post_id":73170099,"comment_id":129227776,"body_markdown":"What is your question? The error is pretty clear, you can&#39;t be assigned to a task that doesn&#39;t exist","body":"What is your question? The error is pretty clear, you can&#39;t be assigned to a task that doesn&#39;t exist"},{"owner":{"account_id":24673101,"reputation":159,"user_id":18567855,"display_name":"blabla blabla"},"score":0,"creation_date":1659383536,"post_id":73170099,"comment_id":129277322,"body_markdown":"@HoneyBadger i&#39;m trying to find a way to be able to delete a task without getting this error ( idk where you got the &#39;doesnt exist&#39; part from ).\n\nWhen I try to delete task 4 , i get this error (despite the task clearly existing)","body":"@HoneyBadger i&#39;m trying to find a way to be able to delete a task without getting this error ( idk where you got the &#39;doesnt exist&#39; part from ).  When I try to delete task 4 , i get this error (despite the task clearly existing)"},{"owner":{"account_id":1735045,"reputation":14800,"user_id":1587819,"accept_rate":100,"display_name":"HoneyBadger"},"score":0,"creation_date":1659384300,"post_id":73170099,"comment_id":129277549,"body_markdown":"point is, you try to remove a task while somebody is still assigned to it. Removing the task would mean somebody was assigned to a task that didn&#39;t exist (anymore). Since that isn&#39;t allowed, the delete cannot be performed. You can only remove a task nobody is assigned to.","body":"point is, you try to remove a task while somebody is still assigned to it. Removing the task would mean somebody was assigned to a task that didn&#39;t exist (anymore). Since that isn&#39;t allowed, the delete cannot be performed. You can only remove a task nobody is assigned to."},{"owner":{"account_id":24673101,"reputation":159,"user_id":18567855,"display_name":"blabla blabla"},"score":0,"creation_date":1659466435,"post_id":73170099,"comment_id":129300272,"body_markdown":"so what solution do you propose? i should unassign manually before deleting? I thought JPA already took care of that and I don&#39;t need to do it manually","body":"so what solution do you propose? i should unassign manually before deleting? I thought JPA already took care of that and I don&#39;t need to do it manually"}],"owner":{"account_id":24673101,"reputation":159,"user_id":18567855,"display_name":"blabla blabla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659122270,"creation_date":1659122270,"question_id":73170099,"body_markdown":"So I&#39;m using JPA and I have a ManyToMany relationship between tasks and employees (each employee may work on many tasks at once, and each task can be assigned to multiple employees)\r\n\r\n\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Task {\r\n     @Id\r\n        @GeneratedValue(strategy = SEQUENCE)\r\n        private Long id;\r\n    \r\n        private String name;\r\n        private String description;\r\n        @Transient\r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;employee_task&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;task_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;employee_id&quot;))\r\n        private List&lt;AppUser&gt; employees;\r\n    }\r\n\r\nand this is the employee (appuser) entity : \r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name=&quot;employee&quot;)\r\n    public class AppUser {\r\n    @Id @GeneratedValue(strategy = IDENTITY)\r\n        private Long id;\r\n        private String first_name;\r\n     @Transient\r\n        @JsonManagedReference\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n                name = &quot;employee_task&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;employee_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;task_id&quot;))\r\n        List&lt;Task&gt; tasks;\r\n    }\r\n\r\nthis is what my employee_task table looks like : \r\n \r\n\r\n    task_id employee_id\r\n        2\t   11\r\n        3\t   12\r\n        5\t   14\r\n        6\t   15\r\n        7\t   16\r\n        8\t   14\r\n        9\t   17\r\n        11\t   14\r\n        13\t   19\r\n        14\t   20\r\n        15\t   21\r\n        16\t   22\r\n        17\t   23\r\n        1\t   8\r\n        69\t   8\r\n        4\t   8\r\n        70\t   8\r\n\r\nwhen i try to delete a task, i get this error  : \r\n\r\n\r\nI&#39;m trying to delete the parent student or parent course and I get this error:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;task&quot; violates foreign key constraint &quot;fkqarvh9t68lancucpltm11ch5p&quot; on table &quot;employee_task&quot;\r\n\r\n\r\n","title":"ERROR: delete on table &quot;.....&quot; violates foreign key constraint","body":"<p>So I'm using JPA and I have a ManyToMany relationship between tasks and employees (each employee may work on many tasks at once, and each task can be assigned to multiple employees)</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Task {\n @Id\n    @GeneratedValue(strategy = SEQUENCE)\n    private Long id;\n\n    private String name;\n    private String description;\n    @Transient\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;employee_task&quot;,\n            joinColumns = @JoinColumn(name = &quot;task_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;employee_id&quot;))\n    private List&lt;AppUser&gt; employees;\n}\n</code></pre>\n<p>and this is the employee (appuser) entity :</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name=&quot;employee&quot;)\npublic class AppUser {\n@Id @GeneratedValue(strategy = IDENTITY)\n    private Long id;\n    private String first_name;\n @Transient\n    @JsonManagedReference\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;employee_task&quot;,\n            joinColumns = @JoinColumn(name = &quot;employee_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;task_id&quot;))\n    List&lt;Task&gt; tasks;\n}\n</code></pre>\n<p>this is what my employee_task table looks like :</p>\n<pre><code>task_id employee_id\n    2      11\n    3      12\n    5      14\n    6      15\n    7      16\n    8      14\n    9      17\n    11     14\n    13     19\n    14     20\n    15     21\n    16     22\n    17     23\n    1      8\n    69     8\n    4      8\n    70     8\n</code></pre>\n<p>when i try to delete a task, i get this error  :</p>\n<p>I'm trying to delete the parent student or parent course and I get this error:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;task&quot; violates foreign key constraint &quot;fkqarvh9t68lancucpltm11ch5p&quot; on table &quot;employee_task&quot;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1366854653,"post_id":16205105,"comment_id":23172354,"body_markdown":"Why not use a for loop to iterate through the ArrayList checking for the lowest salary as you loop?","body":"Why not use a for loop to iterate through the ArrayList checking for the lowest salary as you loop?"},{"owner":{"account_id":2102462,"reputation":53,"user_id":1869703,"accept_rate":50,"display_name":"user1869703"},"score":0,"creation_date":1366854931,"post_id":16205105,"comment_id":23172404,"body_markdown":"I saw that it was asked before but I didn&#39;t really understand how to use it for my case and I&#39;m not sure how to use a loop to iterate through the arraylist. I just started java recently.","body":"I saw that it was asked before but I didn&#39;t really understand how to use it for my case and I&#39;m not sure how to use a loop to iterate through the arraylist. I just started java recently."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1366855116,"post_id":16205105,"comment_id":23172449,"body_markdown":"You should go to the Java tutorials and read up on use of for loops. One skill that you will need to master to learn Java is how to learn things on your own. The Java tutorials are a *great* resource for this. Google can help you find it.","body":"You should go to the Java tutorials and read up on use of for loops. One skill that you will need to master to learn Java is how to learn things on your own. The Java tutorials are a <i>great</i> resource for this. Google can help you find it."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1366854769,"creation_date":1366854769,"answer_id":16205136,"question_id":16205105,"body_markdown":"There is a special number, `Double.POSITIVE_INFINITY`, which is greater than any number representable with `double`. You can use it as a starting point for searches of a minimum:\r\n\r\n    double minSalary = Double.POSITIVE_INFINITY;\r\n    ...\r\n    if (minSal &gt; emp.getSalary()) {\r\n        minSalary = emp.getSalary();\r\n    }\r\n\r\nAnother common trick is to set `minSalary` to the first element of a list, and then start searching from the second element.","title":"How to find minimum salary of list of employees in Java?","body":"<p>There is a special number, <code>Double.POSITIVE_INFINITY</code>, which is greater than any number representable with <code>double</code>. You can use it as a starting point for searches of a minimum:</p>\n\n<pre><code>double minSalary = Double.POSITIVE_INFINITY;\n...\nif (minSal &gt; emp.getSalary()) {\n    minSalary = emp.getSalary();\n}\n</code></pre>\n\n<p>Another common trick is to set <code>minSalary</code> to the first element of a list, and then start searching from the second element.</p>\n"},{"tags":[],"owner":{"account_id":21591,"reputation":15417,"user_id":52573,"accept_rate":85,"display_name":"nes1983"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366854837,"creation_date":1366854837,"answer_id":16205148,"question_id":16205105,"body_markdown":"    if (employees.isEmpty() {\r\n       return null; // No minimum salary available.\r\n    }\r\n    int minSalary = Integer.MAX_INT;\r\n    for (Employee e : employees) {\r\n        minSalary = Math.min(minSalary, e.getSalary();\r\n    }\r\n    return minSalary;","title":"How to find minimum salary of list of employees in Java?","body":"<pre><code>if (employees.isEmpty() {\n   return null; // No minimum salary available.\n}\nint minSalary = Integer.MAX_INT;\nfor (Employee e : employees) {\n    minSalary = Math.min(minSalary, e.getSalary();\n}\nreturn minSalary;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2636562,"reputation":1568,"user_id":2281056,"display_name":"Ed Plese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366855372,"creation_date":1366855042,"answer_id":16205182,"question_id":16205105,"body_markdown":"Here&#39;s a variation using an `Iterator`:\r\n\r\n\tpublic double minSalary(List&lt;Employee&gt; employees) {\r\n\t\tif (employees == null || employees.isEmpty()) {\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t}\r\n\t\t\r\n\t\tIterator&lt;Employee&gt; iterator = employees.iterator();\r\n\t\tdouble min = iterator.next();\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t\tmin = Math.min(min, iterator.next().getSalary());\r\n\t\t}\r\n\t\t\r\n\t\treturn min;\r\n\t}","title":"How to find minimum salary of list of employees in Java?","body":"<p>Here's a variation using an <code>Iterator</code>:</p>\n\n<pre><code>public double minSalary(List&lt;Employee&gt; employees) {\n    if (employees == null || employees.isEmpty()) {\n        throw new IllegalArgumentException();\n    }\n\n    Iterator&lt;Employee&gt; iterator = employees.iterator();\n    double min = iterator.next();\n    while (iterator.hasNext()) {\n        min = Math.min(min, iterator.next().getSalary());\n    }\n\n    return min;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2455875,"reputation":31,"user_id":2141124,"display_name":"rudyg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366855298,"creation_date":1366855298,"answer_id":16205211,"question_id":16205105,"body_markdown":"It sounds like you want a list of the lowest salaries for each department and it looks like the other answers just give you the lowest salary across departments. If I&#39;m correct and you want the low salary by department you probably want to just loop through the list and put them in a map by dept, like this:\r\n\r\n    public Map&lt;String, Double&gt; getLowSalaries(List&lt;Employee&gt; employees) {\r\n        Map&lt;String, Double&gt; lowSalaries = new HashMap&lt;String, Double&gt;();\r\n\t\r\n        for(Employee employee : employees) {\r\n\t\t    Double lowSalaryForDept = lowSalaries.get(employee.getDept());\r\n\t\t\r\n            if(lowSalaryForDept == null || lowSalaryForDept &lt; employee.getSalary()) {\r\n                lowSalaries.put(employee.getDept(), employee.getSalary());\r\n            }\r\n        }\r\n        return lowSalaries;\r\n    }\r\n\r\n    ","title":"How to find minimum salary of list of employees in Java?","body":"<p>It sounds like you want a list of the lowest salaries for each department and it looks like the other answers just give you the lowest salary across departments. If I'm correct and you want the low salary by department you probably want to just loop through the list and put them in a map by dept, like this:</p>\n\n<pre><code>public Map&lt;String, Double&gt; getLowSalaries(List&lt;Employee&gt; employees) {\n    Map&lt;String, Double&gt; lowSalaries = new HashMap&lt;String, Double&gt;();\n\n    for(Employee employee : employees) {\n        Double lowSalaryForDept = lowSalaries.get(employee.getDept());\n\n        if(lowSalaryForDept == null || lowSalaryForDept &lt; employee.getSalary()) {\n            lowSalaries.put(employee.getDept(), employee.getSalary());\n        }\n    }\n    return lowSalaries;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9085662,"reputation":1,"user_id":6763758,"display_name":"ShashankTiwari4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659122267,"creation_date":1659122139,"answer_id":73170077,"question_id":16205105,"body_markdown":"      List&lt;Employee&gt; empArr=new ArrayList&lt;&gt;();\r\n            empArr.add(new Employee(&quot;John&quot;, 1,100000));\r\n            empArr.add(new Employee(&quot;Tom&quot;, 2,560000));\r\n            empArr.add(new Employee(&quot;Sam&quot;, 3,4500));\r\n            empArr.add(new Employee(&quot;David&quot;, 4,40000));\r\n    \r\n         int minSalary=   empArr.stream().map(e-&gt;e.getSalary()).min(new Comparator&lt;Integer&gt;() {\r\n                @Override\r\n                public int compare(Integer o1, Integer o2) {\r\n                    return o1.compareTo(o2);\r\n                }\r\n            }).get();\r\n    \r\n            System.out.println(minSalary);","title":"How to find minimum salary of list of employees in Java?","body":"<pre><code>  List&lt;Employee&gt; empArr=new ArrayList&lt;&gt;();\n        empArr.add(new Employee(&quot;John&quot;, 1,100000));\n        empArr.add(new Employee(&quot;Tom&quot;, 2,560000));\n        empArr.add(new Employee(&quot;Sam&quot;, 3,4500));\n        empArr.add(new Employee(&quot;David&quot;, 4,40000));\n\n     int minSalary=   empArr.stream().map(e-&gt;e.getSalary()).min(new Comparator&lt;Integer&gt;() {\n            @Override\n            public int compare(Integer o1, Integer o2) {\n                return o1.compareTo(o2);\n            }\n        }).get();\n\n        System.out.println(minSalary);\n</code></pre>\n"}],"owner":{"account_id":2102462,"reputation":53,"user_id":1869703,"accept_rate":50,"display_name":"user1869703"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16205136,"answer_count":5,"score":1,"last_activity_date":1659122267,"creation_date":1366854548,"question_id":16205105,"body_markdown":"Hi so I have two classes Employee and Department. My main function reads off a .txt file filled with employee names, salaries, departments, and positions. My Employee class is just getters and setters. An list of arraylists are made to represent the employees and I&#39;m not sure how I would find the minimum salary of each of the departments. To find the maximum salary I did this in my department class.\r\n \r\n\r\n    public class Department {\r\n        String dept;\r\n        List&lt;Employee&gt; employees;\r\n        double minSal;\r\n        double maxSal;\r\n    \r\n        public void addEmployee(Employee emp){\r\n            maxSal = 0.0;\r\n            if (maxSal &lt; emp.getSalary()) {\r\n                maxSal = emp.getSalary();\r\n            }\r\n\r\nbut I&#39;m not sure how to get the minimum salary. My idea was to get the salary of one of the employees from each department and use that as a starting point for \r\n\r\n    if (minSal &gt; emp.getSalary()) {\r\n        minSalary = emp.getSalary();\r\n    }\r\n\r\nBut I realized I had no idea what to do. Can I get some help with this?\r\n\r\n","title":"How to find minimum salary of list of employees in Java?","body":"<p>Hi so I have two classes Employee and Department. My main function reads off a .txt file filled with employee names, salaries, departments, and positions. My Employee class is just getters and setters. An list of arraylists are made to represent the employees and I'm not sure how I would find the minimum salary of each of the departments. To find the maximum salary I did this in my department class.</p>\n\n<pre><code>public class Department {\n    String dept;\n    List&lt;Employee&gt; employees;\n    double minSal;\n    double maxSal;\n\n    public void addEmployee(Employee emp){\n        maxSal = 0.0;\n        if (maxSal &lt; emp.getSalary()) {\n            maxSal = emp.getSalary();\n        }\n</code></pre>\n\n<p>but I'm not sure how to get the minimum salary. My idea was to get the salary of one of the employees from each department and use that as a starting point for </p>\n\n<pre><code>if (minSal &gt; emp.getSalary()) {\n    minSalary = emp.getSalary();\n}\n</code></pre>\n\n<p>But I realized I had no idea what to do. Can I get some help with this?</p>\n"},{"tags":["java","midi","graalvm-native-image","javax.sound.midi"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1659426177,"post_id":73170067,"comment_id":129285667,"body_markdown":"Did you provide JNI access config to `native-image`?","body":"Did you provide JNI access config to <code>native-image</code>?"},{"owner":{"account_id":25928128,"reputation":1,"user_id":19649696,"display_name":"java71"},"score":0,"creation_date":1659560351,"post_id":73170067,"comment_id":129326433,"body_markdown":"Hi, thanks for interresting into my problem.\n&lt;br/&gt;\nNo, I did not configure anything.\n&lt;br/&gt;\nThe reason is that all the MIDI out events are processed perfectly, without any specific configuration... So I expected that it was the same for MIDI IN !","body":"Hi, thanks for interresting into my problem. &lt;br/&gt; No, I did not configure anything. &lt;br/&gt; The reason is that all the MIDI out events are processed perfectly, without any specific configuration... So I expected that it was the same for MIDI IN !"},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":1,"creation_date":1659596340,"post_id":73170067,"comment_id":129332972,"body_markdown":"GraalVM cannot follow JNI calls automatically, so they need to be [configured](https://www.graalvm.org/22.2/reference-manual/native-image/dynamic-features/). This also applies to reflection and resource access. From the stack trace you&#39;ve posted, it seems the problem is an unconfigured Java method called up from native code.","body":"GraalVM cannot follow JNI calls automatically, so they need to be <a href=\"https://www.graalvm.org/22.2/reference-manual/native-image/dynamic-features/\" rel=\"nofollow noreferrer\">configured</a>. This also applies to reflection and resource access. From the stack trace you&#39;ve posted, it seems the problem is an unconfigured Java method called up from native code."},{"owner":{"account_id":25928128,"reputation":1,"user_id":19649696,"display_name":"java71"},"score":0,"creation_date":1659729904,"post_id":73170067,"comment_id":129372224,"body_markdown":"Many thanks for the link ! I managed to include JSON information in META-INF jar and... it works !!!","body":"Many thanks for the link ! I managed to include JSON information in META-INF jar and... it works !!!"}],"owner":{"account_id":25928128,"reputation":1,"user_id":19649696,"display_name":"java71"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659122083,"creation_date":1659122083,"question_id":73170067,"body_markdown":"I wrote a simple program that capture MIDI In events and print received message.\r\nConfiguration is Windows10 + Graalvm 17 + Eclipse + standard MIDI keyboard.\r\n\r\nThe program is a simple self-content file.\r\nAll works properly using JVM. MIDI out events are produced and MIDI in events are captures.\r\n\r\nThe problem appears when this program is turned into EXE.\r\nGeneration is performed without any problem.\r\nMIDI out events are produced and OK\r\nBut as I hit a keyboard key, the MIDI in event causes an exception.\r\n\r\n\r\n    Exception in thread &quot;Java Sound MidiInDevice Thread&quot; java.lang.NoSuchMethodError: com.sun.media.sound.MidiInDevice.callbackShortMessage(IJ)V\r\n            at com.oracle.svm.jni.functions.JNIFunctions$Support.getMethodID(JNIFunctions.java:1247)\r\n            at com.oracle.svm.jni.functions.JNIFunctions$Support.getMethodID(JNIFunctions.java:1232)\r\n            at com.oracle.svm.jni.functions.JNIFunctions.GetMethodID(JNIFunctions.java:412)\r\n            at com.sun.media.sound.MidiInDevice.nGetMessages(MidiInDevice.java)\r\n            at com.sun.media.sound.MidiInDevice.run(MidiInDevice.java:127)\r\n            at java.lang.Thread.run(Thread.java:833)\r\n            at com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:704)\r\n            at com.oracle.svm.core.windows.WindowsPlatformThreads.osThreadStartRoutine(WindowsPlatformThreads.java:143)\r\n\r\nI tried to ask for initialization at &#39;build-time&#39; or at &#39;run-time&#39; but the problem persists.\r\nDoes anyone have encountered the same issue ?\r\n\r\nThanks for your help.\r\n\r\nHere after the global self-content simple code\r\n----------------------------------------------\r\n\r\n    import javax.sound.midi.MidiDevice;\r\n    import javax.sound.midi.MidiMessage;\r\n    import javax.sound.midi.MidiSystem;\r\n    import javax.sound.midi.Receiver;\r\n    import javax.sound.midi.ShortMessage;\r\n    import javax.sound.midi.Transmitter;\r\n     \r\n    public class HelloMidi {\r\n        /** Main method. */\r\n        public static void main(String[] args) {\r\n            System.err.println(&quot;HelloMidi&quot;);\r\n            //-Recover MIDI in &amp; out\r\n            final Receiver midiOut=pickMidiOut(&quot;ESI M4U XT&quot;);\r\n            final Transmitter midiIn=pickMidiIn(&quot;MIDIIN4 (ESI M4U XT)&quot;);\r\n            //-Define what to do with events recovere for keyboard\r\n            midiIn.setReceiver(new Receiver() {\r\n                /** {@inheritDoc} */\r\n                @Override\r\n                public final void send(final MidiMessage message,final long timeStamp) {\r\n                    //-A message has just been received\r\n                    System.err.print(&quot;Message received-&gt;&quot;+message.getLength()+&quot; bytes&quot;);\r\n                    for(final byte b:message.getMessage()) System.err.print(&quot;, &quot;+Byte.toUnsignedInt(b));\r\n                    System.err.println();\r\n                }\r\n                /** {@inheritDoc} */\r\n                @Override\r\n                public final void close() {\r\n                    //-Nothing for this test !\r\n                }\r\n            });\r\n            assert(midiOut!=null);\r\n            try {\r\n                midiOut.send(new ShortMessage(144,60,120),-1);\r\n                Thread.sleep(1000);\r\n                midiOut.send(new ShortMessage(144,67,120),-1);\r\n                Thread.sleep(1000);\r\n                midiOut.send(new ShortMessage(144,72,120),-1);\r\n                Thread.sleep(20000);\r\n                //-Print accessible devics for information\r\n                for(final MidiDevice.Info mdi:MidiSystem.getMidiDeviceInfo()) System.err.println(&quot;Device &#39;&quot;+mdi.getName()+&quot;&#39;:&quot;+mdi);\r\n            } catch(final Exception e) {\r\n                //-Any problem\r\n                e.printStackTrace();\r\n            }\r\n            //-Exit\r\n            System.err.println(&quot;ByeMidi&quot;);\r\n            System.exit(0);\r\n        }\r\n        /** Check for requested MIDI OUT receiver. */\r\n        private static Receiver pickMidiOut(final String aName) {\r\n            //-Parse all devices\r\n            for(final MidiDevice.Info mdi:MidiSystem.getMidiDeviceInfo()) {\r\n                //-Check name\r\n                if(!mdi.getName().equals(aName)) continue;\r\n                //-Try in case there are errors\r\n                try {\r\n                    //-Recover a MIDI device\r\n                    final MidiDevice device=MidiSystem.getMidiDevice(mdi);\r\n                    //-Try to open it\r\n                    if(!device.isOpen()) device.open();\r\n                    if(!device.isOpen()) continue;\r\n                    //-Check receiver\r\n                    final Receiver answer=device.getReceiver();\r\n                    if(answer!=null) return(answer);\r\n                } catch(final Throwable e) {\r\n                    //-Any problem\r\n                    continue;\r\n                }\r\n            }\r\n            //-Return &#39;null&#39; as none found\r\n            return(null);\r\n        }\r\n        /** Check for requested MIDI IN transmitter. */\r\n        private static Transmitter pickMidiIn(final String aName) {\r\n            //-Parse all devices\r\n            for(final MidiDevice.Info mdi:MidiSystem.getMidiDeviceInfo()) {\r\n                //-Check name\r\n                if(!mdi.getName().equals(aName)) continue;\r\n                //-Try in case there are errors\r\n                try {\r\n                    //-Recover a MIDI device\r\n                    final MidiDevice device=MidiSystem.getMidiDevice(mdi);\r\n                    //-Try to open it\r\n                    if(!device.isOpen()) device.open();\r\n                    if(!device.isOpen()) continue;\r\n                    //-Check receiver\r\n                    final Transmitter answer=device.getTransmitter();\r\n                    if(answer!=null) return(answer);\r\n                } catch(final Throwable e) {\r\n                    //-Any problem\r\n                    continue;\r\n                }\r\n            }\r\n            //-Return &#39;null&#39; as none found\r\n            return(null);\r\n        }\r\n    }\r\n\r\n","title":"Impossible to process MIDI IN events in GRAALVM native image","body":"<p>I wrote a simple program that capture MIDI In events and print received message.\nConfiguration is Windows10 + Graalvm 17 + Eclipse + standard MIDI keyboard.</p>\n<p>The program is a simple self-content file.\nAll works properly using JVM. MIDI out events are produced and MIDI in events are captures.</p>\n<p>The problem appears when this program is turned into EXE.\nGeneration is performed without any problem.\nMIDI out events are produced and OK\nBut as I hit a keyboard key, the MIDI in event causes an exception.</p>\n<pre><code>Exception in thread &quot;Java Sound MidiInDevice Thread&quot; java.lang.NoSuchMethodError: com.sun.media.sound.MidiInDevice.callbackShortMessage(IJ)V\n        at com.oracle.svm.jni.functions.JNIFunctions$Support.getMethodID(JNIFunctions.java:1247)\n        at com.oracle.svm.jni.functions.JNIFunctions$Support.getMethodID(JNIFunctions.java:1232)\n        at com.oracle.svm.jni.functions.JNIFunctions.GetMethodID(JNIFunctions.java:412)\n        at com.sun.media.sound.MidiInDevice.nGetMessages(MidiInDevice.java)\n        at com.sun.media.sound.MidiInDevice.run(MidiInDevice.java:127)\n        at java.lang.Thread.run(Thread.java:833)\n        at com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:704)\n        at com.oracle.svm.core.windows.WindowsPlatformThreads.osThreadStartRoutine(WindowsPlatformThreads.java:143)\n</code></pre>\n<p>I tried to ask for initialization at 'build-time' or at 'run-time' but the problem persists.\nDoes anyone have encountered the same issue ?</p>\n<p>Thanks for your help.</p>\n<h2>Here after the global self-content simple code</h2>\n<pre><code>import javax.sound.midi.MidiDevice;\nimport javax.sound.midi.MidiMessage;\nimport javax.sound.midi.MidiSystem;\nimport javax.sound.midi.Receiver;\nimport javax.sound.midi.ShortMessage;\nimport javax.sound.midi.Transmitter;\n \npublic class HelloMidi {\n    /** Main method. */\n    public static void main(String[] args) {\n        System.err.println(&quot;HelloMidi&quot;);\n        //-Recover MIDI in &amp; out\n        final Receiver midiOut=pickMidiOut(&quot;ESI M4U XT&quot;);\n        final Transmitter midiIn=pickMidiIn(&quot;MIDIIN4 (ESI M4U XT)&quot;);\n        //-Define what to do with events recovere for keyboard\n        midiIn.setReceiver(new Receiver() {\n            /** {@inheritDoc} */\n            @Override\n            public final void send(final MidiMessage message,final long timeStamp) {\n                //-A message has just been received\n                System.err.print(&quot;Message received-&gt;&quot;+message.getLength()+&quot; bytes&quot;);\n                for(final byte b:message.getMessage()) System.err.print(&quot;, &quot;+Byte.toUnsignedInt(b));\n                System.err.println();\n            }\n            /** {@inheritDoc} */\n            @Override\n            public final void close() {\n                //-Nothing for this test !\n            }\n        });\n        assert(midiOut!=null);\n        try {\n            midiOut.send(new ShortMessage(144,60,120),-1);\n            Thread.sleep(1000);\n            midiOut.send(new ShortMessage(144,67,120),-1);\n            Thread.sleep(1000);\n            midiOut.send(new ShortMessage(144,72,120),-1);\n            Thread.sleep(20000);\n            //-Print accessible devics for information\n            for(final MidiDevice.Info mdi:MidiSystem.getMidiDeviceInfo()) System.err.println(&quot;Device '&quot;+mdi.getName()+&quot;':&quot;+mdi);\n        } catch(final Exception e) {\n            //-Any problem\n            e.printStackTrace();\n        }\n        //-Exit\n        System.err.println(&quot;ByeMidi&quot;);\n        System.exit(0);\n    }\n    /** Check for requested MIDI OUT receiver. */\n    private static Receiver pickMidiOut(final String aName) {\n        //-Parse all devices\n        for(final MidiDevice.Info mdi:MidiSystem.getMidiDeviceInfo()) {\n            //-Check name\n            if(!mdi.getName().equals(aName)) continue;\n            //-Try in case there are errors\n            try {\n                //-Recover a MIDI device\n                final MidiDevice device=MidiSystem.getMidiDevice(mdi);\n                //-Try to open it\n                if(!device.isOpen()) device.open();\n                if(!device.isOpen()) continue;\n                //-Check receiver\n                final Receiver answer=device.getReceiver();\n                if(answer!=null) return(answer);\n            } catch(final Throwable e) {\n                //-Any problem\n                continue;\n            }\n        }\n        //-Return 'null' as none found\n        return(null);\n    }\n    /** Check for requested MIDI IN transmitter. */\n    private static Transmitter pickMidiIn(final String aName) {\n        //-Parse all devices\n        for(final MidiDevice.Info mdi:MidiSystem.getMidiDeviceInfo()) {\n            //-Check name\n            if(!mdi.getName().equals(aName)) continue;\n            //-Try in case there are errors\n            try {\n                //-Recover a MIDI device\n                final MidiDevice device=MidiSystem.getMidiDevice(mdi);\n                //-Try to open it\n                if(!device.isOpen()) device.open();\n                if(!device.isOpen()) continue;\n                //-Check receiver\n                final Transmitter answer=device.getTransmitter();\n                if(answer!=null) return(answer);\n            } catch(final Throwable e) {\n                //-Any problem\n                continue;\n            }\n        }\n        //-Return 'null' as none found\n        return(null);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","accessibility","flag-secure"],"comments":[{"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"score":0,"creation_date":1659145862,"post_id":73170014,"comment_id":129230580,"body_markdown":"Given this is a fairly new requirement, you may be better off asking the Android team directly (https://source.android.com/setup/contribute/report-bugs)","body":"Given this is a fairly new requirement, you may be better off asking the Android team directly (<a href=\"https://source.android.com/setup/contribute/report-bugs\" rel=\"nofollow noreferrer\">source.android.com/setup/contribute/report-bugs</a>)"},{"owner":{"account_id":404833,"reputation":1416,"user_id":773371,"accept_rate":82,"display_name":"gcdev"},"score":0,"creation_date":1659288336,"post_id":73170014,"comment_id":129254020,"body_markdown":"Asked here: https://support.google.com/android/thread/173317683?hl=en","body":"Asked here: <a href=\"https://support.google.com/android/thread/173317683?hl=en\" rel=\"nofollow noreferrer\">support.google.com/android/thread/173317683?hl=en</a>"}],"owner":{"account_id":404833,"reputation":1416,"user_id":773371,"accept_rate":82,"display_name":"gcdev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1659121754,"creation_date":1659121754,"question_id":73170014,"body_markdown":"Google has issued this requirement for Android apps, effective November 1, 2022:\r\n\r\n&quot;For security and privacy purposes, all apps distributed on Google Play are required to respect the `FLAG_SECURE` declaration of other apps. Meaning, apps must not facilitate or create workarounds to bypass the `FLAG_SECURE` settings in other apps.\r\n\r\n&quot;Apps that qualify as an accessibility tool are exempt from this requirement, as long as they do not transmit, save or cache `FLAG_SECURE` protected content for access outside of the user&#39;s device.&quot;\r\n\r\nhttps://support.google.com/googleplay/android-developer/answer/12253906#flag_secure_preview\r\n\r\nMy app collects accessibility data and records it in the cloud, at the user&#39;s request. I would like to honor the `FLAG_SECURE` assertions of other apps, but where do I find such data?\r\n\r\nIn other words, how do I programmatically know in Java if an Accessibility event comes from a `FLAG_SECURE` app?","title":"How to programmatically detect if Accessibility event comes from FLAG_SECURE Android app?","body":"<p>Google has issued this requirement for Android apps, effective November 1, 2022:</p>\n<p>&quot;For security and privacy purposes, all apps distributed on Google Play are required to respect the <code>FLAG_SECURE</code> declaration of other apps. Meaning, apps must not facilitate or create workarounds to bypass the <code>FLAG_SECURE</code> settings in other apps.</p>\n<p>&quot;Apps that qualify as an accessibility tool are exempt from this requirement, as long as they do not transmit, save or cache <code>FLAG_SECURE</code> protected content for access outside of the user's device.&quot;</p>\n<p><a href=\"https://support.google.com/googleplay/android-developer/answer/12253906#flag_secure_preview\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer/12253906#flag_secure_preview</a></p>\n<p>My app collects accessibility data and records it in the cloud, at the user's request. I would like to honor the <code>FLAG_SECURE</code> assertions of other apps, but where do I find such data?</p>\n<p>In other words, how do I programmatically know in Java if an Accessibility event comes from a <code>FLAG_SECURE</code> app?</p>\n"},{"tags":["java","sockets","nio","bytebuffer"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1437155425,"creation_date":1437155425,"answer_id":31481813,"question_id":31481769,"body_markdown":"The way I would do it is to read as much as is available, such as 32 KB, and once you have read this, you copy the data byte-by-byte to another buffer, e.g. a StringBuilder.  If there is data left in the buffer from the last time you read, you can continue using the buffer until it it is all consumed, at which point you read more data.\r\n\r\nNote: each system call is expensive. It could take 2-5 micro-seconds.  This doesn&#39;t sound like much unless you call it millions of times and it will add seconds to reading 1 MB.\r\n","title":"Read bytes from Java NIO socketchannel until marker is reached","body":"<p>The way I would do it is to read as much as is available, such as 32 KB, and once you have read this, you copy the data byte-by-byte to another buffer, e.g. a StringBuilder.  If there is data left in the buffer from the last time you read, you can continue using the buffer until it it is all consumed, at which point you read more data.</p>\n\n<p>Note: each system call is expensive. It could take 2-5 micro-seconds.  This doesn't sound like much unless you call it millions of times and it will add seconds to reading 1 MB.</p>\n"},{"tags":[],"owner":{"account_id":4464695,"reputation":307,"user_id":3632641,"accept_rate":38,"display_name":"Patze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437205504,"creation_date":1437205504,"answer_id":31489003,"question_id":31481769,"body_markdown":"Here&#180;s the code of my final solution.\r\n\r\n\tByteBuffer res = ByteBuffer.allocate(maxByte);\r\n\twhile (true) {\r\n\t\tByteBuffer tmp = ByteBuffer.allocate(maxByte);\r\n\r\n\t\tint bytesRead = clientSocket.read(tmp);\r\n\t\tif (bytesRead == -1) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// rewind ByteBuffer to get it back to start\r\n\t\ttmp.rewind();\r\n\r\n\t\tfor (int i = 0; i &lt; bytesRead; i++) {\r\n\t\t\tbyte cur = tmp.get(i);\r\n\t\t\tres.put(cur);\r\n\t\t\tif (cur == marker) {\r\n\t\t\t\tprocessMessage(res);\r\n\t\t\t\tres = ByteBuffer.allocate(maxByte);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// reached end of message, break loop\r\n\t\tif (bytesRead &lt; tmpSize) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}","title":"Read bytes from Java NIO socketchannel until marker is reached","body":"<p>Here´s the code of my final solution.</p>\n\n<pre><code>ByteBuffer res = ByteBuffer.allocate(maxByte);\nwhile (true) {\n    ByteBuffer tmp = ByteBuffer.allocate(maxByte);\n\n    int bytesRead = clientSocket.read(tmp);\n    if (bytesRead == -1) {\n        break;\n    }\n\n    // rewind ByteBuffer to get it back to start\n    tmp.rewind();\n\n    for (int i = 0; i &lt; bytesRead; i++) {\n        byte cur = tmp.get(i);\n        res.put(cur);\n        if (cur == marker) {\n            processMessage(res);\n            res = ByteBuffer.allocate(maxByte);\n        }\n    }\n\n    // reached end of message, break loop\n    if (bytesRead &lt; tmpSize) {\n        break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4464695,"reputation":307,"user_id":3632641,"accept_rate":38,"display_name":"Patze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3944,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31481813,"answer_count":2,"score":7,"last_activity_date":1659121516,"creation_date":1437155235,"question_id":31481769,"body_markdown":"I&#180;m searching for an efficient way to read bytes from a socket channel using Java NIO. The task is quite easy, I have a solution, though I&#180;m searching for a cleaner and more efficient way to solve this. Here&#180;s the scenario:\r\n\r\n1. Data is read from a socket channel\r\n2. This data is a UTF-8 encoded string\r\n3. Every line is ended by \\r\\n, the length is unknown up front\r\n4. After every line read, I want to do something with the message\r\n\r\nMy solution reads the data byte per byte and compares every byte to my marker (which is has the value 10 in UTF-8 code pages). Here&#180;s the code:\r\n\r\n    ByteBuffer res = ByteBuffer.allocate(512);\r\n\tboolean completed = false;\r\n\ttry {\r\n\t\twhile (true) {\r\n\t\t\tByteBuffer tmp = ByteBuffer.allocate(1);\r\n\t\t\tif(soc.read(tmp) == -1) {\r\n                 break;\r\n            }\r\n\r\n\t\t\t// set marker back to index 0\r\n\t\t\ttmp.rewind();\r\n\t\t\tbyte cur = tmp.get();\r\n\t\t\tres.put(cur);\r\n\r\n\t\t\t// have we read newline?\r\n\t\t\tif (cur == 10) {\r\n\t\t\t\tdoSomething(res);\r\n                res.clear();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n    } catch(Exception ex) {\r\n         handle(ex);\r\n    }\r\n\r\nEven though this does the job, there might be a better way, that doesn&#39;t need those per byte comparisons after every iteration.\r\n\r\nThanks for your help!","title":"Read bytes from Java NIO socketchannel until marker is reached","body":"<p>I´m searching for an efficient way to read bytes from a socket channel using Java NIO. The task is quite easy, I have a solution, though I´m searching for a cleaner and more efficient way to solve this. Here´s the scenario:</p>\n\n<ol>\n<li>Data is read from a socket channel</li>\n<li>This data is a UTF-8 encoded string</li>\n<li>Every line is ended by \\r\\n, the length is unknown up front</li>\n<li>After every line read, I want to do something with the message</li>\n</ol>\n\n<p>My solution reads the data byte per byte and compares every byte to my marker (which is has the value 10 in UTF-8 code pages). Here´s the code:</p>\n\n<pre><code>ByteBuffer res = ByteBuffer.allocate(512);\nboolean completed = false;\ntry {\n    while (true) {\n        ByteBuffer tmp = ByteBuffer.allocate(1);\n        if(soc.read(tmp) == -1) {\n             break;\n        }\n\n        // set marker back to index 0\n        tmp.rewind();\n        byte cur = tmp.get();\n        res.put(cur);\n\n        // have we read newline?\n        if (cur == 10) {\n            doSomething(res);\n            res.clear();\n        }\n    }\n\n} catch(Exception ex) {\n     handle(ex);\n}\n</code></pre>\n\n<p>Even though this does the job, there might be a better way, that doesn't need those per byte comparisons after every iteration.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":3992512,"reputation":1270,"user_id":3290958,"display_name":"dehumanizer"},"score":4,"creation_date":1510006879,"post_id":37010891,"comment_id":81243904,"body_markdown":"I ended up using https://github.com/json-path/JsonPath — Spring uses it under the hood as well. For example, in their org.springframework.data.web.","body":"I ended up using <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">github.com/json-path/JsonPath</a> — Spring uses it under the hood as well. For example, in their org.springframework.data.web."}],"answers":[{"tags":[],"owner":{"account_id":4406705,"reputation":2296,"user_id":3590895,"accept_rate":29,"display_name":"jeorfevre"},"down_vote_count":10,"up_vote_count":2,"is_accepted":false,"score":-8,"last_activity_date":1462299773,"creation_date":1462299460,"answer_id":37011531,"question_id":37010891,"body_markdown":"Hi here is the **complete working code.**\r\n\r\n\r\n**//JUNIT TEST CLASS**\r\n\r\npublic class sof {\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\t\r\n\t\tBrand b = new Brand();\r\n\t\tb.id=1;\r\n\t\tb.name=&quot;RIZZE&quot;;\r\n\t\t\r\n\t\tProduct p = new Product();\r\n\t\tp.brand=b;\r\n\t\tp.id=12;\r\n\t\tp.name=&quot;bigdata&quot;;\r\n\t\t\r\n\t\t\r\n\t\t//mapper\r\n\t\tObjectMapper o = new ObjectMapper();\r\n\t\to.registerSubtypes(Brand.class);\r\n\t\to.registerSubtypes(Product.class);\r\n\t\to.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n\t\t\r\n\t\tString json=null;\r\n\t\ttry {\r\n\t\t\tjson = o.writeValueAsString(p);\r\n\t\t\tassertTrue(json!=null);\r\n\t\t\tlogger.info(json);\r\n\t\t\t\r\n\t\t\tProduct p2;\r\n\t\t\ttry {\r\n\t\t\t\tp2 = o.readValue(json, Product.class);\r\n\t\t\t\tassertTrue(p2!=null);\r\n\t\t\t\tassertTrue(p2.id== p.id);\r\n\t\t\t\tassertTrue(p2.name.compareTo(p.name)==0);\r\n\t\t\t\tassertTrue(p2.brand.id==p.brand.id);\r\n\t\t\t\tlogger.info(&quot;SUCCESS&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tfail(e.toString());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t\tfail(e.toString());\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\n\r\n\r\n    **// Product.class**\r\n        public class Product {\r\n    \tprotected int id;\r\n    \tprotected String name;\r\n        \r\n        @JsonProperty(&quot;brand&quot;) //not necessary ... but written\r\n        protected Brand brand;\r\n       \r\n    }\r\n\r\n        **//Brand class**\r\n        public class Brand {\r\n        protected int id;\r\n        protected String name;\t   \r\n    }\r\n\r\n\r\n\r\n**//Console.log of junit testcase**\r\n\r\n    2016-05-03 15:21:42 396 INFO  {&quot;id&quot;:12,&quot;name&quot;:&quot;bigdata&quot;,&quot;brand&quot;:{&quot;id&quot;:1,&quot;name&quot;:&quot;RIZZE&quot;}} / MReloadDB:40 \r\n    2016-05-03 15:21:42 397 INFO  SUCCESS / MReloadDB:49 \r\n\r\n\r\nComplete gist : https://gist.github.com/jeorfevre/7c94d4b36a809d4acf2f188f204a8058\r\n","title":"How to map a nested value to a property using Jackson annotations?","body":"<p>Hi here is the <strong>complete working code.</strong></p>\n\n<p><strong>//JUNIT TEST CLASS</strong></p>\n\n<p>public class sof {</p>\n\n<pre><code>@Test\npublic void test() {\n\n    Brand b = new Brand();\n    b.id=1;\n    b.name=\"RIZZE\";\n\n    Product p = new Product();\n    p.brand=b;\n    p.id=12;\n    p.name=\"bigdata\";\n\n\n    //mapper\n    ObjectMapper o = new ObjectMapper();\n    o.registerSubtypes(Brand.class);\n    o.registerSubtypes(Product.class);\n    o.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n\n    String json=null;\n    try {\n        json = o.writeValueAsString(p);\n        assertTrue(json!=null);\n        logger.info(json);\n\n        Product p2;\n        try {\n            p2 = o.readValue(json, Product.class);\n            assertTrue(p2!=null);\n            assertTrue(p2.id== p.id);\n            assertTrue(p2.name.compareTo(p.name)==0);\n            assertTrue(p2.brand.id==p.brand.id);\n            logger.info(\"SUCCESS\");\n        } catch (IOException e) {\n\n            e.printStackTrace();\n            fail(e.toString());\n        }\n\n\n\n\n    } catch (JsonProcessingException e) {\n\n        e.printStackTrace();\n        fail(e.toString());\n    }\n\n\n}\n}\n\n\n\n\n**// Product.class**\n    public class Product {\n    protected int id;\n    protected String name;\n\n    @JsonProperty(\"brand\") //not necessary ... but written\n    protected Brand brand;\n\n}\n\n    **//Brand class**\n    public class Brand {\n    protected int id;\n    protected String name;     \n}\n</code></pre>\n\n<p><strong>//Console.log of junit testcase</strong></p>\n\n<pre><code>2016-05-03 15:21:42 396 INFO  {\"id\":12,\"name\":\"bigdata\",\"brand\":{\"id\":1,\"name\":\"RIZZE\"}} / MReloadDB:40 \n2016-05-03 15:21:42 397 INFO  SUCCESS / MReloadDB:49 \n</code></pre>\n\n<p>Complete gist : <a href=\"https://gist.github.com/jeorfevre/7c94d4b36a809d4acf2f188f204a8058\" rel=\"nofollow\">https://gist.github.com/jeorfevre/7c94d4b36a809d4acf2f188f204a8058</a></p>\n"},{"tags":[],"owner":{"account_id":6521098,"reputation":136,"user_id":5099417,"display_name":"Srikanth Lankapalli"},"down_vote_count":10,"up_vote_count":4,"is_accepted":false,"score":-6,"last_activity_date":1462299901,"creation_date":1462299901,"answer_id":37011653,"question_id":37010891,"body_markdown":"To make it simple ..I have written the code ...most of it is self explanatory.\r\n\r\n`Main Method`\r\n\r\n    package com.test;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class LOGIC {\r\n    \r\n    \tpublic static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {\r\n    \t\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\tString DATA = &quot;{\\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;id\\&quot;: 123,\\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;name\\&quot;: \\&quot;The Best Product\\&quot;,\\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;brand\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;id\\&quot;: 234,\\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;name\\&quot;: \\&quot;ACME Products\\&quot;\\r\\n&quot; + \r\n    \t\t\t\t&quot;  }\\r\\n&quot; + \r\n    \t\t\t\t&quot;}&quot;;\r\n    \t\t\r\n    \t\tProductTest productTest = objectMapper.readValue(DATA, ProductTest.class);\r\n    \t\tSystem.out.println(productTest.toString());\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n`Class ProductTest`\r\n\r\n    package com.test;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    public class ProductTest {\r\n    \t\r\n    \tprivate int productId;\r\n        private String productName;\r\n        private BrandName brandName;\r\n        \r\n        @JsonProperty(&quot;id&quot;)\r\n    \tpublic int getProductId() {\r\n    \t\treturn productId;\r\n    \t}\r\n    \tpublic void setProductId(int productId) {\r\n    \t\tthis.productId = productId;\r\n    \t}\r\n    \t\r\n    \t@JsonProperty(&quot;name&quot;)\r\n    \tpublic String getProductName() {\r\n    \t\treturn productName;\r\n    \t}\r\n    \tpublic void setProductName(String productName) {\r\n    \t\tthis.productName = productName;\r\n    \t}\r\n    \t\r\n        @JsonProperty(&quot;brand&quot;)\r\n    \tpublic BrandName getBrandName() {\r\n    \t\treturn brandName;\r\n    \t}\r\n    \tpublic void setBrandName(BrandName brandName) {\r\n    \t\tthis.brandName = brandName;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ProductTest [productId=&quot; + productId + &quot;, productName=&quot; + productName + &quot;, brandName=&quot; + brandName\r\n    \t\t\t\t+ &quot;]&quot;;\r\n    \t}\r\n        \r\n    \t\r\n    \t\r\n    }\r\n\r\n` Class BrandName `\r\n\r\n    package com.test;\r\n    \r\n    public class BrandName {\r\n    \t\r\n    \tprivate Integer id;\r\n    \tprivate String name;\r\n    \tpublic Integer getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;BrandName [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n\r\n` OUTPUT `\r\n\r\n    ProductTest [productId=123, productName=The Best Product, brandName=BrandName [id=234, name=ACME Products]]","title":"How to map a nested value to a property using Jackson annotations?","body":"<p>To make it simple ..I have written the code ...most of it is self explanatory.</p>\n\n<p><code>Main Method</code></p>\n\n<pre><code>package com.test;\n\nimport java.io.IOException;\n\nimport com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class LOGIC {\n\n    public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        String DATA = \"{\\r\\n\" + \n                \"  \\\"id\\\": 123,\\r\\n\" + \n                \"  \\\"name\\\": \\\"The Best Product\\\",\\r\\n\" + \n                \"  \\\"brand\\\": {\\r\\n\" + \n                \"     \\\"id\\\": 234,\\r\\n\" + \n                \"     \\\"name\\\": \\\"ACME Products\\\"\\r\\n\" + \n                \"  }\\r\\n\" + \n                \"}\";\n\n        ProductTest productTest = objectMapper.readValue(DATA, ProductTest.class);\n        System.out.println(productTest.toString());\n\n    }\n\n}\n</code></pre>\n\n<p><code>Class ProductTest</code></p>\n\n<pre><code>package com.test;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class ProductTest {\n\n    private int productId;\n    private String productName;\n    private BrandName brandName;\n\n    @JsonProperty(\"id\")\n    public int getProductId() {\n        return productId;\n    }\n    public void setProductId(int productId) {\n        this.productId = productId;\n    }\n\n    @JsonProperty(\"name\")\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n\n    @JsonProperty(\"brand\")\n    public BrandName getBrandName() {\n        return brandName;\n    }\n    public void setBrandName(BrandName brandName) {\n        this.brandName = brandName;\n    }\n\n    @Override\n    public String toString() {\n        return \"ProductTest [productId=\" + productId + \", productName=\" + productName + \", brandName=\" + brandName\n                + \"]\";\n    }\n\n\n\n}\n</code></pre>\n\n<p><code>Class BrandName</code></p>\n\n<pre><code>package com.test;\n\npublic class BrandName {\n\n    private Integer id;\n    private String name;\n    public Integer getId() {\n        return id;\n    }\n    public void setId(Integer id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    @Override\n    public String toString() {\n        return \"BrandName [id=\" + id + \", name=\" + name + \"]\";\n    }\n\n\n\n\n}\n</code></pre>\n\n<p><code>OUTPUT</code></p>\n\n<pre><code>ProductTest [productId=123, productName=The Best Product, brandName=BrandName [id=234, name=ACME Products]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9936552,"reputation":1641,"user_id":7354710,"display_name":"Jacek Grobelny"},"down_vote_count":1,"up_vote_count":151,"is_accepted":true,"score":150,"last_activity_date":1483027083,"creation_date":1483027083,"answer_id":41383076,"question_id":37010891,"body_markdown":"You can achieve this like that:\r\n\r\n    String brandName;\r\n\r\n    @JsonProperty(&quot;brand&quot;)\r\n\tprivate void unpackNameFromNestedObject(Map&lt;String, String&gt; brand) {\r\n\t\tbrandName = brand.get(&quot;name&quot;);\r\n\t}\r\n\r\n","title":"How to map a nested value to a property using Jackson annotations?","body":"<p>You can achieve this like that:</p>\n\n<pre><code>String brandName;\n\n@JsonProperty(\"brand\")\nprivate void unpackNameFromNestedObject(Map&lt;String, String&gt; brand) {\n    brandName = brand.get(\"name\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1719961,"reputation":3647,"user_id":1576149,"accept_rate":60,"display_name":"gogstad"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1495192561,"creation_date":1495192561,"answer_id":44068656,"question_id":37010891,"body_markdown":"You can use JsonPath-expressions to map nested properties. I don&#39;t think there&#39;s any official support (see [this](https://github.com/FasterXML/jackson-core/issues/76) issue), but there&#39;s an unofficial implementation here: https://github.com/elasticpath/json-unmarshaller","title":"How to map a nested value to a property using Jackson annotations?","body":"<p>You can use JsonPath-expressions to map nested properties. I don't think there's any official support (see <a href=\"https://github.com/FasterXML/jackson-core/issues/76\" rel=\"noreferrer\">this</a> issue), but there's an unofficial implementation here: <a href=\"https://github.com/elasticpath/json-unmarshaller\" rel=\"noreferrer\">https://github.com/elasticpath/json-unmarshaller</a></p>\n"},{"tags":[],"owner":{"account_id":6988257,"reputation":245,"user_id":6200768,"display_name":"Sunny KC"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1503556757,"creation_date":1503556757,"answer_id":45854566,"question_id":37010891,"body_markdown":"This is how I handled this problem:\r\n\r\n`Brand` class:\r\n\r\n    package org.answer.entity;\r\n\r\n    public class Brand {\r\n\r\n        private Long id;\r\n\r\n        private String name;\r\n\r\n        public Brand() {\r\n\r\n        }\r\n\r\n        //accessors and mutators\r\n    }\r\n\r\n`Product` class:\r\n\r\n    package org.answer.entity;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonGetter;\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.annotation.JsonSetter;\r\n\r\n    public class Product {\r\n\r\n        private Long id;\r\n\r\n        private String name;\r\n\r\n        @JsonIgnore\r\n        private Brand brand;\r\n\r\n        private String brandName;\r\n\r\n        public Product(){}\r\n\r\n        @JsonGetter(&quot;brandName&quot;)\r\n        protected String getBrandName() {\r\n            if (brand != null)\r\n                brandName = brand.getName();\r\n            return brandName;\r\n        }\r\n\r\n        @JsonSetter(&quot;brandName&quot;)\r\n        protected void setBrandName(String brandName) {\r\n            if (brandName != null) {\r\n                brand = new Brand();\r\n                brand.setName(brandName);\r\n            }\r\n            this.brandName = brandName;\r\n        }\r\n\r\n    //other accessors and mutators\r\n    }\r\n\r\nHere, the `brand` instance will be ignored by `Jackson` during `serialization` and `deserialization`, since it is annotated with `@JsonIgnore`.\r\n\r\n`Jackson` will use the method annotated with `@JsonGetter` for `serialization` of java object into `JSON` format. So, the `brandName` is set with `brand.getName()`.\r\n\r\nSimilarly, `Jackson` will use the method annotated with `@JsonSetter` for `deserialization` of `JSON` format into java object. In this scenario, you will have to instantiate the `brand` object yourself and set its `name` property from `brandName`.\r\n\r\nYou can use `@Transient` persistence annotation with `brandName`, if you want it to be ignored by persistence provider.","title":"How to map a nested value to a property using Jackson annotations?","body":"<p>This is how I handled this problem:</p>\n\n<p><code>Brand</code> class:</p>\n\n<pre><code>package org.answer.entity;\n\npublic class Brand {\n\n    private Long id;\n\n    private String name;\n\n    public Brand() {\n\n    }\n\n    //accessors and mutators\n}\n</code></pre>\n\n<p><code>Product</code> class:</p>\n\n<pre><code>package org.answer.entity;\n\nimport com.fasterxml.jackson.annotation.JsonGetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonSetter;\n\npublic class Product {\n\n    private Long id;\n\n    private String name;\n\n    @JsonIgnore\n    private Brand brand;\n\n    private String brandName;\n\n    public Product(){}\n\n    @JsonGetter(\"brandName\")\n    protected String getBrandName() {\n        if (brand != null)\n            brandName = brand.getName();\n        return brandName;\n    }\n\n    @JsonSetter(\"brandName\")\n    protected void setBrandName(String brandName) {\n        if (brandName != null) {\n            brand = new Brand();\n            brand.setName(brandName);\n        }\n        this.brandName = brandName;\n    }\n\n//other accessors and mutators\n}\n</code></pre>\n\n<p>Here, the <code>brand</code> instance will be ignored by <code>Jackson</code> during <code>serialization</code> and <code>deserialization</code>, since it is annotated with <code>@JsonIgnore</code>.</p>\n\n<p><code>Jackson</code> will use the method annotated with <code>@JsonGetter</code> for <code>serialization</code> of java object into <code>JSON</code> format. So, the <code>brandName</code> is set with <code>brand.getName()</code>.</p>\n\n<p>Similarly, <code>Jackson</code> will use the method annotated with <code>@JsonSetter</code> for <code>deserialization</code> of <code>JSON</code> format into java object. In this scenario, you will have to instantiate the <code>brand</code> object yourself and set its <code>name</code> property from <code>brandName</code>.</p>\n\n<p>You can use <code>@Transient</code> persistence annotation with <code>brandName</code>, if you want it to be ignored by persistence provider.</p>\n"},{"tags":[],"owner":{"account_id":1476785,"reputation":1621,"user_id":1386990,"accept_rate":57,"display_name":"Toseef Zafar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563367107,"creation_date":1563367107,"answer_id":57076036,"question_id":37010891,"body_markdown":"The best is to use setter methods: \r\n\r\nJSON:\r\n\r\n    ...\r\n     &quot;coordinates&quot;: {\r\n                   &quot;lat&quot;: 34.018721,\r\n                   &quot;lng&quot;: -118.489090\r\n                 }\r\n    ...\r\n\r\n\r\nsetter method for lat or lng will look like:\r\n\r\n     @JsonProperty(&quot;coordinates&quot;)\r\n        public void setLng(Map&lt;String, String&gt; coordinates) {\r\n            this.lng = (Float.parseFloat(coordinates.get(&quot;lng&quot;)));\r\n     }\r\n\r\n\r\nif you need to read both (as you normally would do) then use a custom method\r\n\r\n    @JsonProperty(&quot;coordinates&quot;)\r\n    public void setLatLng(Map&lt;String, String&gt; coordinates){\r\n        this.lat = (Float.parseFloat(coordinates.get(&quot;lat&quot;)));\r\n        this.lng = (Float.parseFloat(coordinates.get(&quot;lng&quot;)));\r\n    }","title":"How to map a nested value to a property using Jackson annotations?","body":"<p>The best is to use setter methods: </p>\n\n<p>JSON:</p>\n\n<pre><code>...\n \"coordinates\": {\n               \"lat\": 34.018721,\n               \"lng\": -118.489090\n             }\n...\n</code></pre>\n\n<p>setter method for lat or lng will look like:</p>\n\n<pre><code> @JsonProperty(\"coordinates\")\n    public void setLng(Map&lt;String, String&gt; coordinates) {\n        this.lng = (Float.parseFloat(coordinates.get(\"lng\")));\n }\n</code></pre>\n\n<p>if you need to read both (as you normally would do) then use a custom method</p>\n\n<pre><code>@JsonProperty(\"coordinates\")\npublic void setLatLng(Map&lt;String, String&gt; coordinates){\n    this.lat = (Float.parseFloat(coordinates.get(\"lat\")));\n    this.lng = (Float.parseFloat(coordinates.get(\"lng\")));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4323208,"reputation":2481,"user_id":3530707,"display_name":"julianm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626297407,"creation_date":1626297407,"answer_id":68385207,"question_id":37010891,"body_markdown":"This is my solution to  **solve any** issue related to JSON nested mapping.\r\n\r\nFirst store your response as a **Map**:\r\n\r\n            ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response =\r\n            restTemplate.exchange(\r\n                requestUri,\r\n                HttpMethod.GET,\r\n                buildAuthHeader(),\r\n                new ParameterizedTypeReference&lt;&gt;() {\r\n                });\r\n\r\nNow you can read **any nested value in your JSON tree**. For example:\r\n\r\n    response.getBody().get(&quot;content&quot;).get(0).get(&quot;terminal&quot;)\r\n\r\nIn this case, my JSON is:\r\n\r\n    {\r\n    &quot;page&quot;: 0,\r\n    &quot;total_pages&quot;: 1,\r\n    &quot;total_elements&quot;: 2,\r\n    &quot;content&quot;: [\r\n        {\r\n            &quot;merchant&quot;: &quot;000405&quot;,\r\n            &quot;terminal&quot;: &quot;38010101&quot;,\r\n            &quot;status&quot;: &quot;Para ser instalada&quot;, \r\n    ....\r\n\r\n\r\n","title":"How to map a nested value to a property using Jackson annotations?","body":"<p>This is my solution to  <strong>solve any</strong> issue related to JSON nested mapping.</p>\n<p>First store your response as a <strong>Map</strong>:</p>\n<pre><code>        ResponseEntity&lt;Map&lt;String, Object&gt;&gt; response =\n        restTemplate.exchange(\n            requestUri,\n            HttpMethod.GET,\n            buildAuthHeader(),\n            new ParameterizedTypeReference&lt;&gt;() {\n            });\n</code></pre>\n<p>Now you can read <strong>any nested value in your JSON tree</strong>. For example:</p>\n<pre><code>response.getBody().get(&quot;content&quot;).get(0).get(&quot;terminal&quot;)\n</code></pre>\n<p>In this case, my JSON is:</p>\n<pre><code>{\n&quot;page&quot;: 0,\n&quot;total_pages&quot;: 1,\n&quot;total_elements&quot;: 2,\n&quot;content&quot;: [\n    {\n        &quot;merchant&quot;: &quot;000405&quot;,\n        &quot;terminal&quot;: &quot;38010101&quot;,\n        &quot;status&quot;: &quot;Para ser instalada&quot;, \n....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1659121158,"creation_date":1659121158,"answer_id":73169932,"question_id":37010891,"body_markdown":"Just use @JsonUnwrapped:\r\n\r\nhttps://www.logicbig.com/tutorials/misc/jackson/json-unwrapped.html\r\n\r\nThis puts the child objects in the parent.","title":"How to map a nested value to a property using Jackson annotations?","body":"<p>Just use @JsonUnwrapped:</p>\n<p><a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-unwrapped.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/misc/jackson/json-unwrapped.html</a></p>\n<p>This puts the child objects in the parent.</p>\n"}],"owner":{"account_id":1017755,"reputation":2265,"user_id":1180762,"accept_rate":75,"display_name":"kenske"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135077,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":41383076,"answer_count":8,"score":138,"last_activity_date":1659121158,"creation_date":1462297427,"question_id":37010891,"body_markdown":"Let&#39;s say I&#39;m making a call to an API that responds with the following JSON for a product:\r\n\r\n    {\r\n      &quot;id&quot;: 123,\r\n      &quot;name&quot;: &quot;The Best Product&quot;,\r\n      &quot;brand&quot;: {\r\n         &quot;id&quot;: 234,\r\n         &quot;name&quot;: &quot;ACME Products&quot;\r\n      }\r\n    }\r\n\r\nI&#39;m able to map the product id and name just fine using Jackson annotations:\r\n\r\n\r\n    public class ProductTest {\r\n        private int productId;\r\n        private String productName, brandName;\r\n    \r\n        @JsonProperty(&quot;id&quot;)\r\n        public int getProductId() {\r\n            return productId;\r\n        }\r\n    \r\n        public void setProductId(int productId) {\r\n            this.productId = productId;\r\n        }\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        public String getProductName() {\r\n            return productName;\r\n        }\r\n    \r\n        public void setProductName(String productName) {\r\n            this.productName = productName;\r\n        }\r\n    \r\n        public String getBrandName() {\r\n            return brandName;\r\n        }\r\n    \r\n        public void setBrandName(String brandName) {\r\n            this.brandName = brandName;\r\n        }\r\n    }\r\n\r\nAnd then using the fromJson method to create the product:\r\n\r\n      JsonNode apiResponse = api.getResponse();\r\n      Product product = Json.fromJson(apiResponse, Product.class);\r\n\r\nBut now I&#39;m trying to figure out how to grab the brand name, which is a nested property. I was hoping that something like this would work:\r\n\r\n\r\n        @JsonProperty(&quot;brand.name&quot;)\r\n        public String getBrandName() {\r\n            return brandName;\r\n        }\r\n\r\nBut of course it didn&#39;t. Is there an easy way to accomplish what I want using annotations? \r\n\r\n&gt;The actual JSON response I&#39;m trying to parse is very complex, and I don&#39;t want to have to create an entire new class for every sub-node, even though I only need a single field.","title":"How to map a nested value to a property using Jackson annotations?","body":"<p>Let's say I'm making a call to an API that responds with the following JSON for a product:</p>\n\n<pre><code>{\n  \"id\": 123,\n  \"name\": \"The Best Product\",\n  \"brand\": {\n     \"id\": 234,\n     \"name\": \"ACME Products\"\n  }\n}\n</code></pre>\n\n<p>I'm able to map the product id and name just fine using Jackson annotations:</p>\n\n<pre><code>public class ProductTest {\n    private int productId;\n    private String productName, brandName;\n\n    @JsonProperty(\"id\")\n    public int getProductId() {\n        return productId;\n    }\n\n    public void setProductId(int productId) {\n        this.productId = productId;\n    }\n\n    @JsonProperty(\"name\")\n    public String getProductName() {\n        return productName;\n    }\n\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n\n    public String getBrandName() {\n        return brandName;\n    }\n\n    public void setBrandName(String brandName) {\n        this.brandName = brandName;\n    }\n}\n</code></pre>\n\n<p>And then using the fromJson method to create the product:</p>\n\n<pre><code>  JsonNode apiResponse = api.getResponse();\n  Product product = Json.fromJson(apiResponse, Product.class);\n</code></pre>\n\n<p>But now I'm trying to figure out how to grab the brand name, which is a nested property. I was hoping that something like this would work:</p>\n\n<pre><code>    @JsonProperty(\"brand.name\")\n    public String getBrandName() {\n        return brandName;\n    }\n</code></pre>\n\n<p>But of course it didn't. Is there an easy way to accomplish what I want using annotations? </p>\n\n<blockquote>\n  <p>The actual JSON response I'm trying to parse is very complex, and I don't want to have to create an entire new class for every sub-node, even though I only need a single field.</p>\n</blockquote>\n"},{"tags":["java","rest","jersey","restful-url"],"comments":[{"owner":{"account_id":2314901,"reputation":442,"user_id":2032186,"accept_rate":67,"display_name":"Toni"},"score":0,"creation_date":1453966604,"post_id":28938640,"comment_id":57834301,"body_markdown":"[Refer this link](http://stackoverflow.com/questions/1043346/access-request-object-from-rest) on how to access request object in rest.","body":"<a href=\"http://stackoverflow.com/questions/1043346/access-request-object-from-rest\">Refer this link</a> on how to access request object in rest."}],"answers":[{"tags":[],"owner":{"account_id":5319074,"reputation":455,"user_id":4243006,"display_name":"Dragan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1425893634,"creation_date":1425893634,"answer_id":28938746,"question_id":28938640,"body_markdown":"With Jersey you can do the following\r\n\r\n    String clientHost = req.getRemoteHost(); // req is HttpServletRequest\r\n    String clientAddr = req.getRemoteAddr();\r\n\r\n","title":"How do I get the full request URL with host-name/ip of a rest call?","body":"<p>With Jersey you can do the following</p>\n\n<pre><code>String clientHost = req.getRemoteHost(); // req is HttpServletRequest\nString clientAddr = req.getRemoteAddr();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3928130,"reputation":174,"user_id":3247727,"display_name":"user3247727"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425894304,"creation_date":1425894304,"answer_id":28938927,"question_id":28938640,"body_markdown":"When you say InetAddress ip = ip.getHostName(); you will get the hostname of the machine where your rest service is running, to get the the name of the machine from where request is originated you will need to use something similar to request.getRemoteHost(); this value could be depend on the network environment of the machine from where request was originated.\r\n\r\nto get full url please refer below post.\r\nhttps://stackoverflow.com/questions/1490821/whats-the-best-way-to-get-the-current-url-in-spring-mvc","title":"How do I get the full request URL with host-name/ip of a rest call?","body":"<p>When you say InetAddress ip = ip.getHostName(); you will get the hostname of the machine where your rest service is running, to get the the name of the machine from where request is originated you will need to use something similar to request.getRemoteHost(); this value could be depend on the network environment of the machine from where request was originated.</p>\n\n<p>to get full url please refer below post.\n<a href=\"https://stackoverflow.com/questions/1490821/whats-the-best-way-to-get-the-current-url-in-spring-mvc\">What&#39;s the best way to get the current URL in Spring MVC?</a></p>\n"},{"tags":[],"owner":{"account_id":252456,"reputation":2993,"user_id":530513,"accept_rate":100,"display_name":"David O&#39;Meara"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1525143681,"creation_date":1525143681,"answer_id":50110845,"question_id":28938640,"body_markdown":"Using **CDI** and **@Context**, similar to the comment by [Ashir Khan][1] [above][2], the requestContext or parts of the request context can be made available at run time. Many types can be bound by the **@Context** annotation and injected by the container, although it would be better to:\r\n\r\n 1. Reduce the visibility of the injected data as much as possible ie *bind to the method rather than the class* and\r\n 2. Reduce the amount of information injected as possible ie *bind the **UriInfo** if all you want is the baseUri rather than the full request context*.\r\n\r\nSounds like a lot, but is as simple as (a modification on) Ashir&#39;s code:\r\n\r\n    @GET\r\n    @Path(&quot;/test&quot;) \r\n    // Look Ma, no hands!\r\n    public Response test(@Context javax.ws.rs.core.UriInfo uriInfo) { \r\n      return Response.status(Status.OK).entity(uriInfo.getBaseUri()).build();\r\n    }\r\n\r\n[See also this response][3]\r\n\r\n  [1]: https://stackoverflow.com/users/4649121/ashir-khan\r\n  [2]: https://stackoverflow.com/a/28938746/530513\r\n  [3]: https://stackoverflow.com/a/29844320/530513","title":"How do I get the full request URL with host-name/ip of a rest call?","body":"<p>Using <strong>CDI</strong> and <strong>@Context</strong>, similar to the comment by <a href=\"https://stackoverflow.com/users/4649121/ashir-khan\">Ashir Khan</a> <a href=\"https://stackoverflow.com/a/28938746/530513\">above</a>, the requestContext or parts of the request context can be made available at run time. Many types can be bound by the <strong>@Context</strong> annotation and injected by the container, although it would be better to:</p>\n\n<ol>\n<li>Reduce the visibility of the injected data as much as possible ie <em>bind to the method rather than the class</em> and</li>\n<li>Reduce the amount of information injected as possible ie <em>bind the <strong>UriInfo</strong> if all you want is the baseUri rather than the full request context</em>.</li>\n</ol>\n\n<p>Sounds like a lot, but is as simple as (a modification on) Ashir's code:</p>\n\n<pre><code>@GET\n@Path(\"/test\") \n// Look Ma, no hands!\npublic Response test(@Context javax.ws.rs.core.UriInfo uriInfo) { \n  return Response.status(Status.OK).entity(uriInfo.getBaseUri()).build();\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/29844320/530513\">See also this response</a></p>\n"},{"tags":[],"owner":{"account_id":7032763,"reputation":2130,"user_id":5387880,"display_name":"Tanuj"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1603709594,"creation_date":1603709594,"answer_id":64535705,"question_id":28938640,"body_markdown":"You can use the `UriInfo` class and bind it using the `@Context` annotation, then at every request you can access the URI information like Hostname, Port, Request Path etc.\r\n\r\nHere is an example - \r\n\r\n    @POST\r\n    @Path(&quot;/test&quot;)\r\n    public Response uriTest(@Context UriInfo uriInfo){ //helps you get all URI related information.\r\n        System.out.println(uriInfo.getBaseUri().getHost());\r\n        System.out.println(uriInfo.getBaseUri().getPort());\r\n        return Response.ok(null).build();\r\n    }\r\n\r\nYou can read more about `URIInfo` [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriInfo.html","title":"How do I get the full request URL with host-name/ip of a rest call?","body":"<p>You can use the <code>UriInfo</code> class and bind it using the <code>@Context</code> annotation, then at every request you can access the URI information like Hostname, Port, Request Path etc.</p>\n<p>Here is an example -</p>\n<pre><code>@POST\n@Path(&quot;/test&quot;)\npublic Response uriTest(@Context UriInfo uriInfo){ //helps you get all URI related information.\n    System.out.println(uriInfo.getBaseUri().getHost());\n    System.out.println(uriInfo.getBaseUri().getPort());\n    return Response.ok(null).build();\n}\n</code></pre>\n<p>You can read more about <code>URIInfo</code> <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriInfo.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659121074,"creation_date":1659121074,"answer_id":73169920,"question_id":28938640,"body_markdown":"If you use `UriInfo`, it will get you the *server-side* `URI`, not the *client-side* one.\r\n\r\nIf you want the client-side `URI`, you will have to use `HttpServletRequest`:\r\n\r\n```java\r\n@POST\r\n@Path(&quot;/test&quot;)\r\npublic Response uriTest(@Context HttpServletRequest request) { \r\n\ttry {\r\n\t\tURI baseUri = new URL(request.getRequestURL().toString()).toURI();\r\n\t\tSystem.out.println(baseUri.getHost());\r\n\t\tSystem.out.println(baseUri.getPort());\r\n\t\treturn Response.ok(null).build();\r\n\t} catch (MalformedURLException | URISyntaxException e) {\r\n\t\tthrow new IllegalStateException(&quot;Error building the base URI.&quot;, e);\r\n\t}\r\n}\r\n```","title":"How do I get the full request URL with host-name/ip of a rest call?","body":"<p>If you use <code>UriInfo</code>, it will get you the <em>server-side</em> <code>URI</code>, not the <em>client-side</em> one.</p>\n<p>If you want the client-side <code>URI</code>, you will have to use <code>HttpServletRequest</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@POST\n@Path(&quot;/test&quot;)\npublic Response uriTest(@Context HttpServletRequest request) { \n    try {\n        URI baseUri = new URL(request.getRequestURL().toString()).toURI();\n        System.out.println(baseUri.getHost());\n        System.out.println(baseUri.getPort());\n        return Response.ok(null).build();\n    } catch (MalformedURLException | URISyntaxException e) {\n        throw new IllegalStateException(&quot;Error building the base URI.&quot;, e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5908034,"reputation":13,"user_id":4649121,"display_name":"Ashir Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28938746,"answer_count":5,"score":1,"last_activity_date":1659121074,"creation_date":1425893325,"question_id":28938640,"body_markdown":"I need to get the full url with the host name or IP address from a restful request  made to my rest service. Is there any way this can be done?\r\n\r\nSimilar to InetAddress ip = ip.getHostName(); in java.","title":"How do I get the full request URL with host-name/ip of a rest call?","body":"<p>I need to get the full url with the host name or IP address from a restful request  made to my rest service. Is there any way this can be done?</p>\n\n<p>Similar to InetAddress ip = ip.getHostName(); in java.</p>\n"},{"tags":["java","android","kotlin","dagger-2","dagger"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659120832,"creation_date":1659120832,"answer_id":73169885,"question_id":73162565,"body_markdown":"HomeRouter requires an Activity instance, but despite its `@ActivityScope` annotation adjacent to `@Singleton` (erroneously making those two scopes appear equivalent), AppComponent only receives the MyApplication instance. There is no binding for either the general Android `Activity` or your specific Activity presumably named MyActivity.\r\n\r\nYour best bet here is to follow the [dagger.android guide](https://dagger.dev/dev-guide/android#injecting-activity-objects) on Injecting Activity objects, which will instruct you to either manually create a `@Subcomponent` or use `@ContributesAndroidInjector` to do so automatically. Whether you choose the subcomponent or contributing method, you&#39;ll give _that_ your `@ActivityScope` and set your RouterModule to be listed in the `modules={}` there as well.\r\n\r\nAs a consequence, your RouterModule will not be accessible from anything in your AppComponent directly—how can it, since anything in the AppComponent can exist before any Activity instances or across several of them?—but you&#39;ll be able to `@Inject` a HomeRouter instance from your Activity and ensure that every Activity gets a distinct HomeRouter instance.","title":"Can not Binds Dependency with parameter in contructor with Dagger and Kotlin","body":"<p>HomeRouter requires an Activity instance, but despite its <code>@ActivityScope</code> annotation adjacent to <code>@Singleton</code> (erroneously making those two scopes appear equivalent), AppComponent only receives the MyApplication instance. There is no binding for either the general Android <code>Activity</code> or your specific Activity presumably named MyActivity.</p>\n<p>Your best bet here is to follow the <a href=\"https://dagger.dev/dev-guide/android#injecting-activity-objects\" rel=\"nofollow noreferrer\">dagger.android guide</a> on Injecting Activity objects, which will instruct you to either manually create a <code>@Subcomponent</code> or use <code>@ContributesAndroidInjector</code> to do so automatically. Whether you choose the subcomponent or contributing method, you'll give <em>that</em> your <code>@ActivityScope</code> and set your RouterModule to be listed in the <code>modules={}</code> there as well.</p>\n<p>As a consequence, your RouterModule will not be accessible from anything in your AppComponent directly—how can it, since anything in the AppComponent can exist before any Activity instances or across several of them?—but you'll be able to <code>@Inject</code> a HomeRouter instance from your Activity and ensure that every Activity gets a distinct HomeRouter instance.</p>\n"}],"owner":{"account_id":7544172,"reputation":417,"user_id":5727849,"display_name":"Thang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659120832,"creation_date":1659076920,"question_id":73162565,"body_markdown":"I have some class that looks like as below:\r\nBut I have an issue, I cannot provide dependency for HomeRouter.\r\nSo can you guys help me solve this problem:\r\n\r\n```\r\nclass HomeRouter @Inject constructor (activity: Activity) : HomeContract.Router {\r\n\r\n    override fun finish() {\r\n        Timber.e(&quot;Finish&quot;)\r\n    }\r\n}\r\n```\r\nand Module\r\n\r\n```\r\n@Module\r\n abstract class RouterModule {\r\n\r\n    @Binds\r\n     abstract fun bindHomeRouter(homeRouter: HomeRouter):HomeRouter\r\n     \r\n}\r\n```\r\nand in AppComponent\r\n\r\n```\r\n@Singleton\r\n@ActivityScope\r\n@Component(\r\n    modules = [\r\n        ActivityBuilder::class,\r\n        AppModule::class,\r\n        NetworkModule::class,\r\n        AndroidSupportInjectionModule::class,\r\n        FragmentModule::class,\r\n        InteractorModule::class,\r\n        PresenterModule::class,\r\n        RouterModule::class\r\n    ]\r\n)\r\n\r\ninterface AppComponent : AndroidInjector&lt;MyApplication&gt; {\r\n\r\n    @Component.Builder\r\n    interface Builder {\r\n        @BindsInstance\r\n        fun application(application: MyApplication): Builder\r\n\r\n        fun build(): AppComponent\r\n    }\r\n\r\n}\r\n\r\n```\r\nThe exception as below:\r\n```\r\n/src/src/viper-architecture/app/build/tmp/kapt3/stubs/debug/com/appname/di/component/AppComponent.java:13: error: [Dagger/MissingBinding] android.app.Activity cannot be provided without an @Inject constructor or an @Provides-annotated method.\r\npublic abstract interface AppComponent extends dagger.android.AndroidInjector&lt;com.appname.MyApplication&gt; {\r\n                ^\r\n      android.app.Activity is injected at\r\n\r\n```\r\nThanks everyone.","title":"Can not Binds Dependency with parameter in contructor with Dagger and Kotlin","body":"<p>I have some class that looks like as below:\nBut I have an issue, I cannot provide dependency for HomeRouter.\nSo can you guys help me solve this problem:</p>\n<pre><code>class HomeRouter @Inject constructor (activity: Activity) : HomeContract.Router {\n\n    override fun finish() {\n        Timber.e(&quot;Finish&quot;)\n    }\n}\n</code></pre>\n<p>and Module</p>\n<pre><code>@Module\n abstract class RouterModule {\n\n    @Binds\n     abstract fun bindHomeRouter(homeRouter: HomeRouter):HomeRouter\n     \n}\n</code></pre>\n<p>and in AppComponent</p>\n<pre><code>@Singleton\n@ActivityScope\n@Component(\n    modules = [\n        ActivityBuilder::class,\n        AppModule::class,\n        NetworkModule::class,\n        AndroidSupportInjectionModule::class,\n        FragmentModule::class,\n        InteractorModule::class,\n        PresenterModule::class,\n        RouterModule::class\n    ]\n)\n\ninterface AppComponent : AndroidInjector&lt;MyApplication&gt; {\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(application: MyApplication): Builder\n\n        fun build(): AppComponent\n    }\n\n}\n\n</code></pre>\n<p>The exception as below:</p>\n<pre><code>/src/src/viper-architecture/app/build/tmp/kapt3/stubs/debug/com/appname/di/component/AppComponent.java:13: error: [Dagger/MissingBinding] android.app.Activity cannot be provided without an @Inject constructor or an @Provides-annotated method.\npublic abstract interface AppComponent extends dagger.android.AndroidInjector&lt;com.appname.MyApplication&gt; {\n                ^\n      android.app.Activity is injected at\n\n</code></pre>\n<p>Thanks everyone.</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1659104663,"post_id":73167773,"comment_id":129222544,"body_markdown":"Please also provide your code where your trying to read the resource file.","body":"Please also provide your code where your trying to read the resource file."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1659113077,"post_id":73167773,"comment_id":129223720,"body_markdown":"That is not a valid resource location AFAIK","body":"That is not a valid resource location AFAIK"},{"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"score":0,"creation_date":1659118606,"post_id":73167773,"comment_id":129225314,"body_markdown":"@AminMal I have added the code i am trying to execute","body":"@AminMal I have added the code i am trying to execute"},{"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"score":0,"creation_date":1659118657,"post_id":73167773,"comment_id":129225326,"body_markdown":"@LuisMiguelMej&#237;aSu&#225;rez: Can you please help me understand where i can access it. I have also kept it the source root directory","body":"@LuisMiguelMej&#237;aSu&#225;rez: Can you please help me understand where i can access it. I have also kept it the source root directory"},{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1659119629,"post_id":73167773,"comment_id":129225612,"body_markdown":"As also @LuisMiguelMej&#237;aSu&#225;rez mentioned, it&#39;s because of invalid file location. `getResourceAsStream` expects a location from your projects root directory, so this will fix it: `val fileStream = getClass.getResourceAsStream(&quot;src/main/resources/metastore.conf&quot;)`","body":"As also @LuisMiguelMej&#237;aSu&#225;rez mentioned, it&#39;s because of invalid file location. <code>getResourceAsStream</code> expects a location from your projects root directory, so this will fix it: <code>val fileStream = getClass.getResourceAsStream(&quot;src&#47;main&#47;resources&#47;metastore.c&zwnj;&#8203;onf&quot;)</code>"},{"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"score":0,"creation_date":1659120596,"post_id":73167773,"comment_id":129225957,"body_markdown":"@LuisMiguelMej&#237;aSu&#225;rez I am still getting Configlines as Null. I am further adding the details of my project structure image","body":"@LuisMiguelMej&#237;aSu&#225;rez I am still getting Configlines as Null. I am further adding the details of my project structure image"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1659122871,"post_id":73167773,"comment_id":129226600,"body_markdown":"@RoxaneFelton the solution should be `src/main/resources/metastore.conf` so you can access it the way you want. Not sure why you added that `techm` folder there. - BTw, your code is also in a non-standard location.","body":"@RoxaneFelton the solution should be <code>src&#47;main&#47;resources&#47;metastore.conf</code> so you can access it the way you want. Not sure why you added that <code>techm</code> folder there. - BTw, your code is also in a non-standard location."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659165334,"post_id":73167773,"comment_id":129232511,"body_markdown":"You need to use `getClass.getResourceAsStream(&quot;/metastore.conf&quot;)`, otherwise it tries to locate the file relative to the package of whatever `getClass` is.","body":"You need to use <code>getClass.getResourceAsStream(&quot;&#47;metastore.conf&quot;)</code>, otherwise it tries to locate the file relative to the package of whatever <code>getClass</code> is."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1659165396,"post_id":73167773,"comment_id":129232520,"body_markdown":"@LuisMiguelMej&#237;aSu&#225;rez Including `src/main/resources` in a resource path is wrong. That path only exists in the project source, not in the runtime artifact.","body":"@LuisMiguelMej&#237;aSu&#225;rez Including <code>src&#47;main&#47;resources</code> in a resource path is wrong. That path only exists in the project source, not in the runtime artifact."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1659187677,"post_id":73167773,"comment_id":129236689,"body_markdown":"@MarkRotteveel I didn&#39;t say that was the path to locate it, I said that was the path to store it so you could get it using `getClass.getResourceAsStream(&quot;/metastore.conf&quot;)`","body":"@MarkRotteveel I didn&#39;t say that was the path to locate it, I said that was the path to store it so you could get it using <code>getClass.getResourceAsStream(&quot;&#47;metastore.conf&quot;)</code>"}],"owner":{"account_id":25784511,"reputation":129,"user_id":19529591,"display_name":"RoxaneFelton"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659165347,"answer_count":0,"score":0,"last_activity_date":1659120737,"creation_date":1659103136,"question_id":73167773,"body_markdown":"I am facing an issue where getResourceAsStream is returning Null when trying to read a conf file due to which I am unable to read the conf file. I have gone through few details but still nothing has worked so far:\r\n\r\nBelow is the project structure. I have added the metastore.conf in the resource folder of the source root\r\n\r\nI am using the below code:\r\n```scala\r\nval fileStream = getClass.getResourceAsStream(&quot;metastore.conf&quot;)\r\nval configLines = Source.fromInputStream(fileStream).getLines\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\nImage for my project structure:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hi1fS.jpg\r\n  [2]: https://i.stack.imgur.com/Wopev.png","title":"getResourceAsStream returning Null when reading file","body":"<p>I am facing an issue where getResourceAsStream is returning Null when trying to read a conf file due to which I am unable to read the conf file. I have gone through few details but still nothing has worked so far:</p>\n<p>Below is the project structure. I have added the metastore.conf in the resource folder of the source root</p>\n<p>I am using the below code:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val fileStream = getClass.getResourceAsStream(&quot;metastore.conf&quot;)\nval configLines = Source.fromInputStream(fileStream).getLines\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Hi1fS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hi1fS.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Image for my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/Wopev.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wopev.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Wopev.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wopev.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1659118274,"post_id":73169379,"comment_id":129225236,"body_markdown":"https://stackoverflow.com/questions/17061686/find-all-possible-sublists-of-a-list","body":"<a href=\"https://stackoverflow.com/questions/17061686/find-all-possible-sublists-of-a-list\" title=\"find all possible sublists of a list\">stackoverflow.com/questions/17061686/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1659119025,"post_id":73169379,"comment_id":129225427,"body_markdown":"By sorting the list, you can at least reduce it to n^2 log n by binary searching for (num - a[i] - a[j]).","body":"By sorting the list, you can at least reduce it to n^2 log n by binary searching for (num - a[i] - a[j])."},{"owner":{"account_id":25927464,"reputation":23,"user_id":19649129,"display_name":"Zeeshan"},"score":0,"creation_date":1659119641,"post_id":73169379,"comment_id":129225616,"body_markdown":"@LouisWasserman It will throw an error for any case greater than n^2","body":"@LouisWasserman It will throw an error for any case greater than n^2"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1659119684,"post_id":73169379,"comment_id":129225630,"body_markdown":"At each iteration of the first two loops, check if the sum so far is already &gt; X. If yes, then `continue` (to skip the next nested loop).  For example, if arr[i] &gt; x, then `continue`.","body":"At each iteration of the first two loops, check if the sum so far is already &gt; X. If yes, then <code>continue</code> (to skip the next nested loop).  For example, if arr[i] &gt; x, then <code>continue</code>."},{"owner":{"account_id":25927464,"reputation":23,"user_id":19649129,"display_name":"Zeeshan"},"score":0,"creation_date":1659120117,"post_id":73169379,"comment_id":129225775,"body_markdown":"@AndrewS it worked for many of the cases thanks","body":"@AndrewS it worked for many of the cases thanks"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659119683,"creation_date":1659119683,"answer_id":73169680,"question_id":73169379,"body_markdown":"Sorting is O(n log n), so if we&#39;re looking to reduce the complexity to O(n&lt;sup&gt;2&lt;/sup&gt;), then sort the input so we can take advantage of the order.\r\n\r\nThen, for all the elements except for the last 2&lt;sup&gt;*&lt;/sup&gt;, assume that that first element is part of the sum.  Compute the target (12 here) minus the first element, call it `sum`.  Maintain two indices, `j` and `k`, initialized to the next element and the last element.  If the sum of the elements at `j` and `k` equals `sum`, count it.  If we have too much, decrement `k`, else increment `j`.  When `j` and `k` meet, you can move on to the next element and restart `j` and `k`.\r\n\r\n```\r\n[1, 2, 3, 4, 5, 6, 7]\r\n i  j -&gt;        &lt;- k\r\n```\r\n\r\nHere&#39;s the coded algorithm:\r\n\r\n    public static int numTripletsSum(int[] input, int target) {\r\n        if (input == null || input.length &lt; 3)\r\n            return 0;\r\n        Arrays.sort(input);\r\n        int count = 0;\r\n        for (int i = 0; i &lt; input.length - 2; i++) {\r\n            int sum = target - input[i];\r\n            int j = i + 1, k = input.length - 1;\r\n            while (j &lt; k) {\r\n                int diff = input[j] + input[k] - sum;\r\n                if (diff == 0) {\r\n                    count++;\r\n                    //System.out.println(&quot;(&quot; + input[i] + &quot;, &quot; + input[j] + &quot;, &quot; + input[k] + &quot;)&quot;);\r\n                }\r\n                if (diff &gt; 0) {\r\n                    k--;\r\n                } else {\r\n                    j++;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\nThis is two nested loops, O(n&lt;sup&gt;2&lt;/sup&gt;), after an O(n log n) sort, so the algorithm is O(n&lt;sup&gt;2&lt;/sup&gt;).  For your input above, I get `5`.\r\n\r\n\\* &lt;sub&gt;Except for the last 2? You can&#39;t get a triplet from the second to last element on.&lt;/sub&gt;","title":"Is there any way to reduce number of operations for finding and returning the number of triplets sum in array which is equals to any integer X","body":"<p>Sorting is O(n log n), so if we're looking to reduce the complexity to O(n<sup>2</sup>), then sort the input so we can take advantage of the order.</p>\n<p>Then, for all the elements except for the last 2<sup>*</sup>, assume that that first element is part of the sum.  Compute the target (12 here) minus the first element, call it <code>sum</code>.  Maintain two indices, <code>j</code> and <code>k</code>, initialized to the next element and the last element.  If the sum of the elements at <code>j</code> and <code>k</code> equals <code>sum</code>, count it.  If we have too much, decrement <code>k</code>, else increment <code>j</code>.  When <code>j</code> and <code>k</code> meet, you can move on to the next element and restart <code>j</code> and <code>k</code>.</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7]\n i  j -&gt;        &lt;- k\n</code></pre>\n<p>Here's the coded algorithm:</p>\n<pre><code>public static int numTripletsSum(int[] input, int target) {\n    if (input == null || input.length &lt; 3)\n        return 0;\n    Arrays.sort(input);\n    int count = 0;\n    for (int i = 0; i &lt; input.length - 2; i++) {\n        int sum = target - input[i];\n        int j = i + 1, k = input.length - 1;\n        while (j &lt; k) {\n            int diff = input[j] + input[k] - sum;\n            if (diff == 0) {\n                count++;\n                //System.out.println(&quot;(&quot; + input[i] + &quot;, &quot; + input[j] + &quot;, &quot; + input[k] + &quot;)&quot;);\n            }\n            if (diff &gt; 0) {\n                k--;\n            } else {\n                j++;\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>This is two nested loops, O(n<sup>2</sup>), after an O(n log n) sort, so the algorithm is O(n<sup>2</sup>).  For your input above, I get <code>5</code>.</p>\n<p>* <sub>Except for the last 2? You can't get a triplet from the second to last element on.</sub></p>\n"}],"owner":{"account_id":25927464,"reputation":23,"user_id":19649129,"display_name":"Zeeshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73169680,"answer_count":1,"score":1,"last_activity_date":1659120582,"creation_date":1659117767,"question_id":73169379,"body_markdown":"The program is meant to find and return the number of triplets sum in the array/list which is equal to any integer value X.\r\n\r\ntriplets = (any three elements in array list)\r\n\r\nThe array can be in any order\r\n\r\nSay, array size =7\r\n\r\nSample input :\r\n{1, 2, 3, 4, 5, 6, 7}\r\n \r\nX = 12\r\n\r\nSample Output :\r\n5\r\n\r\nby reducing operations, I mean to reduce time complexity. As I wrote this code :\r\n\r\n```\r\npublic static int tripletSum(int[] arr, int num) {\r\n\t\t int count = 0;\r\n        \r\n        for(int i = 0; i&lt;arr.length; i++){\r\n            \r\n             for(int j = i+1; j&lt;arr.length; j++){\r\n                \r\n                 for (int k = j+1; k&lt;arr.length; k++){\r\n                    \r\n                    if ((arr[i] + arr[j] + arr[k])==num){\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n         return count;\r\n \t}\r\n }\r\n```\r\nI get O(n^3) time complexity using this code and Time limit Exceeded error with this. Any way to reduce it to O(n^2) ?","title":"Is there any way to reduce number of operations for finding and returning the number of triplets sum in array which is equals to any integer X","body":"<p>The program is meant to find and return the number of triplets sum in the array/list which is equal to any integer value X.</p>\n<p>triplets = (any three elements in array list)</p>\n<p>The array can be in any order</p>\n<p>Say, array size =7</p>\n<p>Sample input :\n{1, 2, 3, 4, 5, 6, 7}</p>\n<p>X = 12</p>\n<p>Sample Output :\n5</p>\n<p>by reducing operations, I mean to reduce time complexity. As I wrote this code :</p>\n<pre><code>public static int tripletSum(int[] arr, int num) {\n         int count = 0;\n        \n        for(int i = 0; i&lt;arr.length; i++){\n            \n             for(int j = i+1; j&lt;arr.length; j++){\n                \n                 for (int k = j+1; k&lt;arr.length; k++){\n                    \n                    if ((arr[i] + arr[j] + arr[k])==num){\n                        count++;\n                    }\n                }\n            }\n        }\n        \n         return count;\n    }\n }\n</code></pre>\n<p>I get O(n^3) time complexity using this code and Time limit Exceeded error with this. Any way to reduce it to O(n^2) ?</p>\n"},{"tags":["java","maven","classloader","weblogic12g"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1659124886,"post_id":73169676,"comment_id":129227104,"body_markdown":"Have you considered setting up a build server?","body":"Have you considered setting up a build server?"},{"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"score":0,"creation_date":1659218807,"post_id":73169676,"comment_id":129243229,"body_markdown":"If you build the ear with different machines with the same toolchain the result should be quite the same. If the result differs there are differences in the toolchain. You should double check if maven/java version are really the same. If it matches you could diff the ears to find what&#39;s the difference between both ears.","body":"If you build the ear with different machines with the same toolchain the result should be quite the same. If the result differs there are differences in the toolchain. You should double check if maven/java version are really the same. If it matches you could diff the ears to find what&#39;s the difference between both ears."},{"owner":{"account_id":14883087,"reputation":1,"user_id":10747088,"display_name":"Manu"},"score":0,"creation_date":1659347164,"post_id":73169676,"comment_id":129265054,"body_markdown":"The maven and java versions are same and there are no differences in the generated ear . I have compared both the ears.","body":"The maven and java versions are same and there are no differences in the generated ear . I have compared both the ears."},{"owner":{"account_id":14883087,"reputation":1,"user_id":10747088,"display_name":"Manu"},"score":0,"creation_date":1660836226,"post_id":73169676,"comment_id":129632424,"body_markdown":"I tried copying the working ear from one machine to another machine . Even then the same issue occurring. Need pointers on the issue.","body":"I tried copying the working ear from one machine to another machine . Even then the same issue occurring. Need pointers on the issue."}],"owner":{"account_id":14883087,"reputation":1,"user_id":10747088,"display_name":"Manu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659119646,"creation_date":1659119646,"question_id":73169676,"body_markdown":"Java application built using maven working in one machine but failing withother machine having same configuration.\r\n\r\nJava - jdk1.8.0_331\r\nWeblogic - 12.2.1.4.0\r\nMaven - 3.6.0\r\n\r\n\r\n\r\nWhen ear is built in Machine1 causing the below error and same code built in another machine deployment is successful and web application is up and running.\r\n&lt;Servlet: &quot;Jersey&quot; failed to preload on startup in Web application: &quot;/api/&quot;.\r\njava.lang.NoSuchMethodError: com.fasterxml.jackson.databind.introspect.AnnotatedMember.getType(Lcom/fasterxml/jackson/databind/type/TypeBindings;)Lcom/fasterxml/jackson/databind/JavaType;\r\n\r\nCompared both the ear structures and find no differences.\r\nSeems that the issue is with classloading, but not able to find the root cause of the issue.\r\n\r\nTried updating the package in weblogic-application.xml but issue not resolved\r\n \r\n\r\n    &lt;prefer-application-packages&gt;\r\n    &lt;package-name&gt;com.fasterxml.jackson.*&lt;/package-name&gt;\r\n     &lt;/prefer-application-packages&gt;","title":"Weblogic deployment failing with error - java.lang.NoSuchMethodError when ear build in a machine, Same code is working when build using other machine","body":"<p>Java application built using maven working in one machine but failing withother machine having same configuration.</p>\n<p>Java - jdk1.8.0_331\nWeblogic - 12.2.1.4.0\nMaven - 3.6.0</p>\n<p>When ear is built in Machine1 causing the below error and same code built in another machine deployment is successful and web application is up and running.\n&lt;Servlet: &quot;Jersey&quot; failed to preload on startup in Web application: &quot;/api/&quot;.\njava.lang.NoSuchMethodError: com.fasterxml.jackson.databind.introspect.AnnotatedMember.getType(Lcom/fasterxml/jackson/databind/type/TypeBindings;)Lcom/fasterxml/jackson/databind/JavaType;</p>\n<p>Compared both the ear structures and find no differences.\nSeems that the issue is with classloading, but not able to find the root cause of the issue.</p>\n<p>Tried updating the package in weblogic-application.xml but issue not resolved</p>\n<pre><code>&lt;prefer-application-packages&gt;\n&lt;package-name&gt;com.fasterxml.jackson.*&lt;/package-name&gt;\n &lt;/prefer-application-packages&gt;\n</code></pre>\n"},{"tags":["java","email","apache-kafka","smtp","email-client"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659119208,"creation_date":1659119208,"answer_id":73169601,"question_id":73160303,"body_markdown":"Kafka doesn&#39;t have an SMTP protocol bridge, no. It does not &quot;read email&quot;. Kafka stores bytes; doesn&#39;t matter what format that data represents. \r\n\r\nYou&#39;d need to have your Java client fetch data from the email server *on its own*, then parse/serialize that data and produce to Kafka. \r\n\r\nYou may find tools like Apache Camel or NiFi offer SMTP and Kafka connectors, however where you can easily integrate the two. ","title":"How to connect and read Emails from SMTP Sever using Apache Kafka in Java","body":"<p>Kafka doesn't have an SMTP protocol bridge, no. It does not &quot;read email&quot;. Kafka stores bytes; doesn't matter what format that data represents.</p>\n<p>You'd need to have your Java client fetch data from the email server <em>on its own</em>, then parse/serialize that data and produce to Kafka.</p>\n<p>You may find tools like Apache Camel or NiFi offer SMTP and Kafka connectors, however where you can easily integrate the two.</p>\n"}],"owner":{"account_id":1397244,"reputation":627,"user_id":1326784,"accept_rate":8,"display_name":"user1326784"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659119208,"creation_date":1659052562,"question_id":73160303,"body_markdown":"I am trying to build an API using Kafka in Java, which can read emails.\r\n\r\nThe Email server/mailbox is going to be on a SMTP server.\r\n\r\nIs there any Kafka API which can read emails from SMTP.\r\nIs there any other code reference/API which can be integrated with Kafka to read the emails.\r\n\r\nAny suggestion is appreciated.\r\n","title":"How to connect and read Emails from SMTP Sever using Apache Kafka in Java","body":"<p>I am trying to build an API using Kafka in Java, which can read emails.</p>\n<p>The Email server/mailbox is going to be on a SMTP server.</p>\n<p>Is there any Kafka API which can read emails from SMTP.\nIs there any other code reference/API which can be integrated with Kafka to read the emails.</p>\n<p>Any suggestion is appreciated.</p>\n"},{"tags":["java","apache-camel","camel-rest"],"answers":[{"tags":[],"owner":{"account_id":14414394,"reputation":452,"user_id":10412230,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659118202,"creation_date":1659118202,"answer_id":73169452,"question_id":73166279,"body_markdown":"I found the solution.\r\n\r\nIn order for the stream to stay open you have to tell camel to not use stream caching:\r\n```\r\ngetCamelContext().setStreamCaching(false);\r\n```\r\nWhen using spring Boot the alternative is setting it via the config:\r\n```\r\ncamel:\r\n  springboot:\r\n    stream-caching-enabled: false\r\n```\r\n\r\nBoth will disable stream caching globally. I have not found a way to diable it for just one rest endpoint, but it will do the trick","title":"How to fix breaking changes in camel-rest with version 3.16.0","body":"<p>I found the solution.</p>\n<p>In order for the stream to stay open you have to tell camel to not use stream caching:</p>\n<pre><code>getCamelContext().setStreamCaching(false);\n</code></pre>\n<p>When using spring Boot the alternative is setting it via the config:</p>\n<pre><code>camel:\n  springboot:\n    stream-caching-enabled: false\n</code></pre>\n<p>Both will disable stream caching globally. I have not found a way to diable it for just one rest endpoint, but it will do the trick</p>\n"}],"owner":{"account_id":14414394,"reputation":452,"user_id":10412230,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73169452,"answer_count":1,"score":1,"last_activity_date":1659118202,"creation_date":1659095562,"question_id":73166279,"body_markdown":"In camel version 3.16.0 embedded routes were removed from the rest definition: https://issues.apache.org/jira/browse/CAMEL-17675\r\n\r\nThis introduces this problem:\r\n\r\n**Parsing Multipart as a Stream**\r\n\r\nWe expose a rest endpoint where a user can upload a `multipart/form-data` request which has metadata and files alike.  \r\nUntil now we used apache to parse the request and save the file parts into a temporary folder:\r\n\r\n```\r\nMessage message = exchange.getMessage();\r\nHttpServletRequest request = message.getBody(HttpServletRequest.class);\r\nServletFileUpload servletFileUpload = new ServletFileUpload(new DiskFileItemFactory());\r\nList&lt;FileItem&gt; items =  servletFileUpload.parseRequest(request);\r\n// Iterate over items, save files, parse meta-data etc.\r\n```\r\n\r\nThis now throws an exception because the InputStream of the Request is closed.  \r\nUsing a different way of parsing the multipart request is unfortunatelly not really an option because we potentially receive very big files, that we just have to read via a Stream. The fact that its closed means all the content has been read and all that file data is in the ram which will not go well.","title":"How to fix breaking changes in camel-rest with version 3.16.0","body":"<p>In camel version 3.16.0 embedded routes were removed from the rest definition: <a href=\"https://issues.apache.org/jira/browse/CAMEL-17675\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CAMEL-17675</a></p>\n<p>This introduces this problem:</p>\n<p><strong>Parsing Multipart as a Stream</strong></p>\n<p>We expose a rest endpoint where a user can upload a <code>multipart/form-data</code> request which has metadata and files alike.<br />\nUntil now we used apache to parse the request and save the file parts into a temporary folder:</p>\n<pre><code>Message message = exchange.getMessage();\nHttpServletRequest request = message.getBody(HttpServletRequest.class);\nServletFileUpload servletFileUpload = new ServletFileUpload(new DiskFileItemFactory());\nList&lt;FileItem&gt; items =  servletFileUpload.parseRequest(request);\n// Iterate over items, save files, parse meta-data etc.\n</code></pre>\n<p>This now throws an exception because the InputStream of the Request is closed.<br />\nUsing a different way of parsing the multipart request is unfortunatelly not really an option because we potentially receive very big files, that we just have to read via a Stream. The fact that its closed means all the content has been read and all that file data is in the ram which will not go well.</p>\n"},{"tags":["java","maven","intellij-idea","lombok"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1659085131,"post_id":73163995,"comment_id":129216236,"body_markdown":"Which JDK do you use? Why using such old maven-compiler-plugin? Which is the target JDK version?","body":"Which JDK do you use? Why using such old maven-compiler-plugin? Which is the target JDK version?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659085170,"post_id":73163995,"comment_id":129216251,"body_markdown":"you should *Please consider reporting this to the maintainers of lombok.javac.apt.LombokProcessor*","body":"you should <i>Please consider reporting this to the maintainers of lombok.javac.apt.LombokProcessor</i>"},{"owner":{"account_id":24527925,"reputation":129,"user_id":18440149,"display_name":"Abdelkader Chhaibi"},"score":2,"creation_date":1659086794,"post_id":73163995,"comment_id":129216817,"body_markdown":"Can you post your pom.xml","body":"Can you post your pom.xml"},{"owner":{"account_id":14713938,"reputation":441,"user_id":10626449,"display_name":"Jonathan"},"score":0,"creation_date":1659087708,"post_id":73163995,"comment_id":129217137,"body_markdown":"@khmarbaise currently I am using java 11.0.15 2022-04-19 LTS... let me check if anything changes with 1.8","body":"@khmarbaise currently I am using java 11.0.15 2022-04-19 LTS... let me check if anything changes with 1.8"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1659087786,"post_id":73163995,"comment_id":129217159,"body_markdown":"Also add the full pom file etc.","body":"Also add the full pom file etc."}],"answers":[{"tags":[],"owner":{"account_id":14713938,"reputation":441,"user_id":10626449,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659118168,"creation_date":1659118168,"answer_id":73169448,"question_id":73163995,"body_markdown":"I solved the issue by downgrading to java 1.8","title":"Why is mvn clean install throwing lombok error","body":"<p>I solved the issue by downgrading to java 1.8</p>\n"}],"owner":{"account_id":14713938,"reputation":441,"user_id":10626449,"display_name":"Jonathan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1659118168,"creation_date":1659084575,"question_id":73163995,"body_markdown":"I am trying to run `mvn clean install` on one of my projects. I have the newest version of Intellij installed (2022.2), which has Lombok already bundled with the plugin. However, when I run `mvn clean install` in the project I get a build error: \r\n``` WARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by lombok.javac.apt.LombokProcessor to field com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs\r\nWARNING: Please consider reporting this to the maintainers of lombok.javac.apt.LombokProcessor\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  4.031 s\r\n[INFO] Finished at: 2022-07-29T04:25:35-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile)\r\n```\r\n\r\nShould I look into downgrading IntelliJ?\r\n\r\nAs requested in the comments, here is the the full pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.visa.gis.shiftleft&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;service-registry-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;service-registry-server&lt;/name&gt;\r\n\t&lt;description&gt;This is a clould service to enable the micro services to register themselves and\r\n\t\tdiscover other services&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Dalston.SR3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Why is mvn clean install throwing lombok error","body":"<p>I am trying to run <code>mvn clean install</code> on one of my projects. I have the newest version of Intellij installed (2022.2), which has Lombok already bundled with the plugin. However, when I run <code>mvn clean install</code> in the project I get a build error:</p>\n<pre><code>WARNING: Illegal reflective access by lombok.javac.apt.LombokProcessor to field com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs\nWARNING: Please consider reporting this to the maintainers of lombok.javac.apt.LombokProcessor\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.031 s\n[INFO] Finished at: 2022-07-29T04:25:35-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile)\n</code></pre>\n<p>Should I look into downgrading IntelliJ?</p>\n<p>As requested in the comments, here is the the full pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.visa.gis.shiftleft&lt;/groupId&gt;\n    &lt;artifactId&gt;service-registry-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;service-registry-server&lt;/name&gt;\n    &lt;description&gt;This is a clould service to enable the micro services to register themselves and\n        discover other services&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Dalston.SR3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;4.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1659117827,"post_id":73169303,"comment_id":129225128,"body_markdown":"Add `ex.printStackTrace();` to your `catch` block and add the output to your question. See https://stackoverflow.com/questions/2560368/what-is-the-use-of-printstacktrace-method-in-java for some info","body":"Add <code>ex.printStackTrace();</code> to your <code>catch</code> block and add the output to your question. See <a href=\"https://stackoverflow.com/questions/2560368/what-is-the-use-of-printstacktrace-method-in-java\" title=\"what is the use of printstacktrace method in java\">stackoverflow.com/questions/2560368/&hellip;</a> for some info"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1659118541,"post_id":73169303,"comment_id":129225304,"body_markdown":"`ratings.csv` is not a valid filesystem path. You need to use a complete path. The simplest solution overall is to get one using root directories provided by a `Context`, such as `getFilesDir()`. So, `new FileWriter(&quot;ratings.csv&quot;)` would become `new FileWriter(new File(ctx.getFilesDir(), &quot;ratings.csv&quot;))`, where `ctx` is a suitable `Context`.","body":"<code>ratings.csv</code> is not a valid filesystem path. You need to use a complete path. The simplest solution overall is to get one using root directories provided by a <code>Context</code>, such as <code>getFilesDir()</code>. So, <code>new FileWriter(&quot;ratings.csv&quot;)</code> would become <code>new FileWriter(new File(ctx.getFilesDir(), &quot;ratings.csv&quot;))</code>, where <code>ctx</code> is a suitable <code>Context</code>."},{"owner":{"account_id":24647075,"reputation":21,"user_id":18544608,"display_name":"OttoIEM"},"score":0,"creation_date":1659161665,"post_id":73169303,"comment_id":129232057,"body_markdown":"I added the ctx.getFilesDir(), now there is an error: &quot;Cannot resolve constructor &#39;FileWriter(java.io.File, java.lang.String)&#39;&quot;. I added the code just like you showed. I am not too familiar with context, should I somehow specify it?","body":"I added the ctx.getFilesDir(), now there is an error: &quot;Cannot resolve constructor &#39;FileWriter(java.io.File, java.lang.String)&#39;&quot;. I added the code just like you showed. I am not too familiar with context, should I somehow specify it?"}],"owner":{"account_id":24647075,"reputation":21,"user_id":18544608,"display_name":"OttoIEM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659117547,"creation_date":1659117307,"question_id":73169303,"body_markdown":"I&#39;m writing this class that has a method to create a csv file and to write in to it. The problem is that it throws `IOException` error before the file is even created. \r\n\r\nThis is a class on its own, and the method is being called from another class. \r\n\r\nThe code looks like this:\r\n\r\n```\r\npublic class WriteCSV {\r\n\r\n    public WriteCSV () {\r\n\r\n    }\r\n    public void writeToFile(Movie movie) {\r\n\r\n        try {\r\n            BufferedWriter out = new BufferedWriter(new FileWriter(&quot;ratings.csv&quot;));\r\n            out.write(movie.getId() +&quot;;&quot; + movie.getTitle() + &quot;;&quot; + movie.getDuration() +&quot;;&quot; + movie.getImg() + &quot;;&quot; + movie.getStars());\r\n            out.close();\r\n        }\r\n        catch (IOException ex) {\r\n            System.out.println(&quot;Error&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Problem while creating a file in Android Studio","body":"<p>I'm writing this class that has a method to create a csv file and to write in to it. The problem is that it throws <code>IOException</code> error before the file is even created.</p>\n<p>This is a class on its own, and the method is being called from another class.</p>\n<p>The code looks like this:</p>\n<pre><code>public class WriteCSV {\n\n    public WriteCSV () {\n\n    }\n    public void writeToFile(Movie movie) {\n\n        try {\n            BufferedWriter out = new BufferedWriter(new FileWriter(&quot;ratings.csv&quot;));\n            out.write(movie.getId() +&quot;;&quot; + movie.getTitle() + &quot;;&quot; + movie.getDuration() +&quot;;&quot; + movie.getImg() + &quot;;&quot; + movie.getStars());\n            out.close();\n        }\n        catch (IOException ex) {\n            System.out.println(&quot;Error&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","opengl","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659116399,"creation_date":1659115632,"answer_id":73169032,"question_id":70870775,"body_markdown":"It&#39;s been very, VERY long since I solved this problem, but I realized I was storing the *transpose* of the matrix instead of the matrix itself when I was putting the uniform to the shader. The reason why my ``color = vec3(testMatrix[0][0], testMatrix[1][1], testMatrix[2][2])`` didn&#39;t work was because the matrix values I checked were all on the diagonal, which means they were unaffected. \r\n\r\nI fixed this by simply changing the &#39;transposed&#39; attribute from false to true.\r\n````java\r\nGL20.glUniformMatrix4fv(loc, false, matrixBuffer);\r\n````\r\n-&gt;\r\n````java\r\nGL20.glUniformMatrix4fv(loc, true, matrixBuffer);\r\n````\r\n---\r\nMore explanation:\r\n\r\nI was using a one-dimensional array buffer to store the matrix (as this made it easier to store it into the uniform buffer).\r\n\r\nHere is a 4x4 matrix for reference:\r\n\r\n```\r\nm00 m01 m02 m03\r\nm10 m11 m12 m13\r\nm20 m21 m22 m23\r\nm30 m31 m32 m33\r\n```\r\n\r\nTo convert the two-dimensional coordinates to the one-dimensional coordinates, I used this function:\r\n\r\n```\r\nm[x][y] -&gt; [x + y * sz]\r\n```\r\n\r\nWhich means that my array was mapped like this:\r\n```\r\n0 4  8 12\r\n1 5  9 13\r\n2 6 10 14\r\n3 7 11 15\r\n```\r\nI thought this was the right order. But it turns out this is exactly the transpose of the order I needed to put my matrices in! \r\n\r\nI don&#39;t want this answer to get too lengthy, but you can find more info [here](https://stackoverflow.com/questions/17717600/confusion-between-c-and-opengl-matrix-order-row-major-vs-column-major).\r\n\r\n","title":"LWJGL-3: Cube not rendering","body":"<p>It's been very, VERY long since I solved this problem, but I realized I was storing the <em>transpose</em> of the matrix instead of the matrix itself when I was putting the uniform to the shader. The reason why my <code>color = vec3(testMatrix[0][0], testMatrix[1][1], testMatrix[2][2])</code> didn't work was because the matrix values I checked were all on the diagonal, which means they were unaffected.</p>\n<p>I fixed this by simply changing the 'transposed' attribute from false to true.</p>\n<pre class=\"lang-java prettyprint-override\"><code>GL20.glUniformMatrix4fv(loc, false, matrixBuffer);\n</code></pre>\n<p>-&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>GL20.glUniformMatrix4fv(loc, true, matrixBuffer);\n</code></pre>\n<hr />\n<p>More explanation:</p>\n<p>I was using a one-dimensional array buffer to store the matrix (as this made it easier to store it into the uniform buffer).</p>\n<p>Here is a 4x4 matrix for reference:</p>\n<pre><code>m00 m01 m02 m03\nm10 m11 m12 m13\nm20 m21 m22 m23\nm30 m31 m32 m33\n</code></pre>\n<p>To convert the two-dimensional coordinates to the one-dimensional coordinates, I used this function:</p>\n<pre><code>m[x][y] -&gt; [x + y * sz]\n</code></pre>\n<p>Which means that my array was mapped like this:</p>\n<pre><code>0 4  8 12\n1 5  9 13\n2 6 10 14\n3 7 11 15\n</code></pre>\n<p>I thought this was the right order. But it turns out this is exactly the transpose of the order I needed to put my matrices in!</p>\n<p>I don't want this answer to get too lengthy, but you can find more info <a href=\"https://stackoverflow.com/questions/17717600/confusion-between-c-and-opengl-matrix-order-row-major-vs-column-major\">here</a>.</p>\n"}],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73169032,"answer_count":1,"score":-2,"last_activity_date":1659116399,"creation_date":1643234175,"question_id":70870775,"body_markdown":"I&#39;ve recently started a project with LWJGL 3 (Lightweight Java Game Library 3) and Java, and I&#39;ve been trying to render a simple cube. However, my code currently displays an empty black screen.\r\n\r\nThis is my render code:\r\n\r\n````java\r\npublic void renderObject(Camera camera, ShaderProgram shader) {\r\n    GL11.glEnable(GL11.GL_DEPTH_TEST);\r\n\tGL11.glDepthFunc(GL11.GL_LEQUAL);\r\n    GL11.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\r\n    GL11.glClear(GL11.GL_COLOR_BUFFER_BIT | GL11.GL_DEPTH_BUFFER_BIT); \r\n    Matrix4f mvpMatrix = Matrix4f.multiply(projection, Matrix4f.multiply(entity.modelMatrix(), view)); \r\n    shader.uniformMatrix4f(&quot;mvpMatrix&quot;, mvpMatrix);\r\n\tindexBuf.bind();\r\n    GL13.glActiveTexture(GL13.GL_TEXTURE0); \r\n\tentity.getTexturedMesh().bindTexture(); \r\n\tGL11.glDrawElements(GL11.GL_TRIANGLES, entity.getTexturedMesh().mesh.getIndexVec().size(), GL11.GL_UNSIGNED_INT, 0); \r\n\tindexBuf.unbind();\r\n\tvao.unbind();\r\n\tshader.stop();\r\n}\r\n````\r\n\r\nThis is my vertex shader:\r\n````\r\n#version 450 core\r\n\r\nlayout (location = 0) in vec3 position;\r\nlayout (location = 1) in vec2 texCoords;\r\n\r\nout vec3 color;\r\nout vec2 pass_texCoords;\r\n\r\nuniform mat4 mvpMatrix;\r\n\r\nvoid main(void) {\r\n\r\n\tgl_Position = mvpMatrix * vec4(position, 1.0);\r\n\tcolor = vec3(0.0, 1.0, 0.0);\r\n\tpass_texCoords = texCoords;\r\n}\r\n````\r\nThis is my fragment shader:\r\n````\r\n#version 450 core\r\n\r\nin vec3 color;\r\nin vec2 pass_texCoords;\r\n\r\nout vec4 out_color;\r\nuniform sampler2D textureSampler;\r\n\r\nvoid main(void) {\r\n\tout_color = texture(textureSampler,pass_texCoords);\r\n}\r\n````\r\n---\r\n(FYI, Matrix4f is a custom math class that I made. )\r\n\r\n**Remarks:** I discovered that if I change ``gl_Position = mvpMatrix * vec4(position, 1.0)`` to ``glPosition = vec4(position, 1.0)``, then it renders (although I can see only one face of the cube). One can therefore infer that the problem is with ``mvpMatrix``.\r\n \r\nHowever, I made two other discoveries that seemed to contradict my hypothesis.\r\n\r\nFirst, I printed out the ``mvpMatrix`` in ``renderObject`` and found that it was indeed correct. \r\n\r\nTherefore, I deduced that the problem must be with the function ``uniformMatrix4f()``, which was supposed to pass the uniform from the code to the shader.\r\n\r\nTo test my hypothesis, I decided to make a uniform matrix called ``testMatrix``, which was just\r\n\r\n```\r\n[0, 0, 0, 0]\r\n[0, 1, 0, 0]\r\n[0, 0, 0, 0]\r\n[0, 0, 0, 0]\r\n```\r\nand added this line to the code:\r\n```\r\nshader.uniformMatrix4f(&quot;testMatrix&quot;, testMatrix);\r\n```\r\nI had also discovered that you can debug shaders by passing the value to the color.\r\n\r\nTherefore, I changed ``gl_Position = mvpMatrix * vec4(position, 1.0)`` to ``glPosition = vec4(position, 1.0)`` and ``out_color = texture(textureSampler,pass_texCoords)`` to ``out_color = vec4(color, 1.0)``.\r\n\r\nThen I changed ``color = vec3(0.0, 1.0, 0.0)`` to\r\n````\r\ncolor = vec3(testMatrix[0][0], testMatrix[1][1], testMatrix[2][2]);\r\n````\r\nIf my hypothesis were correct, as I expected, then I would probably get a blank screen. However, if my hypothesis were false, the color would be ``vec3(0, 1, 0)``, or green, and I would see a green square.\r\n\r\nWhen I rendered it, I saw a green square, not a blank screen, which was extremely puzzling, and since I can&#39;t find any other source of the problem, I&#39;m stuck.\r\n\r\n\r\n\r\n","title":"LWJGL-3: Cube not rendering","body":"<p>I've recently started a project with LWJGL 3 (Lightweight Java Game Library 3) and Java, and I've been trying to render a simple cube. However, my code currently displays an empty black screen.</p>\n<p>This is my render code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void renderObject(Camera camera, ShaderProgram shader) {\n    GL11.glEnable(GL11.GL_DEPTH_TEST);\n    GL11.glDepthFunc(GL11.GL_LEQUAL);\n    GL11.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\n    GL11.glClear(GL11.GL_COLOR_BUFFER_BIT | GL11.GL_DEPTH_BUFFER_BIT); \n    Matrix4f mvpMatrix = Matrix4f.multiply(projection, Matrix4f.multiply(entity.modelMatrix(), view)); \n    shader.uniformMatrix4f(&quot;mvpMatrix&quot;, mvpMatrix);\n    indexBuf.bind();\n    GL13.glActiveTexture(GL13.GL_TEXTURE0); \n    entity.getTexturedMesh().bindTexture(); \n    GL11.glDrawElements(GL11.GL_TRIANGLES, entity.getTexturedMesh().mesh.getIndexVec().size(), GL11.GL_UNSIGNED_INT, 0); \n    indexBuf.unbind();\n    vao.unbind();\n    shader.stop();\n}\n</code></pre>\n<p>This is my vertex shader:</p>\n<pre><code>#version 450 core\n\nlayout (location = 0) in vec3 position;\nlayout (location = 1) in vec2 texCoords;\n\nout vec3 color;\nout vec2 pass_texCoords;\n\nuniform mat4 mvpMatrix;\n\nvoid main(void) {\n\n    gl_Position = mvpMatrix * vec4(position, 1.0);\n    color = vec3(0.0, 1.0, 0.0);\n    pass_texCoords = texCoords;\n}\n</code></pre>\n<p>This is my fragment shader:</p>\n<pre><code>#version 450 core\n\nin vec3 color;\nin vec2 pass_texCoords;\n\nout vec4 out_color;\nuniform sampler2D textureSampler;\n\nvoid main(void) {\n    out_color = texture(textureSampler,pass_texCoords);\n}\n</code></pre>\n<hr />\n<p>(FYI, Matrix4f is a custom math class that I made. )</p>\n<p><strong>Remarks:</strong> I discovered that if I change <code>gl_Position = mvpMatrix * vec4(position, 1.0)</code> to <code>glPosition = vec4(position, 1.0)</code>, then it renders (although I can see only one face of the cube). One can therefore infer that the problem is with <code>mvpMatrix</code>.</p>\n<p>However, I made two other discoveries that seemed to contradict my hypothesis.</p>\n<p>First, I printed out the <code>mvpMatrix</code> in <code>renderObject</code> and found that it was indeed correct.</p>\n<p>Therefore, I deduced that the problem must be with the function <code>uniformMatrix4f()</code>, which was supposed to pass the uniform from the code to the shader.</p>\n<p>To test my hypothesis, I decided to make a uniform matrix called <code>testMatrix</code>, which was just</p>\n<pre><code>[0, 0, 0, 0]\n[0, 1, 0, 0]\n[0, 0, 0, 0]\n[0, 0, 0, 0]\n</code></pre>\n<p>and added this line to the code:</p>\n<pre><code>shader.uniformMatrix4f(&quot;testMatrix&quot;, testMatrix);\n</code></pre>\n<p>I had also discovered that you can debug shaders by passing the value to the color.</p>\n<p>Therefore, I changed <code>gl_Position = mvpMatrix * vec4(position, 1.0)</code> to <code>glPosition = vec4(position, 1.0)</code> and <code>out_color = texture(textureSampler,pass_texCoords)</code> to <code>out_color = vec4(color, 1.0)</code>.</p>\n<p>Then I changed <code>color = vec3(0.0, 1.0, 0.0)</code> to</p>\n<pre><code>color = vec3(testMatrix[0][0], testMatrix[1][1], testMatrix[2][2]);\n</code></pre>\n<p>If my hypothesis were correct, as I expected, then I would probably get a blank screen. However, if my hypothesis were false, the color would be <code>vec3(0, 1, 0)</code>, or green, and I would see a green square.</p>\n<p>When I rendered it, I saw a green square, not a blank screen, which was extremely puzzling, and since I can't find any other source of the problem, I'm stuck.</p>\n"},{"tags":["java","maven","soap","cxf","wsdl2java"],"answers":[{"tags":[],"owner":{"account_id":16188512,"reputation":1553,"user_id":13091658,"display_name":"Naphat Amundsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659116376,"creation_date":1659115298,"answer_id":73168979,"question_id":73164417,"body_markdown":"I managed to fix the error. Using a program called SoapUI I managed to download all the &quot;dependencies&quot; of the WSDL file. In a directory with all said files I use `grep -r error .` to search for all files containing &quot;error&quot;. It found two files:\r\n\r\n1. Bruktbilverdi.xsd: `targetNamespace=http://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2012-08-27/Bruktbilverdi.xsd`\r\n2. Bruktbilverdi_1.xsd: `targetNamespace=http://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd`\r\n\r\nThe files has similar content, I am not sure why both are listed as dependencies (there were many nested levels of imports, it is hard to keep track)\r\n\r\nAnyways, I added another specification to rename for the other file as well to the bindings file, resulting in:\r\n```\r\n&lt;jaxb:bindings version=&quot;2.1&quot; xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EVRY/InfotorgForetak/2015-12-01/include/ResultatregnskapOgBalanse.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:element[@name=&#39;Aar&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;ResultatregnskapOgBalanseAar&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:element[@name=&#39;error&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;Bruktbilverdi2016ElementError&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2012-08-27/Bruktbilverdi.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:element[@name=&#39;error&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;Bruktbilverdi2012ElementError&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```\r\nwhich resolved the error. Altough I still find it odd that the error message states &quot;Error&quot; with capital E, but I could only find properties with a smal case &quot;e&quot;","title":"Code generation from WSDL: Property &quot;Error&quot; is already defined, but there is no nothing called &quot;Error&quot; in the files","body":"<p>I managed to fix the error. Using a program called SoapUI I managed to download all the &quot;dependencies&quot; of the WSDL file. In a directory with all said files I use <code>grep -r error .</code> to search for all files containing &quot;error&quot;. It found two files:</p>\n<ol>\n<li>Bruktbilverdi.xsd: <code>targetNamespace=http://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2012-08-27/Bruktbilverdi.xsd</code></li>\n<li>Bruktbilverdi_1.xsd: <code>targetNamespace=http://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd</code></li>\n</ol>\n<p>The files has similar content, I am not sure why both are listed as dependencies (there were many nested levels of imports, it is hard to keep track)</p>\n<p>Anyways, I added another specification to rename for the other file as well to the bindings file, resulting in:</p>\n<pre><code>&lt;jaxb:bindings version=&quot;2.1&quot; xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EVRY/InfotorgForetak/2015-12-01/include/ResultatregnskapOgBalanse.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:element[@name='Aar']&quot;&gt;\n            &lt;jaxb:property name=&quot;ResultatregnskapOgBalanseAar&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:element[@name='error']&quot;&gt;\n            &lt;jaxb:property name=&quot;Bruktbilverdi2016ElementError&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2012-08-27/Bruktbilverdi.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:element[@name='error']&quot;&gt;\n            &lt;jaxb:property name=&quot;Bruktbilverdi2012ElementError&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>which resolved the error. Altough I still find it odd that the error message states &quot;Error&quot; with capital E, but I could only find properties with a smal case &quot;e&quot;</p>\n"}],"owner":{"account_id":16188512,"reputation":1553,"user_id":13091658,"display_name":"Naphat Amundsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73168979,"answer_count":1,"score":2,"last_activity_date":1659116376,"creation_date":1659086663,"question_id":73164417,"body_markdown":"We are attempting to generate Java classes from this wsdl file: http://ws.infotorg.no/xml/NE/EDROnline/2017-01-23/EDROnline.wsdl.\r\n\r\nTo do generate the code we use `maven` as a build tool, where we have specified the following build plugin:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.5.3&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-rt-bindings-soap&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;sourceRoot&gt;${project.build.directory}/generated-sources/src&lt;/sourceRoot&gt;\r\n                &lt;wsdlOptions&gt;\r\n                    &lt;wsdlOption&gt;\r\n                        &lt;extraargs&gt;\r\n                            &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n                            &lt;extraarg&gt;-autoNameResolution&lt;/extraarg&gt;\r\n                        &lt;/extraargs&gt;\r\n                        &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/EDROnline.wsdl&lt;/wsdl&gt;\r\n                        &lt;wsdlLocation&gt;classpath:wsdl/EDROnline.wsdl&lt;/wsdlLocation&gt;\r\n                        &lt;bindingFiles&gt;\r\n                            &lt;bindingFile&gt;${basedir}/src/main/resources/bindings.xml&lt;/bindingFile&gt;\r\n                        &lt;/bindingFiles&gt;\r\n                    &lt;/wsdlOption&gt;\r\n                &lt;/wsdlOptions&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nWe run `mvn clean package` to execute the build.\r\n\r\n**We obtain the following errors**:\r\n1. https://ws.infotorg.no/xml/EVRY/InfotorgForetak/2015-12-01/include/ResultatregnskapOgBalanse.xsd [0,0]: Property &quot;Aar&quot; is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict.\r\n1. https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd [0,0]: Property &quot;Error&quot; is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict.\r\n\r\nWe see in the following stackoverflow answer: https://stackoverflow.com/questions/60384525/xsd-property-already-defined that these errors can be fixed by simply renaming said properties to something else, and the renaming can be specified using a *bindings* file. We inspect the \r\n`.xsd` files to figure out the XPath.\r\n\r\n**Solution for error 1:** The first error was simple, in our bindings file fixed the error by specfiying:\r\n```\r\n&lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EVRY/InfotorgForetak/2015-12-01/include/ResultatregnskapOgBalanse.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:element[@name=&#39;Aar&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;ResultatregnskapOgBalanseAar&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n```\r\n**Attempted solution for error 2:** In the xsd file of the second error we could not find any properties named &quot;Error&quot;. However there were three properties with the name &quot;error&quot;. We try to resolve those:\r\n```\r\n&lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:complexType[@name=&#39;error&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;BruktbilverdiComplexTypeError&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:element[@name=&#39;error&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;BruktbilverdiElementError&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:attribute[@name=&#39;error&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;BruktbilverdiAttributeError&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n```\r\n\r\nThus the whole bindings file is:\r\n```\r\n&lt;jaxb:bindings version=&quot;2.1&quot; xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EVRY/InfotorgForetak/2015-12-01/include/ResultatregnskapOgBalanse.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:element[@name=&#39;Aar&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;ResultatregnskapOgBalanseAar&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:complexType[@name=&#39;error&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;BruktbilverdiComplexTypeError&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:element[@name=&#39;error&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;BruktbilverdiElementError&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:attribute[@name=&#39;error&#39;]&quot;&gt;\r\n            &lt;jaxb:property name=&quot;BruktbilverdiAttributeError&quot; /&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```\r\n\r\nAnd we still obtain the same second error. We have obtained *every* `.xsd` file that is imported and search through every one of them, and none of them as anything called &quot;Error&quot;.\r\n\r\n### What we want\r\nSolve error 2","title":"Code generation from WSDL: Property &quot;Error&quot; is already defined, but there is no nothing called &quot;Error&quot; in the files","body":"<p>We are attempting to generate Java classes from this wsdl file: <a href=\"http://ws.infotorg.no/xml/NE/EDROnline/2017-01-23/EDROnline.wsdl\" rel=\"nofollow noreferrer\">http://ws.infotorg.no/xml/NE/EDROnline/2017-01-23/EDROnline.wsdl</a>.</p>\n<p>To do generate the code we use <code>maven</code> as a build tool, where we have specified the following build plugin:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5.3&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-bindings-soap&lt;/artifactId&gt;\n            &lt;version&gt;3.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsdl2java&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sourceRoot&gt;${project.build.directory}/generated-sources/src&lt;/sourceRoot&gt;\n                &lt;wsdlOptions&gt;\n                    &lt;wsdlOption&gt;\n                        &lt;extraargs&gt;\n                            &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                            &lt;extraarg&gt;-autoNameResolution&lt;/extraarg&gt;\n                        &lt;/extraargs&gt;\n                        &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/EDROnline.wsdl&lt;/wsdl&gt;\n                        &lt;wsdlLocation&gt;classpath:wsdl/EDROnline.wsdl&lt;/wsdlLocation&gt;\n                        &lt;bindingFiles&gt;\n                            &lt;bindingFile&gt;${basedir}/src/main/resources/bindings.xml&lt;/bindingFile&gt;\n                        &lt;/bindingFiles&gt;\n                    &lt;/wsdlOption&gt;\n                &lt;/wsdlOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>We run <code>mvn clean package</code> to execute the build.</p>\n<p><strong>We obtain the following errors</strong>:</p>\n<ol>\n<li><a href=\"https://ws.infotorg.no/xml/EVRY/InfotorgForetak/2015-12-01/include/ResultatregnskapOgBalanse.xsd\" rel=\"nofollow noreferrer\">https://ws.infotorg.no/xml/EVRY/InfotorgForetak/2015-12-01/include/ResultatregnskapOgBalanse.xsd</a> [0,0]: Property &quot;Aar&quot; is already defined. Use &lt;jaxb:property&gt; to resolve this conflict.</li>\n<li><a href=\"https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd\" rel=\"nofollow noreferrer\">https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd</a> [0,0]: Property &quot;Error&quot; is already defined. Use &lt;jaxb:property&gt; to resolve this conflict.</li>\n</ol>\n<p>We see in the following stackoverflow answer: <a href=\"https://stackoverflow.com/questions/60384525/xsd-property-already-defined\">XSD &quot;property already defined&quot;</a> that these errors can be fixed by simply renaming said properties to something else, and the renaming can be specified using a <em>bindings</em> file. We inspect the\n<code>.xsd</code> files to figure out the XPath.</p>\n<p><strong>Solution for error 1:</strong> The first error was simple, in our bindings file fixed the error by specfiying:</p>\n<pre><code>&lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EVRY/InfotorgForetak/2015-12-01/include/ResultatregnskapOgBalanse.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:element[@name='Aar']&quot;&gt;\n            &lt;jaxb:property name=&quot;ResultatregnskapOgBalanseAar&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n</code></pre>\n<p><strong>Attempted solution for error 2:</strong> In the xsd file of the second error we could not find any properties named &quot;Error&quot;. However there were three properties with the name &quot;error&quot;. We try to resolve those:</p>\n<pre><code>&lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:complexType[@name='error']&quot;&gt;\n            &lt;jaxb:property name=&quot;BruktbilverdiComplexTypeError&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n        &lt;jaxb:bindings node=&quot;//xs:element[@name='error']&quot;&gt;\n            &lt;jaxb:property name=&quot;BruktbilverdiElementError&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n        &lt;jaxb:bindings node=&quot;//xs:attribute[@name='error']&quot;&gt;\n            &lt;jaxb:property name=&quot;BruktbilverdiAttributeError&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n</code></pre>\n<p>Thus the whole bindings file is:</p>\n<pre><code>&lt;jaxb:bindings version=&quot;2.1&quot; xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EVRY/InfotorgForetak/2015-12-01/include/ResultatregnskapOgBalanse.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:element[@name='Aar']&quot;&gt;\n            &lt;jaxb:property name=&quot;ResultatregnskapOgBalanseAar&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;https://ws.infotorg.no/xml/EurotaxGlass/Bruktbilverdi/2016-03-09/Bruktbilverdi.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:complexType[@name='error']&quot;&gt;\n            &lt;jaxb:property name=&quot;BruktbilverdiComplexTypeError&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n        &lt;jaxb:bindings node=&quot;//xs:element[@name='error']&quot;&gt;\n            &lt;jaxb:property name=&quot;BruktbilverdiElementError&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n        &lt;jaxb:bindings node=&quot;//xs:attribute[@name='error']&quot;&gt;\n            &lt;jaxb:property name=&quot;BruktbilverdiAttributeError&quot; /&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>And we still obtain the same second error. We have obtained <em>every</em> <code>.xsd</code> file that is imported and search through every one of them, and none of them as anything called &quot;Error&quot;.</p>\n<h3>What we want</h3>\n<p>Solve error 2</p>\n"},{"tags":["java","spring-boot","netty"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659115955,"creation_date":1659115955,"answer_id":73169087,"question_id":73169086,"body_markdown":"I haven&#39;t been able to fix the missing logs that I expect with wiretap, but the proxy issue is solved, thanks to \r\n- https://stackoverflow.com/a/65790535/3067542\r\n- https://blog.doubleslash.de/spring-oauth2-client-authorization-request-proxy-support/ \r\n\r\nwe need to configure the proxy also in the underlying restTemplate that is used by OAuth2AuthorizedClientManager, in addition to configuring it in the webClient. Not obvious at all ! ","title":"confirming the proxy is used with Netty - issue with wiretap","body":"<p>I haven't been able to fix the missing logs that I expect with wiretap, but the proxy issue is solved, thanks to</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/65790535/3067542\">https://stackoverflow.com/a/65790535/3067542</a></li>\n<li><a href=\"https://blog.doubleslash.de/spring-oauth2-client-authorization-request-proxy-support/\" rel=\"nofollow noreferrer\">https://blog.doubleslash.de/spring-oauth2-client-authorization-request-proxy-support/</a></li>\n</ul>\n<p>we need to configure the proxy also in the underlying restTemplate that is used by OAuth2AuthorizedClientManager, in addition to configuring it in the webClient. Not obvious at all !</p>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659115955,"creation_date":1659115955,"question_id":73169086,"body_markdown":"My Spring Boot 2.7.1 application needs to use 2 different Oauth2 webclients, that each has its own identity provider. One of them needs to go through a proxy, but not the other. \r\n\r\nFor the one going through the proxy, I build it like this : \r\n\r\n\t  @Bean\r\n\t  @Qualifier(&quot;systemA&quot;)\r\n\t  WebClient getWebClientForSystemA(OAuth2AuthorizedClientManager authorizedClientManager,\r\n\t\t  @Value(&quot;${asset-sync-service.systemA-proxy.host}&quot;) String proxyHost,\r\n\t\t  @Value(&quot;${asset-sync-service.systemA-proxy.port}&quot;) int proxyPort) {\r\n\r\n\t\tvar oauth = new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n\t\toauth.setDefaultClientRegistrationId(&quot;systemA&quot;);\r\n\r\n\t\tvar webClientBuilder=WebClient.builder()\r\n\t\t\t.defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n\t\t\t.apply(oauth.oauth2Configuration());\r\n\r\n\t\tif(StringUtils.isNotEmpty(proxyHost)){\r\n\r\n\t\t  log.info(&quot;setting proxy setting ({}:{}) on webclient for systemA webclient..&quot;,proxyHost,proxyPort);\r\n\r\n\t\t  var httpClientWithSystemAProxy=HttpClient.create()\r\n\t\t\t  .wiretap(&quot;systemAWebClient&quot;,LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL)\r\n\t\t\t  .proxy(proxy -&gt; proxy.type(Proxy.HTTP)\r\n\t\t\t\t  .host(proxyHost)\r\n\t\t\t\t  .port(proxyPort));\r\n\r\n\t\t  webClientBuilder=webClientBuilder\r\n\t\t\t  .clientConnector(new ReactorClientHttpConnector(httpClientWithSystemAProxy));\r\n\r\n\t\t}\r\n\r\n\t\treturn webClientBuilder.build();\r\n\r\n\t  }\r\n\r\n\r\nThe first time the webClient is called and tries to get a token, it fails with :\r\n\r\n\t  Caused by: org.springframework.security.oauth2.core.OAuth2AuthorizationException: [invalid_token_response] An error occurred while attempting to retrieve the OAuth 2.0 Access Token Response: I/O error on POST request for &quot;https://systemA.my.company/connect/oauth2/access_token&quot;: systemA.my.company; nested exception is java.net.UnknownHostException: systemA.my.company\r\n\r\n\r\n(when I try access https://systemA.my.company/connect/oauth2/access_token in my browser, it gets resovled)\r\n\r\nI added the wiretap in the HttpClient, because I have the feeling it&#39;s not going through the proxy, and I want to see more logs. But unfortunately, I don&#39;t see anything in my logs, despite setting Logback root logger at DEBUG level.\r\n\r\nam I doing something wrong, either &#237;n the wiretap config or in the config of the proxy ? \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"confirming the proxy is used with Netty - issue with wiretap","body":"<p>My Spring Boot 2.7.1 application needs to use 2 different Oauth2 webclients, that each has its own identity provider. One of them needs to go through a proxy, but not the other.</p>\n<p>For the one going through the proxy, I build it like this :</p>\n<pre><code>  @Bean\n  @Qualifier(&quot;systemA&quot;)\n  WebClient getWebClientForSystemA(OAuth2AuthorizedClientManager authorizedClientManager,\n      @Value(&quot;${asset-sync-service.systemA-proxy.host}&quot;) String proxyHost,\n      @Value(&quot;${asset-sync-service.systemA-proxy.port}&quot;) int proxyPort) {\n\n    var oauth = new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n    oauth.setDefaultClientRegistrationId(&quot;systemA&quot;);\n\n    var webClientBuilder=WebClient.builder()\n        .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n        .apply(oauth.oauth2Configuration());\n\n    if(StringUtils.isNotEmpty(proxyHost)){\n\n      log.info(&quot;setting proxy setting ({}:{}) on webclient for systemA webclient..&quot;,proxyHost,proxyPort);\n\n      var httpClientWithSystemAProxy=HttpClient.create()\n          .wiretap(&quot;systemAWebClient&quot;,LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL)\n          .proxy(proxy -&gt; proxy.type(Proxy.HTTP)\n              .host(proxyHost)\n              .port(proxyPort));\n\n      webClientBuilder=webClientBuilder\n          .clientConnector(new ReactorClientHttpConnector(httpClientWithSystemAProxy));\n\n    }\n\n    return webClientBuilder.build();\n\n  }\n</code></pre>\n<p>The first time the webClient is called and tries to get a token, it fails with :</p>\n<pre><code>  Caused by: org.springframework.security.oauth2.core.OAuth2AuthorizationException: [invalid_token_response] An error occurred while attempting to retrieve the OAuth 2.0 Access Token Response: I/O error on POST request for &quot;https://systemA.my.company/connect/oauth2/access_token&quot;: systemA.my.company; nested exception is java.net.UnknownHostException: systemA.my.company\n</code></pre>\n<p>(when I try access <a href=\"https://systemA.my.company/connect/oauth2/access_token\" rel=\"nofollow noreferrer\">https://systemA.my.company/connect/oauth2/access_token</a> in my browser, it gets resovled)</p>\n<p>I added the wiretap in the HttpClient, because I have the feeling it's not going through the proxy, and I want to see more logs. But unfortunately, I don't see anything in my logs, despite setting Logback root logger at DEBUG level.</p>\n<p>am I doing something wrong, either ín the wiretap config or in the config of the proxy ?</p>\n"},{"tags":["java","android","list","csv"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":2,"creation_date":1659110825,"post_id":73168058,"comment_id":129223008,"body_markdown":"You&#39;ve described what you want to achieve and showed some code that you say does not work, but you haven&#39;t described what result you _have_ achieved so far. In other words, what about it doesn&#39;t work? What does it produce?","body":"You&#39;ve described what you want to achieve and showed some code that you say does not work, but you haven&#39;t described what result you <i>have</i> achieved so far. In other words, what about it doesn&#39;t work? What does it produce?"},{"owner":{"account_id":25488816,"reputation":49,"user_id":19283976,"display_name":"Ayse"},"score":0,"creation_date":1659111318,"post_id":73168058,"comment_id":129223153,"body_markdown":"@E-Riz I edit my question,  I am creating the same list as below but as List&lt;String&gt;. How can I solve this? I couldn&#39;t find","body":"@E-Riz I edit my question,  I am creating the same list as below but as List&lt;String&gt;. How can I solve this? I couldn&#39;t find"}],"answers":[{"tags":[],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659113232,"creation_date":1659113232,"answer_id":73168590,"question_id":73168058,"body_markdown":"Try this :\r\n\r\n    String fileName =\r\n                    &quot;.../app/src/main/assets/ahmetozkilic.csv&quot;;\r\n            try (CSVReader reader = new CSVReader(new FileReader(fileName))) {\r\n                List&lt;String[]&gt; r = reader.readAll();\r\n                List&lt;List&lt;Double&gt;&gt; myList = new ArrayList&lt;&gt;();    \r\n\r\n                r.forEach(lineArr -&gt; {\r\n                    List&lt;Double&gt; line = new ArrayList&lt;&gt;();\r\n                    for (String str : lineArr) {\r\n                        line.add(Double.parseDouble(str));\r\n                    }\r\n                    myList.add(line);\r\n                });\r\n                System.out.println(myList);\r\n            }","title":"Java read csv file to list double","body":"<p>Try this :</p>\n<pre><code>String fileName =\n                &quot;.../app/src/main/assets/ahmetozkilic.csv&quot;;\n        try (CSVReader reader = new CSVReader(new FileReader(fileName))) {\n            List&lt;String[]&gt; r = reader.readAll();\n            List&lt;List&lt;Double&gt;&gt; myList = new ArrayList&lt;&gt;();    \n\n            r.forEach(lineArr -&gt; {\n                List&lt;Double&gt; line = new ArrayList&lt;&gt;();\n                for (String str : lineArr) {\n                    line.add(Double.parseDouble(str));\n                }\n                myList.add(line);\n            });\n            System.out.println(myList);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659114614,"creation_date":1659114614,"answer_id":73168835,"question_id":73168058,"body_markdown":"You have a couple of different things missing from your code that are necessary to end up with a `List&lt;List&lt;double&gt;&gt;`.\r\n\r\n 1. You are reading `String`s but not converting them to `double` (or `Double`).\r\n 2. You are reading the original CSV lines as an array instead of a `List`, but never convert the array to a `List`.\r\n\r\nTo solve #1, you can use `Double.parseDouble()` to convert the `String`s to `Double`s.\r\n\r\nTo solve #2, you have to create the final result as a `List&lt;List&lt;Double&gt;&gt;` instead of `List&lt;String&gt;`. Then when you loop through the `String[]`, you can convert the strings to Doubles/doubles and add them to the `List&lt;Double&gt;`.\r\n\r\nSince this smells like a homework assignment, I&#39;ll leave it to you to write the actual code; these are just the concepts you need.","title":"Java read csv file to list double","body":"<p>You have a couple of different things missing from your code that are necessary to end up with a <code>List&lt;List&lt;double&gt;&gt;</code>.</p>\n<ol>\n<li>You are reading <code>String</code>s but not converting them to <code>double</code> (or <code>Double</code>).</li>\n<li>You are reading the original CSV lines as an array instead of a <code>List</code>, but never convert the array to a <code>List</code>.</li>\n</ol>\n<p>To solve #1, you can use <code>Double.parseDouble()</code> to convert the <code>String</code>s to <code>Double</code>s.</p>\n<p>To solve #2, you have to create the final result as a <code>List&lt;List&lt;Double&gt;&gt;</code> instead of <code>List&lt;String&gt;</code>. Then when you loop through the <code>String[]</code>, you can convert the strings to Doubles/doubles and add them to the <code>List&lt;Double&gt;</code>.</p>\n<p>Since this smells like a homework assignment, I'll leave it to you to write the actual code; these are just the concepts you need.</p>\n"}],"owner":{"account_id":25488816,"reputation":49,"user_id":19283976,"display_name":"Ayse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73168590,"answer_count":2,"score":0,"last_activity_date":1659115914,"creation_date":1659110499,"question_id":73168058,"body_markdown":"I cannot convert the CSV file I read into a list. What I want to do is create a `List&lt;List&lt;Double&gt;&gt;` list. I am creating the same list as below but as `List&lt;String&gt;`. \r\n\r\nMy CSV file\r\n     \r\n    -0.140625000000000,0.986816000000000,-0.209473000000000\r\n    -0.144531000000000,0.959473000000000,-0.262207000000000\r\n    -0.168945000000000,0.945312000000000,-0.340820000000000\r\n    -0.141602000000000,0.939453000000000,-0.289551000000000\r\n    -0.145508000000000,0.950195000000000,-0.305664000000000\r\n    -0.147461000000000,0.946777000000000,-0.302246000000000\r\n    -0.146484000000000,0.950684000000000,-0.305176000000000\r\n    -0.145996000000000,0.951660000000000,-0.305176000000000\r\n      ....\r\nFor Example \r\n\r\n    List&lt;List&lt;double&gt;&gt; list =  [\r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000], \r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000], \r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000], \r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000],\r\n       [-0.447266000000000, 0.417969000000000, 0.738770000000000]\r\n    ]\r\n\r\n\r\nMy code\r\n\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.N)\r\npublic static void main(String[] args) throws IOException, CsvException {\r\n\r\n    String fileName = &quot;.../app/src/main/assets/ahmetozkilic.csv&quot;;\r\n    try (CSVReader reader = new CSVReader(new FileReader(fileName))) {\r\n        List&lt;String[]&gt; r = reader.readAll();\r\n        List&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n        r.forEach(x -&gt; myList.add(Arrays.toString(x)));\r\n        System.out.println(myList);\r\n    }\r\n}\r\n```","title":"Java read csv file to list double","body":"<p>I cannot convert the CSV file I read into a list. What I want to do is create a <code>List&lt;List&lt;Double&gt;&gt;</code> list. I am creating the same list as below but as <code>List&lt;String&gt;</code>.</p>\n<p>My CSV file</p>\n<pre><code>-0.140625000000000,0.986816000000000,-0.209473000000000\n-0.144531000000000,0.959473000000000,-0.262207000000000\n-0.168945000000000,0.945312000000000,-0.340820000000000\n-0.141602000000000,0.939453000000000,-0.289551000000000\n-0.145508000000000,0.950195000000000,-0.305664000000000\n-0.147461000000000,0.946777000000000,-0.302246000000000\n-0.146484000000000,0.950684000000000,-0.305176000000000\n-0.145996000000000,0.951660000000000,-0.305176000000000\n  ....\n</code></pre>\n<p>For Example</p>\n<pre><code>List&lt;List&lt;double&gt;&gt; list =  [\n   [-0.447266000000000, 0.417969000000000, 0.738770000000000], \n   [-0.447266000000000, 0.417969000000000, 0.738770000000000], \n   [-0.447266000000000, 0.417969000000000, 0.738770000000000], \n   [-0.447266000000000, 0.417969000000000, 0.738770000000000],\n   [-0.447266000000000, 0.417969000000000, 0.738770000000000]\n]\n</code></pre>\n<p>My code</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.N)\npublic static void main(String[] args) throws IOException, CsvException {\n\n    String fileName = &quot;.../app/src/main/assets/ahmetozkilic.csv&quot;;\n    try (CSVReader reader = new CSVReader(new FileReader(fileName))) {\n        List&lt;String[]&gt; r = reader.readAll();\n        List&lt;String&gt; myList = new ArrayList&lt;&gt;();\n        r.forEach(x -&gt; myList.add(Arrays.toString(x)));\n        System.out.println(myList);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","integration-testing","wiremock"],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659115353,"creation_date":1659115353,"answer_id":73168990,"question_id":73167746,"body_markdown":"For Java&#39;s regex pattern, `*` is a quantifier, meaning it tells the pattern _how many_ of the preceding token(s) to match. \r\n\r\nA simple catchall would be `.*` (`.` is the symbol for any character).\r\n\r\n```javascript\r\n{\r\n  &quot;request&quot;: {\r\n    &quot;method&quot;: &quot;POST&quot;,\r\n    &quot;urlPathPattern&quot;: &quot;/ngdms/orders/.*&quot;\r\n  },\r\n  &quot;response&quot;: {\r\n   ...\r\n   }\r\n}\r\n```","title":"wiremock path param matching","body":"<p>For Java's regex pattern, <code>*</code> is a quantifier, meaning it tells the pattern <em>how many</em> of the preceding token(s) to match.</p>\n<p>A simple catchall would be <code>.*</code> (<code>.</code> is the symbol for any character).</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;request&quot;: {\n    &quot;method&quot;: &quot;POST&quot;,\n    &quot;urlPathPattern&quot;: &quot;/ngdms/orders/.*&quot;\n  },\n  &quot;response&quot;: {\n   ...\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1659166095,"accepted_answer_id":73168990,"answer_count":1,"score":0,"last_activity_date":1659115353,"creation_date":1659103009,"question_id":73167746,"body_markdown":"I need to create very basic mapping stup for `wiremock` server for the integration tests.\r\nI am calling the POST with the payload on url that has path param in it:\r\n`/ngdms/odrers/{order-id}`\r\n\r\nthis is the mapping stup I want to match to that call: \r\n```\r\n{\r\n  &quot;request&quot;: {\r\n    &quot;method&quot;: &quot;POST&quot;,\r\n    &quot;urlPathPattern&quot;: &quot;/ngdms/orders/*&quot;\r\n  },\r\n  &quot;response&quot;: {\r\n   ...\r\n   }\r\n}\r\n\r\n```\r\n\r\nand the wiremock says:\r\n\r\n```\r\n-----------------------------------------------------------------------------------------------------------------------\r\n| Closest stub                                             | Request                                                  |\r\n-----------------------------------------------------------------------------------------------------------------------\r\n                                                           |\r\nPOST                                                       | POST\r\n[path regex] /ngdms/orders/*                               | /ngdms/orders/b41a627e-6981-403a-94cd-c225b8036ef1  &lt;&lt;&lt;&lt;&lt; URL does not match\r\n                                                           |\r\n                                                           |\r\n-----------------------------------------------------------------------------------------------------------------------\r\n```\r\n\r\nso what is the regex `urlPathPattern` that will match basically everything (will be uuid eventually), please?","title":"wiremock path param matching","body":"<p>I need to create very basic mapping stup for <code>wiremock</code> server for the integration tests.\nI am calling the POST with the payload on url that has path param in it:\n<code>/ngdms/odrers/{order-id}</code></p>\n<p>this is the mapping stup I want to match to that call:</p>\n<pre><code>{\n  &quot;request&quot;: {\n    &quot;method&quot;: &quot;POST&quot;,\n    &quot;urlPathPattern&quot;: &quot;/ngdms/orders/*&quot;\n  },\n  &quot;response&quot;: {\n   ...\n   }\n}\n\n</code></pre>\n<p>and the wiremock says:</p>\n<pre><code>-----------------------------------------------------------------------------------------------------------------------\n| Closest stub                                             | Request                                                  |\n-----------------------------------------------------------------------------------------------------------------------\n                                                           |\nPOST                                                       | POST\n[path regex] /ngdms/orders/*                               | /ngdms/orders/b41a627e-6981-403a-94cd-c225b8036ef1  &lt;&lt;&lt;&lt;&lt; URL does not match\n                                                           |\n                                                           |\n-----------------------------------------------------------------------------------------------------------------------\n</code></pre>\n<p>so what is the regex <code>urlPathPattern</code> that will match basically everything (will be uuid eventually), please?</p>\n"},{"tags":["java","amazon-web-services","maven","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1586627995,"creation_date":1586627995,"answer_id":61161380,"question_id":61157061,"body_markdown":"It seems like you still have to have both SDK v1 and SDK v2 on your classpath.\r\n\r\nFor example, looking at the [Lambda Java documentation](https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html) you can see that all imports still start with `com.amazonaws` (SDK v1) and not `software.amazon` (SDK v2).\r\n\r\nOne of the examples they list there is [blank-java](https://github.com/awsdocs/aws-lambda-developer-guide/tree/master/sample-apps/blank-java) which they describe as &quot;A Java function with the events library, advanced logging configuration, and the AWS SDK for Java 2.x that calls the Lambda API to retrieve account settings&quot;\r\n\r\nIf you look at that sample application&#39;s [pom.xml](https://github.com/awsdocs/aws-lambda-developer-guide/blob/master/sample-apps/blank-java/pom.xml) you&#39;ll see `com.amazonaws` and `software.amazon` packages mixed together.\r\n\r\nSimilarly for the [Lambda handler](https://github.com/awsdocs/aws-lambda-developer-guide/blob/master/sample-apps/blank-java/src/main/java/example/Handler.java).\r\n\r\nSo either they haven&#39;t ported everything to SDK v2, or they still want you to use the interfaces from SDK v1 - and then more functional code (non interface code) can be used from SDK v2.","title":"What&#39;s the AWS SDK V2 Maven lib for Lambda?","body":"<p>It seems like you still have to have both SDK v1 and SDK v2 on your classpath.</p>\n\n<p>For example, looking at the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html\" rel=\"noreferrer\">Lambda Java documentation</a> you can see that all imports still start with <code>com.amazonaws</code> (SDK v1) and not <code>software.amazon</code> (SDK v2).</p>\n\n<p>One of the examples they list there is <a href=\"https://github.com/awsdocs/aws-lambda-developer-guide/tree/master/sample-apps/blank-java\" rel=\"noreferrer\">blank-java</a> which they describe as \"A Java function with the events library, advanced logging configuration, and the AWS SDK for Java 2.x that calls the Lambda API to retrieve account settings\"</p>\n\n<p>If you look at that sample application's <a href=\"https://github.com/awsdocs/aws-lambda-developer-guide/blob/master/sample-apps/blank-java/pom.xml\" rel=\"noreferrer\">pom.xml</a> you'll see <code>com.amazonaws</code> and <code>software.amazon</code> packages mixed together.</p>\n\n<p>Similarly for the <a href=\"https://github.com/awsdocs/aws-lambda-developer-guide/blob/master/sample-apps/blank-java/src/main/java/example/Handler.java\" rel=\"noreferrer\">Lambda handler</a>.</p>\n\n<p>So either they haven't ported everything to SDK v2, or they still want you to use the interfaces from SDK v1 - and then more functional code (non interface code) can be used from SDK v2.</p>\n"},{"tags":[],"owner":{"account_id":449078,"reputation":1338,"user_id":843660,"display_name":"dskrvk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623373713,"creation_date":1623373713,"answer_id":67930131,"question_id":61157061,"body_markdown":"Similar to [this answer](https://stackoverflow.com/a/65018696/843660), you don&#39;t have to import all of SDKv1 into your project and should continue to import just [`aws-lambda-java-core`](https://search.maven.org/artifact/com.amazonaws/aws-lambda-java-core) (in addition to SDKv2). It contains a subset of the classes sufficient for implementing an entry point, with the same fully-qualified names as in v1.\r\n\r\nIn addition, if you need event interfaces like `S3Event` you can pull in [`aws-lambda-java-events`](https://search.maven.org/artifact/com.amazonaws/aws-lambda-java-events).\r\n\r\n","title":"What&#39;s the AWS SDK V2 Maven lib for Lambda?","body":"<p>Similar to <a href=\"https://stackoverflow.com/a/65018696/843660\">this answer</a>, you don't have to import all of SDKv1 into your project and should continue to import just <a href=\"https://search.maven.org/artifact/com.amazonaws/aws-lambda-java-core\" rel=\"noreferrer\"><code>aws-lambda-java-core</code></a> (in addition to SDKv2). It contains a subset of the classes sufficient for implementing an entry point, with the same fully-qualified names as in v1.</p>\n<p>In addition, if you need event interfaces like <code>S3Event</code> you can pull in <a href=\"https://search.maven.org/artifact/com.amazonaws/aws-lambda-java-events\" rel=\"noreferrer\"><code>aws-lambda-java-events</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":4514486,"reputation":21,"user_id":3669731,"display_name":"BoltX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659115334,"creation_date":1659062352,"answer_id":73161084,"question_id":61157061,"body_markdown":"Perhaps it helps to post your imports here.\r\n\r\nAs an example for SDK 1.0, in the handler class these seem to be the correct ones (I ran into same problems due to their docs being all over the place with SDK 1 &amp; 2)\r\n\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.LambdaLogger;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    import com.amazonaws.services.lambda.runtime.events.SQSEvent;\r\n\r\nNote that I&#39;m also using SQSEvent here, while you&#39;re doing the Object and returning the Object. \r\n\r\n    RequestHandler&lt;Object, Object&gt; \r\nas opposed to my:\r\n\r\n    SomeMethodHandler implements RequestHandler&lt;SQSEvent, Void&gt;\r\n\r\n","title":"What&#39;s the AWS SDK V2 Maven lib for Lambda?","body":"<p>Perhaps it helps to post your imports here.</p>\n<p>As an example for SDK 1.0, in the handler class these seem to be the correct ones (I ran into same problems due to their docs being all over the place with SDK 1 &amp; 2)</p>\n<pre><code>import com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.LambdaLogger;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\nimport com.amazonaws.services.lambda.runtime.events.SQSEvent;\n</code></pre>\n<p>Note that I'm also using SQSEvent here, while you're doing the Object and returning the Object.</p>\n<pre><code>RequestHandler&lt;Object, Object&gt; \n</code></pre>\n<p>as opposed to my:</p>\n<pre><code>SomeMethodHandler implements RequestHandler&lt;SQSEvent, Void&gt;\n</code></pre>\n"}],"owner":{"account_id":84376,"reputation":2788,"user_id":235921,"accept_rate":62,"display_name":"CC."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2526,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":61161380,"answer_count":3,"score":7,"last_activity_date":1659115334,"creation_date":1586609271,"question_id":61157061,"body_markdown":"I&#39;m trying to update my project in order to use SDK v2 by using bom configuration.\r\nI have updated my pom file but now `RequestHandler` and `Context` can&#39;t be found.\r\nHere is my maven config file\r\n\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.1.0&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lambda&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nAnd my config before which was working\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nCan&#39;t seems to find what I should import to have the missing classes.\r\nOr in the V2, there is a different signature ?\r\n\r\nThis is my class:\r\n\r\n    public class Cron implements RequestHandler&lt;Object, Object&gt; {\r\n    \r\n        public Object handleRequest(final Object input, final Context context) {\r\n\r\nThanks for any pointer.\r\n\r\nC.C.\r\n","title":"What&#39;s the AWS SDK V2 Maven lib for Lambda?","body":"<p>I'm trying to update my project in order to use SDK v2 by using bom configuration.\nI have updated my pom file but now <code>RequestHandler</code> and <code>Context</code> can't be found.\nHere is my maven config file</p>\n\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;2.1.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;lambda&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And my config before which was working</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Can't seems to find what I should import to have the missing classes.\nOr in the V2, there is a different signature ?</p>\n\n<p>This is my class:</p>\n\n<pre><code>public class Cron implements RequestHandler&lt;Object, Object&gt; {\n\n    public Object handleRequest(final Object input, final Context context) {\n</code></pre>\n\n<p>Thanks for any pointer.</p>\n\n<p>C.C.</p>\n"},{"tags":["javascript","java","node.js","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659115243,"creation_date":1659115243,"answer_id":73168969,"question_id":73168569,"body_markdown":"Your json shows an array of objects with attributes date and close but you are returning a double[] from getSockData(). You need to create a class that contains attributes date and close and return a list of these objects instead. Use json formatting annotations for the date if needed.","title":"Create the same Response in Spring Boot as in NodeJS","body":"<p>Your json shows an array of objects with attributes date and close but you are returning a double[] from getSockData(). You need to create a class that contains attributes date and close and return a list of these objects instead. Use json formatting annotations for the date if needed.</p>\n"}],"owner":{"account_id":18291745,"reputation":21,"user_id":13318397,"display_name":"judo_&#252;rgens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73168969,"answer_count":1,"score":-1,"last_activity_date":1659115243,"creation_date":1659113144,"question_id":73168569,"body_markdown":"Look at the following REST-API created in Node.js\r\n\r\nNodeJS:\r\n\r\n```\r\napp.get(&quot;/stockData/:name&quot;, (req, res) =&gt; {\r\n  // Get All Data\r\n  db.query(\r\n    &quot;SELECT date, close FROM stocks WHERE name =&#39;&quot; +\r\n      req.params.name +\r\n      &quot;&#39;ORDER BY date AND name&quot;,\r\n    (err, results) =&gt; {\r\n      if (err) {\r\n        res.send(err);\r\n      } else {\r\n        res.json(results);\r\n      }\r\n    }\r\n  );\r\n});\r\n```\r\n\r\nIf I do a request i get the following response structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow i need to build the same in REST-API and SQL-Query in Spring Boot. So that I get the same response. I tried it with this code: \r\n\r\nSpring Boot:\r\n```\r\n//Controller\r\n@RestController\r\npublic class ApiController {\r\n\t@Autowired\r\n\tprivate StockRepository stockRepository;\r\n\t\r\n\t@CrossOrigin(origins = &quot;*&quot;)\r\n\t@GetMapping(&quot;/stockData/{name}&quot;)\r\n\tpublic double[] getStockData(@PathVariable String name) {\r\n\t\treturn stockRepository.getStockData(name);\r\n\t\t\r\n\t}\r\n\r\n//Repo\r\n@Query(value = &quot;SELECT a.date, a.close FROM stocks AS a WHERE a.name = ?1 ORDER BY a.date AND a.name&quot;, nativeQuery = true)\r\n    double[] getStockData(String name);\r\n\r\n```\r\nBut it doesnt work...\r\nDoes somebody know how i can implement the same in Spring Boot?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EUjPY.png","title":"Create the same Response in Spring Boot as in NodeJS","body":"<p>Look at the following REST-API created in Node.js</p>\n<p>NodeJS:</p>\n<pre><code>app.get(&quot;/stockData/:name&quot;, (req, res) =&gt; {\n  // Get All Data\n  db.query(\n    &quot;SELECT date, close FROM stocks WHERE name ='&quot; +\n      req.params.name +\n      &quot;'ORDER BY date AND name&quot;,\n    (err, results) =&gt; {\n      if (err) {\n        res.send(err);\n      } else {\n        res.json(results);\n      }\n    }\n  );\n});\n</code></pre>\n<p>If I do a request i get the following response structure:</p>\n<p><a href=\"https://i.stack.imgur.com/EUjPY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EUjPY.png\" alt=\"enter image description here\" /></a></p>\n<p>Now i need to build the same in REST-API and SQL-Query in Spring Boot. So that I get the same response. I tried it with this code:</p>\n<p>Spring Boot:</p>\n<pre><code>//Controller\n@RestController\npublic class ApiController {\n    @Autowired\n    private StockRepository stockRepository;\n    \n    @CrossOrigin(origins = &quot;*&quot;)\n    @GetMapping(&quot;/stockData/{name}&quot;)\n    public double[] getStockData(@PathVariable String name) {\n        return stockRepository.getStockData(name);\n        \n    }\n\n//Repo\n@Query(value = &quot;SELECT a.date, a.close FROM stocks AS a WHERE a.name = ?1 ORDER BY a.date AND a.name&quot;, nativeQuery = true)\n    double[] getStockData(String name);\n\n</code></pre>\n<p>But it doesnt work...\nDoes somebody know how i can implement the same in Spring Boot?</p>\n"},{"tags":["java","jaeger","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":10719940,"reputation":198,"user_id":7889352,"display_name":"IvanR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659115069,"creation_date":1659115069,"answer_id":73168932,"question_id":71006161,"body_markdown":"What about using [Opentelemetry Collector][1] to do this?\r\n\r\nYou can use the javaagent to forward to Opentelemetry Collector, which allows you to use OTEL_EXPORTER_OTLP_HEADERS.\r\n\r\nThen, in turn, the collector can forward traces to your Jaeger instance\r\n\r\n\r\n  [1]: https://opentelemetry.io/docs/collector/","title":"Opentelemetry: javaagent jaeger exporter - add header","body":"<p>What about using <a href=\"https://opentelemetry.io/docs/collector/\" rel=\"nofollow noreferrer\">Opentelemetry Collector</a> to do this?</p>\n<p>You can use the javaagent to forward to Opentelemetry Collector, which allows you to use OTEL_EXPORTER_OTLP_HEADERS.</p>\n<p>Then, in turn, the collector can forward traces to your Jaeger instance</p>\n"}],"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659115069,"creation_date":1644142836,"question_id":71006161,"body_markdown":"I have a problem with jaeger exporter, I have been looking for a solution for a long time and I understand that the solution is either not there or it has not been done yet.\r\n\r\n**Is this at all possible to solve somehow?\r\nHow to add header to jaeger exporter?**\r\n\r\nI am using javaagent and jaeger exporter. I want to add a header to the grpc request.\r\n\r\nThe documentation states that I can only configure 3 environment variables for the jaeger exporter.\r\nhttps://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#jaeger-exporter\r\n\r\nI can insert headers only if I use OTEL exporter(OTEL_EXPORTER_OTLP_HEADERS).\r\n\r\nAccordingly, jaeger exporter ignores this variable. -&gt; OTEL_EXPORTER_OTLP_HEADERS\r\n\r\nThanks.","title":"Opentelemetry: javaagent jaeger exporter - add header","body":"<p>I have a problem with jaeger exporter, I have been looking for a solution for a long time and I understand that the solution is either not there or it has not been done yet.</p>\n<p><strong>Is this at all possible to solve somehow?\nHow to add header to jaeger exporter?</strong></p>\n<p>I am using javaagent and jaeger exporter. I want to add a header to the grpc request.</p>\n<p>The documentation states that I can only configure 3 environment variables for the jaeger exporter.\n<a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#jaeger-exporter\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#jaeger-exporter</a></p>\n<p>I can insert headers only if I use OTEL exporter(OTEL_EXPORTER_OTLP_HEADERS).</p>\n<p>Accordingly, jaeger exporter ignores this variable. -&gt; OTEL_EXPORTER_OTLP_HEADERS</p>\n<p>Thanks.</p>\n"},{"tags":["java","oop","templates","javafx","design-patterns"],"comments":[{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":3,"creation_date":1659051343,"post_id":73159392,"comment_id":129209931,"body_markdown":"`Number` is the superclass of both `Integer` and `Double`, using `&lt;Number&gt;` should work for both.","body":"<code>Number</code> is the superclass of both <code>Integer</code> and <code>Double</code>, using <code>&lt;Number&gt;</code> should work for both."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659054248,"post_id":73159392,"comment_id":129210272,"body_markdown":"`&lt;Integer&gt;` and `&lt;Double&gt;` here are not strings. It’s not really clear what you’re asking. Why do you want to “get rid of them”?","body":"<code>&lt;Integer&gt;</code> and <code>&lt;Double&gt;</code> here are not strings. It’s not really clear what you’re asking. Why do you want to “get rid of them”?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659065672,"post_id":73159392,"comment_id":129211735,"body_markdown":"The type parameters are optional, you can write: `ColorMap cm = new DiscreteColorMap();`. This uses what is termed a “raw type”. But you lose specific type info, so it is not recommended to use raw types. IDEs will highlight them and recommend adding the type parameter back again.","body":"The type parameters are optional, you can write: <code>ColorMap cm = new DiscreteColorMap();</code>. This uses what is termed a “raw type”. But you lose specific type info, so it is not recommended to use raw types. IDEs will highlight them and recommend adding the type parameter back again."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1659071807,"post_id":73159392,"comment_id":129212570,"body_markdown":"You have two classes that use different types. You want to abstract those classes as a common base class. This is exactly the situation that generics is for. Why do you want to get rid of the type arguments (the `&lt;Integer&gt;` and `&lt;Double&gt;` bits)? What would you like instead?","body":"You have two classes that use different types. You want to abstract those classes as a common base class. This is exactly the situation that generics is for. Why do you want to get rid of the type arguments (the <code>&lt;Integer&gt;</code> and <code>&lt;Double&gt;</code> bits)? What would you like instead?"},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1659080079,"post_id":73159392,"comment_id":129214507,"body_markdown":"@SephB Could there be a problem if we use `Number` instead of a template? With this solution we could instantiate a `DiscreteColorMap` using `double` or `long`, and I want to work with `int` exclusively","body":"@SephB Could there be a problem if we use <code>Number</code> instead of a template? With this solution we could instantiate a <code>DiscreteColorMap</code> using <code>double</code> or <code>long</code>, and I want to work with <code>int</code> exclusively"},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1659080461,"post_id":73159392,"comment_id":129214612,"body_markdown":"@James_D I&#39;m pointing out the syntax problem for my instruction : `ColorMap&lt;Integer&gt; cm = new DiscreteColorMap();`. I want my line of code to be as short as possible, which is why I don&#39;t talk about templates but simply the words in the line.","body":"@James_D I&#39;m pointing out the syntax problem for my instruction : <code>ColorMap&lt;Integer&gt; cm = new DiscreteColorMap();</code>. I want my line of code to be as short as possible, which is why I don&#39;t talk about templates but simply the words in the line."},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1659081034,"post_id":73159392,"comment_id":129214803,"body_markdown":"@jewelsea Could it create runtime errors or something like this if we don&#39;t explicit the type?","body":"@jewelsea Could it create runtime errors or something like this if we don&#39;t explicit the type?"},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1659081209,"post_id":73159392,"comment_id":129214870,"body_markdown":"@Slaw I thought I could &quot;hide&quot; `Integer` and `Double` from the lines of code to avoid redundancy with the class names (`Discrete` and `Continuous`).","body":"@Slaw I thought I could &quot;hide&quot; <code>Integer</code> and <code>Double</code> from the lines of code to avoid redundancy with the class names (<code>Discrete</code> and <code>Continuous</code>)."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659084705,"post_id":73159392,"comment_id":129216104,"body_markdown":"you seem to be looking for something like an &quot;inverse diamond operator&quot; - that is having a field typed super (which has a type parameter) infer its actual type from a sub (which has a fixed type) .. as far as I know, that&#39;s not supported. Could you side-step by using var?","body":"you seem to be looking for something like an &quot;inverse diamond operator&quot; - that is having a field typed super (which has a type parameter) infer its actual type from a sub (which has a fixed type) .. as far as I know, that&#39;s not supported. Could you side-step by using var?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1659085021,"post_id":73159392,"comment_id":129216201,"body_markdown":"As noted, if `ColorMap` is generic, then omitting the `&lt;Integer&gt;` (or similar) makes it a raw type, and you should avoid raw types at all costs. So, if you&#39;re using `ColorMap&lt;Integer&gt;` as a _field_, then I don&#39;t see any way to legitimately omit the type argument. A _local variable_, however, could use `var pallet = new DiscreteColorMap();` (though note that makes the type of `pallet` the subtype `DiscreteColorMap`, instead of the base type `ColorMap`).","body":"As noted, if <code>ColorMap</code> is generic, then omitting the <code>&lt;Integer&gt;</code> (or similar) makes it a raw type, and you should avoid raw types at all costs. So, if you&#39;re using <code>ColorMap&lt;Integer&gt;</code> as a <i>field</i>, then I don&#39;t see any way to legitimately omit the type argument. A <i>local variable</i>, however, could use <code>var pallet = new DiscreteColorMap();</code> (though note that makes the type of <code>pallet</code> the subtype <code>DiscreteColorMap</code>, instead of the base type <code>ColorMap</code>)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1659088653,"post_id":73159392,"comment_id":129217503,"body_markdown":"&quot;Could it create runtime errors or something like this if we don&#39;t explicit the type?&quot; -&gt; Declaring a raw type does not create a runtime error, but it allows later runtime errors that would otherwise be caught at compile time. `ColorMap cm = new DiscreteColorMap(); cm.delete(2.0);` will not be flagged as a compile error like it would if the definition was `ColorMap&lt;Integer&gt;`.  Generally, catching such errors at compile time is preferred, hence raw types are not recommended.  Note the var case is different as it infers type information rather than omitting it.","body":"&quot;Could it create runtime errors or something like this if we don&#39;t explicit the type?&quot; -&gt; Declaring a raw type does not create a runtime error, but it allows later runtime errors that would otherwise be caught at compile time. <code>ColorMap cm = new DiscreteColorMap(); cm.delete(2.0);</code> will not be flagged as a compile error like it would if the definition was <code>ColorMap&lt;Integer&gt;</code>.  Generally, catching such errors at compile time is preferred, hence raw types are not recommended.  Note the var case is different as it infers type information rather than omitting it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659095020,"post_id":73159392,"comment_id":129219706,"body_markdown":"I’m assuming what you’re asking here is how to assign objects of type `DiscreteColorMap` and `ContinuousColorMap` to references of the same type (in a non-trivial way). It also depends why you want to do that.","body":"I’m assuming what you’re asking here is how to assign objects of type <code>DiscreteColorMap</code> and <code>ContinuousColorMap</code> to references of the same type (in a non-trivial way). It also depends why you want to do that."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659110117,"post_id":73159392,"comment_id":129222803,"body_markdown":"@SephB Note that while `Integer` is a subclass of `Number`, `ColorMap&lt;Integer&gt;` is not a subclass of `ColorMap&lt;Number&gt;` (which makes sense if you think about it in the right way). So you can&#39;t do `ColorMap&lt;Number&gt; palette = new DiscreteColorMap();`. You have to do `ColorMap&lt;? extends Number&gt; palette = new DiscreteColorMap();`, which limits what you can then do with `palette`.","body":"@SephB Note that while <code>Integer</code> is a subclass of <code>Number</code>, <code>ColorMap&lt;Integer&gt;</code> is not a subclass of <code>ColorMap&lt;Number&gt;</code> (which makes sense if you think about it in the right way). So you can&#39;t do <code>ColorMap&lt;Number&gt; palette = new DiscreteColorMap();</code>. You have to do <code>ColorMap&lt;? extends Number&gt; palette = new DiscreteColorMap();</code>, which limits what you can then do with <code>palette</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1659110162,"post_id":73159392,"comment_id":129222817,"body_markdown":"You can assign both of these to references of type `ColorMap&lt;?&gt;` or `ColorMap&lt;? extends Number&gt;`, which may or may not be what you&#39;re looking for.","body":"You can assign both of these to references of type <code>ColorMap&lt;?&gt;</code> or <code>ColorMap&lt;? extends Number&gt;</code>, which may or may not be what you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1659089472,"creation_date":1659070893,"answer_id":73161843,"question_id":73159392,"body_markdown":"If you want to get rid of variable type declaration, then you use `var`:\r\n\r\n    var palette1 = new DiscreteColorMap();\r\n    var palette2 = new ContinuousColorMap();\r\n\r\n[As openjdk says:][1]\r\n\r\n&gt; The role of var in a local variable declaration is to stand in for the\r\n&gt; type, so that the name and initializer stand out: `var person = new\r\n&gt; Person();` The compiler infers the type of the local variable from the\r\n&gt; initializer. This is especially worthwhile if the type is\r\n&gt; parameterized with wildcards, or if the type is mentioned in the\r\n&gt; initializer. Using var can make code more concise without sacrificing\r\n&gt; readability, and in some cases it can improve readability by removing\r\n&gt; redundancy.\r\n\r\n**UPDATE:**\r\n\r\nSpecial thanks to [jewelsea][2] and [Slaw][3]:\r\n\r\n- `var` cannot be used for field declarations \r\n- `var` will infer a type of the subclass, not the superclass. \r\n\r\n\r\n  [1]: https://openjdk.org/projects/amber/guides/lvti-faq\r\n  [2]: https://stackoverflow.com/users/1155209/jewelsea\r\n  [3]: https://stackoverflow.com/users/6395627/slaw","title":"Reuniting similar classes with different templates","body":"<p>If you want to get rid of variable type declaration, then you use <code>var</code>:</p>\n<pre><code>var palette1 = new DiscreteColorMap();\nvar palette2 = new ContinuousColorMap();\n</code></pre>\n<p><a href=\"https://openjdk.org/projects/amber/guides/lvti-faq\" rel=\"nofollow noreferrer\">As openjdk says:</a></p>\n<blockquote>\n<p>The role of var in a local variable declaration is to stand in for the\ntype, so that the name and initializer stand out: <code>var person = new Person();</code> The compiler infers the type of the local variable from the\ninitializer. This is especially worthwhile if the type is\nparameterized with wildcards, or if the type is mentioned in the\ninitializer. Using var can make code more concise without sacrificing\nreadability, and in some cases it can improve readability by removing\nredundancy.</p>\n</blockquote>\n<p><strong>UPDATE:</strong></p>\n<p>Special thanks to <a href=\"https://stackoverflow.com/users/1155209/jewelsea\">jewelsea</a> and <a href=\"https://stackoverflow.com/users/6395627/slaw\">Slaw</a>:</p>\n<ul>\n<li><code>var</code> cannot be used for field declarations</li>\n<li><code>var</code> will infer a type of the subclass, not the superclass.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1659114957,"creation_date":1659103948,"answer_id":73167793,"question_id":73159392,"body_markdown":"TL/DR:\r\n\r\nThere are three ways to remove the type parameters from the type of the reference variable:\r\n\r\n1. Use `var`. This is simply a syntactic shorthand, and `var palette = new DiscreteColorMap();` is identical at both runtime and compile time to `DiscreteColorMap palette = new DiscreteColorMap();`. This is covered in another answer.\r\n2. Use wildcards: `ColorMap&lt;?&gt; palette = new DiscreteColorMap();`. This tells the compiler to &quot;forget&quot; the type being used as the parametrized type. This means you won&#39;t be able to invoke any methods expecting parameters of type `T`, because the compiler can&#39;t check the type is correct. This is covered in detail below.\r\n3. **(Don&#39;t do this.)** Use raw types: `ColorMap palette = new DiscreteColorMap();`. This tells the compiler to *ignore* the types of the parameters (it effectively treats `T` as `Object`). Any errors because of incompatible types are thrown at runtime and not caught at compile time, and for this reason this approach is strongly not recommended.\r\n\r\n---\r\n\r\nThe rest of this answer describes in detail the second option, using wildcards.\r\n\r\n---\r\n\r\n\r\n\r\nThe purpose of Java generics is to allow the flexibility to create classes which can work with any type of object (or a specific &quot;range&quot; of types of object), while preserving the ability of the compiler to perform compile-time type checking. The canonical example of this is the Collections API that is part of the `java.util` package.\r\n\r\nIn your case, you&#39;ve defined a `ColorMap` interface which is generic, and I&#39;m guessing from the name of the interface that you are mapping values of the parametrized type `T` to colors. So you probably have something like this:\r\n\r\n    public interface ColorMap&lt;T&gt; {\r\n        public Color get(T value);\r\n    }\r\n\r\nAnd then some implementations. I&#39;m going to use very basic implementations which are not production-level, just to demonstrate the idea. There is one for values of `Integer` type:\r\n\r\n    public class DiscreteColorMap implements ColorMap&lt;Integer&gt; {\r\n    \r\n        private final Color[] colors ;\r\n    \r\n        public DiscreteColorMap(Color... colors) {\r\n            this.colors = colors ;\r\n        }\r\n    \r\n        @Override\r\n        public Color get(Integer value) {\r\n            return colors[value];\r\n        }\r\n    }\r\n\r\nand one of type `Double`:\r\n\r\n    public class ContinuousColorMap implements ColorMap&lt;Double&gt; {\r\n\r\n        private final Color start ;\r\n        private final Color end ;\r\n\r\n        public ContinuousColorMap(Color start, Color end) {\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n\r\n        @Override\r\n        public Color get(Double value) {\r\n            return start.interpolate(end, value);\r\n        }\r\n    }\r\n\r\nNote that *as far as the compiler is concerned*, `ColorMap&lt;Integer&gt;` and `ColorMap&lt;Double&gt;` are distinct types.\r\n\r\nAs far as I can tell, your question seems to be &quot;Can I create a `DiscreteColorMap` and `ContinuousColorMap` and assign them to references of the same type&quot;. The answer is &quot;yes&quot;, and you can do this in a non-trivial way (i.e. not just assigning them to `Object` references) using wildcards:\r\n\r\n    ColorMap&lt;?&gt; cm1 = new DiscreteColorMap(Color.RED, Color.GREEN, Color.BLUE);\r\n    ColorMap&lt;?&gt; cm2 = new ContinuousColorMap(Color.RED, Color.BLUE);\r\n\r\nThe reference type `ColorMap&lt;?&gt;` can be thought of as &quot;A `ColorMap` of some specific, but unknown, type&quot;. (I think of `ColorMap&lt;Integer&gt;` as &quot;A `ColorMap` of type `Integer`&quot;, etc.)\r\n\r\nYou can also use *bounded* wild cards. Since both `Integer` and `Double` are subclasses of `Number`, you can specify that in the types:\r\n\r\n    ColorMap&lt;? extends Number&gt; cm1 = new DiscreteColorMap(Color.RED, Color.GREEN, Color.BLUE);\r\n    ColorMap&lt;? extends Number&gt; cm2 = new ContinuousColorMap(Color.RED, Color.BLUE);\r\n\r\nThe way to think of `ColorMap&lt;? extends Number&gt;` is &quot;A `ColorMap` of some specific type that is `Number` or a subclass of `Number`&quot;. Here `Number` is an *upper bound* for the parametrized type.\r\n\r\nWith the current interface and class definitions you have, this is the most specific way to &quot;unite&quot; the types of the two different color maps: they are both `ColorMap`s of some type that is a subclass of `Number`.\r\n\r\nWhether or not any of this is useful depends on what you want to do with the `ColorMap`s. You can certainly do\r\n\r\n    List&lt;ColorMap&lt;? extends Number&gt;&gt; colorMaps = List.of(cm1, cm2);\r\n\r\nThe problem here is that the only method you have in `ColorMap` *consumes* values of the parametrized type (i.e. the `get(...)` method expects a parameter of type `T`). Since the actual type for each `ColorMap` in our list is unknown (we only know it is some *specific* subclass of `Number`), the compiler cannot infer that we are passing the correct value to any given instance of a `ColorMap&lt;? extends Number&gt;`. One of our instances specifically needs to be passed an `Integer`, the other specifically needs to be passed a `Double`. Since there&#39;s no value that can be both of these things, we can&#39;t write any code like:\r\n\r\n    Number value = 1;\r\n    for (ColorMap&lt;? extends Number&gt; cm : colorMaps) {\r\n        // this won&#39;t compile, because cm expects some specific type of Number:\r\n        Color c = cm.get(value);\r\n    }\r\n\r\nThis next part is a little artificial in this case, but if `ColorMap` had a method that *produced* (i.e. returns) values of type `T`, then this list might be useful. It&#39;s not clear how you would implement this, but if you added a method to the interface:\r\n\r\n    public interface ColorMap&lt;T&gt; {\r\n        public Color get(T value);\r\n        public T getValue(Color c);\r\n    }\r\n\r\nThen you could do:\r\n\r\n    List&lt;ColorMap&lt;? extends Number&gt;&gt; colorMaps = List.of(cm1, cm2);\r\n    Color c = Color.BLUE;\r\n    for (ColorMap&lt;? extends Number&gt; cm : colorMaps) {\r\n        Number value = cm.getValue(c);\r\n    }\r\n\r\nThis will compile. The complier is assured that each `ColorMap` in our list has a specific value of `T` that is `Number` or a subclass of `Number`. Therefore each `getValue()` method returns some kind of `Number`, and the assignment `Number value = cm.getValue(c);` is guaranteed to succeed.\r\n\r\nIf you change the definition of `ContinuousColorMap` a little, then there may be a nice way to use a common type without the artificial `getValue()` method:\r\n\r\n    public interface ColorMap&lt;T&gt; {\r\n        public Color get(T value);\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    public class DiscreteColorMap implements ColorMap&lt;Integer&gt; {\r\n    \r\n        private final Color[] colors ;\r\n    \r\n        public DiscreteColorMap(Color... colors) {\r\n            this.colors = colors ;\r\n        }\r\n    \r\n        @Override\r\n        public Color get(Integer value) {\r\n            return colors[value];\r\n        }\r\n    }\r\n\r\nThis time, make `ContinuousColorMap` a `ColorMap&lt;Number&gt;`:\r\n\r\n    public class ContinuousColorMap implements ColorMap&lt;Number&gt; {\r\n\r\n        private final Color start ;\r\n        private final Color end ;\r\n\r\n        public ContinuousColorMap(Color start, Color end) {\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n\r\n        @Override\r\n        public Color get(Number value) {\r\n            return start.interpolate(end, value.doubleValue());\r\n        }\r\n    }\r\n\r\nNow we can do\r\n\r\n    ColorMap&lt;? super Integer&gt; cm1 = new DiscreteColorMap(Color.RED, Color.GREEN, Color.BLUE);\r\n    ColorMap&lt;? super Integer&gt; cm2 = new ContinuousColorMap(Color.RED, Color.BLUE);\r\n    List&lt;ColorMap&lt;? super Integer&gt;&gt; colorMaps = List.of(cm1, cm2);\r\n\r\nHere `Integer` is a *lower bound* for the parametrized type, and we can interpret `ColorMap&lt;? super Integer&gt;` as &quot;A `ColorMap` of some specific type which is an `Integer` or a superclass of `Integer`&quot;. Since `Number` is a superclass of integer, the assignment for `cm2` compiles.\r\n\r\nFor every element in the list, the `get(...)` method expects some specific type, but we know that specific type must be either an `Integer` or a superclass of `Integer`. So if we pass in an `Integer`, that call is guaranteed to succeed. Consequently, we can do \r\n\r\n    Integer value = 1;\r\n    for (ColorMap&lt;? super Integer&gt; cm : colorMaps) {\r\n        // this line will compile and retrieve the correct color when executed:\r\n        Color c = cm.get(value);\r\n    }\r\n\r\n---\r\n\r\nThis is probably now way beyond the scope of the question, but if you want you can even write a class that keeps track of `ColorMap` instances according to their type, and given a `Number` will return a color from the color map for the specific type of number provided. To do this, you use the `Class&lt;T&gt;` class as a &quot;type token&quot;:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public class ColorMaps {\r\n    \r\n        private final Map&lt;Class&lt;? extends Number&gt;, ColorMap&lt;? extends Number&gt;&gt; colorMaps = new HashMap&lt;&gt;();\r\n    \r\n        public &lt;N extends Number&gt; void registerColorMap(Class&lt;N&gt; type, ColorMap&lt;N&gt; map) {\r\n            colorMaps.put(type, map);\r\n        }\r\n    \r\n        public &lt;N extends Number&gt; ColorMap&lt;N&gt; getColorMap(Class&lt;N&gt; type) {\r\n            return (ColorMap&lt;N&gt;) colorMaps.get(type);\r\n        }\r\n    \r\n        public &lt;N extends Number&gt; Color getColor(N n) {\r\n            Class&lt;N&gt; type = (Class&lt;N&gt;) n.getClass();\r\n            return getColorMap(type).get(n);\r\n        }\r\n    }\r\n\r\nAnd then you can do fun things like:\r\n\r\n    ColorMaps colorMaps = new ColorMaps();\r\n    colorMaps.registerColorMap(Integer.class, \r\n        new DiscreteColorMap(Color.RED, Color.GREEN, Color.BLUE));\r\n    colorMaps.registerColorMap(Double.class,\r\n        new ContinuousColorMap(Color.RED, Color.BLUE));\r\n    \r\n    List&lt;Number&gt; numbers = List.of(0, 0.5, 1, 1.0, 2);\r\n    for (Number n : numbers) {\r\n        System.out.println(n.getClass());\r\n        System.out.println(colorMaps.getColor(n));\r\n    }\r\n\r\nThis code will use the `DiscreteColorMap` to map the integers in the list (`0`, `1`, and `2`), and the `ContinuousColorMap` to map the doubles in the list (`0.5` and `1.0`).","title":"Reuniting similar classes with different templates","body":"<p>TL/DR:</p>\n<p>There are three ways to remove the type parameters from the type of the reference variable:</p>\n<ol>\n<li>Use <code>var</code>. This is simply a syntactic shorthand, and <code>var palette = new DiscreteColorMap();</code> is identical at both runtime and compile time to <code>DiscreteColorMap palette = new DiscreteColorMap();</code>. This is covered in another answer.</li>\n<li>Use wildcards: <code>ColorMap&lt;?&gt; palette = new DiscreteColorMap();</code>. This tells the compiler to &quot;forget&quot; the type being used as the parametrized type. This means you won't be able to invoke any methods expecting parameters of type <code>T</code>, because the compiler can't check the type is correct. This is covered in detail below.</li>\n<li><strong>(Don't do this.)</strong> Use raw types: <code>ColorMap palette = new DiscreteColorMap();</code>. This tells the compiler to <em>ignore</em> the types of the parameters (it effectively treats <code>T</code> as <code>Object</code>). Any errors because of incompatible types are thrown at runtime and not caught at compile time, and for this reason this approach is strongly not recommended.</li>\n</ol>\n<hr />\n<p>The rest of this answer describes in detail the second option, using wildcards.</p>\n<hr />\n<p>The purpose of Java generics is to allow the flexibility to create classes which can work with any type of object (or a specific &quot;range&quot; of types of object), while preserving the ability of the compiler to perform compile-time type checking. The canonical example of this is the Collections API that is part of the <code>java.util</code> package.</p>\n<p>In your case, you've defined a <code>ColorMap</code> interface which is generic, and I'm guessing from the name of the interface that you are mapping values of the parametrized type <code>T</code> to colors. So you probably have something like this:</p>\n<pre><code>public interface ColorMap&lt;T&gt; {\n    public Color get(T value);\n}\n</code></pre>\n<p>And then some implementations. I'm going to use very basic implementations which are not production-level, just to demonstrate the idea. There is one for values of <code>Integer</code> type:</p>\n<pre><code>public class DiscreteColorMap implements ColorMap&lt;Integer&gt; {\n\n    private final Color[] colors ;\n\n    public DiscreteColorMap(Color... colors) {\n        this.colors = colors ;\n    }\n\n    @Override\n    public Color get(Integer value) {\n        return colors[value];\n    }\n}\n</code></pre>\n<p>and one of type <code>Double</code>:</p>\n<pre><code>public class ContinuousColorMap implements ColorMap&lt;Double&gt; {\n\n    private final Color start ;\n    private final Color end ;\n\n    public ContinuousColorMap(Color start, Color end) {\n        this.start = start;\n        this.end = end;\n    }\n\n    @Override\n    public Color get(Double value) {\n        return start.interpolate(end, value);\n    }\n}\n</code></pre>\n<p>Note that <em>as far as the compiler is concerned</em>, <code>ColorMap&lt;Integer&gt;</code> and <code>ColorMap&lt;Double&gt;</code> are distinct types.</p>\n<p>As far as I can tell, your question seems to be &quot;Can I create a <code>DiscreteColorMap</code> and <code>ContinuousColorMap</code> and assign them to references of the same type&quot;. The answer is &quot;yes&quot;, and you can do this in a non-trivial way (i.e. not just assigning them to <code>Object</code> references) using wildcards:</p>\n<pre><code>ColorMap&lt;?&gt; cm1 = new DiscreteColorMap(Color.RED, Color.GREEN, Color.BLUE);\nColorMap&lt;?&gt; cm2 = new ContinuousColorMap(Color.RED, Color.BLUE);\n</code></pre>\n<p>The reference type <code>ColorMap&lt;?&gt;</code> can be thought of as &quot;A <code>ColorMap</code> of some specific, but unknown, type&quot;. (I think of <code>ColorMap&lt;Integer&gt;</code> as &quot;A <code>ColorMap</code> of type <code>Integer</code>&quot;, etc.)</p>\n<p>You can also use <em>bounded</em> wild cards. Since both <code>Integer</code> and <code>Double</code> are subclasses of <code>Number</code>, you can specify that in the types:</p>\n<pre><code>ColorMap&lt;? extends Number&gt; cm1 = new DiscreteColorMap(Color.RED, Color.GREEN, Color.BLUE);\nColorMap&lt;? extends Number&gt; cm2 = new ContinuousColorMap(Color.RED, Color.BLUE);\n</code></pre>\n<p>The way to think of <code>ColorMap&lt;? extends Number&gt;</code> is &quot;A <code>ColorMap</code> of some specific type that is <code>Number</code> or a subclass of <code>Number</code>&quot;. Here <code>Number</code> is an <em>upper bound</em> for the parametrized type.</p>\n<p>With the current interface and class definitions you have, this is the most specific way to &quot;unite&quot; the types of the two different color maps: they are both <code>ColorMap</code>s of some type that is a subclass of <code>Number</code>.</p>\n<p>Whether or not any of this is useful depends on what you want to do with the <code>ColorMap</code>s. You can certainly do</p>\n<pre><code>List&lt;ColorMap&lt;? extends Number&gt;&gt; colorMaps = List.of(cm1, cm2);\n</code></pre>\n<p>The problem here is that the only method you have in <code>ColorMap</code> <em>consumes</em> values of the parametrized type (i.e. the <code>get(...)</code> method expects a parameter of type <code>T</code>). Since the actual type for each <code>ColorMap</code> in our list is unknown (we only know it is some <em>specific</em> subclass of <code>Number</code>), the compiler cannot infer that we are passing the correct value to any given instance of a <code>ColorMap&lt;? extends Number&gt;</code>. One of our instances specifically needs to be passed an <code>Integer</code>, the other specifically needs to be passed a <code>Double</code>. Since there's no value that can be both of these things, we can't write any code like:</p>\n<pre><code>Number value = 1;\nfor (ColorMap&lt;? extends Number&gt; cm : colorMaps) {\n    // this won't compile, because cm expects some specific type of Number:\n    Color c = cm.get(value);\n}\n</code></pre>\n<p>This next part is a little artificial in this case, but if <code>ColorMap</code> had a method that <em>produced</em> (i.e. returns) values of type <code>T</code>, then this list might be useful. It's not clear how you would implement this, but if you added a method to the interface:</p>\n<pre><code>public interface ColorMap&lt;T&gt; {\n    public Color get(T value);\n    public T getValue(Color c);\n}\n</code></pre>\n<p>Then you could do:</p>\n<pre><code>List&lt;ColorMap&lt;? extends Number&gt;&gt; colorMaps = List.of(cm1, cm2);\nColor c = Color.BLUE;\nfor (ColorMap&lt;? extends Number&gt; cm : colorMaps) {\n    Number value = cm.getValue(c);\n}\n</code></pre>\n<p>This will compile. The complier is assured that each <code>ColorMap</code> in our list has a specific value of <code>T</code> that is <code>Number</code> or a subclass of <code>Number</code>. Therefore each <code>getValue()</code> method returns some kind of <code>Number</code>, and the assignment <code>Number value = cm.getValue(c);</code> is guaranteed to succeed.</p>\n<p>If you change the definition of <code>ContinuousColorMap</code> a little, then there may be a nice way to use a common type without the artificial <code>getValue()</code> method:</p>\n<pre><code>public interface ColorMap&lt;T&gt; {\n    public Color get(T value);\n}\n</code></pre>\n\n<pre><code>public class DiscreteColorMap implements ColorMap&lt;Integer&gt; {\n\n    private final Color[] colors ;\n\n    public DiscreteColorMap(Color... colors) {\n        this.colors = colors ;\n    }\n\n    @Override\n    public Color get(Integer value) {\n        return colors[value];\n    }\n}\n</code></pre>\n<p>This time, make <code>ContinuousColorMap</code> a <code>ColorMap&lt;Number&gt;</code>:</p>\n<pre><code>public class ContinuousColorMap implements ColorMap&lt;Number&gt; {\n\n    private final Color start ;\n    private final Color end ;\n\n    public ContinuousColorMap(Color start, Color end) {\n        this.start = start;\n        this.end = end;\n    }\n\n    @Override\n    public Color get(Number value) {\n        return start.interpolate(end, value.doubleValue());\n    }\n}\n</code></pre>\n<p>Now we can do</p>\n<pre><code>ColorMap&lt;? super Integer&gt; cm1 = new DiscreteColorMap(Color.RED, Color.GREEN, Color.BLUE);\nColorMap&lt;? super Integer&gt; cm2 = new ContinuousColorMap(Color.RED, Color.BLUE);\nList&lt;ColorMap&lt;? super Integer&gt;&gt; colorMaps = List.of(cm1, cm2);\n</code></pre>\n<p>Here <code>Integer</code> is a <em>lower bound</em> for the parametrized type, and we can interpret <code>ColorMap&lt;? super Integer&gt;</code> as &quot;A <code>ColorMap</code> of some specific type which is an <code>Integer</code> or a superclass of <code>Integer</code>&quot;. Since <code>Number</code> is a superclass of integer, the assignment for <code>cm2</code> compiles.</p>\n<p>For every element in the list, the <code>get(...)</code> method expects some specific type, but we know that specific type must be either an <code>Integer</code> or a superclass of <code>Integer</code>. So if we pass in an <code>Integer</code>, that call is guaranteed to succeed. Consequently, we can do</p>\n<pre><code>Integer value = 1;\nfor (ColorMap&lt;? super Integer&gt; cm : colorMaps) {\n    // this line will compile and retrieve the correct color when executed:\n    Color c = cm.get(value);\n}\n</code></pre>\n<hr />\n<p>This is probably now way beyond the scope of the question, but if you want you can even write a class that keeps track of <code>ColorMap</code> instances according to their type, and given a <code>Number</code> will return a color from the color map for the specific type of number provided. To do this, you use the <code>Class&lt;T&gt;</code> class as a &quot;type token&quot;:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic class ColorMaps {\n\n    private final Map&lt;Class&lt;? extends Number&gt;, ColorMap&lt;? extends Number&gt;&gt; colorMaps = new HashMap&lt;&gt;();\n\n    public &lt;N extends Number&gt; void registerColorMap(Class&lt;N&gt; type, ColorMap&lt;N&gt; map) {\n        colorMaps.put(type, map);\n    }\n\n    public &lt;N extends Number&gt; ColorMap&lt;N&gt; getColorMap(Class&lt;N&gt; type) {\n        return (ColorMap&lt;N&gt;) colorMaps.get(type);\n    }\n\n    public &lt;N extends Number&gt; Color getColor(N n) {\n        Class&lt;N&gt; type = (Class&lt;N&gt;) n.getClass();\n        return getColorMap(type).get(n);\n    }\n}\n</code></pre>\n<p>And then you can do fun things like:</p>\n<pre><code>ColorMaps colorMaps = new ColorMaps();\ncolorMaps.registerColorMap(Integer.class, \n    new DiscreteColorMap(Color.RED, Color.GREEN, Color.BLUE));\ncolorMaps.registerColorMap(Double.class,\n    new ContinuousColorMap(Color.RED, Color.BLUE));\n\nList&lt;Number&gt; numbers = List.of(0, 0.5, 1, 1.0, 2);\nfor (Number n : numbers) {\n    System.out.println(n.getClass());\n    System.out.println(colorMaps.getColor(n));\n}\n</code></pre>\n<p>This code will use the <code>DiscreteColorMap</code> to map the integers in the list (<code>0</code>, <code>1</code>, and <code>2</code>), and the <code>ContinuousColorMap</code> to map the doubles in the list (<code>0.5</code> and <code>1.0</code>).</p>\n"}],"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73167793,"answer_count":2,"score":2,"last_activity_date":1659114957,"creation_date":1659043840,"question_id":73159392,"body_markdown":"### Context ###\r\n\r\nI want to create color maps for my JavaFX application in order to display a grid with different colours according to their value. Two types are defined: `DiscreteColorMap` which uses *integer* keys and `ContinuousColorMap` with *double* keys. Both must implement the interface `ColorMap`, so that it can be called like that:\r\n\r\n    ColorMap palette1 = new DiscreteColorMap();\r\n    ColorMap palette2 = new ContinuousColorMap();\r\n\r\n### Problem ###\r\n\r\nAs both classes rely on the same interface, I specify a template (`public interface ColorMap&lt;T&gt;`) in order to adapt to each of them:\r\n\r\n    ColorMap&lt;Integer&gt; palette1 = new DiscreteColorMap();\r\n    ColorMap&lt;Double&gt; palette2 = new ContinuousColorMap();\r\n\r\nI want the simplest syntax for color maps so I need to get rid of the `&lt;Integer&gt;` and `&lt;Double&gt;` strings. What is the most elegant way to do that?\r\n\r\n### Source ###\r\n\r\nThe complete code can be found in this [GitHub project](https://github.com/MartiniDry/Mazette/tree/master/src/com/rosty/util/colormap).\r\n\r\n### EDIT ###\r\n\r\nMy English is not perfect ^^ I used &quot;to get rid of&quot; but this is not clear: when I instantiate my color maps, I want to make `&lt;Integer&gt;` and `&lt;Double&gt;` disappear, so I could write `ColorMap palette...` instead of `ColorMap&lt;Integer&gt; palette...`.","title":"Reuniting similar classes with different templates","body":"<h3>Context</h3>\n<p>I want to create color maps for my JavaFX application in order to display a grid with different colours according to their value. Two types are defined: <code>DiscreteColorMap</code> which uses <em>integer</em> keys and <code>ContinuousColorMap</code> with <em>double</em> keys. Both must implement the interface <code>ColorMap</code>, so that it can be called like that:</p>\n<pre><code>ColorMap palette1 = new DiscreteColorMap();\nColorMap palette2 = new ContinuousColorMap();\n</code></pre>\n<h3>Problem</h3>\n<p>As both classes rely on the same interface, I specify a template (<code>public interface ColorMap&lt;T&gt;</code>) in order to adapt to each of them:</p>\n<pre><code>ColorMap&lt;Integer&gt; palette1 = new DiscreteColorMap();\nColorMap&lt;Double&gt; palette2 = new ContinuousColorMap();\n</code></pre>\n<p>I want the simplest syntax for color maps so I need to get rid of the <code>&lt;Integer&gt;</code> and <code>&lt;Double&gt;</code> strings. What is the most elegant way to do that?</p>\n<h3>Source</h3>\n<p>The complete code can be found in this <a href=\"https://github.com/MartiniDry/Mazette/tree/master/src/com/rosty/util/colormap\" rel=\"nofollow noreferrer\">GitHub project</a>.</p>\n<h3>EDIT</h3>\n<p>My English is not perfect ^^ I used &quot;to get rid of&quot; but this is not clear: when I instantiate my color maps, I want to make <code>&lt;Integer&gt;</code> and <code>&lt;Double&gt;</code> disappear, so I could write <code>ColorMap palette...</code> instead of <code>ColorMap&lt;Integer&gt; palette...</code>.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","criteria"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1561023745,"post_id":56683103,"comment_id":99932047,"body_markdown":"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-java.lang.String-","body":"<a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/persistence/criteria/&hellip;</a>"},{"owner":{"account_id":7107308,"reputation":171,"user_id":5436541,"display_name":"Ray Lloy"},"score":1,"creation_date":1561023820,"post_id":56683103,"comment_id":99932080,"body_markdown":"[this](https://stackoverflow.com/questions/11328403/sql-like-operator-in-hibernate-criteria-api) is a similar question.","body":"<a href=\"https://stackoverflow.com/questions/11328403/sql-like-operator-in-hibernate-criteria-api\">this</a> is a similar question."},{"owner":{"account_id":1560847,"reputation":741,"user_id":1450740,"accept_rate":44,"display_name":"user1450740"},"score":0,"creation_date":1561024181,"post_id":56683103,"comment_id":99932286,"body_markdown":"Thanks @JBNizet I found the solution","body":"Thanks @JBNizet I found the solution"}],"answers":[{"tags":[],"owner":{"account_id":1560847,"reputation":741,"user_id":1450740,"accept_rate":44,"display_name":"user1450740"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561024219,"creation_date":1561024219,"answer_id":56683307,"question_id":56683103,"body_markdown":"i found solution with JB Nizet Help : \r\n\r\n            Join&lt;Referentiel, ReferentielDigital&gt; digital = root.join(&quot;digital&quot;);\r\n            Expression&lt;String&gt; exp1 = digital.get(&quot;libelleCommercial&quot;);\r\n\r\n            Predicate p1 = cb.like(exp1, &quot;%&quot; + criteria.getLibelle() + &quot;%&quot;);\r\n\r\n            Expression&lt;String&gt; exp2 = digital.get(&quot;descriptionCourte&quot;);\r\n            Predicate p2 = cb.like(exp2, &quot;%&quot; + criteria.getLibelle() + &quot;%&quot;);\r\n\r\n            Expression&lt;String&gt; exp3 = digital.get(&quot;descriptionLongue&quot;);\r\n            Predicate p3 = cb.like(exp3, &quot;%&quot; + criteria.getLibelle() + &quot;%&quot;);\r\n\r\n            predicates.add(cb.or(p1, p2, p3));","title":"JPA criteria like with OneToOne join","body":"<p>i found solution with JB Nizet Help : </p>\n\n<pre><code>        Join&lt;Referentiel, ReferentielDigital&gt; digital = root.join(\"digital\");\n        Expression&lt;String&gt; exp1 = digital.get(\"libelleCommercial\");\n\n        Predicate p1 = cb.like(exp1, \"%\" + criteria.getLibelle() + \"%\");\n\n        Expression&lt;String&gt; exp2 = digital.get(\"descriptionCourte\");\n        Predicate p2 = cb.like(exp2, \"%\" + criteria.getLibelle() + \"%\");\n\n        Expression&lt;String&gt; exp3 = digital.get(\"descriptionLongue\");\n        Predicate p3 = cb.like(exp3, \"%\" + criteria.getLibelle() + \"%\");\n\n        predicates.add(cb.or(p1, p2, p3));\n</code></pre>\n"}],"owner":{"account_id":1560847,"reputation":741,"user_id":1450740,"accept_rate":44,"display_name":"user1450740"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659114888,"creation_date":1561023489,"question_id":56683103,"body_markdown":"I need to search data which contain string parameter\r\n\r\nI have 2 entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;referentiel_digital&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class ReferentielDigital implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        @NotNull\r\n        @Size(max = 200)\r\n        @Column(name = &quot;libelle_commercial&quot;, length = 200, nullable = false)\r\n        private String libelleCommercial;\r\n\r\n        @Size(max = 1000)\r\n        @Column(name = &quot;description_courte&quot;, length = 1000)\r\n        private String descriptionCourte;\r\n\r\n        @Size(max = 1000)\r\n        @Column(name = &quot;description_longue&quot;, length = 1000)\r\n        private String descriptionLongue;\r\n\r\n        @OneToOne\r\n        @JoinColumn(unique = true)\r\n        private Referentiel reference;\r\n\r\nand \r\n\r\n    @Entity\r\n    @Table(name = &quot;referentiel&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class Referentiel implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        @NotNull\r\n        @Column(name = &quot;uuid&quot;, nullable = false)\r\n        private UUID uuid;\r\n\r\n        ....\r\n\r\n        @OneToOne(mappedBy = &quot;reference&quot;)\r\n        @JsonIgnoreProperties(&quot;referentiels&quot;)\r\n        private ReferentielDigital digital;\r\n\r\nI develop a search API, which uses JPA Criteria. It works very well with different fields, and join (ManyToOne), but in this case, I need to find Referentiel, which contains string in referentielDigital.descriptionLongue in example.\r\n\r\nI try this: \r\n\r\n            Join&lt;Referentiel, ReferentielDigital&gt; digital = root.join(&quot;digital&quot;);\r\n            Expression&lt;String&gt; exp1 = digital.get(&quot;libelleCommercial&quot;);\r\n\r\n\r\n            Predicate p1 = exp1.in(&quot;%&quot; + criteria.getLibelle() + &quot;%&quot;);\r\n\r\n            Expression&lt;String&gt; exp2 = digital.get(&quot;descriptionCourte&quot;);\r\n            Predicate p2 = exp1.in(&quot;%&quot; + criteria.getLibelle() + &quot;%&quot;);\r\n\r\n            Expression&lt;String&gt; exp3 = digital.get(&quot;descriptionLongue&quot;);\r\n            Predicate p3 = exp1.in(&quot;%&quot; + criteria.getLibelle() + &quot;%&quot;);\r\n\r\n            predicates.add(cb.or(p1, p2, p3));\r\n  \r\nIt does not work because request contains &quot;in&quot;, and I want to have &quot;like&quot; for obtain good result.\r\n\r\nWith Extension object, I have not &quot;like&quot; method.\r\n\r\nHow can I do like request with this join please?","title":"JPA criteria like with OneToOne join","body":"<p>I need to search data which contain string parameter</p>\n<p>I have 2 entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;referentiel_digital&quot;)\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class ReferentielDigital implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @Size(max = 200)\n    @Column(name = &quot;libelle_commercial&quot;, length = 200, nullable = false)\n    private String libelleCommercial;\n\n    @Size(max = 1000)\n    @Column(name = &quot;description_courte&quot;, length = 1000)\n    private String descriptionCourte;\n\n    @Size(max = 1000)\n    @Column(name = &quot;description_longue&quot;, length = 1000)\n    private String descriptionLongue;\n\n    @OneToOne\n    @JoinColumn(unique = true)\n    private Referentiel reference;\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Table(name = &quot;referentiel&quot;)\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class Referentiel implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;uuid&quot;, nullable = false)\n    private UUID uuid;\n\n    ....\n\n    @OneToOne(mappedBy = &quot;reference&quot;)\n    @JsonIgnoreProperties(&quot;referentiels&quot;)\n    private ReferentielDigital digital;\n</code></pre>\n<p>I develop a search API, which uses JPA Criteria. It works very well with different fields, and join (ManyToOne), but in this case, I need to find Referentiel, which contains string in referentielDigital.descriptionLongue in example.</p>\n<p>I try this:</p>\n<pre><code>        Join&lt;Referentiel, ReferentielDigital&gt; digital = root.join(&quot;digital&quot;);\n        Expression&lt;String&gt; exp1 = digital.get(&quot;libelleCommercial&quot;);\n\n\n        Predicate p1 = exp1.in(&quot;%&quot; + criteria.getLibelle() + &quot;%&quot;);\n\n        Expression&lt;String&gt; exp2 = digital.get(&quot;descriptionCourte&quot;);\n        Predicate p2 = exp1.in(&quot;%&quot; + criteria.getLibelle() + &quot;%&quot;);\n\n        Expression&lt;String&gt; exp3 = digital.get(&quot;descriptionLongue&quot;);\n        Predicate p3 = exp1.in(&quot;%&quot; + criteria.getLibelle() + &quot;%&quot;);\n\n        predicates.add(cb.or(p1, p2, p3));\n</code></pre>\n<p>It does not work because request contains &quot;in&quot;, and I want to have &quot;like&quot; for obtain good result.</p>\n<p>With Extension object, I have not &quot;like&quot; method.</p>\n<p>How can I do like request with this join please?</p>\n"},{"tags":["java","android","object","retrofit"],"comments":[{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1659114875,"post_id":73168869,"comment_id":129224293,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":24536581,"reputation":1,"user_id":18447590,"display_name":"LAZREQ"},"score":0,"creation_date":1659115532,"post_id":73168869,"comment_id":129224481,"body_markdown":"that&#39;s pretty much what I understood in my research, it confirms what I thought, thank you! But I have no idea to check if the value is null because it crashes before I put an &quot;if&quot;","body":"that&#39;s pretty much what I understood in my research, it confirms what I thought, thank you! But I have no idea to check if the value is null because it crashes before I put an &quot;if&quot;"},{"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"score":0,"creation_date":1659115711,"post_id":73168869,"comment_id":129224546,"body_markdown":"if(data != null &amp;&amp; data.getProductField != null)\n{\n//build content and update text view\n}\nelse\n{\ntextViewResult.append(&quot;Product not found&quot;);\n}","body":"if(data != null &amp;&amp; data.getProductField != null) { //build content and update text view } else { textViewResult.append(&quot;Product not found&quot;); }"},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1659115732,"post_id":73168869,"comment_id":129224555,"body_markdown":"based on the error message, the code crashes when calling `getBrand()`, which means `data.getProductField()` returns null. There are multiple ways of dealing with this (e.g., [guard clause](https://en.wikipedia.org/wiki/Guard_(computer_science))), but for example you could try with `if (data.getProductField() != null) { ... }`","body":"based on the error message, the code crashes when calling <code>getBrand()</code>, which means <code>data.getProductField()</code> returns null. There are multiple ways of dealing with this (e.g., <a href=\"https://en.wikipedia.org/wiki/Guard_(computer_science)\" rel=\"nofollow noreferrer\">guard clause</a>), but for example you could try with <code>if (data.getProductField() != null) { ... }</code>"},{"owner":{"account_id":24536581,"reputation":1,"user_id":18447590,"display_name":"LAZREQ"},"score":0,"creation_date":1659116947,"post_id":73168869,"comment_id":129224878,"body_markdown":"it works, you are bumps! That was it Jacques Henri &amp;&amp;\nuser2340612 Thanks a lot !","body":"it works, you are bumps! That was it Jacques Henri &amp;&amp; user2340612 Thanks a lot !"}],"owner":{"account_id":24536581,"reputation":1,"user_id":18447590,"display_name":"LAZREQ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1861,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659114810,"creation_date":1659114757,"question_id":73168869,"body_markdown":"Hey what&#39;s up guys i need your help! \r\n\r\nContext: I&#39;m developing an application that scans the barcode of products and retrieves the information. I am using Retrofit to communicate with an API. \r\n\r\nI have this :\r\n\r\n`E/an.fifthscanne: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.givaudan.fifthscanner, PID: 9635\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.givaudan.fifthscanner.http.Product.getBrand()&#39; on a null object reference\r\n        at com.givaudan.fifthscanner.form$2.onResponse(form.java:121)`\r\n\r\nThe problem comes from this line:\r\n\r\n    brand = data.getProductField().getBrand() + &quot;\\n&quot;;\r\n\r\nThis happens when I scan a product that does not exist in the database. This is where it crashes and I can&#39;t seem to do error handling. (if it&#39;s null...).\r\n\r\n(I saw that to answer this problem people say to initialize my Object but I use it in other ways than them and I can&#39;t implement it)\r\n\r\nCode:\r\n\r\npublic class form extends AppCompatActivity {\r\n\r\n    private TextView textViewResult;\r\n    private TextView success;\r\n\r\n    ProgressDialog progressDialog;\r\n    Button btnInsert;\r\n    String brand;\r\n    String barcode;\r\n    String line;\r\n    String packaging;\r\n    String countries;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_form);\r\n\r\n        textViewResult = findViewById(R.id.text_view_result);\r\n\r\n        btnInsert = findViewById(R.id.bt_send_excel);\r\n\r\n        //Set the &quot;Loading PopUp&quot;\r\n        progressDialog = new ProgressDialog(form.this);\r\n        progressDialog.setMessage(&quot;Loading ...&quot;);\r\n\r\n        btnInsert.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                addProductData(brand, barcode, line, packaging, countries);\r\n                progressDialog.show();\r\n            }\r\n        });\r\n\r\n        //retrieve value CODE_BARRE from MainActivity\r\n        String productCode = getIntent().getStringExtra(&quot;productId&quot;);\r\n\r\n        //=========================\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://world.openfoodfacts.org/api/v0/produit/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        RequestPlaceHolder requestPlaceHolder = retrofit.create(RequestPlaceHolder.class);\r\n\r\n        String url = &quot;https://world.openfoodfacts.org/api/v0/produit/&quot; +  productCode + &quot;.json&quot;;\r\n\r\n        Call&lt;Data&gt; call = requestPlaceHolder.getData(url);\r\n\r\n        call.enqueue(new Callback&lt;Data&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Data&gt; call, Response&lt;Data&gt; response) {\r\n\r\n                /*if (response.body() != null) {\r\n                    //textViewResult.setText(&quot;Code&quot; + response.code());\r\n                    textViewResult.setText(&quot;The product does not exist with this barcode,\\n&quot; +\r\n                            &quot;look for the barcode of the product on: \\n\\n&quot; +\r\n                            &quot;https://fr.openbeautyfacts.org/&quot;);\r\n                    return;\r\n                }*/\r\n\r\n                if (response.isSuccessful()) {\r\n                    //Retrieve data and display it\r\n\r\n                    Data data = response.body();\r\n\r\n                    barcode = productCode + &quot;\\n&quot;;\r\n                    brand = data.getProductField().getBrand() + &quot;\\n&quot;;\r\n                    line = data.getProductField().getLine() + &quot;\\n&quot;;\r\n                    packaging = data.getProductField().getPackaging() + &quot;\\n&quot;;\r\n                    countries = data.getProductField().getCountries() + &quot;\\n&quot;;\r\n                    String content = brand + &quot;\\n&quot; + barcode + &quot;\\n&quot; + line +\r\n                            &quot;\\n&quot; + packaging + &quot;\\n&quot; + countries;\r\n                    textViewResult.append(content);\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Data&gt; call, Throwable t) {\r\n                textViewResult.setText(t.getMessage());\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    //Add data to excel\r\n    public void addProductData(String brand, String barcode, String line, String packaging, String countries) {\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://script.google.com/macros/s/AKfycbwyXLOJEa_Bvgb4Ae-qqX5zWQO0E_MJcUPy7nJBft9MTq3BvCd6gcwy0_2MhGUDFZNo8w/exec&quot;, new com.android.volley.Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                Intent intent = new Intent(form.this, SuccessActivity.class);\r\n                startActivity(intent);\r\n                progressDialog.hide();\r\n\r\n            }\r\n        }, error -&gt; {\r\n\r\n        }) {\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;sbrand&quot;, brand);\r\n                params.put(&quot;sbarcode&quot;, barcode);\r\n                params.put(&quot;sline&quot;, line);\r\n                params.put(&quot;spackaging&quot;, packaging);\r\n                params.put(&quot;scountries&quot;, countries);\r\n\r\n                return params;\r\n            }\r\n        };\r\n\r\n        int socketTimeOut = 50000;\r\n        RetryPolicy retryPolicy = new DefaultRetryPolicy(socketTimeOut, 0, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT);\r\n        stringRequest.setRetryPolicy(retryPolicy);\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n        requestQueue.add(stringRequest);\r\n    }\r\n\r\n}\r\n\r\nthanks guys for your time :)\r\n\r\nYanis\r\n","title":"Android : Attempt to invoke virtual method &#39;&#39; on a null object reference","body":"<p>Hey what's up guys i need your help!</p>\n<p>Context: I'm developing an application that scans the barcode of products and retrieves the information. I am using Retrofit to communicate with an API.</p>\n<p>I have this :</p>\n<p><code>E/an.fifthscanne: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail. E/AndroidRuntime: FATAL EXCEPTION: main Process: com.givaudan.fifthscanner, PID: 9635 java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.givaudan.fifthscanner.http.Product.getBrand()' on a null object reference at com.givaudan.fifthscanner.form$2.onResponse(form.java:121)</code></p>\n<p>The problem comes from this line:</p>\n<pre><code>brand = data.getProductField().getBrand() + &quot;\\n&quot;;\n</code></pre>\n<p>This happens when I scan a product that does not exist in the database. This is where it crashes and I can't seem to do error handling. (if it's null...).</p>\n<p>(I saw that to answer this problem people say to initialize my Object but I use it in other ways than them and I can't implement it)</p>\n<p>Code:</p>\n<p>public class form extends AppCompatActivity {</p>\n<pre><code>private TextView textViewResult;\nprivate TextView success;\n\nProgressDialog progressDialog;\nButton btnInsert;\nString brand;\nString barcode;\nString line;\nString packaging;\nString countries;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_form);\n\n    textViewResult = findViewById(R.id.text_view_result);\n\n    btnInsert = findViewById(R.id.bt_send_excel);\n\n    //Set the &quot;Loading PopUp&quot;\n    progressDialog = new ProgressDialog(form.this);\n    progressDialog.setMessage(&quot;Loading ...&quot;);\n\n    btnInsert.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            addProductData(brand, barcode, line, packaging, countries);\n            progressDialog.show();\n        }\n    });\n\n    //retrieve value CODE_BARRE from MainActivity\n    String productCode = getIntent().getStringExtra(&quot;productId&quot;);\n\n    //=========================\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(&quot;https://world.openfoodfacts.org/api/v0/produit/&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n\n    RequestPlaceHolder requestPlaceHolder = retrofit.create(RequestPlaceHolder.class);\n\n    String url = &quot;https://world.openfoodfacts.org/api/v0/produit/&quot; +  productCode + &quot;.json&quot;;\n\n    Call&lt;Data&gt; call = requestPlaceHolder.getData(url);\n\n    call.enqueue(new Callback&lt;Data&gt;() {\n        @Override\n        public void onResponse(Call&lt;Data&gt; call, Response&lt;Data&gt; response) {\n\n            /*if (response.body() != null) {\n                //textViewResult.setText(&quot;Code&quot; + response.code());\n                textViewResult.setText(&quot;The product does not exist with this barcode,\\n&quot; +\n                        &quot;look for the barcode of the product on: \\n\\n&quot; +\n                        &quot;https://fr.openbeautyfacts.org/&quot;);\n                return;\n            }*/\n\n            if (response.isSuccessful()) {\n                //Retrieve data and display it\n\n                Data data = response.body();\n\n                barcode = productCode + &quot;\\n&quot;;\n                brand = data.getProductField().getBrand() + &quot;\\n&quot;;\n                line = data.getProductField().getLine() + &quot;\\n&quot;;\n                packaging = data.getProductField().getPackaging() + &quot;\\n&quot;;\n                countries = data.getProductField().getCountries() + &quot;\\n&quot;;\n                String content = brand + &quot;\\n&quot; + barcode + &quot;\\n&quot; + line +\n                        &quot;\\n&quot; + packaging + &quot;\\n&quot; + countries;\n                textViewResult.append(content);\n            }\n\n        }\n\n        @Override\n        public void onFailure(Call&lt;Data&gt; call, Throwable t) {\n            textViewResult.setText(t.getMessage());\n        }\n    });\n\n}\n\n\n//Add data to excel\npublic void addProductData(String brand, String barcode, String line, String packaging, String countries) {\n\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://script.google.com/macros/s/AKfycbwyXLOJEa_Bvgb4Ae-qqX5zWQO0E_MJcUPy7nJBft9MTq3BvCd6gcwy0_2MhGUDFZNo8w/exec&quot;, new com.android.volley.Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response) {\n            Intent intent = new Intent(form.this, SuccessActivity.class);\n            startActivity(intent);\n            progressDialog.hide();\n\n        }\n    }, error -&gt; {\n\n    }) {\n        @Override\n        protected Map&lt;String, String&gt; getParams() {\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;sbrand&quot;, brand);\n            params.put(&quot;sbarcode&quot;, barcode);\n            params.put(&quot;sline&quot;, line);\n            params.put(&quot;spackaging&quot;, packaging);\n            params.put(&quot;scountries&quot;, countries);\n\n            return params;\n        }\n    };\n\n    int socketTimeOut = 50000;\n    RetryPolicy retryPolicy = new DefaultRetryPolicy(socketTimeOut, 0, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT);\n    stringRequest.setRetryPolicy(retryPolicy);\n\n    RequestQueue requestQueue = Volley.newRequestQueue(this);\n    requestQueue.add(stringRequest);\n}\n</code></pre>\n<p>}</p>\n<p>thanks guys for your time :)</p>\n<p>Yanis</p>\n"},{"tags":["java","android","dagger-2","mvp"],"answers":[{"tags":[],"owner":{"account_id":5511926,"reputation":4211,"user_id":4377954,"display_name":"Deˣ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561043086,"creation_date":1561043086,"answer_id":56688873,"question_id":56688817,"body_markdown":"Return the instance of Child class, not parent class.\r\n\r\n\r\n    @Module\r\n    public class InteractorModule {\r\n        @Provides\r\n        public InteractorSuma provideSuma() {\r\n            return new InteractorSuma();\r\n        }\r\n    \r\n        @Provides\r\n        public InteractorResta provideResta() {\r\n            return new InteractorResta();\r\n        }\r\n    \r\n        @Provides\r\n        public InteractorDivision provideDiv() {\r\n            return new InteractorDivision();\r\n        }\r\n    \r\n        @Provides\r\n        public InteractorMultiplicacion provideMult() {\r\n            return new InteractorMultiplicacion();\r\n        }\r\n    } ","title":"Dagger2 Error at inject in a class who injects","body":"<p>Return the instance of Child class, not parent class.</p>\n\n<pre><code>@Module\npublic class InteractorModule {\n    @Provides\n    public InteractorSuma provideSuma() {\n        return new InteractorSuma();\n    }\n\n    @Provides\n    public InteractorResta provideResta() {\n        return new InteractorResta();\n    }\n\n    @Provides\n    public InteractorDivision provideDiv() {\n        return new InteractorDivision();\n    }\n\n    @Provides\n    public InteractorMultiplicacion provideMult() {\n        return new InteractorMultiplicacion();\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12213088,"reputation":7885,"user_id":8914336,"display_name":"coroutineDispatcher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1561043366,"creation_date":1561043366,"answer_id":56688962,"question_id":56688817,"body_markdown":"You should separate one-other with the `@Named(&quot;someName&quot;)` annotation, or you could just do what @Derek says. My approach: \r\n\r\n \r\n\r\n    @Provides\r\n    @Named(&quot;someName1&quot;)\r\n        public Operacion provideSuma() {\r\n            return new InteractorSuma();\r\n        }\r\n    \r\n        @Provides\r\n        @Named(&quot;someName2&quot;)\r\n        public Operacion provideResta() {\r\n            return new InteractorResta();\r\n        }\r\n    \r\n        @Provides\r\n        @Named(&quot;someName3&quot;)\r\n        public Operacion provideDiv() {\r\n            return new InteractorDivision();\r\n        }\r\n    \r\n        @Provides\r\n        @Named(&quot;someName4&quot;)\r\n        public Operacion provideMult() {\r\n            return new InteractorMultiplicacion();\r\n        }\r\n\r\nOtherwise dagger doesn&#39;t know which one to return where. \r\n\r\nCall the `@Named` when injecting also.","title":"Dagger2 Error at inject in a class who injects","body":"<p>You should separate one-other with the <code>@Named(\"someName\")</code> annotation, or you could just do what @Derek says. My approach: </p>\n\n<pre><code>@Provides\n@Named(\"someName1\")\n    public Operacion provideSuma() {\n        return new InteractorSuma();\n    }\n\n    @Provides\n    @Named(\"someName2\")\n    public Operacion provideResta() {\n        return new InteractorResta();\n    }\n\n    @Provides\n    @Named(\"someName3\")\n    public Operacion provideDiv() {\n        return new InteractorDivision();\n    }\n\n    @Provides\n    @Named(\"someName4\")\n    public Operacion provideMult() {\n        return new InteractorMultiplicacion();\n    }\n</code></pre>\n\n<p>Otherwise dagger doesn't know which one to return where. </p>\n\n<p>Call the <code>@Named</code> when injecting also.</p>\n"},{"tags":[],"owner":{"account_id":8377352,"reputation":5143,"user_id":6290452,"display_name":"AlexTa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561043873,"creation_date":1561043873,"answer_id":56689127,"question_id":56688817,"body_markdown":"For this kind of situation is where Dagger2 `Qualifiers` are build for.\r\n\r\n**1.- Create your qualifiers:**\r\n\r\n    @Qualifier\r\n    public @interface OperacionSuma {}\r\n    @Qualifier\r\n    public @interface OperacionResta {}\r\n    @Qualifier\r\n    public @interface OperacionDiv {}\r\n    @Qualifier\r\n    public @interface OperacionMult {}\r\n\r\n**2.- Set qualifiers in your providers methods:**\r\n\r\n    @Module\r\n    public class InteractorModule {\r\n        @Provides\r\n        @OperacionSuma\r\n        public Operacion provideSuma() {\r\n            return new InteractorSuma();\r\n        }\r\n\r\n        @Provides\r\n        @OperacionResta\r\n        public Operacion provideResta() {\r\n            return new InteractorResta();\r\n        }\r\n\r\n        @Provides\r\n        @OperacionDiv\r\n        public Operacion provideDiv() {\r\n            return new InteractorDivision();\r\n        }\r\n\r\n        @Provides\r\n        @OperacionMult\r\n        public Operacion provideMult() {\r\n            return new InteractorMultiplicacion();\r\n        }\r\n    } \r\n\r\n**3.- Specify what kind of &quot;operation&quot; do you want to inject in your presenter:**\r\n\r\n    class Presenter {\r\n        \r\n        @Inject\r\n        Presenter(@OperacionSuma Operacion operacion) { }\r\n        \r\n        @Inject\r\n        Presenter(@OperacionResta Operacion operacion) { }\r\n        \r\n        @Inject\r\n        Presenter(@OperacionDiv Operacion operacion) { }\r\n        \r\n        @Inject\r\n        Presenter(@OperacionMult Operacion operacion) { }\r\n    }\r\n     ","title":"Dagger2 Error at inject in a class who injects","body":"<p>For this kind of situation is where Dagger2 <code>Qualifiers</code> are build for.</p>\n\n<p><strong>1.- Create your qualifiers:</strong></p>\n\n<pre><code>@Qualifier\npublic @interface OperacionSuma {}\n@Qualifier\npublic @interface OperacionResta {}\n@Qualifier\npublic @interface OperacionDiv {}\n@Qualifier\npublic @interface OperacionMult {}\n</code></pre>\n\n<p><strong>2.- Set qualifiers in your providers methods:</strong></p>\n\n<pre><code>@Module\npublic class InteractorModule {\n    @Provides\n    @OperacionSuma\n    public Operacion provideSuma() {\n        return new InteractorSuma();\n    }\n\n    @Provides\n    @OperacionResta\n    public Operacion provideResta() {\n        return new InteractorResta();\n    }\n\n    @Provides\n    @OperacionDiv\n    public Operacion provideDiv() {\n        return new InteractorDivision();\n    }\n\n    @Provides\n    @OperacionMult\n    public Operacion provideMult() {\n        return new InteractorMultiplicacion();\n    }\n} \n</code></pre>\n\n<p><strong>3.- Specify what kind of \"operation\" do you want to inject in your presenter:</strong></p>\n\n<pre><code>class Presenter {\n\n    @Inject\n    Presenter(@OperacionSuma Operacion operacion) { }\n\n    @Inject\n    Presenter(@OperacionResta Operacion operacion) { }\n\n    @Inject\n    Presenter(@OperacionDiv Operacion operacion) { }\n\n    @Inject\n    Presenter(@OperacionMult Operacion operacion) { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11379472,"reputation":2966,"user_id":8342718,"display_name":"Jasurbek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561045339,"creation_date":1561044046,"answer_id":56689191,"question_id":56688817,"body_markdown":"Since dagger looks for the return type, not a name that given to the function you should take care of it. However, Dagger2 provides a solution to such problems. Using @Named annotation. \r\n\r\n&gt; Sometimes the type alone is insufficient to identify a dependency. For example, if you need a Refrofit instance with GsonConverterFactory and another one ScalarConverterFactory you will end up with 2 provide methods that have the same return type: Retrofit. In this case, you can use @Named annotation to differentiate two Retrofit instances\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow you can use it like following\r\n\r\n[![enter image description here][2]][2]\r\n\r\nComing to your case \r\n\r\n    @Module\r\n    public class InteractorModule {\r\n        @Provides\r\n        @Named(&quot;InteractorSuma&quot;)\r\n        public Operacion provideSuma() {\r\n            return new InteractorSuma();\r\n        }\r\n    \r\n        @Provides\r\n        @Named(&quot;InteractorResta&quot;)\r\n        public Operacion provideResta() {\r\n            return new InteractorResta();\r\n        }\r\n    \r\n        @Provides\r\n        @Named(&quot;InteractorDivision&quot;)\r\n        public Operacion provideDiv() {\r\n            return new InteractorDivision();\r\n        }\r\n    \r\n        @Provides\r\n        @Named(&quot;InteractorMultiplicacion&quot;)\r\n        public Operacion provideMult() {\r\n            return new InteractorMultiplicacion();\r\n        }\r\n    }\r\n\r\n[Here is][3] the full example of how to use `@Named` annotation\r\n\r\nLet me know if you have still a problem\r\n\r\n  [1]: https://i.stack.imgur.com/tkbAA.png\r\n  [2]: https://i.stack.imgur.com/6lreF.png\r\n  [3]: https://medium.com/@muratkaraoz/dagger2-cheat-sheet-1-8afd891f9cd5","title":"Dagger2 Error at inject in a class who injects","body":"<p>Since dagger looks for the return type, not a name that given to the function you should take care of it. However, Dagger2 provides a solution to such problems. Using @Named annotation. </p>\n\n<blockquote>\n  <p>Sometimes the type alone is insufficient to identify a dependency. For example, if you need a Refrofit instance with GsonConverterFactory and another one ScalarConverterFactory you will end up with 2 provide methods that have the same return type: Retrofit. In this case, you can use @Named annotation to differentiate two Retrofit instances</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/tkbAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tkbAA.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now you can use it like following</p>\n\n<p><a href=\"https://i.stack.imgur.com/6lreF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6lreF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Coming to your case </p>\n\n<pre><code>@Module\npublic class InteractorModule {\n    @Provides\n    @Named(\"InteractorSuma\")\n    public Operacion provideSuma() {\n        return new InteractorSuma();\n    }\n\n    @Provides\n    @Named(\"InteractorResta\")\n    public Operacion provideResta() {\n        return new InteractorResta();\n    }\n\n    @Provides\n    @Named(\"InteractorDivision\")\n    public Operacion provideDiv() {\n        return new InteractorDivision();\n    }\n\n    @Provides\n    @Named(\"InteractorMultiplicacion\")\n    public Operacion provideMult() {\n        return new InteractorMultiplicacion();\n    }\n}\n</code></pre>\n\n<p><a href=\"https://medium.com/@muratkaraoz/dagger2-cheat-sheet-1-8afd891f9cd5\" rel=\"nofollow noreferrer\">Here is</a> the full example of how to use <code>@Named</code> annotation</p>\n\n<p>Let me know if you have still a problem</p>\n"}],"owner":{"account_id":14612230,"reputation":414,"user_id":10553376,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56688962,"answer_count":4,"score":0,"last_activity_date":1659114667,"creation_date":1561042896,"question_id":56688817,"body_markdown":"I&#39;m trying to `inject` in my `presenter` an `interactor` but gives me an error, at seems I can&#39;t inject in a class who injects to another:\r\n\r\n    error: [Dagger/DuplicateBindings] com.example.calculadora.Data.Interactor.Operacion is bound multiple times:\r\n    @Provides com.example.calculadora.Data.Interactor.Operacion com.example.calculadora.Inject.InteractorModule.provideDiv()\r\n    @Provides com.example.calculadora.Data.Interactor.Operacion com.example.calculadora.Inject.InteractorModule.provideMult()\r\n    @Provides com.example.calculadora.Data.Interactor.Operacion com.example.calculadora.Inject.InteractorModule.provideResta()\r\n    @Provides com.example.calculadora.Data.Interactor.Operacion com.example.calculadora.Inject.InteractorModule.provideSuma()\r\n    com.example.calculadora.Data.Interactor.Operacion is injected at\r\n    com.example.calculadora.Domain.PresenterImpl.operacion\r\n    com.example.calculadora.Domain.PresenterImpl is injected at\r\n    com.example.calculadora.Inject.InteractorComponent.inject(com.example.calculadora.Domain.PresenterImpl)\r\n\r\nThis is my `InteractorModule` who provides me a 4 classes depending which I want to use and where seems is the problem:\r\n\r\n    @Module\r\n    public class InteractorModule {\r\n        @Provides\r\n        public Operacion provideSuma() {\r\n            return new InteractorSuma();\r\n        }\r\n    \r\n        @Provides\r\n        public Operacion provideResta() {\r\n            return new InteractorResta();\r\n        }\r\n    \r\n        @Provides\r\n        public Operacion provideDiv() {\r\n            return new InteractorDivision();\r\n        }\r\n    \r\n        @Provides\r\n        public Operacion provideMult() {\r\n            return new InteractorMultiplicacion();\r\n        }\r\n    }\r\n\r\nI want to inject here instead of init the new items:\r\n\r\n    @Override\r\n    public void setCalculo() {\r\n        Operacion operacion = null;\r\n        String[] operandos = vista.getOperandos();\r\n        Operando operando1 = new Operando(Integer.parseInt(operandos[0]));\r\n        Operando operando2 = new Operando(Integer.parseInt(operandos[1]));\r\n    \r\n    \r\n        switch (tipoOperacion) {\r\n            case SUMA:\r\n                operacion = new InteractorSuma(operando1, operando2);\r\n                break;\r\n            case RESTA:\r\n                operacion = new InteractorResta(operando1, operando2);\r\n                break;\r\n            case MULT:\r\n                operacion = new InteractorMultiplicacion(operando1, operando2);\r\n                break;\r\n            case DIV:\r\n                operacion = new InteractorDivision(operando1, operando2);\r\n                break;\r\n        }\r\n    \r\n        operacion.calcular();\r\n        vista.mostrarResultado(String.valueOf(operacion.getResultado().getValor()));\r\n    }","title":"Dagger2 Error at inject in a class who injects","body":"<p>I'm trying to <code>inject</code> in my <code>presenter</code> an <code>interactor</code> but gives me an error, at seems I can't inject in a class who injects to another:</p>\n<pre><code>error: [Dagger/DuplicateBindings] com.example.calculadora.Data.Interactor.Operacion is bound multiple times:\n@Provides com.example.calculadora.Data.Interactor.Operacion com.example.calculadora.Inject.InteractorModule.provideDiv()\n@Provides com.example.calculadora.Data.Interactor.Operacion com.example.calculadora.Inject.InteractorModule.provideMult()\n@Provides com.example.calculadora.Data.Interactor.Operacion com.example.calculadora.Inject.InteractorModule.provideResta()\n@Provides com.example.calculadora.Data.Interactor.Operacion com.example.calculadora.Inject.InteractorModule.provideSuma()\ncom.example.calculadora.Data.Interactor.Operacion is injected at\ncom.example.calculadora.Domain.PresenterImpl.operacion\ncom.example.calculadora.Domain.PresenterImpl is injected at\ncom.example.calculadora.Inject.InteractorComponent.inject(com.example.calculadora.Domain.PresenterImpl)\n</code></pre>\n<p>This is my <code>InteractorModule</code> who provides me a 4 classes depending which I want to use and where seems is the problem:</p>\n<pre><code>@Module\npublic class InteractorModule {\n    @Provides\n    public Operacion provideSuma() {\n        return new InteractorSuma();\n    }\n\n    @Provides\n    public Operacion provideResta() {\n        return new InteractorResta();\n    }\n\n    @Provides\n    public Operacion provideDiv() {\n        return new InteractorDivision();\n    }\n\n    @Provides\n    public Operacion provideMult() {\n        return new InteractorMultiplicacion();\n    }\n}\n</code></pre>\n<p>I want to inject here instead of init the new items:</p>\n<pre><code>@Override\npublic void setCalculo() {\n    Operacion operacion = null;\n    String[] operandos = vista.getOperandos();\n    Operando operando1 = new Operando(Integer.parseInt(operandos[0]));\n    Operando operando2 = new Operando(Integer.parseInt(operandos[1]));\n\n\n    switch (tipoOperacion) {\n        case SUMA:\n            operacion = new InteractorSuma(operando1, operando2);\n            break;\n        case RESTA:\n            operacion = new InteractorResta(operando1, operando2);\n            break;\n        case MULT:\n            operacion = new InteractorMultiplicacion(operando1, operando2);\n            break;\n        case DIV:\n            operacion = new InteractorDivision(operando1, operando2);\n            break;\n    }\n\n    operacion.calcular();\n    vista.mostrarResultado(String.valueOf(operacion.getResultado().getValor()));\n}\n</code></pre>\n"},{"tags":["java","oracle","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1559104618,"post_id":56353161,"comment_id":99310726,"body_markdown":"Then my guess is that underlying Oracle table only has data for the `id` column.  Did you bother to check that?  Try running `SELECT * FROM LOG_RETURN_EMAIL WHERE ID = &#39;f6a70923-973a-47ac-98a0-34200d4ddacb&#39;`","body":"Then my guess is that underlying Oracle table only has data for the <code>id</code> column.  Did you bother to check that?  Try running <code>SELECT * FROM LOG_RETURN_EMAIL WHERE ID = &#39;f6a70923-973a-47ac-98a0-34200d4ddacb&#39;</code>"},{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1559104684,"post_id":56353161,"comment_id":99310749,"body_markdown":"What do you get, when you query the database with this id?","body":"What do you get, when you query the database with this id?"},{"owner":{"account_id":9883679,"reputation":1,"user_id":7318890,"display_name":"Dustin Hsieh"},"score":0,"creation_date":1559109169,"post_id":56353161,"comment_id":99311988,"body_markdown":"Yes I&#39;ve already checked . I use sqldeveloper run this statement and return data not only id column.","body":"Yes I&#39;ve already checked . I use sqldeveloper run this statement and return data not only id column."},{"owner":{"account_id":11133396,"reputation":1266,"user_id":9118951,"display_name":"Milan Desai"},"score":0,"creation_date":1559125815,"post_id":56353161,"comment_id":99320575,"body_markdown":"enable hibernate logging? see what query is actually being ran ? `-Dspring.jpa.hibernate.show-sql=true`","body":"enable hibernate logging? see what query is actually being ran ? <code>-Dspring.jpa.hibernate.show-sql=true</code>"}],"answers":[{"tags":[],"owner":{"account_id":4738700,"reputation":179,"user_id":3832254,"accept_rate":50,"display_name":"Vikram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659114144,"creation_date":1659114144,"answer_id":73168751,"question_id":56353161,"body_markdown":"Verify your Java Entity class datatypes and Oracle DATA_TYPE. This issue mostly occurs when data type mismatch.\r\n\r\n","title":"Use Spring Boot get entity from Oracle DataBase not work","body":"<p>Verify your Java Entity class datatypes and Oracle DATA_TYPE. This issue mostly occurs when data type mismatch.</p>\n"}],"owner":{"account_id":9883679,"reputation":1,"user_id":7318890,"display_name":"Dustin Hsieh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":973,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659114144,"creation_date":1559104453,"question_id":56353161,"body_markdown":"I want to use Spring boot get entity from&lt;Br&gt; Oracle DB(Oracle9i Enterprise Edition Release 9.2.0.4.0 - Production)&lt;Br&gt;\r\nwhen i use repository findById method and toString in Console, it only return like this\r\n&lt;Br&gt;\r\n\r\nLogReturnEmail [createDtm=, fileName=, forwardResult=, forwardTo=, id=f6a70923-973a-47ac-98a0-34200d4ddacb, mailSubject=, messageNo=, messageType=, sellerCompid=]&lt;Br&gt;\r\n\r\nonly id column have value.&lt;br&gt;but i want to get all value.\r\n\r\n**Main class**\r\n```java  \r\n@SpringBootApplication\r\n    public class Demo2Application implements ApplicationRunner {\r\n    \r\n    \t@Autowired\r\n    \tprivate LogReturnEmailRepository repo2;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Demo2Application.class, args);\r\n    \t}\r\n    \t@Override\r\n    \tpublic void run(ApplicationArguments args) throws Exception {\r\n    \t\tOptional&lt;LogReturnEmail&gt; xml = repo2.findById(&quot;f6a70923-973a-47ac-98a0-34200d4ddacb&quot;);\r\n    \t\tSystem.out.println(xml.get());\r\n    \t}\r\n    \r\n    }\r\n```\r\n**Repository**\r\n```java        \r\n@Repository\r\npublic interface LogReturnEmailRepository extends JpaRepository&lt;LogReturnEmail, String&gt; {\r\n}  \r\n```\r\n**LOG_RETURN_EMAIL entity**\r\n```java \r\n\r\n/**\r\n * The persistent class for the LOG_RETURN_EMAIL database table.\r\n * \r\n */\r\n@Entity\r\n@Table(name=&quot;LOG_RETURN_EMAIL&quot;)\r\n@NamedQuery(name=&quot;LogReturnEmail.findAll&quot;, query=&quot;SELECT l FROM LogReturnEmail l&quot;)\r\npublic class LogReturnEmail implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Column(name=&quot;CREATE_DTM&quot;)\r\n\tprivate String createDtm;\r\n\r\n\t@Column(name=&quot;FILE_NAME&quot;)\r\n\tprivate String fileName;\r\n\r\n\t@Column(name=&quot;FORWARD_RESULT&quot;)\r\n\tprivate String forwardResult;\r\n\r\n\t@Column(name=&quot;FORWARD_TO&quot;)\r\n\tprivate String forwardTo;\r\n\r\n\t@Id\r\n\t@Column(name=&quot;ID&quot;)\r\n\tprivate String id;\r\n\r\n\t@Column(name=&quot;MAIL_SUBJECT&quot;)\r\n\tprivate String mailSubject;\r\n\r\n\t@Column(name=&quot;MESSAGE_NO&quot;)\r\n\tprivate String messageNo;\r\n\r\n\t@Column(name=&quot;MESSAGE_TYPE&quot;)\r\n\tprivate String messageType;\r\n\r\n\t@Column(name=&quot;SELLER_COMPID&quot;)\r\n\tprivate String sellerCompid;\r\n\r\n//commented out get/set method for brevity\r\n\r\n```    \r\n**hibernate configurations**\r\n```\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.database-platform=org.hibernate.dialect.Oracle9iDialect\r\nspring.datasource.url=\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo2&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo2&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;12.1.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**console log**\r\n```\r\n2019-05-30 09:12:53.167  INFO 13668 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}\r\n2019-05-30 09:12:53.168  INFO 13668 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n2019-05-30 09:12:53.241  INFO 13668 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n2019-05-30 09:12:53.325  INFO 13668 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle9iDialect\r\n2019-05-30 09:12:53.749  INFO 13668 --- [  restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\r\n2019-05-30 09:12:53.783  INFO 13668 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2019-05-30 09:12:54.006  INFO 13668 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2019-05-30 09:12:54.020  INFO 13668 --- [  restartedMain] com.example.demo.Demo2Application        : Started Demo2Application in 2.115 seconds (JVM running for 2.691)\r\nHibernate: \r\n    select\r\n        logreturne0_.id as id1_0_0_,\r\n        logreturne0_.create_dtm as create_dtm2_0_0_,\r\n        logreturne0_.file_name as file_name3_0_0_,\r\n        logreturne0_.forward_result as forward_result4_0_0_,\r\n        logreturne0_.forward_to as forward_to5_0_0_,\r\n        logreturne0_.mail_subject as mail_subject6_0_0_,\r\n        logreturne0_.message_no as message_no7_0_0_,\r\n        logreturne0_.message_type as message_type8_0_0_,\r\n        logreturne0_.seller_compid as seller_compid9_0_0_ \r\n    from\r\n        log_return_email logreturne0_ \r\n    where\r\n        logreturne0_.id=?\r\nLogReturnEmail [createDtm=, fileName=, forwardResult=, forwardTo=, id=f6a70923-973a-47ac-98a0-34200d4ddacb, mailSubject=, messageNo=, messageType=, sellerCompid=]\r\n2019-05-30 09:12:54.079  INFO 13668 --- [      Thread-10] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2019-05-30 09:12:54.080  INFO 13668 --- [      Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2019-05-30 09:12:54.088  INFO 13668 --- [      Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\n```\r\n**TABLE COLUMN NAME**\r\n```\r\nID\t            \r\nSELLER_COMPID\t\r\nMESSAGE_NO\t    \r\nMAIL_SUBJECT\t\r\nCREATE_DTM\t    \r\nFORWARD_TO\t    \r\nFORWARD_RESULT\t\r\nFILE_NAME\t\r\nMESSAGE_TYPE\t\r\n```","title":"Use Spring Boot get entity from Oracle DataBase not work","body":"<p>I want to use Spring boot get entity from<Br> Oracle DB(Oracle9i Enterprise Edition Release 9.2.0.4.0 - Production)<Br>\nwhen i use repository findById method and toString in Console, it only return like this\n<Br></p>\n\n<p>LogReturnEmail [createDtm=, fileName=, forwardResult=, forwardTo=, id=f6a70923-973a-47ac-98a0-34200d4ddacb, mailSubject=, messageNo=, messageType=, sellerCompid=]<Br></p>\n\n<p>only id column have value.<br>but i want to get all value.</p>\n\n<p><strong>Main class</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n    public class Demo2Application implements ApplicationRunner {\n\n        @Autowired\n        private LogReturnEmailRepository repo2;\n\n        public static void main(String[] args) {\n            SpringApplication.run(Demo2Application.class, args);\n        }\n        @Override\n        public void run(ApplicationArguments args) throws Exception {\n            Optional&lt;LogReturnEmail&gt; xml = repo2.findById(\"f6a70923-973a-47ac-98a0-34200d4ddacb\");\n            System.out.println(xml.get());\n        }\n\n    }\n</code></pre>\n\n<p><strong>Repository</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface LogReturnEmailRepository extends JpaRepository&lt;LogReturnEmail, String&gt; {\n}  \n</code></pre>\n\n<p><strong>LOG_RETURN_EMAIL entity</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n/**\n * The persistent class for the LOG_RETURN_EMAIL database table.\n * \n */\n@Entity\n@Table(name=\"LOG_RETURN_EMAIL\")\n@NamedQuery(name=\"LogReturnEmail.findAll\", query=\"SELECT l FROM LogReturnEmail l\")\npublic class LogReturnEmail implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Column(name=\"CREATE_DTM\")\n    private String createDtm;\n\n    @Column(name=\"FILE_NAME\")\n    private String fileName;\n\n    @Column(name=\"FORWARD_RESULT\")\n    private String forwardResult;\n\n    @Column(name=\"FORWARD_TO\")\n    private String forwardTo;\n\n    @Id\n    @Column(name=\"ID\")\n    private String id;\n\n    @Column(name=\"MAIL_SUBJECT\")\n    private String mailSubject;\n\n    @Column(name=\"MESSAGE_NO\")\n    private String messageNo;\n\n    @Column(name=\"MESSAGE_TYPE\")\n    private String messageType;\n\n    @Column(name=\"SELLER_COMPID\")\n    private String sellerCompid;\n\n//commented out get/set method for brevity\n\n</code></pre>\n\n<p><strong>hibernate configurations</strong></p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=none\nspring.jpa.database-platform=org.hibernate.dialect.Oracle9iDialect\nspring.datasource.url=\nspring.datasource.username=\nspring.datasource.password=\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n            &lt;version&gt;12.1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>console log</strong></p>\n\n<pre><code>2019-05-30 09:12:53.167  INFO 13668 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}\n2019-05-30 09:12:53.168  INFO 13668 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2019-05-30 09:12:53.241  INFO 13668 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n2019-05-30 09:12:53.325  INFO 13668 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle9iDialect\n2019-05-30 09:12:53.749  INFO 13668 --- [  restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\n2019-05-30 09:12:53.783  INFO 13668 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2019-05-30 09:12:54.006  INFO 13668 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2019-05-30 09:12:54.020  INFO 13668 --- [  restartedMain] com.example.demo.Demo2Application        : Started Demo2Application in 2.115 seconds (JVM running for 2.691)\nHibernate: \n    select\n        logreturne0_.id as id1_0_0_,\n        logreturne0_.create_dtm as create_dtm2_0_0_,\n        logreturne0_.file_name as file_name3_0_0_,\n        logreturne0_.forward_result as forward_result4_0_0_,\n        logreturne0_.forward_to as forward_to5_0_0_,\n        logreturne0_.mail_subject as mail_subject6_0_0_,\n        logreturne0_.message_no as message_no7_0_0_,\n        logreturne0_.message_type as message_type8_0_0_,\n        logreturne0_.seller_compid as seller_compid9_0_0_ \n    from\n        log_return_email logreturne0_ \n    where\n        logreturne0_.id=?\nLogReturnEmail [createDtm=, fileName=, forwardResult=, forwardTo=, id=f6a70923-973a-47ac-98a0-34200d4ddacb, mailSubject=, messageNo=, messageType=, sellerCompid=]\n2019-05-30 09:12:54.079  INFO 13668 --- [      Thread-10] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2019-05-30 09:12:54.080  INFO 13668 --- [      Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2019-05-30 09:12:54.088  INFO 13668 --- [      Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\n</code></pre>\n\n<p><strong>TABLE COLUMN NAME</strong></p>\n\n<pre><code>ID              \nSELLER_COMPID   \nMESSAGE_NO      \nMAIL_SUBJECT    \nCREATE_DTM      \nFORWARD_TO      \nFORWARD_RESULT  \nFILE_NAME   \nMESSAGE_TYPE    \n</code></pre>\n"},{"tags":["java","json","jackson","hashmap","gson"],"comments":[{"owner":{"account_id":11921322,"reputation":7,"user_id":8723776,"display_name":"Deepak Dhaka"},"score":0,"creation_date":1656950101,"post_id":72857012,"comment_id":128689769,"body_markdown":"@AlexanderIvanchenko Mentioned above solution, but not that clean","body":"@AlexanderIvanchenko Mentioned above solution, but not that clean"}],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656948179,"creation_date":1656948179,"answer_id":72858993,"question_id":72857012,"body_markdown":"Whether it&#39;s a map or JSON the basic idea will be to iterate the key-value pairs and update the correct key with the new value.\r\n&lt;br/&gt;\r\nExample with json: \r\n```\r\nString json = &quot;{\\&quot;query\\&quot;:{\\&quot;select\\&quot;:{\\&quot;f1\\&quot;:1},\\&quot;where\\&quot;:{\\&quot;f1\\&quot;:1},\\&quot;orderBy\\&quot;:[{\\&quot;key\\&quot;:\\&quot;item.id\\&quot;,\\&quot;direction\\&quot;:\\&quot;asc\\&quot;},{\\&quot;key\\&quot;:\\&quot;page.id\\&quot;,\\&quot;direction\\&quot;:\\&quot;desc\\&quot;}]}}&quot;;\r\nJsonObject jsonObject = JsonParser.parseString(json).getAsJsonObject();\r\nJsonArray jsonArray = jsonObject.get(&quot;query&quot;).getAsJsonObject().get(&quot;orderBy&quot;).getAsJsonArray();\r\nIterator&lt;JsonElement&gt; itr = jsonArray.iterator();\r\nwhile(itr.hasNext()) {\r\n\tJsonObject obj = itr.next().getAsJsonObject();\t\t\t\r\n\tobj.addProperty(&quot;direction&quot;, obj.get(&quot;direction&quot;).getAsString().toUpperCase());\r\n}\r\n\r\nSystem.out.println(jsonObject);\r\n\r\n```\r\nOutput\r\n```\r\n{&quot;query&quot;:{&quot;select&quot;:{&quot;f1&quot;:1},&quot;where&quot;:{&quot;f1&quot;:1},&quot;orderBy&quot;:[{&quot;key&quot;:&quot;item.id&quot;,&quot;direction&quot;:&quot;ASC&quot;},{&quot;key&quot;:&quot;page.id&quot;,&quot;direction&quot;:&quot;DESC&quot;}]}}\r\n```","title":"Nested HashMap Object - Evaluating particular value to UpperCase","body":"<p>Whether it's a map or JSON the basic idea will be to iterate the key-value pairs and update the correct key with the new value.\n<br/>\nExample with json:</p>\n<pre><code>String json = &quot;{\\&quot;query\\&quot;:{\\&quot;select\\&quot;:{\\&quot;f1\\&quot;:1},\\&quot;where\\&quot;:{\\&quot;f1\\&quot;:1},\\&quot;orderBy\\&quot;:[{\\&quot;key\\&quot;:\\&quot;item.id\\&quot;,\\&quot;direction\\&quot;:\\&quot;asc\\&quot;},{\\&quot;key\\&quot;:\\&quot;page.id\\&quot;,\\&quot;direction\\&quot;:\\&quot;desc\\&quot;}]}}&quot;;\nJsonObject jsonObject = JsonParser.parseString(json).getAsJsonObject();\nJsonArray jsonArray = jsonObject.get(&quot;query&quot;).getAsJsonObject().get(&quot;orderBy&quot;).getAsJsonArray();\nIterator&lt;JsonElement&gt; itr = jsonArray.iterator();\nwhile(itr.hasNext()) {\n    JsonObject obj = itr.next().getAsJsonObject();          \n    obj.addProperty(&quot;direction&quot;, obj.get(&quot;direction&quot;).getAsString().toUpperCase());\n}\n\nSystem.out.println(jsonObject);\n\n</code></pre>\n<p>Output</p>\n<pre><code>{&quot;query&quot;:{&quot;select&quot;:{&quot;f1&quot;:1},&quot;where&quot;:{&quot;f1&quot;:1},&quot;orderBy&quot;:[{&quot;key&quot;:&quot;item.id&quot;,&quot;direction&quot;:&quot;ASC&quot;},{&quot;key&quot;:&quot;page.id&quot;,&quot;direction&quot;:&quot;DESC&quot;}]}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659113969,"creation_date":1659113969,"answer_id":73168720,"question_id":72857012,"body_markdown":"https://github.com/octomix/josson  \r\nhttps://mvnrepository.com/artifact/com.octomix.josson/josson\r\n\r\n    Josson josson = Josson.fromJsonString(&quot;{\\&quot;query\\&quot;:{\\&quot;select\\&quot;:{\\&quot;f1\\&quot;:1},\\&quot;where\\&quot;:{\\&quot;f1\\&quot;:1},\\&quot;orderBy\\&quot;:[{\\&quot;key\\&quot;:\\&quot;item.id\\&quot;,\\&quot;direction\\&quot;:\\&quot;asc\\&quot;},{\\&quot;key\\&quot;:\\&quot;page.id\\&quot;,\\&quot;direction\\&quot;:\\&quot;desc\\&quot;}]}}&quot;);\r\n    JsonNode node = josson.getNode(&quot;field(query.field(orderBy.field(direction.upperCase())))&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;query&quot; : {\r\n        &quot;select&quot; : {\r\n          &quot;f1&quot; : 1\r\n        },\r\n        &quot;where&quot; : {\r\n          &quot;f1&quot; : 1\r\n        },\r\n        &quot;orderBy&quot; : [ {\r\n          &quot;key&quot; : &quot;item.id&quot;,\r\n          &quot;direction&quot; : &quot;ASC&quot;\r\n        }, {\r\n          &quot;key&quot; : &quot;page.id&quot;,\r\n          &quot;direction&quot; : &quot;DESC&quot;\r\n        } ]\r\n      }\r\n    }","title":"Nested HashMap Object - Evaluating particular value to UpperCase","body":"<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a><br />\n<a href=\"https://mvnrepository.com/artifact/com.octomix.josson/josson\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.octomix.josson/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(&quot;{\\&quot;query\\&quot;:{\\&quot;select\\&quot;:{\\&quot;f1\\&quot;:1},\\&quot;where\\&quot;:{\\&quot;f1\\&quot;:1},\\&quot;orderBy\\&quot;:[{\\&quot;key\\&quot;:\\&quot;item.id\\&quot;,\\&quot;direction\\&quot;:\\&quot;asc\\&quot;},{\\&quot;key\\&quot;:\\&quot;page.id\\&quot;,\\&quot;direction\\&quot;:\\&quot;desc\\&quot;}]}}&quot;);\nJsonNode node = josson.getNode(&quot;field(query.field(orderBy.field(direction.upperCase())))&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;query&quot; : {\n    &quot;select&quot; : {\n      &quot;f1&quot; : 1\n    },\n    &quot;where&quot; : {\n      &quot;f1&quot; : 1\n    },\n    &quot;orderBy&quot; : [ {\n      &quot;key&quot; : &quot;item.id&quot;,\n      &quot;direction&quot; : &quot;ASC&quot;\n    }, {\n      &quot;key&quot; : &quot;page.id&quot;,\n      &quot;direction&quot; : &quot;DESC&quot;\n    } ]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11921322,"reputation":7,"user_id":8723776,"display_name":"Deepak Dhaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1659113969,"creation_date":1656938761,"question_id":72857012,"body_markdown":"[![Below mentioned HashMap][1]][1]\r\n\r\n\r\nWanted to convert all direction value to **upper case** \r\n\r\n\r\nOr if we have better way to do it in JSON Object itself, converting all direction value to **upper case**\r\n\r\n        {\r\n        &quot;query&quot;: {\r\n            &quot;select&quot;: {...},\r\n            &quot;where&quot;: {...},\r\n            &quot;orderBy&quot;: [\r\n                {\r\n                    &quot;key&quot;: &quot;item.id&quot;,\r\n                    &quot;direction&quot;: &quot;asc&quot;\r\n                },\r\n                {\r\n                    &quot;key&quot;: &quot;page.id&quot;,\r\n                    &quot;direction&quot;: &quot;desc&quot;\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/guhDt.png\r\n\r\n\r\n\r\nTried Solution:\r\n\r\n    `private static JSONObject uppercaseDirection(JSONObject json) throws JSONException\r\n    {\r\n        Iterator&lt;?&gt; keys = json.keys();\r\n        while (keys.hasNext())\r\n        {\r\n            String k = (String) keys.next();\r\n            if (JSON_PROPERTY_DIRECTION.equals(k))\r\n            {\r\n                json.put(JSON_PROPERTY_DIRECTION, json.get(JSON_PROPERTY_DIRECTION).toString().toUpperCase());\r\n            }\r\n            Object value = json.opt(k);\r\n            if (value != null &amp;&amp; value instanceof JSONObject)\r\n            {\r\n                uppercaseDirection((JSONObject) value);\r\n            } else if (&quot;orderBy&quot;.equals(k) &amp;&amp; value != null &amp;&amp; value instanceof JSONArray)\r\n            {\r\n                for (Object ob : (JSONArray) value)\r\n                {\r\n                    uppercaseDirection((JSONObject) ob);\r\n                }\r\n            }\r\n        }\r\n        return json;\r\n    }`","title":"Nested HashMap Object - Evaluating particular value to UpperCase","body":"<p><a href=\"https://i.stack.imgur.com/guhDt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/guhDt.png\" alt=\"Below mentioned HashMap\" /></a></p>\n<p>Wanted to convert all direction value to <strong>upper case</strong></p>\n<p>Or if we have better way to do it in JSON Object itself, converting all direction value to <strong>upper case</strong></p>\n<pre><code>    {\n    &quot;query&quot;: {\n        &quot;select&quot;: {...},\n        &quot;where&quot;: {...},\n        &quot;orderBy&quot;: [\n            {\n                &quot;key&quot;: &quot;item.id&quot;,\n                &quot;direction&quot;: &quot;asc&quot;\n            },\n            {\n                &quot;key&quot;: &quot;page.id&quot;,\n                &quot;direction&quot;: &quot;desc&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>Tried Solution:</p>\n<pre><code>`private static JSONObject uppercaseDirection(JSONObject json) throws JSONException\n{\n    Iterator&lt;?&gt; keys = json.keys();\n    while (keys.hasNext())\n    {\n        String k = (String) keys.next();\n        if (JSON_PROPERTY_DIRECTION.equals(k))\n        {\n            json.put(JSON_PROPERTY_DIRECTION, json.get(JSON_PROPERTY_DIRECTION).toString().toUpperCase());\n        }\n        Object value = json.opt(k);\n        if (value != null &amp;&amp; value instanceof JSONObject)\n        {\n            uppercaseDirection((JSONObject) value);\n        } else if (&quot;orderBy&quot;.equals(k) &amp;&amp; value != null &amp;&amp; value instanceof JSONArray)\n        {\n            for (Object ob : (JSONArray) value)\n            {\n                uppercaseDirection((JSONObject) ob);\n            }\n        }\n    }\n    return json;\n}`\n</code></pre>\n"},{"tags":["java","mysql","kotlin","utf-8"],"comments":[{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1659120329,"post_id":73168714,"comment_id":129225859,"body_markdown":"You face a [mojibake](https://en.wikipedia.org/wiki/Mojibake) case (*example in Python for its universal intelligibility*): `&#39;&#128125; &#129388;&#39;.encode(&#39;utf-8&#39;)` returns `b&#39;\\xf0\\x9f\\x91\\xbd \\xf0\\x9f\\xa5\\xac&#39;` and `&#39;&#128125; &#129388;&#39;.encode(&#39;utf-8&#39;).decode(&#39;cp1252&#39;)` -&gt; `&#39;&#240;Ÿ‘&#189; &#240;Ÿ&#165;&#172;&#39;`.","body":"You face a <a href=\"https://en.wikipedia.org/wiki/Mojibake\" rel=\"nofollow noreferrer\">mojibake</a> case (<i>example in Python for its universal intelligibility</i>): <code>&#39;👽 🥬&#39;.encode(&#39;utf-8&#39;)</code> returns <code>b&#39;\\xf0\\x9f\\x91\\xbd \\xf0\\x9f\\xa5\\xac&#39;</code> and <code>&#39;👽 🥬&#39;.encode(&#39;utf-8&#39;).decode(&#39;cp1252&#39;)</code> -&gt; <code>&#39;&#240;Ÿ‘&#189; &#240;Ÿ&#165;&#172;&#39;</code>."},{"owner":{"account_id":1474624,"reputation":344,"user_id":1385342,"accept_rate":57,"display_name":"HodorTheCoder"},"score":0,"creation_date":1659157012,"post_id":73168714,"comment_id":129231604,"body_markdown":"Interesting. What would be converting the encoding like that in the jdbcurl when I’m explicitly setting the encoding as utf8? I wonder if there is some global variable in the DB setting it wrong. Or if I should just convert them all to Unicode  escapes.","body":"Interesting. What would be converting the encoding like that in the jdbcurl when I’m explicitly setting the encoding as utf8? I wonder if there is some global variable in the DB setting it wrong. Or if I should just convert them all to Unicode  escapes."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1659161369,"post_id":73168714,"comment_id":129232018,"body_markdown":"See Mojibake in https://stackoverflow.com/questions/38363566/trouble-with-utf8-characters-what-i-see-is-not-what-i-stored","body":"See Mojibake in <a href=\"https://stackoverflow.com/questions/38363566/trouble-with-utf8-characters-what-i-see-is-not-what-i-stored\" title=\"trouble with utf8 characters what i see is not what i stored\">stackoverflow.com/questions/38363566/&hellip;</a>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":1,"creation_date":1659161418,"post_id":73168714,"comment_id":129232026,"body_markdown":"You must use utf8mb4 for Emoji and some of Chinese.","body":"You must use utf8mb4 for Emoji and some of Chinese."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1659375765,"post_id":73168714,"comment_id":129275036,"body_markdown":"Perhaps a dash is missing?  `useUnicode=True&amp;characterEncoding=utf8` --&gt; `useUnicode=True&amp;characterEncoding=utf-8`","body":"Perhaps a dash is missing?  <code>useUnicode=True&amp;characterEncoding=utf8</code> --&gt; <code>useUnicode=True&amp;characterEncoding=utf-8</code>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1659376188,"post_id":73168714,"comment_id":129275157,"body_markdown":"@HodorTheCoder - Please see if the missing dash is important cf https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-charsets.html","body":"@HodorTheCoder - Please see if the missing dash is important cf <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-charsets.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"}],"owner":{"account_id":1474624,"reputation":344,"user_id":1385342,"accept_rate":57,"display_name":"HodorTheCoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659161393,"answer_count":0,"score":0,"last_activity_date":1659113914,"creation_date":1659113914,"question_id":73168714,"body_markdown":"I am writing strings to our 5.6 MySQL server and am getting all sorts of weird behavior. Things start off working fine but eventually I get encoding errors and SwlException errors. \r\n\r\nThe table and session wncoding is all set to utf8mb4 and I can copy and paste emojis just fine in SequelPro. However unless I add\r\n\r\n```useUnicode=True&amp;characterEncoding=utf8```\r\n\r\nIt converts all the emojis to ??? but then when I add those to the jdbcurl it turns all my emojis into symbols like &#165; which leads me to believe it’s an encoding issue. \r\n\r\nfor example\r\nLike these: &#240;Ÿ…&#240;Ÿ&#165;&#172;&#240;Ÿ&#165;&#39;&#240;Ÿ&#165;&#39; \r\n\r\nThis used to work! Then one day it just started writing those weird symbols instead of emojis. So I had to start messing with session variables.  \r\n\r\nWeirdly if I set the session variables to utf8 in the jdbcurl it works properly writing emojis like you expect to the database\r\n\r\n```&amp;sessionVariables=character_set_client=utf8,character_set_connection=utf8,character_set_results=utf8```\r\n\r\nWhich doesn’t make much sense but it’s all I could get to work. \r\n\r\nBut eventually after an hour or two of writing stuff I will get a string exception like \r\n\r\n```\r\njava.sql.SQLException: Incorrect string value: &#39;\\xF0\\x9F\\x91\\xBD\\xF0\\x9F...&#39;\r\n```\r\n\r\nI have verified that there are working by inserting debug statements into kotlin. It’s an issue with jdbc and the database. \r\n\r\nAnybody run into this before? \r\n\r\nAll of it works fine in a preciously written piece of php code but that turns the emojis into Unicode escape sequences when it writes to the db. (Which I could never get to work from kotlin)\r\n\r\nI can’t figure out why it would work and then all the sudden break. Can the session variables change if there are more to an one connection open at once?\r\n\r\nThanks. \r\n","title":"Issues writing utf8 strings with emojis from Kotlin to MySQL- utf8 vs utf8mb4","body":"<p>I am writing strings to our 5.6 MySQL server and am getting all sorts of weird behavior. Things start off working fine but eventually I get encoding errors and SwlException errors.</p>\n<p>The table and session wncoding is all set to utf8mb4 and I can copy and paste emojis just fine in SequelPro. However unless I add</p>\n<p><code>useUnicode=True&amp;characterEncoding=utf8</code></p>\n<p>It converts all the emojis to ??? but then when I add those to the jdbcurl it turns all my emojis into symbols like ¥ which leads me to believe it’s an encoding issue.</p>\n<p>for example\nLike these: ðŸ…ðŸ¥¬ðŸ¥'ðŸ¥'</p>\n<p>This used to work! Then one day it just started writing those weird symbols instead of emojis. So I had to start messing with session variables.</p>\n<p>Weirdly if I set the session variables to utf8 in the jdbcurl it works properly writing emojis like you expect to the database</p>\n<p><code>&amp;sessionVariables=character_set_client=utf8,character_set_connection=utf8,character_set_results=utf8</code></p>\n<p>Which doesn’t make much sense but it’s all I could get to work.</p>\n<p>But eventually after an hour or two of writing stuff I will get a string exception like</p>\n<pre><code>java.sql.SQLException: Incorrect string value: '\\xF0\\x9F\\x91\\xBD\\xF0\\x9F...'\n</code></pre>\n<p>I have verified that there are working by inserting debug statements into kotlin. It’s an issue with jdbc and the database.</p>\n<p>Anybody run into this before?</p>\n<p>All of it works fine in a preciously written piece of php code but that turns the emojis into Unicode escape sequences when it writes to the db. (Which I could never get to work from kotlin)</p>\n<p>I can’t figure out why it would work and then all the sudden break. Can the session variables change if there are more to an one connection open at once?</p>\n<p>Thanks.</p>\n"},{"tags":["java","log4j","jersey"],"comments":[{"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"score":0,"creation_date":1363363830,"post_id":15437043,"comment_id":21835786,"body_markdown":"Do you see other logging information? \n\nNot sure about your logging problem but your Jersey problem is most likely that you are missing accept or content-type header in your request and your service requires a specific one.","body":"Do you see other logging information?   Not sure about your logging problem but your Jersey problem is most likely that you are missing accept or content-type header in your request and your service requires a specific one."},{"owner":{"account_id":67541,"reputation":60858,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":0,"creation_date":1363364180,"post_id":15437043,"comment_id":21835992,"body_markdown":"No, I don&#39;t see anything about the request.  That&#39;s why I&#39;m trying to enable logging for it. :-\\","body":"No, I don&#39;t see anything about the request.  That&#39;s why I&#39;m trying to enable logging for it. :-\\"}],"answers":[{"tags":[],"owner":{"account_id":264872,"reputation":9836,"user_id":551467,"accept_rate":100,"display_name":"pestrella"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1363368413,"creation_date":1363366263,"answer_id":15437937,"question_id":15437043,"body_markdown":"I&#39;m afraid it&#39;s not as straightforward as adding the Jersey packages to your Log4J config. Jersey does not use Log4J internally; instead it uses [Java logging][1].\r\n\r\nIf you prefer to work with Log4J then your option is to configure Java logging to use the [SLF4JBridgeHandler][2] as a logging handler.\r\n\r\nTypically this is done by specifying a logging properties file via JVM property, and adding handlers to the properties file, like so:\r\n\r\n 1. specify the logging properties file\r\n\r\n `-Djava.util.logging.config.file=/path/to/logging.properties`\r\n\r\n 2. add the `SLF4JBridgeHandler` as a logging handler in the `logging.properties` file\r\n\r\n &lt;pre&gt;&lt;code&gt;handlers=org.slf4j.bridge.SLF4JBridgeHandler&lt;/code&gt;&lt;/pre&gt;\r\n\r\nSLF4J can then bind to Log4J, and you can then use your `log4j.properties` as usual to specify the logging level for Jersey classes.\r\n\r\nAs an aside, my advice -- if you&#39;re just doing this for quick-and-dirty debugging -- is to either:\r\n\r\n 1. attach a debugger to your application (assuming you have the application source code);\r\n\r\n 2. or work with Java logging directly. To [configure Java logging to output to a file][3], add the following to your `logging.properties` file as specified earlier --\r\n\r\n &lt;pre&gt;&lt;code&gt;com.sun.jersey.level=DEBUG\r\ncom.sun.jersey.handlers=java.util.logging.FileHandler\r\njava.util.logging.FileHandler.pattern=/path/to/debugging.log\r\njava.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter&lt;/code&gt;&lt;/pre&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/logging/package-summary.html\r\n  [2]: http://www.slf4j.org/api/org/slf4j/bridge/SLF4JBridgeHandler.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/logging/FileHandler.html","title":"How to use log4j to see into Jersey","body":"<p>I'm afraid it's not as straightforward as adding the Jersey packages to your Log4J config. Jersey does not use Log4J internally; instead it uses <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/logging/package-summary.html\" rel=\"noreferrer\">Java logging</a>.</p>\n\n<p>If you prefer to work with Log4J then your option is to configure Java logging to use the <a href=\"http://www.slf4j.org/api/org/slf4j/bridge/SLF4JBridgeHandler.html\" rel=\"noreferrer\">SLF4JBridgeHandler</a> as a logging handler.</p>\n\n<p>Typically this is done by specifying a logging properties file via JVM property, and adding handlers to the properties file, like so:</p>\n\n<ol>\n<li><p>specify the logging properties file</p>\n\n<p><code>-Djava.util.logging.config.file=/path/to/logging.properties</code></p></li>\n<li><p>add the <code>SLF4JBridgeHandler</code> as a logging handler in the <code>logging.properties</code> file</p>\n\n<pre><code>handlers=org.slf4j.bridge.SLF4JBridgeHandler</code></pre></li>\n</ol>\n\n<p>SLF4J can then bind to Log4J, and you can then use your <code>log4j.properties</code> as usual to specify the logging level for Jersey classes.</p>\n\n<p>As an aside, my advice -- if you're just doing this for quick-and-dirty debugging -- is to either:</p>\n\n<ol>\n<li><p>attach a debugger to your application (assuming you have the application source code);</p></li>\n<li><p>or work with Java logging directly. To <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/logging/FileHandler.html\" rel=\"noreferrer\">configure Java logging to output to a file</a>, add the following to your <code>logging.properties</code> file as specified earlier --</p>\n\n<pre><code>com.sun.jersey.level=DEBUG\ncom.sun.jersey.handlers=java.util.logging.FileHandler\njava.util.logging.FileHandler.pattern=/path/to/debugging.log\njava.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":67541,"reputation":60858,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"down_vote_count":5,"up_vote_count":0,"is_accepted":true,"score":-5,"last_activity_date":1363368244,"creation_date":1363368244,"answer_id":15438533,"question_id":15437043,"body_markdown":"I couldn&#39;t get logging to work, but I was able to determine how to get the ContentType which is what I needed.  I had to add this to my class...\r\n\r\n\r\n    @Context\r\n    UriInfo uriInfo;\r\n\r\n    @PostConstruct\r\n    public void myfunc() {\r\n        if (uriInfo == null) { //breakpoint on this line, so I can see what uriInfo is\r\n\r\n        }\r\n    }","title":"How to use log4j to see into Jersey","body":"<p>I couldn't get logging to work, but I was able to determine how to get the ContentType which is what I needed.  I had to add this to my class...</p>\n\n<pre><code>@Context\nUriInfo uriInfo;\n\n@PostConstruct\npublic void myfunc() {\n    if (uriInfo == null) { //breakpoint on this line, so I can see what uriInfo is\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2594462,"reputation":1721,"user_id":2248444,"display_name":"nizar ouerghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366285500,"creation_date":1366283714,"answer_id":16081421,"question_id":15437043,"body_markdown":"you can see on\r\n[here](http://www.avajava.com/tutorials/lessons/how-do-i-initialize-log4j-in-a-web-application.html)\r\nit&#39;s run\r\nyou must configure your\r\n\r\n* web.xml\r\n* log4j.properties\r\n* Log4JInitServlet.java\r\n* Log4JTestServlet.java","title":"How to use log4j to see into Jersey","body":"<p>you can see on\n<a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-initialize-log4j-in-a-web-application.html\" rel=\"nofollow\">here</a>\nit's run\nyou must configure your</p>\n\n<ul>\n<li>web.xml</li>\n<li>log4j.properties</li>\n<li>Log4JInitServlet.java</li>\n<li>Log4JTestServlet.java</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1826537,"reputation":3004,"user_id":1659132,"accept_rate":50,"display_name":"Thunder"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1409835406,"creation_date":1409835406,"answer_id":25666137,"question_id":15437043,"body_markdown":"You can use `JUL to SLF4J Bridge` for this first add it to your classpath. You can use this if you are using maven:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.7.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAdd those lines to a static initializer block or in your main method:\r\n\r\n    LogManager.getLogManager().reset();\r\n    SLF4JBridgeHandler.install();\r\n\r\nNow you can control the jersey logs from your `log4j.properties` file:\r\n\r\n    log4j.category.org.glassfish.jersey=WARN,stdout","title":"How to use log4j to see into Jersey","body":"<p>You can use <code>JUL to SLF4J Bridge</code> for this first add it to your classpath. You can use this if you are using maven:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;1.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Add those lines to a static initializer block or in your main method:</p>\n\n<pre><code>LogManager.getLogManager().reset();\nSLF4JBridgeHandler.install();\n</code></pre>\n\n<p>Now you can control the jersey logs from your <code>log4j.properties</code> file:</p>\n\n<pre><code>log4j.category.org.glassfish.jersey=WARN,stdout\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1576066,"reputation":420,"user_id":1462479,"accept_rate":81,"display_name":"Suipaste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659113621,"creation_date":1659113621,"answer_id":73168664,"question_id":15437043,"body_markdown":"I followed the advice in this answer to create a custom logging feature class and register it:\r\n\r\nhttps://stackoverflow.com/a/51443054/1462479\r\n\r\nThen modified the logger that it&#39;s using to be log4j.","title":"How to use log4j to see into Jersey","body":"<p>I followed the advice in this answer to create a custom logging feature class and register it:</p>\n<p><a href=\"https://stackoverflow.com/a/51443054/1462479\">https://stackoverflow.com/a/51443054/1462479</a></p>\n<p>Then modified the logger that it's using to be log4j.</p>\n"}],"owner":{"account_id":67541,"reputation":60858,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20166,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":15438533,"answer_count":5,"score":7,"last_activity_date":1659113621,"creation_date":1363363669,"question_id":15437043,"body_markdown":"I&#39;m new to log4j and am trying to use it to better understand why my resource is providing a `415 Media Type Not Supported` header.\r\n\r\nI&#39;m using the following:\r\n\r\n    log4j.rootCategory=WARN, stdout\r\n    \r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %t %c:%L - %m%n\r\n    \r\n    log4j.category.com.sun.jersey=DEBUG,stdout\r\n\r\nThis **seems** like it should work but I&#39;m showing nothing in the console about the POST reaching this application.  I know it is reaching the application because if I turn the application off, the POSTer throws a &quot;connection refused&quot; when trying to POST.","title":"How to use log4j to see into Jersey","body":"<p>I'm new to log4j and am trying to use it to better understand why my resource is providing a <code>415 Media Type Not Supported</code> header.</p>\n\n<p>I'm using the following:</p>\n\n<pre><code>log4j.rootCategory=WARN, stdout\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %t %c:%L - %m%n\n\nlog4j.category.com.sun.jersey=DEBUG,stdout\n</code></pre>\n\n<p>This <strong>seems</strong> like it should work but I'm showing nothing in the console about the POST reaching this application.  I know it is reaching the application because if I turn the application off, the POSTer throws a \"connection refused\" when trying to POST.</p>\n"},{"tags":["java","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":4993288,"reputation":166,"user_id":4014797,"display_name":"Vishal"},"score":0,"creation_date":1583425754,"post_id":60547923,"comment_id":107120920,"body_markdown":"Could you post your config file code where you are initializing the pool?","body":"Could you post your config file code where you are initializing the pool?"},{"owner":{"account_id":4777867,"reputation":360,"user_id":3860494,"accept_rate":60,"display_name":"Cromm"},"score":0,"creation_date":1583475120,"post_id":60547923,"comment_id":107136662,"body_markdown":"@VishalSharma : Edited to add .properties files and configuration class.","body":"@VishalSharma : Edited to add .properties files and configuration class."},{"owner":{"account_id":4993288,"reputation":166,"user_id":4014797,"display_name":"Vishal"},"score":0,"creation_date":1583565876,"post_id":60547923,"comment_id":107167197,"body_markdown":"I had doubt that your Bean might also be Lazy but that&#39;s not the case. Hence it should be initialized at the startup only. Can you put breakpoints in your methods and see if it hits all the bean creation at startup.","body":"I had doubt that your Bean might also be Lazy but that&#39;s not the case. Hence it should be initialized at the startup only. Can you put breakpoints in your methods and see if it hits all the bean creation at startup."}],"answers":[{"tags":[],"owner":{"account_id":4777867,"reputation":360,"user_id":3860494,"accept_rate":60,"display_name":"Cromm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1583739282,"creation_date":1583739282,"answer_id":60596297,"question_id":60547923,"body_markdown":"I&#39;ve found the answer.\r\n\r\nSo, first, the dataSources are all created, BUT, the pool attached to it are not created until asked. So the idea is to force their initialization when starting the application.\r\n\r\nThis can be achieved like this (see https://stackoverflow.com/questions/56908309/how-to-configure-hikari-pool-for-eager-initialization ):\r\n\r\nYou can use an [`ApplicationLoader`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html) and get a connection at startup:\r\n\r\n    @Component\r\n    public class HikariLoader implements ApplicationRunner {\r\n    \r\n      private final HikariDataSource hikariDataSource;\r\n    \r\n      @Autowired\r\n      public HikariLoader(HikariDataSource hikariDataSource) {\r\n        this.hikariDataSource = hikariDataSource;\r\n      }\r\n    \r\n      @Autowired\r\n      public void run(ApplicationArguments args) throws SQLException {\r\n        hikariDataSource.getConnection();\r\n      }\r\n    }\r\n","title":"HikariCP - Multiple datasources, only primary datasource&#39;s pool started (spring boot)","body":"<p>I've found the answer.</p>\n\n<p>So, first, the dataSources are all created, BUT, the pool attached to it are not created until asked. So the idea is to force their initialization when starting the application.</p>\n\n<p>This can be achieved like this (see <a href=\"https://stackoverflow.com/questions/56908309/how-to-configure-hikari-pool-for-eager-initialization\">How to configure hikari pool for eager initialization?</a> ):</p>\n\n<p>You can use an <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationRunner.html\" rel=\"nofollow noreferrer\"><code>ApplicationLoader</code></a> and get a connection at startup:</p>\n\n<pre><code>@Component\npublic class HikariLoader implements ApplicationRunner {\n\n  private final HikariDataSource hikariDataSource;\n\n  @Autowired\n  public HikariLoader(HikariDataSource hikariDataSource) {\n    this.hikariDataSource = hikariDataSource;\n  }\n\n  @Autowired\n  public void run(ApplicationArguments args) throws SQLException {\n    hikariDataSource.getConnection();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4738700,"reputation":179,"user_id":3832254,"accept_rate":50,"display_name":"Vikram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659113063,"creation_date":1659113063,"answer_id":73168552,"question_id":60547923,"body_markdown":"Try the following approach, It works for me with both data sources. \r\n\r\n  \r\n\r\n     first.datasource.jdbc-url=jdbc-url\r\n            first.datasource.username=username\r\n            first.datasource.password=password\r\n            .\r\n            .\r\n            .\r\n            .\r\n            =================== In Java Configuration File ==================\r\n            \r\n            @Primary\r\n           @Bean(name = &quot;firstDataSource&quot;)\r\n                @ConfigurationProperties(prefix = &quot;first.datasource&quot;)\r\n                public DataSource dataSource() {\r\n                    return DataSourceBuilder.create().build();\r\n                }\r\n            \r\n        \r\n        @Primary\r\n                @Bean(name = &quot;firstEntityManagerFactory&quot;)\r\n                public LocalContainerEntityManagerFactoryBean barEntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                        @Qualifier(&quot;firstDataSource&quot;) DataSource dataSource) {\r\n                    Map&lt;String, String&gt; props = new HashMap&lt;String, String&gt;();\r\n                    props.put(&quot;spring.jpa.database-platform&quot;,  &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\r\n            .\r\n            .\r\n            .\r\n            \r\n                    return builder.dataSource(dataSource).packages(&quot;com.first.entity&quot;).persistenceUnit(&quot;firstDB&quot;)\r\n                            .properties(props)\r\n                            .build();\r\n                }\r\n        \r\n            @Primary\r\n                @Bean(name = &quot;firstTransactionManager&quot;)\r\n                public PlatformTransactionManager firstTransactionManager(\r\n                        @Qualifier(&quot;firstEntityManagerFactory&quot;) EntityManagerFactory firstEntityManagerFactory) {\r\n                    return new JpaTransactionManager(firstEntityManagerFactory);\r\n                }\r\n        \r\n        second.datasource.jdbc-url=jdbc-url\r\n        second.datasource.username=username\r\n        second.datasource.password=password\r\n        .\r\n        .\r\n        .\r\n        .\r\n        =================== In Java Configuration File ==================\r\n        \r\n           @Bean(name = &quot;secondDataSource&quot;)\r\n            @ConfigurationProperties(prefix = &quot;second.datasource&quot;)\r\n            public DataSource dataSource() {\r\n                return DataSourceBuilder.create().build();\r\n            }\r\n        \r\n            @Bean(name = &quot;secondEntityManagerFactory&quot;)\r\n            public LocalContainerEntityManagerFactoryBean barEntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                    @Qualifier(&quot;secondDataSource&quot;) DataSource dataSource) {\r\n                Map&lt;String, String&gt; props = new HashMap&lt;String, String&gt;();\r\n                props.put(&quot;spring.jpa.database-platform&quot;,  &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\r\n        .\r\n        .\r\n        .\r\n        \r\n                return builder.dataSource(dataSource).packages(&quot;com.second.entity&quot;).persistenceUnit(&quot;secondDB&quot;)\r\n                        .properties(props)\r\n                        .build();\r\n            }\r\n        \r\n            @Bean(name = &quot;secondTransactionManager&quot;)\r\n            public PlatformTransactionManager secondTransactionManager(\r\n                    @Qualifier(&quot;secondEntityManagerFactory&quot;) EntityManagerFactory secondEntityManagerFactory) {\r\n                return new JpaTransactionManager(secondEntityManagerFactory);\r\n            }","title":"HikariCP - Multiple datasources, only primary datasource&#39;s pool started (spring boot)","body":"<p>Try the following approach, It works for me with both data sources.</p>\n<pre><code> first.datasource.jdbc-url=jdbc-url\n        first.datasource.username=username\n        first.datasource.password=password\n        .\n        .\n        .\n        .\n        =================== In Java Configuration File ==================\n        \n        @Primary\n       @Bean(name = &quot;firstDataSource&quot;)\n            @ConfigurationProperties(prefix = &quot;first.datasource&quot;)\n            public DataSource dataSource() {\n                return DataSourceBuilder.create().build();\n            }\n        \n    \n    @Primary\n            @Bean(name = &quot;firstEntityManagerFactory&quot;)\n            public LocalContainerEntityManagerFactoryBean barEntityManagerFactory(EntityManagerFactoryBuilder builder,\n                    @Qualifier(&quot;firstDataSource&quot;) DataSource dataSource) {\n                Map&lt;String, String&gt; props = new HashMap&lt;String, String&gt;();\n                props.put(&quot;spring.jpa.database-platform&quot;,  &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\n        .\n        .\n        .\n        \n                return builder.dataSource(dataSource).packages(&quot;com.first.entity&quot;).persistenceUnit(&quot;firstDB&quot;)\n                        .properties(props)\n                        .build();\n            }\n    \n        @Primary\n            @Bean(name = &quot;firstTransactionManager&quot;)\n            public PlatformTransactionManager firstTransactionManager(\n                    @Qualifier(&quot;firstEntityManagerFactory&quot;) EntityManagerFactory firstEntityManagerFactory) {\n                return new JpaTransactionManager(firstEntityManagerFactory);\n            }\n    \n    second.datasource.jdbc-url=jdbc-url\n    second.datasource.username=username\n    second.datasource.password=password\n    .\n    .\n    .\n    .\n    =================== In Java Configuration File ==================\n    \n       @Bean(name = &quot;secondDataSource&quot;)\n        @ConfigurationProperties(prefix = &quot;second.datasource&quot;)\n        public DataSource dataSource() {\n            return DataSourceBuilder.create().build();\n        }\n    \n        @Bean(name = &quot;secondEntityManagerFactory&quot;)\n        public LocalContainerEntityManagerFactoryBean barEntityManagerFactory(EntityManagerFactoryBuilder builder,\n                @Qualifier(&quot;secondDataSource&quot;) DataSource dataSource) {\n            Map&lt;String, String&gt; props = new HashMap&lt;String, String&gt;();\n            props.put(&quot;spring.jpa.database-platform&quot;,  &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\n    .\n    .\n    .\n    \n            return builder.dataSource(dataSource).packages(&quot;com.second.entity&quot;).persistenceUnit(&quot;secondDB&quot;)\n                    .properties(props)\n                    .build();\n        }\n    \n        @Bean(name = &quot;secondTransactionManager&quot;)\n        public PlatformTransactionManager secondTransactionManager(\n                @Qualifier(&quot;secondEntityManagerFactory&quot;) EntityManagerFactory secondEntityManagerFactory) {\n            return new JpaTransactionManager(secondEntityManagerFactory);\n        }\n</code></pre>\n"}],"owner":{"account_id":4777867,"reputation":360,"user_id":3860494,"accept_rate":60,"display_name":"Cromm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6960,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60596297,"answer_count":2,"score":1,"last_activity_date":1659113063,"creation_date":1583419456,"question_id":60547923,"body_markdown":"So, I&#39;ve configured my spring boot application to handle multiple datasource everything is good, but I noticed that when I launch the application, the primary datasource&#39;s pool is started but not the others, only when they are needed (which sometimes results in nullpointer...) \r\n\r\n \r\n\r\n    2020-03-05 15:34:02.478  INFO 11172 --- [           main] be.MyApp.ESPI.EspiApplication           : \r\n\r\n    Starting EspiApplication on BESVC-HQ2000928 with PID 11172 (C:\\Users\\...\\Documents\\MyApp\\Others\\ESPI\\ESPI\\target\\classes started by ... in C:\\Users\\...\\Documents\\MyApp\\Others\\ESPI\\ESPI)\r\n    2020-03-05 15:34:02.483  INFO 11172 --- [           main] be.MyApp.ESPI.EspiApplication           : The following profiles are active: dev\r\n    2020-03-05 15:34:03.149  INFO 11172 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2020-03-05 15:34:03.233  INFO 11172 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65ms. Found 2 JPA repository interfaces.\r\n    2020-03-05 15:34:03.811  INFO 11172 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2020-03-05 15:34:04.433  INFO 11172 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2020-03-05 15:34:04.444  INFO 11172 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2020-03-05 15:34:04.444  INFO 11172 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\r\n    2020-03-05 15:34:04.603  INFO 11172 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2020-03-05 15:34:04.603  INFO 11172 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2047 ms\r\n    2020-03-05 15:34:04.761  WARN 11172 --- [           main] com.zaxxer.hikari.HikariConfig           : FirstPool - maxLifetime is less than 30000ms, setting to default 1800000ms.\r\n    2020-03-05 15:34:04.761  INFO 11172 --- [           main] com.zaxxer.hikari.HikariDataSource       : FirstPool - Starting...\r\n    2020-03-05 15:34:05.095  INFO 11172 --- [           main] com.zaxxer.hikari.pool.PoolBase          : FirstPool - Driver does not support get/set network timeout for connections. (oracle.jdbc.driver.T4CConnection.getNetworkTimeout()I)\r\n    2020-03-05 15:34:05.099  INFO 11172 --- [           main] com.zaxxer.hikari.HikariDataSource       : FirstPool - Start completed.\r\n    2020-03-05 15:34:05.159  INFO 11172 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2020-03-05 15:34:05.243  INFO 11172 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.4.10.Final}\r\n    2020-03-05 15:34:05.414  INFO 11172 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    2020-03-05 15:34:05.554  INFO 11172 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\r\n    2020-03-05 15:34:06.519  INFO 11172 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2020-03-05 15:34:06.526  INFO 11172 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2020-03-05 15:34:06.853  WARN 11172 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2020-03-05 15:34:06.947  INFO 11172 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2020-03-05 15:34:07.115  INFO 11172 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2020-03-05 15:34:07.116  INFO 11172 --- [           main] be.myapp.ESPI.EspiApplication           : Started EspiApplication in 5.135 seconds (JVM running for 5.744)\r\n    2020-03-05 15:34:17.044  INFO 11172 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2020-03-05 15:34:17.044  INFO 11172 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2020-03-05 15:34:17.052  INFO 11172 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms\r\n    2020-03-05 15:34:17.087  WARN 11172 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariConfig           : SecondPool- maxLifetime is less than 30000ms, setting to default 1800000ms.\r\n    2020-03-05 15:34:17.087  INFO 11172 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : SecondPool- Starting...\r\n    2020-03-05 15:34:17.176  INFO 11172 --- [nio-8080-exec-1] com.zaxxer.hikari.pool.PoolBase          : SecondPool- Driver does not support get/set network timeout for connections. (oracle.jdbc.driver.T4CConnection.getNetworkTimeout()I)\r\n    2020-03-05 15:34:17.178  INFO 11172 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : SecondPool- Start completed.\r\n\r\n\r\nAs you can see FirstPool is started. Spring Application starts. Then, only when needed, the SecondPool is started... I wonder how I can force the pool to start before the application starts ?\r\n\r\nEDIT : \r\nMy properties file are like this : \r\n\r\n    # DataSource definitions :\r\n    \r\n    first.datasource.jdbc-url=jdbc:oracle:thin:@*a host*\r\n    first.datasource.username=user1\r\n    first.datasource.password=xxxxxxxxx\r\n    first.datasource.poolName=FirstPool\r\n    first.datasource.maximumPoolSize=100\r\n    first.datasource.maxLifetime=10000\r\n    \r\n    second.datasource.jdbc-url=jdbc:oracle:thin:@*another host*\r\n    second.datasource.username=user2\r\n    second.datasource.password=xxxxxxxxx\r\n    second.datasource.poolName=SecondPool\r\n    second.datasource.maximumPoolSize=100\r\n    second.datasource.maxLifetime=10000\r\n\r\nSecond part :\r\n\r\n    # Profile definition\r\n    spring.profiles.active=@spring.profiles.active@\r\n    \r\n    # JPA definitions\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.database=oracle\r\n    \r\n    # DataSource\r\n    spring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\n    spring.datasource.hikari.dataSourceClassName=oracle.jdbc.pool.OracleDataSource\r\n    spring.datasource.hikari.dataSourceProperties.implicitCachingEnabled=true\r\n    spring.datasource.hikari.dataSourceProperties.fastConnectionFailoverEnabled=true\r\n    \r\n    # Oracle specifics\r\n    oracle.net.tns_admin=${ORACLE_HOME}/NETWORK/ADMIN\r\n\r\nThe configuration class that handle the DB Configuration :\r\n\r\n    @Configuration\r\n    @PropertySource({ &quot;classpath:application.properties&quot;, &quot;classpath:application-${spring.profiles.active}.properties&quot;})\r\n    @Primary\r\n    public class DBConfiguration {\r\n    \r\n        @Bean(name = &quot;FirstDataSource&quot;)\r\n        @ConfigurationProperties(&quot;first.datasource&quot;)\r\n        @Primary\r\n        public HikariDataSource FirstDataSource() {\r\n            return (HikariDataSource) DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Bean(name = &quot;SecondDataSource&quot;)\r\n        @ConfigurationProperties(&quot;second.datasource&quot;)\r\n        public HikariDataSource SecondDataSource() {\r\n            return (HikariDataSource) DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Bean(name=&quot;FirstTM&quot;)\r\n        @Autowired\r\n        @Primary\r\n        DataSourceTransactionManager FirstTM(@Qualifier (&quot;FirstDataSource&quot;) DataSource datasource) {\r\n            DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n            return txm;\r\n        }\r\n    \r\n        @Bean(name=&quot;SecondTM&quot;)\r\n        @Autowired\r\n        DataSourceTransactionManager SecondTM(@Qualifier(&quot;SecondDataSource&quot;) DataSource datasource) {\r\n            DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\r\n            return txm;\r\n        }\r\n    \r\n    \r\n    }","title":"HikariCP - Multiple datasources, only primary datasource&#39;s pool started (spring boot)","body":"<p>So, I've configured my spring boot application to handle multiple datasource everything is good, but I noticed that when I launch the application, the primary datasource's pool is started but not the others, only when they are needed (which sometimes results in nullpointer...) </p>\n\n<pre><code>2020-03-05 15:34:02.478  INFO 11172 --- [           main] be.MyApp.ESPI.EspiApplication           : \n\nStarting EspiApplication on BESVC-HQ2000928 with PID 11172 (C:\\Users\\...\\Documents\\MyApp\\Others\\ESPI\\ESPI\\target\\classes started by ... in C:\\Users\\...\\Documents\\MyApp\\Others\\ESPI\\ESPI)\n2020-03-05 15:34:02.483  INFO 11172 --- [           main] be.MyApp.ESPI.EspiApplication           : The following profiles are active: dev\n2020-03-05 15:34:03.149  INFO 11172 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-03-05 15:34:03.233  INFO 11172 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65ms. Found 2 JPA repository interfaces.\n2020-03-05 15:34:03.811  INFO 11172 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2020-03-05 15:34:04.433  INFO 11172 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-03-05 15:34:04.444  INFO 11172 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-03-05 15:34:04.444  INFO 11172 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\n2020-03-05 15:34:04.603  INFO 11172 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-03-05 15:34:04.603  INFO 11172 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2047 ms\n2020-03-05 15:34:04.761  WARN 11172 --- [           main] com.zaxxer.hikari.HikariConfig           : FirstPool - maxLifetime is less than 30000ms, setting to default 1800000ms.\n2020-03-05 15:34:04.761  INFO 11172 --- [           main] com.zaxxer.hikari.HikariDataSource       : FirstPool - Starting...\n2020-03-05 15:34:05.095  INFO 11172 --- [           main] com.zaxxer.hikari.pool.PoolBase          : FirstPool - Driver does not support get/set network timeout for connections. (oracle.jdbc.driver.T4CConnection.getNetworkTimeout()I)\n2020-03-05 15:34:05.099  INFO 11172 --- [           main] com.zaxxer.hikari.HikariDataSource       : FirstPool - Start completed.\n2020-03-05 15:34:05.159  INFO 11172 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2020-03-05 15:34:05.243  INFO 11172 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.4.10.Final}\n2020-03-05 15:34:05.414  INFO 11172 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2020-03-05 15:34:05.554  INFO 11172 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle12cDialect\n2020-03-05 15:34:06.519  INFO 11172 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2020-03-05 15:34:06.526  INFO 11172 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2020-03-05 15:34:06.853  WARN 11172 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2020-03-05 15:34:06.947  INFO 11172 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2020-03-05 15:34:07.115  INFO 11172 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2020-03-05 15:34:07.116  INFO 11172 --- [           main] be.myapp.ESPI.EspiApplication           : Started EspiApplication in 5.135 seconds (JVM running for 5.744)\n2020-03-05 15:34:17.044  INFO 11172 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2020-03-05 15:34:17.044  INFO 11172 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2020-03-05 15:34:17.052  INFO 11172 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms\n2020-03-05 15:34:17.087  WARN 11172 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariConfig           : SecondPool- maxLifetime is less than 30000ms, setting to default 1800000ms.\n2020-03-05 15:34:17.087  INFO 11172 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : SecondPool- Starting...\n2020-03-05 15:34:17.176  INFO 11172 --- [nio-8080-exec-1] com.zaxxer.hikari.pool.PoolBase          : SecondPool- Driver does not support get/set network timeout for connections. (oracle.jdbc.driver.T4CConnection.getNetworkTimeout()I)\n2020-03-05 15:34:17.178  INFO 11172 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : SecondPool- Start completed.\n</code></pre>\n\n<p>As you can see FirstPool is started. Spring Application starts. Then, only when needed, the SecondPool is started... I wonder how I can force the pool to start before the application starts ?</p>\n\n<p>EDIT : \nMy properties file are like this : </p>\n\n<pre><code># DataSource definitions :\n\nfirst.datasource.jdbc-url=jdbc:oracle:thin:@*a host*\nfirst.datasource.username=user1\nfirst.datasource.password=xxxxxxxxx\nfirst.datasource.poolName=FirstPool\nfirst.datasource.maximumPoolSize=100\nfirst.datasource.maxLifetime=10000\n\nsecond.datasource.jdbc-url=jdbc:oracle:thin:@*another host*\nsecond.datasource.username=user2\nsecond.datasource.password=xxxxxxxxx\nsecond.datasource.poolName=SecondPool\nsecond.datasource.maximumPoolSize=100\nsecond.datasource.maxLifetime=10000\n</code></pre>\n\n<p>Second part :</p>\n\n<pre><code># Profile definition\nspring.profiles.active=@spring.profiles.active@\n\n# JPA definitions\nspring.jpa.show-sql=true\nspring.jpa.database=oracle\n\n# DataSource\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\nspring.datasource.hikari.dataSourceClassName=oracle.jdbc.pool.OracleDataSource\nspring.datasource.hikari.dataSourceProperties.implicitCachingEnabled=true\nspring.datasource.hikari.dataSourceProperties.fastConnectionFailoverEnabled=true\n\n# Oracle specifics\noracle.net.tns_admin=${ORACLE_HOME}/NETWORK/ADMIN\n</code></pre>\n\n<p>The configuration class that handle the DB Configuration :</p>\n\n<pre><code>@Configuration\n@PropertySource({ \"classpath:application.properties\", \"classpath:application-${spring.profiles.active}.properties\"})\n@Primary\npublic class DBConfiguration {\n\n    @Bean(name = \"FirstDataSource\")\n    @ConfigurationProperties(\"first.datasource\")\n    @Primary\n    public HikariDataSource FirstDataSource() {\n        return (HikariDataSource) DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = \"SecondDataSource\")\n    @ConfigurationProperties(\"second.datasource\")\n    public HikariDataSource SecondDataSource() {\n        return (HikariDataSource) DataSourceBuilder.create().build();\n    }\n\n    @Bean(name=\"FirstTM\")\n    @Autowired\n    @Primary\n    DataSourceTransactionManager FirstTM(@Qualifier (\"FirstDataSource\") DataSource datasource) {\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n        return txm;\n    }\n\n    @Bean(name=\"SecondTM\")\n    @Autowired\n    DataSourceTransactionManager SecondTM(@Qualifier(\"SecondDataSource\") DataSource datasource) {\n        DataSourceTransactionManager txm  = new DataSourceTransactionManager(datasource);\n        return txm;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","flyway","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1496701172,"creation_date":1496680756,"answer_id":44373605,"question_id":44373186,"body_markdown":"Declaring your own `DataSource` will already have implicity disabled Spring Boot&#39;s auto-configuration of a data source. In other words this won&#39;t be having any effect:\r\n\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\r\n\r\nI think the problem lies in the fact that you aren&#39;t binding Hikari-specific configuration to your MySQL `DataSource`. You need to do something like this:\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(&quot;spring.datasource.hikari&quot;)\r\n    public DataSource mySQLDataSource() {\r\n        return mySQLDataSourceProperties().initializeDataSourceBuilder().build();\r\n    }\r\n\r\nThis will mean that your `mySQLDataSourceProperties` are configured with general-purpose data source configuration. They then create a `HikariDataSource` which is further configured with the Hikari-specific configuration.","title":"How to use HikariCP in Spring Boot with two datasources in conjunction with Flyway","body":"<p>Declaring your own <code>DataSource</code> will already have implicity disabled Spring Boot's auto-configuration of a data source. In other words this won't be having any effect:</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\n</code></pre>\n\n<p>I think the problem lies in the fact that you aren't binding Hikari-specific configuration to your MySQL <code>DataSource</code>. You need to do something like this:</p>\n\n<pre><code>@Bean\n@Primary\n@ConfigurationProperties(\"spring.datasource.hikari\")\npublic DataSource mySQLDataSource() {\n    return mySQLDataSourceProperties().initializeDataSourceBuilder().build();\n}\n</code></pre>\n\n<p>This will mean that your <code>mySQLDataSourceProperties</code> are configured with general-purpose data source configuration. They then create a <code>HikariDataSource</code> which is further configured with the Hikari-specific configuration.</p>\n"},{"tags":[],"owner":{"account_id":8827471,"reputation":491,"user_id":6595261,"accept_rate":20,"display_name":"ThomasW"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1496688172,"creation_date":1496688172,"answer_id":44375620,"question_id":44373186,"body_markdown":"Thank you Andy for your fast and valuable answer ! You set me on the right track. After fiddling around, I found this configuration is working for me :\r\n\r\n        @Bean\r\n    \t@Primary\r\n    \t@ConfigurationProperties(&quot;spring.datasource&quot;) \r\n      //@ConfigurationProperties(&quot;spring.datasource.hikari&quot;) can also be used, no difference\r\n    \tpublic DataSourceProperties mySQLDataSourceProperties() {\r\n    \t    return new DataSourceProperties();\r\n    \t}\r\n\t\t\r\n        @Bean\r\n    \t@Primary\r\n    \t@ConfigurationProperties(&quot;spring.datasource.hikari&quot;)\r\n    \tpublic DataSource mySQLDataSource() {\r\n    \t    return mySQLDataSourceProperties().initializeDataSourceBuilder().build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\r\n    \tpublic HikariConfig hikariConfig() {\r\n    \t    return new HikariConfig();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t    return new HikariDataSource(hikariConfig());\r\n    \t}\r\n\r\n\r\nand I had to add these settings in the application.properties:\r\n\r\n    # this is absolutely mandatory otherwise BeanInstantiationException in mySQLDataSource ! \r\n    spring.datasource.url=${JDBC_CONNECTION_STRING}\r\n       \r\n    spring.datasource.hikari.jdbc-url=${JDBC_CONNECTION_STRING}\r\n\r\n    spring.datasource.hikari.username=user\r\n    spring.datasource.hikari.password=pass\r\n    \r\n   ","title":"How to use HikariCP in Spring Boot with two datasources in conjunction with Flyway","body":"<p>Thank you Andy for your fast and valuable answer ! You set me on the right track. After fiddling around, I found this configuration is working for me :</p>\n\n<pre><code>    @Bean\n    @Primary\n    @ConfigurationProperties(\"spring.datasource\") \n  //@ConfigurationProperties(\"spring.datasource.hikari\") can also be used, no difference\n    public DataSourceProperties mySQLDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(\"spring.datasource.hikari\")\n    public DataSource mySQLDataSource() {\n        return mySQLDataSourceProperties().initializeDataSourceBuilder().build();\n    }\n\n    @Bean\n    @ConfigurationProperties(prefix = \"spring.datasource.hikari\")\n    public HikariConfig hikariConfig() {\n        return new HikariConfig();\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        return new HikariDataSource(hikariConfig());\n    }\n</code></pre>\n\n<p>and I had to add these settings in the application.properties:</p>\n\n<pre><code># this is absolutely mandatory otherwise BeanInstantiationException in mySQLDataSource ! \nspring.datasource.url=${JDBC_CONNECTION_STRING}\n\nspring.datasource.hikari.jdbc-url=${JDBC_CONNECTION_STRING}\n\nspring.datasource.hikari.username=user\nspring.datasource.hikari.password=pass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4738700,"reputation":179,"user_id":3832254,"accept_rate":50,"display_name":"Vikram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659112961,"creation_date":1659112961,"answer_id":73168533,"question_id":44373186,"body_markdown":"   \r\n\r\n I used the following approach\r\n\r\n\r\n        first.datasource.jdbc-url=jdbc-url\r\n        first.datasource.username=username\r\n        first.datasource.password=password\r\n        .\r\n        .\r\n        .\r\n        .\r\n        =================== In Java Configuration File ==================\r\n        \r\n        @Primary\r\n       @Bean(name = &quot;firstDataSource&quot;)\r\n            @ConfigurationProperties(prefix = &quot;first.datasource&quot;)\r\n            public DataSource dataSource() {\r\n                return DataSourceBuilder.create().build();\r\n            }\r\n        \r\n    \r\n    @Primary\r\n            @Bean(name = &quot;firstEntityManagerFactory&quot;)\r\n            public LocalContainerEntityManagerFactoryBean barEntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                    @Qualifier(&quot;firstDataSource&quot;) DataSource dataSource) {\r\n                Map&lt;String, String&gt; props = new HashMap&lt;String, String&gt;();\r\n                props.put(&quot;spring.jpa.database-platform&quot;,  &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\r\n        .\r\n        .\r\n        .\r\n        \r\n                return builder.dataSource(dataSource).packages(&quot;com.first.entity&quot;).persistenceUnit(&quot;firstDB&quot;)\r\n                        .properties(props)\r\n                        .build();\r\n            }\r\n    \r\n        @Primary\r\n            @Bean(name = &quot;firstTransactionManager&quot;)\r\n            public PlatformTransactionManager firstTransactionManager(\r\n                    @Qualifier(&quot;firstEntityManagerFactory&quot;) EntityManagerFactory firstEntityManagerFactory) {\r\n                return new JpaTransactionManager(firstEntityManagerFactory);\r\n            }\r\n\r\n    second.datasource.jdbc-url=jdbc-url\r\n    second.datasource.username=username\r\n    second.datasource.password=password\r\n    .\r\n    .\r\n    .\r\n    .\r\n    =================== In Java Configuration File ==================\r\n    \r\n       @Bean(name = &quot;secondDataSource&quot;)\r\n        @ConfigurationProperties(prefix = &quot;second.datasource&quot;)\r\n        public DataSource dataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Bean(name = &quot;secondEntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean barEntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                @Qualifier(&quot;secondDataSource&quot;) DataSource dataSource) {\r\n            Map&lt;String, String&gt; props = new HashMap&lt;String, String&gt;();\r\n            props.put(&quot;spring.jpa.database-platform&quot;,  &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\r\n    .\r\n    .\r\n    .\r\n    \r\n            return builder.dataSource(dataSource).packages(&quot;com.second.entity&quot;).persistenceUnit(&quot;secondDB&quot;)\r\n                    .properties(props)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(name = &quot;secondTransactionManager&quot;)\r\n        public PlatformTransactionManager secondTransactionManager(\r\n                @Qualifier(&quot;secondEntityManagerFactory&quot;) EntityManagerFactory secondEntityManagerFactory) {\r\n            return new JpaTransactionManager(secondEntityManagerFactory);\r\n        }","title":"How to use HikariCP in Spring Boot with two datasources in conjunction with Flyway","body":"<p>I used the following approach</p>\n<pre><code>    first.datasource.jdbc-url=jdbc-url\n    first.datasource.username=username\n    first.datasource.password=password\n    .\n    .\n    .\n    .\n    =================== In Java Configuration File ==================\n    \n    @Primary\n   @Bean(name = &quot;firstDataSource&quot;)\n        @ConfigurationProperties(prefix = &quot;first.datasource&quot;)\n        public DataSource dataSource() {\n            return DataSourceBuilder.create().build();\n        }\n    \n\n@Primary\n        @Bean(name = &quot;firstEntityManagerFactory&quot;)\n        public LocalContainerEntityManagerFactoryBean barEntityManagerFactory(EntityManagerFactoryBuilder builder,\n                @Qualifier(&quot;firstDataSource&quot;) DataSource dataSource) {\n            Map&lt;String, String&gt; props = new HashMap&lt;String, String&gt;();\n            props.put(&quot;spring.jpa.database-platform&quot;,  &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\n    .\n    .\n    .\n    \n            return builder.dataSource(dataSource).packages(&quot;com.first.entity&quot;).persistenceUnit(&quot;firstDB&quot;)\n                    .properties(props)\n                    .build();\n        }\n\n    @Primary\n        @Bean(name = &quot;firstTransactionManager&quot;)\n        public PlatformTransactionManager firstTransactionManager(\n                @Qualifier(&quot;firstEntityManagerFactory&quot;) EntityManagerFactory firstEntityManagerFactory) {\n            return new JpaTransactionManager(firstEntityManagerFactory);\n        }\n\nsecond.datasource.jdbc-url=jdbc-url\nsecond.datasource.username=username\nsecond.datasource.password=password\n.\n.\n.\n.\n=================== In Java Configuration File ==================\n\n   @Bean(name = &quot;secondDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;second.datasource&quot;)\n    public DataSource dataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;secondEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean barEntityManagerFactory(EntityManagerFactoryBuilder builder,\n            @Qualifier(&quot;secondDataSource&quot;) DataSource dataSource) {\n        Map&lt;String, String&gt; props = new HashMap&lt;String, String&gt;();\n        props.put(&quot;spring.jpa.database-platform&quot;,  &quot;org.hibernate.dialect.Oracle12cDialect&quot;);\n.\n.\n.\n\n        return builder.dataSource(dataSource).packages(&quot;com.second.entity&quot;).persistenceUnit(&quot;secondDB&quot;)\n                .properties(props)\n                .build();\n    }\n\n    @Bean(name = &quot;secondTransactionManager&quot;)\n    public PlatformTransactionManager secondTransactionManager(\n            @Qualifier(&quot;secondEntityManagerFactory&quot;) EntityManagerFactory secondEntityManagerFactory) {\n        return new JpaTransactionManager(secondEntityManagerFactory);\n    }\n</code></pre>\n"}],"owner":{"account_id":8827471,"reputation":491,"user_id":6595261,"accept_rate":20,"display_name":"ThomasW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47185,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":3,"score":32,"last_activity_date":1659112961,"creation_date":1496679263,"question_id":44373186,"body_markdown":"I want to use HikariCP as JDBC connection pool in my Spring boot application. I have two datasources (MySQL database as the primary database and accessing those data through Hibernate and additionally an Oracle database for reading some other data through JDBCTemplate).\r\n\r\nI set the MySQL datasource as primary bean:\r\n\r\n\t@Bean\r\n\t@Primary\r\n\t@ConfigurationProperties(&quot;spring.datasource&quot;)\r\n\tpublic DataSourceProperties mySQLDataSourceProperties() {\r\n\t    return new DataSourceProperties();\r\n\t}\r\n\t\t\r\n\r\n\t@Bean\r\n\t@Primary\r\n\t@ConfigurationProperties(&quot;spring.datasource&quot;)\r\n\tpublic DataSource mySQLDataSource() {\r\n\t    return mySQLDataSourceProperties().initializeDataSourceBuilder().build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;oracle.datasource&quot;)\r\n\tpublic DataSourceProperties oracleDataSourceProperties() {\r\n\t    return new DataSourceProperties();\r\n\t}\r\n\t\r\n\t@Bean(name = &quot;oracleDatabase&quot;)\r\n\t@ConfigurationProperties(&quot;oracle.datasource&quot;)\r\n\tpublic DataSource oracleDataSource() {\r\n\t    return oracleDataSourceProperties().initializeDataSourceBuilder().build();\r\n\t}\r\n\r\n\t @Bean\r\n\t public JdbcTemplate oracleJdbcTemplate(@Qualifier(&quot;oracleDatabase&quot;) DataSource oracleDb) {\r\n\t     return new JdbcTemplate(oracleDb);\r\n\t }\r\n\r\n and I put the following configurations in my application.properties : \r\n\r\n    spring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\n    \r\n    spring.datasource.hikari.minimum-idle=7\r\n    spring.datasource.hikari.pool-name=Test-1\r\n    \r\n    spring.datasource.hikari.data-source-properties.prepStmtCacheSize=250\r\n    spring.datasource.hikari.data-source-properties.prepStmtCacheSqlLimit=2048\r\n    spring.datasource.hikari.data-source-properties.cachePrepStmts=true\r\n    spring.datasource.hikari.data-source-properties.useServerPrepStmts=true\r\n\r\n\r\nUnforuntately, these HikariCP configurations are not being read :\r\n\r\n     HikariConfig - dataSourceJNDI..................none\r\n     HikariConfig - dataSourceProperties............{password=&lt;masked&gt;}\r\n     HikariConfig - driverClassName.................&quot;com.mysql.jdbc.Driver&quot;\r\n     HikariConfig - healthCheckProperties...........{}\r\n     HikariConfig - healthCheckRegistry.............none\r\n     HikariConfig - idleTimeout.....................600000\r\n     HikariConfig - initializationFailFast..........true\r\n     HikariConfig - initializationFailTimeout.......1\r\n     HikariConfig - isolateInternalQueries..........false\r\n     HikariConfig - jdbc4ConnectionTest.............false\r\n     HikariConfig - jdbcUrl.........................&quot;jdbc:mysql://localhost:3306/testDB&quot;\r\n     HikariConfig - leakDetectionThreshold..........0\r\n     HikariConfig - maxLifetime.....................1800000\r\n     HikariConfig - maximumPoolSize.................10\r\n     HikariConfig - metricRegistry..................none\r\n     HikariConfig - metricsTrackerFactory...........none\r\n     HikariConfig - minimumIdle.....................10\r\n     HikariConfig - password........................&lt;masked&gt;\r\n     HikariConfig - poolName........................&quot;HikariPool-1&quot;\r\n\r\n\r\nCreating the HikariCP beans and deactivating the DataSource autoconfiguration and removing  &quot;spring.datasource&quot; : \r\n\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\r\n    @SpringBootApplication\r\n    @ComponentScan\r\n    public class SpringApplication {\r\n\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\r\n    public HikariConfig hikariConfig() {\r\n    \treturn new HikariConfig();\r\n    }\r\n    \r\n    @Bean\r\n    public DataSource dataSource() {\r\n    \treturn new HikariDataSource(hikariConfig());\r\n    }\r\nsolves my problem :\r\n\r\n     HikariConfig - dataSourceJNDI..................none\r\n     HikariConfig - dataSourceProperties............{password=&lt;masked&gt;, prepStmtCacheSqlLimit=2048, cachePrepStmts=true, useServerPrepStmts=true, prepStmtCacheSize=250}\r\n     HikariConfig - driverClassName.................&quot;com.mysql.jdbc.Driver&quot;\r\n     HikariConfig - healthCheckProperties...........{}\r\n     HikariConfig - healthCheckRegistry.............none\r\n     HikariConfig - idleTimeout.....................600000\r\n     HikariConfig - initializationFailFast..........true\r\n     HikariConfig - initializationFailTimeout.......1\r\n     HikariConfig - isolateInternalQueries..........false\r\n     HikariConfig - jdbc4ConnectionTest.............false\r\n     HikariConfig - jdbcUrl.........................&quot;jdbc:mysql://localhost:3306/testDB?autoReconnect=true&quot;\r\n     HikariConfig - leakDetectionThreshold..........0\r\n     HikariConfig - maxLifetime.....................1800000\r\n     HikariConfig - poolName........................&quot;Test-1&quot;\r\n\r\n\r\nBut then the Flyway showing some weird warnings which were not shown before and I have to create the database Schema manually before running the Spring application, that is : the create schema does not work anymore.\r\n\r\n    [WARN ] JdbcTemplate - DB: Can&#39;t create database &#39;test&#39;; database exists (SQL State: HY000 - Error Code: 1007)\r\n    [WARN ] JdbcTemplate - DB: Unknown table &#39;testSchema.tenant&#39; (SQL State: 42S02 - Error Code: 1051)\r\n    [WARN ] JdbcTemplate - DB: Unknown table &#39;testSchema.user&#39; (SQL State: 42S02 - Error Code: 1051) \r\n\r\n\r\nMy Flyway SQL scripts are plain DDL scripts :\r\n\r\n    CREATE SCHEMA IF NOT EXISTS `testSchema` DEFAULT CHARACTER SET utf8 ;\r\n    \r\n    DROP TABLE IF EXISTS `testSchema`.`tenant`;\r\n    \r\n    CREATE TABLE `testSchema`.`tenant` (\r\n      `id` int NOT NULL AUTO_INCREMENT,\r\n\r\n\r\nI think that disabling the Auto-Datasource configuration is not the best solution since Flyway stops creating the schema and showing warnings.  Is there any other way to solve this ?","title":"How to use HikariCP in Spring Boot with two datasources in conjunction with Flyway","body":"<p>I want to use HikariCP as JDBC connection pool in my Spring boot application. I have two datasources (MySQL database as the primary database and accessing those data through Hibernate and additionally an Oracle database for reading some other data through JDBCTemplate).</p>\n\n<p>I set the MySQL datasource as primary bean:</p>\n\n<pre><code>@Bean\n@Primary\n@ConfigurationProperties(\"spring.datasource\")\npublic DataSourceProperties mySQLDataSourceProperties() {\n    return new DataSourceProperties();\n}\n\n\n@Bean\n@Primary\n@ConfigurationProperties(\"spring.datasource\")\npublic DataSource mySQLDataSource() {\n    return mySQLDataSourceProperties().initializeDataSourceBuilder().build();\n}\n\n@Bean\n@ConfigurationProperties(\"oracle.datasource\")\npublic DataSourceProperties oracleDataSourceProperties() {\n    return new DataSourceProperties();\n}\n\n@Bean(name = \"oracleDatabase\")\n@ConfigurationProperties(\"oracle.datasource\")\npublic DataSource oracleDataSource() {\n    return oracleDataSourceProperties().initializeDataSourceBuilder().build();\n}\n\n @Bean\n public JdbcTemplate oracleJdbcTemplate(@Qualifier(\"oracleDatabase\") DataSource oracleDb) {\n     return new JdbcTemplate(oracleDb);\n }\n</code></pre>\n\n<p>and I put the following configurations in my application.properties : </p>\n\n<pre><code>spring.datasource.type=com.zaxxer.hikari.HikariDataSource\n\nspring.datasource.hikari.minimum-idle=7\nspring.datasource.hikari.pool-name=Test-1\n\nspring.datasource.hikari.data-source-properties.prepStmtCacheSize=250\nspring.datasource.hikari.data-source-properties.prepStmtCacheSqlLimit=2048\nspring.datasource.hikari.data-source-properties.cachePrepStmts=true\nspring.datasource.hikari.data-source-properties.useServerPrepStmts=true\n</code></pre>\n\n<p>Unforuntately, these HikariCP configurations are not being read :</p>\n\n<pre><code> HikariConfig - dataSourceJNDI..................none\n HikariConfig - dataSourceProperties............{password=&lt;masked&gt;}\n HikariConfig - driverClassName.................\"com.mysql.jdbc.Driver\"\n HikariConfig - healthCheckProperties...........{}\n HikariConfig - healthCheckRegistry.............none\n HikariConfig - idleTimeout.....................600000\n HikariConfig - initializationFailFast..........true\n HikariConfig - initializationFailTimeout.......1\n HikariConfig - isolateInternalQueries..........false\n HikariConfig - jdbc4ConnectionTest.............false\n HikariConfig - jdbcUrl.........................\"jdbc:mysql://localhost:3306/testDB\"\n HikariConfig - leakDetectionThreshold..........0\n HikariConfig - maxLifetime.....................1800000\n HikariConfig - maximumPoolSize.................10\n HikariConfig - metricRegistry..................none\n HikariConfig - metricsTrackerFactory...........none\n HikariConfig - minimumIdle.....................10\n HikariConfig - password........................&lt;masked&gt;\n HikariConfig - poolName........................\"HikariPool-1\"\n</code></pre>\n\n<p>Creating the HikariCP beans and deactivating the DataSource autoconfiguration and removing  \"spring.datasource\" : </p>\n\n<pre><code>@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\n@SpringBootApplication\n@ComponentScan\npublic class SpringApplication {\n\n\n@Bean\n@Primary\n@ConfigurationProperties(prefix = \"spring.datasource.hikari\")\npublic HikariConfig hikariConfig() {\n    return new HikariConfig();\n}\n\n@Bean\npublic DataSource dataSource() {\n    return new HikariDataSource(hikariConfig());\n}\n</code></pre>\n\n<p>solves my problem :</p>\n\n<pre><code> HikariConfig - dataSourceJNDI..................none\n HikariConfig - dataSourceProperties............{password=&lt;masked&gt;, prepStmtCacheSqlLimit=2048, cachePrepStmts=true, useServerPrepStmts=true, prepStmtCacheSize=250}\n HikariConfig - driverClassName.................\"com.mysql.jdbc.Driver\"\n HikariConfig - healthCheckProperties...........{}\n HikariConfig - healthCheckRegistry.............none\n HikariConfig - idleTimeout.....................600000\n HikariConfig - initializationFailFast..........true\n HikariConfig - initializationFailTimeout.......1\n HikariConfig - isolateInternalQueries..........false\n HikariConfig - jdbc4ConnectionTest.............false\n HikariConfig - jdbcUrl.........................\"jdbc:mysql://localhost:3306/testDB?autoReconnect=true\"\n HikariConfig - leakDetectionThreshold..........0\n HikariConfig - maxLifetime.....................1800000\n HikariConfig - poolName........................\"Test-1\"\n</code></pre>\n\n<p>But then the Flyway showing some weird warnings which were not shown before and I have to create the database Schema manually before running the Spring application, that is : the create schema does not work anymore.</p>\n\n<pre><code>[WARN ] JdbcTemplate - DB: Can't create database 'test'; database exists (SQL State: HY000 - Error Code: 1007)\n[WARN ] JdbcTemplate - DB: Unknown table 'testSchema.tenant' (SQL State: 42S02 - Error Code: 1051)\n[WARN ] JdbcTemplate - DB: Unknown table 'testSchema.user' (SQL State: 42S02 - Error Code: 1051) \n</code></pre>\n\n<p>My Flyway SQL scripts are plain DDL scripts :</p>\n\n<pre><code>CREATE SCHEMA IF NOT EXISTS `testSchema` DEFAULT CHARACTER SET utf8 ;\n\nDROP TABLE IF EXISTS `testSchema`.`tenant`;\n\nCREATE TABLE `testSchema`.`tenant` (\n  `id` int NOT NULL AUTO_INCREMENT,\n</code></pre>\n\n<p>I think that disabling the Auto-Datasource configuration is not the best solution since Flyway stops creating the schema and showing warnings.  Is there any other way to solve this ?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659112677,"creation_date":1659112677,"answer_id":73168484,"question_id":73162820,"body_markdown":"At a glance it all looks OK. Unless you really don&#39;t close that folder manually elsewhere since you use `receiver.setAutoCloseFolder(false);`\r\n\r\nThere is no reason in that `.taskExecutor(taskExecutor)` since you use `MessageChannels.executor(mailTaskExecutor())` immediately after producing message from the `Mail.imapInboundAdapter()`.\r\n\r\nI remember that in Gitter I suggested you to check how it works with the `spring.task.scheduling.pool.size=10` placed into the `application.properties`. This is the only obvious difference between the mentioned versions: https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.spring-integration.\r\n\r\nYour screenshot doesn&#39;t prove that the problem is exactly with Spring Integration. Perhaps tasks are queued somehow by the tool which exports metrics to Graphana. I believe you have upgraded not just Spring Integration in your project...","title":"Using spring integration v5.5.14 lots of queued task are increasing","body":"<p>At a glance it all looks OK. Unless you really don't close that folder manually elsewhere since you use <code>receiver.setAutoCloseFolder(false);</code></p>\n<p>There is no reason in that <code>.taskExecutor(taskExecutor)</code> since you use <code>MessageChannels.executor(mailTaskExecutor())</code> immediately after producing message from the <code>Mail.imapInboundAdapter()</code>.</p>\n<p>I remember that in Gitter I suggested you to check how it works with the <code>spring.task.scheduling.pool.size=10</code> placed into the <code>application.properties</code>. This is the only obvious difference between the mentioned versions: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.spring-integration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.spring-integration</a>.</p>\n<p>Your screenshot doesn't prove that the problem is exactly with Spring Integration. Perhaps tasks are queued somehow by the tool which exports metrics to Graphana. I believe you have upgraded not just Spring Integration in your project...</p>\n"}],"owner":{"account_id":22198122,"reputation":31,"user_id":16439217,"display_name":"Shrey Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659112677,"creation_date":1659078421,"question_id":73162820,"body_markdown":"after upgrading to spring boot version v2.7.1 we are seeing that there are lots of queued task, we never had seen such queued task increasing in the last version we were using v2.2.2.\r\nOur team has tried to check the things in v2.7.1 but couldn&#39;t found anything in this version.\r\nCan anyone please review the code and let us know what we are missing or have written wrong that is causing the issue. We are using spring integration to pull emails from client server and for that we have add a taskexecutor to have concurrent polling.\r\n\r\nVersions that we use:\r\nSpring Boot = 2.7.1\r\nSpring Integration = 5.5.14\r\n\r\nEarlier we were using:\r\nSpring Boot = 2.2.2 release\r\nSpring Integration = 5.2.3 release\r\n\r\nI&#39;ve attached the code below.\r\n\r\n    Configuration class for Imap Integration\r\n\r\n    @Configuration\r\n    @EnableIntegration\r\n    public class ImapIntegrationConfig {\r\n    \r\n      private final ApplicationContext applicationContext;\r\n    \r\n      @Autowired\r\n      public ImapIntegrationConfig(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n      }\r\n    \r\n      @Bean(&quot;mailTaskExecutor&quot;)\r\n      public ThreadPoolTaskExecutor mailTaskExecutor() {\r\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n        taskExecutor.setMaxPoolSize(1000);\r\n        taskExecutor.setCorePoolSize(100);\r\n        taskExecutor.setTaskDecorator(new SecurityAwareTaskDecorator(applicationContext));\r\n        taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\n        taskExecutor.setAwaitTerminationSeconds(Integer.MAX_VALUE);\r\n        return taskExecutor;\r\n      }\r\n    \r\n      @Bean(&quot;imapMailChannel&quot;)\r\n      public ExecutorChannelSpec imapMailChannel() {\r\n        return MessageChannels.executor(mailTaskExecutor());\r\n      }\r\n    \r\n      @Bean\r\n      public HeaderMapper&lt;MimeMessage&gt; mailHeaderMapper() {\r\n        return new DefaultMailHeaderMapper();\r\n      }\r\n    }\r\n\r\nImapListener Class to register the flow\r\n\r\n    \r\n\r\n    public void registerImapFlow(ImapSetting imapSetting) {\r\n        ImapMailReceiver mailReceiver = createImapMailReceiver(imapSetting);\r\n    \r\n        // create the flow for an email process\r\n        //@formatter:off\r\n        StandardIntegrationFlow flow = IntegrationFlows\r\n          .from(Mail.imapInboundAdapter(mailReceiver),\r\n            consumer -&gt; consumer.autoStartup(true)\r\n                                .poller(Pollers.fixedDelay(Duration.ofSeconds(5), Duration.ofMinutes(2))\r\n                                               .taskExecutor(taskExecutor)\r\n                                               .errorHandler(t -&gt; logger.error(&quot;Error while polling emails for address &quot; + imapSetting.getUsername(), t))\r\n                                               .maxMessagesPerPoll(10)))\r\n          .enrichHeaders(Map.of(CONCERN_CODE, imapSetting.getConcernCode(), IMAP_CONFIG_ID, imapSetting.getImapSettingId()))\r\n          .channel(imapMailChannel).get();\r\n        //@formatter:on\r\n    \r\n        // give the bean a unique name to avoid clashes with multiple imap settings\r\n        String flowId = concernIdentifier.getConcernIdentifier() + &quot;-&quot; + imapSetting.getImapSettingId();\r\n        IntegrationFlowContext.IntegrationFlowRegistration existingFlow = integrationFlowContext.getRegistrationById(flowId);\r\n        if (existingFlow != null) {\r\n          // destroy the previous beans\r\n          existingFlow.destroy();\r\n        }\r\n        // register the new flow\r\n        integrationFlowContext.registration(flow).id(flowId).useFlowIdAsPrefix().register();\r\n       }\r\n\r\nProcess message method\r\n\r\n        @ServiceActivator(inputChannel = &quot;imapMailChannel&quot;)\r\n      public void processMessage(Message&lt;?&gt; message) throws InvalidMessageException {\r\n        String concern = (String) message.getHeaders().get(CONCERN_CODE);\r\n        if (isEmpty(concern)) {\r\n          logger.error(&quot;Received null concern!&quot;);\r\n        }\r\n        Long imapConfigId = (Long) message.getHeaders().get(IMAP_CONFIG_ID);\r\n    \r\n        String logMessage = null;\r\n        String messageId = null;\r\n        try {\r\n          Object payload = message.getPayload();\r\n          if (payload instanceof MimeMultipart) {\r\n            //.......................//\r\n          }\r\n          else if (payload instanceof String) {\r\n            //......................//\r\n        }\r\n        catch (Exception e) {\r\n          logger.error(&quot;Error while processing &quot; + logMessage, e);\r\n          if (concern != null) {\r\n            metricUtil.emailFailed(concern);\r\n          }\r\n          throw new MaxxtonException(&quot;CCM-MessageID: Exception in processMessage() method&quot;, e, MessageErrorCode.UNABLE_TO_PROCESS_EMAIL);\r\n        }\r\n        metricUtil.emailProcessed(concern);\r\n      }\r\n\r\nImapMailReceiver method\r\n\r\n        private ImapMailReceiver createImapMailReceiver(ImapSetting imapSettings) {\r\n        String url = String.format(imapSettings.getImapUrl(), URLEncoder.encode(imapSettings.getUsername(), UTF_8), URLEncoder.encode(imapSettings.getPassword(), UTF_8));\r\n        ImapMailReceiver receiver = new ImapMailReceiver(url);\r\n        receiver.setSimpleContent(true);\r\n    \r\n        Properties mailProperties = new Properties();\r\n        mailProperties.put(&quot;mail.debug&quot;, &quot;false&quot;);\r\n    \r\n        mailProperties.put(&quot;mail.imap.connectionpoolsize&quot;, &quot;5&quot;);\r\n        mailProperties.put(&quot;mail.imap.fetchsize&quot;, 4194304);\r\n        mailProperties.put(&quot;mail.imap.connectiontimeout&quot;, 15000);\r\n        mailProperties.put(&quot;mail.imap.timeout&quot;, 30000);\r\n    \r\n        mailProperties.put(&quot;mail.imaps.connectionpoolsize&quot;, &quot;5&quot;);\r\n        mailProperties.put(&quot;mail.imaps.fetchsize&quot;, 4194304);\r\n        mailProperties.put(&quot;mail.imaps.connectiontimeout&quot;, 15000);\r\n        mailProperties.put(&quot;mail.imaps.timeout&quot;, 30000);\r\n    \r\n        receiver.setJavaMailProperties(mailProperties);\r\n        receiver.setSearchTermStrategy(this::notSeenTerm);\r\n        receiver.setAutoCloseFolder(false);\r\n        receiver.setShouldDeleteMessages(false);\r\n        receiver.setShouldMarkMessagesAsRead(true);\r\n        receiver.setHeaderMapper(mailHeaderMapper);\r\n        receiver.setEmbeddedPartsAsBytes(false);\r\n        return receiver;\r\n      }\r\n\r\n[Added a screenshot taken from Grafana of active and queued task when we have upgraded to SP v2.7.1 and SI v5.5.14 ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b9IJs.png","title":"Using spring integration v5.5.14 lots of queued task are increasing","body":"<p>after upgrading to spring boot version v2.7.1 we are seeing that there are lots of queued task, we never had seen such queued task increasing in the last version we were using v2.2.2.\nOur team has tried to check the things in v2.7.1 but couldn't found anything in this version.\nCan anyone please review the code and let us know what we are missing or have written wrong that is causing the issue. We are using spring integration to pull emails from client server and for that we have add a taskexecutor to have concurrent polling.</p>\n<p>Versions that we use:\nSpring Boot = 2.7.1\nSpring Integration = 5.5.14</p>\n<p>Earlier we were using:\nSpring Boot = 2.2.2 release\nSpring Integration = 5.2.3 release</p>\n<p>I've attached the code below.</p>\n<pre><code>Configuration class for Imap Integration\n\n@Configuration\n@EnableIntegration\npublic class ImapIntegrationConfig {\n\n  private final ApplicationContext applicationContext;\n\n  @Autowired\n  public ImapIntegrationConfig(ApplicationContext applicationContext) {\n    this.applicationContext = applicationContext;\n  }\n\n  @Bean(&quot;mailTaskExecutor&quot;)\n  public ThreadPoolTaskExecutor mailTaskExecutor() {\n    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n    taskExecutor.setMaxPoolSize(1000);\n    taskExecutor.setCorePoolSize(100);\n    taskExecutor.setTaskDecorator(new SecurityAwareTaskDecorator(applicationContext));\n    taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\n    taskExecutor.setAwaitTerminationSeconds(Integer.MAX_VALUE);\n    return taskExecutor;\n  }\n\n  @Bean(&quot;imapMailChannel&quot;)\n  public ExecutorChannelSpec imapMailChannel() {\n    return MessageChannels.executor(mailTaskExecutor());\n  }\n\n  @Bean\n  public HeaderMapper&lt;MimeMessage&gt; mailHeaderMapper() {\n    return new DefaultMailHeaderMapper();\n  }\n}\n</code></pre>\n<p>ImapListener Class to register the flow</p>\n<pre><code>public void registerImapFlow(ImapSetting imapSetting) {\n    ImapMailReceiver mailReceiver = createImapMailReceiver(imapSetting);\n\n    // create the flow for an email process\n    //@formatter:off\n    StandardIntegrationFlow flow = IntegrationFlows\n      .from(Mail.imapInboundAdapter(mailReceiver),\n        consumer -&gt; consumer.autoStartup(true)\n                            .poller(Pollers.fixedDelay(Duration.ofSeconds(5), Duration.ofMinutes(2))\n                                           .taskExecutor(taskExecutor)\n                                           .errorHandler(t -&gt; logger.error(&quot;Error while polling emails for address &quot; + imapSetting.getUsername(), t))\n                                           .maxMessagesPerPoll(10)))\n      .enrichHeaders(Map.of(CONCERN_CODE, imapSetting.getConcernCode(), IMAP_CONFIG_ID, imapSetting.getImapSettingId()))\n      .channel(imapMailChannel).get();\n    //@formatter:on\n\n    // give the bean a unique name to avoid clashes with multiple imap settings\n    String flowId = concernIdentifier.getConcernIdentifier() + &quot;-&quot; + imapSetting.getImapSettingId();\n    IntegrationFlowContext.IntegrationFlowRegistration existingFlow = integrationFlowContext.getRegistrationById(flowId);\n    if (existingFlow != null) {\n      // destroy the previous beans\n      existingFlow.destroy();\n    }\n    // register the new flow\n    integrationFlowContext.registration(flow).id(flowId).useFlowIdAsPrefix().register();\n   }\n</code></pre>\n<p>Process message method</p>\n<pre><code>    @ServiceActivator(inputChannel = &quot;imapMailChannel&quot;)\n  public void processMessage(Message&lt;?&gt; message) throws InvalidMessageException {\n    String concern = (String) message.getHeaders().get(CONCERN_CODE);\n    if (isEmpty(concern)) {\n      logger.error(&quot;Received null concern!&quot;);\n    }\n    Long imapConfigId = (Long) message.getHeaders().get(IMAP_CONFIG_ID);\n\n    String logMessage = null;\n    String messageId = null;\n    try {\n      Object payload = message.getPayload();\n      if (payload instanceof MimeMultipart) {\n        //.......................//\n      }\n      else if (payload instanceof String) {\n        //......................//\n    }\n    catch (Exception e) {\n      logger.error(&quot;Error while processing &quot; + logMessage, e);\n      if (concern != null) {\n        metricUtil.emailFailed(concern);\n      }\n      throw new MaxxtonException(&quot;CCM-MessageID: Exception in processMessage() method&quot;, e, MessageErrorCode.UNABLE_TO_PROCESS_EMAIL);\n    }\n    metricUtil.emailProcessed(concern);\n  }\n</code></pre>\n<p>ImapMailReceiver method</p>\n<pre><code>    private ImapMailReceiver createImapMailReceiver(ImapSetting imapSettings) {\n    String url = String.format(imapSettings.getImapUrl(), URLEncoder.encode(imapSettings.getUsername(), UTF_8), URLEncoder.encode(imapSettings.getPassword(), UTF_8));\n    ImapMailReceiver receiver = new ImapMailReceiver(url);\n    receiver.setSimpleContent(true);\n\n    Properties mailProperties = new Properties();\n    mailProperties.put(&quot;mail.debug&quot;, &quot;false&quot;);\n\n    mailProperties.put(&quot;mail.imap.connectionpoolsize&quot;, &quot;5&quot;);\n    mailProperties.put(&quot;mail.imap.fetchsize&quot;, 4194304);\n    mailProperties.put(&quot;mail.imap.connectiontimeout&quot;, 15000);\n    mailProperties.put(&quot;mail.imap.timeout&quot;, 30000);\n\n    mailProperties.put(&quot;mail.imaps.connectionpoolsize&quot;, &quot;5&quot;);\n    mailProperties.put(&quot;mail.imaps.fetchsize&quot;, 4194304);\n    mailProperties.put(&quot;mail.imaps.connectiontimeout&quot;, 15000);\n    mailProperties.put(&quot;mail.imaps.timeout&quot;, 30000);\n\n    receiver.setJavaMailProperties(mailProperties);\n    receiver.setSearchTermStrategy(this::notSeenTerm);\n    receiver.setAutoCloseFolder(false);\n    receiver.setShouldDeleteMessages(false);\n    receiver.setShouldMarkMessagesAsRead(true);\n    receiver.setHeaderMapper(mailHeaderMapper);\n    receiver.setEmbeddedPartsAsBytes(false);\n    return receiver;\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/b9IJs.png\" rel=\"nofollow noreferrer\">Added a screenshot taken from Grafana of active and queued task when we have upgraded to SP v2.7.1 and SI v5.5.14 </a></p>\n"},{"tags":["java","android","string"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1620088599,"post_id":67376943,"comment_id":119092502,"body_markdown":"Not a duplicate. The [alleged duplicate](https://stackoverflow.com/q/10372862/642706) involves a decimal separator. This question is simpler, integers, no decimal separator involved. This Question here probably *is* a duplicate, but not of that particular Question.","body":"Not a duplicate. The <a href=\"https://stackoverflow.com/q/10372862/642706\">alleged duplicate</a> involves a decimal separator. This question is simpler, integers, no decimal separator involved. This Question here probably <i>is</i> a duplicate, but not of that particular Question."}],"answers":[{"tags":[],"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659112519,"creation_date":1620084501,"answer_id":67376970,"question_id":67376943,"body_markdown":"Simplest solution: use a regex and `.replaceAll()`:\r\n\r\n\tString string=&quot;He3llo5&quot;;\r\n\tString result = string.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\r\n\tSystem.out.println(result);\r\n\r\nSee this [code execute at Ideone.com][1].\r\n\r\n&gt;35\r\n\r\nAlternatively, you could write your own method which utilizes `Character.isDigit()` and a `StringBuilder` like so:\r\n\r\n\tpublic static String stripAlphabet(String s) {\r\n\t\tint len = s.length();\r\n\t\tStringBuilder str = new StringBuilder();\r\n\t\tfor(int i = 0; i &lt; len; i++) {\r\n\t\t\tchar c = s.charAt(i);\r\n\t\t\tstr.append(Character.isDigit(c) ? c : &quot;&quot;);\r\n\t\t}\r\n\t\treturn str.toString();\r\n\t}\r\n\r\nThe following also produces `35` as the result:\r\n\r\n\tString string=&quot;He3llo5&quot;;\r\n\tString result = stripAlphabet(string);\r\n\tSystem.out.println(result);\r\n\r\n\r\n  [1]: https://ideone.com/EQAwYq","title":"Strip non-numerical characters from String","body":"<p>Simplest solution: use a regex and <code>.replaceAll()</code>:</p>\n<pre><code>String string=&quot;He3llo5&quot;;\nString result = string.replaceAll(&quot;[^\\\\d.]&quot;, &quot;&quot;);\nSystem.out.println(result);\n</code></pre>\n<p>See this <a href=\"https://ideone.com/EQAwYq\" rel=\"nofollow noreferrer\">code execute at Ideone.com</a>.</p>\n<blockquote>\n<p>35</p>\n</blockquote>\n<p>Alternatively, you could write your own method which utilizes <code>Character.isDigit()</code> and a <code>StringBuilder</code> like so:</p>\n<pre><code>public static String stripAlphabet(String s) {\n    int len = s.length();\n    StringBuilder str = new StringBuilder();\n    for(int i = 0; i &lt; len; i++) {\n        char c = s.charAt(i);\n        str.append(Character.isDigit(c) ? c : &quot;&quot;);\n    }\n    return str.toString();\n}\n</code></pre>\n<p>The following also produces <code>35</code> as the result:</p>\n<pre><code>String string=&quot;He3llo5&quot;;\nString result = stripAlphabet(string);\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19991019,"reputation":155,"user_id":14652031,"display_name":"Mohsen El Sayed"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1620085300,"creation_date":1620084518,"answer_id":67376971,"question_id":67376943,"body_markdown":"You can use the Pattern Example\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        Pattern intsOnly=Pattern.compile(&quot;\\\\d+&quot;);\r\n            Matcher make=intsOnly.matcher(string);\r\n            make.find();\r\n            string=make.group();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Strip non-numerical characters from String","body":"<p>You can use the Pattern Example</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    Pattern intsOnly=Pattern.compile(\"\\\\d+\");\n        Matcher make=intsOnly.matcher(string);\n        make.find();\n        string=make.group();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659111935,"creation_date":1620084526,"answer_id":67376973,"question_id":67376943,"body_markdown":"# tl;dr\r\n\r\n```java\r\nInteger.parseInt(\r\n        &quot;He3ll&#128567;5&quot;\r\n                .codePoints()\r\n                .filter( Character :: isDigit )\r\n                .collect(\r\n                        StringBuilder :: new ,\r\n                        StringBuilder :: appendCodePoint ,\r\n                        StringBuilder :: append\r\n                )\r\n                .toString()\r\n)\r\n```\r\n\r\nSee this [code run live at Ideone.com][1].\r\n\r\n&gt;35\r\n\r\n\r\n# Loop code points \r\n\r\nLoop through each character’s Unicode code point number, asking if that code point represents a character that is a digit. If so, collect that code point or its conversion to a `String`. \r\n\r\nCalling [`String#codePoints`][2] gives us an [`IntStream`][3], a stream of the code point integer numbers.\r\n\r\nWe filter out the letters by calling [`Character#IsDigit`][4]. We collect the remaining digit characters into a `StringBuilder`. \r\n\r\nFrom the string of digits, we parse as an `int` by calling [`Integer.parseInt`][5]. \r\n\r\n\r\n```java\r\nString input = &quot;He3llo5&quot;;\r\n\r\nIntStream codePoints = input.codePoints();\r\nString digits =\r\n        codePoints\r\n                .filter( Character :: isDigit )\r\n                .collect( StringBuilder :: new ,\r\n                        StringBuilder :: appendCodePoint ,\r\n                        StringBuilder :: append )\r\n                .toString();\r\nint result = Integer.parseInt( digits );\r\n```\r\n\r\n&gt;result = 35\r\n\r\n## Avoid `char`\r\n\r\nBe aware that the `char` type in Java is obsolete. That type fails to represent even half of the characters defined in Unicode. Use code point integers instead of `char`. \r\n\r\n\r\n  [1]: https://ideone.com/EPp3xt\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#codePoints()\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#isDigit(int)\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)","title":"Strip non-numerical characters from String","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.parseInt(\n        &quot;He3ll😷5&quot;\n                .codePoints()\n                .filter( Character :: isDigit )\n                .collect(\n                        StringBuilder :: new ,\n                        StringBuilder :: appendCodePoint ,\n                        StringBuilder :: append\n                )\n                .toString()\n)\n</code></pre>\n<p>See this <a href=\"https://ideone.com/EPp3xt\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>35</p>\n</blockquote>\n<h1>Loop code points</h1>\n<p>Loop through each character’s Unicode code point number, asking if that code point represents a character that is a digit. If so, collect that code point or its conversion to a <code>String</code>.</p>\n<p>Calling <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#codePoints()\" rel=\"nofollow noreferrer\"><code>String#codePoints</code></a> gives us an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>, a stream of the code point integer numbers.</p>\n<p>We filter out the letters by calling <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#isDigit(int)\" rel=\"nofollow noreferrer\"><code>Character#IsDigit</code></a>. We collect the remaining digit characters into a <code>StringBuilder</code>.</p>\n<p>From the string of digits, we parse as an <code>int</code> by calling <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Integer.parseInt</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;He3llo5&quot;;\n\nIntStream codePoints = input.codePoints();\nString digits =\n        codePoints\n                .filter( Character :: isDigit )\n                .collect( StringBuilder :: new ,\n                        StringBuilder :: appendCodePoint ,\n                        StringBuilder :: append )\n                .toString();\nint result = Integer.parseInt( digits );\n</code></pre>\n<blockquote>\n<p>result = 35</p>\n</blockquote>\n<h2>Avoid <code>char</code></h2>\n<p>Be aware that the <code>char</code> type in Java is obsolete. That type fails to represent even half of the characters defined in Unicode. Use code point integers instead of <code>char</code>.</p>\n"}],"owner":{"account_id":21479782,"reputation":13,"user_id":15827359,"display_name":"Nelson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":67376971,"answer_count":3,"score":-2,"last_activity_date":1659112519,"creation_date":1620084245,"question_id":67376943,"body_markdown":"I Have string like so: `&quot;He3llo5&quot;`\r\n\r\nHow do I strip this String so that only the numbers remain? \r\n\r\nDesired result:\r\n\r\n    35","title":"Strip non-numerical characters from String","body":"<p>I Have string like so: <code>&quot;He3llo5&quot;</code></p>\n<p>How do I strip this String so that only the numbers remain?</p>\n<p>Desired result:</p>\n<pre><code>35\n</code></pre>\n"},{"tags":["java","swing","awt","system-tray","jpopup"],"comments":[{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1378065118,"post_id":18562264,"comment_id":27309421,"body_markdown":"I&#39;m pretty sure the width and height of the `TrayIcon` are controlled by the OS.","body":"I&#39;m pretty sure the width and height of the <code>TrayIcon</code> are controlled by the OS."}],"answers":[{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1378065104,"creation_date":1378065104,"answer_id":18562272,"question_id":18562264,"body_markdown":"Simply use [`addActionListener`][1] on your `MenuItem`s.\r\n\r\n    MenuItem aboutItem = new MenuItem(&quot;Accept&quot;);\r\n    aboutItem.addActionListener(new ActionListener()\r\n    {\r\n        public void actionPerformed(ActionEvent evt)\r\n        {\r\n            System.out.println(&quot;Accept clicked!&quot;);\r\n        }\r\n    });\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/MenuItem.html#addActionListener%28java.awt.event.ActionListener%29","title":"Java popup menu listen for item clicks?","body":"<p>Simply use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/MenuItem.html#addActionListener%28java.awt.event.ActionListener%29\" rel=\"noreferrer\"><code>addActionListener</code></a> on your <code>MenuItem</code>s.</p>\n\n<pre><code>MenuItem aboutItem = new MenuItem(\"Accept\");\naboutItem.addActionListener(new ActionListener()\n{\n    public void actionPerformed(ActionEvent evt)\n    {\n        System.out.println(\"Accept clicked!\");\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659112437,"creation_date":1659112437,"answer_id":73168430,"question_id":18562264,"body_markdown":"Also, if you happen to be using Java 8 or later, it becomes even simpler:\r\n\r\n```java\r\nMenuItem aboutItem = new MenuItem(&quot;Accept&quot;);\r\naboutItem.addActionListener(evt -&gt; System.out.println(&quot;Accept clicked!&quot;));\r\n```","title":"Java popup menu listen for item clicks?","body":"<p>Also, if you happen to be using Java 8 or later, it becomes even simpler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MenuItem aboutItem = new MenuItem(&quot;Accept&quot;);\naboutItem.addActionListener(evt -&gt; System.out.println(&quot;Accept clicked!&quot;));\n</code></pre>\n"}],"owner":{"account_id":1970434,"reputation":8861,"user_id":1769543,"accept_rate":46,"display_name":"Alosyius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1785,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18562272,"answer_count":2,"score":3,"last_activity_date":1659112437,"creation_date":1378065009,"question_id":18562264,"body_markdown":"Im creating a very simple tray menu with the following code:\r\n\r\n            final Frame frame = new Frame(&quot;&quot;);\r\n                frame.setUndecorated(true);\r\n                // Check the SystemTray is supported\r\n                if (!SystemTray.isSupported()) {\r\n                    System.out.println(&quot;SystemTray is not supported&quot;);\r\n                    return;\r\n                }\r\n                final TrayIcon trayIcon = new TrayIcon(Toolkit.getDefaultToolkit().getImage(\r\n                        new URL(&quot;http://url.com/trayIcon.png&quot;)), &quot;Library Drop&quot;);\r\n                final SystemTray tray = SystemTray.getSystemTray();\r\n\r\n                // Create a pop-up menu components\r\n                final PopupMenu popup = createPopupMenu();\r\n                trayIcon.setPopupMenu(popup);\r\n                trayIcon.addMouseListener(new MouseAdapter() {\r\n                    //@Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (e.getButton() == MouseEvent.BUTTON1) {\r\n                            frame.add(popup);\r\n                            popup.show(frame, e.getXOnScreen(), e.getYOnScreen());\r\n                        }\r\n                    }\r\n                });\r\n                try {\r\n                    frame.setResizable(false);\r\n                    frame.setVisible(true);\r\n                    tray.add(trayIcon);\r\n                } catch (AWTException e) {\r\n                    System.out.println(&quot;TrayIcon could not be added.&quot;);\r\n                }\r\n            } catch (MalformedURLException ex) {\r\n                Logger.getLogger(Client.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n\r\n\r\n        protected static PopupMenu createPopupMenu() {\r\n            final PopupMenu popup = new PopupMenu();\r\n            MenuItem aboutItem = new MenuItem(&quot;Accept&quot;);\r\n            MenuItem aboutItem1 = new MenuItem(&quot;Dont accept&quot;);\r\n            MenuItem aboutItem2 = new MenuItem(&quot;Quit&quot;);            \r\n\r\n\r\n            // Add components to pop-up menu\r\n            popup.add(aboutItem);\r\n            popup.add(aboutItem1);            \r\n            popup.addSeparator();\r\n            popup.add(aboutItem2);            \r\n      \r\n\r\n\r\n            return popup;\r\n        }\r\n\r\n\r\nHow can i listen and check when a user selects &quot;Accept&quot;, &quot;Dont accept&quot;, etc?\r\n\r\nAlso for some reason the height is maximum on the trayIcon, how can i tell the tray icon to be exactly X by Y pixles?\r\n\r\nEdit: height/width issue is only in Mac, works fine on Windows","title":"Java popup menu listen for item clicks?","body":"<p>Im creating a very simple tray menu with the following code:</p>\n\n<pre><code>        final Frame frame = new Frame(\"\");\n            frame.setUndecorated(true);\n            // Check the SystemTray is supported\n            if (!SystemTray.isSupported()) {\n                System.out.println(\"SystemTray is not supported\");\n                return;\n            }\n            final TrayIcon trayIcon = new TrayIcon(Toolkit.getDefaultToolkit().getImage(\n                    new URL(\"http://url.com/trayIcon.png\")), \"Library Drop\");\n            final SystemTray tray = SystemTray.getSystemTray();\n\n            // Create a pop-up menu components\n            final PopupMenu popup = createPopupMenu();\n            trayIcon.setPopupMenu(popup);\n            trayIcon.addMouseListener(new MouseAdapter() {\n                //@Override\n                public void mouseClicked(MouseEvent e) {\n                    if (e.getButton() == MouseEvent.BUTTON1) {\n                        frame.add(popup);\n                        popup.show(frame, e.getXOnScreen(), e.getYOnScreen());\n                    }\n                }\n            });\n            try {\n                frame.setResizable(false);\n                frame.setVisible(true);\n                tray.add(trayIcon);\n            } catch (AWTException e) {\n                System.out.println(\"TrayIcon could not be added.\");\n            }\n        } catch (MalformedURLException ex) {\n            Logger.getLogger(Client.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n\n    protected static PopupMenu createPopupMenu() {\n        final PopupMenu popup = new PopupMenu();\n        MenuItem aboutItem = new MenuItem(\"Accept\");\n        MenuItem aboutItem1 = new MenuItem(\"Dont accept\");\n        MenuItem aboutItem2 = new MenuItem(\"Quit\");            \n\n\n        // Add components to pop-up menu\n        popup.add(aboutItem);\n        popup.add(aboutItem1);            \n        popup.addSeparator();\n        popup.add(aboutItem2);            \n\n\n\n        return popup;\n    }\n</code></pre>\n\n<p>How can i listen and check when a user selects \"Accept\", \"Dont accept\", etc?</p>\n\n<p>Also for some reason the height is maximum on the trayIcon, how can i tell the tray icon to be exactly X by Y pixles?</p>\n\n<p>Edit: height/width issue is only in Mac, works fine on Windows</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658490683,"post_id":73012129,"comment_id":129070442,"body_markdown":"You question doesn&#39;t say why this doesn&#39;t work. It looks like you cannot compile the program because &quot;getHealth&quot; doesn&#39;t exist. One way to manage this, put the method &#39;getHealth&#39; on the `Card` class, then have it return a special value that signifies it is not a health. Like `-1`.","body":"You question doesn&#39;t say why this doesn&#39;t work. It looks like you cannot compile the program because &quot;getHealth&quot; doesn&#39;t exist. One way to manage this, put the method &#39;getHealth&#39; on the <code>Card</code> class, then have it return a special value that signifies it is not a health. Like <code>-1</code>."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1658490792,"post_id":73012129,"comment_id":129070477,"body_markdown":"&quot;I have 1000 different card types and only 20 of them return hp I don&#39;t want to write if statements for every single cast. &quot; This can be accomplished by creating an interface, `Healthy { int getHealt();}` Then your 20 class that have an hp implement `Healthy` and you only check for that interface. eg one if clause/condition.","body":"&quot;I have 1000 different card types and only 20 of them return hp I don&#39;t want to write if statements for every single cast. &quot; This can be accomplished by creating an interface, <code>Healthy { int getHealt();}</code> Then your 20 class that have an hp implement <code>Healthy</code> and you only check for that interface. eg one if clause/condition."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1659112403,"post_id":73012129,"comment_id":129223481,"body_markdown":"It sounds like you haven&#39;t chosen a hierarchy that actually helps you. Time to rethink this subclassing, maybe having everything be a subclass of card isn&#39;t that good an idea.","body":"It sounds like you haven&#39;t chosen a hierarchy that actually helps you. Time to rethink this subclassing, maybe having everything be a subclass of card isn&#39;t that good an idea."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659112156,"creation_date":1659112156,"answer_id":73168375,"question_id":73012129,"body_markdown":"One solution is to define a `getHealth()` method in `Card` that returns an appropriate default value such as `null` or `0`.","title":"How to call child function without casting Polymorphism Java","body":"<p>One solution is to define a <code>getHealth()</code> method in <code>Card</code> that returns an appropriate default value such as <code>null</code> or <code>0</code>.</p>\n"}],"owner":{"account_id":17026700,"reputation":1,"user_id":14943979,"display_name":"Tristan Fischer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659112156,"creation_date":1658064006,"question_id":73012129,"body_markdown":"Essentially I want to be able to return the health of all cards that have health or value without casting. How can I go about doing this? `Deck` is a list of cards and card can have many different sub-types. In this example I have made it really simple but my goal is to be able to extend this to many different types of cards many of which wouldn&#39;t have health.\r\n\r\nThis similar question posted here : https://stackoverflow.com/questions/10021603/calling-a-subclass-method-from-superclass\r\ndiscuss using Casting but for example if I have 1000 different card types and only 20 of them return hp I don&#39;t want to write `if` statements for every single cast. Surely there is another solution to this problem.\r\n```java\r\npublic class Deck {\r\n    ArrayList&lt;Card&gt; deck = new ArrayList&lt;&gt;();\r\n\r\n    Deck() {\r\n        deck.add(new Item());\r\n        deck.add(new Monster());\r\n    }\r\n\r\n    public ArrayList&lt;Card&gt; getDeck() {\r\n        return deck;\r\n    }\r\n}\r\n```\r\n-------------------\r\n```\r\npublic class Card {\r\n    Card() {\r\n    }\r\n}\r\n```\r\n---------------------\r\n```\r\npublic class Item extends Card{\r\n    Item() {\r\n        super();\r\n    }\r\n\r\n    public int getValue() {\r\n        return 4;\r\n    }\r\n}\r\n```\r\n------------------------\r\n```java\r\npublic class Monster extends Card{\r\n    Monster () {\r\n        super();\r\n    }\r\n    \r\n    public int getHealth() {\r\n        return 2;\r\n    }\r\n}\r\n```\r\n------------------------\r\n```java\r\npublic static void main(String[] args) {\r\n    Deck deck = new Deck();\r\n    for (Card card : deck.getDeck()) {\r\n        System.out.println(card.getHealth());\r\n    }\r\n}\r\n```\r\nDesired output:\r\n\r\n```none\r\n2\r\n```\r\n","title":"How to call child function without casting Polymorphism Java","body":"<p>Essentially I want to be able to return the health of all cards that have health or value without casting. How can I go about doing this? <code>Deck</code> is a list of cards and card can have many different sub-types. In this example I have made it really simple but my goal is to be able to extend this to many different types of cards many of which wouldn't have health.</p>\n<p>This similar question posted here : <a href=\"https://stackoverflow.com/questions/10021603/calling-a-subclass-method-from-superclass\">Calling a subclass method from superclass</a>\ndiscuss using Casting but for example if I have 1000 different card types and only 20 of them return hp I don't want to write <code>if</code> statements for every single cast. Surely there is another solution to this problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Deck {\n    ArrayList&lt;Card&gt; deck = new ArrayList&lt;&gt;();\n\n    Deck() {\n        deck.add(new Item());\n        deck.add(new Monster());\n    }\n\n    public ArrayList&lt;Card&gt; getDeck() {\n        return deck;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Card {\n    Card() {\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Item extends Card{\n    Item() {\n        super();\n    }\n\n    public int getValue() {\n        return 4;\n    }\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public class Monster extends Card{\n    Monster () {\n        super();\n    }\n    \n    public int getHealth() {\n        return 2;\n    }\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Deck deck = new Deck();\n    for (Card card : deck.getDeck()) {\n        System.out.println(card.getHealth());\n    }\n}\n</code></pre>\n<p>Desired output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2\n</code></pre>\n"},{"tags":["java","dependency-injection","repository","guice","code-injection"],"comments":[{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1658925139,"post_id":72998808,"comment_id":129172262,"body_markdown":"What does your module look like? Or what do you plan it to look like? Personally I think that `multibinder` for `Set&lt;MyInterface&gt;` injected into `MyRepository` should not be an issue.  What specific methods do you think would stop this?","body":"What does your module look like? Or what do you plan it to look like? Personally I think that <code>multibinder</code> for <code>Set&lt;MyInterface&gt;</code> injected into <code>MyRepository</code> should not be an issue.  What specific methods do you think would stop this?"},{"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"score":0,"creation_date":1659037582,"post_id":72998808,"comment_id":129206643,"body_markdown":"Hi, MyRepository has some methods that iterate the list of MyInterface, run a public Permissions get(User user) and gather the result of all of them as a list. Maybe i will make this a static method and use multibinder","body":"Hi, MyRepository has some methods that iterate the list of MyInterface, run a public Permissions get(User user) and gather the result of all of them as a list. Maybe i will make this a static method and use multibinder"}],"answers":[{"tags":[],"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659112140,"creation_date":1659112140,"answer_id":73168374,"question_id":72998808,"body_markdown":"If you&#39;re using `multibinder` you&#39;re probably wanting to do something like this?  You don&#39;t want to use `static` as it would break the `@Inject MyRepository repository;` logic downstream.\r\n\r\nAssuming you have your `multibinder` configured appropriately then your repository should work like this:\r\n\r\n```\r\nclass MyRepository {\r\n   Set&lt;MyInterface&gt; interfaces;\r\n\r\n   @Inject\r\n   public MyRepository(Set&lt;MyInterface&gt; interfaces) {\r\n      // Here you can do some things like re-applying the interfaces to\r\n      // a TreeSet (for example) if you needed to control priority.\r\n      this.interfaces = interfaces;\r\n   }\r\n\r\n   public Set&lt;Permissions&gt; getPermissions(final User user) {\r\n      // However you want to iterate through the interfaces\r\n      return interfaces.stream()\r\n            .flatMap(i -&gt; i.getPermissions(user)) // maybe?\r\n            .collect(Collectors.toSet());\r\n   }\r\n}\r\n```\r\n\r\nYou can have:\r\n\r\n- Different methods for iterating the interfaces\r\n- You can filter the interfaces based on other Interfaces.  For example if one `MyInterface` also extends `MyOtherInterface` \r\n\r\nIf I&#39;m missing something, please update/comment and we can sort it out.","title":"Repository-like injected object, initialize safely","body":"<p>If you're using <code>multibinder</code> you're probably wanting to do something like this?  You don't want to use <code>static</code> as it would break the <code>@Inject MyRepository repository;</code> logic downstream.</p>\n<p>Assuming you have your <code>multibinder</code> configured appropriately then your repository should work like this:</p>\n<pre><code>class MyRepository {\n   Set&lt;MyInterface&gt; interfaces;\n\n   @Inject\n   public MyRepository(Set&lt;MyInterface&gt; interfaces) {\n      // Here you can do some things like re-applying the interfaces to\n      // a TreeSet (for example) if you needed to control priority.\n      this.interfaces = interfaces;\n   }\n\n   public Set&lt;Permissions&gt; getPermissions(final User user) {\n      // However you want to iterate through the interfaces\n      return interfaces.stream()\n            .flatMap(i -&gt; i.getPermissions(user)) // maybe?\n            .collect(Collectors.toSet());\n   }\n}\n</code></pre>\n<p>You can have:</p>\n<ul>\n<li>Different methods for iterating the interfaces</li>\n<li>You can filter the interfaces based on other Interfaces.  For example if one <code>MyInterface</code> also extends <code>MyOtherInterface</code></li>\n</ul>\n<p>If I'm missing something, please update/comment and we can sort it out.</p>\n"}],"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73168374,"answer_count":1,"score":0,"last_activity_date":1659112140,"creation_date":1657913358,"question_id":72998808,"body_markdown":"I would like to create an object that basically functions as a list, and i will inject it in my services, using Guice\r\n\r\n    public class MyRepository {\r\n      List&lt;MyInterface&gt; list = new ArrayList&lt;&gt;();\r\n\r\n      public void add(MyInterface obj){\r\n        list.add(obj);\r\n      } \r\n\r\n      public List&lt;MyInterface&gt; get(){\r\n        return list;\r\n      }\r\n    }\r\n\r\n\r\nThen i am gonna to be using injection from various points to add elements to this list\r\n\r\n    public class ObjectA implements MyInterface {\r\n      @Inject\r\n      public ObjectA(MyRepository myRepository){\r\n        myRepository.add(this);\r\n      }\r\n    }\r\n\r\nMy question is, i want to ensure that MyRepository is used in services only after all potential subscribers have been added.\r\n\r\nMultibinder is not applicable because i will be needed some specific methods\r\n\r\nIs there a way to do that? Thanks","title":"Repository-like injected object, initialize safely","body":"<p>I would like to create an object that basically functions as a list, and i will inject it in my services, using Guice</p>\n<pre><code>public class MyRepository {\n  List&lt;MyInterface&gt; list = new ArrayList&lt;&gt;();\n\n  public void add(MyInterface obj){\n    list.add(obj);\n  } \n\n  public List&lt;MyInterface&gt; get(){\n    return list;\n  }\n}\n</code></pre>\n<p>Then i am gonna to be using injection from various points to add elements to this list</p>\n<pre><code>public class ObjectA implements MyInterface {\n  @Inject\n  public ObjectA(MyRepository myRepository){\n    myRepository.add(this);\n  }\n}\n</code></pre>\n<p>My question is, i want to ensure that MyRepository is used in services only after all potential subscribers have been added.</p>\n<p>Multibinder is not applicable because i will be needed some specific methods</p>\n<p>Is there a way to do that? Thanks</p>\n"},{"tags":["java","android","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1659096303,"post_id":73164865,"comment_id":129220168,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **400** (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>400</b> (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."}],"answers":[{"tags":[],"owner":{"account_id":17480172,"reputation":91,"user_id":12674264,"display_name":"Charles Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659112095,"creation_date":1659096541,"answer_id":73166499,"question_id":73164865,"body_markdown":"Instead of :\r\n    \r\n    dataList.add(data);\r\n    itemsAdapter.notifyDataSetChanged();\r\n\r\n    \r\nTry this:\r\n    \r\n    // add this in the place of dataList.add(data)\r\n    adapter.setDataList(data);\r\n\r\n    // Add this setter inside the adapter;\r\n    setDataList(List&lt;Data&gt; datalist){\r\n      this.dataList = dataList;\r\n      notifyItemChanged(0,dataList);\r\n    }\r\n\r\n","title":"RecycleView output all null","body":"<p>Instead of :</p>\n<pre><code>dataList.add(data);\nitemsAdapter.notifyDataSetChanged();\n</code></pre>\n<p>Try this:</p>\n<pre><code>// add this in the place of dataList.add(data)\nadapter.setDataList(data);\n\n// Add this setter inside the adapter;\nsetDataList(List&lt;Data&gt; datalist){\n  this.dataList = dataList;\n  notifyItemChanged(0,dataList);\n}\n</code></pre>\n"}],"owner":{"account_id":23390958,"reputation":11,"user_id":17455613,"display_name":"Coding Rookie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659112095,"creation_date":1659088668,"question_id":73164865,"body_markdown":"I wanna ask regarding this recycleview issues, my code doesnt show any problem,but why my recycleview output became like this [RecycleView Output][1]. I had tried by change `switch case()` to `if else()` but it will give error if I write throw `new IllegalStateException(&quot;Unexpected value:&quot; + data.getItem()); at the end of else. `The app will crash and stop running if I did not commend the exception. When I still using `switch case`, it will came out an error of `NullException`\r\n\r\nThis is my code:\r\nMainActivity() code\r\n\r\n    package com.example.assignment;\r\n    \r\n    import android.app.AlertDialog;\r\n    import android.app.Dialog;\r\n    import android.app.ProgressDialog;\r\n    import android.content.Intent;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Spinner;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.appcompat.widget.Toolbar;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.Query;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        private TextView textView;\r\n        private Button AddBtn;\r\n        private Button signOutBtn;\r\n        private RecyclerView recyclerView;\r\n    \r\n        private FirebaseAuth auth;\r\n        private DatabaseReference ref;\r\n        private String userID  = &quot;&quot;;\r\n        private ProgressDialog progressDialog;\r\n    \r\n        private ItemsAdapter itemsAdapter;\r\n        private ArrayList&lt;Data&gt; dataList;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main_activity);\r\n    \r\n    \r\n            textView=findViewById(R.id.totalAmount);\r\n            AddBtn = findViewById(R.id.add_new);\r\n    \r\n    \r\n            auth = FirebaseAuth.getInstance();\r\n            userID = auth.getCurrentUser().getUid();\r\n            ref = FirebaseDatabase.getInstance().getReference().child(&quot;expenses&quot;).child(userID);\r\n    \r\n    \r\n    \r\n    \r\n            progressDialog = new ProgressDialog(this);\r\n    \r\n            AddBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    addItem();\r\n                }\r\n            });\r\n    \r\n            recyclerView =findViewById(R.id.recycleView);\r\n            LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n            linearLayoutManager.setReverseLayout(true);\r\n            linearLayoutManager.setStackFromEnd(true);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(linearLayoutManager);\r\n    \r\n            dataList = new ArrayList&lt;&gt;();\r\n            itemsAdapter = new ItemsAdapter(MainActivity.this, dataList);\r\n            recyclerView.setAdapter(itemsAdapter);\r\n    \r\n            readItems();\r\n    \r\n    //        signOutBtn.setOnClickListener(new View.OnClickListener() {\r\n    //            @Override\r\n    //            public void onClick(View view) {\r\n    //                FirebaseAuth.getInstance().signOut();\r\n    //            }\r\n    //        });\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        private void readItems(){\r\n    \r\n            DateFormat format = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n            Calendar calendar = Calendar.getInstance();\r\n            String date = format.format(calendar.getTime());\r\n    \r\n            DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;expenses&quot;).child(userID);\r\n            Query query = databaseReference.orderByChild(&quot;date&quot;).equalTo(date);\r\n            query.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    dataList.clear();\r\n                    for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                        Data data = snapshot.getValue(Data.class);\r\n                        dataList.add(data);\r\n                    }\r\n    \r\n                    itemsAdapter.notifyDataSetChanged();\r\n    \r\n                    int totalAmount = 0;\r\n                    for(DataSnapshot ds : snapshot.getChildren()){\r\n                        Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) ds.getValue();\r\n                        Object total = map.get(&quot;amount&quot;);\r\n                        int getTotal = Integer.parseInt(String.valueOf(total));\r\n                        totalAmount+=getTotal;\r\n    \r\n                        textView.setText(&quot;Total Spending : RM&quot; + totalAmount);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n        private void addItem() {\r\n            AlertDialog.Builder alert = new AlertDialog.Builder(this);\r\n            //LayoutInflater layout = LayoutInflater.from(this);\r\n            LayoutInflater layout = getLayoutInflater();\r\n    \r\n            View view = layout.inflate(R.layout.input_layout, (ViewGroup)findViewById(R.id.inputLayout));\r\n            setContentView(view);\r\n    \r\n            final AlertDialog dialog = alert.create();\r\n            dialog.setCancelable(false);\r\n    \r\n            final Spinner spinnerItem = view.findViewById(R.id.spinner);\r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.category));\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            spinnerItem.setAdapter(adapter);\r\n    \r\n            final EditText amount = view.findViewById(R.id.insert_amount);\r\n            final EditText notes = view.findViewById(R.id.insert_note);\r\n            final Button saveButton = view.findViewById(R.id.add_button);\r\n            final Button cancelButton = view.findViewById(R.id.cancel_button);\r\n    \r\n            saveButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String amountGet = amount.getText().toString();\r\n                    String notesGet = notes.getText().toString();\r\n                    String categoryGet = spinnerItem.getSelectedItem().toString();\r\n    \r\n                    Drawable icon = getResources().getDrawable(R.drawable.error);\r\n    \r\n                    if(amountGet.isEmpty()){\r\n                        amount.setError(&quot;Please enter an amount!!!&quot;, icon );\r\n                        return;\r\n                    }\r\n    \r\n                    if(notesGet.isEmpty()){\r\n                        notes.setError(&quot;Please enter a notes!!!&quot;, icon );\r\n                        return;\r\n                    }\r\n    \r\n                    if(categoryGet.equals(&quot;Select a Category&quot;)){\r\n                        Toast.makeText(MainActivity.this, &quot;Please select a valid category&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else{\r\n                        progressDialog.setMessage(&quot;Had added the information into database&quot;);\r\n                        progressDialog.setCanceledOnTouchOutside(false);\r\n                        progressDialog.show();\r\n    \r\n                        String id = ref.push().getKey();\r\n    \r\n                        DateFormat format = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n                        Calendar calendar = Calendar.getInstance();\r\n                        String date = format.format(calendar.getTime());\r\n    \r\n                        Data inform = new Data(categoryGet, date, id, notesGet, Integer.parseInt(amountGet));\r\n                        ref.child(id).setValue(inform).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                if(task.isSuccessful()){\r\n                                    Toast.makeText(MainActivity.this, &quot;Information added successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                                }else{\r\n                                    Toast.makeText(MainActivity.this, &quot;Fail to add the information&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                                progressDialog.dismiss();\r\n    \r\n                            }\r\n                        });\r\n                    }\r\n    \r\n                    dialog.dismiss();\r\n    \r\n                }\r\n            });\r\n    \r\n            cancelButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n                    startActivity(intent);\r\n                    dialog.dismiss();\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nItemsAdapter() code\r\n\r\n    package com.example.assignment;\r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class ItemsAdapter extends RecyclerView.Adapter&lt;ItemsAdapter.viewHolder&gt; {\r\n    \r\n        private Context context;\r\n        private List&lt;Data&gt; dataList;\r\n    \r\n        public ItemsAdapter(Context context, List&lt;Data&gt; data) {\r\n            this.context = context;\r\n            this.dataList = data;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            View view = LayoutInflater.from(context).inflate(R.layout.output_layout, parent, false);\r\n            //return new ItemsAdapter.viewHolder(view);\r\n            return new viewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull viewHolder holder, int position) {\r\n    \r\n            final Data data = dataList.get(position);\r\n            holder.category.setText(&quot;Category :&quot; + data.getItem());\r\n            holder.amount.setText(&quot;Amount :&quot; + data.getAmount());\r\n            holder.date.setText(&quot;Date :&quot; + data.getDate());\r\n            holder.notes.setText(&quot;Note :&quot; + data.getNotes());\r\n    \r\n    \r\n    //        switch(data.getItem()){\r\n    //\r\n    //            case &quot;Petrol Spend&quot;:\r\n    //                holder.imageView.setImageResource(R.drawable.petrol);\r\n    //                break;\r\n    //\r\n    //            case &quot;Groceries Spend&quot;:\r\n    //                holder.imageView.setImageResource(R.drawable.grocery);\r\n    //                break;\r\n    //\r\n    //            case &quot;eWallet Transaction&quot;:\r\n    //                holder.imageView.setImageResource(R.drawable.wallet);\r\n    //                break;\r\n    //\r\n    //            case &quot;Other Eligible Spend&quot;:\r\n    //                holder.imageView.setImageResource(R.drawable.spend);\r\n    //                break;\r\n    //\r\n    //            default:\r\n    //                throw new IllegalStateException(&quot;Unexpected value:&quot; + data.getItem());\r\n    //        }\r\n    \r\n            if(data.getItem() == &quot;Petrol Spend&quot;){\r\n                holder.imageView.setImageResource(R.drawable.petrol);\r\n    \r\n            }else if(data.getItem() == &quot;Groceries Spend&quot;){\r\n                holder.imageView.setImageResource(R.drawable.grocery);\r\n    \r\n            }else if(data.getItem() == &quot;eWallet Transaction&quot;){\r\n                holder.imageView.setImageResource(R.drawable.wallet);\r\n    \r\n            }else if(data.getItem() == &quot;Other Eligible Spend&quot;){\r\n                holder.imageView.setImageResource(R.drawable.spend);\r\n            }\r\n            //else throw new IllegalStateException(&quot;Unexpected value:&quot; + data.getItem());\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return dataList.size();\r\n        }\r\n    \r\n        public class viewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            public TextView category, amount, date, notes;\r\n            public ImageView imageView;\r\n    \r\n            public viewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                category = itemView.findViewById(R.id.category);\r\n                amount = itemView.findViewById(R.id.amount);\r\n                date = itemView.findViewById(R.id.date);\r\n                notes = itemView.findViewById(R.id.note);\r\n                imageView = itemView.findViewById(R.id.imageView);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/o6C7m.png\r\n","title":"RecycleView output all null","body":"<p>I wanna ask regarding this recycleview issues, my code doesnt show any problem,but why my recycleview output became like this <a href=\"https://i.stack.imgur.com/o6C7m.png\" rel=\"nofollow noreferrer\">RecycleView Output</a>. I had tried by change <code>switch case()</code> to <code>if else()</code> but it will give error if I write throw <code>new IllegalStateException(&quot;Unexpected value:&quot; + data.getItem()); at the end of else. </code>The app will crash and stop running if I did not commend the exception. When I still using <code>switch case</code>, it will came out an error of <code>NullException</code></p>\n<p>This is my code:\nMainActivity() code</p>\n<pre><code>package com.example.assignment;\n\nimport android.app.AlertDialog;\nimport android.app.Dialog;\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.List;\nimport java.util.Map;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    private TextView textView;\n    private Button AddBtn;\n    private Button signOutBtn;\n    private RecyclerView recyclerView;\n\n    private FirebaseAuth auth;\n    private DatabaseReference ref;\n    private String userID  = &quot;&quot;;\n    private ProgressDialog progressDialog;\n\n    private ItemsAdapter itemsAdapter;\n    private ArrayList&lt;Data&gt; dataList;\n\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_activity);\n\n\n        textView=findViewById(R.id.totalAmount);\n        AddBtn = findViewById(R.id.add_new);\n\n\n        auth = FirebaseAuth.getInstance();\n        userID = auth.getCurrentUser().getUid();\n        ref = FirebaseDatabase.getInstance().getReference().child(&quot;expenses&quot;).child(userID);\n\n\n\n\n        progressDialog = new ProgressDialog(this);\n\n        AddBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                addItem();\n            }\n        });\n\n        recyclerView =findViewById(R.id.recycleView);\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n        linearLayoutManager.setReverseLayout(true);\n        linearLayoutManager.setStackFromEnd(true);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(linearLayoutManager);\n\n        dataList = new ArrayList&lt;&gt;();\n        itemsAdapter = new ItemsAdapter(MainActivity.this, dataList);\n        recyclerView.setAdapter(itemsAdapter);\n\n        readItems();\n\n//        signOutBtn.setOnClickListener(new View.OnClickListener() {\n//            @Override\n//            public void onClick(View view) {\n//                FirebaseAuth.getInstance().signOut();\n//            }\n//        });\n\n\n\n    }\n\n    private void readItems(){\n\n        DateFormat format = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n        Calendar calendar = Calendar.getInstance();\n        String date = format.format(calendar.getTime());\n\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;expenses&quot;).child(userID);\n        Query query = databaseReference.orderByChild(&quot;date&quot;).equalTo(date);\n        query.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                dataList.clear();\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\n                    Data data = snapshot.getValue(Data.class);\n                    dataList.add(data);\n                }\n\n                itemsAdapter.notifyDataSetChanged();\n\n                int totalAmount = 0;\n                for(DataSnapshot ds : snapshot.getChildren()){\n                    Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) ds.getValue();\n                    Object total = map.get(&quot;amount&quot;);\n                    int getTotal = Integer.parseInt(String.valueOf(total));\n                    totalAmount+=getTotal;\n\n                    textView.setText(&quot;Total Spending : RM&quot; + totalAmount);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n    }\n\n\n    private void addItem() {\n        AlertDialog.Builder alert = new AlertDialog.Builder(this);\n        //LayoutInflater layout = LayoutInflater.from(this);\n        LayoutInflater layout = getLayoutInflater();\n\n        View view = layout.inflate(R.layout.input_layout, (ViewGroup)findViewById(R.id.inputLayout));\n        setContentView(view);\n\n        final AlertDialog dialog = alert.create();\n        dialog.setCancelable(false);\n\n        final Spinner spinnerItem = view.findViewById(R.id.spinner);\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.category));\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinnerItem.setAdapter(adapter);\n\n        final EditText amount = view.findViewById(R.id.insert_amount);\n        final EditText notes = view.findViewById(R.id.insert_note);\n        final Button saveButton = view.findViewById(R.id.add_button);\n        final Button cancelButton = view.findViewById(R.id.cancel_button);\n\n        saveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String amountGet = amount.getText().toString();\n                String notesGet = notes.getText().toString();\n                String categoryGet = spinnerItem.getSelectedItem().toString();\n\n                Drawable icon = getResources().getDrawable(R.drawable.error);\n\n                if(amountGet.isEmpty()){\n                    amount.setError(&quot;Please enter an amount!!!&quot;, icon );\n                    return;\n                }\n\n                if(notesGet.isEmpty()){\n                    notes.setError(&quot;Please enter a notes!!!&quot;, icon );\n                    return;\n                }\n\n                if(categoryGet.equals(&quot;Select a Category&quot;)){\n                    Toast.makeText(MainActivity.this, &quot;Please select a valid category&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else{\n                    progressDialog.setMessage(&quot;Had added the information into database&quot;);\n                    progressDialog.setCanceledOnTouchOutside(false);\n                    progressDialog.show();\n\n                    String id = ref.push().getKey();\n\n                    DateFormat format = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n                    Calendar calendar = Calendar.getInstance();\n                    String date = format.format(calendar.getTime());\n\n                    Data inform = new Data(categoryGet, date, id, notesGet, Integer.parseInt(amountGet));\n                    ref.child(id).setValue(inform).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            if(task.isSuccessful()){\n                                Toast.makeText(MainActivity.this, &quot;Information added successfully&quot;, Toast.LENGTH_SHORT).show();\n                            }else{\n                                Toast.makeText(MainActivity.this, &quot;Fail to add the information&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                            progressDialog.dismiss();\n\n                        }\n                    });\n                }\n\n                dialog.dismiss();\n\n            }\n        });\n\n        cancelButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n                startActivity(intent);\n                dialog.dismiss();\n            }\n        });\n\n\n\n    }\n\n\n\n}\n</code></pre>\n<p>ItemsAdapter() code</p>\n<pre><code>package com.example.assignment;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class ItemsAdapter extends RecyclerView.Adapter&lt;ItemsAdapter.viewHolder&gt; {\n\n    private Context context;\n    private List&lt;Data&gt; dataList;\n\n    public ItemsAdapter(Context context, List&lt;Data&gt; data) {\n        this.context = context;\n        this.dataList = data;\n    }\n\n    @NonNull\n    @Override\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(context).inflate(R.layout.output_layout, parent, false);\n        //return new ItemsAdapter.viewHolder(view);\n        return new viewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull viewHolder holder, int position) {\n\n        final Data data = dataList.get(position);\n        holder.category.setText(&quot;Category :&quot; + data.getItem());\n        holder.amount.setText(&quot;Amount :&quot; + data.getAmount());\n        holder.date.setText(&quot;Date :&quot; + data.getDate());\n        holder.notes.setText(&quot;Note :&quot; + data.getNotes());\n\n\n//        switch(data.getItem()){\n//\n//            case &quot;Petrol Spend&quot;:\n//                holder.imageView.setImageResource(R.drawable.petrol);\n//                break;\n//\n//            case &quot;Groceries Spend&quot;:\n//                holder.imageView.setImageResource(R.drawable.grocery);\n//                break;\n//\n//            case &quot;eWallet Transaction&quot;:\n//                holder.imageView.setImageResource(R.drawable.wallet);\n//                break;\n//\n//            case &quot;Other Eligible Spend&quot;:\n//                holder.imageView.setImageResource(R.drawable.spend);\n//                break;\n//\n//            default:\n//                throw new IllegalStateException(&quot;Unexpected value:&quot; + data.getItem());\n//        }\n\n        if(data.getItem() == &quot;Petrol Spend&quot;){\n            holder.imageView.setImageResource(R.drawable.petrol);\n\n        }else if(data.getItem() == &quot;Groceries Spend&quot;){\n            holder.imageView.setImageResource(R.drawable.grocery);\n\n        }else if(data.getItem() == &quot;eWallet Transaction&quot;){\n            holder.imageView.setImageResource(R.drawable.wallet);\n\n        }else if(data.getItem() == &quot;Other Eligible Spend&quot;){\n            holder.imageView.setImageResource(R.drawable.spend);\n        }\n        //else throw new IllegalStateException(&quot;Unexpected value:&quot; + data.getItem());\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return dataList.size();\n    }\n\n    public class viewHolder extends RecyclerView.ViewHolder{\n\n        public TextView category, amount, date, notes;\n        public ImageView imageView;\n\n        public viewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            category = itemView.findViewById(R.id.category);\n            amount = itemView.findViewById(R.id.amount);\n            date = itemView.findViewById(R.id.date);\n            notes = itemView.findViewById(R.id.note);\n            imageView = itemView.findViewById(R.id.imageView);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","syntax","idioms","language-interoperability"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":2,"creation_date":1659099361,"post_id":73164490,"comment_id":129221333,"body_markdown":"Strictly speaking, you can&#39;t: if the name of a class, method, or property in the bytecode isn&#39;t a valid Java identifier (if it&#39;s a language keyword, or has illegal characters), then any Java code trying to use it will fail to compile. Java provides no workarounds for that. — However, you can work around it from the Kotlin side, by changing the names in the bytecode; see ocos&#39;s answer.","body":"Strictly speaking, you can&#39;t: if the name of a class, method, or property in the bytecode isn&#39;t a valid Java identifier (if it&#39;s a language keyword, or has illegal characters), then any Java code trying to use it will fail to compile. Java provides no workarounds for that. — However, you can work around it from the Kotlin side, by changing the names in the bytecode; see ocos&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1659112086,"creation_date":1659098209,"answer_id":73166865,"question_id":73164490,"body_markdown":"[`@JvmName`][1] annotation lets you define jvm name for that method.\r\n\r\n```kotlin\r\n@JvmName(&quot;speakLikeACat&quot;)\r\nfun `speakLikeA&#128049;`() { println(&quot;Meow&quot;) }\r\n\r\n@JvmName(&quot;speakLikeADog&quot;)\r\nfun `speak like a &#128054;`() { println(&quot;Bwoof&quot;) }\r\n```\r\n\r\nNow, you can access that method from java code.\r\n```java\r\n// .java \r\nshapeShifter.speakLikeACat();\r\nshapeShifter.speakLikeADog();\r\n```\r\n\r\nAccesing *backticked* kotlin methods, fields from java is only possible with some `jvm annotations`. Kotlin compiler must obey `java` language specifications to generate the byte code. Actually java language specification does not allow this feature.\r\n\r\n[1]: https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions","title":"How can one access Kotlin&#39;s `backtickedFunctions` from Java?","body":"<p><a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions\" rel=\"nofollow noreferrer\"><code>@JvmName</code></a> annotation lets you define jvm name for that method.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JvmName(&quot;speakLikeACat&quot;)\nfun `speakLikeA🐱`() { println(&quot;Meow&quot;) }\n\n@JvmName(&quot;speakLikeADog&quot;)\nfun `speak like a 🐶`() { println(&quot;Bwoof&quot;) }\n</code></pre>\n<p>Now, you can access that method from java code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// .java \nshapeShifter.speakLikeACat();\nshapeShifter.speakLikeADog();\n</code></pre>\n<p>Accesing <em>backticked</em> kotlin methods, fields from java is only possible with some <code>jvm annotations</code>. Kotlin compiler must obey <code>java</code> language specifications to generate the byte code. Actually java language specification does not allow this feature.</p>\n"}],"owner":{"account_id":39078,"reputation":2247,"user_id":112637,"accept_rate":70,"display_name":"Ar3s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73166865,"answer_count":1,"score":3,"last_activity_date":1659112086,"creation_date":1659086984,"question_id":73164490,"body_markdown":"**TL;DR:**\r\n\r\nIs there a simple syntax in java to access kotlins backticked functions such as ```fun `if`(){...}```\r\n\r\n**Long Version:**\r\n\r\nIn Kotlin, one may write the following class.\r\n```kotlin\r\nclass ShapeShifter {\r\n    fun speak() { println(&quot;Hello fellow hooman&quot;) }\r\n    fun `speakLikeA&#128049;`() { println(&quot;Meow&quot;) }\r\n    fun `speakLikeA&#128054;`() { println(&quot;Bwoof !&quot;) }\r\n    fun `speakLikeA&#128039;`() { println(&quot;NOOT NOOT ! (you would&#39;nt have so much problems with linux ...)&quot;) }\r\n}\r\n```\r\nAnd this would work just fine ... All your fellow kotlin-ers would be able to speak to you in all your forms like so :\r\n```kotlin\r\nShapeShifter().`speakLikeA&#128054;`() // would work like a charm\r\n```\r\nbut when interracting with java-ist muggles your secret identity would be safe because I am pretty sure java-ists can only interract with you like so :\r\n```java\r\nnew ShapeShifter().speak()\r\n```\r\nMy question is :\r\nIs there a way for java commoners to reach to your backticked kotlin functions *WITHOUT* resorting to using black magics such as introspection/reflection like so :\r\n```java\r\nvar tomJedusor = new ShapeShifter();\r\nShapeShifter.class.getDeclaredMethod(&quot;speakLikeA&#128013;&quot;).invoke(tomJedusor); //the forbidden arcane spell banned from Konoha ...\r\n```","title":"How can one access Kotlin&#39;s `backtickedFunctions` from Java?","body":"<p><strong>TL;DR:</strong></p>\n<p>Is there a simple syntax in java to access kotlins backticked functions such as <code>fun `if`(){...}</code></p>\n<p><strong>Long Version:</strong></p>\n<p>In Kotlin, one may write the following class.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ShapeShifter {\n    fun speak() { println(&quot;Hello fellow hooman&quot;) }\n    fun `speakLikeA🐱`() { println(&quot;Meow&quot;) }\n    fun `speakLikeA🐶`() { println(&quot;Bwoof !&quot;) }\n    fun `speakLikeA🐧`() { println(&quot;NOOT NOOT ! (you would'nt have so much problems with linux ...)&quot;) }\n}\n</code></pre>\n<p>And this would work just fine ... All your fellow kotlin-ers would be able to speak to you in all your forms like so :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>ShapeShifter().`speakLikeA🐶`() // would work like a charm\n</code></pre>\n<p>but when interracting with java-ist muggles your secret identity would be safe because I am pretty sure java-ists can only interract with you like so :</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ShapeShifter().speak()\n</code></pre>\n<p>My question is :\nIs there a way for java commoners to reach to your backticked kotlin functions <em>WITHOUT</em> resorting to using black magics such as introspection/reflection like so :</p>\n<pre class=\"lang-java prettyprint-override\"><code>var tomJedusor = new ShapeShifter();\nShapeShifter.class.getDeclaredMethod(&quot;speakLikeA🐍&quot;).invoke(tomJedusor); //the forbidden arcane spell banned from Konoha ...\n</code></pre>\n"},{"tags":["java","spring-boot","docker","tomcat"],"comments":[{"owner":{"account_id":6257167,"reputation":91,"user_id":4865356,"display_name":"R&#252;diger"},"score":0,"creation_date":1640072171,"post_id":70431951,"comment_id":124502154,"body_markdown":"Anything in the logs? `less /usr/local/tomcat/logs/catalina.out`","body":"Anything in the logs? <code>less &#47;usr&#47;local&#47;tomcat&#47;logs&#47;catalina.out</code>"},{"owner":{"account_id":5505753,"reputation":1289,"user_id":4439000,"accept_rate":67,"display_name":"billcyz"},"score":0,"creation_date":1640072897,"post_id":70431951,"comment_id":124502316,"body_markdown":"I&#39;ve added a screen shot of container&#39;s log to the post @R&#252;diger","body":"I&#39;ve added a screen shot of container&#39;s log to the post @R&#252;diger"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1640072944,"post_id":70431951,"comment_id":124502335,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options.","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1640073172,"post_id":70431951,"comment_id":124502383,"body_markdown":"Does this answer your question? [Servlet 5.0 JAR throws compile error on javax.servlet.\\* but Servlet 4.0 JAR does not](https://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does) (hint: try tomcat 9)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does\">Servlet 5.0 JAR throws compile error on javax.servlet.* but Servlet 4.0 JAR does not</a> (hint: try tomcat 9)"},{"owner":{"account_id":5505753,"reputation":1289,"user_id":4439000,"accept_rate":67,"display_name":"billcyz"},"score":0,"creation_date":1640074028,"post_id":70431951,"comment_id":124502637,"body_markdown":"No luck, still have the same error @Olaf Kock","body":"No luck, still have the same error @Olaf Kock"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640329110,"post_id":70431951,"comment_id":124570507,"body_markdown":"In tutorial there is no word about &quot;.war&quot;, please refer to: https://spring.io/guides/gs/convert-jar-to-war/ ..the docker part looks trivial/ok","body":"In tutorial there is no word about &quot;.war&quot;, please refer to: <a href=\"https://spring.io/guides/gs/convert-jar-to-war/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/convert-jar-to-war</a> ..the docker part looks trivial/ok"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1640374590,"post_id":70431951,"comment_id":124580414,"body_markdown":"You say your application works well locally, but do you deploy it to Tomcat or do you start it as Java application? My guess is: your application does not extend [`SpringBootServletInitializer`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/support/SpringBootServletInitializer.html) therefore it does not start on Tomcat.","body":"You say your application works well locally, but do you deploy it to Tomcat or do you start it as Java application? My guess is: your application does not extend <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/support/SpringBootServletInitializer.html\" rel=\"nofollow noreferrer\"><code>SpringBootServletInitializer</code></a> therefore it does not start on Tomcat."},{"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"score":0,"creation_date":1640849907,"post_id":70431951,"comment_id":124673547,"body_markdown":"The example link you shared shows the application to be exported as _.jar_ and not  _.war_ file. SpringBoot applications (.jar), do not need explicit tomcat. They run in whatever tomcat version applicable. Its all managed by SpringBoot and no user intervention required.  If you do not have any compulsion to run _.war_, things might be easier.","body":"The example link you shared shows the application to be exported as <i>.jar</i> and not  <i>.war</i> file. SpringBoot applications (.jar), do not need explicit tomcat. They run in whatever tomcat version applicable. Its all managed by SpringBoot and no user intervention required.  If you do not have any compulsion to run <i>.war</i>, things might be easier."}],"answers":[{"tags":[],"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1640370270,"creation_date":1640370270,"answer_id":70475673,"question_id":70431951,"body_markdown":"The problem is the fact that you are trying to run the Spring Boot 2.x application on Tomcat 10 which is not yet supported. One of the biggest changes of the Tomcat 10 was \r\n\r\n&gt; Migration from Java EE to Jakarta EE as part of the transfer of Java EE to the Eclipse Foundation, the primary package for all implemented APIs has changed from javax.* to jakarta.*. This will almost certainly require code changes to enable applications to migrate from Tomcat 9 and earlier to Tomcat 10 and later.\r\n\r\nSo all of the APIs which are used by Spring Framework are based on the older `javax.*` and new `jakarta.*` will be supported in Spring Framework 6 and Spring Boot 3 late 2022 )) More details [here][1] \r\n\r\nWhat you need to do is just adjust the Dockerfile to run the application of the Tomcat 9. This one will work if you are on Java 17\r\n\r\n    FROM tomcat:9.0-jre17-temurin\r\n    ADD WebTutorial.war /usr/local/tomcat/webapps/ROOT.war\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/25354","title":"Spring Boot 2.x on Tomcat 10 Issue","body":"<p>The problem is the fact that you are trying to run the Spring Boot 2.x application on Tomcat 10 which is not yet supported. One of the biggest changes of the Tomcat 10 was</p>\n<blockquote>\n<p>Migration from Java EE to Jakarta EE as part of the transfer of Java EE to the Eclipse Foundation, the primary package for all implemented APIs has changed from javax.* to jakarta.*. This will almost certainly require code changes to enable applications to migrate from Tomcat 9 and earlier to Tomcat 10 and later.</p>\n</blockquote>\n<p>So all of the APIs which are used by Spring Framework are based on the older <code>javax.*</code> and new <code>jakarta.*</code> will be supported in Spring Framework 6 and Spring Boot 3 late 2022 )) More details <a href=\"https://github.com/spring-projects/spring-framework/issues/25354\" rel=\"noreferrer\">here</a></p>\n<p>What you need to do is just adjust the Dockerfile to run the application of the Tomcat 9. This one will work if you are on Java 17</p>\n<pre><code>FROM tomcat:9.0-jre17-temurin\nADD WebTutorial.war /usr/local/tomcat/webapps/ROOT.war\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12634782,"reputation":1,"user_id":9184678,"display_name":"Shashanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645789084,"creation_date":1645789084,"answer_id":71265306,"question_id":70431951,"body_markdown":"i had similar requirement to migrate from tomcat 9 to tomcat 10 with spring 2.2.4 (java 8),\r\nas we know tomcat 9 is supported with java EE and tomcat 10 onwards JAKARATA EE api.\r\n\r\nso only thing as of now we can do is migrate using apache migration tool.\r\n\r\nStep 1: after building the war file that is compatable with tomcat 9.\r\n\r\nStep 2: download the jar https://dlcdn.apache.org/tomcat/jakartaee-migration/v1.0.0/binaries/jakartaee-migration-1.0.0-shaded.jar copy to some folder &lt;prod&gt;\r\n\r\nStep 3: run the following the command.\r\n\r\n\tjava  -jar jakartaee-migration-1.0.0-shaded.jar old.war new.war\r\n\t\r\n\tNote : required class are made compatible with the above tool.\r\n\r\nStep 4: done. deploy the new.war to tomcat 10 webapps folder.\r\n\r\n\r\nmay be this is helpful.","title":"Spring Boot 2.x on Tomcat 10 Issue","body":"<p>i had similar requirement to migrate from tomcat 9 to tomcat 10 with spring 2.2.4 (java 8),\nas we know tomcat 9 is supported with java EE and tomcat 10 onwards JAKARATA EE api.</p>\n<p>so only thing as of now we can do is migrate using apache migration tool.</p>\n<p>Step 1: after building the war file that is compatable with tomcat 9.</p>\n<p>Step 2: download the jar <a href=\"https://dlcdn.apache.org/tomcat/jakartaee-migration/v1.0.0/binaries/jakartaee-migration-1.0.0-shaded.jar\" rel=\"nofollow noreferrer\">https://dlcdn.apache.org/tomcat/jakartaee-migration/v1.0.0/binaries/jakartaee-migration-1.0.0-shaded.jar</a> copy to some folder </p>\n<p>Step 3: run the following the command.</p>\n<pre><code>java  -jar jakartaee-migration-1.0.0-shaded.jar old.war new.war\n\nNote : required class are made compatible with the above tool.\n</code></pre>\n<p>Step 4: done. deploy the new.war to tomcat 10 webapps folder.</p>\n<p>may be this is helpful.</p>\n"}],"owner":{"account_id":5505753,"reputation":1289,"user_id":4439000,"accept_rate":67,"display_name":"billcyz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2988,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1659111641,"creation_date":1640071990,"question_id":70431951,"body_markdown":"I&#39;m trying to deploy a war file in a Tomcat Docker container, but always get `404 Not Found` page. I created the Spring Boot project by following [Intellij Tutorial][1], and it works fine on my machine locally.\r\n\r\nHere is my Dockerfile:\r\n\r\n    FROM tomcat:latest\r\n    ADD WebTutorial.war /usr/local/tomcat/webapps/ROOT.war\r\n\r\nI use the following command to build the image and run container:\r\n\r\n    $ docker build -t sp-tomcat .\r\n    $ docker run -it -p 8080:8080 --name sp-tomcat sp-tomcat\r\n\r\nAfter the container is running, I logged into the container and see the war file has been deployed (I suppose):  \r\n[![enter image description here][2]][2]\r\n\r\nHere is the log output:\r\n\r\n    21-Dec-2021 07:41:35.819 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.0.14\r\n    21-Dec-2021 07:41:35.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Dec 2 2021 22:01:36 UTC\r\n    21-Dec-2021 07:41:35.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 10.0.14.0\r\n    21-Dec-2021 07:41:35.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n    21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.10.76-linuxkit\r\n    21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          aarch64\r\n    21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/local/openjdk-11\r\n    21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           11.0.13+8\r\n    21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n    21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\r\n    21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n    21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n    21-Dec-2021 07:41:35.830 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n    21-Dec-2021 07:41:35.830 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\r\n    21-Dec-2021 07:41:35.830 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\r\n    21-Dec-2021 07:41:35.830 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\r\n    21-Dec-2021 07:41:35.831 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\r\n    21-Dec-2021 07:41:35.832 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\r\n    21-Dec-2021 07:41:35.833 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]\r\n    21-Dec-2021 07:41:35.979 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    21-Dec-2021 07:41:35.990 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [268] milliseconds\r\n    21-Dec-2021 07:41:36.018 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n    21-Dec-2021 07:41:36.018 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/10.0.14]\r\n    21-Dec-2021 07:41:36.024 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/ROOT.war]\r\n    21-Dec-2021 07:41:36.576 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    21-Dec-2021 07:41:36.596 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has finished in [572] ms\r\n    21-Dec-2021 07:41:36.599 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    21-Dec-2021 07:41:36.607 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [617] milliseconds\r\n\r\nBut there is no luck when I try to view the website through the browser. Can anyone tell me what am I missing? \r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/your-first-spring-application.html\r\n  [2]: https://i.stack.imgur.com/hn7FC.png\r\n  [3]: https://i.stack.imgur.com/kp8z4.jpg\r\n","title":"Spring Boot 2.x on Tomcat 10 Issue","body":"<p>I'm trying to deploy a war file in a Tomcat Docker container, but always get <code>404 Not Found</code> page. I created the Spring Boot project by following <a href=\"https://www.jetbrains.com/help/idea/your-first-spring-application.html\" rel=\"nofollow noreferrer\">Intellij Tutorial</a>, and it works fine on my machine locally.</p>\n<p>Here is my Dockerfile:</p>\n<pre><code>FROM tomcat:latest\nADD WebTutorial.war /usr/local/tomcat/webapps/ROOT.war\n</code></pre>\n<p>I use the following command to build the image and run container:</p>\n<pre><code>$ docker build -t sp-tomcat .\n$ docker run -it -p 8080:8080 --name sp-tomcat sp-tomcat\n</code></pre>\n<p>After the container is running, I logged into the container and see the war file has been deployed (I suppose):<br />\n<a href=\"https://i.stack.imgur.com/hn7FC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hn7FC.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the log output:</p>\n<pre><code>21-Dec-2021 07:41:35.819 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.0.14\n21-Dec-2021 07:41:35.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Dec 2 2021 22:01:36 UTC\n21-Dec-2021 07:41:35.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 10.0.14.0\n21-Dec-2021 07:41:35.821 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.10.76-linuxkit\n21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          aarch64\n21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/local/openjdk-11\n21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           11.0.13+8\n21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\n21-Dec-2021 07:41:35.822 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n21-Dec-2021 07:41:35.829 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n21-Dec-2021 07:41:35.830 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n21-Dec-2021 07:41:35.830 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\n21-Dec-2021 07:41:35.830 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\n21-Dec-2021 07:41:35.830 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\n21-Dec-2021 07:41:35.831 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\n21-Dec-2021 07:41:35.832 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\n21-Dec-2021 07:41:35.833 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]\n21-Dec-2021 07:41:35.979 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n21-Dec-2021 07:41:35.990 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [268] milliseconds\n21-Dec-2021 07:41:36.018 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n21-Dec-2021 07:41:36.018 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/10.0.14]\n21-Dec-2021 07:41:36.024 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/ROOT.war]\n21-Dec-2021 07:41:36.576 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n21-Dec-2021 07:41:36.596 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has finished in [572] ms\n21-Dec-2021 07:41:36.599 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n21-Dec-2021 07:41:36.607 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [617] milliseconds\n</code></pre>\n<p>But there is no luck when I try to view the website through the browser. Can anyone tell me what am I missing?</p>\n"},{"tags":["java","gradle","liferay"],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659021373,"creation_date":1659014162,"answer_id":73153618,"question_id":73153246,"body_markdown":"If you&#39;re using Liferay Workspace, you could omit the commons-lang version and just use the one that Liferay brings. \r\n\r\nWhen I&#39;m looking at Liferay DXP 7.4 U34, I see that it brings along apache-commons-lang 3.11.0 (through gogo-shell `lb commons`) while the unzip error message tries to find 3.4 explicitly. You might want to try just omitting the version number to get what&#39;s coming with the portal. Or bring along your own 3.4 - technically, as OSGi is looking for `[3.4.0,4.0.0)` though, it should find 3.11.0\r\n\r\nAlso, you might want to try compiling against the same version that you&#39;re deploying to.\r\n\r\nAnd last but not least: The folder osgi/state is one that you can also delete, and it&#39;ll be regenerated - you might want to try that as a quickfix as well.\r\n\r\nMore about dependency declaration can be taken from the [release announcement][1], in this case for Liferay Portal CE: \r\n\r\n    dependencies {\r\n    \tcompileOnly group: &quot;com.liferay.portal&quot;, name: &quot;release.portal.api&quot;\r\n    }\r\n\r\nOr for Liferay DXP:\r\n\r\n    dependencies {\r\n    \tcompileOnly group: &quot;com.liferay.portal&quot;, name: &quot;release.dxp.api&quot;\r\n    }\r\n\r\nThe actually deployed version comes from your workspace&#39;s gradle.properties, for example:\r\n\r\n    liferay.workspace.product=dxp-7.4-u34\r\n\r\nEdit: As you say in your comment: Deploying the required version to the OSGi runtime yourself is also another option. This introduces a second version of some already existing library though. While OSGi can handle it, it might lead to unexpected results down the line, when you try to interpret one of those classes for another version of itself - so I generally prefer not to go this route if at all possible.\r\n\r\nSometimes it&#39;s your only way out though. And in that case, you&#39;ll just need to make sure that your plugin brings all its dependencies.\r\n\r\nYou didn&#39;t mention the Liferay version you&#39;re running (and the commons-lang version that it is running) - if you&#39;re on an older version, you might ask for a newer version than the one that Liferay brings. And that naturally can&#39;t resolve.\r\n\r\n\r\n  [1]: https://liferay.dev/blogs/-/blogs/liferay-portal-7-4-ga34-and-liferay-commerce-4-0-ga34-release","title":"Unable to deploy a Liferay portlet","body":"<p>If you're using Liferay Workspace, you could omit the commons-lang version and just use the one that Liferay brings.</p>\n<p>When I'm looking at Liferay DXP 7.4 U34, I see that it brings along apache-commons-lang 3.11.0 (through gogo-shell <code>lb commons</code>) while the unzip error message tries to find 3.4 explicitly. You might want to try just omitting the version number to get what's coming with the portal. Or bring along your own 3.4 - technically, as OSGi is looking for <code>[3.4.0,4.0.0)</code> though, it should find 3.11.0</p>\n<p>Also, you might want to try compiling against the same version that you're deploying to.</p>\n<p>And last but not least: The folder osgi/state is one that you can also delete, and it'll be regenerated - you might want to try that as a quickfix as well.</p>\n<p>More about dependency declaration can be taken from the <a href=\"https://liferay.dev/blogs/-/blogs/liferay-portal-7-4-ga34-and-liferay-commerce-4-0-ga34-release\" rel=\"nofollow noreferrer\">release announcement</a>, in this case for Liferay Portal CE:</p>\n<pre><code>dependencies {\n    compileOnly group: &quot;com.liferay.portal&quot;, name: &quot;release.portal.api&quot;\n}\n</code></pre>\n<p>Or for Liferay DXP:</p>\n<pre><code>dependencies {\n    compileOnly group: &quot;com.liferay.portal&quot;, name: &quot;release.dxp.api&quot;\n}\n</code></pre>\n<p>The actually deployed version comes from your workspace's gradle.properties, for example:</p>\n<pre><code>liferay.workspace.product=dxp-7.4-u34\n</code></pre>\n<p>Edit: As you say in your comment: Deploying the required version to the OSGi runtime yourself is also another option. This introduces a second version of some already existing library though. While OSGi can handle it, it might lead to unexpected results down the line, when you try to interpret one of those classes for another version of itself - so I generally prefer not to go this route if at all possible.</p>\n<p>Sometimes it's your only way out though. And in that case, you'll just need to make sure that your plugin brings all its dependencies.</p>\n<p>You didn't mention the Liferay version you're running (and the commons-lang version that it is running) - if you're on an older version, you might ask for a newer version than the one that Liferay brings. And that naturally can't resolve.</p>\n"},{"tags":[],"owner":{"account_id":8070277,"reputation":911,"user_id":6083277,"display_name":"Romeo Sheshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659111426,"creation_date":1659080504,"answer_id":73163215,"question_id":73153246,"body_markdown":"To deploy portlet with dependencies not included in liferay you can include them in the component jar this way in build.gradle change to \r\n\r\n    compileInclude group: &quot;org.apache.commons&quot;, name: &quot;commons-lang3&quot;, version: &quot;3.4&quot;\r\n\r\nthen in the bnd.bnd file ad this instruction \r\n\r\n    Import-Package: \\\r\n    *;resolution:=optional\r\n\r\nOne other solution is to keep the gradle dependecy in compile \r\n\r\n    compile group: &quot;org.apache.commons&quot;, name: &quot;commons-lang3&quot;, version: &quot;3.4&quot;\r\n\r\nand add to the bnd.bnd this instruction to decide manually which jar to include\r\n\r\n    -includeresource: @commons-lang3-3.4.jar\r\n\r\n    Import-Package: \\\r\n        *;resolution:=optional\r\n\r\n","title":"Unable to deploy a Liferay portlet","body":"<p>To deploy portlet with dependencies not included in liferay you can include them in the component jar this way in build.gradle change to</p>\n<pre><code>compileInclude group: &quot;org.apache.commons&quot;, name: &quot;commons-lang3&quot;, version: &quot;3.4&quot;\n</code></pre>\n<p>then in the bnd.bnd file ad this instruction</p>\n<pre><code>Import-Package: \\\n*;resolution:=optional\n</code></pre>\n<p>One other solution is to keep the gradle dependecy in compile</p>\n<pre><code>compile group: &quot;org.apache.commons&quot;, name: &quot;commons-lang3&quot;, version: &quot;3.4&quot;\n</code></pre>\n<p>and add to the bnd.bnd this instruction to decide manually which jar to include</p>\n<pre><code>-includeresource: @commons-lang3-3.4.jar\n\nImport-Package: \\\n    *;resolution:=optional\n</code></pre>\n"}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73163215,"answer_count":2,"score":0,"last_activity_date":1659111426,"creation_date":1659012614,"question_id":73153246,"body_markdown":"In my Liferay (gradle) project in one module I added a new dependency in ```build.gradle``` file of a module like this:\r\n```\r\ncompile group: &quot;org.apache.commons&quot;, name: &quot;commons-lang3&quot;, version: &quot;3.4&quot;\r\n```\r\nThen I ran the deploy script.\r\nDeploy script does not return errors, however, Liferay is unable to deploy this module.\r\nWhen I start the Liferay, I get the following error:\r\n```\r\nERROR [Framework Event Dispatcher: Equinox Container: 60d05c84-6e0e-001d-100e-e4594733331c][f-b-b:97] FrameworkEvent ERROR \r\norg.osgi.framework.BundleException: Could not resolve module: f-b-b [738]_  Unresolved requirement: Import-Package: org.apache.commons.lang3; version=&quot;[3.4.0,4.0.0)&quot;_ [Sanitized]\r\n        at org.eclipse.osgi.container.Module.start(Module.java:429)\r\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1582)\r\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1562)\r\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1533)\r\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1476)\r\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n```\r\nWhen I try to load the page where the portlet is located, I get another error:\r\n```ERROR [Framework Event Dispatcher: Equinox Container: 60d05c84-6e0e-001d-100e-e4594733331c][fmcc-util:97] FrameworkEvent ERROR \r\njava.io.IOException: Exception in opening zip file: /home/user/projects/project/workspace/bundles/osgi/state/org.eclipse.osgi/733/0/.cp/lib/commons-lang3-3.4.jar\r\n        at org.eclipse.osgi.framework.util.SecureAction.getZipFile(SecureAction.java:305)\r\n        at org.eclipse.osgi.storage.bundlefile.ZipBundleFile.basicOpen(ZipBundleFile.java:85)\r\n        at org.eclipse.osgi.storage.bundlefile.ZipBundleFile.getZipFile(ZipBundleFile.java:98)\r\n        at org.eclipse.osgi.storage.bundlefile.ZipBundleFile.checkedOpen(ZipBundleFile.java:65)\r\n        at org.eclipse.osgi.storage.bundlefile.ZipBundleFile.getEntry(ZipBundleFile.java:232)\r\n        at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findClassImpl(ClasspathManager.java:562)\r\n        at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClassImpl(ClasspathManager.java:540)\r\n        at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:527)\r\n        at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:324)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:330)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:407)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:357)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:349)\r\n        at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:348)\r\n        at com.sun.beans.finder.ClassFinder.findClass(ClassFinder.java:103)\r\n        at java.beans.Introspector.findCustomizerClass(Introspector.java:1301)\r\n        at java.beans.Introspector.getTargetBeanDescriptor(Introspector.java:1295)\r\n        at java.beans.Introspector.getBeanInfo(Introspector.java:425)\r\n        at java.beans.Introspector.getBeanInfo(Introspector.java:173)\r\n        at freemarker.ext.jsp.JspTagModelBase.&lt;init&gt;(JspTagModelBase.java:53)\r\n        at freemarker.ext.jsp.TagTransformModel.&lt;init&gt;(TagTransformModel.java:51)\r\n        at freemarker.ext.jsp.TaglibFactory$TldParserForTaglibBuilding.endElement(TaglibFactory.java:1736)\r\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:609)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1782)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2967)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\r\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)\r\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\r\n        at freemarker.ext.jsp.TaglibFactory.parseXml(TaglibFactory.java:872)\r\n        at freemarker.ext.jsp.TaglibFactory.access$1400(TaglibFactory.java:94)\r\n        at freemarker.ext.jsp.TaglibFactory$Taglib.parseToTagsAndFunctions(TaglibFactory.java:1507)\r\n        at freemarker.ext.jsp.TaglibFactory$Taglib.&lt;init&gt;(TaglibFactory.java:1490)\r\n        at freemarker.ext.jsp.TaglibFactory.loadTaglib(TaglibFactory.java:846)\r\n        at freemarker.ext.jsp.TaglibFactory.get(TaglibFactory.java:256)\r\n        at com.liferay.portal.template.freemarker.internal.FreeMarkerManager$TaglibFactoryWrapper.get(FreeMarkerManager.java:650)\r\n        at com.liferay.portal.template.freemarker.internal.FreeMarkerManager.addTaglibSupport(FreeMarkerManager.java:206)\r\n        at com.liferay.taglib.util.ThemeUtil.doIncludeFTL(ThemeUtil.java:276)\r\n        at com.liferay.taglib.util.ThemeUtil.doDispatch(ThemeUtil.java:157)\r\n        at com.liferay.taglib.util.ThemeUtil.includeFTL(ThemeUtil.java:100)\r\n        at com.liferay.taglib.util.ThemeUtil.include(ThemeUtil.java:82)\r\n        at com.liferay.taglib.theme.WrapPortletTag.doEndTag(WrapPortletTag.java:101)\r\n        at org.apache.jsp.html.common.themes.portlet_jsp._jspService(portlet_jsp.java:1863)\r\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n      at com.liferay.portal.servlet.DirectRequestDispatcher.include(DirectRequestDispatcher.java:64)\r\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.doDispatch(ClassLoaderRequestDispatcherWrapper.java:78)\r\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.include(ClassLoaderRequestDispatcherWrapper.java:53)\r\n        at com.liferay.taglib.util.IncludeTag.includePage(IncludeTag.java:372)\r\n        at com.liferay.taglib.util.IncludeTag.include(IncludeTag.java:349)\r\n        at com.liferay.taglib.util.IncludeTag.doInclude(IncludeTag.java:202)\r\n        at com.liferay.taglib.util.IncludeTag.doEndTag(IncludeTag.java:86)\r\n        at org.apache.jsp.html.portal.render_005fportlet_jsp._jspService(render_005fportlet_jsp.java:1827)\r\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n        at com.liferay.portal.servlet.DirectRequestDispatcher.include(DirectRequestDispatcher.java:64)\r\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.doDispatch(ClassLoaderRequestDispatcherWrapper.java:78)\r\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.include(ClassLoaderRequestDispatcherWrapper.java:53)\r\n        at com.liferay.portlet.PortletContainerImpl._render(PortletContainerImpl.java:707)\r\n        at com.liferay.portlet.PortletContainerImpl.render(PortletContainerImpl.java:162)\r\n        at com.liferay.portlet.SecurityPortletContainerWrapper.render(SecurityPortletContainerWrapper.java:133)\r\n        at com.liferay.portlet.RestrictPortletContainerWrapper.render(RestrictPortletContainerWrapper.java:133)\r\n        at com.liferay.portal.kernel.portlet.PortletContainerUtil.render(PortletContainerUtil.java:161)\r\n        at com.liferay.portal.layoutconfiguration.util.PortletRenderer._render(PortletRenderer.java:126)\r\n        at com.liferay.portal.layoutconfiguration.util.PortletRenderer.render(PortletRenderer.java:73)\r\n        at com.liferay.portal.layoutconfiguration.util.RuntimePageImpl.doProcessTemplate(RuntimePageImpl.java:444)\r\n        at com.liferay.portal.layoutconfiguration.util.RuntimePageImpl.doDispatch(RuntimePageImpl.java:286)\r\n        at com.liferay.portal.layoutconfiguration.util.RuntimePageImpl.processTemplate(RuntimePageImpl.java:113)\r\n        at com.liferay.portal.layoutconfiguration.util.RuntimePageImpl.processTemplate(RuntimePageImpl.java:125)\r\n        at com.liferay.portal.kernel.layoutconfiguration.util.RuntimePageUtil.processTemplate(RuntimePageUtil.java:70)\r\n        at org.apache.jsp.html.portal.layout.view.portlet_jsp._jspService(portlet_jsp.java:759)\r\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n        at com.liferay.portal.servlet.DirectRequestDispatcher.include(DirectRequestDispatcher.java:64)\r\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.doDispatch(ClassLoaderRequestDispatcherWrapper.java:78)\r\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.include(ClassLoaderRequestDispatcherWrapper.java:53)\r\n        at com.liferay.portal.model.impl.LayoutTypeControllerImpl.includeLayoutContent(LayoutTypeControllerImpl.java:168)\r\n        at com.liferay.portal.model.impl.LayoutImpl.includeLayoutContent(LayoutImpl.java:897)\r\n        at com.liferay.portal.action.LayoutAction.processLayout(LayoutAction.java:323)\r\n        at com.liferay.portal.action.LayoutAction.execute(LayoutAction.java:159)\r\n        at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\r\n        at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\r\n        at com.liferay.portal.struts.PortalRequestProcessor.process(PortalRequestProcessor.java:170)\r\n        at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n        at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n        at com.liferay.portal.servlet.MainServlet.callParentService(MainServlet.java:606)\r\n        at com.liferay.portal.servlet.MainServlet.service(MainServlet.java:583)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:119)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.uploadservletrequest.UploadServletRequestFilter.processFilter(UploadServletRequestFilter.java:93)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.secure.SecureFilter.processFilter(SecureFilter.java:337)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.jsoncontenttype.JSONContentTypeFilter.processFilter(JSONContentTypeFilter.java:42)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.monitoring.internal.servlet.filter.MonitoringFilter.processFilter(MonitoringFilter.java:181)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:99)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:720)\r\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:466)\r\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:391)\r\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:318)\r\n        at com.liferay.portal.servlet.FriendlyURLServlet.service(FriendlyURLServlet.java:153)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:119)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.uploadservletrequest.UploadServletRequestFilter.processFilter(UploadServletRequestFilter.java:93)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.strip.StripFilter.processFilter(StripFilter.java:336)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.gzip.GZipFilter.processFilter(GZipFilter.java:125)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.secure.SecureFilter.processFilter(SecureFilter.java:337)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.i18n.I18nFilter.processFilter(I18nFilter.java:364)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.jsoncontenttype.JSONContentTypeFilter.processFilter(JSONContentTypeFilter.java:42)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.autologin.AutoLoginFilter.processFilter(AutoLoginFilter.java:261)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.sharepoint.SharepointFilter.processFilter(SharepointFilter.java:88)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.servlet.filters.virtualhost.VirtualHostFilter.processFilter(VirtualHostFilter.java:265)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\r\n        at com.liferay.portal.monitoring.internal.servlet.filter.MonitoringFilter.processFilter(MonitoringFilter.java:181)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:188)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:188)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\r\n        at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\r\n        at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\r\n        at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\r\n        at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\r\n        at com.liferay.portal.servlet.filters.urlrewrite.UrlRewriteFilter.processFilter(UrlRewriteFilter.java:65)\r\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:168)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:168)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:188)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\r\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:99)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\r\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)\r\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.FileNotFoundException: /home/user/projects/project/workspace/bundles/osgi/state/org.eclipse.osgi/733/0/.cp/lib/commons-lang3-3.4.jar (No such file or folder)\r\n        at java.util.zip.ZipFile.open(Native Method)\r\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:228)\r\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:157)\r\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:171)\r\n        at org.eclipse.osgi.framework.util.SecureAction.getZipFile(SecureAction.java:288)\r\n        ... 222 more\r\n```\r\n\r\nSo it looks like it can not find the right jar file. But, deploy is successful, no errors while building the project. If I put the invalid name in ```build.gradle```, like ```commons-lang300``` I get the build error, what means that gradle is able to download the library ```commons-lang3``` just fine. Somewhy Liferay is not able to find it.\r\n\r\n\r\nIf I do not use the ```org.apache.commons.lang``` package in my source code, portlet is deployed without problems. If I try to use it, portlet does not want to deploy.\r\n\r\nI remember adding libraries in other modules in ```build.gradle``` and I was able to use them.\r\n\r\nWhat is the problem here?","title":"Unable to deploy a Liferay portlet","body":"<p>In my Liferay (gradle) project in one module I added a new dependency in <code>build.gradle</code> file of a module like this:</p>\n<pre><code>compile group: &quot;org.apache.commons&quot;, name: &quot;commons-lang3&quot;, version: &quot;3.4&quot;\n</code></pre>\n<p>Then I ran the deploy script.\nDeploy script does not return errors, however, Liferay is unable to deploy this module.\nWhen I start the Liferay, I get the following error:</p>\n<pre><code>ERROR [Framework Event Dispatcher: Equinox Container: 60d05c84-6e0e-001d-100e-e4594733331c][f-b-b:97] FrameworkEvent ERROR \norg.osgi.framework.BundleException: Could not resolve module: f-b-b [738]_  Unresolved requirement: Import-Package: org.apache.commons.lang3; version=&quot;[3.4.0,4.0.0)&quot;_ [Sanitized]\n        at org.eclipse.osgi.container.Module.start(Module.java:429)\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1582)\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1562)\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1533)\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1476)\n        at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n</code></pre>\n<p>When I try to load the page where the portlet is located, I get another error:</p>\n<pre><code>java.io.IOException: Exception in opening zip file: /home/user/projects/project/workspace/bundles/osgi/state/org.eclipse.osgi/733/0/.cp/lib/commons-lang3-3.4.jar\n        at org.eclipse.osgi.framework.util.SecureAction.getZipFile(SecureAction.java:305)\n        at org.eclipse.osgi.storage.bundlefile.ZipBundleFile.basicOpen(ZipBundleFile.java:85)\n        at org.eclipse.osgi.storage.bundlefile.ZipBundleFile.getZipFile(ZipBundleFile.java:98)\n        at org.eclipse.osgi.storage.bundlefile.ZipBundleFile.checkedOpen(ZipBundleFile.java:65)\n        at org.eclipse.osgi.storage.bundlefile.ZipBundleFile.getEntry(ZipBundleFile.java:232)\n        at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findClassImpl(ClasspathManager.java:562)\n        at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClassImpl(ClasspathManager.java:540)\n        at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:527)\n        at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:324)\n        at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:330)\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:407)\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:357)\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:349)\n        at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at com.sun.beans.finder.ClassFinder.findClass(ClassFinder.java:103)\n        at java.beans.Introspector.findCustomizerClass(Introspector.java:1301)\n        at java.beans.Introspector.getTargetBeanDescriptor(Introspector.java:1295)\n        at java.beans.Introspector.getBeanInfo(Introspector.java:425)\n        at java.beans.Introspector.getBeanInfo(Introspector.java:173)\n        at freemarker.ext.jsp.JspTagModelBase.&lt;init&gt;(JspTagModelBase.java:53)\n        at freemarker.ext.jsp.TagTransformModel.&lt;init&gt;(TagTransformModel.java:51)\n        at freemarker.ext.jsp.TaglibFactory$TldParserForTaglibBuilding.endElement(TaglibFactory.java:1736)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:609)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1782)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2967)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\n        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\n        at freemarker.ext.jsp.TaglibFactory.parseXml(TaglibFactory.java:872)\n        at freemarker.ext.jsp.TaglibFactory.access$1400(TaglibFactory.java:94)\n        at freemarker.ext.jsp.TaglibFactory$Taglib.parseToTagsAndFunctions(TaglibFactory.java:1507)\n        at freemarker.ext.jsp.TaglibFactory$Taglib.&lt;init&gt;(TaglibFactory.java:1490)\n        at freemarker.ext.jsp.TaglibFactory.loadTaglib(TaglibFactory.java:846)\n        at freemarker.ext.jsp.TaglibFactory.get(TaglibFactory.java:256)\n        at com.liferay.portal.template.freemarker.internal.FreeMarkerManager$TaglibFactoryWrapper.get(FreeMarkerManager.java:650)\n        at com.liferay.portal.template.freemarker.internal.FreeMarkerManager.addTaglibSupport(FreeMarkerManager.java:206)\n        at com.liferay.taglib.util.ThemeUtil.doIncludeFTL(ThemeUtil.java:276)\n        at com.liferay.taglib.util.ThemeUtil.doDispatch(ThemeUtil.java:157)\n        at com.liferay.taglib.util.ThemeUtil.includeFTL(ThemeUtil.java:100)\n        at com.liferay.taglib.util.ThemeUtil.include(ThemeUtil.java:82)\n        at com.liferay.taglib.theme.WrapPortletTag.doEndTag(WrapPortletTag.java:101)\n        at org.apache.jsp.html.common.themes.portlet_jsp._jspService(portlet_jsp.java:1863)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n      at com.liferay.portal.servlet.DirectRequestDispatcher.include(DirectRequestDispatcher.java:64)\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.doDispatch(ClassLoaderRequestDispatcherWrapper.java:78)\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.include(ClassLoaderRequestDispatcherWrapper.java:53)\n        at com.liferay.taglib.util.IncludeTag.includePage(IncludeTag.java:372)\n        at com.liferay.taglib.util.IncludeTag.include(IncludeTag.java:349)\n        at com.liferay.taglib.util.IncludeTag.doInclude(IncludeTag.java:202)\n        at com.liferay.taglib.util.IncludeTag.doEndTag(IncludeTag.java:86)\n        at org.apache.jsp.html.portal.render_005fportlet_jsp._jspService(render_005fportlet_jsp.java:1827)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n        at com.liferay.portal.servlet.DirectRequestDispatcher.include(DirectRequestDispatcher.java:64)\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.doDispatch(ClassLoaderRequestDispatcherWrapper.java:78)\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.include(ClassLoaderRequestDispatcherWrapper.java:53)\n        at com.liferay.portlet.PortletContainerImpl._render(PortletContainerImpl.java:707)\n        at com.liferay.portlet.PortletContainerImpl.render(PortletContainerImpl.java:162)\n        at com.liferay.portlet.SecurityPortletContainerWrapper.render(SecurityPortletContainerWrapper.java:133)\n        at com.liferay.portlet.RestrictPortletContainerWrapper.render(RestrictPortletContainerWrapper.java:133)\n        at com.liferay.portal.kernel.portlet.PortletContainerUtil.render(PortletContainerUtil.java:161)\n        at com.liferay.portal.layoutconfiguration.util.PortletRenderer._render(PortletRenderer.java:126)\n        at com.liferay.portal.layoutconfiguration.util.PortletRenderer.render(PortletRenderer.java:73)\n        at com.liferay.portal.layoutconfiguration.util.RuntimePageImpl.doProcessTemplate(RuntimePageImpl.java:444)\n        at com.liferay.portal.layoutconfiguration.util.RuntimePageImpl.doDispatch(RuntimePageImpl.java:286)\n        at com.liferay.portal.layoutconfiguration.util.RuntimePageImpl.processTemplate(RuntimePageImpl.java:113)\n        at com.liferay.portal.layoutconfiguration.util.RuntimePageImpl.processTemplate(RuntimePageImpl.java:125)\n        at com.liferay.portal.kernel.layoutconfiguration.util.RuntimePageUtil.processTemplate(RuntimePageUtil.java:70)\n        at org.apache.jsp.html.portal.layout.view.portlet_jsp._jspService(portlet_jsp.java:759)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n        at com.liferay.portal.servlet.DirectRequestDispatcher.include(DirectRequestDispatcher.java:64)\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.doDispatch(ClassLoaderRequestDispatcherWrapper.java:78)\n        at com.liferay.portal.servlet.ClassLoaderRequestDispatcherWrapper.include(ClassLoaderRequestDispatcherWrapper.java:53)\n        at com.liferay.portal.model.impl.LayoutTypeControllerImpl.includeLayoutContent(LayoutTypeControllerImpl.java:168)\n        at com.liferay.portal.model.impl.LayoutImpl.includeLayoutContent(LayoutImpl.java:897)\n        at com.liferay.portal.action.LayoutAction.processLayout(LayoutAction.java:323)\n        at com.liferay.portal.action.LayoutAction.execute(LayoutAction.java:159)\n        at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\n        at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\n        at com.liferay.portal.struts.PortalRequestProcessor.process(PortalRequestProcessor.java:170)\n        at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\n        at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:449)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n        at com.liferay.portal.servlet.MainServlet.callParentService(MainServlet.java:606)\n        at com.liferay.portal.servlet.MainServlet.service(MainServlet.java:583)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:119)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.uploadservletrequest.UploadServletRequestFilter.processFilter(UploadServletRequestFilter.java:93)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.secure.SecureFilter.processFilter(SecureFilter.java:337)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.jsoncontenttype.JSONContentTypeFilter.processFilter(JSONContentTypeFilter.java:42)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.monitoring.internal.servlet.filter.MonitoringFilter.processFilter(MonitoringFilter.java:181)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:99)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:720)\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:466)\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:391)\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:318)\n        at com.liferay.portal.servlet.FriendlyURLServlet.service(FriendlyURLServlet.java:153)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:119)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.uploadservletrequest.UploadServletRequestFilter.processFilter(UploadServletRequestFilter.java:93)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.strip.StripFilter.processFilter(StripFilter.java:336)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.gzip.GZipFilter.processFilter(GZipFilter.java:125)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.secure.SecureFilter.processFilter(SecureFilter.java:337)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.i18n.I18nFilter.processFilter(I18nFilter.java:364)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.jsoncontenttype.JSONContentTypeFilter.processFilter(JSONContentTypeFilter.java:42)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.autologin.AutoLoginFilter.processFilter(AutoLoginFilter.java:261)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.sharepoint.SharepointFilter.processFilter(SharepointFilter.java:88)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.servlet.filters.virtualhost.VirtualHostFilter.processFilter(VirtualHostFilter.java:265)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:142)\n        at com.liferay.portal.monitoring.internal.servlet.filter.MonitoringFilter.processFilter(MonitoringFilter.java:181)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:188)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:188)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\n        at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\n        at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\n        at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\n        at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\n        at com.liferay.portal.servlet.filters.urlrewrite.UrlRewriteFilter.processFilter(UrlRewriteFilter.java:65)\n        at com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:207)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:112)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:168)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:168)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:188)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:96)\n        at com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:99)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.FileNotFoundException: /home/user/projects/project/workspace/bundles/osgi/state/org.eclipse.osgi/733/0/.cp/lib/commons-lang3-3.4.jar (No such file or folder)\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:228)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:157)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:171)\n        at org.eclipse.osgi.framework.util.SecureAction.getZipFile(SecureAction.java:288)\n        ... 222 more\n</code></pre>\n<p>So it looks like it can not find the right jar file. But, deploy is successful, no errors while building the project. If I put the invalid name in <code>build.gradle</code>, like <code>commons-lang300</code> I get the build error, what means that gradle is able to download the library <code>commons-lang3</code> just fine. Somewhy Liferay is not able to find it.</p>\n<p>If I do not use the <code>org.apache.commons.lang</code> package in my source code, portlet is deployed without problems. If I try to use it, portlet does not want to deploy.</p>\n<p>I remember adding libraries in other modules in <code>build.gradle</code> and I was able to use them.</p>\n<p>What is the problem here?</p>\n"},{"tags":["java","java-bytecode-asm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1658854392,"post_id":73121503,"comment_id":129153670,"body_markdown":"First of all, a `volatile` field is not a “synchronized list field”. What you are trying to do, is not thread-safe. Further, you are never initializing the field. Besides that, your issue is related to [this one](https://stackoverflow.com/q/72877465/2711488), except you are using the Tree API. If a `LabelNode` (potential branch target) is followed by a `FrameNode`, you must not insert code between them, but place the code *after* the `FrameNode`. Side note: instead of `\\u0001` you can simply write `\\1` in string constants.","body":"First of all, a <code>volatile</code> field is not a “synchronized list field”. What you are trying to do, is not thread-safe. Further, you are never initializing the field. Besides that, your issue is related to <a href=\"https://stackoverflow.com/q/72877465/2711488\">this one</a>, except you are using the Tree API. If a <code>LabelNode</code> (potential branch target) is followed by a <code>FrameNode</code>, you must not insert code between them, but place the code <i>after</i> the <code>FrameNode</code>. Side note: instead of <code>\\u0001</code> you can simply write <code>\\1</code> in string constants."}],"answers":[{"tags":[],"owner":{"account_id":24236396,"reputation":104,"user_id":18189469,"display_name":"WobbleMeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659110605,"creation_date":1659085417,"answer_id":73164140,"question_id":73121503,"body_markdown":"It&#39;s not the prettiest, but I think this is one way of implementing what Holger is suggesting:\r\n\r\n```\r\nfor (MethodNode mn : cn.methods) {\r\n    InsnList insns = mn.instructions;\r\n    if (insns.size() == 0) {\r\n        continue;\r\n    }\r\n\r\n    int lineNum = -1;\r\n    int l1 = -1;\r\n    int l2 = -1;\r\n    AbstractInsnNode node;\r\n    int numAdded;\r\n    for (int i = 0; i &lt; insns.size(); i++) {\r\n        node = insns.get(i);\r\n        if (node instanceof LineNumberNode) {\r\n            lineNum = ((LineNumberNode) node).line;\r\n        } else if (node instanceof LabelNode) {\r\n            if (l1 == -1) {\r\n                l1 = i;\r\n            } else {\r\n                l2 = i;\r\n            }\r\n        } else if (node instanceof FrameNode) {\r\n            l1 = i;\r\n        }\r\n        if (lineNum &gt; -1 &amp;&amp; l1 &lt; l2) {\r\n            InsnList addedInsns = new InsnList();\r\n\r\n            // bytecode insertion code\r\n\r\n            numAdded = addedInsns.size(); // get this before inserting into insns as the insert operation empties addedInsns\r\n            insns.insert(insns.get(l1), addedInsns);\r\n            lineNum = -1;\r\n\r\n            i += numAdded - 1; // -1 to counteract i incrementing with next iteration\r\n            l1 = -1;\r\n            l1 = -1;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"ASM method transformation stackmap frame exception","body":"<p>It's not the prettiest, but I think this is one way of implementing what Holger is suggesting:</p>\n<pre><code>for (MethodNode mn : cn.methods) {\n    InsnList insns = mn.instructions;\n    if (insns.size() == 0) {\n        continue;\n    }\n\n    int lineNum = -1;\n    int l1 = -1;\n    int l2 = -1;\n    AbstractInsnNode node;\n    int numAdded;\n    for (int i = 0; i &lt; insns.size(); i++) {\n        node = insns.get(i);\n        if (node instanceof LineNumberNode) {\n            lineNum = ((LineNumberNode) node).line;\n        } else if (node instanceof LabelNode) {\n            if (l1 == -1) {\n                l1 = i;\n            } else {\n                l2 = i;\n            }\n        } else if (node instanceof FrameNode) {\n            l1 = i;\n        }\n        if (lineNum &gt; -1 &amp;&amp; l1 &lt; l2) {\n            InsnList addedInsns = new InsnList();\n\n            // bytecode insertion code\n\n            numAdded = addedInsns.size(); // get this before inserting into insns as the insert operation empties addedInsns\n            insns.insert(insns.get(l1), addedInsns);\n            lineNum = -1;\n\n            i += numAdded - 1; // -1 to counteract i incrementing with next iteration\n            l1 = -1;\n            l1 = -1;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19239485,"reputation":33,"user_id":19623917,"display_name":"Flipz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73164140,"answer_count":1,"score":0,"last_activity_date":1659110605,"creation_date":1658830095,"question_id":73121503,"body_markdown":"I&#39;m trying to add to user bytecode from a premain method that adds certain information in `String` form to a list whenever a new line number node is encountered, although when I run the agent and application jars the following exception occurs:\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again \r\nException in thread &quot;main&quot; java.lang.VerifyError: Expecting a stackmap frame at branch target \r\n134\r\nException Details:\r\n  Location:\r\n    sketches/UserCode.main([Ljava/lang/String;)V @24: if_icmpge\r\n  Reason:\r\n    Expected stackmap frame at this location.\r\n  Bytecode:\r\n    0x0000000: b200 12b8 0018 b600 1cba 0037 0000 b900\r\n    0x0000010: 2e02 0057 033c 1b07 a200 6eb2 0012 b800\r\n    0x0000020: 18b6 001c ba00 3a00 00b9 002e 0200 57bb\r\n    0x0000030: 0014 59ba 004a 0000 1bb2 0012 b800 18b6\r\n    0x0000040: 001c ba00 4d00 00b9 002e 0200 57b8 0053\r\n    0x0000050: b700 564d b200 12b8 0018 b600 1cba 0059\r\n    0x0000060: 0000 b900 2e02 0057 2cb6 005c b200 12b8\r\n    0x0000070: 0018 b600 1cba 0037 0000 b900 2e02 0057\r\n    0x0000080: 8401 01a7 ff93 b200 12b8 0018 b600 1cba\r\n    0x0000090: 005f 0000 b900 2e02 0057 b1\r\n  Stackmap Table:\r\n    append_frame(@22,Integer)\r\n    chop_frame(@154,1)\r\n\r\n```\r\n\r\nHere&#39;s the premain&#39;s transform method:\r\n\r\n```\r\npublic byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\r\n                // bootstrap loader is not what we&#39;re looking for and will be signified by null\r\n                if (loader == null) {\r\n                    return null;\r\n                }\r\n\r\n                ClassNode cn = new ClassNode(ASM9);\r\n                ClassReader cr1 = new ClassReader(classfileBuffer);\r\n                cr1.accept(cn, 0);\r\n\r\n                ...\r\n\r\n                // make the synchronized list field\r\n                cn.fields.add(new FieldNode(Opcodes.ACC_PUBLIC + Opcodes.ACC_STATIC + Opcodes.ACC_VOLATILE,\r\n                        listName, &quot;Ljava/util/List;&quot;, null, null));\r\n\r\n                // go through all MethodNodes and all instruction lists in methods and add synchronized list insert op\r\n                // also, add initialisation for synchronized list (may include creating a static initialiser)\r\n                for (MethodNode mn : cn.methods) {\r\n                    InsnList insns = mn.instructions;\r\n                    if (insns.size() == 0) {\r\n                        continue;\r\n                    }\r\n\r\n                    for (AbstractInsnNode node : insns) {\r\n                        if (node instanceof LineNumberNode) {\r\n                            InsnList addedInsns = new InsnList();\r\n\r\n                            //TODO: fix this\r\n                            addedInsns.add(new FieldInsnNode(GETSTATIC, cn.name, &quot;list&quot;,\r\n                                    &quot;Ljava/util/List;&quot;));\r\n                            addedInsns.add(new MethodInsnNode(INVOKESTATIC, &quot;java/lang/Thread&quot;,\r\n                                    &quot;currentThread&quot;, &quot;()Ljava/lang/Thread;&quot;, false));\r\n                            addedInsns.add(new MethodInsnNode(INVOKEVIRTUAL, &quot;java/lang/Thread&quot;,\r\n                                    &quot;getId&quot;, &quot;()J&quot;, false));\r\n                            addedInsns.add(new InvokeDynamicInsnNode(&quot;makeConcatWithConstants&quot;,\r\n                                    &quot;(J)Ljava/lang/String;&quot;,\r\n                                    new Handle(H_INVOKESTATIC,\r\n                                            &quot;java/lang/invoke/StringConcatFactory&quot;,\r\n                                            &quot;makeConcatWithConstants&quot;,\r\n                                            &quot;(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;&quot;,\r\n                                            false),\r\n                                    &quot;\\u0001|&quot; + ((LineNumberNode) node).line + &quot;|&quot; + className));\r\n                            addedInsns.add(new MethodInsnNode(INVOKEINTERFACE, &quot;java/util/List&quot;,\r\n                                    &quot;add&quot;, &quot;(Ljava/lang/Object;)Z&quot;, true));\r\n                            addedInsns.add(new InsnNode(POP));\r\n\r\n                            insns.insert(node.getPrevious(), addedInsns);\r\n\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                ClassWriter cw1 = new ClassWriter(ClassWriter.COMPUTE_MAXS);\r\n                cn.accept(cw1);\r\n                return cw1.toByteArray();\r\n\r\n            }\r\n\r\n```\r\n\r\nI&#39;ve seen answers to previous questions where the exception message was more or less similar, however, the fault in those cases seemed more obvious to me at least (i.e. a LOAD instruction with no corresponding STORE). I&#39;ve also looked through the ASM4 user guide, although I think I&#39;m not quite grasping discussion about stackmap frames...\r\n\r\nAny advice on how this can be sorted would be appreciated - the more thorough the explanation the better; I would like to be able to understand and apply advice for any such issues I might encounter in future.","title":"ASM method transformation stackmap frame exception","body":"<p>I'm trying to add to user bytecode from a premain method that adds certain information in <code>String</code> form to a list whenever a new line number node is encountered, although when I run the agent and application jars the following exception occurs:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again \nException in thread &quot;main&quot; java.lang.VerifyError: Expecting a stackmap frame at branch target \n134\nException Details:\n  Location:\n    sketches/UserCode.main([Ljava/lang/String;)V @24: if_icmpge\n  Reason:\n    Expected stackmap frame at this location.\n  Bytecode:\n    0x0000000: b200 12b8 0018 b600 1cba 0037 0000 b900\n    0x0000010: 2e02 0057 033c 1b07 a200 6eb2 0012 b800\n    0x0000020: 18b6 001c ba00 3a00 00b9 002e 0200 57bb\n    0x0000030: 0014 59ba 004a 0000 1bb2 0012 b800 18b6\n    0x0000040: 001c ba00 4d00 00b9 002e 0200 57b8 0053\n    0x0000050: b700 564d b200 12b8 0018 b600 1cba 0059\n    0x0000060: 0000 b900 2e02 0057 2cb6 005c b200 12b8\n    0x0000070: 0018 b600 1cba 0037 0000 b900 2e02 0057\n    0x0000080: 8401 01a7 ff93 b200 12b8 0018 b600 1cba\n    0x0000090: 005f 0000 b900 2e02 0057 b1\n  Stackmap Table:\n    append_frame(@22,Integer)\n    chop_frame(@154,1)\n\n</code></pre>\n<p>Here's the premain's transform method:</p>\n<pre><code>public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\n                // bootstrap loader is not what we're looking for and will be signified by null\n                if (loader == null) {\n                    return null;\n                }\n\n                ClassNode cn = new ClassNode(ASM9);\n                ClassReader cr1 = new ClassReader(classfileBuffer);\n                cr1.accept(cn, 0);\n\n                ...\n\n                // make the synchronized list field\n                cn.fields.add(new FieldNode(Opcodes.ACC_PUBLIC + Opcodes.ACC_STATIC + Opcodes.ACC_VOLATILE,\n                        listName, &quot;Ljava/util/List;&quot;, null, null));\n\n                // go through all MethodNodes and all instruction lists in methods and add synchronized list insert op\n                // also, add initialisation for synchronized list (may include creating a static initialiser)\n                for (MethodNode mn : cn.methods) {\n                    InsnList insns = mn.instructions;\n                    if (insns.size() == 0) {\n                        continue;\n                    }\n\n                    for (AbstractInsnNode node : insns) {\n                        if (node instanceof LineNumberNode) {\n                            InsnList addedInsns = new InsnList();\n\n                            //TODO: fix this\n                            addedInsns.add(new FieldInsnNode(GETSTATIC, cn.name, &quot;list&quot;,\n                                    &quot;Ljava/util/List;&quot;));\n                            addedInsns.add(new MethodInsnNode(INVOKESTATIC, &quot;java/lang/Thread&quot;,\n                                    &quot;currentThread&quot;, &quot;()Ljava/lang/Thread;&quot;, false));\n                            addedInsns.add(new MethodInsnNode(INVOKEVIRTUAL, &quot;java/lang/Thread&quot;,\n                                    &quot;getId&quot;, &quot;()J&quot;, false));\n                            addedInsns.add(new InvokeDynamicInsnNode(&quot;makeConcatWithConstants&quot;,\n                                    &quot;(J)Ljava/lang/String;&quot;,\n                                    new Handle(H_INVOKESTATIC,\n                                            &quot;java/lang/invoke/StringConcatFactory&quot;,\n                                            &quot;makeConcatWithConstants&quot;,\n                                            &quot;(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/invoke/CallSite;&quot;,\n                                            false),\n                                    &quot;\\u0001|&quot; + ((LineNumberNode) node).line + &quot;|&quot; + className));\n                            addedInsns.add(new MethodInsnNode(INVOKEINTERFACE, &quot;java/util/List&quot;,\n                                    &quot;add&quot;, &quot;(Ljava/lang/Object;)Z&quot;, true));\n                            addedInsns.add(new InsnNode(POP));\n\n                            insns.insert(node.getPrevious(), addedInsns);\n\n                        }\n                    }\n\n                }\n\n                ClassWriter cw1 = new ClassWriter(ClassWriter.COMPUTE_MAXS);\n                cn.accept(cw1);\n                return cw1.toByteArray();\n\n            }\n\n</code></pre>\n<p>I've seen answers to previous questions where the exception message was more or less similar, however, the fault in those cases seemed more obvious to me at least (i.e. a LOAD instruction with no corresponding STORE). I've also looked through the ASM4 user guide, although I think I'm not quite grasping discussion about stackmap frames...</p>\n<p>Any advice on how this can be sorted would be appreciated - the more thorough the explanation the better; I would like to be able to understand and apply advice for any such issues I might encounter in future.</p>\n"},{"tags":["java","spring-boot","junit","mockito","feign"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659098796,"post_id":73122793,"comment_id":129221120,"body_markdown":"your issue is you are unable to mock `getBearerTokenHeader` ? is that correct?","body":"your issue is you are unable to mock <code>getBearerTokenHeader</code> ? is that correct?"},{"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"score":0,"creation_date":1659101778,"post_id":73122793,"comment_id":129222230,"body_markdown":"@AshishPatil yes, I’m trying to mock getBearerTokenHeader or instanciate in the tests something which avoid the NPE","body":"@AshishPatil yes, I’m trying to mock getBearerTokenHeader or instanciate in the tests something which avoid the NPE"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659102667,"post_id":73122793,"comment_id":129222370,"body_markdown":"So you don&#39;t have any issue with `FeignClientInterceptor ` right? you just need wanted to mock `getBearerTokenHeader ` so that whenever you call  `FeignClientInterceptor.getBearerTokenHeader()`, you get some response back in test.","body":"So you don&#39;t have any issue with <code>FeignClientInterceptor </code> right? you just need wanted to mock <code>getBearerTokenHeader </code> so that whenever you call  <code>FeignClientInterceptor.getBearerTokenHeader()</code>, you get some response back in test."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659105966,"creation_date":1659105966,"answer_id":73167856,"question_id":73122793,"body_markdown":"Based on your comments &amp; question, I am suggesting below solution:\r\n\r\nHere, I am using mock static along with `MockHttpServletRequest` where in test case you can create a MockHttpServletRequest &amp; set one header.\r\nLater on, using mockStatic, you can enable stubbing for execution of `RequestContextHolder.getRequestAttributes()`.\r\n\r\n    @Test\r\n    \tvoid test() {\r\n    \t\tMockHttpServletRequest request = new MockHttpServletRequest();\r\n    \t\trequest.addHeader(HttpHeaders.AUTHORIZATION, &quot;SomeheaderValue&quot;);\r\n    \r\n    \t\tServletRequestAttributes attributes = new ServletRequestAttributes(request);\r\n    \t\tRequestContextHolder.setRequestAttributes(attributes);\r\n    \r\n    \t\tRequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n    \t\tMockedStatic&lt;RequestContextHolder&gt; mockedStatic = mockStatic(RequestContextHolder.class);\r\n    \t\tmockedStatic.when(() -&gt; RequestContextHolder.getRequestAttributes()).thenReturn(requestAttributes);\r\n    \r\n    \t\tSystem.out.println(FeignClientInterceptor.getBearerTokenHeader()); // this will print &quot;SomeheaderValue&quot;\r\n    \t}\r\n\r\n\r\nYou need to use below dependency to support mock static:\r\n\r\n             &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nYou can then directly call `FeignClientInterceptor.getBearerTokenHeader()` from `getHeaders` method in unit test.\r\n","title":"NullPointerException: Cannot invoke ServletRequestAttributes.getRequest because the return value of RequestContextHolder.getRequestAttributes is null","body":"<p>Based on your comments &amp; question, I am suggesting below solution:</p>\n<p>Here, I am using mock static along with <code>MockHttpServletRequest</code> where in test case you can create a MockHttpServletRequest &amp; set one header.\nLater on, using mockStatic, you can enable stubbing for execution of <code>RequestContextHolder.getRequestAttributes()</code>.</p>\n<pre><code>@Test\n    void test() {\n        MockHttpServletRequest request = new MockHttpServletRequest();\n        request.addHeader(HttpHeaders.AUTHORIZATION, &quot;SomeheaderValue&quot;);\n\n        ServletRequestAttributes attributes = new ServletRequestAttributes(request);\n        RequestContextHolder.setRequestAttributes(attributes);\n\n        RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\n        MockedStatic&lt;RequestContextHolder&gt; mockedStatic = mockStatic(RequestContextHolder.class);\n        mockedStatic.when(() -&gt; RequestContextHolder.getRequestAttributes()).thenReturn(requestAttributes);\n\n        System.out.println(FeignClientInterceptor.getBearerTokenHeader()); // this will print &quot;SomeheaderValue&quot;\n    }\n</code></pre>\n<p>You need to use below dependency to support mock static:</p>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>You can then directly call <code>FeignClientInterceptor.getBearerTokenHeader()</code> from <code>getHeaders</code> method in unit test.</p>\n"}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73167856,"answer_count":1,"score":1,"last_activity_date":1659105966,"creation_date":1658835926,"question_id":73122793,"body_markdown":"I have a service, which uses a `RestTemplate` and for this it needs to get information from the Token.\r\n    \r\n    public RoleKeycloak getRoleId(String idRole, String projectId) {\r\n\r\n    \tResponseEntity&lt;String&gt; response = restTemplate.postForEntity(URL, new HttpEntity&lt;&gt;(query, getHeaders()), String.class);\r\n       //more operations \r\n    }\r\n\r\nI obtain the Headers information through a method getHeaders(), which uses a `FeignClientInterceptor`, which is responsible for obtaining authorization from the header.\r\n\r\n    private HttpHeaders getHeaders() {\r\n    \theaders.set(ConstantsUtils.Authorization, FeignClientInterceptor.getBearerTokenHeader());\r\n    \theaders.set(ConstantsUtils.Content_Type, ConstantsUtils.GraphQL);\r\n    \treturn headers;\r\n    }\r\n\r\n    \r\n    @Component\r\n    public class FeignClientInterceptor implements RequestInterceptor {\r\n    \r\n          public static final String getBearerTokenHeader() {\r\n        \t  return ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest().getHeader(AUTHORIZATION_HEADER);\r\n          }\r\n    }\r\n\r\n\r\n\t    \r\n\t@Test\r\n\tvoid createRoleTest() throws ParseException, IOException {\r\n\tString response = &quot;createRoleProject&quot;;\r\n\t\tResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(response, HttpStatus.ACCEPTED);\r\n\t\t\r\n\t\tgiven(restTemplate.postForEntity(&quot;myurl&quot;, getHeaders(), String.class))\r\n\t\t\t.willReturn(responseEntity);\r\n\t\tRoleKeycloak roleKeycloak = roleServiceKeycloak.createRole(&quot;admin&quot;, &quot;idProject&quot;);\r\n\t\tassertNotNull(roleKeycloak);\r\n\t}\r\n\r\nI&#39;m trying to test this method with `jUnit` but I can&#39;t, not even with the information on the internet. I&#39;m trying to mock `FeignClientInterceptor` but I can&#39;t, always get a `NullPointerException` in RequestContextHolder.getRequestAttributes();","title":"NullPointerException: Cannot invoke ServletRequestAttributes.getRequest because the return value of RequestContextHolder.getRequestAttributes is null","body":"<p>I have a service, which uses a <code>RestTemplate</code> and for this it needs to get information from the Token.</p>\n<pre><code>public RoleKeycloak getRoleId(String idRole, String projectId) {\n\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(URL, new HttpEntity&lt;&gt;(query, getHeaders()), String.class);\n   //more operations \n}\n</code></pre>\n<p>I obtain the Headers information through a method getHeaders(), which uses a <code>FeignClientInterceptor</code>, which is responsible for obtaining authorization from the header.</p>\n<pre><code>private HttpHeaders getHeaders() {\n    headers.set(ConstantsUtils.Authorization, FeignClientInterceptor.getBearerTokenHeader());\n    headers.set(ConstantsUtils.Content_Type, ConstantsUtils.GraphQL);\n    return headers;\n}\n\n\n@Component\npublic class FeignClientInterceptor implements RequestInterceptor {\n\n      public static final String getBearerTokenHeader() {\n          return ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest().getHeader(AUTHORIZATION_HEADER);\n      }\n}\n\n\n    \n@Test\nvoid createRoleTest() throws ParseException, IOException {\nString response = &quot;createRoleProject&quot;;\n    ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(response, HttpStatus.ACCEPTED);\n    \n    given(restTemplate.postForEntity(&quot;myurl&quot;, getHeaders(), String.class))\n        .willReturn(responseEntity);\n    RoleKeycloak roleKeycloak = roleServiceKeycloak.createRole(&quot;admin&quot;, &quot;idProject&quot;);\n    assertNotNull(roleKeycloak);\n}\n</code></pre>\n<p>I'm trying to test this method with <code>jUnit</code> but I can't, not even with the information on the internet. I'm trying to mock <code>FeignClientInterceptor</code> but I can't, always get a <code>NullPointerException</code> in RequestContextHolder.getRequestAttributes();</p>\n"},{"tags":["java","math","time","epoch","calculation"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1659025718,"post_id":73155867,"comment_id":129203032,"body_markdown":"Don’t do any math yourself. Let java.time do all math, both for real time and for in-game time.","body":"Don’t do any math yourself. Let java.time do all math, both for real time and for in-game time."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1659026069,"post_id":73155867,"comment_id":129203141,"body_markdown":"Do you understand that days are not always 24 hours long in political time? (I cannot understand if you are strictly using UTC time or local political time.)","body":"Do you understand that days are not always 24 hours long in political time? (I cannot understand if you are strictly using UTC time or local political time.)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1659026293,"post_id":73155867,"comment_id":129203229,"body_markdown":"By the way, use `java.time.Duration` for your spans of time unattached to the timeline.  Less math for you to perform. `Duration MIN_1 = Duration.ofMinutes( 1 ) ;` And use `Instant` or `OffsetDateTime` to represent a moment, a specific point on the timeline, as seen with an offset of zero hours-minutes-seconds from the temporal prime meridian of UTC, “in UTC”. I cannot help further as I cannot grasp this “factorized time”, “EarthTime”, and “in-game time” of yours.","body":"By the way, use <code>java.time.Duration</code> for your spans of time unattached to the timeline.  Less math for you to perform. <code>Duration MIN_1 = Duration.ofMinutes( 1 ) ;</code> And use <code>Instant</code> or <code>OffsetDateTime</code> to represent a moment, a specific point on the timeline, as seen with an offset of zero hours-minutes-seconds from the temporal prime meridian of UTC, “in UTC”. I cannot help further as I cannot grasp this “factorized time”, “EarthTime”, and “in-game time” of yours."},{"owner":{"account_id":21923749,"reputation":11,"user_id":16206668,"display_name":"fiedlerdani"},"score":0,"creation_date":1659026573,"post_id":73155867,"comment_id":129203324,"body_markdown":"@Ole how can I use the Java.time math with the factorized time?","body":"@Ole how can I use the Java.time math with the factorized time?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1659027830,"post_id":73155867,"comment_id":129203776,"body_markdown":"@BasilBourque to understand what the OP calls &quot;factorized time&quot;, think of a game in which time goes at a faster pace than real time. Every 7 hours of real time, the time inside the game moves forward 6 days. Hence the factor of 20.57.. to convert from one to the other. The problem here is that `java.time` cannot round up to the next midnight etc. in &quot;game time&quot; as that would involve rounding up to the next multiple of 20.57.","body":"@BasilBourque to understand what the OP calls &quot;factorized time&quot;, think of a game in which time goes at a faster pace than real time. Every 7 hours of real time, the time inside the game moves forward 6 days. Hence the factor of 20.57.. to convert from one to the other. The problem here is that <code>java.time</code> cannot round up to the next midnight etc. in &quot;game time&quot; as that would involve rounding up to the next multiple of 20.57."},{"owner":{"account_id":21923749,"reputation":11,"user_id":16206668,"display_name":"fiedlerdani"},"score":0,"creation_date":1659030415,"post_id":73155867,"comment_id":129204647,"body_markdown":"Yeah that is correct. 1 hour game time is in real time 2 minutes and 55 seconds (likely)","body":"Yeah that is correct. 1 hour game time is in real time 2 minutes and 55 seconds (likely)"},{"owner":{"account_id":21923749,"reputation":11,"user_id":16206668,"display_name":"fiedlerdani"},"score":0,"creation_date":1659030453,"post_id":73155867,"comment_id":129204664,"body_markdown":"There are several webpages doing this stuff so it’s possible. My brain just won’t find the solution to this","body":"There are several webpages doing this stuff so it’s possible. My brain just won’t find the solution to this"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659034864,"post_id":73155867,"comment_id":129205839,"body_markdown":"One idea is to use `ZonedDateTime` in the system default time zone (or the time zone the user wants) for earth time and `OffsetDateTime` in UTC for game time so the player doesn’t need to deal with summer time (DST) in the game. Using your multiplication of epoch time for conversion gives game times after year 3000, it’s probably OK? Game time math is exactly the same as real time math.","body":"One idea is to use <code>ZonedDateTime</code> in the system default time zone (or the time zone the user wants) for earth time and <code>OffsetDateTime</code> in UTC for game time so the player doesn’t need to deal with summer time (DST) in the game. Using your multiplication of epoch time for conversion gives game times after year 3000, it’s probably OK? Game time math is exactly the same as real time math."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1659034867,"post_id":73155867,"comment_id":129205840,"body_markdown":"Conversion could be `OffsetDateTime gameOdt = Instant.ofEpochMilli(Math.round(earthZdt.toInstant().toEpochMilli() * EORZEA_CONSTANT)).atOffset(ZoneOffset.UTC);`. And the other way: `earthZdt = Instant.ofEpochMilli(Math.round(gameOdt.toInstant().toEpochMilli() / EORZEA_CONSTANT)).atZone(ZoneId.systemDefault());`. I’d consider something like `EORZEA_TIME_FACTOR` as name for the constant, though.","body":"Conversion could be <code>OffsetDateTime gameOdt = Instant.ofEpochMilli(Math.round(earthZdt.toInstant().toEpoch&zwnj;&#8203;Milli() * EORZEA_CONSTANT)).atOffset(ZoneOffset.UTC);</code>. And the other way: <code>earthZdt = Instant.ofEpochMilli(Math.round(gameOdt.toInstant().toEpochM&zwnj;&#8203;illi() &#47; EORZEA_CONSTANT)).atZone(ZoneId.systemDefault());</code>. I’d consider something like <code>EORZEA_TIME_FACTOR</code> as name for the constant, though."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659036976,"post_id":73155867,"comment_id":129206482,"body_markdown":"`OffsetDateTime gameTomorrowAt14 = gameOdt.plusDays(1).with(LocalTime.of(14, 0));`. For “next 14” you will need an if statement to determine whether today at 14 has already been passed or not.","body":"<code>OffsetDateTime gameTomorrowAt14 = gameOdt.plusDays(1).with(LocalTime.of(14, 0));</code>. For “next 14” you will need an if statement to determine whether today at 14 has already been passed or not."}],"answers":[{"tags":[],"owner":{"account_id":21923749,"reputation":11,"user_id":16206668,"display_name":"fiedlerdani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659102441,"creation_date":1659101637,"answer_id":73167609,"question_id":73155867,"body_markdown":"Ty all for your hints.\r\n\r\nI got the working solution (with little issues I still have to solve) with the following code:\r\n\r\n(Maybe some facepalms incoming)\r\n\r\n\r\n\r\n    int spawnTimeA = item.getTime();\r\n    int spawnTimeB = item.getTime() + 12;\r\n\r\n    if (spawnTimeB == 24) {\r\n      spawnTimeB = 12;\r\n      spawnTimeA = 0;\r\n    }\r\n\r\n    if (spawnTimeB &gt; 24) {\r\n      spawnTimeB = spawnTimeA;\r\n    }\r\n\r\n    OffsetDateTime nexTime = null;\r\n    OffsetDateTime gameOdt =\r\n        Instant.ofEpochMilli(Math.round(time * EORZEA_CONSTANT))\r\n            .atOffset(ZoneOffset.UTC);\r\n\r\n    if (gameOdt.getHour() &gt;= spawnTimeA &amp;&amp; gameOdt.getHour() &lt; spawnTimeB) {\r\n\r\n      nexTime = gameOdt.with(LocalTime.of(spawnTimeB, 0));\r\n\r\n    } else if (gameOdt.getHour() &gt;= spawnTimeB) {\r\n\r\n      nexTime = gameOdt.plusDays(1).with(LocalTime.of(spawnTimeA, 0));\r\n\r\n    } else {\r\n\r\n      nexTime = gameOdt.with(LocalTime.of(spawnTimeA, 0));\r\n    }\r\n\r\n    long inGameDiff = (nexTime.toInstant().toEpochMilli())\r\n        - (gameOdt.toInstant().toEpochMilli());\r\n\r\n    long earthTimeDiff = (long) (inGameDiff / EORZEA_CONSTANT);\r\n\r\n\r\nIf you have more hints to make it cleaner, I appreciate every single idea or concept I missed.\r\n\r\nTy all!\r\n    ","title":"Java - Calculating durations with a factorized Time in mills - Math help needed","body":"<p>Ty all for your hints.</p>\n<p>I got the working solution (with little issues I still have to solve) with the following code:</p>\n<p>(Maybe some facepalms incoming)</p>\n<pre><code>int spawnTimeA = item.getTime();\nint spawnTimeB = item.getTime() + 12;\n\nif (spawnTimeB == 24) {\n  spawnTimeB = 12;\n  spawnTimeA = 0;\n}\n\nif (spawnTimeB &gt; 24) {\n  spawnTimeB = spawnTimeA;\n}\n\nOffsetDateTime nexTime = null;\nOffsetDateTime gameOdt =\n    Instant.ofEpochMilli(Math.round(time * EORZEA_CONSTANT))\n        .atOffset(ZoneOffset.UTC);\n\nif (gameOdt.getHour() &gt;= spawnTimeA &amp;&amp; gameOdt.getHour() &lt; spawnTimeB) {\n\n  nexTime = gameOdt.with(LocalTime.of(spawnTimeB, 0));\n\n} else if (gameOdt.getHour() &gt;= spawnTimeB) {\n\n  nexTime = gameOdt.plusDays(1).with(LocalTime.of(spawnTimeA, 0));\n\n} else {\n\n  nexTime = gameOdt.with(LocalTime.of(spawnTimeA, 0));\n}\n\nlong inGameDiff = (nexTime.toInstant().toEpochMilli())\n    - (gameOdt.toInstant().toEpochMilli());\n\nlong earthTimeDiff = (long) (inGameDiff / EORZEA_CONSTANT);\n</code></pre>\n<p>If you have more hints to make it cleaner, I appreciate every single idea or concept I missed.</p>\n<p>Ty all!</p>\n"}],"owner":{"account_id":21923749,"reputation":11,"user_id":16206668,"display_name":"fiedlerdani"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659102441,"creation_date":1659024242,"question_id":73155867,"body_markdown":"**Hello peeps!**\r\n\r\n*Before I write about my question, pls pay attention, that I am not a professional developer or educated. I learned all my java knowledge from Web or learning by doing, so my methods may not be the best practice.*\r\n\r\n\r\nI need help with the following problem:\r\n\r\nIn **Java** i am running an &quot;companion application&quot; for an online Game.\r\n\r\nThe &quot;in-game Time&quot; can be easily calculated with a Constant I have in an interface:\r\n\r\n      final double EORZEA_CONSTANT = 20.571428571428573;\r\n      final long MIN_1 = 60000L;\r\n      final long HOUR_1 = 3600000L;\r\n      final long CORRECTOR = (HOUR_1 / 2);\r\n      final long DAY_1 = 86400000L;\r\n      final long WEEK_1 = 604800000L;\r\n\r\n      final double EORZEA_CONSTANT = 20.571428571428573;\r\n\r\nSo the calculation looks like the following:\r\n\r\n    long y = (long) (System.currentTimeMillis() * EORZEA_CONSTANT);\r\n    minutes = (int) ((y / (1000 * 60)) % 60);\r\n    hours = (int) ((y / (1000 * 60 * 60)) % 24);\r\n\r\nlike this can display the current in-game daytime (24hrs)\r\n\r\nNow my mathematical problem:\r\n\r\nI need to **determine the duration until the next 14 or 16 hour** (or whatever) point of time **in this factorized time**. If this point is reached, the next point with the same daytime needs to be calculated and so on.\r\n\r\n**The durations need to be reconverted to the Local unfactorized time**, to show how long it takes in &quot;earth time&quot; until this in-game time is reached.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf the time wasn&#39;t factorized I would use something like this:\r\n\r\n     LocalDate next = LocalDate.now().plusDays(1);\r\n     LocalDateTime e = LocalDateTime.of(next, LocalTime.MIDNIGHT);\r\n     long x = e.atZone(ZoneId.systemDefault()).toEpochSecond() * 1000;\r\n     long y = x + (HOUR_1 * 17);\r\n\r\nBut I don&#39;t think this will work with the factorized time.\r\n\r\nI appreciate every little hint, maybe I am thinking too complicated.\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ccO2J.png","title":"Java - Calculating durations with a factorized Time in mills - Math help needed","body":"<p><strong>Hello peeps!</strong></p>\n<p><em>Before I write about my question, pls pay attention, that I am not a professional developer or educated. I learned all my java knowledge from Web or learning by doing, so my methods may not be the best practice.</em></p>\n<p>I need help with the following problem:</p>\n<p>In <strong>Java</strong> i am running an &quot;companion application&quot; for an online Game.</p>\n<p>The &quot;in-game Time&quot; can be easily calculated with a Constant I have in an interface:</p>\n<pre><code>  final double EORZEA_CONSTANT = 20.571428571428573;\n  final long MIN_1 = 60000L;\n  final long HOUR_1 = 3600000L;\n  final long CORRECTOR = (HOUR_1 / 2);\n  final long DAY_1 = 86400000L;\n  final long WEEK_1 = 604800000L;\n\n  final double EORZEA_CONSTANT = 20.571428571428573;\n</code></pre>\n<p>So the calculation looks like the following:</p>\n<pre><code>long y = (long) (System.currentTimeMillis() * EORZEA_CONSTANT);\nminutes = (int) ((y / (1000 * 60)) % 60);\nhours = (int) ((y / (1000 * 60 * 60)) % 24);\n</code></pre>\n<p>like this can display the current in-game daytime (24hrs)</p>\n<p>Now my mathematical problem:</p>\n<p>I need to <strong>determine the duration until the next 14 or 16 hour</strong> (or whatever) point of time <strong>in this factorized time</strong>. If this point is reached, the next point with the same daytime needs to be calculated and so on.</p>\n<p><strong>The durations need to be reconverted to the Local unfactorized time</strong>, to show how long it takes in &quot;earth time&quot; until this in-game time is reached.</p>\n<p><a href=\"https://i.stack.imgur.com/ccO2J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ccO2J.png\" alt=\"enter image description here\" /></a></p>\n<p>If the time wasn't factorized I would use something like this:</p>\n<pre><code> LocalDate next = LocalDate.now().plusDays(1);\n LocalDateTime e = LocalDateTime.of(next, LocalTime.MIDNIGHT);\n long x = e.atZone(ZoneId.systemDefault()).toEpochSecond() * 1000;\n long y = x + (HOUR_1 * 17);\n</code></pre>\n<p>But I don't think this will work with the factorized time.</p>\n<p>I appreciate every little hint, maybe I am thinking too complicated.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","activity-finish"],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659102240,"creation_date":1659102240,"answer_id":73167668,"question_id":73167407,"body_markdown":"https://developer.android.com/reference/kotlin/androidx/fragment/app/FragmentActivity\r\n\r\nStates that \r\n\r\n&gt; **supportFinishAfterTransition**\r\n&gt;\r\n&gt; *fun supportFinishAfterTransition(): Unit*\r\n&gt;\r\n&gt; Reverses the Activity Scene entry Transition and triggers the calling Activity to reverse its exit Transition. When the exit Transition completes, finish is called. If no entry Transition was used, finish() is called immediately and the Activity exit Transition is run.\r\n&gt;\r\n&gt; On Android 4.4 or lower, this method only finishes the Activity with no special exit transition.\r\n\r\nThis is for Kotlin, but I really expect Java to behave in the same way.","title":"What is the difference between finish() and supportFinishAfterTransition()?","body":"<p><a href=\"https://developer.android.com/reference/kotlin/androidx/fragment/app/FragmentActivity\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/androidx/fragment/app/FragmentActivity</a></p>\n<p>States that</p>\n<blockquote>\n<p><strong>supportFinishAfterTransition</strong></p>\n<p><em>fun supportFinishAfterTransition(): Unit</em></p>\n<p>Reverses the Activity Scene entry Transition and triggers the calling Activity to reverse its exit Transition. When the exit Transition completes, finish is called. If no entry Transition was used, finish() is called immediately and the Activity exit Transition is run.</p>\n<p>On Android 4.4 or lower, this method only finishes the Activity with no special exit transition.</p>\n</blockquote>\n<p>This is for Kotlin, but I really expect Java to behave in the same way.</p>\n"}],"owner":{"account_id":25926400,"reputation":1,"user_id":19648216,"display_name":"Pistachin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659102240,"creation_date":1659100722,"question_id":73167407,"body_markdown":"So I have a button in activity 1 that when it is clicked, the apps goes to activity 2 using intent. So here in activity 2, I have programmed that when on back is pressed, return to activity 1. I have done the two following functions, but both of them apparently are doing exactly the same (They make the app to go back to activity 1 correctly), so I just want to know the difference between them:\r\n\r\n```\r\n//first function\r\n    @Override\r\n    public void onBackPressed() {\r\n        supportFinishAfterTransition();\r\n    }\r\n\r\n//second function\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n    finish();\r\n    }\r\n```","title":"What is the difference between finish() and supportFinishAfterTransition()?","body":"<p>So I have a button in activity 1 that when it is clicked, the apps goes to activity 2 using intent. So here in activity 2, I have programmed that when on back is pressed, return to activity 1. I have done the two following functions, but both of them apparently are doing exactly the same (They make the app to go back to activity 1 correctly), so I just want to know the difference between them:</p>\n<pre><code>//first function\n    @Override\n    public void onBackPressed() {\n        supportFinishAfterTransition();\n    }\n\n//second function\n\n    @Override\n    public void onBackPressed() {\n    finish();\n    }\n</code></pre>\n"},{"tags":["java","spring","performance","docker","tomcat"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1530169861,"post_id":51076698,"comment_id":89142314,"body_markdown":"Have you had a look at waratek?  or considered multiple Tomcat servers.  In both of these you could set the precise memory requirements for each Application","body":"Have you had a look at waratek?  or considered multiple Tomcat servers.  In both of these you could set the precise memory requirements for each Application"},{"owner":{"account_id":6196159,"reputation":1401,"user_id":4827363,"accept_rate":41,"display_name":"codesmith"},"score":0,"creation_date":1530199860,"post_id":51076698,"comment_id":89161731,"body_markdown":"@ScaryWombat No, not familiar with Waratek. And yes, multiple tomcat servers is indeed a possibility, and we use that too (+20 wars). However, not an option in this case.","body":"@ScaryWombat No, not familiar with Waratek. And yes, multiple tomcat servers is indeed a possibility, and we use that too (+20 wars). However, not an option in this case."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1530230484,"post_id":51076698,"comment_id":89173444,"body_markdown":"waratek has (or had) a JVM which acts like a type of VM workstation for JVMs (multi-tenant) each JVM can have different memory different number of CPUs and other restriction (think libvirtd)  each JVM client can also be of a different version","body":"waratek has (or had) a JVM which acts like a type of VM workstation for JVMs (multi-tenant) each JVM can have different memory different number of CPUs and other restriction (think libvirtd)  each JVM client can also be of a different version"},{"owner":{"account_id":6196159,"reputation":1401,"user_id":4827363,"accept_rate":41,"display_name":"codesmith"},"score":0,"creation_date":1530536370,"post_id":51076698,"comment_id":89257591,"body_markdown":"@ScaryWombat Thanks, you&#39;re suggesting a solution. But I also would like to understand how memory is used in both solutions that I mentioned.","body":"@ScaryWombat Thanks, you&#39;re suggesting a solution. But I also would like to understand how memory is used in both solutions that I mentioned."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659102050,"creation_date":1659102050,"answer_id":73167661,"question_id":51076698,"body_markdown":"Memory (and thus likely CPU) efficiency can be debated and probably needs to be measured. Let me give some insight.\r\n\r\nLet&#39;s assume you create 20 containers, one for each of the war&#39;s you want to run. At that time you have 20 different JVMs in memory. Depending whether they come from the same container image or from different ones, the OS recognizes they are the same, and the codebase could be shared. So this depends on whether you bake your wars into the container images or have one image only and mount the wars at runtime.\r\n\r\nWhat about permgen space, heap or other memory regions? I doubt the OS can share much between the processes here. And the JVMs cannot share on their level since the docker container isolation would not allow them to talk to each other. So shared memory on JVM level is lost.\r\n\r\nWith that, every JVM would start up and run the JIT for hotspot code locations, and no synergy between the applications can be used. With a bigger codebase in memory, also the CPU would have to jump more between processes, invalidating the cache more often.\r\n\r\nAll in all I believe dockerizing your setup is an improvement in application isolation. You can more easily install/uninstall your stuff, and one application running havoc cannot impact the others. But performance-wise, you should notice lower execution times and higher memory usage. To what extent might only be benchmarked.","title":"Multi-WAR tomcat vs Docker containers","body":"<p>Memory (and thus likely CPU) efficiency can be debated and probably needs to be measured. Let me give some insight.</p>\n<p>Let's assume you create 20 containers, one for each of the war's you want to run. At that time you have 20 different JVMs in memory. Depending whether they come from the same container image or from different ones, the OS recognizes they are the same, and the codebase could be shared. So this depends on whether you bake your wars into the container images or have one image only and mount the wars at runtime.</p>\n<p>What about permgen space, heap or other memory regions? I doubt the OS can share much between the processes here. And the JVMs cannot share on their level since the docker container isolation would not allow them to talk to each other. So shared memory on JVM level is lost.</p>\n<p>With that, every JVM would start up and run the JIT for hotspot code locations, and no synergy between the applications can be used. With a bigger codebase in memory, also the CPU would have to jump more between processes, invalidating the cache more often.</p>\n<p>All in all I believe dockerizing your setup is an improvement in application isolation. You can more easily install/uninstall your stuff, and one application running havoc cannot impact the others. But performance-wise, you should notice lower execution times and higher memory usage. To what extent might only be benchmarked.</p>\n"}],"owner":{"account_id":6196159,"reputation":1401,"user_id":4827363,"accept_rate":41,"display_name":"codesmith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1256,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1659102050,"creation_date":1530169679,"question_id":51076698,"body_markdown":"I&#39;m wondering if a Docker solution is faster and more memory efficient than my current Tomcat deployment. I will explain both solutions.\r\n\r\nThe current:\r\nI have a Tomcat server with about 20 WAR&#39;s deployed. The WAR&#39;s are Spring Boot applications. It takes up a lot of memory and boottime and money too. \r\n\r\nThe docker alternative:\r\nThe alternative I&#39;m thinking about is a docker host with 20 docker containers, one for each app. It seems Spring recommends using JAR&#39;s on JDK images.\r\n\r\nNow, does Docker, or containerization in general, improve memory and speed? \r\n\r\nOne improvement I am expecting is that applications can start in parallel. This will hopefully speed up boot-time (assuming multi-core hardware). Am I right here?\r\n\r\nSecondly I&#39;m wondering which approach will handle memory most efficient.\r\nWhat happens when I have multiple WAR&#39;s, sharing the exact same dependency? Will Tomcat reuse dependency memory for that? And will Docker? \r\n\r\n","title":"Multi-WAR tomcat vs Docker containers","body":"<p>I'm wondering if a Docker solution is faster and more memory efficient than my current Tomcat deployment. I will explain both solutions.</p>\n\n<p>The current:\nI have a Tomcat server with about 20 WAR's deployed. The WAR's are Spring Boot applications. It takes up a lot of memory and boottime and money too. </p>\n\n<p>The docker alternative:\nThe alternative I'm thinking about is a docker host with 20 docker containers, one for each app. It seems Spring recommends using JAR's on JDK images.</p>\n\n<p>Now, does Docker, or containerization in general, improve memory and speed? </p>\n\n<p>One improvement I am expecting is that applications can start in parallel. This will hopefully speed up boot-time (assuming multi-core hardware). Am I right here?</p>\n\n<p>Secondly I'm wondering which approach will handle memory most efficient.\nWhat happens when I have multiple WAR's, sharing the exact same dependency? Will Tomcat reuse dependency memory for that? And will Docker? </p>\n"},{"tags":["java","image-processing","graphics","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":12991330,"reputation":94,"user_id":9390458,"display_name":"&#199;iğdem Erşep&#231;iler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659101771,"creation_date":1659101771,"answer_id":73167638,"question_id":73124897,"body_markdown":"You may convert blackAndWhiteImg to negative I guess.\r\n\r\n    for (int x = 0; x &lt; blackAndWhiteImg.getWidth(); x++) {\r\n            for (int y = 0; y &lt; blackAndWhiteImg.getHeight(); y++) {\r\n                int rgba = blackAndWhiteImg.getRGB(x, y);\r\n                Color col = new Color(rgba, true);\r\n                col = new Color(255 - col.getRed(),\r\n                                255 - col.getGreen(),\r\n                                255 - col.getBlue());\r\n                blackAndWhiteImg.setRGB(x, y, col.getRGB());\r\n            }\r\n        }","title":"Changing Image red text to black and black background to white","body":"<p>You may convert blackAndWhiteImg to negative I guess.</p>\n<pre><code>for (int x = 0; x &lt; blackAndWhiteImg.getWidth(); x++) {\n        for (int y = 0; y &lt; blackAndWhiteImg.getHeight(); y++) {\n            int rgba = blackAndWhiteImg.getRGB(x, y);\n            Color col = new Color(rgba, true);\n            col = new Color(255 - col.getRed(),\n                            255 - col.getGreen(),\n                            255 - col.getBlue());\n            blackAndWhiteImg.setRGB(x, y, col.getRGB());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11808254,"reputation":37,"user_id":8640260,"display_name":"rich25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659101771,"creation_date":1658844456,"question_id":73124897,"body_markdown":"I&#39;m trying to edit the attached image by making the red image text black and the black background white. \r\n\r\nI have attached the below code trying to achieve the results but the new image is coming out with white text and black background.\r\n\r\nPlease assist!\r\n\r\nIMAGE:\r\n[![nice image][1]][1]\r\n\r\n```\r\nimport&#160;java.awt.Graphics2D;\r\nimport&#160;java.awt.image.BufferedImage;\r\nimport&#160;java.io.File;\r\nimport&#160;java.io.IOException;\r\n\r\nimport&#160;javax.imageio.ImageIO;\r\n\r\npublic&#160;class&#160;BlackAndWhiteTest&#160;{\r\n\r\n&#160;&#160;public&#160;static&#160;void&#160;main(String[]&#160;args)&#160;throws&#160;IOException&#160;{\r\n\r\n&#160;&#160;&#160;&#160;File&#160;file&#160;=&#160;new&#160;File(&quot;C://picw//screenshot.png&quot;);\r\n&#160;&#160;&#160;&#160;BufferedImage&#160;orginalImage&#160;=&#160;ImageIO.read(file);\r\n\r\n&#160;&#160;&#160;&#160;BufferedImage&#160;blackAndWhiteImg&#160;=&#160;new&#160;BufferedImage(\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;orginalImage.getWidth(),&#160;orginalImage.getHeight(),\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;BufferedImage.TYPE_BYTE_BINARY);\r\n&#160;&#160;&#160;&#160;\r\nGraphics2D&#160;graphics =&#160;blackAndWhiteImg.createGraphics();\r\ngraphics.drawImage(orginalImage,&#160;0,&#160;0,&#160;null);\r\n\r\n&#160;&#160;&#160;&#160;ImageIO.write(blackAndWhiteImg,&#160;&quot;png&quot;,&#160;new&#160;File(&quot;C://picw//newscreenshot.png&quot;));&#160;\r\n&#160;&#160;}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RQzKf.jpg","title":"Changing Image red text to black and black background to white","body":"<p>I'm trying to edit the attached image by making the red image text black and the black background white.</p>\n<p>I have attached the below code trying to achieve the results but the new image is coming out with white text and black background.</p>\n<p>Please assist!</p>\n<p>IMAGE:\n<a href=\"https://i.stack.imgur.com/RQzKf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RQzKf.jpg\" alt=\"nice image\" /></a></p>\n<pre><code>import java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\npublic class BlackAndWhiteTest {\n\n  public static void main(String[] args) throws IOException {\n\n    File file = new File(&quot;C://picw//screenshot.png&quot;);\n    BufferedImage orginalImage = ImageIO.read(file);\n\n    BufferedImage blackAndWhiteImg = new BufferedImage(\n        orginalImage.getWidth(), orginalImage.getHeight(),\n        BufferedImage.TYPE_BYTE_BINARY);\n    \nGraphics2D graphics = blackAndWhiteImg.createGraphics();\ngraphics.drawImage(orginalImage, 0, 0, null);\n\n    ImageIO.write(blackAndWhiteImg, &quot;png&quot;, new File(&quot;C://picw//newscreenshot.png&quot;)); \n  }\n\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":19824771,"reputation":49,"user_id":14520525,"display_name":"Ashutosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658830499,"creation_date":1658830499,"answer_id":73121573,"question_id":73121341,"body_markdown":"Put this line `AccountTable account = new AccountTable();`\r\ninside While loop.","title":"only last row is been inserted in the database while using hibernate","body":"<p>Put this line <code>AccountTable account = new AccountTable();</code>\ninside While loop.</p>\n"}],"owner":{"account_id":25495063,"reputation":13,"user_id":19289241,"display_name":"suriya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659101749,"answer_count":1,"score":0,"last_activity_date":1659101633,"creation_date":1658829419,"question_id":73121341,"body_markdown":"## AccountTable.java ##\r\n\r\n```java\r\nimport java.util.Date;\r\n\r\npublic class AccountTable {\t\r\n    \r\n    private int id;\r\n    private Date txDate;\r\n    private String txType;\r\n    private int accountId;\r\n    private int amount;\r\n    \r\n    public int getId() {\r\n    \treturn id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n    \tthis.id = id;\r\n    }\r\n\r\n    public Date getTxDate() {\r\n    \treturn txDate;\r\n    }\r\n\r\n    public void setTxDate(Date txDate) {\r\n    \tthis.txDate = txDate;\r\n    }\r\n\r\n    public String getTxType() {\r\n    \treturn txType;\r\n    }\r\n\r\n    public void setTxType(String txType) {\r\n    \tthis.txType = txType;\r\n    }\r\n\r\n    public int getAccountId() {\r\n    \treturn accountId;\r\n    }\r\n\r\n    public void setAccountId(int accountId) {\r\n    \tthis.accountId = accountId;\r\n    }\r\n\r\n    public int getAmount() {\r\n    \treturn amount;\r\n    }\r\n\r\n    public void setAmount(int amount) {\r\n    \tthis.amount = amount;\r\n    }\r\n}\r\n```\r\n\r\n## ReadExcel.java ##\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\npublic class ReadExcel {\r\n    static List&lt;AccountTable&gt;acctList = new ArrayList&lt;AccountTable&gt;();\r\n    \r\n    public static void main(String[] args){\r\n        List&lt;AccountTable&gt;acctdetail=readExcel(&quot;D:\\\\Book1.xlsx&quot;);\r\n        excelToDb(acctdetail);\r\n    }\r\n    \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static List&lt;AccountTable&gt; readExcel(String filepath) {\r\n       try {\r\n           FileInputStream file = new FileInputStream(new      \r\n       File(&quot;D:\\\\Book1.xlsx&quot;));\r\n   \r\n           XSSFWorkbook workbook = new XSSFWorkbook(file);\r\n    \r\n           XSSFSheet sheet = workbook.getSheetAt(0);\r\n    \r\n           Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n           AccountTable account = new AccountTable();\r\n    \r\n           while (rowIterator.hasNext()) {\r\n               Row row = rowIterator.next();\r\n    \r\n               if (row.getRowNum() == 0) {\r\n                   continue;\r\n               }\r\n    \r\n               Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n               while (cellIterator.hasNext()) {\r\n                   Cell cell = cellIterator.next();\r\n                   if (cell.getColumnIndex() == 0 ) {\r\n                \taccount.setId((int) cell.getNumericCellValue());\r\n                \t   acctList.add(account);\r\n                       System.out.print(cell.getNumericCellValue() + &quot;\\t\\t&quot;);\r\n                   }\r\n                   else if (cell.getColumnIndex() == 1 ) {\r\n                \t   account.setTxDate((Date)cell.getDateCellValue());\r\n                \t   acctList.add(account);\r\n                       System.out.print(cell.getDateCellValue() + &quot;\\t\\t&quot;);\r\n                   }\r\n                   else if (cell.getColumnIndex() == 2 ) {\r\n                \t   account.setTxType(cell.getStringCellValue());\r\n                \t   acctList.add(account);\r\n                       System.out.print(cell.getStringCellValue() + &quot;\\t\\t&quot;);\r\n                   }\r\n                   else if (cell.getColumnIndex() == 3 ) {\r\n                \t   account.setAccountId((int)cell.getNumericCellValue());\r\n                \t   acctList.add(account);\r\n                       System.out.print(cell.getNumericCellValue() + &quot;\\t\\t&quot;);\r\n                   }\r\n                   else if (cell.getColumnIndex() == 4 ) {\r\n                \t   account.setAmount((int)cell.getNumericCellValue());\r\n                \t   acctList.add(account);\r\n                       System.out.print(cell.getNumericCellValue() + &quot;\\t\\t&quot;);\r\n                   }\r\n               }\r\n              \r\n               System.out.println(&quot;&quot;);\r\n             }\r\n    \r\n           file.close(); \r\n           \r\n    }catch (FileNotFoundException fnfe) {\r\n       fnfe.printStackTrace();\r\n    } catch (IOException e) {\r\n       e.printStackTrace();\r\n    }\r\n       return acctList;\r\n    }\r\n    \r\n    private static void excelToDb(List&lt;AccountTable&gt; accountDt) {\r\n    \r\n           Configuration c = new Configuration();\r\n           c.configure(&quot;/hibernate.cfg.xml&quot;);\r\n          \r\n           SessionFactory sf = c.buildSessionFactory();\r\n           \r\n           Session s = sf.openSession();\r\n    \r\n         Transaction tx = s.beginTransaction();\r\n           \r\n           try {\r\n        \t   for (int i = 0; i &lt; accountDt.size(); i++) {\r\n                  AccountTable acc = accountDt.get(i);\r\n                   s.save(acc);\r\n           }\r\n           \r\n           tx.commit();\r\n           s.close();\r\n    \r\n       } catch (Exception e) {\r\n           tx.rollback();\r\n       }\r\n   }\r\n}\r\n```\r\n\r\n## mapping.hbm.xml ##\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC \r\n &quot;-//Hibernate/Hibernate Mapping DTD//EN&quot;\r\n &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n \r\n&lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;com.example.AccountTable&quot; table=&quot;account_detail&quot;&gt;\r\n     &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;Tx_id&quot;&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;txDate&quot; column=&quot;Tx_Date&quot; type=&quot;date&quot; /&gt;\r\n        &lt;property name=&quot;txType&quot; column=&quot;Account_type&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;accountId&quot; column=&quot;Account_id&quot; type=&quot;int&quot; /&gt;    \r\n        &lt;property name=&quot;amount&quot; column=&quot;Amount&quot; type=&quot;int&quot; /&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n\r\n## hibernate.cgf.xml ##\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n      &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n      &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n    \r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://localhost:5432/example&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;postgres&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;*****&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n       \r\n         \t&lt;mapping resource=&quot;mapping.hbm.xml&quot; /&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nI was working on a Java project using Hibernate. I have an Excel file that contains 10 rows. I&#39;ve successfully retrieved data from Excel file. Now, I have to insert those data to the database.\r\n\r\nThe problem is only the last row is being added to the table. Other rows are not being inserted.\r\n\r\n\r\n\r\n","title":"only last row is been inserted in the database while using hibernate","body":"<h2>AccountTable.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\n\npublic class AccountTable { \n    \n    private int id;\n    private Date txDate;\n    private String txType;\n    private int accountId;\n    private int amount;\n    \n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Date getTxDate() {\n        return txDate;\n    }\n\n    public void setTxDate(Date txDate) {\n        this.txDate = txDate;\n    }\n\n    public String getTxType() {\n        return txType;\n    }\n\n    public void setTxType(String txType) {\n        this.txType = txType;\n    }\n\n    public int getAccountId() {\n        return accountId;\n    }\n\n    public void setAccountId(int accountId) {\n        this.accountId = accountId;\n    }\n\n    public int getAmount() {\n        return amount;\n    }\n\n    public void setAmount(int amount) {\n        this.amount = amount;\n    }\n}\n</code></pre>\n<h2>ReadExcel.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\n\npublic class ReadExcel {\n    static List&lt;AccountTable&gt;acctList = new ArrayList&lt;AccountTable&gt;();\n    \n    public static void main(String[] args){\n        List&lt;AccountTable&gt;acctdetail=readExcel(&quot;D:\\\\Book1.xlsx&quot;);\n        excelToDb(acctdetail);\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static List&lt;AccountTable&gt; readExcel(String filepath) {\n       try {\n           FileInputStream file = new FileInputStream(new      \n       File(&quot;D:\\\\Book1.xlsx&quot;));\n   \n           XSSFWorkbook workbook = new XSSFWorkbook(file);\n    \n           XSSFSheet sheet = workbook.getSheetAt(0);\n    \n           Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n           AccountTable account = new AccountTable();\n    \n           while (rowIterator.hasNext()) {\n               Row row = rowIterator.next();\n    \n               if (row.getRowNum() == 0) {\n                   continue;\n               }\n    \n               Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n               while (cellIterator.hasNext()) {\n                   Cell cell = cellIterator.next();\n                   if (cell.getColumnIndex() == 0 ) {\n                    account.setId((int) cell.getNumericCellValue());\n                       acctList.add(account);\n                       System.out.print(cell.getNumericCellValue() + &quot;\\t\\t&quot;);\n                   }\n                   else if (cell.getColumnIndex() == 1 ) {\n                       account.setTxDate((Date)cell.getDateCellValue());\n                       acctList.add(account);\n                       System.out.print(cell.getDateCellValue() + &quot;\\t\\t&quot;);\n                   }\n                   else if (cell.getColumnIndex() == 2 ) {\n                       account.setTxType(cell.getStringCellValue());\n                       acctList.add(account);\n                       System.out.print(cell.getStringCellValue() + &quot;\\t\\t&quot;);\n                   }\n                   else if (cell.getColumnIndex() == 3 ) {\n                       account.setAccountId((int)cell.getNumericCellValue());\n                       acctList.add(account);\n                       System.out.print(cell.getNumericCellValue() + &quot;\\t\\t&quot;);\n                   }\n                   else if (cell.getColumnIndex() == 4 ) {\n                       account.setAmount((int)cell.getNumericCellValue());\n                       acctList.add(account);\n                       System.out.print(cell.getNumericCellValue() + &quot;\\t\\t&quot;);\n                   }\n               }\n              \n               System.out.println(&quot;&quot;);\n             }\n    \n           file.close(); \n           \n    }catch (FileNotFoundException fnfe) {\n       fnfe.printStackTrace();\n    } catch (IOException e) {\n       e.printStackTrace();\n    }\n       return acctList;\n    }\n    \n    private static void excelToDb(List&lt;AccountTable&gt; accountDt) {\n    \n           Configuration c = new Configuration();\n           c.configure(&quot;/hibernate.cfg.xml&quot;);\n          \n           SessionFactory sf = c.buildSessionFactory();\n           \n           Session s = sf.openSession();\n    \n         Transaction tx = s.beginTransaction();\n           \n           try {\n               for (int i = 0; i &lt; accountDt.size(); i++) {\n                  AccountTable acc = accountDt.get(i);\n                   s.save(acc);\n           }\n           \n           tx.commit();\n           s.close();\n    \n       } catch (Exception e) {\n           tx.rollback();\n       }\n   }\n}\n</code></pre>\n<h2>mapping.hbm.xml</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \n &quot;-//Hibernate/Hibernate Mapping DTD//EN&quot;\n &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n \n&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;com.example.AccountTable&quot; table=&quot;account_detail&quot;&gt;\n     &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;Tx_id&quot;&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;txDate&quot; column=&quot;Tx_Date&quot; type=&quot;date&quot; /&gt;\n        &lt;property name=&quot;txType&quot; column=&quot;Account_type&quot; type=&quot;string&quot; /&gt;\n        &lt;property name=&quot;accountId&quot; column=&quot;Account_id&quot; type=&quot;int&quot; /&gt;    \n        &lt;property name=&quot;amount&quot; column=&quot;Amount&quot; type=&quot;int&quot; /&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<h2>hibernate.cgf.xml</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n      &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n      &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    \n    &lt;session-factory&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://localhost:5432/example&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;postgres&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;*****&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n       \n            &lt;mapping resource=&quot;mapping.hbm.xml&quot; /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>I was working on a Java project using Hibernate. I have an Excel file that contains 10 rows. I've successfully retrieved data from Excel file. Now, I have to insert those data to the database.</p>\n<p>The problem is only the last row is being added to the table. Other rows are not being inserted.</p>\n"},{"tags":["java","spring","spring-boot","jwt","jose4j"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1658482810,"post_id":73078098,"comment_id":129067600,"body_markdown":"WHy do you want a list in the subject?","body":"WHy do you want a list in the subject?"},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1658483130,"post_id":73078098,"comment_id":129067739,"body_markdown":"I have multiple username that can create token. These usernames are also the subjects of the token, so at the end I want to reflect the value of that subject depending on the value of the username","body":"I have multiple username that can create token. These usernames are also the subjects of the token, so at the end I want to reflect the value of that subject depending on the value of the username"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1658483518,"post_id":73078098,"comment_id":129067892,"body_markdown":"just pass in username from the request into your function and set it as the subject? i dont see the problem here","body":"just pass in username from the request into your function and set it as the subject? i dont see the problem here"},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1658483953,"post_id":73078098,"comment_id":129068034,"body_markdown":"WHere should I set this? Is not clear for me","body":"WHere should I set this? Is not clear for me"}],"answers":[{"tags":[],"owner":{"account_id":12566179,"reputation":52,"user_id":12791811,"display_name":"Georglider"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658488610,"creation_date":1658484217,"answer_id":73078547,"question_id":73078098,"body_markdown":"First you need to put whitelist=user1,user2 in your application.properties, because sometimes names might trigger as system variables (for example username does)\r\n\r\nThen in JWTController you need to check if not user equals, but contains in list\r\n```java\r\n    @Value(&quot;#{&#39;${whitelist}&#39;.split(&#39;,&#39;)}&quot;)\r\n    private List&lt;String&gt; whitelist;\r\n\r\n    @PostMapping(&quot;/getToken&quot;)\r\n    public ResponseEntity&lt;?&gt; getJwt(@RequestBody JwtRequest request) throws JoseException {\r\n        if(whitelist.contains(request.username())) {\r\n            return ResponseEntity.ok(\r\n                    JwtResponse.builder()\r\n                            .token(jwtService.generateToken(request.username()))\r\n                            .build()\r\n            );\r\n        } else {\r\n            return ResponseEntity.ok(&quot;Invalid username&quot;);\r\n        }\r\n    }\r\n```\r\nIn your JWTService you need to set JWT Subject to username which passed through whitelist\r\n```java\r\nclaims.setSubject(username);\r\n```\r\nAnd finally you need to do JSON request to server\r\n```json\r\n{\r\n    &quot;username&quot;: &quot;user2&quot;\r\n}\r\n```","title":"JWT add different subject depending on the data in the body","body":"<p>First you need to put whitelist=user1,user2 in your application.properties, because sometimes names might trigger as system variables (for example username does)</p>\n<p>Then in JWTController you need to check if not user equals, but contains in list</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Value(&quot;#{'${whitelist}'.split(',')}&quot;)\n    private List&lt;String&gt; whitelist;\n\n    @PostMapping(&quot;/getToken&quot;)\n    public ResponseEntity&lt;?&gt; getJwt(@RequestBody JwtRequest request) throws JoseException {\n        if(whitelist.contains(request.username())) {\n            return ResponseEntity.ok(\n                    JwtResponse.builder()\n                            .token(jwtService.generateToken(request.username()))\n                            .build()\n            );\n        } else {\n            return ResponseEntity.ok(&quot;Invalid username&quot;);\n        }\n    }\n</code></pre>\n<p>In your JWTService you need to set JWT Subject to username which passed through whitelist</p>\n<pre class=\"lang-java prettyprint-override\"><code>claims.setSubject(username);\n</code></pre>\n<p>And finally you need to do JSON request to server</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;username&quot;: &quot;user2&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659101594,"creation_date":1658482006,"question_id":73078098,"body_markdown":"I&#39;ve been asked to generate a token depending on the username that is asking for it. Now I&#39;m creating a token just with a single subject but I don&#39;t know how to change the subject dinamically before creating the token depending on the body of the request.\r\n\r\nThis is what I&#39;ve done so far to generate a token with a single subject:\r\nThe service class:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class JwtService {\r\n    \r\n        @Value(&quot;${issuer}&quot;)\r\n        private String issuer;\r\n        @Value(&quot;${kid}&quot;)\r\n        private String keyId;\r\n        @Value(&quot;#{&#39;${audience}&#39;.split(&#39;,&#39;)}&quot;)\r\n        private List&lt;String&gt; audiences;\r\n        @Value(&quot;#{&#39;${subject}&#39;.split(&#39;,&#39;)}&quot;)\r\n        private List&lt;String&gt; subject;\r\n    \r\n        private final JwtKeyProvider jwtKeyProvider;\r\n    \r\n        public String generateToken() throws JoseException {\r\n           \r\n            JwtClaims claims = new JwtClaims();\r\n            claims.setIssuer(issuer);\r\n            claims.setAudience(Lists.newArrayList(audiences));\r\n            claims.setExpirationTimeMinutesInTheFuture(60);\r\n            claims.setJwtId(keyId);\r\n            claims.setIssuedAtToNow();\r\n            claims.setNotBeforeMinutesInThePast(0);\r\n            claims.setSubject(subject);\r\n         \r\n            JsonWebSignature jws = new JsonWebSignature();\r\n    \r\n            jws.setPayload(claims.toJson());\r\n    \r\n            jws.setHeader(&quot;typ&quot;, &quot;JWT&quot;);\r\n    \r\n            jws.setKey(jwtKeyProvider.getPrivateKey());\r\n            jws.setKeyIdHeaderValue(keyId);\r\n            jws.setAlgorithmHeaderValue(AlgorithmIdentifiers.RSA_USING_SHA256);\r\n            \r\n            String jwt = jws.getCompactSerialization();\r\n            return jwt;\r\n        }\r\n    }\r\n\r\nAnd the controller:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class JWTController {\r\n    \r\n        private final JwtService jwtService;\r\n    \r\n        @PostMapping(&quot;/getToken&quot;)\r\n        public ResponseEntity getJwt(@RequestBody JwtRequest request) throws JoseException {\r\n                return ResponseEntity.ok(\r\n                        JwtResponse.builder()\r\n                                .token(jwtService.generateToken())\r\n                                .build()\r\n                );\r\n        }\r\n    }\r\n\r\nI could do it doing like this:\r\n\r\n     @PostMapping(&quot;/getToken&quot;)\r\n            public ResponseEntity getJwt(@RequestBody JwtRequest request) throws JoseException {\r\n                    return ResponseEntity.ok(\r\n                            JwtResponse.builder()\r\n                                    .token(jwtService.generateToken(request.getUsername()))\r\n                                    .build()\r\n                    );\r\n            }\r\n        }\r\n\r\nBut I don&#39;t want to send any parameters in the generateToken function as I would have to change a lot of code then.\r\n\r\nTo resume I want to assign to the subject the value of the username that is sent in the body. So is there a way in the JwtService class to receive that username and set as the subject after?\r\n\r\nThanks in advance!\r\n\r\n\r\n","title":"JWT add different subject depending on the data in the body","body":"<p>I've been asked to generate a token depending on the username that is asking for it. Now I'm creating a token just with a single subject but I don't know how to change the subject dinamically before creating the token depending on the body of the request.</p>\n<p>This is what I've done so far to generate a token with a single subject:\nThe service class:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtService {\n\n    @Value(&quot;${issuer}&quot;)\n    private String issuer;\n    @Value(&quot;${kid}&quot;)\n    private String keyId;\n    @Value(&quot;#{'${audience}'.split(',')}&quot;)\n    private List&lt;String&gt; audiences;\n    @Value(&quot;#{'${subject}'.split(',')}&quot;)\n    private List&lt;String&gt; subject;\n\n    private final JwtKeyProvider jwtKeyProvider;\n\n    public String generateToken() throws JoseException {\n       \n        JwtClaims claims = new JwtClaims();\n        claims.setIssuer(issuer);\n        claims.setAudience(Lists.newArrayList(audiences));\n        claims.setExpirationTimeMinutesInTheFuture(60);\n        claims.setJwtId(keyId);\n        claims.setIssuedAtToNow();\n        claims.setNotBeforeMinutesInThePast(0);\n        claims.setSubject(subject);\n     \n        JsonWebSignature jws = new JsonWebSignature();\n\n        jws.setPayload(claims.toJson());\n\n        jws.setHeader(&quot;typ&quot;, &quot;JWT&quot;);\n\n        jws.setKey(jwtKeyProvider.getPrivateKey());\n        jws.setKeyIdHeaderValue(keyId);\n        jws.setAlgorithmHeaderValue(AlgorithmIdentifiers.RSA_USING_SHA256);\n        \n        String jwt = jws.getCompactSerialization();\n        return jwt;\n    }\n}\n</code></pre>\n<p>And the controller:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class JWTController {\n\n    private final JwtService jwtService;\n\n    @PostMapping(&quot;/getToken&quot;)\n    public ResponseEntity getJwt(@RequestBody JwtRequest request) throws JoseException {\n            return ResponseEntity.ok(\n                    JwtResponse.builder()\n                            .token(jwtService.generateToken())\n                            .build()\n            );\n    }\n}\n</code></pre>\n<p>I could do it doing like this:</p>\n<pre><code> @PostMapping(&quot;/getToken&quot;)\n        public ResponseEntity getJwt(@RequestBody JwtRequest request) throws JoseException {\n                return ResponseEntity.ok(\n                        JwtResponse.builder()\n                                .token(jwtService.generateToken(request.getUsername()))\n                                .build()\n                );\n        }\n    }\n</code></pre>\n<p>But I don't want to send any parameters in the generateToken function as I would have to change a lot of code then.</p>\n<p>To resume I want to assign to the subject the value of the username that is sent in the body. So is there a way in the JwtService class to receive that username and set as the subject after?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1659087979,"post_id":73164452,"comment_id":129217242,"body_markdown":"I think it really depends on the conditions whether you need to stream the inner lists multiple times or not. How would you implement it with &quot;old-fashioned&quot; for-loops? If you can add such an implementation to your question, we might be able to help you with a switch to streams.","body":"I think it really depends on the conditions whether you need to stream the inner lists multiple times or not. How would you implement it with &quot;old-fashioned&quot; for-loops? If you can add such an implementation to your question, we might be able to help you with a switch to streams."},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1659088807,"post_id":73164452,"comment_id":129217549,"body_markdown":"You can `&amp;&amp;` inside your stream also. Like `intList.stream.allMatch(Condition_1) &amp;&amp; intList.stream.allMatch(Condition_2) &amp;&amp; intList.stream.allMatch(Condition_3)` . You may want to look at `Stream.filter` to achieve what you want","body":"You can <code>&amp;&amp;</code> inside your stream also. Like <code>intList.stream.allMatch(Condition_1) &amp;&amp; intList.stream.allMatch(Condition_2) &amp;&amp; intList.stream.allMatch(Condition_3)</code> . You may want to look at <code>Stream.filter</code> to achieve what you want"},{"owner":{"account_id":1110473,"reputation":463,"user_id":1101032,"accept_rate":57,"display_name":"2FaceMan"},"score":0,"creation_date":1659089075,"post_id":73164452,"comment_id":129217657,"body_markdown":"@SayanBhattacharya If I put &amp;&amp; how can I have sperate action for each condition ex getting each condition match count ? also my question is around reducing count of streams","body":"@SayanBhattacharya If I put &amp;&amp; how can I have sperate action for each condition ex getting each condition match count ? also my question is around reducing count of streams"},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1659090355,"post_id":73164452,"comment_id":129218134,"body_markdown":"@2FaceMan Sorry I overlooked the *condition match count* part.  Reducing the stream is doable but with match count, I can&#39;t think of anything on top of my head right now.","body":"@2FaceMan Sorry I overlooked the <i>condition match count</i> part.  Reducing the stream is doable but with match count, I can&#39;t think of anything on top of my head right now."},{"owner":{"account_id":1110473,"reputation":463,"user_id":1101032,"accept_rate":57,"display_name":"2FaceMan"},"score":0,"creation_date":1659094100,"post_id":73164452,"comment_id":129219397,"body_markdown":"@cyberbrain I added the &quot;old-fashioned&quot; for-loops","body":"@cyberbrain I added the &quot;old-fashioned&quot; for-loops"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659101438,"creation_date":1659099782,"answer_id":73167217,"question_id":73164452,"body_markdown":"Well, the code you&#39;ve provided looks like a bit chaotic self-imposed coding challenge or a part of a project which became unmanageable.\r\n\r\nAlways think about the use cases and data structures that would be suitable for these use cases. Don&#39;t cram everything into a single method, instead try to think how can you spit the functionalities - learn about the [*Single responsibility principle*](https://en.wikipedia.org/wiki/Single-responsibility_principle).\r\n\r\nYou&#39;ve created four lists of lists, what&#39;s next? How are you going to work with them, how can you pass around this data - by wrapping with another list? List of lists of lists, doesn&#39;t sound nicely.\r\n\r\nThe key point is that you need to structure your data in a meaningful way. \r\n\r\nHere&#39;s one of the possible solutions (*disclaimer:* I can&#39;t say for sure that it would be the most suitable approach for your project).\r\n\r\nThese lists can be store in a `Map` as *values*, and *keys* of the *map* would represent matching conditions.\r\n\r\nWe can introduce an *enum* encapsulating the conditional logic in a form of `Predicate`s. Members of the *enum* would be used as *keys*.\r\n\r\n    public enum MyPredicate {\r\n        IS_EVEN(&quot;Is Even&quot;, list -&gt; list.stream().allMatch(i -&gt; i % 2 == 0)),\r\n        IS_ODD(&quot;Is Odd&quot;, list -&gt; list.stream().allMatch(i -&gt; i % 2 != 0)),\r\n        IS_DIVISIBLE_BY_THREE(&quot;Is Divisible By Three&quot;, list -&gt; list.stream().allMatch(i -&gt; i % 3 == 0)),\r\n        DEFAULT(&quot;No Matches&quot;, list -&gt; true);\r\n        \r\n        private static final EnumSet&lt;MyPredicate&gt; withoutDefault = EnumSet.range(IS_EVEN, IS_DIVISIBLE_BY_THREE);\r\n        \r\n        private String predicateName;\r\n        private Predicate&lt;List&lt;Integer&gt;&gt; predicate;\r\n        \r\n        MyPredicate(String predicateName, Predicate&lt;List&lt;Integer&gt;&gt; predicate) {\r\n            this.predicateName = predicateName;\r\n            this.predicate = predicate;\r\n        }\r\n        \r\n        public static List&lt;MyPredicate&gt; getMatches(List&lt;Integer&gt; list) {\r\n            List&lt;MyPredicate&gt; matchingEnums = withoutDefault.stream()\r\n                .filter(e -&gt; e.predicate.test(list))\r\n                .toList();\r\n            \r\n            return matchingEnums.isEmpty() ? List.of(DEFAULT) : matchingEnums;\r\n        }\r\n        \r\n        public boolean matches(List&lt;Integer&gt; list) {\r\n            return predicate.test(list);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return predicateName;\r\n        }\r\n    }\r\n\r\nThe process of creating these resulting lists boils down to finding the matching predicate for every list in the input and mapping the list to a matching predicate.\r\n\r\n***Note:** that I&#39;ve ignored all the counters that you&#39;ve used in code for a reason. Such logic is absolutely not viable with streams, you should not change the state functions in the stream should not use side effects and accumulate the stated outside the stream. And even with loops, these counters are redundant if you need all elements in a list to match a particular condition.*\r\n\r\nThat&#39;s how it might be implemented using [`Stream.collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)):\r\n\r\n    public static Map&lt;MyPredicate, List&lt;List&lt;Integer&gt;&gt;&gt; splitIntoGroups(List&lt;List&lt;Integer&gt;&gt; lists) {\r\n        return lists.stream()\r\n            .collect(\r\n                HashMap::new,\r\n                (Map&lt;MyPredicate, List&lt;List&lt;Integer&gt;&gt;&gt; map, List&lt;Integer&gt; list) -&gt;\r\n                    MyPredicate.getMatches(list).forEach(p -&gt; {\r\n                        if (p.matches(list)) map.computeIfAbsent(p, k -&gt; new ArrayList&lt;&gt;()).add(list);\r\n                    }),\r\n                (left, right) -&gt; right.forEach((key, v) -&gt;\r\n                    left.computeIfAbsent(key, k -&gt; new ArrayList&lt;&gt;()).addAll(v))\r\n            );\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;Integer&gt;&gt; sourceList = List.of(\r\n            List.of(1, 2, 3), List.of(4, 6, 8), List.of(5, 7, 9), List.of(3, 9, 18)\r\n        );\r\n        \r\n        splitIntoGroups(sourceList).forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n    }\r\n\r\n*Output:*\r\n```\r\nIs Divisible By Three -&gt; [[3, 9, 18]]\r\nIs Even -&gt; [[4, 6, 8]]\r\nIs Odd -&gt; [[5, 7, 9]]\r\nNo Matches -&gt; [[1, 2, 3]]\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n","title":"Stream once with multiple independent conditions each having own action or normal for loop","body":"<p>Well, the code you've provided looks like a bit chaotic self-imposed coding challenge or a part of a project which became unmanageable.</p>\n<p>Always think about the use cases and data structures that would be suitable for these use cases. Don't cram everything into a single method, instead try to think how can you spit the functionalities - learn about the <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\"><em>Single responsibility principle</em></a>.</p>\n<p>You've created four lists of lists, what's next? How are you going to work with them, how can you pass around this data - by wrapping with another list? List of lists of lists, doesn't sound nicely.</p>\n<p>The key point is that you need to structure your data in a meaningful way.</p>\n<p>Here's one of the possible solutions (<em>disclaimer:</em> I can't say for sure that it would be the most suitable approach for your project).</p>\n<p>These lists can be store in a <code>Map</code> as <em>values</em>, and <em>keys</em> of the <em>map</em> would represent matching conditions.</p>\n<p>We can introduce an <em>enum</em> encapsulating the conditional logic in a form of <code>Predicate</code>s. Members of the <em>enum</em> would be used as <em>keys</em>.</p>\n<pre><code>public enum MyPredicate {\n    IS_EVEN(&quot;Is Even&quot;, list -&gt; list.stream().allMatch(i -&gt; i % 2 == 0)),\n    IS_ODD(&quot;Is Odd&quot;, list -&gt; list.stream().allMatch(i -&gt; i % 2 != 0)),\n    IS_DIVISIBLE_BY_THREE(&quot;Is Divisible By Three&quot;, list -&gt; list.stream().allMatch(i -&gt; i % 3 == 0)),\n    DEFAULT(&quot;No Matches&quot;, list -&gt; true);\n    \n    private static final EnumSet&lt;MyPredicate&gt; withoutDefault = EnumSet.range(IS_EVEN, IS_DIVISIBLE_BY_THREE);\n    \n    private String predicateName;\n    private Predicate&lt;List&lt;Integer&gt;&gt; predicate;\n    \n    MyPredicate(String predicateName, Predicate&lt;List&lt;Integer&gt;&gt; predicate) {\n        this.predicateName = predicateName;\n        this.predicate = predicate;\n    }\n    \n    public static List&lt;MyPredicate&gt; getMatches(List&lt;Integer&gt; list) {\n        List&lt;MyPredicate&gt; matchingEnums = withoutDefault.stream()\n            .filter(e -&gt; e.predicate.test(list))\n            .toList();\n        \n        return matchingEnums.isEmpty() ? List.of(DEFAULT) : matchingEnums;\n    }\n    \n    public boolean matches(List&lt;Integer&gt; list) {\n        return predicate.test(list);\n    }\n\n    @Override\n    public String toString() {\n        return predicateName;\n    }\n}\n</code></pre>\n<p>The process of creating these resulting lists boils down to finding the matching predicate for every list in the input and mapping the list to a matching predicate.</p>\n<p><em><strong>Note:</strong> that I've ignored all the counters that you've used in code for a reason. Such logic is absolutely not viable with streams, you should not change the state functions in the stream should not use side effects and accumulate the stated outside the stream. And even with loops, these counters are redundant if you need all elements in a list to match a particular condition.</em></p>\n<p>That's how it might be implemented using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Stream.collect()</code></a>:</p>\n<pre><code>public static Map&lt;MyPredicate, List&lt;List&lt;Integer&gt;&gt;&gt; splitIntoGroups(List&lt;List&lt;Integer&gt;&gt; lists) {\n    return lists.stream()\n        .collect(\n            HashMap::new,\n            (Map&lt;MyPredicate, List&lt;List&lt;Integer&gt;&gt;&gt; map, List&lt;Integer&gt; list) -&gt;\n                MyPredicate.getMatches(list).forEach(p -&gt; {\n                    if (p.matches(list)) map.computeIfAbsent(p, k -&gt; new ArrayList&lt;&gt;()).add(list);\n                }),\n            (left, right) -&gt; right.forEach((key, v) -&gt;\n                left.computeIfAbsent(key, k -&gt; new ArrayList&lt;&gt;()).addAll(v))\n        );\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;List&lt;Integer&gt;&gt; sourceList = List.of(\n        List.of(1, 2, 3), List.of(4, 6, 8), List.of(5, 7, 9), List.of(3, 9, 18)\n    );\n    \n    splitIntoGroups(sourceList).forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Is Divisible By Three -&gt; [[3, 9, 18]]\nIs Even -&gt; [[4, 6, 8]]\nIs Odd -&gt; [[5, 7, 9]]\nNo Matches -&gt; [[1, 2, 3]]\n</code></pre>\n"}],"owner":{"account_id":1110473,"reputation":463,"user_id":1101032,"accept_rate":57,"display_name":"2FaceMan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659101438,"creation_date":1659086826,"question_id":73164452,"body_markdown":"Assume I have `List&lt;List&lt;Integer&gt;&gt; lstOfintLst` , where  for each `List&lt;Integer&gt; intList` I have to check multiple conditions and for each condition I have a set of actions ex count of each condition match , adding them in new `List&lt;Integer&gt; matchedLstCon_x` etc. \r\nNew to Java 8 , I am not clear how can I achieve it with just streaming once instead had to steam for each conditions as below \r\n\r\n    AtomicInteger count_Unmatched= new AtomicInteger();\r\n    AtomicInteger count_Con_1= new AtomicInteger();\r\n    AtomicInteger count_Con_2= new AtomicInteger();\r\n    AtomicInteger count_Con_3= new AtomicInteger();\r\n    \r\n    List&lt;Integer&gt; list_Unmatched = new ArrayList&lt;Integer&gt;();\r\n    List&lt;Integer&gt; list_Con_1 = new ArrayList&lt;Integer&gt;();\r\n    List&lt;Integer&gt; list_Con_2 = new ArrayList&lt;Integer&gt;();\r\n    List&lt;Integer&gt; list_Con_3 = new ArrayList&lt;Integer&gt;();\r\n    \r\n    lstOfintLst.stream().forEach(intList -&gt; {\r\n      boolean isUnmatched=true;\r\n       \r\n       if(intList.stream.allMatch(Condition_1)){\r\n                 count_Con_1.getAndIncrement();\r\n                 isUnmatched = false;\r\n                 list_Con_1.add(intList);\r\n    \r\n        }\r\n    \r\n       if(intList.stream.allMatch(Condition_2)){\r\n                 count_Con_2.getAndIncrement();\r\n                 isUnmatched = false;\r\n                 list_Con_2.add(intList);\r\n    \r\n        }\r\n    \r\n       if(intList.stream.allMatch(Condition_3)){\r\n                 count_Con_3.getAndIncrement();\r\n                 isUnmatched = false;\r\n                 list_Con_3.add(intList);\r\n    \r\n        }\r\n       \r\n       if(isUnmatched){\r\n                 count_Unmatched.getAndIncrement();              \r\n                 list_Unmatched.add(intList);\r\n    \r\n        }\r\n    \r\n    }\r\n        \r\n       // process all counts &amp; lists \r\n\r\nSo here we are streaming 3 times for each condition ,on top of this if for a condition if I have a specific action on the elements of the `intList` I will again have to do a secondary `intList.stream.` inside the condition\r\n\r\nCan we do all condition with one stream ? This can be done with one normal `for-loop` on `intList` , irrespective of the number of conditions with may be more variables etc.\r\n\r\nIf this is the least number of streams then how is it still better `for-loop` ?\r\nHow do I decide which way to go?\r\n\r\nEdit : old-fashioned way code added with some ex conditions as asked by [@cyberbrain][1]\r\n\r\n\r\n            int count_Unmatched = 0;\r\n            int count_Con_1 = 0;\r\n            int count_Con_2 = 0;\r\n            int count_Con_3 = 0;\r\n    \r\n            List&lt;List&lt;Integer&gt;&gt; list_Unmatched = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;Integer&gt;&gt; list_Con_1 = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;Integer&gt;&gt; list_Con_2 = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;Integer&gt;&gt; list_Con_3 = new ArrayList&lt;&gt;();\r\n            for (List&lt;Integer&gt; intList : lstOfintLst) {\r\n    \r\n                boolean isUnmatched = true;\r\n                int sum = 0;\r\n                int countEven = 0;\r\n                int countOdd = 0;\r\n                int countMultipleOf3 = 0;\r\n                int numLstSize = intList.size();\r\n                for (Integer i : intList) {\r\n    \r\n                    //all are odd or even\r\n                    if (i % 2 == 0) {\r\n                        countEven++;\r\n                    }\r\n                    if (i % 2 == 1) {\r\n                        countOdd++;\r\n                    }\r\n    \r\n                    //all multiples of 3\r\n                    if (i % 3 == 0) {\r\n                        countMultipleOf3++;\r\n                    }\r\n    \r\n                    // sum of all elements in intList is multiple of 5\r\n                    sum = sum + i;\r\n    \r\n    \r\n                }\r\n    \r\n                if (numLstSize == countEven || numLstSize == countOdd) {\r\n                    count_Con_1++;\r\n                    list_Con_1.add(intList);\r\n                    isUnmatched = false;\r\n                }\r\n    \r\n                if (numLstSize == countMultipleOf3) {\r\n                    count_Con_2++;\r\n                    list_Con_2.add(intList);\r\n                    isUnmatched = false;\r\n                }\r\n    \r\n                if (sum % 5 == 0) {\r\n                    count_Con_3++;\r\n                    list_Con_3.add(intList);\r\n                    isUnmatched = false;\r\n                }\r\n    \r\n                if (isUnmatched) {\r\n                    count_Unmatched++;\r\n                    list_Unmatched.add(intList);\r\n    \r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n            // process all counts &amp; lists \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2846138/cyberbrain","title":"Stream once with multiple independent conditions each having own action or normal for loop","body":"<p>Assume I have <code>List&lt;List&lt;Integer&gt;&gt; lstOfintLst</code> , where  for each <code>List&lt;Integer&gt; intList</code> I have to check multiple conditions and for each condition I have a set of actions ex count of each condition match , adding them in new <code>List&lt;Integer&gt; matchedLstCon_x</code> etc.\nNew to Java 8 , I am not clear how can I achieve it with just streaming once instead had to steam for each conditions as below</p>\n<pre><code>AtomicInteger count_Unmatched= new AtomicInteger();\nAtomicInteger count_Con_1= new AtomicInteger();\nAtomicInteger count_Con_2= new AtomicInteger();\nAtomicInteger count_Con_3= new AtomicInteger();\n\nList&lt;Integer&gt; list_Unmatched = new ArrayList&lt;Integer&gt;();\nList&lt;Integer&gt; list_Con_1 = new ArrayList&lt;Integer&gt;();\nList&lt;Integer&gt; list_Con_2 = new ArrayList&lt;Integer&gt;();\nList&lt;Integer&gt; list_Con_3 = new ArrayList&lt;Integer&gt;();\n\nlstOfintLst.stream().forEach(intList -&gt; {\n  boolean isUnmatched=true;\n   \n   if(intList.stream.allMatch(Condition_1)){\n             count_Con_1.getAndIncrement();\n             isUnmatched = false;\n             list_Con_1.add(intList);\n\n    }\n\n   if(intList.stream.allMatch(Condition_2)){\n             count_Con_2.getAndIncrement();\n             isUnmatched = false;\n             list_Con_2.add(intList);\n\n    }\n\n   if(intList.stream.allMatch(Condition_3)){\n             count_Con_3.getAndIncrement();\n             isUnmatched = false;\n             list_Con_3.add(intList);\n\n    }\n   \n   if(isUnmatched){\n             count_Unmatched.getAndIncrement();              \n             list_Unmatched.add(intList);\n\n    }\n\n}\n    \n   // process all counts &amp; lists \n</code></pre>\n<p>So here we are streaming 3 times for each condition ,on top of this if for a condition if I have a specific action on the elements of the <code>intList</code> I will again have to do a secondary <code>intList.stream.</code> inside the condition</p>\n<p>Can we do all condition with one stream ? This can be done with one normal <code>for-loop</code> on <code>intList</code> , irrespective of the number of conditions with may be more variables etc.</p>\n<p>If this is the least number of streams then how is it still better <code>for-loop</code> ?\nHow do I decide which way to go?</p>\n<p>Edit : old-fashioned way code added with some ex conditions as asked by <a href=\"https://stackoverflow.com/users/2846138/cyberbrain\">@cyberbrain</a></p>\n<pre><code>        int count_Unmatched = 0;\n        int count_Con_1 = 0;\n        int count_Con_2 = 0;\n        int count_Con_3 = 0;\n\n        List&lt;List&lt;Integer&gt;&gt; list_Unmatched = new ArrayList&lt;&gt;();\n        List&lt;List&lt;Integer&gt;&gt; list_Con_1 = new ArrayList&lt;&gt;();\n        List&lt;List&lt;Integer&gt;&gt; list_Con_2 = new ArrayList&lt;&gt;();\n        List&lt;List&lt;Integer&gt;&gt; list_Con_3 = new ArrayList&lt;&gt;();\n        for (List&lt;Integer&gt; intList : lstOfintLst) {\n\n            boolean isUnmatched = true;\n            int sum = 0;\n            int countEven = 0;\n            int countOdd = 0;\n            int countMultipleOf3 = 0;\n            int numLstSize = intList.size();\n            for (Integer i : intList) {\n\n                //all are odd or even\n                if (i % 2 == 0) {\n                    countEven++;\n                }\n                if (i % 2 == 1) {\n                    countOdd++;\n                }\n\n                //all multiples of 3\n                if (i % 3 == 0) {\n                    countMultipleOf3++;\n                }\n\n                // sum of all elements in intList is multiple of 5\n                sum = sum + i;\n\n\n            }\n\n            if (numLstSize == countEven || numLstSize == countOdd) {\n                count_Con_1++;\n                list_Con_1.add(intList);\n                isUnmatched = false;\n            }\n\n            if (numLstSize == countMultipleOf3) {\n                count_Con_2++;\n                list_Con_2.add(intList);\n                isUnmatched = false;\n            }\n\n            if (sum % 5 == 0) {\n                count_Con_3++;\n                list_Con_3.add(intList);\n                isUnmatched = false;\n            }\n\n            if (isUnmatched) {\n                count_Unmatched++;\n                list_Unmatched.add(intList);\n\n            }\n\n\n        }\n\n\n        // process all counts &amp; lists \n</code></pre>\n"},{"tags":["java","prometheus"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1538689129,"post_id":52655492,"comment_id":92242304,"body_markdown":"Sounds like you probably had the library in the classpath when compiling, but probably not when running. How did you try to run it?","body":"Sounds like you probably had the library in the classpath when compiling, but probably not when running. How did you try to run it?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1538689136,"post_id":52655492,"comment_id":92242307,"body_markdown":"*&quot;How solve Error?&quot;* Add the jar file containing `io.netty.util.concurrent.GenericFutureListener` to the classpath.","body":"<i>&quot;How solve Error?&quot;</i> Add the jar file containing <code>io.netty.util.concurrent.GenericFutureListener</code> to the classpath."}],"answers":[{"tags":[],"owner":{"account_id":966533,"reputation":944,"user_id":989875,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1538689489,"creation_date":1538689489,"answer_id":52655602,"question_id":52655492,"body_markdown":"Looks like you are missing a dependency.  You can get it from\r\n\r\nhttps://mvnrepository.com/artifact/io.netty/netty-all/5.0.0.Alpha2\r\n\r\nYou can add\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/io.netty/netty-all --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0.Alpha2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto your pom file or download the jar from the site and add it to the class path or your lib folder.","title":"How solve Error: java.lang.ClassNotFoundException: io.netty.util.concurrent.GenericFutureListener?","body":"<p>Looks like you are missing a dependency.  You can get it from</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/io.netty/netty-all/5.0.0.Alpha2\" rel=\"noreferrer\">https://mvnrepository.com/artifact/io.netty/netty-all/5.0.0.Alpha2</a></p>\n\n<p>You can add</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.netty/netty-all --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0.Alpha2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>to your pom file or download the jar from the site and add it to the class path or your lib folder.</p>\n"}],"owner":{"account_id":6695972,"reputation":1584,"user_id":5163984,"accept_rate":93,"display_name":"Nikolay Baranenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37605,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52655602,"answer_count":1,"score":2,"last_activity_date":1659101081,"creation_date":1538688990,"question_id":52655492,"body_markdown":"yeserday in first time I did try to make Prometheus Client by Java (did begin from Python, last did is GoLang).\r\n\r\nDid find Example\r\n\r\n    import io.prometheus.client.Counter;\r\n    import io.prometheus.client.Gauge;\r\n    import io.prometheus.client.Histogram;\r\n    import io.prometheus.client.Summary;\r\n    import io.prometheus.client.vertx.MetricsHandler;\r\n    import io.vertx.core.Vertx;\r\n    import io.vertx.ext.web.Router;\r\n    //import io.prometheus.client.vertx.MetricsHandler;\r\n    \r\n    public class ExampleExporter {\r\n    \r\n        static final Gauge g = Gauge.build().name(&quot;gauge&quot;).help(&quot;blah&quot;).register();\r\n        static final Counter c = Counter.build().name(&quot;counter&quot;).help(&quot;meh&quot;).register();\r\n        static final Summary s = Summary.build().name(&quot;summary&quot;).help(&quot;meh&quot;).register();\r\n        static final Histogram h = Histogram.build().name(&quot;histogram&quot;).help(&quot;meh&quot;).register();\r\n        static final Gauge l = Gauge.build().name(&quot;labels&quot;).help(&quot;blah&quot;).labelNames(&quot;l&quot;).register();\r\n    \r\n        public static  void main(String[] args) throws Exception {\r\n            final Vertx vertx = Vertx.vertx();\r\n            final Router router = Router.router(vertx);\r\n    \r\n            router.route(&quot;/metrics&quot;).handler(new MetricsHandler());\r\n    \r\n            vertx.createHttpServer().requestHandler(router::accept).listen(8001);\r\n    \r\n            g.set(1);\r\n            c.inc(2);\r\n            s.observe(3);\r\n            h.observe(4);\r\n            l.labels(&quot;foo&quot;).inc(5);\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nDid load from Maven Libraries.\r\n\r\nAfter did try run client, did return error:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/netty/util/concurrent/GenericFutureListener\r\n    \tat io.vertx.core.impl.VertxFactoryImpl.vertx(VertxFactoryImpl.java:30)\r\n    \tat io.vertx.core.Vertx.vertx(Vertx.java:78)\r\n    \tat ExampleExporter.main(ExampleExporter.java:22)\r\n    Caused by: java.lang.ClassNotFoundException: io.netty.util.concurrent.GenericFutureListener\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 3 more\r\n\r\nAll code and lib did upload\r\n[Git Repository][1]\r\n\r\nPlease help to solve this problem.\r\n\r\n  [1]: https://github.com/drno-reg/ExamplePrometheusNode.git\r\n","title":"How solve Error: java.lang.ClassNotFoundException: io.netty.util.concurrent.GenericFutureListener?","body":"<p>yeserday in first time I did try to make Prometheus Client by Java (did begin from Python, last did is GoLang).</p>\n\n<p>Did find Example</p>\n\n<pre><code>import io.prometheus.client.Counter;\nimport io.prometheus.client.Gauge;\nimport io.prometheus.client.Histogram;\nimport io.prometheus.client.Summary;\nimport io.prometheus.client.vertx.MetricsHandler;\nimport io.vertx.core.Vertx;\nimport io.vertx.ext.web.Router;\n//import io.prometheus.client.vertx.MetricsHandler;\n\npublic class ExampleExporter {\n\n    static final Gauge g = Gauge.build().name(\"gauge\").help(\"blah\").register();\n    static final Counter c = Counter.build().name(\"counter\").help(\"meh\").register();\n    static final Summary s = Summary.build().name(\"summary\").help(\"meh\").register();\n    static final Histogram h = Histogram.build().name(\"histogram\").help(\"meh\").register();\n    static final Gauge l = Gauge.build().name(\"labels\").help(\"blah\").labelNames(\"l\").register();\n\n    public static  void main(String[] args) throws Exception {\n        final Vertx vertx = Vertx.vertx();\n        final Router router = Router.router(vertx);\n\n        router.route(\"/metrics\").handler(new MetricsHandler());\n\n        vertx.createHttpServer().requestHandler(router::accept).listen(8001);\n\n        g.set(1);\n        c.inc(2);\n        s.observe(3);\n        h.observe(4);\n        l.labels(\"foo\").inc(5);\n    }\n\n\n\n}\n</code></pre>\n\n<p>Did load from Maven Libraries.</p>\n\n<p>After did try run client, did return error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: io/netty/util/concurrent/GenericFutureListener\n    at io.vertx.core.impl.VertxFactoryImpl.vertx(VertxFactoryImpl.java:30)\n    at io.vertx.core.Vertx.vertx(Vertx.java:78)\n    at ExampleExporter.main(ExampleExporter.java:22)\nCaused by: java.lang.ClassNotFoundException: io.netty.util.concurrent.GenericFutureListener\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 3 more\n</code></pre>\n\n<p>All code and lib did upload\n<a href=\"https://github.com/drno-reg/ExamplePrometheusNode.git\" rel=\"nofollow noreferrer\">Git Repository</a></p>\n\n<p>Please help to solve this problem.</p>\n"},{"tags":["java","spring-boot","h2"],"comments":[{"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"score":0,"creation_date":1659093511,"post_id":73165382,"comment_id":129219188,"body_markdown":"Can you show your h2 configuration or application.properties ?","body":"Can you show your h2 configuration or application.properties ?"},{"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"score":0,"creation_date":1659094084,"post_id":73165382,"comment_id":129219389,"body_markdown":"Have you put the right driver version for org.apache.derby.iapi.jdbc. ? The right dependency in your pom.xml ? And updated your Maven dependencies&#39;s project ?","body":"Have you put the right driver version for org.apache.derby.iapi.jdbc. ? The right dependency in your pom.xml ? And updated your Maven dependencies&#39;s project ?"},{"owner":{"account_id":18659927,"reputation":1,"user_id":13601382,"display_name":"rambiyani"},"score":0,"creation_date":1659099454,"post_id":73165382,"comment_id":129221359,"body_markdown":"@QuentinGenet Below are the application properties I have added : \n\n**spring.h2.console.enabled=true\nspring.datasource.platform=h2\nspring.datasource.url=jdbc:h2:mem:db1**","body":"@QuentinGenet Below are the application properties I have added :   <b>spring.h2.console.enabled=true spring.datasource.platform=h2 spring.datasource.url=jdbc:h2:mem:db1</b>"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1659100376,"post_id":73165382,"comment_id":129221700,"body_markdown":"This is an exception from H2 Console web servlet, its login window has Driver Class field and there are pre-configured saved settings for different database systems. A wrong predefined settings for Apache Derby were selected.","body":"This is an exception from H2 Console web servlet, its login window has Driver Class field and there are pre-configured saved settings for different database systems. A wrong predefined settings for Apache Derby were selected."},{"owner":{"account_id":18659927,"reputation":1,"user_id":13601382,"display_name":"rambiyani"},"score":0,"creation_date":1659100958,"post_id":73165382,"comment_id":129221918,"body_markdown":"Hi `@QuentinGenet` , Yes now it is working .Thank you so much for your help. But I want to add one more point that: I had to change the Driver class in h2-console manually to `org.h2.Driver`. Previously it was `org.apache.derby.iapi.jdbc.AutoloadedDriver` by default after running the application","body":"Hi <code>@QuentinGenet</code> , Yes now it is working .Thank you so much for your help. But I want to add one more point that: I had to change the Driver class in h2-console manually to <code>org.h2.Driver</code>. Previously it was <code>org.apache.derby.iapi.jdbc.AutoloadedDriver</code> by default after running the application"}],"answers":[{"tags":[],"owner":{"account_id":15253172,"reputation":155,"user_id":11005875,"display_name":"Quentin Genet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659101069,"creation_date":1659101069,"answer_id":73167480,"question_id":73165382,"body_markdown":"Maybe you should add a propertie for driver or change it ? Try to add something like this in your application.properties : `spring.datasource.driverClassName=org.h2.Driver` \r\n`spring.jpa.database-platform=org.hibernate.dialect.H2Dialect.`","title":"Trouble in using H2 database while creating it for Spring Boot app","body":"<p>Maybe you should add a propertie for driver or change it ? Try to add something like this in your application.properties : <code>spring.datasource.driverClassName=org.h2.Driver</code>\n<code>spring.jpa.database-platform=org.hibernate.dialect.H2Dialect.</code></p>\n"}],"owner":{"account_id":18659927,"reputation":1,"user_id":13601382,"display_name":"rambiyani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659101069,"creation_date":1659091092,"question_id":73165382,"body_markdown":"Facing below error while using h2 database in Spring boot application. (Could not find any proper solution for this). Please help me out to resolve this\r\n\r\n**Error :** \r\n    \r\n   Class &quot;org.apache.derby.iapi.jdbc.AutoloadedDriver&quot; not found [90086-214]\r\n    org.h2.message.DbException: Class &quot;org.apache.derby.iapi.jdbc.AutoloadedDriver&quot; not found [90086-214]\r\n        at org.h2.message.DbException.get(DbException.java:212)\r\n        at org.h2.util.JdbcUtils.loadUserClass(JdbcUtils.java:200)\r\n        at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:297)\r\n        at org.h2.server.web.WebServer.getConnection(WebServer.java:808)\r\n        at org.h2.server.web.WebApp.test(WebApp.java:972)\r\n        at org.h2.server.web.WebApp.process(WebApp.java:241)\r\n        at org.h2.server.web.WebApp.processRequest(WebApp.java:176)\r\n        at org.h2.server.web.WebServlet.doGet(WebServlet.java:129)\r\n        at org.h2.server.web.WebServlet.doPost(WebServlet.java:166)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n","title":"Trouble in using H2 database while creating it for Spring Boot app","body":"<p>Facing below error while using h2 database in Spring boot application. (Could not find any proper solution for this). Please help me out to resolve this</p>\n<p><strong>Error :</strong></p>\n<p>Class &quot;org.apache.derby.iapi.jdbc.AutoloadedDriver&quot; not found [90086-214]\norg.h2.message.DbException: Class &quot;org.apache.derby.iapi.jdbc.AutoloadedDriver&quot; not found [90086-214]\nat org.h2.message.DbException.get(DbException.java:212)\nat org.h2.util.JdbcUtils.loadUserClass(JdbcUtils.java:200)\nat org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:297)\nat org.h2.server.web.WebServer.getConnection(WebServer.java:808)\nat org.h2.server.web.WebApp.test(WebApp.java:972)\nat org.h2.server.web.WebApp.process(WebApp.java:241)\nat org.h2.server.web.WebApp.processRequest(WebApp.java:176)\nat org.h2.server.web.WebServlet.doGet(WebServlet.java:129)\nat org.h2.server.web.WebServlet.doPost(WebServlet.java:166)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)</p>\n"},{"tags":["java","json","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":234666,"reputation":609,"user_id":3657208,"display_name":"cisk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658498742,"creation_date":1658498742,"answer_id":73081647,"question_id":73080955,"body_markdown":"Create 2 pojos\r\n1. Mapping the input json (let&#39;s call it `MyJsonInput.java`)\r\n2. Mapping the output you want (let&#39;s call it `MyOutputObject.java`).\r\n\r\nThese 2 classes should have fields which matches the json structure.\r\n\r\nCreate a mapper:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\nRead the json and translate it into your object:\r\n\r\n    MyJsonInput myInput = objectMapper.readValue(json, MyJsonInput.class);\t//where json is a string with the content of your json file. \r\n\r\nNow you have a MyJsonInput instance (myInput) containing the json data and you can do your logic to flatten it and fill your `MyOutputObject`.\r\n\r\nTo get the json string of MyOutputObject instance use:\r\n\r\n    String outputAsString = objectMapper.writeValueAsString(myOutputObject);\r\n\r\nYou can also threat your both input and output as a generic `Map&lt;String,Object&gt;` but in my opinion not the best way because it can get very complicated reading and parsing maps containing other maps, and not to mention that you need to cast your data into the appropriate type (string, number etc..)","title":"Transform JSON and create new one","body":"<p>Create 2 pojos</p>\n<ol>\n<li>Mapping the input json (let's call it <code>MyJsonInput.java</code>)</li>\n<li>Mapping the output you want (let's call it <code>MyOutputObject.java</code>).</li>\n</ol>\n<p>These 2 classes should have fields which matches the json structure.</p>\n<p>Create a mapper:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n</code></pre>\n<p>Read the json and translate it into your object:</p>\n<pre><code>MyJsonInput myInput = objectMapper.readValue(json, MyJsonInput.class);  //where json is a string with the content of your json file. \n</code></pre>\n<p>Now you have a MyJsonInput instance (myInput) containing the json data and you can do your logic to flatten it and fill your <code>MyOutputObject</code>.</p>\n<p>To get the json string of MyOutputObject instance use:</p>\n<pre><code>String outputAsString = objectMapper.writeValueAsString(myOutputObject);\n</code></pre>\n<p>You can also threat your both input and output as a generic <code>Map&lt;String,Object&gt;</code> but in my opinion not the best way because it can get very complicated reading and parsing maps containing other maps, and not to mention that you need to cast your data into the appropriate type (string, number etc..)</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659100563,"creation_date":1659100563,"answer_id":73167360,"question_id":73080955,"body_markdown":"https://github.com/octomix/josson  \r\nhttps://mvnrepository.com/artifact/com.octomix.josson/josson\r\n\r\n    implementation &#39;com.octomix.josson:josson:1.3.21&#39;\r\n\r\n    -------------------------------------------------\r\n\r\n    Jossons jossons = new Jossons();\r\n    jossons.putDataset(&quot;input&quot;, Josson.fromJsonString(\r\n        &quot;{\\n&quot; +\r\n        &quot;   \\&quot;index\\&quot;:{\\n&quot; +\r\n        &quot;      \\&quot;multipleIndices\\&quot;:[\\n&quot; +\r\n        &quot;         {\\n&quot; +\r\n        &quot;            \\&quot;index\\&quot;:\\&quot;languages\\&quot;,\\n&quot; +\r\n        &quot;            \\&quot;values\\&quot;:[\\n&quot; +\r\n        &quot;               \\&quot;English\\&quot;,\\n&quot; +\r\n        &quot;               \\&quot;German\\&quot;\\n&quot; +\r\n        &quot;            ]\\n&quot; +\r\n        &quot;         },\\n&quot; +\r\n        &quot;         {\\n&quot; +\r\n        &quot;            \\&quot;index\\&quot;:\\&quot;editors\\&quot;,\\n&quot; +\r\n        &quot;            \\&quot;values\\&quot;:[\\n&quot; +\r\n        &quot;               \\&quot;AC. Renus\\&quot;,\\n&quot; +\r\n        &quot;               \\&quot;Lodiga\\&quot;\\n&quot; +\r\n        &quot;            ]\\n&quot; +\r\n        &quot;         }\\n&quot; +\r\n        &quot;      ],\\n&quot; +\r\n        &quot;      \\&quot;simpleIndices\\&quot;:[\\n&quot; +\r\n        &quot;         {\\n&quot; +\r\n        &quot;            \\&quot;index\\&quot;:\\&quot;bookName\\&quot;,\\n&quot; +\r\n        &quot;            \\&quot;values\\&quot;:\\&quot;A song Of Ice and fire\\&quot;\\n&quot; +\r\n        &quot;         },\\n&quot; +\r\n        &quot;         {\\n&quot; +\r\n        &quot;            \\&quot;index\\&quot;:\\&quot;nbPages\\&quot;,\\n&quot; +\r\n        &quot;            \\&quot;values\\&quot;:1600\\n&quot; +\r\n        &quot;         }\\n&quot; +\r\n        &quot;      ]\\n&quot; +\r\n        &quot;   }\\n&quot; +\r\n        &quot;}&quot;));\r\n    Map&lt;String, String&gt; dictionaryFinder = new HashMap&lt;&gt;();\r\n    \r\n    // Define a dictionary function, $0 is the function parameter.\r\n    dictionaryFinder.put(&quot;flatIndices()&quot;,\r\n        &quot;$0-&gt;map(&quot; +\r\n        &quot;key:index,&quot; +\r\n        &quot;type:if(values.isArray(),values[0],values).if(isText(),&#39;string&#39;,&#39;float&#39;),&quot; +\r\n        &quot;key_type:concat(index,&#39;.&#39;,if(values.isArray(),values[0],values).if(isText(),&#39;string&#39;,&#39;float&#39;)),&quot; +\r\n        &quot;value_string:values)&quot;);\r\n        \r\n    // Define a left concatenate operation to combine two arrays.\r\n    dictionaryFinder.put(&quot;allIndices&quot;,\r\n        &quot;flatIndices(input-&gt;index.multipleIndices) &lt;+&lt; flatIndices(input-&gt;index.simpleIndices)&quot;);\r\n        \r\n    ResolverProgress progress = new ResolverProgress(&quot;\\nProgress:&quot;);\r\n    \r\n    // The query is a left concatenate operation to combine two objects.\r\n    JsonNode output = jossons.evaluateQueryWithResolver(\r\n        &quot;input-&gt;toObject(&#39;data&#39;) &lt;+&lt; allIndices-&gt;toObject(&#39;flatData&#39;)&quot;,\r\n        dictionaryFinder::get, null, progress);\r\n        \r\n    // Print result.\r\n    System.out.println(output == null ? null : output.toPrettyString());\r\n    // Print resolution progress.\r\n    System.out.println(String.join(&quot;\\n&quot;, progress.getSteps()));\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;data&quot; : {\r\n        &quot;index&quot; : {\r\n          &quot;multipleIndices&quot; : [ {\r\n            &quot;index&quot; : &quot;languages&quot;,\r\n            &quot;values&quot; : [ &quot;English&quot;, &quot;German&quot; ]\r\n          }, {\r\n            &quot;index&quot; : &quot;editors&quot;,\r\n            &quot;values&quot; : [ &quot;AC. Renus&quot;, &quot;Lodiga&quot; ]\r\n          } ],\r\n          &quot;simpleIndices&quot; : [ {\r\n            &quot;index&quot; : &quot;bookName&quot;,\r\n            &quot;values&quot; : &quot;A song Of Ice and fire&quot;\r\n          }, {\r\n            &quot;index&quot; : &quot;nbPages&quot;,\r\n            &quot;values&quot; : 1600\r\n          } ]\r\n        }\r\n      },\r\n      &quot;flatData&quot; : [ {\r\n        &quot;key&quot; : &quot;languages&quot;,\r\n        &quot;type&quot; : &quot;string&quot;,\r\n        &quot;key_type&quot; : &quot;languages.string&quot;,\r\n        &quot;value_string&quot; : [ &quot;English&quot;, &quot;German&quot; ]\r\n      }, {\r\n        &quot;key&quot; : &quot;editors&quot;,\r\n        &quot;type&quot; : &quot;string&quot;,\r\n        &quot;key_type&quot; : &quot;editors.string&quot;,\r\n        &quot;value_string&quot; : [ &quot;AC. Renus&quot;, &quot;Lodiga&quot; ]\r\n      }, {\r\n        &quot;key&quot; : &quot;bookName&quot;,\r\n        &quot;type&quot; : &quot;string&quot;,\r\n        &quot;key_type&quot; : &quot;bookName.string&quot;,\r\n        &quot;value_string&quot; : &quot;A song Of Ice and fire&quot;\r\n      }, {\r\n        &quot;key&quot; : &quot;nbPages&quot;,\r\n        &quot;type&quot; : &quot;float&quot;,\r\n        &quot;key_type&quot; : &quot;nbPages.float&quot;,\r\n        &quot;value_string&quot; : 1600\r\n      } ]\r\n    }\r\n\r\n    Progress:\r\n    Round 1 : Resolving allIndices from flatIndices(input-&gt;index.multipleIndices) &lt;+&lt; flatIndices(input-&gt;index.simpleIndices)\r\n    Round 1 : Resolving flatIndices(input-&gt;index.multipleIndices) from $0-&gt;map(key:index,type:if(values.isArray(),values[0],values).if(isText(),&#39;string&#39;,&#39;float&#39;),key_type:concat(index,&#39;.&#39;,if(values.isArray(),values[0],values).if(isText(),&#39;string&#39;,&#39;float&#39;)),value_string:values)\r\n    Round 1 : Resolved flatIndices(input-&gt;index.multipleIndices) = Array with 2 elements\r\n    Round 2 : Resolving flatIndices(input-&gt;index.simpleIndices) from $0-&gt;map(key:index,type:if(values.isArray(),values[0],values).if(isText(),&#39;string&#39;,&#39;float&#39;),key_type:concat(index,&#39;.&#39;,if(values.isArray(),values[0],values).if(isText(),&#39;string&#39;,&#39;float&#39;)),value_string:values)\r\n    Round 2 : Resolved flatIndices(input-&gt;index.simpleIndices) = Array with 2 elements\r\n    Round 3 : Resolved allIndices = Array with 4 elements\r\n    Round 4 : Resolved query result = Object with 2 elements\r\n","title":"Transform JSON and create new one","body":"<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a><br />\n<a href=\"https://mvnrepository.com/artifact/com.octomix.josson/josson\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.octomix.josson/josson</a></p>\n<pre><code>implementation 'com.octomix.josson:josson:1.3.21'\n\n-------------------------------------------------\n\nJossons jossons = new Jossons();\njossons.putDataset(&quot;input&quot;, Josson.fromJsonString(\n    &quot;{\\n&quot; +\n    &quot;   \\&quot;index\\&quot;:{\\n&quot; +\n    &quot;      \\&quot;multipleIndices\\&quot;:[\\n&quot; +\n    &quot;         {\\n&quot; +\n    &quot;            \\&quot;index\\&quot;:\\&quot;languages\\&quot;,\\n&quot; +\n    &quot;            \\&quot;values\\&quot;:[\\n&quot; +\n    &quot;               \\&quot;English\\&quot;,\\n&quot; +\n    &quot;               \\&quot;German\\&quot;\\n&quot; +\n    &quot;            ]\\n&quot; +\n    &quot;         },\\n&quot; +\n    &quot;         {\\n&quot; +\n    &quot;            \\&quot;index\\&quot;:\\&quot;editors\\&quot;,\\n&quot; +\n    &quot;            \\&quot;values\\&quot;:[\\n&quot; +\n    &quot;               \\&quot;AC. Renus\\&quot;,\\n&quot; +\n    &quot;               \\&quot;Lodiga\\&quot;\\n&quot; +\n    &quot;            ]\\n&quot; +\n    &quot;         }\\n&quot; +\n    &quot;      ],\\n&quot; +\n    &quot;      \\&quot;simpleIndices\\&quot;:[\\n&quot; +\n    &quot;         {\\n&quot; +\n    &quot;            \\&quot;index\\&quot;:\\&quot;bookName\\&quot;,\\n&quot; +\n    &quot;            \\&quot;values\\&quot;:\\&quot;A song Of Ice and fire\\&quot;\\n&quot; +\n    &quot;         },\\n&quot; +\n    &quot;         {\\n&quot; +\n    &quot;            \\&quot;index\\&quot;:\\&quot;nbPages\\&quot;,\\n&quot; +\n    &quot;            \\&quot;values\\&quot;:1600\\n&quot; +\n    &quot;         }\\n&quot; +\n    &quot;      ]\\n&quot; +\n    &quot;   }\\n&quot; +\n    &quot;}&quot;));\nMap&lt;String, String&gt; dictionaryFinder = new HashMap&lt;&gt;();\n\n// Define a dictionary function, $0 is the function parameter.\ndictionaryFinder.put(&quot;flatIndices()&quot;,\n    &quot;$0-&gt;map(&quot; +\n    &quot;key:index,&quot; +\n    &quot;type:if(values.isArray(),values[0],values).if(isText(),'string','float'),&quot; +\n    &quot;key_type:concat(index,'.',if(values.isArray(),values[0],values).if(isText(),'string','float')),&quot; +\n    &quot;value_string:values)&quot;);\n    \n// Define a left concatenate operation to combine two arrays.\ndictionaryFinder.put(&quot;allIndices&quot;,\n    &quot;flatIndices(input-&gt;index.multipleIndices) &lt;+&lt; flatIndices(input-&gt;index.simpleIndices)&quot;);\n    \nResolverProgress progress = new ResolverProgress(&quot;\\nProgress:&quot;);\n\n// The query is a left concatenate operation to combine two objects.\nJsonNode output = jossons.evaluateQueryWithResolver(\n    &quot;input-&gt;toObject('data') &lt;+&lt; allIndices-&gt;toObject('flatData')&quot;,\n    dictionaryFinder::get, null, progress);\n    \n// Print result.\nSystem.out.println(output == null ? null : output.toPrettyString());\n// Print resolution progress.\nSystem.out.println(String.join(&quot;\\n&quot;, progress.getSteps()));\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;data&quot; : {\n    &quot;index&quot; : {\n      &quot;multipleIndices&quot; : [ {\n        &quot;index&quot; : &quot;languages&quot;,\n        &quot;values&quot; : [ &quot;English&quot;, &quot;German&quot; ]\n      }, {\n        &quot;index&quot; : &quot;editors&quot;,\n        &quot;values&quot; : [ &quot;AC. Renus&quot;, &quot;Lodiga&quot; ]\n      } ],\n      &quot;simpleIndices&quot; : [ {\n        &quot;index&quot; : &quot;bookName&quot;,\n        &quot;values&quot; : &quot;A song Of Ice and fire&quot;\n      }, {\n        &quot;index&quot; : &quot;nbPages&quot;,\n        &quot;values&quot; : 1600\n      } ]\n    }\n  },\n  &quot;flatData&quot; : [ {\n    &quot;key&quot; : &quot;languages&quot;,\n    &quot;type&quot; : &quot;string&quot;,\n    &quot;key_type&quot; : &quot;languages.string&quot;,\n    &quot;value_string&quot; : [ &quot;English&quot;, &quot;German&quot; ]\n  }, {\n    &quot;key&quot; : &quot;editors&quot;,\n    &quot;type&quot; : &quot;string&quot;,\n    &quot;key_type&quot; : &quot;editors.string&quot;,\n    &quot;value_string&quot; : [ &quot;AC. Renus&quot;, &quot;Lodiga&quot; ]\n  }, {\n    &quot;key&quot; : &quot;bookName&quot;,\n    &quot;type&quot; : &quot;string&quot;,\n    &quot;key_type&quot; : &quot;bookName.string&quot;,\n    &quot;value_string&quot; : &quot;A song Of Ice and fire&quot;\n  }, {\n    &quot;key&quot; : &quot;nbPages&quot;,\n    &quot;type&quot; : &quot;float&quot;,\n    &quot;key_type&quot; : &quot;nbPages.float&quot;,\n    &quot;value_string&quot; : 1600\n  } ]\n}\n\nProgress:\nRound 1 : Resolving allIndices from flatIndices(input-&gt;index.multipleIndices) &lt;+&lt; flatIndices(input-&gt;index.simpleIndices)\nRound 1 : Resolving flatIndices(input-&gt;index.multipleIndices) from $0-&gt;map(key:index,type:if(values.isArray(),values[0],values).if(isText(),'string','float'),key_type:concat(index,'.',if(values.isArray(),values[0],values).if(isText(),'string','float')),value_string:values)\nRound 1 : Resolved flatIndices(input-&gt;index.multipleIndices) = Array with 2 elements\nRound 2 : Resolving flatIndices(input-&gt;index.simpleIndices) from $0-&gt;map(key:index,type:if(values.isArray(),values[0],values).if(isText(),'string','float'),key_type:concat(index,'.',if(values.isArray(),values[0],values).if(isText(),'string','float')),value_string:values)\nRound 2 : Resolved flatIndices(input-&gt;index.simpleIndices) = Array with 2 elements\nRound 3 : Resolved allIndices = Array with 4 elements\nRound 4 : Resolved query result = Object with 2 elements\n</code></pre>\n"}],"owner":{"account_id":21380244,"reputation":45,"user_id":15746284,"display_name":"Lina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659100563,"creation_date":1658495635,"question_id":73080955,"body_markdown":"I&#39;m working with JSON in Java, and I want to trasnform a JSON I have as entry : \r\n```json\r\n{\r\n   &quot;index&quot;:{\r\n      &quot;mutlipleIndices&quot;:[\r\n         {\r\n            &quot;index&quot;:&quot;languages&quot;,\r\n            &quot;values&quot;:[\r\n               &quot;English&quot;,\r\n               &quot;German&quot;\r\n            ]\r\n         },\r\n         {\r\n            &quot;index&quot;:&quot;editors&quot;,\r\n            &quot;values&quot;:[\r\n               &quot;AC. Renus&quot;,\r\n               &quot;Lodiga&quot;\r\n            ]\r\n         }\r\n      ],\r\n      &quot;simpleIndices&quot;:[\r\n         {\r\n            &quot;index&quot;:&quot;bookName&quot;,\r\n            &quot;values&quot;:&quot;A song Of Ice and fire&quot;\r\n         },\r\n         {\r\n            &quot;index&quot;:&quot;nbPages&quot;,\r\n            &quot;valeurs&quot;:1600\r\n         }\r\n      ]\r\n   }\r\n}\r\n```\r\nint this : \r\n\r\n```json\r\n\t{\r\n\t\t&quot;data&quot;: { ... Put here the entry JSON ... },\r\n\t\t&quot;flatData&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;key&quot;: &quot;languages&quot;,\r\n\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t&quot;key_type&quot;: &quot;languages.string&quot;,\r\n\t\t\t\t&quot;value_string&quot;: [&quot;English&quot;, &quot;German&quot;] \r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;key&quot;: &quot;editors&quot;,\r\n\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t&quot;key_type&quot;: &quot;editors.string&quot;,\r\n\t\t\t\t&quot;value_string&quot;: [&quot;AC. Renus&quot;, &quot;Lodiga&quot;]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;key&quot;: &quot;bookName&quot;,\r\n\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t&quot;key_type&quot;: &quot;bookName.string&quot;,\r\n\t\t\t\t&quot;value_string&quot;: &quot;A song Of Ice and fire&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;key&quot;: &quot;nbPages&quot;,\r\n\t\t\t\t&quot;type&quot;: &quot;float&quot;,\r\n\t\t\t\t&quot;key_type&quot;: &quot;nbPages.float&quot;,\r\n\t\t\t\t&quot;value_float&quot;: 1600\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n```\r\n\r\nMy entry JSON is a JsonNode (Jackson library), how can I iterate on that object and create a new one ? \r\nBasically what I thought I&#39;d do is iternate on the entry json, find an entry and transform it\r\nThanks in advance","title":"Transform JSON and create new one","body":"<p>I'm working with JSON in Java, and I want to trasnform a JSON I have as entry :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;index&quot;:{\n      &quot;mutlipleIndices&quot;:[\n         {\n            &quot;index&quot;:&quot;languages&quot;,\n            &quot;values&quot;:[\n               &quot;English&quot;,\n               &quot;German&quot;\n            ]\n         },\n         {\n            &quot;index&quot;:&quot;editors&quot;,\n            &quot;values&quot;:[\n               &quot;AC. Renus&quot;,\n               &quot;Lodiga&quot;\n            ]\n         }\n      ],\n      &quot;simpleIndices&quot;:[\n         {\n            &quot;index&quot;:&quot;bookName&quot;,\n            &quot;values&quot;:&quot;A song Of Ice and fire&quot;\n         },\n         {\n            &quot;index&quot;:&quot;nbPages&quot;,\n            &quot;valeurs&quot;:1600\n         }\n      ]\n   }\n}\n</code></pre>\n<p>int this :</p>\n<pre class=\"lang-json prettyprint-override\"><code>    {\n        &quot;data&quot;: { ... Put here the entry JSON ... },\n        &quot;flatData&quot;: [\n            {\n                &quot;key&quot;: &quot;languages&quot;,\n                &quot;type&quot;: &quot;string&quot;,\n                &quot;key_type&quot;: &quot;languages.string&quot;,\n                &quot;value_string&quot;: [&quot;English&quot;, &quot;German&quot;] \n            },\n            {\n                &quot;key&quot;: &quot;editors&quot;,\n                &quot;type&quot;: &quot;string&quot;,\n                &quot;key_type&quot;: &quot;editors.string&quot;,\n                &quot;value_string&quot;: [&quot;AC. Renus&quot;, &quot;Lodiga&quot;]\n            },\n            {\n                &quot;key&quot;: &quot;bookName&quot;,\n                &quot;type&quot;: &quot;string&quot;,\n                &quot;key_type&quot;: &quot;bookName.string&quot;,\n                &quot;value_string&quot;: &quot;A song Of Ice and fire&quot;\n            },\n            {\n                &quot;key&quot;: &quot;nbPages&quot;,\n                &quot;type&quot;: &quot;float&quot;,\n                &quot;key_type&quot;: &quot;nbPages.float&quot;,\n                &quot;value_float&quot;: 1600\n            }\n        ]\n    }\n</code></pre>\n<p>My entry JSON is a JsonNode (Jackson library), how can I iterate on that object and create a new one ?\nBasically what I thought I'd do is iternate on the entry json, find an entry and transform it\nThanks in advance</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","spring-cloud-gcp"],"comments":[{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":1,"creation_date":1659080484,"post_id":73162414,"comment_id":129214619,"body_markdown":"What have you tried yourself?","body":"What have you tried yourself?"},{"owner":{"account_id":18873890,"reputation":49,"user_id":13767840,"display_name":"Usama"},"score":0,"creation_date":1659165806,"post_id":73162414,"comment_id":129232596,"body_markdown":"I am currently looking for different spring gcp libraries but I didn&#39;t find any thing that can help me in this","body":"I am currently looking for different spring gcp libraries but I didn&#39;t find any thing that can help me in this"}],"answers":[{"tags":[],"owner":{"account_id":14454991,"reputation":456,"user_id":10441462,"display_name":"Elena Felder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659100513,"creation_date":1659100513,"answer_id":73167354,"question_id":73162414,"body_markdown":"Other than creating a database when executing DDL, Spring Cloud GCP does not provide any shortcuts for the admin tasks you need. You would instead be using the Java client libraries for each product directly.","title":"GCP Automation with Spring Boot","body":"<p>Other than creating a database when executing DDL, Spring Cloud GCP does not provide any shortcuts for the admin tasks you need. You would instead be using the Java client libraries for each product directly.</p>\n"}],"owner":{"account_id":18873890,"reputation":49,"user_id":13767840,"display_name":"Usama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659100513,"creation_date":1659075914,"question_id":73162414,"body_markdown":"I am using GCP to host my website. Now I have a scenario where I want a user to register themselves on my website and when I approve their request I want my backend application Java (Spring Boot) to create a database, subdomain, Load Balancer and storage for that particular user. Please assist me in doing this.\r\n\r\nThanks","title":"GCP Automation with Spring Boot","body":"<p>I am using GCP to host my website. Now I have a scenario where I want a user to register themselves on my website and when I approve their request I want my backend application Java (Spring Boot) to create a database, subdomain, Load Balancer and storage for that particular user. Please assist me in doing this.</p>\n<p>Thanks</p>\n"},{"tags":["java","logging","java.util.logging","filehandler"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1598572197,"post_id":63625459,"comment_id":112510467,"body_markdown":"Does folder `C:\\Users\\samue\\log` exist? Does the user running the Java program have access to that folder?","body":"Does folder <code>C:\\Users\\samue\\log</code> exist? Does the user running the Java program have access to that folder?"},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1598584126,"post_id":63625459,"comment_id":112512663,"body_markdown":"What is the full exact version of Java you are using?","body":"What is the full exact version of Java you are using?"},{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1598626182,"post_id":63625459,"comment_id":112529306,"body_markdown":"Does this answer your question? [How to create directories for Logger files through FileHandler](https://stackoverflow.com/questions/22732247/how-to-create-directories-for-logger-files-through-filehandler)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22732247/how-to-create-directories-for-logger-files-through-filehandler\">How to create directories for Logger files through FileHandler</a>"}],"answers":[{"tags":[],"owner":{"account_id":17547575,"reputation":79,"user_id":12728542,"display_name":"elsamuray7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598598541,"creation_date":1598598541,"answer_id":63629073,"question_id":63625459,"body_markdown":"Ok, I expected that the FileHandler would create the directories to the log file, creating the log folder myself solved the problem, I&#39;m sorry!","title":"java.util.logging.FileHandler throws NoSuchFileException","body":"<p>Ok, I expected that the FileHandler would create the directories to the log file, creating the log folder myself solved the problem, I'm sorry!</p>\n"}],"owner":{"account_id":17547575,"reputation":79,"user_id":12728542,"display_name":"elsamuray7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659100149,"answer_count":1,"score":0,"last_activity_date":1659100173,"creation_date":1598571097,"question_id":63625459,"body_markdown":"I tried to enable simple logging for my TCP Server. For this purpose I thought that `java.util.logging` would do its job fine.\r\n\r\nHere is the code that I use to configure my log file:\r\n\r\n    System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;, &quot;[%1$tF %1$tT] [%4$-7s] [%3s] %5$s %n&quot;);\r\n\r\n        try {\r\n            FileHandler fileHandler = new FileHandler(System.getProperty(&quot;user.dir&quot;) +\r\n                                                    &quot;/log/RemasteredServer_%u.log&quot;, false);\r\n            fileHandler.setFormatter(new SimpleFormatter());\r\n            Logger.getGlobal().addHandler(fileHandler);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n\r\n        logger = Logger.getLogger(ServerMain.class.getName());\r\n\r\nWhen I try to run this I get the following exception:\r\n\r\n    java.nio.file.NoSuchFileException: C:\\Users\\samue\\log\\RemasteredServer_0.log.lck\r\n\r\nI already tried different patterns but none of them worked. Thanks for help!\r\n\r\n**Edit:** I wouldn&#39;t know why this should be a problem but I use gradle to build and run the server","title":"java.util.logging.FileHandler throws NoSuchFileException","body":"<p>I tried to enable simple logging for my TCP Server. For this purpose I thought that <code>java.util.logging</code> would do its job fine.</p>\n<p>Here is the code that I use to configure my log file:</p>\n<pre><code>System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;, &quot;[%1$tF %1$tT] [%4$-7s] [%3s] %5$s %n&quot;);\n\n    try {\n        FileHandler fileHandler = new FileHandler(System.getProperty(&quot;user.dir&quot;) +\n                                                &quot;/log/RemasteredServer_%u.log&quot;, false);\n        fileHandler.setFormatter(new SimpleFormatter());\n        Logger.getGlobal().addHandler(fileHandler);\n    } catch (IOException e) {\n        e.printStackTrace();\n        System.exit(1);\n    }\n\n    logger = Logger.getLogger(ServerMain.class.getName());\n</code></pre>\n<p>When I try to run this I get the following exception:</p>\n<pre><code>java.nio.file.NoSuchFileException: C:\\Users\\samue\\log\\RemasteredServer_0.log.lck\n</code></pre>\n<p>I already tried different patterns but none of them worked. Thanks for help!</p>\n<p><strong>Edit:</strong> I wouldn't know why this should be a problem but I use gradle to build and run the server</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":1836980,"reputation":5793,"user_id":1667147,"accept_rate":93,"display_name":"david blaine"},"score":1,"creation_date":1365899726,"post_id":15994450,"comment_id":22805444,"body_markdown":"what is RS ? ResultSet ? you should mention these things in your code.","body":"what is RS ? ResultSet ? you should mention these things in your code."},{"owner":{"account_id":1836980,"reputation":5793,"user_id":1667147,"accept_rate":93,"display_name":"david blaine"},"score":0,"creation_date":1365902844,"post_id":15994450,"comment_id":22806073,"body_markdown":"so you want to modify the TimeStamp, value is : &quot;2013-04-13 22:56:27.0&quot; to contain the UTC+03:00 offset ? I doubt if it can be done - http://stackoverflow.com/questions/8294183/is-there-mysql-equivalent-to-oracles-timestamp-with-time-zone","body":"so you want to modify the TimeStamp, value is : &quot;2013-04-13 22:56:27.0&quot; to contain the UTC+03:00 offset ? I doubt if it can be done - <a href=\"http://stackoverflow.com/questions/8294183/is-there-mysql-equivalent-to-oracles-timestamp-with-time-zone\" title=\"is there mysql equivalent to oracles timestamp with time zone\">stackoverflow.com/questions/8294183/&hellip;</a>"},{"owner":{"account_id":1836980,"reputation":5793,"user_id":1667147,"accept_rate":93,"display_name":"david blaine"},"score":0,"creation_date":1365903724,"post_id":15994450,"comment_id":22806231,"body_markdown":"you could use SELECT CONVERT_TZ(....) as mentioned here http://dev.mysql.com/doc/refman/5.1/en/time-zone-upgrades.html . I think this is how it could be done - convert your UTC time to a named time zone, ie East Africa Time. then use it as an argument to SELECT CONVERT_TZ(....).","body":"you could use SELECT CONVERT_TZ(....) as mentioned here <a href=\"http://dev.mysql.com/doc/refman/5.1/en/time-zone-upgrades.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.1/en/time-zone-upgrades.html</a> . I think this is how it could be done - convert your UTC time to a named time zone, ie East Africa Time. then use it as an argument to SELECT CONVERT_TZ(....)."},{"owner":{"account_id":1993660,"reputation":1295,"user_id":1787081,"accept_rate":53,"display_name":"oko"},"score":1,"creation_date":1365932778,"post_id":15994450,"comment_id":22811110,"body_markdown":"@davidblaine why do i need the timezone column in my database ? Actually i am checking user&#39;s timezone from his/her browser and trying to change time string on server, not on database.","body":"@davidblaine why do i need the timezone column in my database ? Actually i am checking user&#39;s timezone from his/her browser and trying to change time string on server, not on database."}],"answers":[{"tags":[],"owner":{"account_id":1137222,"reputation":2406,"user_id":1122039,"display_name":"Cebence"},"down_vote_count":2,"up_vote_count":55,"is_accepted":false,"score":53,"last_activity_date":1366125763,"creation_date":1365901689,"answer_id":15994657,"question_id":15994450,"body_markdown":"It is a common misconception that time (a measurable 4th dimension) is different over the world. Timestamp as a moment in time is unique. Date however is influenced how we &quot;see&quot; time but actually it is &quot;time of day&quot;.\r\n\r\n**An example:** two people look at the clock at the same moment. The timestamp is the same, right?\r\nBut one of them is in London and sees 12:00 noon (GMT, timezone offset is 0), and the other is in Belgrade and sees 14:00 (CET, Central Europe, daylight saving now, offset is +2).\r\n\r\nTheir perception is different but the moment is the same.\r\n\r\n**You can find more details in [this answer][1].**\r\n\r\nUPDATE\r\n======\r\nOK, it&#39;s not a duplicate of [this question][2] but it is pointless since you are confusing the terms &quot;Timestamp = moment in time (objective)&quot; and &quot;Date[Time] = time of day (subjective)&quot;.\r\n\r\nLet&#39;s look at your original question code broken down like this:\r\n\r\n    // Get the &quot;original&quot; value from database.\r\n    Timestamp momentFromDB = rs.getTimestamp(&quot;anytimestampcolumn&quot;);\r\n\r\n    // Turn it into a Joda DateTime with time zone.\r\n    DateTime dt = new DateTime(momentFromDB, DateTimeZone.forID(&quot;anytimezone&quot;));\r\n\r\n    // And then turn it back into a timestamp but &quot;with time zone&quot;.\r\n    Timestamp ts = new Timestamp(dt.getMillis());\r\n\r\nI haven&#39;t run this code but I am certain it will print `true` and the same number of milliseconds each time:\r\n\r\n    System.out.println(&quot;momentFromDB == dt : &quot; + (momentFromDB.getTime() == dt.getTimeInMillis());\r\n    System.out.println(&quot;momentFromDB == ts : &quot; + (momentFromDB.getTime() == ts.getTime()));\r\n    System.out.println(&quot;dt == ts : &quot; + (dt.getTimeInMillis() == ts.getTime()));\r\n\r\n    System.out.println(&quot;momentFromDB [ms] : &quot; + momentFromDB.getTime());\r\n    System.out.println(&quot;ts [ms] : &quot; + ts.getTime());\r\n    System.out.println(&quot;dt [ms] : &quot; + dt.getTimeInMillis());\r\n\r\nBut as you said yourself printing them out as strings will result in &quot;different&quot; time because `DateTime` applies the time zone. That&#39;s why &quot;time&quot; is stored and transferred as `Timestamp` objects (which basically wraps a `long`) and displayed or entered as `Date[Time]`.\r\n\r\nIn your own answer you are artificially adding an offset and creating a &quot;wrong&quot; time.\r\nIf you use that timestamp to create another `DateTime` and print it out it will be offset twice.\r\n\r\n    // Turn it back into a Joda DateTime with time zone.\r\n    DateTime dt = new DateTime(ts, DateTimeZone.forID(&quot;anytimezone&quot;));\r\n\r\nP.S. If you have the time go through the very complex [Joda Time source code][3] to see how it holds the time (millis) and how it prints it.\r\n\r\nJUnit Test as proof\r\n===================\r\n\r\n    import static org.junit.Assert.*;\r\n    import static org.hamcrest.CoreMatchers.*;\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    import java.util.TimeZone;\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n\r\n\r\n    public class WorldTimeTest {\r\n        private static final int MILLIS_IN_HOUR = 1000 * 60 * 60;\r\n        private static final String ISO_FORMAT_NO_TZ = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;;\r\n        private static final String ISO_FORMAT_WITH_TZ = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;;\r\n\r\n        private TimeZone londonTimeZone;\r\n        private TimeZone newYorkTimeZone;\r\n        private TimeZone sydneyTimeZone;\r\n        private long nowInMillis;\r\n        private Date now;\r\n\r\n        public static SimpleDateFormat createDateFormat(String pattern, TimeZone timeZone) throws Exception {\r\n            SimpleDateFormat result = new SimpleDateFormat(pattern);\r\n            // Must explicitly set the time zone with &quot;setCalendar()&quot;.\r\n            result.setCalendar(Calendar.getInstance(timeZone));\r\n            return result;\r\n        }\r\n\r\n        public static SimpleDateFormat createDateFormat(String pattern) throws Exception {\r\n            return createDateFormat(pattern, TimeZone.getDefault());\r\n        }\r\n\r\n        public static SimpleDateFormat createDateFormat() throws Exception {\r\n            return createDateFormat(ISO_FORMAT_WITH_TZ, TimeZone.getDefault());\r\n        }\r\n\r\n        public void printSystemInfo() throws Exception {\r\n            final String[] propertyNames = {\r\n                    &quot;java.runtime.name&quot;, &quot;java.runtime.version&quot;, &quot;java.vm.name&quot;, &quot;java.vm.version&quot;,\r\n                    &quot;os.name&quot;, &quot;os.version&quot;, &quot;os.arch&quot;,\r\n                    &quot;user.language&quot;, &quot;user.country&quot;, &quot;user.script&quot;, &quot;user.variant&quot;,\r\n                    &quot;user.language.format&quot;, &quot;user.country.format&quot;, &quot;user.script.format&quot;,\r\n                    &quot;user.timezone&quot; };\r\n\r\n            System.out.println();\r\n            System.out.println(&quot;System Information:&quot;);\r\n            for (String name : propertyNames) {\r\n                if (name == null || name.length() == 0) {\r\n                    continue;\r\n                }\r\n                String value = System.getProperty(name);\r\n                if (value != null &amp;&amp; value.length() &gt; 0) {\r\n                    System.out.println(&quot;  &quot; + name + &quot; = &quot; + value);\r\n                }\r\n            }\r\n\r\n            final TimeZone defaultTZ = TimeZone.getDefault();\r\n            final int defaultOffset = defaultTZ.getOffset(nowInMillis) / MILLIS_IN_HOUR;\r\n            final int userOffset = TimeZone.getTimeZone(System\r\n                    .getProperty(&quot;user.timezone&quot;)).getOffset(nowInMillis) / MILLIS_IN_HOUR;\r\n            final Locale defaultLocale = Locale.getDefault();\r\n\r\n            System.out.println(&quot;  default.timezone-offset (hours) = &quot; + userOffset);\r\n            System.out.println(&quot;  default.timezone = &quot; + defaultTZ.getDisplayName());\r\n            System.out.println(&quot;  default.timezone.id = &quot; + defaultTZ.getID());\r\n            System.out.println(&quot;  default.timezone-offset (hours) = &quot; + defaultOffset);\r\n            System.out.println(&quot;  default.locale = &quot;\r\n                    + defaultLocale.getLanguage() + &quot;_&quot; + defaultLocale.getCountry()\r\n                    + &quot; (&quot; + defaultLocale.getDisplayLanguage()\r\n                    + &quot;,&quot; + defaultLocale.getDisplayCountry() + &quot;)&quot;);\r\n            System.out.println(&quot;  now = &quot; + nowInMillis + &quot; [ms] or &quot;\r\n                    + createDateFormat().format(now));\r\n            System.out.println();\r\n        }\r\n\r\n        @Before\r\n        public void setUp() throws Exception {\r\n            // Remember this moment.\r\n            now = new Date();\r\n            nowInMillis = now.getTime(); // == System.currentTimeMillis();\r\n\r\n            // Print out some system information.\r\n            printSystemInfo();\r\n\r\n            // &quot;Europe/London&quot; time zone is DST aware, we&#39;ll use fixed offset.\r\n            londonTimeZone = TimeZone.getTimeZone(&quot;GMT&quot;);\r\n            // The same applies to &quot;America/New York&quot; time zone ...\r\n            newYorkTimeZone = TimeZone.getTimeZone(&quot;GMT-5&quot;);\r\n            // ... and for the &quot;Australia/Sydney&quot; time zone.\r\n            sydneyTimeZone = TimeZone.getTimeZone(&quot;GMT+10&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void testDateFormatting() throws Exception {\r\n            int londonOffset = londonTimeZone.getOffset(nowInMillis) / MILLIS_IN_HOUR; // in hours\r\n            Calendar londonCalendar = Calendar.getInstance(londonTimeZone);\r\n            londonCalendar.setTime(now);\r\n\r\n            int newYorkOffset = newYorkTimeZone.getOffset(nowInMillis) / MILLIS_IN_HOUR;\r\n            Calendar newYorkCalendar = Calendar.getInstance(newYorkTimeZone);\r\n            newYorkCalendar.setTime(now);\r\n\r\n            int sydneyOffset = sydneyTimeZone.getOffset(nowInMillis) / MILLIS_IN_HOUR;\r\n            Calendar sydneyCalendar = Calendar.getInstance(sydneyTimeZone);\r\n            sydneyCalendar.setTime(now);\r\n\r\n            // Check each time zone offset.\r\n            assertThat(londonOffset, equalTo(0));\r\n            assertThat(newYorkOffset, equalTo(-5));\r\n            assertThat(sydneyOffset, equalTo(10));\r\n\r\n            // Check that calendars are not equals (due to time zone difference).\r\n            assertThat(londonCalendar, not(equalTo(newYorkCalendar)));\r\n            assertThat(londonCalendar, not(equalTo(sydneyCalendar)));\r\n\r\n            // Check if they all point to the same moment in time, in milliseconds.\r\n            assertThat(londonCalendar.getTimeInMillis(), equalTo(nowInMillis));\r\n            assertThat(newYorkCalendar.getTimeInMillis(), equalTo(nowInMillis));\r\n            assertThat(sydneyCalendar.getTimeInMillis(), equalTo(nowInMillis));\r\n\r\n            // Check if they all point to the same moment in time, as Date.\r\n            assertThat(londonCalendar.getTime(), equalTo(now));\r\n            assertThat(newYorkCalendar.getTime(), equalTo(now));\r\n            assertThat(sydneyCalendar.getTime(), equalTo(now));\r\n\r\n            // Check if hours are all different (skip local time because\r\n            // this test could be executed in those exact time zones).\r\n            assertThat(newYorkCalendar.get(Calendar.HOUR_OF_DAY),\r\n                    not(equalTo(londonCalendar.get(Calendar.HOUR_OF_DAY))));\r\n            assertThat(sydneyCalendar.get(Calendar.HOUR_OF_DAY),\r\n                    not(equalTo(londonCalendar.get(Calendar.HOUR_OF_DAY))));\r\n\r\n\r\n            // Display London time in multiple forms.\r\n            SimpleDateFormat dfLondonNoTZ = createDateFormat(ISO_FORMAT_NO_TZ, londonTimeZone);\r\n            SimpleDateFormat dfLondonWithTZ = createDateFormat(ISO_FORMAT_WITH_TZ, londonTimeZone);\r\n            System.out.println(&quot;London (&quot; + londonTimeZone.getDisplayName(false, TimeZone.SHORT)\r\n                    + &quot;, &quot; + londonOffset + &quot;):&quot;);\r\n            System.out.println(&quot;  time (ISO format w/o TZ) = &quot;\r\n                    + dfLondonNoTZ.format(londonCalendar.getTime()));\r\n            System.out.println(&quot;  time (ISO format w/ TZ)  = &quot;\r\n                    + dfLondonWithTZ.format(londonCalendar.getTime()));\r\n            System.out.println(&quot;  time (default format)    = &quot;\r\n                    + londonCalendar.getTime() + &quot; / &quot; + londonCalendar.toString());\r\n            // Using system default time zone.\r\n            System.out.println(&quot;  time (default TZ)        = &quot;\r\n                    + createDateFormat(ISO_FORMAT_NO_TZ).format(londonCalendar.getTime())\r\n                    + &quot; / &quot; + createDateFormat().format(londonCalendar.getTime()));\r\n\r\n\r\n            // Display New York time in multiple forms.\r\n            SimpleDateFormat dfNewYorkNoTZ = createDateFormat(ISO_FORMAT_NO_TZ, newYorkTimeZone);\r\n            SimpleDateFormat dfNewYorkWithTZ = createDateFormat(ISO_FORMAT_WITH_TZ, newYorkTimeZone);\r\n            System.out.println(&quot;New York (&quot; + newYorkTimeZone.getDisplayName(false, TimeZone.SHORT)\r\n                    + &quot;, &quot; + newYorkOffset + &quot;):&quot;);\r\n            System.out.println(&quot;  time (ISO format w/o TZ) = &quot;\r\n                    + dfNewYorkNoTZ.format(newYorkCalendar.getTime()));\r\n            System.out.println(&quot;  time (ISO format w/ TZ)  = &quot;\r\n                    + dfNewYorkWithTZ.format(newYorkCalendar.getTime()));\r\n            System.out.println(&quot;  time (default format)    = &quot;\r\n                    + newYorkCalendar.getTime() + &quot; / &quot; + newYorkCalendar.toString());\r\n            // Using system default time zone.\r\n            System.out.println(&quot;  time (default TZ)        = &quot;\r\n                    + createDateFormat(ISO_FORMAT_NO_TZ).format(newYorkCalendar.getTime())\r\n                    + &quot; / &quot; + createDateFormat().format(newYorkCalendar.getTime()));\r\n\r\n\r\n            // Display Sydney time in multiple forms.\r\n            SimpleDateFormat dfSydneyNoTZ = createDateFormat(ISO_FORMAT_NO_TZ, sydneyTimeZone);\r\n            SimpleDateFormat dfSydneyWithTZ = createDateFormat(ISO_FORMAT_WITH_TZ, sydneyTimeZone);\r\n            System.out.println(&quot;Sydney (&quot; + sydneyTimeZone.getDisplayName(false, TimeZone.SHORT)\r\n                    + &quot;, &quot; + sydneyOffset + &quot;):&quot;);\r\n            System.out.println(&quot;  time (ISO format w/o TZ) = &quot;\r\n                    + dfSydneyNoTZ.format(sydneyCalendar.getTime()));\r\n            System.out.println(&quot;  time (ISO format w/ TZ)  = &quot;\r\n                    + dfSydneyWithTZ.format(sydneyCalendar.getTime()));\r\n            System.out.println(&quot;  time (default format)    = &quot;\r\n                    + sydneyCalendar.getTime() + &quot; / &quot; + sydneyCalendar.toString());\r\n            // Using system default time zone.\r\n            System.out.println(&quot;  time (default TZ)        = &quot;\r\n                    + createDateFormat(ISO_FORMAT_NO_TZ).format(sydneyCalendar.getTime())\r\n                    + &quot; / &quot; + createDateFormat().format(sydneyCalendar.getTime()));\r\n        }\r\n\r\n        @Test\r\n        public void testDateParsing() throws Exception {\r\n            // Create date parsers that look for time zone information in a date-time string.\r\n            final SimpleDateFormat londonFormatTZ = createDateFormat(ISO_FORMAT_WITH_TZ, londonTimeZone);\r\n            final SimpleDateFormat newYorkFormatTZ = createDateFormat(ISO_FORMAT_WITH_TZ, newYorkTimeZone);\r\n            final SimpleDateFormat sydneyFormatTZ = createDateFormat(ISO_FORMAT_WITH_TZ, sydneyTimeZone);\r\n\r\n            // Create date parsers that ignore time zone information in a date-time string.\r\n            final SimpleDateFormat londonFormatLocal = createDateFormat(ISO_FORMAT_NO_TZ, londonTimeZone);\r\n            final SimpleDateFormat newYorkFormatLocal = createDateFormat(ISO_FORMAT_NO_TZ, newYorkTimeZone);\r\n            final SimpleDateFormat sydneyFormatLocal = createDateFormat(ISO_FORMAT_NO_TZ, sydneyTimeZone);\r\n\r\n            // We are looking for the moment this millenium started, the famous Y2K,\r\n            // when at midnight everyone welcomed the New Year 2000, i.e. 2000-01-01 00:00:00.\r\n            // Which of these is the right one?\r\n            // a) &quot;2000-01-01T00:00:00.000-00:00&quot;\r\n            // b) &quot;2000-01-01T00:00:00.000-05:00&quot;\r\n            // c) &quot;2000-01-01T00:00:00.000+10:00&quot;\r\n            // None of them? All of them?\r\n            // For those who guessed it - yes, it is a trick question because we didn&#39;t specify\r\n            // the &quot;where&quot; part, or what kind of time (local/global) we are looking for.\r\n            // The first (a) is the local Y2K moment in London, which is at the same time global.\r\n            // The second (b) is the local Y2K moment in New York, but London is already celebrating for 5 hours.\r\n            // The third (c) is the local Y2K moment in Sydney, and they started celebrating 15 hours before New York did.\r\n            // The point here is that each answer is correct because everyone thinks of that moment in terms of &quot;celebration at midnight&quot;.\r\n            // The key word here is &quot;midnight&quot;! That moment is actually a &quot;time of day&quot; moment illustrating our perception of time based on the movement of our Sun.\r\n\r\n            // These are global Y2K moments, i.e. the same moment all over the world, UTC/GMT midnight.\r\n            final String MIDNIGHT_GLOBAL = &quot;2000-01-01T00:00:00.000-00:00&quot;;\r\n            final Date milleniumInLondon = londonFormatTZ.parse(MIDNIGHT_GLOBAL);\r\n            final Date milleniumInNewYork = newYorkFormatTZ.parse(MIDNIGHT_GLOBAL);\r\n            final Date milleniumInSydney = sydneyFormatTZ.parse(MIDNIGHT_GLOBAL);\r\n\r\n            // Check if they all point to the same moment in time.\r\n            // And that parser ignores its own configured time zone and uses the information from the date-time string.\r\n            assertThat(milleniumInNewYork, equalTo(milleniumInLondon));\r\n            assertThat(milleniumInSydney, equalTo(milleniumInLondon));\r\n\r\n\r\n            // These are all local Y2K moments, a.k.a. midnight at each location on Earth, with time zone information.\r\n            final String MIDNIGHT_LONDON = &quot;2000-01-01T00:00:00.000-00:00&quot;;\r\n            final String MIDNIGHT_NEW_YORK = &quot;2000-01-01T00:00:00.000-05:00&quot;;\r\n            final String MIDNIGHT_SYDNEY = &quot;2000-01-01T00:00:00.000+10:00&quot;;\r\n            final Date midnightInLondonTZ = londonFormatLocal.parse(MIDNIGHT_LONDON);\r\n            final Date midnightInNewYorkTZ = newYorkFormatLocal.parse(MIDNIGHT_NEW_YORK);\r\n            final Date midnightInSydneyTZ = sydneyFormatLocal.parse(MIDNIGHT_SYDNEY);\r\n\r\n            // Check if they all point to the same moment in time.\r\n            assertThat(midnightInNewYorkTZ, not(equalTo(midnightInLondonTZ)));\r\n            assertThat(midnightInSydneyTZ, not(equalTo(midnightInLondonTZ)));\r\n\r\n            // Check if the time zone offset is correct.\r\n            assertThat(midnightInLondonTZ.getTime() - midnightInNewYorkTZ.getTime(),\r\n                    equalTo((long) newYorkTimeZone.getOffset(milleniumInLondon.getTime())));\r\n            assertThat(midnightInLondonTZ.getTime() - midnightInSydneyTZ.getTime(),\r\n                    equalTo((long) sydneyTimeZone.getOffset(milleniumInLondon.getTime())));\r\n\r\n\r\n            // These are also local Y2K moments, just withouth the time zone information.\r\n            final String MIDNIGHT_ANYWHERE = &quot;2000-01-01T00:00:00.000&quot;;\r\n            final Date midnightInLondon = londonFormatLocal.parse(MIDNIGHT_ANYWHERE);\r\n            final Date midnightInNewYork = newYorkFormatLocal.parse(MIDNIGHT_ANYWHERE);\r\n            final Date midnightInSydney = sydneyFormatLocal.parse(MIDNIGHT_ANYWHERE);\r\n\r\n            // Check if these are the same as the local moments with time zone information.\r\n            assertThat(midnightInLondon, equalTo(midnightInLondonTZ));\r\n            assertThat(midnightInNewYork, equalTo(midnightInNewYorkTZ));\r\n            assertThat(midnightInSydney, equalTo(midnightInSydneyTZ));\r\n\r\n            // Check if they all point to the same moment in time.\r\n            assertThat(midnightInNewYork, not(equalTo(midnightInLondon)));\r\n            assertThat(midnightInSydney, not(equalTo(midnightInLondon)));\r\n\r\n            // Check if the time zone offset is correct.\r\n            assertThat(midnightInLondon.getTime() - midnightInNewYork.getTime(),\r\n                    equalTo((long) newYorkTimeZone.getOffset(milleniumInLondon.getTime())));\r\n            assertThat(midnightInLondon.getTime() - midnightInSydney.getTime(),\r\n                    equalTo((long) sydneyTimeZone.getOffset(milleniumInLondon.getTime())));\r\n\r\n\r\n            // Final check - if Y2K moment is in London ..\r\n            final String Y2K_LONDON = &quot;2000-01-01T00:00:00.000Z&quot;;\r\n            // .. New York local time would be still 5 hours in 1999 ..\r\n            final String Y2K_NEW_YORK = &quot;1999-12-31T19:00:00.000-05:00&quot;;\r\n            // .. and Sydney local time would be 10 hours in 2000.\r\n            final String Y2K_SYDNEY = &quot;2000-01-01T10:00:00.000+10:00&quot;;\r\n\r\n            final String londonTime = londonFormatTZ.format(milleniumInLondon);\r\n            final String newYorkTime = newYorkFormatTZ.format(milleniumInLondon);\r\n            final String sydneyTime = sydneyFormatTZ.format(milleniumInLondon);\r\n\r\n            // WHat do you think, will the test pass?\r\n            assertThat(londonTime, equalTo(Y2K_LONDON));\r\n            assertThat(newYorkTime, equalTo(Y2K_NEW_YORK));\r\n            assertThat(sydneyTime, equalTo(Y2K_SYDNEY));\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/10522267\r\n  [2]: https://stackoverflow.com/questions/5942702\r\n  [3]: https://github.com/JodaOrg/joda-time/blob/master/src/main/java/org/joda/time/DateTime.java","title":"Joda DateTime to Timestamp conversion","body":"<p>It is a common misconception that time (a measurable 4th dimension) is different over the world. Timestamp as a moment in time is unique. Date however is influenced how we \"see\" time but actually it is \"time of day\".</p>\n\n<p><strong>An example:</strong> two people look at the clock at the same moment. The timestamp is the same, right?\nBut one of them is in London and sees 12:00 noon (GMT, timezone offset is 0), and the other is in Belgrade and sees 14:00 (CET, Central Europe, daylight saving now, offset is +2).</p>\n\n<p>Their perception is different but the moment is the same.</p>\n\n<p><strong>You can find more details in <a href=\"https://stackoverflow.com/questions/10522267\">this answer</a>.</strong></p>\n\n<h1>UPDATE</h1>\n\n<p>OK, it's not a duplicate of <a href=\"https://stackoverflow.com/questions/5942702\">this question</a> but it is pointless since you are confusing the terms \"Timestamp = moment in time (objective)\" and \"Date[Time] = time of day (subjective)\".</p>\n\n<p>Let's look at your original question code broken down like this:</p>\n\n<pre><code>// Get the \"original\" value from database.\nTimestamp momentFromDB = rs.getTimestamp(\"anytimestampcolumn\");\n\n// Turn it into a Joda DateTime with time zone.\nDateTime dt = new DateTime(momentFromDB, DateTimeZone.forID(\"anytimezone\"));\n\n// And then turn it back into a timestamp but \"with time zone\".\nTimestamp ts = new Timestamp(dt.getMillis());\n</code></pre>\n\n<p>I haven't run this code but I am certain it will print <code>true</code> and the same number of milliseconds each time:</p>\n\n<pre><code>System.out.println(\"momentFromDB == dt : \" + (momentFromDB.getTime() == dt.getTimeInMillis());\nSystem.out.println(\"momentFromDB == ts : \" + (momentFromDB.getTime() == ts.getTime()));\nSystem.out.println(\"dt == ts : \" + (dt.getTimeInMillis() == ts.getTime()));\n\nSystem.out.println(\"momentFromDB [ms] : \" + momentFromDB.getTime());\nSystem.out.println(\"ts [ms] : \" + ts.getTime());\nSystem.out.println(\"dt [ms] : \" + dt.getTimeInMillis());\n</code></pre>\n\n<p>But as you said yourself printing them out as strings will result in \"different\" time because <code>DateTime</code> applies the time zone. That's why \"time\" is stored and transferred as <code>Timestamp</code> objects (which basically wraps a <code>long</code>) and displayed or entered as <code>Date[Time]</code>.</p>\n\n<p>In your own answer you are artificially adding an offset and creating a \"wrong\" time.\nIf you use that timestamp to create another <code>DateTime</code> and print it out it will be offset twice.</p>\n\n<pre><code>// Turn it back into a Joda DateTime with time zone.\nDateTime dt = new DateTime(ts, DateTimeZone.forID(\"anytimezone\"));\n</code></pre>\n\n<p>P.S. If you have the time go through the very complex <a href=\"https://github.com/JodaOrg/joda-time/blob/master/src/main/java/org/joda/time/DateTime.java\" rel=\"noreferrer\">Joda Time source code</a> to see how it holds the time (millis) and how it prints it.</p>\n\n<h1>JUnit Test as proof</h1>\n\n<pre><code>import static org.junit.Assert.*;\nimport static org.hamcrest.CoreMatchers.*;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.Locale;\nimport java.util.TimeZone;\n\nimport org.junit.Before;\nimport org.junit.Test;\n\n\npublic class WorldTimeTest {\n    private static final int MILLIS_IN_HOUR = 1000 * 60 * 60;\n    private static final String ISO_FORMAT_NO_TZ = \"yyyy-MM-dd'T'HH:mm:ss.SSS\";\n    private static final String ISO_FORMAT_WITH_TZ = \"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\";\n\n    private TimeZone londonTimeZone;\n    private TimeZone newYorkTimeZone;\n    private TimeZone sydneyTimeZone;\n    private long nowInMillis;\n    private Date now;\n\n    public static SimpleDateFormat createDateFormat(String pattern, TimeZone timeZone) throws Exception {\n        SimpleDateFormat result = new SimpleDateFormat(pattern);\n        // Must explicitly set the time zone with \"setCalendar()\".\n        result.setCalendar(Calendar.getInstance(timeZone));\n        return result;\n    }\n\n    public static SimpleDateFormat createDateFormat(String pattern) throws Exception {\n        return createDateFormat(pattern, TimeZone.getDefault());\n    }\n\n    public static SimpleDateFormat createDateFormat() throws Exception {\n        return createDateFormat(ISO_FORMAT_WITH_TZ, TimeZone.getDefault());\n    }\n\n    public void printSystemInfo() throws Exception {\n        final String[] propertyNames = {\n                \"java.runtime.name\", \"java.runtime.version\", \"java.vm.name\", \"java.vm.version\",\n                \"os.name\", \"os.version\", \"os.arch\",\n                \"user.language\", \"user.country\", \"user.script\", \"user.variant\",\n                \"user.language.format\", \"user.country.format\", \"user.script.format\",\n                \"user.timezone\" };\n\n        System.out.println();\n        System.out.println(\"System Information:\");\n        for (String name : propertyNames) {\n            if (name == null || name.length() == 0) {\n                continue;\n            }\n            String value = System.getProperty(name);\n            if (value != null &amp;&amp; value.length() &gt; 0) {\n                System.out.println(\"  \" + name + \" = \" + value);\n            }\n        }\n\n        final TimeZone defaultTZ = TimeZone.getDefault();\n        final int defaultOffset = defaultTZ.getOffset(nowInMillis) / MILLIS_IN_HOUR;\n        final int userOffset = TimeZone.getTimeZone(System\n                .getProperty(\"user.timezone\")).getOffset(nowInMillis) / MILLIS_IN_HOUR;\n        final Locale defaultLocale = Locale.getDefault();\n\n        System.out.println(\"  default.timezone-offset (hours) = \" + userOffset);\n        System.out.println(\"  default.timezone = \" + defaultTZ.getDisplayName());\n        System.out.println(\"  default.timezone.id = \" + defaultTZ.getID());\n        System.out.println(\"  default.timezone-offset (hours) = \" + defaultOffset);\n        System.out.println(\"  default.locale = \"\n                + defaultLocale.getLanguage() + \"_\" + defaultLocale.getCountry()\n                + \" (\" + defaultLocale.getDisplayLanguage()\n                + \",\" + defaultLocale.getDisplayCountry() + \")\");\n        System.out.println(\"  now = \" + nowInMillis + \" [ms] or \"\n                + createDateFormat().format(now));\n        System.out.println();\n    }\n\n    @Before\n    public void setUp() throws Exception {\n        // Remember this moment.\n        now = new Date();\n        nowInMillis = now.getTime(); // == System.currentTimeMillis();\n\n        // Print out some system information.\n        printSystemInfo();\n\n        // \"Europe/London\" time zone is DST aware, we'll use fixed offset.\n        londonTimeZone = TimeZone.getTimeZone(\"GMT\");\n        // The same applies to \"America/New York\" time zone ...\n        newYorkTimeZone = TimeZone.getTimeZone(\"GMT-5\");\n        // ... and for the \"Australia/Sydney\" time zone.\n        sydneyTimeZone = TimeZone.getTimeZone(\"GMT+10\");\n    }\n\n    @Test\n    public void testDateFormatting() throws Exception {\n        int londonOffset = londonTimeZone.getOffset(nowInMillis) / MILLIS_IN_HOUR; // in hours\n        Calendar londonCalendar = Calendar.getInstance(londonTimeZone);\n        londonCalendar.setTime(now);\n\n        int newYorkOffset = newYorkTimeZone.getOffset(nowInMillis) / MILLIS_IN_HOUR;\n        Calendar newYorkCalendar = Calendar.getInstance(newYorkTimeZone);\n        newYorkCalendar.setTime(now);\n\n        int sydneyOffset = sydneyTimeZone.getOffset(nowInMillis) / MILLIS_IN_HOUR;\n        Calendar sydneyCalendar = Calendar.getInstance(sydneyTimeZone);\n        sydneyCalendar.setTime(now);\n\n        // Check each time zone offset.\n        assertThat(londonOffset, equalTo(0));\n        assertThat(newYorkOffset, equalTo(-5));\n        assertThat(sydneyOffset, equalTo(10));\n\n        // Check that calendars are not equals (due to time zone difference).\n        assertThat(londonCalendar, not(equalTo(newYorkCalendar)));\n        assertThat(londonCalendar, not(equalTo(sydneyCalendar)));\n\n        // Check if they all point to the same moment in time, in milliseconds.\n        assertThat(londonCalendar.getTimeInMillis(), equalTo(nowInMillis));\n        assertThat(newYorkCalendar.getTimeInMillis(), equalTo(nowInMillis));\n        assertThat(sydneyCalendar.getTimeInMillis(), equalTo(nowInMillis));\n\n        // Check if they all point to the same moment in time, as Date.\n        assertThat(londonCalendar.getTime(), equalTo(now));\n        assertThat(newYorkCalendar.getTime(), equalTo(now));\n        assertThat(sydneyCalendar.getTime(), equalTo(now));\n\n        // Check if hours are all different (skip local time because\n        // this test could be executed in those exact time zones).\n        assertThat(newYorkCalendar.get(Calendar.HOUR_OF_DAY),\n                not(equalTo(londonCalendar.get(Calendar.HOUR_OF_DAY))));\n        assertThat(sydneyCalendar.get(Calendar.HOUR_OF_DAY),\n                not(equalTo(londonCalendar.get(Calendar.HOUR_OF_DAY))));\n\n\n        // Display London time in multiple forms.\n        SimpleDateFormat dfLondonNoTZ = createDateFormat(ISO_FORMAT_NO_TZ, londonTimeZone);\n        SimpleDateFormat dfLondonWithTZ = createDateFormat(ISO_FORMAT_WITH_TZ, londonTimeZone);\n        System.out.println(\"London (\" + londonTimeZone.getDisplayName(false, TimeZone.SHORT)\n                + \", \" + londonOffset + \"):\");\n        System.out.println(\"  time (ISO format w/o TZ) = \"\n                + dfLondonNoTZ.format(londonCalendar.getTime()));\n        System.out.println(\"  time (ISO format w/ TZ)  = \"\n                + dfLondonWithTZ.format(londonCalendar.getTime()));\n        System.out.println(\"  time (default format)    = \"\n                + londonCalendar.getTime() + \" / \" + londonCalendar.toString());\n        // Using system default time zone.\n        System.out.println(\"  time (default TZ)        = \"\n                + createDateFormat(ISO_FORMAT_NO_TZ).format(londonCalendar.getTime())\n                + \" / \" + createDateFormat().format(londonCalendar.getTime()));\n\n\n        // Display New York time in multiple forms.\n        SimpleDateFormat dfNewYorkNoTZ = createDateFormat(ISO_FORMAT_NO_TZ, newYorkTimeZone);\n        SimpleDateFormat dfNewYorkWithTZ = createDateFormat(ISO_FORMAT_WITH_TZ, newYorkTimeZone);\n        System.out.println(\"New York (\" + newYorkTimeZone.getDisplayName(false, TimeZone.SHORT)\n                + \", \" + newYorkOffset + \"):\");\n        System.out.println(\"  time (ISO format w/o TZ) = \"\n                + dfNewYorkNoTZ.format(newYorkCalendar.getTime()));\n        System.out.println(\"  time (ISO format w/ TZ)  = \"\n                + dfNewYorkWithTZ.format(newYorkCalendar.getTime()));\n        System.out.println(\"  time (default format)    = \"\n                + newYorkCalendar.getTime() + \" / \" + newYorkCalendar.toString());\n        // Using system default time zone.\n        System.out.println(\"  time (default TZ)        = \"\n                + createDateFormat(ISO_FORMAT_NO_TZ).format(newYorkCalendar.getTime())\n                + \" / \" + createDateFormat().format(newYorkCalendar.getTime()));\n\n\n        // Display Sydney time in multiple forms.\n        SimpleDateFormat dfSydneyNoTZ = createDateFormat(ISO_FORMAT_NO_TZ, sydneyTimeZone);\n        SimpleDateFormat dfSydneyWithTZ = createDateFormat(ISO_FORMAT_WITH_TZ, sydneyTimeZone);\n        System.out.println(\"Sydney (\" + sydneyTimeZone.getDisplayName(false, TimeZone.SHORT)\n                + \", \" + sydneyOffset + \"):\");\n        System.out.println(\"  time (ISO format w/o TZ) = \"\n                + dfSydneyNoTZ.format(sydneyCalendar.getTime()));\n        System.out.println(\"  time (ISO format w/ TZ)  = \"\n                + dfSydneyWithTZ.format(sydneyCalendar.getTime()));\n        System.out.println(\"  time (default format)    = \"\n                + sydneyCalendar.getTime() + \" / \" + sydneyCalendar.toString());\n        // Using system default time zone.\n        System.out.println(\"  time (default TZ)        = \"\n                + createDateFormat(ISO_FORMAT_NO_TZ).format(sydneyCalendar.getTime())\n                + \" / \" + createDateFormat().format(sydneyCalendar.getTime()));\n    }\n\n    @Test\n    public void testDateParsing() throws Exception {\n        // Create date parsers that look for time zone information in a date-time string.\n        final SimpleDateFormat londonFormatTZ = createDateFormat(ISO_FORMAT_WITH_TZ, londonTimeZone);\n        final SimpleDateFormat newYorkFormatTZ = createDateFormat(ISO_FORMAT_WITH_TZ, newYorkTimeZone);\n        final SimpleDateFormat sydneyFormatTZ = createDateFormat(ISO_FORMAT_WITH_TZ, sydneyTimeZone);\n\n        // Create date parsers that ignore time zone information in a date-time string.\n        final SimpleDateFormat londonFormatLocal = createDateFormat(ISO_FORMAT_NO_TZ, londonTimeZone);\n        final SimpleDateFormat newYorkFormatLocal = createDateFormat(ISO_FORMAT_NO_TZ, newYorkTimeZone);\n        final SimpleDateFormat sydneyFormatLocal = createDateFormat(ISO_FORMAT_NO_TZ, sydneyTimeZone);\n\n        // We are looking for the moment this millenium started, the famous Y2K,\n        // when at midnight everyone welcomed the New Year 2000, i.e. 2000-01-01 00:00:00.\n        // Which of these is the right one?\n        // a) \"2000-01-01T00:00:00.000-00:00\"\n        // b) \"2000-01-01T00:00:00.000-05:00\"\n        // c) \"2000-01-01T00:00:00.000+10:00\"\n        // None of them? All of them?\n        // For those who guessed it - yes, it is a trick question because we didn't specify\n        // the \"where\" part, or what kind of time (local/global) we are looking for.\n        // The first (a) is the local Y2K moment in London, which is at the same time global.\n        // The second (b) is the local Y2K moment in New York, but London is already celebrating for 5 hours.\n        // The third (c) is the local Y2K moment in Sydney, and they started celebrating 15 hours before New York did.\n        // The point here is that each answer is correct because everyone thinks of that moment in terms of \"celebration at midnight\".\n        // The key word here is \"midnight\"! That moment is actually a \"time of day\" moment illustrating our perception of time based on the movement of our Sun.\n\n        // These are global Y2K moments, i.e. the same moment all over the world, UTC/GMT midnight.\n        final String MIDNIGHT_GLOBAL = \"2000-01-01T00:00:00.000-00:00\";\n        final Date milleniumInLondon = londonFormatTZ.parse(MIDNIGHT_GLOBAL);\n        final Date milleniumInNewYork = newYorkFormatTZ.parse(MIDNIGHT_GLOBAL);\n        final Date milleniumInSydney = sydneyFormatTZ.parse(MIDNIGHT_GLOBAL);\n\n        // Check if they all point to the same moment in time.\n        // And that parser ignores its own configured time zone and uses the information from the date-time string.\n        assertThat(milleniumInNewYork, equalTo(milleniumInLondon));\n        assertThat(milleniumInSydney, equalTo(milleniumInLondon));\n\n\n        // These are all local Y2K moments, a.k.a. midnight at each location on Earth, with time zone information.\n        final String MIDNIGHT_LONDON = \"2000-01-01T00:00:00.000-00:00\";\n        final String MIDNIGHT_NEW_YORK = \"2000-01-01T00:00:00.000-05:00\";\n        final String MIDNIGHT_SYDNEY = \"2000-01-01T00:00:00.000+10:00\";\n        final Date midnightInLondonTZ = londonFormatLocal.parse(MIDNIGHT_LONDON);\n        final Date midnightInNewYorkTZ = newYorkFormatLocal.parse(MIDNIGHT_NEW_YORK);\n        final Date midnightInSydneyTZ = sydneyFormatLocal.parse(MIDNIGHT_SYDNEY);\n\n        // Check if they all point to the same moment in time.\n        assertThat(midnightInNewYorkTZ, not(equalTo(midnightInLondonTZ)));\n        assertThat(midnightInSydneyTZ, not(equalTo(midnightInLondonTZ)));\n\n        // Check if the time zone offset is correct.\n        assertThat(midnightInLondonTZ.getTime() - midnightInNewYorkTZ.getTime(),\n                equalTo((long) newYorkTimeZone.getOffset(milleniumInLondon.getTime())));\n        assertThat(midnightInLondonTZ.getTime() - midnightInSydneyTZ.getTime(),\n                equalTo((long) sydneyTimeZone.getOffset(milleniumInLondon.getTime())));\n\n\n        // These are also local Y2K moments, just withouth the time zone information.\n        final String MIDNIGHT_ANYWHERE = \"2000-01-01T00:00:00.000\";\n        final Date midnightInLondon = londonFormatLocal.parse(MIDNIGHT_ANYWHERE);\n        final Date midnightInNewYork = newYorkFormatLocal.parse(MIDNIGHT_ANYWHERE);\n        final Date midnightInSydney = sydneyFormatLocal.parse(MIDNIGHT_ANYWHERE);\n\n        // Check if these are the same as the local moments with time zone information.\n        assertThat(midnightInLondon, equalTo(midnightInLondonTZ));\n        assertThat(midnightInNewYork, equalTo(midnightInNewYorkTZ));\n        assertThat(midnightInSydney, equalTo(midnightInSydneyTZ));\n\n        // Check if they all point to the same moment in time.\n        assertThat(midnightInNewYork, not(equalTo(midnightInLondon)));\n        assertThat(midnightInSydney, not(equalTo(midnightInLondon)));\n\n        // Check if the time zone offset is correct.\n        assertThat(midnightInLondon.getTime() - midnightInNewYork.getTime(),\n                equalTo((long) newYorkTimeZone.getOffset(milleniumInLondon.getTime())));\n        assertThat(midnightInLondon.getTime() - midnightInSydney.getTime(),\n                equalTo((long) sydneyTimeZone.getOffset(milleniumInLondon.getTime())));\n\n\n        // Final check - if Y2K moment is in London ..\n        final String Y2K_LONDON = \"2000-01-01T00:00:00.000Z\";\n        // .. New York local time would be still 5 hours in 1999 ..\n        final String Y2K_NEW_YORK = \"1999-12-31T19:00:00.000-05:00\";\n        // .. and Sydney local time would be 10 hours in 2000.\n        final String Y2K_SYDNEY = \"2000-01-01T10:00:00.000+10:00\";\n\n        final String londonTime = londonFormatTZ.format(milleniumInLondon);\n        final String newYorkTime = newYorkFormatTZ.format(milleniumInLondon);\n        final String sydneyTime = sydneyFormatTZ.format(milleniumInLondon);\n\n        // WHat do you think, will the test pass?\n        assertThat(londonTime, equalTo(Y2K_LONDON));\n        assertThat(newYorkTime, equalTo(Y2K_NEW_YORK));\n        assertThat(sydneyTime, equalTo(Y2K_SYDNEY));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1993660,"reputation":1295,"user_id":1787081,"accept_rate":53,"display_name":"oko"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1659098590,"creation_date":1365979792,"answer_id":16005279,"question_id":15994450,"body_markdown":"Actually this is not a  duplicate question. And this how i solve my problem after several times :\r\n\r\n    int offset = DateTimeZone.forID(&quot;anytimezone&quot;).getOffset(new DateTime());\r\n\r\nThis is the way to get offset from desired timezone. \r\n\r\nLet&#39;s return to our code, we were getting timestamp from a result set of query, and using it with timezone to create our datetime. \r\n\r\n    DateTime dt = new DateTime(rs.getTimestamp(&quot;anytimestampcolumn&quot;),\r\n                             DateTimeZone.forID(&quot;anytimezone&quot;));\r\n\r\nNow we will add our offset to the datetime, and get the timestamp from it.\r\n\r\n    dt = dt.plusMillis(offset);\r\n    Timestamp ts = new Timestamp(dt.getMillis());\r\n\r\nMay be this is not the actual way to get it, but it solves my case. I hope it helps anyone who is stuck here.","title":"Joda DateTime to Timestamp conversion","body":"<p>Actually this is not a  duplicate question. And this how i solve my problem after several times :</p>\n<pre><code>int offset = DateTimeZone.forID(&quot;anytimezone&quot;).getOffset(new DateTime());\n</code></pre>\n<p>This is the way to get offset from desired timezone.</p>\n<p>Let's return to our code, we were getting timestamp from a result set of query, and using it with timezone to create our datetime.</p>\n<pre><code>DateTime dt = new DateTime(rs.getTimestamp(&quot;anytimestampcolumn&quot;),\n                         DateTimeZone.forID(&quot;anytimezone&quot;));\n</code></pre>\n<p>Now we will add our offset to the datetime, and get the timestamp from it.</p>\n<pre><code>dt = dt.plusMillis(offset);\nTimestamp ts = new Timestamp(dt.getMillis());\n</code></pre>\n<p>May be this is not the actual way to get it, but it solves my case. I hope it helps anyone who is stuck here.</p>\n"},{"tags":[],"owner":{"account_id":900262,"reputation":720,"user_id":936586,"display_name":"Marco Fantasia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399979435,"creation_date":1399979435,"answer_id":23629607,"question_id":15994450,"body_markdown":"I&#39;ve solved this problem in this way.\r\n\r\n    String dateUTC = rs.getString(&quot;date&quot;); //UTC\r\n    DateTime date;\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;).withZoneUTC();\r\n    date = dateTimeFormatter.parseDateTime(dateUTC);\r\n\r\nIn this way you ignore the server TimeZone forcing your chosen TimeZone.","title":"Joda DateTime to Timestamp conversion","body":"<p>I've solved this problem in this way.</p>\n\n<pre><code>String dateUTC = rs.getString(\"date\"); //UTC\nDateTime date;\nDateTimeFormatter dateTimeFormatter = DateTimeFormat.forPattern(\"yyyy-MM-dd HH:mm:ss.SSS\").withZoneUTC();\ndate = dateTimeFormatter.parseDateTime(dateUTC);\n</code></pre>\n\n<p>In this way you ignore the server TimeZone forcing your chosen TimeZone.</p>\n"},{"tags":[],"owner":{"account_id":4561403,"reputation":71,"user_id":3703641,"display_name":"Amayda Bania"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1403890708,"creation_date":1403890708,"answer_id":24457775,"question_id":15994450,"body_markdown":"    //This Works just fine\r\n    DateTime dt = new DateTime();\r\n    Log.d(&quot;ts&quot;,String.valueOf(dt.now()));\t\t\t\t\r\n    dt=dt.plusYears(3);\r\n    dt=dt.minusDays(7);\r\n    Log.d(&quot;JODA DateTime&quot;,String.valueOf(dt));\r\n    Timestamp ts= new Timestamp(dt.getMillis());\r\n    Log.d(&quot;Coverted to java.sql.Timestamp&quot;,String.valueOf(ts));","title":"Joda DateTime to Timestamp conversion","body":"<pre><code>//This Works just fine\nDateTime dt = new DateTime();\nLog.d(\"ts\",String.valueOf(dt.now()));               \ndt=dt.plusYears(3);\ndt=dt.minusDays(7);\nLog.d(\"JODA DateTime\",String.valueOf(dt));\nTimestamp ts= new Timestamp(dt.getMillis());\nLog.d(\"Coverted to java.sql.Timestamp\",String.valueOf(ts));\n</code></pre>\n"}],"owner":{"account_id":1993660,"reputation":1295,"user_id":1787081,"accept_rate":53,"display_name":"oko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119084,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":16005279,"answer_count":4,"score":42,"last_activity_date":1659098685,"creation_date":1365899604,"question_id":15994450,"body_markdown":"I am trying to change the value of `Timestamp` by `DateTimeZone` in *Joda* :\r\n\r\n    DateTime dt = new DateTime(rs.getTimestamp(&quot;anytimestampcolumn&quot;),\r\n                                 DateTimeZone.forID(&quot;anytimezone&quot;));\r\n    Timestamp ts = new Timestamp(dt.getMillis());\r\n\r\n- For `DateTime`, value is    : `2013-04-13T22:56:27.000+03:00`\r\n\r\n- For `TimeStamp`, value is : `2013-04-13 22:56:27.0`\r\n\r\n\r\n`Timestamp` is coming without timezone difference. \r\n\r\n*How can I get the correct Timestamp with TimeZone ?* \r\nFor example I want to get  &quot;2013-05-13 01:56:27.0&quot;.\r\n\r\n**Edit :** using *MySQL*, column type is `TIMESTAMP` of course, `rs` is `ResultSet`.","title":"Joda DateTime to Timestamp conversion","body":"<p>I am trying to change the value of <code>Timestamp</code> by <code>DateTimeZone</code> in <em>Joda</em> :</p>\n<pre><code>DateTime dt = new DateTime(rs.getTimestamp(&quot;anytimestampcolumn&quot;),\n                             DateTimeZone.forID(&quot;anytimezone&quot;));\nTimestamp ts = new Timestamp(dt.getMillis());\n</code></pre>\n<ul>\n<li><p>For <code>DateTime</code>, value is    : <code>2013-04-13T22:56:27.000+03:00</code></p>\n</li>\n<li><p>For <code>TimeStamp</code>, value is : <code>2013-04-13 22:56:27.0</code></p>\n</li>\n</ul>\n<p><code>Timestamp</code> is coming without timezone difference.</p>\n<p><em>How can I get the correct Timestamp with TimeZone ?</em>\nFor example I want to get  &quot;2013-05-13 01:56:27.0&quot;.</p>\n<p><strong>Edit :</strong> using <em>MySQL</em>, column type is <code>TIMESTAMP</code> of course, <code>rs</code> is <code>ResultSet</code>.</p>\n"},{"tags":["java","netty","java-17"],"answers":[{"tags":[],"owner":{"account_id":793512,"reputation":788,"user_id":900699,"accept_rate":17,"display_name":"Graham Seed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659098633,"creation_date":1659098633,"answer_id":73166952,"question_id":72217535,"body_markdown":"It&#39;s because the io.netty jars are not modules. If you peek inside them using something like 7-zip you won&#39;t see a module-info.class file. Yet, the &quot;requires&quot; is expecting these to be modules. ","title":"Netty not working with Java 17 modular JDK","body":"<p>It's because the io.netty jars are not modules. If you peek inside them using something like 7-zip you won't see a module-info.class file. Yet, the &quot;requires&quot; is expecting these to be modules.</p>\n"}],"owner":{"account_id":9499487,"reputation":1,"user_id":7061193,"display_name":"Anand Muley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659098633,"creation_date":1652366024,"question_id":72217535,"body_markdown":"Split package issue for Netty with JDK 17. It is unmodularlized jar which I am trying to include in my modularized project. I added a module-info.java then included below requires\r\n\r\n```\r\nmodule mycustommodule {\r\n    requires io.netty.buffer;\r\n    requires io.netty.transport;\r\n}\r\n```\r\n\r\n```\r\nerror: the unnamed module reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.all reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.dns reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.haproxy reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.http reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.http2 reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.memcache reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.mqtt reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.redis reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.smtp reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.socks reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.stomp reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.codec.xml reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.common reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.handler reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.handler.proxy reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.resolver reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.resolver.dns reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.transport.rxtx reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.transport.sctp reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.transport.udt reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.transport.classes.epoll reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.transport.unix.common reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.transport.classes.kqueue reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.resolver.dns.classes.macos reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.transport reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\nerror: module io.netty.buffer reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\r\n```","title":"Netty not working with Java 17 modular JDK","body":"<p>Split package issue for Netty with JDK 17. It is unmodularlized jar which I am trying to include in my modularized project. I added a module-info.java then included below requires</p>\n<pre><code>module mycustommodule {\n    requires io.netty.buffer;\n    requires io.netty.transport;\n}\n</code></pre>\n<pre><code>error: the unnamed module reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.all reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.dns reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.haproxy reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.http reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.http2 reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.memcache reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.mqtt reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.redis reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.smtp reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.socks reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.stomp reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.codec.xml reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.common reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.handler reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.handler.proxy reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.resolver reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.resolver.dns reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.transport.rxtx reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.transport.sctp reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.transport.udt reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.transport.classes.epoll reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.transport.unix.common reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.transport.classes.kqueue reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.resolver.dns.classes.macos reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.transport reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\nerror: module io.netty.buffer reads package io.netty.handler.codec.xml from both io.netty.codec.xml and io.netty.codec\n</code></pre>\n"},{"tags":["java","scala","intellij-idea","performance-testing","gatling"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1659082587,"post_id":73163508,"comment_id":129215349,"body_markdown":"Seems execution command doesn&#39;t escape path properly, so &quot;Files\\Eclipse&quot; is treated as a separate parameter","body":"Seems execution command doesn&#39;t escape path properly, so &quot;Files\\Eclipse&quot; is treated as a separate parameter"},{"owner":{"account_id":25924043,"reputation":1,"user_id":19646154,"display_name":"kumar2121"},"score":0,"creation_date":1659086840,"post_id":73163508,"comment_id":129216832,"body_markdown":"thanks a lot, I changed the java installation path its working fine.","body":"thanks a lot, I changed the java installation path its working fine."}],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659083886,"creation_date":1659083886,"answer_id":73163855,"question_id":73163508,"body_markdown":"This plugin has been deprecated for quite some time and replaced with the official gatling-gradle plugin, see  https://gatling.io/docs/gatling/reference/current/extensions/gradle_plugin/","title":"Error: Could not find or load main class Files\\Eclipse Caused by: java.lang.ClassNotFoundException: Files\\Eclipse","body":"<p>This plugin has been deprecated for quite some time and replaced with the official gatling-gradle plugin, see  <a href=\"https://gatling.io/docs/gatling/reference/current/extensions/gradle_plugin/\" rel=\"nofollow noreferrer\">https://gatling.io/docs/gatling/reference/current/extensions/gradle_plugin/</a></p>\n"}],"owner":{"account_id":25924043,"reputation":1,"user_id":19646154,"display_name":"kumar2121"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659098461,"creation_date":1659081934,"question_id":73163508,"body_markdown":"I am running gateling project on gradle.\r\nUsing **Java 1.11**, (openjdk)\r\nGradle **6.8**, \r\nScala **2.12.8**,\r\n\r\nbuidl.gradle : \r\n\r\n    plugins {\r\n        id &quot;com.github.lkishalmi.gatling&quot; version &quot;3.3.4&quot;\r\n    }\r\n    \r\n    repositories {\r\n        jcenter()\r\n    }\r\n\r\n\r\n\r\nProject structure :\r\n\r\n![1]\r\n\r\nWhile running with ./gradlew clean build gatlingRun-$1 getting below error \r\n\r\nSuccessfully started process &#39;command &#39;C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.14.101-hotspot\\bin\\java.exe&#39;&#39;\r\n\r\n**Error: Could not find or load main class Files\\Eclipse\r\nCaused by: java.lang.ClassNotFoundException: Files\\Eclipse**\r\n\r\nany help please. thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/luXsK.png","title":"Error: Could not find or load main class Files\\Eclipse Caused by: java.lang.ClassNotFoundException: Files\\Eclipse","body":"<p>I am running gateling project on gradle.\nUsing <strong>Java 1.11</strong>, (openjdk)\nGradle <strong>6.8</strong>,\nScala <strong>2.12.8</strong>,</p>\n<p>buidl.gradle :</p>\n<pre><code>plugins {\n    id &quot;com.github.lkishalmi.gatling&quot; version &quot;3.3.4&quot;\n}\n\nrepositories {\n    jcenter()\n}\n</code></pre>\n<p>Project structure :</p>\n<p><img src=\"https://i.stack.imgur.com/luXsK.png\" alt=\"1\" /></p>\n<p>While running with ./gradlew clean build gatlingRun-$1 getting below error</p>\n<p>Successfully started process 'command 'C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.14.101-hotspot\\bin\\java.exe''</p>\n<p><strong>Error: Could not find or load main class Files\\Eclipse\nCaused by: java.lang.ClassNotFoundException: Files\\Eclipse</strong></p>\n<p>any help please. thanks in advance.</p>\n"},{"tags":["java","mongodb","morphia"],"answers":[{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659097978,"creation_date":1505339986,"answer_id":46207459,"question_id":46206934,"body_markdown":"Use `criteria` with `add` method\r\n\r\nSomething like\r\n\r\n```java\r\nQuery&lt;Event&gt; query = datastore.find(Event.class);\r\nquery.criteria(&quot;date&quot;).greaterThanOrEq(startDate).add(query.criteria(&quot;date&quot;).lessThan(endDate));\r\n```","title":"Morphia query date range","body":"<p>Use <code>criteria</code> with <code>add</code> method</p>\n<p>Something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query&lt;Event&gt; query = datastore.find(Event.class);\nquery.criteria(&quot;date&quot;).greaterThanOrEq(startDate).add(query.criteria(&quot;date&quot;).lessThan(endDate));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3751688,"reputation":23,"user_id":3119066,"display_name":"Nazmul Naim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548940968,"creation_date":1508976732,"answer_id":46943888,"question_id":46206934,"body_markdown":"You need to create a query then add date range condition like followed.\r\n\r\n\tQuery&lt;Event&gt; queryForEvent = ds.createQuery(Event.class);\r\n\tqueryForEvent.field(&quot;date&quot;).greaterThanOrEq(startDate);\r\n\tqueryForEvent.field(&quot;date&quot;).lessThan(endDate);\r\n\tList&lt;Event&gt; eventList = queryForEvent.asList();\r\n\r\nHoping you will find it useful.\r\n","title":"Morphia query date range","body":"<p>You need to create a query then add date range condition like followed.</p>\n\n<pre><code>Query&lt;Event&gt; queryForEvent = ds.createQuery(Event.class);\nqueryForEvent.field(\"date\").greaterThanOrEq(startDate);\nqueryForEvent.field(\"date\").lessThan(endDate);\nList&lt;Event&gt; eventList = queryForEvent.asList();\n</code></pre>\n\n<p>Hoping you will find it useful.</p>\n"}],"owner":{"account_id":3322605,"reputation":751,"user_id":2793390,"accept_rate":25,"display_name":"user2793390"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46207459,"answer_count":2,"score":1,"last_activity_date":1659097978,"creation_date":1505337251,"question_id":46206934,"body_markdown":"What is the equivalent of the following Mongo query in Morphia?\r\n\r\n    db.events.find({ &quot;date&quot;: { $gte: ISODate(&quot;2001-01-01&quot;) , $lt: ISODate(&quot;2001-01-02&quot;)} })\r\n\r\nCurrently I have the following code\r\n\r\n    Query&lt;Event&gt; query = dataStore.find(Event.class);\r\n    query.field(&quot;date&quot;).greaterThanOrEq(startDate).field(&quot;date&quot;).lessThan(endDate);\r\n\r\nbut it results in the following Mongo query\r\n\r\n    { &quot;$and&quot; : [ { &quot;date&quot; : { &quot;$gte&quot; : { &quot;$date&quot; : &quot;2001-01-01T00:00:00.000Z&quot;}}} , { &quot;date&quot; : { &quot;$lt&quot; : { &quot;$date&quot; : &quot;2001-01-02T00:00:00.000Z&quot;}}}]}\r\n\r\nI suppose the end result is the same, but the resulting query is more verbose.","title":"Morphia query date range","body":"<p>What is the equivalent of the following Mongo query in Morphia?</p>\n\n<pre><code>db.events.find({ \"date\": { $gte: ISODate(\"2001-01-01\") , $lt: ISODate(\"2001-01-02\")} })\n</code></pre>\n\n<p>Currently I have the following code</p>\n\n<pre><code>Query&lt;Event&gt; query = dataStore.find(Event.class);\nquery.field(\"date\").greaterThanOrEq(startDate).field(\"date\").lessThan(endDate);\n</code></pre>\n\n<p>but it results in the following Mongo query</p>\n\n<pre><code>{ \"$and\" : [ { \"date\" : { \"$gte\" : { \"$date\" : \"2001-01-01T00:00:00.000Z\"}}} , { \"date\" : { \"$lt\" : { \"$date\" : \"2001-01-02T00:00:00.000Z\"}}}]}\n</code></pre>\n\n<p>I suppose the end result is the same, but the resulting query is more verbose.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-filter"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659038509,"post_id":73158146,"comment_id":129206921,"body_markdown":"here is the complete filter list https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-security-filters and you use the function `httpSecurity.addFilterAfter` https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#addFilterAfter(javax.servlet.Filter,java.lang.Class) after the last one","body":"here is the complete filter list <a href=\"https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-security-filters\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/&hellip;</a> and you use the function <code>httpSecurity.addFilterAfter</code> <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#addFilterAfter(javax.servlet.Filter,java.lang.Class)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/api/org/&hellip;</a> after the last one"},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1659039276,"post_id":73158146,"comment_id":129207190,"body_markdown":"You mean...I need to use Spring Security to configure the ordering of **non-security** filters? That doesn&#39;t make sense! What would I use to configure filter order if I wasn&#39;t using Spring Security?!","body":"You mean...I need to use Spring Security to configure the ordering of <b>non-security</b> filters? That doesn&#39;t make sense! What would I use to configure filter order if I wasn&#39;t using Spring Security?!"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659041615,"post_id":73158146,"comment_id":129207883,"body_markdown":"Then you would use what is proposed as the answer","body":"Then you would use what is proposed as the answer"},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1659042474,"post_id":73158146,"comment_id":129208077,"body_markdown":"Thanks, that answer is close but still not quite what I&#39;m looking for, please see my comment under that question -- I have the same question for you!","body":"Thanks, that answer is close but still not quite what I&#39;m looking for, please see my comment under that question -- I have the same question for you!"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659052463,"post_id":73158146,"comment_id":129210087,"body_markdown":"why not just read the documentation https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html that he so kindly linked in his answer?","body":"why not just read the documentation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> that he so kindly linked in his answer?"},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":1,"creation_date":1659058458,"post_id":73158146,"comment_id":129210757,"body_markdown":"Because that documentation doesn&#39;t tell me how to avoid ordering collisions with Spring Security filters. I feel like you are rushing through this question and not actually reading it. I have Spring Security filters. I have non-security filters. That have nothing to do with Spring Security. But I need them invoked after the Spring Security filters have a chance to process requests. And I need them to not &quot;collide&quot; with Spring Security filters (by _collide_ I mean: I need to configure them such that they always run after Spring Security filters run). I don&#39;t know how else to say this.","body":"Because that documentation doesn&#39;t tell me how to avoid ordering collisions with Spring Security filters. I feel like you are rushing through this question and not actually reading it. I have Spring Security filters. I have non-security filters. That have nothing to do with Spring Security. But I need them invoked after the Spring Security filters have a chance to process requests. And I need them to not &quot;collide&quot; with Spring Security filters (by <i>collide</i> I mean: I need to configure them such that they always run after Spring Security filters run). I don&#39;t know how else to say this."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659085613,"post_id":73158146,"comment_id":129216377,"body_markdown":"Do you have ordering collisions? Show me code where you have ordering collisions. I expect you to read the docs and then experiment and try for yourself. And we have given you the answer, you either use my way or you use order. And we answer questions for free in our spare time. Remember that, good luck with you problem","body":"Do you have ordering collisions? Show me code where you have ordering collisions. I expect you to read the docs and then experiment and try for yourself. And we have given you the answer, you either use my way or you use order. And we answer questions for free in our spare time. Remember that, good luck with you problem"},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":1,"creation_date":1659097222,"post_id":73158146,"comment_id":129220513,"body_markdown":"The user whose answer I accepted answered my question. Your method required me to use Spring Security to configure non-security filters, which was not acceptable.  Had I randomly chosen an `@Order` value of `100` then I would have had issues/collisions with Spring Security, at the accepted answer has now steered me clear of that. Also, offering someone a grilled cheese when they state they need a PB&amp;J doesn&#39;t help them, at all.","body":"The user whose answer I accepted answered my question. Your method required me to use Spring Security to configure non-security filters, which was not acceptable.  Had I randomly chosen an <code>@Order</code> value of <code>100</code> then I would have had issues/collisions with Spring Security, at the accepted answer has now steered me clear of that. Also, offering someone a grilled cheese when they state they need a PB&amp;J doesn&#39;t help them, at all."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659109919,"post_id":73158146,"comment_id":129222742,"body_markdown":"Remember we answer for free. Never forget that. Good luck","body":"Remember we answer for free. Never forget that. Good luck"}],"answers":[{"tags":[],"owner":{"account_id":6753077,"reputation":1639,"user_id":5202500,"accept_rate":83,"display_name":"eparvan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659097956,"creation_date":1659039620,"answer_id":73158745,"question_id":73158146,"body_markdown":"You may set order of filter using [@Order](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html) annotation. It has default value `Integer.MAX_VALUE` this way your filter will be executed last(lower values have higher priority). Here is an example:\r\n```\r\n@Order\r\n@Component\r\npublic class TestFilter implements Filter {\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n}\r\n\r\n```\r\n\r\nSpring Security is a single physical `Filter` but delegates processing to a chain of internal filters such as: SecurityContextPersistenceFilter, RememberMeAuthenticationFilter, AnonymousAuthenticationFilter, etc. The security filter is installed at a position defined by [SecurityProperties.DEFAULT_FILTER_ORDER](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/security/SecurityProperties.html#DEFAULT_FILTER_ORDER) which is set to `-100`. So any filter with order higher than `-100` will be executed after FilterChainProxy (concrete class of spring security filter) \r\n\r\nFor example:\r\n```\r\n@Order(SecurityProperties.DEFAULT_FILTER_ORDER-1)\r\n@Component\r\npublic class BeforeSecurityFilter implements Filter\r\n```\r\nWill be executed before security filter and:\r\n\r\n```\r\n@Order(SecurityProperties.DEFAULT_FILTER_ORDER+1)\r\n@Component\r\npublic class AfterSecurityFilter implements Filter\r\n```\r\nWill be executed after security filter","title":"Controlling the order of non-security Filters in a Spring Boot app using Spring Security","body":"<p>You may set order of filter using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/Order.html\" rel=\"nofollow noreferrer\">@Order</a> annotation. It has default value <code>Integer.MAX_VALUE</code> this way your filter will be executed last(lower values have higher priority). Here is an example:</p>\n<pre><code>@Order\n@Component\npublic class TestFilter implements Filter {\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n}\n\n</code></pre>\n<p>Spring Security is a single physical <code>Filter</code> but delegates processing to a chain of internal filters such as: SecurityContextPersistenceFilter, RememberMeAuthenticationFilter, AnonymousAuthenticationFilter, etc. The security filter is installed at a position defined by <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/security/SecurityProperties.html#DEFAULT_FILTER_ORDER\" rel=\"nofollow noreferrer\">SecurityProperties.DEFAULT_FILTER_ORDER</a> which is set to <code>-100</code>. So any filter with order higher than <code>-100</code> will be executed after FilterChainProxy (concrete class of spring security filter)</p>\n<p>For example:</p>\n<pre><code>@Order(SecurityProperties.DEFAULT_FILTER_ORDER-1)\n@Component\npublic class BeforeSecurityFilter implements Filter\n</code></pre>\n<p>Will be executed before security filter and:</p>\n<pre><code>@Order(SecurityProperties.DEFAULT_FILTER_ORDER+1)\n@Component\npublic class AfterSecurityFilter implements Filter\n</code></pre>\n<p>Will be executed after security filter</p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1629,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73158745,"answer_count":1,"score":1,"last_activity_date":1659097956,"creation_date":1659035839,"question_id":73158146,"body_markdown":"Java + Spring Boot here. I am building a RESTful web service that uses Spring Security for authentication/authorization.\r\n\r\nSpring Security ships with a vast array of its own flexible and configurable Filters. My service has a need to define several of its own Filters, however:\r\n- they have absolutely **nothing** to do with security, and as such, shouldn&#39;t require any configuration within Spring Security&#39;s API; and\r\n- I do want them to be invoked _after_ Spring Security has already allowed requests through all of its own security Filters; meaning these &quot;non-security&quot; Filters only get invoked if Spring Security has allowed the request through, ahead of time\r\n\r\nI see [this answer](https://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works) as well as [this one](https://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works) but these both involve configuring _other_ custom security Filters to work with Spring Security&#39;s built-in Filters. How can I configure Spring Boot to &quot;position&quot; my non-security Filters &quot;after&quot; (further down the filter chain) from Spring Security? And how can I control the order of those Filters once I do?","title":"Controlling the order of non-security Filters in a Spring Boot app using Spring Security","body":"<p>Java + Spring Boot here. I am building a RESTful web service that uses Spring Security for authentication/authorization.</p>\n<p>Spring Security ships with a vast array of its own flexible and configurable Filters. My service has a need to define several of its own Filters, however:</p>\n<ul>\n<li>they have absolutely <strong>nothing</strong> to do with security, and as such, shouldn't require any configuration within Spring Security's API; and</li>\n<li>I do want them to be invoked <em>after</em> Spring Security has already allowed requests through all of its own security Filters; meaning these &quot;non-security&quot; Filters only get invoked if Spring Security has allowed the request through, ahead of time</li>\n</ul>\n<p>I see <a href=\"https://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works\">this answer</a> as well as <a href=\"https://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works\">this one</a> but these both involve configuring <em>other</em> custom security Filters to work with Spring Security's built-in Filters. How can I configure Spring Boot to &quot;position&quot; my non-security Filters &quot;after&quot; (further down the filter chain) from Spring Security? And how can I control the order of those Filters once I do?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1659097750,"post_id":73166698,"comment_id":129220716,"body_markdown":"`View mapview` -- you did not the `android.view.View` class. So, your custom method is not available on a `View` variable.","body":"<code>View mapview</code> -- you did not the <code>android.view.View</code> class. So, your custom method is not available on a <code>View</code> variable."}],"answers":[{"tags":[],"owner":{"account_id":12003478,"reputation":138,"user_id":8782497,"display_name":"Usman Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659097790,"creation_date":1659097790,"answer_id":73166768,"question_id":73166698,"body_markdown":"You are using View object for MapView\r\n\r\n    View mapview = findViewById(R.id.mapview); \r\n\r\nChange this to :\r\n\r\n    MapView mapview = findViewById(R.id.mapview);","title":"How to use custom listener without new?","body":"<p>You are using View object for MapView</p>\n<pre><code>View mapview = findViewById(R.id.mapview); \n</code></pre>\n<p>Change this to :</p>\n<pre><code>MapView mapview = findViewById(R.id.mapview);\n</code></pre>\n"}],"owner":{"account_id":25926052,"reputation":31,"user_id":19647908,"display_name":"Rakinert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73166768,"answer_count":1,"score":0,"last_activity_date":1659097790,"creation_date":1659097448,"question_id":73166698,"body_markdown":"I want to pass some signal to activity from my custom view. I use some code from the web, but most of them new a view to override some functions. I already have a view in my activity, so I findViewById it, but don&#39;t know why it&#39;s not work.\r\n\r\nThis is my view code\r\n\r\n    public class MapView extends View {\r\n\r\n    public interface MyCustomObjectListener {\r\n        public void onObjectReady(String title);\r\n        public void onDataLoaded();\r\n    }\r\n\r\n    private MyCustomObjectListener listener;\r\n\r\n    public void setCustomObjectListener(MyCustomObjectListener listener) {\r\n        this.listener = listener;\r\n    }\r\n    //... some code\r\n\r\nand this is my activity code\r\n```\r\n        View mapview = findViewById(R.id.mapview); // &lt;---- error\r\n        mapview.setCustomObjectListener(new MapView.MyCustomObjectListener(){\r\n            @Override\r\n            public void onObjectReady(String title) {\r\n            }\r\n            @Override\r\n            public void onDataLoaded() {\r\n            }\r\n        });\r\n\r\n        MapView mpview = new MapView(this,null);\r\n        mpview.setCustomObjectListener(new MapView.MyCustomObjectListener(){\r\n            @Override\r\n            public void onObjectReady(String title) {\r\n            }\r\n            @Override\r\n            public void onDataLoaded() {\r\n            }\r\n        });\r\n```\r\nthe error message\r\n```\r\nerror: cannot find symbol\r\n        mapview.setCustomObjectListener(new MapView.MyCustomObjectListener(){\r\n               ^\r\n  symbol:   method setCustomObjectListener(&lt;anonymous MyCustomObjectListener&gt;)\r\n  location: variable mapview of type View\r\n```\r\n","title":"How to use custom listener without new?","body":"<p>I want to pass some signal to activity from my custom view. I use some code from the web, but most of them new a view to override some functions. I already have a view in my activity, so I findViewById it, but don't know why it's not work.</p>\n<p>This is my view code</p>\n<pre><code>public class MapView extends View {\n\npublic interface MyCustomObjectListener {\n    public void onObjectReady(String title);\n    public void onDataLoaded();\n}\n\nprivate MyCustomObjectListener listener;\n\npublic void setCustomObjectListener(MyCustomObjectListener listener) {\n    this.listener = listener;\n}\n//... some code\n</code></pre>\n<p>and this is my activity code</p>\n<pre><code>        View mapview = findViewById(R.id.mapview); // &lt;---- error\n        mapview.setCustomObjectListener(new MapView.MyCustomObjectListener(){\n            @Override\n            public void onObjectReady(String title) {\n            }\n            @Override\n            public void onDataLoaded() {\n            }\n        });\n\n        MapView mpview = new MapView(this,null);\n        mpview.setCustomObjectListener(new MapView.MyCustomObjectListener(){\n            @Override\n            public void onObjectReady(String title) {\n            }\n            @Override\n            public void onDataLoaded() {\n            }\n        });\n</code></pre>\n<p>the error message</p>\n<pre><code>error: cannot find symbol\n        mapview.setCustomObjectListener(new MapView.MyCustomObjectListener(){\n               ^\n  symbol:   method setCustomObjectListener(&lt;anonymous MyCustomObjectListener&gt;)\n  location: variable mapview of type View\n</code></pre>\n"},{"tags":["java","graphics","2d"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1659009638,"post_id":73151536,"comment_id":129196690,"body_markdown":"You can only accelerate operations if the operation (and the current parameters) are supported by the hardware. [This article](https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/java2d001.html) may help. Generally, a technology that has been invented twenty years ago to improve performance on systems of that time may not be as useful on today’s systems. And, well, the results you have shown clearly indicate that your way of measuring is useless.","body":"You can only accelerate operations if the operation (and the current parameters) are supported by the hardware. <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/java2d001.html\" rel=\"nofollow noreferrer\">This article</a> may help. Generally, a technology that has been invented twenty years ago to improve performance on systems of that time may not be as useful on today’s systems. And, well, the results you have shown clearly indicate that your way of measuring is useless."}],"answers":[{"tags":[],"owner":{"account_id":17984956,"reputation":45,"user_id":13070436,"display_name":"bwegrzyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659097740,"creation_date":1659014000,"answer_id":73153581,"question_id":73151536,"body_markdown":"So I messed around with the code a little and got some really interesting results.\r\n\r\nMy performance skyrocketed after changing the transparency mode. Originally I was using Transparency.BITMASK. Now when I switched to Transparency.TRANSLUCENT\r\nI got those results:\r\n\r\n    0.0 ms on average to render a frame\r\n    ~500 FPS\r\nThe results are the same as in the BufferedImage test, whereas I was expecting better performance (~600-700 FPS)\r\n\r\nBut even more interesting is when I switched to Transparency.OPAQUE:\r\n\r\n    1.0 ms on average to render a frame\r\n    ~100 FPS\r\nI thought that performance will be a lot better without any translucent effects, but I was wrong. Now I am really confused by this behaviour\r\n\r\nUPDATE:\r\nI created a different project and added 100000 bouncing balls and it was running butter smooth - 30 FPS! And of course I tried it with BufferedImage... and got the same results. I experimented with different amounts like 300, 1000, 20000, 50000 but everywhere the results were the same. ","title":"Terrible performance with VolatileImage","body":"<p>So I messed around with the code a little and got some really interesting results.</p>\n<p>My performance skyrocketed after changing the transparency mode. Originally I was using Transparency.BITMASK. Now when I switched to Transparency.TRANSLUCENT\nI got those results:</p>\n<pre><code>0.0 ms on average to render a frame\n~500 FPS\n</code></pre>\n<p>The results are the same as in the BufferedImage test, whereas I was expecting better performance (~600-700 FPS)</p>\n<p>But even more interesting is when I switched to Transparency.OPAQUE:</p>\n<pre><code>1.0 ms on average to render a frame\n~100 FPS\n</code></pre>\n<p>I thought that performance will be a lot better without any translucent effects, but I was wrong. Now I am really confused by this behaviour</p>\n<p>UPDATE:\nI created a different project and added 100000 bouncing balls and it was running butter smooth - 30 FPS! And of course I tried it with BufferedImage... and got the same results. I experimented with different amounts like 300, 1000, 20000, 50000 but everywhere the results were the same.</p>\n"}],"owner":{"account_id":17984956,"reputation":45,"user_id":13070436,"display_name":"bwegrzyn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73153581,"answer_count":1,"score":0,"last_activity_date":1659097740,"creation_date":1659005145,"question_id":73151536,"body_markdown":"I recently heard about how awesome VolatileImage&#39;s performance is. I decided to switch from BufferedImage to VolatileImage, but it made things a lot worse.\r\n\r\n    1000 images performance test with BufferedImage:\r\n    0.0 ms on average to render a frame\r\n    ~500 FPS\r\n    \r\n    1000 images performance test with VolatileImage:\r\n    1500.0 ms on average to render a frame - that&#39;s 1.5 seconds!\r\n    &lt;1 FPS\r\n\r\nI am using graphics.drawImage() for all rendering. I watched a tutorial on YouTube and my code was the same, yet still I got terrible performance.\r\n\r\nI found this thread: https://stackoverflow.com/questions/2684123/java-volatileimage-slower-than-bufferedimage and someone in the answers mentioned that it may be due to mixing accelerated and unaccelerated operations. How can I tell which operations are hardware accelerated and which are not? Why isn&#39;t everything accelerated for the best performance?","title":"Terrible performance with VolatileImage","body":"<p>I recently heard about how awesome VolatileImage's performance is. I decided to switch from BufferedImage to VolatileImage, but it made things a lot worse.</p>\n<pre><code>1000 images performance test with BufferedImage:\n0.0 ms on average to render a frame\n~500 FPS\n\n1000 images performance test with VolatileImage:\n1500.0 ms on average to render a frame - that's 1.5 seconds!\n&lt;1 FPS\n</code></pre>\n<p>I am using graphics.drawImage() for all rendering. I watched a tutorial on YouTube and my code was the same, yet still I got terrible performance.</p>\n<p>I found this thread: <a href=\"https://stackoverflow.com/questions/2684123/java-volatileimage-slower-than-bufferedimage\">Java : VolatileImage slower than BufferedImage</a> and someone in the answers mentioned that it may be due to mixing accelerated and unaccelerated operations. How can I tell which operations are hardware accelerated and which are not? Why isn't everything accelerated for the best performance?</p>\n"},{"tags":["java","intellij-idea","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1659091634,"post_id":73165199,"comment_id":129218559,"body_markdown":"Can you provide the example of `response values can change` ?","body":"Can you provide the example of <code>response values can change</code> ?"},{"owner":{"account_id":13449420,"reputation":3,"user_id":9704593,"display_name":"Mert &#231;evik"},"score":0,"creation_date":1659092056,"post_id":73165199,"comment_id":129218702,"body_markdown":"Of course. When i added a new file so totalFileCount will be increase. Actually i need to check all value comes to integer ?","body":"Of course. When i added a new file so totalFileCount will be increase. Actually i need to check all value comes to integer ?"},{"owner":{"account_id":13449420,"reputation":3,"user_id":9704593,"display_name":"Mert &#231;evik"},"score":0,"creation_date":1659092185,"post_id":73165199,"comment_id":129218753,"body_markdown":"And I don&#39;t want to check one by one. My goal is to define and verify the entire response in a single method.","body":"And I don&#39;t want to check one by one. My goal is to define and verify the entire response in a single method."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1659092664,"post_id":73165199,"comment_id":129218922,"body_markdown":"If you just want to validate the Type of value, I suggest use json schema validation.","body":"If you just want to validate the Type of value, I suggest use json schema validation."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659097382,"creation_date":1659097382,"answer_id":73166684,"question_id":73165199,"body_markdown":"The easiest way is to cast your response to a map and match to some predefined map (expected results)\r\n\r\n```java\r\npackage so.http;\r\n\r\nimport io.restassured.RestAssured;\r\nimport java.util.Map;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.Matchers.equalTo;\r\n\r\npublic class RAValidation {\r\n\r\n    static final Map expected = Map.ofEntries(\r\n            Map.entry(&quot;Quota-Bytes&quot;, &quot;5368709120&quot;),\r\n            Map.entry(&quot;Object-Count&quot;, &quot;142&quot;),\r\n            Map.entry(&quot;Bytes-Used&quot;, &quot;12510163&quot;),\r\n            Map.entry(&quot;totalUsage&quot;, 12510163d),\r\n            Map.entry(&quot;imageUsage&quot;, 12510163d),\r\n            Map.entry(&quot;videoUsage&quot;, 0d),\r\n            Map.entry(&quot;audioUsage&quot;, 0d),\r\n            Map.entry(&quot;othersUsage&quot;, 0d),\r\n            Map.entry(&quot;totalFileCount&quot;, 142d),\r\n            Map.entry(&quot;folderCount&quot;, 14d),\r\n            Map.entry(&quot;imageCount&quot;, 142d),\r\n            Map.entry(&quot;videoCount&quot;, 0d),\r\n            Map.entry(&quot;audioCount&quot;, 0d),\r\n            Map.entry(&quot;othersCount&quot;, 0d)\r\n    );\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Integer&gt; observed = RestAssured\r\n                .get(&quot;http://demo1954881.mockable.io/&quot;)\r\n                .as(Map.class);\r\n        assertThat(observed.entrySet(), equalTo(expected.entrySet()));\r\n    }\r\n    \r\n}\r\n```\r\n\r\nNote that JSON number is not segregated by subtypes so it is generally represented by a floating point. So that when you prepare numbers for `expected` set, convert them to `doubles` explicilty.","title":"What is the best way to verify the all response data in restassured?","body":"<p>The easiest way is to cast your response to a map and match to some predefined map (expected results)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package so.http;\n\nimport io.restassured.RestAssured;\nimport java.util.Map;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.equalTo;\n\npublic class RAValidation {\n\n    static final Map expected = Map.ofEntries(\n            Map.entry(&quot;Quota-Bytes&quot;, &quot;5368709120&quot;),\n            Map.entry(&quot;Object-Count&quot;, &quot;142&quot;),\n            Map.entry(&quot;Bytes-Used&quot;, &quot;12510163&quot;),\n            Map.entry(&quot;totalUsage&quot;, 12510163d),\n            Map.entry(&quot;imageUsage&quot;, 12510163d),\n            Map.entry(&quot;videoUsage&quot;, 0d),\n            Map.entry(&quot;audioUsage&quot;, 0d),\n            Map.entry(&quot;othersUsage&quot;, 0d),\n            Map.entry(&quot;totalFileCount&quot;, 142d),\n            Map.entry(&quot;folderCount&quot;, 14d),\n            Map.entry(&quot;imageCount&quot;, 142d),\n            Map.entry(&quot;videoCount&quot;, 0d),\n            Map.entry(&quot;audioCount&quot;, 0d),\n            Map.entry(&quot;othersCount&quot;, 0d)\n    );\n\n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; observed = RestAssured\n                .get(&quot;http://demo1954881.mockable.io/&quot;)\n                .as(Map.class);\n        assertThat(observed.entrySet(), equalTo(expected.entrySet()));\n    }\n    \n}\n</code></pre>\n<p>Note that JSON number is not segregated by subtypes so it is generally represented by a floating point. So that when you prepare numbers for <code>expected</code> set, convert them to <code>doubles</code> explicilty.</p>\n"}],"owner":{"account_id":13449420,"reputation":3,"user_id":9704593,"display_name":"Mert &#231;evik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659097382,"creation_date":1659090181,"question_id":73165199,"body_markdown":"I have a response body as below. So i want to verify all this response. But this response values can change. I think i need to regex and parse json right ? How can i write this ?\r\n\r\n     {\r\n        &quot;Quota-Bytes&quot;: &quot;5368709120&quot;,\r\n        &quot;Object-Count&quot;: &quot;142&quot;,\r\n        &quot;Bytes-Used&quot;: &quot;12510163&quot;,\r\n        &quot;totalUsage&quot;: 12510163,\r\n        &quot;imageUsage&quot;: 12510163,\r\n        &quot;videoUsage&quot;: 0,\r\n        &quot;audioUsage&quot;: 0,\r\n        &quot;othersUsage&quot;: 0,\r\n        &quot;totalFileCount&quot;: 142,\r\n        &quot;folderCount&quot;: 14,\r\n        &quot;imageCount&quot;: 142,\r\n        &quot;videoCount&quot;: 0,\r\n        &quot;audioCount&quot;: 0,\r\n        &quot;othersCount&quot;: 0\r\n     }\r\n\r\nThank you ","title":"What is the best way to verify the all response data in restassured?","body":"<p>I have a response body as below. So i want to verify all this response. But this response values can change. I think i need to regex and parse json right ? How can i write this ?</p>\n<pre><code> {\n    &quot;Quota-Bytes&quot;: &quot;5368709120&quot;,\n    &quot;Object-Count&quot;: &quot;142&quot;,\n    &quot;Bytes-Used&quot;: &quot;12510163&quot;,\n    &quot;totalUsage&quot;: 12510163,\n    &quot;imageUsage&quot;: 12510163,\n    &quot;videoUsage&quot;: 0,\n    &quot;audioUsage&quot;: 0,\n    &quot;othersUsage&quot;: 0,\n    &quot;totalFileCount&quot;: 142,\n    &quot;folderCount&quot;: 14,\n    &quot;imageCount&quot;: 142,\n    &quot;videoCount&quot;: 0,\n    &quot;audioCount&quot;: 0,\n    &quot;othersCount&quot;: 0\n }\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","netty","module-info"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659097310,"creation_date":1659097310,"answer_id":73166664,"question_id":73166474,"body_markdown":"The [Netty GitHub repo][1] README says this: \r\n\r\n    Usage with JDK 9+\r\n    \r\n    Netty can be used in modular JDK9+ applications as a collection of automatic modules. The module names follow the reverse-DNS style, and are derived from subproject names rather than root packages due to historical reasons. They are listed below:\r\n    \r\n    io.netty.all\r\n    io.netty.buffer\r\n    io.netty.codec\r\n    io.netty.codec.dns\r\n    io.netty.codec.haproxy\r\n    io.netty.codec.http\r\n    io.netty.codec.http2\r\n    io.netty.codec.memcache\r\n    io.netty.codec.mqtt\r\n    io.netty.codec.redis\r\n    io.netty.codec.smtp\r\n    io.netty.codec.socks\r\n    io.netty.codec.stomp\r\n    io.netty.codec.xml\r\n    io.netty.common\r\n    io.netty.handler\r\n    io.netty.handler.proxy\r\n    io.netty.resolver\r\n    io.netty.resolver.dns\r\n    io.netty.transport\r\n    io.netty.transport.epoll (native omitted - reserved keyword in Java)\r\n    io.netty.transport.kqueue (native omitted - reserved keyword in Java)\r\n    io.netty.transport.unix.common (native omitted - reserved keyword in Java)\r\n    io.netty.transport.rxtx\r\n    io.netty.transport.sctp\r\n    io.netty.transport.udt\r\n    \r\n    Automatic modules do not provide any means to declare dependencies, so you need to list each used module separately in your module-info file.\r\n\r\n\r\n  [1]: https://github.com/netty/netty\r\n","title":"Module-Info For Netty","body":"<p>The <a href=\"https://github.com/netty/netty\" rel=\"nofollow noreferrer\">Netty GitHub repo</a> README says this:</p>\n<pre><code>Usage with JDK 9+\n\nNetty can be used in modular JDK9+ applications as a collection of automatic modules. The module names follow the reverse-DNS style, and are derived from subproject names rather than root packages due to historical reasons. They are listed below:\n\nio.netty.all\nio.netty.buffer\nio.netty.codec\nio.netty.codec.dns\nio.netty.codec.haproxy\nio.netty.codec.http\nio.netty.codec.http2\nio.netty.codec.memcache\nio.netty.codec.mqtt\nio.netty.codec.redis\nio.netty.codec.smtp\nio.netty.codec.socks\nio.netty.codec.stomp\nio.netty.codec.xml\nio.netty.common\nio.netty.handler\nio.netty.handler.proxy\nio.netty.resolver\nio.netty.resolver.dns\nio.netty.transport\nio.netty.transport.epoll (native omitted - reserved keyword in Java)\nio.netty.transport.kqueue (native omitted - reserved keyword in Java)\nio.netty.transport.unix.common (native omitted - reserved keyword in Java)\nio.netty.transport.rxtx\nio.netty.transport.sctp\nio.netty.transport.udt\n\nAutomatic modules do not provide any means to declare dependencies, so you need to list each used module separately in your module-info file.\n</code></pre>\n"}],"owner":{"account_id":793512,"reputation":788,"user_id":900699,"accept_rate":17,"display_name":"Graham Seed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659097310,"creation_date":1659096443,"question_id":73166474,"body_markdown":"I&#39;m trying to build a project that depends on io.netty, and it&#39;s the one third-party library that doesn&#39;t seem to support Java9+ modules since I don&#39;t see any module-info.class inside the jars.\r\n\r\nWhen I come to run my project I get the error:\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module io.netty.buffer not found, required by ...\r\n\r\nI have seen elsewhere that this can [in theory] be built using jdeps and an alternative third-party Maven plugin, but my question is that I can&#39;t believe I&#39;m the first person to ask if module versions of Netty have been built previously, and if so does anyone know if these pre-built module versions already somewhere out there in the ether.\r\n\r\nAlso, Java9&#39;s modules has been out for a while and why aren&#39;t the developers behind Netty supporting modules?","title":"Module-Info For Netty","body":"<p>I'm trying to build a project that depends on io.netty, and it's the one third-party library that doesn't seem to support Java9+ modules since I don't see any module-info.class inside the jars.</p>\n<p>When I come to run my project I get the error:\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module io.netty.buffer not found, required by ...</p>\n<p>I have seen elsewhere that this can [in theory] be built using jdeps and an alternative third-party Maven plugin, but my question is that I can't believe I'm the first person to ask if module versions of Netty have been built previously, and if so does anyone know if these pre-built module versions already somewhere out there in the ether.</p>\n<p>Also, Java9's modules has been out for a while and why aren't the developers behind Netty supporting modules?</p>\n"},{"tags":["java","android-studio","android-fragments"],"comments":[{"owner":{"account_id":18230881,"reputation":66,"user_id":13269836,"display_name":"suff"},"score":0,"creation_date":1659082434,"post_id":73162182,"comment_id":129215306,"body_markdown":"Exception tells you that your textView variable is null.","body":"Exception tells you that your textView variable is null."}],"answers":[{"tags":[],"owner":{"account_id":21156114,"reputation":28,"user_id":15555347,"display_name":"tzvieli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659079036,"creation_date":1659079036,"answer_id":73162932,"question_id":73162182,"body_markdown":"try using TinyDB it makes using sharedprefrences a lot easier\r\n[TinyDB github documentation][1]\r\n\r\n\r\n  [1]: https://github.com/kcochibili/TinyDB--Android-Shared-Preferences-Turbo","title":"Setting TextView with string variable (storing shared preferences) crashes app","body":"<p>try using TinyDB it makes using sharedprefrences a lot easier\n<a href=\"https://github.com/kcochibili/TinyDB--Android-Shared-Preferences-Turbo\" rel=\"nofollow noreferrer\">TinyDB github documentation</a></p>\n"},{"tags":[],"owner":{"account_id":17480172,"reputation":91,"user_id":12674264,"display_name":"Charles Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659096799,"creation_date":1659096799,"answer_id":73166563,"question_id":73162182,"body_markdown":"Don&#39;t do this. TextView is on a null object reference. \r\n\r\n    textView = getActivity().findViewById(R.id.textView);\r\n\r\nTry this :\r\n\r\n    textView = root.findViewById(R.id.textView);","title":"Setting TextView with string variable (storing shared preferences) crashes app","body":"<p>Don't do this. TextView is on a null object reference.</p>\n<pre><code>textView = getActivity().findViewById(R.id.textView);\n</code></pre>\n<p>Try this :</p>\n<pre><code>textView = root.findViewById(R.id.textView);\n</code></pre>\n"}],"owner":{"account_id":23467776,"reputation":61,"user_id":17521683,"display_name":"EV20"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73166563,"answer_count":2,"score":0,"last_activity_date":1659096799,"creation_date":1659074210,"question_id":73162182,"body_markdown":"I am attempting to store and retrieve data between fragments using SharedPreferences. I am trying to display the stored data in a **TextView** but can only manage to display it in a Toast. When the line &quot;textView.setText(string);&quot; is executed, the app crashes. &quot;string&quot; is a String variable storing the data.\r\n\r\nI have read several threads on this topic but have not been able to figure out my issue yet. If anyone has any ideas as to what I&#39;m doing wrong here, please let me know!\r\n\r\n**Retrieving SharedPreferences:**\r\n\r\n    @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n    \r\n            View root = inflater.inflate(R.layout.file, container, false);\r\n    \r\n            SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\r\n            String string = sharedPreferences.getString(&quot;key&quot;,&quot;&quot;);\r\n            TextView textView;\r\n            textView = getActivity().findViewById(R.id.textView);\r\n\r\n            textView.setText(string);    //&lt;------------ Error occurs here\r\n               //Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n\r\n    //Toast.makeText(getActivity().getApplicationContext(),key,Toast.LENGTH_SHORT).show();  &lt;---- Used for troubleshooting, displays value as intended\r\n\r\n    return root;\r\n    }\r\n\r\n\r\n**Setting SharedPreferences:**\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n    \r\n        sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\r\n        editor = sharedPreferences.edit();\r\n        editor.putString(getString(R.string.checkbox),&quot;True&quot;);\r\n        editor.apply();\r\n        editor.putString(&quot;key&quot;,&quot;Hellooooo&quot;);\r\n        editor.apply();\r\n    }\r\n\r\n\r\n","title":"Setting TextView with string variable (storing shared preferences) crashes app","body":"<p>I am attempting to store and retrieve data between fragments using SharedPreferences. I am trying to display the stored data in a <strong>TextView</strong> but can only manage to display it in a Toast. When the line &quot;textView.setText(string);&quot; is executed, the app crashes. &quot;string&quot; is a String variable storing the data.</p>\n<p>I have read several threads on this topic but have not been able to figure out my issue yet. If anyone has any ideas as to what I'm doing wrong here, please let me know!</p>\n<p><strong>Retrieving SharedPreferences:</strong></p>\n<pre><code>@Override\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        View root = inflater.inflate(R.layout.file, container, false);\n\n        SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\n        String string = sharedPreferences.getString(&quot;key&quot;,&quot;&quot;);\n        TextView textView;\n        textView = getActivity().findViewById(R.id.textView);\n\n        textView.setText(string);    //&lt;------------ Error occurs here\n           //Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n\n//Toast.makeText(getActivity().getApplicationContext(),key,Toast.LENGTH_SHORT).show();  &lt;---- Used for troubleshooting, displays value as intended\n\nreturn root;\n}\n</code></pre>\n<p><strong>Setting SharedPreferences:</strong></p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState){\n    super.onCreate(savedInstanceState);\n    setHasOptionsMenu(true);\n\n    sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getActivity());\n    editor = sharedPreferences.edit();\n    editor.putString(getString(R.string.checkbox),&quot;True&quot;);\n    editor.apply();\n    editor.putString(&quot;key&quot;,&quot;Hellooooo&quot;);\n    editor.apply();\n}\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659094909,"post_id":73166105,"comment_id":129219667,"body_markdown":"Have you tried to debug your code, to see what is going wrong?","body":"Have you tried to debug your code, to see what is going wrong?"},{"owner":{"account_id":15738130,"reputation":55,"user_id":11356458,"display_name":"zeplika"},"score":0,"creation_date":1659095020,"post_id":73166105,"comment_id":129219707,"body_markdown":"@Jens Yes, I can see that the problem appears because I call the discount method in all three activities methods. But, I don&#39;t know of any other way on how I would achieve the desired output.","body":"@Jens Yes, I can see that the problem appears because I call the discount method in all three activities methods. But, I don&#39;t know of any other way on how I would achieve the desired output."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1659095139,"post_id":73166105,"comment_id":129219749,"body_markdown":"I don&#39;t think you can calculate the price &quot;on the go&quot;, as the activities are being done. You have to calculate it in `getTotalPrice`, right? Otherwise the math doesn&#39;t work out.","body":"I don&#39;t think you can calculate the price &quot;on the go&quot;, as the activities are being done. You have to calculate it in <code>getTotalPrice</code>, right? Otherwise the math doesn&#39;t work out."},{"owner":{"account_id":15738130,"reputation":55,"user_id":11356458,"display_name":"zeplika"},"score":0,"creation_date":1659095412,"post_id":73166105,"comment_id":129219842,"body_markdown":"@Sweeper but how? because how would I keep track of the activities added?","body":"@Sweeper but how? because how would I keep track of the activities added?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659095665,"post_id":73166105,"comment_id":129219924,"body_markdown":"hint: think &quot;shopping-cart&quot; :)","body":"hint: think &quot;shopping-cart&quot; :)"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1659096324,"post_id":73166105,"comment_id":129220175,"body_markdown":"Hold on, (10 + 12 + 15) * 0.8 is not 37.6...","body":"Hold on, (10 + 12 + 15) * 0.8 is not 37.6..."},{"owner":{"account_id":15738130,"reputation":55,"user_id":11356458,"display_name":"zeplika"},"score":0,"creation_date":1659096538,"post_id":73166105,"comment_id":129220253,"body_markdown":"@Sweeper yes sorry the expected result is 29.6. I&#39;ll update the question","body":"@Sweeper yes sorry the expected result is 29.6. I&#39;ll update the question"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659096209,"creation_date":1659096209,"answer_id":73166426,"question_id":73166105,"body_markdown":"This will not work if you apply the discounts in each of the activity&#39;s methods. For example, consider the sequence:\r\n\r\n    park.trampoline();\r\n    park.climbWall();\r\n    park.waterSlide();\r\n\r\nAfter `trampoline`, you add 12 to the total price which is initially 0 and apply no discounts. After `climbWall`, you add 12 (=22) and apply 10% discount, and get 19.8. Then after `waterSlide`, you add another 15 (=34.8) and apply a 20% discount, and the result is incorrectly 27.84.\r\n\r\nYou *could* potentially do it this way by &quot;undoing&quot; the discounts with more math, but I find that more counter-intuitive.\r\n\r\nBetter to just keep track of the activities. You can do this easily with an enum.\r\n\r\n```\r\nenum Activity {\r\n\r\n    CLIMB_WALL(10),\r\n    TRAMPOLINE(12), \r\n    WATER_SLIDE(15);\r\n    private final int price;\r\n    \r\n    Activity(int price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public int getPrice() {\r\n        return price;\r\n    }\r\n}\r\n```\r\n\r\nThen you can use a list to record all the activities:\r\n\r\n    // in FunPark\r\n    private List&lt;Activity&gt; activities = new ArrayList&lt;&gt;();\r\n\r\n    public void climbWall() {\r\n        activities.add(Activity.CLIMB_WALL);\r\n    }\r\n\r\n    public void trampoline() {\r\n        activities.add(Activity.TRAMPOLINE);\r\n    }\r\n\r\n    public void waterSlide() {\r\n        activities.add(Activity.WATER_SLIDE);\r\n    }\r\n\r\nThe price can be calculated by iterating through the list:\r\n\r\n    public float getTotalPrice() {\r\n        float total = 0;\r\n        var uniqueActivities = new HashSet&lt;Activity&gt;();\r\n        for (var activity : activities) {\r\n            uniqueActivities.add(activity);\r\n            total += activity.getPrice();\r\n        }\r\n        if (uniqueActivities.size() == 2) {\r\n            total = applyDiscountTo(total, 10);\r\n        } else if (uniqueActivities.size() == 3) {\r\n            total = applyDiscountTo(total, 20);\r\n        }\r\n        return total;\r\n    }","title":"How do I check which java instance method has been called to apply appropriate discount to the property?","body":"<p>This will not work if you apply the discounts in each of the activity's methods. For example, consider the sequence:</p>\n<pre><code>park.trampoline();\npark.climbWall();\npark.waterSlide();\n</code></pre>\n<p>After <code>trampoline</code>, you add 12 to the total price which is initially 0 and apply no discounts. After <code>climbWall</code>, you add 12 (=22) and apply 10% discount, and get 19.8. Then after <code>waterSlide</code>, you add another 15 (=34.8) and apply a 20% discount, and the result is incorrectly 27.84.</p>\n<p>You <em>could</em> potentially do it this way by &quot;undoing&quot; the discounts with more math, but I find that more counter-intuitive.</p>\n<p>Better to just keep track of the activities. You can do this easily with an enum.</p>\n<pre><code>enum Activity {\n\n    CLIMB_WALL(10),\n    TRAMPOLINE(12), \n    WATER_SLIDE(15);\n    private final int price;\n    \n    Activity(int price) {\n        this.price = price;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n}\n</code></pre>\n<p>Then you can use a list to record all the activities:</p>\n<pre><code>// in FunPark\nprivate List&lt;Activity&gt; activities = new ArrayList&lt;&gt;();\n\npublic void climbWall() {\n    activities.add(Activity.CLIMB_WALL);\n}\n\npublic void trampoline() {\n    activities.add(Activity.TRAMPOLINE);\n}\n\npublic void waterSlide() {\n    activities.add(Activity.WATER_SLIDE);\n}\n</code></pre>\n<p>The price can be calculated by iterating through the list:</p>\n<pre><code>public float getTotalPrice() {\n    float total = 0;\n    var uniqueActivities = new HashSet&lt;Activity&gt;();\n    for (var activity : activities) {\n        uniqueActivities.add(activity);\n        total += activity.getPrice();\n    }\n    if (uniqueActivities.size() == 2) {\n        total = applyDiscountTo(total, 10);\n    } else if (uniqueActivities.size() == 3) {\n        total = applyDiscountTo(total, 20);\n    }\n    return total;\n}\n</code></pre>\n"}],"owner":{"account_id":15738130,"reputation":55,"user_id":11356458,"display_name":"zeplika"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73166426,"answer_count":1,"score":1,"last_activity_date":1659096592,"creation_date":1659094697,"question_id":73166105,"body_markdown":"So, basically I have a Funpark class which has 3 activities. If user enrolls in 2 activities, then I want to apply 10% discount on totalPrice and if they apply to all 3 activities, I want to give 20% discount on totalPrice.\r\n\r\nHere is my code for FunPark class:\r\n\r\n    public class FunPark {\r\n        private final int climbWallPrice = 10;\r\n        private final int trampoliningPrice = 12;\r\n        private final int waterSlidesPrice = 15;\r\n    \r\n        public float getTotalPrice() {\r\n            return totalPrice;\r\n        }\r\n    \r\n        private float totalPrice = 0;\r\n    \r\n        private float applyDiscountTo(float applyTo, int discountInPercent) {\r\n    \r\n            float discount = (float) discountInPercent / 100;\r\n            float discountValue = applyTo * discount;\r\n    \r\n            float discountedPrice = applyTo - discountValue;\r\n    \r\n            return discountedPrice;\r\n        }\r\n    \r\n        public void climbWall() {\r\n            if(totalPrice == trampoliningPrice || totalPrice == waterSlidesPrice) {\r\n                totalPrice += climbWallPrice;\r\n                totalPrice = applyDiscountTo(totalPrice, 10);\r\n            }\r\n    \r\n            else if(totalPrice == trampoliningPrice + waterSlidesPrice) {\r\n                totalPrice += climbWallPrice;\r\n                totalPrice = applyDiscountTo(totalPrice, 20);\r\n            }\r\n    \r\n            else {\r\n                totalPrice = climbWallPrice;\r\n            }\r\n        }\r\n    \r\n        public void trampoline() {\r\n            if(totalPrice == climbWallPrice || totalPrice == waterSlidesPrice) {\r\n                totalPrice += trampoliningPrice;\r\n                totalPrice = applyDiscountTo(totalPrice, 10);\r\n            }\r\n    \r\n            else if(totalPrice == climbWallPrice + waterSlidesPrice) {\r\n                totalPrice += trampoliningPrice;\r\n                totalPrice = applyDiscountTo(totalPrice, 20);\r\n            }\r\n    \r\n            else {\r\n                totalPrice = trampoliningPrice;\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        public void waterSlide() {\r\n            if(totalPrice == climbWallPrice || totalPrice == trampoliningPrice) {\r\n                totalPrice += waterSlidesPrice;\r\n                totalPrice = applyDiscountTo(totalPrice, 10);\r\n            }\r\n    \r\n            else if(totalPrice == climbWallPrice + trampoliningPrice) {\r\n                totalPrice += waterSlidesPrice;\r\n                totalPrice = applyDiscountTo(totalPrice, 20);\r\n            }\r\n    \r\n            else {\r\n                totalPrice = waterSlidesPrice;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThe output I get is `15.0`\r\n\r\nBut, my expected result (in this case) is `37.6` (because of course the sum price for all three activities - 20% discount is `29.6`\r\n\r\nHere is my calling code in the main class btw:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n    \r\n            FunPark park = new FunPark();\r\n    \r\n            park.trampoline();\r\n            park.climbWall();\r\n            park.waterSlide();\r\n    \r\n            System.out.println(park.getTotalPrice());\r\n        }\r\n    }\r\n\r\nSo, could anyone please guide me in a direction on how should I go on about achieving the result? Thanks.","title":"How do I check which java instance method has been called to apply appropriate discount to the property?","body":"<p>So, basically I have a Funpark class which has 3 activities. If user enrolls in 2 activities, then I want to apply 10% discount on totalPrice and if they apply to all 3 activities, I want to give 20% discount on totalPrice.</p>\n<p>Here is my code for FunPark class:</p>\n<pre><code>public class FunPark {\n    private final int climbWallPrice = 10;\n    private final int trampoliningPrice = 12;\n    private final int waterSlidesPrice = 15;\n\n    public float getTotalPrice() {\n        return totalPrice;\n    }\n\n    private float totalPrice = 0;\n\n    private float applyDiscountTo(float applyTo, int discountInPercent) {\n\n        float discount = (float) discountInPercent / 100;\n        float discountValue = applyTo * discount;\n\n        float discountedPrice = applyTo - discountValue;\n\n        return discountedPrice;\n    }\n\n    public void climbWall() {\n        if(totalPrice == trampoliningPrice || totalPrice == waterSlidesPrice) {\n            totalPrice += climbWallPrice;\n            totalPrice = applyDiscountTo(totalPrice, 10);\n        }\n\n        else if(totalPrice == trampoliningPrice + waterSlidesPrice) {\n            totalPrice += climbWallPrice;\n            totalPrice = applyDiscountTo(totalPrice, 20);\n        }\n\n        else {\n            totalPrice = climbWallPrice;\n        }\n    }\n\n    public void trampoline() {\n        if(totalPrice == climbWallPrice || totalPrice == waterSlidesPrice) {\n            totalPrice += trampoliningPrice;\n            totalPrice = applyDiscountTo(totalPrice, 10);\n        }\n\n        else if(totalPrice == climbWallPrice + waterSlidesPrice) {\n            totalPrice += trampoliningPrice;\n            totalPrice = applyDiscountTo(totalPrice, 20);\n        }\n\n        else {\n            totalPrice = trampoliningPrice;\n        }\n    }\n\n\n\n    public void waterSlide() {\n        if(totalPrice == climbWallPrice || totalPrice == trampoliningPrice) {\n            totalPrice += waterSlidesPrice;\n            totalPrice = applyDiscountTo(totalPrice, 10);\n        }\n\n        else if(totalPrice == climbWallPrice + trampoliningPrice) {\n            totalPrice += waterSlidesPrice;\n            totalPrice = applyDiscountTo(totalPrice, 20);\n        }\n\n        else {\n            totalPrice = waterSlidesPrice;\n        }\n    }\n\n}\n</code></pre>\n<p>The output I get is <code>15.0</code></p>\n<p>But, my expected result (in this case) is <code>37.6</code> (because of course the sum price for all three activities - 20% discount is <code>29.6</code></p>\n<p>Here is my calling code in the main class btw:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n\n        FunPark park = new FunPark();\n\n        park.trampoline();\n        park.climbWall();\n        park.waterSlide();\n\n        System.out.println(park.getTotalPrice());\n    }\n}\n</code></pre>\n<p>So, could anyone please guide me in a direction on how should I go on about achieving the result? Thanks.</p>\n"},{"tags":["java","mockito","jax-rs","httpurlconnection","powermockito"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1659087273,"post_id":73164473,"comment_id":129216982,"body_markdown":"What do you expect as result? No mocking settings are shown into your example","body":"What do you expect as result? No mocking settings are shown into your example"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1659088172,"post_id":73164473,"comment_id":129217313,"body_markdown":"Are you trying to do a unit test or an integration test?","body":"Are you trying to do a unit test or an integration test?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659095452,"creation_date":1659095452,"answer_id":73166259,"question_id":73164473,"body_markdown":"With your implementation, you cannot mock the `HttpURLConnection`, because this is created in a non-mockable instance of `URL` that is created inside your method with `new URL(OriginalLink);`\r\n\r\nYou would have to create the URL with some kind of factory that you inject into the service, then you can mock that service to provide a mocked URL instance, and that mocked URL instance would have to provide a mocked HttpURLConnection instance.\r\n\r\nOr you extract the part that creates the connection to the URL into an extra method that gets the URL and returns the connected HttpURLConnection. Then you can test that method extra and mock or spy it &quot;away&quot; for the test of the other method.\r\n\r\nSomething like \r\n\r\n```\r\nclass ConnectionService {\r\n  HttpURLConnection openConnection(URL connectTo) {\r\n    HttpURLConnection urlConnection = (HttpURLConnection) connectTo.openConnection();\r\n    urlConnection.setDoOutput(true);\r\n    urlConnection.setRequestMethod(&quot;GET&quot;);\r\n    urlConnection.setUseCaches(false);\r\n    urlConnection.setConnectTimeout(50000);\r\n    urlConnection.setReadTimeout(50000);\r\n    urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    urlConnection.connect();\r\n    return urlConnection;\r\n  }\r\n}\r\n```\r\nAnd in your code then:\r\n```\r\n// get connectionService injected\r\nURL url = new URL(OriginalLink);\r\nHttpURLConnection urlConnection = connectionService.openConnection(url);\r\n```\r\n\r\n","title":"How to mock HttpUrlConnection in JAX-RS","body":"<p>With your implementation, you cannot mock the <code>HttpURLConnection</code>, because this is created in a non-mockable instance of <code>URL</code> that is created inside your method with <code>new URL(OriginalLink);</code></p>\n<p>You would have to create the URL with some kind of factory that you inject into the service, then you can mock that service to provide a mocked URL instance, and that mocked URL instance would have to provide a mocked HttpURLConnection instance.</p>\n<p>Or you extract the part that creates the connection to the URL into an extra method that gets the URL and returns the connected HttpURLConnection. Then you can test that method extra and mock or spy it &quot;away&quot; for the test of the other method.</p>\n<p>Something like</p>\n<pre><code>class ConnectionService {\n  HttpURLConnection openConnection(URL connectTo) {\n    HttpURLConnection urlConnection = (HttpURLConnection) connectTo.openConnection();\n    urlConnection.setDoOutput(true);\n    urlConnection.setRequestMethod(&quot;GET&quot;);\n    urlConnection.setUseCaches(false);\n    urlConnection.setConnectTimeout(50000);\n    urlConnection.setReadTimeout(50000);\n    urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    urlConnection.connect();\n    return urlConnection;\n  }\n}\n</code></pre>\n<p>And in your code then:</p>\n<pre><code>// get connectionService injected\nURL url = new URL(OriginalLink);\nHttpURLConnection urlConnection = connectionService.openConnection(url);\n</code></pre>\n"}],"owner":{"account_id":23611327,"reputation":9,"user_id":17646293,"display_name":"Achu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659096409,"creation_date":1659086900,"question_id":73164473,"body_markdown":"I am trying to do a mock test for my class, but it does not work.\r\n\r\nOriginal class:\r\n\r\n    public class Service {\r\n      .................\r\n      @POST\r\n      ...\r\n      public Message Info(@NotNull @Valid final UUID Id) throws IOException {\r\n        ............\r\n        String httpLink = Config.getLink();\r\n        ...\r\n    \tif ( ...) { \r\n          HttpURLConnection urlConnection = null;\r\n          URL url = new URL(OriginalLink);\r\n          urlConnection = (HttpURLConnection) url.openConnection();\r\n          urlConnection.setDoOutput(true);\r\n          urlConnection.setRequestMethod(&quot;GET&quot;);\r\n          urlConnection.setUseCaches(false);\r\n          urlConnection.setConnectTimeout(50000);\r\n          urlConnection.setReadTimeout(50000);\r\n          urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n          urlConnection.connect();\r\n    \t  .................\r\n    \t  String jsonobject = &quot;...&quot;; //data to be posted into api\r\n          .......\r\n    \t} else {\r\n    \t  return new Message(&quot;No data to posted from file&quot;);\r\n        }\r\n        return new Message(&quot;successfully posted data from file&quot;);\r\n      }\r\n    }\r\n      \r\n\r\nTest class:\r\n\r\n    @Before\r\n    public void before() {\r\n      MockitoAnnotations.initMocks(this);\r\n      URL u = PowerMockito.mock(URL.class);\r\n      String url = &quot;url&quot;;\r\n      PowerMockito.whenNew(URL.class).withArguments(url).thenReturn(u);\r\n      HttpURLConnection huc = PowerMockito.mock(HttpURLConnection.class);\r\n      PowerMockito.when(u.openConnection()).thenReturn(huc);\r\n      PowerMockito.when(huc.getResponseCode()).thenReturn(200);\r\n      .....\r\n      PowerMockito.when(Config.getLink())\r\n        .thenReturn(&quot;url&quot;);\r\n    }\r\n     @Test\r\n     public void testInfo() throws IOException {\r\n        ............\r\n      \tMessage org = new Message(&quot;successfully posted data from file&quot;);\r\n       \tMessage msg = Service.Info(uuid);\r\n       \tassertEquals(msg,org);\r\n     }\r\n\r\n\r\nI tried to mock using Mockito and PowerMockRunner but it did not work. \r\nWith PowerMockito, i get &quot;java.lang.NullPointerException&quot;","title":"How to mock HttpUrlConnection in JAX-RS","body":"<p>I am trying to do a mock test for my class, but it does not work.</p>\n<p>Original class:</p>\n<pre><code>public class Service {\n  .................\n  @POST\n  ...\n  public Message Info(@NotNull @Valid final UUID Id) throws IOException {\n    ............\n    String httpLink = Config.getLink();\n    ...\n    if ( ...) { \n      HttpURLConnection urlConnection = null;\n      URL url = new URL(OriginalLink);\n      urlConnection = (HttpURLConnection) url.openConnection();\n      urlConnection.setDoOutput(true);\n      urlConnection.setRequestMethod(&quot;GET&quot;);\n      urlConnection.setUseCaches(false);\n      urlConnection.setConnectTimeout(50000);\n      urlConnection.setReadTimeout(50000);\n      urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n      urlConnection.connect();\n      .................\n      String jsonobject = &quot;...&quot;; //data to be posted into api\n      .......\n    } else {\n      return new Message(&quot;No data to posted from file&quot;);\n    }\n    return new Message(&quot;successfully posted data from file&quot;);\n  }\n}\n  \n</code></pre>\n<p>Test class:</p>\n<pre><code>@Before\npublic void before() {\n  MockitoAnnotations.initMocks(this);\n  URL u = PowerMockito.mock(URL.class);\n  String url = &quot;url&quot;;\n  PowerMockito.whenNew(URL.class).withArguments(url).thenReturn(u);\n  HttpURLConnection huc = PowerMockito.mock(HttpURLConnection.class);\n  PowerMockito.when(u.openConnection()).thenReturn(huc);\n  PowerMockito.when(huc.getResponseCode()).thenReturn(200);\n  .....\n  PowerMockito.when(Config.getLink())\n    .thenReturn(&quot;url&quot;);\n}\n @Test\n public void testInfo() throws IOException {\n    ............\n    Message org = new Message(&quot;successfully posted data from file&quot;);\n    Message msg = Service.Info(uuid);\n    assertEquals(msg,org);\n }\n</code></pre>\n<p>I tried to mock using Mockito and PowerMockRunner but it did not work.\nWith PowerMockito, i get &quot;java.lang.NullPointerException&quot;</p>\n"},{"tags":["java","hibernate","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659096349,"creation_date":1659096349,"answer_id":73166454,"question_id":73151592,"body_markdown":"I guess that you are not using the same `@Configuration` in your test? Try aligning the configurations. Usually, you&#39;ll have to assign a persistence unit name to the entity scanning configuration to get multiple `PersistenceUnit` and hence `EntityManagerFactory`, which you can then refer to by name in the repository class. See https://www.baeldung.com/spring-data-jpa-multiple-databases for an example","title":"Exception during the test: Only one entity may be annotated with @RevisionEntity","body":"<p>I guess that you are not using the same <code>@Configuration</code> in your test? Try aligning the configurations. Usually, you'll have to assign a persistence unit name to the entity scanning configuration to get multiple <code>PersistenceUnit</code> and hence <code>EntityManagerFactory</code>, which you can then refer to by name in the repository class. See <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-multiple-databases</a> for an example</p>\n"}],"owner":{"account_id":186392,"reputation":73,"user_id":423741,"accept_rate":40,"display_name":"qazah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659096349,"creation_date":1659005410,"question_id":73151592,"body_markdown":"i&#39;m trying to audit entities using envers.\r\nI&#39;m using spring boot (2.6.6), hibernate-core (5.6.7.Final) and hibernate-envers (5.6.7.Final).\r\n\r\nI have 2 databases postgres and oracle, 2 data sources, and two RevisionEntity, because\r\nI had to extend REVINFO table by user_name. Everything works properly, spring context is created, entity is properly audited with whole data in both databases.\r\n\r\n\r\n```java\r\npackage com.common.revision;\r\n\r\n@Data\r\n@SuperBuilder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@MappedSuperclass\r\npublic abstract class CustomRevisionEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @RevisionNumber\r\n    private int rev;\r\n\r\n    @RevisionTimestamp\r\n    private long revtstmp;\r\n\r\n    @Column(name = &quot;user_name&quot;)\r\n    private String userName;\r\n}\r\n```\r\n\r\n```\r\npackage com.database.oracle.domain.revision;\r\n\r\n@Data\r\n@Entity(name = &quot;REVINFO&quot;)\r\n@RevisionEntity(CustomRevisionListener.class)\r\npublic class LegacyRevisionEntity extends CustomRevisionEntity {\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.database.oracle.domain.revision;\r\n@Configuration\r\n@EnableJpaRepositories(basePackageClasses = {LegacyRevisionEntity.class},\r\n    entityManagerFactoryRef = &quot;entityManagerFactoryOracle&quot;,\r\n    transactionManagerRef = &quot;transactionManagerOracle&quot;)\r\npublic class DatastoreConfigurationOracle {\r\n...\r\n```\r\n\r\n```\r\npackage com.database.postgres.domain.revision;\r\n\r\n@Data\r\n@Entity(name = &quot;REVINFO&quot;)\r\n@RevisionEntity(CustomRevisionListener.class)\r\npublic class ExtensionRevisionEntity extends CustomRevisionEntity {\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.database.postgres;\r\n\r\n@Configuration\r\n@EnableJpaRepositories(basePackageClasses = {\r\n        BaseModExtensionEntity.class,...  },\r\n        entityManagerFactoryRef = &quot;entityManagerFactoryPostgres&quot;,\r\n        transactionManagerRef = &quot;transactionManagerPostgres&quot;)\r\npublic class DatastoreConfigurationPostgres {\r\n...\r\n```\r\n\r\nThe problem is with one test:\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\nclass RepositoryTest{\r\n\r\n    @Autowired\r\n    Repository repository;\r\n\r\n    @Test\r\n    public void find() {\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve get an error:\r\nentities share the same JPA entity name: [REVINFO] which is not allowed!\r\nSo i changed one table name to REV_INFO, so now I&#39;m getting this error:\r\n\r\nCaused by: org.hibernate.MappingException: Only one entity may be annotated with @RevisionEntity!\r\n\r\nI&#39;ve tried to use @EnableAutoConfiguration with exclude, but it will not working - to many connections with other services.\r\n\r\nAny ideas how to fix it and why the application is working while the test fails?\r\n","title":"Exception during the test: Only one entity may be annotated with @RevisionEntity","body":"<p>i'm trying to audit entities using envers.\nI'm using spring boot (2.6.6), hibernate-core (5.6.7.Final) and hibernate-envers (5.6.7.Final).</p>\n<p>I have 2 databases postgres and oracle, 2 data sources, and two RevisionEntity, because\nI had to extend REVINFO table by user_name. Everything works properly, spring context is created, entity is properly audited with whole data in both databases.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.common.revision;\n\n@Data\n@SuperBuilder\n@AllArgsConstructor\n@NoArgsConstructor\n@MappedSuperclass\npublic abstract class CustomRevisionEntity {\n\n    @Id\n    @GeneratedValue\n    @RevisionNumber\n    private int rev;\n\n    @RevisionTimestamp\n    private long revtstmp;\n\n    @Column(name = &quot;user_name&quot;)\n    private String userName;\n}\n</code></pre>\n<pre><code>package com.database.oracle.domain.revision;\n\n@Data\n@Entity(name = &quot;REVINFO&quot;)\n@RevisionEntity(CustomRevisionListener.class)\npublic class LegacyRevisionEntity extends CustomRevisionEntity {\n\n}\n</code></pre>\n<pre><code>package com.database.oracle.domain.revision;\n@Configuration\n@EnableJpaRepositories(basePackageClasses = {LegacyRevisionEntity.class},\n    entityManagerFactoryRef = &quot;entityManagerFactoryOracle&quot;,\n    transactionManagerRef = &quot;transactionManagerOracle&quot;)\npublic class DatastoreConfigurationOracle {\n...\n</code></pre>\n<pre><code>package com.database.postgres.domain.revision;\n\n@Data\n@Entity(name = &quot;REVINFO&quot;)\n@RevisionEntity(CustomRevisionListener.class)\npublic class ExtensionRevisionEntity extends CustomRevisionEntity {\n}\n</code></pre>\n<pre><code>package com.database.postgres;\n\n@Configuration\n@EnableJpaRepositories(basePackageClasses = {\n        BaseModExtensionEntity.class,...  },\n        entityManagerFactoryRef = &quot;entityManagerFactoryPostgres&quot;,\n        transactionManagerRef = &quot;transactionManagerPostgres&quot;)\npublic class DatastoreConfigurationPostgres {\n...\n</code></pre>\n<p>The problem is with one test:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\nclass RepositoryTest{\n\n    @Autowired\n    Repository repository;\n\n    @Test\n    public void find() {\n\n\n    }\n}\n</code></pre>\n<p>I've get an error:\nentities share the same JPA entity name: [REVINFO] which is not allowed!\nSo i changed one table name to REV_INFO, so now I'm getting this error:</p>\n<p>Caused by: org.hibernate.MappingException: Only one entity may be annotated with @RevisionEntity!</p>\n<p>I've tried to use @EnableAutoConfiguration with exclude, but it will not working - to many connections with other services.</p>\n<p>Any ideas how to fix it and why the application is working while the test fails?</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1473705591,"post_id":39456480,"comment_id":66234482,"body_markdown":"When you save &#39;smartphone&#39; the &#39;Resolution&#39; it references should be persistent entity in db.","body":"When you save &#39;smartphone&#39; the &#39;Resolution&#39; it references should be persistent entity in db."},{"owner":{"account_id":8974884,"reputation":76,"user_id":6692114,"display_name":"Beata92"},"score":0,"creation_date":1473706162,"post_id":39456480,"comment_id":66234798,"body_markdown":"Yes I am using session.save(). Should I use new transaction to save the new object? Please check. I added source code.","body":"Yes I am using session.save(). Should I use new transaction to save the new object? Please check. I added source code."},{"owner":{"account_id":8974884,"reputation":76,"user_id":6692114,"display_name":"Beata92"},"score":0,"creation_date":1473706361,"post_id":39456480,"comment_id":66234907,"body_markdown":"For me too but it doesn&#39;t work.","body":"For me too but it doesn&#39;t work."},{"owner":{"account_id":8974884,"reputation":76,"user_id":6692114,"display_name":"Beata92"},"score":0,"creation_date":1473706993,"post_id":39456480,"comment_id":66235238,"body_markdown":"I added `Resolution` class source code.","body":"I added <code>Resolution</code> class source code."}],"answers":[{"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1473705249,"creation_date":1473705249,"answer_id":39456615,"question_id":39456480,"body_markdown":"You&#39;re trying to `add/update` a row to `resolution` that does not have a valid value for the `id` field based on the values stored in `smartphone`.   \r\nYou must first insert the row to your `resolution` table.","title":"Hibernate Cannot add or update a child row: a foreign key constraint fails","body":"<p>You're trying to <code>add/update</code> a row to <code>resolution</code> that does not have a valid value for the <code>id</code> field based on the values stored in <code>smartphone</code>.<br>\nYou must first insert the row to your <code>resolution</code> table.</p>\n"},{"tags":[],"owner":{"account_id":2568937,"reputation":780,"user_id":2228201,"accept_rate":48,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1473782940,"creation_date":1473782940,"answer_id":39474570,"question_id":39456480,"body_markdown":"Almost well. You have to add above `getId()` method for `Resolution` class and similar code below. Probably your `resolution` object has always 0 as `id` after save method call.\r\n\r\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)","title":"Hibernate Cannot add or update a child row: a foreign key constraint fails","body":"<p>Almost well. You have to add above <code>getId()</code> method for <code>Resolution</code> class and similar code below. Probably your <code>resolution</code> object has always 0 as <code>id</code> after save method call.</p>\n\n<pre><code>@Column(name = \"id\", unique = true, nullable = false)\n@GeneratedValue(strategy = GenerationType.AUTO)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10887582,"reputation":71,"user_id":8004575,"display_name":"Akshay K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659096336,"creation_date":1659096336,"answer_id":73166451,"question_id":39456480,"body_markdown":"Add \r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nAnnotations in Model class.","title":"Hibernate Cannot add or update a child row: a foreign key constraint fails","body":"<p>Add\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)</p>\n<p>Annotations in Model class.</p>\n"}],"owner":{"account_id":8974884,"reputation":76,"user_id":6692114,"display_name":"Beata92"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17929,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39474570,"answer_count":3,"score":4,"last_activity_date":1659096336,"creation_date":1473704681,"question_id":39456480,"body_markdown":"When I&#39;m trying to save object into database I got error: \r\n\r\n    java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`smartphones`.`smartphone`, CONSTRAINT `fk_smartphone_resolution1` FOREIGN KEY (`resolution_id`) REFERENCES `resolution` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)\r\n&lt;br&gt;\r\n\r\nFirst thing is I have wrong name of references column in `Smartphone` class but I checked and it looks well. Maybe someone figure out what is the reason of this issue?\r\n\r\nShort database screenshot &lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSQL script to create smartphone table\r\n\r\n    CREATE TABLE IF NOT EXISTS `smartphones`.`smartphone` (\r\n          `id` INT(11) NOT NULL AUTO_INCREMENT,\r\n          `name` VARCHAR(45) NULL DEFAULT NULL,\r\n          `resolution_id` INT(11) NOT NULL,\r\n                   ...other\r\n          PRIMARY KEY (`id`, `resolution_id`),\r\n          UNIQUE INDEX `id_UNIQUE` (`id` ASC),\r\n          INDEX `fk_smartphone_resolution1_idx` (`resolution_id` ASC),\r\n          CONSTRAINT `fk_smartphone_resolution1`\r\n            FOREIGN KEY (`resolution_id`)\r\n            REFERENCES `smartphones`.`resolution` (`id`)\r\n            ON DELETE NO ACTION\r\n            ON UPDATE NO ACTION)\r\n\r\n`Smartphone` class but with one relationship object.\r\n\r\n    package com.project.model;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    public class Smartphone {\r\n        private int id;\r\n        private String name;\r\n        private Resolution resolutionId;\r\n            \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;name&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @ManyToOne(fetch=FetchType.EAGER, cascade=CascadeType.PERSIST)\r\n        @JoinColumn(name = &quot;resolution_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n        public Resolution getResolutionId() {\r\n            return resolutionId;\r\n        }\r\n    \r\n        public void setResolutionId(Resolution resolutionId) {\r\n            this.resolutionId = resolutionId;\r\n        }\r\n    }\r\n\r\n[Edit: Parsing smartphone model and saving into database]\r\n\r\n    @RequestMapping(value = { &quot;apple&quot; }, method = RequestMethod.GET)\r\n        public String parseApple(ModelMap model) {\r\n    \r\n            try {\r\n                String appleData = Utilities.getResourceAsString(this, &quot;json/apple.json&quot;);\r\n    \r\n                JSONArray array = new JSONArray(appleData);\r\n    \r\n                Session session = sessionFactory.openSession();\r\n                Transaction transaction = session.beginTransaction();\r\n    \r\n                for (int i = 0; i &lt; array.length(); i++) {\r\n                    Smartphone smartphone = new Smartphone();\r\n    \r\n                    String resolutionValue = array.getJSONObject(i).getString(&quot;resolution&quot;);\r\n                    String resolution_w = resolutionValue.split(&quot; &quot;)[0];\r\n                    String resolution_h = resolutionValue.split(&quot; &quot;)[2];\r\n                    Resolution resolution = new Resolution();\r\n                    resolution.setHeight(Integer.valueOf(resolution_h));\r\n                    resolution.setWidth(Integer.valueOf(resolution_w));\r\n                    resolution.setTypeId(typeService.findByCode(session, Resolution.serialId));\r\n                    session.save(resolution);\r\n    \r\n                    smartphone.setResolutionId(resolution);\r\n                    //other\r\n    \r\n                    session.save(smartphone);\r\n                    break;\r\n                }\r\n                transaction.commit();\r\n                sessionFactory.close();\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return &quot;index&quot;;\r\n        }\r\n\r\n[Edit: Added] Resolution class:\r\n\r\n    @Entity\r\n    public class Resolution {\r\n        public static final int serialId = 106;\r\n    \r\n        private int id;\r\n        private Integer height;\r\n        private Integer width;\r\n        private Type typeId;\r\n        private Collection&lt;Smartphone&gt; resolutionId;\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;height&quot;)\r\n        public Integer getHeight() {\r\n            return height;\r\n        }\r\n    \r\n        public void setHeight(Integer height) {\r\n            this.height = height;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;width&quot;)\r\n        public Integer getWidth() {\r\n            return width;\r\n        }\r\n    \r\n        public void setWidth(Integer width) {\r\n            this.width = width;\r\n        }\r\n    \r\n        @ManyToOne(fetch=FetchType.EAGER)\r\n        @JoinColumn(name = &quot;type_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n        public Type getTypeId() {\r\n            return typeId;\r\n        }\r\n    \r\n        public void setTypeId(Type typeId) {\r\n            this.typeId = typeId;\r\n        }\r\n    \r\n        @LazyCollection(LazyCollectionOption.FALSE)\r\n        @OneToMany(mappedBy = &quot;resolutionId&quot;)\r\n        public Collection&lt;Smartphone&gt; getResolutionId() {\r\n            return resolutionId;\r\n        }\r\n    \r\n        public void setResolutionId(Collection&lt;Smartphone&gt; resolutionId) {\r\n            this.resolutionId = resolutionId;\r\n        }\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/v6DiT.png","title":"Hibernate Cannot add or update a child row: a foreign key constraint fails","body":"<p>When I'm trying to save object into database I got error: </p>\n\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`smartphones`.`smartphone`, CONSTRAINT `fk_smartphone_resolution1` FOREIGN KEY (`resolution_id`) REFERENCES `resolution` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION)\n</code></pre>\n\n<p><br></p>\n\n<p>First thing is I have wrong name of references column in <code>Smartphone</code> class but I checked and it looks well. Maybe someone figure out what is the reason of this issue?</p>\n\n<p>Short database screenshot <br></p>\n\n<p><a href=\"https://i.stack.imgur.com/v6DiT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6DiT.png\" alt=\"enter image description here\"></a></p>\n\n<p>SQL script to create smartphone table</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `smartphones`.`smartphone` (\n      `id` INT(11) NOT NULL AUTO_INCREMENT,\n      `name` VARCHAR(45) NULL DEFAULT NULL,\n      `resolution_id` INT(11) NOT NULL,\n               ...other\n      PRIMARY KEY (`id`, `resolution_id`),\n      UNIQUE INDEX `id_UNIQUE` (`id` ASC),\n      INDEX `fk_smartphone_resolution1_idx` (`resolution_id` ASC),\n      CONSTRAINT `fk_smartphone_resolution1`\n        FOREIGN KEY (`resolution_id`)\n        REFERENCES `smartphones`.`resolution` (`id`)\n        ON DELETE NO ACTION\n        ON UPDATE NO ACTION)\n</code></pre>\n\n<p><code>Smartphone</code> class but with one relationship object.</p>\n\n<pre><code>package com.project.model;\n\nimport javax.persistence.*;\n\n@Entity\npublic class Smartphone {\n    private int id;\n    private String name;\n    private Resolution resolutionId;\n\n    @Id\n    @Column(name = \"id\")\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Basic\n    @Column(name = \"name\")\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @ManyToOne(fetch=FetchType.EAGER, cascade=CascadeType.PERSIST)\n    @JoinColumn(name = \"resolution_id\", referencedColumnName = \"id\", nullable = false)\n    public Resolution getResolutionId() {\n        return resolutionId;\n    }\n\n    public void setResolutionId(Resolution resolutionId) {\n        this.resolutionId = resolutionId;\n    }\n}\n</code></pre>\n\n<p>[Edit: Parsing smartphone model and saving into database]</p>\n\n<pre><code>@RequestMapping(value = { \"apple\" }, method = RequestMethod.GET)\n    public String parseApple(ModelMap model) {\n\n        try {\n            String appleData = Utilities.getResourceAsString(this, \"json/apple.json\");\n\n            JSONArray array = new JSONArray(appleData);\n\n            Session session = sessionFactory.openSession();\n            Transaction transaction = session.beginTransaction();\n\n            for (int i = 0; i &lt; array.length(); i++) {\n                Smartphone smartphone = new Smartphone();\n\n                String resolutionValue = array.getJSONObject(i).getString(\"resolution\");\n                String resolution_w = resolutionValue.split(\" \")[0];\n                String resolution_h = resolutionValue.split(\" \")[2];\n                Resolution resolution = new Resolution();\n                resolution.setHeight(Integer.valueOf(resolution_h));\n                resolution.setWidth(Integer.valueOf(resolution_w));\n                resolution.setTypeId(typeService.findByCode(session, Resolution.serialId));\n                session.save(resolution);\n\n                smartphone.setResolutionId(resolution);\n                //other\n\n                session.save(smartphone);\n                break;\n            }\n            transaction.commit();\n            sessionFactory.close();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return \"index\";\n    }\n</code></pre>\n\n<p>[Edit: Added] Resolution class:</p>\n\n<pre><code>@Entity\npublic class Resolution {\n    public static final int serialId = 106;\n\n    private int id;\n    private Integer height;\n    private Integer width;\n    private Type typeId;\n    private Collection&lt;Smartphone&gt; resolutionId;\n\n    @Id\n    @Column(name = \"id\")\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Basic\n    @Column(name = \"height\")\n    public Integer getHeight() {\n        return height;\n    }\n\n    public void setHeight(Integer height) {\n        this.height = height;\n    }\n\n    @Basic\n    @Column(name = \"width\")\n    public Integer getWidth() {\n        return width;\n    }\n\n    public void setWidth(Integer width) {\n        this.width = width;\n    }\n\n    @ManyToOne(fetch=FetchType.EAGER)\n    @JoinColumn(name = \"type_id\", referencedColumnName = \"id\", nullable = false)\n    public Type getTypeId() {\n        return typeId;\n    }\n\n    public void setTypeId(Type typeId) {\n        this.typeId = typeId;\n    }\n\n    @LazyCollection(LazyCollectionOption.FALSE)\n    @OneToMany(mappedBy = \"resolutionId\")\n    public Collection&lt;Smartphone&gt; getResolutionId() {\n        return resolutionId;\n    }\n\n    public void setResolutionId(Collection&lt;Smartphone&gt; resolutionId) {\n        this.resolutionId = resolutionId;\n    }\n}\n</code></pre>\n"},{"tags":["java","ice"],"comments":[{"owner":{"account_id":229091,"reputation":3059,"user_id":491807,"accept_rate":77,"display_name":"Jos&#233;"},"score":0,"creation_date":1659101620,"post_id":73166261,"comment_id":129222175,"body_markdown":"ConnectionRefusedException means that the server is not listening at the given address, try enabling the network tracing setting `Ice.Trace.Network` to `3` to see the connection attempts.","body":"ConnectionRefusedException means that the server is not listening at the given address, try enabling the network tracing setting <code>Ice.Trace.Network</code> to <code>3</code> to see the connection attempts."},{"owner":{"account_id":25925809,"reputation":1,"user_id":19647717,"display_name":"louz"},"score":0,"creation_date":1659317336,"post_id":73166261,"comment_id":129258849,"body_markdown":"Thanks you for your back, I got this. Any ideas ? https://prnt.sc/CY6aopqWgj6P\nIs it about local address ?","body":"Thanks you for your back, I got this. Any ideas ? <a href=\"https://prnt.sc/CY6aopqWgj6P\" rel=\"nofollow noreferrer\">prnt.sc/CY6aopqWgj6P</a> Is it about local address ?"},{"owner":{"account_id":229091,"reputation":3059,"user_id":491807,"accept_rate":77,"display_name":"Jos&#233;"},"score":0,"creation_date":1660299618,"post_id":73166261,"comment_id":129505449,"body_markdown":"You have to ensure that the server is listening at the given address &quot;157.90.160.109:38794&quot; and that the firewall allows the connection, you can use telnet to check, https://kb.synology.com/en-global/DSM/tutorial/Whether_TCP_port_is_open_or_closed#:~:text=Enter%20%22telnet%20%2B%20IP%20address%20or,message%20will%20say%20Connect%20failed.","body":"You have to ensure that the server is listening at the given address &quot;157.90.160.109:38794&quot; and that the firewall allows the connection, you can use telnet to check, <a href=\"https://kb.synology.com/en-global/DSM/tutorial/Whether_TCP_port_is_open_or_closed#:~:text=Enter%20%22telnet%20%2B%20IP%20address%20or,message%20will%20say%20Connect%20failed\" rel=\"nofollow noreferrer\">kb.synology.com/en-global/DSM/tutorial/&hellip;</a>."}],"owner":{"account_id":25925809,"reputation":1,"user_id":19647717,"display_name":"louz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659096237,"creation_date":1659095461,"question_id":73166261,"body_markdown":"I have an error while trying to connect my server to another where Mumble is installed. My servers run with Dockers but all my addresses are linked together in a private network.\r\n\r\nHere is the method I use for the connection:\r\n\r\n    public static CompletableFuture&lt;MumbleConnectionHolder&gt; connect(String iceHost, int icePort, String currentHost, String writeSecret) {\r\n        Properties[] properties = new Properties[1];\r\n        InitializationData[] data = new InitializationData[1];\r\n        Communicator[] communicator = new Communicator[1];\r\n        String[] metaProxyUrl = new String[1];\r\n        MetaPrx[] metaPrx = new MetaPrx[1];\r\n        String[] oaProxyUrl = new String[1];\r\n        ObjectAdapter[] objectAdapter = new ObjectAdapter[1];\r\n\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            properties[0] = Util.createProperties();\r\n            properties[0].setProperty(&quot;Ice.ImplicitContext&quot;, &quot;Shared&quot;);\r\n            properties[0].setProperty(&quot;Ice.RetryIntervals&quot;, &quot;0 10 30 60&quot;);\r\n            properties[0].setProperty(&quot;Ice.Trace.Retry&quot;, &quot;1&quot;);\r\n\r\n            data[0] = new InitializationData();\r\n            data[0].properties = properties[0];\r\n\r\n            try {\r\n                communicator[0] = Util.initialize(data[0]);\r\n                if (writeSecret != null) {\r\n                    communicator[0].getImplicitContext().put(&quot;secret&quot;, writeSecret);\r\n                }\r\n\r\n                metaProxyUrl[0] = String.format(&quot;Meta -e 1.0:tcp -h %s -p %d&quot;, iceHost, icePort);\r\n                metaPrx[0] = MetaPrx.checkedCast(communicator[0].stringToProxy(metaProxyUrl[0]));\r\n                oaProxyUrl[0] = String.format(&quot;tcp -h %s&quot;, currentHost);\r\n                objectAdapter[0] = communicator[0].createObjectAdapterWithEndpoints(&quot;Callback.Client&quot;, oaProxyUrl[0]);\r\n                objectAdapter[0].activate();\r\n\r\n                return new MumbleConnectionHolder(communicator[0], metaPrx[0], objectAdapter[0]);\r\n            } catch (Exception e) {\r\n                throw new CompletionException(e);\r\n            }\r\n        });\r\n    }\r\n\r\nAnd here is the error:\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/BZvGU.png","title":"Java - Can&#39;t connect zeroc.Ice : com.zeroc.Ice.ConnectionRefusedException : error = 0","body":"<p>I have an error while trying to connect my server to another where Mumble is installed. My servers run with Dockers but all my addresses are linked together in a private network.</p>\n<p>Here is the method I use for the connection:</p>\n<pre><code>public static CompletableFuture&lt;MumbleConnectionHolder&gt; connect(String iceHost, int icePort, String currentHost, String writeSecret) {\n    Properties[] properties = new Properties[1];\n    InitializationData[] data = new InitializationData[1];\n    Communicator[] communicator = new Communicator[1];\n    String[] metaProxyUrl = new String[1];\n    MetaPrx[] metaPrx = new MetaPrx[1];\n    String[] oaProxyUrl = new String[1];\n    ObjectAdapter[] objectAdapter = new ObjectAdapter[1];\n\n    return CompletableFuture.supplyAsync(() -&gt; {\n        properties[0] = Util.createProperties();\n        properties[0].setProperty(&quot;Ice.ImplicitContext&quot;, &quot;Shared&quot;);\n        properties[0].setProperty(&quot;Ice.RetryIntervals&quot;, &quot;0 10 30 60&quot;);\n        properties[0].setProperty(&quot;Ice.Trace.Retry&quot;, &quot;1&quot;);\n\n        data[0] = new InitializationData();\n        data[0].properties = properties[0];\n\n        try {\n            communicator[0] = Util.initialize(data[0]);\n            if (writeSecret != null) {\n                communicator[0].getImplicitContext().put(&quot;secret&quot;, writeSecret);\n            }\n\n            metaProxyUrl[0] = String.format(&quot;Meta -e 1.0:tcp -h %s -p %d&quot;, iceHost, icePort);\n            metaPrx[0] = MetaPrx.checkedCast(communicator[0].stringToProxy(metaProxyUrl[0]));\n            oaProxyUrl[0] = String.format(&quot;tcp -h %s&quot;, currentHost);\n            objectAdapter[0] = communicator[0].createObjectAdapterWithEndpoints(&quot;Callback.Client&quot;, oaProxyUrl[0]);\n            objectAdapter[0].activate();\n\n            return new MumbleConnectionHolder(communicator[0], metaPrx[0], objectAdapter[0]);\n        } catch (Exception e) {\n            throw new CompletionException(e);\n        }\n    });\n}\n</code></pre>\n<p>And here is the error:</p>\n<p><img src=\"https://i.stack.imgur.com/BZvGU.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":1015767,"reputation":2808,"user_id":1027359,"accept_rate":71,"display_name":"dotvav"},"score":1,"creation_date":1439975365,"post_id":32091062,"comment_id":52077054,"body_markdown":"Look into `SimpleDateFormat` and come back should you encounter any issue with that.","body":"Look into <code>SimpleDateFormat</code> and come back should you encounter any issue with that."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1439975373,"post_id":32091062,"comment_id":52077057,"body_markdown":"What *exactly* are you expecting for &quot;Julian date format&quot;? (If your variable were a `double`, that would make more sense to me...)","body":"What <i>exactly</i> are you expecting for &quot;Julian date format&quot;? (If your variable were a <code>double</code>, that would make more sense to me...)"},{"owner":{"account_id":1695553,"reputation":804,"user_id":1556993,"accept_rate":46,"display_name":"abhi"},"score":0,"creation_date":1439975493,"post_id":32091062,"comment_id":52077142,"body_markdown":"@Jon Skeet  June 11, 2010 =010163 = this type of format","body":"@Jon Skeet  June 11, 2010 =010163 = this type of format"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1439975651,"post_id":32091062,"comment_id":52077251,"body_markdown":"@abhi: What&#39;s the correlation between June 11th 2010 and &quot;010163&quot;? Is that meant to just be a number, or a formatted string? Please give more information... (A reference to the rules you&#39;re trying to implement would be useful. Please bear in mind that as I mentioned, &quot;Julian date&quot; and &quot;Julian date format&quot; have multiple meanings.)","body":"@abhi: What&#39;s the correlation between June 11th 2010 and &quot;010163&quot;? Is that meant to just be a number, or a formatted string? Please give more information... (A reference to the rules you&#39;re trying to implement would be useful. Please bear in mind that as I mentioned, &quot;Julian date&quot; and &quot;Julian date format&quot; have multiple meanings.)"},{"owner":{"account_id":1695553,"reputation":804,"user_id":1556993,"accept_rate":46,"display_name":"abhi"},"score":0,"creation_date":1439976131,"post_id":32091062,"comment_id":52077589,"body_markdown":"@Jon Skeet                                                                                           Represents the creation date of the file in Julian date format (0YYDDD):\n\n0 – numeric zero\n\nYY – last two digits of the year\n\n       DDD – day number within the year\n\nCan be up to 7 calendar days before the date of transmission\nExample: 010163 = June 11, 2010","body":"@Jon Skeet                                                                                           Represents the creation date of the file in Julian date format (0YYDDD):  0 – numeric zero  YY – last two digits of the year         DDD – day number within the year  Can be up to 7 calendar days before the date of transmission Example: 010163 = June 11, 2010"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1439976583,"post_id":32091062,"comment_id":52077911,"body_markdown":"Related question: http://stackoverflow.com/questions/1171208/what-is-the-precise-definition-of-jdes-julian-date-format.  Answers include conversion code in various languages that should be trivial tor translate into Java.","body":"Related question: <a href=\"http://stackoverflow.com/questions/1171208/what-is-the-precise-definition-of-jdes-julian-date-format\" title=\"what is the precise definition of jdes julian date format\">stackoverflow.com/questions/1171208/&hellip;</a>.  Answers include conversion code in various languages that should be trivial tor translate into Java."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1439976843,"post_id":32091062,"comment_id":52078134,"body_markdown":"@abhi: Right. It would have been useful to include that in the question.","body":"@abhi: Right. It would have been useful to include that in the question."},{"owner":{"account_id":5871499,"reputation":442,"user_id":4623702,"accept_rate":86,"display_name":"clapsus"},"score":0,"creation_date":1439991908,"post_id":32091062,"comment_id":52089048,"body_markdown":"Actually, June 11 is the 192nd day of 2010, not the 163rd one.","body":"Actually, June 11 is the 192nd day of 2010, not the 163rd one."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1611165101,"post_id":32091062,"comment_id":116365636,"body_markdown":"@clapsus A typo? It’s the 162nd day of that year (in a leap year June 11 is the 163rd day, but 2010 was no leap year).","body":"@clapsus A typo? It’s the 162nd day of that year (in a leap year June 11 is the 163rd day, but 2010 was no leap year)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1611215943,"post_id":32091062,"comment_id":116380034,"body_markdown":"Update: The `Date` class seen in this Question is now legacy, supplanted by the *java.time* classes defined in JSR 310. For a modern solution, see the [Answer by Ole V.V.](https://stackoverflow.com/a/65814593/642706).","body":"Update: The <code>Date</code> class seen in this Question is now legacy, supplanted by the <i>java.time</i> classes defined in JSR 310. For a modern solution, see the <a href=\"https://stackoverflow.com/a/65814593/642706\">Answer by Ole V.V.</a>."}],"answers":[{"tags":[],"owner":{"account_id":5871499,"reputation":442,"user_id":4623702,"accept_rate":86,"display_name":"clapsus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439991763,"creation_date":1439991763,"answer_id":32097281,"question_id":32091062,"body_markdown":"Use [SimpleDateFormat][1].\r\n\r\nThe following code returns the Julian date string for `date` according to the format you gave.\r\n\r\n    String julianDateString = new SimpleDateFormat(&quot;&#39;0&#39;yyD&quot;).format(date);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"new Date() to Julian date format in java","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">SimpleDateFormat</a>.</p>\n\n<p>The following code returns the Julian date string for <code>date</code> according to the format you gave.</p>\n\n<pre><code>String julianDateString = new SimpleDateFormat(\"'0'yyD\").format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14617935,"reputation":21,"user_id":10557522,"display_name":"ianf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611156612,"creation_date":1611156612,"answer_id":65812582,"question_id":32091062,"body_markdown":"Actually I think what you need is\r\n\r\n    String yearYy = new SimpleDateFormat(&quot;yy&quot;).format(today)\r\n    String dayD = new SimpleDateFormat(&quot;D&quot;).format(today)\r\n    String dayDDD = dayD.padLeft(3,&#39;0&#39;)\r\n    String julianDateString = yearYy + dayDDD\r\n\r\nThis gives the proper Julian date format - there shouldn&#39;t be a leading &#39;0&#39;, but you do need to pad the day number so that it&#39;s always 3 characters.\r\n\r\n...I&#39;m quite sure this could be simplified, but the important thing is that the day number should be padded.\r\n\r\nSo 20/01/21 gives `21020` (rather than `02120` when using the previous example)","title":"new Date() to Julian date format in java","body":"<p>Actually I think what you need is</p>\n<pre><code>String yearYy = new SimpleDateFormat(&quot;yy&quot;).format(today)\nString dayD = new SimpleDateFormat(&quot;D&quot;).format(today)\nString dayDDD = dayD.padLeft(3,'0')\nString julianDateString = yearYy + dayDDD\n</code></pre>\n<p>This gives the proper Julian date format - there shouldn't be a leading '0', but you do need to pad the day number so that it's always 3 characters.</p>\n<p>...I'm quite sure this could be simplified, but the important thing is that the day number should be padded.</p>\n<p>So 20/01/21 gives <code>21020</code> (rather than <code>02120</code> when using the previous example)</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659096235,"creation_date":1611163820,"answer_id":65814593,"question_id":32091062,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date work. The format you need is built in.\r\n\r\n\t\tLocalDate today = LocalDate.now(ZoneId.systemDefault());\r\n\t\tString ordinalDateString = today.format(DateTimeFormatter.ISO_ORDINAL_DATE);\r\n\t\tSystem.out.println(ordinalDateString);\r\n\r\nOutput for today January 20, 2021 in [standard ISO 8601 format][1]:\r\n\r\n&gt; 2021-020\r\n\r\nThe format you mention, `0YYDDD`, is peculiar. It’s nothing I have seen before. If you’re serious about it, define a formatter that gives it:\r\n\r\n\t\tDateTimeFormatter peculiarDateFormatter = DateTimeFormatter.ofPattern(&quot;0uuDDD&quot;);\r\n\r\n&gt; 021020\r\n\r\nIf the first three digits, 021, were supposed to be the last three digits of the year, java.time can do that too. It requires a few more words:\r\n\r\n        DateTimeFormatter peculiarDateFormatter = new DateTimeFormatterBuilder()\r\n                .appendValueReduced(ChronoField.YEAR, 3, 3, 1950)\r\n                .appendValue(ChronoField.DAY_OF_YEAR, 3)\r\n                .toFormatter();\r\n\r\nFor the date in 2021 output is the same as before. For dates in other centuries the first digit will no longer be 0.\r\n\r\n## Ordinal date, not Julian date\r\n\r\nThe day number of the year that you ask for is called the [*ordinal date*][2], which is why the built-in formatter also has *ordinal* in its name. A Julian day is something else, the continuous count of days since January 1, 4713 BCE. The ordinal date is sometimes referred to as Julian, but there is nothing genuinely Julian about it, so to avoid confusion, prefer *ordinal* over *Julian*.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Julian day](https://en.wikipedia.org/wiki/Julian_day) on Wikipedia.\r\n - [Ordinal date](https://en.wikipedia.org/wiki/Ordinal_date) on Wikipedia.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601#Ordinal_dates\r\n  [2]: https://en.wikipedia.org/wiki/Ordinal_date","title":"new Date() to Julian date format in java","body":"<h2>java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date work. The format you need is built in.</p>\n<pre><code>    LocalDate today = LocalDate.now(ZoneId.systemDefault());\n    String ordinalDateString = today.format(DateTimeFormatter.ISO_ORDINAL_DATE);\n    System.out.println(ordinalDateString);\n</code></pre>\n<p>Output for today January 20, 2021 in <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Ordinal_dates\" rel=\"nofollow noreferrer\">standard ISO 8601 format</a>:</p>\n<blockquote>\n<p>2021-020</p>\n</blockquote>\n<p>The format you mention, <code>0YYDDD</code>, is peculiar. It’s nothing I have seen before. If you’re serious about it, define a formatter that gives it:</p>\n<pre><code>    DateTimeFormatter peculiarDateFormatter = DateTimeFormatter.ofPattern(&quot;0uuDDD&quot;);\n</code></pre>\n<blockquote>\n<p>021020</p>\n</blockquote>\n<p>If the first three digits, 021, were supposed to be the last three digits of the year, java.time can do that too. It requires a few more words:</p>\n<pre><code>    DateTimeFormatter peculiarDateFormatter = new DateTimeFormatterBuilder()\n            .appendValueReduced(ChronoField.YEAR, 3, 3, 1950)\n            .appendValue(ChronoField.DAY_OF_YEAR, 3)\n            .toFormatter();\n</code></pre>\n<p>For the date in 2021 output is the same as before. For dates in other centuries the first digit will no longer be 0.</p>\n<h2>Ordinal date, not Julian date</h2>\n<p>The day number of the year that you ask for is called the <a href=\"https://en.wikipedia.org/wiki/Ordinal_date\" rel=\"nofollow noreferrer\"><em>ordinal date</em></a>, which is why the built-in formatter also has <em>ordinal</em> in its name. A Julian day is something else, the continuous count of days since January 1, 4713 BCE. The ordinal date is sometimes referred to as Julian, but there is nothing genuinely Julian about it, so to avoid confusion, prefer <em>ordinal</em> over <em>Julian</em>.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Julian_day\" rel=\"nofollow noreferrer\">Julian day</a> on Wikipedia.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Ordinal_date\" rel=\"nofollow noreferrer\">Ordinal date</a> on Wikipedia.</li>\n</ul>\n"}],"owner":{"account_id":1695553,"reputation":804,"user_id":1556993,"accept_rate":46,"display_name":"abhi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10798,"favorite_count":0,"down_vote_count":5,"up_vote_count":7,"answer_count":3,"score":2,"last_activity_date":1659096235,"creation_date":1439975145,"question_id":32091062,"body_markdown":"I need to convert new Date()  to Julian date format.is there is any build in java function for this.\r\nmy exact requirement is \r\n\r\nRepresents the creation date of the file in Julian date format (0YYDDD): 0 – numeric zero YY – last two digits of the year DDD – day number within the year Can be up to 7 calendar days before the date of transmission Example: 010163 = June 11, 2010\r\n\r\nWhat is  really looking is some thing like this \r\n\r\n    Date date=new Date();\r\n    String JulianDtae=date.someFunction()\r\n\r\nAny help will be appreciated \r\n","title":"new Date() to Julian date format in java","body":"<p>I need to convert new Date()  to Julian date format.is there is any build in java function for this.\nmy exact requirement is </p>\n\n<p>Represents the creation date of the file in Julian date format (0YYDDD): 0 – numeric zero YY – last two digits of the year DDD – day number within the year Can be up to 7 calendar days before the date of transmission Example: 010163 = June 11, 2010</p>\n\n<p>What is  really looking is some thing like this </p>\n\n<pre><code>Date date=new Date();\nString JulianDtae=date.someFunction()\n</code></pre>\n\n<p>Any help will be appreciated </p>\n"},{"tags":["java","arraylist","sonarqube","code-analysis"],"answers":[{"tags":[],"owner":{"account_id":11926663,"reputation":1036,"user_id":8727780,"display_name":"Senne Verhaegen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659094692,"creation_date":1659087596,"answer_id":73164653,"question_id":73156512,"body_markdown":"You are returning a reference to `userDetails`. By doing this you break encapsulation which can potentially bring your `UserInfoImpl` class in an inconsistent state. For example when a client (other class that uses your class) calls `clear` on the returned list.\r\n\r\n    // client A\r\n    var list = userInfoImpl.getUserDetailList();\r\n    list.clear();\r\n    \r\n    // client B\r\n    var list = userInfoImpl.getUserDetailList();\r\n    list.get(0); // IndexOutOfBoundsException\r\n\r\nOther clients that use the same object can now get unexpected `IndexOutOfBoundsException`\r\n\r\nTo solve this you can return a copy of the list.\r\n\r\n","title":"Mutable members should not be stored on ArrayList - Sonar vulnerability","body":"<p>You are returning a reference to <code>userDetails</code>. By doing this you break encapsulation which can potentially bring your <code>UserInfoImpl</code> class in an inconsistent state. For example when a client (other class that uses your class) calls <code>clear</code> on the returned list.</p>\n<pre><code>// client A\nvar list = userInfoImpl.getUserDetailList();\nlist.clear();\n\n// client B\nvar list = userInfoImpl.getUserDetailList();\nlist.get(0); // IndexOutOfBoundsException\n</code></pre>\n<p>Other clients that use the same object can now get unexpected <code>IndexOutOfBoundsException</code></p>\n<p>To solve this you can return a copy of the list.</p>\n"},{"tags":[],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659096179,"creation_date":1659096179,"answer_id":73166418,"question_id":73156512,"body_markdown":"[This rule][1] protects against a method being able to change the state of your `UserInfoImpl` instance after calling one of its getter functions.\r\n\r\nThere are two possibilities:\r\n\r\n 1. A caller can change the returned list. You have possibly already prevented that by using `Collections.unmodifiableList`, but that is done in a method called `perform()` - how does Sonar know that `perform()` is always called before `getUserDetailList`? Why not return `Collections.unmodifiableList` inside the body of your `getUserDetailList` method?\r\n\r\n 2. Even if you ensure that the returned list is always unmodifiable, the caller can still modify the `UserInfo` instances contained in the list. To prevent that possibility, ensure that `UserInfo` is unmodifiable, or make a copy of each `UserInfo` that you put into the list returned by `getUserDetailList`.\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-2384","title":"Mutable members should not be stored on ArrayList - Sonar vulnerability","body":"<p><a href=\"https://rules.sonarsource.com/java/RSPEC-2384\" rel=\"nofollow noreferrer\">This rule</a> protects against a method being able to change the state of your <code>UserInfoImpl</code> instance after calling one of its getter functions.</p>\n<p>There are two possibilities:</p>\n<ol>\n<li><p>A caller can change the returned list. You have possibly already prevented that by using <code>Collections.unmodifiableList</code>, but that is done in a method called <code>perform()</code> - how does Sonar know that <code>perform()</code> is always called before <code>getUserDetailList</code>? Why not return <code>Collections.unmodifiableList</code> inside the body of your <code>getUserDetailList</code> method?</p>\n</li>\n<li><p>Even if you ensure that the returned list is always unmodifiable, the caller can still modify the <code>UserInfo</code> instances contained in the list. To prevent that possibility, ensure that <code>UserInfo</code> is unmodifiable, or make a copy of each <code>UserInfo</code> that you put into the list returned by <code>getUserDetailList</code>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25523476,"reputation":151,"user_id":19312929,"display_name":"Mario R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659096179,"creation_date":1659027156,"question_id":73156512,"body_markdown":"I have sonar &quot;Mutable members should not be stored or returned directly&quot; issue in my java class. I have fixed it by below code but still sonar is giving me the same error \r\n\r\n    public class UserInfoImpl\r\n    {\r\n        List&lt;UserInfo&gt; userDetails = Collections.emptyList();\r\n    \r\n        void perform()\r\n        {\r\n    \r\n                List&lt;UserInfo&gt; userDetails = service.getUserDetails();\r\n                userDetails = new ArrayList&lt;&gt;(userDetails);\r\n                this.userDetails = Collections.unmodifiableList(userDetails);\r\n           \r\n        }\r\n    \r\n     \r\n        public final List&lt;UserInfo&gt; getUserDetailList()\r\n        {\r\n            return userDetails;  // sonar error happens at this line\r\n        }\r\n    }\r\n\r\ndoes anyone have any idea?","title":"Mutable members should not be stored on ArrayList - Sonar vulnerability","body":"<p>I have sonar &quot;Mutable members should not be stored or returned directly&quot; issue in my java class. I have fixed it by below code but still sonar is giving me the same error</p>\n<pre><code>public class UserInfoImpl\n{\n    List&lt;UserInfo&gt; userDetails = Collections.emptyList();\n\n    void perform()\n    {\n\n            List&lt;UserInfo&gt; userDetails = service.getUserDetails();\n            userDetails = new ArrayList&lt;&gt;(userDetails);\n            this.userDetails = Collections.unmodifiableList(userDetails);\n       \n    }\n\n \n    public final List&lt;UserInfo&gt; getUserDetailList()\n    {\n        return userDetails;  // sonar error happens at this line\n    }\n}\n</code></pre>\n<p>does anyone have any idea?</p>\n"},{"tags":["java","spring","hibernate","timestamp"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659096147,"creation_date":1659096147,"answer_id":73166406,"question_id":73151339,"body_markdown":"Changing the contents of an associated object (`Rate`) or the join table (`cash_rates`?) does not make the referring object `Cash` &quot;dirty&quot;. I think if you switch to an `@ElementCollection` and make the `Rate` an `@Embeddable`, any change to these objects will make the object `Cash` be considered as &quot;dirty&quot; and hence the `lastModified` attribute will be updated.\r\n\r\nIf that doesn&#39;t work, you&#39;ll have to update the timestamp yourself in the code.","title":"@UpdateTimestamp not working on updating the user defined member variable","body":"<p>Changing the contents of an associated object (<code>Rate</code>) or the join table (<code>cash_rates</code>?) does not make the referring object <code>Cash</code> &quot;dirty&quot;. I think if you switch to an <code>@ElementCollection</code> and make the <code>Rate</code> an <code>@Embeddable</code>, any change to these objects will make the object <code>Cash</code> be considered as &quot;dirty&quot; and hence the <code>lastModified</code> attribute will be updated.</p>\n<p>If that doesn't work, you'll have to update the timestamp yourself in the code.</p>\n"}],"owner":{"account_id":10472614,"reputation":241,"user_id":7720057,"display_name":"Nitin Bisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73166406,"answer_count":1,"score":0,"last_activity_date":1659096147,"creation_date":1659004227,"question_id":73151339,"body_markdown":"I am trying to update an entity by modifying the user defined member variable using the repository.save() method. The object is correctly updated and persisted but the timestamp of the member variable in the entity with the annotation *@UpdateTimestamp* is not getting updated.\r\n\r\nMy Entity classes are CASH &amp; RATE:\r\n\r\n    @Entity\r\n    @Table(name = &quot;CASH&quot;)\r\n    public class Cash{\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;cash_id&quot;)\r\n        private List&lt;Rate&gt; rates = new ArrayList&lt;&gt;();\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        private User createdBy;\r\n    \r\n        @CreationTimestamp\r\n        @Column(name = &quot;CREATED&quot;, nullable = false)\r\n        private ZonedDateTime created;\r\n    \r\n    \r\n        @Column(name = &quot;LAST_MODIFIED&quot;, nullable = false)\r\n        @UpdateTimestamp\r\n        private ZonedDateTime lastModified;\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;RATE&quot;)\r\n    public class Rate {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;PRODUCT&quot;)\r\n        private String product;\r\n    \r\n        @Column(name = &quot;PRICE&quot;)\r\n        private String product;\r\n\r\nRepositories for both the CASH and RATE class :\r\n\r\n    @Repository\r\n    public interface CashRepository extends JpaRepository&lt;Cash, Long&gt; {\r\n       Optional&lt;Cash&gt; findTopOrderByCreatedDesc();\r\n    }\r\n    \r\n    @Repository\r\n    public interface RateRepository extends JpaRepository&lt;Rate, Long&gt; {\r\n    }\r\n\r\nThe update() method written in the service of Cash looks like :- \r\n\r\n     public void updateRate(Long productId, RateDto rateDto, Authentication authentication) {\r\n            User user = userService.getCurrentUser(authentication);\r\n            Optional&lt;Cash&gt; cashRate = cashRepository.findTopOrderByCreatedDesc();\r\n            if (Cash.isPresent()) {\r\n                Cash latestCash = cashRate.get();\r\n                List&lt;Rate&gt; rateList = latestCash.getRates();\r\n    \r\n    \t\t\tfor(Rate rate: rateList){\r\n    \t\t\t\tif(Objects.equals(rate.getId(), productId))){\r\n    \t\t\t\t\trate.setProduct(&quot;Update Product&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n                rate newRates = mapToRates(rateDto, user); // the rateDto will have all the fields different(updated fields)  \r\n                rateList.add(newRates);\r\n    \t\t\tlatestCash.setRates(rateList);\r\n                Cash updatedCashAlternative = cashAlternativeProductsRepository.save(latestCash);\r\n            } else{\r\n                throw new CashException();\r\n            }\r\n        }\r\n\r\nThe latestCash object is perfectly getting saved with the updated list of rates but the lastModified field in the object is not getting updated.\r\nIs *@UpdateTimestamp* only works if any of the non composite member variable is changed/updated. ??\r\n\r\n\r\nAlso i tried extending the CrudRepository instead of JpaRepository and tried updating it using the repository.update() method but it didn&#39;t work.","title":"@UpdateTimestamp not working on updating the user defined member variable","body":"<p>I am trying to update an entity by modifying the user defined member variable using the repository.save() method. The object is correctly updated and persisted but the timestamp of the member variable in the entity with the annotation <em>@UpdateTimestamp</em> is not getting updated.</p>\n<p>My Entity classes are CASH &amp; RATE:</p>\n<pre><code>@Entity\n@Table(name = &quot;CASH&quot;)\npublic class Cash{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;cash_id&quot;)\n    private List&lt;Rate&gt; rates = new ArrayList&lt;&gt;();\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    private User createdBy;\n\n    @CreationTimestamp\n    @Column(name = &quot;CREATED&quot;, nullable = false)\n    private ZonedDateTime created;\n\n\n    @Column(name = &quot;LAST_MODIFIED&quot;, nullable = false)\n    @UpdateTimestamp\n    private ZonedDateTime lastModified;\n\n\n@Entity\n@Table(name = &quot;RATE&quot;)\npublic class Rate {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;PRODUCT&quot;)\n    private String product;\n\n    @Column(name = &quot;PRICE&quot;)\n    private String product;\n</code></pre>\n<p>Repositories for both the CASH and RATE class :</p>\n<pre><code>@Repository\npublic interface CashRepository extends JpaRepository&lt;Cash, Long&gt; {\n   Optional&lt;Cash&gt; findTopOrderByCreatedDesc();\n}\n\n@Repository\npublic interface RateRepository extends JpaRepository&lt;Rate, Long&gt; {\n}\n</code></pre>\n<p>The update() method written in the service of Cash looks like :-</p>\n<pre><code> public void updateRate(Long productId, RateDto rateDto, Authentication authentication) {\n        User user = userService.getCurrentUser(authentication);\n        Optional&lt;Cash&gt; cashRate = cashRepository.findTopOrderByCreatedDesc();\n        if (Cash.isPresent()) {\n            Cash latestCash = cashRate.get();\n            List&lt;Rate&gt; rateList = latestCash.getRates();\n\n            for(Rate rate: rateList){\n                if(Objects.equals(rate.getId(), productId))){\n                    rate.setProduct(&quot;Update Product&quot;);\n                }\n            }\n            rate newRates = mapToRates(rateDto, user); // the rateDto will have all the fields different(updated fields)  \n            rateList.add(newRates);\n            latestCash.setRates(rateList);\n            Cash updatedCashAlternative = cashAlternativeProductsRepository.save(latestCash);\n        } else{\n            throw new CashException();\n        }\n    }\n</code></pre>\n<p>The latestCash object is perfectly getting saved with the updated list of rates but the lastModified field in the object is not getting updated.\nIs <em>@UpdateTimestamp</em> only works if any of the non composite member variable is changed/updated. ??</p>\n<p>Also i tried extending the CrudRepository instead of JpaRepository and tried updating it using the repository.update() method but it didn't work.</p>\n"},{"tags":["java","spring","unit-testing","testing","mockito"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1659090959,"post_id":73164901,"comment_id":129218352,"body_markdown":"How is the &#39;equals method&#39; of GameDTO defined?","body":"How is the &#39;equals method&#39; of GameDTO defined?"},{"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"score":0,"creation_date":1659095663,"post_id":73164901,"comment_id":129219922,"body_markdown":"@sigur I don&#39;t understand what you mean, GameDTO has no defined Equals method.","body":"@sigur I don&#39;t understand what you mean, GameDTO has no defined Equals method."},{"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"score":0,"creation_date":1659096132,"post_id":73164901,"comment_id":129220102,"body_markdown":"@sigur I have also added Postman test showing it works correctly","body":"@sigur I have also added Postman test showing it works correctly"},{"owner":{"account_id":25251803,"reputation":88,"user_id":19084192,"display_name":"Kaiak"},"score":0,"creation_date":1659098185,"post_id":73164901,"comment_id":129220891,"body_markdown":"Are you sure that you are using the mocked gameService instance inside the controller? Because otherwise the controller is not going to call the mocked method but the actual implementation.\n\nCan you provide the test setup?","body":"Are you sure that you are using the mocked gameService instance inside the controller? Because otherwise the controller is not going to call the mocked method but the actual implementation.  Can you provide the test setup?"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1659099201,"post_id":73164901,"comment_id":129221280,"body_markdown":"What&#39;s the meaning of Postman test?! How can you execute the method @Test &quot;addGameSuccessfully&quot; by Postman? I suspect by Postman you&#39;re calling the actual API running, not the unit test.","body":"What&#39;s the meaning of Postman test?! How can you execute the method @Test &quot;addGameSuccessfully&quot; by Postman? I suspect by Postman you&#39;re calling the actual API running, not the unit test."}],"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659096114,"creation_date":1659088822,"question_id":73164901,"body_markdown":"I am trying to test my controller method and have used the approach I have used for my other controllers successfully. I am unsure why it is returning an empty ResponseEntity &lt;&gt; because I am clearly mocking the service to return &quot;Success.&quot;.\r\n        \r\n     @Test\r\n            public void addGameSuccessfully() throws Exception {\r\n                GameDTO gameDTO = new GameDTO(1L, 2L, GameResult.VICTORY.getResult());\r\n                doReturn(true).when(userService).userExistsWithId(1L);\r\n                doReturn(true).when(userService).userExistsWithId(2L);\r\n        \r\n                when(gameService.addGame(gameDTO)).thenReturn(&quot;Success.&quot;);\r\n        \r\n                String json = objectMapper.writeValueAsString(gameDTO);\r\n        \r\n                MvcResult mvcResult = mockMvc.perform(post(&quot;/api/v1/games/add-game&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(json).characterEncoding(&quot;utf-8&quot;))\r\n                        .andExpect(status().isOk()).andReturn();\r\n        \r\n                String response = mvcResult.getResponse().getContentAsString();\r\n                assertEquals(&quot;Success.&quot;, response);\r\n           }\r\nController method:\r\n\r\n    /**\r\n     * Create a Game entity to record a game that has been played.\r\n     *\r\n     * @param gameDTO the game dto to create a Game entity from.\r\n     * @return the response entity indicating success/failure.\r\n     */\r\n    @PostMapping(&quot;/add-game&quot;)\r\n    public ResponseEntity&lt;?&gt; addGame(@RequestBody final GameDTO gameDTO) {\r\n        if (!userService.userExistsWithId(gameDTO.getUser1.getUserId)) || !userService.userExistsWithId(gameDTO.getUser2.getUserId())) {\r\n            return ResponseEntity.badRequest().body(&quot;Failed to create a game because the user/users do/does not exist.&quot;);\r\n        }\r\n        String msg = gameService.addGame(gameDTO);\r\n        return ResponseEntity.ok(msg);\r\n    }\r\n\r\nThe test fails due to an assertion error: expected: &lt;Success.&gt; but was: &lt;&gt;\r\n\r\nI also tried adding a System.out.println() to print the gameDTO object property values in the GameController method and successfully printed these values so it has the right gameDTO.\r\n\r\nI am very confused because I have used this same approach on other controllers and all have been successful.\r\n\r\nAlso, other tests in the GameControllerTest class work fine so its not an issue with configuration etc.\r\n\r\nEdit: Postman test works btw:\r\n[![enter image description here][1]][1]\r\n\r\nThanks for any help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Rhrq.png","title":"Mocked unit test error: Expected &#39;&lt;Success.&#39; but was &#39;&lt;&gt;&#39;, why is my controller returning an empty ResponseEntity when it is mocked to return Success?","body":"<p>I am trying to test my controller method and have used the approach I have used for my other controllers successfully. I am unsure why it is returning an empty ResponseEntity &lt;&gt; because I am clearly mocking the service to return &quot;Success.&quot;.</p>\n<pre><code> @Test\n        public void addGameSuccessfully() throws Exception {\n            GameDTO gameDTO = new GameDTO(1L, 2L, GameResult.VICTORY.getResult());\n            doReturn(true).when(userService).userExistsWithId(1L);\n            doReturn(true).when(userService).userExistsWithId(2L);\n    \n            when(gameService.addGame(gameDTO)).thenReturn(&quot;Success.&quot;);\n    \n            String json = objectMapper.writeValueAsString(gameDTO);\n    \n            MvcResult mvcResult = mockMvc.perform(post(&quot;/api/v1/games/add-game&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(json).characterEncoding(&quot;utf-8&quot;))\n                    .andExpect(status().isOk()).andReturn();\n    \n            String response = mvcResult.getResponse().getContentAsString();\n            assertEquals(&quot;Success.&quot;, response);\n       }\n</code></pre>\n<p>Controller method:</p>\n<pre><code>/**\n * Create a Game entity to record a game that has been played.\n *\n * @param gameDTO the game dto to create a Game entity from.\n * @return the response entity indicating success/failure.\n */\n@PostMapping(&quot;/add-game&quot;)\npublic ResponseEntity&lt;?&gt; addGame(@RequestBody final GameDTO gameDTO) {\n    if (!userService.userExistsWithId(gameDTO.getUser1.getUserId)) || !userService.userExistsWithId(gameDTO.getUser2.getUserId())) {\n        return ResponseEntity.badRequest().body(&quot;Failed to create a game because the user/users do/does not exist.&quot;);\n    }\n    String msg = gameService.addGame(gameDTO);\n    return ResponseEntity.ok(msg);\n}\n</code></pre>\n<p>The test fails due to an assertion error: expected: &lt;Success.&gt; but was: &lt;&gt;</p>\n<p>I also tried adding a System.out.println() to print the gameDTO object property values in the GameController method and successfully printed these values so it has the right gameDTO.</p>\n<p>I am very confused because I have used this same approach on other controllers and all have been successful.</p>\n<p>Also, other tests in the GameControllerTest class work fine so its not an issue with configuration etc.</p>\n<p>Edit: Postman test works btw:\n<a href=\"https://i.stack.imgur.com/4Rhrq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Rhrq.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks for any help!</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1658230632,"post_id":73036116,"comment_id":128995006,"body_markdown":"What are you actually trying to do in your test?","body":"What are you actually trying to do in your test?"},{"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"score":0,"creation_date":1658231424,"post_id":73036116,"comment_id":128995332,"body_markdown":"Try to check the enum values, not mock and call real the method","body":"Try to check the enum values, not mock and call real the method"},{"owner":{"account_id":14414394,"reputation":452,"user_id":10412230,"display_name":"Chris"},"score":0,"creation_date":1658232231,"post_id":73036116,"comment_id":128995657,"body_markdown":"The actual test tests a more complex enum where I want to mock certain methods but not others (basically normal mocking usage in tests). I basically want to mock the enum as you would any other abstract class. (Which has worked before, but does not anymore)","body":"The actual test tests a more complex enum where I want to mock certain methods but not others (basically normal mocking usage in tests). I basically want to mock the enum as you would any other abstract class. (Which has worked before, but does not anymore)"}],"answers":[{"tags":[],"owner":{"account_id":14414394,"reputation":452,"user_id":10412230,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659095951,"creation_date":1659095951,"answer_id":73166362,"question_id":73036116,"body_markdown":"After some digging we found the following:\r\n\r\nThe issue is that the current Mockito version (4.6.1) can&#39;t mock `sealed` classes.  \r\n`sealed` is a new modifier in java 17, which in short is the same as `final` with exceptions which classes are allowed to implement the sealed class.\r\n\r\n`enum`s are final in java, but as soon as you create implementations in one of the enum values, it becomes `sealed`\r\n\r\nOur workaround was refactoring the enum into an abstract class with inner classes that have the specific implementations.  \r\nWhen Mockito supports `sealed` we can revert this change, but until then you need to use abstract classes here","title":"Mockito: Mocking abstract enum throws exception","body":"<p>After some digging we found the following:</p>\n<p>The issue is that the current Mockito version (4.6.1) can't mock <code>sealed</code> classes.<br />\n<code>sealed</code> is a new modifier in java 17, which in short is the same as <code>final</code> with exceptions which classes are allowed to implement the sealed class.</p>\n<p><code>enum</code>s are final in java, but as soon as you create implementations in one of the enum values, it becomes <code>sealed</code></p>\n<p>Our workaround was refactoring the enum into an abstract class with inner classes that have the specific implementations.<br />\nWhen Mockito supports <code>sealed</code> we can revert this change, but until then you need to use abstract classes here</p>\n"}],"owner":{"account_id":14414394,"reputation":452,"user_id":10412230,"display_name":"Chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73166362,"answer_count":1,"score":1,"last_activity_date":1659095951,"creation_date":1658230377,"question_id":73036116,"body_markdown":"I have a lot of tests, that worked with Java 11, but do not work anymore with Java 17 and newer versions of Mockito\r\n\r\nThis is a very simplified example, but it already crashes for me\r\n\r\n```java\r\npublic enum ASD {\r\n    DEF {\r\n        @Override\r\n        public void a() {\r\n        }\r\n    };\r\n    public abstract void a();\r\n}\r\n\r\n@Test\r\nvoid test() throws Exception {\r\n    mock(ASD.class, Mockito.CALLS_REAL_METHODS);\r\n}\r\n```\r\nException:\r\n\r\n```none\r\nOpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n\r\norg.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class TestClass$ASD.\r\n\r\nIf you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\n\r\nJava               : 17\r\nJVM vendor name    : Eclipse Adoptium\r\nJVM vendor version : 17.0.2+8\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 17.0.2+8\r\nJVM info           : mixed mode, sharing\r\nOS name            : Linux\r\nOS version         : 5.4.0-122-generic\r\n\r\n\r\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\r\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\r\n\r\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Unsupported settings with this type &#39;TestClass$ASD&#39;\r\n\r\n\tat TestClass.test(TestClass.java:21)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.mockito.exceptions.base.MockitoException: Unsupported settings with this type &#39;TestClass$ASD&#39;\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:168)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:399)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:190)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:410)\r\n\t... 70 more\r\n```\r\n\r\nI&#39;m using the following dependency versions:\r\n- JDK 17.0.2\r\n- org.junit.jupiter:junit-jupiter:jar:5.8.2\r\n- org.mockito.mockito-inline:4.6.1\r\n\r\n","title":"Mockito: Mocking abstract enum throws exception","body":"<p>I have a lot of tests, that worked with Java 11, but do not work anymore with Java 17 and newer versions of Mockito</p>\n<p>This is a very simplified example, but it already crashes for me</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum ASD {\n    DEF {\n        @Override\n        public void a() {\n        }\n    };\n    public abstract void a();\n}\n\n@Test\nvoid test() throws Exception {\n    mock(ASD.class, Mockito.CALLS_REAL_METHODS);\n}\n</code></pre>\n<p>Exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n\norg.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class TestClass$ASD.\n\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 17\nJVM vendor name    : Eclipse Adoptium\nJVM vendor version : 17.0.2+8\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 17.0.2+8\nJVM info           : mixed mode, sharing\nOS name            : Linux\nOS version         : 5.4.0-122-generic\n\n\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\n\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Unsupported settings with this type 'TestClass$ASD'\n\n    at TestClass.test(TestClass.java:21)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.mockito.exceptions.base.MockitoException: Unsupported settings with this type 'TestClass$ASD'\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:168)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:399)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:190)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:410)\n    ... 70 more\n</code></pre>\n<p>I'm using the following dependency versions:</p>\n<ul>\n<li>JDK 17.0.2</li>\n<li>org.junit.jupiter:junit-jupiter:jar:5.8.2</li>\n<li>org.mockito.mockito-inline:4.6.1</li>\n</ul>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659095747,"creation_date":1659001861,"answer_id":73150730,"question_id":73150449,"body_markdown":"&gt; 1. Is CompletableFuture so smart to know that it has to wait for byUserName completion to fill in the parameter in focusService.findMine(byUserName.join().getFacilities())\r\n\r\nThat&#39;s the purpose of the `.join`: wait until the result is ready and return it. If you write code like this:\r\n```\r\nCompletableFuture&lt;ApplicationUserDto&gt; byUserName = applicationUserService\r\n                .findByUserName(getCurrentApplicationUserName());\r\n\r\nCompletableFuture&lt;List&lt;FocusDto&gt;&gt; focuses = focusService.findMine(byUserName.join().getFacilities());\r\n```\r\n\r\nYou are telling the application to block the execution and wait for `byUserName` to complete before calling `findMine`, so that you have the parameter for `.findMine`.\r\n\r\nThis also means that you don&#39;t need to call `.allOf` after, because you already know that `byUserName` is completed.\r\n\r\nYou could rewrite everything like this:\r\n```\r\nIterable&lt;IdmDataFacade&gt; facilities = applicationUserService\r\n                .findByUserName(getCurrentApplicationUserName())\r\n                .thenCompose(byUserNameResult -&gt; focusService\r\n                    .findMine(byUserNameResult.getFacilities())\r\n                    .thenApply(findMineResult -&gt; idmService\r\n                        .lookupFacilities(new HashSet&lt;&gt;(byUserNameResult.getFacilities())).toIterable()\r\n                    )\r\n                )\r\n                .join();\r\n```\r\n\r\n&gt; 2. Which piece of code is better to be used?\r\n\r\nWho knows? It depends what you are trying to achieve. Usually, it doesn&#39;t make sense to `.join` after every `CompletionStage` if you are using them.\r\n\r\n","title":"Combine CompletableFuture","body":"<blockquote>\n<ol>\n<li>Is CompletableFuture so smart to know that it has to wait for byUserName completion to fill in the parameter in focusService.findMine(byUserName.join().getFacilities())</li>\n</ol>\n</blockquote>\n<p>That's the purpose of the <code>.join</code>: wait until the result is ready and return it. If you write code like this:</p>\n<pre><code>CompletableFuture&lt;ApplicationUserDto&gt; byUserName = applicationUserService\n                .findByUserName(getCurrentApplicationUserName());\n\nCompletableFuture&lt;List&lt;FocusDto&gt;&gt; focuses = focusService.findMine(byUserName.join().getFacilities());\n</code></pre>\n<p>You are telling the application to block the execution and wait for <code>byUserName</code> to complete before calling <code>findMine</code>, so that you have the parameter for <code>.findMine</code>.</p>\n<p>This also means that you don't need to call <code>.allOf</code> after, because you already know that <code>byUserName</code> is completed.</p>\n<p>You could rewrite everything like this:</p>\n<pre><code>Iterable&lt;IdmDataFacade&gt; facilities = applicationUserService\n                .findByUserName(getCurrentApplicationUserName())\n                .thenCompose(byUserNameResult -&gt; focusService\n                    .findMine(byUserNameResult.getFacilities())\n                    .thenApply(findMineResult -&gt; idmService\n                        .lookupFacilities(new HashSet&lt;&gt;(byUserNameResult.getFacilities())).toIterable()\n                    )\n                )\n                .join();\n</code></pre>\n<blockquote>\n<ol start=\"2\">\n<li>Which piece of code is better to be used?</li>\n</ol>\n</blockquote>\n<p>Who knows? It depends what you are trying to achieve. Usually, it doesn't make sense to <code>.join</code> after every <code>CompletionStage</code> if you are using them.</p>\n"}],"owner":{"account_id":9885814,"reputation":1371,"user_id":7320372,"display_name":"Thomas Lang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73150730,"answer_count":1,"score":0,"last_activity_date":1659095747,"creation_date":1659000568,"question_id":73150449,"body_markdown":"I have this code:\r\n```java\r\nCompletableFuture&lt;ApplicationUserDto&gt; byUserName = applicationUserService\r\n\t\t\t\t.findByUserName(getCurrentApplicationUserName());\r\n\r\nCompletableFuture&lt;List&lt;FocusDto&gt;&gt; focuses = focusService.findMine(byUserName.join().getFacilities());\r\n\r\nCompletableFuture.allOf(byUserName, focuses).join();\r\n\r\nIterable&lt;IdmDataFacade&gt; facilities = idmService.lookupFacilities(new HashSet&lt;&gt;(byUserName.join().getFacilities())).toIterable();\r\n\r\n```\r\nSo in `focusService.findMine`  \r\ni&#39;m dependent on the result from  \r\n`applicationUserService.findByUserName(getCurrentApplicationUserName())`\r\n\r\nBut in my frontend tests all data is displayed in the right way and manner.\r\n\r\nI&#180;ve read about `thenCompose` method on `CompletableFuture` so i tested this code:\r\n\r\n```java\r\nCompletableFuture&lt;ApplicationUserDto&gt; byUserName = applicationUserService\r\n\t\t\t\t.findByUserName(getCurrentApplicationUserName());\r\n\r\nCompletableFuture&lt;List&lt;FocusDto&gt;&gt; focuses = byUserName\r\n\t\t\t\t.thenComposeAsync((result) -&gt; focusService.findMine(result.getFacilities()));\r\n\r\nCompletableFuture.allOf(byUserName, focuses).join();\r\n\r\nIterable&lt;IdmDataFacade&gt; facilities = idmService.lookupFacilities(new HashSet&lt;&gt;(byUserName.join().getFacilities())).toIterable();\r\n```\r\n\r\nBoth code snippets lead to the exact same results. In the log i can see the threads being used. Even these are equal.\r\n\r\nSo my questions:\r\n\r\n1. Is `CompletableFuture` so smart to know that it has to wait for `byUserName` completion to fill in the parameter in `focusService.findMine(byUserName.join().getFacilities())`\r\n\r\n2. Which piece of code is better to be used?","title":"Combine CompletableFuture","body":"<p>I have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;ApplicationUserDto&gt; byUserName = applicationUserService\n                .findByUserName(getCurrentApplicationUserName());\n\nCompletableFuture&lt;List&lt;FocusDto&gt;&gt; focuses = focusService.findMine(byUserName.join().getFacilities());\n\nCompletableFuture.allOf(byUserName, focuses).join();\n\nIterable&lt;IdmDataFacade&gt; facilities = idmService.lookupFacilities(new HashSet&lt;&gt;(byUserName.join().getFacilities())).toIterable();\n\n</code></pre>\n<p>So in <code>focusService.findMine</code><br />\ni'm dependent on the result from<br />\n<code>applicationUserService.findByUserName(getCurrentApplicationUserName())</code></p>\n<p>But in my frontend tests all data is displayed in the right way and manner.</p>\n<p>I´ve read about <code>thenCompose</code> method on <code>CompletableFuture</code> so i tested this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;ApplicationUserDto&gt; byUserName = applicationUserService\n                .findByUserName(getCurrentApplicationUserName());\n\nCompletableFuture&lt;List&lt;FocusDto&gt;&gt; focuses = byUserName\n                .thenComposeAsync((result) -&gt; focusService.findMine(result.getFacilities()));\n\nCompletableFuture.allOf(byUserName, focuses).join();\n\nIterable&lt;IdmDataFacade&gt; facilities = idmService.lookupFacilities(new HashSet&lt;&gt;(byUserName.join().getFacilities())).toIterable();\n</code></pre>\n<p>Both code snippets lead to the exact same results. In the log i can see the threads being used. Even these are equal.</p>\n<p>So my questions:</p>\n<ol>\n<li><p>Is <code>CompletableFuture</code> so smart to know that it has to wait for <code>byUserName</code> completion to fill in the parameter in <code>focusService.findMine(byUserName.join().getFacilities())</code></p>\n</li>\n<li><p>Which piece of code is better to be used?</p>\n</li>\n</ol>\n"},{"tags":["java","spring","hibernate","jpa","criteria"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1658947310,"post_id":73140154,"comment_id":129181408,"body_markdown":"This seems more like an SQL question, not JPA: Order by can only be done on clauses included in the select. So how are you adding this subquery to your main query? (see JPA specification sections 4.9 and 6.5.14 for details)","body":"This seems more like an SQL question, not JPA: Order by can only be done on clauses included in the select. So how are you adding this subquery to your main query? (see JPA specification sections 4.9 and 6.5.14 for details)"},{"owner":{"account_id":25890993,"reputation":1,"user_id":19618412,"display_name":"Yoo"},"score":0,"creation_date":1659084907,"post_id":73140154,"comment_id":129216162,"body_markdown":"I need to order by this query : ORDER  BY (SELECT COUNT(*) FROM replicationdetail replicatio5_ WHERE replicatio0_.idreplication = replicatio5_.replication_idreplication);","body":"I need to order by this query : ORDER  BY (SELECT COUNT(*) FROM replicationdetail replicatio5_ WHERE replicatio0_.idreplication = replicatio5_.replication_idreplication);"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1659237142,"post_id":73140154,"comment_id":129245186,"body_markdown":"Yes, but how does this fit with your query? Unless you select this count value, you can’t order the rows by it","body":"Yes, but how does this fit with your query? Unless you select this count value, you can’t order the rows by it"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659095052,"creation_date":1659095052,"answer_id":73166172,"question_id":73140154,"body_markdown":"I think you have to use this instead:\r\n\r\n```\r\nquery.orderBy(builder.asc(subQueryReplicationDetail));\r\n```\r\n\r\nThe `orderBy` method takes `Order` objects that can be constructed with the `CriteriaBuilder`","title":"OrderBy a SubQuery Criteria JPA","body":"<p>I think you have to use this instead:</p>\n<pre><code>query.orderBy(builder.asc(subQueryReplicationDetail));\n</code></pre>\n<p>The <code>orderBy</code> method takes <code>Order</code> objects that can be constructed with the <code>CriteriaBuilder</code></p>\n"}],"owner":{"account_id":25890993,"reputation":1,"user_id":19618412,"display_name":"Yoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659095052,"creation_date":1658933534,"question_id":73140154,"body_markdown":"Im a new JPA criteria programmer and I need to orderBy this subQuery but orderBy just take order as params, any help please ?\r\n\r\n   \r\n\r\n     Subquery&lt;Long&gt; subQueryReplicationDetail = query.subquery(Long.class);\r\n        Root&lt;ReplicationDetail&gt; replicationsDetail = subQueryReplicationDetail.from(ReplicationDetail.class);\r\n        Predicate pred = null;\r\n        pred = builder.equal(replicationsDetail.get(ReplicationDetailProperties.id); replications.get(ReplicationProperties.id));\r\n        \r\n                \t\tsubQueryReplicationDetail.select(builder.count(replicationsDetail.get(ReplicationDetailProperties.id))).where(pred);\r\n        \r\n        if (ReplicationDTO.COLUMN_NB_OBJECTS.equals(filter.getSortColumn())) {\r\n        \t\t\t\t\tquery.orderBy(subQueryReplicationDetail);\r\n    \t\t\t\t}\r\n","title":"OrderBy a SubQuery Criteria JPA","body":"<p>Im a new JPA criteria programmer and I need to orderBy this subQuery but orderBy just take order as params, any help please ?</p>\n<pre><code> Subquery&lt;Long&gt; subQueryReplicationDetail = query.subquery(Long.class);\n    Root&lt;ReplicationDetail&gt; replicationsDetail = subQueryReplicationDetail.from(ReplicationDetail.class);\n    Predicate pred = null;\n    pred = builder.equal(replicationsDetail.get(ReplicationDetailProperties.id); replications.get(ReplicationProperties.id));\n    \n                    subQueryReplicationDetail.select(builder.count(replicationsDetail.get(ReplicationDetailProperties.id))).where(pred);\n    \n    if (ReplicationDTO.COLUMN_NB_OBJECTS.equals(filter.getSortColumn())) {\n                        query.orderBy(subQueryReplicationDetail);\n                }\n</code></pre>\n"},{"tags":["java","typescript","sveltekit"],"answers":[{"tags":[],"owner":{"account_id":16546767,"reputation":15048,"user_id":11956107,"display_name":"Stephane Vanraes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659094595,"creation_date":1659094595,"answer_id":73166089,"question_id":73164820,"body_markdown":"It is ok to not await it.\r\n\r\nA reason to await it would  be if you want to add extra headers to the response as in the second example: \r\n```js\r\nexport async function handle({ event, resolve }) {\r\n  const response = await resolve(event);\r\n  response.headers.set(&#39;x-custom-header&#39;, &#39;potato&#39;);\r\n \r\n  return response;\r\n}\r\n```","title":"Do i have to await the resolve function when implementing hooks on sveltekit","body":"<p>It is ok to not await it.</p>\n<p>A reason to await it would  be if you want to add extra headers to the response as in the second example:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export async function handle({ event, resolve }) {\n  const response = await resolve(event);\n  response.headers.set('x-custom-header', 'potato');\n \n  return response;\n}\n</code></pre>\n"}],"owner":{"account_id":25801026,"reputation":3,"user_id":19543464,"display_name":"Advancering Newholder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73166089,"answer_count":1,"score":0,"last_activity_date":1659094595,"creation_date":1659088441,"question_id":73164820,"body_markdown":"i got this handle implementation for sveltekit hooks and because it returns a promise of response, the resolve function doesn&#39;t need to be awaited, since it is a function that either returns a value directly or returns a promise of a value, but [this example from the docs](https://kit.svelte.dev/docs/hooks#handle) awaits the function. is it ok not to await and when to and not to (if it&#39;s ok) await \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    export const handle:Handle=async ({event,resolve}) =&gt; {\r\n        \r\n        let sid = getsid(event.request.headers.get(&#39;cookie&#39;))\r\n        event.locals.sessionobj = getSO(sid?sid:&#39;test&#39;)\r\n\r\n        return resolve(event)\r\n        \r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Do i have to await the resolve function when implementing hooks on sveltekit","body":"<p>i got this handle implementation for sveltekit hooks and because it returns a promise of response, the resolve function doesn't need to be awaited, since it is a function that either returns a value directly or returns a promise of a value, but <a href=\"https://kit.svelte.dev/docs/hooks#handle\" rel=\"nofollow noreferrer\">this example from the docs</a> awaits the function. is it ok not to await and when to and not to (if it's ok) await</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export const handle:Handle=async ({event,resolve}) =&gt; {\n    \n    let sid = getsid(event.request.headers.get('cookie'))\n    event.locals.sessionobj = getSO(sid?sid:'test')\n\n    return resolve(event)\n    \n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":1611350,"reputation":2849,"user_id":1554844,"accept_rate":69,"display_name":"Vaughan Hilts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375681565,"creation_date":1375681565,"answer_id":18051306,"question_id":18051286,"body_markdown":"The latest version of LWJGL [according to the documentation][1] says that it has a static method called getWidth. Make sure you&#39;re invoking it by it&#39;s class name and not on an object - as it&#39;s static. \r\n\r\n\r\n  [1]: http://lwjgl.org/javadoc/org/lwjgl/opengl/Display.html#getWidth%28%29","title":"Screen width and height LWJGL","body":"<p>The latest version of LWJGL <a href=\"http://lwjgl.org/javadoc/org/lwjgl/opengl/Display.html#getWidth%28%29\" rel=\"nofollow\">according to the documentation</a> says that it has a static method called getWidth. Make sure you're invoking it by it's class name and not on an object - as it's static. </p>\n"},{"tags":[],"owner":{"account_id":23456235,"reputation":1,"user_id":17511673,"display_name":"MrFirekiller"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659094588,"creation_date":1659094588,"answer_id":73166086,"question_id":18051286,"body_markdown":"In LWJGL, there are two display classes, one in:\r\n- org.lwjgl.opengl\r\n\r\nand the other in:\r\n- org.lwjgl.util\r\n\r\nIf you import from the opengl package, you don&#39;t need getDisplayMode() and if you import from the util package you do.","title":"Screen width and height LWJGL","body":"<p>In LWJGL, there are two display classes, one in:</p>\n<ul>\n<li>org.lwjgl.opengl</li>\n</ul>\n<p>and the other in:</p>\n<ul>\n<li>org.lwjgl.util</li>\n</ul>\n<p>If you import from the opengl package, you don't need getDisplayMode() and if you import from the util package you do.</p>\n"}],"owner":{"account_id":2768818,"reputation":332,"user_id":2383846,"accept_rate":62,"display_name":"ToXic73"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659094588,"creation_date":1375681428,"question_id":18051286,"body_markdown":"I am making a simple LWJGL program and would like to be able to use the width and height of the window. I can do it now I just have to use `Display.getDisplayMode().getWidth()` but I have seen people use just `Display.getWidth()`\r\n\r\nSo my question is why is this happening, and what do I need to change for it to just use `Display.getWidth();`","title":"Screen width and height LWJGL","body":"<p>I am making a simple LWJGL program and would like to be able to use the width and height of the window. I can do it now I just have to use <code>Display.getDisplayMode().getWidth()</code> but I have seen people use just <code>Display.getWidth()</code></p>\n\n<p>So my question is why is this happening, and what do I need to change for it to just use <code>Display.getWidth();</code></p>\n"},{"tags":["java","json","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":4870108,"reputation":3891,"user_id":3926930,"accept_rate":60,"display_name":"Shafin Mahmud"},"score":0,"creation_date":1518596365,"post_id":48782359,"comment_id":84566270,"body_markdown":"You need to show your handler method from your controller and It will be nice also to see your servlet configuration. There is nothing to do with these entity.","body":"You need to show your handler method from your controller and It will be nice also to see your servlet configuration. There is nothing to do with these entity."},{"owner":{"account_id":12654654,"reputation":31,"user_id":9197549,"display_name":"Kartikeya Garg"},"score":0,"creation_date":1518597089,"post_id":48782359,"comment_id":84566609,"body_markdown":"@ShafinMahmud I have added the controller. I am not able to find the servlet configuration file in my project.","body":"@ShafinMahmud I have added the controller. I am not able to find the servlet configuration file in my project."},{"owner":{"account_id":4870108,"reputation":3891,"user_id":3926930,"accept_rate":60,"display_name":"Shafin Mahmud"},"score":0,"creation_date":1518597271,"post_id":48782359,"comment_id":84566698,"body_markdown":"Thats not your Controller you gave us. You need to first know how Spring MVC works. If you dont know what is what, know them first. You can see this  https://dzone.com/articles/how-spring-mvc-really-works","body":"Thats not your Controller you gave us. You need to first know how Spring MVC works. If you dont know what is what, know them first. You can see this  <a href=\"https://dzone.com/articles/how-spring-mvc-really-works\" rel=\"nofollow noreferrer\">dzone.com/articles/how-spring-mvc-really-works</a>"},{"owner":{"account_id":2651999,"reputation":7958,"user_id":3145373,"accept_rate":77,"display_name":"user3145373 ツ"},"score":0,"creation_date":1518603184,"post_id":48782359,"comment_id":84570450,"body_markdown":"Add default constructor to request entity. Else add `consumes = MediaType.APPLICATION_JSON_VALUE` and make sure you&#39;re sending json value with valid headers.","body":"Add default constructor to request entity. Else add <code>consumes = MediaType.APPLICATION_JSON_VALUE</code> and make sure you&#39;re sending json value with valid headers."}],"answers":[{"tags":[],"owner":{"account_id":6836948,"reputation":4738,"user_id":5258516,"accept_rate":75,"display_name":"e2rabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518602492,"creation_date":1518602492,"answer_id":48784319,"question_id":48782359,"body_markdown":"In your POST method add the consumes attribute \r\n\r\n    @RequestMapping(value = &quot;/newsletters&quot;, method = RequestMethod.POST,consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;BaseResponse&gt; addNewsletter(RequestEntity&lt;SingleNewsletterRequest&gt; request) {\r\n    ....\r\n    }\r\n\r\nthis will assumes that the HTTP request you are creating actually has\r\n\r\n`Content-Type:application/json` instead of `text/plain`","title":"Content type &#39;application/json;charset=UTF-8&#39; not supported","body":"<p>In your POST method add the consumes attribute </p>\n\n<pre><code>@RequestMapping(value = \"/newsletters\", method = RequestMethod.POST,consumes = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;BaseResponse&gt; addNewsletter(RequestEntity&lt;SingleNewsletterRequest&gt; request) {\n....\n}\n</code></pre>\n\n<p>this will assumes that the HTTP request you are creating actually has</p>\n\n<p><code>Content-Type:application/json</code> instead of <code>text/plain</code></p>\n"},{"tags":[],"owner":{"account_id":989188,"reputation":132,"user_id":1006924,"display_name":"Alex Evseenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551803387,"creation_date":1551803387,"answer_id":55007392,"question_id":48782359,"body_markdown":"In my case the issue occurred due to some functional methods of the DTO have the names that follow Java Beans naming conventions, e.g. isValid().\r\n\r\nIt was absent in a request json-representation and then, when it&#39;s deserialized in back-end side the issue occurred.\r\n\r\nSo, try to check if any Java Beans methods (get*, set*, is*) has no their counterparts in respective front-end objects and avoid such methods (I&#39;ve just changed the name to simply valid()).\r\n\r\nHopefully this helps.","title":"Content type &#39;application/json;charset=UTF-8&#39; not supported","body":"<p>In my case the issue occurred due to some functional methods of the DTO have the names that follow Java Beans naming conventions, e.g. isValid().</p>\n\n<p>It was absent in a request json-representation and then, when it's deserialized in back-end side the issue occurred.</p>\n\n<p>So, try to check if any Java Beans methods (get*, set*, is*) has no their counterparts in respective front-end objects and avoid such methods (I've just changed the name to simply valid()).</p>\n\n<p>Hopefully this helps.</p>\n"},{"tags":[],"owner":{"account_id":12271777,"reputation":632,"user_id":8956733,"display_name":"Taraskin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659094352,"creation_date":1659094352,"answer_id":73166035,"question_id":48782359,"body_markdown":"Answered here: https://stackoverflow.com/a/50567626/8956733\r\n\r\nTry to remove `@JsonManagedReference`\r\n\r\nA bit weird, but it did help me as well (see my comment below).","title":"Content type &#39;application/json;charset=UTF-8&#39; not supported","body":"<p>Answered here: <a href=\"https://stackoverflow.com/a/50567626/8956733\">https://stackoverflow.com/a/50567626/8956733</a></p>\n<p>Try to remove <code>@JsonManagedReference</code></p>\n<p>A bit weird, but it did help me as well (see my comment below).</p>\n"}],"owner":{"account_id":12654654,"reputation":31,"user_id":9197549,"display_name":"Kartikeya Garg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12909,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1659094352,"creation_date":1518595585,"question_id":48782359,"body_markdown":"I am creating a newsletter API using java spring framework. Whenever I am hitting the API as a post with request model getting this excetion org.springframework.web.HttpMediaTypeNotSupportedException.\r\n\r\nThis is my newsletter model\r\n\r\n    @Entity\r\n    @Table(name = &quot;ns_newsletters&quot;)\r\n    public class Newsletter extends DomainObject {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;newsletter_gen&quot;)\r\n    @TableGenerator(name = &quot;newsletter_gen&quot;, table = &quot;ns_newsletter_id_gen&quot;, pkColumnName = &quot;GEN_NAME&quot;, valueColumnName = &quot;GEN_VAL&quot;, pkColumnValue = &quot;NewsletterId_Gen&quot;, initialValue = 1, allocationSize = 1)\r\n    @Column(name = &quot;subscriber_id&quot;)\r\n    private int subscriberId;\r\n\r\n    @Column(name = &quot;subscriber_email_address&quot;)\r\n    private String subscriberEmailAddress;\r\n\r\n    @Column(name = &quot;is_subscribe&quot;)\r\n    public boolean isSubscribe;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;gender&quot;)\r\n    private String gender;\r\n\r\n    @JsonManagedReference\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;ns_newsletter_mailer_list_linkage&quot;, joinColumns = {@JoinColumn(name = &quot;subscriber_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;newsletter_mailer_id&quot;)})\r\n    private Set&lt;NewsletterMailerList&gt; mailerLists;\r\n\r\n\r\n    public Newsletter() {\r\n        super();\r\n    }\r\n\r\n    public Newsletter(String createdBy, Timestamp creationDate, int version, Timestamp lastModifiedDate,\r\n                      String lastModifiedBy, RecordStatus recordStatus) {\r\n        super(createdBy, creationDate, version, lastModifiedDate, lastModifiedBy, recordStatus);\r\n    }\r\n\r\n     public Newsletter(Set&lt;NewsletterMailerList&gt; mailerLists, int subscriberId, String subscriberEmailId, boolean isSubscribe, String firstName, String lastName, String sex) {\r\n        super();\r\n        this.subscriberId = subscriberId;\r\n        this.subscriberEmailAddress = subscriberEmailId;\r\n        this.isSubscribe = isSubscribe;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.gender = sex;\r\n        this.mailerLists = mailerLists;\r\n    }\r\n\r\n    public int getSubscriberId() {\r\n        return subscriberId;\r\n    }\r\n\r\n    public void setSubscriberId(int subscriberId) {\r\n        this.subscriberId = subscriberId;\r\n    }\r\n\r\n    public String getSubscriberEmailAddress() {\r\n        return subscriberEmailAddress;\r\n    }\r\n\r\n    public void setSubscriberEmailAddress(String subscriberEmailAddress) {\r\n        this.subscriberEmailAddress = subscriberEmailAddress;\r\n    }\r\n\r\n    public boolean isSubscribe() {\r\n        return isSubscribe;\r\n    }\r\n\r\n    public void setSubscribe(boolean subscribe) {\r\n        isSubscribe = subscribe;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public void setGender(String gender) {\r\n        this.gender = gender;\r\n    }\r\n\r\n    public Set&lt;NewsletterMailerList&gt; getMailerLists() {\r\n        return mailerLists;\r\n    }\r\n\r\n    public void setMailerLists(Set&lt;NewsletterMailerList&gt; mailerLists) {\r\n        this.mailerLists = mailerLists;\r\n    }\r\n    }\r\n\r\nThis is my NewsletterMailerList model\r\n\r\n    @Entity\r\n    @Table(name = &quot;ns_newsletter_mailer_list&quot;)\r\n    public class NewsletterMailerList extends DomainObject {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;newsletter_mailer_list_gen&quot;)\r\n    @TableGenerator(name = &quot;newsletter_mailer_list_gen&quot;, table = &quot;ns_newsletter_mailer_list_id_gen&quot;, pkColumnName = &quot;GEN_NAME&quot;, valueColumnName = &quot;GEN_VAL&quot;, pkColumnValue = &quot;NewsletterMailerList_Gen&quot;, initialValue = 1000, allocationSize = 1)\r\n    @Column(name = &quot;newsletter_mailer_id&quot;)\r\n    private int newsletterMailerId;\r\n\r\n    @Column(name = &quot;mailer_list_name&quot;)\r\n    private String mailerListName;\r\n\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @JsonBackReference\r\n    @ManyToMany(cascade = CascadeType.ALL, mappedBy = &quot;mailerLists&quot;)\r\n    private Set&lt;Newsletter&gt; newsletters;\r\n\r\n    public Set&lt;Newsletter&gt; getNewsletter() {\r\n        return newsletters;\r\n    }\r\n\r\n    public void setNewsletter(Set&lt;Newsletter&gt; newsletters) {\r\n        this.newsletters = newsletters;\r\n    }\r\n\r\n    public int getNewsletterMailerId() {\r\n        return newsletterMailerId;\r\n    }\r\n\r\n    public void setNewsletterMailerId(int newsletterMailerId) {\r\n        this.newsletterMailerId = newsletterMailerId;\r\n    }\r\n\r\n    public String getMailerListName() {\r\n        return mailerListName;\r\n    }\r\n\r\n    public void setMailerListName(String mailerListName) {\r\n        this.mailerListName = mailerListName;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Set&lt;Newsletter&gt; getNewsletters() {\r\n        return newsletters;\r\n    }\r\n\r\n    public void setNewsletters(Set&lt;Newsletter&gt; newsletters) {\r\n        this.newsletters = newsletters;\r\n    }\r\n    }\r\n\r\n\r\nI give contain type as application/json.\r\nI am new to do this kind of stuff. Please help me why I am getting this error. If you need anything more let me know.\r\n\r\nThis is Newsletter Controller\r\n\r\n    package com.neostencil.modules.newslettermanagement.controller;\r\n\r\n\r\n    import com.neostencil.framework.base.BaseResponse;\r\n    import com.neostencil.framework.enums.StatusType;\r\n    import com.neostencil.framework.utilities.common.CollectionUtil;\r\n    import io.swagger.annotations.Api;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.RequestEntity;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;api/v1&quot;)\r\n    @Api(value = &quot;Newsletter&quot;, description = &quot;Rest API for Newsletter \r\n    operations&quot;, tags = &quot;Newsletter API&quot;)\r\n    public class NewsletterController {\r\n\r\n    @Autowired\r\n    NewsletterService newsletterService;\r\n\r\n    @RequestMapping(value = &quot;/newsletters&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;BaseResponse&gt; addNewsletter(RequestEntity&lt;SingleNewsletterRequest&gt; request) {\r\n\r\n        ResponseEntity&lt;BaseResponse&gt; response = null;\r\n        BaseResponse baseResponse = new BaseResponse();\r\n        List&lt;String&gt; messages = new ArrayList&lt;&gt;();\r\n\r\n        if (request.getBody() == null) {\r\n            baseResponse.setStatus(StatusType.NOT_FOUND);\r\n            messages.add(&quot;Newsletter request is empty or null&quot;);\r\n            baseResponse.setMessages(messages);\r\n            response = new ResponseEntity&lt;BaseResponse&gt;(baseResponse, HttpStatus.BAD_REQUEST);\r\n        } else {\r\n            Newsletter newsletter = request.getBody().getNewsletter();\r\n            Set&lt;NewsletterMailerList&gt; mailerLists = request.getBody().getNewsletter().getMailerLists();\r\n\r\n            if (CollectionUtil.isEmpty(mailerLists) || !mailerLists.contains(MailerListType.list_1) || !mailerLists.contains(MailerListType.list_2)) {\r\n                NewsletterMailerList newsletterMailerList1 = new NewsletterMailerList();\r\n                newsletterMailerList1.setMailerListName(MailerListType.list_1);\r\n\r\n                NewsletterMailerList newsletterMailerList2 = new NewsletterMailerList();\r\n                newsletterMailerList2.setMailerListName(MailerListType.list_2);\r\n\r\n                mailerLists.add(newsletterMailerList1);\r\n                mailerLists.add(newsletterMailerList2);\r\n\r\n                newsletter.setMailerLists(mailerLists);\r\n            }\r\n\r\n\r\n            newsletterService.addNewsletter(newsletter);\r\n            baseResponse.setStatus(StatusType.SUCCESSFUL);\r\n            messages.add(&quot;Newsletter added successfully&quot;);\r\n            baseResponse.setMessages(messages);\r\n            response = new ResponseEntity&lt;BaseResponse&gt;(baseResponse, HttpStatus.OK);\r\n\r\n\r\n        }\r\n\r\n        return response;\r\n\r\n\r\n    }\r\n    }\r\n\r\nThis is request  class \r\n\r\n    public class SingleNewsletterRequest {\r\n\r\n    Newsletter newsletter;\r\n\r\n    public Newsletter getNewsletter() {\r\n        return newsletter;\r\n    }\r\n\r\n    public void setNewsletter(Newsletter newsletter) {\r\n        this.newsletter = newsletter;\r\n    }\r\n    }\r\n\r\n","title":"Content type &#39;application/json;charset=UTF-8&#39; not supported","body":"<p>I am creating a newsletter API using java spring framework. Whenever I am hitting the API as a post with request model getting this excetion org.springframework.web.HttpMediaTypeNotSupportedException.</p>\n\n<p>This is my newsletter model</p>\n\n<pre><code>@Entity\n@Table(name = \"ns_newsletters\")\npublic class Newsletter extends DomainObject {\n\n@Id\n@GeneratedValue(strategy = GenerationType.TABLE, generator = \"newsletter_gen\")\n@TableGenerator(name = \"newsletter_gen\", table = \"ns_newsletter_id_gen\", pkColumnName = \"GEN_NAME\", valueColumnName = \"GEN_VAL\", pkColumnValue = \"NewsletterId_Gen\", initialValue = 1, allocationSize = 1)\n@Column(name = \"subscriber_id\")\nprivate int subscriberId;\n\n@Column(name = \"subscriber_email_address\")\nprivate String subscriberEmailAddress;\n\n@Column(name = \"is_subscribe\")\npublic boolean isSubscribe;\n\n@Column(name = \"first_name\")\nprivate String firstName;\n\n@Column(name = \"last_name\")\nprivate String lastName;\n\n@Column(name = \"gender\")\nprivate String gender;\n\n@JsonManagedReference\n@ManyToMany(cascade = CascadeType.ALL)\n@JoinTable(name = \"ns_newsletter_mailer_list_linkage\", joinColumns = {@JoinColumn(name = \"subscriber_id\")},\n        inverseJoinColumns = {@JoinColumn(name = \"newsletter_mailer_id\")})\nprivate Set&lt;NewsletterMailerList&gt; mailerLists;\n\n\npublic Newsletter() {\n    super();\n}\n\npublic Newsletter(String createdBy, Timestamp creationDate, int version, Timestamp lastModifiedDate,\n                  String lastModifiedBy, RecordStatus recordStatus) {\n    super(createdBy, creationDate, version, lastModifiedDate, lastModifiedBy, recordStatus);\n}\n\n public Newsletter(Set&lt;NewsletterMailerList&gt; mailerLists, int subscriberId, String subscriberEmailId, boolean isSubscribe, String firstName, String lastName, String sex) {\n    super();\n    this.subscriberId = subscriberId;\n    this.subscriberEmailAddress = subscriberEmailId;\n    this.isSubscribe = isSubscribe;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.gender = sex;\n    this.mailerLists = mailerLists;\n}\n\npublic int getSubscriberId() {\n    return subscriberId;\n}\n\npublic void setSubscriberId(int subscriberId) {\n    this.subscriberId = subscriberId;\n}\n\npublic String getSubscriberEmailAddress() {\n    return subscriberEmailAddress;\n}\n\npublic void setSubscriberEmailAddress(String subscriberEmailAddress) {\n    this.subscriberEmailAddress = subscriberEmailAddress;\n}\n\npublic boolean isSubscribe() {\n    return isSubscribe;\n}\n\npublic void setSubscribe(boolean subscribe) {\n    isSubscribe = subscribe;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic String getGender() {\n    return gender;\n}\n\npublic void setGender(String gender) {\n    this.gender = gender;\n}\n\npublic Set&lt;NewsletterMailerList&gt; getMailerLists() {\n    return mailerLists;\n}\n\npublic void setMailerLists(Set&lt;NewsletterMailerList&gt; mailerLists) {\n    this.mailerLists = mailerLists;\n}\n}\n</code></pre>\n\n<p>This is my NewsletterMailerList model</p>\n\n<pre><code>@Entity\n@Table(name = \"ns_newsletter_mailer_list\")\npublic class NewsletterMailerList extends DomainObject {\n\n@Id\n@GeneratedValue(strategy = GenerationType.TABLE, generator = \"newsletter_mailer_list_gen\")\n@TableGenerator(name = \"newsletter_mailer_list_gen\", table = \"ns_newsletter_mailer_list_id_gen\", pkColumnName = \"GEN_NAME\", valueColumnName = \"GEN_VAL\", pkColumnValue = \"NewsletterMailerList_Gen\", initialValue = 1000, allocationSize = 1)\n@Column(name = \"newsletter_mailer_id\")\nprivate int newsletterMailerId;\n\n@Column(name = \"mailer_list_name\")\nprivate String mailerListName;\n\n@Column(name = \"description\")\nprivate String description;\n\n@JsonBackReference\n@ManyToMany(cascade = CascadeType.ALL, mappedBy = \"mailerLists\")\nprivate Set&lt;Newsletter&gt; newsletters;\n\npublic Set&lt;Newsletter&gt; getNewsletter() {\n    return newsletters;\n}\n\npublic void setNewsletter(Set&lt;Newsletter&gt; newsletters) {\n    this.newsletters = newsletters;\n}\n\npublic int getNewsletterMailerId() {\n    return newsletterMailerId;\n}\n\npublic void setNewsletterMailerId(int newsletterMailerId) {\n    this.newsletterMailerId = newsletterMailerId;\n}\n\npublic String getMailerListName() {\n    return mailerListName;\n}\n\npublic void setMailerListName(String mailerListName) {\n    this.mailerListName = mailerListName;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic void setDescription(String description) {\n    this.description = description;\n}\n\npublic Set&lt;Newsletter&gt; getNewsletters() {\n    return newsletters;\n}\n\npublic void setNewsletters(Set&lt;Newsletter&gt; newsletters) {\n    this.newsletters = newsletters;\n}\n}\n</code></pre>\n\n<p>I give contain type as application/json.\nI am new to do this kind of stuff. Please help me why I am getting this error. If you need anything more let me know.</p>\n\n<p>This is Newsletter Controller</p>\n\n<pre><code>package com.neostencil.modules.newslettermanagement.controller;\n\n\nimport com.neostencil.framework.base.BaseResponse;\nimport com.neostencil.framework.enums.StatusType;\nimport com.neostencil.framework.utilities.common.CollectionUtil;\nimport io.swagger.annotations.Api;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.RequestEntity;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\n\n@RestController\n@RequestMapping(value = \"api/v1\")\n@Api(value = \"Newsletter\", description = \"Rest API for Newsletter \noperations\", tags = \"Newsletter API\")\npublic class NewsletterController {\n\n@Autowired\nNewsletterService newsletterService;\n\n@RequestMapping(value = \"/newsletters\", method = RequestMethod.POST)\npublic ResponseEntity&lt;BaseResponse&gt; addNewsletter(RequestEntity&lt;SingleNewsletterRequest&gt; request) {\n\n    ResponseEntity&lt;BaseResponse&gt; response = null;\n    BaseResponse baseResponse = new BaseResponse();\n    List&lt;String&gt; messages = new ArrayList&lt;&gt;();\n\n    if (request.getBody() == null) {\n        baseResponse.setStatus(StatusType.NOT_FOUND);\n        messages.add(\"Newsletter request is empty or null\");\n        baseResponse.setMessages(messages);\n        response = new ResponseEntity&lt;BaseResponse&gt;(baseResponse, HttpStatus.BAD_REQUEST);\n    } else {\n        Newsletter newsletter = request.getBody().getNewsletter();\n        Set&lt;NewsletterMailerList&gt; mailerLists = request.getBody().getNewsletter().getMailerLists();\n\n        if (CollectionUtil.isEmpty(mailerLists) || !mailerLists.contains(MailerListType.list_1) || !mailerLists.contains(MailerListType.list_2)) {\n            NewsletterMailerList newsletterMailerList1 = new NewsletterMailerList();\n            newsletterMailerList1.setMailerListName(MailerListType.list_1);\n\n            NewsletterMailerList newsletterMailerList2 = new NewsletterMailerList();\n            newsletterMailerList2.setMailerListName(MailerListType.list_2);\n\n            mailerLists.add(newsletterMailerList1);\n            mailerLists.add(newsletterMailerList2);\n\n            newsletter.setMailerLists(mailerLists);\n        }\n\n\n        newsletterService.addNewsletter(newsletter);\n        baseResponse.setStatus(StatusType.SUCCESSFUL);\n        messages.add(\"Newsletter added successfully\");\n        baseResponse.setMessages(messages);\n        response = new ResponseEntity&lt;BaseResponse&gt;(baseResponse, HttpStatus.OK);\n\n\n    }\n\n    return response;\n\n\n}\n}\n</code></pre>\n\n<p>This is request  class </p>\n\n<pre><code>public class SingleNewsletterRequest {\n\nNewsletter newsletter;\n\npublic Newsletter getNewsletter() {\n    return newsletter;\n}\n\npublic void setNewsletter(Newsletter newsletter) {\n    this.newsletter = newsletter;\n}\n}\n</code></pre>\n"},{"tags":["java","sql-server","jdbc","jtds"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1659087905,"post_id":73163802,"comment_id":129217207,"body_markdown":"It does it because every `setNString` method in jTDS does this: `public void setNString(String parameterName, String value) throws SQLException { throw new AbstractMethodError(); }`. Your customer is using a driver that hasn&#39;t seen any source code updates since 2016 and isn&#39;t likely to see any updates ever again. The way to fix it is to encourage your customer to upgrade to a modern, supported driver.","body":"It does it because every <code>setNString</code> method in jTDS does this: <code>public void setNString(String parameterName, String value) throws SQLException { throw new AbstractMethodError(); }</code>. Your customer is using a driver that hasn&#39;t seen any source code updates since 2016 and isn&#39;t likely to see any updates ever again. The way to fix it is to encourage your customer to upgrade to a modern, supported driver."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659094534,"post_id":73163802,"comment_id":129219550,"body_markdown":"Related, possibly duplicate: [jtds.jdbc.JtdsConnection.createBlob java.lang.AbstractMethodError](https://stackoverflow.com/questions/69346461/jtds-jdbc-jtdsconnection-createblob-java-lang-abstractmethoderror). TL;DR: jTDS doesn&#39;t implement JDBC 4 (Java 6) support, so it doesn&#39;t have methods like `setNString`, which results in the `AbstractMethodError` at runtime.","body":"Related, possibly duplicate: <a href=\"https://stackoverflow.com/questions/69346461/jtds-jdbc-jtdsconnection-createblob-java-lang-abstractmethoderror\">jtds.jdbc.JtdsConnection.createBlob java.lang.AbstractMethodError</a>. TL;DR: jTDS doesn&#39;t implement JDBC 4 (Java 6) support, so it doesn&#39;t have methods like <code>setNString</code>, which results in the <code>AbstractMethodError</code> at runtime."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659187859,"post_id":73163802,"comment_id":129236731,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25924248,"reputation":1,"user_id":19646333,"display_name":"Muhammad Nadeem Kader"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659094318,"creation_date":1659083580,"question_id":73163802,"body_markdown":"I&#39;m trying to insert Unicode characters using Java, to a SQL Server 2016 database. Currently, I&#39;m experiencing an issue with the ```Statement.setNString(unicodeData)``` method, when using the jTDS Type 4 JDBC Driver. The method throws an `AbstractMethodError`.\r\n\r\nThe normal ```Statement.setString(unicodeData)``` method works fine, but it inserts Unicode characters as question marks in the db. I changed to a SQL Server driver and the ```Statement.setNString(unicodeData)``` inserts Unicode characters with no issues, but the customer cannot change drivers like I did.\r\nAny ideas or reasons why this happens or any way to fix this?\r\n\r\n","title":"Java jDTS setNString() throws an AbstractMethodError","body":"<p>I'm trying to insert Unicode characters using Java, to a SQL Server 2016 database. Currently, I'm experiencing an issue with the <code>Statement.setNString(unicodeData)</code> method, when using the jTDS Type 4 JDBC Driver. The method throws an <code>AbstractMethodError</code>.</p>\n<p>The normal <code>Statement.setString(unicodeData)</code> method works fine, but it inserts Unicode characters as question marks in the db. I changed to a SQL Server driver and the <code>Statement.setNString(unicodeData)</code> inserts Unicode characters with no issues, but the customer cannot change drivers like I did.\nAny ideas or reasons why this happens or any way to fix this?</p>\n"},{"tags":["java","jvm","garbage-collection","jvm-hotspot"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1659112636,"post_id":73165894,"comment_id":129223555,"body_markdown":"Something else to check: https://www.evanjones.ca/jvm-mmap-pause.html","body":"Something else to check: <a href=\"https://www.evanjones.ca/jvm-mmap-pause.html\" rel=\"nofollow noreferrer\">evanjones.ca/jvm-mmap-pause.html</a>"},{"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"score":0,"creation_date":1659145450,"post_id":73165894,"comment_id":129230532,"body_markdown":"Run with JFR: java -XX:StartFlightRecording ... The JVM could be in a safepoint, for example, due to a call to ThreadMXBean.findDeadlockedThreads(). You will be able to see the name of the safepoint in the recording.","body":"Run with JFR: java -XX:StartFlightRecording ... The JVM could be in a safepoint, for example, due to a call to ThreadMXBean.findDeadlockedThreads(). You will be able to see the name of the safepoint in the recording."},{"owner":{"account_id":12913839,"reputation":13,"user_id":9338762,"display_name":"Tuhin Dey"},"score":0,"creation_date":1659213278,"post_id":73165894,"comment_id":129242322,"body_markdown":"@boneill - Thanks for the input. I have checked our GC logs again and found out that our case is different. In our case the GC never actually took time. The real time value is also always lesser than quarter of a second.","body":"@boneill - Thanks for the input. I have checked our GC logs again and found out that our case is different. In our case the GC never actually took time. The real time value is also always lesser than quarter of a second."},{"owner":{"account_id":12913839,"reputation":13,"user_id":9338762,"display_name":"Tuhin Dey"},"score":0,"creation_date":1659214568,"post_id":73165894,"comment_id":129242581,"body_markdown":"@KireHaglin - This is a Production setup with considerable amount of load and JFR slows down the application significantly. Hence it is not possible to enable jvm profiling.  But I think I understand the point you are trying to make. Basically the safepoint cause name should tell us the operation which was running. I have done a bit of research on this and am going to enable certain flags related to GC which will dump these safepoint causes in GC log itself. I have referred to https://blanco.io/blog/jvm-safepoint-pauses/  blog. I will let you guys know If anything is found. Thanks a lot.","body":"@KireHaglin - This is a Production setup with considerable amount of load and JFR slows down the application significantly. Hence it is not possible to enable jvm profiling.  But I think I understand the point you are trying to make. Basically the safepoint cause name should tell us the operation which was running. I have done a bit of research on this and am going to enable certain flags related to GC which will dump these safepoint causes in GC log itself. I have referred to <a href=\"https://blanco.io/blog/jvm-safepoint-pauses/\" rel=\"nofollow noreferrer\">blanco.io/blog/jvm-safepoint-pauses</a>  blog. I will let you guys know If anything is found. Thanks a lot."}],"owner":{"account_id":12913839,"reputation":13,"user_id":9338762,"display_name":"Tuhin Dey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659093783,"creation_date":1659093591,"question_id":73165894,"body_markdown":"In one of our production setups we have found that the customer was facing slowness in one of our server. Upon debugging for a bit we have found evidences which suggests the jvm itself was hang completely for 15-20 seconds(Not getting into the evidences for this post). To find the causes of jvm hang we checked the following things.\r\n\r\n - GC - We have found the GC was normal. Memory used was way below the configured xmx and load avg in the system was also normal (around 1-2). Moreover we have found in gc log that no log was printed during that 15-20 seconds interval when jvm was found hang. Before that it was working fine and worked normally post hang.\r\n- We figured may be the underlying node (OS/hardware) itself was hang. So we checked the normal /var/log/messages and some other OS related logs. We checked the logs of an independent agent running on the same machine and it was also working fine. This suggest that there is no problem with the hardware.\r\n- We checked if there was some heap-dump, or core dump or any other dump which can cause the jvm to freeze. We could not find any eveidence of these files been created. Moreover because our application was already using around 20GB of RAM I think a heap dump would probably take more than a minute and won&#39;t be possible in 15-20 seconds.\r\n- We also tried to check if there were any external requests or scripts which must be requesting for jstack or histo from process at that time, but we haven&#39;t found any. I cannot confirm this because I am not sure if jvm logs somewhere when it is requested for a jstack or histo but we haven&#39;t found any scripts running or any such files been dumped.\r\n\r\nI am not sure what else can cause the jvm to completely hang and what all logs can I enable so that we can catch the bug next time when it happens. Any suggestions would be appreciated.\r\n\r\nWe are using amazon-coretto 8. Xmx was configured as 40GB (I know this is high but this is how it is working on 1000s of other setups as well) and the memory used by java was 15GB around the time of issue. load average was between 1-2 and gc seemed to be normal after analysing the gc logs.\r\n\r\n  ","title":"JVM Hang Debugging","body":"<p>In one of our production setups we have found that the customer was facing slowness in one of our server. Upon debugging for a bit we have found evidences which suggests the jvm itself was hang completely for 15-20 seconds(Not getting into the evidences for this post). To find the causes of jvm hang we checked the following things.</p>\n<ul>\n<li>GC - We have found the GC was normal. Memory used was way below the configured xmx and load avg in the system was also normal (around 1-2). Moreover we have found in gc log that no log was printed during that 15-20 seconds interval when jvm was found hang. Before that it was working fine and worked normally post hang.</li>\n<li>We figured may be the underlying node (OS/hardware) itself was hang. So we checked the normal /var/log/messages and some other OS related logs. We checked the logs of an independent agent running on the same machine and it was also working fine. This suggest that there is no problem with the hardware.</li>\n<li>We checked if there was some heap-dump, or core dump or any other dump which can cause the jvm to freeze. We could not find any eveidence of these files been created. Moreover because our application was already using around 20GB of RAM I think a heap dump would probably take more than a minute and won't be possible in 15-20 seconds.</li>\n<li>We also tried to check if there were any external requests or scripts which must be requesting for jstack or histo from process at that time, but we haven't found any. I cannot confirm this because I am not sure if jvm logs somewhere when it is requested for a jstack or histo but we haven't found any scripts running or any such files been dumped.</li>\n</ul>\n<p>I am not sure what else can cause the jvm to completely hang and what all logs can I enable so that we can catch the bug next time when it happens. Any suggestions would be appreciated.</p>\n<p>We are using amazon-coretto 8. Xmx was configured as 40GB (I know this is high but this is how it is working on 1000s of other setups as well) and the memory used by java was 15GB around the time of issue. load average was between 1-2 and gc seemed to be normal after analysing the gc logs.</p>\n"},{"tags":["java","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659093760,"creation_date":1659093760,"answer_id":73165932,"question_id":73129859,"body_markdown":"See https://hibernate.org/community/contribute/intellij-idea/#debugging for details. The problem is that some of your `toString()` implementations (which the IntelliJ debugger invokes) access state of uninitialized entity/collection proxies, which will cause lazy initialization and hence a select query. If you have pending flushes (insert/update/delete) which affect one of the tables that are about to be selected from, Hibernate forcefully executes pending flushes.\r\n\r\nBy changing your `toString()` implementations or changing how IntelliJ shows objects in the debugger, you can avoid this.","title":"Hibernate 6 perfroms update query after select query","body":"<p>See <a href=\"https://hibernate.org/community/contribute/intellij-idea/#debugging\" rel=\"nofollow noreferrer\">https://hibernate.org/community/contribute/intellij-idea/#debugging</a> for details. The problem is that some of your <code>toString()</code> implementations (which the IntelliJ debugger invokes) access state of uninitialized entity/collection proxies, which will cause lazy initialization and hence a select query. If you have pending flushes (insert/update/delete) which affect one of the tables that are about to be selected from, Hibernate forcefully executes pending flushes.</p>\n<p>By changing your <code>toString()</code> implementations or changing how IntelliJ shows objects in the debugger, you can avoid this.</p>\n"}],"owner":{"account_id":14827465,"reputation":33,"user_id":10707970,"display_name":"Dont you mind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73165932,"answer_count":1,"score":0,"last_activity_date":1659093760,"creation_date":1658870410,"question_id":73129859,"body_markdown":"I wrote a simple entity named &quot;User&quot; and another one called &quot;Company&quot;. User entity has company inside with @ManyToOne(fetch = LAZY) mapping. When I create the session object and call get() method Hibernate executes select query and after it update, why?\r\n\r\nUser entity:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode\r\n    @ToString\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User2 {\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(unique = true)\r\n        private String username;\r\n    \r\n        @Embedded\r\n        @EqualsAndHashCode.Exclude\r\n        private PersonalInfo personalInfo;\r\n    \r\n        @Enumerated(STRING)\r\n        @EqualsAndHashCode.Exclude\r\n        private Role role;\r\n    \r\n        @Type(JsonType.class)\r\n        @EqualsAndHashCode.Exclude\r\n        private String info;\r\n    \r\n        @ManyToOne(fetch = LAZY)\r\n        @JoinColumn(name = &quot;company_id&quot;)\r\n        @EqualsAndHashCode.Exclude\r\n        @ToString.Exclude\r\n        private Company company;\r\n    }\r\n\r\n    \r\nCompany entity:\r\n    \r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @EqualsAndHashCode\r\n    @ToString\r\n    @Builder\r\n    @Entity\r\n    public class Company {\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    }\r\n\r\nMain:\r\n\r\n    public class HibernateEntityMappingRunner {\r\n        public static void main(String[] args) {\r\n            try (SessionFactory sessionFactory = buildSessionFactory();\r\n                 Session session = sessionFactory.openSession()\r\n            ) {\r\n                session.beginTransaction();\r\n    \r\n                User2 user2 = session.get(User2.class, 2);\r\n    \r\n                session.getTransaction().commit();\r\n            }\r\n        }\r\n    }\r\n\r\nHibernate console log:\r\n\r\n    Hibernate: \r\n        select\r\n            u1_0.id,\r\n            u1_0.company_id,\r\n            u1_0.info,\r\n            u1_0.birth_date,\r\n            u1_0.firstname,\r\n            u1_0.lastname,\r\n            u1_0.role,\r\n            u1_0.username \r\n        from\r\n            users u1_0 \r\n        where\r\n            u1_0.id=?\r\n    Hibernate: \r\n        update\r\n            users \r\n        set\r\n            company_id=?,\r\n            info=?,\r\n            birth_date=?,\r\n            firstname=?,\r\n            lastname=?,\r\n            role=?,\r\n            username=? \r\n        where\r\n            id=?\r\n\r\n","title":"Hibernate 6 perfroms update query after select query","body":"<p>I wrote a simple entity named &quot;User&quot; and another one called &quot;Company&quot;. User entity has company inside with @ManyToOne(fetch = LAZY) mapping. When I create the session object and call get() method Hibernate executes select query and after it update, why?</p>\n<p>User entity:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@ToString\n@Builder\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User2 {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long id;\n\n    @Column(unique = true)\n    private String username;\n\n    @Embedded\n    @EqualsAndHashCode.Exclude\n    private PersonalInfo personalInfo;\n\n    @Enumerated(STRING)\n    @EqualsAndHashCode.Exclude\n    private Role role;\n\n    @Type(JsonType.class)\n    @EqualsAndHashCode.Exclude\n    private String info;\n\n    @ManyToOne(fetch = LAZY)\n    @JoinColumn(name = &quot;company_id&quot;)\n    @EqualsAndHashCode.Exclude\n    @ToString.Exclude\n    private Company company;\n}\n</code></pre>\n<p>Company entity:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@ToString\n@Builder\n@Entity\npublic class Company {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long id;\n\n    private String name;\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>public class HibernateEntityMappingRunner {\n    public static void main(String[] args) {\n        try (SessionFactory sessionFactory = buildSessionFactory();\n             Session session = sessionFactory.openSession()\n        ) {\n            session.beginTransaction();\n\n            User2 user2 = session.get(User2.class, 2);\n\n            session.getTransaction().commit();\n        }\n    }\n}\n</code></pre>\n<p>Hibernate console log:</p>\n<pre><code>Hibernate: \n    select\n        u1_0.id,\n        u1_0.company_id,\n        u1_0.info,\n        u1_0.birth_date,\n        u1_0.firstname,\n        u1_0.lastname,\n        u1_0.role,\n        u1_0.username \n    from\n        users u1_0 \n    where\n        u1_0.id=?\nHibernate: \n    update\n        users \n    set\n        company_id=?,\n        info=?,\n        birth_date=?,\n        firstname=?,\n        lastname=?,\n        role=?,\n        username=? \n    where\n        id=?\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":11347613,"reputation":679,"user_id":8319640,"display_name":"Kishan Mevada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659092447,"creation_date":1659092447,"answer_id":73165644,"question_id":73165428,"body_markdown":"You can implement class ```View.OnClickListener``` and then you will able to ```Override``` its method just like shown below :\r\n\r\n```\r\npublic class YourActivity implements View.OnClickListener {\r\n  @Override\r\n  public void onClick(View v) {\r\n\r\n  }\r\n}\r\n```","title":"How can we use new View.OnClickListener directly when OnCLickListener is not static","body":"<p>You can implement class <code>View.OnClickListener</code> and then you will able to <code>Override</code> its method just like shown below :</p>\n<pre><code>public class YourActivity implements View.OnClickListener {\n  @Override\n  public void onClick(View v) {\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659093468,"creation_date":1659093468,"answer_id":73165870,"question_id":73165428,"body_markdown":"For java, &quot;A nested interface is implicitly static.&quot; [jls](https://docs.oracle.com/javase/specs/jls/se16/html/jls-9.html) (9.1.1.3) ","title":"How can we use new View.OnClickListener directly when OnCLickListener is not static","body":"<p>For java, &quot;A nested interface is implicitly static.&quot; <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-9.html\" rel=\"nofollow noreferrer\">jls</a> (9.1.1.3)</p>\n"}],"owner":{"display_name":"user19551207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73165870,"answer_count":2,"score":1,"last_activity_date":1659093594,"creation_date":1659091290,"question_id":73165428,"body_markdown":"I was wondering one thing today. Whenever we are setting up a `ClickListener`, we run this code.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    tv.setOnClickListener(new View.OnClickListener() {\r\n      @Override\r\n      public void onClick(View v) {\r\n\r\n      }\r\n    });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI Opened the View Class and saw the `OnClickListener` interface and found that it is `not static`. The method is like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public interface OnClickListener {\r\n      /**\r\n       * Called when a view has been clicked.\r\n       *\r\n       * @param v The view that was clicked.\r\n       */\r\n      void onClick(View v);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen how are we able to access `OnClickListener` method directly by using class name?","title":"How can we use new View.OnClickListener directly when OnCLickListener is not static","body":"<p>I was wondering one thing today. Whenever we are setting up a <code>ClickListener</code>, we run this code.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>tv.setOnClickListener(new View.OnClickListener() {\n  @Override\n  public void onClick(View v) {\n\n  }\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I Opened the View Class and saw the <code>OnClickListener</code> interface and found that it is <code>not static</code>. The method is like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public interface OnClickListener {\n  /**\n   * Called when a view has been clicked.\n   *\n   * @param v The view that was clicked.\n   */\n  void onClick(View v);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then how are we able to access <code>OnClickListener</code> method directly by using class name?</p>\n"},{"tags":["java","android","string","textview","settext"],"answers":[{"tags":[],"owner":{"account_id":25876439,"reputation":159,"user_id":19606347,"display_name":"Fede Cana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659093578,"creation_date":1659093578,"answer_id":73165890,"question_id":73164179,"body_markdown":"To have text strings of different languages you have to set different strings.xml files through the Translation Editor (right click on the strings.xml file -&gt; Open Translation Editor -&gt; Add local -&gt; choose the languages to add). After that you will find different strings.xml files for each language. Enter in each of them the identified name of the string and its translation.\r\n\r\n    &lt;!-- Inside strings.xml --&gt;\r\n    &lt;string name=&quot;good&quot;&gt;Good&lt;/string&gt;\r\n    &lt;string name=&quot;excellent&quot;&gt;Excellent&lt;/string&gt;\r\n\r\n    &lt;!-- Inside strings.xml (it) --&gt;\r\n    &lt;string name=&quot;good&quot;&gt;Buono&lt;/string&gt;\r\n    &lt;string name=&quot;excellent&quot;&gt;Eccellente&lt;/string&gt;\r\n\r\nTo get the string resource from xml to java:\r\n\r\n    getResources().getString(R.string.good)\r\n\r\nNow since you are inside **View.OnClickListener()** you need to do the following:\r\n\r\n    button = findViewById(R.id.btn);\r\n    textView = findViewById(R.id.textView);\r\n    edt1 = findViewById(R.id.edt1);\r\n    edt2 = findViewById(R.id.edt2);\r\n    Context context = this;\r\n    \r\n    button.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n    \r\n            a = Float.parseFloat(edt1.getText().toString());\r\n            b = Float.parseFloat(edt2.getText().toString());\r\n            double A = a +b;\r\n    \r\n         if (Double.compare(A,5f) &lt; 0){\r\n           textView.setText(context.getResources().getString(R.string.good));\r\n           \r\n         if (Double.compare(A,8f) &gt; 0){\r\n           textView.setText(context.getResources().getString(R.string.excellent));\r\n            \r\n        }\r\n    });","title":"Setting Textview in java file","body":"<p>To have text strings of different languages you have to set different strings.xml files through the Translation Editor (right click on the strings.xml file -&gt; Open Translation Editor -&gt; Add local -&gt; choose the languages to add). After that you will find different strings.xml files for each language. Enter in each of them the identified name of the string and its translation.</p>\n<pre><code>&lt;!-- Inside strings.xml --&gt;\n&lt;string name=&quot;good&quot;&gt;Good&lt;/string&gt;\n&lt;string name=&quot;excellent&quot;&gt;Excellent&lt;/string&gt;\n\n&lt;!-- Inside strings.xml (it) --&gt;\n&lt;string name=&quot;good&quot;&gt;Buono&lt;/string&gt;\n&lt;string name=&quot;excellent&quot;&gt;Eccellente&lt;/string&gt;\n</code></pre>\n<p>To get the string resource from xml to java:</p>\n<pre><code>getResources().getString(R.string.good)\n</code></pre>\n<p>Now since you are inside <strong>View.OnClickListener()</strong> you need to do the following:</p>\n<pre><code>button = findViewById(R.id.btn);\ntextView = findViewById(R.id.textView);\nedt1 = findViewById(R.id.edt1);\nedt2 = findViewById(R.id.edt2);\nContext context = this;\n\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n\n        a = Float.parseFloat(edt1.getText().toString());\n        b = Float.parseFloat(edt2.getText().toString());\n        double A = a +b;\n\n     if (Double.compare(A,5f) &lt; 0){\n       textView.setText(context.getResources().getString(R.string.good));\n       \n     if (Double.compare(A,8f) &gt; 0){\n       textView.setText(context.getResources().getString(R.string.excellent));\n        \n    }\n});\n</code></pre>\n"}],"owner":{"account_id":22550058,"reputation":19,"user_id":16739283,"display_name":"Mr Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659093578,"creation_date":1659085615,"question_id":73164179,"body_markdown":" I am making app which use a button and textview. each time user press the button to calculate number, Textview will display a sentence. if A &gt;5 textview will display &quot; good &quot;, if A &gt; 8, textview will display &quot; excellent&quot; and I want words &quot;good&quot; and &quot; excellent&quot; will be shown by many language. In java file where I only put English in: `textView.setText(&quot;&quot;); I don&#39;t know how to get string data from xml to Java file. Can anyone please help me how to do? below is my code in java file:\r\n\r\n\r\n    button = findViewById(R.id.btn);\r\n    textView = findViewById(R.id.textView);\r\n    edt1 = findViewById(R.id.edt1);\r\n    edt2 = findViewById(R.id.edt2);\r\n\r\n    \r\n    button.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            a = Float.parseFloat(edt1.getText().toString());\r\n            b = Float.parseFloat(edt2.getText().toString());\r\n            double A = a +b;\r\n\r\n         if (Double.compare(A,5f) &lt; 0){\r\n           textView.setText(&quot;&quot; );\r\n           \r\n         if (Double.compare(A,8f) &gt; 0){\r\n           textView.setText(&quot;&quot; );\r\n            \r\n        }\r\n    });","title":"Setting Textview in java file","body":"<p>I am making app which use a button and textview. each time user press the button to calculate number, Textview will display a sentence. if A &gt;5 textview will display &quot; good &quot;, if A &gt; 8, textview will display &quot; excellent&quot; and I want words &quot;good&quot; and &quot; excellent&quot; will be shown by many language. In java file where I only put English in: `textView.setText(&quot;&quot;); I don't know how to get string data from xml to Java file. Can anyone please help me how to do? below is my code in java file:</p>\n<pre><code>button = findViewById(R.id.btn);\ntextView = findViewById(R.id.textView);\nedt1 = findViewById(R.id.edt1);\nedt2 = findViewById(R.id.edt2);\n\n\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n\n        a = Float.parseFloat(edt1.getText().toString());\n        b = Float.parseFloat(edt2.getText().toString());\n        double A = a +b;\n\n     if (Double.compare(A,5f) &lt; 0){\n       textView.setText(&quot;&quot; );\n       \n     if (Double.compare(A,8f) &gt; 0){\n       textView.setText(&quot;&quot; );\n        \n    }\n});\n</code></pre>\n"},{"tags":["java","documentation","javadoc"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1659091010,"post_id":73165304,"comment_id":129218371,"body_markdown":"beware: the doc you are showing is incorrect: in this method the param is of type String while the other method has a param of type File. And that&#39;s what you should document :)","body":"beware: the doc you are showing is incorrect: in this method the param is of type String while the other method has a param of type File. And that&#39;s what you should document :)"},{"owner":{"account_id":25527077,"reputation":27,"user_id":19315928,"display_name":"kateryna_sm"},"score":0,"creation_date":1659092774,"post_id":73165304,"comment_id":129218954,"body_markdown":"yeah, but that&#39;s the point?.. it takes the String path and makes a new File out of it in the method it redirects to. otherwise, any other suggestions? should I include ```@return```?","body":"yeah, but that&#39;s the point?.. it takes the String path and makes a new File out of it in the method it redirects to. otherwise, any other suggestions? should I include <code>@return</code>?"},{"owner":{"account_id":25527077,"reputation":27,"user_id":19315928,"display_name":"kateryna_sm"},"score":0,"creation_date":1659093503,"post_id":73165304,"comment_id":129219187,"body_markdown":"@Hulk thank you. Sorry for bothering, but what would be a good doc for ```@return``` if it just redirects to another method?  Should it be something like ```{@link #openBinOut(File path)} return value``` or should I specify the redirected method&#39;s return value fully?","body":"@Hulk thank you. Sorry for bothering, but what would be a good doc for <code>@return</code> if it just redirects to another method?  Should it be something like <code>{@link #openBinOut(File path)} return value</code> or should I specify the redirected method&#39;s return value fully?"}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659093533,"creation_date":1659093533,"answer_id":73165885,"question_id":73165304,"body_markdown":"As this is a public method, yes you should document parameters, return type and values and exceptions thrown (if any). The fact that this redirects to another method, however, is an implementation detail and should be omitted. \r\n\r\nIdeally, users should only need to read the documentation of the method - that is what is displayed to them in most IDEs when deciding which method to use.\r\n\r\nJust copy the parts of the JavaDocs that are exactly the same, but be careful to note the differences. Each method documentation should clearly document the purpose of the method and the relevant pre- and post conditions (and that includes parameters and return values and possible exceptions).","title":"What is a good way to write a javadoc to a method that just redirects to another method?","body":"<p>As this is a public method, yes you should document parameters, return type and values and exceptions thrown (if any). The fact that this redirects to another method, however, is an implementation detail and should be omitted.</p>\n<p>Ideally, users should only need to read the documentation of the method - that is what is displayed to them in most IDEs when deciding which method to use.</p>\n<p>Just copy the parts of the JavaDocs that are exactly the same, but be careful to note the differences. Each method documentation should clearly document the purpose of the method and the relevant pre- and post conditions (and that includes parameters and return values and possible exceptions).</p>\n"}],"owner":{"account_id":25527077,"reputation":27,"user_id":19315928,"display_name":"kateryna_sm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1659093533,"creation_date":1659090694,"question_id":73165304,"body_markdown":"So, I am writing documentation for the code. I have lots of methods that just redirect input to another method, e.g.:\r\n\r\n```  \r\n  public static ObjectOutputStream openBinOut(String path) throws IOException {\r\nreturn openBinOut(new File(path));\r\n}\r\n```\r\n\r\nIntellij prompts to include ```@return``` etc., but I don&#39;t know if it makes sense. What would I put in this ```@return``` then?\r\n\r\nSo far I am writing the javadoc like this, but I have doubts. Should I really include ```@return``` if the overall description seems sufficient?\r\n\r\n```\r\n  /**\r\n   * Redirects to {@link #openBinOut(File path)}, hands on IOException\r\n   * @param path\r\n   * @throws IOException\r\n   */\r\n```\r\n","title":"What is a good way to write a javadoc to a method that just redirects to another method?","body":"<p>So, I am writing documentation for the code. I have lots of methods that just redirect input to another method, e.g.:</p>\n<pre><code>  public static ObjectOutputStream openBinOut(String path) throws IOException {\nreturn openBinOut(new File(path));\n}\n</code></pre>\n<p>Intellij prompts to include <code>@return</code> etc., but I don't know if it makes sense. What would I put in this <code>@return</code> then?</p>\n<p>So far I am writing the javadoc like this, but I have doubts. Should I really include <code>@return</code> if the overall description seems sufficient?</p>\n<pre><code>  /**\n   * Redirects to {@link #openBinOut(File path)}, hands on IOException\n   * @param path\n   * @throws IOException\n   */\n</code></pre>\n"},{"tags":["java","spring","database","hibernate","configuration"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659093009,"creation_date":1659093009,"answer_id":73165765,"question_id":73118118,"body_markdown":"Your second database is simply lacking a table that Hibernate needs to work correctly. You have to create that table if you want to use table based sequences, which is kind of the default.\r\n\r\nUsing `IDENTITY` is totally fine though as long as you don&#39;t insert thousands of records per second.","title":"Hibernate sequence does not exist error after adding second Database source","body":"<p>Your second database is simply lacking a table that Hibernate needs to work correctly. You have to create that table if you want to use table based sequences, which is kind of the default.</p>\n<p>Using <code>IDENTITY</code> is totally fine though as long as you don't insert thousands of records per second.</p>\n"}],"owner":{"account_id":18164218,"reputation":93,"user_id":13215111,"display_name":"Даяна Димитрова"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73165765,"answer_count":1,"score":0,"last_activity_date":1659093009,"creation_date":1658813332,"question_id":73118118,"body_markdown":"I face the following error after adding a second datasource in my project:\r\n\r\n    Table &#39;portal-titan.hibernate_sequence&#39; doesn&#39;t exist; error performing isolated work; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: error performing isolated work\r\n\r\nIt appears when I try to INSERT an object with type, including ***GenerationType.AUTO***. I am a bit confused because there are a lot of questions and discussions for this topic and I tried a lot, but I do not get the desired result. It starts working when I change the GenerationType to IDENTITY, but I read that this can lead to performance issues, which is not the desired result. Something more, I have ***use-new-id-generator-mappings: false*** in my hibernate properties in yml file, but this does not help solving the problem, too. \r\n\r\nHere it is my yml file:\r\n\r\n    management:\r\n      security:\r\n        roles: ADMIN\r\n      context-path: /management\r\n    \r\n    spring:\r\n      messages:\r\n        basename: i18n/messages\r\n      mvc:\r\n        favicon:\r\n          enabled: false\r\n      thymeleaf:\r\n        mode: XHTML\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: validate\r\n          use-new-id-generator-mappings: false\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.MySQLDialect\r\n            format-sql: true\r\n            physical_naming_strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\r\n            implicit_naming_strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n     \r\n    caching:\r\n      specs:\r\n        products:\r\n          timeout: 60\r\n        orders:\r\n          timeout: 60\r\n          max: 500\r\n        deliveries:\r\n          timeout: 120\r\n        tracking:\r\n          timeout: 1\r\n        admins:\r\n          timeout: 120\r\n        balance:\r\n          timeout: 120\r\n    \r\n    application:\r\n    \r\n      async:\r\n        core-pool-size: 2\r\n        max-pool-size: 50\r\n        queue-capacity: 1000\r\n    \r\n      jwt:\r\n        token-secret: secret-key\r\n        token-validity: PT6H\r\n        token-remember-me-validity: P7D\r\n    \r\n      default-language-tag: bg\r\n    \r\n      upload:\r\n        allowed-content-types:\r\n          - image/jpg\r\n          - image/jpeg\r\n          - image/png\r\n    \r\n      static-resource:\r\n        path: /static/\r\n    \r\n      jobs:\r\n        batch-size: 20\r\n \r\n    activity:\r\n      purge:\r\n        ttl-value: 90\r\n        ttl-unit: days\r\n        job-run-interval-value: 1\r\n        job-run-interval-unit: days\r\n\r\nHere it is how the entity which does now want to insert looks:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;comments&quot;)\r\n    public class Comment implements Serializable {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Integer id;\r\n    \r\n      @Column(nullable = false, unique = true)\r\n      private String uuid;\r\n    \r\n      @Column(nullable = false)\r\n      private String content;\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;delivery_id&quot;)\r\n      private Delivery delivery;\r\n    \r\n      @CreatedDate\r\n      @Column(name = &quot;created_at&quot;, nullable = false)\r\n      private Instant createdAt = Instant.now();\r\n    \r\n      @LastModifiedDate\r\n      @Column(name = &quot;updated_at&quot;, nullable = false)\r\n      private Instant updatedAt = Instant.now();\r\n    }\r\n\r\nAnd this is the method for inserting in the controller part:\r\n\r\n      @PostMapping(&quot;/{deliveryUuid}&quot;)\r\n      @ApiOperation(value = &quot;Submit a comment&quot;)\r\n      @ApiResponses(\r\n          value = {\r\n            @ApiResponse(code = 201, message = &quot;Comment created&quot;),\r\n            @ApiResponse(code = 400, message = &quot;Validation failed&quot;)\r\n          })\r\n      @PreAuthorize(&quot;hasRole(&#39;ROLE_CUSTOMER&#39;)&quot;)\r\n      @ResponseStatus(value = HttpStatus.CREATED)\r\n      public void submitComment(\r\n          @PathVariable(&quot;deliveryUuid&quot;) String deliveryUuid,\r\n          @Valid @RequestBody CommentDto commentDto,\r\n          @CurrentUser AuthUser principal) {\r\n        commentService.submitComment(commentDto, deliveryUuid, principal);\r\n      }\r\n\r\nBecause the error starter to appear after I configured second database, I am adding their code too. Comment entity is in the primary database. \r\n\r\n***Primary***:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaAuditing\r\n    @EntityScan(basePackageClasses = {TitanClientApp.class})\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;clientEntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;clientTransactionManager&quot;,\r\n            basePackages = { &quot;titan.client&quot; }\r\n    )\r\n    public class DbConfiguration {\r\n    \r\n        @Primary\r\n        @Bean(name=&quot;clientDataSource&quot;)\r\n        @ConfigurationProperties(prefix=&quot;spring.datasource.primary&quot;)\r\n        public DataSource clientDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;clientEntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean clientEntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                                                  @Qualifier(&quot;clientDataSource&quot;) DataSource clientDataSource) {\r\n            return builder\r\n                    .dataSource(clientDataSource)\r\n                    .packages(&quot;titan.client&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;clientTransactionManager&quot;)\r\n        public PlatformTransactionManager clientTransactionManager(\r\n                @Qualifier(&quot;clientEntityManagerFactory&quot;) EntityManagerFactory clientEntityManagerFactory) {\r\n            return new JpaTransactionManager(clientEntityManagerFactory);\r\n        }\r\n    }\r\n\r\n***Secondary***:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;gpsEntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;gpsTransactionManager&quot;,\r\n            basePackages = {&quot;titan.gps&quot;}\r\n    )\r\n    public class SecondaryDbConfiguration {\r\n    \r\n        @Bean(name = &quot;gpsDataSource&quot;)\r\n        @ConfigurationProperties(prefix = &quot;spring.datasource.secondary&quot;)\r\n        public DataSource gpsDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Bean(name = &quot;gpsEntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean gpsEntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                                              @Qualifier(&quot;gpsDataSource&quot;) DataSource gpsDataSource) {\r\n            return builder\r\n                    .dataSource(gpsDataSource)\r\n                    .packages(&quot;titan.gps&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(name = &quot;gpsTransactionManager&quot;)\r\n        public PlatformTransactionManager gpsTransactionManager(\r\n                @Qualifier(&quot;gpsEntityManagerFactory&quot;) EntityManagerFactory gpsEntityManagerFactory) {\r\n            return new JpaTransactionManager(gpsEntityManagerFactory);\r\n        }\r\n    }","title":"Hibernate sequence does not exist error after adding second Database source","body":"<p>I face the following error after adding a second datasource in my project:</p>\n<pre><code>Table 'portal-titan.hibernate_sequence' doesn't exist; error performing isolated work; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: error performing isolated work\n</code></pre>\n<p>It appears when I try to INSERT an object with type, including <em><strong>GenerationType.AUTO</strong></em>. I am a bit confused because there are a lot of questions and discussions for this topic and I tried a lot, but I do not get the desired result. It starts working when I change the GenerationType to IDENTITY, but I read that this can lead to performance issues, which is not the desired result. Something more, I have <em><strong>use-new-id-generator-mappings: false</strong></em> in my hibernate properties in yml file, but this does not help solving the problem, too.</p>\n<p>Here it is my yml file:</p>\n<pre><code>management:\n  security:\n    roles: ADMIN\n  context-path: /management\n\nspring:\n  messages:\n    basename: i18n/messages\n  mvc:\n    favicon:\n      enabled: false\n  thymeleaf:\n    mode: XHTML\n  jpa:\n    hibernate:\n      ddl-auto: validate\n      use-new-id-generator-mappings: false\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQLDialect\n        format-sql: true\n        physical_naming_strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n        implicit_naming_strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n \ncaching:\n  specs:\n    products:\n      timeout: 60\n    orders:\n      timeout: 60\n      max: 500\n    deliveries:\n      timeout: 120\n    tracking:\n      timeout: 1\n    admins:\n      timeout: 120\n    balance:\n      timeout: 120\n\napplication:\n\n  async:\n    core-pool-size: 2\n    max-pool-size: 50\n    queue-capacity: 1000\n\n  jwt:\n    token-secret: secret-key\n    token-validity: PT6H\n    token-remember-me-validity: P7D\n\n  default-language-tag: bg\n\n  upload:\n    allowed-content-types:\n      - image/jpg\n      - image/jpeg\n      - image/png\n\n  static-resource:\n    path: /static/\n\n  jobs:\n    batch-size: 20\n\nactivity:\n  purge:\n    ttl-value: 90\n    ttl-unit: days\n    job-run-interval-value: 1\n    job-run-interval-unit: days\n</code></pre>\n<p>Here it is how the entity which does now want to insert looks:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;comments&quot;)\npublic class Comment implements Serializable {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Integer id;\n\n  @Column(nullable = false, unique = true)\n  private String uuid;\n\n  @Column(nullable = false)\n  private String content;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;delivery_id&quot;)\n  private Delivery delivery;\n\n  @CreatedDate\n  @Column(name = &quot;created_at&quot;, nullable = false)\n  private Instant createdAt = Instant.now();\n\n  @LastModifiedDate\n  @Column(name = &quot;updated_at&quot;, nullable = false)\n  private Instant updatedAt = Instant.now();\n}\n</code></pre>\n<p>And this is the method for inserting in the controller part:</p>\n<pre><code>  @PostMapping(&quot;/{deliveryUuid}&quot;)\n  @ApiOperation(value = &quot;Submit a comment&quot;)\n  @ApiResponses(\n      value = {\n        @ApiResponse(code = 201, message = &quot;Comment created&quot;),\n        @ApiResponse(code = 400, message = &quot;Validation failed&quot;)\n      })\n  @PreAuthorize(&quot;hasRole('ROLE_CUSTOMER')&quot;)\n  @ResponseStatus(value = HttpStatus.CREATED)\n  public void submitComment(\n      @PathVariable(&quot;deliveryUuid&quot;) String deliveryUuid,\n      @Valid @RequestBody CommentDto commentDto,\n      @CurrentUser AuthUser principal) {\n    commentService.submitComment(commentDto, deliveryUuid, principal);\n  }\n</code></pre>\n<p>Because the error starter to appear after I configured second database, I am adding their code too. Comment entity is in the primary database.</p>\n<p><em><strong>Primary</strong></em>:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaAuditing\n@EntityScan(basePackageClasses = {TitanClientApp.class})\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;clientEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;clientTransactionManager&quot;,\n        basePackages = { &quot;titan.client&quot; }\n)\npublic class DbConfiguration {\n\n    @Primary\n    @Bean(name=&quot;clientDataSource&quot;)\n    @ConfigurationProperties(prefix=&quot;spring.datasource.primary&quot;)\n    public DataSource clientDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name = &quot;clientEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean clientEntityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                                              @Qualifier(&quot;clientDataSource&quot;) DataSource clientDataSource) {\n        return builder\n                .dataSource(clientDataSource)\n                .packages(&quot;titan.client&quot;)\n                .build();\n    }\n\n    @Primary\n    @Bean(name = &quot;clientTransactionManager&quot;)\n    public PlatformTransactionManager clientTransactionManager(\n            @Qualifier(&quot;clientEntityManagerFactory&quot;) EntityManagerFactory clientEntityManagerFactory) {\n        return new JpaTransactionManager(clientEntityManagerFactory);\n    }\n}\n</code></pre>\n<p><em><strong>Secondary</strong></em>:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;gpsEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;gpsTransactionManager&quot;,\n        basePackages = {&quot;titan.gps&quot;}\n)\npublic class SecondaryDbConfiguration {\n\n    @Bean(name = &quot;gpsDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource.secondary&quot;)\n    public DataSource gpsDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;gpsEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean gpsEntityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                                          @Qualifier(&quot;gpsDataSource&quot;) DataSource gpsDataSource) {\n        return builder\n                .dataSource(gpsDataSource)\n                .packages(&quot;titan.gps&quot;)\n                .build();\n    }\n\n    @Bean(name = &quot;gpsTransactionManager&quot;)\n    public PlatformTransactionManager gpsTransactionManager(\n            @Qualifier(&quot;gpsEntityManagerFactory&quot;) EntityManagerFactory gpsEntityManagerFactory) {\n        return new JpaTransactionManager(gpsEntityManagerFactory);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","transactions"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659092762,"creation_date":1659092762,"answer_id":73165708,"question_id":73116142,"body_markdown":"Hibernate will acquire the JDBC connection as late as possible. When you use `beginTransaction`, it has to acquire the connection.\r\nSimply creating a session does not immediately create a JDBC connection though, so a concurrent request that doesn&#39;t interact with the session in any way won&#39;t block.","title":"Hibernate 5 seems to use different connection pools for session with and without transactions","body":"<p>Hibernate will acquire the JDBC connection as late as possible. When you use <code>beginTransaction</code>, it has to acquire the connection.\nSimply creating a session does not immediately create a JDBC connection though, so a concurrent request that doesn't interact with the session in any way won't block.</p>\n"}],"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659092762,"creation_date":1658789894,"question_id":73116142,"body_markdown":"I am using hibernate 5.6 and I am observing an odd effect I don&#39;t Understand. For development I configured c3p0 with maximum number of connections set to 1, in order to detect missing close of sessions.\r\n\r\nTo test this, I added a Thread.sleep(15000) call just before I close each session, and as expected my website crawls to 1 request each 15 seconds, because each new page can&#39;t be shown, until the previous session was closed. So far so good.\r\n\r\nBut then something odd happens. I have a Servlet, which use the session object without calling beginTransaction() on the session. \r\n\r\nIf I insert a sleep(30000) call in this servlet after using the session, and just before I close the session the rest of my website does not hang. But If i start a new request to this servlet, this second request, will wait until the first request finishes.\r\n\r\nSo it is like hibernate does have 2 session pools. One for sessions which use transactions, and one for sessions which don&#39;t use transactions. Is this true, and described in the documentation?\r\n\r\nMy first thought was obviously, that I create 2 different sessionFactories, but logging shows the session factory is the same for all my servlets. And If i modify the servlet to start with a call to beginTransaction() it the rest of the site hangs until the session is closed.\r\n\r\nI am using Apache Tomcat and Hibernate, but I don&#39;t use Spring, and I have created the session factory object myself.\r\n\r\nThe relevant from my hibernate.cfg.xml file is:\r\n\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL82Dialect&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;1&lt;/property&gt;\r\n","title":"Hibernate 5 seems to use different connection pools for session with and without transactions","body":"<p>I am using hibernate 5.6 and I am observing an odd effect I don't Understand. For development I configured c3p0 with maximum number of connections set to 1, in order to detect missing close of sessions.</p>\n<p>To test this, I added a Thread.sleep(15000) call just before I close each session, and as expected my website crawls to 1 request each 15 seconds, because each new page can't be shown, until the previous session was closed. So far so good.</p>\n<p>But then something odd happens. I have a Servlet, which use the session object without calling beginTransaction() on the session.</p>\n<p>If I insert a sleep(30000) call in this servlet after using the session, and just before I close the session the rest of my website does not hang. But If i start a new request to this servlet, this second request, will wait until the first request finishes.</p>\n<p>So it is like hibernate does have 2 session pools. One for sessions which use transactions, and one for sessions which don't use transactions. Is this true, and described in the documentation?</p>\n<p>My first thought was obviously, that I create 2 different sessionFactories, but logging shows the session factory is the same for all my servlets. And If i modify the servlet to start with a call to beginTransaction() it the rest of the site hangs until the session is closed.</p>\n<p>I am using Apache Tomcat and Hibernate, but I don't use Spring, and I have created the session factory object myself.</p>\n<p>The relevant from my hibernate.cfg.xml file is:</p>\n<pre><code>&lt;session-factory&gt;\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL82Dialect&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n\n    &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;1&lt;/property&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8844,"page":1148,"page_size":100}
